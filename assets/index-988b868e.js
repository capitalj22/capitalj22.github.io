var fH=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var GOe=fH(($r,Ur)=>{function pH(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var fr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function WR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function mH(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Gm={},gH={get exports(){return Gm},set exports(t){Gm=t}},ov={},T={},vH={get exports(){return T},set exports(t){T=t}},it={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gd=Symbol.for("react.element"),yH=Symbol.for("react.portal"),bH=Symbol.for("react.fragment"),xH=Symbol.for("react.strict_mode"),wH=Symbol.for("react.profiler"),_H=Symbol.for("react.provider"),SH=Symbol.for("react.context"),EH=Symbol.for("react.forward_ref"),CH=Symbol.for("react.suspense"),TH=Symbol.for("react.memo"),AH=Symbol.for("react.lazy"),XA=Symbol.iterator;function PH(t){return t===null||typeof t!="object"?null:(t=XA&&t[XA]||t["@@iterator"],typeof t=="function"?t:null)}var GR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},VR=Object.assign,qR={};function gc(t,e,n){this.props=t,this.context=e,this.refs=qR,this.updater=n||GR}gc.prototype.isReactComponent={};gc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};gc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function XR(){}XR.prototype=gc.prototype;function x_(t,e,n){this.props=t,this.context=e,this.refs=qR,this.updater=n||GR}var w_=x_.prototype=new XR;w_.constructor=x_;VR(w_,gc.prototype);w_.isPureReactComponent=!0;var YA=Array.isArray,YR=Object.prototype.hasOwnProperty,__={current:null},KR={key:!0,ref:!0,__self:!0,__source:!0};function ZR(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)YR.call(e,r)&&!KR.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Gd,type:t,key:s,ref:o,props:i,_owner:__.current}}function kH(t,e){return{$$typeof:Gd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function S_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gd}function OH(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var KA=/\/+/g;function Y1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?OH(""+t.key):e.toString(36)}function mm(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Gd:case yH:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Y1(o,0):r,YA(i)?(n="",t!=null&&(n=t.replace(KA,"$&/")+"/"),mm(i,e,n,"",function(c){return c})):i!=null&&(S_(i)&&(i=kH(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(KA,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",YA(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Y1(s,a);o+=mm(s,e,n,l,i)}else if(l=PH(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Y1(s,a++),o+=mm(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function gp(t,e,n){if(t==null)return t;var r=[],i=0;return mm(t,r,"","",function(s){return e.call(n,s,i++)}),r}function IH(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rr={current:null},gm={transition:null},RH={ReactCurrentDispatcher:rr,ReactCurrentBatchConfig:gm,ReactCurrentOwner:__};it.Children={map:gp,forEach:function(t,e,n){gp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gp(t,function(){e++}),e},toArray:function(t){return gp(t,function(e){return e})||[]},only:function(t){if(!S_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};it.Component=gc;it.Fragment=bH;it.Profiler=wH;it.PureComponent=x_;it.StrictMode=xH;it.Suspense=CH;it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RH;it.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=VR({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=__.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)YR.call(e,l)&&!KR.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Gd,type:t.type,key:i,ref:s,props:r,_owner:o}};it.createContext=function(t){return t={$$typeof:SH,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:_H,_context:t},t.Consumer=t};it.createElement=ZR;it.createFactory=function(t){var e=ZR.bind(null,t);return e.type=t,e};it.createRef=function(){return{current:null}};it.forwardRef=function(t){return{$$typeof:EH,render:t}};it.isValidElement=S_;it.lazy=function(t){return{$$typeof:AH,_payload:{_status:-1,_result:t},_init:IH}};it.memo=function(t,e){return{$$typeof:TH,type:t,compare:e===void 0?null:e}};it.startTransition=function(t){var e=gm.transition;gm.transition={};try{t()}finally{gm.transition=e}};it.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};it.useCallback=function(t,e){return rr.current.useCallback(t,e)};it.useContext=function(t){return rr.current.useContext(t)};it.useDebugValue=function(){};it.useDeferredValue=function(t){return rr.current.useDeferredValue(t)};it.useEffect=function(t,e){return rr.current.useEffect(t,e)};it.useId=function(){return rr.current.useId()};it.useImperativeHandle=function(t,e,n){return rr.current.useImperativeHandle(t,e,n)};it.useInsertionEffect=function(t,e){return rr.current.useInsertionEffect(t,e)};it.useLayoutEffect=function(t,e){return rr.current.useLayoutEffect(t,e)};it.useMemo=function(t,e){return rr.current.useMemo(t,e)};it.useReducer=function(t,e,n){return rr.current.useReducer(t,e,n)};it.useRef=function(t){return rr.current.useRef(t)};it.useState=function(t){return rr.current.useState(t)};it.useSyncExternalStore=function(t,e,n){return rr.current.useSyncExternalStore(t,e,n)};it.useTransition=function(){return rr.current.useTransition()};it.version="18.2.0";(function(t){t.exports=it})(vH);const P=WR(T),ZA=pH({__proto__:null,default:P},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MH=T,FH=Symbol.for("react.element"),DH=Symbol.for("react.fragment"),LH=Object.prototype.hasOwnProperty,BH=MH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NH={key:!0,ref:!0,__self:!0,__source:!0};function QR(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)LH.call(e,r)&&!NH.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:FH,type:t,key:s,ref:o,props:i,_owner:BH.current}}ov.Fragment=DH;ov.jsx=QR;ov.jsxs=QR;(function(t){t.exports=ov})(gH);const k=Gm.jsx,J=Gm.jsxs;var Rb={},Jh={},$H={get exports(){return Jh},set exports(t){Jh=t}},Xr={},Mb={},UH={get exports(){return Mb},set exports(t){Mb=t}},JR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Z,le){var W=Z.length;Z.push(le);e:for(;0<W;){var R=W-1>>>1,D=Z[R];if(0<i(D,le))Z[R]=le,Z[W]=D,W=R;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var le=Z[0],W=Z.pop();if(W!==le){Z[0]=W;e:for(var R=0,D=Z.length,Q=D>>>1;R<Q;){var K=2*(R+1)-1,$=Z[K],ne=K+1,me=Z[ne];if(0>i($,W))ne<D&&0>i(me,$)?(Z[R]=me,Z[ne]=W,R=ne):(Z[R]=$,Z[K]=W,R=K);else if(ne<D&&0>i(me,W))Z[R]=me,Z[ne]=W,R=ne;else break e}}return le}function i(Z,le){var W=Z.sortIndex-le.sortIndex;return W!==0?W:Z.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,f=null,p=3,m=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(Z){for(var le=n(c);le!==null;){if(le.callback===null)r(c);else if(le.startTime<=Z)r(c),le.sortIndex=le.expirationTime,e(l,le);else break;le=n(c)}}function E(Z){if(y=!1,w(Z),!v)if(n(l)!==null)v=!0,ce(O);else{var le=n(c);le!==null&&te(E,le.startTime-Z)}}function O(Z,le){v=!1,y&&(y=!1,b(L),L=-1),m=!0;var W=p;try{for(w(le),f=n(l);f!==null&&(!(f.expirationTime>le)||Z&&!z());){var R=f.callback;if(typeof R=="function"){f.callback=null,p=f.priorityLevel;var D=R(f.expirationTime<=le);le=t.unstable_now(),typeof D=="function"?f.callback=D:f===n(l)&&r(l),w(le)}else r(l);f=n(l)}if(f!==null)var Q=!0;else{var K=n(c);K!==null&&te(E,K.startTime-le),Q=!1}return Q}finally{f=null,p=W,m=!1}}var A=!1,M=null,L=-1,H=5,G=-1;function z(){return!(t.unstable_now()-G<H)}function j(){if(M!==null){var Z=t.unstable_now();G=Z;var le=!0;try{le=M(!0,Z)}finally{le?X():(A=!1,M=null)}}else A=!1}var X;if(typeof _=="function")X=function(){_(j)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,he=V.port2;V.port1.onmessage=j,X=function(){he.postMessage(null)}}else X=function(){x(j,0)};function ce(Z){M=Z,A||(A=!0,X())}function te(Z,le){L=x(function(){Z(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,ce(O))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Z){switch(p){case 1:case 2:case 3:var le=3;break;default:le=p}var W=p;p=le;try{return Z()}finally{p=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,le){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var W=p;p=Z;try{return le()}finally{p=W}},t.unstable_scheduleCallback=function(Z,le,W){var R=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?R+W:R):W=R,Z){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=W+D,Z={id:h++,callback:le,priorityLevel:Z,startTime:W,expirationTime:D,sortIndex:-1},W>R?(Z.sortIndex=W,e(c,Z),n(l)===null&&Z===n(c)&&(y?(b(L),L=-1):y=!0,te(E,W-R))):(Z.sortIndex=D,e(l,Z),v||m||(v=!0,ce(O))),Z},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(Z){var le=p;return function(){var W=p;p=le;try{return Z.apply(this,arguments)}finally{p=W}}}})(JR);(function(t){t.exports=JR})(UH);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eM=T,Vr=Mb;function de(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tM=new Set,ed={};function gl(t,e){Vu(t,e),Vu(t+"Capture",e)}function Vu(t,e){for(ed[t]=e,t=0;t<e.length;t++)tM.add(e[t])}var ao=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fb=Object.prototype.hasOwnProperty,zH=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,QA={},JA={};function HH(t){return Fb.call(JA,t)?!0:Fb.call(QA,t)?!1:zH.test(t)?JA[t]=!0:(QA[t]=!0,!1)}function jH(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function WH(t,e,n,r){if(e===null||typeof e>"u"||jH(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ir(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ln={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ln[t]=new ir(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ln[e]=new ir(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ln[t]=new ir(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ln[t]=new ir(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ln[t]=new ir(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ln[t]=new ir(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ln[t]=new ir(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ln[t]=new ir(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ln[t]=new ir(t,5,!1,t.toLowerCase(),null,!1,!1)});var E_=/[\-:]([a-z])/g;function C_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(E_,C_);Ln[e]=new ir(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(E_,C_);Ln[e]=new ir(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(E_,C_);Ln[e]=new ir(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ln[t]=new ir(t,1,!1,t.toLowerCase(),null,!1,!1)});Ln.xlinkHref=new ir("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ln[t]=new ir(t,1,!1,t.toLowerCase(),null,!0,!0)});function T_(t,e,n,r){var i=Ln.hasOwnProperty(e)?Ln[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(WH(e,n,i,r)&&(n=null),r||i===null?HH(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var vo=eM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vp=Symbol.for("react.element"),bu=Symbol.for("react.portal"),xu=Symbol.for("react.fragment"),A_=Symbol.for("react.strict_mode"),Db=Symbol.for("react.profiler"),nM=Symbol.for("react.provider"),rM=Symbol.for("react.context"),P_=Symbol.for("react.forward_ref"),Lb=Symbol.for("react.suspense"),Bb=Symbol.for("react.suspense_list"),k_=Symbol.for("react.memo"),Lo=Symbol.for("react.lazy"),iM=Symbol.for("react.offscreen"),eP=Symbol.iterator;function Qc(t){return t===null||typeof t!="object"?null:(t=eP&&t[eP]||t["@@iterator"],typeof t=="function"?t:null)}var Kt=Object.assign,K1;function Sh(t){if(K1===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);K1=e&&e[1]||""}return`
`+K1+t}var Z1=!1;function Q1(t,e){if(!t||Z1)return"";Z1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Z1=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Sh(t):""}function GH(t){switch(t.tag){case 5:return Sh(t.type);case 16:return Sh("Lazy");case 13:return Sh("Suspense");case 19:return Sh("SuspenseList");case 0:case 2:case 15:return t=Q1(t.type,!1),t;case 11:return t=Q1(t.type.render,!1),t;case 1:return t=Q1(t.type,!0),t;default:return""}}function Nb(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xu:return"Fragment";case bu:return"Portal";case Db:return"Profiler";case A_:return"StrictMode";case Lb:return"Suspense";case Bb:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case rM:return(t.displayName||"Context")+".Consumer";case nM:return(t._context.displayName||"Context")+".Provider";case P_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case k_:return e=t.displayName||null,e!==null?e:Nb(t.type)||"Memo";case Lo:e=t._payload,t=t._init;try{return Nb(t(e))}catch{}}return null}function VH(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nb(e);case 8:return e===A_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ta(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sM(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qH(t){var e=sM(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yp(t){t._valueTracker||(t._valueTracker=qH(t))}function oM(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=sM(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Vm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $b(t,e){var n=e.checked;return Kt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function tP(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ta(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function aM(t,e){e=e.checked,e!=null&&T_(t,"checked",e,!1)}function Ub(t,e){aM(t,e);var n=ta(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zb(t,e.type,n):e.hasOwnProperty("defaultValue")&&zb(t,e.type,ta(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function nP(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function zb(t,e,n){(e!=="number"||Vm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Eh=Array.isArray;function Ru(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ta(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Hb(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(de(91));return Kt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rP(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(de(92));if(Eh(n)){if(1<n.length)throw Error(de(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ta(n)}}function lM(t,e){var n=ta(e.value),r=ta(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function iP(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function uM(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jb(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?uM(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bp,cM=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bp=bp||document.createElement("div"),bp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function td(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var $h={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XH=["Webkit","ms","Moz","O"];Object.keys($h).forEach(function(t){XH.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$h[e]=$h[t]})});function hM(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||$h.hasOwnProperty(t)&&$h[t]?(""+e).trim():e+"px"}function dM(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=hM(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var YH=Kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wb(t,e){if(e){if(YH[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(de(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(de(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(de(61))}if(e.style!=null&&typeof e.style!="object")throw Error(de(62))}}function Gb(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vb=null;function O_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qb=null,Mu=null,Fu=null;function sP(t){if(t=Xd(t)){if(typeof qb!="function")throw Error(de(280));var e=t.stateNode;e&&(e=hv(e),qb(t.stateNode,t.type,e))}}function fM(t){Mu?Fu?Fu.push(t):Fu=[t]:Mu=t}function pM(){if(Mu){var t=Mu,e=Fu;if(Fu=Mu=null,sP(t),e)for(t=0;t<e.length;t++)sP(e[t])}}function mM(t,e){return t(e)}function gM(){}var J1=!1;function vM(t,e,n){if(J1)return t(e,n);J1=!0;try{return mM(t,e,n)}finally{J1=!1,(Mu!==null||Fu!==null)&&(gM(),pM())}}function nd(t,e){var n=t.stateNode;if(n===null)return null;var r=hv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(de(231,e,typeof n));return n}var Xb=!1;if(ao)try{var Jc={};Object.defineProperty(Jc,"passive",{get:function(){Xb=!0}}),window.addEventListener("test",Jc,Jc),window.removeEventListener("test",Jc,Jc)}catch{Xb=!1}function KH(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Uh=!1,qm=null,Xm=!1,Yb=null,ZH={onError:function(t){Uh=!0,qm=t}};function QH(t,e,n,r,i,s,o,a,l){Uh=!1,qm=null,KH.apply(ZH,arguments)}function JH(t,e,n,r,i,s,o,a,l){if(QH.apply(this,arguments),Uh){if(Uh){var c=qm;Uh=!1,qm=null}else throw Error(de(198));Xm||(Xm=!0,Yb=c)}}function vl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function yM(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function oP(t){if(vl(t)!==t)throw Error(de(188))}function ej(t){var e=t.alternate;if(!e){if(e=vl(t),e===null)throw Error(de(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return oP(i),t;if(s===r)return oP(i),e;s=s.sibling}throw Error(de(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(de(189))}}if(n.alternate!==r)throw Error(de(190))}if(n.tag!==3)throw Error(de(188));return n.stateNode.current===n?t:e}function bM(t){return t=ej(t),t!==null?xM(t):null}function xM(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=xM(t);if(e!==null)return e;t=t.sibling}return null}var wM=Vr.unstable_scheduleCallback,aP=Vr.unstable_cancelCallback,tj=Vr.unstable_shouldYield,nj=Vr.unstable_requestPaint,an=Vr.unstable_now,rj=Vr.unstable_getCurrentPriorityLevel,I_=Vr.unstable_ImmediatePriority,_M=Vr.unstable_UserBlockingPriority,Ym=Vr.unstable_NormalPriority,ij=Vr.unstable_LowPriority,SM=Vr.unstable_IdlePriority,av=null,ks=null;function sj(t){if(ks&&typeof ks.onCommitFiberRoot=="function")try{ks.onCommitFiberRoot(av,t,void 0,(t.current.flags&128)===128)}catch{}}var Zi=Math.clz32?Math.clz32:lj,oj=Math.log,aj=Math.LN2;function lj(t){return t>>>=0,t===0?32:31-(oj(t)/aj|0)|0}var xp=64,wp=4194304;function Ch(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Km(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ch(a):(s&=o,s!==0&&(r=Ch(s)))}else o=n&~i,o!==0?r=Ch(o):s!==0&&(r=Ch(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Zi(e),i=1<<n,r|=t[n],e&=~i;return r}function uj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cj(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Zi(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=uj(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Kb(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function EM(){var t=xp;return xp<<=1,!(xp&4194240)&&(xp=64),t}function ey(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zi(e),t[e]=n}function hj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Zi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function R_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Zi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var wt=0;function CM(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var TM,M_,AM,PM,kM,Zb=!1,_p=[],Go=null,Vo=null,qo=null,rd=new Map,id=new Map,$o=[],dj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lP(t,e){switch(t){case"focusin":case"focusout":Go=null;break;case"dragenter":case"dragleave":Vo=null;break;case"mouseover":case"mouseout":qo=null;break;case"pointerover":case"pointerout":rd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":id.delete(e.pointerId)}}function eh(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Xd(e),e!==null&&M_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function fj(t,e,n,r,i){switch(e){case"focusin":return Go=eh(Go,t,e,n,r,i),!0;case"dragenter":return Vo=eh(Vo,t,e,n,r,i),!0;case"mouseover":return qo=eh(qo,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return rd.set(s,eh(rd.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,id.set(s,eh(id.get(s)||null,t,e,n,r,i)),!0}return!1}function OM(t){var e=Ua(t.target);if(e!==null){var n=vl(e);if(n!==null){if(e=n.tag,e===13){if(e=yM(n),e!==null){t.blockedOn=e,kM(t.priority,function(){AM(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qb(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Vb=r,n.target.dispatchEvent(r),Vb=null}else return e=Xd(n),e!==null&&M_(e),t.blockedOn=n,!1;e.shift()}return!0}function uP(t,e,n){vm(t)&&n.delete(e)}function pj(){Zb=!1,Go!==null&&vm(Go)&&(Go=null),Vo!==null&&vm(Vo)&&(Vo=null),qo!==null&&vm(qo)&&(qo=null),rd.forEach(uP),id.forEach(uP)}function th(t,e){t.blockedOn===e&&(t.blockedOn=null,Zb||(Zb=!0,Vr.unstable_scheduleCallback(Vr.unstable_NormalPriority,pj)))}function sd(t){function e(i){return th(i,t)}if(0<_p.length){th(_p[0],t);for(var n=1;n<_p.length;n++){var r=_p[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Go!==null&&th(Go,t),Vo!==null&&th(Vo,t),qo!==null&&th(qo,t),rd.forEach(e),id.forEach(e),n=0;n<$o.length;n++)r=$o[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<$o.length&&(n=$o[0],n.blockedOn===null);)OM(n),n.blockedOn===null&&$o.shift()}var Du=vo.ReactCurrentBatchConfig,Zm=!0;function mj(t,e,n,r){var i=wt,s=Du.transition;Du.transition=null;try{wt=1,F_(t,e,n,r)}finally{wt=i,Du.transition=s}}function gj(t,e,n,r){var i=wt,s=Du.transition;Du.transition=null;try{wt=4,F_(t,e,n,r)}finally{wt=i,Du.transition=s}}function F_(t,e,n,r){if(Zm){var i=Qb(t,e,n,r);if(i===null)cy(t,e,r,Qm,n),lP(t,r);else if(fj(i,t,e,n,r))r.stopPropagation();else if(lP(t,r),e&4&&-1<dj.indexOf(t)){for(;i!==null;){var s=Xd(i);if(s!==null&&TM(s),s=Qb(t,e,n,r),s===null&&cy(t,e,r,Qm,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else cy(t,e,r,null,n)}}var Qm=null;function Qb(t,e,n,r){if(Qm=null,t=O_(r),t=Ua(t),t!==null)if(e=vl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=yM(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qm=t,null}function IM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rj()){case I_:return 1;case _M:return 4;case Ym:case ij:return 16;case SM:return 536870912;default:return 16}default:return 16}}var zo=null,D_=null,ym=null;function RM(){if(ym)return ym;var t,e=D_,n=e.length,r,i="value"in zo?zo.value:zo.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ym=i.slice(t,1<r?1-r:void 0)}function bm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Sp(){return!0}function cP(){return!1}function Yr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Sp:cP,this.isPropagationStopped=cP,this}return Kt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sp)},persist:function(){},isPersistent:Sp}),e}var vc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},L_=Yr(vc),qd=Kt({},vc,{view:0,detail:0}),vj=Yr(qd),ty,ny,nh,lv=Kt({},qd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:B_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nh&&(nh&&t.type==="mousemove"?(ty=t.screenX-nh.screenX,ny=t.screenY-nh.screenY):ny=ty=0,nh=t),ty)},movementY:function(t){return"movementY"in t?t.movementY:ny}}),hP=Yr(lv),yj=Kt({},lv,{dataTransfer:0}),bj=Yr(yj),xj=Kt({},qd,{relatedTarget:0}),ry=Yr(xj),wj=Kt({},vc,{animationName:0,elapsedTime:0,pseudoElement:0}),_j=Yr(wj),Sj=Kt({},vc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ej=Yr(Sj),Cj=Kt({},vc,{data:0}),dP=Yr(Cj),Tj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Aj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Pj[t])?!!e[t]:!1}function B_(){return kj}var Oj=Kt({},qd,{key:function(t){if(t.key){var e=Tj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=bm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Aj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:B_,charCode:function(t){return t.type==="keypress"?bm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ij=Yr(Oj),Rj=Kt({},lv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fP=Yr(Rj),Mj=Kt({},qd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:B_}),Fj=Yr(Mj),Dj=Kt({},vc,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lj=Yr(Dj),Bj=Kt({},lv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Nj=Yr(Bj),$j=[9,13,27,32],N_=ao&&"CompositionEvent"in window,zh=null;ao&&"documentMode"in document&&(zh=document.documentMode);var Uj=ao&&"TextEvent"in window&&!zh,MM=ao&&(!N_||zh&&8<zh&&11>=zh),pP=String.fromCharCode(32),mP=!1;function FM(t,e){switch(t){case"keyup":return $j.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wu=!1;function zj(t,e){switch(t){case"compositionend":return DM(e);case"keypress":return e.which!==32?null:(mP=!0,pP);case"textInput":return t=e.data,t===pP&&mP?null:t;default:return null}}function Hj(t,e){if(wu)return t==="compositionend"||!N_&&FM(t,e)?(t=RM(),ym=D_=zo=null,wu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return MM&&e.locale!=="ko"?null:e.data;default:return null}}var jj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!jj[t.type]:e==="textarea"}function LM(t,e,n,r){fM(r),e=Jm(e,"onChange"),0<e.length&&(n=new L_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Hh=null,od=null;function Wj(t){qM(t,0)}function uv(t){var e=Eu(t);if(oM(e))return t}function Gj(t,e){if(t==="change")return e}var BM=!1;if(ao){var iy;if(ao){var sy="oninput"in document;if(!sy){var vP=document.createElement("div");vP.setAttribute("oninput","return;"),sy=typeof vP.oninput=="function"}iy=sy}else iy=!1;BM=iy&&(!document.documentMode||9<document.documentMode)}function yP(){Hh&&(Hh.detachEvent("onpropertychange",NM),od=Hh=null)}function NM(t){if(t.propertyName==="value"&&uv(od)){var e=[];LM(e,od,t,O_(t)),vM(Wj,e)}}function Vj(t,e,n){t==="focusin"?(yP(),Hh=e,od=n,Hh.attachEvent("onpropertychange",NM)):t==="focusout"&&yP()}function qj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return uv(od)}function Xj(t,e){if(t==="click")return uv(e)}function Yj(t,e){if(t==="input"||t==="change")return uv(e)}function Kj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var is=typeof Object.is=="function"?Object.is:Kj;function ad(t,e){if(is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Fb.call(e,i)||!is(t[i],e[i]))return!1}return!0}function bP(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xP(t,e){var n=bP(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bP(n)}}function $M(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$M(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function UM(){for(var t=window,e=Vm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Vm(t.document)}return e}function $_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Zj(t){var e=UM(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&$M(n.ownerDocument.documentElement,n)){if(r!==null&&$_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=xP(n,s);var o=xP(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Qj=ao&&"documentMode"in document&&11>=document.documentMode,_u=null,Jb=null,jh=null,ex=!1;function wP(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ex||_u==null||_u!==Vm(r)||(r=_u,"selectionStart"in r&&$_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),jh&&ad(jh,r)||(jh=r,r=Jm(Jb,"onSelect"),0<r.length&&(e=new L_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_u)))}function Ep(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Su={animationend:Ep("Animation","AnimationEnd"),animationiteration:Ep("Animation","AnimationIteration"),animationstart:Ep("Animation","AnimationStart"),transitionend:Ep("Transition","TransitionEnd")},oy={},zM={};ao&&(zM=document.createElement("div").style,"AnimationEvent"in window||(delete Su.animationend.animation,delete Su.animationiteration.animation,delete Su.animationstart.animation),"TransitionEvent"in window||delete Su.transitionend.transition);function cv(t){if(oy[t])return oy[t];if(!Su[t])return t;var e=Su[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in zM)return oy[t]=e[n];return t}var HM=cv("animationend"),jM=cv("animationiteration"),WM=cv("animationstart"),GM=cv("transitionend"),VM=new Map,_P="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function la(t,e){VM.set(t,e),gl(e,[t])}for(var ay=0;ay<_P.length;ay++){var ly=_P[ay],Jj=ly.toLowerCase(),eW=ly[0].toUpperCase()+ly.slice(1);la(Jj,"on"+eW)}la(HM,"onAnimationEnd");la(jM,"onAnimationIteration");la(WM,"onAnimationStart");la("dblclick","onDoubleClick");la("focusin","onFocus");la("focusout","onBlur");la(GM,"onTransitionEnd");Vu("onMouseEnter",["mouseout","mouseover"]);Vu("onMouseLeave",["mouseout","mouseover"]);Vu("onPointerEnter",["pointerout","pointerover"]);Vu("onPointerLeave",["pointerout","pointerover"]);gl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gl("onBeforeInput",["compositionend","keypress","textInput","paste"]);gl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Th="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tW=new Set("cancel close invalid load scroll toggle".split(" ").concat(Th));function SP(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,JH(r,e,void 0,t),t.currentTarget=null}function qM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;SP(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;SP(i,a,c),s=l}}}if(Xm)throw t=Yb,Xm=!1,Yb=null,t}function Mt(t,e){var n=e[sx];n===void 0&&(n=e[sx]=new Set);var r=t+"__bubble";n.has(r)||(XM(e,t,2,!1),n.add(r))}function uy(t,e,n){var r=0;e&&(r|=4),XM(n,t,r,e)}var Cp="_reactListening"+Math.random().toString(36).slice(2);function ld(t){if(!t[Cp]){t[Cp]=!0,tM.forEach(function(n){n!=="selectionchange"&&(tW.has(n)||uy(n,!1,t),uy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Cp]||(e[Cp]=!0,uy("selectionchange",!1,e))}}function XM(t,e,n,r){switch(IM(e)){case 1:var i=mj;break;case 4:i=gj;break;default:i=F_}n=i.bind(null,e,n,t),i=void 0,!Xb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function cy(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ua(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}vM(function(){var c=s,h=O_(n),f=[];e:{var p=VM.get(t);if(p!==void 0){var m=L_,v=t;switch(t){case"keypress":if(bm(n)===0)break e;case"keydown":case"keyup":m=Ij;break;case"focusin":v="focus",m=ry;break;case"focusout":v="blur",m=ry;break;case"beforeblur":case"afterblur":m=ry;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=hP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=bj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Fj;break;case HM:case jM:case WM:m=_j;break;case GM:m=Lj;break;case"scroll":m=vj;break;case"wheel":m=Nj;break;case"copy":case"cut":case"paste":m=Ej;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=fP}var y=(e&4)!==0,x=!y&&t==="scroll",b=y?p!==null?p+"Capture":null:p;y=[];for(var _=c,w;_!==null;){w=_;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,b!==null&&(E=nd(_,b),E!=null&&y.push(ud(_,E,w)))),x)break;_=_.return}0<y.length&&(p=new m(p,v,null,n,h),f.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==Vb&&(v=n.relatedTarget||n.fromElement)&&(Ua(v)||v[lo]))break e;if((m||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?Ua(v):null,v!==null&&(x=vl(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(y=hP,E="onMouseLeave",b="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(y=fP,E="onPointerLeave",b="onPointerEnter",_="pointer"),x=m==null?p:Eu(m),w=v==null?p:Eu(v),p=new y(E,_+"leave",m,n,h),p.target=x,p.relatedTarget=w,E=null,Ua(h)===c&&(y=new y(b,_+"enter",v,n,h),y.target=w,y.relatedTarget=x,E=y),x=E,m&&v)t:{for(y=m,b=v,_=0,w=y;w;w=zl(w))_++;for(w=0,E=b;E;E=zl(E))w++;for(;0<_-w;)y=zl(y),_--;for(;0<w-_;)b=zl(b),w--;for(;_--;){if(y===b||b!==null&&y===b.alternate)break t;y=zl(y),b=zl(b)}y=null}else y=null;m!==null&&EP(f,p,m,y,!1),v!==null&&x!==null&&EP(f,x,v,y,!0)}}e:{if(p=c?Eu(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var O=Gj;else if(gP(p))if(BM)O=Yj;else{O=qj;var A=Vj}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=Xj);if(O&&(O=O(t,c))){LM(f,O,n,h);break e}A&&A(t,p,c),t==="focusout"&&(A=p._wrapperState)&&A.controlled&&p.type==="number"&&zb(p,"number",p.value)}switch(A=c?Eu(c):window,t){case"focusin":(gP(A)||A.contentEditable==="true")&&(_u=A,Jb=c,jh=null);break;case"focusout":jh=Jb=_u=null;break;case"mousedown":ex=!0;break;case"contextmenu":case"mouseup":case"dragend":ex=!1,wP(f,n,h);break;case"selectionchange":if(Qj)break;case"keydown":case"keyup":wP(f,n,h)}var M;if(N_)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else wu?FM(t,n)&&(L="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(MM&&n.locale!=="ko"&&(wu||L!=="onCompositionStart"?L==="onCompositionEnd"&&wu&&(M=RM()):(zo=h,D_="value"in zo?zo.value:zo.textContent,wu=!0)),A=Jm(c,L),0<A.length&&(L=new dP(L,t,null,n,h),f.push({event:L,listeners:A}),M?L.data=M:(M=DM(n),M!==null&&(L.data=M)))),(M=Uj?zj(t,n):Hj(t,n))&&(c=Jm(c,"onBeforeInput"),0<c.length&&(h=new dP("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=M))}qM(f,e)})}function ud(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Jm(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=nd(t,n),s!=null&&r.unshift(ud(t,s,i)),s=nd(t,e),s!=null&&r.push(ud(t,s,i))),t=t.return}return r}function zl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function EP(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=nd(n,s),l!=null&&o.unshift(ud(n,l,a))):i||(l=nd(n,s),l!=null&&o.push(ud(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var nW=/\r\n?/g,rW=/\u0000|\uFFFD/g;function CP(t){return(typeof t=="string"?t:""+t).replace(nW,`
`).replace(rW,"")}function Tp(t,e,n){if(e=CP(e),CP(t)!==e&&n)throw Error(de(425))}function eg(){}var tx=null,nx=null;function rx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ix=typeof setTimeout=="function"?setTimeout:void 0,iW=typeof clearTimeout=="function"?clearTimeout:void 0,TP=typeof Promise=="function"?Promise:void 0,sW=typeof queueMicrotask=="function"?queueMicrotask:typeof TP<"u"?function(t){return TP.resolve(null).then(t).catch(oW)}:ix;function oW(t){setTimeout(function(){throw t})}function hy(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),sd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);sd(e)}function Xo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function AP(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var yc=Math.random().toString(36).slice(2),Es="__reactFiber$"+yc,cd="__reactProps$"+yc,lo="__reactContainer$"+yc,sx="__reactEvents$"+yc,aW="__reactListeners$"+yc,lW="__reactHandles$"+yc;function Ua(t){var e=t[Es];if(e)return e;for(var n=t.parentNode;n;){if(e=n[lo]||n[Es]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=AP(t);t!==null;){if(n=t[Es])return n;t=AP(t)}return e}t=n,n=t.parentNode}return null}function Xd(t){return t=t[Es]||t[lo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Eu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(de(33))}function hv(t){return t[cd]||null}var ox=[],Cu=-1;function ua(t){return{current:t}}function Bt(t){0>Cu||(t.current=ox[Cu],ox[Cu]=null,Cu--)}function Ot(t,e){Cu++,ox[Cu]=t.current,t.current=e}var na={},Wn=ua(na),mr=ua(!1),tl=na;function qu(t,e){var n=t.type.contextTypes;if(!n)return na;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function gr(t){return t=t.childContextTypes,t!=null}function tg(){Bt(mr),Bt(Wn)}function PP(t,e,n){if(Wn.current!==na)throw Error(de(168));Ot(Wn,e),Ot(mr,n)}function YM(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(de(108,VH(t)||"Unknown",i));return Kt({},n,r)}function ng(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||na,tl=Wn.current,Ot(Wn,t),Ot(mr,mr.current),!0}function kP(t,e,n){var r=t.stateNode;if(!r)throw Error(de(169));n?(t=YM(t,e,tl),r.__reactInternalMemoizedMergedChildContext=t,Bt(mr),Bt(Wn),Ot(Wn,t)):Bt(mr),Ot(mr,n)}var Js=null,dv=!1,dy=!1;function KM(t){Js===null?Js=[t]:Js.push(t)}function uW(t){dv=!0,KM(t)}function ca(){if(!dy&&Js!==null){dy=!0;var t=0,e=wt;try{var n=Js;for(wt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Js=null,dv=!1}catch(i){throw Js!==null&&(Js=Js.slice(t+1)),wM(I_,ca),i}finally{wt=e,dy=!1}}return null}var Tu=[],Au=0,rg=null,ig=0,li=[],ui=0,nl=null,to=1,no="";function Ia(t,e){Tu[Au++]=ig,Tu[Au++]=rg,rg=t,ig=e}function ZM(t,e,n){li[ui++]=to,li[ui++]=no,li[ui++]=nl,nl=t;var r=to;t=no;var i=32-Zi(r)-1;r&=~(1<<i),n+=1;var s=32-Zi(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,to=1<<32-Zi(e)+i|n<<i|r,no=s+t}else to=1<<s|n<<i|r,no=t}function U_(t){t.return!==null&&(Ia(t,1),ZM(t,1,0))}function z_(t){for(;t===rg;)rg=Tu[--Au],Tu[Au]=null,ig=Tu[--Au],Tu[Au]=null;for(;t===nl;)nl=li[--ui],li[ui]=null,no=li[--ui],li[ui]=null,to=li[--ui],li[ui]=null}var zr=null,Lr=null,jt=!1,Gi=null;function QM(t,e){var n=pi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function OP(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zr=t,Lr=Xo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zr=t,Lr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=nl!==null?{id:to,overflow:no}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=pi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,zr=t,Lr=null,!0):!1;default:return!1}}function ax(t){return(t.mode&1)!==0&&(t.flags&128)===0}function lx(t){if(jt){var e=Lr;if(e){var n=e;if(!OP(t,e)){if(ax(t))throw Error(de(418));e=Xo(n.nextSibling);var r=zr;e&&OP(t,e)?QM(r,n):(t.flags=t.flags&-4097|2,jt=!1,zr=t)}}else{if(ax(t))throw Error(de(418));t.flags=t.flags&-4097|2,jt=!1,zr=t}}}function IP(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zr=t}function Ap(t){if(t!==zr)return!1;if(!jt)return IP(t),jt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!rx(t.type,t.memoizedProps)),e&&(e=Lr)){if(ax(t))throw JM(),Error(de(418));for(;e;)QM(t,e),e=Xo(e.nextSibling)}if(IP(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(de(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Lr=Xo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Lr=null}}else Lr=zr?Xo(t.stateNode.nextSibling):null;return!0}function JM(){for(var t=Lr;t;)t=Xo(t.nextSibling)}function Xu(){Lr=zr=null,jt=!1}function H_(t){Gi===null?Gi=[t]:Gi.push(t)}var cW=vo.ReactCurrentBatchConfig;function ji(t,e){if(t&&t.defaultProps){e=Kt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var sg=ua(null),og=null,Pu=null,j_=null;function W_(){j_=Pu=og=null}function G_(t){var e=sg.current;Bt(sg),t._currentValue=e}function ux(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Lu(t,e){og=t,j_=Pu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pr=!0),t.firstContext=null)}function wi(t){var e=t._currentValue;if(j_!==t)if(t={context:t,memoizedValue:e,next:null},Pu===null){if(og===null)throw Error(de(308));Pu=t,og.dependencies={lanes:0,firstContext:t}}else Pu=Pu.next=t;return e}var za=null;function V_(t){za===null?za=[t]:za.push(t)}function e4(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,V_(e)):(n.next=i.next,i.next=n),e.interleaved=n,uo(t,r)}function uo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Bo=!1;function q_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function t4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function io(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Yo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ct&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,uo(t,n)}return i=r.interleaved,i===null?(e.next=e,V_(r)):(e.next=i.next,i.next=e),r.interleaved=e,uo(t,n)}function xm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,R_(t,n)}}function RP(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ag(t,e,n,r){var i=t.updateQueue;Bo=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,h=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,y=a;switch(p=e,m=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(m,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,p=typeof v=="function"?v.call(m,f,p):v,p==null)break e;f=Kt({},f,p);break e;case 2:Bo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=m,l=f):h=h.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);il|=o,t.lanes=o,t.memoizedState=f}}function MP(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(de(191,i));i.call(r)}}}var n4=new eM.Component().refs;function cx(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Kt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var fv={isMounted:function(t){return(t=t._reactInternals)?vl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Jn(),i=Zo(t),s=io(r,i);s.payload=e,n!=null&&(s.callback=n),e=Yo(t,s,i),e!==null&&(Qi(e,t,i,r),xm(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Jn(),i=Zo(t),s=io(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Yo(t,s,i),e!==null&&(Qi(e,t,i,r),xm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Jn(),r=Zo(t),i=io(n,r);i.tag=2,e!=null&&(i.callback=e),e=Yo(t,i,r),e!==null&&(Qi(e,t,r,n),xm(e,t,r))}};function FP(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ad(n,r)||!ad(i,s):!0}function r4(t,e,n){var r=!1,i=na,s=e.contextType;return typeof s=="object"&&s!==null?s=wi(s):(i=gr(e)?tl:Wn.current,r=e.contextTypes,s=(r=r!=null)?qu(t,i):na),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=fv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function DP(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&fv.enqueueReplaceState(e,e.state,null)}function hx(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=n4,q_(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=wi(s):(s=gr(e)?tl:Wn.current,i.context=qu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(cx(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&fv.enqueueReplaceState(i,i.state,null),ag(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function rh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(de(309));var r=n.stateNode}if(!r)throw Error(de(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===n4&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(de(284));if(!n._owner)throw Error(de(290,t))}return t}function Pp(t,e){throw t=Object.prototype.toString.call(e),Error(de(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function LP(t){var e=t._init;return e(t._payload)}function i4(t){function e(b,_){if(t){var w=b.deletions;w===null?(b.deletions=[_],b.flags|=16):w.push(_)}}function n(b,_){if(!t)return null;for(;_!==null;)e(b,_),_=_.sibling;return null}function r(b,_){for(b=new Map;_!==null;)_.key!==null?b.set(_.key,_):b.set(_.index,_),_=_.sibling;return b}function i(b,_){return b=Qo(b,_),b.index=0,b.sibling=null,b}function s(b,_,w){return b.index=w,t?(w=b.alternate,w!==null?(w=w.index,w<_?(b.flags|=2,_):w):(b.flags|=2,_)):(b.flags|=1048576,_)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,_,w,E){return _===null||_.tag!==6?(_=by(w,b.mode,E),_.return=b,_):(_=i(_,w),_.return=b,_)}function l(b,_,w,E){var O=w.type;return O===xu?h(b,_,w.props.children,E,w.key):_!==null&&(_.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Lo&&LP(O)===_.type)?(E=i(_,w.props),E.ref=rh(b,_,w),E.return=b,E):(E=Tm(w.type,w.key,w.props,null,b.mode,E),E.ref=rh(b,_,w),E.return=b,E)}function c(b,_,w,E){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=xy(w,b.mode,E),_.return=b,_):(_=i(_,w.children||[]),_.return=b,_)}function h(b,_,w,E,O){return _===null||_.tag!==7?(_=Xa(w,b.mode,E,O),_.return=b,_):(_=i(_,w),_.return=b,_)}function f(b,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=by(""+_,b.mode,w),_.return=b,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case vp:return w=Tm(_.type,_.key,_.props,null,b.mode,w),w.ref=rh(b,null,_),w.return=b,w;case bu:return _=xy(_,b.mode,w),_.return=b,_;case Lo:var E=_._init;return f(b,E(_._payload),w)}if(Eh(_)||Qc(_))return _=Xa(_,b.mode,w,null),_.return=b,_;Pp(b,_)}return null}function p(b,_,w,E){var O=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return O!==null?null:a(b,_,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case vp:return w.key===O?l(b,_,w,E):null;case bu:return w.key===O?c(b,_,w,E):null;case Lo:return O=w._init,p(b,_,O(w._payload),E)}if(Eh(w)||Qc(w))return O!==null?null:h(b,_,w,E,null);Pp(b,w)}return null}function m(b,_,w,E,O){if(typeof E=="string"&&E!==""||typeof E=="number")return b=b.get(w)||null,a(_,b,""+E,O);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case vp:return b=b.get(E.key===null?w:E.key)||null,l(_,b,E,O);case bu:return b=b.get(E.key===null?w:E.key)||null,c(_,b,E,O);case Lo:var A=E._init;return m(b,_,w,A(E._payload),O)}if(Eh(E)||Qc(E))return b=b.get(w)||null,h(_,b,E,O,null);Pp(_,E)}return null}function v(b,_,w,E){for(var O=null,A=null,M=_,L=_=0,H=null;M!==null&&L<w.length;L++){M.index>L?(H=M,M=null):H=M.sibling;var G=p(b,M,w[L],E);if(G===null){M===null&&(M=H);break}t&&M&&G.alternate===null&&e(b,M),_=s(G,_,L),A===null?O=G:A.sibling=G,A=G,M=H}if(L===w.length)return n(b,M),jt&&Ia(b,L),O;if(M===null){for(;L<w.length;L++)M=f(b,w[L],E),M!==null&&(_=s(M,_,L),A===null?O=M:A.sibling=M,A=M);return jt&&Ia(b,L),O}for(M=r(b,M);L<w.length;L++)H=m(M,b,L,w[L],E),H!==null&&(t&&H.alternate!==null&&M.delete(H.key===null?L:H.key),_=s(H,_,L),A===null?O=H:A.sibling=H,A=H);return t&&M.forEach(function(z){return e(b,z)}),jt&&Ia(b,L),O}function y(b,_,w,E){var O=Qc(w);if(typeof O!="function")throw Error(de(150));if(w=O.call(w),w==null)throw Error(de(151));for(var A=O=null,M=_,L=_=0,H=null,G=w.next();M!==null&&!G.done;L++,G=w.next()){M.index>L?(H=M,M=null):H=M.sibling;var z=p(b,M,G.value,E);if(z===null){M===null&&(M=H);break}t&&M&&z.alternate===null&&e(b,M),_=s(z,_,L),A===null?O=z:A.sibling=z,A=z,M=H}if(G.done)return n(b,M),jt&&Ia(b,L),O;if(M===null){for(;!G.done;L++,G=w.next())G=f(b,G.value,E),G!==null&&(_=s(G,_,L),A===null?O=G:A.sibling=G,A=G);return jt&&Ia(b,L),O}for(M=r(b,M);!G.done;L++,G=w.next())G=m(M,b,L,G.value,E),G!==null&&(t&&G.alternate!==null&&M.delete(G.key===null?L:G.key),_=s(G,_,L),A===null?O=G:A.sibling=G,A=G);return t&&M.forEach(function(j){return e(b,j)}),jt&&Ia(b,L),O}function x(b,_,w,E){if(typeof w=="object"&&w!==null&&w.type===xu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case vp:e:{for(var O=w.key,A=_;A!==null;){if(A.key===O){if(O=w.type,O===xu){if(A.tag===7){n(b,A.sibling),_=i(A,w.props.children),_.return=b,b=_;break e}}else if(A.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Lo&&LP(O)===A.type){n(b,A.sibling),_=i(A,w.props),_.ref=rh(b,A,w),_.return=b,b=_;break e}n(b,A);break}else e(b,A);A=A.sibling}w.type===xu?(_=Xa(w.props.children,b.mode,E,w.key),_.return=b,b=_):(E=Tm(w.type,w.key,w.props,null,b.mode,E),E.ref=rh(b,_,w),E.return=b,b=E)}return o(b);case bu:e:{for(A=w.key;_!==null;){if(_.key===A)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){n(b,_.sibling),_=i(_,w.children||[]),_.return=b,b=_;break e}else{n(b,_);break}else e(b,_);_=_.sibling}_=xy(w,b.mode,E),_.return=b,b=_}return o(b);case Lo:return A=w._init,x(b,_,A(w._payload),E)}if(Eh(w))return v(b,_,w,E);if(Qc(w))return y(b,_,w,E);Pp(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(n(b,_.sibling),_=i(_,w),_.return=b,b=_):(n(b,_),_=by(w,b.mode,E),_.return=b,b=_),o(b)):n(b,_)}return x}var Yu=i4(!0),s4=i4(!1),Yd={},Os=ua(Yd),hd=ua(Yd),dd=ua(Yd);function Ha(t){if(t===Yd)throw Error(de(174));return t}function X_(t,e){switch(Ot(dd,e),Ot(hd,t),Ot(Os,Yd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jb(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jb(e,t)}Bt(Os),Ot(Os,e)}function Ku(){Bt(Os),Bt(hd),Bt(dd)}function o4(t){Ha(dd.current);var e=Ha(Os.current),n=jb(e,t.type);e!==n&&(Ot(hd,t),Ot(Os,n))}function Y_(t){hd.current===t&&(Bt(Os),Bt(hd))}var Vt=ua(0);function lg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fy=[];function K_(){for(var t=0;t<fy.length;t++)fy[t]._workInProgressVersionPrimary=null;fy.length=0}var wm=vo.ReactCurrentDispatcher,py=vo.ReactCurrentBatchConfig,rl=0,Yt=null,yn=null,_n=null,ug=!1,Wh=!1,fd=0,hW=0;function $n(){throw Error(de(321))}function Z_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!is(t[n],e[n]))return!1;return!0}function Q_(t,e,n,r,i,s){if(rl=s,Yt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wm.current=t===null||t.memoizedState===null?mW:gW,t=n(r,i),Wh){s=0;do{if(Wh=!1,fd=0,25<=s)throw Error(de(301));s+=1,_n=yn=null,e.updateQueue=null,wm.current=vW,t=n(r,i)}while(Wh)}if(wm.current=cg,e=yn!==null&&yn.next!==null,rl=0,_n=yn=Yt=null,ug=!1,e)throw Error(de(300));return t}function J_(){var t=fd!==0;return fd=0,t}function bs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?Yt.memoizedState=_n=t:_n=_n.next=t,_n}function _i(){if(yn===null){var t=Yt.alternate;t=t!==null?t.memoizedState:null}else t=yn.next;var e=_n===null?Yt.memoizedState:_n.next;if(e!==null)_n=e,yn=t;else{if(t===null)throw Error(de(310));yn=t,t={memoizedState:yn.memoizedState,baseState:yn.baseState,baseQueue:yn.baseQueue,queue:yn.queue,next:null},_n===null?Yt.memoizedState=_n=t:_n=_n.next=t}return _n}function pd(t,e){return typeof e=="function"?e(t):e}function my(t){var e=_i(),n=e.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=t;var r=yn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((rl&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Yt.lanes|=h,il|=h}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,is(r,e.memoizedState)||(pr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Yt.lanes|=s,il|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function gy(t){var e=_i(),n=e.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);is(s,e.memoizedState)||(pr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function a4(){}function l4(t,e){var n=Yt,r=_i(),i=e(),s=!is(r.memoizedState,i);if(s&&(r.memoizedState=i,pr=!0),r=r.queue,eS(h4.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||_n!==null&&_n.memoizedState.tag&1){if(n.flags|=2048,md(9,c4.bind(null,n,r,i,e),void 0,null),Tn===null)throw Error(de(349));rl&30||u4(n,e,i)}return i}function u4(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Yt.updateQueue,e===null?(e={lastEffect:null,stores:null},Yt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function c4(t,e,n,r){e.value=n,e.getSnapshot=r,d4(e)&&f4(t)}function h4(t,e,n){return n(function(){d4(e)&&f4(t)})}function d4(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!is(t,n)}catch{return!0}}function f4(t){var e=uo(t,1);e!==null&&Qi(e,t,1,-1)}function BP(t){var e=bs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pd,lastRenderedState:t},e.queue=t,t=t.dispatch=pW.bind(null,Yt,t),[e.memoizedState,t]}function md(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Yt.updateQueue,e===null?(e={lastEffect:null,stores:null},Yt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function p4(){return _i().memoizedState}function _m(t,e,n,r){var i=bs();Yt.flags|=t,i.memoizedState=md(1|e,n,void 0,r===void 0?null:r)}function pv(t,e,n,r){var i=_i();r=r===void 0?null:r;var s=void 0;if(yn!==null){var o=yn.memoizedState;if(s=o.destroy,r!==null&&Z_(r,o.deps)){i.memoizedState=md(e,n,s,r);return}}Yt.flags|=t,i.memoizedState=md(1|e,n,s,r)}function NP(t,e){return _m(8390656,8,t,e)}function eS(t,e){return pv(2048,8,t,e)}function m4(t,e){return pv(4,2,t,e)}function g4(t,e){return pv(4,4,t,e)}function v4(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function y4(t,e,n){return n=n!=null?n.concat([t]):null,pv(4,4,v4.bind(null,e,t),n)}function tS(){}function b4(t,e){var n=_i();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Z_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function x4(t,e){var n=_i();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Z_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function w4(t,e,n){return rl&21?(is(n,e)||(n=EM(),Yt.lanes|=n,il|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pr=!0),t.memoizedState=n)}function dW(t,e){var n=wt;wt=n!==0&&4>n?n:4,t(!0);var r=py.transition;py.transition={};try{t(!1),e()}finally{wt=n,py.transition=r}}function _4(){return _i().memoizedState}function fW(t,e,n){var r=Zo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},S4(t))E4(e,n);else if(n=e4(t,e,n,r),n!==null){var i=Jn();Qi(n,t,r,i),C4(n,e,r)}}function pW(t,e,n){var r=Zo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(S4(t))E4(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,is(a,o)){var l=e.interleaved;l===null?(i.next=i,V_(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=e4(t,e,i,r),n!==null&&(i=Jn(),Qi(n,t,r,i),C4(n,e,r))}}function S4(t){var e=t.alternate;return t===Yt||e!==null&&e===Yt}function E4(t,e){Wh=ug=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function C4(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,R_(t,n)}}var cg={readContext:wi,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useInsertionEffect:$n,useLayoutEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useMutableSource:$n,useSyncExternalStore:$n,useId:$n,unstable_isNewReconciler:!1},mW={readContext:wi,useCallback:function(t,e){return bs().memoizedState=[t,e===void 0?null:e],t},useContext:wi,useEffect:NP,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_m(4194308,4,v4.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _m(4194308,4,t,e)},useInsertionEffect:function(t,e){return _m(4,2,t,e)},useMemo:function(t,e){var n=bs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=bs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=fW.bind(null,Yt,t),[r.memoizedState,t]},useRef:function(t){var e=bs();return t={current:t},e.memoizedState=t},useState:BP,useDebugValue:tS,useDeferredValue:function(t){return bs().memoizedState=t},useTransition:function(){var t=BP(!1),e=t[0];return t=dW.bind(null,t[1]),bs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Yt,i=bs();if(jt){if(n===void 0)throw Error(de(407));n=n()}else{if(n=e(),Tn===null)throw Error(de(349));rl&30||u4(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,NP(h4.bind(null,r,s,t),[t]),r.flags|=2048,md(9,c4.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=bs(),e=Tn.identifierPrefix;if(jt){var n=no,r=to;n=(r&~(1<<32-Zi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=fd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=hW++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},gW={readContext:wi,useCallback:b4,useContext:wi,useEffect:eS,useImperativeHandle:y4,useInsertionEffect:m4,useLayoutEffect:g4,useMemo:x4,useReducer:my,useRef:p4,useState:function(){return my(pd)},useDebugValue:tS,useDeferredValue:function(t){var e=_i();return w4(e,yn.memoizedState,t)},useTransition:function(){var t=my(pd)[0],e=_i().memoizedState;return[t,e]},useMutableSource:a4,useSyncExternalStore:l4,useId:_4,unstable_isNewReconciler:!1},vW={readContext:wi,useCallback:b4,useContext:wi,useEffect:eS,useImperativeHandle:y4,useInsertionEffect:m4,useLayoutEffect:g4,useMemo:x4,useReducer:gy,useRef:p4,useState:function(){return gy(pd)},useDebugValue:tS,useDeferredValue:function(t){var e=_i();return yn===null?e.memoizedState=t:w4(e,yn.memoizedState,t)},useTransition:function(){var t=gy(pd)[0],e=_i().memoizedState;return[t,e]},useMutableSource:a4,useSyncExternalStore:l4,useId:_4,unstable_isNewReconciler:!1};function Zu(t,e){try{var n="",r=e;do n+=GH(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function vy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function dx(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var yW=typeof WeakMap=="function"?WeakMap:Map;function T4(t,e,n){n=io(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){dg||(dg=!0,_x=r),dx(t,e)},n}function A4(t,e,n){n=io(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){dx(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){dx(t,e),typeof r!="function"&&(Ko===null?Ko=new Set([this]):Ko.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function $P(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new yW;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=RW.bind(null,t,e,n),e.then(t,t))}function UP(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function zP(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=io(-1,1),e.tag=2,Yo(n,e,1))),n.lanes|=1),t)}var bW=vo.ReactCurrentOwner,pr=!1;function Yn(t,e,n,r){e.child=t===null?s4(e,null,n,r):Yu(e,t.child,n,r)}function HP(t,e,n,r,i){n=n.render;var s=e.ref;return Lu(e,i),r=Q_(t,e,n,r,s,i),n=J_(),t!==null&&!pr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,co(t,e,i)):(jt&&n&&U_(e),e.flags|=1,Yn(t,e,r,i),e.child)}function jP(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!uS(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,P4(t,e,s,r,i)):(t=Tm(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ad,n(o,r)&&t.ref===e.ref)return co(t,e,i)}return e.flags|=1,t=Qo(s,r),t.ref=e.ref,t.return=e,e.child=t}function P4(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ad(s,r)&&t.ref===e.ref)if(pr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(pr=!0);else return e.lanes=t.lanes,co(t,e,i)}return fx(t,e,n,r,i)}function k4(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ot(Ou,Rr),Rr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ot(Ou,Rr),Rr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ot(Ou,Rr),Rr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ot(Ou,Rr),Rr|=r;return Yn(t,e,i,n),e.child}function O4(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function fx(t,e,n,r,i){var s=gr(n)?tl:Wn.current;return s=qu(e,s),Lu(e,i),n=Q_(t,e,n,r,s,i),r=J_(),t!==null&&!pr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,co(t,e,i)):(jt&&r&&U_(e),e.flags|=1,Yn(t,e,n,i),e.child)}function WP(t,e,n,r,i){if(gr(n)){var s=!0;ng(e)}else s=!1;if(Lu(e,i),e.stateNode===null)Sm(t,e),r4(e,n,r),hx(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=wi(c):(c=gr(n)?tl:Wn.current,c=qu(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&DP(e,o,r,c),Bo=!1;var p=e.memoizedState;o.state=p,ag(e,r,o,i),l=e.memoizedState,a!==r||p!==l||mr.current||Bo?(typeof h=="function"&&(cx(e,n,h,r),l=e.memoizedState),(a=Bo||FP(e,n,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,t4(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ji(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=wi(l):(l=gr(n)?tl:Wn.current,l=qu(e,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&DP(e,o,r,l),Bo=!1,p=e.memoizedState,o.state=p,ag(e,r,o,i);var v=e.memoizedState;a!==f||p!==v||mr.current||Bo?(typeof m=="function"&&(cx(e,n,m,r),v=e.memoizedState),(c=Bo||FP(e,n,c,r,p,v,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return px(t,e,n,r,s,i)}function px(t,e,n,r,i,s){O4(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&kP(e,n,!1),co(t,e,s);r=e.stateNode,bW.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Yu(e,t.child,null,s),e.child=Yu(e,null,a,s)):Yn(t,e,a,s),e.memoizedState=r.state,i&&kP(e,n,!0),e.child}function I4(t){var e=t.stateNode;e.pendingContext?PP(t,e.pendingContext,e.pendingContext!==e.context):e.context&&PP(t,e.context,!1),X_(t,e.containerInfo)}function GP(t,e,n,r,i){return Xu(),H_(i),e.flags|=256,Yn(t,e,n,r),e.child}var mx={dehydrated:null,treeContext:null,retryLane:0};function gx(t){return{baseLanes:t,cachePool:null,transitions:null}}function R4(t,e,n){var r=e.pendingProps,i=Vt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ot(Vt,i&1),t===null)return lx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=vv(o,r,0,null),t=Xa(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=gx(n),e.memoizedState=mx,t):nS(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return xW(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Qo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Qo(a,s):(s=Xa(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?gx(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=mx,r}return s=t.child,t=s.sibling,r=Qo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function nS(t,e){return e=vv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function kp(t,e,n,r){return r!==null&&H_(r),Yu(e,t.child,null,n),t=nS(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xW(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=vy(Error(de(422))),kp(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=vv({mode:"visible",children:r.children},i,0,null),s=Xa(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Yu(e,t.child,null,o),e.child.memoizedState=gx(o),e.memoizedState=mx,s);if(!(e.mode&1))return kp(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(de(419)),r=vy(s,r,void 0),kp(t,e,o,r)}if(a=(o&t.childLanes)!==0,pr||a){if(r=Tn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,uo(t,i),Qi(r,t,i,-1))}return lS(),r=vy(Error(de(421))),kp(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=MW.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Lr=Xo(i.nextSibling),zr=e,jt=!0,Gi=null,t!==null&&(li[ui++]=to,li[ui++]=no,li[ui++]=nl,to=t.id,no=t.overflow,nl=e),e=nS(e,r.children),e.flags|=4096,e)}function VP(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ux(t.return,e,n)}function yy(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function M4(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Yn(t,e,r.children,n),r=Vt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&VP(t,n,e);else if(t.tag===19)VP(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ot(Vt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&lg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),yy(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&lg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}yy(e,!0,n,null,s);break;case"together":yy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Sm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function co(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),il|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(de(153));if(e.child!==null){for(t=e.child,n=Qo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function wW(t,e,n){switch(e.tag){case 3:I4(e),Xu();break;case 5:o4(e);break;case 1:gr(e.type)&&ng(e);break;case 4:X_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ot(sg,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ot(Vt,Vt.current&1),e.flags|=128,null):n&e.child.childLanes?R4(t,e,n):(Ot(Vt,Vt.current&1),t=co(t,e,n),t!==null?t.sibling:null);Ot(Vt,Vt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return M4(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ot(Vt,Vt.current),r)break;return null;case 22:case 23:return e.lanes=0,k4(t,e,n)}return co(t,e,n)}var F4,vx,D4,L4;F4=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vx=function(){};D4=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ha(Os.current);var s=null;switch(n){case"input":i=$b(t,i),r=$b(t,r),s=[];break;case"select":i=Kt({},i,{value:void 0}),r=Kt({},r,{value:void 0}),s=[];break;case"textarea":i=Hb(t,i),r=Hb(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=eg)}Wb(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ed.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ed.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Mt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};L4=function(t,e,n,r){n!==r&&(e.flags|=4)};function ih(t,e){if(!jt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Un(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function _W(t,e,n){var r=e.pendingProps;switch(z_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Un(e),null;case 1:return gr(e.type)&&tg(),Un(e),null;case 3:return r=e.stateNode,Ku(),Bt(mr),Bt(Wn),K_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ap(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gi!==null&&(Cx(Gi),Gi=null))),vx(t,e),Un(e),null;case 5:Y_(e);var i=Ha(dd.current);if(n=e.type,t!==null&&e.stateNode!=null)D4(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(de(166));return Un(e),null}if(t=Ha(Os.current),Ap(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Es]=e,r[cd]=s,t=(e.mode&1)!==0,n){case"dialog":Mt("cancel",r),Mt("close",r);break;case"iframe":case"object":case"embed":Mt("load",r);break;case"video":case"audio":for(i=0;i<Th.length;i++)Mt(Th[i],r);break;case"source":Mt("error",r);break;case"img":case"image":case"link":Mt("error",r),Mt("load",r);break;case"details":Mt("toggle",r);break;case"input":tP(r,s),Mt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Mt("invalid",r);break;case"textarea":rP(r,s),Mt("invalid",r)}Wb(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Tp(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Tp(r.textContent,a,t),i=["children",""+a]):ed.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Mt("scroll",r)}switch(n){case"input":yp(r),nP(r,s,!0);break;case"textarea":yp(r),iP(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=eg)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=uM(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Es]=e,t[cd]=r,F4(t,e,!1,!1),e.stateNode=t;e:{switch(o=Gb(n,r),n){case"dialog":Mt("cancel",t),Mt("close",t),i=r;break;case"iframe":case"object":case"embed":Mt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Th.length;i++)Mt(Th[i],t);i=r;break;case"source":Mt("error",t),i=r;break;case"img":case"image":case"link":Mt("error",t),Mt("load",t),i=r;break;case"details":Mt("toggle",t),i=r;break;case"input":tP(t,r),i=$b(t,r),Mt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Kt({},r,{value:void 0}),Mt("invalid",t);break;case"textarea":rP(t,r),i=Hb(t,r),Mt("invalid",t);break;default:i=r}Wb(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?dM(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&cM(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&td(t,l):typeof l=="number"&&td(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ed.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Mt("scroll",t):l!=null&&T_(t,s,l,o))}switch(n){case"input":yp(t),nP(t,r,!1);break;case"textarea":yp(t),iP(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ta(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ru(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ru(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=eg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Un(e),null;case 6:if(t&&e.stateNode!=null)L4(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(de(166));if(n=Ha(dd.current),Ha(Os.current),Ap(e)){if(r=e.stateNode,n=e.memoizedProps,r[Es]=e,(s=r.nodeValue!==n)&&(t=zr,t!==null))switch(t.tag){case 3:Tp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Tp(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Es]=e,e.stateNode=r}return Un(e),null;case 13:if(Bt(Vt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(jt&&Lr!==null&&e.mode&1&&!(e.flags&128))JM(),Xu(),e.flags|=98560,s=!1;else if(s=Ap(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(de(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(de(317));s[Es]=e}else Xu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Un(e),s=!1}else Gi!==null&&(Cx(Gi),Gi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Vt.current&1?xn===0&&(xn=3):lS())),e.updateQueue!==null&&(e.flags|=4),Un(e),null);case 4:return Ku(),vx(t,e),t===null&&ld(e.stateNode.containerInfo),Un(e),null;case 10:return G_(e.type._context),Un(e),null;case 17:return gr(e.type)&&tg(),Un(e),null;case 19:if(Bt(Vt),s=e.memoizedState,s===null)return Un(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ih(s,!1);else{if(xn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=lg(t),o!==null){for(e.flags|=128,ih(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ot(Vt,Vt.current&1|2),e.child}t=t.sibling}s.tail!==null&&an()>Qu&&(e.flags|=128,r=!0,ih(s,!1),e.lanes=4194304)}else{if(!r)if(t=lg(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ih(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!jt)return Un(e),null}else 2*an()-s.renderingStartTime>Qu&&n!==1073741824&&(e.flags|=128,r=!0,ih(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=an(),e.sibling=null,n=Vt.current,Ot(Vt,r?n&1|2:n&1),e):(Un(e),null);case 22:case 23:return aS(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Rr&1073741824&&(Un(e),e.subtreeFlags&6&&(e.flags|=8192)):Un(e),null;case 24:return null;case 25:return null}throw Error(de(156,e.tag))}function SW(t,e){switch(z_(e),e.tag){case 1:return gr(e.type)&&tg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ku(),Bt(mr),Bt(Wn),K_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Y_(e),null;case 13:if(Bt(Vt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(de(340));Xu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Bt(Vt),null;case 4:return Ku(),null;case 10:return G_(e.type._context),null;case 22:case 23:return aS(),null;case 24:return null;default:return null}}var Op=!1,jn=!1,EW=typeof WeakSet=="function"?WeakSet:Set,Se=null;function ku(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){en(t,e,r)}else n.current=null}function yx(t,e,n){try{n()}catch(r){en(t,e,r)}}var qP=!1;function CW(t,e){if(tx=Zm,t=UM(),$_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,f=t,p=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++h===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(nx={focusedElem:t,selectionRange:n},Zm=!1,Se=e;Se!==null;)if(e=Se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Se=t;else for(;Se!==null;){e=Se;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,x=v.memoizedState,b=e.stateNode,_=b.getSnapshotBeforeUpdate(e.elementType===e.type?y:ji(e.type,y),x);b.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(E){en(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Se=t;break}Se=e.return}return v=qP,qP=!1,v}function Gh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&yx(e,n,s)}i=i.next}while(i!==r)}}function mv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function bx(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function B4(t){var e=t.alternate;e!==null&&(t.alternate=null,B4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Es],delete e[cd],delete e[sx],delete e[aW],delete e[lW])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function N4(t){return t.tag===5||t.tag===3||t.tag===4}function XP(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||N4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=eg));else if(r!==4&&(t=t.child,t!==null))for(xx(t,e,n),t=t.sibling;t!==null;)xx(t,e,n),t=t.sibling}function wx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(wx(t,e,n),t=t.sibling;t!==null;)wx(t,e,n),t=t.sibling}var Mn=null,Wi=!1;function Mo(t,e,n){for(n=n.child;n!==null;)$4(t,e,n),n=n.sibling}function $4(t,e,n){if(ks&&typeof ks.onCommitFiberUnmount=="function")try{ks.onCommitFiberUnmount(av,n)}catch{}switch(n.tag){case 5:jn||ku(n,e);case 6:var r=Mn,i=Wi;Mn=null,Mo(t,e,n),Mn=r,Wi=i,Mn!==null&&(Wi?(t=Mn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Mn.removeChild(n.stateNode));break;case 18:Mn!==null&&(Wi?(t=Mn,n=n.stateNode,t.nodeType===8?hy(t.parentNode,n):t.nodeType===1&&hy(t,n),sd(t)):hy(Mn,n.stateNode));break;case 4:r=Mn,i=Wi,Mn=n.stateNode.containerInfo,Wi=!0,Mo(t,e,n),Mn=r,Wi=i;break;case 0:case 11:case 14:case 15:if(!jn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&yx(n,e,o),i=i.next}while(i!==r)}Mo(t,e,n);break;case 1:if(!jn&&(ku(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){en(n,e,a)}Mo(t,e,n);break;case 21:Mo(t,e,n);break;case 22:n.mode&1?(jn=(r=jn)||n.memoizedState!==null,Mo(t,e,n),jn=r):Mo(t,e,n);break;default:Mo(t,e,n)}}function YP(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new EW),e.forEach(function(r){var i=FW.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Li(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Mn=a.stateNode,Wi=!1;break e;case 3:Mn=a.stateNode.containerInfo,Wi=!0;break e;case 4:Mn=a.stateNode.containerInfo,Wi=!0;break e}a=a.return}if(Mn===null)throw Error(de(160));$4(s,o,i),Mn=null,Wi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){en(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)U4(e,t),e=e.sibling}function U4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Li(e,t),vs(t),r&4){try{Gh(3,t,t.return),mv(3,t)}catch(y){en(t,t.return,y)}try{Gh(5,t,t.return)}catch(y){en(t,t.return,y)}}break;case 1:Li(e,t),vs(t),r&512&&n!==null&&ku(n,n.return);break;case 5:if(Li(e,t),vs(t),r&512&&n!==null&&ku(n,n.return),t.flags&32){var i=t.stateNode;try{td(i,"")}catch(y){en(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&aM(i,s),Gb(a,o);var c=Gb(a,s);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?dM(i,f):h==="dangerouslySetInnerHTML"?cM(i,f):h==="children"?td(i,f):T_(i,h,f,c)}switch(a){case"input":Ub(i,s);break;case"textarea":lM(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Ru(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Ru(i,!!s.multiple,s.defaultValue,!0):Ru(i,!!s.multiple,s.multiple?[]:"",!1))}i[cd]=s}catch(y){en(t,t.return,y)}}break;case 6:if(Li(e,t),vs(t),r&4){if(t.stateNode===null)throw Error(de(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){en(t,t.return,y)}}break;case 3:if(Li(e,t),vs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{sd(e.containerInfo)}catch(y){en(t,t.return,y)}break;case 4:Li(e,t),vs(t);break;case 13:Li(e,t),vs(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(sS=an())),r&4&&YP(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(jn=(c=jn)||h,Li(e,t),jn=c):Li(e,t),vs(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(Se=t,h=t.child;h!==null;){for(f=Se=h;Se!==null;){switch(p=Se,m=p.child,p.tag){case 0:case 11:case 14:case 15:Gh(4,p,p.return);break;case 1:ku(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){en(r,n,y)}}break;case 5:ku(p,p.return);break;case 22:if(p.memoizedState!==null){ZP(f);continue}}m!==null?(m.return=p,Se=m):ZP(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=hM("display",o))}catch(y){en(t,t.return,y)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){en(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Li(e,t),vs(t),r&4&&YP(t);break;case 21:break;default:Li(e,t),vs(t)}}function vs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(N4(n)){var r=n;break e}n=n.return}throw Error(de(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(td(i,""),r.flags&=-33);var s=XP(t);wx(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=XP(t);xx(t,a,o);break;default:throw Error(de(161))}}catch(l){en(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function TW(t,e,n){Se=t,z4(t)}function z4(t,e,n){for(var r=(t.mode&1)!==0;Se!==null;){var i=Se,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Op;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||jn;a=Op;var c=jn;if(Op=o,(jn=l)&&!c)for(Se=i;Se!==null;)o=Se,l=o.child,o.tag===22&&o.memoizedState!==null?QP(i):l!==null?(l.return=o,Se=l):QP(i);for(;s!==null;)Se=s,z4(s),s=s.sibling;Se=i,Op=a,jn=c}KP(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Se=s):KP(t)}}function KP(t){for(;Se!==null;){var e=Se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:jn||mv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!jn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ji(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&MP(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}MP(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&sd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}jn||e.flags&512&&bx(e)}catch(p){en(e,e.return,p)}}if(e===t){Se=null;break}if(n=e.sibling,n!==null){n.return=e.return,Se=n;break}Se=e.return}}function ZP(t){for(;Se!==null;){var e=Se;if(e===t){Se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Se=n;break}Se=e.return}}function QP(t){for(;Se!==null;){var e=Se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{mv(4,e)}catch(l){en(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){en(e,i,l)}}var s=e.return;try{bx(e)}catch(l){en(e,s,l)}break;case 5:var o=e.return;try{bx(e)}catch(l){en(e,o,l)}}}catch(l){en(e,e.return,l)}if(e===t){Se=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Se=a;break}Se=e.return}}var AW=Math.ceil,hg=vo.ReactCurrentDispatcher,rS=vo.ReactCurrentOwner,gi=vo.ReactCurrentBatchConfig,ct=0,Tn=null,mn=null,Dn=0,Rr=0,Ou=ua(0),xn=0,gd=null,il=0,gv=0,iS=0,Vh=null,dr=null,sS=0,Qu=1/0,Qs=null,dg=!1,_x=null,Ko=null,Ip=!1,Ho=null,fg=0,qh=0,Sx=null,Em=-1,Cm=0;function Jn(){return ct&6?an():Em!==-1?Em:Em=an()}function Zo(t){return t.mode&1?ct&2&&Dn!==0?Dn&-Dn:cW.transition!==null?(Cm===0&&(Cm=EM()),Cm):(t=wt,t!==0||(t=window.event,t=t===void 0?16:IM(t.type)),t):1}function Qi(t,e,n,r){if(50<qh)throw qh=0,Sx=null,Error(de(185));Vd(t,n,r),(!(ct&2)||t!==Tn)&&(t===Tn&&(!(ct&2)&&(gv|=n),xn===4&&Uo(t,Dn)),vr(t,r),n===1&&ct===0&&!(e.mode&1)&&(Qu=an()+500,dv&&ca()))}function vr(t,e){var n=t.callbackNode;cj(t,e);var r=Km(t,t===Tn?Dn:0);if(r===0)n!==null&&aP(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&aP(n),e===1)t.tag===0?uW(JP.bind(null,t)):KM(JP.bind(null,t)),sW(function(){!(ct&6)&&ca()}),n=null;else{switch(CM(r)){case 1:n=I_;break;case 4:n=_M;break;case 16:n=Ym;break;case 536870912:n=SM;break;default:n=Ym}n=Y4(n,H4.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function H4(t,e){if(Em=-1,Cm=0,ct&6)throw Error(de(327));var n=t.callbackNode;if(Bu()&&t.callbackNode!==n)return null;var r=Km(t,t===Tn?Dn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=pg(t,r);else{e=r;var i=ct;ct|=2;var s=W4();(Tn!==t||Dn!==e)&&(Qs=null,Qu=an()+500,qa(t,e));do try{OW();break}catch(a){j4(t,a)}while(1);W_(),hg.current=s,ct=i,mn!==null?e=0:(Tn=null,Dn=0,e=xn)}if(e!==0){if(e===2&&(i=Kb(t),i!==0&&(r=i,e=Ex(t,i))),e===1)throw n=gd,qa(t,0),Uo(t,r),vr(t,an()),n;if(e===6)Uo(t,r);else{if(i=t.current.alternate,!(r&30)&&!PW(i)&&(e=pg(t,r),e===2&&(s=Kb(t),s!==0&&(r=s,e=Ex(t,s))),e===1))throw n=gd,qa(t,0),Uo(t,r),vr(t,an()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(de(345));case 2:Ra(t,dr,Qs);break;case 3:if(Uo(t,r),(r&130023424)===r&&(e=sS+500-an(),10<e)){if(Km(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Jn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ix(Ra.bind(null,t,dr,Qs),e);break}Ra(t,dr,Qs);break;case 4:if(Uo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Zi(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=an()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*AW(r/1960))-r,10<r){t.timeoutHandle=ix(Ra.bind(null,t,dr,Qs),r);break}Ra(t,dr,Qs);break;case 5:Ra(t,dr,Qs);break;default:throw Error(de(329))}}}return vr(t,an()),t.callbackNode===n?H4.bind(null,t):null}function Ex(t,e){var n=Vh;return t.current.memoizedState.isDehydrated&&(qa(t,e).flags|=256),t=pg(t,e),t!==2&&(e=dr,dr=n,e!==null&&Cx(e)),t}function Cx(t){dr===null?dr=t:dr.push.apply(dr,t)}function PW(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!is(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Uo(t,e){for(e&=~iS,e&=~gv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Zi(e),r=1<<n;t[n]=-1,e&=~r}}function JP(t){if(ct&6)throw Error(de(327));Bu();var e=Km(t,0);if(!(e&1))return vr(t,an()),null;var n=pg(t,e);if(t.tag!==0&&n===2){var r=Kb(t);r!==0&&(e=r,n=Ex(t,r))}if(n===1)throw n=gd,qa(t,0),Uo(t,e),vr(t,an()),n;if(n===6)throw Error(de(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ra(t,dr,Qs),vr(t,an()),null}function oS(t,e){var n=ct;ct|=1;try{return t(e)}finally{ct=n,ct===0&&(Qu=an()+500,dv&&ca())}}function sl(t){Ho!==null&&Ho.tag===0&&!(ct&6)&&Bu();var e=ct;ct|=1;var n=gi.transition,r=wt;try{if(gi.transition=null,wt=1,t)return t()}finally{wt=r,gi.transition=n,ct=e,!(ct&6)&&ca()}}function aS(){Rr=Ou.current,Bt(Ou)}function qa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,iW(n)),mn!==null)for(n=mn.return;n!==null;){var r=n;switch(z_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&tg();break;case 3:Ku(),Bt(mr),Bt(Wn),K_();break;case 5:Y_(r);break;case 4:Ku();break;case 13:Bt(Vt);break;case 19:Bt(Vt);break;case 10:G_(r.type._context);break;case 22:case 23:aS()}n=n.return}if(Tn=t,mn=t=Qo(t.current,null),Dn=Rr=e,xn=0,gd=null,iS=gv=il=0,dr=Vh=null,za!==null){for(e=0;e<za.length;e++)if(n=za[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}za=null}return t}function j4(t,e){do{var n=mn;try{if(W_(),wm.current=cg,ug){for(var r=Yt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ug=!1}if(rl=0,_n=yn=Yt=null,Wh=!1,fd=0,rS.current=null,n===null||n.return===null){xn=1,gd=e,mn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Dn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=UP(o);if(m!==null){m.flags&=-257,zP(m,o,a,s,e),m.mode&1&&$P(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){$P(s,c,e),lS();break e}l=Error(de(426))}}else if(jt&&a.mode&1){var x=UP(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),zP(x,o,a,s,e),H_(Zu(l,a));break e}}s=l=Zu(l,a),xn!==4&&(xn=2),Vh===null?Vh=[s]:Vh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=T4(s,l,e);RP(s,b);break e;case 1:a=l;var _=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ko===null||!Ko.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=A4(s,a,e);RP(s,E);break e}}s=s.return}while(s!==null)}V4(n)}catch(O){e=O,mn===n&&n!==null&&(mn=n=n.return);continue}break}while(1)}function W4(){var t=hg.current;return hg.current=cg,t===null?cg:t}function lS(){(xn===0||xn===3||xn===2)&&(xn=4),Tn===null||!(il&268435455)&&!(gv&268435455)||Uo(Tn,Dn)}function pg(t,e){var n=ct;ct|=2;var r=W4();(Tn!==t||Dn!==e)&&(Qs=null,qa(t,e));do try{kW();break}catch(i){j4(t,i)}while(1);if(W_(),ct=n,hg.current=r,mn!==null)throw Error(de(261));return Tn=null,Dn=0,xn}function kW(){for(;mn!==null;)G4(mn)}function OW(){for(;mn!==null&&!tj();)G4(mn)}function G4(t){var e=X4(t.alternate,t,Rr);t.memoizedProps=t.pendingProps,e===null?V4(t):mn=e,rS.current=null}function V4(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=SW(n,e),n!==null){n.flags&=32767,mn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xn=6,mn=null;return}}else if(n=_W(n,e,Rr),n!==null){mn=n;return}if(e=e.sibling,e!==null){mn=e;return}mn=e=t}while(e!==null);xn===0&&(xn=5)}function Ra(t,e,n){var r=wt,i=gi.transition;try{gi.transition=null,wt=1,IW(t,e,n,r)}finally{gi.transition=i,wt=r}return null}function IW(t,e,n,r){do Bu();while(Ho!==null);if(ct&6)throw Error(de(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(de(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(hj(t,s),t===Tn&&(mn=Tn=null,Dn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ip||(Ip=!0,Y4(Ym,function(){return Bu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=gi.transition,gi.transition=null;var o=wt;wt=1;var a=ct;ct|=4,rS.current=null,CW(t,n),U4(n,t),Zj(nx),Zm=!!tx,nx=tx=null,t.current=n,TW(n),nj(),ct=a,wt=o,gi.transition=s}else t.current=n;if(Ip&&(Ip=!1,Ho=t,fg=i),s=t.pendingLanes,s===0&&(Ko=null),sj(n.stateNode),vr(t,an()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(dg)throw dg=!1,t=_x,_x=null,t;return fg&1&&t.tag!==0&&Bu(),s=t.pendingLanes,s&1?t===Sx?qh++:(qh=0,Sx=t):qh=0,ca(),null}function Bu(){if(Ho!==null){var t=CM(fg),e=gi.transition,n=wt;try{if(gi.transition=null,wt=16>t?16:t,Ho===null)var r=!1;else{if(t=Ho,Ho=null,fg=0,ct&6)throw Error(de(331));var i=ct;for(ct|=4,Se=t.current;Se!==null;){var s=Se,o=s.child;if(Se.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Se=c;Se!==null;){var h=Se;switch(h.tag){case 0:case 11:case 15:Gh(8,h,s)}var f=h.child;if(f!==null)f.return=h,Se=f;else for(;Se!==null;){h=Se;var p=h.sibling,m=h.return;if(B4(h),h===c){Se=null;break}if(p!==null){p.return=m,Se=p;break}Se=m}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}Se=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Se=o;else e:for(;Se!==null;){if(s=Se,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Gh(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,Se=b;break e}Se=s.return}}var _=t.current;for(Se=_;Se!==null;){o=Se;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Se=w;else e:for(o=_;Se!==null;){if(a=Se,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:mv(9,a)}}catch(O){en(a,a.return,O)}if(a===o){Se=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Se=E;break e}Se=a.return}}if(ct=i,ca(),ks&&typeof ks.onPostCommitFiberRoot=="function")try{ks.onPostCommitFiberRoot(av,t)}catch{}r=!0}return r}finally{wt=n,gi.transition=e}}return!1}function ek(t,e,n){e=Zu(n,e),e=T4(t,e,1),t=Yo(t,e,1),e=Jn(),t!==null&&(Vd(t,1,e),vr(t,e))}function en(t,e,n){if(t.tag===3)ek(t,t,n);else for(;e!==null;){if(e.tag===3){ek(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ko===null||!Ko.has(r))){t=Zu(n,t),t=A4(e,t,1),e=Yo(e,t,1),t=Jn(),e!==null&&(Vd(e,1,t),vr(e,t));break}}e=e.return}}function RW(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Jn(),t.pingedLanes|=t.suspendedLanes&n,Tn===t&&(Dn&n)===n&&(xn===4||xn===3&&(Dn&130023424)===Dn&&500>an()-sS?qa(t,0):iS|=n),vr(t,e)}function q4(t,e){e===0&&(t.mode&1?(e=wp,wp<<=1,!(wp&130023424)&&(wp=4194304)):e=1);var n=Jn();t=uo(t,e),t!==null&&(Vd(t,e,n),vr(t,n))}function MW(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),q4(t,n)}function FW(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(de(314))}r!==null&&r.delete(e),q4(t,n)}var X4;X4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||mr.current)pr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return pr=!1,wW(t,e,n);pr=!!(t.flags&131072)}else pr=!1,jt&&e.flags&1048576&&ZM(e,ig,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Sm(t,e),t=e.pendingProps;var i=qu(e,Wn.current);Lu(e,n),i=Q_(null,e,r,t,i,n);var s=J_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gr(r)?(s=!0,ng(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,q_(e),i.updater=fv,e.stateNode=i,i._reactInternals=e,hx(e,r,t,n),e=px(null,e,r,!0,s,n)):(e.tag=0,jt&&s&&U_(e),Yn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Sm(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=LW(r),t=ji(r,t),i){case 0:e=fx(null,e,r,t,n);break e;case 1:e=WP(null,e,r,t,n);break e;case 11:e=HP(null,e,r,t,n);break e;case 14:e=jP(null,e,r,ji(r.type,t),n);break e}throw Error(de(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ji(r,i),fx(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ji(r,i),WP(t,e,r,i,n);case 3:e:{if(I4(e),t===null)throw Error(de(387));r=e.pendingProps,s=e.memoizedState,i=s.element,t4(t,e),ag(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Zu(Error(de(423)),e),e=GP(t,e,r,n,i);break e}else if(r!==i){i=Zu(Error(de(424)),e),e=GP(t,e,r,n,i);break e}else for(Lr=Xo(e.stateNode.containerInfo.firstChild),zr=e,jt=!0,Gi=null,n=s4(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xu(),r===i){e=co(t,e,n);break e}Yn(t,e,r,n)}e=e.child}return e;case 5:return o4(e),t===null&&lx(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,rx(r,i)?o=null:s!==null&&rx(r,s)&&(e.flags|=32),O4(t,e),Yn(t,e,o,n),e.child;case 6:return t===null&&lx(e),null;case 13:return R4(t,e,n);case 4:return X_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Yu(e,null,r,n):Yn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ji(r,i),HP(t,e,r,i,n);case 7:return Yn(t,e,e.pendingProps,n),e.child;case 8:return Yn(t,e,e.pendingProps.children,n),e.child;case 12:return Yn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ot(sg,r._currentValue),r._currentValue=o,s!==null)if(is(s.value,o)){if(s.children===i.children&&!mr.current){e=co(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=io(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ux(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(de(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ux(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Yn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Lu(e,n),i=wi(i),r=r(i),e.flags|=1,Yn(t,e,r,n),e.child;case 14:return r=e.type,i=ji(r,e.pendingProps),i=ji(r.type,i),jP(t,e,r,i,n);case 15:return P4(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ji(r,i),Sm(t,e),e.tag=1,gr(r)?(t=!0,ng(e)):t=!1,Lu(e,n),r4(e,r,i),hx(e,r,i,n),px(null,e,r,!0,t,n);case 19:return M4(t,e,n);case 22:return k4(t,e,n)}throw Error(de(156,e.tag))};function Y4(t,e){return wM(t,e)}function DW(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pi(t,e,n,r){return new DW(t,e,n,r)}function uS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function LW(t){if(typeof t=="function")return uS(t)?1:0;if(t!=null){if(t=t.$$typeof,t===P_)return 11;if(t===k_)return 14}return 2}function Qo(t,e){var n=t.alternate;return n===null?(n=pi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Tm(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")uS(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case xu:return Xa(n.children,i,s,e);case A_:o=8,i|=8;break;case Db:return t=pi(12,n,e,i|2),t.elementType=Db,t.lanes=s,t;case Lb:return t=pi(13,n,e,i),t.elementType=Lb,t.lanes=s,t;case Bb:return t=pi(19,n,e,i),t.elementType=Bb,t.lanes=s,t;case iM:return vv(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nM:o=10;break e;case rM:o=9;break e;case P_:o=11;break e;case k_:o=14;break e;case Lo:o=16,r=null;break e}throw Error(de(130,t==null?t:typeof t,""))}return e=pi(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Xa(t,e,n,r){return t=pi(7,t,r,e),t.lanes=n,t}function vv(t,e,n,r){return t=pi(22,t,r,e),t.elementType=iM,t.lanes=n,t.stateNode={isHidden:!1},t}function by(t,e,n){return t=pi(6,t,null,e),t.lanes=n,t}function xy(t,e,n){return e=pi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function BW(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ey(0),this.expirationTimes=ey(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ey(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function cS(t,e,n,r,i,s,o,a,l){return t=new BW(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=pi(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},q_(s),t}function NW(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function K4(t){if(!t)return na;t=t._reactInternals;e:{if(vl(t)!==t||t.tag!==1)throw Error(de(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(de(171))}if(t.tag===1){var n=t.type;if(gr(n))return YM(t,n,e)}return e}function Z4(t,e,n,r,i,s,o,a,l){return t=cS(n,r,!0,t,i,s,o,a,l),t.context=K4(null),n=t.current,r=Jn(),i=Zo(n),s=io(r,i),s.callback=e??null,Yo(n,s,i),t.current.lanes=i,Vd(t,i,r),vr(t,r),t}function yv(t,e,n,r){var i=e.current,s=Jn(),o=Zo(i);return n=K4(n),e.context===null?e.context=n:e.pendingContext=n,e=io(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Yo(i,e,o),t!==null&&(Qi(t,i,o,s),xm(t,i,o)),o}function mg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function tk(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function hS(t,e){tk(t,e),(t=t.alternate)&&tk(t,e)}function $W(){return null}var Q4=typeof reportError=="function"?reportError:function(t){console.error(t)};function dS(t){this._internalRoot=t}bv.prototype.render=dS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(de(409));yv(t,e,null,null)};bv.prototype.unmount=dS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sl(function(){yv(null,t,null,null)}),e[lo]=null}};function bv(t){this._internalRoot=t}bv.prototype.unstable_scheduleHydration=function(t){if(t){var e=PM();t={blockedOn:null,target:t,priority:e};for(var n=0;n<$o.length&&e!==0&&e<$o[n].priority;n++);$o.splice(n,0,t),n===0&&OM(t)}};function fS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function xv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function nk(){}function UW(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=mg(o);s.call(c)}}var o=Z4(e,r,t,0,null,!1,!1,"",nk);return t._reactRootContainer=o,t[lo]=o.current,ld(t.nodeType===8?t.parentNode:t),sl(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=mg(l);a.call(c)}}var l=cS(t,0,!1,null,null,!1,!1,"",nk);return t._reactRootContainer=l,t[lo]=l.current,ld(t.nodeType===8?t.parentNode:t),sl(function(){yv(e,l,n,r)}),l}function wv(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=mg(o);a.call(l)}}yv(e,o,t,i)}else o=UW(n,e,t,i,r);return mg(o)}TM=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ch(e.pendingLanes);n!==0&&(R_(e,n|1),vr(e,an()),!(ct&6)&&(Qu=an()+500,ca()))}break;case 13:sl(function(){var r=uo(t,1);if(r!==null){var i=Jn();Qi(r,t,1,i)}}),hS(t,1)}};M_=function(t){if(t.tag===13){var e=uo(t,134217728);if(e!==null){var n=Jn();Qi(e,t,134217728,n)}hS(t,134217728)}};AM=function(t){if(t.tag===13){var e=Zo(t),n=uo(t,e);if(n!==null){var r=Jn();Qi(n,t,e,r)}hS(t,e)}};PM=function(){return wt};kM=function(t,e){var n=wt;try{return wt=t,e()}finally{wt=n}};qb=function(t,e,n){switch(e){case"input":if(Ub(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=hv(r);if(!i)throw Error(de(90));oM(r),Ub(r,i)}}}break;case"textarea":lM(t,n);break;case"select":e=n.value,e!=null&&Ru(t,!!n.multiple,e,!1)}};mM=oS;gM=sl;var zW={usingClientEntryPoint:!1,Events:[Xd,Eu,hv,fM,pM,oS]},sh={findFiberByHostInstance:Ua,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},HW={bundleType:sh.bundleType,version:sh.version,rendererPackageName:sh.rendererPackageName,rendererConfig:sh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=bM(t),t===null?null:t.stateNode},findFiberByHostInstance:sh.findFiberByHostInstance||$W,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rp.isDisabled&&Rp.supportsFiber)try{av=Rp.inject(HW),ks=Rp}catch{}}Xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zW;Xr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fS(e))throw Error(de(200));return NW(t,e,null,n)};Xr.createRoot=function(t,e){if(!fS(t))throw Error(de(299));var n=!1,r="",i=Q4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=cS(t,1,!1,null,null,n,!1,r,i),t[lo]=e.current,ld(t.nodeType===8?t.parentNode:t),new dS(e)};Xr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(de(188)):(t=Object.keys(t).join(","),Error(de(268,t)));return t=bM(e),t=t===null?null:t.stateNode,t};Xr.flushSync=function(t){return sl(t)};Xr.hydrate=function(t,e,n){if(!xv(e))throw Error(de(200));return wv(null,t,e,!0,n)};Xr.hydrateRoot=function(t,e,n){if(!fS(t))throw Error(de(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Q4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Z4(e,null,t,1,n??null,i,!1,s,o),t[lo]=e.current,ld(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new bv(e)};Xr.render=function(t,e,n){if(!xv(e))throw Error(de(200));return wv(null,t,e,!1,n)};Xr.unmountComponentAtNode=function(t){if(!xv(t))throw Error(de(40));return t._reactRootContainer?(sl(function(){wv(null,null,t,!1,function(){t._reactRootContainer=null,t[lo]=null})}),!0):!1};Xr.unstable_batchedUpdates=oS;Xr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!xv(n))throw Error(de(200));if(t==null||t._reactInternals===void 0)throw Error(de(38));return wv(t,e,n,!1,r)};Xr.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Xr})($H);var rk=Jh;Rb.createRoot=rk.createRoot,Rb.hydrateRoot=rk.hydrateRoot;var Tx=function(t,e){return Tx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Tx(t,e)};function _v(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Tx(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Ax(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function gg(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function vg(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function so(t){return typeof t=="function"}function J4(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var wy=J4(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function Px(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Sv=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=Ax(o),l=a.next();!l.done;l=a.next()){var c=l.value;c.remove(this)}}catch(y){e={error:y}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}else o.remove(this);var h=this.initialTeardown;if(so(h))try{h()}catch(y){s=y instanceof wy?y.errors:[y]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var p=Ax(f),m=p.next();!m.done;m=p.next()){var v=m.value;try{ik(v)}catch(y){s=s??[],y instanceof wy?s=vg(vg([],gg(s)),gg(y.errors)):s.push(y)}}}catch(y){r={error:y}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}}if(s)throw new wy(s)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)ik(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&Px(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&Px(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),eF=Sv.EMPTY;function tF(t){return t instanceof Sv||t&&"closed"in t&&so(t.remove)&&so(t.add)&&so(t.unsubscribe)}function ik(t){so(t)?t():t.unsubscribe()}var nF={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},kx={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=kx.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,vg([t,e],gg(n))):setTimeout.apply(void 0,vg([t,e],gg(n)))},clearTimeout:function(t){var e=kx.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function jW(t){kx.setTimeout(function(){throw t})}function sk(){}function Am(t){t()}var rF=function(t){_v(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,tF(n)&&n.add(r)):r.destination=qW,r}return e.create=function(n,r,i){return new Ox(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Sv),WW=Function.prototype.bind;function _y(t,e){return WW.call(t,e)}var GW=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){Mp(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){Mp(r)}else Mp(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){Mp(n)}},t}(),Ox=function(t){_v(e,t);function e(n,r,i){var s=t.call(this)||this,o;if(so(n)||!n)o={next:n??void 0,error:r??void 0,complete:i??void 0};else{var a;s&&nF.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return s.unsubscribe()},o={next:n.next&&_y(n.next,a),error:n.error&&_y(n.error,a),complete:n.complete&&_y(n.complete,a)}):o=n}return s.destination=new GW(o),s}return e}(rF);function Mp(t){jW(t)}function VW(t){throw t}var qW={closed:!0,next:sk,error:VW,complete:sk},XW=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function YW(t){return t}function KW(t){return t.length===0?YW:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var ok=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,s=QW(e)?e:new Ox(e,n,r);return Am(function(){var o=i,a=o.operator,l=o.source;s.add(a?a.call(s,l):l?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=ak(n),new n(function(i,s){var o=new Ox({next:function(a){try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[XW]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return KW(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=ak(e),new e(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},t.create=function(e){return new t(e)},t}();function ak(t){var e;return(e=t??nF.Promise)!==null&&e!==void 0?e:Promise}function ZW(t){return t&&so(t.next)&&so(t.error)&&so(t.complete)}function QW(t){return t&&t instanceof rF||ZW(t)&&tF(t)}var JW=J4(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),yg=function(t){_v(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new lk(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new JW},e.prototype.next=function(n){var r=this;Am(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=Ax(r.currentObservers),a=o.next();!a.done;a=o.next()){var l=a.value;l.next(n)}}catch(c){i={error:c}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;Am(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;Am(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?eF:(this.currentObservers=null,a.push(n),new Sv(function(){r.currentObservers=null,Px(a,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,s=r.thrownError,o=r.isStopped;i?n.error(s):o&&n.complete()},e.prototype.asObservable=function(){var n=new ok;return n.source=this,n},e.create=function(n,r){return new lk(n,r)},e}(ok),lk=function(t){_v(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:eF},e}(yg),eG=typeof global=="object"&&global&&global.Object===Object&&global;const iF=eG;var tG=typeof self=="object"&&self&&self.Object===Object&&self,nG=iF||tG||Function("return this")();const ls=nG;var rG=ls.Symbol;const Si=rG;var sF=Object.prototype,iG=sF.hasOwnProperty,sG=sF.toString,oh=Si?Si.toStringTag:void 0;function oG(t){var e=iG.call(t,oh),n=t[oh];try{t[oh]=void 0;var r=!0}catch{}var i=sG.call(t);return r&&(e?t[oh]=n:delete t[oh]),i}var aG=Object.prototype,lG=aG.toString;function uG(t){return lG.call(t)}var cG="[object Null]",hG="[object Undefined]",uk=Si?Si.toStringTag:void 0;function yo(t){return t==null?t===void 0?hG:cG:uk&&uk in Object(t)?oG(t):uG(t)}function Ei(t){return t!=null&&typeof t=="object"}var dG="[object Symbol]";function Ju(t){return typeof t=="symbol"||Ei(t)&&yo(t)==dG}function Ya(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var fG=Array.isArray;const ln=fG;var pG=1/0,ck=Si?Si.prototype:void 0,hk=ck?ck.toString:void 0;function pS(t){if(typeof t=="string")return t;if(ln(t))return Ya(t,pS)+"";if(Ju(t))return hk?hk.call(t):"";var e=t+"";return e=="0"&&1/t==-pG?"-0":e}var mG=/\s/;function gG(t){for(var e=t.length;e--&&mG.test(t.charAt(e)););return e}var vG=/^\s+/;function yG(t){return t&&t.slice(0,gG(t)+1).replace(vG,"")}function qr(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var dk=0/0,bG=/^[-+]0x[0-9a-f]+$/i,xG=/^0b[01]+$/i,wG=/^0o[0-7]+$/i,_G=parseInt;function Ix(t){if(typeof t=="number")return t;if(Ju(t))return dk;if(qr(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=qr(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=yG(t);var n=xG.test(t);return n||wG.test(t)?_G(t.slice(2),n?2:8):bG.test(t)?dk:+t}var fk=1/0,SG=17976931348623157e292;function EG(t){if(!t)return t===0?t:0;if(t=Ix(t),t===fk||t===-fk){var e=t<0?-1:1;return e*SG}return t===t?t:0}function Ev(t){var e=EG(t),n=e%1;return e===e?n?e-n:e:0}function Kd(t){return t}var CG="[object AsyncFunction]",TG="[object Function]",AG="[object GeneratorFunction]",PG="[object Proxy]";function qi(t){if(!qr(t))return!1;var e=yo(t);return e==TG||e==AG||e==CG||e==PG}var kG=ls["__core-js_shared__"];const Sy=kG;var pk=function(){var t=/[^.]+$/.exec(Sy&&Sy.keys&&Sy.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function OG(t){return!!pk&&pk in t}var IG=Function.prototype,RG=IG.toString;function yl(t){if(t!=null){try{return RG.call(t)}catch{}try{return t+""}catch{}}return""}var MG=/[\\^$.*+?()[\]{}|]/g,FG=/^\[object .+?Constructor\]$/,DG=Function.prototype,LG=Object.prototype,BG=DG.toString,NG=LG.hasOwnProperty,$G=RegExp("^"+BG.call(NG).replace(MG,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function UG(t){if(!qr(t)||OG(t))return!1;var e=qi(t)?$G:FG;return e.test(yl(t))}function zG(t,e){return t==null?void 0:t[e]}function bl(t,e){var n=zG(t,e);return UG(n)?n:void 0}var HG=bl(ls,"WeakMap");const Rx=HG;var mk=Object.create,jG=function(){function t(){}return function(e){if(!qr(e))return{};if(mk)return mk(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const WG=jG;function GG(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function VG(){}function oF(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var qG=800,XG=16,YG=Date.now;function KG(t){var e=0,n=0;return function(){var r=YG(),i=XG-(r-n);if(n=r,i>0){if(++e>=qG)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function ZG(t){return function(){return t}}var QG=function(){try{var t=bl(Object,"defineProperty");return t({},"",{}),t}catch{}}();const bg=QG;var JG=bg?function(t,e){return bg(t,"toString",{configurable:!0,enumerable:!1,value:ZG(e),writable:!0})}:Kd;const eV=JG;var tV=KG(eV);const nV=tV;function aF(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function lF(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function rV(t){return t!==t}function iV(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function uF(t,e,n){return e===e?iV(t,e,n):lF(t,rV,n)}function cF(t,e){var n=t==null?0:t.length;return!!n&&uF(t,e,0)>-1}var sV=9007199254740991,oV=/^(?:0|[1-9]\d*)$/;function mS(t,e){var n=typeof t;return e=e??sV,!!e&&(n=="number"||n!="symbol"&&oV.test(t))&&t>-1&&t%1==0&&t<e}function Cv(t,e,n){e=="__proto__"&&bg?bg(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Zd(t,e){return t===e||t!==t&&e!==e}var aV=Object.prototype,lV=aV.hasOwnProperty;function hF(t,e,n){var r=t[e];(!(lV.call(t,e)&&Zd(r,n))||n===void 0&&!(e in t))&&Cv(t,e,n)}function Qd(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?Cv(n,a,l):hF(n,a,l)}return n}var gk=Math.max;function uV(t,e,n){return e=gk(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=gk(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),GG(t,this,a)}}function gS(t,e){return nV(uV(t,e,Kd),t+"")}var cV=9007199254740991;function vS(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=cV}function ha(t){return t!=null&&vS(t.length)&&!qi(t)}function xg(t,e,n){if(!qr(n))return!1;var r=typeof e;return(r=="number"?ha(n)&&mS(e,n.length):r=="string"&&e in n)?Zd(n[e],t):!1}function hV(t){return gS(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&xg(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var dV=Object.prototype;function yS(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||dV;return t===n}function dF(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var fV="[object Arguments]";function vk(t){return Ei(t)&&yo(t)==fV}var fF=Object.prototype,pV=fF.hasOwnProperty,mV=fF.propertyIsEnumerable,gV=vk(function(){return arguments}())?vk:function(t){return Ei(t)&&pV.call(t,"callee")&&!mV.call(t,"callee")};const vd=gV;function vV(){return!1}var pF=typeof $r=="object"&&$r&&!$r.nodeType&&$r,yk=pF&&typeof Ur=="object"&&Ur&&!Ur.nodeType&&Ur,yV=yk&&yk.exports===pF,bk=yV?ls.Buffer:void 0,bV=bk?bk.isBuffer:void 0,xV=bV||vV;const yd=xV;var wV="[object Arguments]",_V="[object Array]",SV="[object Boolean]",EV="[object Date]",CV="[object Error]",TV="[object Function]",AV="[object Map]",PV="[object Number]",kV="[object Object]",OV="[object RegExp]",IV="[object Set]",RV="[object String]",MV="[object WeakMap]",FV="[object ArrayBuffer]",DV="[object DataView]",LV="[object Float32Array]",BV="[object Float64Array]",NV="[object Int8Array]",$V="[object Int16Array]",UV="[object Int32Array]",zV="[object Uint8Array]",HV="[object Uint8ClampedArray]",jV="[object Uint16Array]",WV="[object Uint32Array]",Ft={};Ft[LV]=Ft[BV]=Ft[NV]=Ft[$V]=Ft[UV]=Ft[zV]=Ft[HV]=Ft[jV]=Ft[WV]=!0;Ft[wV]=Ft[_V]=Ft[FV]=Ft[SV]=Ft[DV]=Ft[EV]=Ft[CV]=Ft[TV]=Ft[AV]=Ft[PV]=Ft[kV]=Ft[OV]=Ft[IV]=Ft[RV]=Ft[MV]=!1;function GV(t){return Ei(t)&&vS(t.length)&&!!Ft[yo(t)]}function Jd(t){return function(e){return t(e)}}var mF=typeof $r=="object"&&$r&&!$r.nodeType&&$r,Xh=mF&&typeof Ur=="object"&&Ur&&!Ur.nodeType&&Ur,VV=Xh&&Xh.exports===mF,Ey=VV&&iF.process,qV=function(){try{var t=Xh&&Xh.require&&Xh.require("util").types;return t||Ey&&Ey.binding&&Ey.binding("util")}catch{}}();const ec=qV;var xk=ec&&ec.isTypedArray,XV=xk?Jd(xk):GV;const bS=XV;var YV=Object.prototype,KV=YV.hasOwnProperty;function gF(t,e){var n=ln(t),r=!n&&vd(t),i=!n&&!r&&yd(t),s=!n&&!r&&!i&&bS(t),o=n||r||i||s,a=o?dF(t.length,String):[],l=a.length;for(var c in t)(e||KV.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||mS(c,l)))&&a.push(c);return a}function vF(t,e){return function(n){return t(e(n))}}var ZV=vF(Object.keys,Object);const QV=ZV;var JV=Object.prototype,eq=JV.hasOwnProperty;function tq(t){if(!yS(t))return QV(t);var e=[];for(var n in Object(t))eq.call(t,n)&&n!="constructor"&&e.push(n);return e}function xl(t){return ha(t)?gF(t):tq(t)}function nq(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var rq=Object.prototype,iq=rq.hasOwnProperty;function sq(t){if(!qr(t))return nq(t);var e=yS(t),n=[];for(var r in t)r=="constructor"&&(e||!iq.call(t,r))||n.push(r);return n}function ef(t){return ha(t)?gF(t,!0):sq(t)}var oq=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,aq=/^\w*$/;function xS(t,e){if(ln(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Ju(t)?!0:aq.test(t)||!oq.test(t)||e!=null&&t in Object(e)}var lq=bl(Object,"create");const bd=lq;function uq(){this.__data__=bd?bd(null):{},this.size=0}function cq(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var hq="__lodash_hash_undefined__",dq=Object.prototype,fq=dq.hasOwnProperty;function pq(t){var e=this.__data__;if(bd){var n=e[t];return n===hq?void 0:n}return fq.call(e,t)?e[t]:void 0}var mq=Object.prototype,gq=mq.hasOwnProperty;function vq(t){var e=this.__data__;return bd?e[t]!==void 0:gq.call(e,t)}var yq="__lodash_hash_undefined__";function bq(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=bd&&e===void 0?yq:e,this}function ol(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ol.prototype.clear=uq;ol.prototype.delete=cq;ol.prototype.get=pq;ol.prototype.has=vq;ol.prototype.set=bq;function xq(){this.__data__=[],this.size=0}function Tv(t,e){for(var n=t.length;n--;)if(Zd(t[n][0],e))return n;return-1}var wq=Array.prototype,_q=wq.splice;function Sq(t){var e=this.__data__,n=Tv(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():_q.call(e,n,1),--this.size,!0}function Eq(t){var e=this.__data__,n=Tv(e,t);return n<0?void 0:e[n][1]}function Cq(t){return Tv(this.__data__,t)>-1}function Tq(t,e){var n=this.__data__,r=Tv(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function bo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}bo.prototype.clear=xq;bo.prototype.delete=Sq;bo.prototype.get=Eq;bo.prototype.has=Cq;bo.prototype.set=Tq;var Aq=bl(ls,"Map");const xd=Aq;function Pq(){this.size=0,this.__data__={hash:new ol,map:new(xd||bo),string:new ol}}function kq(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Av(t,e){var n=t.__data__;return kq(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Oq(t){var e=Av(this,t).delete(t);return this.size-=e?1:0,e}function Iq(t){return Av(this,t).get(t)}function Rq(t){return Av(this,t).has(t)}function Mq(t,e){var n=Av(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function xo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}xo.prototype.clear=Pq;xo.prototype.delete=Oq;xo.prototype.get=Iq;xo.prototype.has=Rq;xo.prototype.set=Mq;var Fq="Expected a function";function wS(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Fq);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(wS.Cache||xo),n}wS.Cache=xo;var Dq=500;function Lq(t){var e=wS(t,function(r){return n.size===Dq&&n.clear(),r}),n=e.cache;return e}var Bq=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Nq=/\\(\\)?/g,$q=Lq(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Bq,function(n,r,i,s){e.push(i?s.replace(Nq,"$1"):r||n)}),e});const Uq=$q;function yF(t){return t==null?"":pS(t)}function bF(t,e){return ln(t)?t:xS(t,e)?[t]:Uq(yF(t))}var zq=1/0;function Pv(t){if(typeof t=="string"||Ju(t))return t;var e=t+"";return e=="0"&&1/t==-zq?"-0":e}function _S(t,e){e=bF(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Pv(e[n++])];return n&&n==r?t:void 0}function Hq(t,e,n){var r=t==null?void 0:_S(t,e);return r===void 0?n:r}function SS(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var wk=Si?Si.isConcatSpreadable:void 0;function jq(t){return ln(t)||vd(t)||!!(wk&&t&&t[wk])}function ES(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=jq),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?ES(a,e-1,n,r,i):SS(i,a):r||(i[i.length]=a)}return i}var Wq=vF(Object.getPrototypeOf,Object);const CS=Wq;var Gq="[object Object]",Vq=Function.prototype,qq=Object.prototype,xF=Vq.toString,Xq=qq.hasOwnProperty,Yq=xF.call(Object);function Kq(t){if(!Ei(t)||yo(t)!=Gq)return!1;var e=CS(t);if(e===null)return!0;var n=Xq.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&xF.call(n)==Yq}function Zq(t,e,n,r){var i=-1,s=t==null?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}function Qq(t,e,n){return t===t&&(n!==void 0&&(t=t<=n?t:n),e!==void 0&&(t=t>=e?t:e)),t}function Jq(){this.__data__=new bo,this.size=0}function eX(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function tX(t){return this.__data__.get(t)}function nX(t){return this.__data__.has(t)}var rX=200;function iX(t,e){var n=this.__data__;if(n instanceof bo){var r=n.__data__;if(!xd||r.length<rX-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new xo(r)}return n.set(t,e),this.size=n.size,this}function Ji(t){var e=this.__data__=new bo(t);this.size=e.size}Ji.prototype.clear=Jq;Ji.prototype.delete=eX;Ji.prototype.get=tX;Ji.prototype.has=nX;Ji.prototype.set=iX;function sX(t,e){return t&&Qd(e,xl(e),t)}function oX(t,e){return t&&Qd(e,ef(e),t)}var wF=typeof $r=="object"&&$r&&!$r.nodeType&&$r,_k=wF&&typeof Ur=="object"&&Ur&&!Ur.nodeType&&Ur,aX=_k&&_k.exports===wF,Sk=aX?ls.Buffer:void 0,Ek=Sk?Sk.allocUnsafe:void 0;function _F(t,e){if(e)return t.slice();var n=t.length,r=Ek?Ek(n):new t.constructor(n);return t.copy(r),r}function SF(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function EF(){return[]}var lX=Object.prototype,uX=lX.propertyIsEnumerable,Ck=Object.getOwnPropertySymbols,cX=Ck?function(t){return t==null?[]:(t=Object(t),SF(Ck(t),function(e){return uX.call(t,e)}))}:EF;const TS=cX;function hX(t,e){return Qd(t,TS(t),e)}var dX=Object.getOwnPropertySymbols,fX=dX?function(t){for(var e=[];t;)SS(e,TS(t)),t=CS(t);return e}:EF;const CF=fX;function pX(t,e){return Qd(t,CF(t),e)}function TF(t,e,n){var r=e(t);return ln(t)?r:SS(r,n(t))}function Mx(t){return TF(t,xl,TS)}function mX(t){return TF(t,ef,CF)}var gX=bl(ls,"DataView");const Fx=gX;var vX=bl(ls,"Promise");const Dx=vX;var yX=bl(ls,"Set");const Nu=yX;var Tk="[object Map]",bX="[object Object]",Ak="[object Promise]",Pk="[object Set]",kk="[object WeakMap]",Ok="[object DataView]",xX=yl(Fx),wX=yl(xd),_X=yl(Dx),SX=yl(Nu),EX=yl(Rx),Ma=yo;(Fx&&Ma(new Fx(new ArrayBuffer(1)))!=Ok||xd&&Ma(new xd)!=Tk||Dx&&Ma(Dx.resolve())!=Ak||Nu&&Ma(new Nu)!=Pk||Rx&&Ma(new Rx)!=kk)&&(Ma=function(t){var e=yo(t),n=e==bX?t.constructor:void 0,r=n?yl(n):"";if(r)switch(r){case xX:return Ok;case wX:return Tk;case _X:return Ak;case SX:return Pk;case EX:return kk}return e});const wd=Ma;var CX=Object.prototype,TX=CX.hasOwnProperty;function AX(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&TX.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var PX=ls.Uint8Array;const wg=PX;function AS(t){var e=new t.constructor(t.byteLength);return new wg(e).set(new wg(t)),e}function kX(t,e){var n=e?AS(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var OX=/\w*$/;function IX(t){var e=new t.constructor(t.source,OX.exec(t));return e.lastIndex=t.lastIndex,e}var Ik=Si?Si.prototype:void 0,Rk=Ik?Ik.valueOf:void 0;function RX(t){return Rk?Object(Rk.call(t)):{}}function AF(t,e){var n=e?AS(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var MX="[object Boolean]",FX="[object Date]",DX="[object Map]",LX="[object Number]",BX="[object RegExp]",NX="[object Set]",$X="[object String]",UX="[object Symbol]",zX="[object ArrayBuffer]",HX="[object DataView]",jX="[object Float32Array]",WX="[object Float64Array]",GX="[object Int8Array]",VX="[object Int16Array]",qX="[object Int32Array]",XX="[object Uint8Array]",YX="[object Uint8ClampedArray]",KX="[object Uint16Array]",ZX="[object Uint32Array]";function QX(t,e,n){var r=t.constructor;switch(e){case zX:return AS(t);case MX:case FX:return new r(+t);case HX:return kX(t,n);case jX:case WX:case GX:case VX:case qX:case XX:case YX:case KX:case ZX:return AF(t,n);case DX:return new r;case LX:case $X:return new r(t);case BX:return IX(t);case NX:return new r;case UX:return RX(t)}}function PF(t){return typeof t.constructor=="function"&&!yS(t)?WG(CS(t)):{}}var JX="[object Map]";function eY(t){return Ei(t)&&wd(t)==JX}var Mk=ec&&ec.isMap,tY=Mk?Jd(Mk):eY;const nY=tY;var rY="[object Set]";function iY(t){return Ei(t)&&wd(t)==rY}var Fk=ec&&ec.isSet,sY=Fk?Jd(Fk):iY;const oY=sY;var aY=1,lY=2,uY=4,kF="[object Arguments]",cY="[object Array]",hY="[object Boolean]",dY="[object Date]",fY="[object Error]",OF="[object Function]",pY="[object GeneratorFunction]",mY="[object Map]",gY="[object Number]",IF="[object Object]",vY="[object RegExp]",yY="[object Set]",bY="[object String]",xY="[object Symbol]",wY="[object WeakMap]",_Y="[object ArrayBuffer]",SY="[object DataView]",EY="[object Float32Array]",CY="[object Float64Array]",TY="[object Int8Array]",AY="[object Int16Array]",PY="[object Int32Array]",kY="[object Uint8Array]",OY="[object Uint8ClampedArray]",IY="[object Uint16Array]",RY="[object Uint32Array]",Pt={};Pt[kF]=Pt[cY]=Pt[_Y]=Pt[SY]=Pt[hY]=Pt[dY]=Pt[EY]=Pt[CY]=Pt[TY]=Pt[AY]=Pt[PY]=Pt[mY]=Pt[gY]=Pt[IF]=Pt[vY]=Pt[yY]=Pt[bY]=Pt[xY]=Pt[kY]=Pt[OY]=Pt[IY]=Pt[RY]=!0;Pt[fY]=Pt[OF]=Pt[wY]=!1;function Pm(t,e,n,r,i,s){var o,a=e&aY,l=e&lY,c=e&uY;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!qr(t))return t;var h=ln(t);if(h){if(o=AX(t),!a)return oF(t,o)}else{var f=wd(t),p=f==OF||f==pY;if(yd(t))return _F(t,a);if(f==IF||f==kF||p&&!i){if(o=l||p?{}:PF(t),!a)return l?pX(t,oX(o,t)):hX(t,sX(o,t))}else{if(!Pt[f])return i?t:{};o=QX(t,f,a)}}s||(s=new Ji);var m=s.get(t);if(m)return m;s.set(t,o),oY(t)?t.forEach(function(x){o.add(Pm(x,e,n,x,t,s))}):nY(t)&&t.forEach(function(x,b){o.set(b,Pm(x,e,n,b,t,s))});var v=c?l?mX:Mx:l?ef:xl,y=h?void 0:v(t);return aF(y||t,function(x,b){y&&(b=x,x=t[b]),hF(o,b,Pm(x,e,n,b,t,s))}),o}var MY=4;function ut(t){return Pm(t,MY)}function Dk(t){for(var e=-1,n=t==null?0:t.length,r=0,i=[];++e<n;){var s=t[e];s&&(i[r++]=s)}return i}var FY="__lodash_hash_undefined__";function DY(t){return this.__data__.set(t,FY),this}function LY(t){return this.__data__.has(t)}function tc(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new xo;++e<n;)this.add(t[e])}tc.prototype.add=tc.prototype.push=DY;tc.prototype.has=LY;function RF(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function PS(t,e){return t.has(e)}var BY=1,NY=2;function MF(t,e,n,r,i,s){var o=n&BY,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),h=s.get(e);if(c&&h)return c==e&&h==t;var f=-1,p=!0,m=n&NY?new tc:void 0;for(s.set(t,e),s.set(e,t);++f<a;){var v=t[f],y=e[f];if(r)var x=o?r(y,v,f,e,t,s):r(v,y,f,t,e,s);if(x!==void 0){if(x)continue;p=!1;break}if(m){if(!RF(e,function(b,_){if(!PS(m,_)&&(v===b||i(v,b,n,r,s)))return m.push(_)})){p=!1;break}}else if(!(v===y||i(v,y,n,r,s))){p=!1;break}}return s.delete(t),s.delete(e),p}function $Y(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function kS(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var UY=1,zY=2,HY="[object Boolean]",jY="[object Date]",WY="[object Error]",GY="[object Map]",VY="[object Number]",qY="[object RegExp]",XY="[object Set]",YY="[object String]",KY="[object Symbol]",ZY="[object ArrayBuffer]",QY="[object DataView]",Lk=Si?Si.prototype:void 0,Cy=Lk?Lk.valueOf:void 0;function JY(t,e,n,r,i,s,o){switch(n){case QY:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ZY:return!(t.byteLength!=e.byteLength||!s(new wg(t),new wg(e)));case HY:case jY:case VY:return Zd(+t,+e);case WY:return t.name==e.name&&t.message==e.message;case qY:case YY:return t==e+"";case GY:var a=$Y;case XY:var l=r&UY;if(a||(a=kS),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=zY,o.set(t,e);var h=MF(a(t),a(e),r,i,s,o);return o.delete(t),h;case KY:if(Cy)return Cy.call(t)==Cy.call(e)}return!1}var eK=1,tK=Object.prototype,nK=tK.hasOwnProperty;function rK(t,e,n,r,i,s){var o=n&eK,a=Mx(t),l=a.length,c=Mx(e),h=c.length;if(l!=h&&!o)return!1;for(var f=l;f--;){var p=a[f];if(!(o?p in e:nK.call(e,p)))return!1}var m=s.get(t),v=s.get(e);if(m&&v)return m==e&&v==t;var y=!0;s.set(t,e),s.set(e,t);for(var x=o;++f<l;){p=a[f];var b=t[p],_=e[p];if(r)var w=o?r(_,b,p,e,t,s):r(b,_,p,t,e,s);if(!(w===void 0?b===_||i(b,_,n,r,s):w)){y=!1;break}x||(x=p=="constructor")}if(y&&!x){var E=t.constructor,O=e.constructor;E!=O&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof O=="function"&&O instanceof O)&&(y=!1)}return s.delete(t),s.delete(e),y}var iK=1,Bk="[object Arguments]",Nk="[object Array]",Fp="[object Object]",sK=Object.prototype,$k=sK.hasOwnProperty;function oK(t,e,n,r,i,s){var o=ln(t),a=ln(e),l=o?Nk:wd(t),c=a?Nk:wd(e);l=l==Bk?Fp:l,c=c==Bk?Fp:c;var h=l==Fp,f=c==Fp,p=l==c;if(p&&yd(t)){if(!yd(e))return!1;o=!0,h=!1}if(p&&!h)return s||(s=new Ji),o||bS(t)?MF(t,e,n,r,i,s):JY(t,e,l,n,r,i,s);if(!(n&iK)){var m=h&&$k.call(t,"__wrapped__"),v=f&&$k.call(e,"__wrapped__");if(m||v){var y=m?t.value():t,x=v?e.value():e;return s||(s=new Ji),i(y,x,n,r,s)}}return p?(s||(s=new Ji),rK(t,e,n,r,i,s)):!1}function OS(t,e,n,r,i){return t===e?!0:t==null||e==null||!Ei(t)&&!Ei(e)?t!==t&&e!==e:oK(t,e,n,r,OS,i)}var aK=1,lK=2;function uK(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],c=t[l],h=a[1];if(o&&a[2]){if(c===void 0&&!(l in t))return!1}else{var f=new Ji;if(r)var p=r(c,h,l,t,e,f);if(!(p===void 0?OS(h,c,aK|lK,r,f):p))return!1}}return!0}function FF(t){return t===t&&!qr(t)}function cK(t){for(var e=xl(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,FF(i)]}return e}function DF(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function hK(t){var e=cK(t);return e.length==1&&e[0][2]?DF(e[0][0],e[0][1]):function(n){return n===t||uK(n,t,e)}}function dK(t,e){return t!=null&&e in Object(t)}function fK(t,e,n){e=bF(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=Pv(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&vS(i)&&mS(o,i)&&(ln(t)||vd(t)))}function pK(t,e){return t!=null&&fK(t,e,dK)}var mK=1,gK=2;function vK(t,e){return xS(t)&&FF(e)?DF(Pv(t),e):function(n){var r=Hq(n,t);return r===void 0&&r===e?pK(n,t):OS(e,r,mK|gK)}}function yK(t){return function(e){return e==null?void 0:e[t]}}function bK(t){return function(e){return _S(e,t)}}function xK(t){return xS(t)?yK(Pv(t)):bK(t)}function da(t){return typeof t=="function"?t:t==null?Kd:typeof t=="object"?ln(t)?vK(t[0],t[1]):hK(t):xK(t)}function wK(t,e,n,r){for(var i=-1,s=t==null?0:t.length;++i<s;){var o=t[i];e(r,o,n(o),t)}return r}function _K(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var SK=_K();const LF=SK;function EK(t,e){return t&&LF(t,e,xl)}function CK(t,e){return function(n,r){if(n==null)return n;if(!ha(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var TK=CK(EK);const bc=TK;function AK(t,e,n,r){return bc(t,function(i,s,o){e(r,i,n(i),o)}),r}function PK(t,e){return function(n,r){var i=ln(n)?wK:AK,s=e?e():{};return i(n,t,da(r),s)}}var kK=function(){return ls.Date.now()};const Ty=kK;var OK="Expected a function",IK=Math.max,RK=Math.min;function BF(t,e,n){var r,i,s,o,a,l,c=0,h=!1,f=!1,p=!0;if(typeof t!="function")throw new TypeError(OK);e=Ix(e)||0,qr(n)&&(h=!!n.leading,f="maxWait"in n,s=f?IK(Ix(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p);function m(A){var M=r,L=i;return r=i=void 0,c=A,o=t.apply(L,M),o}function v(A){return c=A,a=setTimeout(b,e),h?m(A):o}function y(A){var M=A-l,L=A-c,H=e-M;return f?RK(H,s-L):H}function x(A){var M=A-l,L=A-c;return l===void 0||M>=e||M<0||f&&L>=s}function b(){var A=Ty();if(x(A))return _(A);a=setTimeout(b,y(A))}function _(A){return a=void 0,p&&r?m(A):(r=i=void 0,o)}function w(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function E(){return a===void 0?o:_(Ty())}function O(){var A=Ty(),M=x(A);if(r=arguments,i=this,l=A,M){if(a===void 0)return v(l);if(f)return clearTimeout(a),a=setTimeout(b,e),m(l)}return a===void 0&&(a=setTimeout(b,e)),o}return O.cancel=w,O.flush=E,O}function Lx(t,e,n){(n!==void 0&&!Zd(t[e],n)||n===void 0&&!(e in t))&&Cv(t,e,n)}function Bx(t){return Ei(t)&&ha(t)}function Nx(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function MK(t){return Qd(t,ef(t))}function FK(t,e,n,r,i,s,o){var a=Nx(t,n),l=Nx(e,n),c=o.get(l);if(c){Lx(t,n,c);return}var h=s?s(a,l,n+"",t,e,o):void 0,f=h===void 0;if(f){var p=ln(l),m=!p&&yd(l),v=!p&&!m&&bS(l);h=l,p||m||v?ln(a)?h=a:Bx(a)?h=oF(a):m?(f=!1,h=_F(l,!0)):v?(f=!1,h=AF(l,!0)):h=[]:Kq(l)||vd(l)?(h=a,vd(a)?h=MK(a):(!qr(a)||qi(a))&&(h=PF(l))):f=!1}f&&(o.set(l,h),i(h,l,r,s,o),o.delete(l)),Lx(t,n,h)}function NF(t,e,n,r,i){t!==e&&LF(e,function(s,o){if(i||(i=new Ji),qr(s))FK(t,e,o,n,NF,r,i);else{var a=r?r(Nx(t,o),s,o+"",t,e,i):void 0;a===void 0&&(a=s),Lx(t,o,a)}},ef)}function $F(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var DK=200;function LK(t,e,n,r){var i=-1,s=cF,o=!0,a=t.length,l=[],c=e.length;if(!a)return l;n&&(e=Ya(e,Jd(n))),r?(s=$F,o=!1):e.length>=DK&&(s=PS,o=!1,e=new tc(e));e:for(;++i<a;){var h=t[i],f=n==null?h:n(h);if(h=r||h!==0?h:0,o&&f===f){for(var p=c;p--;)if(e[p]===f)continue e;l.push(h)}else s(e,f,r)||l.push(h)}return l}var BK=gS(function(t,e){return Bx(t)?LK(t,ES(e,1,Bx,!0)):[]});const IS=BK;function UF(t){return typeof t=="function"?t:Kd}function mt(t,e){var n=ln(t)?aF:bc;return n(t,UF(e))}function NK(t,e){var n=[];return bc(t,function(r,i,s){e(r,i,s)&&n.push(r)}),n}function er(t,e){var n=ln(t)?SF:NK;return n(t,da(e))}function $K(t){return function(e,n,r){var i=Object(e);if(!ha(e)){var s=da(n);e=xl(e),n=function(a){return s(i[a],a,i)}}var o=t(e,n,r);return o>-1?i[s?e[o]:o]:void 0}}var UK=Math.max;function zK(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Ev(n);return i<0&&(i=UK(r+i,0)),lF(t,da(e),i)}var HK=$K(zK);const Ge=HK;function zF(t,e){var n=-1,r=ha(t)?Array(t.length):[];return bc(t,function(i,s,o){r[++n]=e(i,s,o)}),r}function ze(t,e){var n=ln(t)?Ya:zF;return n(t,da(e))}var jK=Object.prototype,WK=jK.hasOwnProperty,GK=PK(function(t,e,n){WK.call(t,n)?t[n].push(e):Cv(t,n,[e])});const VK=GK;var qK="[object String]";function HF(t){return typeof t=="string"||!ln(t)&&Ei(t)&&yo(t)==qK}function XK(t,e){return Ya(e,function(n){return t[n]})}function YK(t){return t==null?[]:XK(t,xl(t))}var KK=Math.max;function tf(t,e,n,r){t=ha(t)?t:YK(t),n=n&&!r?Ev(n):0;var i=t.length;return n<0&&(n=KK(i+n,0)),HF(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&uF(t,e,n)>-1}var ZK="[object Number]";function QK(t){return typeof t=="number"||Ei(t)&&yo(t)==ZK}function Fr(t){return t===void 0}var JK=hV(function(t,e,n){NF(t,e,n)});const br=JK;function eZ(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function tZ(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=Ju(t),o=e!==void 0,a=e===null,l=e===e,c=Ju(e);if(!a&&!c&&!s&&t>e||s&&o&&l&&!a&&!c||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!c&&t<e||c&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}function nZ(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var l=tZ(i[r],s[r]);if(l){if(r>=a)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}function rZ(t,e,n){e.length?e=Ya(e,function(s){return ln(s)?function(o){return _S(o,s.length===1?s[0]:s)}:s}):e=[Kd];var r=-1;e=Ya(e,Jd(da));var i=zF(t,function(s,o,a){var l=Ya(e,function(c){return c(s)});return{criteria:l,index:++r,value:s}});return eZ(i,function(s,o){return nZ(s,o,n)})}function iZ(t,e,n,r,i){return i(t,function(s,o,a){n=r?(r=!1,s):e(n,s,o,a)}),n}function RS(t,e,n){var r=ln(t)?Zq:iZ,i=arguments.length<3;return r(t,da(e),n,i,bc)}function sZ(t,e){var n;return bc(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}function nf(t,e,n){var r=ln(t)?RF:sZ;return n&&xg(t,e,n)&&(e=void 0),r(t,da(e))}var oZ=gS(function(t,e){if(t==null)return[];var n=e.length;return n>1&&xg(t,e[0],e[1])?e=[]:n>2&&xg(e[0],e[1],e[2])&&(e=[e[0]]),rZ(t,ES(e,1),[])});const vi=oZ;function aZ(t,e,n){return t=yF(t),n=n==null?0:Qq(Ev(n),0,t.length),e=pS(e),t.slice(n,n+e.length)==e}var lZ="Expected a function";function uZ(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(lZ);return qr(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),BF(t,e,{leading:r,maxWait:e,trailing:i})}var cZ=9007199254740991,Ay=4294967295,hZ=Math.min;function rf(t,e){if(t=Ev(t),t<1||t>cZ)return[];var n=Ay,r=hZ(t,Ay);e=UF(e),t-=Ay;for(var i=dF(r,e);++n<t;)e(n);return i}var dZ=1/0,fZ=Nu&&1/kS(new Nu([,-0]))[1]==dZ?function(t){return new Nu(t)}:VG;const pZ=fZ;var mZ=200;function gZ(t,e,n){var r=-1,i=cF,s=t.length,o=!0,a=[],l=a;if(n)o=!1,i=$F;else if(s>=mZ){var c=e?null:pZ(t);if(c)return kS(c);o=!1,i=PS,l=new tc}else l=e?[]:a;e:for(;++r<s;){var h=t[r],f=e?e(h):h;if(h=n||h!==0?h:0,o&&f===f){for(var p=l.length;p--;)if(l[p]===f)continue e;e&&l.push(f),a.push(h)}else i(l,f,n)||(l!==a&&l.push(f),a.push(h))}return a}function al(t){return t&&t.length?gZ(t):[]}const us=T.createContext({});function vZ(){const t=window.localStorage.getItem("dragon-build");return t?JSON.parse(t):[]}function yZ(){const t=window.localStorage.getItem("dragon-custom-units");return t?JSON.parse(t):[]}function bZ(){const t=window.localStorage.getItem("dragon-default-units");if(t)try{return JSON.parse(t)}catch{return[]}else return[]}const xZ=(t,e)=>{const{index:n,unit:r,units:i,type:s}=e;let o=ut(t);if(s==="save")try{window.localStorage.setItem("dragon-default-units",JSON.stringify(o))}catch{}if(s==="add")return o=[...o,r],o;if(s==="set")return o=i,window.localStorage.setItem("dragon-default-units",JSON.stringify(o)),o;if(s==="update")return o=ze(o,a=>a.id===r.id?r:a),window.localStorage.setItem("dragon-default-units",JSON.stringify(o)),o;if(s==="remove"){const a=t.findIndex(c=>c.id===r.id);if(a<0)return t;const l=[...t];return l.splice(a,1),window.localStorage.setItem("dragon-default-units",JSON.stringify(l)),l}return t},wZ=(t,e)=>{const{index:n,unit:r,units:i,type:s}=e;let o=ut(t);if(s==="save")try{window.localStorage.setItem("dragon-custom-units",JSON.stringify(o))}catch{}if(s==="add")return o=[...o,r],o;if(s==="set")return o=i,window.localStorage.setItem("dragon-custom-units",JSON.stringify(o)),o;if(s==="update")return o=ze(o,a=>a.id===r.id?r:a),window.localStorage.setItem("dragon-custom-units",JSON.stringify(o)),o;if(s==="remove"){const a=t.findIndex(c=>c.id===r.id);if(a<0)return t;const l=[...t];return l.splice(a,1),window.localStorage.setItem("dragon-custom-units",JSON.stringify(l)),l}return t},_Z=(t,e)=>{const{build:n,type:r}=e;let i=ut(t);return r==="imported"?(i=n,i):t},SZ=(t,e)=>{const{build:n,type:r}=e;let i=ut(t);return r==="set"?(i=n,window.localStorage.setItem("dragon-build",JSON.stringify(i)),i):t},EZ=({children:t})=>{const[e,n]=T.useReducer(SZ,vZ()),[r,i]=T.useReducer(_Z,e==null?void 0:e.exportableBuild),[s,o]=T.useReducer(wZ,yZ()),[a,l]=T.useReducer(xZ,bZ()),[c,h]=T.useState({type:"custom",unit:null});return k(us.Provider,{value:{build:e,setBuild:n,savedBuild:r,setSavedBuild:i,customUnits:s,setCustomUnits:o,defaultUnits:a,setDefaultUnits:l,selectedUnit:c,setSelectedUnit:h},children:t})},cs=T.createContext({});function CZ(){const t=window.localStorage.getItem("dragon-config-version");if(t)try{return JSON.parse(t)}catch{return"0.0.0"}else return"0.0.0"}function TZ(){const t={code:"right",edit:"right",help:"right",info:"left",sheet:"right",settings:"left",theme:"left",units:"left",zap:"right"},e=window.localStorage.getItem("dragon-app-menu-config");if(e)try{return JSON.parse(e)}catch{return t}else return t}function AZ(t,e){const{type:n,version:r}=e;if(n==="set")return window.localStorage.setItem("dragon-config-version",JSON.stringify(r)),r}function PZ(t,e){const{type:n,config:r,item:i}=e;let s=ut(t);if(n==="setItem")return s={...s,...i},window.localStorage.setItem("dragon-app-menu-config",JSON.stringify(s)),s}const kZ=({children:t})=>{const[e,n]=T.useState("build-slow"),[r,i]=T.useState("build-slow"),[s,o]=T.useState(!1),[a,l]=T.useState(!0),[c,h]=T.useReducer(AZ,CZ()),[f,p]=T.useReducer(PZ,TZ()),[m,v]=T.useState({left:"info",right:"sheet"});return k(cs.Provider,{value:{appMode:e,setAppMode:n,rightExpanded:s,setRightExpanded:o,leftExpanded:a,setLeftExpanded:l,version:c,setVersion:h,buildMode:r,setBuildMode:i,appMenuConfig:f,setAppMenuConfig:p,selectedMenus:m,setSelectedMenus:v},children:t})};var B={},OZ={get exports(){return B},set exports(t){B=t}},IZ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",RZ=IZ,MZ=RZ;function jF(){}function WF(){}WF.resetWarningCache=jF;var FZ=function(){function t(r,i,s,o,a,l){if(l!==MZ){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:WF,resetWarningCache:jF};return n.PropTypes=n,n};OZ.exports=FZ();function $x(){return $x=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$x.apply(this,arguments)}function DZ(t,e){if(t==null)return{};var n=LZ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var MS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=DZ(t,["color","size"]);return P.createElement("svg",$x({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),P.createElement("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"}))});MS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};MS.displayName="BookOpen";const BZ=MS;function Ux(){return Ux=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ux.apply(this,arguments)}function NZ(t,e){if(t==null)return{};var n=$Z(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $Z(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var FS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=NZ(t,["color","size"]);return P.createElement("svg",Ux({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),P.createElement("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"}))});FS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};FS.displayName="Book";const UZ=FS;function zx(){return zx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zx.apply(this,arguments)}function zZ(t,e){if(t==null)return{};var n=HZ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function HZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var DS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=zZ(t,["color","size"]);return P.createElement("svg",zx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"20 6 9 17 4 12"}))});DS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};DS.displayName="Check";const jZ=DS;function Hx(){return Hx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hx.apply(this,arguments)}function WZ(t,e){if(t==null)return{};var n=GZ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var LS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=WZ(t,["color","size"]);return P.createElement("svg",Hx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"6 9 12 15 18 9"}))});LS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};LS.displayName="ChevronDown";const GF=LS;function jx(){return jx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jx.apply(this,arguments)}function VZ(t,e){if(t==null)return{};var n=qZ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var BS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=VZ(t,["color","size"]);return P.createElement("svg",jx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"18 15 12 9 6 15"}))});BS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};BS.displayName="ChevronUp";const VF=BS;function Wx(){return Wx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wx.apply(this,arguments)}function XZ(t,e){if(t==null)return{};var n=YZ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var NS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=XZ(t,["color","size"]);return P.createElement("svg",Wx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"7 13 12 18 17 13"}),P.createElement("polyline",{points:"7 6 12 11 17 6"}))});NS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};NS.displayName="ChevronsDown";const qF=NS;function Gx(){return Gx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gx.apply(this,arguments)}function KZ(t,e){if(t==null)return{};var n=ZZ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var $S=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=KZ(t,["color","size"]);return P.createElement("svg",Gx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"11 17 6 12 11 7"}),P.createElement("polyline",{points:"18 17 13 12 18 7"}))});$S.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};$S.displayName="ChevronsLeft";const QZ=$S;function Vx(){return Vx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vx.apply(this,arguments)}function JZ(t,e){if(t==null)return{};var n=eQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var US=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=JZ(t,["color","size"]);return P.createElement("svg",Vx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"13 17 18 12 13 7"}),P.createElement("polyline",{points:"6 17 11 12 6 7"}))});US.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};US.displayName="ChevronsRight";const tQ=US;function qx(){return qx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qx.apply(this,arguments)}function nQ(t,e){if(t==null)return{};var n=rQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var zS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=nQ(t,["color","size"]);return P.createElement("svg",qx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"17 11 12 6 7 11"}),P.createElement("polyline",{points:"17 18 12 13 7 18"}))});zS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};zS.displayName="ChevronsUp";const XF=zS;function Xx(){return Xx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xx.apply(this,arguments)}function iQ(t,e){if(t==null)return{};var n=sQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var HS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=iQ(t,["color","size"]);return P.createElement("svg",Xx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("path",{d:"M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"}),P.createElement("polyline",{points:"13 11 9 17 15 17 11 23"}))});HS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};HS.displayName="CloudLightning";const oQ=HS;function Yx(){return Yx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yx.apply(this,arguments)}function aQ(t,e){if(t==null)return{};var n=lQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var jS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=aQ(t,["color","size"]);return P.createElement("svg",Yx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),P.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))});jS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};jS.displayName="Copy";const uQ=jS;function Kx(){return Kx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kx.apply(this,arguments)}function cQ(t,e){if(t==null)return{};var n=hQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var WS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=cQ(t,["color","size"]);return P.createElement("svg",Kx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("circle",{cx:"12",cy:"12",r:"10"}),P.createElement("circle",{cx:"12",cy:"12",r:"3"}))});WS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};WS.displayName="Disc";const dQ=WS;function Zx(){return Zx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zx.apply(this,arguments)}function fQ(t,e){if(t==null)return{};var n=pQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var GS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=fQ(t,["color","size"]);return P.createElement("svg",Zx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),P.createElement("polyline",{points:"7 10 12 15 17 10"}),P.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"}))});GS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};GS.displayName="Download";const Qx=GS;function Jx(){return Jx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jx.apply(this,arguments)}function mQ(t,e){if(t==null)return{};var n=gQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var VS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=mQ(t,["color","size"]);return P.createElement("svg",Jx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),P.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))});VS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};VS.displayName="Edit";const qS=VS;function ew(){return ew=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ew.apply(this,arguments)}function vQ(t,e){if(t==null)return{};var n=yQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var XS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=vQ(t,["color","size"]);return P.createElement("svg",ew({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("circle",{cx:"12",cy:"12",r:"10"}),P.createElement("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),P.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}))});XS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};XS.displayName="HelpCircle";const bQ=XS;function tw(){return tw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tw.apply(this,arguments)}function xQ(t,e){if(t==null)return{};var n=wQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var YS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=xQ(t,["color","size"]);return P.createElement("svg",tw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),P.createElement("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}))});YS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};YS.displayName="Lock";const _Q=YS;function nw(){return nw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nw.apply(this,arguments)}function SQ(t,e){if(t==null)return{};var n=EQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function EQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var KS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=SQ(t,["color","size"]);return P.createElement("svg",nw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),P.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))});KS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};KS.displayName="MinusSquare";const CQ=KS;function rw(){return rw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rw.apply(this,arguments)}function TQ(t,e){if(t==null)return{};var n=AQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var ZS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=TQ(t,["color","size"]);return P.createElement("svg",rw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});ZS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};ZS.displayName="Minus";const PQ=ZS;function iw(){return iw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iw.apply(this,arguments)}function kQ(t,e){if(t==null)return{};var n=OQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var QS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=kQ(t,["color","size"]);return P.createElement("svg",iw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}))});QS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};QS.displayName="Moon";const IQ=QS;function sw(){return sw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sw.apply(this,arguments)}function RQ(t,e){if(t==null)return{};var n=MQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var JS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=RQ(t,["color","size"]);return P.createElement("svg",sw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),P.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),P.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))});JS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};JS.displayName="PlusSquare";const ss=JS;function ow(){return ow=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ow.apply(this,arguments)}function FQ(t,e){if(t==null)return{};var n=DQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var eE=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=FQ(t,["color","size"]);return P.createElement("svg",ow({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),P.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});eE.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};eE.displayName="Plus";const _g=eE;function aw(){return aw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aw.apply(this,arguments)}function LQ(t,e){if(t==null)return{};var n=BQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var tE=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=LQ(t,["color","size"]);return P.createElement("svg",aw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"1 4 1 10 7 10"}),P.createElement("polyline",{points:"23 20 23 14 17 14"}),P.createElement("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"}))});tE.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};tE.displayName="RefreshCcw";const NQ=tE;function lw(){return lw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lw.apply(this,arguments)}function $Q(t,e){if(t==null)return{};var n=UQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var nE=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=$Q(t,["color","size"]);return P.createElement("svg",lw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"1 4 1 10 7 10"}),P.createElement("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"}))});nE.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};nE.displayName="RotateCcw";const rE=nE;function uw(){return uw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uw.apply(this,arguments)}function zQ(t,e){if(t==null)return{};var n=HQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function HQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var iE=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=zQ(t,["color","size"]);return P.createElement("svg",uw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),P.createElement("polyline",{points:"17 21 17 13 7 13 7 21"}),P.createElement("polyline",{points:"7 3 7 8 15 8"}))});iE.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};iE.displayName="Save";const ll=iE;function cw(){return cw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cw.apply(this,arguments)}function jQ(t,e){if(t==null)return{};var n=WQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var sE=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=jQ(t,["color","size"]);return P.createElement("svg",cw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("line",{x1:"4",y1:"21",x2:"4",y2:"14"}),P.createElement("line",{x1:"4",y1:"10",x2:"4",y2:"3"}),P.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"12"}),P.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"3"}),P.createElement("line",{x1:"20",y1:"21",x2:"20",y2:"16"}),P.createElement("line",{x1:"20",y1:"12",x2:"20",y2:"3"}),P.createElement("line",{x1:"1",y1:"14",x2:"7",y2:"14"}),P.createElement("line",{x1:"9",y1:"8",x2:"15",y2:"8"}),P.createElement("line",{x1:"17",y1:"16",x2:"23",y2:"16"}))});sE.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};sE.displayName="Sliders";const GQ=sE;function hw(){return hw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hw.apply(this,arguments)}function VQ(t,e){if(t==null)return{};var n=qQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var oE=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=VQ(t,["color","size"]);return P.createElement("svg",hw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("circle",{cx:"12",cy:"12",r:"5"}),P.createElement("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),P.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),P.createElement("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),P.createElement("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),P.createElement("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),P.createElement("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),P.createElement("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),P.createElement("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"}))});oE.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};oE.displayName="Sun";const XQ=oE;function dw(){return dw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dw.apply(this,arguments)}function YQ(t,e){if(t==null)return{};var n=KQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function KQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var aE=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=YQ(t,["color","size"]);return P.createElement("svg",dw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"3 6 5 6 21 6"}),P.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),P.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),P.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}))});aE.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};aE.displayName="Trash2";const wo=aE;function fw(){return fw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fw.apply(this,arguments)}function ZQ(t,e){if(t==null)return{};var n=QQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var lE=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=ZQ(t,["color","size"]);return P.createElement("svg",fw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),P.createElement("circle",{cx:"9",cy:"7",r:"4"}),P.createElement("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),P.createElement("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}))});lE.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};lE.displayName="Users";const JQ=lE;function pw(){return pw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pw.apply(this,arguments)}function eJ(t,e){if(t==null)return{};var n=tJ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var uE=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=eJ(t,["color","size"]);return P.createElement("svg",pw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("circle",{cx:"12",cy:"12",r:"10"}),P.createElement("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),P.createElement("line",{x1:"9",y1:"9",x2:"15",y2:"15"}))});uE.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};uE.displayName="XCircle";const nJ=uE;function mw(){return mw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mw.apply(this,arguments)}function rJ(t,e){if(t==null)return{};var n=iJ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var cE=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=rJ(t,["color","size"]);return P.createElement("svg",mw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"}))});cE.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};cE.displayName="Zap";const sJ=cE,xc=T.createContext({}),eo={default:{"--themeColor":"#3bac99","--themeColorMod":"#2f808f","--themeColorText":"#a4dbe2","--panelColor":"#1b1b1d","--panelColor2":"#2e2e34","--panelColor3":"#25262c"},alt1:{"--themeColor":"#6d63f8","--themeColorMod":"#5557e0","--themeColorText":"#a08dcc","--panelColor":"#1b1b1d","--panelColor2":"#2e2e34","--panelColor3":"#25262c"},alt2:{"--themeColor":"#c155ac","--themeColorMod":"#9d4980","--themeColorText":"#df82d5","--panelColor":"#22262f","--panelColor2":"#2c3139","--panelColor3":"#2c353e"},autumn:{"--themeColor":"#e34841","--themeColorMod":"#bf342d","--themeColorText":"#fbb87e","--panelColor":"#22292f","--panelColor2":"#222224","--panelColor3":"#2b2c32"},steel:{"--themeColor":"#405185","--themeColorMod":"#313f68","--themeColorText":"#cd725a","--panelColor":"#1a1d26","--panelColor2":"#282d34","--panelColor3":"#2d3234"}};function oJ(){const t=window.localStorage.getItem("dragon-theme");return t?JSON.parse(t):"dark"}function aJ(){const t=window.localStorage.getItem("dragon-color-theme");if(t){const e=JSON.parse(t);return mt(Object.keys(eo[e]),n=>{document.documentElement.style.setProperty(n,eo[e][n])}),e}else return"default"}const lJ=(t,e)=>{const{theme:n,type:r}=e;let i=ut(t);return r==="set"?(i=n,window.localStorage.setItem("dragon-theme",JSON.stringify(i)),i):t},uJ=(t,e)=>{const{theme:n,type:r}=e;let i=ut(t);return r==="set"?(i=n,mt(Object.keys(eo[n]),s=>{document.documentElement.style.setProperty(s,eo[e.theme][s])}),window.localStorage.setItem("dragon-color-theme",JSON.stringify(i)),i):t},cJ=({children:t})=>{const[e,n]=T.useReducer(lJ,oJ()),[r,i]=T.useReducer(uJ,aJ());return k(xc.Provider,{value:{theme:e,setTheme:n,colorTheme:r,setColorTheme:i},children:t})};function Et({type:t="default",color:e="white",children:n,clicked:r,noPadding:i=!1,disabled:s=!1}){const o=i?{padding:0}:{},a=l=>{l.stopPropagation(),r(l)};return k("button",{className:"smol-button "+t+" "+e+" "+(s?"disabled":""),onClick:a,style:o,children:n})}function Sg({side:t="left",changed:e}){const{theme:n,setTheme:r}=T.useContext(xc),{appMode:i,setAppMode:s,buildMode:o,setBuildMode:a,appMenuConfig:l,setAppMenuConfig:c,selectedMenus:h,setSelectedMenus:f,rightExpanded:p,leftExpanded:m}=T.useContext(cs),[v,y]=T.useState(!1);T.useEffect(()=>{y(t==="left"?!!m:!!p)},[p,m]);const x=_=>{c({type:"setItem",item:{[_]:t==="left"?"right":"left"}})},b=(_,w)=>{const E={...h};E[t]=w,_.shiftKey?x(w):w==="zap"?o==="build-fast"?(a("build-slow"),s("build-slow")):(s("build-fast"),a("build-fast")):w==="theme"?r({type:"set",theme:n==="light"?"dark":"light"}):w==="edit"?s(i==="edit"?o:"edit"):(e({newItem:w!==h[t]}),f(E))};return J("div",{className:"app-menu",children:[l.info===t&&k("button",{type:"button",className:v&&h[t]==="info"?"selected":"",onClick:_=>b(_,"info"),children:k(dQ,{})}),l.sheet===t&&(i==="build-slow"||i==="build-fast"?k("button",{type:"button",className:v&&h[t]==="sheet"?"selected":"",onClick:_=>b(_,"sheet"),children:k(BZ,{})}):k("button",{type:"button",className:v&&h[t]==="sheet"?"selected":"",onClick:_=>b(_,"sheet"),children:k(UZ,{})})),l.units===t&&k("button",{type:"button",className:v&&h[t]==="units"?"selected":"",onClick:_=>b(_,"units"),children:k(JQ,{})}),l.settings===t&&k("button",{type:"button",className:v&&h[t]==="settings"?"selected":"",onClick:_=>b(_,"settings"),children:k(GQ,{})}),l.code===t&&k("button",{type:"button",className:v&&h[t]==="code"?"selected":"",onClick:_=>b(_,"code"),children:k(Qx,{})}),l.help===t&&k("button",{type:"button",className:v&&h[t]==="help"?"selected":"",onClick:_=>b(_,"help"),children:k(bQ,{})}),k("hr",{}),l.theme===t&&k(Et,{color:"info",clicked:_=>b(_,"theme"),children:n==="light"?k(IQ,{}):k(XQ,{})}),l.zap===t&&k(Et,{color:o==="build-fast"?"success":"mutedText",clicked:_=>b(_,"zap"),children:k(sJ,{})}),l.edit===t&&k(Et,{color:i==="edit"?"success":"mutedText",clicked:_=>b(_,"edit"),children:k(qS,{})})]})}function hJ({children:t}){const{leftExpanded:e,setLeftExpanded:n}=T.useContext(cs),r=i=>{i.newItem?n(!0):n(!e)};return e?J("div",{className:"sidebar-left",children:[k(Sg,{changed:r,side:"left"}),k("div",{className:"sidebar-left-panel",children:t})]}):k("div",{className:"sidebar-left",children:k(Sg,{changed:r,side:"left"})})}const _o=T.createContext({});function dJ(){const t=window.localStorage.getItem("dragon-nodes");if(t)try{return JSON.parse(t)}catch{return[{}]}else return YF()}function YF(){return[{id:"initial-node",name:"Example Node",description:"Press the Edit button on the left to edit this node. Press the edit button on the right to add stats and abilities.",colors:{selected:"#eee",unavailable:"aaa"}}]}const fJ=(t,e)=>{const{nodes:n,type:r}=e;let i=ut(t);return r==="imported"?(i=n,i):t},pJ=(t,e)=>{const{targetId:n,index:r,node:i,nodes:s,type:o}=e;let a=ut(t);if(o==="reset")return a=YF(),window.localStorage.setItem("dragon-nodes",JSON.stringify(a)),a;if(o==="save")try{window.localStorage.setItem("dragon-nodes",JSON.stringify(a))}catch{}if(o==="add")return a=[...a,i],a;if(o==="set")return a=s,window.localStorage.setItem("dragon-nodes",JSON.stringify(a)),a;if(o==="update")return a=ze(a,l=>l.id===n?i:l),window.localStorage.setItem("dragon-nodes",JSON.stringify(a)),a;if(o==="remove"){const l=t.findIndex(h=>h.id===i.id);if(l<0)return t;let c=[...t];return c.splice(l,1),c=ze(er(c,h=>h.id!==i.id),h=>{let f=h.requires;return h.requires===i.id&&(f=i==null?void 0:i.requires),{...h,requires:f}}),window.localStorage.setItem("dragon-nodes",JSON.stringify(a)),c}return t},mJ=({children:t})=>{const[e,n]=T.useReducer(pJ,dJ()),[r,i]=T.useReducer(fJ,{}),[s,o]=T.useState(null),[a,l]=T.useState({acquired:{},selected:{},available:{}});return k(_o.Provider,{value:{nodes:e,setNodes:n,selectedNodeId:s,setSelectedNodeId:o,nodeMeta:a,setNodeMeta:l,savedNodes:r,setSavedNodes:i},children:t})};function Hr(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ve(){return ve=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ve.apply(this,arguments)}function Zl(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function KF(t){if(!Zl(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=KF(t[n])}),e}function yi(t,e,n={clone:!0}){const r=n.clone?ve({},t):t;return Zl(t)&&Zl(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(Zl(e[i])&&i in t&&Zl(t[i])?r[i]=yi(t[i],e[i],n):n.clone?r[i]=Zl(e[i])?KF(e[i]):e[i]:r[i]=e[i])}),r}function nc(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}function $u(t){if(typeof t!="string")throw new Error(nc(7));return t.charAt(0).toUpperCase()+t.slice(1)}function gJ(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function vJ(...t){return T.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{gJ(n,e)})},t)}function ZF(t,e){const n=ve({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=ve({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=ve({},s),Object.keys(i).forEach(o=>{n[r][o]=ZF(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function yJ(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const Uk=t=>t,bJ=()=>{let t=Uk;return{configure(e){t=e},generate(e){return t(e)},reset(){t=Uk}}},xJ=bJ(),wJ=xJ,_J={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function QF(t,e,n="Mui"){const r=_J[e];return r?`${n}-${r}`:`${wJ.generate(t)}-${e}`}function SJ(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=QF(t,i,n)}),r}function JF(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=JF(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function EJ(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=JF(t))&&(r&&(r+=" "),r+=e);return r}function eD(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var CJ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,TJ=eD(function(t){return CJ.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function AJ(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function PJ(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var kJ=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(PJ(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=AJ(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Hn="-ms-",Eg="-moz-",pt="-webkit-",tD="comm",hE="rule",dE="decl",OJ="@import",nD="@keyframes",IJ=Math.abs,kv=String.fromCharCode,RJ=Object.assign;function MJ(t,e){return Fn(t,0)^45?(((e<<2^Fn(t,0))<<2^Fn(t,1))<<2^Fn(t,2))<<2^Fn(t,3):0}function rD(t){return t.trim()}function FJ(t,e){return(t=e.exec(t))?t[0]:t}function yt(t,e,n){return t.replace(e,n)}function gw(t,e){return t.indexOf(e)}function Fn(t,e){return t.charCodeAt(e)|0}function _d(t,e,n){return t.slice(e,n)}function ws(t){return t.length}function fE(t){return t.length}function Dp(t,e){return e.push(t),t}function DJ(t,e){return t.map(e).join("")}var Ov=1,rc=1,iD=0,yr=0,dn=0,wc="";function Iv(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Ov,column:rc,length:o,return:""}}function ah(t,e){return RJ(Iv("",null,null,"",null,null,0),t,{length:-t.length},e)}function LJ(){return dn}function BJ(){return dn=yr>0?Fn(wc,--yr):0,rc--,dn===10&&(rc=1,Ov--),dn}function jr(){return dn=yr<iD?Fn(wc,yr++):0,rc++,dn===10&&(rc=1,Ov++),dn}function Is(){return Fn(wc,yr)}function km(){return yr}function sf(t,e){return _d(wc,t,e)}function Sd(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function sD(t){return Ov=rc=1,iD=ws(wc=t),yr=0,[]}function oD(t){return wc="",t}function Om(t){return rD(sf(yr-1,vw(t===91?t+2:t===40?t+1:t)))}function NJ(t){for(;(dn=Is())&&dn<33;)jr();return Sd(t)>2||Sd(dn)>3?"":" "}function $J(t,e){for(;--e&&jr()&&!(dn<48||dn>102||dn>57&&dn<65||dn>70&&dn<97););return sf(t,km()+(e<6&&Is()==32&&jr()==32))}function vw(t){for(;jr();)switch(dn){case t:return yr;case 34:case 39:t!==34&&t!==39&&vw(dn);break;case 40:t===41&&vw(t);break;case 92:jr();break}return yr}function UJ(t,e){for(;jr()&&t+dn!==47+10;)if(t+dn===42+42&&Is()===47)break;return"/*"+sf(e,yr-1)+"*"+kv(t===47?t:jr())}function zJ(t){for(;!Sd(Is());)jr();return sf(t,yr)}function HJ(t){return oD(Im("",null,null,null,[""],t=sD(t),0,[0],t))}function Im(t,e,n,r,i,s,o,a,l){for(var c=0,h=0,f=o,p=0,m=0,v=0,y=1,x=1,b=1,_=0,w="",E=i,O=s,A=r,M=w;x;)switch(v=_,_=jr()){case 40:if(v!=108&&Fn(M,f-1)==58){gw(M+=yt(Om(_),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:M+=Om(_);break;case 9:case 10:case 13:case 32:M+=NJ(v);break;case 92:M+=$J(km()-1,7);continue;case 47:switch(Is()){case 42:case 47:Dp(jJ(UJ(jr(),km()),e,n),l);break;default:M+="/"}break;case 123*y:a[c++]=ws(M)*b;case 125*y:case 59:case 0:switch(_){case 0:case 125:x=0;case 59+h:m>0&&ws(M)-f&&Dp(m>32?Hk(M+";",r,n,f-1):Hk(yt(M," ","")+";",r,n,f-2),l);break;case 59:M+=";";default:if(Dp(A=zk(M,e,n,c,h,i,a,w,E=[],O=[],f),s),_===123)if(h===0)Im(M,e,A,A,E,s,f,a,O);else switch(p===99&&Fn(M,3)===110?100:p){case 100:case 109:case 115:Im(t,A,A,r&&Dp(zk(t,A,A,0,0,i,a,w,i,E=[],f),O),i,O,f,a,r?E:O);break;default:Im(M,A,A,A,[""],O,0,a,O)}}c=h=m=0,y=b=1,w=M="",f=o;break;case 58:f=1+ws(M),m=v;default:if(y<1){if(_==123)--y;else if(_==125&&y++==0&&BJ()==125)continue}switch(M+=kv(_),_*y){case 38:b=h>0?1:(M+="\f",-1);break;case 44:a[c++]=(ws(M)-1)*b,b=1;break;case 64:Is()===45&&(M+=Om(jr())),p=Is(),h=f=ws(w=M+=zJ(km())),_++;break;case 45:v===45&&ws(M)==2&&(y=0)}}return s}function zk(t,e,n,r,i,s,o,a,l,c,h){for(var f=i-1,p=i===0?s:[""],m=fE(p),v=0,y=0,x=0;v<r;++v)for(var b=0,_=_d(t,f+1,f=IJ(y=o[v])),w=t;b<m;++b)(w=rD(y>0?p[b]+" "+_:yt(_,/&\f/g,p[b])))&&(l[x++]=w);return Iv(t,e,n,i===0?hE:a,l,c,h)}function jJ(t,e,n){return Iv(t,e,n,tD,kv(LJ()),_d(t,2,-2),0)}function Hk(t,e,n,r){return Iv(t,e,n,dE,_d(t,0,r),_d(t,r+1,-1),r)}function Uu(t,e){for(var n="",r=fE(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function WJ(t,e,n,r){switch(t.type){case OJ:case dE:return t.return=t.return||t.value;case tD:return"";case nD:return t.return=t.value+"{"+Uu(t.children,r)+"}";case hE:t.value=t.props.join(",")}return ws(n=Uu(t.children,r))?t.return=t.value+"{"+n+"}":""}function GJ(t){var e=fE(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function VJ(t){return function(e){e.root||(e=e.return)&&t(e)}}var qJ=function(e,n,r){for(var i=0,s=0;i=s,s=Is(),i===38&&s===12&&(n[r]=1),!Sd(s);)jr();return sf(e,yr)},XJ=function(e,n){var r=-1,i=44;do switch(Sd(i)){case 0:i===38&&Is()===12&&(n[r]=1),e[r]+=qJ(yr-1,n,r);break;case 2:e[r]+=Om(i);break;case 4:if(i===44){e[++r]=Is()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=kv(i)}while(i=jr());return e},YJ=function(e,n){return oD(XJ(sD(e),n))},jk=new WeakMap,KJ=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!jk.get(r))&&!i){jk.set(e,!0);for(var s=[],o=YJ(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var h=0;h<a.length;h++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[h]):a[h]+" "+o[l]}}},ZJ=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function aD(t,e){switch(MJ(t,e)){case 5103:return pt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return pt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return pt+t+Eg+t+Hn+t+t;case 6828:case 4268:return pt+t+Hn+t+t;case 6165:return pt+t+Hn+"flex-"+t+t;case 5187:return pt+t+yt(t,/(\w+).+(:[^]+)/,pt+"box-$1$2"+Hn+"flex-$1$2")+t;case 5443:return pt+t+Hn+"flex-item-"+yt(t,/flex-|-self/,"")+t;case 4675:return pt+t+Hn+"flex-line-pack"+yt(t,/align-content|flex-|-self/,"")+t;case 5548:return pt+t+Hn+yt(t,"shrink","negative")+t;case 5292:return pt+t+Hn+yt(t,"basis","preferred-size")+t;case 6060:return pt+"box-"+yt(t,"-grow","")+pt+t+Hn+yt(t,"grow","positive")+t;case 4554:return pt+yt(t,/([^-])(transform)/g,"$1"+pt+"$2")+t;case 6187:return yt(yt(yt(t,/(zoom-|grab)/,pt+"$1"),/(image-set)/,pt+"$1"),t,"")+t;case 5495:case 3959:return yt(t,/(image-set\([^]*)/,pt+"$1$`$1");case 4968:return yt(yt(t,/(.+:)(flex-)?(.*)/,pt+"box-pack:$3"+Hn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+pt+t+t;case 4095:case 3583:case 4068:case 2532:return yt(t,/(.+)-inline(.+)/,pt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ws(t)-1-e>6)switch(Fn(t,e+1)){case 109:if(Fn(t,e+4)!==45)break;case 102:return yt(t,/(.+:)(.+)-([^]+)/,"$1"+pt+"$2-$3$1"+Eg+(Fn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~gw(t,"stretch")?aD(yt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Fn(t,e+1)!==115)break;case 6444:switch(Fn(t,ws(t)-3-(~gw(t,"!important")&&10))){case 107:return yt(t,":",":"+pt)+t;case 101:return yt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+pt+(Fn(t,14)===45?"inline-":"")+"box$3$1"+pt+"$2$3$1"+Hn+"$2box$3")+t}break;case 5936:switch(Fn(t,e+11)){case 114:return pt+t+Hn+yt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return pt+t+Hn+yt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return pt+t+Hn+yt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return pt+t+Hn+t+t}return t}var QJ=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case dE:e.return=aD(e.value,e.length);break;case nD:return Uu([ah(e,{value:yt(e.value,"@","@"+pt)})],i);case hE:if(e.length)return DJ(e.props,function(s){switch(FJ(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Uu([ah(e,{props:[yt(s,/:(read-\w+)/,":"+Eg+"$1")]})],i);case"::placeholder":return Uu([ah(e,{props:[yt(s,/:(plac\w+)/,":"+pt+"input-$1")]}),ah(e,{props:[yt(s,/:(plac\w+)/,":"+Eg+"$1")]}),ah(e,{props:[yt(s,/:(plac\w+)/,Hn+"input-$1")]})],i)}return""})}},JJ=[QJ],eee=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var x=y.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||JJ,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var x=y.getAttribute("data-emotion").split(" "),b=1;b<x.length;b++)s[x[b]]=!0;a.push(y)});var l,c=[KJ,ZJ];{var h,f=[WJ,VJ(function(y){h.insert(y)})],p=GJ(c.concat(i,f)),m=function(x){return Uu(HJ(x),p)};l=function(x,b,_,w){h=_,m(x?x+"{"+b.styles+"}":b.styles),w&&(v.inserted[b.name]=!0)}}var v={key:n,sheet:new kJ({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return v.sheet.hydrate(a),v},yw={},tee={get exports(){return yw},set exports(t){yw=t}},_t={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pn=typeof Symbol=="function"&&Symbol.for,pE=Pn?Symbol.for("react.element"):60103,mE=Pn?Symbol.for("react.portal"):60106,Rv=Pn?Symbol.for("react.fragment"):60107,Mv=Pn?Symbol.for("react.strict_mode"):60108,Fv=Pn?Symbol.for("react.profiler"):60114,Dv=Pn?Symbol.for("react.provider"):60109,Lv=Pn?Symbol.for("react.context"):60110,gE=Pn?Symbol.for("react.async_mode"):60111,Bv=Pn?Symbol.for("react.concurrent_mode"):60111,Nv=Pn?Symbol.for("react.forward_ref"):60112,$v=Pn?Symbol.for("react.suspense"):60113,nee=Pn?Symbol.for("react.suspense_list"):60120,Uv=Pn?Symbol.for("react.memo"):60115,zv=Pn?Symbol.for("react.lazy"):60116,ree=Pn?Symbol.for("react.block"):60121,iee=Pn?Symbol.for("react.fundamental"):60117,see=Pn?Symbol.for("react.responder"):60118,oee=Pn?Symbol.for("react.scope"):60119;function Kr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case pE:switch(t=t.type,t){case gE:case Bv:case Rv:case Fv:case Mv:case $v:return t;default:switch(t=t&&t.$$typeof,t){case Lv:case Nv:case zv:case Uv:case Dv:return t;default:return e}}case mE:return e}}}function lD(t){return Kr(t)===Bv}_t.AsyncMode=gE;_t.ConcurrentMode=Bv;_t.ContextConsumer=Lv;_t.ContextProvider=Dv;_t.Element=pE;_t.ForwardRef=Nv;_t.Fragment=Rv;_t.Lazy=zv;_t.Memo=Uv;_t.Portal=mE;_t.Profiler=Fv;_t.StrictMode=Mv;_t.Suspense=$v;_t.isAsyncMode=function(t){return lD(t)||Kr(t)===gE};_t.isConcurrentMode=lD;_t.isContextConsumer=function(t){return Kr(t)===Lv};_t.isContextProvider=function(t){return Kr(t)===Dv};_t.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===pE};_t.isForwardRef=function(t){return Kr(t)===Nv};_t.isFragment=function(t){return Kr(t)===Rv};_t.isLazy=function(t){return Kr(t)===zv};_t.isMemo=function(t){return Kr(t)===Uv};_t.isPortal=function(t){return Kr(t)===mE};_t.isProfiler=function(t){return Kr(t)===Fv};_t.isStrictMode=function(t){return Kr(t)===Mv};_t.isSuspense=function(t){return Kr(t)===$v};_t.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Rv||t===Bv||t===Fv||t===Mv||t===$v||t===nee||typeof t=="object"&&t!==null&&(t.$$typeof===zv||t.$$typeof===Uv||t.$$typeof===Dv||t.$$typeof===Lv||t.$$typeof===Nv||t.$$typeof===iee||t.$$typeof===see||t.$$typeof===oee||t.$$typeof===ree)};_t.typeOf=Kr;(function(t){t.exports=_t})(tee);var uD=yw,aee={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},lee={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},cD={};cD[uD.ForwardRef]=aee;cD[uD.Memo]=lee;var uee=!0;function hD(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var vE=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||uee===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},dD=function(e,n,r){vE(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function cee(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var hee={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},dee=/[A-Z]|^ms/g,fee=/_EMO_([^_]+?)_([^]*?)_EMO_/g,fD=function(e){return e.charCodeAt(1)===45},Wk=function(e){return e!=null&&typeof e!="boolean"},Py=eD(function(t){return fD(t)?t:t.replace(dee,"-$&").toLowerCase()}),Gk=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(fee,function(r,i,s){return _s={name:i,styles:s,next:_s},i})}return hee[e]!==1&&!fD(e)&&typeof n=="number"&&n!==0?n+"px":n};function Ed(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return _s={name:n.name,styles:n.styles,next:_s},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)_s={name:r.name,styles:r.styles,next:_s},r=r.next;var i=n.styles+";";return i}return pee(t,e,n)}case"function":{if(t!==void 0){var s=_s,o=n(t);return _s=s,Ed(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function pee(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ed(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":Wk(o)&&(r+=Py(s)+":"+Gk(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)Wk(o[a])&&(r+=Py(s)+":"+Gk(s,o[a])+";");else{var l=Ed(t,e,o);switch(s){case"animation":case"animationName":{r+=Py(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var Vk=/label:\s*([^\s;\n{]+)\s*(;|$)/g,_s,yE=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";_s=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Ed(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Ed(r,n,e[a]),i&&(s+=o[a]);Vk.lastIndex=0;for(var l="",c;(c=Vk.exec(s))!==null;)l+="-"+c[1];var h=cee(s)+l;return{name:h,styles:s,next:_s}},mee=function(e){return e()},gee=ZA["useInsertionEffect"]?ZA["useInsertionEffect"]:!1,pD=gee||mee,bE={}.hasOwnProperty,mD=T.createContext(typeof HTMLElement<"u"?eee({key:"css"}):null);mD.Provider;var gD=function(e){return T.forwardRef(function(n,r){var i=T.useContext(mD);return e(n,i,r)})},vD=T.createContext({}),bw="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",vee=function(e,n){var r={};for(var i in n)bE.call(n,i)&&(r[i]=n[i]);return r[bw]=e,r},yee=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return vE(n,r,i),pD(function(){return dD(n,r,i)}),null},bee=gD(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[bw],s=[r],o="";typeof t.className=="string"?o=hD(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=yE(s,void 0,T.useContext(vD));o+=e.key+"-"+a.name;var l={};for(var c in t)bE.call(t,c)&&c!=="css"&&c!==bw&&(l[c]=t[c]);return l.ref=n,l.className=o,T.createElement(T.Fragment,null,T.createElement(yee,{cache:e,serialized:a,isStringTag:typeof i=="string"}),T.createElement(i,l))}),Le=function(e,n){var r=arguments;if(n==null||!bE.call(n,"css"))return T.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=bee,s[1]=vee(e,n);for(var o=2;o<i;o++)s[o]=r[o];return T.createElement.apply(null,s)};function xE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return yE(e)}var xee=function(){var e=xE.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},wee=TJ,_ee=function(e){return e!=="theme"},qk=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?wee:_ee},Xk=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},See=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return vE(n,r,i),pD(function(){return dD(n,r,i)}),null},Eee=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=Xk(e,n,r),l=a||qk(i),c=!l("as");return function(){var h=arguments,f=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&f.push("label:"+s+";"),h[0]==null||h[0].raw===void 0)f.push.apply(f,h);else{f.push(h[0][0]);for(var p=h.length,m=1;m<p;m++)f.push(h[m],h[0][m])}var v=gD(function(y,x,b){var _=c&&y.as||i,w="",E=[],O=y;if(y.theme==null){O={};for(var A in y)O[A]=y[A];O.theme=T.useContext(vD)}typeof y.className=="string"?w=hD(x.registered,E,y.className):y.className!=null&&(w=y.className+" ");var M=yE(f.concat(E),x.registered,O);w+=x.key+"-"+M.name,o!==void 0&&(w+=" "+o);var L=c&&a===void 0?qk(_):l,H={};for(var G in y)c&&G==="as"||L(G)&&(H[G]=y[G]);return H.className=w,H.ref=b,T.createElement(T.Fragment,null,T.createElement(See,{cache:x,serialized:M,isStringTag:typeof _=="string"}),T.createElement(_,H))});return v.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",v.defaultProps=e.defaultProps,v.__emotion_real=v,v.__emotion_base=i,v.__emotion_styles=f,v.__emotion_forwardProp=a,Object.defineProperty(v,"toString",{value:function(){return"."+o}}),v.withComponent=function(y,x){return t(y,ve({},n,x,{shouldForwardProp:Xk(v,x,!0)})).apply(void 0,f)},v}};const Cee=Eee;var Tee=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],xw=Cee.bind();Tee.forEach(function(t){xw[t]=xw(t)});const Aee=xw;/**
 * @mui/styled-engine v5.11.11
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Pee(t,e){return Aee(t,e)}const kee=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))};function Yh(t,e){return e?yi(t,e,{clone:!1}):t}const wE={xs:0,sm:600,md:900,lg:1200,xl:1536},Yk={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${wE[t]}px)`};function Wr(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||Yk;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||Yk;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||wE).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function Oee(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function Iee(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Ree(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function Kk({values:t,breakpoints:e,base:n}){const r=n||Ree(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[s],s=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function Hv(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Cg(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Hv(t,n)||r,e&&(i=e(i,r,t)),i}function bt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=Hv(l,r)||{};return Wr(o,a,f=>{let p=Cg(c,i,f);return f===p&&typeof f=="string"&&(p=Cg(c,i,`${e}${f==="default"?"":$u(f)}`,f)),n===!1?p:{[n]:p}})};return s.propTypes={},s.filterProps=[e],s}function jv(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?Yh(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Mee(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const Fee={m:"margin",p:"padding"},Dee={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Zk={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Lee=Mee(t=>{if(t.length>2)if(Zk[t])t=Zk[t];else return[t];const[e,n]=t.split(""),r=Fee[e],i=Dee[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),_E=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],SE=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[..._E,...SE];function of(t,e,n,r){var i;const s=(i=Hv(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function EE(t){return of(t,"spacing",8)}function Jo(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function Bee(t,e){return n=>t.reduce((r,i)=>(r[i]=Jo(e,n),r),{})}function Nee(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=Lee(n),s=Bee(i,r),o=t[n];return Wr(t,o,s)}function yD(t,e){const n=EE(t.theme);return Object.keys(t).map(r=>Nee(t,e,r,n)).reduce(Yh,{})}function Qt(t){return yD(t,_E)}Qt.propTypes={};Qt.filterProps=_E;function Jt(t){return yD(t,SE)}Jt.propTypes={};Jt.filterProps=SE;function Cs(t){return typeof t!="number"?t:`${t}px solid`}const $ee=bt({prop:"border",themeKey:"borders",transform:Cs}),Uee=bt({prop:"borderTop",themeKey:"borders",transform:Cs}),zee=bt({prop:"borderRight",themeKey:"borders",transform:Cs}),Hee=bt({prop:"borderBottom",themeKey:"borders",transform:Cs}),jee=bt({prop:"borderLeft",themeKey:"borders",transform:Cs}),Wee=bt({prop:"borderColor",themeKey:"palette"}),Gee=bt({prop:"borderTopColor",themeKey:"palette"}),Vee=bt({prop:"borderRightColor",themeKey:"palette"}),qee=bt({prop:"borderBottomColor",themeKey:"palette"}),Xee=bt({prop:"borderLeftColor",themeKey:"palette"}),Wv=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=of(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Jo(e,r)});return Wr(t,t.borderRadius,n)}return null};Wv.propTypes={};Wv.filterProps=["borderRadius"];jv($ee,Uee,zee,Hee,jee,Wee,Gee,Vee,qee,Xee,Wv);const Gv=t=>{if(t.gap!==void 0&&t.gap!==null){const e=of(t.theme,"spacing",8),n=r=>({gap:Jo(e,r)});return Wr(t,t.gap,n)}return null};Gv.propTypes={};Gv.filterProps=["gap"];const Vv=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=of(t.theme,"spacing",8),n=r=>({columnGap:Jo(e,r)});return Wr(t,t.columnGap,n)}return null};Vv.propTypes={};Vv.filterProps=["columnGap"];const qv=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=of(t.theme,"spacing",8),n=r=>({rowGap:Jo(e,r)});return Wr(t,t.rowGap,n)}return null};qv.propTypes={};qv.filterProps=["rowGap"];const Yee=bt({prop:"gridColumn"}),Kee=bt({prop:"gridRow"}),Zee=bt({prop:"gridAutoFlow"}),Qee=bt({prop:"gridAutoColumns"}),Jee=bt({prop:"gridAutoRows"}),ete=bt({prop:"gridTemplateColumns"}),tte=bt({prop:"gridTemplateRows"}),nte=bt({prop:"gridTemplateAreas"}),rte=bt({prop:"gridArea"});jv(Gv,Vv,qv,Yee,Kee,Zee,Qee,Jee,ete,tte,nte,rte);function zu(t,e){return e==="grey"?e:t}const ite=bt({prop:"color",themeKey:"palette",transform:zu}),ste=bt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:zu}),ote=bt({prop:"backgroundColor",themeKey:"palette",transform:zu});jv(ite,ste,ote);function Dr(t){return t<=1&&t!==0?`${t*100}%`:t}const ate=bt({prop:"width",transform:Dr}),CE=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i,s;return{maxWidth:((r=t.theme)==null||(i=r.breakpoints)==null||(s=i.values)==null?void 0:s[n])||wE[n]||Dr(n)}};return Wr(t,t.maxWidth,e)}return null};CE.filterProps=["maxWidth"];const lte=bt({prop:"minWidth",transform:Dr}),ute=bt({prop:"height",transform:Dr}),cte=bt({prop:"maxHeight",transform:Dr}),hte=bt({prop:"minHeight",transform:Dr});bt({prop:"size",cssProperty:"width",transform:Dr});bt({prop:"size",cssProperty:"height",transform:Dr});const dte=bt({prop:"boxSizing"});jv(ate,CE,lte,ute,cte,hte,dte);const ky=t=>e=>{if(e[t]!==void 0&&e[t]!==null){const n=r=>{var i;let s=(i=e.theme.typography)==null?void 0:i[r];if(typeof s=="object"&&(s=null),!s){var o,a;s=(o=e.theme.typography)==null?void 0:o[`${t}${e[t]==="default"||e[t]===t?"":$u((a=e[t])==null?void 0:a.toString())}`]}if(!s){var l,c,h;s=(l=(c=e.theme.typography)==null||(h=c[r])==null?void 0:h[t])!=null?l:r}return{[t]:s}};return Wr(e,e[t],n)}return null},fte={border:{themeKey:"borders",transform:Cs},borderTop:{themeKey:"borders",transform:Cs},borderRight:{themeKey:"borders",transform:Cs},borderBottom:{themeKey:"borders",transform:Cs},borderLeft:{themeKey:"borders",transform:Cs},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Wv},color:{themeKey:"palette",transform:zu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:zu},backgroundColor:{themeKey:"palette",transform:zu},p:{style:Jt},pt:{style:Jt},pr:{style:Jt},pb:{style:Jt},pl:{style:Jt},px:{style:Jt},py:{style:Jt},padding:{style:Jt},paddingTop:{style:Jt},paddingRight:{style:Jt},paddingBottom:{style:Jt},paddingLeft:{style:Jt},paddingX:{style:Jt},paddingY:{style:Jt},paddingInline:{style:Jt},paddingInlineStart:{style:Jt},paddingInlineEnd:{style:Jt},paddingBlock:{style:Jt},paddingBlockStart:{style:Jt},paddingBlockEnd:{style:Jt},m:{style:Qt},mt:{style:Qt},mr:{style:Qt},mb:{style:Qt},ml:{style:Qt},mx:{style:Qt},my:{style:Qt},margin:{style:Qt},marginTop:{style:Qt},marginRight:{style:Qt},marginBottom:{style:Qt},marginLeft:{style:Qt},marginX:{style:Qt},marginY:{style:Qt},marginInline:{style:Qt},marginInlineStart:{style:Qt},marginInlineEnd:{style:Qt},marginBlock:{style:Qt},marginBlockStart:{style:Qt},marginBlockEnd:{style:Qt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Gv},rowGap:{style:qv},columnGap:{style:Vv},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Dr},maxWidth:{style:CE},minWidth:{transform:Dr},height:{transform:Dr},maxHeight:{transform:Dr},minHeight:{transform:Dr},boxSizing:{},fontFamily:{themeKey:"typography",style:ky("fontFamily")},fontSize:{themeKey:"typography",style:ky("fontSize")},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography",style:ky("fontWeight")},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},TE=fte;function pte(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function mte(t,e){return typeof t=="function"?t(e):t}function gte(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:h,style:f}=a;if(r==null)return null;const p=Hv(i,c)||{};return f?f(o):Wr(o,r,v=>{let y=Cg(p,h,v);return v===y&&typeof v=="string"&&(y=Cg(p,h,`${n}${v==="default"?"":$u(v)}`,v)),l===!1?y:{[l]:y}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:TE;function a(l){let c=l;if(typeof l=="function")c=l(s);else if(typeof l!="object")return l;if(!c)return null;const h=Oee(s.breakpoints),f=Object.keys(h);let p=h;return Object.keys(c).forEach(m=>{const v=mte(c[m],s);if(v!=null)if(typeof v=="object")if(o[m])p=Yh(p,t(m,v,s,o));else{const y=Wr({theme:s},v,x=>({[m]:x}));pte(y,v)?p[m]=e({sx:v,theme:s}):p=Yh(p,y)}else p=Yh(p,t(m,v,s,o))}),Iee(f,p)}return Array.isArray(i)?i.map(a):a(i)}return e}const bD=gte();bD.filterProps=["sx"];const AE=bD,vte=["values","unit","step"],yte=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>ve({},n,{[r.key]:r.val}),{})};function bte(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=Hr(t,vte),s=yte(e),o=Object.keys(s);function a(p){return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${n})`}function l(p){return`@media (max-width:${(typeof e[p]=="number"?e[p]:p)-r/100}${n})`}function c(p,m){const v=o.indexOf(m);return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${n}) and (max-width:${(v!==-1&&typeof e[o[v]]=="number"?e[o[v]]:m)-r/100}${n})`}function h(p){return o.indexOf(p)+1<o.length?c(p,o[o.indexOf(p)+1]):a(p)}function f(p){const m=o.indexOf(p);return m===0?a(o[1]):m===o.length-1?l(o[m]):c(p,o[o.indexOf(p)+1]).replace("@media","@media not all and")}return ve({keys:o,values:s,up:a,down:l,between:c,only:h,not:f,unit:n},i)}const xte={borderRadius:4},wte=xte;function _te(t=8){if(t.mui)return t;const e=EE({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}const Ste=["breakpoints","palette","spacing","shape"];function PE(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=Hr(t,Ste),a=bte(n),l=_te(i);let c=yi({breakpoints:a,direction:"ltr",components:{},palette:ve({mode:"light"},r),spacing:l,shape:ve({},wte,s)},o);return c=e.reduce((h,f)=>yi(h,f),c),c.unstable_sxConfig=ve({},TE,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(f){return AE({sx:f,theme:this})},c}const Ete=T.createContext(null),Cte=Ete;function Tte(){return T.useContext(Cte)}function Ate(t){return Object.keys(t).length===0}function Pte(t=null){const e=Tte();return!e||Ate(e)?t:e}const kte=PE();function Ote(t=kte){return Pte(t)}const Ite=["variant"];function Qk(t){return t.length===0}function xD(t){const{variant:e}=t,n=Hr(t,Ite);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=Qk(r)?t[i]:$u(t[i]):r+=`${Qk(r)?i:$u(i)}${$u(t[i].toString())}`}),r}const Rte=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],Mte=["theme"],Fte=["theme"];function lh(t){return Object.keys(t).length===0}function Dte(t){return typeof t=="string"&&t.charCodeAt(0)>96}const Lte=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,Bte=(t,e)=>{let n=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants);const r={};return n.forEach(i=>{const s=xD(i.props);r[s]=i.style}),r},Nte=(t,e,n,r)=>{var i,s;const{ownerState:o={}}=t,a=[],l=n==null||(i=n.components)==null||(s=i[r])==null?void 0:s.variants;return l&&l.forEach(c=>{let h=!0;Object.keys(c.props).forEach(f=>{o[f]!==c.props[f]&&t[f]!==c.props[f]&&(h=!1)}),h&&a.push(e[xD(c.props)])}),a};function Rm(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const $te=PE();function Ute(t={}){const{defaultTheme:e=$te,rootShouldForwardProp:n=Rm,slotShouldForwardProp:r=Rm}=t,i=s=>{const o=lh(s.theme)?e:s.theme;return AE(ve({},s,{theme:o}))};return i.__mui_systemSx=!0,(s,o={})=>{kee(s,w=>w.filter(E=>!(E!=null&&E.__mui_systemSx)));const{name:a,slot:l,skipVariantsResolver:c,skipSx:h,overridesResolver:f}=o,p=Hr(o,Rte),m=c!==void 0?c:l&&l!=="Root"||!1,v=h||!1;let y,x=Rm;l==="Root"?x=n:l?x=r:Dte(s)&&(x=void 0);const b=Pee(s,ve({shouldForwardProp:x,label:y},p)),_=(w,...E)=>{const O=E?E.map(H=>typeof H=="function"&&H.__emotion_real!==H?G=>{let{theme:z}=G,j=Hr(G,Mte);return H(ve({theme:lh(z)?e:z},j))}:H):[];let A=w;a&&f&&O.push(H=>{const G=lh(H.theme)?e:H.theme,z=Lte(a,G);if(z){const j={};return Object.entries(z).forEach(([X,V])=>{j[X]=typeof V=="function"?V(ve({},H,{theme:G})):V}),f(H,j)}return null}),a&&!m&&O.push(H=>{const G=lh(H.theme)?e:H.theme;return Nte(H,Bte(a,G),G,a)}),v||O.push(i);const M=O.length-E.length;if(Array.isArray(w)&&M>0){const H=new Array(M).fill("");A=[...w,...H],A.raw=[...w.raw,...H]}else typeof w=="function"&&w.__emotion_real!==w&&(A=H=>{let{theme:G}=H,z=Hr(H,Fte);return w(ve({theme:lh(G)?e:G},z))});return b(A,...O)};return b.withConfig&&(_.withConfig=b.withConfig),_}}function zte(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:ZF(e.components[n].defaultProps,r)}function Hte({props:t,name:e,defaultTheme:n}){const r=Ote(n);return zte({theme:r,name:e,props:t})}function wD(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function jte(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ic(t){if(t.type)return t;if(t.charAt(0)==="#")return ic(jte(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(nc(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(nc(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function kE(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function Wte(t){t=ic(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,h=(c+n/30)%12)=>i-s*Math.max(Math.min(h-3,9-h,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),kE({type:a,values:l})}function Jk(t){t=ic(t);let e=t.type==="hsl"||t.type==="hsla"?ic(Wte(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Gte(t,e){const n=Jk(t),r=Jk(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Vte(t,e){if(t=ic(t),e=wD(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return kE(t)}function qte(t,e){if(t=ic(t),e=wD(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return kE(t)}function Xte(t,e){return ve({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const Yte={black:"#000",white:"#fff"},Cd=Yte,Kte={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Zte=Kte,Qte={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Hl=Qte,Jte={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},jl=Jte,ene={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},uh=ene,tne={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Wl=tne,nne={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Gl=nne,rne={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Vl=rne,ine=["mode","contrastThreshold","tonalOffset"],eO={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Cd.white,default:Cd.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Oy={text:{primary:Cd.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Cd.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function tO(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=qte(t.main,i):e==="dark"&&(t.dark=Vte(t.main,s)))}function sne(t="light"){return t==="dark"?{main:Wl[200],light:Wl[50],dark:Wl[400]}:{main:Wl[700],light:Wl[400],dark:Wl[800]}}function one(t="light"){return t==="dark"?{main:Hl[200],light:Hl[50],dark:Hl[400]}:{main:Hl[500],light:Hl[300],dark:Hl[700]}}function ane(t="light"){return t==="dark"?{main:jl[500],light:jl[300],dark:jl[700]}:{main:jl[700],light:jl[400],dark:jl[800]}}function lne(t="light"){return t==="dark"?{main:Gl[400],light:Gl[300],dark:Gl[700]}:{main:Gl[700],light:Gl[500],dark:Gl[900]}}function une(t="light"){return t==="dark"?{main:Vl[400],light:Vl[300],dark:Vl[700]}:{main:Vl[800],light:Vl[500],dark:Vl[900]}}function cne(t="light"){return t==="dark"?{main:uh[400],light:uh[300],dark:uh[700]}:{main:"#ed6c02",light:uh[500],dark:uh[900]}}function hne(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=Hr(t,ine),s=t.primary||sne(e),o=t.secondary||one(e),a=t.error||ane(e),l=t.info||lne(e),c=t.success||une(e),h=t.warning||cne(e);function f(y){return Gte(y,Oy.text.primary)>=n?Oy.text.primary:eO.text.primary}const p=({color:y,name:x,mainShade:b=500,lightShade:_=300,darkShade:w=700})=>{if(y=ve({},y),!y.main&&y[b]&&(y.main=y[b]),!y.hasOwnProperty("main"))throw new Error(nc(11,x?` (${x})`:"",b));if(typeof y.main!="string")throw new Error(nc(12,x?` (${x})`:"",JSON.stringify(y.main)));return tO(y,"light",_,r),tO(y,"dark",w,r),y.contrastText||(y.contrastText=f(y.main)),y},m={dark:Oy,light:eO};return yi(ve({common:ve({},Cd),mode:e,primary:p({color:s,name:"primary"}),secondary:p({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:a,name:"error"}),warning:p({color:h,name:"warning"}),info:p({color:l,name:"info"}),success:p({color:c,name:"success"}),grey:Zte,contrastThreshold:n,getContrastText:f,augmentColor:p,tonalOffset:r},m[e]),i)}const dne=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function fne(t){return Math.round(t*1e5)/1e5}const nO={textTransform:"uppercase"},rO='"Roboto", "Helvetica", "Arial", sans-serif';function pne(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=rO,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:h,pxToRem:f}=n,p=Hr(n,dne),m=i/14,v=f||(b=>`${b/c*m}rem`),y=(b,_,w,E,O)=>ve({fontFamily:r,fontWeight:b,fontSize:v(_),lineHeight:w},r===rO?{letterSpacing:`${fne(E/_)}em`}:{},O,h),x={h1:y(s,96,1.167,-1.5),h2:y(s,60,1.2,-.5),h3:y(o,48,1.167,0),h4:y(o,34,1.235,.25),h5:y(o,24,1.334,0),h6:y(a,20,1.6,.15),subtitle1:y(o,16,1.75,.15),subtitle2:y(a,14,1.57,.1),body1:y(o,16,1.5,.15),body2:y(o,14,1.43,.15),button:y(a,14,1.75,.4,nO),caption:y(o,12,1.66,.4),overline:y(o,12,2.66,1,nO),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return yi(ve({htmlFontSize:c,pxToRem:v,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},x),p,{clone:!1})}const mne=.2,gne=.14,vne=.12;function Ut(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${mne})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${gne})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${vne})`].join(",")}const yne=["none",Ut(0,2,1,-1,0,1,1,0,0,1,3,0),Ut(0,3,1,-2,0,2,2,0,0,1,5,0),Ut(0,3,3,-2,0,3,4,0,0,1,8,0),Ut(0,2,4,-1,0,4,5,0,0,1,10,0),Ut(0,3,5,-1,0,5,8,0,0,1,14,0),Ut(0,3,5,-1,0,6,10,0,0,1,18,0),Ut(0,4,5,-2,0,7,10,1,0,2,16,1),Ut(0,5,5,-3,0,8,10,1,0,3,14,2),Ut(0,5,6,-3,0,9,12,1,0,3,16,2),Ut(0,6,6,-3,0,10,14,1,0,4,18,3),Ut(0,6,7,-4,0,11,15,1,0,4,20,3),Ut(0,7,8,-4,0,12,17,2,0,5,22,4),Ut(0,7,8,-4,0,13,19,2,0,5,24,4),Ut(0,7,9,-4,0,14,21,2,0,5,26,4),Ut(0,8,9,-5,0,15,22,2,0,6,28,5),Ut(0,8,10,-5,0,16,24,2,0,6,30,5),Ut(0,8,11,-5,0,17,26,2,0,6,32,5),Ut(0,9,11,-5,0,18,28,2,0,7,34,6),Ut(0,9,12,-6,0,19,29,2,0,7,36,6),Ut(0,10,13,-6,0,20,31,3,0,8,38,7),Ut(0,10,13,-6,0,21,33,3,0,8,40,7),Ut(0,10,14,-6,0,22,35,3,0,8,42,7),Ut(0,11,14,-7,0,23,36,3,0,9,44,8),Ut(0,11,15,-7,0,24,38,3,0,9,46,8)],bne=yne,xne=["duration","easing","delay"],wne={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},_ne={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function iO(t){return`${Math.round(t)}ms`}function Sne(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function Ene(t){const e=ve({},wne,t.easing),n=ve({},_ne,t.duration);return ve({getAutoHeightDuration:Sne,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return Hr(s,xne),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:iO(o)} ${a} ${typeof l=="string"?l:iO(l)}`).join(",")}},t,{easing:e,duration:n})}const Cne={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Tne=Cne,Ane=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Pne(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=Hr(t,Ane);if(t.vars)throw new Error(nc(18));const a=hne(r),l=PE(t);let c=yi(l,{mixins:Xte(l.breakpoints,n),palette:a,shadows:bne.slice(),typography:pne(a,s),transitions:Ene(i),zIndex:ve({},Tne)});return c=yi(c,o),c=e.reduce((h,f)=>yi(h,f),c),c.unstable_sxConfig=ve({},TE,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(f){return AE({sx:f,theme:this})},c}const kne=Pne(),_D=kne;function One({props:t,name:e}){return Hte({props:t,name:e,defaultTheme:_D})}const Ine=t=>Rm(t)&&t!=="classes",Rne=Ute({defaultTheme:_D,rootShouldForwardProp:Ine}),Mne=Rne;function Fne(t){return QF("MuiMasonry",t)}SJ("MuiMasonry",["root"]);const Dne=["children","className","component","columns","spacing","defaultColumns","defaultHeight","defaultSpacing"],No=t=>Number(t.replace("px","")),Lne={flexBasis:"100%",width:0,margin:0,padding:0},Bne=t=>{const{classes:e}=t;return yJ({root:["root"]},Fne,e)},Nne=({ownerState:t,theme:e})=>{let n={width:"100%",display:"flex",flexFlow:"column wrap",alignContent:"flex-start",boxSizing:"border-box","& > *":{boxSizing:"border-box"}};const r={};if(t.isSSR){const c={},h=No(e.spacing(t.defaultSpacing));for(let f=1;f<=t.defaultColumns;f+=1)c[`&:nth-of-type(${t.defaultColumns}n+${f%t.defaultColumns})`]={order:f};return r.height=t.defaultHeight,r.margin=-(h/2),r["& > *"]=ve({},n["& > *"],c,{margin:h/2,width:`calc(${(100/t.defaultColumns).toFixed(2)}% - ${h}px)`}),ve({},n,r)}const i=Kk({values:t.spacing,breakpoints:e.breakpoints.values}),s=EE(e);n=yi(n,Wr({theme:e},i,c=>{let h;if(typeof c=="string"&&!Number.isNaN(Number(c))||typeof c=="number"){const f=Number(c);h=Jo(s,f)}else h=c;return ve({margin:`calc(0px - (${h} / 2))`,"& > *":{margin:`calc(${h} / 2)`}},t.maxColumnHeight&&{height:typeof h=="number"?Math.ceil(t.maxColumnHeight+No(h)):`calc(${t.maxColumnHeight}px + ${h})`})}));const a=Kk({values:t.columns,breakpoints:e.breakpoints.values});return n=yi(n,Wr({theme:e},a,c=>{const f=`${(100/Number(c)).toFixed(2)}%`,p=typeof i=="string"&&!Number.isNaN(Number(i))||typeof i=="number"?Jo(s,Number(i)):"0px";return{"& > *":{width:`calc(${f} - ${p})`}}})),typeof i=="object"&&(n=yi(n,Wr({theme:e},i,(c,h)=>{if(h){const f=Number(c),p=Object.keys(a).pop(),m=Jo(s,f);return{"& > *":{width:`calc(${`${(100/(typeof a=="object"?a[h]||a[p]:a)).toFixed(2)}%`} - ${m})`}}}return null}))),n},$ne=Mne("div",{name:"MuiMasonry",slot:"Root",overridesResolver:(t,e)=>[e.root]})(Nne),Une=T.forwardRef(function(e,n){const r=One({props:e,name:"MuiMasonry"}),{children:i,className:s,component:o="div",columns:a=4,spacing:l=1,defaultColumns:c,defaultHeight:h,defaultSpacing:f}=r,p=Hr(r,Dne),m=T.useRef(),[v,y]=T.useState(),x=!v&&h&&c!==void 0&&f!==void 0,[b,_]=T.useState(x?c-1:0),w=ve({},r,{spacing:l,columns:a,maxColumnHeight:v,defaultColumns:c,defaultHeight:h,defaultSpacing:f,isSSR:x}),E=Bne(w),O=H=>{if(!m.current||!H||H.length===0)return;const G=m.current,z=m.current.firstChild,j=G.clientWidth,X=z.clientWidth;if(j===0||X===0)return;const V=window.getComputedStyle(z),he=No(V.marginLeft),ce=No(V.marginRight),te=Math.round(j/(X+he+ce)),Z=new Array(te).fill(0);let le=!1;G.childNodes.forEach(W=>{if(W.nodeType!==Node.ELEMENT_NODE||W.dataset.class==="line-break"||le)return;const R=window.getComputedStyle(W),D=No(R.marginTop),Q=No(R.marginBottom),K=No(R.height)?Math.ceil(No(R.height))+D+Q:0;if(K===0){le=!0;return}for(let $=0;$<W.childNodes.length;$+=1){const ne=W.childNodes[$];if(ne.tagName==="IMG"&&ne.clientHeight===0){le=!0;break}}if(!le){const $=Z.indexOf(Math.min(...Z));Z[$]+=K;const ne=$+1;W.style.order=ne}}),le||Jh.flushSync(()=>{y(Math.max(...Z)),_(te>0?te-1:0)})},A=T.useRef(typeof ResizeObserver>"u"?void 0:new ResizeObserver(O));T.useEffect(()=>{const H=A.current;if(H!==void 0)return m.current&&m.current.childNodes.forEach(G=>{H.observe(G)}),()=>H?H.disconnect():{}},[a,l,i]);const M=vJ(n,m),L=new Array(b).fill("").map((H,G)=>k("span",{"data-class":"line-break",style:ve({},Lne,{order:G+1})},G));return J($ne,ve({as:o,className:EJ(E.root,s),ref:M,ownerState:w},p,{children:[i,L]}))}),ww=Une,tr=T.createContext({});function zne(){const t=window.localStorage.getItem("dragon-abilities");return t?JSON.parse(t):[]}function Hne(){const t=window.localStorage.getItem("dragon-ability-types");return t?JSON.parse(t):[]}function jne(){const t=window.localStorage.getItem("dragon-global-params");return t?JSON.parse(t):[]}const Wne=(t,e)=>{const{targetId:n,index:r,param:i,params:s,type:o}=e;let a=ut(t);if(o==="save")try{window.localStorage.setItem("dragon-global-params",JSON.stringify(a))}catch{}if(o==="add")return a=[...a,i],a;if(o==="set")return a=s,window.localStorage.setItem("dragon-global-params",JSON.stringify(a)),a;if(o==="update")return a=ze(a,l=>l.id===n?i:l),a;if(o==="remove"){const l=t.findIndex(h=>h.id===i.id);if(l<0)return t;const c=[...t];return c.splice(l,1),c}return t},Gne=(t,e)=>{const{targetId:n,index:r,ability:i,abilities:s,type:o}=e;let a=ut(t);if(o==="save")try{window.localStorage.setItem("dragon-abilities",JSON.stringify(a))}catch{}if(o==="add")return a=[...a,i],a;if(o==="set")return a=s,window.localStorage.setItem("dragon-abilities",JSON.stringify(a)),a;if(o==="update")return a=ze(a,l=>l.id===n?i:l),a;if(o==="remove"){const l=t.findIndex(h=>h.id===i.id);if(l<0)return t;const c=[...t];return c.splice(l,1),c}return t},Vne=(t,e)=>{const{index:n,abilityType:r,abilityTypes:i,type:s}=e;let o=ut(t);if(s==="save")try{window.localStorage.setItem("dragon-ability-types",JSON.stringify(o))}catch{}if(s==="add")return o=[...o,r],o;if(s==="set")return o=i,window.localStorage.setItem("dragon-ability-types",JSON.stringify(o)),o;if(s==="update")return o[n]=r,o;if(s==="remove"){const a=t.findIndex(c=>c.id===r.id);if(a<0)return t;const l=[...t];return l.splice(a,1),l}return t},qne=({children:t})=>{const[e,n]=T.useReducer(Gne,zne()),[r,i]=T.useReducer(Vne,Hne()),[s,o]=T.useReducer(Wne,jne());return k(tr.Provider,{value:{abilities:e,setAbilities:n,abilityTypes:r,setAbilityTypes:i,globalParams:s,setGlobalParams:o},children:t})},af=T.createContext({});function Xne(){const t=window.localStorage.getItem("dragon-stats");return t?JSON.parse(t):[]}const Yne=(t,e)=>{const{index:n,stat:r,stats:i,type:s}=e;let o=ut(t);if(s==="save")try{window.localStorage.setItem("dragon-stats",JSON.stringify(o))}catch{}if(s==="add")return o=[...o,r],o;if(s==="set")return o=i,window.localStorage.setItem("dragon-stats",JSON.stringify(o)),o;if(s==="update")return o[n]=r,o;if(s==="remove"){const a=t.findIndex(c=>c.id===r.id);if(a<0)return t;const l=[...t];return l.splice(a,1),l}return t},Kne=({children:t})=>{const[e,n]=T.useReducer(Yne,Xne());return k(af.Provider,{value:{stats:e,setStats:n},children:t})};var _w={},Zne={get exports(){return _w},set exports(t){_w=t}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Zne);const ho=_w;function bn({children:t,name:e,startOpen:n,disabled:r=!1}){const[i,s]=T.useState(n),o=a=>{r||s(!i)};return i?J("div",{className:ho({accordion:!0,open:!0,disabled:r}),children:[J("button",{className:"accordion-button",onClick:o,children:[e,k(VF,{})]}),k("div",{className:"container",children:t})]}):k("div",{className:ho({accordion:!0,closed:!0,disabled:r}),children:J("button",{className:"accordion-button",onClick:o,children:[e,k("span",{className:"icon",children:k(GF,{})})]})})}const sO=["http","https","mailto","tel"];function Qne(t){const e=(t||"").trim(),n=e.charAt(0);if(n==="#"||n==="/")return e;const r=e.indexOf(":");if(r===-1)return e;let i=-1;for(;++i<sO.length;){const s=sO[i];if(r===s.length&&e.slice(0,s.length).toLowerCase()===s)return e}return i=e.indexOf("?"),i!==-1&&r>i||(i=e.indexOf("#"),i!==-1&&r>i)?e:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Jne=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)};const SD=Jne;function Kh(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?oO(t.position):"start"in t||"end"in t?oO(t):"line"in t||"column"in t?Sw(t):""}function Sw(t){return aO(t&&t.line)+":"+aO(t&&t.column)}function oO(t){return Sw(t&&t.start)+"-"+Sw(t&&t.end)}function aO(t){return t&&typeof t=="number"?t:1}class Ci extends Error{constructor(e,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=Kh(n)||"1:1",this.message=typeof e=="object"?e.message:e,this.stack="",typeof e=="object"&&e.stack&&(this.stack=e.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}Ci.prototype.file="";Ci.prototype.name="";Ci.prototype.reason="";Ci.prototype.message="";Ci.prototype.stack="";Ci.prototype.fatal=null;Ci.prototype.column=null;Ci.prototype.line=null;Ci.prototype.source=null;Ci.prototype.ruleId=null;Ci.prototype.position=null;const xs={basename:ere,dirname:tre,extname:nre,join:rre,sep:"/"};function ere(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');lf(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.charCodeAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.charCodeAt(i)===e.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function tre(t){if(lf(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.charCodeAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.charCodeAt(0)===47?"/":".":e===1&&t.charCodeAt(0)===47?"//":t.slice(0,e)}function nre(t){lf(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const a=t.charCodeAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function rre(...t){let e=-1,n;for(;++e<t.length;)lf(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":ire(n)}function ire(t){lf(t);const e=t.charCodeAt(0)===47;let n=sre(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.charCodeAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function sre(t,e){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=t.length;){if(o<t.length)a=t.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function lf(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const ore={cwd:are};function are(){return"/"}function Ew(t){return t!==null&&typeof t=="object"&&t.href&&t.origin}function lre(t){if(typeof t=="string")t=new URL(t);else if(!Ew(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return ure(t)}function ure(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.charCodeAt(n)===37&&e.charCodeAt(n+1)===50){const r=e.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const Iy=["history","path","basename","stem","extname","dirname"];class ED{constructor(e){let n;e?typeof e=="string"||cre(e)?n={value:e}:Ew(e)?n={path:e}:n=e:n={},this.data={},this.messages=[],this.history=[],this.cwd=ore.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<Iy.length;){const s=Iy[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Iy.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(e){Ew(e)&&(e=lre(e)),My(e,"path"),this.path!==e&&this.history.push(e)}get dirname(){return typeof this.path=="string"?xs.dirname(this.path):void 0}set dirname(e){lO(this.basename,"dirname"),this.path=xs.join(e||"",this.basename)}get basename(){return typeof this.path=="string"?xs.basename(this.path):void 0}set basename(e){My(e,"basename"),Ry(e,"basename"),this.path=xs.join(this.dirname||"",e)}get extname(){return typeof this.path=="string"?xs.extname(this.path):void 0}set extname(e){if(Ry(e,"extname"),lO(this.dirname,"extname"),e){if(e.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=xs.join(this.dirname,this.stem+(e||""))}get stem(){return typeof this.path=="string"?xs.basename(this.path,this.extname):void 0}set stem(e){My(e,"stem"),Ry(e,"stem"),this.path=xs.join(this.dirname||"",e+(this.extname||""))}toString(e){return(this.value||"").toString(e||void 0)}message(e,n,r){const i=new Ci(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=null,i}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}}function Ry(t,e){if(t&&t.includes(xs.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+xs.sep+"`")}function My(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function lO(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function cre(t){return SD(t)}function uO(t){if(t)throw t}var Mm=Object.prototype.hasOwnProperty,CD=Object.prototype.toString,cO=Object.defineProperty,hO=Object.getOwnPropertyDescriptor,dO=function(e){return typeof Array.isArray=="function"?Array.isArray(e):CD.call(e)==="[object Array]"},fO=function(e){if(!e||CD.call(e)!=="[object Object]")return!1;var n=Mm.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Mm.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||Mm.call(e,i)},pO=function(e,n){cO&&n.name==="__proto__"?cO(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},mO=function(e,n){if(n==="__proto__")if(Mm.call(e,n)){if(hO)return hO(e,n).value}else return;return e[n]},gO=function t(){var e,n,r,i,s,o,a=arguments[0],l=1,c=arguments.length,h=!1;for(typeof a=="boolean"&&(h=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<c;++l)if(e=arguments[l],e!=null)for(n in e)r=mO(a,n),i=mO(e,n),a!==i&&(h&&i&&(fO(i)||(s=dO(i)))?(s?(s=!1,o=r&&dO(r)?r:[]):o=r&&fO(r)?r:{},pO(a,{name:n,newValue:t(h,o,i)})):typeof i<"u"&&pO(a,{name:n,newValue:i}));return a};function Cw(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function hre(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...c){const h=t[++s];let f=-1;if(l){o(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,h?dre(h,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function dre(t,e){let n;return r;function r(...o){const a=t.length>o.length;let l;a&&o.push(i);try{l=t.apply(this,o)}catch(c){const h=c;if(a&&n)throw h;return i(h)}a||(l instanceof Promise?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,e(o,...a))}function s(o){i(null,o)}}const fre=AD().freeze(),TD={}.hasOwnProperty;function AD(){const t=hre(),e=[];let n={},r,i=-1;return s.data=o,s.Parser=void 0,s.Compiler=void 0,s.freeze=a,s.attachers=e,s.use=l,s.parse=c,s.stringify=h,s.run=f,s.runSync=p,s.process=m,s.processSync=v,s;function s(){const y=AD();let x=-1;for(;++x<e.length;)y.use(...e[x]);return y.data(gO(!0,{},n)),y}function o(y,x){return typeof y=="string"?arguments.length===2?(Ly("data",r),n[y]=x,s):TD.call(n,y)&&n[y]||null:y?(Ly("data",r),n=y,s):n}function a(){if(r)return s;for(;++i<e.length;){const[y,...x]=e[i];if(x[0]===!1)continue;x[0]===!0&&(x[0]=void 0);const b=y.call(s,...x);typeof b=="function"&&t.use(b)}return r=!0,i=Number.POSITIVE_INFINITY,s}function l(y,...x){let b;if(Ly("use",r),y!=null)if(typeof y=="function")O(y,...x);else if(typeof y=="object")Array.isArray(y)?E(y):w(y);else throw new TypeError("Expected usable value, not `"+y+"`");return b&&(n.settings=Object.assign(n.settings||{},b)),s;function _(A){if(typeof A=="function")O(A);else if(typeof A=="object")if(Array.isArray(A)){const[M,...L]=A;O(M,...L)}else w(A);else throw new TypeError("Expected usable value, not `"+A+"`")}function w(A){E(A.plugins),A.settings&&(b=Object.assign(b||{},A.settings))}function E(A){let M=-1;if(A!=null)if(Array.isArray(A))for(;++M<A.length;){const L=A[M];_(L)}else throw new TypeError("Expected a list of plugins, not `"+A+"`")}function O(A,M){let L=-1,H;for(;++L<e.length;)if(e[L][0]===A){H=e[L];break}H?(Cw(H[1])&&Cw(M)&&(M=gO(!0,H[1],M)),H[1]=M):e.push([...arguments])}}function c(y){s.freeze();const x=ch(y),b=s.Parser;return Fy("parse",b),vO(b,"parse")?new b(String(x),x).parse():b(String(x),x)}function h(y,x){s.freeze();const b=ch(x),_=s.Compiler;return Dy("stringify",_),yO(y),vO(_,"compile")?new _(y,b).compile():_(y,b)}function f(y,x,b){if(yO(y),s.freeze(),!b&&typeof x=="function"&&(b=x,x=void 0),!b)return new Promise(_);_(null,b);function _(w,E){t.run(y,ch(x),O);function O(A,M,L){M=M||y,A?E(A):w?w(M):b(null,M,L)}}}function p(y,x){let b,_;return s.run(y,x,w),bO("runSync","run",_),b;function w(E,O){uO(E),b=O,_=!0}}function m(y,x){if(s.freeze(),Fy("process",s.Parser),Dy("process",s.Compiler),!x)return new Promise(b);b(null,x);function b(_,w){const E=ch(y);s.run(s.parse(E),E,(A,M,L)=>{if(A||!M||!L)O(A);else{const H=s.stringify(M,L);H==null||(gre(H)?L.value=H:L.result=H),O(A,L)}});function O(A,M){A||!M?w(A):_?_(M):x(null,M)}}}function v(y){let x;s.freeze(),Fy("processSync",s.Parser),Dy("processSync",s.Compiler);const b=ch(y);return s.process(b,_),bO("processSync","process",x),b;function _(w){x=!0,uO(w)}}}function vO(t,e){return typeof t=="function"&&t.prototype&&(pre(t.prototype)||e in t.prototype)}function pre(t){let e;for(e in t)if(TD.call(t,e))return!0;return!1}function Fy(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `Parser`")}function Dy(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `Compiler`")}function Ly(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function yO(t){if(!Cw(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function bO(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function ch(t){return mre(t)?t:new ED(t)}function mre(t){return Boolean(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function gre(t){return typeof t=="string"||SD(t)}function vre(t,e){const n=(e||{}).includeImageAlt;return PD(t,typeof n=="boolean"?n:!0)}function PD(t,e){return yre(t)&&("value"in t&&t.value||e&&"alt"in t&&t.alt||"children"in t&&xO(t.children,e))||Array.isArray(t)&&xO(t,e)||""}function xO(t,e){const n=[];let r=-1;for(;++r<t.length;)n[r]=PD(t[r],e);return n.join("")}function yre(t){return Boolean(t&&typeof t=="object")}function Fs(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),[].splice.apply(t,o);else for(n&&[].splice.apply(t,[e,n]);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),[].splice.apply(t,o),s+=1e4,e+=1e4}function ci(t,e){return t.length>0?(Fs(t,t.length,0,e),t):e}const wO={}.hasOwnProperty;function bre(t){const e={};let n=-1;for(;++n<t.length;)xre(e,t[n]);return e}function xre(t,e){let n;for(n in e){const i=(wO.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;for(o in s){wO.call(i,o)||(i[o]=[]);const a=s[o];wre(i[o],Array.isArray(a)?a:a?[a]:[])}}}function wre(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Fs(t,0,0,r)}const _re=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Ts=fa(/[A-Za-z]/),Tw=fa(/\d/),Sre=fa(/[\dA-Fa-f]/),Br=fa(/[\dA-Za-z]/),Ere=fa(/[!-/:-@[-`{-~]/),_O=fa(/[#-'*+\--9=?A-Z^-~]/);function Aw(t){return t!==null&&(t<32||t===127)}function bi(t){return t!==null&&(t<0||t===32)}function je(t){return t!==null&&t<-2}function fn(t){return t===-2||t===-1||t===32}const Cre=fa(/\s/),Tre=fa(_re);function fa(t){return e;function e(n){return n!==null&&t.test(String.fromCharCode(n))}}function Tt(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return fn(l)?(t.enter(n),a(l)):e(l)}function a(l){return fn(l)&&s++<i?(t.consume(l),a):(t.exit(n),e(l))}}const Are={tokenize:Pre};function Pre(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Tt(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return je(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const kre={tokenize:Ore},SO={tokenize:Ire};function Ore(t){const e=this,n=[];let r=0,i,s,o;return a;function a(w){if(r<n.length){const E=n[r];return e.containerState=E[1],t.attempt(E[0].continuation,l,c)(w)}return c(w)}function l(w){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&_();const E=e.events.length;let O=E,A;for(;O--;)if(e.events[O][0]==="exit"&&e.events[O][1].type==="chunkFlow"){A=e.events[O][1].end;break}b(r);let M=E;for(;M<e.events.length;)e.events[M][1].end=Object.assign({},A),M++;return Fs(e.events,O+1,0,e.events.slice(E)),e.events.length=M,c(w)}return a(w)}function c(w){if(r===n.length){if(!i)return p(w);if(i.currentConstruct&&i.currentConstruct.concrete)return v(w);e.interrupt=Boolean(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(SO,h,f)(w)}function h(w){return i&&_(),b(r),p(w)}function f(w){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,v(w)}function p(w){return e.containerState={},t.attempt(SO,m,v)(w)}function m(w){return r++,n.push([e.currentConstruct,e.containerState]),p(w)}function v(w){if(w===null){i&&_(),b(0),t.consume(w);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),y(w)}function y(w){if(w===null){x(t.exit("chunkFlow"),!0),b(0),t.consume(w);return}return je(w)?(t.consume(w),x(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(w),y)}function x(w,E){const O=e.sliceStream(w);if(E&&O.push(null),w.previous=s,s&&(s.next=w),s=w,i.defineSkip(w.start),i.write(O),e.parser.lazy[w.start.line]){let A=i.events.length;for(;A--;)if(i.events[A][1].start.offset<o&&(!i.events[A][1].end||i.events[A][1].end.offset>o))return;const M=e.events.length;let L=M,H,G;for(;L--;)if(e.events[L][0]==="exit"&&e.events[L][1].type==="chunkFlow"){if(H){G=e.events[L][1].end;break}H=!0}for(b(r),A=M;A<e.events.length;)e.events[A][1].end=Object.assign({},G),A++;Fs(e.events,L+1,0,e.events.slice(M)),e.events.length=A}}function b(w){let E=n.length;for(;E-- >w;){const O=n[E];e.containerState=O[1],O[0].exit.call(e,t)}n.length=w}function _(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function Ire(t,e,n){return Tt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function EO(t){if(t===null||bi(t)||Cre(t))return 1;if(Tre(t))return 2}function OE(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const Pw={name:"attention",tokenize:Mre,resolveAll:Rre};function Rre(t,e){let n=-1,r,i,s,o,a,l,c,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f=Object.assign({},t[r][1].end),p=Object.assign({},t[n][1].start);CO(f,-l),CO(p,l),o={type:l>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},t[r][1].end)},a={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:p},s={type:l>1?"strongText":"emphasisText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},t[r][1].end=Object.assign({},o.start),t[n][1].start=Object.assign({},a.end),c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=ci(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=ci(c,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),c=ci(c,OE(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=ci(c,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,c=ci(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,Fs(t,r-1,n-r+3,c),n=r+c.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Mre(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=EO(r);let s;return o;function o(l){return t.enter("attentionSequence"),s=l,a(l)}function a(l){if(l===s)return t.consume(l),a;const c=t.exit("attentionSequence"),h=EO(l),f=!h||h===2&&i||n.includes(l),p=!i||i===2&&h||n.includes(r);return c._open=Boolean(s===42?f:f&&(i||!p)),c._close=Boolean(s===42?p:p&&(h||!f)),e(l)}}function CO(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Fre={name:"autolink",tokenize:Dre};function Dre(t,e,n){let r=1;return i;function i(v){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(v){return Ts(v)?(t.consume(v),o):_O(v)?c(v):n(v)}function o(v){return v===43||v===45||v===46||Br(v)?a(v):c(v)}function a(v){return v===58?(t.consume(v),l):(v===43||v===45||v===46||Br(v))&&r++<32?(t.consume(v),a):c(v)}function l(v){return v===62?(t.exit("autolinkProtocol"),m(v)):v===null||v===32||v===60||Aw(v)?n(v):(t.consume(v),l)}function c(v){return v===64?(t.consume(v),r=0,h):_O(v)?(t.consume(v),c):n(v)}function h(v){return Br(v)?f(v):n(v)}function f(v){return v===46?(t.consume(v),r=0,h):v===62?(t.exit("autolinkProtocol").type="autolinkEmail",m(v)):p(v)}function p(v){return(v===45||Br(v))&&r++<63?(t.consume(v),v===45?p:f):n(v)}function m(v){return t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),e}}const Xv={tokenize:Lre,partial:!0};function Lre(t,e,n){return Tt(t,r,"linePrefix");function r(i){return i===null||je(i)?e(i):n(i)}}const kD={name:"blockQuote",tokenize:Bre,continuation:{tokenize:Nre},exit:$re};function Bre(t,e,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return fn(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function Nre(t,e,n){return Tt(t,t.attempt(kD,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function $re(t){t.exit("blockQuote")}const OD={name:"characterEscape",tokenize:Ure};function Ure(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return Ere(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const TO=document.createElement("i");function IE(t){const e="&"+t+";";TO.innerHTML=e;const n=TO.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}const ID={name:"characterReference",tokenize:zre};function zre(t,e,n){const r=this;let i=0,s,o;return a;function a(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),l}function l(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),s=31,o=Br,h(f))}function c(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=Sre,h):(t.enter("characterReferenceValue"),s=7,o=Tw,h(f))}function h(f){let p;return f===59&&i?(p=t.exit("characterReferenceValue"),o===Br&&!IE(r.sliceSerialize(p))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)):o(f)&&i++<s?(t.consume(f),h):n(f)}}const AO={name:"codeFenced",tokenize:Hre,concrete:!0};function Hre(t,e,n){const r=this,i={tokenize:O,partial:!0},s={tokenize:E,partial:!0},o=this.events[this.events.length-1],a=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0;let l=0,c;return h;function h(A){return t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),c=A,f(A)}function f(A){return A===c?(t.consume(A),l++,f):(t.exit("codeFencedFenceSequence"),l<3?n(A):Tt(t,p,"whitespace")(A))}function p(A){return A===null||je(A)?x(A):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),m(A))}function m(A){return A===null||bi(A)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Tt(t,v,"whitespace")(A)):A===96&&A===c?n(A):(t.consume(A),m)}function v(A){return A===null||je(A)?x(A):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),y(A))}function y(A){return A===null||je(A)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),x(A)):A===96&&A===c?n(A):(t.consume(A),y)}function x(A){return t.exit("codeFencedFence"),r.interrupt?e(A):b(A)}function b(A){return A===null?w(A):je(A)?t.attempt(s,t.attempt(i,w,a?Tt(t,b,"linePrefix",a+1):b),w)(A):(t.enter("codeFlowValue"),_(A))}function _(A){return A===null||je(A)?(t.exit("codeFlowValue"),b(A)):(t.consume(A),_)}function w(A){return t.exit("codeFenced"),e(A)}function E(A,M,L){const H=this;return G;function G(j){return A.enter("lineEnding"),A.consume(j),A.exit("lineEnding"),z}function z(j){return H.parser.lazy[H.now().line]?L(j):M(j)}}function O(A,M,L){let H=0;return Tt(A,G,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function G(X){return A.enter("codeFencedFence"),A.enter("codeFencedFenceSequence"),z(X)}function z(X){return X===c?(A.consume(X),H++,z):H<l?L(X):(A.exit("codeFencedFenceSequence"),Tt(A,j,"whitespace")(X))}function j(X){return X===null||je(X)?(A.exit("codeFencedFence"),M(X)):L(X)}}}const By={name:"codeIndented",tokenize:Wre},jre={tokenize:Gre,partial:!0};function Wre(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),Tt(t,s,"linePrefix",4+1)(c)}function s(c){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):je(c)?t.attempt(jre,o,l)(c):(t.enter("codeFlowValue"),a(c))}function a(c){return c===null||je(c)?(t.exit("codeFlowValue"),o(c)):(t.consume(c),a)}function l(c){return t.exit("codeIndented"),e(c)}}function Gre(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):je(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):Tt(t,s,"linePrefix",4+1)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):je(o)?i(o):n(o)}}const Vre={name:"codeText",tokenize:Yre,resolve:qre,previous:Xre};function qre(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function Xre(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Yre(t,e,n){let r=0,i,s;return o;function o(f){return t.enter("codeText"),t.enter("codeTextSequence"),a(f)}function a(f){return f===96?(t.consume(f),r++,a):(t.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===96?(s=t.enter("codeTextSequence"),i=0,h(f)):f===32?(t.enter("space"),t.consume(f),t.exit("space"),l):je(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||je(f)?(t.exit("codeTextData"),l(f)):(t.consume(f),c)}function h(f){return f===96?(t.consume(f),i++,h):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(s.type="codeTextData",c(f))}}function RD(t){const e={};let n=-1,r,i,s,o,a,l,c;for(;++n<t.length;){for(;n in e;)n=e[n];if(r=t[n],n&&r[1].type==="chunkFlow"&&t[n-1][1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Kre(t,n)),n=e[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=t[s],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(t[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},t[i][1].start),a=t.slice(i,n),a.unshift(r),Fs(t,i,n-i+1,a))}}return!c}function Kre(t,e){const n=t[e][1],r=t[e][2];let i=e-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,l=[],c={};let h,f,p=-1,m=n,v=0,y=0;const x=[y];for(;m;){for(;t[++i][1]!==m;);s.push(i),m._tokenizer||(h=r.sliceStream(m),m.next||h.push(null),f&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(h),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++p<a.length;)a[p][0]==="exit"&&a[p-1][0]==="enter"&&a[p][1].type===a[p-1][1].type&&a[p][1].start.line!==a[p][1].end.line&&(y=p+1,x.push(y),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):x.pop(),p=x.length;p--;){const b=a.slice(x[p],x[p+1]),_=s.pop();l.unshift([_,_+b.length-1]),Fs(t,_,2,b)}for(p=-1;++p<l.length;)c[v+l[p][0]]=v+l[p][1],v+=l[p][1]-l[p][0]-1;return c}const Zre={tokenize:eie,resolve:Jre},Qre={tokenize:tie,partial:!0};function Jre(t){return RD(t),t}function eie(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):je(a)?t.check(Qre,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function tie(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Tt(t,s,"linePrefix")}function s(o){if(o===null||je(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function MD(t,e,n,r,i,s,o,a,l){const c=l||Number.POSITIVE_INFINITY;let h=0;return f;function f(b){return b===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(b),t.exit(s),p):b===null||b===41||Aw(b)?n(b):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),y(b))}function p(b){return b===62?(t.enter(s),t.consume(b),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),m(b))}function m(b){return b===62?(t.exit("chunkString"),t.exit(a),p(b)):b===null||b===60||je(b)?n(b):(t.consume(b),b===92?v:m)}function v(b){return b===60||b===62||b===92?(t.consume(b),m):m(b)}function y(b){return b===40?++h>c?n(b):(t.consume(b),y):b===41?h--?(t.consume(b),y):(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(b)):b===null||bi(b)?h?n(b):(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(b)):Aw(b)?n(b):(t.consume(b),b===92?x:y)}function x(b){return b===40||b===41||b===92?(t.consume(b),y):y(b)}}function FD(t,e,n,r,i,s){const o=this;let a=0,l;return c;function c(m){return t.enter(r),t.enter(i),t.consume(m),t.exit(i),t.enter(s),h}function h(m){return m===null||m===91||m===93&&!l||m===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs||a>999?n(m):m===93?(t.exit(s),t.enter(i),t.consume(m),t.exit(i),t.exit(r),e):je(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||je(m)||a++>999?(t.exit("chunkString"),h(m)):(t.consume(m),l=l||!fn(m),m===92?p:f)}function p(m){return m===91||m===92||m===93?(t.consume(m),a++,f):f(m)}}function DD(t,e,n,r,i,s){let o;return a;function a(p){return t.enter(r),t.enter(i),t.consume(p),t.exit(i),o=p===40?41:p,l}function l(p){return p===o?(t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):(t.enter(s),c(p))}function c(p){return p===o?(t.exit(s),l(o)):p===null?n(p):je(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),Tt(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(p))}function h(p){return p===o||p===null||je(p)?(t.exit("chunkString"),c(p)):(t.consume(p),p===92?f:h)}function f(p){return p===o||p===92?(t.consume(p),h):h(p)}}function Zh(t,e){let n;return r;function r(i){return je(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):fn(i)?Tt(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}function Hu(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const nie={name:"definition",tokenize:iie},rie={tokenize:sie,partial:!0};function iie(t,e,n){const r=this;let i;return s;function s(l){return t.enter("definition"),FD.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(l)}function o(l){return i=Hu(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),l===58?(t.enter("definitionMarker"),t.consume(l),t.exit("definitionMarker"),Zh(t,MD(t,t.attempt(rie,Tt(t,a,"whitespace"),Tt(t,a,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(l)}function a(l){return l===null||je(l)?(t.exit("definition"),r.parser.defined.includes(i)||r.parser.defined.push(i),e(l)):n(l)}}function sie(t,e,n){return r;function r(o){return bi(o)?Zh(t,i)(o):n(o)}function i(o){return o===34||o===39||o===40?DD(t,Tt(t,s,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o):n(o)}function s(o){return o===null||je(o)?e(o):n(o)}}const oie={name:"hardBreakEscape",tokenize:aie};function aie(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.enter("escapeMarker"),t.consume(s),i}function i(s){return je(s)?(t.exit("escapeMarker"),t.exit("hardBreakEscape"),e(s)):n(s)}}const lie={name:"headingAtx",tokenize:cie,resolve:uie};function uie(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Fs(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function cie(t,e,n){const r=this;let i=0;return s;function s(h){return t.enter("atxHeading"),t.enter("atxHeadingSequence"),o(h)}function o(h){return h===35&&i++<6?(t.consume(h),o):h===null||bi(h)?(t.exit("atxHeadingSequence"),r.interrupt?e(h):a(h)):n(h)}function a(h){return h===35?(t.enter("atxHeadingSequence"),l(h)):h===null||je(h)?(t.exit("atxHeading"),e(h)):fn(h)?Tt(t,a,"whitespace")(h):(t.enter("atxHeadingText"),c(h))}function l(h){return h===35?(t.consume(h),l):(t.exit("atxHeadingSequence"),a(h))}function c(h){return h===null||h===35||bi(h)?(t.exit("atxHeadingText"),a(h)):(t.consume(h),c)}}const hie=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],PO=["pre","script","style","textarea"],die={name:"htmlFlow",tokenize:mie,resolveTo:pie,concrete:!0},fie={tokenize:gie,partial:!0};function pie(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function mie(t,e,n){const r=this;let i,s,o,a,l;return c;function c(D){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(D),h}function h(D){return D===33?(t.consume(D),f):D===47?(t.consume(D),v):D===63?(t.consume(D),i=3,r.interrupt?e:le):Ts(D)?(t.consume(D),o=String.fromCharCode(D),s=!0,y):n(D)}function f(D){return D===45?(t.consume(D),i=2,p):D===91?(t.consume(D),i=5,o="CDATA[",a=0,m):Ts(D)?(t.consume(D),i=4,r.interrupt?e:le):n(D)}function p(D){return D===45?(t.consume(D),r.interrupt?e:le):n(D)}function m(D){return D===o.charCodeAt(a++)?(t.consume(D),a===o.length?r.interrupt?e:z:m):n(D)}function v(D){return Ts(D)?(t.consume(D),o=String.fromCharCode(D),y):n(D)}function y(D){return D===null||D===47||D===62||bi(D)?D!==47&&s&&PO.includes(o.toLowerCase())?(i=1,r.interrupt?e(D):z(D)):hie.includes(o.toLowerCase())?(i=6,D===47?(t.consume(D),x):r.interrupt?e(D):z(D)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(D):s?_(D):b(D)):D===45||Br(D)?(t.consume(D),o+=String.fromCharCode(D),y):n(D)}function x(D){return D===62?(t.consume(D),r.interrupt?e:z):n(D)}function b(D){return fn(D)?(t.consume(D),b):H(D)}function _(D){return D===47?(t.consume(D),H):D===58||D===95||Ts(D)?(t.consume(D),w):fn(D)?(t.consume(D),_):H(D)}function w(D){return D===45||D===46||D===58||D===95||Br(D)?(t.consume(D),w):E(D)}function E(D){return D===61?(t.consume(D),O):fn(D)?(t.consume(D),E):_(D)}function O(D){return D===null||D===60||D===61||D===62||D===96?n(D):D===34||D===39?(t.consume(D),l=D,A):fn(D)?(t.consume(D),O):(l=null,M(D))}function A(D){return D===null||je(D)?n(D):D===l?(t.consume(D),L):(t.consume(D),A)}function M(D){return D===null||D===34||D===39||D===60||D===61||D===62||D===96||bi(D)?E(D):(t.consume(D),M)}function L(D){return D===47||D===62||fn(D)?_(D):n(D)}function H(D){return D===62?(t.consume(D),G):n(D)}function G(D){return fn(D)?(t.consume(D),G):D===null||je(D)?z(D):n(D)}function z(D){return D===45&&i===2?(t.consume(D),he):D===60&&i===1?(t.consume(D),ce):D===62&&i===4?(t.consume(D),W):D===63&&i===3?(t.consume(D),le):D===93&&i===5?(t.consume(D),Z):je(D)&&(i===6||i===7)?t.check(fie,W,j)(D):D===null||je(D)?j(D):(t.consume(D),z)}function j(D){return t.exit("htmlFlowData"),X(D)}function X(D){return D===null?R(D):je(D)?t.attempt({tokenize:V,partial:!0},X,R)(D):(t.enter("htmlFlowData"),z(D))}function V(D,Q,K){return $;function $(me){return D.enter("lineEnding"),D.consume(me),D.exit("lineEnding"),ne}function ne(me){return r.parser.lazy[r.now().line]?K(me):Q(me)}}function he(D){return D===45?(t.consume(D),le):z(D)}function ce(D){return D===47?(t.consume(D),o="",te):z(D)}function te(D){return D===62&&PO.includes(o.toLowerCase())?(t.consume(D),W):Ts(D)&&o.length<8?(t.consume(D),o+=String.fromCharCode(D),te):z(D)}function Z(D){return D===93?(t.consume(D),le):z(D)}function le(D){return D===62?(t.consume(D),W):D===45&&i===2?(t.consume(D),le):z(D)}function W(D){return D===null||je(D)?(t.exit("htmlFlowData"),R(D)):(t.consume(D),W)}function R(D){return t.exit("htmlFlow"),e(D)}}function gie(t,e,n){return r;function r(i){return t.exit("htmlFlowData"),t.enter("lineEndingBlank"),t.consume(i),t.exit("lineEndingBlank"),t.attempt(Xv,e,n)}}const vie={name:"htmlText",tokenize:yie};function yie(t,e,n){const r=this;let i,s,o,a;return l;function l(R){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(R),c}function c(R){return R===33?(t.consume(R),h):R===47?(t.consume(R),M):R===63?(t.consume(R),O):Ts(R)?(t.consume(R),G):n(R)}function h(R){return R===45?(t.consume(R),f):R===91?(t.consume(R),s="CDATA[",o=0,x):Ts(R)?(t.consume(R),E):n(R)}function f(R){return R===45?(t.consume(R),p):n(R)}function p(R){return R===null||R===62?n(R):R===45?(t.consume(R),m):v(R)}function m(R){return R===null||R===62?n(R):v(R)}function v(R){return R===null?n(R):R===45?(t.consume(R),y):je(R)?(a=v,Z(R)):(t.consume(R),v)}function y(R){return R===45?(t.consume(R),W):v(R)}function x(R){return R===s.charCodeAt(o++)?(t.consume(R),o===s.length?b:x):n(R)}function b(R){return R===null?n(R):R===93?(t.consume(R),_):je(R)?(a=b,Z(R)):(t.consume(R),b)}function _(R){return R===93?(t.consume(R),w):b(R)}function w(R){return R===62?W(R):R===93?(t.consume(R),w):b(R)}function E(R){return R===null||R===62?W(R):je(R)?(a=E,Z(R)):(t.consume(R),E)}function O(R){return R===null?n(R):R===63?(t.consume(R),A):je(R)?(a=O,Z(R)):(t.consume(R),O)}function A(R){return R===62?W(R):O(R)}function M(R){return Ts(R)?(t.consume(R),L):n(R)}function L(R){return R===45||Br(R)?(t.consume(R),L):H(R)}function H(R){return je(R)?(a=H,Z(R)):fn(R)?(t.consume(R),H):W(R)}function G(R){return R===45||Br(R)?(t.consume(R),G):R===47||R===62||bi(R)?z(R):n(R)}function z(R){return R===47?(t.consume(R),W):R===58||R===95||Ts(R)?(t.consume(R),j):je(R)?(a=z,Z(R)):fn(R)?(t.consume(R),z):W(R)}function j(R){return R===45||R===46||R===58||R===95||Br(R)?(t.consume(R),j):X(R)}function X(R){return R===61?(t.consume(R),V):je(R)?(a=X,Z(R)):fn(R)?(t.consume(R),X):z(R)}function V(R){return R===null||R===60||R===61||R===62||R===96?n(R):R===34||R===39?(t.consume(R),i=R,he):je(R)?(a=V,Z(R)):fn(R)?(t.consume(R),V):(t.consume(R),i=void 0,te)}function he(R){return R===i?(t.consume(R),ce):R===null?n(R):je(R)?(a=he,Z(R)):(t.consume(R),he)}function ce(R){return R===62||R===47||bi(R)?z(R):n(R)}function te(R){return R===null||R===34||R===39||R===60||R===61||R===96?n(R):R===62||bi(R)?z(R):(t.consume(R),te)}function Z(R){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(R),t.exit("lineEnding"),Tt(t,le,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function le(R){return t.enter("htmlTextData"),a(R)}function W(R){return R===62?(t.consume(R),t.exit("htmlTextData"),t.exit("htmlText"),e):n(R)}}const RE={name:"labelEnd",tokenize:Eie,resolveTo:Sie,resolveAll:_ie},bie={tokenize:Cie},xie={tokenize:Tie},wie={tokenize:Aie};function _ie(t){let e=-1,n;for(;++e<t.length;)n=t[e][1],(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(e+1,n.type==="labelImage"?4:2),n.type="data",e++);return t}function Sie(t,e){let n=t.length,r=0,i,s,o,a;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:Object.assign({},t[s][1].start),end:Object.assign({},t[t.length-1][1].end)},c={type:"label",start:Object.assign({},t[s][1].start),end:Object.assign({},t[o][1].end)},h={type:"labelText",start:Object.assign({},t[s+r+2][1].end),end:Object.assign({},t[o-2][1].start)};return a=[["enter",l,e],["enter",c,e]],a=ci(a,t.slice(s+1,s+r+3)),a=ci(a,[["enter",h,e]]),a=ci(a,OE(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),a=ci(a,[["exit",h,e],t[o-2],t[o-1],["exit",c,e]]),a=ci(a,t.slice(o+1)),a=ci(a,[["exit",l,e]]),Fs(t,s,t.length,a),t}function Eie(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(h){return s?s._inactive?c(h):(o=r.parser.defined.includes(Hu(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelEnd"),l):n(h)}function l(h){return h===40?t.attempt(bie,e,o?e:c)(h):h===91?t.attempt(xie,e,o?t.attempt(wie,e,c):c)(h):o?e(h):c(h)}function c(h){return s._balanced=!0,n(h)}}function Cie(t,e,n){return r;function r(l){return t.enter("resource"),t.enter("resourceMarker"),t.consume(l),t.exit("resourceMarker"),Zh(t,i)}function i(l){return l===41?a(l):MD(t,s,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(l)}function s(l){return bi(l)?Zh(t,o)(l):a(l)}function o(l){return l===34||l===39||l===40?DD(t,Zh(t,a),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(l):a(l)}function a(l){return l===41?(t.enter("resourceMarker"),t.consume(l),t.exit("resourceMarker"),t.exit("resource"),e):n(l)}}function Tie(t,e,n){const r=this;return i;function i(o){return FD.call(r,t,s,n,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(Hu(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):n(o)}}function Aie(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const Pie={name:"labelStartImage",tokenize:kie,resolveAll:RE.resolveAll};function kie(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const Oie={name:"labelStartLink",tokenize:Iie,resolveAll:RE.resolveAll};function Iie(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const Ny={name:"lineEnding",tokenize:Rie};function Rie(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Tt(t,e,"linePrefix")}}const Fm={name:"thematicBreak",tokenize:Mie};function Mie(t,e,n){let r=0,i;return s;function s(l){return t.enter("thematicBreak"),i=l,o(l)}function o(l){return l===i?(t.enter("thematicBreakSequence"),a(l)):fn(l)?Tt(t,o,"whitespace")(l):r<3||l!==null&&!je(l)?n(l):(t.exit("thematicBreak"),e(l))}function a(l){return l===i?(t.consume(l),r++,a):(t.exit("thematicBreakSequence"),o(l))}}const cr={name:"list",tokenize:Lie,continuation:{tokenize:Bie},exit:$ie},Fie={tokenize:Uie,partial:!0},Die={tokenize:Nie,partial:!0};function Lie(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(m){const v=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:Tw(m)){if(r.containerState.type||(r.containerState.type=v,t.enter(v,{_container:!0})),v==="listUnordered")return t.enter("listItemPrefix"),m===42||m===45?t.check(Fm,n,c)(m):c(m);if(!r.interrupt||m===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(m)}return n(m)}function l(m){return Tw(m)&&++o<10?(t.consume(m),l):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(t.exit("listItemValue"),c(m)):n(m)}function c(m){return t.enter("listItemMarker"),t.consume(m),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,t.check(Xv,r.interrupt?n:h,t.attempt(Fie,p,f))}function h(m){return r.containerState.initialBlankLine=!0,s++,p(m)}function f(m){return fn(m)?(t.enter("listItemPrefixWhitespace"),t.consume(m),t.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(m)}}function Bie(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Xv,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Tt(t,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!fn(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(Die,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Tt(t,t.attempt(cr,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function Nie(t,e,n){const r=this;return Tt(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function $ie(t){t.exit(this.containerState.type)}function Uie(t,e,n){const r=this;return Tt(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(s){const o=r.events[r.events.length-1];return!fn(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const kO={name:"setextUnderline",tokenize:Hie,resolveTo:zie};function zie(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:Object.assign({},t[i][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end=Object.assign({},t[s][1].end)):t[r][1]=o,t.push(["exit",o,e]),t}function Hie(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if(r.events[i][1].type!=="lineEnding"&&r.events[i][1].type!=="linePrefix"&&r.events[i][1].type!=="content"){o=r.events[i][1].type==="paragraph";break}return a;function a(h){return!r.parser.lazy[r.now().line]&&(r.interrupt||o)?(t.enter("setextHeadingLine"),t.enter("setextHeadingLineSequence"),s=h,l(h)):n(h)}function l(h){return h===s?(t.consume(h),l):(t.exit("setextHeadingLineSequence"),Tt(t,c,"lineSuffix")(h))}function c(h){return h===null||je(h)?(t.exit("setextHeadingLine"),e(h)):n(h)}}const jie={tokenize:Wie};function Wie(t){const e=this,n=t.attempt(Xv,r,t.attempt(this.parser.constructs.flowInitial,i,Tt(t,t.attempt(this.parser.constructs.flow,i,t.attempt(Zre,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const Gie={resolveAll:BD()},Vie=LD("string"),qie=LD("text");function LD(t){return{tokenize:e,resolveAll:BD(t==="text"?Xie:void 0)};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,a);return o;function o(h){return c(h)?s(h):a(h)}function a(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),l}function l(h){return c(h)?(n.exit("data"),s(h)):(n.consume(h),l)}function c(h){if(h===null)return!0;const f=i[h];let p=-1;if(f)for(;++p<f.length;){const m=f[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function BD(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function Xie(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)l=!0,a++;else if(c!==-1){s++;break}}if(a){const c={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},c.start),r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}function Yie(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let o=[],a=[];const l={consume:_,enter:w,exit:E,attempt:M(O),check:M(A),interrupt:M(A,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:m,sliceSerialize:p,now:v,defineSkip:y,write:f};let h=e.tokenize.call(c,l);return e.resolveAll&&s.push(e),c;function f(z){return o=ci(o,z),x(),o[o.length-1]!==null?[]:(L(e,0),c.events=OE(s,c.events,c),c.events)}function p(z,j){return Zie(m(z),j)}function m(z){return Kie(o,z)}function v(){return Object.assign({},r)}function y(z){i[z.line]=z.column,G()}function x(){let z;for(;r._index<o.length;){const j=o[r._index];if(typeof j=="string")for(z=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===z&&r._bufferIndex<j.length;)b(j.charCodeAt(r._bufferIndex));else b(j)}}function b(z){h=h(z)}function _(z){je(z)?(r.line++,r.column=1,r.offset+=z===-3?2:1,G()):z!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=z}function w(z,j){const X=j||{};return X.type=z,X.start=v(),c.events.push(["enter",X,c]),a.push(X),X}function E(z){const j=a.pop();return j.end=v(),c.events.push(["exit",j,c]),j}function O(z,j){L(z,j.from)}function A(z,j){j.restore()}function M(z,j){return X;function X(V,he,ce){let te,Z,le,W;return Array.isArray(V)?D(V):"tokenize"in V?D([V]):R(V);function R(ne){return me;function me(Re){const ke=Re!==null&&ne[Re],Ke=Re!==null&&ne.null,Xe=[...Array.isArray(ke)?ke:ke?[ke]:[],...Array.isArray(Ke)?Ke:Ke?[Ke]:[]];return D(Xe)(Re)}}function D(ne){return te=ne,Z=0,ne.length===0?ce:Q(ne[Z])}function Q(ne){return me;function me(Re){return W=H(),le=ne,ne.partial||(c.currentConstruct=ne),ne.name&&c.parser.constructs.disable.null.includes(ne.name)?$():ne.tokenize.call(j?Object.assign(Object.create(c),j):c,l,K,$)(Re)}}function K(ne){return z(le,W),he}function $(ne){return W.restore(),++Z<te.length?Q(te[Z]):ce}}}function L(z,j){z.resolveAll&&!s.includes(z)&&s.push(z),z.resolve&&Fs(c.events,j,c.events.length-j,z.resolve(c.events.slice(j),c)),z.resolveTo&&(c.events=z.resolveTo(c.events,c))}function H(){const z=v(),j=c.previous,X=c.currentConstruct,V=c.events.length,he=Array.from(a);return{restore:ce,from:V};function ce(){r=z,c.previous=j,c.currentConstruct=X,c.events.length=V,a=he,G()}}function G(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Kie(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;return n===i?o=[t[n].slice(r,s)]:(o=t.slice(n,i),r>-1&&(o[0]=o[0].slice(r)),s>0&&o.push(t[i].slice(0,s))),o}function Zie(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}const Qie={[42]:cr,[43]:cr,[45]:cr,[48]:cr,[49]:cr,[50]:cr,[51]:cr,[52]:cr,[53]:cr,[54]:cr,[55]:cr,[56]:cr,[57]:cr,[62]:kD},Jie={[91]:nie},ese={[-2]:By,[-1]:By,[32]:By},tse={[35]:lie,[42]:Fm,[45]:[kO,Fm],[60]:die,[61]:kO,[95]:Fm,[96]:AO,[126]:AO},nse={[38]:ID,[92]:OD},rse={[-5]:Ny,[-4]:Ny,[-3]:Ny,[33]:Pie,[38]:ID,[42]:Pw,[60]:[Fre,vie],[91]:Oie,[92]:[oie,OD],[93]:RE,[95]:Pw,[96]:Vre},ise={null:[Pw,Gie]},sse={null:[42,95]},ose={null:[]},ase=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:sse,contentInitial:Jie,disable:ose,document:Qie,flow:tse,flowInitial:ese,insideSpan:ise,string:nse,text:rse},Symbol.toStringTag,{value:"Module"}));function lse(t={}){const e=bre([ase].concat(t.extensions||[])),n={defined:[],lazy:{},constructs:e,content:r(Are),document:r(kre),flow:r(jie),string:r(Vie),text:r(qie)};return n;function r(i){return s;function s(o){return Yie(n,i,o)}}}const OO=/[\0\t\n\r]/g;function use(){let t=1,e="",n=!0,r;return i;function i(s,o,a){const l=[];let c,h,f,p,m;for(s=e+s.toString(o),f=0,e="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(OO.lastIndex=f,c=OO.exec(s),p=c&&c.index!==void 0?c.index:s.length,m=s.charCodeAt(p),!c){e=s.slice(f);break}if(m===10&&f===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<p&&(l.push(s.slice(f,p)),t+=p-f),m){case 0:{l.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,l.push(-2);t++<h;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}f=p+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}function cse(t){for(;!RD(t););return t}function ND(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCharCode(n)}const hse=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function dse(t){return t.replace(hse,fse)}function fse(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return ND(n.slice(s?2:1),s?16:10)}return IE(n)||t}const $D={}.hasOwnProperty,pse=function(t,e,n){return typeof e!="string"&&(n=e,e=void 0),mse(n)(cse(lse(n).document().write(use()(t,e,!0))))};function mse(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Oi),autolinkProtocol:z,autolinkEmail:z,atxHeading:a(un),blockQuote:a(Xe),characterEscape:z,characterReference:z,codeFenced:a(nt),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:a(nt,l),codeText:a(Pe,l),codeTextData:z,data:z,codeFlowValue:z,definition:a(st),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:a(gt),hardBreakEscape:a(rn),hardBreakTrailing:a(rn),htmlFlow:a(Ze,l),htmlFlowData:z,htmlText:a(Ze,l),htmlTextData:z,image:a(kn),label:l,link:a(Oi),listItem:a(fs),listItemValue:v,listOrdered:a(On,m),listUnordered:a(On),paragraph:a(Tl),reference:$,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:a(un),strong:a(D0),thematicBreak:a(L0)},exit:{atxHeading:h(),atxHeadingSequence:M,autolink:h(),autolinkEmail:Ke,autolinkProtocol:ke,blockQuote:h(),characterEscapeValue:j,characterReferenceMarkerHexadecimal:me,characterReferenceMarkerNumeric:me,characterReferenceValue:Re,codeFenced:h(_),codeFencedFence:b,codeFencedFenceInfo:y,codeFencedFenceMeta:x,codeFlowValue:j,codeIndented:h(w),codeText:h(te),codeTextData:j,data:j,definition:h(),definitionDestinationString:A,definitionLabelString:E,definitionTitleString:O,emphasis:h(),hardBreakEscape:h(V),hardBreakTrailing:h(V),htmlFlow:h(he),htmlFlowData:j,htmlText:h(ce),htmlTextData:j,image:h(le),label:R,labelText:W,lineEnding:X,link:h(Z),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:ne,resourceDestinationString:D,resourceTitleString:Q,resource:K,setextHeading:h(G),setextHeadingLineSequence:H,setextHeadingText:L,strong:h(),thematicBreak:h()}};UD(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(re){let pe={type:"root",children:[]};const Fe={stack:[pe],tokenStack:[],config:e,enter:c,exit:f,buffer:l,resume:p,setData:s,getData:o},ht=[];let dt=-1;for(;++dt<re.length;)if(re[dt][1].type==="listOrdered"||re[dt][1].type==="listUnordered")if(re[dt][0]==="enter")ht.push(dt);else{const Gn=ht.pop();dt=i(re,Gn,dt)}for(dt=-1;++dt<re.length;){const Gn=e[re[dt][0]];$D.call(Gn,re[dt][1].type)&&Gn[re[dt][1].type].call(Object.assign({sliceSerialize:re[dt][2].sliceSerialize},Fe),re[dt][1])}if(Fe.tokenStack.length>0){const Gn=Fe.tokenStack[Fe.tokenStack.length-1];(Gn[1]||IO).call(Fe,void 0,Gn[0])}for(pe.position={start:Fo(re.length>0?re[0][1].start:{line:1,column:1,offset:0}),end:Fo(re.length>0?re[re.length-2][1].end:{line:1,column:1,offset:0})},dt=-1;++dt<e.transforms.length;)pe=e.transforms[dt](pe)||pe;return pe}function i(re,pe,Fe){let ht=pe-1,dt=-1,Gn=!1,Zr,wr,Bs,Ns;for(;++ht<=Fe;){const It=re[ht];if(It[1].type==="listUnordered"||It[1].type==="listOrdered"||It[1].type==="blockQuote"?(It[0]==="enter"?dt++:dt--,Ns=void 0):It[1].type==="lineEndingBlank"?It[0]==="enter"&&(Zr&&!Ns&&!dt&&!Bs&&(Bs=ht),Ns=void 0):It[1].type==="linePrefix"||It[1].type==="listItemValue"||It[1].type==="listItemMarker"||It[1].type==="listItemPrefix"||It[1].type==="listItemPrefixWhitespace"||(Ns=void 0),!dt&&It[0]==="enter"&&It[1].type==="listItemPrefix"||dt===-1&&It[0]==="exit"&&(It[1].type==="listUnordered"||It[1].type==="listOrdered")){if(Zr){let Lc=ht;for(wr=void 0;Lc--;){const Ii=re[Lc];if(Ii[1].type==="lineEnding"||Ii[1].type==="lineEndingBlank"){if(Ii[0]==="exit")continue;wr&&(re[wr][1].type="lineEndingBlank",Gn=!0),Ii[1].type="lineEnding",wr=Lc}else if(!(Ii[1].type==="linePrefix"||Ii[1].type==="blockQuotePrefix"||Ii[1].type==="blockQuotePrefixWhitespace"||Ii[1].type==="blockQuoteMarker"||Ii[1].type==="listItemIndent"))break}Bs&&(!wr||Bs<wr)&&(Zr._spread=!0),Zr.end=Object.assign({},wr?re[wr][1].start:It[1].end),re.splice(wr||ht,0,["exit",Zr,It[2]]),ht++,Fe++}It[1].type==="listItemPrefix"&&(Zr={type:"listItem",_spread:!1,start:Object.assign({},It[1].start)},re.splice(ht,0,["enter",Zr,It[2]]),ht++,Fe++,Bs=void 0,Ns=!0)}}return re[pe][1]._spread=Gn,Fe}function s(re,pe){n[re]=pe}function o(re){return n[re]}function a(re,pe){return Fe;function Fe(ht){c.call(this,re(ht),ht),pe&&pe.call(this,ht)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(re,pe,Fe){return this.stack[this.stack.length-1].children.push(re),this.stack.push(re),this.tokenStack.push([pe,Fe]),re.position={start:Fo(pe.start)},re}function h(re){return pe;function pe(Fe){re&&re.call(this,Fe),f.call(this,Fe)}}function f(re,pe){const Fe=this.stack.pop(),ht=this.tokenStack.pop();if(ht)ht[0].type!==re.type&&(pe?pe.call(this,re,ht[0]):(ht[1]||IO).call(this,re,ht[0]));else throw new Error("Cannot close `"+re.type+"` ("+Kh({start:re.start,end:re.end})+"): it’s not open");return Fe.position.end=Fo(re.end),Fe}function p(){return vre(this.stack.pop())}function m(){s("expectingFirstListItemValue",!0)}function v(re){if(o("expectingFirstListItemValue")){const pe=this.stack[this.stack.length-2];pe.start=Number.parseInt(this.sliceSerialize(re),10),s("expectingFirstListItemValue")}}function y(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.lang=re}function x(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.meta=re}function b(){o("flowCodeInside")||(this.buffer(),s("flowCodeInside",!0))}function _(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.value=re.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s("flowCodeInside")}function w(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.value=re.replace(/(\r?\n|\r)$/g,"")}function E(re){const pe=this.resume(),Fe=this.stack[this.stack.length-1];Fe.label=pe,Fe.identifier=Hu(this.sliceSerialize(re)).toLowerCase()}function O(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.title=re}function A(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.url=re}function M(re){const pe=this.stack[this.stack.length-1];if(!pe.depth){const Fe=this.sliceSerialize(re).length;pe.depth=Fe}}function L(){s("setextHeadingSlurpLineEnding",!0)}function H(re){const pe=this.stack[this.stack.length-1];pe.depth=this.sliceSerialize(re).charCodeAt(0)===61?1:2}function G(){s("setextHeadingSlurpLineEnding")}function z(re){const pe=this.stack[this.stack.length-1];let Fe=pe.children[pe.children.length-1];(!Fe||Fe.type!=="text")&&(Fe=va(),Fe.position={start:Fo(re.start)},pe.children.push(Fe)),this.stack.push(Fe)}function j(re){const pe=this.stack.pop();pe.value+=this.sliceSerialize(re),pe.position.end=Fo(re.end)}function X(re){const pe=this.stack[this.stack.length-1];if(o("atHardBreak")){const Fe=pe.children[pe.children.length-1];Fe.position.end=Fo(re.end),s("atHardBreak");return}!o("setextHeadingSlurpLineEnding")&&e.canContainEols.includes(pe.type)&&(z.call(this,re),j.call(this,re))}function V(){s("atHardBreak",!0)}function he(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.value=re}function ce(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.value=re}function te(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.value=re}function Z(){const re=this.stack[this.stack.length-1];if(o("inReference")){const pe=o("referenceType")||"shortcut";re.type+="Reference",re.referenceType=pe,delete re.url,delete re.title}else delete re.identifier,delete re.label;s("referenceType")}function le(){const re=this.stack[this.stack.length-1];if(o("inReference")){const pe=o("referenceType")||"shortcut";re.type+="Reference",re.referenceType=pe,delete re.url,delete re.title}else delete re.identifier,delete re.label;s("referenceType")}function W(re){const pe=this.sliceSerialize(re),Fe=this.stack[this.stack.length-2];Fe.label=dse(pe),Fe.identifier=Hu(pe).toLowerCase()}function R(){const re=this.stack[this.stack.length-1],pe=this.resume(),Fe=this.stack[this.stack.length-1];if(s("inReference",!0),Fe.type==="link"){const ht=re.children;Fe.children=ht}else Fe.alt=pe}function D(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.url=re}function Q(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.title=re}function K(){s("inReference")}function $(){s("referenceType","collapsed")}function ne(re){const pe=this.resume(),Fe=this.stack[this.stack.length-1];Fe.label=pe,Fe.identifier=Hu(this.sliceSerialize(re)).toLowerCase(),s("referenceType","full")}function me(re){s("characterReferenceType",re.type)}function Re(re){const pe=this.sliceSerialize(re),Fe=o("characterReferenceType");let ht;Fe?(ht=ND(pe,Fe==="characterReferenceMarkerNumeric"?10:16),s("characterReferenceType")):ht=IE(pe);const dt=this.stack.pop();dt.value+=ht,dt.position.end=Fo(re.end)}function ke(re){j.call(this,re);const pe=this.stack[this.stack.length-1];pe.url=this.sliceSerialize(re)}function Ke(re){j.call(this,re);const pe=this.stack[this.stack.length-1];pe.url="mailto:"+this.sliceSerialize(re)}function Xe(){return{type:"blockquote",children:[]}}function nt(){return{type:"code",lang:null,meta:null,value:""}}function Pe(){return{type:"inlineCode",value:""}}function st(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function gt(){return{type:"emphasis",children:[]}}function un(){return{type:"heading",depth:void 0,children:[]}}function rn(){return{type:"break"}}function Ze(){return{type:"html",value:""}}function kn(){return{type:"image",title:null,url:"",alt:null}}function Oi(){return{type:"link",title:null,url:"",children:[]}}function On(re){return{type:"list",ordered:re.type==="listOrdered",start:null,spread:re._spread,children:[]}}function fs(re){return{type:"listItem",spread:re._spread,checked:null,children:[]}}function Tl(){return{type:"paragraph",children:[]}}function D0(){return{type:"strong",children:[]}}function va(){return{type:"text",value:""}}function L0(){return{type:"thematicBreak"}}}function Fo(t){return{line:t.line,column:t.column,offset:t.offset}}function UD(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?UD(t,r):gse(t,r)}}function gse(t,e){let n;for(n in e)if($D.call(e,n)){if(n==="canContainEols"){const r=e[n];r&&t[n].push(...r)}else if(n==="transforms"){const r=e[n];r&&t[n].push(...r)}else if(n==="enter"||n==="exit"){const r=e[n];r&&Object.assign(t[n],r)}}}function IO(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Kh({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Kh({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Kh({start:e.start,end:e.end})+") is still open")}function vse(t){Object.assign(this,{Parser:n=>{const r=this.data("settings");return pse(n,Object.assign({},r,t,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function yse(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function bse(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function xse(t,e){const n=e.value?e.value+`
`:"",r=e.lang?e.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,i={};r&&(i.className=["language-"+r]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function wse(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function _se(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function _c(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&Br(t.charCodeAt(n+1))&&Br(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o="�"}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function zD(t,e){const n=String(e.identifier).toUpperCase(),r=_c(n.toLowerCase()),i=t.footnoteOrder.indexOf(n);let s;i===-1?(t.footnoteOrder.push(n),t.footnoteCounts[n]=1,s=t.footnoteOrder.length):(t.footnoteCounts[n]++,s=i+1);const o=t.footnoteCounts[n],a={type:"element",tagName:"a",properties:{href:"#"+t.clobberPrefix+"fn-"+r,id:t.clobberPrefix+"fnref-"+r+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,a);const l={type:"element",tagName:"sup",properties:{},children:[a]};return t.patch(e,l),t.applyData(e,l)}function Sse(t,e){const n=t.footnoteById;let r=1;for(;r in n;)r++;const i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:e.children}],position:e.position},zD(t,{type:"footnoteReference",identifier:i,position:e.position})}function Ese(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Cse(t,e){if(t.dangerous){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}return null}function HD(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return{type:"text",value:"!["+e.alt+r};const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function Tse(t,e){const n=t.definition(e.identifier);if(!n)return HD(t,e);const r={src:_c(n.url||""),alt:e.alt};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"img",properties:r,children:[]};return t.patch(e,i),t.applyData(e,i)}function Ase(t,e){const n={src:_c(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function Pse(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function kse(t,e){const n=t.definition(e.identifier);if(!n)return HD(t,e);const r={href:_c(n.url||"")};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"a",properties:r,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function Ose(t,e){const n={href:_c(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Ise(t,e,n){const r=t.all(e),i=n?Rse(n):jD(e),s={},o=[];if(typeof e.checked=="boolean"){const h=r[0];let f;h&&h.type==="element"&&h.tagName==="p"?f=h:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const h=r[a];(i||a!==0||h.type!=="element"||h.tagName!=="p")&&o.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?o.push(...h.children):o.push(h)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,c),t.applyData(e,c)}function Rse(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=jD(n[r])}return e}function jD(t){const e=t.spread;return e??t.children.length>1}function Mse(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function Fse(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Dse(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function Lse(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const ME=WD("start"),FE=WD("end");function Bse(t){return{start:ME(t),end:FE(t)}}function WD(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function Nse(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=ME(e.children[1]),l=FE(e.children[e.children.length-1]);a.line&&l.line&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function $se(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let l=-1;const c=[];for(;++l<a;){const f=e.children[l],p={},m=o?o[l]:void 0;m&&(p.align=m);let v={type:"element",tagName:s,properties:p,children:[]};f&&(v.children=t.all(f),t.patch(f,v),v=t.applyData(e,v)),c.push(v)}const h={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,h),t.applyData(e,h)}function Use(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const RO=9,MO=32;function zse(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(FO(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(FO(e.slice(i),i>0,!1)),s.join("")}function FO(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===RO||s===MO;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===RO||s===MO;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function Hse(t,e){const n={type:"text",value:zse(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function jse(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const Wse={blockquote:yse,break:bse,code:xse,delete:wse,emphasis:_se,footnoteReference:zD,footnote:Sse,heading:Ese,html:Cse,imageReference:Tse,image:Ase,inlineCode:Pse,linkReference:kse,link:Ose,listItem:Ise,list:Mse,paragraph:Fse,root:Dse,strong:Lse,table:Nse,tableCell:Use,tableRow:$se,text:Hse,thematicBreak:jse,toml:Lp,yaml:Lp,definition:Lp,footnoteDefinition:Lp};function Lp(){return null}const GD=function(t){if(t==null)return Xse;if(typeof t=="string")return qse(t);if(typeof t=="object")return Array.isArray(t)?Gse(t):Vse(t);if(typeof t=="function")return Yv(t);throw new Error("Expected function, string, or object as test")};function Gse(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=GD(t[n]);return Yv(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].call(this,...i))return!0;return!1}}function Vse(t){return Yv(e);function e(n){let r;for(r in t)if(n[r]!==t[r])return!1;return!0}}function qse(t){return Yv(e);function e(n){return n&&n.type===t}}function Yv(t){return e;function e(n,...r){return Boolean(n&&typeof n=="object"&&"type"in n&&Boolean(t.call(this,n,...r)))}}function Xse(){return!0}const Yse=!0,DO=!1,Kse="skip",Zse=function(t,e,n,r){typeof e=="function"&&typeof n!="function"&&(r=n,n=e,e=null);const i=GD(e),s=r?-1:1;o(t,void 0,[])();function o(a,l,c){const h=a&&typeof a=="object"?a:{};if(typeof h.type=="string"){const p=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(a.type+(p?"<"+p+">":""))+")"})}return f;function f(){let p=[],m,v,y;if((!e||i(a,l,c[c.length-1]||null))&&(p=Qse(n(a,c)),p[0]===DO))return p;if(a.children&&p[0]!==Kse)for(v=(r?a.children.length:-1)+s,y=c.concat(a);v>-1&&v<a.children.length;){if(m=o(a.children[v],v,y)(),m[0]===DO)return m;v=typeof m[1]=="number"?m[1]:v+s}return p}}};function Qse(t){return Array.isArray(t)?t:typeof t=="number"?[Yse,t]:[t]}const DE=function(t,e,n,r){typeof e=="function"&&typeof n!="function"&&(r=n,n=e,e=null),Zse(t,e,i,r);function i(s,o){const a=o[o.length-1];return n(s,a?a.children.indexOf(s):null,a)}};function Jse(t){return!t||!t.position||!t.position.start||!t.position.start.line||!t.position.start.column||!t.position.end||!t.position.end.line||!t.position.end.column}const LO={}.hasOwnProperty;function eoe(t){const e=Object.create(null);if(!t||!t.type)throw new Error("mdast-util-definitions expected node");return DE(t,"definition",r=>{const i=BO(r.identifier);i&&!LO.call(e,i)&&(e[i]=r)}),n;function n(r){const i=BO(r);return i&&LO.call(e,i)?e[i]:null}}function BO(t){return String(t||"").toUpperCase()}const Tg={}.hasOwnProperty;function toe(t,e){const n=e||{},r=n.allowDangerousHtml||!1,i={};return o.dangerous=r,o.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,o.footnoteLabel=n.footnoteLabel||"Footnotes",o.footnoteLabelTagName=n.footnoteLabelTagName||"h2",o.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},o.footnoteBackLabel=n.footnoteBackLabel||"Back to content",o.unknownHandler=n.unknownHandler,o.passThrough=n.passThrough,o.handlers={...Wse,...n.handlers},o.definition=eoe(t),o.footnoteById=i,o.footnoteOrder=[],o.footnoteCounts={},o.patch=noe,o.applyData=roe,o.one=a,o.all=l,o.wrap=soe,o.augment=s,DE(t,"footnoteDefinition",c=>{const h=String(c.identifier).toUpperCase();Tg.call(i,h)||(i[h]=c)}),o;function s(c,h){if(c&&"data"in c&&c.data){const f=c.data;f.hName&&(h.type!=="element"&&(h={type:"element",tagName:"",properties:{},children:[]}),h.tagName=f.hName),h.type==="element"&&f.hProperties&&(h.properties={...h.properties,...f.hProperties}),"children"in h&&h.children&&f.hChildren&&(h.children=f.hChildren)}if(c){const f="type"in c?c:{position:c};Jse(f)||(h.position={start:ME(f),end:FE(f)})}return h}function o(c,h,f,p){return Array.isArray(f)&&(p=f,f={}),s(c,{type:"element",tagName:h,properties:f||{},children:p||[]})}function a(c,h){return VD(o,c,h)}function l(c){return LE(o,c)}}function noe(t,e){t.position&&(e.position=Bse(t))}function roe(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;typeof r=="string"&&(n.type==="element"?n.tagName=r:n={type:"element",tagName:r,properties:{},children:[]}),n.type==="element"&&s&&(n.properties={...n.properties,...s}),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function VD(t,e,n){const r=e&&e.type;if(!r)throw new Error("Expected node, got `"+e+"`");return Tg.call(t.handlers,r)?t.handlers[r](t,e,n):t.passThrough&&t.passThrough.includes(r)?"children"in e?{...e,children:LE(t,e)}:e:t.unknownHandler?t.unknownHandler(t,e,n):ioe(t,e)}function LE(t,e){const n=[];if("children"in e){const r=e.children;let i=-1;for(;++i<r.length;){const s=VD(t,r[i],e);if(s){if(i&&r[i-1].type==="break"&&(!Array.isArray(s)&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,"")),!Array.isArray(s)&&s.type==="element")){const o=s.children[0];o&&o.type==="text"&&(o.value=o.value.replace(/^\s+/,""))}Array.isArray(s)?n.push(...s):n.push(s)}}}return n}function ioe(t,e){const n=e.data||{},r="value"in e&&!(Tg.call(n,"hProperties")||Tg.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:LE(t,e)};return t.patch(e,r),t.applyData(e,r)}function soe(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function ooe(t){const e=[];let n=-1;for(;++n<t.footnoteOrder.length;){const r=t.footnoteById[t.footnoteOrder[n]];if(!r)continue;const i=t.all(r),s=String(r.identifier).toUpperCase(),o=_c(s.toLowerCase());let a=0;const l=[];for(;++a<=t.footnoteCounts[s];){const f={type:"element",tagName:"a",properties:{href:"#"+t.clobberPrefix+"fnref-"+o+(a>1?"-"+a:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:t.footnoteBackLabel},children:[{type:"text",value:"↩"}]};a>1&&f.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(a)}]}),l.length>0&&l.push({type:"text",value:" "}),l.push(f)}const c=i[i.length-1];if(c&&c.type==="element"&&c.tagName==="p"){const f=c.children[c.children.length-1];f&&f.type==="text"?f.value+=" ":c.children.push({type:"text",value:" "}),c.children.push(...l)}else i.push(...l);const h={type:"element",tagName:"li",properties:{id:t.clobberPrefix+"fn-"+o},children:t.wrap(i,!0)};t.patch(r,h),e.push(h)}if(e.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:t.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(t.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:t.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(e,!0)},{type:"text",value:`
`}]}}function qD(t,e){const n=toe(t,e),r=n.one(t,null),i=ooe(n);return i&&r.children.push({type:"text",value:`
`},i),Array.isArray(r)?{type:"root",children:r}:r}const aoe=function(t,e){return t&&"run"in t?uoe(t,e):coe(t||e)},loe=aoe;function uoe(t,e){return(n,r,i)=>{t.run(qD(n,e),r,s=>{i(s)})}}function coe(t){return e=>qD(e,t)}class uf{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}uf.prototype.property={};uf.prototype.normal={};uf.prototype.space=null;function XD(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new uf(n,r,e)}function kw(t){return t.toLowerCase()}class Ti{constructor(e,n){this.property=e,this.attribute=n}}Ti.prototype.space=null;Ti.prototype.boolean=!1;Ti.prototype.booleanish=!1;Ti.prototype.overloadedBoolean=!1;Ti.prototype.number=!1;Ti.prototype.commaSeparated=!1;Ti.prototype.spaceSeparated=!1;Ti.prototype.commaOrSpaceSeparated=!1;Ti.prototype.mustUseProperty=!1;Ti.prototype.defined=!1;let hoe=0;const Je=wl(),hn=wl(),YD=wl(),fe=wl(),Dt=wl(),ju=wl(),kr=wl();function wl(){return 2**++hoe}const Ow=Object.freeze(Object.defineProperty({__proto__:null,boolean:Je,booleanish:hn,commaOrSpaceSeparated:kr,commaSeparated:ju,number:fe,overloadedBoolean:YD,spaceSeparated:Dt},Symbol.toStringTag,{value:"Module"})),$y=Object.keys(Ow);class BE extends Ti{constructor(e,n,r,i){let s=-1;if(super(e,n),NO(this,"space",i),typeof r=="number")for(;++s<$y.length;){const o=$y[s];NO(this,$y[s],(r&Ow[o])===Ow[o])}}}BE.prototype.defined=!0;function NO(t,e,n){n&&(t[e]=n)}const doe={}.hasOwnProperty;function Sc(t){const e={},n={};let r;for(r in t.properties)if(doe.call(t.properties,r)){const i=t.properties[r],s=new BE(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[kw(r)]=r,n[kw(s.attribute)]=r}return new uf(e,n,t.space)}const KD=Sc({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),ZD=Sc({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function QD(t,e){return e in t?t[e]:e}function JD(t,e){return QD(t,e.toLowerCase())}const e5=Sc({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:JD,properties:{xmlns:null,xmlnsXLink:null}}),t5=Sc({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:hn,ariaAutoComplete:null,ariaBusy:hn,ariaChecked:hn,ariaColCount:fe,ariaColIndex:fe,ariaColSpan:fe,ariaControls:Dt,ariaCurrent:null,ariaDescribedBy:Dt,ariaDetails:null,ariaDisabled:hn,ariaDropEffect:Dt,ariaErrorMessage:null,ariaExpanded:hn,ariaFlowTo:Dt,ariaGrabbed:hn,ariaHasPopup:null,ariaHidden:hn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Dt,ariaLevel:fe,ariaLive:null,ariaModal:hn,ariaMultiLine:hn,ariaMultiSelectable:hn,ariaOrientation:null,ariaOwns:Dt,ariaPlaceholder:null,ariaPosInSet:fe,ariaPressed:hn,ariaReadOnly:hn,ariaRelevant:null,ariaRequired:hn,ariaRoleDescription:Dt,ariaRowCount:fe,ariaRowIndex:fe,ariaRowSpan:fe,ariaSelected:hn,ariaSetSize:fe,ariaSort:null,ariaValueMax:fe,ariaValueMin:fe,ariaValueNow:fe,ariaValueText:null,role:null}}),foe=Sc({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:JD,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ju,acceptCharset:Dt,accessKey:Dt,action:null,allow:null,allowFullScreen:Je,allowPaymentRequest:Je,allowUserMedia:Je,alt:null,as:null,async:Je,autoCapitalize:null,autoComplete:Dt,autoFocus:Je,autoPlay:Je,capture:Je,charSet:null,checked:Je,cite:null,className:Dt,cols:fe,colSpan:null,content:null,contentEditable:hn,controls:Je,controlsList:Dt,coords:fe|ju,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Je,defer:Je,dir:null,dirName:null,disabled:Je,download:YD,draggable:hn,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Je,formTarget:null,headers:Dt,height:fe,hidden:Je,high:fe,href:null,hrefLang:null,htmlFor:Dt,httpEquiv:Dt,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:Je,itemId:null,itemProp:Dt,itemRef:Dt,itemScope:Je,itemType:Dt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Je,low:fe,manifest:null,max:null,maxLength:fe,media:null,method:null,min:null,minLength:fe,multiple:Je,muted:Je,name:null,nonce:null,noModule:Je,noValidate:Je,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Je,optimum:fe,pattern:null,ping:Dt,placeholder:null,playsInline:Je,poster:null,preload:null,readOnly:Je,referrerPolicy:null,rel:Dt,required:Je,reversed:Je,rows:fe,rowSpan:fe,sandbox:Dt,scope:null,scoped:Je,seamless:Je,selected:Je,shape:null,size:fe,sizes:null,slot:null,span:fe,spellCheck:hn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:fe,step:null,style:null,tabIndex:fe,target:null,title:null,translate:null,type:null,typeMustMatch:Je,useMap:null,value:hn,width:fe,wrap:null,align:null,aLink:null,archive:Dt,axis:null,background:null,bgColor:null,border:fe,borderColor:null,bottomMargin:fe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Je,declare:Je,event:null,face:null,frame:null,frameBorder:null,hSpace:fe,leftMargin:fe,link:null,longDesc:null,lowSrc:null,marginHeight:fe,marginWidth:fe,noResize:Je,noHref:Je,noShade:Je,noWrap:Je,object:null,profile:null,prompt:null,rev:null,rightMargin:fe,rules:null,scheme:null,scrolling:hn,standby:null,summary:null,text:null,topMargin:fe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:fe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Je,disableRemotePlayback:Je,prefix:null,property:null,results:fe,security:null,unselectable:null}}),poe=Sc({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:QD,properties:{about:kr,accentHeight:fe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:fe,amplitude:fe,arabicForm:null,ascent:fe,attributeName:null,attributeType:null,azimuth:fe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:fe,by:null,calcMode:null,capHeight:fe,className:Dt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:fe,diffuseConstant:fe,direction:null,display:null,dur:null,divisor:fe,dominantBaseline:null,download:Je,dx:null,dy:null,edgeMode:null,editable:null,elevation:fe,enableBackground:null,end:null,event:null,exponent:fe,externalResourcesRequired:null,fill:null,fillOpacity:fe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ju,g2:ju,glyphName:ju,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:fe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:fe,horizOriginX:fe,horizOriginY:fe,id:null,ideographic:fe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:fe,k:fe,k1:fe,k2:fe,k3:fe,k4:fe,kernelMatrix:kr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:fe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:fe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:fe,overlineThickness:fe,paintOrder:null,panose1:null,path:null,pathLength:fe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Dt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:fe,pointsAtY:fe,pointsAtZ:fe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:kr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:kr,rev:kr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:kr,requiredFeatures:kr,requiredFonts:kr,requiredFormats:kr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:fe,specularExponent:fe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:fe,strikethroughThickness:fe,string:null,stroke:null,strokeDashArray:kr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:fe,strokeOpacity:fe,strokeWidth:null,style:null,surfaceScale:fe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:kr,tabIndex:fe,tableValues:null,target:null,targetX:fe,targetY:fe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:kr,to:null,transform:null,u1:null,u2:null,underlinePosition:fe,underlineThickness:fe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:fe,values:null,vAlphabetic:fe,vMathematical:fe,vectorEffect:null,vHanging:fe,vIdeographic:fe,version:null,vertAdvY:fe,vertOriginX:fe,vertOriginY:fe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:fe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),moe=/^data[-\w.:]+$/i,$O=/-[a-z]/g,goe=/[A-Z]/g;function voe(t,e){const n=kw(e);let r=e,i=Ti;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&moe.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace($O,boe);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!$O.test(s)){let o=s.replace(goe,yoe);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=BE}return new i(r,e)}function yoe(t){return"-"+t.toLowerCase()}function boe(t){return t.charAt(1).toUpperCase()}const UO={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},xoe=XD([ZD,KD,e5,t5,foe],"html"),woe=XD([ZD,KD,e5,t5,poe],"svg");function _oe(t){if(t.allowedElements&&t.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(t.allowedElements||t.disallowedElements||t.allowElement)return e=>{DE(e,"element",(n,r,i)=>{const s=i;let o;if(t.allowedElements?o=!t.allowedElements.includes(n.tagName):t.disallowedElements&&(o=t.disallowedElements.includes(n.tagName)),!o&&t.allowElement&&typeof r=="number"&&(o=!t.allowElement(n,r,s)),o&&typeof r=="number")return t.unwrapDisallowed&&n.children?s.children.splice(r,1,...n.children):s.children.splice(r,1),r})}}var Iw={},Soe={get exports(){return Iw},set exports(t){Iw=t}},St={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE=Symbol.for("react.element"),$E=Symbol.for("react.portal"),Kv=Symbol.for("react.fragment"),Zv=Symbol.for("react.strict_mode"),Qv=Symbol.for("react.profiler"),Jv=Symbol.for("react.provider"),e0=Symbol.for("react.context"),Eoe=Symbol.for("react.server_context"),t0=Symbol.for("react.forward_ref"),n0=Symbol.for("react.suspense"),r0=Symbol.for("react.suspense_list"),i0=Symbol.for("react.memo"),s0=Symbol.for("react.lazy"),Coe=Symbol.for("react.offscreen"),n5;n5=Symbol.for("react.module.reference");function Ai(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case NE:switch(t=t.type,t){case Kv:case Qv:case Zv:case n0:case r0:return t;default:switch(t=t&&t.$$typeof,t){case Eoe:case e0:case t0:case s0:case i0:case Jv:return t;default:return e}}case $E:return e}}}St.ContextConsumer=e0;St.ContextProvider=Jv;St.Element=NE;St.ForwardRef=t0;St.Fragment=Kv;St.Lazy=s0;St.Memo=i0;St.Portal=$E;St.Profiler=Qv;St.StrictMode=Zv;St.Suspense=n0;St.SuspenseList=r0;St.isAsyncMode=function(){return!1};St.isConcurrentMode=function(){return!1};St.isContextConsumer=function(t){return Ai(t)===e0};St.isContextProvider=function(t){return Ai(t)===Jv};St.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===NE};St.isForwardRef=function(t){return Ai(t)===t0};St.isFragment=function(t){return Ai(t)===Kv};St.isLazy=function(t){return Ai(t)===s0};St.isMemo=function(t){return Ai(t)===i0};St.isPortal=function(t){return Ai(t)===$E};St.isProfiler=function(t){return Ai(t)===Qv};St.isStrictMode=function(t){return Ai(t)===Zv};St.isSuspense=function(t){return Ai(t)===n0};St.isSuspenseList=function(t){return Ai(t)===r0};St.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Kv||t===Qv||t===Zv||t===n0||t===r0||t===Coe||typeof t=="object"&&t!==null&&(t.$$typeof===s0||t.$$typeof===i0||t.$$typeof===Jv||t.$$typeof===e0||t.$$typeof===t0||t.$$typeof===n5||t.getModuleId!==void 0)};St.typeOf=Ai;(function(t){t.exports=St})(Soe);const Toe=WR(Iw);function Aoe(t){const e=t&&typeof t=="object"&&t.type==="text"?t.value||"":t;return typeof e=="string"&&e.replace(/[ \t\n\f\r]/g,"")===""}function Poe(t){return t.join(" ").trim()}function koe(t,e){const n=e||{};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var Ag={},Ooe={get exports(){return Ag},set exports(t){Ag=t}},zO=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Ioe=/\n/g,Roe=/^\s*/,Moe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Foe=/^:\s*/,Doe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Loe=/^[;\s]*/,Boe=/^\s+|\s+$/g,Noe=`
`,HO="/",jO="*",$a="",$oe="comment",Uoe="declaration",zoe=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(v){var y=v.match(Ioe);y&&(n+=y.length);var x=v.lastIndexOf(Noe);r=~x?v.length-x:r+v.length}function s(){var v={line:n,column:r};return function(y){return y.position=new o(v),c(),y}}function o(v){this.start=v,this.end={line:n,column:r},this.source=e.source}o.prototype.content=t;function a(v){var y=new Error(e.source+":"+n+":"+r+": "+v);if(y.reason=v,y.filename=e.source,y.line=n,y.column=r,y.source=t,!e.silent)throw y}function l(v){var y=v.exec(t);if(y){var x=y[0];return i(x),t=t.slice(x.length),y}}function c(){l(Roe)}function h(v){var y;for(v=v||[];y=f();)y!==!1&&v.push(y);return v}function f(){var v=s();if(!(HO!=t.charAt(0)||jO!=t.charAt(1))){for(var y=2;$a!=t.charAt(y)&&(jO!=t.charAt(y)||HO!=t.charAt(y+1));)++y;if(y+=2,$a===t.charAt(y-1))return a("End of comment missing");var x=t.slice(2,y-2);return r+=2,i(x),t=t.slice(y),r+=2,v({type:$oe,comment:x})}}function p(){var v=s(),y=l(Moe);if(y){if(f(),!l(Foe))return a("property missing ':'");var x=l(Doe),b=v({type:Uoe,property:WO(y[0].replace(zO,$a)),value:x?WO(x[0].replace(zO,$a)):$a});return l(Loe),b}}function m(){var v=[];h(v);for(var y;y=p();)y!==!1&&(v.push(y),h(v));return v}return c(),m()};function WO(t){return t?t.replace(Boe,$a):$a}var Hoe=zoe;function r5(t,e){var n=null;if(!t||typeof t!="string")return n;for(var r,i=Hoe(t),s=typeof e=="function",o,a,l=0,c=i.length;l<c;l++)r=i[l],o=r.property,a=r.value,s?e(o,a,r):a&&(n||(n={}),n[o]=a);return n}Ooe.exports=r5;Ag.default=r5;const joe=Ag,Rw={}.hasOwnProperty,Woe=new Set(["table","thead","tbody","tfoot","tr"]);function i5(t,e){const n=[];let r=-1,i;for(;++r<e.children.length;)i=e.children[r],i.type==="element"?n.push(Goe(t,i,r,e)):i.type==="text"?(e.type!=="element"||!Woe.has(e.tagName)||!Aoe(i))&&n.push(i.value):i.type==="raw"&&!t.options.skipHtml&&n.push(i.value);return n}function Goe(t,e,n,r){const i=t.options,s=i.transformLinkUri===void 0?Qne:i.transformLinkUri,o=t.schema,a=e.tagName,l={};let c=o,h;if(o.space==="html"&&a==="svg"&&(c=woe,t.schema=c),e.properties)for(h in e.properties)Rw.call(e.properties,h)&&qoe(l,h,e.properties[h],t);(a==="ol"||a==="ul")&&t.listDepth++;const f=i5(t,e);(a==="ol"||a==="ul")&&t.listDepth--,t.schema=o;const p=e.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},m=i.components&&Rw.call(i.components,a)?i.components[a]:a,v=typeof m=="string"||m===P.Fragment;if(!Toe.isValidElementType(m))throw new TypeError(`Component for name \`${a}\` not defined or is not renderable`);if(l.key=[a,p.start.line,p.start.column,n].join("-"),a==="a"&&i.linkTarget&&(l.target=typeof i.linkTarget=="function"?i.linkTarget(String(l.href||""),e.children,typeof l.title=="string"?l.title:null):i.linkTarget),a==="a"&&s&&(l.href=s(String(l.href||""),e.children,typeof l.title=="string"?l.title:null)),!v&&a==="code"&&r.type==="element"&&r.tagName!=="pre"&&(l.inline=!0),!v&&(a==="h1"||a==="h2"||a==="h3"||a==="h4"||a==="h5"||a==="h6")&&(l.level=Number.parseInt(a.charAt(1),10)),a==="img"&&i.transformImageUri&&(l.src=i.transformImageUri(String(l.src||""),String(l.alt||""),typeof l.title=="string"?l.title:null)),!v&&a==="li"&&r.type==="element"){const y=Voe(e);l.checked=y&&y.properties?Boolean(y.properties.checked):null,l.index=Uy(r,e),l.ordered=r.tagName==="ol"}return!v&&(a==="ol"||a==="ul")&&(l.ordered=a==="ol",l.depth=t.listDepth),(a==="td"||a==="th")&&(l.align&&(l.style||(l.style={}),l.style.textAlign=l.align,delete l.align),v||(l.isHeader=a==="th")),!v&&a==="tr"&&r.type==="element"&&(l.isHeader=Boolean(r.tagName==="thead")),i.sourcePos&&(l["data-sourcepos"]=Koe(p)),!v&&i.rawSourcePos&&(l.sourcePosition=e.position),!v&&i.includeElementIndex&&(l.index=Uy(r,e),l.siblingCount=Uy(r)),v||(l.node=e),f.length>0?P.createElement(m,l,f):P.createElement(m,l)}function Voe(t){let e=-1;for(;++e<t.children.length;){const n=t.children[e];if(n.type==="element"&&n.tagName==="input")return n}return null}function Uy(t,e){let n=-1,r=0;for(;++n<t.children.length&&t.children[n]!==e;)t.children[n].type==="element"&&r++;return r}function qoe(t,e,n,r){const i=voe(r.schema,e);let s=n;s==null||s!==s||(Array.isArray(s)&&(s=i.commaSeparated?koe(s):Poe(s)),i.property==="style"&&typeof s=="string"&&(s=Xoe(s)),i.space&&i.property?t[Rw.call(UO,i.property)?UO[i.property]:i.property]=s:i.attribute&&(t[i.attribute]=s))}function Xoe(t){const e={};try{joe(t,n)}catch{}return e;function n(r,i){const s=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;e[s.replace(/-([a-z])/g,Yoe)]=i}}function Yoe(t,e){return e.toUpperCase()}function Koe(t){return[t.start.line,":",t.start.column,"-",t.end.line,":",t.end.column].map(String).join("")}const GO={}.hasOwnProperty,Zoe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Bp={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function s5(t){for(const s in Bp)if(GO.call(Bp,s)&&GO.call(t,s)){const o=Bp[s];console.warn(`[react-markdown] Warning: please ${o.to?`use \`${o.to}\` instead of`:"remove"} \`${s}\` (see <${Zoe}#${o.id}> for more info)`),delete Bp[s]}const e=fre().use(vse).use(t.remarkPlugins||[]).use(loe,{...t.remarkRehypeOptions,allowDangerousHtml:!0}).use(t.rehypePlugins||[]).use(_oe,t),n=new ED;typeof t.children=="string"?n.value=t.children:t.children!==void 0&&t.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${t.children}\`)`);const r=e.runSync(e.parse(n),n);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=P.createElement(P.Fragment,{},i5({options:t,schema:xoe,listDepth:0},r));return t.className&&(i=P.createElement("div",{className:t.className},i)),i}s5.propTypes={children:B.string,className:B.string,allowElement:B.func,allowedElements:B.arrayOf(B.string),disallowedElements:B.arrayOf(B.string),unwrapDisallowed:B.bool,remarkPlugins:B.arrayOf(B.oneOfType([B.object,B.func,B.arrayOf(B.oneOfType([B.bool,B.string,B.object,B.func,B.arrayOf(B.any)]))])),rehypePlugins:B.arrayOf(B.oneOfType([B.object,B.func,B.arrayOf(B.oneOfType([B.bool,B.string,B.object,B.func,B.arrayOf(B.any)]))])),sourcePos:B.bool,rawSourcePos:B.bool,skipHtml:B.bool,includeElementIndex:B.bool,transformLinkUri:B.oneOfType([B.func,B.bool]),linkTarget:B.oneOfType([B.func,B.string]),transformImageUri:B.func,components:B.object};const cf=T.createContext({});function Qoe(){const t=window.localStorage.getItem("dragon-tagColors");if(t)try{return JSON.parse(t)}catch{return{}}else return{}}const Joe=(t,e)=>{const{tag:n,color:r,type:i,colors:s}=e;let o=ut(t);return i==="add"?(o[n]=r,o):i==="set"?(o=s||{},window.localStorage.setItem("dragon-tagColors",JSON.stringify(o)),s):(i==="save"&&window.localStorage.setItem("dragon-tagColors",JSON.stringify(o)),t)},eae=({children:t})=>{const[e,n]=T.useReducer(Joe,Qoe());return k(cf.Provider,{value:{tagColors:e,setTagColors:n},children:t})};function tae(t,e,n,r,i,s){let o={};const a=i||n;return o.borderColor=a,e&&(o.backgroundColor=a,o.fontWeight=500),r&&(o.borderColor="transparent",o.backgroundColor=a,o.color="#222",o.fontWeight=600,o.borderRadius=12),qi(t)&&(o.cursor="pointer",o.paddingRight="32px"),s==="light"&&(o.borderWidth=2,o.color="#333"),o}function Pg({label:t,clicked:e,selected:n,children:r,emphasize:i,color:s}){const{tagColors:o}=T.useContext(cf),{theme:a}=T.useContext(xc);return J("span",{onClick:c=>{qi(e)&&e(t)},className:"stat-tag",style:tae(e,n,o&&o[t]||"#fff",i,s,a),children:[t," ",e&&k("div",{className:"check",children:n?k(jZ,{size:14}):""}),r&&r]})}function es({type:t="default",color:e="white",children:n,clicked:r,disabled:i=!1}){return k("button",{className:"big-button "+t+" "+e+" "+(i?"disabled":""),onClick:i?()=>{}:r,children:n})}function o0({value:t,valueChanged:e,className:n="",minWidth:r=48,min:i=void 0,max:s=void 0}){const[o,a]=T.useState(+t),[l,c]=T.useState(r),h=T.useRef({offsetWidth:0});T.useEffect(()=>{var m;const p=((m=h==null?void 0:h.current)==null?void 0:m.offsetWidth)+24;c(p>r?p:r)},[o]);const f=p=>{a(+p.target.value),e(+p.target.value)};return J("div",{className:"fancy-text-input form-control "+n,children:[k("span",{className:"hidden-text",ref:h,children:o}),k("input",{min:i,max:s,value:o,type:"number",style:{width:l},onChange:f})]})}function os({value:t,valueChanged:e,className:n,blur:r,minWidth:i=48,placeholder:s="",fullWidth:o=!1,autoFocus:a=void 0,unsavedData:l=!1}){const[c,h]=T.useState(t),[f,p]=T.useState(o?"100%":i),m=T.useRef({offsetWidth:0}),v=T.useRef(null);T.useEffect(()=>{var x;if(!Fr(c)&&!o){const b=((x=m==null?void 0:m.current)==null?void 0:x.clientWidth)+24;p(b>i?b:i)}},[c]),T.useEffect(()=>{h(t)},[t]),T.useEffect(()=>{var x;!Fr(a)&&a&&((x=v.current)==null||x.focus())},[a]);const y=x=>{e(x.target.value)};return J("div",{className:"fancy-text-input form-control "+n,children:[k("span",{className:"hidden-text",ref:m,children:c}),k("input",{className:ho({unsavedData:l}),ref:v,placeholder:s,onBlur:r,value:c,type:"text",style:{width:f},onChange:y})]})}function nae({params:t,paramsChanged:e}){const[n,r]=T.useState(t);T.useEffect(()=>{r(t)},[t]);const i=(l,c)=>{let h=ut(n);h[c].name=l,e(h)},s=(l,c)=>{let h=ut(n);h[c].value=l,e(h)},o=()=>{e([...t,{name:"",value:0}])},a=l=>{let c=ut(n);c.splice(l,1),e(c)};return J("div",{className:"param-editor",children:[n&&ze(n,(l,c)=>J("div",{className:"param-line",children:[k(Et,{color:"danger",clicked:()=>a(c),children:k(wo,{size:"18"})}),k(os,{minWidth:120,placeholder:"name",className:"param-input",value:l.name,valueChanged:h=>i(h,c)}),k(o0,{className:"param-input",value:l.value,valueChanged:h=>s(h,c)})]})),k("div",{className:"add-button",children:J(es,{disabled:nf(n,{name:""}),color:"theme",clicked:o,children:["Add Param ",k(ss,{size:20})]})})]})}var fi={},hf={},rae=typeof fr=="object"&&fr&&fr.Object===Object&&fr,o5=rae,iae=o5,sae=typeof self=="object"&&self&&self.Object===Object&&self,oae=iae||sae||Function("return this")(),Ds=oae,aae=Ds,lae=aae.Symbol,df=lae,VO=df,a5=Object.prototype,uae=a5.hasOwnProperty,cae=a5.toString,hh=VO?VO.toStringTag:void 0;function hae(t){var e=uae.call(t,hh),n=t[hh];try{t[hh]=void 0;var r=!0}catch{}var i=cae.call(t);return r&&(e?t[hh]=n:delete t[hh]),i}var dae=hae,fae=Object.prototype,pae=fae.toString;function mae(t){return pae.call(t)}var gae=mae,qO=df,vae=dae,yae=gae,bae="[object Null]",xae="[object Undefined]",XO=qO?qO.toStringTag:void 0;function wae(t){return t==null?t===void 0?xae:bae:XO&&XO in Object(t)?vae(t):yae(t)}var _l=wae,_ae=Array.isArray,hs=_ae;function Sae(t){return t!=null&&typeof t=="object"}var So=Sae,Eae=_l,Cae=hs,Tae=So,Aae="[object String]";function Pae(t){return typeof t=="string"||!Cae(t)&&Tae(t)&&Eae(t)==Aae}var kae=Pae;function Oae(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var Iae=Oae,Rae=Iae,Mae=Rae(),Fae=Mae;function Dae(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Lae=Dae,Bae=_l,Nae=So,$ae="[object Arguments]";function Uae(t){return Nae(t)&&Bae(t)==$ae}var zae=Uae,YO=zae,Hae=So,l5=Object.prototype,jae=l5.hasOwnProperty,Wae=l5.propertyIsEnumerable,Gae=YO(function(){return arguments}())?YO:function(t){return Hae(t)&&jae.call(t,"callee")&&!Wae.call(t,"callee")},u5=Gae,sc={},Vae={get exports(){return sc},set exports(t){sc=t}};function qae(){return!1}var Xae=qae;(function(t,e){var n=Ds,r=Xae,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(Vae,sc);var Yae=9007199254740991,Kae=/^(?:0|[1-9]\d*)$/;function Zae(t,e){var n=typeof t;return e=e??Yae,!!e&&(n=="number"||n!="symbol"&&Kae.test(t))&&t>-1&&t%1==0&&t<e}var c5=Zae,Qae=9007199254740991;function Jae(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Qae}var UE=Jae,ele=_l,tle=UE,nle=So,rle="[object Arguments]",ile="[object Array]",sle="[object Boolean]",ole="[object Date]",ale="[object Error]",lle="[object Function]",ule="[object Map]",cle="[object Number]",hle="[object Object]",dle="[object RegExp]",fle="[object Set]",ple="[object String]",mle="[object WeakMap]",gle="[object ArrayBuffer]",vle="[object DataView]",yle="[object Float32Array]",ble="[object Float64Array]",xle="[object Int8Array]",wle="[object Int16Array]",_le="[object Int32Array]",Sle="[object Uint8Array]",Ele="[object Uint8ClampedArray]",Cle="[object Uint16Array]",Tle="[object Uint32Array]",Lt={};Lt[yle]=Lt[ble]=Lt[xle]=Lt[wle]=Lt[_le]=Lt[Sle]=Lt[Ele]=Lt[Cle]=Lt[Tle]=!0;Lt[rle]=Lt[ile]=Lt[gle]=Lt[sle]=Lt[vle]=Lt[ole]=Lt[ale]=Lt[lle]=Lt[ule]=Lt[cle]=Lt[hle]=Lt[dle]=Lt[fle]=Lt[ple]=Lt[mle]=!1;function Ale(t){return nle(t)&&tle(t.length)&&!!Lt[ele(t)]}var Ple=Ale;function kle(t){return function(e){return t(e)}}var zE=kle,oc={},Ole={get exports(){return oc},set exports(t){oc=t}};(function(t,e){var n=o5,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(Ole,oc);var Ile=Ple,Rle=zE,KO=oc,ZO=KO&&KO.isTypedArray,Mle=ZO?Rle(ZO):Ile,h5=Mle,Fle=Lae,Dle=u5,Lle=hs,Ble=sc,Nle=c5,$le=h5,Ule=Object.prototype,zle=Ule.hasOwnProperty;function Hle(t,e){var n=Lle(t),r=!n&&Dle(t),i=!n&&!r&&Ble(t),s=!n&&!r&&!i&&$le(t),o=n||r||i||s,a=o?Fle(t.length,String):[],l=a.length;for(var c in t)(e||zle.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Nle(c,l)))&&a.push(c);return a}var d5=Hle,jle=Object.prototype;function Wle(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||jle;return t===n}var HE=Wle;function Gle(t,e){return function(n){return t(e(n))}}var f5=Gle,Vle=f5,qle=Vle(Object.keys,Object),Xle=qle,Yle=HE,Kle=Xle,Zle=Object.prototype,Qle=Zle.hasOwnProperty;function Jle(t){if(!Yle(t))return Kle(t);var e=[];for(var n in Object(t))Qle.call(t,n)&&n!="constructor"&&e.push(n);return e}var eue=Jle;function tue(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ec=tue,nue=_l,rue=Ec,iue="[object AsyncFunction]",sue="[object Function]",oue="[object GeneratorFunction]",aue="[object Proxy]";function lue(t){if(!rue(t))return!1;var e=nue(t);return e==sue||e==oue||e==iue||e==aue}var p5=lue,uue=p5,cue=UE;function hue(t){return t!=null&&cue(t.length)&&!uue(t)}var a0=hue,due=d5,fue=eue,pue=a0;function mue(t){return pue(t)?due(t):fue(t)}var ff=mue,gue=Fae,vue=ff;function yue(t,e){return t&&gue(t,e,vue)}var m5=yue;function bue(t){return t}var g5=bue,xue=g5;function wue(t){return typeof t=="function"?t:xue}var _ue=wue,Sue=m5,Eue=_ue;function Cue(t,e){return t&&Sue(t,Eue(e))}var jE=Cue,Tue=f5,Aue=Tue(Object.getPrototypeOf,Object),WE=Aue,Pue=_l,kue=WE,Oue=So,Iue="[object Object]",Rue=Function.prototype,Mue=Object.prototype,v5=Rue.toString,Fue=Mue.hasOwnProperty,Due=v5.call(Object);function Lue(t){if(!Oue(t)||Pue(t)!=Iue)return!1;var e=kue(t);if(e===null)return!0;var n=Fue.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&v5.call(n)==Due}var Bue=Lue;function Nue(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var y5=Nue;function $ue(){this.__data__=[],this.size=0}var Uue=$ue;function zue(t,e){return t===e||t!==t&&e!==e}var GE=zue,Hue=GE;function jue(t,e){for(var n=t.length;n--;)if(Hue(t[n][0],e))return n;return-1}var l0=jue,Wue=l0,Gue=Array.prototype,Vue=Gue.splice;function que(t){var e=this.__data__,n=Wue(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Vue.call(e,n,1),--this.size,!0}var Xue=que,Yue=l0;function Kue(t){var e=this.__data__,n=Yue(e,t);return n<0?void 0:e[n][1]}var Zue=Kue,Que=l0;function Jue(t){return Que(this.__data__,t)>-1}var ece=Jue,tce=l0;function nce(t,e){var n=this.__data__,r=tce(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var rce=nce,ice=Uue,sce=Xue,oce=Zue,ace=ece,lce=rce;function Cc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Cc.prototype.clear=ice;Cc.prototype.delete=sce;Cc.prototype.get=oce;Cc.prototype.has=ace;Cc.prototype.set=lce;var u0=Cc,uce=u0;function cce(){this.__data__=new uce,this.size=0}var hce=cce;function dce(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var fce=dce;function pce(t){return this.__data__.get(t)}var mce=pce;function gce(t){return this.__data__.has(t)}var vce=gce,yce=Ds,bce=yce["__core-js_shared__"],xce=bce,zy=xce,QO=function(){var t=/[^.]+$/.exec(zy&&zy.keys&&zy.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function wce(t){return!!QO&&QO in t}var _ce=wce,Sce=Function.prototype,Ece=Sce.toString;function Cce(t){if(t!=null){try{return Ece.call(t)}catch{}try{return t+""}catch{}}return""}var b5=Cce,Tce=p5,Ace=_ce,Pce=Ec,kce=b5,Oce=/[\\^$.*+?()[\]{}|]/g,Ice=/^\[object .+?Constructor\]$/,Rce=Function.prototype,Mce=Object.prototype,Fce=Rce.toString,Dce=Mce.hasOwnProperty,Lce=RegExp("^"+Fce.call(Dce).replace(Oce,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Bce(t){if(!Pce(t)||Ace(t))return!1;var e=Tce(t)?Lce:Ice;return e.test(kce(t))}var Nce=Bce;function $ce(t,e){return t==null?void 0:t[e]}var Uce=$ce,zce=Nce,Hce=Uce;function jce(t,e){var n=Hce(t,e);return zce(n)?n:void 0}var Sl=jce,Wce=Sl,Gce=Ds,Vce=Wce(Gce,"Map"),VE=Vce,qce=Sl,Xce=qce(Object,"create"),c0=Xce,JO=c0;function Yce(){this.__data__=JO?JO(null):{},this.size=0}var Kce=Yce;function Zce(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Qce=Zce,Jce=c0,ehe="__lodash_hash_undefined__",the=Object.prototype,nhe=the.hasOwnProperty;function rhe(t){var e=this.__data__;if(Jce){var n=e[t];return n===ehe?void 0:n}return nhe.call(e,t)?e[t]:void 0}var ihe=rhe,she=c0,ohe=Object.prototype,ahe=ohe.hasOwnProperty;function lhe(t){var e=this.__data__;return she?e[t]!==void 0:ahe.call(e,t)}var uhe=lhe,che=c0,hhe="__lodash_hash_undefined__";function dhe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=che&&e===void 0?hhe:e,this}var fhe=dhe,phe=Kce,mhe=Qce,ghe=ihe,vhe=uhe,yhe=fhe;function Tc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Tc.prototype.clear=phe;Tc.prototype.delete=mhe;Tc.prototype.get=ghe;Tc.prototype.has=vhe;Tc.prototype.set=yhe;var bhe=Tc,eI=bhe,xhe=u0,whe=VE;function _he(){this.size=0,this.__data__={hash:new eI,map:new(whe||xhe),string:new eI}}var She=_he;function Ehe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Che=Ehe,The=Che;function Ahe(t,e){var n=t.__data__;return The(e)?n[typeof e=="string"?"string":"hash"]:n.map}var h0=Ahe,Phe=h0;function khe(t){var e=Phe(this,t).delete(t);return this.size-=e?1:0,e}var Ohe=khe,Ihe=h0;function Rhe(t){return Ihe(this,t).get(t)}var Mhe=Rhe,Fhe=h0;function Dhe(t){return Fhe(this,t).has(t)}var Lhe=Dhe,Bhe=h0;function Nhe(t,e){var n=Bhe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var $he=Nhe,Uhe=She,zhe=Ohe,Hhe=Mhe,jhe=Lhe,Whe=$he;function Ac(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ac.prototype.clear=Uhe;Ac.prototype.delete=zhe;Ac.prototype.get=Hhe;Ac.prototype.has=jhe;Ac.prototype.set=Whe;var qE=Ac,Ghe=u0,Vhe=VE,qhe=qE,Xhe=200;function Yhe(t,e){var n=this.__data__;if(n instanceof Ghe){var r=n.__data__;if(!Vhe||r.length<Xhe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new qhe(r)}return n.set(t,e),this.size=n.size,this}var Khe=Yhe,Zhe=u0,Qhe=hce,Jhe=fce,ede=mce,tde=vce,nde=Khe;function Pc(t){var e=this.__data__=new Zhe(t);this.size=e.size}Pc.prototype.clear=Qhe;Pc.prototype.delete=Jhe;Pc.prototype.get=ede;Pc.prototype.has=tde;Pc.prototype.set=nde;var XE=Pc,rde="__lodash_hash_undefined__";function ide(t){return this.__data__.set(t,rde),this}var sde=ide;function ode(t){return this.__data__.has(t)}var ade=ode,lde=qE,ude=sde,cde=ade;function kg(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new lde;++e<n;)this.add(t[e])}kg.prototype.add=kg.prototype.push=ude;kg.prototype.has=cde;var hde=kg;function dde(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var fde=dde;function pde(t,e){return t.has(e)}var mde=pde,gde=hde,vde=fde,yde=mde,bde=1,xde=2;function wde(t,e,n,r,i,s){var o=n&bde,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),h=s.get(e);if(c&&h)return c==e&&h==t;var f=-1,p=!0,m=n&xde?new gde:void 0;for(s.set(t,e),s.set(e,t);++f<a;){var v=t[f],y=e[f];if(r)var x=o?r(y,v,f,e,t,s):r(v,y,f,t,e,s);if(x!==void 0){if(x)continue;p=!1;break}if(m){if(!vde(e,function(b,_){if(!yde(m,_)&&(v===b||i(v,b,n,r,s)))return m.push(_)})){p=!1;break}}else if(!(v===y||i(v,y,n,r,s))){p=!1;break}}return s.delete(t),s.delete(e),p}var x5=wde,_de=Ds,Sde=_de.Uint8Array,w5=Sde;function Ede(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Cde=Ede;function Tde(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Ade=Tde,tI=df,nI=w5,Pde=GE,kde=x5,Ode=Cde,Ide=Ade,Rde=1,Mde=2,Fde="[object Boolean]",Dde="[object Date]",Lde="[object Error]",Bde="[object Map]",Nde="[object Number]",$de="[object RegExp]",Ude="[object Set]",zde="[object String]",Hde="[object Symbol]",jde="[object ArrayBuffer]",Wde="[object DataView]",rI=tI?tI.prototype:void 0,Hy=rI?rI.valueOf:void 0;function Gde(t,e,n,r,i,s,o){switch(n){case Wde:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case jde:return!(t.byteLength!=e.byteLength||!s(new nI(t),new nI(e)));case Fde:case Dde:case Nde:return Pde(+t,+e);case Lde:return t.name==e.name&&t.message==e.message;case $de:case zde:return t==e+"";case Bde:var a=Ode;case Ude:var l=r&Rde;if(a||(a=Ide),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=Mde,o.set(t,e);var h=kde(a(t),a(e),r,i,s,o);return o.delete(t),h;case Hde:if(Hy)return Hy.call(t)==Hy.call(e)}return!1}var Vde=Gde;function qde(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var _5=qde,Xde=_5,Yde=hs;function Kde(t,e,n){var r=e(t);return Yde(t)?r:Xde(r,n(t))}var S5=Kde;function Zde(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var Qde=Zde;function Jde(){return[]}var E5=Jde,efe=Qde,tfe=E5,nfe=Object.prototype,rfe=nfe.propertyIsEnumerable,iI=Object.getOwnPropertySymbols,ife=iI?function(t){return t==null?[]:(t=Object(t),efe(iI(t),function(e){return rfe.call(t,e)}))}:tfe,YE=ife,sfe=S5,ofe=YE,afe=ff;function lfe(t){return sfe(t,afe,ofe)}var C5=lfe,sI=C5,ufe=1,cfe=Object.prototype,hfe=cfe.hasOwnProperty;function dfe(t,e,n,r,i,s){var o=n&ufe,a=sI(t),l=a.length,c=sI(e),h=c.length;if(l!=h&&!o)return!1;for(var f=l;f--;){var p=a[f];if(!(o?p in e:hfe.call(e,p)))return!1}var m=s.get(t),v=s.get(e);if(m&&v)return m==e&&v==t;var y=!0;s.set(t,e),s.set(e,t);for(var x=o;++f<l;){p=a[f];var b=t[p],_=e[p];if(r)var w=o?r(_,b,p,e,t,s):r(b,_,p,t,e,s);if(!(w===void 0?b===_||i(b,_,n,r,s):w)){y=!1;break}x||(x=p=="constructor")}if(y&&!x){var E=t.constructor,O=e.constructor;E!=O&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof O=="function"&&O instanceof O)&&(y=!1)}return s.delete(t),s.delete(e),y}var ffe=dfe,pfe=Sl,mfe=Ds,gfe=pfe(mfe,"DataView"),vfe=gfe,yfe=Sl,bfe=Ds,xfe=yfe(bfe,"Promise"),wfe=xfe,_fe=Sl,Sfe=Ds,Efe=_fe(Sfe,"Set"),Cfe=Efe,Tfe=Sl,Afe=Ds,Pfe=Tfe(Afe,"WeakMap"),kfe=Pfe,Mw=vfe,Fw=VE,Dw=wfe,Lw=Cfe,Bw=kfe,T5=_l,kc=b5,oI="[object Map]",Ofe="[object Object]",aI="[object Promise]",lI="[object Set]",uI="[object WeakMap]",cI="[object DataView]",Ife=kc(Mw),Rfe=kc(Fw),Mfe=kc(Dw),Ffe=kc(Lw),Dfe=kc(Bw),Fa=T5;(Mw&&Fa(new Mw(new ArrayBuffer(1)))!=cI||Fw&&Fa(new Fw)!=oI||Dw&&Fa(Dw.resolve())!=aI||Lw&&Fa(new Lw)!=lI||Bw&&Fa(new Bw)!=uI)&&(Fa=function(t){var e=T5(t),n=e==Ofe?t.constructor:void 0,r=n?kc(n):"";if(r)switch(r){case Ife:return cI;case Rfe:return oI;case Mfe:return aI;case Ffe:return lI;case Dfe:return uI}return e});var d0=Fa,jy=XE,Lfe=x5,Bfe=Vde,Nfe=ffe,hI=d0,dI=hs,fI=sc,$fe=h5,Ufe=1,pI="[object Arguments]",mI="[object Array]",Np="[object Object]",zfe=Object.prototype,gI=zfe.hasOwnProperty;function Hfe(t,e,n,r,i,s){var o=dI(t),a=dI(e),l=o?mI:hI(t),c=a?mI:hI(e);l=l==pI?Np:l,c=c==pI?Np:c;var h=l==Np,f=c==Np,p=l==c;if(p&&fI(t)){if(!fI(e))return!1;o=!0,h=!1}if(p&&!h)return s||(s=new jy),o||$fe(t)?Lfe(t,e,n,r,i,s):Bfe(t,e,l,n,r,i,s);if(!(n&Ufe)){var m=h&&gI.call(t,"__wrapped__"),v=f&&gI.call(e,"__wrapped__");if(m||v){var y=m?t.value():t,x=v?e.value():e;return s||(s=new jy),i(y,x,n,r,s)}}return p?(s||(s=new jy),Nfe(t,e,n,r,i,s)):!1}var jfe=Hfe,Wfe=jfe,vI=So;function A5(t,e,n,r,i){return t===e?!0:t==null||e==null||!vI(t)&&!vI(e)?t!==t&&e!==e:Wfe(t,e,n,r,A5,i)}var P5=A5,Gfe=XE,Vfe=P5,qfe=1,Xfe=2;function Yfe(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],c=t[l],h=a[1];if(o&&a[2]){if(c===void 0&&!(l in t))return!1}else{var f=new Gfe;if(r)var p=r(c,h,l,t,e,f);if(!(p===void 0?Vfe(h,c,qfe|Xfe,r,f):p))return!1}}return!0}var Kfe=Yfe,Zfe=Ec;function Qfe(t){return t===t&&!Zfe(t)}var k5=Qfe,Jfe=k5,epe=ff;function tpe(t){for(var e=epe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Jfe(i)]}return e}var npe=tpe;function rpe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var O5=rpe,ipe=Kfe,spe=npe,ope=O5;function ape(t){var e=spe(t);return e.length==1&&e[0][2]?ope(e[0][0],e[0][1]):function(n){return n===t||ipe(n,t,e)}}var lpe=ape,upe=_l,cpe=So,hpe="[object Symbol]";function dpe(t){return typeof t=="symbol"||cpe(t)&&upe(t)==hpe}var KE=dpe,fpe=hs,ppe=KE,mpe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gpe=/^\w*$/;function vpe(t,e){if(fpe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||ppe(t)?!0:gpe.test(t)||!mpe.test(t)||e!=null&&t in Object(e)}var ZE=vpe,I5=qE,ype="Expected a function";function QE(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(ype);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(QE.Cache||I5),n}QE.Cache=I5;var bpe=QE,xpe=bpe,wpe=500;function _pe(t){var e=xpe(t,function(r){return n.size===wpe&&n.clear(),r}),n=e.cache;return e}var Spe=_pe,Epe=Spe,Cpe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Tpe=/\\(\\)?/g,Ape=Epe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Cpe,function(n,r,i,s){e.push(i?s.replace(Tpe,"$1"):r||n)}),e}),Ppe=Ape,yI=df,kpe=y5,Ope=hs,Ipe=KE,Rpe=1/0,bI=yI?yI.prototype:void 0,xI=bI?bI.toString:void 0;function R5(t){if(typeof t=="string")return t;if(Ope(t))return kpe(t,R5)+"";if(Ipe(t))return xI?xI.call(t):"";var e=t+"";return e=="0"&&1/t==-Rpe?"-0":e}var Mpe=R5,Fpe=Mpe;function Dpe(t){return t==null?"":Fpe(t)}var Lpe=Dpe,Bpe=hs,Npe=ZE,$pe=Ppe,Upe=Lpe;function zpe(t,e){return Bpe(t)?t:Npe(t,e)?[t]:$pe(Upe(t))}var M5=zpe,Hpe=KE,jpe=1/0;function Wpe(t){if(typeof t=="string"||Hpe(t))return t;var e=t+"";return e=="0"&&1/t==-jpe?"-0":e}var f0=Wpe,Gpe=M5,Vpe=f0;function qpe(t,e){e=Gpe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Vpe(e[n++])];return n&&n==r?t:void 0}var F5=qpe,Xpe=F5;function Ype(t,e,n){var r=t==null?void 0:Xpe(t,e);return r===void 0?n:r}var Kpe=Ype;function Zpe(t,e){return t!=null&&e in Object(t)}var Qpe=Zpe,Jpe=M5,eme=u5,tme=hs,nme=c5,rme=UE,ime=f0;function sme(t,e,n){e=Jpe(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=ime(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&rme(i)&&nme(o,i)&&(tme(t)||eme(t)))}var ome=sme,ame=Qpe,lme=ome;function ume(t,e){return t!=null&&lme(t,e,ame)}var cme=ume,hme=P5,dme=Kpe,fme=cme,pme=ZE,mme=k5,gme=O5,vme=f0,yme=1,bme=2;function xme(t,e){return pme(t)&&mme(e)?gme(vme(t),e):function(n){var r=dme(n,t);return r===void 0&&r===e?fme(n,t):hme(e,r,yme|bme)}}var wme=xme;function _me(t){return function(e){return e==null?void 0:e[t]}}var Sme=_me,Eme=F5;function Cme(t){return function(e){return Eme(e,t)}}var Tme=Cme,Ame=Sme,Pme=Tme,kme=ZE,Ome=f0;function Ime(t){return kme(t)?Ame(Ome(t)):Pme(t)}var Rme=Ime,Mme=lpe,Fme=wme,Dme=g5,Lme=hs,Bme=Rme;function Nme(t){return typeof t=="function"?t:t==null?Dme:typeof t=="object"?Lme(t)?Fme(t[0],t[1]):Mme(t):Bme(t)}var $me=Nme,Ume=a0;function zme(t,e){return function(n,r){if(n==null)return n;if(!Ume(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var Hme=zme,jme=m5,Wme=Hme,Gme=Wme(jme),Vme=Gme,qme=Vme,Xme=a0;function Yme(t,e){var n=-1,r=Xme(t)?Array(t.length):[];return qme(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var Kme=Yme,Zme=y5,Qme=$me,Jme=Kme,ege=hs;function tge(t,e){var n=ege(t)?Zme:Jme;return n(t,Qme(e))}var nge=tge;Object.defineProperty(hf,"__esModule",{value:!0});hf.flattenNames=void 0;var rge=kae,ige=p0(rge),sge=jE,oge=p0(sge),age=Bue,lge=p0(age),uge=nge,cge=p0(uge);function p0(t){return t&&t.__esModule?t:{default:t}}var hge=hf.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,cge.default)(e,function(r){Array.isArray(r)?t(r).map(function(i){return n.push(i)}):(0,lge.default)(r)?(0,oge.default)(r,function(i,s){i===!0&&n.push(s),n.push(s+"-"+i)}):(0,ige.default)(r)&&n.push(r)}),n};hf.default=hge;var pf={};function dge(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var fge=dge,pge=Sl,mge=function(){try{var t=pge(Object,"defineProperty");return t({},"",{}),t}catch{}}(),gge=mge,wI=gge;function vge(t,e,n){e=="__proto__"&&wI?wI(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var D5=vge,yge=D5,bge=GE,xge=Object.prototype,wge=xge.hasOwnProperty;function _ge(t,e,n){var r=t[e];(!(wge.call(t,e)&&bge(r,n))||n===void 0&&!(e in t))&&yge(t,e,n)}var L5=_ge,Sge=L5,Ege=D5;function Cge(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?Ege(n,a,l):Sge(n,a,l)}return n}var m0=Cge,Tge=m0,Age=ff;function Pge(t,e){return t&&Tge(e,Age(e),t)}var kge=Pge;function Oge(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Ige=Oge,Rge=Ec,Mge=HE,Fge=Ige,Dge=Object.prototype,Lge=Dge.hasOwnProperty;function Bge(t){if(!Rge(t))return Fge(t);var e=Mge(t),n=[];for(var r in t)r=="constructor"&&(e||!Lge.call(t,r))||n.push(r);return n}var Nge=Bge,$ge=d5,Uge=Nge,zge=a0;function Hge(t){return zge(t)?$ge(t,!0):Uge(t)}var JE=Hge,jge=m0,Wge=JE;function Gge(t,e){return t&&jge(e,Wge(e),t)}var Vge=Gge,Og={},qge={get exports(){return Og},set exports(t){Og=t}};(function(t,e){var n=Ds,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(c,h){if(h)return c.slice();var f=c.length,p=a?a(f):new c.constructor(f);return c.copy(p),p}t.exports=l})(qge,Og);function Xge(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var Yge=Xge,Kge=m0,Zge=YE;function Qge(t,e){return Kge(t,Zge(t),e)}var Jge=Qge,eve=_5,tve=WE,nve=YE,rve=E5,ive=Object.getOwnPropertySymbols,sve=ive?function(t){for(var e=[];t;)eve(e,nve(t)),t=tve(t);return e}:rve,B5=sve,ove=m0,ave=B5;function lve(t,e){return ove(t,ave(t),e)}var uve=lve,cve=S5,hve=B5,dve=JE;function fve(t){return cve(t,dve,hve)}var pve=fve,mve=Object.prototype,gve=mve.hasOwnProperty;function vve(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&gve.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var yve=vve,_I=w5;function bve(t){var e=new t.constructor(t.byteLength);return new _I(e).set(new _I(t)),e}var e2=bve,xve=e2;function wve(t,e){var n=e?xve(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var _ve=wve,Sve=/\w*$/;function Eve(t){var e=new t.constructor(t.source,Sve.exec(t));return e.lastIndex=t.lastIndex,e}var Cve=Eve,SI=df,EI=SI?SI.prototype:void 0,CI=EI?EI.valueOf:void 0;function Tve(t){return CI?Object(CI.call(t)):{}}var Ave=Tve,Pve=e2;function kve(t,e){var n=e?Pve(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Ove=kve,Ive=e2,Rve=_ve,Mve=Cve,Fve=Ave,Dve=Ove,Lve="[object Boolean]",Bve="[object Date]",Nve="[object Map]",$ve="[object Number]",Uve="[object RegExp]",zve="[object Set]",Hve="[object String]",jve="[object Symbol]",Wve="[object ArrayBuffer]",Gve="[object DataView]",Vve="[object Float32Array]",qve="[object Float64Array]",Xve="[object Int8Array]",Yve="[object Int16Array]",Kve="[object Int32Array]",Zve="[object Uint8Array]",Qve="[object Uint8ClampedArray]",Jve="[object Uint16Array]",e0e="[object Uint32Array]";function t0e(t,e,n){var r=t.constructor;switch(e){case Wve:return Ive(t);case Lve:case Bve:return new r(+t);case Gve:return Rve(t,n);case Vve:case qve:case Xve:case Yve:case Kve:case Zve:case Qve:case Jve:case e0e:return Dve(t,n);case Nve:return new r;case $ve:case Hve:return new r(t);case Uve:return Mve(t);case zve:return new r;case jve:return Fve(t)}}var n0e=t0e,r0e=Ec,TI=Object.create,i0e=function(){function t(){}return function(e){if(!r0e(e))return{};if(TI)return TI(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),s0e=i0e,o0e=s0e,a0e=WE,l0e=HE;function u0e(t){return typeof t.constructor=="function"&&!l0e(t)?o0e(a0e(t)):{}}var c0e=u0e,h0e=d0,d0e=So,f0e="[object Map]";function p0e(t){return d0e(t)&&h0e(t)==f0e}var m0e=p0e,g0e=m0e,v0e=zE,AI=oc,PI=AI&&AI.isMap,y0e=PI?v0e(PI):g0e,b0e=y0e,x0e=d0,w0e=So,_0e="[object Set]";function S0e(t){return w0e(t)&&x0e(t)==_0e}var E0e=S0e,C0e=E0e,T0e=zE,kI=oc,OI=kI&&kI.isSet,A0e=OI?T0e(OI):C0e,P0e=A0e,k0e=XE,O0e=fge,I0e=L5,R0e=kge,M0e=Vge,F0e=Og,D0e=Yge,L0e=Jge,B0e=uve,N0e=C5,$0e=pve,U0e=d0,z0e=yve,H0e=n0e,j0e=c0e,W0e=hs,G0e=sc,V0e=b0e,q0e=Ec,X0e=P0e,Y0e=ff,K0e=JE,Z0e=1,Q0e=2,J0e=4,N5="[object Arguments]",e1e="[object Array]",t1e="[object Boolean]",n1e="[object Date]",r1e="[object Error]",$5="[object Function]",i1e="[object GeneratorFunction]",s1e="[object Map]",o1e="[object Number]",U5="[object Object]",a1e="[object RegExp]",l1e="[object Set]",u1e="[object String]",c1e="[object Symbol]",h1e="[object WeakMap]",d1e="[object ArrayBuffer]",f1e="[object DataView]",p1e="[object Float32Array]",m1e="[object Float64Array]",g1e="[object Int8Array]",v1e="[object Int16Array]",y1e="[object Int32Array]",b1e="[object Uint8Array]",x1e="[object Uint8ClampedArray]",w1e="[object Uint16Array]",_1e="[object Uint32Array]",kt={};kt[N5]=kt[e1e]=kt[d1e]=kt[f1e]=kt[t1e]=kt[n1e]=kt[p1e]=kt[m1e]=kt[g1e]=kt[v1e]=kt[y1e]=kt[s1e]=kt[o1e]=kt[U5]=kt[a1e]=kt[l1e]=kt[u1e]=kt[c1e]=kt[b1e]=kt[x1e]=kt[w1e]=kt[_1e]=!0;kt[r1e]=kt[$5]=kt[h1e]=!1;function Dm(t,e,n,r,i,s){var o,a=e&Z0e,l=e&Q0e,c=e&J0e;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!q0e(t))return t;var h=W0e(t);if(h){if(o=z0e(t),!a)return D0e(t,o)}else{var f=U0e(t),p=f==$5||f==i1e;if(G0e(t))return F0e(t,a);if(f==U5||f==N5||p&&!i){if(o=l||p?{}:j0e(t),!a)return l?B0e(t,M0e(o,t)):L0e(t,R0e(o,t))}else{if(!kt[f])return i?t:{};o=H0e(t,f,a)}}s||(s=new k0e);var m=s.get(t);if(m)return m;s.set(t,o),X0e(t)?t.forEach(function(x){o.add(Dm(x,e,n,x,t,s))}):V0e(t)&&t.forEach(function(x,b){o.set(b,Dm(x,e,n,b,t,s))});var v=c?l?$0e:N0e:l?K0e:Y0e,y=h?void 0:v(t);return O0e(y||t,function(x,b){y&&(b=x,x=t[b]),I0e(o,b,Dm(x,e,n,b,t,s))}),o}var S1e=Dm,E1e=S1e,C1e=1,T1e=4;function A1e(t){return E1e(t,C1e|T1e)}var P1e=A1e;Object.defineProperty(pf,"__esModule",{value:!0});pf.mergeClasses=void 0;var k1e=jE,O1e=z5(k1e),I1e=P1e,R1e=z5(I1e),M1e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function z5(t){return t&&t.__esModule?t:{default:t}}var F1e=pf.mergeClasses=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,R1e.default)(e.default)||{};return n.map(function(i){var s=e[i];return s&&(0,O1e.default)(s,function(o,a){r[a]||(r[a]={}),r[a]=M1e({},r[a],s[a])}),i}),r};pf.default=F1e;var mf={};Object.defineProperty(mf,"__esModule",{value:!0});mf.autoprefix=void 0;var D1e=jE,II=B1e(D1e),L1e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function B1e(t){return t&&t.__esModule?t:{default:t}}var N1e={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var n=e&&e.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(e,n){var r=n[e];return r||{extend:e}}},$1e=mf.autoprefix=function(e){var n={};return(0,II.default)(e,function(r,i){var s={};(0,II.default)(r,function(o,a){var l=N1e[a];l?s=L1e({},s,l(o)):s[a]=o}),n[i]=s}),n};mf.default=$1e;var gf={};Object.defineProperty(gf,"__esModule",{value:!0});gf.hover=void 0;var U1e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z1e=T,Wy=H1e(z1e);function H1e(t){return t&&t.__esModule?t:{default:t}}function j1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RI(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function W1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var G1e=gf.hover=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){W1e(i,r);function i(){var s,o,a,l;j1e(this,i);for(var c=arguments.length,h=Array(c),f=0;f<c;f++)h[f]=arguments[f];return l=(o=(a=RI(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(h))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return Wy.default.createElement(n,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},Wy.default.createElement(e,U1e({},a.props,a.state)))},o),RI(a,l)}return i}(Wy.default.Component)};gf.default=G1e;var vf={};Object.defineProperty(vf,"__esModule",{value:!0});vf.active=void 0;var V1e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q1e=T,Gy=X1e(q1e);function X1e(t){return t&&t.__esModule?t:{default:t}}function Y1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MI(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function K1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Z1e=vf.active=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){K1e(i,r);function i(){var s,o,a,l;Y1e(this,i);for(var c=arguments.length,h=Array(c),f=0;f<c;f++)h[f]=arguments[f];return l=(o=(a=MI(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(h))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return Gy.default.createElement(n,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},Gy.default.createElement(e,V1e({},a.props,a.state)))},o),MI(a,l)}return i}(Gy.default.Component)};vf.default=Z1e;var t2={};Object.defineProperty(t2,"__esModule",{value:!0});var Q1e=function(e,n){var r={},i=function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[o]=a};return e===0&&i("first-child"),e===n-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),r};t2.default=Q1e;Object.defineProperty(fi,"__esModule",{value:!0});fi.ReactCSS=fi.loop=fi.handleActive=n2=fi.handleHover=fi.hover=void 0;var J1e=hf,eye=Oc(J1e),tye=pf,nye=Oc(tye),rye=mf,iye=Oc(rye),sye=gf,H5=Oc(sye),oye=vf,aye=Oc(oye),lye=t2,uye=Oc(lye);function Oc(t){return t&&t.__esModule?t:{default:t}}fi.hover=H5.default;var n2=fi.handleHover=H5.default;fi.handleActive=aye.default;fi.loop=uye.default;var cye=fi.ReactCSS=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=(0,eye.default)(r),o=(0,nye.default)(e,s);return(0,iye.default)(o)},$e=fi.default=cye,hye=function(e,n,r,i,s){var o=s.clientWidth,a=s.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,c=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,h=l-(s.getBoundingClientRect().left+window.pageXOffset),f=c-(s.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var p=void 0;if(f<0?p=0:f>a?p=1:p=Math.round(f*100/a)/100,n.a!==p)return{h:n.h,s:n.s,l:n.l,a:p,source:"rgb"}}else{var m=void 0;if(h<0?m=0:h>o?m=1:m=Math.round(h*100/o)/100,i!==m)return{h:n.h,s:n.s,l:n.l,a:m,source:"rgb"}}return null},Vy={},dye=function(e,n,r,i){if(typeof document>"u"&&!i)return null;var s=i?new i:document.createElement("canvas");s.width=r*2,s.height=r*2;var o=s.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,s.width,s.height),o.fillStyle=n,o.fillRect(0,0,r,r),o.translate(r,r),o.fillRect(0,0,r,r),s.toDataURL()):null},fye=function(e,n,r,i){var s=e+"-"+n+"-"+r+(i?"-server":"");if(Vy[s])return Vy[s];var o=dye(e,n,r,i);return Vy[s]=o,o},FI=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ic=function(e){var n=e.white,r=e.grey,i=e.size,s=e.renderers,o=e.borderRadius,a=e.boxShadow,l=e.children,c=$e({default:{grid:{borderRadius:o,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+fye(n,r,i,s.canvas)+") center left"}}});return T.isValidElement(l)?P.cloneElement(l,FI({},l.props,{style:FI({},l.props.style,c.grid)})):P.createElement("div",{style:c.grid})};Ic.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var pye=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mye=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function gye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DI(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function vye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var r2=function(t){vye(e,t);function e(){var n,r,i,s;gye(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=DI(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(c){var h=hye(c,i.props.hsl,i.props.direction,i.props.a,i.container);h&&typeof i.props.onChange=="function"&&i.props.onChange(h,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),DI(i,s)}return mye(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,s=$e({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:pye({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return P.createElement("div",{style:s.alpha},P.createElement("div",{style:s.checkboard},P.createElement(Ic,{renderers:this.props.renderers})),P.createElement("div",{style:s.gradient}),P.createElement("div",{style:s.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},P.createElement("div",{style:s.pointer},this.props.pointer?P.createElement(this.props.pointer,this.props):P.createElement("div",{style:s.slider}))))}}]),e}(T.PureComponent||T.Component),yye=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function bye(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wye(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function _ye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Sye=1,j5=38,Eye=40,Cye=[j5,Eye],Tye=function(e){return Cye.indexOf(e)>-1},Aye=function(e){return Number(String(e).replace(/%/g,""))},Pye=1,lt=function(t){_ye(e,t);function e(n){xye(this,e);var r=wye(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var s=Aye(i.target.value);if(!isNaN(s)&&Tye(i.keyCode)){var o=r.getArrowOffset(),a=i.keyCode===j5?s+o:s-o;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var s=Math.round(r.props.value+i.movementX);s>=0&&s<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(s),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+Pye++,r}return yye(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return bye({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||Sye}},{key:"setUpdatedValue",value:function(r,i){var s=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(s,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=$e({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return P.createElement("div",{style:i.wrap},P.createElement("input",{id:this.inputId,style:i.input,ref:function(o){return r.input=o},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?P.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(T.PureComponent||T.Component),kye=function(e,n,r,i){var s=i.clientWidth,o=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=a-(i.getBoundingClientRect().left+window.pageXOffset),h=l-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var f=void 0;if(h<0)f=359;else if(h>o)f=0;else{var p=-(h*100/o)+100;f=360*p/100}if(r.h!==f)return{h:f,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var m=void 0;if(c<0)m=0;else if(c>s)m=359;else{var v=c*100/s;m=360*v/100}if(r.h!==m)return{h:m,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},Oye=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Iye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LI(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Rye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Rc=function(t){Rye(e,t);function e(){var n,r,i,s;Iye(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=LI(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(c){var h=kye(c,i.props.direction,i.props.hsl,i.container);h&&typeof i.props.onChange=="function"&&i.props.onChange(h,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),LI(i,s)}return Oye(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,s=i===void 0?"horizontal":i,o=$e({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:s==="vertical"});return P.createElement("div",{style:o.hue},P.createElement("div",{className:"hue-"+s,style:o.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},P.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),P.createElement("div",{style:o.pointer},this.props.pointer?P.createElement(this.props.pointer,this.props):P.createElement("div",{style:o.slider}))))}}]),e}(T.PureComponent||T.Component),yf=function(e){var n=e.zDepth,r=e.radius,i=e.background,s=e.children,o=e.styles,a=o===void 0?{}:o,l=$e(br({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":n===1});return P.createElement("div",{style:l.wrap},P.createElement("div",{style:l.bg}),P.createElement("div",{style:l.content},s))};yf.propTypes={background:B.string,zDepth:B.oneOf([0,1,2,3,4,5]),radius:B.number,styles:B.object};yf.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var Mye=function(e,n,r){var i=r.getBoundingClientRect(),s=i.width,o=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=a-(r.getBoundingClientRect().left+window.pageXOffset),h=l-(r.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>s&&(c=s),h<0?h=0:h>o&&(h=o);var f=c/s,p=1-h/o;return{h:n.h,s:f,v:p,a:n.a,source:"hsv"}},Fye=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Dye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lye(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Bye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g0=function(t){Bye(e,t);function e(n){Dye(this,e);var r=Lye(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,Mye(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var s=r.getContainerRenderWindow();s.addEventListener("mousemove",r.handleChange),s.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=uZ(function(i,s,o){i(s,o)},50),r}return Fye(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},s=i.color,o=i.white,a=i.black,l=i.pointer,c=i.circle,h=$e({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:s,white:o,black:a,pointer:l,circle:c}},{custom:!!this.props.style});return P.createElement("div",{style:h.color,ref:function(p){return r.container=p},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},P.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),P.createElement("div",{style:h.white,className:"saturation-white"},P.createElement("div",{style:h.black,className:"saturation-black"}),P.createElement("div",{style:h.pointer},this.props.pointer?P.createElement(this.props.pointer,this.props):P.createElement("div",{style:h.circle}))))}}]),e}(T.PureComponent||T.Component);function Ig(t){return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ig(t)}var Nye=/^\s+/,$ye=/\s+$/;function Te(t,e){if(t=t||"",e=e||{},t instanceof Te)return t;if(!(this instanceof Te))return new Te(t,e);var n=Uye(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}Te.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,s,o,a;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(e){return this._a=W5(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=NI(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=NI(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=BI(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=BI(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return $I(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return Wye(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Ht(this._r,255)*100)+"%",g:Math.round(Ht(this._g,255)*100)+"%",b:Math.round(Ht(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Ht(this._r,255)*100)+"%, "+Math.round(Ht(this._g,255)*100)+"%, "+Math.round(Ht(this._b,255)*100)+"%)":"rgba("+Math.round(Ht(this._r,255)*100)+"%, "+Math.round(Ht(this._g,255)*100)+"%, "+Math.round(Ht(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:nbe[$I(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+UI(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=Te(e);r="#"+UI(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Te(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(Xye,arguments)},brighten:function(){return this._applyModification(Yye,arguments)},darken:function(){return this._applyModification(Kye,arguments)},desaturate:function(){return this._applyModification(Gye,arguments)},saturate:function(){return this._applyModification(Vye,arguments)},greyscale:function(){return this._applyModification(qye,arguments)},spin:function(){return this._applyModification(Zye,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(ebe,arguments)},complement:function(){return this._applyCombination(Qye,arguments)},monochromatic:function(){return this._applyCombination(tbe,arguments)},splitcomplement:function(){return this._applyCombination(Jye,arguments)},triad:function(){return this._applyCombination(zI,[3])},tetrad:function(){return this._applyCombination(zI,[4])}};Te.fromRatio=function(t,e){if(Ig(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=Ah(t[r]));t=n}return Te(t,e)};function Uye(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,o=!1,a=!1;return typeof t=="string"&&(t=obe(t)),Ig(t)=="object"&&(Xs(t.r)&&Xs(t.g)&&Xs(t.b)?(e=zye(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Xs(t.h)&&Xs(t.s)&&Xs(t.v)?(r=Ah(t.s),i=Ah(t.v),e=jye(t.h,r,i),o=!0,a="hsv"):Xs(t.h)&&Xs(t.s)&&Xs(t.l)&&(r=Ah(t.s),s=Ah(t.l),e=Hye(t.h,r,s),o=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=W5(n),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function zye(t,e,n){return{r:Ht(t,255)*255,g:Ht(e,255)*255,b:Ht(n,255)*255}}function BI(t,e,n){t=Ht(t,255),e=Ht(e,255),n=Ht(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=(r+i)/2;if(r==i)s=o=0;else{var l=r-i;switch(o=a>.5?l/(2-r-i):l/(r+i),r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,l:a}}function Hye(t,e,n){var r,i,s;t=Ht(t,360),e=Ht(e,100),n=Ht(n,100);function o(c,h,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?c+(h-c)*6*f:f<1/2?h:f<2/3?c+(h-c)*(2/3-f)*6:c}if(e===0)r=i=s=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=o(l,a,t+1/3),i=o(l,a,t),s=o(l,a,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function NI(t,e,n){t=Ht(t,255),e=Ht(e,255),n=Ht(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=r,l=r-i;if(o=r===0?0:l/r,r==i)s=0;else{switch(r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,v:a}}function jye(t,e,n){t=Ht(t,360)*6,e=Ht(e,100),n=Ht(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),o=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,c=[n,o,s,s,a,n][l],h=[a,n,n,o,s,s][l],f=[s,s,a,n,n,o][l];return{r:c*255,g:h*255,b:f*255}}function $I(t,e,n,r){var i=[Xi(Math.round(t).toString(16)),Xi(Math.round(e).toString(16)),Xi(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Wye(t,e,n,r,i){var s=[Xi(Math.round(t).toString(16)),Xi(Math.round(e).toString(16)),Xi(Math.round(n).toString(16)),Xi(G5(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function UI(t,e,n,r){var i=[Xi(G5(r)),Xi(Math.round(t).toString(16)),Xi(Math.round(e).toString(16)),Xi(Math.round(n).toString(16))];return i.join("")}Te.equals=function(t,e){return!t||!e?!1:Te(t).toRgbString()==Te(e).toRgbString()};Te.random=function(){return Te.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Gye(t,e){e=e===0?0:e||10;var n=Te(t).toHsl();return n.s-=e/100,n.s=v0(n.s),Te(n)}function Vye(t,e){e=e===0?0:e||10;var n=Te(t).toHsl();return n.s+=e/100,n.s=v0(n.s),Te(n)}function qye(t){return Te(t).desaturate(100)}function Xye(t,e){e=e===0?0:e||10;var n=Te(t).toHsl();return n.l+=e/100,n.l=v0(n.l),Te(n)}function Yye(t,e){e=e===0?0:e||10;var n=Te(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),Te(n)}function Kye(t,e){e=e===0?0:e||10;var n=Te(t).toHsl();return n.l-=e/100,n.l=v0(n.l),Te(n)}function Zye(t,e){var n=Te(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,Te(n)}function Qye(t){var e=Te(t).toHsl();return e.h=(e.h+180)%360,Te(e)}function zI(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Te(t).toHsl(),r=[Te(t)],i=360/e,s=1;s<e;s++)r.push(Te({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function Jye(t){var e=Te(t).toHsl(),n=e.h;return[Te(t),Te({h:(n+72)%360,s:e.s,l:e.l}),Te({h:(n+216)%360,s:e.s,l:e.l})]}function ebe(t,e,n){e=e||6,n=n||30;var r=Te(t).toHsl(),i=360/n,s=[Te(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(Te(r));return s}function tbe(t,e){e=e||6;for(var n=Te(t).toHsv(),r=n.h,i=n.s,s=n.v,o=[],a=1/e;e--;)o.push(Te({h:r,s:i,v:s})),s=(s+a)%1;return o}Te.mix=function(t,e,n){n=n===0?0:n||50;var r=Te(t).toRgb(),i=Te(e).toRgb(),s=n/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return Te(o)};Te.readability=function(t,e){var n=Te(t),r=Te(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};Te.isReadable=function(t,e,n){var r=Te.readability(t,e),i,s;switch(s=!1,i=abe(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};Te.mostReadable=function(t,e,n){var r=null,i=0,s,o,a,l;n=n||{},o=n.includeFallbackColors,a=n.level,l=n.size;for(var c=0;c<e.length;c++)s=Te.readability(t,e[c]),s>i&&(i=s,r=Te(e[c]));return Te.isReadable(t,r,{level:a,size:l})||!o?r:(n.includeFallbackColors=!1,Te.mostReadable(t,["#fff","#000"],n))};var Nw=Te.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},nbe=Te.hexNames=rbe(Nw);function rbe(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function W5(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Ht(t,e){ibe(t)&&(t="100%");var n=sbe(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function v0(t){return Math.min(1,Math.max(0,t))}function Or(t){return parseInt(t,16)}function ibe(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function sbe(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Xi(t){return t.length==1?"0"+t:""+t}function Ah(t){return t<=1&&(t=t*100+"%"),t}function G5(t){return Math.round(parseFloat(t)*255).toString(16)}function HI(t){return Or(t)/255}var Ui=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Xs(t){return!!Ui.CSS_UNIT.exec(t)}function obe(t){t=t.replace(Nye,"").replace($ye,"").toLowerCase();var e=!1;if(Nw[t])t=Nw[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Ui.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=Ui.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Ui.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=Ui.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Ui.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=Ui.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Ui.hex8.exec(t))?{r:Or(n[1]),g:Or(n[2]),b:Or(n[3]),a:HI(n[4]),format:e?"name":"hex8"}:(n=Ui.hex6.exec(t))?{r:Or(n[1]),g:Or(n[2]),b:Or(n[3]),format:e?"name":"hex"}:(n=Ui.hex4.exec(t))?{r:Or(n[1]+""+n[1]),g:Or(n[2]+""+n[2]),b:Or(n[3]+""+n[3]),a:HI(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=Ui.hex3.exec(t))?{r:Or(n[1]+""+n[1]),g:Or(n[2]+""+n[2]),b:Or(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function abe(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var jI=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return mt(n,function(s){if(e[s]&&(r+=1,isNaN(e[s])||(i+=1),s==="s"||s==="l")){var o=/^\d+%$/;o.test(e[s])&&(i+=1)}}),r===i?e:!1},Ph=function(e,n){var r=e.hex?Te(e.hex):Te(e),i=r.toHsl(),s=r.toHsv(),o=r.toRgb(),a=r.toHex();i.s===0&&(i.h=n||0,s.h=n||0);var l=a==="000000"&&o.a===0;return{hsl:i,hex:l?"transparent":"#"+a,rgb:o,hsv:s,oldHue:e.h||n||i.h,source:e.source}},pa=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&Te(e).isValid()},i2=function(e){if(!e)return"#fff";var n=Ph(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},qy=function(e,n){var r=e.replace("°","");return Te(n+" ("+r+")")._ok},dh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lbe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function ube(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cbe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function hbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var xr=function(e){var n=function(r){hbe(i,r);function i(s){ube(this,i);var o=cbe(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return o.handleChange=function(a,l){var c=jI(a);if(c){var h=Ph(a,a.h||o.state.oldHue);o.setState(h),o.props.onChangeComplete&&o.debounce(o.props.onChangeComplete,h,l),o.props.onChange&&o.props.onChange(h,l)}},o.handleSwatchHover=function(a,l){var c=jI(a);if(c){var h=Ph(a,a.h||o.state.oldHue);o.props.onSwatchHover&&o.props.onSwatchHover(h,l)}},o.state=dh({},Ph(s.color,0)),o.debounce=BF(function(a,l,c){a(l,c)},100),o}return lbe(i,[{key:"render",value:function(){var o={};return this.props.onSwatchHover&&(o.onSwatchHover=this.handleSwatchHover),P.createElement(e,dh({},this.props,this.state,{onChange:this.handleChange},o))}}],[{key:"getDerivedStateFromProps",value:function(o,a){return dh({},Ph(o.color,a.oldHue))}}]),i}(T.PureComponent||T.Component);return n.propTypes=dh({},e.propTypes),n.defaultProps=dh({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},dbe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fbe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function pbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WI(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function mbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var gbe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){mbe(i,r);function i(){var s,o,a,l;pbe(this,i);for(var c=arguments.length,h=Array(c),f=0;f<c;f++)h[f]=arguments[f];return l=(o=(a=WI(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(h))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},o),WI(a,l)}return fbe(i,[{key:"render",value:function(){return P.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},P.createElement(e,dbe({},this.props,this.state)))}}]),i}(P.Component)},GI=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vbe=13,ybe=function(e){var n=e.color,r=e.style,i=e.onClick,s=i===void 0?function(){}:i,o=e.onHover,a=e.title,l=a===void 0?n:a,c=e.children,h=e.focus,f=e.focusStyle,p=f===void 0?{}:f,m=n==="transparent",v=$e({default:{swatch:GI({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,h?p:{})}}),y=function(E){return s(n,E)},x=function(E){return E.keyCode===vbe&&s(n,E)},b=function(E){return o(n,E)},_={};return o&&(_.onMouseOver=b),P.createElement("div",GI({style:v.swatch,onClick:y,title:l,tabIndex:0,onKeyDown:x},_),c,m&&P.createElement(Ic,{borderRadius:v.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const El=gbe(ybe);var bbe=function(e){var n=e.direction,r=$e({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return P.createElement("div",{style:r.picker})},xbe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V5=function(e){var n=e.rgb,r=e.hsl,i=e.width,s=e.height,o=e.onChange,a=e.direction,l=e.style,c=e.renderers,h=e.pointer,f=e.className,p=f===void 0?"":f,m=$e({default:{picker:{position:"relative",width:i,height:s},alpha:{radius:"2px",style:l}}});return P.createElement("div",{style:m.picker,className:"alpha-picker "+p},P.createElement(r2,xbe({},m.alpha,{rgb:n,hsl:r,pointer:h,renderers:c,onChange:o,direction:a})))};V5.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:bbe};xr(V5);var wbe=function(e){var n=e.colors,r=e.onClick,i=e.onSwatchHover,s=$e({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return P.createElement("div",{style:s.swatches},ze(n,function(o){return P.createElement(El,{key:o,color:o,style:s.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+o}})}),P.createElement("div",{style:s.clear}))},s2=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,c=l===void 0?{}:l,h=e.className,f=h===void 0?"":h,p=i==="transparent",m=function(x,b){pa(x)&&n({hex:x,source:"hex"},b)},v=$e(br({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:i2(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},c),{"hide-triangle":a==="hide"});return P.createElement("div",{style:v.card,className:"block-picker "+f},P.createElement("div",{style:v.triangle}),P.createElement("div",{style:v.head},p&&P.createElement(Ic,{borderRadius:"6px 6px 0 0"}),P.createElement("div",{style:v.label},i)),P.createElement("div",{style:v.body},P.createElement(wbe,{colors:s,onClick:m,onSwatchHover:r}),P.createElement(lt,{style:{input:v.input},value:i,onChange:m})))};s2.propTypes={width:B.oneOfType([B.string,B.number]),colors:B.arrayOf(B.string),triangle:B.oneOf(["top","hide"]),styles:B.object};s2.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};xr(s2);var Ql={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},Jl={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},eu={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},tu={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},nu={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},ru={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},iu={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},su={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},ou={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},kh={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},au={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},lu={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},uu={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},cu={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},hu={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},du={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},fu={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},pu={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},q5=function(e){var n=e.color,r=e.onClick,i=e.onSwatchHover,s=e.hover,o=e.active,a=e.circleSize,l=e.circleSpacing,c=$e({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:s,active:o});return P.createElement("div",{style:c.swatch},P.createElement(El,{style:c.Swatch,color:n,onClick:r,onHover:i,focusStyle:{boxShadow:c.Swatch.boxShadow+", 0 0 5px "+n}}))};q5.defaultProps={circleSize:28,circleSpacing:14};const _be=n2(q5);var o2=function(e){var n=e.width,r=e.onChange,i=e.onSwatchHover,s=e.colors,o=e.hex,a=e.circleSize,l=e.styles,c=l===void 0?{}:l,h=e.circleSpacing,f=e.className,p=f===void 0?"":f,m=$e(br({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-h,marginBottom:-h}}},c)),v=function(x,b){return r({hex:x,source:"hex"},b)};return P.createElement("div",{style:m.card,className:"circle-picker "+p},ze(s,function(y){return P.createElement(_be,{key:y,color:y,onClick:v,onSwatchHover:i,active:o===y.toLowerCase(),circleSize:a,circleSpacing:h})}))};o2.propTypes={width:B.oneOfType([B.string,B.number]),circleSize:B.number,circleSpacing:B.number,styles:B.object};o2.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Ql[500],Jl[500],eu[500],tu[500],nu[500],ru[500],iu[500],su[500],ou[500],kh[500],au[500],lu[500],uu[500],cu[500],hu[500],du[500],fu[500],pu[500]],styles:{}};const Sbe=xr(o2);var X5={};Object.defineProperty(X5,"__esModule",{value:!0});var VI=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ebe=T,qI=Cbe(Ebe);function Cbe(t){return t&&t.__esModule?t:{default:t}}function Tbe(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var $p=24,Abe=X5.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?$p:r,s=t.height,o=s===void 0?$p:s,a=t.style,l=a===void 0?{}:a,c=Tbe(t,["fill","width","height","style"]);return qI.default.createElement("svg",VI({viewBox:"0 0 "+$p+" "+$p,style:VI({fill:n,width:i,height:o},l)},c),qI.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},Pbe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function kbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Obe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ibe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Y5=function(t){Ibe(e,t);function e(n){kbe(this,e);var r=Obe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,s){i.hex?pa(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},s):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},s):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},s)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(Fr(i.s)?r.props.hsl.s:i.s),l:Number(Fr(i.l)?r.props.hsl.l:i.l),source:"hsl"},s))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return Pbe(e,[{key:"render",value:function(){var r=this,i=$e({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),s=void 0;return this.state.view==="hex"?s=P.createElement("div",{style:i.fields,className:"flexbox-fix"},P.createElement("div",{style:i.field},P.createElement(lt,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?s=P.createElement("div",{style:i.fields,className:"flexbox-fix"},P.createElement("div",{style:i.field},P.createElement(lt,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),P.createElement("div",{style:i.field},P.createElement(lt,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),P.createElement("div",{style:i.field},P.createElement(lt,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),P.createElement("div",{style:i.alpha},P.createElement(lt,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(s=P.createElement("div",{style:i.fields,className:"flexbox-fix"},P.createElement("div",{style:i.field},P.createElement(lt,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),P.createElement("div",{style:i.field},P.createElement(lt,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),P.createElement("div",{style:i.field},P.createElement(lt,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),P.createElement("div",{style:i.alpha},P.createElement(lt,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),P.createElement("div",{style:i.wrap,className:"flexbox-fix"},s,P.createElement("div",{style:i.toggle},P.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},P.createElement(Abe,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(P.Component);Y5.defaultProps={view:"hex"};var XI=function(){var e=$e({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return P.createElement("div",{style:e.picker})},Rbe=function(){var e=$e({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return P.createElement("div",{style:e.picker})},a2=function(e){var n=e.width,r=e.onChange,i=e.disableAlpha,s=e.rgb,o=e.hsl,a=e.hsv,l=e.hex,c=e.renderers,h=e.styles,f=h===void 0?{}:h,p=e.className,m=p===void 0?"":p,v=e.defaultView,y=$e(br({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+s.r+", "+s.g+", "+s.b+", "+s.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},f),{disableAlpha:i});return P.createElement("div",{style:y.picker,className:"chrome-picker "+m},P.createElement("div",{style:y.saturation},P.createElement(g0,{style:y.Saturation,hsl:o,hsv:a,pointer:Rbe,onChange:r})),P.createElement("div",{style:y.body},P.createElement("div",{style:y.controls,className:"flexbox-fix"},P.createElement("div",{style:y.color},P.createElement("div",{style:y.swatch},P.createElement("div",{style:y.active}),P.createElement(Ic,{renderers:c}))),P.createElement("div",{style:y.toggles},P.createElement("div",{style:y.hue},P.createElement(Rc,{style:y.Hue,hsl:o,pointer:XI,onChange:r})),P.createElement("div",{style:y.alpha},P.createElement(r2,{style:y.Alpha,rgb:s,hsl:o,pointer:XI,renderers:c,onChange:r})))),P.createElement(Y5,{rgb:s,hsl:o,hex:l,view:v,onChange:r,disableAlpha:i})))};a2.propTypes={width:B.oneOfType([B.string,B.number]),disableAlpha:B.bool,styles:B.object,defaultView:B.oneOf(["hex","rgb","hsl"])};a2.defaultProps={width:225,disableAlpha:!1,styles:{}};const Mbe=xr(a2);var Fbe=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.active,a=$e({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:i2(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return P.createElement(El,{style:a.color,color:n,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n}},P.createElement("div",{style:a.dot}))},Dbe=function(e){var n=e.hex,r=e.rgb,i=e.onChange,s=$e({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(l,c){l.r||l.g||l.b?i({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},c):i({hex:l.hex,source:"hex"},c)};return P.createElement("div",{style:s.fields,className:"flexbox-fix"},P.createElement("div",{style:s.active}),P.createElement(lt,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:n,onChange:o}),P.createElement(lt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:o}),P.createElement(lt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:o}),P.createElement(lt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:o}))},l2=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.colors,s=e.hex,o=e.rgb,a=e.styles,l=a===void 0?{}:a,c=e.className,h=c===void 0?"":c,f=$e(br({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),p=function(v,y){v.hex?pa(v.hex)&&n({hex:v.hex,source:"hex"},y):n(v,y)};return P.createElement(yf,{style:f.Compact,styles:l},P.createElement("div",{style:f.compact,className:"compact-picker "+h},P.createElement("div",null,ze(i,function(m){return P.createElement(Fbe,{key:m,color:m,active:m.toLowerCase()===s,onClick:p,onSwatchHover:r})}),P.createElement("div",{style:f.clear})),P.createElement(Dbe,{hex:s,rgb:o,onChange:p})))};l2.propTypes={colors:B.arrayOf(B.string),styles:B.object};l2.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};xr(l2);var Lbe=function(e){var n=e.hover,r=e.color,i=e.onClick,s=e.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=$e({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:n});return P.createElement("div",{style:a.swatch},P.createElement(El,{color:r,onClick:i,onHover:s,focusStyle:o}))};const Bbe=n2(Lbe);var u2=function(e){var n=e.width,r=e.colors,i=e.onChange,s=e.onSwatchHover,o=e.triangle,a=e.styles,l=a===void 0?{}:a,c=e.className,h=c===void 0?"":c,f=$e(br({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":o==="hide","top-left-triangle":o==="top-left","top-right-triangle":o==="top-right","bottom-left-triangle":o==="bottom-left","bottom-right-triangle":o==="bottom-right"}),p=function(v,y){return i({hex:v,source:"hex"},y)};return P.createElement("div",{style:f.card,className:"github-picker "+h},P.createElement("div",{style:f.triangleShadow}),P.createElement("div",{style:f.triangle}),ze(r,function(m){return P.createElement(Bbe,{color:m,key:m,onClick:p,onSwatchHover:s})}))};u2.propTypes={width:B.oneOfType([B.string,B.number]),colors:B.arrayOf(B.string),triangle:B.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:B.object};u2.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};xr(u2);var Nbe=function(e){var n=e.direction,r=$e({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return P.createElement("div",{style:r.picker})},$be=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c2=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.hsl,o=e.direction,a=e.pointer,l=e.styles,c=l===void 0?{}:l,h=e.className,f=h===void 0?"":h,p=$e(br({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},c)),m=function(y){return i({a:1,h:y.h,l:.5,s:1})};return P.createElement("div",{style:p.picker,className:"hue-picker "+f},P.createElement(Rc,$be({},p.hue,{hsl:s,pointer:a,onChange:m,direction:o})))};c2.propTypes={styles:B.object};c2.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:Nbe,styles:{}};xr(c2);var Ube=function(e){var n=e.onChange,r=e.hex,i=e.rgb,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,c=$e(br({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},o)),h=function(p,m){p.hex?pa(p.hex)&&n({hex:p.hex,source:"hex"},m):(p.r||p.g||p.b)&&n({r:p.r||i.r,g:p.g||i.g,b:p.b||i.b,source:"rgb"},m)};return P.createElement(yf,{styles:o},P.createElement("div",{style:c.material,className:"material-picker "+l},P.createElement(lt,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"hex",value:r,onChange:h}),P.createElement("div",{style:c.split,className:"flexbox-fix"},P.createElement("div",{style:c.third},P.createElement(lt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:i.r,onChange:h})),P.createElement("div",{style:c.third},P.createElement(lt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:i.g,onChange:h})),P.createElement("div",{style:c.third},P.createElement(lt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:i.b,onChange:h})))))};xr(Ube);var zbe=function(e){var n=e.onChange,r=e.rgb,i=e.hsv,s=e.hex,o=$e({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(c,h){c["#"]?pa(c["#"])&&n({hex:c["#"],source:"hex"},h):c.r||c.g||c.b?n({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,source:"rgb"},h):(c.h||c.s||c.v)&&n({h:c.h||i.h,s:c.s||i.s,v:c.v||i.v,source:"hsv"},h)};return P.createElement("div",{style:o.fields},P.createElement(lt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(i.h),onChange:a}),P.createElement(lt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:a}),P.createElement(lt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:a}),P.createElement("div",{style:o.divider}),P.createElement(lt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:a}),P.createElement(lt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:a}),P.createElement(lt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:a}),P.createElement("div",{style:o.divider}),P.createElement(lt,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:s.replace("#",""),onChange:a}),P.createElement("div",{style:o.fieldSymbols},P.createElement("div",{style:o.symbol},"°"),P.createElement("div",{style:o.symbol},"%"),P.createElement("div",{style:o.symbol},"%")))},Hbe=function(e){var n=e.hsl,r=$e({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return P.createElement("div",{style:r.picker})},jbe=function(){var e=$e({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return P.createElement("div",{style:e.pointer},P.createElement("div",{style:e.left},P.createElement("div",{style:e.leftInside})),P.createElement("div",{style:e.right},P.createElement("div",{style:e.rightInside})))},YI=function(e){var n=e.onClick,r=e.label,i=e.children,s=e.active,o=$e({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:s});return P.createElement("div",{style:o.button,onClick:n},r||i)},Wbe=function(e){var n=e.rgb,r=e.currentColor,i=$e({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return P.createElement("div",null,P.createElement("div",{style:i.label},"new"),P.createElement("div",{style:i.swatches},P.createElement("div",{style:i.new}),P.createElement("div",{style:i.current})),P.createElement("div",{style:i.label},"current"))},Gbe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Vbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qbe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Xbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h2=function(t){Xbe(e,t);function e(n){Vbe(this,e);var r=qbe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:n.hex},r}return Gbe(e,[{key:"render",value:function(){var r=this.props,i=r.styles,s=i===void 0?{}:i,o=r.className,a=o===void 0?"":o,l=$e(br({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},s));return P.createElement("div",{style:l.picker,className:"photoshop-picker "+a},P.createElement("div",{style:l.head},this.props.header),P.createElement("div",{style:l.body,className:"flexbox-fix"},P.createElement("div",{style:l.saturation},P.createElement(g0,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:Hbe,onChange:this.props.onChange})),P.createElement("div",{style:l.hue},P.createElement(Rc,{direction:"vertical",hsl:this.props.hsl,pointer:jbe,onChange:this.props.onChange})),P.createElement("div",{style:l.controls},P.createElement("div",{style:l.top,className:"flexbox-fix"},P.createElement("div",{style:l.previews},P.createElement(Wbe,{rgb:this.props.rgb,currentColor:this.state.currentColor})),P.createElement("div",{style:l.actions},P.createElement(YI,{label:"OK",onClick:this.props.onAccept,active:!0}),P.createElement(YI,{label:"Cancel",onClick:this.props.onCancel}),P.createElement(zbe,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(P.Component);h2.propTypes={header:B.string,styles:B.object};h2.defaultProps={header:"Color Picker",styles:{}};xr(h2);var Ybe=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.disableAlpha,a=$e({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),l=function(h,f){h.hex?pa(h.hex)&&n({hex:h.hex,source:"hex"},f):h.r||h.g||h.b?n({r:h.r||r.r,g:h.g||r.g,b:h.b||r.b,a:r.a,source:"rgb"},f):h.a&&(h.a<0?h.a=0:h.a>100&&(h.a=100),h.a/=100,n({h:i.h,s:i.s,l:i.l,a:h.a,source:"rgb"},f))};return P.createElement("div",{style:a.fields,className:"flexbox-fix"},P.createElement("div",{style:a.double},P.createElement(lt,{style:{input:a.input,label:a.label},label:"hex",value:s.replace("#",""),onChange:l})),P.createElement("div",{style:a.single},P.createElement(lt,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),P.createElement("div",{style:a.single},P.createElement(lt,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),P.createElement("div",{style:a.single},P.createElement(lt,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),P.createElement("div",{style:a.alpha},P.createElement(lt,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},Kbe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K5=function(e){var n=e.colors,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=$e({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),a=function(c,h){i({hex:c,source:"hex"},h)};return P.createElement("div",{style:o.colors,className:"flexbox-fix"},n.map(function(l){var c=typeof l=="string"?{color:l}:l,h=""+c.color+(c.title||"");return P.createElement("div",{key:h,style:o.swatchWrap},P.createElement(El,Kbe({},c,{style:o.swatch,onClick:a,onHover:s,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+c.color}})))}))};K5.propTypes={colors:B.arrayOf(B.oneOfType([B.string,B.shape({color:B.string,title:B.string})])).isRequired};var Zbe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d2=function(e){var n=e.width,r=e.rgb,i=e.hex,s=e.hsv,o=e.hsl,a=e.onChange,l=e.onSwatchHover,c=e.disableAlpha,h=e.presetColors,f=e.renderers,p=e.styles,m=p===void 0?{}:p,v=e.className,y=v===void 0?"":v,x=$e(br({default:Zbe({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},m),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},m),{disableAlpha:c});return P.createElement("div",{style:x.picker,className:"sketch-picker "+y},P.createElement("div",{style:x.saturation},P.createElement(g0,{style:x.Saturation,hsl:o,hsv:s,onChange:a})),P.createElement("div",{style:x.controls,className:"flexbox-fix"},P.createElement("div",{style:x.sliders},P.createElement("div",{style:x.hue},P.createElement(Rc,{style:x.Hue,hsl:o,onChange:a})),P.createElement("div",{style:x.alpha},P.createElement(r2,{style:x.Alpha,rgb:r,hsl:o,renderers:f,onChange:a}))),P.createElement("div",{style:x.color},P.createElement(Ic,null),P.createElement("div",{style:x.activeColor}))),P.createElement(Ybe,{rgb:r,hsl:o,hex:i,onChange:a,disableAlpha:c}),P.createElement(K5,{colors:h,onClick:a,onSwatchHover:l}))};d2.propTypes={disableAlpha:B.bool,width:B.oneOfType([B.string,B.number]),styles:B.object};d2.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};xr(d2);var fh=function(e){var n=e.hsl,r=e.offset,i=e.onClick,s=i===void 0?function(){}:i,o=e.active,a=e.first,l=e.last,c=$e({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:a,last:l}),h=function(p){return s({h:n.h,s:.5,l:r,source:"hsl"},p)};return P.createElement("div",{style:c.swatch,onClick:h})},Qbe=function(e){var n=e.onClick,r=e.hsl,i=$e({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),s=.1;return P.createElement("div",{style:i.swatches},P.createElement("div",{style:i.swatch},P.createElement(fh,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<s&&Math.abs(r.s-.5)<s,onClick:n,first:!0})),P.createElement("div",{style:i.swatch},P.createElement(fh,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<s&&Math.abs(r.s-.5)<s,onClick:n})),P.createElement("div",{style:i.swatch},P.createElement(fh,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<s&&Math.abs(r.s-.5)<s,onClick:n})),P.createElement("div",{style:i.swatch},P.createElement(fh,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<s&&Math.abs(r.s-.5)<s,onClick:n})),P.createElement("div",{style:i.swatch},P.createElement(fh,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<s&&Math.abs(r.s-.5)<s,onClick:n,last:!0})),P.createElement("div",{style:i.clear}))},Jbe=function(){var e=$e({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return P.createElement("div",{style:e.picker})},f2=function(e){var n=e.hsl,r=e.onChange,i=e.pointer,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,c=$e(br({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},o));return P.createElement("div",{style:c.wrap||{},className:"slider-picker "+l},P.createElement("div",{style:c.hue},P.createElement(Rc,{style:c.Hue,hsl:n,pointer:i,onChange:r})),P.createElement("div",{style:c.swatches},P.createElement(Qbe,{hsl:n,onClick:r})))};f2.propTypes={styles:B.object};f2.defaultProps={pointer:Jbe,styles:{}};xr(f2);var Z5={};Object.defineProperty(Z5,"__esModule",{value:!0});var KI=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},exe=T,ZI=txe(exe);function txe(t){return t&&t.__esModule?t:{default:t}}function nxe(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var Up=24,rxe=Z5.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?Up:r,s=t.height,o=s===void 0?Up:s,a=t.style,l=a===void 0?{}:a,c=nxe(t,["fill","width","height","style"]);return ZI.default.createElement("svg",KI({viewBox:"0 0 "+Up+" "+Up,style:KI({fill:n,width:i,height:o},l)},c),ZI.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},ixe=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.first,a=e.last,l=e.active,c=$e({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:i2(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:o,last:a,active:l,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return P.createElement(El,{color:n,style:c.color,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n}},P.createElement("div",{style:c.check},P.createElement(rxe,null)))},sxe=function(e){var n=e.onClick,r=e.onSwatchHover,i=e.group,s=e.active,o=$e({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return P.createElement("div",{style:o.group},ze(i,function(a,l){return P.createElement(ixe,{key:a,color:a,active:a.toLowerCase()===s,first:l===0,last:l===i.length-1,onClick:n,onSwatchHover:r})}))},p2=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.onSwatchHover,o=e.colors,a=e.hex,l=e.styles,c=l===void 0?{}:l,h=e.className,f=h===void 0?"":h,p=$e(br({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},c)),m=function(y,x){return i({hex:y,source:"hex"},x)};return P.createElement("div",{style:p.picker,className:"swatches-picker "+f},P.createElement(yf,null,P.createElement("div",{style:p.overflow},P.createElement("div",{style:p.body},ze(o,function(v){return P.createElement(sxe,{key:v.toString(),group:v,active:a,onClick:m,onSwatchHover:s})}),P.createElement("div",{style:p.clear})))))};p2.propTypes={width:B.oneOfType([B.string,B.number]),height:B.oneOfType([B.string,B.number]),colors:B.arrayOf(B.arrayOf(B.string)),styles:B.object};p2.defaultProps={width:320,height:240,colors:[[Ql[900],Ql[700],Ql[500],Ql[300],Ql[100]],[Jl[900],Jl[700],Jl[500],Jl[300],Jl[100]],[eu[900],eu[700],eu[500],eu[300],eu[100]],[tu[900],tu[700],tu[500],tu[300],tu[100]],[nu[900],nu[700],nu[500],nu[300],nu[100]],[ru[900],ru[700],ru[500],ru[300],ru[100]],[iu[900],iu[700],iu[500],iu[300],iu[100]],[su[900],su[700],su[500],su[300],su[100]],[ou[900],ou[700],ou[500],ou[300],ou[100]],["#194D33",kh[700],kh[500],kh[300],kh[100]],[au[900],au[700],au[500],au[300],au[100]],[lu[900],lu[700],lu[500],lu[300],lu[100]],[uu[900],uu[700],uu[500],uu[300],uu[100]],[cu[900],cu[700],cu[500],cu[300],cu[100]],[hu[900],hu[700],hu[500],hu[300],hu[100]],[du[900],du[700],du[500],du[300],du[100]],[fu[900],fu[700],fu[500],fu[300],fu[100]],[pu[900],pu[700],pu[500],pu[300],pu[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};xr(p2);var m2=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,c=l===void 0?{}:l,h=e.className,f=h===void 0?"":h,p=$e(br({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},c),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),m=function(y,x){pa(y)&&n({hex:y,source:"hex"},x)};return P.createElement("div",{style:p.card,className:"twitter-picker "+f},P.createElement("div",{style:p.triangleShadow}),P.createElement("div",{style:p.triangle}),P.createElement("div",{style:p.body},ze(s,function(v,y){return P.createElement(El,{key:y,color:v,hex:v,style:p.swatch,onClick:m,onHover:r,focusStyle:{boxShadow:"0 0 4px "+v}})}),P.createElement("div",{style:p.hash},"#"),P.createElement(lt,{label:null,style:{input:p.input},value:i.replace("#",""),onChange:m}),P.createElement("div",{style:p.clear})))};m2.propTypes={width:B.oneOfType([B.string,B.number]),triangle:B.oneOf(["hide","top-left","top-right"]),colors:B.arrayOf(B.string),styles:B.object};m2.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};xr(m2);var g2=function(e){var n=$e({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return P.createElement("div",{style:n.picker})};g2.propTypes={hsl:B.shape({h:B.number,s:B.number,l:B.number,a:B.number})};g2.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var v2=function(e){var n=$e({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return P.createElement("div",{style:n.picker})};v2.propTypes={hsl:B.shape({h:B.number,s:B.number,l:B.number,a:B.number})};v2.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var oxe=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.hsv,a=function(m,v){if(m.hex)pa(m.hex)&&n({hex:m.hex,source:"hex"},v);else if(m.rgb){var y=m.rgb.split(",");qy(m.rgb,"rgb")&&n({r:y[0],g:y[1],b:y[2],a:1,source:"rgb"},v)}else if(m.hsv){var x=m.hsv.split(",");qy(m.hsv,"hsv")&&(x[2]=x[2].replace("%",""),x[1]=x[1].replace("%",""),x[0]=x[0].replace("°",""),x[1]==1?x[1]=.01:x[2]==1&&(x[2]=.01),n({h:Number(x[0]),s:Number(x[1]),v:Number(x[2]),source:"hsv"},v))}else if(m.hsl){var b=m.hsl.split(",");qy(m.hsl,"hsl")&&(b[2]=b[2].replace("%",""),b[1]=b[1].replace("%",""),b[0]=b[0].replace("°",""),f[1]==1?f[1]=.01:f[2]==1&&(f[2]=.01),n({h:Number(b[0]),s:Number(b[1]),v:Number(b[2]),source:"hsl"},v))}},l=$e({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),c=r.r+", "+r.g+", "+r.b,h=Math.round(i.h)+"°, "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",f=Math.round(o.h)+"°, "+Math.round(o.s*100)+"%, "+Math.round(o.v*100)+"%";return P.createElement("div",{style:l.wrap,className:"flexbox-fix"},P.createElement("div",{style:l.fields},P.createElement("div",{style:l.double},P.createElement(lt,{style:{input:l.input,label:l.label},label:"hex",value:s,onChange:a})),P.createElement("div",{style:l.column},P.createElement("div",{style:l.single},P.createElement(lt,{style:{input:l.input2,label:l.label2},label:"rgb",value:c,onChange:a})),P.createElement("div",{style:l.single},P.createElement(lt,{style:{input:l.input2,label:l.label2},label:"hsv",value:f,onChange:a})),P.createElement("div",{style:l.single},P.createElement(lt,{style:{input:l.input2,label:l.label2},label:"hsl",value:h,onChange:a})))))},y2=function(e){var n=e.width,r=e.onChange,i=e.rgb,s=e.hsl,o=e.hsv,a=e.hex,l=e.header,c=e.styles,h=c===void 0?{}:c,f=e.className,p=f===void 0?"":f,m=$e(br({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},h));return P.createElement("div",{style:m.picker,className:"google-picker "+p},P.createElement("div",{style:m.head},l),P.createElement("div",{style:m.swatch}),P.createElement("div",{style:m.saturation},P.createElement(g0,{hsl:s,hsv:o,pointer:g2,onChange:r})),P.createElement("div",{style:m.body},P.createElement("div",{style:m.controls,className:"flexbox-fix"},P.createElement("div",{style:m.hue},P.createElement(Rc,{style:m.Hue,hsl:s,radius:"4px",pointer:v2,onChange:r}))),P.createElement(oxe,{rgb:i,hsl:s,hex:a,hsv:o,onChange:r})))};y2.propTypes={width:B.oneOfType([B.string,B.number]),styles:B.object,header:B.string};y2.defaultProps={width:652,styles:{},header:"Color picker"};xr(y2);function axe(t,e){T.useEffect(()=>{function n(r){t.current&&!t.current.contains(r.target)&&e()}return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[t])}function ac({color:t,colorChanged:e,type:n="chrome",colorOptions:r=["#3bac99"]}){const[i,s]=T.useState(!1),[o,a]=T.useState(t||"#ffffff"),l=T.useRef(null);axe(l,()=>{s(!1)}),T.useEffect(()=>{a(t||"#fff")},[t]);const c=()=>{s(!i)},h=p=>{a(p.hex),e(p.hex)},f=$e({default:{color:{background:o},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return J("div",{className:"color-picker",ref:l,children:[k("div",{className:"swatch",style:f.color,onClick:c}),i?J("div",{style:f.popover,children:[n==="chrome"&&k(Mbe,{color:o,onChange:h,disableAlpha:!0}),n==="circle"&&k(Sbe,{colors:r,onChange:h})]}):null]})}function ul(t){return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(t)}function lxe(t,e){if(ul(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ul(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q5(t){var e=lxe(t,"string");return ul(e)==="symbol"?e:String(e)}function Oh(t,e,n){return e=Q5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QI(Object(n),!0).forEach(function(r){Oh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uxe(t){if(Array.isArray(t))return t}function cxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function $w(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function J5(t,e){if(t){if(typeof t=="string")return $w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $w(t,e)}}function hxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oo(t,e){return uxe(t)||cxe(t,e)||J5(t,e)||hxe()}function Mc(t,e){if(t==null)return{};var n=Hr(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var dxe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function fxe(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,s=t.defaultValue,o=s===void 0?null:s,a=t.inputValue,l=t.menuIsOpen,c=t.onChange,h=t.onInputChange,f=t.onMenuClose,p=t.onMenuOpen,m=t.value,v=Mc(t,dxe),y=T.useState(a!==void 0?a:n),x=oo(y,2),b=x[0],_=x[1],w=T.useState(l!==void 0?l:i),E=oo(w,2),O=E[0],A=E[1],M=T.useState(m!==void 0?m:o),L=oo(M,2),H=L[0],G=L[1],z=T.useCallback(function(Z,le){typeof c=="function"&&c(Z,le),G(Z)},[c]),j=T.useCallback(function(Z,le){var W;typeof h=="function"&&(W=h(Z,le)),_(W!==void 0?W:Z)},[h]),X=T.useCallback(function(){typeof p=="function"&&p(),A(!0)},[p]),V=T.useCallback(function(){typeof f=="function"&&f(),A(!1)},[f]),he=a!==void 0?a:b,ce=l!==void 0?l:O,te=m!==void 0?m:H;return Ue(Ue({},v),{},{inputValue:he,menuIsOpen:ce,onChange:z,onInputChange:j,onMenuClose:V,onMenuOpen:X,value:te})}function pxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Q5(r.key),r)}}function mxe(t,e,n){return e&&JI(t.prototype,e),n&&JI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rg(t,e){return Rg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Rg(t,e)}function gxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rg(t,e)}function Mg(t){return Mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mg(t)}function vxe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bxe(t,e){if(e&&(ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yxe(t)}function xxe(t){var e=vxe();return function(){var r=Mg(t),i;if(e){var s=Mg(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return bxe(this,i)}}function wxe(t){if(Array.isArray(t))return $w(t)}function _xe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Sxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eL(t){return wxe(t)||_xe(t)||J5(t)||Sxe()}function Exe(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Cxe(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}const Txe=["top","right","bottom","left"];Txe.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);function As(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function tL(t){return As(t).getComputedStyle(t)}function nL(t){return t instanceof As(t).Node}function rL(t){return nL(t)?(t.nodeName||"").toLowerCase():""}let zp;function Axe(){if(zp)return zp;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(zp=t.brands.map(e=>e.brand+"/"+e.version).join(" "),zp):navigator.userAgent}function b2(t){return t instanceof As(t).HTMLElement}function Wu(t){return t instanceof As(t).Element}function e3(t){return typeof ShadowRoot>"u"?!1:t instanceof As(t).ShadowRoot||t instanceof ShadowRoot}function iL(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=tL(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Pxe(){return/^((?!chrome|android).)*safari/i.test(Axe())}function kxe(t){return["html","body","#document"].includes(rL(t))}const Fg=Math.round;function Oxe(t){const e=tL(t);let n=parseFloat(e.width),r=parseFloat(e.height);const i=b2(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Fg(n)!==s||Fg(r)!==o;return a&&(n=s,r=o),{width:n,height:r,fallback:a}}function sL(t){return Wu(t)?t:t.contextElement}const oL={x:1,y:1};function Xy(t){const e=sL(t);if(!b2(e))return oL;const n=e.getBoundingClientRect(),{width:r,height:i,fallback:s}=Oxe(e);let o=(s?Fg(n.width):n.width)/r,a=(s?Fg(n.height):n.height)/i;return o&&Number.isFinite(o)||(o=1),a&&Number.isFinite(a)||(a=1),{x:o,y:a}}function t3(t,e,n,r){var i,s;e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),a=sL(t);let l=oL;e&&(r?Wu(r)&&(l=Xy(r)):l=Xy(t));const c=a?As(a):window,h=Pxe()&&n;let f=(o.left+(h&&((i=c.visualViewport)==null?void 0:i.offsetLeft)||0))/l.x,p=(o.top+(h&&((s=c.visualViewport)==null?void 0:s.offsetTop)||0))/l.y,m=o.width/l.x,v=o.height/l.y;if(a){const y=As(a),x=r&&Wu(r)?As(r):r;let b=y.frameElement;for(;b&&r&&x!==y;){const _=Xy(b),w=b.getBoundingClientRect(),E=getComputedStyle(b);w.x+=(b.clientLeft+parseFloat(E.paddingLeft))*_.x,w.y+=(b.clientTop+parseFloat(E.paddingTop))*_.y,f*=_.x,p*=_.y,m*=_.x,v*=_.y,f+=w.x,p+=w.y,b=As(b).frameElement}}return Cxe({width:m,height:v,x:f,y:p})}function Ixe(t){return((nL(t)?t.ownerDocument:t.document)||window.document).documentElement}function Rxe(t){if(rL(t)==="html")return t;const e=t.assignedSlot||t.parentNode||e3(t)&&t.host||Ixe(t);return e3(e)?e.host:e}function aL(t){const e=Rxe(t);return kxe(e)?e.ownerDocument.body:b2(e)&&iL(e)?e:aL(e)}function Lm(t,e){var n;e===void 0&&(e=[]);const r=aL(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=As(r);return i?e.concat(s,s.visualViewport||[],iL(r)?r:[]):e.concat(r,Lm(r))}function Mxe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=!0,animationFrame:a=!1}=r,l=i&&!a,c=l||s?[...Wu(t)?Lm(t):t.contextElement?Lm(t.contextElement):[],...Lm(e)]:[];c.forEach(m=>{l&&m.addEventListener("scroll",n,{passive:!0}),s&&m.addEventListener("resize",n)});let h,f=null;if(o){let m=!0;f=new ResizeObserver(()=>{m||n(),m=!1}),Wu(t)&&!a&&f.observe(t),Wu(t)||!t.contextElement||a||f.observe(t.contextElement),f.observe(e)}let p=a?t3(t):null;return a&&function m(){const v=t3(t);!p||v.x===p.x&&v.y===p.y&&v.width===p.width&&v.height===p.height||n(),p=v,h=requestAnimationFrame(m)}(),n(),()=>{var m;c.forEach(v=>{l&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),(m=f)==null||m.disconnect(),f=null,a&&cancelAnimationFrame(h)}}var Dg=T.useLayoutEffect,Fxe=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Lg=function(){};function Dxe(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function Lxe(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&s.push("".concat(Dxe(t,o)));return s.filter(function(a){return a}).map(function(a){return String(a).trim()}).join(" ")}var n3=function(e){return Gxe(e)?e.filter(Boolean):ul(e)==="object"&&e!==null?[e]:[]},lL=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=Mc(e,Fxe);return Ue({},n)},nn=function(e,n,r){var i=e.cx,s=e.getStyles,o=e.getClassNames,a=e.className;return{css:s(n,e),className:i(r??{},o(n,e),a)}};function y0(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function Bxe(t){return y0(t)?window.innerHeight:t.clientHeight}function uL(t){return y0(t)?window.pageYOffset:t.scrollTop}function Bg(t,e){if(y0(t)){window.scrollTo(0,e);return}t.scrollTop=e}function Nxe(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function $xe(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function Hp(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Lg,i=uL(t),s=e-i,o=10,a=0;function l(){a+=o;var c=$xe(a,i,s,n);Bg(t,c),a<n?window.requestAnimationFrame(l):r(t)}l()}function r3(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?Bg(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&Bg(t,Math.max(e.offsetTop-i,0))}function Uxe(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function i3(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function zxe(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var cL=!1,Hxe={get passive(){return cL=!0}},jp=typeof window<"u"?window:{};jp.addEventListener&&jp.removeEventListener&&(jp.addEventListener("p",Lg,Hxe),jp.removeEventListener("p",Lg,!1));var jxe=cL;function Wxe(t){return t!=null}function Gxe(t){return Array.isArray(t)}function Wp(t,e,n){return t?e:n}var Vxe=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(o){var a=oo(o,1),l=a[0];return!r.includes(l)});return s.reduce(function(o,a){var l=oo(a,2),c=l[0],h=l[1];return o[c]=h,o},{})};function qxe(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,s=t.shouldScroll,o=t.isFixedPosition,a=t.controlHeight,l=Nxe(n),c={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return c;var h=l.getBoundingClientRect(),f=h.height,p=n.getBoundingClientRect(),m=p.bottom,v=p.height,y=p.top,x=n.offsetParent.getBoundingClientRect(),b=x.top,_=o?window.innerHeight:Bxe(l),w=uL(l),E=parseInt(getComputedStyle(n).marginBottom,10),O=parseInt(getComputedStyle(n).marginTop,10),A=b-O,M=_-y,L=A+w,H=f-w-y,G=m-_+w+E,z=w+y-O,j=160;switch(i){case"auto":case"bottom":if(M>=v)return{placement:"bottom",maxHeight:e};if(H>=v&&!o)return s&&Hp(l,G,j),{placement:"bottom",maxHeight:e};if(!o&&H>=r||o&&M>=r){s&&Hp(l,G,j);var X=o?M-E:H-E;return{placement:"bottom",maxHeight:X}}if(i==="auto"||o){var V=e,he=o?A:L;return he>=r&&(V=Math.min(he-E-a,e)),{placement:"top",maxHeight:V}}if(i==="bottom")return s&&Bg(l,G),{placement:"bottom",maxHeight:e};break;case"top":if(A>=v)return{placement:"top",maxHeight:e};if(L>=v&&!o)return s&&Hp(l,z,j),{placement:"top",maxHeight:e};if(!o&&L>=r||o&&A>=r){var ce=e;return(!o&&L>=r||o&&A>=r)&&(ce=o?A-O:L-O),s&&Hp(l,z,j),{placement:"top",maxHeight:ce}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}function Xxe(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var hL=function(e){return e==="auto"?"bottom":e},Yxe=function(e,n){var r,i=e.placement,s=e.theme,o=s.borderRadius,a=s.spacing,l=s.colors;return Ue((r={label:"menu"},Oh(r,Xxe(i),"100%"),Oh(r,"position","absolute"),Oh(r,"width","100%"),Oh(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},dL=T.createContext(null),Kxe=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,o=e.menuPosition,a=e.menuShouldScrollIntoView,l=e.theme,c=T.useContext(dL)||{},h=c.setPortalPlacement,f=T.useRef(null),p=T.useState(i),m=oo(p,2),v=m[0],y=m[1],x=T.useState(null),b=oo(x,2),_=b[0],w=b[1],E=l.spacing.controlHeight;return Dg(function(){var O=f.current;if(O){var A=o==="fixed",M=a&&!A,L=qxe({maxHeight:i,menuEl:O,minHeight:r,placement:s,shouldScroll:M,isFixedPosition:A,controlHeight:E});y(L.maxHeight),w(L.placement),h==null||h(L.placement)}},[i,s,o,a,r,h,E]),n({ref:f,placerProps:Ue(Ue({},e),{},{placement:_||hL(s),maxHeight:v})})},Zxe=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return Le("div",ve({},nn(e,"menu",{menu:!0}),{ref:r},i),n)},Qxe=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return Ue({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},Jxe=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return Le("div",ve({},nn(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),n)},fL=function(e,n){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return Ue({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},ewe=fL,twe=fL,pL=function(e){var n=e.children,r=e.innerProps;return Le("div",ve({},nn(e,"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)};pL.defaultProps={children:"No options"};var mL=function(e){var n=e.children,r=e.innerProps;return Le("div",ve({},nn(e,"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)};mL.defaultProps={children:"Loading..."};var nwe=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},rwe=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,o=e.menuPlacement,a=e.menuPosition,l=T.useRef(null),c=T.useRef(null),h=T.useState(hL(o)),f=oo(h,2),p=f[0],m=f[1],v=T.useMemo(function(){return{setPortalPlacement:m}},[]),y=T.useState(null),x=oo(y,2),b=x[0],_=x[1],w=T.useCallback(function(){if(i){var M=Uxe(i),L=a==="fixed"?0:window.pageYOffset,H=M[p]+L;(H!==(b==null?void 0:b.offset)||M.left!==(b==null?void 0:b.rect.left)||M.width!==(b==null?void 0:b.rect.width))&&_({offset:H,rect:M})}},[i,a,p,b==null?void 0:b.offset,b==null?void 0:b.rect.left,b==null?void 0:b.rect.width]);Dg(function(){w()},[w]);var E=T.useCallback(function(){typeof c.current=="function"&&(c.current(),c.current=null),i&&l.current&&(c.current=Mxe(i,l.current,w,{elementResize:"ResizeObserver"in window}))},[i,w]);Dg(function(){E()},[E]);var O=T.useCallback(function(M){l.current=M,E()},[E]);if(!n&&a!=="fixed"||!b)return null;var A=Le("div",ve({ref:O},nn(Ue(Ue({},e),{},{offset:b.offset,position:a,rect:b.rect}),"menuPortal",{"menu-portal":!0}),s),r);return Le(dL.Provider,{value:v},n?Jh.createPortal(A,n):A)},iwe=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},swe=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return Le("div",ve({},nn(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),n)},owe=function(e,n){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,o=e.selectProps.controlShouldRenderValue;return Ue({alignItems:"center",display:i&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},awe=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return Le("div",ve({},nn(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),n)},lwe=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},uwe=function(e){var n=e.children,r=e.innerProps;return Le("div",ve({},nn(e,"indicatorsContainer",{indicators:!0}),r),n)},s3,cwe=["size"],hwe={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},gL=function(e){var n=e.size,r=Mc(e,cwe);return Le("svg",ve({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:hwe},r))},x2=function(e){return Le(gL,ve({size:20},e),Le("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},vL=function(e){return Le(gL,ve({size:20},e),Le("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},yL=function(e,n){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return Ue({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?o.neutral60:o.neutral20,padding:s*2,":hover":{color:r?o.neutral80:o.neutral40}})},dwe=yL,fwe=function(e){var n=e.children,r=e.innerProps;return Le("div",ve({},nn(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||Le(vL,null))},pwe=yL,mwe=function(e){var n=e.children,r=e.innerProps;return Le("div",ve({},nn(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||Le(x2,null))},gwe=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return Ue({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},vwe=function(e){var n=e.innerProps;return Le("span",ve({},n,nn(e,"indicatorSeparator",{"indicator-separator":!0})))},ywe=xee(s3||(s3=Exe([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),bwe=function(e,n){var r=e.isFocused,i=e.size,s=e.theme,o=s.colors,a=s.spacing.baseUnit;return Ue({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?o.neutral60:o.neutral20,padding:a*2})},Yy=function(e){var n=e.delay,r=e.offset;return Le("span",{css:xE({animation:"".concat(ywe," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},bL=function(e){var n=e.innerProps,r=e.isRtl;return Le("div",ve({},nn(e,"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),Le(Yy,{delay:0,offset:r}),Le(Yy,{delay:160,offset:!0}),Le(Yy,{delay:320,offset:!r}))};bL.defaultProps={size:4};var xwe=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.theme,o=s.colors,a=s.borderRadius,l=s.spacing;return Ue({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:i?o.primary:o.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},wwe=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,o=e.innerProps,a=e.menuIsOpen;return Le("div",ve({ref:s},nn(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":a}),o),n)},_we=["data"],Swe=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},Ewe=function(e){var n=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,o=e.Heading,a=e.headingProps,l=e.innerProps,c=e.label,h=e.theme,f=e.selectProps;return Le("div",ve({},nn(e,"group",{group:!0}),l),Le(o,ve({},a,{selectProps:f,theme:h,getStyles:i,getClassNames:s,cx:r}),c),Le("div",null,n))},Cwe=function(e,n){var r=e.theme,i=r.colors,s=r.spacing;return Ue({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},Twe=function(e){var n=lL(e);n.data;var r=Mc(n,_we);return Le("div",ve({},nn(e,"groupHeading",{"group-heading":!0}),r))},Awe=["innerRef","isDisabled","isHidden","inputClassName"],Pwe=function(e,n){var r=e.isDisabled,i=e.value,s=e.theme,o=s.spacing,a=s.colors;return Ue(Ue({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},kwe),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:a.neutral80})},xL={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},kwe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Ue({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},xL)},Owe=function(e){return Ue({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},xL)},Iwe=function(e){var n=e.cx,r=e.value,i=lL(e),s=i.innerRef,o=i.isDisabled,a=i.isHidden,l=i.inputClassName,c=Mc(i,Awe);return Le("div",ve({},nn(e,"input",{"input-container":!0}),{"data-value":r||""}),Le("input",ve({className:n({input:!0},l),ref:s,style:Owe(a),disabled:o},c)))},Rwe=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors;return Ue({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},Mwe=function(e,n){var r=e.theme,i=r.borderRadius,s=r.colors,o=e.cropWithEllipsis;return Ue({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Fwe=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors,a=e.isFocused;return Ue({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:a?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},wL=function(e){var n=e.children,r=e.innerProps;return Le("div",r,n)},Dwe=wL,Lwe=wL;function Bwe(t){var e=t.children,n=t.innerProps;return Le("div",ve({role:"button"},n),e||Le(x2,{size:14}))}var Nwe=function(e){var n=e.children,r=e.components,i=e.data,s=e.innerProps,o=e.isDisabled,a=e.removeProps,l=e.selectProps,c=r.Container,h=r.Label,f=r.Remove;return Le(c,{data:i,innerProps:Ue(Ue({},nn(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:l},Le(h,{data:i,innerProps:Ue({},nn(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),Le(f,{data:i,innerProps:Ue(Ue({},nn(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},a),selectProps:l}))},$we=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.theme,a=o.spacing,l=o.colors;return Ue({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:s?l.neutral0:"inherit",padding:"".concat(a.baseUnit*2,"px ").concat(a.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?l.primary:l.primary50}})},Uwe=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.innerRef,a=e.innerProps;return Le("div",ve({},nn(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:o,"aria-disabled":r},a),n)},zwe=function(e,n){var r=e.theme,i=r.spacing,s=r.colors;return Ue({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},Hwe=function(e){var n=e.children,r=e.innerProps;return Le("div",ve({},nn(e,"placeholder",{placeholder:!0}),r),n)},jwe=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing,o=i.colors;return Ue({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},Wwe=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return Le("div",ve({},nn(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},Gwe={ClearIndicator:mwe,Control:wwe,DropdownIndicator:fwe,DownChevron:vL,CrossIcon:x2,Group:Ewe,GroupHeading:Twe,IndicatorsContainer:uwe,IndicatorSeparator:vwe,Input:Iwe,LoadingIndicator:bL,Menu:Zxe,MenuList:Jxe,MenuPortal:rwe,LoadingMessage:mL,NoOptionsMessage:pL,MultiValue:Nwe,MultiValueContainer:Dwe,MultiValueLabel:Lwe,MultiValueRemove:Bwe,Option:Uwe,Placeholder:Hwe,SelectContainer:swe,SingleValue:Wwe,ValueContainer:awe},Vwe=function(e){return Ue(Ue({},Gwe),e.components)},o3=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function qwe(t,e){return!!(t===e||o3(t)&&o3(e))}function Xwe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!qwe(t[n],e[n]))return!1;return!0}function Ywe(t,e){e===void 0&&(e=Xwe);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var Kwe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},a3=function(e){return Le("span",ve({css:Kwe},e))},Zwe={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.isDisabled,s=e.tabSelectsValue,o=e.context;switch(o){case"menu":return"Use Up and Down to choose options".concat(i?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,o=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,s=e.label,o=s===void 0?"":s,a=e.selectValue,l=e.isDisabled,c=e.isSelected,h=function(v,y){return v&&v.length?"".concat(v.indexOf(y)+1," of ").concat(v.length):""};if(n==="value"&&a)return"value ".concat(o," focused, ").concat(h(a,r),".");if(n==="menu"){var f=l?" disabled":"",p="".concat(c?"selected":"focused").concat(f);return"option ".concat(o," ").concat(p,", ").concat(h(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},Qwe=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,o=e.isFocused,a=e.selectValue,l=e.selectProps,c=e.id,h=l.ariaLiveMessages,f=l.getOptionLabel,p=l.inputValue,m=l.isMulti,v=l.isOptionDisabled,y=l.isSearchable,x=l.menuIsOpen,b=l.options,_=l.screenReaderStatus,w=l.tabSelectsValue,E=l["aria-label"],O=l["aria-live"],A=T.useMemo(function(){return Ue(Ue({},Zwe),h||{})},[h]),M=T.useMemo(function(){var V="";if(n&&A.onChange){var he=n.option,ce=n.options,te=n.removedValue,Z=n.removedValues,le=n.value,W=function(me){return Array.isArray(me)?null:me},R=te||he||W(le),D=R?f(R):"",Q=ce||Z||void 0,K=Q?Q.map(f):[],$=Ue({isDisabled:R&&v(R,a),label:D,labels:K},n);V=A.onChange($)}return V},[n,A,v,a,f]),L=T.useMemo(function(){var V="",he=r||i,ce=!!(r&&a&&a.includes(r));if(he&&A.onFocus){var te={focused:he,label:f(he),isDisabled:v(he,a),isSelected:ce,options:s,context:he===r?"menu":"value",selectValue:a};V=A.onFocus(te)}return V},[r,i,f,v,A,s,a]),H=T.useMemo(function(){var V="";if(x&&b.length&&A.onFilter){var he=_({count:s.length});V=A.onFilter({inputValue:p,resultsMessage:he})}return V},[s,p,x,A,b,_]),G=T.useMemo(function(){var V="";if(A.guidance){var he=i?"value":x?"menu":"input";V=A.guidance({"aria-label":E,context:he,isDisabled:r&&v(r,a),isMulti:m,isSearchable:y,tabSelectsValue:w})}return V},[E,r,i,m,v,y,x,A,a,w]),z="".concat(L," ").concat(H," ").concat(G),j=Le(T.Fragment,null,Le("span",{id:"aria-selection"},M),Le("span",{id:"aria-context"},z)),X=(n==null?void 0:n.action)==="initial-input-focus";return Le(T.Fragment,null,Le(a3,{id:c},X&&j),Le(a3,{"aria-live":O,"aria-atomic":"false","aria-relevant":"additions text"},o&&!X&&j))},Uw=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],Jwe=new RegExp("["+Uw.map(function(t){return t.letters}).join("")+"]","g"),_L={};for(var Ky=0;Ky<Uw.length;Ky++)for(var Zy=Uw[Ky],Qy=0;Qy<Zy.letters.length;Qy++)_L[Zy.letters[Qy]]=Zy.base;var SL=function(e){return e.replace(Jwe,function(n){return _L[n]})},e_e=Ywe(SL),l3=function(e){return e.replace(/^\s+|\s+$/g,"")},t_e=function(e){return"".concat(e.label," ").concat(e.value)},n_e=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=Ue({ignoreCase:!0,ignoreAccents:!0,stringify:t_e,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,o=i.ignoreAccents,a=i.stringify,l=i.trim,c=i.matchFrom,h=l?l3(r):r,f=l?l3(a(n)):a(n);return s&&(h=h.toLowerCase(),f=f.toLowerCase()),o&&(h=e_e(h),f=SL(f)),c==="start"?f.substr(0,h.length)===h:f.indexOf(h)>-1}},r_e=["innerRef"];function i_e(t){var e=t.innerRef,n=Mc(t,r_e),r=Vxe(n,"onExited","in","enter","exit","appear");return Le("input",ve({ref:e},r,{css:xE({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var s_e=function(e){e.preventDefault(),e.stopPropagation()};function o_e(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,o=T.useRef(!1),a=T.useRef(!1),l=T.useRef(0),c=T.useRef(null),h=T.useCallback(function(x,b){if(c.current!==null){var _=c.current,w=_.scrollTop,E=_.scrollHeight,O=_.clientHeight,A=c.current,M=b>0,L=E-O-w,H=!1;L>b&&o.current&&(r&&r(x),o.current=!1),M&&a.current&&(s&&s(x),a.current=!1),M&&b>L?(n&&!o.current&&n(x),A.scrollTop=E,H=!0,o.current=!0):!M&&-b>w&&(i&&!a.current&&i(x),A.scrollTop=0,H=!0,a.current=!0),H&&s_e(x)}},[n,r,i,s]),f=T.useCallback(function(x){h(x,x.deltaY)},[h]),p=T.useCallback(function(x){l.current=x.changedTouches[0].clientY},[]),m=T.useCallback(function(x){var b=l.current-x.changedTouches[0].clientY;h(x,b)},[h]),v=T.useCallback(function(x){if(x){var b=jxe?{passive:!1}:!1;x.addEventListener("wheel",f,b),x.addEventListener("touchstart",p,b),x.addEventListener("touchmove",m,b)}},[m,p,f]),y=T.useCallback(function(x){x&&(x.removeEventListener("wheel",f,!1),x.removeEventListener("touchstart",p,!1),x.removeEventListener("touchmove",m,!1))},[m,p,f]);return T.useEffect(function(){if(e){var x=c.current;return v(x),function(){y(x)}}},[e,v,y]),function(x){c.current=x}}var u3=["boxSizing","height","overflow","paddingRight","position"],c3={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function h3(t){t.preventDefault()}function d3(t){t.stopPropagation()}function f3(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function p3(){return"ontouchstart"in window||navigator.maxTouchPoints}var m3=!!(typeof window<"u"&&window.document&&window.document.createElement),ph=0,ql={capture:!1,passive:!1};function a_e(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=T.useRef({}),s=T.useRef(null),o=T.useCallback(function(l){if(m3){var c=document.body,h=c&&c.style;if(r&&u3.forEach(function(v){var y=h&&h[v];i.current[v]=y}),r&&ph<1){var f=parseInt(i.current.paddingRight,10)||0,p=document.body?document.body.clientWidth:0,m=window.innerWidth-p+f||0;Object.keys(c3).forEach(function(v){var y=c3[v];h&&(h[v]=y)}),h&&(h.paddingRight="".concat(m,"px"))}c&&p3()&&(c.addEventListener("touchmove",h3,ql),l&&(l.addEventListener("touchstart",f3,ql),l.addEventListener("touchmove",d3,ql))),ph+=1}},[r]),a=T.useCallback(function(l){if(m3){var c=document.body,h=c&&c.style;ph=Math.max(ph-1,0),r&&ph<1&&u3.forEach(function(f){var p=i.current[f];h&&(h[f]=p)}),c&&p3()&&(c.removeEventListener("touchmove",h3,ql),l&&(l.removeEventListener("touchstart",f3,ql),l.removeEventListener("touchmove",d3,ql)))}},[r]);return T.useEffect(function(){if(e){var l=s.current;return o(l),function(){a(l)}}},[e,o,a]),function(l){s.current=l}}var l_e=function(){return document.activeElement&&document.activeElement.blur()},u_e={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function c_e(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,s=t.onBottomArrive,o=t.onBottomLeave,a=t.onTopArrive,l=t.onTopLeave,c=o_e({isEnabled:i,onBottomArrive:s,onBottomLeave:o,onTopArrive:a,onTopLeave:l}),h=a_e({isEnabled:n}),f=function(m){c(m),h(m)};return Le(T.Fragment,null,n&&Le("div",{onClick:l_e,css:u_e}),e(f))}var h_e={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},d_e=function(e){var n=e.name,r=e.onFocus;return Le("input",{required:!0,name:n,tabIndex:-1,onFocus:r,css:h_e,value:"",onChange:function(){}})},f_e=function(e){return e.label},p_e=function(e){return e.label},m_e=function(e){return e.value},g_e=function(e){return!!e.isDisabled},v_e={clearIndicator:pwe,container:iwe,control:xwe,dropdownIndicator:dwe,group:Swe,groupHeading:Cwe,indicatorsContainer:lwe,indicatorSeparator:gwe,input:Pwe,loadingIndicator:bwe,loadingMessage:twe,menu:Yxe,menuList:Qxe,menuPortal:nwe,multiValue:Rwe,multiValueLabel:Mwe,multiValueRemove:Fwe,noOptionsMessage:ewe,option:$we,placeholder:zwe,singleValue:jwe,valueContainer:owe},y_e={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},b_e=4,EL=4,x_e=38,w_e=EL*2,__e={baseUnit:EL,controlHeight:x_e,menuGutter:w_e},Jy={borderRadius:b_e,colors:y_e,spacing:__e},S_e={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:i3(),captureMenuScroll:!i3(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:n_e(),formatGroupLabel:f_e,getOptionLabel:p_e,getOptionValue:m_e,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:g_e,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!zxe(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function g3(t,e,n,r){var i=PL(t,e,n),s=kL(t,e,n),o=AL(t,e),a=Ng(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:o,value:a,index:r}}function CL(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(o,a){return g3(t,o,e,a)}).filter(function(o){return v3(t,o)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=g3(t,n,e,r);return v3(t,s)?s:void 0}).filter(Wxe)}function TL(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,eL(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function E_e(t,e){return TL(CL(t,e))}function v3(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,s=e.isSelected,o=e.label,a=e.value;return(!IL(t)||!s)&&OL(t,{label:o,value:a,data:i},r)}function C_e(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var s=e.indexOf(n);if(s>-1)return n;if(i<e.length)return e[i]}return null}function T_e(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var AL=function(e,n){return e.getOptionLabel(n)},Ng=function(e,n){return e.getOptionValue(n)};function PL(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function kL(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=Ng(t,e);return n.some(function(i){return Ng(t,i)===r})}function OL(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var IL=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},A_e=1,RL=function(t){gxe(n,t);var e=xxe(n);function n(r){var i;if(pxe(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.instancePrefix="",i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.controlRef=null,i.getControlRef=function(a){i.controlRef=a},i.focusedOptionRef=null,i.getFocusedOptionRef=function(a){i.focusedOptionRef=a},i.menuListRef=null,i.getMenuListRef=function(a){i.menuListRef=a},i.inputRef=null,i.getInputRef=function(a){i.inputRef=a},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(a,l){var c=i.props,h=c.onChange,f=c.name;l.name=f,i.ariaOnChange(a,l),h(a,l)},i.setValue=function(a,l,c){var h=i.props,f=h.closeMenuOnSelect,p=h.isMulti,m=h.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:m}),f&&(i.setState({inputIsHiddenAfterUpdate:!p}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(a,{action:l,option:c})},i.selectOption=function(a){var l=i.props,c=l.blurInputOnSelect,h=l.isMulti,f=l.name,p=i.state.selectValue,m=h&&i.isOptionSelected(a,p),v=i.isOptionDisabled(a,p);if(m){var y=i.getOptionValue(a);i.setValue(p.filter(function(x){return i.getOptionValue(x)!==y}),"deselect-option",a)}else if(!v)h?i.setValue([].concat(eL(p),[a]),"select-option",a):i.setValue(a,"select-option");else{i.ariaOnChange(a,{action:"select-option",option:a,name:f});return}c&&i.blurInput()},i.removeValue=function(a){var l=i.props.isMulti,c=i.state.selectValue,h=i.getOptionValue(a),f=c.filter(function(m){return i.getOptionValue(m)!==h}),p=Wp(l,f,f[0]||null);i.onChange(p,{action:"remove-value",removedValue:a}),i.focusInput()},i.clearValue=function(){var a=i.state.selectValue;i.onChange(Wp(i.props.isMulti,[],null),{action:"clear",removedValues:a})},i.popValue=function(){var a=i.props.isMulti,l=i.state.selectValue,c=l[l.length-1],h=l.slice(0,l.length-1),f=Wp(a,h,h[0]||null);i.onChange(f,{action:"pop-value",removedValue:c})},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return Lxe.apply(void 0,[i.props.classNamePrefix].concat(l))},i.getOptionLabel=function(a){return AL(i.props,a)},i.getOptionValue=function(a){return Ng(i.props,a)},i.getStyles=function(a,l){var c=i.props.unstyled,h=v_e[a](l,c);h.boxSizing="border-box";var f=i.props.styles[a];return f?f(h,l):h},i.getClassNames=function(a,l){var c,h;return(c=(h=i.props.classNames)[a])===null||c===void 0?void 0:c.call(h,l)},i.getElementId=function(a){return"".concat(i.instancePrefix,"-").concat(a)},i.getComponents=function(){return Vwe(i.props)},i.buildCategorizedOptions=function(){return CL(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return TL(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(a,l){i.setState({ariaSelection:Ue({value:a},l)})},i.onMenuMouseDown=function(a){a.button===0&&(a.stopPropagation(),a.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(a){i.blockOptionHover=!1},i.onControlMouseDown=function(a){if(!a.defaultPrevented){var l=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&i.onMenuClose():l&&i.openMenu("first"):(l&&(i.openAfterFocus=!0),i.focusInput()),a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&a.preventDefault()}},i.onDropdownIndicatorMouseDown=function(a){if(!(a&&a.type==="mousedown"&&a.button!==0)&&!i.props.isDisabled){var l=i.props,c=l.isMulti,h=l.menuIsOpen;i.focusInput(),h?(i.setState({inputIsHiddenAfterUpdate:!c}),i.onMenuClose()):i.openMenu("first"),a.preventDefault()}},i.onClearIndicatorMouseDown=function(a){a&&a.type==="mousedown"&&a.button!==0||(i.clearValue(),a.preventDefault(),i.openAfterFocus=!1,a.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(a){typeof i.props.closeMenuOnScroll=="boolean"?a.target instanceof HTMLElement&&y0(a.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(a)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(a){var l=a.touches,c=l&&l.item(0);c&&(i.initialTouchX=c.clientX,i.initialTouchY=c.clientY,i.userIsDragging=!1)},i.onTouchMove=function(a){var l=a.touches,c=l&&l.item(0);if(c){var h=Math.abs(c.clientX-i.initialTouchX),f=Math.abs(c.clientY-i.initialTouchY),p=5;i.userIsDragging=h>p||f>p}},i.onTouchEnd=function(a){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(a.target)&&i.menuListRef&&!i.menuListRef.contains(a.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(a){i.userIsDragging||i.onControlMouseDown(a)},i.onClearIndicatorTouchEnd=function(a){i.userIsDragging||i.onClearIndicatorMouseDown(a)},i.onDropdownIndicatorTouchEnd=function(a){i.userIsDragging||i.onDropdownIndicatorMouseDown(a)},i.handleInputChange=function(a){var l=i.props.inputValue,c=a.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(c,{action:"input-change",prevInputValue:l}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(a){i.props.onFocus&&i.props.onFocus(a),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(a){var l=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(a),i.onInputChange("",{action:"input-blur",prevInputValue:l}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(a){i.blockOptionHover||i.state.focusedOption===a||i.setState({focusedOption:a})},i.shouldHideSelectedOptions=function(){return IL(i.props)},i.onValueInputFocus=function(a){a.preventDefault(),a.stopPropagation(),i.focus()},i.onKeyDown=function(a){var l=i.props,c=l.isMulti,h=l.backspaceRemovesValue,f=l.escapeClearsValue,p=l.inputValue,m=l.isClearable,v=l.isDisabled,y=l.menuIsOpen,x=l.onKeyDown,b=l.tabSelectsValue,_=l.openMenuOnFocus,w=i.state,E=w.focusedOption,O=w.focusedValue,A=w.selectValue;if(!v&&!(typeof x=="function"&&(x(a),a.defaultPrevented))){switch(i.blockOptionHover=!0,a.key){case"ArrowLeft":if(!c||p)return;i.focusValue("previous");break;case"ArrowRight":if(!c||p)return;i.focusValue("next");break;case"Delete":case"Backspace":if(p)return;if(O)i.removeValue(O);else{if(!h)return;c?i.popValue():m&&i.clearValue()}break;case"Tab":if(i.isComposing||a.shiftKey||!y||!b||!E||_&&i.isOptionSelected(E,A))return;i.selectOption(E);break;case"Enter":if(a.keyCode===229)break;if(y){if(!E||i.isComposing)return;i.selectOption(E);break}return;case"Escape":y?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:p}),i.onMenuClose()):m&&f&&i.clearValue();break;case" ":if(p)return;if(!y){i.openMenu("first");break}if(!E)return;i.selectOption(E);break;case"ArrowUp":y?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":y?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!y)return;i.focusOption("pageup");break;case"PageDown":if(!y)return;i.focusOption("pagedown");break;case"Home":if(!y)return;i.focusOption("first");break;case"End":if(!y)return;i.focusOption("last");break;default:return}a.preventDefault()}},i.instancePrefix="react-select-"+(i.props.instanceId||++A_e),i.state.selectValue=n3(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.buildFocusableOptions(),o=s.indexOf(i.state.selectValue[0]);i.state.focusedOption=s[o]}return i}return mxe(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&r3(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isDisabled,a=s.menuIsOpen,l=this.state.isFocused;(l&&!o&&i.isDisabled||l&&a&&!i.menuIsOpen)&&this.focusInput(),l&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(r3(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,o=this.state,a=o.selectValue,l=o.isFocused,c=this.buildFocusableOptions(),h=i==="first"?0:c.length-1;if(!this.props.isMulti){var f=c.indexOf(a[0]);f>-1&&(h=f)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:c[h]},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,o=s.selectValue,a=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=o.indexOf(a);a||(l=-1);var c=o.length-1,h=-1;if(o.length){switch(i){case"previous":l===0?h=0:l===-1?h=c:h=l-1;break;case"next":l>-1&&l<c&&(h=l+1);break}this.setState({inputIsHidden:h!==-1,focusedValue:o[h]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var l=0,c=a.indexOf(o);o||(c=-1),i==="up"?l=c>0?c-1:a.length-1:i==="down"?l=(c+1)%a.length:i==="pageup"?(l=c-s,l<0&&(l=0)):i==="pagedown"?(l=c+s,l>a.length-1&&(l=a.length-1)):i==="last"&&(l=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[l],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Jy):Ue(Ue({},Jy),this.props.theme):Jy}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,o=this.getStyles,a=this.getClassNames,l=this.getValue,c=this.selectOption,h=this.setValue,f=this.props,p=f.isMulti,m=f.isRtl,v=f.options,y=this.hasValue();return{clearValue:i,cx:s,getStyles:o,getClassNames:a,getValue:l,hasValue:y,isMulti:p,isRtl:m,options:v,selectOption:c,selectProps:f,setValue:h,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,o=i.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(i,s){return PL(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return kL(this.props,i,s)}},{key:"filterOption",value:function(i,s){return OL(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:o,selectValue:a})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,o=i.isSearchable,a=i.inputId,l=i.inputValue,c=i.tabIndex,h=i.form,f=i.menuIsOpen,p=i.required,m=this.getComponents(),v=m.Input,y=this.state,x=y.inputIsHidden,b=y.ariaSelection,_=this.commonProps,w=a||this.getElementId("input"),E=Ue(Ue(Ue({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":p,role:"combobox"},f&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(b==null?void 0:b.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?T.createElement(v,ve({},_,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:w,innerRef:this.getInputRef,isDisabled:s,isHidden:x,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:c,form:h,type:"text",value:l},E)):T.createElement(i_e,ve({id:w,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Lg,onFocus:this.onInputFocus,disabled:s,tabIndex:c,inputMode:"none",form:h,value:""},E))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),o=s.MultiValue,a=s.MultiValueContainer,l=s.MultiValueLabel,c=s.MultiValueRemove,h=s.SingleValue,f=s.Placeholder,p=this.commonProps,m=this.props,v=m.controlShouldRenderValue,y=m.isDisabled,x=m.isMulti,b=m.inputValue,_=m.placeholder,w=this.state,E=w.selectValue,O=w.focusedValue,A=w.isFocused;if(!this.hasValue()||!v)return b?null:T.createElement(f,ve({},p,{key:"placeholder",isDisabled:y,isFocused:A,innerProps:{id:this.getElementId("placeholder")}}),_);if(x)return E.map(function(L,H){var G=L===O,z="".concat(i.getOptionLabel(L),"-").concat(i.getOptionValue(L));return T.createElement(o,ve({},p,{components:{Container:a,Label:l,Remove:c},isFocused:G,isDisabled:y,key:z,index:H,removeProps:{onClick:function(){return i.removeValue(L)},onTouchEnd:function(){return i.removeValue(L)},onMouseDown:function(X){X.preventDefault()}},data:L}),i.formatOptionLabel(L,"value"))});if(b)return null;var M=E[0];return T.createElement(h,ve({},p,{data:M,isDisabled:y}),this.formatOptionLabel(M,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,c=a.isLoading,h=this.state.isFocused;if(!this.isClearable()||!s||l||!this.hasValue()||c)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return T.createElement(s,ve({},o,{innerProps:f,isFocused:h}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,c=a.isLoading,h=this.state.isFocused;if(!s||!c)return null;var f={"aria-hidden":"true"};return T.createElement(s,ve({},o,{innerProps:f,isDisabled:l,isFocused:h}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,o=i.IndicatorSeparator;if(!s||!o)return null;var a=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused;return T.createElement(o,ve({},a,{isDisabled:l,isFocused:c}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var o=this.commonProps,a=this.props.isDisabled,l=this.state.isFocused,c={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return T.createElement(s,ve({},o,{innerProps:c,isDisabled:a,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),o=s.Group,a=s.GroupHeading,l=s.Menu,c=s.MenuList,h=s.MenuPortal,f=s.LoadingMessage,p=s.NoOptionsMessage,m=s.Option,v=this.commonProps,y=this.state.focusedOption,x=this.props,b=x.captureMenuScroll,_=x.inputValue,w=x.isLoading,E=x.loadingMessage,O=x.minMenuHeight,A=x.maxMenuHeight,M=x.menuIsOpen,L=x.menuPlacement,H=x.menuPosition,G=x.menuPortalTarget,z=x.menuShouldBlockScroll,j=x.menuShouldScrollIntoView,X=x.noOptionsMessage,V=x.onMenuScrollToTop,he=x.onMenuScrollToBottom;if(!M)return null;var ce=function(Q,K){var $=Q.type,ne=Q.data,me=Q.isDisabled,Re=Q.isSelected,ke=Q.label,Ke=Q.value,Xe=y===ne,nt=me?void 0:function(){return i.onOptionHover(ne)},Pe=me?void 0:function(){return i.selectOption(ne)},st="".concat(i.getElementId("option"),"-").concat(K),gt={id:st,onClick:Pe,onMouseMove:nt,onMouseOver:nt,tabIndex:-1};return T.createElement(m,ve({},v,{innerProps:gt,data:ne,isDisabled:me,isSelected:Re,key:st,label:ke,type:$,value:Ke,isFocused:Xe,innerRef:Xe?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(Q.data,"menu"))},te;if(this.hasOptions())te=this.getCategorizedOptions().map(function(D){if(D.type==="group"){var Q=D.data,K=D.options,$=D.index,ne="".concat(i.getElementId("group"),"-").concat($),me="".concat(ne,"-heading");return T.createElement(o,ve({},v,{key:ne,data:Q,options:K,Heading:a,headingProps:{id:me,data:D.data},label:i.formatGroupLabel(D.data)}),D.options.map(function(Re){return ce(Re,"".concat($,"-").concat(Re.index))}))}else if(D.type==="option")return ce(D,"".concat(D.index))});else if(w){var Z=E({inputValue:_});if(Z===null)return null;te=T.createElement(f,v,Z)}else{var le=X({inputValue:_});if(le===null)return null;te=T.createElement(p,v,le)}var W={minMenuHeight:O,maxMenuHeight:A,menuPlacement:L,menuPosition:H,menuShouldScrollIntoView:j},R=T.createElement(Kxe,ve({},v,W),function(D){var Q=D.ref,K=D.placerProps,$=K.placement,ne=K.maxHeight;return T.createElement(l,ve({},v,W,{innerRef:Q,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove,id:i.getElementId("listbox")},isLoading:w,placement:$}),T.createElement(c_e,{captureEnabled:b,onTopArrive:V,onBottomArrive:he,lockEnabled:z},function(me){return T.createElement(c,ve({},v,{innerRef:function(ke){i.getMenuListRef(ke),me(ke)},isLoading:w,maxHeight:ne,focusedOption:y}),te)}))});return G||H==="fixed"?T.createElement(h,ve({},v,{appendTo:G,controlElement:this.controlRef,menuPlacement:L,menuPosition:H}),R):R}},{key:"renderFormField",value:function(){var i=this,s=this.props,o=s.delimiter,a=s.isDisabled,l=s.isMulti,c=s.name,h=s.required,f=this.state.selectValue;if(!(!c||a)){if(h&&!this.hasValue())return T.createElement(d_e,{name:c,onFocus:this.onValueInputFocus});if(l)if(o){var p=f.map(function(y){return i.getOptionValue(y)}).join(o);return T.createElement("input",{name:c,type:"hidden",value:p})}else{var m=f.length>0?f.map(function(y,x){return T.createElement("input",{key:"i-".concat(x),name:c,type:"hidden",value:i.getOptionValue(y)})}):T.createElement("input",{name:c,type:"hidden",value:""});return T.createElement("div",null,m)}else{var v=f[0]?this.getOptionValue(f[0]):"";return T.createElement("input",{name:c,type:"hidden",value:v})}}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,o=s.ariaSelection,a=s.focusedOption,l=s.focusedValue,c=s.isFocused,h=s.selectValue,f=this.getFocusableOptions();return T.createElement(Qwe,ve({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:a,focusedValue:l,isFocused:c,selectValue:h,focusableOptions:f}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,o=i.IndicatorsContainer,a=i.SelectContainer,l=i.ValueContainer,c=this.props,h=c.className,f=c.id,p=c.isDisabled,m=c.menuIsOpen,v=this.state.isFocused,y=this.commonProps=this.getCommonProps();return T.createElement(a,ve({},y,{className:h,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:p,isFocused:v}),this.renderLiveRegion(),T.createElement(s,ve({},y,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:p,isFocused:v,menuIsOpen:m}),T.createElement(l,ve({},y,{isDisabled:p}),this.renderPlaceholderOrValue(),this.renderInput()),T.createElement(o,ve({},y,{isDisabled:p}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var o=s.prevProps,a=s.clearFocusValueOnUpdate,l=s.inputIsHiddenAfterUpdate,c=s.ariaSelection,h=s.isFocused,f=s.prevWasFocused,p=i.options,m=i.value,v=i.menuIsOpen,y=i.inputValue,x=i.isMulti,b=n3(m),_={};if(o&&(m!==o.value||p!==o.options||v!==o.menuIsOpen||y!==o.inputValue)){var w=v?E_e(i,b):[],E=a?C_e(s,b):null,O=T_e(s,w);_={selectValue:b,focusedOption:O,focusedValue:E,clearFocusValueOnUpdate:!1}}var A=l!=null&&i!==o?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},M=c,L=h&&f;return h&&!L&&(M={value:Wp(x,b,b[0]||null),options:b,action:"initial-input-focus"},L=!f),(c==null?void 0:c.action)==="initial-input-focus"&&(M=null),Ue(Ue(Ue({},_),A),{},{prevProps:i,ariaSelection:M,prevWasFocused:L})}}]),n}(T.Component);RL.defaultProps=S_e;var P_e=T.forwardRef(function(t,e){var n=fxe(t);return T.createElement(RL,ve({ref:e},n))});const bf=P_e,eb=(t="transparent")=>({alignItems:"center",display:"flex",":before":{backgroundColor:t,borderRadius:10,content:'" "',display:"block",marginRight:8,height:10,width:10}}),Aa={color:"var(--textColor)"},k_e={backgroundColor:"var(--panelColor2)"},xf=t=>({menu:e=>({...e,...Aa,...k_e}),valueContainer:e=>({...e,backgroundColor:"transparent",...Aa}),indicatorSeparator:e=>({...e,backgroundColor:"var(--supermutedText)"}),control:e=>({...e,...Aa,backgroundColor:"transparent",borderColor:"var(--supermutedText)"}),option:(e,{data:n,isDisabled:r,isFocused:i,isSelected:s})=>({...e,...Aa,backgroundColor:s?"var(--panelColor)":"var(--panelColor2)",":hover":{backgroundColor:"var(--panelColor)"},":focus":{backgroundColor:"var(--panelColor)"},...(t==null?void 0:t.dot)&&eb(n[t==null?void 0:t.colorProp])}),input:e=>({...e,...Aa,...(t==null?void 0:t.dot)&&eb()}),placeholder:e=>({...e,...Aa}),singleValue:(e,{data:n})=>({...e,...Aa,...(t==null?void 0:t.dot)&&eb(n[t==null?void 0:t.colorProp])})});function y3(t,e){return Ge(t,{value:e})}function O_e(t){return ze(t,e=>({value:e.id,label:e.name}))}function ML({valueChanged:t,defaultValue:e}){const{abilityTypes:n}=T.useContext(tr),[r,i]=T.useState(O_e(n));return k(bf,{className:"ability-select",styles:xf(),options:r,onChange:s=>t(s==null?void 0:s.value),defaultValue:e?y3(r,e):null,value:y3(r,e)})}function b3(t,e){t&&e&&mt(Object.keys(t),n=>{e[n]&&e[n]})}function FL({tags:t,tagsChanged:e,showTypeSelect:n=!1,type:r=void 0,typeChanged:i=void 0}){const{tagColors:s,setTagColors:o}=T.useContext(cf),[a,l]=T.useState(t||[]),[c,h]=T.useState(r),[f,p]=T.useState(b3(t,s)||{}),[m,v]=T.useState(null);T.useEffect(()=>{p(b3(t,s)||{})},[s]);const y=(E,O)=>{let A=[...a];A[O]=E,l(A),e(A)},x=()=>{l([...a,""]),e([...a,""]),v(t==null?void 0:t.length)},b=E=>{let O=[...a];O.splice(E,1),l(O),e(O)},_=E=>{h(E),qi(i)&&i(E)},w=(E,O)=>{o({type:"add",color:E,tag:O})};return J("div",{className:"tag-select",children:[n&&k(ML,{defaultValue:r,valueChanged:_}),a==null?void 0:a.map((E,O)=>J("span",{className:"stat-tag form-control",style:{borderColor:s[E]},children:[k("div",{className:"tag-color",children:k(ac,{color:s[E],colorChanged:A=>w(A,E)})}),k(os,{autoFocus:m===O,value:E,valueChanged:A=>y(A,O)}),k(Et,{clicked:()=>b(O),children:"x"})]},O)),k("button",{className:"add-tag",onClick:x,children:k(_g,{size:18})})]})}var I_e=function(e){var n=T.useRef(e);return Dg(function(){n.current=e}),n},x3=function(e,n){if(typeof e=="function"){e(n);return}e.current=n},R_e=function(e,n){var r=T.useRef();return T.useCallback(function(i){e.current=i,r.current&&x3(r.current,null),r.current=n,n&&x3(n,i)},[n])},w3={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},_3=function(e){Object.keys(w3).forEach(function(n){e.style.setProperty(n,w3[n],"important")})},Pr=null,M_e=function(e,n){var r=e.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function F_e(t,e,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),Pr||(Pr=document.createElement("textarea"),Pr.setAttribute("tabindex","-1"),Pr.setAttribute("aria-hidden","true"),_3(Pr)),Pr.parentNode===null&&document.body.appendChild(Pr);var i=t.paddingSize,s=t.borderSize,o=t.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(p){var m=p;Pr.style[m]=o[m]}),_3(Pr),Pr.value=e;var l=M_e(Pr,t);Pr.value="x";var c=Pr.scrollHeight-i,h=c*n;a==="border-box"&&(h=h+i+s),l=Math.max(h,l);var f=c*r;return a==="border-box"&&(f=f+i+s),l=Math.min(f,l),[l,c]}var S3=function(){},D_e=function(e,n){return e.reduce(function(r,i){return r[i]=n[i],r},{})},L_e=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],B_e=!!document.documentElement.currentStyle,N_e=function(e){var n=window.getComputedStyle(e);if(n===null)return null;var r=D_e(L_e,n),i=r.boxSizing;if(i==="")return null;B_e&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},$_e=function(e){var n=I_e(e);T.useLayoutEffect(function(){var r=function(s){n.current(s)};return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}},[])},U_e=function(e,n){var r=e.cacheMeasurements,i=e.maxRows,s=e.minRows,o=e.onChange,a=o===void 0?S3:o,l=e.onHeightChange,c=l===void 0?S3:l,h=Hr(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),f=h.value!==void 0,p=T.useRef(null),m=R_e(p,n),v=T.useRef(0),y=T.useRef(),x=function(){var w=p.current,E=r&&y.current?y.current:N_e(w);if(E){y.current=E;var O=F_e(E,w.value||w.placeholder||"x",s,i),A=O[0],M=O[1];v.current!==A&&(v.current=A,w.style.setProperty("height",A+"px","important"),c(A,{rowHeight:M}))}},b=function(w){f||x(),a(w)};return T.useLayoutEffect(x),$_e(x),T.createElement("textarea",ve({},h,{onChange:b,ref:m}))},z_e=T.forwardRef(U_e);const DL=z_e;function E3(t,e){return Ge(t,{value:e})}function H_e(t,e){return ze(t,r=>{var i;return{value:r.id,label:r.name,typeColor:((i=Ge(e,{id:r.type}))==null?void 0:i.color)||"#ffffff"}})}function C3(t,e,n,r){const i=vi(er(H_e(e,r),s=>!tf(t,s.value)),"label");return n?[{value:null,label:"(None)"},...i]:i}function LL({usedOptions:t,valueChanged:e,defaultValue:n,showEmptyOption:r=!1}){const{abilities:i,abilityTypes:s}=T.useContext(tr),[o,a]=T.useState(C3(t,i,r,s));return k(bf,{className:"ability-select",styles:xf({dot:!0,colorProp:"typeColor"}),options:C3(t,i,r,s),onChange:l=>e(l==null?void 0:l.value),defaultValue:n?E3(o,n):null,value:E3(o,n)})}function T3(t={}){return t?ze(Object.keys(t),e=>({name:e,value:t[e]})):[]}function A3(t){let e={};return mt(t,n=>{e[n.name]=n.value}),e}function j_e({ability:t,abilityChanged:e,editingCanceled:n,abilityRemoved:r,abilityCopied:i}){const{setAbilities:s}=T.useContext(tr),[o,a]=T.useState(t.id),[l,c]=T.useState(t),[h,f]=T.useState(T3(t.params)),p=T.useRef(null);T.useEffect(()=>{var E;(E=p.current)==null||E.focus(),setTimeout(()=>{var O;(O=p.current)==null||O.scrollIntoView({block:"start"})})},[]),T.useEffect(()=>{f(T3(t.params))},[t]);const m=(E,O)=>{c({...l,[E]:O})},v=E=>{c({...l,tags:E})},y=E=>{c({...l,type:E})},x=E=>{f(E)},b=()=>{qi(e)&&e({ability:{...l,params:A3(h)},id:t.id}),s({type:"update",ability:{...l,params:A3(h),tags:Dk(l.tags)},targetId:o}),s({type:"save"})},_=()=>{qi(r)&&r(t.id)},w=()=>{const E=`${t.id}-copy`;b(),s({type:"add",ability:{...l,tags:Dk(l.tags),id:E,name:`${t.name} Copy`}}),qi(i)&&i({id:E})};return J("div",{className:"ability-card editable",children:[J("div",{className:"name",children:[k(Et,{color:"info",clicked:()=>{qi(n)&&n()},children:k(rE,{})}),k("div",{className:"form-control",children:k("input",{ref:p,type:"text",value:l.name,onChange:E=>m("name",E.target.value)})})]}),J("div",{className:"replaces",children:[k("div",{className:"replaces-name",children:"Replaces"}),k(LL,{usedOptions:[l.id],defaultValue:l.replaces,valueChanged:E=>m("replaces",E),showEmptyOption:!0})]}),J("p",{className:"description form-control",children:[" ",k(DL,{placeholder:"Description",rows:10,value:l.description||"",onChange:E=>m("description",E.target.value)})]}),J("div",{className:"ability-type",children:[k("div",{children:"Type"}),k(ML,{defaultValue:l.type,valueChanged:y})]}),J("div",{className:"accordions",children:[k(bn,{name:"Tags",startOpen:!0,children:k("div",{className:"tags",children:k(FL,{tags:l.tags,tagsChanged:v})})}),k(bn,{name:"Params",startOpen:!0,children:k("div",{className:"params",children:k(nae,{params:h,paramsChanged:x})})})]}),J("div",{className:"buttons",children:[J(es,{type:"outline",color:"success",clicked:b,children:["Save ",k(ll,{})]}),J(es,{type:"outline",color:"theme",clicked:w,children:["Save & Copy ",k(uQ,{})]}),J(es,{type:"outline",color:"danger",clicked:_,children:["Delete ",k(wo,{})]})]})]})}function W_e(t){let e={};mt(t,n=>{e[n.id]=n.modifier})}function P3(t,e,n){const s=n?/{@([^}]*)}([^]*?){\/\1}/g:/{([^}]*)}([^]*?){\/\1}/g,o=l=>{let c=!1;return{fixedString:l.replace(s,(f,p,m)=>(c=!!f,e[p]>0?m:"")),hasMatch:c}},a=l=>{let{fixedString:c,hasMatch:h}=o(l);return h?a(c):c};return a(t)}function G_e(t,e,n){let r=t;return r=P3(r,e,!1),mt(Object.keys(e),i=>{let s=e[i];r=r.replace(new RegExp("%"+i+"%","g"),s)}),n&&(r=P3(r,n,!0),mt(Object.keys(n),i=>{let s=n[i];r=r.replace(new RegExp(`%@${i}%`,"g"),s)})),r}function k3(t,e,n){let r,i=ut(t.params);return i&&e&&mt(Object.keys(i),s=>{e[s]&&(i[s]=i[s]+e[s])}),t.params?r=G_e(t.description,i,n):qi(t.description)?r=t.description({}):r=t.description,r}function Td({ability:t,modifiers:e,tags:n,startOpen:r=!0,editable:i=!1,abilityCopied:s,abilityRemoved:o,forceIsEditing:a=!1,isExpanded:l}){var j,X,V,he,ce;const{abilityTypes:c,globalParams:h}=T.useContext(tr),{build:f}=T.useContext(us),{abilities:p}=T.useContext(tr),{tagColors:m,setTagColors:v}=T.useContext(cf),[y,x]=T.useState(Fr(f==null?void 0:f.globalParams)?W_e(h):f.globalParams),[b,_]=T.useState(k3(t,e,y)),[w,E]=T.useState(r),[O,A]=T.useState(!1),[M,L]=T.useState((j=Ge(c,{id:t.type}))==null?void 0:j.color);T.useEffect(()=>{x(f.globalParams)},[f]),T.useEffect(()=>{Fr(l)||E(!!l)},[l]),T.useEffect(()=>{a&&A(!0)},[a]);const H=te=>{A(!1),v({type:"save"})},G=te=>{s(te)},z=te=>{A(!1),o(te)};return T.useEffect(()=>{_(k3(t,e,y))},[t,e]),O?k(j_e,{ability:t,abilityChanged:H,editingCanceled:()=>A(!1),abilityCopied:G,abilityRemoved:z}):J("div",{className:"ability-card",style:{borderColor:M},children:[J("div",{className:"name",children:[i&&k(Et,{color:"mutedText",clicked:()=>A(!O),children:k(qS,{})}),J("button",{className:"card-title",onClick:()=>E(!w),children:[J("div",{className:"left",children:[t.name,k("div",{className:"dots",children:!w&&ze(t.tags,te=>k("span",{className:"dot",style:{backgroundColor:m[te]}},te))})]}),k("div",{className:"chevron",children:w?k(VF,{}):k(GF,{})})]})]}),w?J("div",{className:"collapsible-content",children:[J("div",{className:"top",children:[t.replaces&&J("div",{className:"replaces",children:["Replaces"," ",k("span",{children:(X=Ge(p,{id:t.replaces}))==null?void 0:X.name})]}),k(s5,{className:"description",components:{code:({node:te,...Z})=>k("span",{style:{color:"var(--themeColorText)",fontWeight:500},...Z}),ol:({node:te,...Z})=>k("ol",{style:{margin:"0"},...Z}),p:({node:te,...Z})=>k("p",{style:{margin:"0"},...Z}),strong:({node:te,...Z})=>k("strong",{style:{color:"var(--textColor)",fontWeight:700},...Z}),em:({node:te,...Z})=>k("i",{style:{color:"var(--infoColor)",fontWeight:400},...Z})},children:b})]}),k("div",{className:"bottom",children:J("div",{className:"tags",children:[k(Pg,{color:((V=Ge(c,{id:t.type}))==null?void 0:V.color)||"#ffffff",label:(he=Ge(c,{id:t.type}))==null?void 0:he.name,emphasize:!0}),(ce=vi(al([...t.tags||[],...n||[]])))==null?void 0:ce.map(te=>k(Pg,{label:te},te))]})})]}):""]})}function O3({label:t,value:e}){return J("div",{className:"stat-line",children:[J("span",{className:"label",children:[t,": "]}),k("span",{className:"value",children:e})]})}function zw(){return zw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zw.apply(this,arguments)}var V_e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?T.useLayoutEffect:T.useEffect;function Hw(t){var e=t.breakpoints,n=t.ignoreDimensions,r=n===void 0?!0:n,i=Object.keys(e)[0],s=T.useState({activeBreakpoint:i,width:0}),o=s[0],a=s[1],l=T.useRef(null),c=T.useRef(null),h=T.useCallback(function(m,v){for(var y,x=0,b=Object.entries(e);x<b.length;x++){var _=b[x],w=_[0],E=_[1],O=E[0],A=E[1];if(v>=O){if(A===void 0){y=w;break}else if(v<=A){y=w;break}}}return{activeBreakpoint:y||m,width:v}},[e]),f=T.useCallback(function(m){var v=m[0],y;if(v.borderBoxSize?y=Math.round(Array.isArray(v.borderBoxSize)?v.borderBoxSize[0].inlineSize:v.borderBoxSize.inlineSize):y=Math.round(v.contentRect.width),r){var x=h(o.activeBreakpoint,y),b=x.activeBreakpoint;b!==o.activeBreakpoint&&a(function(_){return zw({},_,{activeBreakpoint:b})})}else a(h(o.activeBreakpoint,y))},[o.activeBreakpoint,r,h]);V_e(function(){return l.current||(l.current=new ResizeObserver(f)),c.current&&l.current.observe(c.current,{box:"border-box"}),function(){var m;(m=l.current)==null||m.disconnect(),l.current=null}},[f]);var p=T.useCallback(function(m){if(c.current){var v;(v=l.current)==null||v.unobserve(c.current)}if(c.current=m,m){var y;(y=l.current)==null||y.observe(m)}},[]);return{ref:p,width:o.width,active:o.activeBreakpoint}}const w2=T.createContext({}),$g=({children:t})=>{const[e,n]=T.useState({textFilter:"",tags:[]});return k(w2.Provider,{value:{filters:e,setFilters:n},children:t})};function q_e({tags:t}){const{filters:e,setFilters:n}=T.useContext(w2),r=i=>{e.tags.includes(i)?n({...e,tags:e.tags.filter(s=>s!==i)}):n({...e,tags:[...e.tags,i]})};return t?k("div",{className:"tag-filters",children:t.map(i=>k(Pg,{label:i,clicked:r,selected:tf(e.tags,i)},i))}):k("div",{})}function Ug({tags:t,expanded:e,filtersUpdated:n,name:r="filters"}){const{filters:i,setFilters:s}=T.useContext(w2),[o,a]=T.useState(e),l=()=>{s({tags:[],textFilter:""})};return T.useEffect(()=>{n(i)},[i]),o?J("div",{className:"ability-filters open",children:[k(os,{fullWidth:!0,placeholder:"Filter by name",minWidth:200,className:"text-filter",value:i==null?void 0:i.textFilter,valueChanged:c=>s({...i,textFilter:c})}),k("div",{className:"tag-filters",children:k(q_e,{tags:t})}),J("div",{className:"controls",children:[J(Et,{color:"theme",noPadding:!0,clicked:l,disabled:!i.tags.length&&!i.textFilter.length,children:[k(rE,{size:18}),"reset"]}),k(Et,{color:"mutedText",clicked:()=>a(!o),children:k(PQ,{size:18})})]})]}):k("div",{className:"ability-filters closed",children:J("button",{onClick:()=>a(!o),className:"controls",children:[r,k(_g,{size:18})]})})}function X_e(t){return ze(er(t.abilities,e=>!e.replaced&&e.learned),e=>({...e}))}function I3(t,e){let n=t;return e?n=er(t,r=>{var s,o;let i=!0;return(s=e.tags)!=null&&s.length&&(i=IS(e.tags,r.tags).length===0),(o=e.textFilter)!=null&&o.length&&(i=i&&r.name.toLowerCase().includes(e.textFilter.toLowerCase())),i}):n=t,vi(n,"name")}const R3={small:[0,600],med:[600,900],large:[901,1150],xl:[1151,1400],xxl:[1401,1600],xxxl:[1601,2e3]};function M3(t){return{small:1,med:2,large:3,xl:4,xxl:5,xxxl:6}[t]}function Y_e(t,e){let n=X_e(t),r=VK(n,"type"),i={},s=[];return mt(n,o=>{i[o.name]=o.tags}),mt(Object.keys(r),o=>{let a=[];mt(r[o],l=>{const c=l.id;l.ability=Ge(e,{id:c}),l.tags&&(a=al([...a,...l.tags]))}),s=al([...s,...a]),i[o]=vi(a)}),{abilityTags:i,knownAbilities:n,knownAbilitiesByType:r,allAbilityTags:s}}function K_e(){var z;const{build:t}=T.useContext(us),{abilityTypes:e,abilities:n}=T.useContext(tr),[r,i]=T.useState({}),[s,o]=T.useState({}),[a,l]=T.useState({}),[c,h]=T.useState([]),{stats:f}=T.useContext(af),[p,m]=T.useState({}),[v,y]=T.useState({}),{ref:x,active:b,width:_}=Hw({breakpoints:R3}),{ref:w,active:E}=Hw({breakpoints:R3}),[O,A]=T.useState({}),[M,L]=T.useState(!1),H=j=>{A({...O,[j]:!O[j]})},G=j=>{L(j.tags.length||j.textFilter.length),y(j)};return T.useEffect(()=>{const j=Y_e(t,n);i(j.knownAbilities),o(j.knownAbilitiesByType),l(j.abilityTags),h(j.allAbilityTags)},[t,n]),J("div",{className:"character-sheet",children:[J("div",{className:"stats",children:[k("div",{className:"title",children:"Stats"}),k(O3,{label:" Skill Points Spent",value:t.pointsInvested}),ze(f,(j,X)=>k(O3,{label:j.name,value:t.stats[j.id]||0},X))]}),J("div",{className:"abilities",children:[k("div",{className:"title",children:"Abilities"}),k($g,{children:k(Ug,{name:"filter all",tags:c,expanded:!0,filtersUpdated:G})}),!M&&k("div",{className:"accordions",children:vi(e,"name").map((j,X)=>{var V,he;return J(bn,{startOpen:!1,name:j.name,disabled:!((V=s[j.id])!=null&&V.length),children:[k($g,{children:k(Ug,{name:"filter "+j.name+" abilities",expanded:!1,tags:a[j.id]||[],filtersUpdated:ce=>m({...p,[j.id]:ce})})}),J("div",{ref:x,className:"ability-cards",children:[k("div",{className:"expand-button",children:k(Et,{color:"theme",clicked:()=>H(j.id),children:O[j.id]?k(XF,{size:30}):k(qF,{size:30})})}),k(ww,{columns:M3(b),spacing:2,children:(he=I3(s[j.id],p[j.id]))==null?void 0:he.map((ce,te)=>k("div",{children:(ce==null?void 0:ce.ability)&&k(Td,{ability:ce.ability,isPlayerAbility:!0,modifiers:ce.modifiers,tags:ce.tags,startOpen:!1,isExpanded:!!O[j.id]})},te))})]})]},X)})}),!!M&&k("div",{ref:w,className:"ability-cards",children:k(ww,{columns:M3(E),spacing:1.5,children:(z=I3(r,v))==null?void 0:z.map((j,X)=>k("div",{children:(j==null?void 0:j.ability)&&k(Td,{ability:j.ability,isPlayerAbility:!0,modifiers:j.modifiers,tags:j.tags,startOpen:!0})},X))})})]})]})}const Z_e="0.0.21",Q_e=[{id:"advanced-flying",name:"Advanced Flying",description:`This unit can fly. It now can exist on three different battlefield planes. The ground, and the air level 1, and air level 2, and air level 3. It costs 1 hex of movement to move upward but not downward.

Additionally, you are immune to environmental effects.`,type:"passive",tags:["flying"],replaces:"flying",params:{}},{id:"aerial-combat",name:"Aerial Combat",type:"passive",description:"Gains __+1__ on attacks made against flying units.",tags:["flying"]},{id:"aerial-evasion",name:"Aerial Evasion",type:"passive",description:"Gains **+1** to _AC_ while in the air.",tags:["flying","defense"],params:{}},{id:"alert",name:"Alert",type:"movement",description:"This unit always musters and can muster **1** adjacent unit (during movement).",replaces:"attentive",tags:["defense","mustering"],params:{}},{name:"Alter Emotions",id:"alter-emotions",description:"Increase or decrease the `organization` (HP) of any `non-elite` group of soldiers by __%amt%__. {sooth-amt} Non-elites can instead gain __%amt%+%sooth-amt%__ `hp`.{/sooth-amt}  {riot} Non-elites now lose __%amt%+%riot-amt%__ `hp`. {/riot}\n{spread-ae} Units with an adjacency of __%spread-ae%__ to the target are also affected in the same way {/spread-ae}",tags:["enchantment","spell"],type:"action",params:{amt:1,"sooth-amt":0,"riot-amt":0,"spread-ae":0,riot:0}},{id:"aquatic-combat",name:"Aquatic Attack",description:"Add **+1** to any attack made from the _water_.",type:"passive",tags:["aquatic","attack"],params:{}},{id:"attack-from-the-deep",name:"Attack from the Deeps",description:"Gain **+2** damage on attacks made against other targets in the water that are at ground level.",type:"passive",tags:["aquatic","attack"],params:{}},{id:"attentive",name:"Attentive",type:"movement",description:"This unit always musters",tags:["defense","mustering"]},{id:"basic-attack",name:"Basic Attack",description:"You make **1** melee attack against an adjacent enemy. Roll __1d6{dmg}+%dmg%{/dmg}__ and do that much damage.",type:"action",params:{dmg:-1},tags:["attack"]},{name:"Beguile",id:"beguile",description:`Beguile __%be-units%__ unit(s) into one of the following:

_Frightened of you_ - the unit cannot move towards you on its turn.

{compelled}_Compelled_ -  The unit MUST move at least __2__ hexes toward you (if it can/it has to try to){/compelled}

{charmed}_Charmed_ - the unit makes __%numAttacks%__ less attack(s) against you{/charmed}`,tags:["enchantment","spell"],type:"action",params:{frightened:1,compelled:0,charmed:0,numAttacks:1,"be-units":1}},{id:"bless",name:"Bless",description:"Buff up **%bless_tars%** ally(s) within range, granting them **+1** on their first attack/cantrip strike of their turn.",type:"action",tags:["holy","spell"],params:{bless_tars:1}},{id:"cantrip-barrage",name:"Cantrip Strike",description:`Deal **1d6+%can_dmg%** damage to an enemy.

{can_pierce} This attack always does %can_dmg% {/can_pierce}`,type:"action",tags:["evocation"],params:{can_dmg:0,can_pierce:0,"tag-piercing":0}},{id:"charge",name:"Charge",type:"movement",description:`If this unit moves 4 hexes in a straight line before becoming adjacent to an enemy they automatically do +%dmg% damage on first melee attack. The movement for the rest of the turn becomes 0. 
        {breakthrough}
          If after a charge, this unit still has remaining movement, it can use that movement to continue on its charge-line through enemy units.
        {/breakthrough}`,params:{dmg:1,breakthrough:0}},{id:"dash",name:"Dash",type:"action",description:"Move %movement% hexes.",params:{movement:2},tags:["movement","fast"]},{id:"dash-expert",name:"Dash Expert",type:"passive",description:"Once per turn, you can replace any one of your attacks with movement up to your speed.",tags:["movement"]},{id:"death-bomb",name:"Death Bomb",type:"action",description:"This unit can dive bomb and forcefully smash itself into enemy units. This kills this unit. It does 2 damage to a target's HP.",tags:["undead","flying"]},{id:"death-ward",name:"Death Ward",description:"Place a ward against death on a unit. If that unit is reduced to 0 HP it instead goes to %hp% HP. When this happens the spell is used up and you lose concentration on it.",type:"action",tags:["concentration","holy","spell"],params:{hp:2}},{id:"defend",name:"Defend",description:`Gain    **%armor%** _armor_ until the start of your next turn.


{brace}For this turn, gain the following effects:

1. You are Immune to Charge effects.
2. Enemies that move adjacent to you take 1 damage.
{/brace}`,type:"action",params:{brace:0,armor:1},tags:["defense"]},{id:"deflect",name:"Deflect",type:"reaction",description:`Block %deflect% ranged attack that is made at you. Declare before the attack is rolled. 

For magic attacks, deflect on a roll of %lowerRange% or higher.`,tags:["defense"],params:{lowerRange:4,deflect:1}},{id:"dive-bomb",name:"Dive Bomb",type:"passive",tags:["flying"],description:"When this unit moves from a higher elevation to a lower elevation it gains +1 damage for each air level it decends through for its next attack."},{id:"diving",name:"Diving",description:"This unit can swim under water. Gain access to a -1 vertical space in water. Gain +3 to AC from units that are ground or above. You get a -2 dice roll on all attacks on units that are at ground or above.",type:"movement",tags:["aquatic"]},{name:"Dominate",id:"dominate",description:"{base} Take control of `non-elite` units (so common soliders and such). The unit is under your control until the battle ends or it loses half its current health. Can only have __%units%__ unit(s) dominated at a time. {/base} {elite} Take control of any unit. The unit is under your control until the battle ends or it loses half its current health. Can only have __%unit%__ unit(s) dominated at a time.{/elite}",tags:["enchantment","spell"],type:"action",params:{units:1,elite:0,base:1}},{id:"extra-versatile",name:"Extra Versatile",description:"You can choose to take actions before or after each unit of movement.",type:"passive",replaces:"versatile"},{id:"ferry",name:"Ferry",description:"This unit can carry other units on water. It takes 1 action to load an ally (action used during movement). No action required to disembark.",type:"passive",tags:["aquatic","movement"]},{id:"flying",name:"Flying",description:`This unit can fly. It now can exist on two different battlefield planes. The ground, and the air level 1. It costs 1 hex of movement to move upward but not downward.

Additionally, you are immune to environmental effects.`,type:"passive",tags:["flying"],params:{}},{id:"greater-knitting",name:"Greater Knitting",description:"Restore %hp% HP to all adjacent undead units",type:"action",replaces:"knit-flesh",tags:["undead","healing","necromancy"],params:{hp:1}},{id:"guardian",name:"Guardian",type:"reaction",description:"As a reaction, can intercept %attacks% attack(s) going towards an adjacent ally. You now take that attack - also take 1 damage.",tags:["defense"],params:{attacks:1}},{id:"guiding-bolt",name:"Guiding Bolt",description:"You hit an enemy with a blast of light, dealing %dmg% nonabsorbable damage. Next round, allies have +%roll% on all attacks/cantrip strikes against this target.",type:"action",tags:["holy","piercing","spell"],params:{roll:1,dmg:1}},{id:"knit-flesh",name:"Knit Flesh",description:"Restore %hp% HP to an adjacent undead unit",type:"action",params:{hp:1},tags:["undead","healing","necromancy"]},{id:"mass-knitting",name:"Mass Knitting",description:"Restore %hp% HP to all undead units within 2 hexes (100m area)",type:"action",replaces:"greater-knitting",tags:["undead","healing","necromancy"],params:{hp:1}},{id:"multi-attack",name:"Multi Attack",description:`You make %numatks% melee attack against an adjacent enemy.
      
Each Attack: 1d6{dmg}+%dmg%{/dmg}  

{dmg2} This attack always does at least %dmg2% damage {/dmg2}
 `,type:"action",replaces:"Attack_norm",params:{dmg2:0,dmg:0,numatks:1},tags:["attack"]},{id:"reactive-armor",name:"Reactive Armor",description:"When an enemy attacks you, gain 1 AC. Lose 1 AC at the start of each turn.",type:"passive",tags:["defense"]},{id:"restoration",name:"Restoration",description:`Heal a unit %hp%+%@holyheal% HP within spell range.{divine}

Restoration can now be cast for 2 spell slots and heals 10 HP if done this way.{/divine}`,type:"action",tags:["holy","spell","healing"],params:{hp:3,divine:0}},{id:"smite",name:"Smite",description:`When an attack hits (does damage to HP), you may spend 1 spell slot to make that attack do +%dmg%
      damage`,type:"bonus action",tags:["holy","spell"],params:{dmg:3}},{id:"spellcasting",name:"Spellcasting",description:`You can now cast _spells_ and _cantrips_. Casting a spell requires **1** spell slot of the corresponding school of magic.

_Range: **%range%**_
_Contentration Bonus: **%concentration%**_`,type:"school",tags:[],params:{range:1,concentration:1}},{id:"spirit-guardians",name:"Spirit Guardians",description:"Call upon spiritual guardians to protect you. You gain %ac% AC and adjacent enemies take %dmg% unabsorbable damage at the start of your turn. {armor_debuff} Enemies within the zone also have their armor reduced by %armor_debuff% {/armor_debuff}",type:"action",tags:["concentration","holy","piercing","spell"],params:{dmg:1,ac:1,armor_debuff:0}},{id:"strafing-run",name:"Strafing Run",type:"passive",tags:["flying"],description:"As part of movement can make a breath attack against up to %targets% target(s) (adjacent to each) that you fly over in a straight line. This costs 1 breath attack use and does half breath damage (but full effect). Costs 1 movement to initiate for each targeted hex."},{id:"submarine-transportation",name:"Submarine Transportation",description:"This unit can carry other units on water and underwater. It takes 1 action to load an ally (action used during movement). No action required to disembark.",type:"passive",tags:["aquatic","movement"],replaces:"ferry"},{id:"swarm",name:"Swarm",type:"action",tags:["flying"],description:"Swarm around an adjacent enemy unit, co-existing in their hex, and blocking ranged attacks against targets other than itself. This unit can now move 3 hexes as a reaction to stay with its swarmed unit, any more movement breaks the swarm. In addition it can choose to be hit by ranged attacks that would pass through its hex."},{id:"swimming",name:"Swimming",description:"If this unit can move up to %movement% hexes in the water. If the unit's speed is less than %movement% it can move up to its speed.",type:"movement",tags:["aquatic"]},{id:"turn-undead",name:"Turn Undead",description:"Force undead on their turn to move at least %range% hex away from you and get no closer for %rounds% round.",type:"action",tags:["holy","spell"],params:{dmg:1,range:1,rounds:1}},{id:"versatile",name:"Versatile",description:"You can choose to take actions prior to movement.",type:"passive"},{name:"Command",id:"command",description:"Gain a command aura of %commandRadius% m radius (every adjacent hex)",tags:["command"],type:"passive",params:{commandRadius:50}},{name:"Rally",id:"rally",description:`As an action, allied units in your command aura regain %hp% HP.

{bonus}
1 unit within your command aura can make an attack.
{/bonus}`,tags:["command"],type:"action",params:{bonus:0,hp:1}},{name:"Aggressive Commander",id:"aggro-command",description:"Allied units adjacent to this unit can make 1 extra attack, unmodified.",tags:[],type:"action"},{name:"Energetic Commander",id:"energetic-commander",description:"Allied units in this units command aura can move 1 extra hex.",tags:[],type:"action"},{name:"Rally+",id:"rally-2",description:`As an action, allied units in your command aura regain %hp% HP.

2 units within your command aura can make 1 attack 
OR
1 unit within your command aura can make 2 attacks`,tags:["command"],type:"action",params:{hp:1},replaces:"rally"},{name:"Attack of Opportunity",id:"attack-of-opportunity",description:"This unit can make a single melee attack (with modified damage) against any enemy that moves out of adjacency with it. The attack takes place immediately.",tags:["defense","attack"],type:"reaction"},{name:"Professionals",id:"professionals",description:"This unit is always active (doesnt count to active unit count).",tags:["mustering"],type:"movement"},{name:"Raise Dead",id:"raise-dead",description:"Raise a deceased unit as a zombie horde with %raiseHp%% health.",tags:["necromancy","spell"],type:"action",params:{raiseHp:25}},{name:"Life Drain",id:"raise-dead-copy",description:`Create a link between you and a target within range. Each turn as a bonus action you can tap that link (including turn 1) . Tapping the link deals 1 damage to the target's HP and gives that HP to you. 

 This spell lasts as long as the target remains within 6 hexes of the caster.`,tags:["necromancy","spell","healing","concentration"],type:"action"},{name:"Wither",id:"wither",description:`curse a target within range with:
   
-1 armor
   -1 attack 
   -1 movement

Lasts 2 turns. This spell lasts as long as the target remains within 6 hexes of the caster.`,tags:["spell","necromancy"],type:"action"},{name:"Unrelenting Horde",id:"unrelenting-horde",description:"If this unit kills an adjacent unit. It spawns a new zombie unit from the dead unit. The new zombie has %hpPercent%% health",tags:["undead","necromancy"],type:"passive",params:{hpPercent:50}},{name:"Necromancy",id:"necromancy",description:`You can cast Necromancy spells.

Spell Slots: %slots%
Spells Per action: %spellsPerAction%`,tags:["necromancy"],type:"school",params:{slots:1,spellsPerAction:1}},{name:"Holy Casting",id:"holy-casting",description:`You can cast holy spells.

_Spell Slots: **%slots%**_
_Spells Per action: **%spells%**_`,tags:["holy"],type:"school",params:{spells:1,slots:2}},{id:"Attack_norm",name:"Melee Attack",description:`You make 1 melee attack against an adjacent enemy. {base}Roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.{/base}

{strong}Roll 1d8{dmg}+%dmg%{/dmg} and do that much damage.{/strong} 

{dmg2} This attack always does at least %dmg2% damage {/dmg2}`,type:"action",params:{dmg2:0,dmg:-1,base:1,strong:0},tags:["attack"],replaces:"basic-attack"},{name:"Ranged Attack",id:"ranged-attack",description:`You make 1 ranged attack against an enemy. First roll 1d6{range}+%range%{/range} against the number of hexes between you and the target. Must beat this distance. For each success now roll 1d6{dmg}+%dmg%{/dmg} and do that much damage. If target is adjacent to you, do not add any modifier to the roll.

{dmg2} This attack always does at least %dmg2% damage.If target is adjacent to you, has no effect {/dmg2}

{sund} Attacks that hit (can be absorbed) reduce target armor by %sund%, does not stack.{/sund}
{poi}Attacks that do damage apply a poison debuff, dealing %poi% damage to an enemy at the start of their turn.{/poi}{whis} Attacks made at an enemy cancel the effect of a friendly command aura for the next turn.{/whis}`,tags:["ranged"],type:"action",params:{dmg2:0,dmg:0,range:0,sund:0,poi:0,whis:0}},{name:"Tie Down",id:"tie_down_001",description:"The unit can spend an attack to tie down an adjacent enemy, restricting their movement by %spd_down% hexes.",tags:[],type:"action",params:{spd_down:0}},{name:"Seige Attack",id:"seige-id-8",description:`This unit can attack walls/towers and gains a bonus to attack gates.

Do %seige_atk% more damage against all buildings.`,tags:[],type:"action",params:{seige_atk:1}},{name:"Massive",id:"anti-air-180",description:"This unit can attack airborne target or targets on walls with no penalty.",tags:["attack"],type:"passive",params:{}},{name:"Hurl",id:"hurl",description:"This unit can now throw entities from adjacent units at targets within %hurl_range% hexes. This attack does %hurl_dmg% of which 1 is piercing.",tags:["attack","ranged"],type:"action",params:{hurl_range:6,hurl_dmg:5}},{name:"Critical Strike",id:"critical-id-98",description:`{base}When you roll a 1 on an attack you may reroll that die once and add the 1 to the result.{/base}
{explode} Explode on 1s.{/explode}`,tags:["attack"],type:"passive",params:{base:1,explode:0}},{name:"Evocation Casting",id:"evocation-casting",description:`You can cast \`evocation\` spells.

_Spell Slots: **%evo_slots%**_
_Spells Per action: **%evo_spells%**_`,tags:["evocation"],type:"school",params:{evo_slots:2,evo_spells:1}},{name:"Magical Barrage",id:"magic-barrageid-22",description:`You unleash a magical barrage against a unit within range. This attack deals **%mb_dmg%** absorbable damage. {mb_con}
 
Or, when you cast \`Magical Barrage\` you can choose to instead {mb_con2} take no action and {/mb_con2} deal no damage but cause the enemy to be unable to move on their next turn. {/mb_con}
{mb_effect} 
When you cast the \`Magical Barrage\` you can add one of the following effects to the target unit:
1. _Frostbite_ - units loses %mb_effect%  movement
1. _Burning_ - unit loses %mb_effect% hp
1. _Weakened_ - minus %mb_effect% damage
1. _Armor Sundered_ - loses %mb_effect% armor
{/mb_effect}`,tags:["spell","evocation"],type:"action",params:{mb_dmg:3,mb_con:0,mb_con2:-1,mb_effect:0}},{name:"Shield",id:"shield-id-152",description:"As a reaction, cast shield on an ally that is within your spell casting range. They gain %shield_armor% armor against the %shield_count% attack. {shield_dmg} If an attack fails to do damage, the absorbed damage is done to the attacker's hp pool. {/shield_dmg}",tags:["abjuration","defense","spell"],type:"reaction",params:{shield_armor:1,shield_count:1,shield_dmg:0}},{name:"Abjuration Casting",id:"abjuration-id-11",description:`You can cast abjuration spells.

_Spell Slots: **%abju_slots%**_
_Spells Per action: **%abju_spells%**_`,tags:["abjuration"],type:"school",params:{abju_slots:2,abju_spells:1}},{name:"Armor of Agathys",id:"armor-of-agathys",description:"As an action, cast Armor of Agathys on an ally (or self). That entity gains %temp_hp% temp HP and when hit by another creature (and still has at least 1 temp HP) it does damge to the attacker equal to the current (pre-hit) temp hp. {Aga_effect} Enemies that take damage by this effect gain the frostbite effect (lose 1 movement) {/aga_effect}",tags:["abjuration","spell","defense"],type:"action",params:{temp_hp:2,aga_effect:0}},{name:"Mage Armor",id:"Mage-armor-id-92",description:"As an action, cast Mage armor on self. Gains %m_armor% armor for %m-armor-turns% turns.",tags:["abjuration","spell","defense"],type:"action",params:{m_armor:1,"m-armor-turns":3}},{name:"Magical Deflection",id:"Magical-Deflection-id-57",description:`As a reaction in response to projectiles or spells targeting you. You create a magical shield that deflects projectiles.  This causes %mdef_count% ranged attack(s) made against you to miss.
{redirect} Any deflected attack can be redirected, use the original attack's stats {/redirect}`,tags:["abjuration","spell","defense"],type:"reaction",params:{mdef_count:1,redirect:0}},{name:"Divination Casting",id:"divination-casting",description:`You can cast \`divination\` spells.

_Spell Slots: **%div_slots%**_
_Spells Per action: **%div_spells%**_`,tags:["divination"],type:"school",params:{div_slots:2,div_spells:1}},{name:"Gift of Foresight",id:"Gift-fore-id-135",description:"Choose __%gof_num%__ ally within spell range and grant them __%gof_ac%__ `AC`. {gof_atk} Also give them __+1__ on their dice rolls. {/gof_atk} {gof_react} A unit with the `Gift of Forsight` on them can, as a _reaction_ to another unit becoming adjacent, move __%gof_react%__ hex(es) away. They can only do this once. This movement would never provoke an _attack of oppourtunity_. {/gof_react}",tags:["divination","concentration","spell"],type:"action",params:{gof_ac:1,gof_atk:0,gof_num:1,gof_react:0}},{name:"Portent",id:"Portent-id-145",description:"Before a battle, roll __%Port_num%x1d6__ and save that roll. You can replace any attack roll within spell range by yourself, an ally, or enemy with this number. Uses a _reaction_ if used to replace an enemy roll. Within magical range.",tags:["divination","spell"],type:"action",params:{Port_num:1}},{name:"Phantom Sight",id:"Phan-sight-id-124",description:"Choose __%ps-num%__  enemy unit(s). {base1}The DM will tell you what _action_ they will use on their next turn. {/base1} {ps-adv} The DM will tell you what _movement_ and _action_ they will use on their next turn. {/ps-adv} {base2} Only effective on `non-command` units {/base2} {ps-comm} Effective on `all` unit types. {/ps-comm}",tags:["divination","spell"],type:"bonus action",params:{base1:1,base2:1,"ps-num":1,"ps-comm":0,"ps-adv":0}},{name:"Enchantment Casting",id:"Enchan-casting-id-26",description:`You can cast \`enchantment\` spells.

_Spell slots: **%enc-slots%**_
_Spells per action: **%enc-spells%**_`,tags:["enchantment"],type:"school",params:{"enc-slots":2,"enc-spells":0}},{name:"Portal",id:"Por-id-110",description:`As an action, choose a hex within range. You create a portal there. Choose where the portal connects to. 
This portal lasts for your next %port-dur% turns.  Only %port-use% unit can enter/exit the portal per turn. {dev-por} Low mass units adjacent to the portal can on their movement phase choose, lose %dev-por% hp or enter the portal. {/dev-por}

{por1} %por1% reinforcements come out of the portal, %por1-num% unit(s) per turn. They exit during allied movement. {/por1}
{hell-por} You can unlock a portal to hell, causing %hell-por% devils to pour out, 2 per turn. {/hell-por}
{hev-por}You can unlock a portal to a friendly place, causing %hev-por% allies to pour out, 2 per turn. {/hev-por} `,tags:["conjuration","spell"],type:"action",params:{"port-use":1,"port-dur":2,por1:0,"por1-num":0,"hell-por":0,"hev-por":0,"dev-por":0}},{name:"Entangling Ground",id:"entangling-ground",description:`As an action, you can choose %eg-hex% hexes of ground and {base} make it difficult terrain.{/base}  {eg-imm} impassible terrain, units can move it it but to move out requires them to spend %eg-imm% actions to free themselves.{/eg-imm}. {eg-dmg}Units that end their turn within this area take %eg-dmg%.{/eg-dmg}Hex must be within casting range.{eg-cree}Now requires concentration. Entangling ground grows by %eg-cree% hex(s) per turn.{/eg-cree}
`,tags:["conjuration","spell","movement"],type:"action",params:{"eg-hex":1,base:1,"eg-imm":0,"eg-dmg":0,"tag-concentration":0,"eg-cree":0}},{name:"Storm",id:"storm",description:"As an action, you unleash a magical storm. This storm occupies %storm-size% hex and travels %storm-mve% hex per turn around the map.{sto-high}The storm hits %sto-high% hex(s) above the ground hex. {/sto-high} It moves after your team's action phase is over. It moves again at the end of the other team's action phase. {sto-base} For each movement, roll 1d6, it moves to that adjacent hex. {/sto-base} {sto-ride} You can now control the storm. The storm moves %storm-mve% hex(s). The storm now moves during your movement phase. {/sto-ride}The storm does %storm-dmg% nonabsorbable damage to any unit it passes over / that moves through it. It only does 1 damage to units at the start of their turn. {sto-mas} You gain %sto-mas% armor while in the storm, and your regular attacks do +%sto-mas% damage. {/sto-mas} {sto-wall}The storm now cannot be moved through, and any unit that starts their turn in the storm cannot move this turn. {/sto-wall} ",tags:["conjuration","spell"],type:"action",params:{"storm-dmg":1,"storm-size":1,"storm-mve":1,"sto-base":1,"sto-ride":0,"sto-mas":0,"sto-wall":0,"sto-high":0}},{name:"Conjure Entites",id:"conjure-entities",description:`As an action you summon %sum-num% unit of wild beasts. Summon these entities within spell range.

{sum1} You can now summon %sum-num% unit of x {/sum1}

{sum2} You can now summon %sum-num% unit of x {/sum2}

{sum3} You can now summon %sum-num% unit of x {/sum3}

{sum4} You can now summon %sum-num% unit of x {/sum4}

{sum5} You can now summon %sum-num% unit of x {/sum5}`,tags:["conjuration"],type:"action",params:{"sum-num":1,sum1:-1,sum2:-2,sum3:-3,sum4:-4,sum5:-5}},{name:"Conjuration Casting",id:"conjuration-casting",description:`You can now cast conjuration spells. 
You can cast %con-num% spells per day.`,tags:["conjuration"],type:"action",params:{"con-num":2}},{name:"Dragon Breath",id:"Drag-breath-001",description:`{base}Your dragon unleashes its breath attack on an adjacent unit.{/base}{area}Your dragon unleashes its breath attack on an adjacent unit and a line-area of 2 hexes with your breath weapon attack.{/area}  That unit takes %bw-dmg% points of absorbable damage. {bw-eff} It takes two actions to remove this lasting effect.{/bw-eff} 

{bw-burn} Target units begin burning for %bw-burn% hp (not absorbable) per turn.{/bw-burn}

{bw-bite} Target units lose  %bw-bite% speed.{/bw-bite}

{bw-weak} Target units do %bw-weak% less damage per attack.{/bw-weak}

{bw-sund} Target units lose %bw-sund% armor.{/bw-sund}

{bw-pierce} Breath weapon attacks always do at least 1 damage to hp.{/bw-pierce}`,tags:["Dragon Breath"],type:"action",params:{"bw-dmg":3,"bw-eff":0,"bw-burn":0,"bw-bite":0,"bw-weak":0,"bw-sund":0,base:1,area:0,"bw-pierce":0}},{name:"Breath Attacks",id:"breath-attacks",description:`Can use Dragon Breath %bw-use% times per day.{bw-rchrg} Can spend 1 action to recharge %bw-rchrg% breath attack use. {/bw-rchrg}{bw-cat} Bonus action: Can spend 3 hp to regain %bw-cat% breath attack uses.{/bw-cat}{bw-ann} Bonus action: Can spend 1  breath attack uses to regain  %bw-ann% hp.{/bw-cat}
`,tags:["Dragon Breath"],type:"passive",params:{"bw-use":1,"bw-rchrg":0,"bw-cat":0,"bw-ann":0,"bw-resist":0}},{name:"Draconic Bombardment",id:"draconic-bombardment",description:"{base}You can now target a  hex with your breath weapon attack.{/base}{area}You can now target a line-area of 2 hexes with your breath weapon attack.{/area} Deal %bw2-dmg% damage (absorbable) to that hex or a unit on that hex.{bw-block}The hex targeted by your draconic attack becomes impassible. It can however be destroyed. It has %bw-block% hp. If used on a unit, the blocker is still created, and the unit can use half its movement to move out of it.{/bw-block}{bw-quag}The hex targeted by your draconic attack becomes a quagmire. It lasts for %bw-quag% turns.{/bw-quag}{bw-pierce} Breath weapon attacks always do at least 1 damage to hp.{/bw-pierce}",tags:["Dragon Breath"],type:"action",replaces:"Drag-breath-001",params:{"bw2-dmg":3,"bw-block":0,"bw-quag":0,base:1,area:0,"bw-pierce":0}},{name:"Undead",id:"abl-13801",description:"You are an undead unit! You can only heal via necromancy spells.",tags:[],type:"passive",params:{}},{name:"Heal",id:"abl-52949",description:"You regain %heal% hp. {fri-heal} You can heal adjacent units instead. {/fri-heal}",tags:["healing"],type:"action",params:{heal:1,"fri-heal":0}},{name:"Recovery",id:"abl-525999",description:"You can regain %recov% hp in a single day.",tags:["healing"],type:"passive",params:{recov:4}},{name:"Regeneration",id:"abl-521344",description:"Gain %regen% _hp_ at the start of your turn. No maximum healing.",tags:["healing"],type:"passive",replaces:"abl-525999",params:{regen:1}},{name:"Bone Realocation",id:"abl-237348",description:"Heal for %br-heal% _hp_ but lose 3 speed 1 attack for the rest of the battle.",tags:["healing","undead"],type:"action",params:{"br-heal":4}},{name:"Harpoon",id:"abl-56276",description:"Any attack that hits and would deal damage can be turned into a harpoon attack instead. The attack now deals no damage but tethers the attacked unit to this one. The attacked unit cannot move farther away then it currently is. The harpooned unit can use %harp% action(s) to dispel the tether.",tags:["ranged"],type:"action",params:{harp:1}},{name:"Bone Growth",id:"abl-116216",description:"Gain %bne-gro% hp if on top of a deceased skeletal unit.",tags:["undead","healing"],type:"action",params:{"%bne-gro%":1}},{name:"Cursed Strikes",id:"abl-20374",description:"Attacks now only damage a unit's maximum health.",tags:["attack"],type:"passive",params:{}},{name:"Vampiric Strikes",id:"abl-166965",description:"Attacks that do damage to an enemy unit heal you for %vs-heal% hp per hit. {base} Regeneration limited by **Recovery** limit. {/base}{adv} No limit.{/adv}",tags:["attack","healing"],type:"passive",params:{"vs-heal":1,base:1,adv:0}},{name:"Hamstringing Stirkes",id:"abl-208561",description:"Each attack that does damage reduces targets movement next turn by %ham% hex(es).",tags:["attack","movement"],type:"passive",params:{ham:1}},{name:"Rampaging Strike",id:"abl-333881",description:"Can move 1 hex after each strike.",tags:["attack","movement"],type:"passive",params:{}}],J_e=[{id:"action",name:"Action",color:"#8eb0ff"},{id:"movement",name:"Movement",color:"#c7f8af"},{id:"passive",name:"Passive",color:"#cabfbf"},{id:"reaction",name:"Reaction",color:"#ffb0fc"},{id:"bonus action",name:"Bonus Action",color:"#a887ff"},{id:"school",name:"Magic Proficiency",color:"#5ec5e1"}],eSe=[{id:"holyheal",value:2},{id:"holy-damage",value:0}],tSe=[{id:"basic",name:"Basic",requires:[],requirementType:"and",description:"Congrats! You are a unit.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#121212",selected:"#d2d2d2"},cost:1,providedStats:[{id:"hp",modifier:3},{id:"armor",modifier:0},{id:"movement",modifier:1,set:!1}],providedAbilities:[{id:"basic-attack",modifier:1,modifiers:[],gain:!0},{id:"abl-525999",modifier:1,modifiers:[],gain:!0}]},{id:"basic-magic",name:"Spellcasting",requires:[{id:"basic",levels:1}],requirementType:"and",description:"Grants your unit the ability to cast spells",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"cantrip-barrage",gain:!0},{id:"spellcasting",gain:!0}]},{id:"speed",name:"Speed",requires:[{id:"basic",levels:1}],description:"Allows you to move one additional hex per turn",colors:{unavailable:"#648264",selected:"#51db53"},levels:8,providedStats:[{id:"movement",modifier:1}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"versatile",requires:[{id:"speed",levels:4}],name:"Versatile",description:"Grants the Versatile ability",cost:1,providedAbilities:[{id:"versatile",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"extra-versatile",requires:[{id:"versatile",levels:1}],name:"Extra Versatile",description:"Grants the Extra Versatile ability",cost:1,providedAbilities:[{id:"extra-versatile",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"dash",requires:[{id:"speed",levels:2}],name:"Dash",description:"Grants the Dash ability",cost:1,providedAbilities:[{id:"dash",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"advanced-dash",requires:[{id:"charge",levels:1}],name:"Dash+",description:"Increases the movement of Dash by 2",cost:1,levels:2,providedAbilities:[{id:"dash",modifiers:[{id:"movement",modifier:2}]}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"dash-expert",requires:[{id:"advanced-dash",levels:2}],name:"Dash Expert",description:"Grants the Dash Expert ability",cost:1,providedAbilities:[{id:"dash-expert",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"charge",requires:[{id:"dash",levels:1}],name:"Charge",description:"Grants the Charge ability",cost:1,providedAbilities:[{id:"charge",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"breakthrough",requires:[{id:"charge",levels:1}],name:"Breakthrough",description:"Grants you the ability to continue moving through units after a charge.",cost:1,providedAbilities:[{id:"charge",modifiers:[{id:"breakthrough",modifer:1,modifier:1}]}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"advanced-charge",requires:[{id:"charge",levels:1}],name:"Charge+",description:"Increases the movement of Charge by 2",cost:1,providedAbilities:[{id:"charge",modifiers:[{id:"dmg",modifer:1}]}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"flying",requires:[{id:"speed",levels:4}],name:"Flying",description:"Grants you the ability to fly",cost:1,providedAbilities:[{id:"flying",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"death-bomb",requires:[{id:"flying",levels:1}],name:"Death Bomb",description:"Grants you the Death Bomb ability. Must be undead to use.",cost:1,providedAbilities:[{id:"death-bomb",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"swarm",requires:[{id:"flying",levels:1}],name:"Swarm",description:"Grants you the Swarm ability.",cost:1,providedAbilities:[{id:"swarm",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"strafing-run",requires:[{id:"flying",levels:1}],name:"Strafing Run",description:"Grants you the Strafing Run ability.",cost:1,providedAbilities:[{id:"strafing-run",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"advanced-strafing-run",requires:[{id:"strafing-run",levels:1}],name:"Strafing Run+",description:"Increases the number of targets by 3.",levels:2,providedAbilities:[{id:"strafing-run",modifiers:{targets:3}}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"advanced-flying",requires:[{id:"flying",levels:1}],name:"Advanced Flying",description:"Increases the number of targets by 3.",cost:1,providedAbilities:[{id:"advanced-flying",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"dive-bomb",requires:[{id:"advanced-flying",levels:1}],name:"Dive Bomb",description:"Grants you the Dive Bomb ability.",cost:1,providedAbilities:[{id:"dive-bomb",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"aerial-combat",requires:[{id:"advanced-flying",levels:1},{id:"dive-bomb",levels:1}],name:"Aerial Combat",description:"Grants you the Aerial Combat ability.",cost:1,providedAbilities:[{id:"aerial-combat",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"aerial-evasion",requires:[{id:"aerial-combat",levels:1}],name:"Aerial Evasion",description:"Grants you the Aerial Evasion ability.",cost:1,providedAbilities:[{id:"aerial-evasion",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"armor",requires:[{id:"basic",levels:1}],name:"Armor",description:"Adds 1 Armor",levels:7,levelCost:[1,1,2,2,3,4,4],providedStats:[{id:"armor",modifier:1}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"attentive",requires:[{id:"armor",levels:2}],name:"Attentive",description:"Grants the Attentive ability",providedAbilities:[{id:"attentive",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"alert",requires:[{id:"attentive",levels:1}],name:"Alert",description:"Grants the Alert ability",providedAbilities:[{id:"alert",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8550"},id:"reactive-armor",requires:[{id:"armor",levels:5}],name:"Reactive Armor",description:"Sets your AC to 1 and grants Reactive Armor.",cost:1,providedStats:[{id:"armor",set:1,modifier:1}],providedAbilities:[{id:"reactive-armor",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"reactive-armor-2",requires:[{id:"reactive-armor",levels:1}],name:"Reactive Armor 2",description:"Increases your base AC to 2",cost:1,providedStats:[{id:"armor",set:2,modifier:2}]},{id:"defend-1",name:"Defend 1",requires:[{id:"armor",levels:1}],requirementType:"and",description:"Grants the ability to defend, temporarily increasing your armor.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#403c3a",selected:"#cd8150"},levels:3,levelCost:[1,2,3],providedAbilities:[{id:"defend",gain:!0,modifiers:[{id:"hp",modifier:1,set:!1}]}]},{id:"deflect-1",name:"Deflection",requires:[{id:"defend-1",levels:1}],requirementType:"and",description:"Grants the Deflect ability.",globalParams:[],colors:{unavailable:"#403c3a",selected:"#cd8150"},cost:1,providedAbilities:[{id:"deflect",gain:!0}]},{id:"deflect-2",name:"Magical deflection",requires:[{id:"deflect-1",levels:1}],requirementType:"and",description:"Makes it easier to deflect magic attacks.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#403c3a",selected:"#cd8150"},cost:1,providedAbilities:[{id:"deflect",modifiers:[{id:"lowerRange",modifier:-1,set:!1}]}]},{id:"guardian-1",name:"Guardian",requires:[{id:"defend-1",levels:1}],requirementType:"and",description:"Grants the Guardian ability",globalParams:[],exclusiveWith:[],colors:{unavailable:"#403c3a",selected:"#cd8150"},levels:2,levelCost:[1,1],providedAbilities:[{id:"guardian",gain:!0}]},{colors:{unavailable:"#65748f",selected:"#7391c9"},id:"magic-range-1",requires:[{id:"basic-magic",levels:1}],name:"Spell Range",description:"Increases the range of your magic.",levels:3,providedAbilities:[{id:"spellcasting",modifiers:[{id:"range",modifier:1}]}]},{colors:{unavailable:"#65748f",selected:"#7391c9"},id:"concentration-1",requires:[{id:"basic-magic",levels:1}],name:"Concentration+",description:"Add +1 to concentration checks.",levels:2,providedAbilities:[{id:"spellcasting",modifiers:[{id:"concentration",modifier:1}]}]},{id:"holy-casting",name:"Holy-Divine Casting",requires:[{id:"basic-magic",levels:1}],requirementType:"and",description:"Grants you the ability to cast Holy/Divine Spells.",globalParams:[],colors:{unavailable:"#C5B986",selected:"#e2c846"},cost:1,providedAbilities:[{id:"smite",gain:!0},{id:"guiding-bolt",gain:!0},{id:"death-ward",gain:!0},{id:"restoration",gain:!0},{id:"turn-undead",gain:!0},{id:"bless",gain:!0},{id:"spirit-guardians",gain:!0},{id:"holy-casting",modifier:1,modifiers:[],gain:!0}]},{id:"holy-power",name:"Holy Power",requires:[{id:"holy-casting",levels:1}],description:"Increases the damage of Smite and Guiding Bolt by 1",colors:{unavailable:"#C5B986",selected:"#948540"},cost:1,providedAbilities:[{id:"smite",modifiers:[{id:"dmg",modifier:1}]},{id:"guiding-bolt",modifiers:[{id:"dmg",modifier:1}]}]},{colors:{unavailable:"#C5B986",selected:"#e6c11d"},id:"advanced-guiding-bolt",requires:[{id:"holy-power",levels:1}],name:"Advanced Guiding Bolt",description:"Guiding bolt now gives allies +2 to hit the target next round.",cost:1,providedAbilities:[{id:"guiding-bolt",modifiers:{hit:1}}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"swimming",requires:[{id:"speed",levels:1}],name:"Swimming",description:"Congrats! You are a unit.",cost:1,providedAbilities:[{id:"swimming",gain:!0}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"advanced-swimming",requires:[{id:"swimming",levels:1}],name:"Advanded Swimming",description:"Increases potential water speed by 3.",cost:1,providedAbilities:[{id:"swimming",modifiers:{movement:3}}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"ferry",requires:[{id:"advanced-swimming",levels:1}],name:"Ferry",description:"Grants the Ferry ability",cost:1,providedAbilities:[{id:"ferry",gain:!0}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"diving",requires:[{id:"advanced-swimming",levels:1}],name:"Diving",description:"Grants the Diving ability",cost:2,providedAbilities:[{id:"diving",gain:!0}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"submarine-transportation",requires:[{id:"diving",levels:1}],name:"Submarine Transportation",description:"Grants the Submarine Transportation ability",cost:1,providedAbilities:[{id:"submarine-transportation",gain:!0}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"attack-from-the-deep",requires:[{id:"diving",levels:1}],name:"Attack From The Deep",description:"Grants the Attack From The Deep ability",cost:2,providedAbilities:[{id:"attack-from-the-deep",gain:!0}]},{id:"191",name:"Enchantment",requires:[{id:"basic-magic",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[],gain:!0},{id:"beguile",modifier:1,modifiers:[],gain:!0},{id:"dominate",modifier:1,modifiers:[],gain:!0},{id:"Enchan-casting-id-26",modifier:1,modifiers:[],gain:!0}]},{id:"180",name:"Compelling Beguile",requires:[{id:"alter-emotions-1",levels:1}],requirementType:"and",description:"Beguiled opponents can now be Compelled and Charmed.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"beguile",modifier:1,modifiers:[{id:"compelled",modifier:1,set:!1},{id:"charmed",modifier:1,set:!1}]}]},{id:"beguile-3",name:"Weakining beguile",requires:[{id:"alter-emotions-1",levels:1}],requirementType:"and",description:"Charmed opponents make 1 fewer attack against you.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"beguile",modifier:1,modifiers:[{id:"numAttacks",modifier:1,set:!1}]}]},{id:"alter-emotions-1",name:"Manipulator",requires:[{id:"191",levels:1}],requirementType:"and",description:"You are better at altering emotions and beguiling.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[{id:"amt",modifier:1,set:!1}]},{id:"beguile",modifier:1,modifiers:[{id:"be-units",modifier:1,set:!1}]}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command",requires:[{id:"basic",levels:1}],name:"Command",cost:1,providedAbilities:[{id:"command",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-plus",requires:[{id:"command",levels:1}],name:"Command+",levels:3,levelCost:[1,1,1],providedAbilities:[{id:"command",modifier:1,modifiers:[{id:"commandRadius",modifier:50,set:!1}]}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"aggro-command",requires:[{id:"command-plus",levels:1}],name:"Aggressive Commander",cost:1,providedAbilities:[{id:"aggro-command",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-plus-2",requires:[{id:"command-plus",levels:2}],name:"Energetic Commander",cost:1,providedAbilities:[{id:"energetic-commander",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-2",requires:[{id:"command",levels:1}],name:"Rally",cost:1,providedAbilities:[{id:"rally",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"rally+",requires:[{id:"command-2",levels:1}],name:"Rally+",cost:1,providedAbilities:[{id:"rally",modifier:1,modifiers:[{id:"hp",modifier:2,set:!1}]},{id:"rally-2",modifiers:[{id:"hp",modifier:2,set:!1}],gain:!1}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-2-2",requires:[{id:"command-2",levels:1}],name:"Ordered Strike",cost:1,providedAbilities:[{id:"rally",modifiers:[{id:"bonus",modifier:1,set:!1}]}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-2-2-1",requires:[{id:"command-2-2",levels:1}],name:"Ordered Strike 2",cost:1,providedAbilities:[{id:"rally-2",modifier:1,modifiers:[],gain:!0}]},{id:"brace",name:"Brace",requires:[{id:"defend-1",levels:1}],requirementType:"and",description:"Brace for attacks while defending, negating charge effects and damaging nearby enemies.",globalParams:[],colors:{unavailable:"#bd7859",selected:"#d48630"},cost:1,providedAbilities:[{id:"defend",modifier:1,modifiers:[{id:"brace",modifier:1,set:!1}]}]},{id:"defend-2-3",name:"Attack of Opportunity",requires:[{id:"defend-1",levels:2}],requirementType:"and",globalParams:[],colors:{unavailable:"#d3976b",selected:"#d46430"},cost:1,providedAbilities:[{id:"attack-of-opportunity",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"professionals",requires:[{id:"armor",levels:3}],name:"Professionals",description:'Grants the "Professionals" ability.',cost:1,providedAbilities:[{id:"professionals",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"basic-magic-5",requires:[{id:"basic-magic",levels:1}],name:"Necromancy",description:"Cast Necromancer spells.",cost:1,providedAbilities:[{id:"necromancy",modifier:1,modifiers:[],gain:!0},{id:"raise-dead-copy",modifier:1,modifiers:[],gain:!0},{id:"raise-dead",modifier:1,modifiers:[],gain:!0},{id:"knit-flesh",modifier:1,modifiers:[],gain:!0},{id:"wither",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necromancy-raise-dead",requires:[{id:"basic-magic-5",levels:1}],name:"Raise Dead+",description:"Increases the health of raised units.",cost:1,providedAbilities:[{id:"raise-dead",modifier:1,modifiers:[{id:"raiseHp",modifier:25,set:!1}]}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necromancy-raise-dead-1",requires:[{id:"necromancy-raise-dead",levels:1}],name:"Raise Dead++",description:"Raise units to full health.",cost:1,providedAbilities:[{id:"raise-dead",modifier:1,modifiers:[{id:"raiseHp",modifier:50,set:!1}]}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necro-prof",requires:[{id:"basic-magic-5",levels:1}],name:"Necromantic Profiency",description:"Increases the number of necromancy spells you can cast",levels:2,levelCost:[1,1],providedAbilities:[{id:"necromancy",modifier:1,modifiers:[{id:"slots",modifier:2,set:!1}]}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necro-prof-1",requires:[{id:"necro-prof",levels:1}],name:"Necromantic Mastery",description:"Further increases the number of spells you can cast",cost:1,providedAbilities:[{id:"necromancy",modifier:1,modifiers:[{id:"slots",modifier:1,set:!1}]}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necro-prof-2",requires:[{id:"necro-prof",levels:1}],name:"Necromancer",description:"You can now cast 2 necromancy spells per action.",cost:1,providedAbilities:[{id:"necromancy",modifier:1,modifiers:[{id:"spellsPerAction",modifier:1,set:!1}]}]},{id:"greater-restoration",name:"Greater Restoration",requires:[{id:"holy-casting",levels:1}],description:`Restoration now heals 5 HP.

Death Ward restores units to 3 HP.`,colors:{unavailable:"#C5B986",selected:"#bda841"},cost:1,providedAbilities:[{id:"restoration",modifier:1,modifiers:[{id:"hp",modifier:2,set:!1}]},{id:"death-ward",modifier:1,modifiers:[{id:"hp",modifier:1,set:!1}]}]},{id:"divine-restoration",name:"Divine Restoration",requires:[{id:"greater-restoration",levels:1}],description:"Restoration can now be cast for 2 spell slots and heals 10 HP if done this way.",colors:{unavailable:"#C5B986",selected:"#bda841"},cost:1,providedAbilities:[{id:"restoration",modifier:1,modifiers:[{id:"divine",modifier:1,set:!1}]}]},{id:"holy-avenger",name:"Holy Avenger",requires:[{id:"holy-power",levels:1}],colors:{unavailable:"#C5B986",selected:"#948540"},cost:1},{id:"undead-scourge",name:"Undead Scourge",requires:[{id:"holy-power",levels:1},{levels:"1",id:"paragon-of-divintiy"}],requirementType:"and",globalParams:[],colors:{unavailable:"#C5B986",selected:"#948540"},levels:2,levelCost:[1,1],providedAbilities:[{id:"turn-undead",modifier:1,modifiers:[{id:"range",modifier:1,set:!1}]}]},{id:"paragon-of-divintiy",name:"Paragon of Divinity",requires:[{id:"holy-casting",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#C5B986",selected:"#e2c846"},cost:1,providedAbilities:[{id:"bless",modifier:1,modifiers:[{id:"bless_tars",modifier:1,set:!1}]},{id:"spirit-guardians",modifier:1,modifiers:[{id:"armor_debuff",modifier:1,set:!1}]}]},{id:"divine-prof",name:"Divine Proficiency",requires:[{id:"holy-casting",levels:1}],colors:{unavailable:"#C5B986",selected:"#e2c846"},levels:3,levelCost:[2,2,2],providedAbilities:[{id:"holy-casting",modifier:1,modifiers:[{id:"slots",modifier:2,set:!1}]}]},{id:"cleric",name:"Cleric",requires:[{id:"divine-prof",levels:2}],requirementType:"and",description:"Holy spells heal for 1 additional HP.",globalParams:[{id:"holyheal",modifier:1,set:!1}],exclusiveWith:["paladin"],colors:{unavailable:"#C5B986",selected:"#e2c846"},cost:1,providedAbilities:[{id:"restoration",modifier:1,modifiers:[{id:"hp",modifier:1,set:!1}]},{id:"death-ward",modifier:1,modifiers:[{id:"hp",modifier:1,set:!1}]}]},{id:"paladin",name:"Paladin",requires:[{id:"divine-prof",levels:2}],requirementType:"and",description:"Holy spells deal +1 damage",globalParams:[],exclusiveWith:["cleric"],colors:{unavailable:"#C5B986",selected:"#e2c846"},cost:1,providedAbilities:[{id:"smite",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]},{id:"turn-undead",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]},{id:"spirit-guardians",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]},{id:"guiding-bolt",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]}]},{id:"attack-node",name:"Melee Attack",requires:[{id:"basic",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:4,levelCost:[1,3,4,5],providedAbilities:[{id:"Attack_norm",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}],gain:!0},{id:"multi-attack",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]}]},{id:"Multi_attack-1-dz",name:"Multistrike",requires:[{id:"attack-node",levels:1}],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:2,levelCost:[3,4],providedAbilities:[{id:"multi-attack",modifier:1,modifiers:[{id:"numatks",modifier:1,set:!1}],gain:!0}]},{id:"attack-node-1-dv",name:"Piercing Strikes",requires:[{id:"attack-node",levels:1}],requirementType:"and",description:"Attacks always do some damage.",globalParams:[],exclusiveWith:["attack-node-1-cy","node-325881","node-165949","node-465098","node-91805","node-354778"],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:2,levelCost:[2,5],providedAbilities:[{id:"Attack_norm",modifier:1,modifiers:[{id:"dmg2",modifier:1,set:!1}]},{id:"multi-attack",modifier:1,modifiers:[{id:"dmg2",modifier:1,set:!1}]}]},{id:"basic-1-ay",name:"Ranged Attack",requires:[{id:"basic",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#9A5C82",selected:"#831256"},levels:4,levelCost:[1,3,4,5],providedAbilities:[{id:"ranged-attack",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}],gain:!0}]},{id:"basic-1-ay-1-ed",name:"Marksman",requires:[{id:"basic-1-ay",levels:1}],colors:{unavailable:"#9A5C82",selected:"#831256"},levels:5,levelCost:[1,2,3,4,5],providedAbilities:[{id:"ranged-attack",modifier:1,modifiers:[{id:"range",modifier:1,set:!1}]}]},{id:"ranged-piercing-001",name:"Piercing Arrowheads",requires:[{id:"basic-1-ay",levels:1}],requirementType:"and",description:"Ranged attacks pierce armor.",globalParams:[],exclusiveWith:["node-159861","node-549667","node-25059"],colors:{unavailable:"#9A5C82",selected:"#831256"},cost:1,providedAbilities:[{id:"ranged-attack",modifier:1,modifiers:[{id:"dmg2",modifier:1,set:!1}]}]},{id:"attack-node-1-bv",name:"Tie Down",requires:[{id:"attack-node",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:7,levelCost:[1,1,1,1,1,1,1],providedAbilities:[{id:"tie_down_001",modifier:1,modifiers:[{id:"spd_down",modifier:2,set:!1}],gain:!0}]},{id:"Seige-attacker",name:"Seige Attacker",requires:[{id:"attack-node",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"seige-id-8",modifier:1,modifiers:[{id:"seige_atk",modifier:1,set:!1}],gain:!0}]},{id:"Massive-1-dx",name:"Massive",requires:[{id:"Seige-attacker",levels:1}],requirementType:"and",description:"This unit has learned how to project its enormity across the battlefield.",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},cost:1,providedAbilities:[{id:"anti-air-180",modifier:1,modifiers:[]}]},{id:"Hurler-1-dx-1-bv",name:"Hurler",requires:[{id:"Massive-1-dx",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:3,levelCost:[1,2,3],providedAbilities:[{id:"hurl",modifier:1,modifiers:[{id:"hurl_range",modifier:1,set:!1},{id:"hurl_dmg",modifier:2,set:!1}],gain:!0}]},{id:"deflect-1-1-ev",name:"Deflecter",requires:[{id:"deflect-1",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#403c3a",selected:"#cd8150"},levels:2,levelCost:[1,1],providedAbilities:[{id:"deflect",modifier:1,modifiers:[{id:"deflect",modifier:1,set:!1}]}]},{id:"attack-node-1-cy",name:"Critical Strike",requires:[{id:"attack-node",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:["node-465098","node-165949","attack-node-1-dv","node-91805","node-325881","node-354778"],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},cost:1,providedAbilities:[{id:"critical-id-98",modifier:1,modifiers:[],gain:!0}]},{id:"attack-node-1-cy-1-ez",name:"Exploding Critical Strike",requires:[{id:"attack-node-1-cy",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},cost:1,providedAbilities:[{id:"critical-id-98",modifier:1,modifiers:[{id:"base",modifier:-1,set:!1},{id:"explode",modifier:1,set:!1}]}]},{id:"basic-magic-1-ev",name:"Evocation",requires:[{id:"basic-magic",levels:1}],requirementType:"and",description:"Grants you the ability to cast Evocation spells.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},cost:1,providedAbilities:[{id:"evocation-casting",modifier:1,modifiers:[],gain:!0},{id:"magic-barrageid-22",modifier:1,modifiers:[],gain:!0}]},{id:"basic-magic-1-ev-1-dd",name:"Concussive Barrage",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"When you cast Magical Barrage you can choose to instead deal no damage but cause the enemy to be unable to move on their next turn.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:2,levelCost:[1,1],providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_con",modifier:1,set:!1},{id:"mb_con2",modifier:1,set:!1}]}]},{id:"basic-magic-1-ev-1-dz",name:"Barrage Effect",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"When you cast the Magical Barrage Spell you can add an effect on the target.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:2,levelCost:[1,1],providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_effect",modifier:1,set:!1}]}]},{id:"basic-magic-1-ev-1-dv",name:"Enhanced Barrage",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"Magical barrage now does more damage.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:3,levelCost:[1,2,3],providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_dmg",modifier:2,set:!1}]}]},{id:"basic-magic-1-ev-1-cd",name:"Evocation Proficiency",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"You can cast more evocation spells",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"evocation-casting",modifier:1,modifiers:[{id:"evo_slots",modifier:2,set:!1}]}]},{id:"basic-magic-1-ev-1-dv-1-bz",name:"Lasting magics",requires:[{id:"basic-magic-1-ev-1-cd",levels:4}],requirementType:"and",description:"Trade damage now for damage later.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},cost:1,providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_effect",modifier:2,set:!1},{id:"mb_dmg",modifier:-1,set:!1}]}]},{id:"basic-magic-1-ev-1-cd-1-ez",name:"Powerful Magics",requires:[{id:"basic-magic-1-ev-1-cd",levels:4}],requirementType:"and",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},cost:1,providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_dmg",modifier:2,set:!1}]}]},{id:"basic-magic-1-ev-1-az",name:"Enhanced Cantrip Strike",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"Increases the potency of Cantrip Strike.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"cantrip-barrage",modifier:1,modifiers:[{id:"can_dmg",modifier:1,set:!1}]}]},{id:"basic-magic-1-ev-1-az-1-dy",name:"Piercing Cantrip Strike",requires:[{id:"basic-magic-1-ev-1-az",levels:1}],requirementType:"and",description:"Cantrip strike now does piercing damage.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#850202",selected:"#ff0004"},cost:1,providedAbilities:[{id:"cantrip-barrage",modifier:1,modifiers:[{id:"can_pierce",modifier:1,set:!1},{id:"tag-piercing",modifier:1,set:!1}]}]},{id:"basic-magic-1-by",name:"Abjuration",requires:[{id:"basic-magic",levels:1}],requirementType:"and",description:"You can now cast abjuration spells.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},cost:1,providedAbilities:[{id:"abjuration-id-11",modifier:1,modifiers:[{id:"",modifier:1,set:!1}],gain:!0},{id:"shield-id-152",modifier:1,modifiers:[],gain:!0},{id:"Magical-Deflection-id-57",modifier:1,modifiers:[],gain:!0},{id:"armor-of-agathys",modifier:1,modifiers:[],gain:!0},{id:"Mage-armor-id-92",modifier:1,modifiers:[],gain:!0}]},{id:"basic-magic-1-by-1-ex",name:"Abjuration Proficiency",requires:[{id:"basic-magic-1-by",levels:1}],requirementType:"and",description:"You can cast more abjuration spells.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"abjuration-id-11",modifier:1,modifiers:[{id:"abju_slots",modifier:2,set:!1}]}]},{id:"basic-magic-1-by-1-ey",name:"Magical Shielding",requires:[{id:"basic-magic-1-by",levels:1}],requirementType:"and",description:"Shield and magical deflection are upgraded.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},levels:2,levelCost:[2,3],providedAbilities:[{id:"shield-id-152",modifier:1,modifiers:[{id:"shield_armor",modifier:1,set:!1},{id:"shield_count",modifier:1,set:!1}]},{id:"Magical-Deflection-id-57",modifier:1,modifiers:[{id:"mdef_count",modifier:2,set:!1}]}]},{id:"basic-magic-1-by-1-ey-1-ey",name:"Magical redirection",requires:[{id:"basic-magic-1-by-1-ey",levels:1}],requirementType:"and",description:"Ranged returned to sender.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},cost:1,providedAbilities:[{id:"Magical-Deflection-id-57",modifier:1,modifiers:[{id:"redirect",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-ey-1-ez",name:"Volitile Shield",requires:[{id:"basic-magic-1-by-1-ey",levels:1}],requirementType:"and",description:"Attacks fully absorbed by shield (reg. armor + shield armor) hurt the attacker.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},cost:1,providedAbilities:[{id:"shield-id-152",modifier:1,modifiers:[{id:"shield_dmg",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-by",name:"Magical Armor",requires:[{id:"basic-magic-1-by",levels:1}],requirementType:"and",description:"Upgrade your magical armor.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},levels:2,levelCost:[2,2],providedAbilities:[{id:"armor-of-agathys",modifier:1,modifiers:[{id:"temp_hp",modifier:1,set:!1}]},{id:"Mage-armor-id-92",modifier:1,modifiers:[{id:"m_armor",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-by-1-cd",name:"Lasting Armor",requires:[{id:"basic-magic-1-by-1-by",levels:1}],requirementType:"and",description:"Mage armor lasts longer",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"Mage-armor-id-92",modifier:1,modifiers:[{id:"m-armor-turns",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-by-1-ex",name:"Subzero Armor",requires:[{id:"basic-magic-1-by-1-by",levels:1}],requirementType:"and",description:"Armor of agathys is more effective.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},levels:2,levelCost:[1,2],providedAbilities:[{id:"armor-of-agathys",modifier:1,modifiers:[{id:"temp_hp",modifier:1,set:!1},{id:"aga_effect",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-ex-1-dy",name:"Reactive Abjurer",requires:[{id:"basic-magic-1-by-1-ex",levels:2}],requirementType:"and",description:"Makes shield and magical deflection at the cost of mage armor and armor of agathys.",globalParams:[],exclusiveWith:["basic-magic-1-by-1-ex-1-ey"],colors:{unavailable:"#5F5F90",selected:"#5082EF"},cost:1,providedAbilities:[{id:"Mage-armor-id-92",modifier:1,modifiers:[{id:"m_armor",modifier:-1,set:!1}]},{id:"armor-of-agathys",modifier:1,modifiers:[{id:"temp_hp",modifier:-2,set:!1}]},{id:"shield-id-152",modifier:1,modifiers:[{id:"shield_armor",modifier:3,set:!1}]},{id:"Magical-Deflection-id-57",modifier:1,modifiers:[{id:"mdef_count",modifier:3,set:!1}]}]},{id:"basic-magic-1-by-1-ex-1-ey",name:"Prepared Abjurer",requires:[{id:"basic-magic-1-by-1-ex",levels:2}],requirementType:"and",description:"Improve Mage armor and armor of agathys at the cost of reactive shielding.",globalParams:[],exclusiveWith:["basic-magic-1-by-1-ex-1-dy"],colors:{unavailable:"#5F5F90",selected:"#5082EF"},cost:1,providedAbilities:[{id:"armor-of-agathys",modifier:1,modifiers:[{id:"temp_hp",modifier:2,set:!1}]},{id:"Mage-armor-id-92",modifier:1,modifiers:[{id:"m_armor",modifier:1,set:!1},{id:"m-armor-turns",modifier:1,set:!1}]},{id:"shield-id-152",modifier:1,modifiers:[{id:"shield_armor",modifier:-1,set:!1}]},{id:"Magical-Deflection-id-57",modifier:1,modifiers:[{id:"mdef_count",modifier:-1,set:!1}]}]},{id:"basic-magic-1-av",name:"Divination",requires:[{id:"basic-magic",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"divination-casting",modifier:1,modifiers:[],gain:!0},{id:"Gift-fore-id-135",modifier:1,modifiers:[],gain:!0},{id:"Portent-id-145",modifier:1,modifiers:[],gain:!0},{id:"Phan-sight-id-124",modifier:1,modifiers:[],gain:!0}]},{id:"basic-magic-1-av-1-dd",name:"Divination Proficiency",requires:[{id:"basic-magic-1-av",levels:1}],requirementType:"and",description:"You can cast more divination spells.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"divination-casting",modifier:1,modifiers:[{id:"div_slots",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-ad",name:"Gift of Foresight",requires:[{id:"basic-magic-1-av",levels:1}],requirementType:"and",description:"Improved gift of foresight.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_ac",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-ad-1-ed",name:"Advantage of Foresight",requires:[{id:"basic-magic-1-av-1-ad",levels:1}],requirementType:"and",description:"Gift of foresight now grains bonuses to attacking.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_atk",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-ad-1-az",name:"Multiple foresight",requires:[{id:"basic-magic-1-av-1-ad",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_num",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-ad-1-az-1-bz",name:"Gift of reaction",requires:[{id:"basic-magic-1-av-1-ad-1-az",levels:1},{levels:"1",id:"basic-magic-1-av-1-ad-1-ed"}],requirementType:"or",description:"Gift of foresight now allows a unit to move away from an enemy.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_react",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-cy",name:"Deep Portent",requires:[{id:"basic-magic-1-av",levels:1}],requirementType:"and",description:"Reroll more dice from portent.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},levels:2,levelCost:[1,1],providedAbilities:[{id:"Portent-id-145",modifier:1,modifiers:[{id:"Port_num",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-ez",name:"Spectre Sight",requires:[{id:"basic-magic-1-av",levels:1}],requirementType:"and",description:"Improved Phantom sight.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Phan-sight-id-124",modifier:1,modifiers:[{id:"ps-num",modifier:1,set:!1},{id:"base1",modifier:-1,set:!1},{id:"ps-adv",modifier:1,set:!1}],gain:!0}]},{id:"basic-magic-1-av-1-ez-1-ax",name:"Command Sight",requires:[{id:"basic-magic-1-av-1-ez",levels:1}],requirementType:"and",description:"Improved phantom sight for command units.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Phan-sight-id-124",modifier:1,modifiers:[{id:"base2",modifier:-1,set:!1},{id:"ps-comm",modifier:1,set:!1},{id:"ps-num",modifier:1,set:!1}],gain:!1}]},{id:"basic-magic-1-av-1-dd-1-bx",name:"Precognitist",requires:[{id:"basic-magic-1-av-1-dd",levels:1}],requirementType:"and",description:"Improves gift of foresight and phantom sight at the cost of portent.",globalParams:[],exclusiveWith:["basic-magic-1-av-1-dd-1-av"],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_atk",modifier:1,set:!1},{id:"gof_num",modifier:1,set:!1},{id:"gof_ac",modifier:1,set:!1}]},{id:"Phan-sight-id-124",modifier:1,modifiers:[{id:"ps-num",modifier:1,set:!1}]},{id:"Portent-id-145",modifier:1,modifiers:[{id:"Port_num",modifier:-1,set:!1}]}]},{id:"basic-magic-1-av-1-dd-1-av",name:"Tea reader",requires:[{id:"basic-magic-1-av-1-dd",levels:1}],requirementType:"and",description:"Greatly improves portent at the cost of gift of foresight and spectre sight.",globalParams:[],exclusiveWith:["basic-magic-1-av-1-dd-1-bx"],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Portent-id-145",modifier:1,modifiers:[{id:"Port_num",modifier:5,set:!1}]},{id:"Phan-sight-id-124",modifier:1,modifiers:[{id:"ps-num",modifier:-1,set:!1}]},{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_ac",modifier:-1,set:!1},{id:"gof_atk",modifier:-1,set:!1}]}]},{id:"enc-prof-191-1-az",name:"Enchantment Proficiency",requires:[{id:"191",levels:1}],requirementType:"and",description:"You can cast more enchantment spells.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"Enchan-casting-id-26",modifier:1,modifiers:[{id:"enc-slots",modifier:2,set:!1}]}]},{id:"alter-emotions-1-1-az",name:"Soother",requires:[{id:"alter-emotions-1",levels:1}],requirementType:"and",description:"Alter emotions increase a units hp significantly.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[{id:"amt",modifier:1,set:!1}]}]},{id:"alter-emotions-1-1-bx",name:"Rioter",requires:[{id:"alter-emotions-1",levels:1}],requirementType:"and",description:"Alter emotions does more damage.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[{id:"riot-amt",modifier:1,set:!1}]}]},{id:"alter-emotions-1-1-bx-1-ez",name:"Mass manipulation",requires:[{id:"alter-emotions-1-1-bx",levels:1},{levels:"1",id:"alter-emotions-1-1-az"}],requirementType:"or",description:"Alter emotions now spreads through the ranks.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[{id:"spread-ae",modifier:1,set:!1}]}]},{id:"beguile-3-1-dd",name:"Mass beguiling",requires:[{id:"beguile-3",levels:1},{levels:"1",id:"180"}],requirementType:"or",description:"Beguile now hits more targets.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"beguile",modifier:1,modifiers:[{id:"be-units",modifier:1,set:!1}]}]},{id:"191-1-ey",name:"Controlling",requires:[{id:"191",levels:1}],requirementType:"and",description:"You can dominate more units",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},levels:2,levelCost:[1,1],providedAbilities:[{id:"dominate",modifier:1,modifiers:[{id:"units",modifier:1,set:!1}]}]},{id:"dominant-191-1-ey-1-ev",name:"Dominant",requires:[{id:"191-1-ey",levels:1}],requirementType:"and",description:"You can control elite units.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"dominate",modifier:1,modifiers:[{id:"base",modifier:-1,set:!1},{id:"elite",modifier:1,set:!1}]}]},{id:"enc-prof-191-1-az-1-dy",name:"Master Manipulator",requires:[{id:"enc-prof-191-1-az",levels:1}],requirementType:"and",description:"You are even better at manipulation.",globalParams:[],exclusiveWith:["enc-prof-191-1-az-1-ex"],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"beguile",modifier:1,modifiers:[{id:"frightened",modifier:2,set:!1}]},{id:"alter-emotions",modifier:1,modifiers:[{id:"amt",modifier:2,set:!1}]}]},{id:"enc-prof-191-1-az-1-ex",name:"Iron will",requires:[{id:"enc-prof-191-1-az",levels:1}],requirementType:"and",description:"Greatly increases domination.",globalParams:[],exclusiveWith:["enc-prof-191-1-az-1-dy"],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"dominate",modifier:1,modifiers:[{id:"units",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd",name:"Conjuration",requires:[{id:"basic-magic",levels:1}],requirementType:"and",description:"You can now cast conjuration spells.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"conjuration-casting",modifier:1,modifiers:[],gain:!0},{id:"conjure-entities",modifier:1,modifiers:[],gain:!0},{id:"Por-id-110",modifier:1,modifiers:[],gain:!0},{id:"storm",modifier:1,modifiers:[],gain:!0}]},{id:"Conjuration-magic-1-cd-1-ax",name:"Conjuration Proficiency",requires:[{id:"Conjuration-magic-1-cd",levels:1}],requirementType:"and",description:"Cast more conjuration spells",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"conjuration-casting",modifier:1,modifiers:[{id:"con-num",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-ey",name:"Rapid Response Unit",requires:[{id:"Conjuration-magic-1-cd-1-av",levels:2}],requirementType:"and",description:"You prepare units to aid you in battle.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"Por-id-110",modifier:1,modifiers:[{id:"por1",modifier:1,set:!1},{id:"por1-num",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-av",name:"Large Portal",requires:[{id:"Conjuration-magic-1-cd",levels:1}],requirementType:"and",description:"More stable portals.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[1,1],providedAbilities:[{id:"Por-id-110",modifier:1,modifiers:[{id:"port-use",modifier:1,set:!1},{id:"port-dur",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-av-1-dy",name:"Gateway",requires:[{id:"Conjuration-magic-1-cd-1-av",levels:1}],requirementType:"and",description:"A stable rift between two locations.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"Por-id-110",modifier:1,modifiers:[{id:"port-use",modifier:3,set:!1},{id:"port-dur",modifier:3,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd",name:"Tempest",requires:[{id:"Conjuration-magic-1-cd",levels:1}],requirementType:"and",description:"A more devastating storm.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[2,2],providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-dmg",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-by",name:"Storm Rider",requires:[{id:"Conjuration-magic-1-cd-1-dd",levels:1}],requirementType:"and",description:"Move with the storm.",globalParams:[],exclusiveWith:["Conjuration-magic-1-cd-1-dd-1-dz"],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"sto-ride",modifier:2,set:!1},{id:"sto-base",modifier:-1,set:!1},{id:"storm-dmg",modifier:-2,set:!1},{id:"storm-mve",modifier:-1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-ax",name:"Superstorm",requires:[{id:"Conjuration-magic-1-cd-1-dd",levels:1}],requirementType:"and",description:"Larger storm.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:3,levelCost:[1,2,2],providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-size",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-ay",name:"Cloudburst",requires:[{id:"Conjuration-magic-1-cd-1-dd",levels:1}],requirementType:"and",description:"Storm moves faster.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-mve",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-by-1-cd",name:"Storm King",requires:[{id:"Conjuration-magic-1-cd-1-dd-1-by",levels:1},{levels:2,id:"Conjuration-magic-1-cd-1-dd-1-ay"},{levels:"1",id:"Conjuration-magic-1-cd-1-dd-1-ax"}],requirementType:"and",description:"You are the master of storms.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedStats:[{id:"",modifier:1,set:!1}],providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-dmg",modifier:-1,set:!1},{id:"storm-mve",modifier:-1,set:!1},{id:"sto-mas",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-cx",name:"Summoner",requires:[{id:"Conjuration-magic-1-cd",levels:1}],requirementType:"and",description:"You can summon stronger entities.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:5,levelCost:[1,1,1,1,1],providedAbilities:[{id:"conjure-entities",modifier:1,modifiers:[{id:"sum1",modifier:1,set:!1},{id:"sum2",modifier:1,set:!1},{id:"sum3",modifier:1,set:!1},{id:"sum4",modifier:1,set:!1},{id:"sum5",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-cx-1-cz",name:"Mass summoning",requires:[{id:"Conjuration-magic-1-cd-1-cx",levels:2}],requirementType:"and",description:"You summon more entities.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[1,1],providedAbilities:[{id:"conjure-entities",modifier:1,modifiers:[{id:"sum-num",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-dx",name:"Storm wall",requires:[{id:"Conjuration-magic-1-cd-1-dd",levels:1}],requirementType:"and",description:"Units get trapped within the storm.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"sto-wall",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-dz",name:"Chaos storm",requires:[{id:"Conjuration-magic-1-cd-1-dd",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:["Conjuration-magic-1-cd-1-dd-1-by"],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-dmg",modifier:1,set:!1}],gain:!1}]},{id:"Conjuration-magic-1-cd-1-dd-1-dz-1-dz",name:"Hyper Storm",requires:[{id:"Conjuration-magic-1-cd-1-dd-1-dz",levels:1},{levels:2,id:"Conjuration-magic-1-cd-1-dd-1-ay"},{levels:3,id:"Conjuration-magic-1-cd-1-dd-1-ax"}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:2,providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-dmg",modifier:3,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-ay-1-ex",name:"Highstorm",requires:[{id:"Conjuration-magic-1-cd-1-dd",levels:1}],requirementType:"and",description:"Storm goes up.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[1,1],providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"sto-high",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-by-1-cd-1-cz",name:"Hurricane",requires:[{id:"Conjuration-magic-1-cd-1-dd-1-by-1-cd",levels:1},{levels:"1",id:"Conjuration-magic-1-cd-1-dd-1-dz-1-dz"}],requirementType:"or",description:"Storm does more damage.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:3,providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-dmg",modifier:3,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-av-1-dy-1-ev",name:"Hellgate",requires:[{id:"Conjuration-magic-1-cd-1-av-1-dy",levels:1}],requirementType:"and",description:"Open a stable portal to somewhere aweful.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[2,2],providedAbilities:[{id:"Por-id-110",modifier:1,modifiers:[{id:"hell-por",modifier:3,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-av-1-dy-1-az",name:"Divine Portal",requires:[{id:"Conjuration-magic-1-cd-1-av-1-dy",levels:1}],requirementType:"and",description:"Call in powerful allies.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[2,2],providedAbilities:[{id:"Por-id-110",modifier:1,modifiers:[{id:"hev-por",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-av-1-bd",name:"Devouring Portal",requires:[{id:"Conjuration-magic-1-cd-1-av",levels:1}],requirementType:"and",description:"Portal pulls low mass units into it.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"Por-id-110",modifier:1,modifiers:[{id:"dev-por",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-bz",name:"Massive Entanglement",requires:[{id:"Conjuration-magic-1-cd",levels:1}],requirementType:"and",description:"Entangle a larger area.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"entangling-ground",modifier:1,modifiers:[{id:"eg-hex",modifier:1,set:!1}]}]},{id:"immentangle",name:"Immobilizing Entanglement",requires:[{id:"Conjuration-magic-1-cd-1-bz",levels:1}],requirementType:"and",description:"Entanglement traps units.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"entangling-ground",modifier:1,modifiers:[{id:"eg-imm",modifier:1,set:!1},{id:"base",modifier:-1,set:!1}]}]},{id:"dming-entangle",name:"Damaging Entanglement",requires:[{id:"Conjuration-magic-1-cd-1-bz",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[1,1],providedAbilities:[{id:"entangling-ground",modifier:1,modifiers:[{id:"eg-dmg",modifier:2,set:!1}]}]},{id:"creeping-entangle",name:"Creeping Entanglement",requires:[{id:"dming-entangle",levels:1},{levels:"1",id:"immentangle"}],requirementType:"or",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[2,2],providedAbilities:[{id:"entangling-ground",modifier:1,modifiers:[{id:"eg-cree",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad",name:"Dragon Breath",requires:[{id:"basic",levels:1}],requirementType:"and",description:"You have a dragon!",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},levels:2,levelCost:[1,2],providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-dmg",modifier:1,set:!1}],gain:!0},{id:"draconic-bombardment",modifier:1,modifiers:[],gain:!1},{id:"breath-attacks",modifier:1,modifiers:[],gain:!0}]},{id:"Dragon-bw--1-ad-1-dy",name:"Enlarged Glands",requires:[{id:"Dragon-bw--1-ad",levels:1}],requirementType:"and",description:"Your dragon can use its breath attack more often.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"breath-attacks",modifier:1,modifiers:[{id:"bw-use",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-dy-1-dx",name:"Fast Metabolism",requires:[{id:"Dragon-bw--1-ad-1-dy",levels:1}],requirementType:"and",description:"Your dragon can recharges its breath weapon.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},cost:1,providedAbilities:[{id:"breath-attacks",modifier:1,modifiers:[{id:"bw-rchrg",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-dy-1-dx-1-ez",name:"Draconic Catabolism",requires:[{id:"Dragon-bw--1-ad-1-dy-1-dx",levels:1}],requirementType:"and",description:"Can spend health to get breath weapon charges back.",globalParams:[],exclusiveWith:["Dragon-bw--1-ad-1-dy-1-dx-1-az"],colors:{unavailable:"#752223",selected:"#ec2c2c"},cost:1,providedAbilities:[{id:"breath-attacks",modifier:1,modifiers:[{id:"bw-cat",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-dy-1-dx-1-az",name:"Draconic Annabolism",requires:[{id:"Dragon-bw--1-ad-1-dy-1-dx",levels:1}],requirementType:"and",description:"Can spend breath attacks to regain health.",globalParams:[],exclusiveWith:["Dragon-bw--1-ad-1-dy-1-dx-1-ez"],colors:{unavailable:"#752223",selected:"#ec2c2c"},cost:1,providedAbilities:[{id:"breath-attacks",modifier:1,modifiers:[{id:"bw-ann",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-dx",name:"Burning Breath",requires:[{id:"lasting-effect-001",levels:1}],requirementType:"and",description:"Breath weapons cause a lasting negative effect on enemies.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},levels:2,levelCost:[1,2],providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-burn",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-az",name:"Weakening Breath",requires:[{id:"lasting-effect-001",levels:1}],requirementType:"and",description:"Dragon fire weakens units.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-weak",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-bd",name:"Slowing Breath",requires:[{id:"lasting-effect-001",levels:1}],requirementType:"and",description:"Dragon fire slows enemy units.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-bite",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-dv",name:"Sundering Breath",requires:[{id:"lasting-effect-001",levels:1}],requirementType:"and",description:"Dragonfire reduces enemy armor.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-sund",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-dv-1-by",name:"Resistant Effect",requires:[{id:"Dragon-bw--1-ad-1-dv",levels:1},{levels:"1",id:"Dragon-bw--1-ad-1-bd"},{levels:"1",id:"Dragon-bw--1-ad-1-az"},{levels:"1",id:"Dragon-bw--1-ad-1-dx"}],requirementType:"or",description:"Breath weapon effects are harder to remove.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},cost:2,providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-eff",modifier:1,set:!1}]}]},{id:"lasting-effect-001",name:"Potent Dragonfire",requires:[{id:"Dragon-bw--1-ad",levels:1}],requirementType:"and",description:"Dragonfire does more damage.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},cost:1,providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-dmg",modifier:1,set:!1}]}]},{id:"Dragon-bw-environ-1-ad-1-cx",name:"Powerful Dragonfire",requires:[{id:"Dragon-bw--1-ad",levels:1}],requirementType:"and",description:"Dragonfire does more damage.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},cost:1,providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-dmg",modifier:1,set:!1}]}]},{id:"Dragon-bw-environ-1-ad-1-cx-1-ad",name:"Impassible Dragonfire",requires:[{id:"Dragon-bw-environ-1-ad-1-cx",levels:1}],requirementType:"and",description:"Units cannot walk through a hex hit by your draconic attack.",globalParams:[],exclusiveWith:["node-459869"],colors:{unavailable:"#752223",selected:"#ec2c2c"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"draconic-bombardment",modifier:1,modifiers:[{id:"bw-block",modifier:1,set:!1}]}]},{id:"node-598526",name:"Skeleton",requires:[{id:"basic",levels:1}],requirementType:"and",description:"Congratulations, you have bones!",globalParams:[],exclusiveWith:[],colors:{unavailable:"#1d4125",selected:"#4ec76f"},cost:1,providedStats:[{id:"hp",modifier:3,set:!1}]},{id:"node-433117",name:"Musculature",requires:[{id:"node-598526",levels:1}],requirementType:"and",description:"Lets put some meat on them bones.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#1d4125",selected:"#4ec76f"},cost:1,providedStats:[{id:"hp",modifier:2,set:!1}]},{id:"node-25339",name:"Zombie",requires:[{id:"node-433117",levels:1}],requirementType:"and",description:"Ugh, that looks infected.",globalParams:[],exclusiveWith:["node-174838"],colors:{unavailable:"#1d4125",selected:"#4ec76f"},cost:1,providedStats:[{id:"hp",modifier:1,set:!1}],providedAbilities:[{id:"abl-13801",modifier:1,modifiers:[],gain:!0}]},{id:"node-334068",name:"Mount",requires:[{id:"node-433117",levels:1}],requirementType:"and",description:"You have an animal companion!",globalParams:[],exclusiveWith:[],colors:{unavailable:"#1d4125",selected:"#4ec76f"},cost:1,providedStats:[{id:"hp",modifier:8,set:!1}]},{id:"node-413125",name:"Dragon",requires:[{id:"node-334068",levels:1}],requirementType:"and",description:"You have a dragon!",globalParams:[],exclusiveWith:[],colors:{unavailable:"#1d4125",selected:"#4ec76f"},cost:1,providedStats:[{id:"hp",modifier:4,set:!1}]},{id:"node-165480",name:"Tough",requires:[{id:"node-598526",levels:1}],requirementType:"and",description:"You can take more damage.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#1d4125",selected:"#4ec76f"},levels:4,levelCost:[1,2,3,4],providedStats:[{id:"hp",modifier:1,set:!1}]},{id:"node-232632",name:"Vitality",requires:[{id:"node-433117",levels:1}],requirementType:"and",description:"You can regain hp as an action.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#1d4125",selected:"#4ec76f"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"abl-52949",modifier:1,modifiers:[{id:"heal",modifier:1,set:!1}],gain:!0}]},{id:"node-394800",name:"Medic",requires:[{id:"node-232632",levels:1}],requirementType:"and",description:"You can heal adjacent units.",globalParams:[],exclusiveWith:["node-279882"],colors:{unavailable:"#1d4125",selected:"#4ec76f"},cost:1,providedAbilities:[{id:"abl-52949",modifier:1,modifiers:[{id:"fri-heal",modifier:1,set:!1}]}]},{id:"node-174838",name:"Recovery",requires:[{id:"node-433117",levels:1}],requirementType:"and",description:"Increase your healing potential.",globalParams:[],exclusiveWith:["node-25339"],colors:{unavailable:"#1d4125",selected:"#4ec76f"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"abl-525999",modifier:1,modifiers:[{id:"recov",modifier:1,set:!1}]}]},{id:"node-530044",name:"Regeneration",requires:[{id:"node-174838",levels:1}],requirementType:"and",description:"Slowly gain HP.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#1d4125",selected:"#4ec76f"},cost:1,providedAbilities:[{id:"abl-521344",modifier:1,modifiers:[],gain:!0}]},{id:"node-453866",name:"Skeletal Realocation",requires:[{id:"node-598526",levels:1}],requirementType:"and",description:"Moving bones!",globalParams:[],exclusiveWith:["node-433117"],colors:{unavailable:"#1d4125",selected:"#4ec76f"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"abl-237348",modifier:1,modifiers:[{id:"br-heal",modifier:1,set:!1}],gain:!0}]},{id:"node-279882",name:"Potion Hoarder",requires:[{id:"node-232632",levels:1}],requirementType:"and",description:"Heal even better.",globalParams:[],exclusiveWith:["node-394800"],colors:{unavailable:"#1d4125",selected:"#4ec76f"},cost:1,providedAbilities:[{id:"abl-52949",modifier:1,modifiers:[{id:"heal",modifier:2,set:!1}]}]},{id:"node-372669",name:"Harpoon",requires:[{id:"basic-1-ay",levels:1}],requirementType:"and",description:"Tether a unit to yourself.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#9A5C82",selected:"#831256"},levels:3,levelCost:[2,3,4],providedAbilities:[{id:"abl-56276",modifier:1,modifiers:[]}]},{id:"node-276288",name:"Bone Accumulation",requires:[{id:"node-598526",levels:1}],requirementType:"and",description:"Gain hp by bones.",globalParams:[],exclusiveWith:["node-433117"],colors:{unavailable:"#1d4125",selected:"#4ec76f"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"abl-116216",modifier:1,modifiers:[]}]},{id:"node-165949",name:"Cursed Strikes",requires:[{id:"attack-node",levels:1}],requirementType:"and",description:"Attacks damage HP max.",globalParams:[],exclusiveWith:["node-465098","attack-node-1-dv","node-91805","attack-node-1-cy","node-325881","node-354778"],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},cost:1,providedAbilities:[{id:"abl-20374",modifier:1,modifiers:[],gain:!0}]},{id:"node-465098",name:"Vampiric Strikes",requires:[{id:"attack-node",levels:1}],requirementType:"and",description:"Attacks heal you.",globalParams:[],exclusiveWith:["attack-node-1-dv","node-165949","attack-node-1-cy","node-325881","node-354778","node-91805"],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:2,levelCost:[3,2],providedAbilities:[{id:"abl-166965",modifier:1,modifiers:[]}]},{id:"node-91805",name:"Strengthened Strikes",requires:[{id:"attack-node",levels:1}],requirementType:"and",description:"Increase base damage.",globalParams:[],exclusiveWith:["attack-node-1-dv","node-165949","attack-node-1-cy","node-465098","node-325881","node-354778"],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},cost:1,providedAbilities:[{id:"Attack_norm",modifier:1,modifiers:[{id:"strong",modifier:1,set:!1},{id:"base",modifier:-1,set:!1}]}]},{id:"node-471878",name:"Vampiric Regeneration",requires:[{id:"node-465098",levels:1}],requirementType:"and",description:"No limit to regeneration.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},cost:5,providedStats:[{id:"",modifier:1,set:!1}],providedAbilities:[{id:"abl-166965",modifier:1,modifiers:[{id:"base",modifier:-1,set:!1},{id:"adv",modifier:1,set:!1}]}]},{id:"node-325881",name:"Hamstringing Strike",requires:[{id:"attack-node",levels:1}],requirementType:"and",description:"Slow down opponents.",globalParams:[],exclusiveWith:["attack-node-1-cy","node-165949","attack-node-1-dv","node-465098","node-91805"],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:3,levelCost:[2,1,1],providedAbilities:[{id:"abl-208561",modifier:1,modifiers:[{id:"ham",modifier:1,set:!1}]}]},{id:"node-354778",name:"Rampaging Strikes",requires:[{id:"attack-node",levels:1}],requirementType:"and",description:"Can move 1 hex after each strike.",globalParams:[],exclusiveWith:["attack-node-1-cy","node-165949","node-325881","attack-node-1-dv","node-465098","node-91805"],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},cost:2,providedAbilities:[{id:"abl-333881",modifier:1,modifiers:[]}]},{id:"node-549667",name:"Sundering Arrowheads",requires:[{id:"basic-1-ay",levels:1}],requirementType:"and",description:"Ranged attacks reduce enemy armor.",globalParams:[],exclusiveWith:["ranged-piercing-001","node-159861","node-25059"],colors:{unavailable:"#9A5C82",selected:"#831256"},levels:2,levelCost:[2,2],providedAbilities:[{id:"ranged-attack",modifier:1,modifiers:[{id:"sund",modifier:1,set:!1}]}]},{id:"node-159861",name:"Poisoned Arrowheads",requires:[{id:"basic-1-ay",levels:1}],requirementType:"and",description:"Ranged attacks do damage over time.",globalParams:[],exclusiveWith:["ranged-piercing-001","node-549667","node-25059"],colors:{unavailable:"#9A5C82",selected:"#831256"},levels:2,levelCost:[2,2],providedAbilities:[{id:"ranged-attack",modifier:1,modifiers:[{id:"poi",modifier:1,set:!1}]}]},{id:"node-25059",name:"Whistling Arrowheads",requires:[{id:"basic-1-ay",levels:1}],requirementType:"and",description:"Your arrows cause a high pitched whistling, both scaring and distracting units.",globalParams:[],exclusiveWith:["ranged-piercing-001","node-159861","node-549667"],colors:{unavailable:"#9A5C82",selected:"#831256"},cost:1,providedAbilities:[{id:"ranged-attack",modifier:1,modifiers:[{id:"whis",modifier:1,set:!1}]}]},{id:"node-459869",name:"Draconic Quagmire",requires:[{id:"Dragon-bw-environ-1-ad-1-cx",levels:1}],requirementType:"and",description:"Your dragonfire creates a quagmire, nearly impossible to cross.",globalParams:[],exclusiveWith:["Dragon-bw-environ-1-ad-1-cx-1-ad"],colors:{unavailable:"#752223",selected:"#ec2c2c"},levels:2,levelCost:[1,1],providedAbilities:[{id:"draconic-bombardment",modifier:1,modifiers:[{id:"bw-quag",modifier:5,set:!1}]}]},{id:"node-531160",name:"Powerful Explusion",requires:[{id:"Dragon-bw--1-ad",levels:1}],requirementType:"and",description:"Draconic breath attack now hits multiple hexes.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},cost:1,providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"base",modifier:-1,set:!1},{id:"area",modifier:1,set:!1}]},{id:"draconic-bombardment",modifier:1,modifiers:[{id:"base",modifier:-1,set:!1},{id:"area",modifier:1,set:!1}]}]},{id:"node-102568",name:"Blasting Breathweapon",requires:[{id:"Dragon-bw--1-ad",levels:1}],requirementType:"and",description:"Breath attacks always do at least 1 damage.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},cost:3,providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-pierce",modifier:1,set:!1}]},{id:"draconic-bombardment",modifier:1,modifiers:[{id:"bw-pierce",modifier:1,set:!1}]}]}],nSe={attack:"#d92a2d",tag:"#c74141",holy:"#d7a435",enchantment:"#ab38d9",defense:"#bb864c",flying:"#6dcb20",aquatic:"#2698a8",magic:"#5269bd",movement:"#459068",undead:"#849064",concentration:"#e28baf",piercing:"#ec9569",command:"#46ddcb",healing:"#e15fab",mustering:"#dca542",necromancy:"#aded23",spell:"#3579cf",evocation:"#ff0000",abjuration:"#08084c",divination:"#05def7",conjuration:"#f06602","Dragon Breath":"#fb0000",heal:"#1dc92b"},rSe=[{id:"armor",name:"Armor"},{id:"hp",name:"Hit Points"},{id:"movement",name:"Movement"}],iSe=[{id:"base-dragon",name:"Base Dragon",build:{basic:!0,speed:7,flying:!0,"strafing-run":!0,armor:5,professionals:!0,"attack-node":1,"Dragon-bw--1-ad":1,"Dragon-bw--1-ad-1-dy":4}},{id:"unit-6185",name:"Skeleton-base",build:{basic:!0,speed:1,armor:2,"attack-node":1,"attack-node-1-dv":1,"node-598526":!0}},{id:"unit-11232",name:"Archers",build:{basic:!0,"basic-1-ay":1,"basic-1-ay-1-ed":1}},{id:"unit-1709",name:"Sea Snake",build:{basic:!0,speed:3,dash:!0,charge:!0,swimming:!0,"advanced-swimming":!0,ferry:!0,diving:!0,"attack-from-the-deep":!0}},{id:"unit-12053",name:"Paladin",build:{basic:!0,"basic-magic":!0,speed:2,dash:!0,charge:!0,armor:4,"defend-1":1,"guardian-1":!0,"guardian-2":!0,"holy-casting":!0,"holy-power":!0,"holy-avenger":!0,"undead-scourge":2,"paragon-of-divintiy":!0,"divine-prof":2,paladin:!0,"attack-node":2,"Multi_attack-1-dz":1}},{id:"unit-7407",name:"Cleric",build:{basic:!0,"basic-magic":!0,speed:2,dash:!0,armor:1,"holy-casting":!0,"holy-power":!0,"advanced-guiding-bolt":!0,"greater-restoration":!0,"divine-restoration":!0,"paragon-of-divintiy":!0,"divine-prof":3,cleric:!0,"basic-1-ay":1}},{id:"unit-12702",name:"Bone Dragon",build:{basic:!0,speed:7,flying:!0,armor:5,"defend-1":1,"attack-node":3,"Multi_attack-1-dz":2,"attack-node-1-dv":1,"Dragon-bw--1-ad":1,"Dragon-bw--1-ad-1-dy":4,"Dragon-bw--1-ad-1-az":1,"lasting-effect-001":!0,"node-598526":!0,"node-165480":4,"node-453866":3,"node-102568":!0}}],Gp={version:Z_e,abilities:Q_e,abilityTypes:J_e,globalParams:eSe,nodes:tSe,tagColors:nSe,stats:rSe,defaultUnits:iSe};function sSe({graphEvents$:t}){const{build:e,setSavedBuild:n,defaultUnits:r,setDefaultUnits:i,setSelectedUnit:s,selectedUnit:o}=T.useContext(us),{tagColors:a,setTagColors:l}=T.useContext(cf),{stats:c,setStats:h}=T.useContext(af),{abilityTypes:f,abilities:p,setAbilities:m,setAbilityTypes:v,globalParams:y,setGlobalParams:x}=T.useContext(tr),{nodes:b,setNodes:_,setSavedNodes:w}=T.useContext(_o),{version:E,setVersion:O}=T.useContext(cs),[A,M]=T.useState(""),[L,H]=T.useState(""),[G,z]=T.useState(`dragon-build-${new Date().toDateString()}`),[j,X]=T.useState(`dragon-trees-${new Date().toDateString()}`),V=(W,R)=>{const D=W.target.files,Q=new FileReader;Q.onload=K=>{var $,ne,me;HF(($=K.target)==null?void 0:$.result)&&(R==="build"?M(((ne=K.target)==null?void 0:ne.result)||""):R==="tree"&&H(((me=K.target)==null?void 0:me.result)||""))},Q.readAsText(D[0])},he=W=>{let R={},D="";if(W==="build")R=e==null?void 0:e.exportableBuild,D=`${G||"dragon-build"}.json`;else if(W==="trees"){const Q=j||"dragon-trees";R={version:E,abilities:p,abilityTypes:f,globalParams:y,nodes:b,tagColors:a,stats:c,defaultUnits:r},D=`${Q}.json`}if(D.length&&R){const Q=JSON.stringify(R,null,2),K=new Blob([Q],{type:"application/json"}),$=URL.createObjectURL(K),ne=document.createElement("a");ne.href=$,ne.download=D,document.body.appendChild(ne),ne.click(),document.body.removeChild(ne),URL.revokeObjectURL($)}},ce=W=>{A.length;const R=JSON.parse(A);R&&n({type:"imported",build:R})},te=W=>{if(L.length){const R=JSON.parse(L);n({type:"imported",build:{}}),R&&(R.defaultUnits&&i({type:"set",nodes:R.defaultUnits}),R.nodes&&_({type:"set",nodes:R.nodes}),R.abilities&&m({type:"set",abilities:R.abilities}),R.tagColors&&l({type:"set",colors:R.tagColors}),R.stats&&h({type:"set",stats:R.stats}),R.globalParams&&x({type:"set",params:R.globalParams}),R.abilityTypes&&v({type:"set",abilityTypes:R.abilityTypes}))}w({type:"imported",nodes:Math.random()})},Z=W=>{_({type:"reset"}),O({type:"set",version:"0.0.0"}),m({type:"set",abilities:[]}),v({type:"set",abilityTypes:[]}),l({type:"set",tagColors:{}}),h({type:"set",stats:[]}),x({type:"set",params:[]}),n({type:"imported",build:{}}),w({type:"imported",nodes:Math.random()})};return J("div",{className:"code-panel",children:[k(bn,{name:"Character Build",startOpen:!1,children:J("div",{className:"section",children:[J("div",{className:"uploader",children:[k("input",{type:"file",id:"1",onChange:W=>V(W,"build")}),J(Et,{disabled:!A,clicked:ce,children:["Import Build ",k(Qx,{})]})]}),J("div",{className:"downloader",children:[J("div",{children:["Save as:",k(os,{value:G,valueChanged:W=>z(W)})]}),J(Et,{type:"outline",color:"success",clicked:()=>he("build"),children:["Save Build ",k(ll,{})]})]})]})}),k(bn,{name:"Trees, Abilities, Etc",startOpen:!1,children:J("div",{className:"section",children:[J("div",{className:"uploader",children:[k("input",{type:"file",id:"1",onChange:W=>V(W,"tree")}),J(Et,{disabled:!L,clicked:te,children:["Import Trees/Abilities ",k(Qx,{})]})]}),J("div",{className:"downloader",children:[J("div",{children:["Save as:",k(os,{value:j,valueChanged:W=>X(W)})]}),J(Et,{color:"success",clicked:()=>he("trees"),children:["Save Current Trees/Abilities ",k(ll,{})]})]})]})}),J(bn,{name:"Presets",startOpen:!0,children:[J("div",{className:"reset",children:[J(Et,{color:"info",clicked:W=>{const R=Gp;s({}),n({type:"imported",build:{}}),O({type:"set",version:R.version}),i({type:"set",units:R.defaultUnits}),_({type:"set",nodes:R.nodes}),h({type:"set",stats:R.stats}),v({type:"set",abilityTypes:R.abilityTypes}),m({type:"set",abilities:R.abilities}),l({type:"set",colors:R.tagColors}),x({type:"set",params:R.globalParams}),w({type:"imported",nodes:Math.random()})},children:[k(oQ,{}),"Load Ed's Latest Build"]}),k("br",{})]}),J("div",{className:"version",children:[J("span",{children:["Ed's latest version:"," ",k("span",{className:"version-number",children:Gp.version})]}),J("span",{children:["Your Version:"," ",k("span",{className:ho({"version-number":!0,success:E===Gp.version,outdated:E!==Gp.version}),children:E})," "]})]}),k("div",{}),k("div",{className:"reset",children:J(Et,{color:"danger",clicked:Z,children:[k(NQ,{}),"Start from Scratch"]})})]})]})}function F3(t,e){const n=ze(t,r=>r.id);return er(e,r=>!tf(n,r.value))}function jw({providedStats:t=[],providedStatsChanged:e,options:n,name:r}){const i=(c,h)=>{const f=ut(t);f[h].id=c.value,e(f)},s=(c,h)=>{const f=ut(t);f[h].modifier=c,e(f)},o=(c,h)=>{let f=ut(t);f=er(f,(p,m)=>h!==m),e(f)},a=()=>{let c=ut(t);c.push({id:"",modifier:1,set:!1}),e(c)},l=c=>{const h=ut(t);h[c].set=!h[c].set,e(h)};return J("div",{className:"stats-panel",children:[t!=null&&t.length?ze(t,(c,h)=>J("div",{className:"stat-edit-line",children:[J("div",{className:"left",children:[k(bf,{className:"stat-select",styles:xf(),options:F3(t,n),onChange:f=>i(f,h),value:Ge(n,{value:c.id})}),k(o0,{value:c==null?void 0:c.modifier,valueChanged:f=>s(f,h)})]}),J("div",{className:"right",children:[k(Et,{clicked:f=>l(h),color:c!=null&&c.set?"white":"mutedText",children:k(_Q,{})}),k(Et,{color:"danger",clicked:f=>o(f,h),children:k(wo,{})})]})]},h)):"",k("div",{children:J(Et,{disabled:F3(t,n).length===0,type:"outline",color:"info",clicked:a,children:[k(ss,{}),"Add ",r]})})]})}function oSe(t,e){const n=Ge(e,{id:t});return n!=null&&n.params?ze(Object.keys(n.params),r=>({label:r,value:r})):[]}function aSe(t){let e={};return mt(t,n=>{e[n.id]=n.modifier}),e}function lSe({providedAbilities:t,providedAbilitiesChanged:e}){const n=T.useContext(tr).abilities,[r,i]=T.useState(t),s=(h,f)=>{const p=ut(r);p[f].id=h,p[f].modifiers=[],e(p)},o=(h,f)=>{let p=ut(r);p=er(p,(m,v)=>f!==v),e(p)},a=()=>{let h=ut(r);h.push({id:"",modifier:1}),e(h)},l=(h,f)=>{const p=ut(r);p[f].modifiers=h,e(p)},c=(h,f)=>{const p=ut(r);p[f].gain=!p[f].gain,e(p)};return T.useEffect(()=>{i(()=>t)},[t]),J("div",{className:"abilities-panel",children:[r.length?ze(r,(h,f)=>{var p;return J("div",{className:"ability-line",children:[J("div",{className:"ability-select",children:[k("button",{className:"remove-ability-button",onClick:m=>o(m,f),children:k(nJ,{})}),k(LL,{usedOptions:h.id?ze(er(r,{id:!h.id}),"id"):ze(r,"id"),defaultValue:h.id,valueChanged:m=>s(m,f)})]}),h.id?J("div",{className:"ability-options",children:[Ge(n,{id:h==null?void 0:h.id})&&k(Td,{ability:Ge(n,{id:h==null?void 0:h.id}),modifiers:aSe(h.modifiers),isPlayerAbility:!1,editable:!0,startOpen:!1}),k("div",{className:"grant",children:J("label",{className:"checkbox",children:["Grant",k("input",{type:"checkbox",checked:h.gain,onChange:m=>c(m,f)})]})}),(p=Ge(n,{id:h==null?void 0:h.id}))!=null&&p.params?k(jw,{providedStats:h.modifiers,providedStatsChanged:m=>l(m,f),options:oSe(h.id,n),name:"Modifier"}):""]}):""]},f)}):"",k("div",{className:"padding-md",children:J(es,{type:"outline",color:"info",clicked:a,children:["Add Related Ability",k(ss,{})]})})]})}function D3(t,e,n){if(e){if(t!=null&&t.length)return t;{const r=[];return rf(e,()=>r.push(t||n||1)),r}}else return[n||1]}function tb(t,e,n){n({levels:t,levelCost:e})}function uSe({levels:t,levelCost:e,cost:n,color:r,levelsChanged:i}){const[s,o]=T.useState(t||1),[a,l]=T.useState(D3(e,t||1,n||1));T.useEffect(()=>{o(t||1),l(D3(e,t,n))},[t,e,n]);const c=p=>{let m=s+1,v=a;v.length&&(v=[...v,1]),tb(m,v,i)},h=p=>{let m=t,v=e;t>1&&(m=t-1,v.length&&(v=v.slice(0,v.length-1))),tb(m,v,i)},f=(p,m)=>{let v=ut(a);p.shiftKey?v[m]-=1:v[m]+=1,tb(s,v,i)};return J("div",{className:"cost-panel",children:[k("button",{onClick:h,children:k(CQ,{})}),k("div",{className:"levels",children:rf(s,p=>k("span",{onClick:m=>f(m,p),className:"level-points",children:k("span",{className:"level-dot",style:{background:r},children:a.length?a[p]:a})},p))}),k("button",{onClick:c,children:k(ss,{})})]})}function L3(t,e,n){return n?ze(e,r=>Ge(t,{value:r})):Ge(t,{value:e})}function cSe(t){return ze(t,e=>({value:e.id,label:e.name,color:e.colors.selected}))}function nb(t,e,n){const r=vi(er(cSe(e),i=>!tf(t,i.value)),"label");return n?[{value:null,label:"(None)"},...r]:r}function BL({usedOptions:t,valueChanged:e,defaultValue:n,showEmptyOption:r=!1,isMulti:i=!1}){const{nodes:s}=T.useContext(_o),[o,a]=T.useState(nb(t,s,r)),[l,c]=T.useState(L3(o,n,i));T.useEffect(()=>{a(nb(t,s,r))},[s]),T.useEffect(()=>{a(nb(t,s,r))},[n]),T.useEffect(()=>{c(L3(o,n,i))},[o]);const h=f=>{e(i?ze(f,"value"):f.value)};return k(bf,{isMulti:i,className:"node-select",styles:xf({dot:!0,colorProp:"color"}),options:o,onChange:h,defaultValue:l,value:l})}function hSe({value:t,requirementType:e,valueChanged:n,nodeId:r}){const[i,s]=T.useState(t),[o,a]=T.useState(e==="or"),{nodes:l}=T.useContext(_o);T.useEffect(()=>{s(t),a(e==="or")},[t,e]);const c=(m,v,y)=>{let x=[...i];x[v][y]=m,n({requires:x,requirementType:o?"or":"and"})},h=m=>{let v=[...i];v.splice(m,1),n({requires:v,requirementType:o?"or":"and"})},f=()=>{let m=[...i];m.push({levels:"1"}),n({requires:m,requirementType:o?"or":"and"})},p=()=>{n({requires:i,requirementType:o?"and":"or"})};return J("div",{className:"require-select",children:[ze(i,(m,v)=>{var y;return J("div",{className:"requirement",children:[J("div",{className:"select",children:[k(BL,{defaultValue:m.id,usedOptions:[r],valueChanged:x=>c(x,v,"id")}),((y=Ge(l,{id:m.id}))==null?void 0:y.levels)>1?k(o0,{value:m.levels,valueChanged:x=>c(x,v,"levels"),min:1,max:Ge(l,{id:m.id}).levels||1}):k("span",{})]}),k(Et,{clicked:x=>h(v),color:"danger",children:k(wo,{})})]},v)}),i.length>1&&k("div",{className:"requirementType",children:J("label",{className:"checkbox",children:[k("input",{type:"checkbox",checked:o,onChange:p}),"Requires only one"]})}),J(Et,{color:"info",clicked:f,children:[k(ss,{})," Add requirement"]})]})}function dSe({value:t,valueChanged:e,nodeId:n}){const[r,i]=T.useState(t);return T.useEffect(()=>{i(t)},[t]),k("div",{className:"excludes-select",children:k(BL,{defaultValue:r,usedOptions:[n],valueChanged:o=>{let a=[...r];a=o,e(a)},isMulti:!0})})}function fSe(t){return ze(t,e=>({value:e.id,label:e.name}))}function pSe(t){return ze(t,e=>({value:e.id,label:e.id}))}function mSe({graphEvents$:t}){const{selectedNodeId:e,nodes:n,setNodes:r}=T.useContext(_o),{stats:i}=T.useContext(af),[s,o]=T.useState(Ge(n,{id:e})||{}),[a,l]=T.useState(s.id),[c,h]=T.useState(s.name),[f,p]=T.useState(s.description),[m,v]=T.useState(s.levels),[y,x]=T.useState(s.levelCost),[b,_]=T.useState(s.cost),[w,E]=T.useState(s.providedStats||[]),[O,A]=T.useState(s.providedAbilities||[]),[M,L]=T.useState(s.colors||{}),[H,G]=T.useState(s.id),[z,j]=T.useState(s.requires||[]),[X,V]=T.useState(s.requirementType||"and"),[he,ce]=T.useState(!1),{globalParams:te,setGlobalParams:Z}=T.useContext(tr),[le,W]=T.useState(s.globalParams||[]),R=T.useRef(null),D=T.useRef(s.id),[Q,K]=T.useState(s.exclusiveWith||[]);T.useEffect(()=>{o(Ge(n,{id:e})||{}),ce(!1)},[e]);const $=Ze=>{l(Ze.target.value),D.current=Ze.target.value,ce(!0)},ne=Ze=>{h(Ze.target.value),ce(!0)},me=Ze=>{p(Ze.target.value),ce(!0)},Re=Ze=>{var Oi,On;Ke(),(Oi=er(n,fs=>nf(fs.requires,{id:fs.id})))==null||Oi.length;let kn={name:"NEW NODE",requires:[{id:D.current,levels:1}],id:`node-${Math.floor(Math.random()*6e5)}`,colors:M};r({type:"add",node:kn}),t.next({event:"nodeAdded",data:{node:kn}}),(On=R.current)==null||On.focus()},ke=Ze=>{t.next({event:"nodeDeleted",data:{id:a}}),r({type:"remove",node:s})},Ke=Ze=>{const kn={id:a,name:c,requires:z,requirementType:z.length<2?"and":X,description:f,globalParams:le,exclusiveWith:Q,colors:M};m===1?y!=null&&y.length?kn.cost=y[0]:kn.cost=1:(kn.levels=m,kn.levelCost=y),w.length&&(kn.providedStats=w),O.length&&(kn.providedAbilities=O),t.next({event:"nodeEdited",data:{id:H,node:kn}}),ce(!1),r({type:"update",node:kn,targetId:H})},Xe=Ze=>{E(Ze),ce(!0)},nt=Ze=>{A(Ze),ce(!0)},Pe=Ze=>{x(Ze.levelCost),v(Ze.levels),ce(!0)},st=(Ze,kn)=>{L({...M,[kn]:Ze}),ce(!0)},gt=Ze=>{j(Ze.requires),V(Ze.requirementType),ce(!0)},un=Ze=>{W(Ze),ce(!0)},rn=Ze=>{K(Ze),ce(!0)};return P.useEffect(()=>{L(s.colors||{}),l(s.id),D.current=s.id,h(s.name),p(s.description),v(s.levels||1),x(s.levelCost),_(s.cost),E(s.providedStats||[]),A(s.providedAbilities||[]),G(s.id),j(s.requires||[]),V(s.requirementType||"and"),W(s.globalParams||[]),K(s.exclusiveWith||[])},[s]),s.id?J("div",{className:"edit-panel",children:[k("div",{className:"edit-panel-top",children:k(uSe,{levels:m,levelCost:y,cost:b,color:M.selected,levelsChanged:Pe})}),k("div",{className:"form-control name",children:k("input",{type:"text",ref:R,onChange:ne,value:c||""})}),k("div",{className:"form-control id",children:k("input",{type:"text",onChange:$,value:a||""})}),J("div",{className:"colors",children:[k("div",{className:"color-item",children:k(ac,{color:M.unavailable,colorChanged:Ze=>st(Ze,"unavailable")})}),k("div",{className:"color-item",children:k(ac,{color:M.selected,colorChanged:Ze=>st(Ze,"selected")})})]}),k("div",{className:"form-control node-description",children:k(DL,{rows:6,onChange:me,value:f||""})}),J("div",{className:"edit-panel-accordions",children:[k(bn,{name:"Requires",startOpen:!1,children:k("div",{className:"edit-panel-accordion-container",children:k(hSe,{requirementType:X,value:z,valueChanged:gt,nodeId:a})})}),k(bn,{name:"Excludes",startOpen:!1,children:k("div",{className:"edit-panel-accordion-container",children:k(dSe,{value:Q,valueChanged:rn,nodeId:a})})}),k(bn,{name:"Stats",startOpen:!1,children:k("div",{className:"edit-panel-accordion-container",children:k(jw,{providedStats:w,providedStatsChanged:Xe,options:fSe(i),name:"Stat"})})}),k(bn,{name:"Abilities",startOpen:!1,children:k("div",{className:"edit-panel-accordion-container",children:k(lSe,{providedAbilities:O,providedAbilitiesChanged:nt})})}),k(bn,{name:"Global Params",startOpen:!1,children:k("div",{className:"edit-panel-accordion-container",children:k(jw,{providedStats:le,providedStatsChanged:un,options:pSe(te),name:"Global Param"})})})]}),J("div",{className:"buttons",children:[J(es,{disabled:!he,type:"outline",color:"success",clicked:Ke,children:[k(ll,{}),he?"Save Node":"Node Saved"]}),J(es,{type:"outline",color:"success",clicked:Re,children:[J("span",{children:[k(ll,{}),k(ss,{})]}),"Save and Add Child Node"]}),J(es,{type:"outline",clicked:ke,color:"danger",children:[k(wo,{}),"Delete Node"]})]})]}):k("div",{className:"edit-panel",children:"Select a Node"})}function rb(t,e){return t?t.levels&&t.levels>1?e==null?void 0:e.acquired[t.id]:e!=null&&e.selected[t.id]?1:0:[]}function gSe(t,e){var n;return(n=Ge(e,{id:t}))==null?void 0:n.name}function B3(t,e){return ze(t==null?void 0:t.providedAbilities,n=>({...Ge(e,{id:n.id}),modifiers:{}}))}function ib(t,e,n,r){let i={};return mt(t,s=>{var a;let o={...(a=e==null?void 0:e.abilities[s==null?void 0:s.id])==null?void 0:a.modifiers};mt(s.modifiers,l=>{n.levels&&n.levels>1?r.acquired[n.id]||(Fr(o[l.id])?o[l.id]=l.modifier:o[l.id]+=l.modifier*r.acquired[n.id]):r.selected[n.id]||(Fr(o[l.id])?o[l.id]=l.modifier:o[l.id]+=l.modifier)}),i[s.id]=o}),i}function sb(t,e){var r;let n="";return(r=t==null?void 0:t.requires)!=null&&r.length&&(n=RS(t.requires,(i,s)=>{const o=Ge(e,{id:s.id});let a;return s.levels&&s.levels>1?a=`${o==null?void 0:o.name} (${s.levels})`:a=o==null?void 0:o.name,[...i,`${a}`]},[]).join(t.requirementType==="or"?" or ":" and ")),`${n}`}function vSe({graphEvents$:t}){var E,O,A;const{selectedNodeId:e,nodes:n,nodeMeta:r}=T.useContext(_o),{build:i}=T.useContext(us),{abilities:s}=T.useContext(tr),[o,a]=T.useState(Ge(n,{id:e})),[l,c]=T.useState(B3(o,s)),[h,f]=T.useState(o?ib(o==null?void 0:o.providedAbilities,i,o,r):{}),[p,m]=T.useState(sb(o,n)),[v,y]=T.useState(rb(o,r)),x=T.useRef(p);let b=(E=o==null?void 0:o.colors)==null?void 0:E.selected;const _=T.useRef(o);T.useEffect(()=>{t.subscribe({next:M=>{M.event==="nodeMetaUpdated"&&y(rb(_.current,M.data.nodeMeta))}})},[]),T.useEffect(()=>{var M;f(ib((M=_.current)==null?void 0:M.providedAbilities,i,_.current,r))},[i]),T.useEffect(()=>{a(Ge(n,{id:e})),_.current=Ge(n,{id:e})},[e]),T.useEffect(()=>{var M;o&&(y(rb(o,r)),b=(M=o==null?void 0:o.colors)==null?void 0:M.selected,c(B3(o,s)),f(ib(o==null?void 0:o.providedAbilities,i,o,r)),m(sb(o,o)),x.current=sb(o,n))},[o]);const w=M=>{if(r.available[e]){let L=v;o.levels&&o.levels>1?v===M+1?L=M:L=M+1:L=!L,y(L),t.next({event:"nodeAcquisitionChanged",data:{id:e,acquired:L}})}};return o?J("div",{className:"info-panel",children:[k("div",{children:o!=null&&o.levels?k("span",{className:"cost",children:rf(o==null?void 0:o.levels,M=>{var L;return k("span",{onClick:()=>w(M),className:ho({unavailable:!r.available[e],"level-points":!0,"not-acquired":v<M+1}),style:v>M?{background:b}:{},children:(L=o==null?void 0:o.levelCost)!=null&&L.length?o==null?void 0:o.levelCost[M]:o==null?void 0:o.levelCost},M)})}):k("span",{className:"cost",children:k("span",{onClick:()=>w(),className:ho({unavailable:!r.available[e],"level-points":!0,"not-acquired":!v}),style:v?{background:b}:{},children:(o==null?void 0:o.cost)!==1&&o.cost!==void 0?o==null?void 0:o.cost:""})})}),J("div",{className:"title",children:[o==null?void 0:o.name," "]}),k("div",{className:"divider",style:{backgroundColor:b}}),r!=null&&r.available[o==null?void 0:o.id]?null:J("div",{className:"requires",children:[k("span",{children:"Requires"})," ",k("span",{className:"skill",children:x.current})]}),!!((O=o==null?void 0:o.exclusiveWith)!=null&&O.length)&&J("div",{className:"exclusions",children:["Exclusive With",k("div",{className:"skills",children:(A=o==null?void 0:o.exclusiveWith)==null?void 0:A.map(M=>k("div",{className:"skill",children:gSe(M,n)}))})]}),k("div",{className:"info-description",children:o==null?void 0:o.description}),l.length>0&&J("div",{className:"abilities",children:[k("div",{className:"title",children:"Related Abilities:"}),l&&l.map(M=>k(Td,{ability:M,modifiers:h[M.id]},M.id))]})]}):k("div",{className:"info-panel",children:"Select a Node "})}var Ad={},ySe={get exports(){return Ad},set exports(t){Ad=t}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,h="__lodash_placeholder__",f=1,p=2,m=4,v=1,y=2,x=1,b=2,_=4,w=8,E=16,O=32,A=64,M=128,L=256,H=512,G=30,z="...",j=800,X=16,V=1,he=2,ce=3,te=1/0,Z=9007199254740991,le=17976931348623157e292,W=0/0,R=4294967295,D=R-1,Q=R>>>1,K=[["ary",M],["bind",x],["bindKey",b],["curry",w],["curryRight",E],["flip",H],["partial",O],["partialRight",A],["rearg",L]],$="[object Arguments]",ne="[object Array]",me="[object AsyncFunction]",Re="[object Boolean]",ke="[object Date]",Ke="[object DOMException]",Xe="[object Error]",nt="[object Function]",Pe="[object GeneratorFunction]",st="[object Map]",gt="[object Number]",un="[object Null]",rn="[object Object]",Ze="[object Promise]",kn="[object Proxy]",Oi="[object RegExp]",On="[object Set]",fs="[object String]",Tl="[object Symbol]",D0="[object Undefined]",va="[object WeakMap]",L0="[object WeakSet]",re="[object ArrayBuffer]",pe="[object DataView]",Fe="[object Float32Array]",ht="[object Float64Array]",dt="[object Int8Array]",Gn="[object Int16Array]",Zr="[object Int32Array]",wr="[object Uint8Array]",Bs="[object Uint8ClampedArray]",Ns="[object Uint16Array]",It="[object Uint32Array]",Lc=/\b__p \+= '';/g,Ii=/\b(__p \+=) '' \+/g,LN=/(__e\(.*?\)|\b__t\)) \+\n'';/g,bC=/&(?:amp|lt|gt|quot|#39);/g,xC=/[&<>"']/g,BN=RegExp(bC.source),NN=RegExp(xC.source),$N=/<%-([\s\S]+?)%>/g,UN=/<%([\s\S]+?)%>/g,wC=/<%=([\s\S]+?)%>/g,zN=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,HN=/^\w*$/,jN=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,B0=/[\\^$.*+?()[\]{}|]/g,WN=RegExp(B0.source),N0=/^\s+/,GN=/\s/,VN=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,qN=/\{\n\/\* \[wrapped with (.+)\] \*/,XN=/,? & /,YN=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,KN=/[()=,{}\[\]\/\s]/,ZN=/\\(\\)?/g,QN=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_C=/\w*$/,JN=/^[-+]0x[0-9a-f]+$/i,e$=/^0b[01]+$/i,t$=/^\[object .+?Constructor\]$/,n$=/^0o[0-7]+$/i,r$=/^(?:0|[1-9]\d*)$/,i$=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Pf=/($^)/,s$=/['\n\r\u2028\u2029\\]/g,kf="\\ud800-\\udfff",o$="\\u0300-\\u036f",a$="\\ufe20-\\ufe2f",l$="\\u20d0-\\u20ff",SC=o$+a$+l$,EC="\\u2700-\\u27bf",CC="a-z\\xdf-\\xf6\\xf8-\\xff",u$="\\xac\\xb1\\xd7\\xf7",c$="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",h$="\\u2000-\\u206f",d$=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",TC="A-Z\\xc0-\\xd6\\xd8-\\xde",AC="\\ufe0e\\ufe0f",PC=u$+c$+h$+d$,$0="['’]",f$="["+kf+"]",kC="["+PC+"]",Of="["+SC+"]",OC="\\d+",p$="["+EC+"]",IC="["+CC+"]",RC="[^"+kf+PC+OC+EC+CC+TC+"]",U0="\\ud83c[\\udffb-\\udfff]",m$="(?:"+Of+"|"+U0+")",MC="[^"+kf+"]",z0="(?:\\ud83c[\\udde6-\\uddff]){2}",H0="[\\ud800-\\udbff][\\udc00-\\udfff]",Al="["+TC+"]",FC="\\u200d",DC="(?:"+IC+"|"+RC+")",g$="(?:"+Al+"|"+RC+")",LC="(?:"+$0+"(?:d|ll|m|re|s|t|ve))?",BC="(?:"+$0+"(?:D|LL|M|RE|S|T|VE))?",NC=m$+"?",$C="["+AC+"]?",v$="(?:"+FC+"(?:"+[MC,z0,H0].join("|")+")"+$C+NC+")*",y$="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",b$="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",UC=$C+NC+v$,x$="(?:"+[p$,z0,H0].join("|")+")"+UC,w$="(?:"+[MC+Of+"?",Of,z0,H0,f$].join("|")+")",_$=RegExp($0,"g"),S$=RegExp(Of,"g"),j0=RegExp(U0+"(?="+U0+")|"+w$+UC,"g"),E$=RegExp([Al+"?"+IC+"+"+LC+"(?="+[kC,Al,"$"].join("|")+")",g$+"+"+BC+"(?="+[kC,Al+DC,"$"].join("|")+")",Al+"?"+DC+"+"+LC,Al+"+"+BC,b$,y$,OC,x$].join("|"),"g"),C$=RegExp("["+FC+kf+SC+AC+"]"),T$=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,A$=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],P$=-1,Rt={};Rt[Fe]=Rt[ht]=Rt[dt]=Rt[Gn]=Rt[Zr]=Rt[wr]=Rt[Bs]=Rt[Ns]=Rt[It]=!0,Rt[$]=Rt[ne]=Rt[re]=Rt[Re]=Rt[pe]=Rt[ke]=Rt[Xe]=Rt[nt]=Rt[st]=Rt[gt]=Rt[rn]=Rt[Oi]=Rt[On]=Rt[fs]=Rt[va]=!1;var At={};At[$]=At[ne]=At[re]=At[pe]=At[Re]=At[ke]=At[Fe]=At[ht]=At[dt]=At[Gn]=At[Zr]=At[st]=At[gt]=At[rn]=At[Oi]=At[On]=At[fs]=At[Tl]=At[wr]=At[Bs]=At[Ns]=At[It]=!0,At[Xe]=At[nt]=At[va]=!1;var k$={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},O$={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},I$={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},R$={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},M$=parseFloat,F$=parseInt,zC=typeof fr=="object"&&fr&&fr.Object===Object&&fr,D$=typeof self=="object"&&self&&self.Object===Object&&self,In=zC||D$||Function("return this")(),W0=e&&!e.nodeType&&e,ya=W0&&!0&&t&&!t.nodeType&&t,HC=ya&&ya.exports===W0,G0=HC&&zC.process,Qr=function(){try{var q=ya&&ya.require&&ya.require("util").types;return q||G0&&G0.binding&&G0.binding("util")}catch{}}(),jC=Qr&&Qr.isArrayBuffer,WC=Qr&&Qr.isDate,GC=Qr&&Qr.isMap,VC=Qr&&Qr.isRegExp,qC=Qr&&Qr.isSet,XC=Qr&&Qr.isTypedArray;function _r(q,ie,ee){switch(ee.length){case 0:return q.call(ie);case 1:return q.call(ie,ee[0]);case 2:return q.call(ie,ee[0],ee[1]);case 3:return q.call(ie,ee[0],ee[1],ee[2])}return q.apply(ie,ee)}function L$(q,ie,ee,_e){for(var We=-1,ft=q==null?0:q.length;++We<ft;){var gn=q[We];ie(_e,gn,ee(gn),q)}return _e}function Jr(q,ie){for(var ee=-1,_e=q==null?0:q.length;++ee<_e&&ie(q[ee],ee,q)!==!1;);return q}function B$(q,ie){for(var ee=q==null?0:q.length;ee--&&ie(q[ee],ee,q)!==!1;);return q}function YC(q,ie){for(var ee=-1,_e=q==null?0:q.length;++ee<_e;)if(!ie(q[ee],ee,q))return!1;return!0}function Eo(q,ie){for(var ee=-1,_e=q==null?0:q.length,We=0,ft=[];++ee<_e;){var gn=q[ee];ie(gn,ee,q)&&(ft[We++]=gn)}return ft}function If(q,ie){var ee=q==null?0:q.length;return!!ee&&Pl(q,ie,0)>-1}function V0(q,ie,ee){for(var _e=-1,We=q==null?0:q.length;++_e<We;)if(ee(ie,q[_e]))return!0;return!1}function $t(q,ie){for(var ee=-1,_e=q==null?0:q.length,We=Array(_e);++ee<_e;)We[ee]=ie(q[ee],ee,q);return We}function Co(q,ie){for(var ee=-1,_e=ie.length,We=q.length;++ee<_e;)q[We+ee]=ie[ee];return q}function q0(q,ie,ee,_e){var We=-1,ft=q==null?0:q.length;for(_e&&ft&&(ee=q[++We]);++We<ft;)ee=ie(ee,q[We],We,q);return ee}function N$(q,ie,ee,_e){var We=q==null?0:q.length;for(_e&&We&&(ee=q[--We]);We--;)ee=ie(ee,q[We],We,q);return ee}function X0(q,ie){for(var ee=-1,_e=q==null?0:q.length;++ee<_e;)if(ie(q[ee],ee,q))return!0;return!1}var $$=Y0("length");function U$(q){return q.split("")}function z$(q){return q.match(YN)||[]}function KC(q,ie,ee){var _e;return ee(q,function(We,ft,gn){if(ie(We,ft,gn))return _e=ft,!1}),_e}function Rf(q,ie,ee,_e){for(var We=q.length,ft=ee+(_e?1:-1);_e?ft--:++ft<We;)if(ie(q[ft],ft,q))return ft;return-1}function Pl(q,ie,ee){return ie===ie?J$(q,ie,ee):Rf(q,ZC,ee)}function H$(q,ie,ee,_e){for(var We=ee-1,ft=q.length;++We<ft;)if(_e(q[We],ie))return We;return-1}function ZC(q){return q!==q}function QC(q,ie){var ee=q==null?0:q.length;return ee?Z0(q,ie)/ee:W}function Y0(q){return function(ie){return ie==null?n:ie[q]}}function K0(q){return function(ie){return q==null?n:q[ie]}}function JC(q,ie,ee,_e,We){return We(q,function(ft,gn,Ct){ee=_e?(_e=!1,ft):ie(ee,ft,gn,Ct)}),ee}function j$(q,ie){var ee=q.length;for(q.sort(ie);ee--;)q[ee]=q[ee].value;return q}function Z0(q,ie){for(var ee,_e=-1,We=q.length;++_e<We;){var ft=ie(q[_e]);ft!==n&&(ee=ee===n?ft:ee+ft)}return ee}function Q0(q,ie){for(var ee=-1,_e=Array(q);++ee<q;)_e[ee]=ie(ee);return _e}function W$(q,ie){return $t(ie,function(ee){return[ee,q[ee]]})}function eT(q){return q&&q.slice(0,iT(q)+1).replace(N0,"")}function Sr(q){return function(ie){return q(ie)}}function J0(q,ie){return $t(ie,function(ee){return q[ee]})}function Bc(q,ie){return q.has(ie)}function tT(q,ie){for(var ee=-1,_e=q.length;++ee<_e&&Pl(ie,q[ee],0)>-1;);return ee}function nT(q,ie){for(var ee=q.length;ee--&&Pl(ie,q[ee],0)>-1;);return ee}function G$(q,ie){for(var ee=q.length,_e=0;ee--;)q[ee]===ie&&++_e;return _e}var V$=K0(k$),q$=K0(O$);function X$(q){return"\\"+R$[q]}function Y$(q,ie){return q==null?n:q[ie]}function kl(q){return C$.test(q)}function K$(q){return T$.test(q)}function Z$(q){for(var ie,ee=[];!(ie=q.next()).done;)ee.push(ie.value);return ee}function e1(q){var ie=-1,ee=Array(q.size);return q.forEach(function(_e,We){ee[++ie]=[We,_e]}),ee}function rT(q,ie){return function(ee){return q(ie(ee))}}function To(q,ie){for(var ee=-1,_e=q.length,We=0,ft=[];++ee<_e;){var gn=q[ee];(gn===ie||gn===h)&&(q[ee]=h,ft[We++]=ee)}return ft}function Mf(q){var ie=-1,ee=Array(q.size);return q.forEach(function(_e){ee[++ie]=_e}),ee}function Q$(q){var ie=-1,ee=Array(q.size);return q.forEach(function(_e){ee[++ie]=[_e,_e]}),ee}function J$(q,ie,ee){for(var _e=ee-1,We=q.length;++_e<We;)if(q[_e]===ie)return _e;return-1}function e6(q,ie,ee){for(var _e=ee+1;_e--;)if(q[_e]===ie)return _e;return _e}function Ol(q){return kl(q)?n6(q):$$(q)}function Ri(q){return kl(q)?r6(q):U$(q)}function iT(q){for(var ie=q.length;ie--&&GN.test(q.charAt(ie)););return ie}var t6=K0(I$);function n6(q){for(var ie=j0.lastIndex=0;j0.test(q);)++ie;return ie}function r6(q){return q.match(j0)||[]}function i6(q){return q.match(E$)||[]}var s6=function q(ie){ie=ie==null?In:Il.defaults(In.Object(),ie,Il.pick(In,A$));var ee=ie.Array,_e=ie.Date,We=ie.Error,ft=ie.Function,gn=ie.Math,Ct=ie.Object,t1=ie.RegExp,o6=ie.String,ei=ie.TypeError,Ff=ee.prototype,a6=ft.prototype,Rl=Ct.prototype,Df=ie["__core-js_shared__"],Lf=a6.toString,xt=Rl.hasOwnProperty,l6=0,sT=function(){var u=/[^.]+$/.exec(Df&&Df.keys&&Df.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),Bf=Rl.toString,u6=Lf.call(Ct),c6=In._,h6=t1("^"+Lf.call(xt).replace(B0,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Nf=HC?ie.Buffer:n,Ao=ie.Symbol,$f=ie.Uint8Array,oT=Nf?Nf.allocUnsafe:n,Uf=rT(Ct.getPrototypeOf,Ct),aT=Ct.create,lT=Rl.propertyIsEnumerable,zf=Ff.splice,uT=Ao?Ao.isConcatSpreadable:n,Nc=Ao?Ao.iterator:n,ba=Ao?Ao.toStringTag:n,Hf=function(){try{var u=Ea(Ct,"defineProperty");return u({},"",{}),u}catch{}}(),d6=ie.clearTimeout!==In.clearTimeout&&ie.clearTimeout,f6=_e&&_e.now!==In.Date.now&&_e.now,p6=ie.setTimeout!==In.setTimeout&&ie.setTimeout,jf=gn.ceil,Wf=gn.floor,n1=Ct.getOwnPropertySymbols,m6=Nf?Nf.isBuffer:n,cT=ie.isFinite,g6=Ff.join,v6=rT(Ct.keys,Ct),vn=gn.max,Bn=gn.min,y6=_e.now,b6=ie.parseInt,hT=gn.random,x6=Ff.reverse,r1=Ea(ie,"DataView"),$c=Ea(ie,"Map"),i1=Ea(ie,"Promise"),Ml=Ea(ie,"Set"),Uc=Ea(ie,"WeakMap"),zc=Ea(Ct,"create"),Gf=Uc&&new Uc,Fl={},w6=Ca(r1),_6=Ca($c),S6=Ca(i1),E6=Ca(Ml),C6=Ca(Uc),Vf=Ao?Ao.prototype:n,Hc=Vf?Vf.valueOf:n,dT=Vf?Vf.toString:n;function I(u){if(Zt(u)&&!Ve(u)&&!(u instanceof rt)){if(u instanceof ti)return u;if(xt.call(u,"__wrapped__"))return fA(u)}return new ti(u)}var Dl=function(){function u(){}return function(d){if(!Gt(d))return{};if(aT)return aT(d);u.prototype=d;var g=new u;return u.prototype=n,g}}();function qf(){}function ti(u,d){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=n}I.templateSettings={escape:$N,evaluate:UN,interpolate:wC,variable:"",imports:{_:I}},I.prototype=qf.prototype,I.prototype.constructor=I,ti.prototype=Dl(qf.prototype),ti.prototype.constructor=ti;function rt(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=R,this.__views__=[]}function T6(){var u=new rt(this.__wrapped__);return u.__actions__=or(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=or(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=or(this.__views__),u}function A6(){if(this.__filtered__){var u=new rt(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function P6(){var u=this.__wrapped__.value(),d=this.__dir__,g=Ve(u),S=d<0,C=g?u.length:0,F=U8(0,C,this.__views__),N=F.start,U=F.end,Y=U-N,se=S?U:N-1,ae=this.__iteratees__,ue=ae.length,ye=0,Ee=Bn(Y,this.__takeCount__);if(!g||!S&&C==Y&&Ee==Y)return LT(u,this.__actions__);var Be=[];e:for(;Y--&&ye<Ee;){se+=d;for(var Qe=-1,Ne=u[se];++Qe<ue;){var tt=ae[Qe],ot=tt.iteratee,Tr=tt.type,Xn=ot(Ne);if(Tr==he)Ne=Xn;else if(!Xn){if(Tr==V)continue e;break e}}Be[ye++]=Ne}return Be}rt.prototype=Dl(qf.prototype),rt.prototype.constructor=rt;function xa(u){var d=-1,g=u==null?0:u.length;for(this.clear();++d<g;){var S=u[d];this.set(S[0],S[1])}}function k6(){this.__data__=zc?zc(null):{},this.size=0}function O6(u){var d=this.has(u)&&delete this.__data__[u];return this.size-=d?1:0,d}function I6(u){var d=this.__data__;if(zc){var g=d[u];return g===l?n:g}return xt.call(d,u)?d[u]:n}function R6(u){var d=this.__data__;return zc?d[u]!==n:xt.call(d,u)}function M6(u,d){var g=this.__data__;return this.size+=this.has(u)?0:1,g[u]=zc&&d===n?l:d,this}xa.prototype.clear=k6,xa.prototype.delete=O6,xa.prototype.get=I6,xa.prototype.has=R6,xa.prototype.set=M6;function $s(u){var d=-1,g=u==null?0:u.length;for(this.clear();++d<g;){var S=u[d];this.set(S[0],S[1])}}function F6(){this.__data__=[],this.size=0}function D6(u){var d=this.__data__,g=Xf(d,u);if(g<0)return!1;var S=d.length-1;return g==S?d.pop():zf.call(d,g,1),--this.size,!0}function L6(u){var d=this.__data__,g=Xf(d,u);return g<0?n:d[g][1]}function B6(u){return Xf(this.__data__,u)>-1}function N6(u,d){var g=this.__data__,S=Xf(g,u);return S<0?(++this.size,g.push([u,d])):g[S][1]=d,this}$s.prototype.clear=F6,$s.prototype.delete=D6,$s.prototype.get=L6,$s.prototype.has=B6,$s.prototype.set=N6;function Us(u){var d=-1,g=u==null?0:u.length;for(this.clear();++d<g;){var S=u[d];this.set(S[0],S[1])}}function $6(){this.size=0,this.__data__={hash:new xa,map:new($c||$s),string:new xa}}function U6(u){var d=op(this,u).delete(u);return this.size-=d?1:0,d}function z6(u){return op(this,u).get(u)}function H6(u){return op(this,u).has(u)}function j6(u,d){var g=op(this,u),S=g.size;return g.set(u,d),this.size+=g.size==S?0:1,this}Us.prototype.clear=$6,Us.prototype.delete=U6,Us.prototype.get=z6,Us.prototype.has=H6,Us.prototype.set=j6;function wa(u){var d=-1,g=u==null?0:u.length;for(this.__data__=new Us;++d<g;)this.add(u[d])}function W6(u){return this.__data__.set(u,l),this}function G6(u){return this.__data__.has(u)}wa.prototype.add=wa.prototype.push=W6,wa.prototype.has=G6;function Mi(u){var d=this.__data__=new $s(u);this.size=d.size}function V6(){this.__data__=new $s,this.size=0}function q6(u){var d=this.__data__,g=d.delete(u);return this.size=d.size,g}function X6(u){return this.__data__.get(u)}function Y6(u){return this.__data__.has(u)}function K6(u,d){var g=this.__data__;if(g instanceof $s){var S=g.__data__;if(!$c||S.length<i-1)return S.push([u,d]),this.size=++g.size,this;g=this.__data__=new Us(S)}return g.set(u,d),this.size=g.size,this}Mi.prototype.clear=V6,Mi.prototype.delete=q6,Mi.prototype.get=X6,Mi.prototype.has=Y6,Mi.prototype.set=K6;function fT(u,d){var g=Ve(u),S=!g&&Ta(u),C=!g&&!S&&Ro(u),F=!g&&!S&&!C&&$l(u),N=g||S||C||F,U=N?Q0(u.length,o6):[],Y=U.length;for(var se in u)(d||xt.call(u,se))&&!(N&&(se=="length"||C&&(se=="offset"||se=="parent")||F&&(se=="buffer"||se=="byteLength"||se=="byteOffset")||Ws(se,Y)))&&U.push(se);return U}function pT(u){var d=u.length;return d?u[m1(0,d-1)]:n}function Z6(u,d){return ap(or(u),_a(d,0,u.length))}function Q6(u){return ap(or(u))}function s1(u,d,g){(g!==n&&!Fi(u[d],g)||g===n&&!(d in u))&&zs(u,d,g)}function jc(u,d,g){var S=u[d];(!(xt.call(u,d)&&Fi(S,g))||g===n&&!(d in u))&&zs(u,d,g)}function Xf(u,d){for(var g=u.length;g--;)if(Fi(u[g][0],d))return g;return-1}function J6(u,d,g,S){return Po(u,function(C,F,N){d(S,C,g(C),N)}),S}function mT(u,d){return u&&ms(d,wn(d),u)}function e8(u,d){return u&&ms(d,lr(d),u)}function zs(u,d,g){d=="__proto__"&&Hf?Hf(u,d,{configurable:!0,enumerable:!0,value:g,writable:!0}):u[d]=g}function o1(u,d){for(var g=-1,S=d.length,C=ee(S),F=u==null;++g<S;)C[g]=F?n:U1(u,d[g]);return C}function _a(u,d,g){return u===u&&(g!==n&&(u=u<=g?u:g),d!==n&&(u=u>=d?u:d)),u}function ni(u,d,g,S,C,F){var N,U=d&f,Y=d&p,se=d&m;if(g&&(N=C?g(u,S,C,F):g(u)),N!==n)return N;if(!Gt(u))return u;var ae=Ve(u);if(ae){if(N=H8(u),!U)return or(u,N)}else{var ue=Nn(u),ye=ue==nt||ue==Pe;if(Ro(u))return $T(u,U);if(ue==rn||ue==$||ye&&!C){if(N=Y||ye?{}:iA(u),!U)return Y?I8(u,e8(N,u)):O8(u,mT(N,u))}else{if(!At[ue])return C?u:{};N=j8(u,ue,U)}}F||(F=new Mi);var Ee=F.get(u);if(Ee)return Ee;F.set(u,N),MA(u)?u.forEach(function(Ne){N.add(ni(Ne,d,g,Ne,u,F))}):IA(u)&&u.forEach(function(Ne,tt){N.set(tt,ni(Ne,d,g,tt,u,F))});var Be=se?Y?T1:C1:Y?lr:wn,Qe=ae?n:Be(u);return Jr(Qe||u,function(Ne,tt){Qe&&(tt=Ne,Ne=u[tt]),jc(N,tt,ni(Ne,d,g,tt,u,F))}),N}function t8(u){var d=wn(u);return function(g){return gT(g,u,d)}}function gT(u,d,g){var S=g.length;if(u==null)return!S;for(u=Ct(u);S--;){var C=g[S],F=d[C],N=u[C];if(N===n&&!(C in u)||!F(N))return!1}return!0}function vT(u,d,g){if(typeof u!="function")throw new ei(o);return Kc(function(){u.apply(n,g)},d)}function Wc(u,d,g,S){var C=-1,F=If,N=!0,U=u.length,Y=[],se=d.length;if(!U)return Y;g&&(d=$t(d,Sr(g))),S?(F=V0,N=!1):d.length>=i&&(F=Bc,N=!1,d=new wa(d));e:for(;++C<U;){var ae=u[C],ue=g==null?ae:g(ae);if(ae=S||ae!==0?ae:0,N&&ue===ue){for(var ye=se;ye--;)if(d[ye]===ue)continue e;Y.push(ae)}else F(d,ue,S)||Y.push(ae)}return Y}var Po=WT(ps),yT=WT(l1,!0);function n8(u,d){var g=!0;return Po(u,function(S,C,F){return g=!!d(S,C,F),g}),g}function Yf(u,d,g){for(var S=-1,C=u.length;++S<C;){var F=u[S],N=d(F);if(N!=null&&(U===n?N===N&&!Cr(N):g(N,U)))var U=N,Y=F}return Y}function r8(u,d,g,S){var C=u.length;for(g=Ye(g),g<0&&(g=-g>C?0:C+g),S=S===n||S>C?C:Ye(S),S<0&&(S+=C),S=g>S?0:DA(S);g<S;)u[g++]=d;return u}function bT(u,d){var g=[];return Po(u,function(S,C,F){d(S,C,F)&&g.push(S)}),g}function Rn(u,d,g,S,C){var F=-1,N=u.length;for(g||(g=G8),C||(C=[]);++F<N;){var U=u[F];d>0&&g(U)?d>1?Rn(U,d-1,g,S,C):Co(C,U):S||(C[C.length]=U)}return C}var a1=GT(),xT=GT(!0);function ps(u,d){return u&&a1(u,d,wn)}function l1(u,d){return u&&xT(u,d,wn)}function Kf(u,d){return Eo(d,function(g){return Gs(u[g])})}function Sa(u,d){d=Oo(d,u);for(var g=0,S=d.length;u!=null&&g<S;)u=u[gs(d[g++])];return g&&g==S?u:n}function wT(u,d,g){var S=d(u);return Ve(u)?S:Co(S,g(u))}function Vn(u){return u==null?u===n?D0:un:ba&&ba in Ct(u)?$8(u):Q8(u)}function u1(u,d){return u>d}function i8(u,d){return u!=null&&xt.call(u,d)}function s8(u,d){return u!=null&&d in Ct(u)}function o8(u,d,g){return u>=Bn(d,g)&&u<vn(d,g)}function c1(u,d,g){for(var S=g?V0:If,C=u[0].length,F=u.length,N=F,U=ee(F),Y=1/0,se=[];N--;){var ae=u[N];N&&d&&(ae=$t(ae,Sr(d))),Y=Bn(ae.length,Y),U[N]=!g&&(d||C>=120&&ae.length>=120)?new wa(N&&ae):n}ae=u[0];var ue=-1,ye=U[0];e:for(;++ue<C&&se.length<Y;){var Ee=ae[ue],Be=d?d(Ee):Ee;if(Ee=g||Ee!==0?Ee:0,!(ye?Bc(ye,Be):S(se,Be,g))){for(N=F;--N;){var Qe=U[N];if(!(Qe?Bc(Qe,Be):S(u[N],Be,g)))continue e}ye&&ye.push(Be),se.push(Ee)}}return se}function a8(u,d,g,S){return ps(u,function(C,F,N){d(S,g(C),F,N)}),S}function Gc(u,d,g){d=Oo(d,u),u=lA(u,d);var S=u==null?u:u[gs(ii(d))];return S==null?n:_r(S,u,g)}function _T(u){return Zt(u)&&Vn(u)==$}function l8(u){return Zt(u)&&Vn(u)==re}function u8(u){return Zt(u)&&Vn(u)==ke}function Vc(u,d,g,S,C){return u===d?!0:u==null||d==null||!Zt(u)&&!Zt(d)?u!==u&&d!==d:c8(u,d,g,S,Vc,C)}function c8(u,d,g,S,C,F){var N=Ve(u),U=Ve(d),Y=N?ne:Nn(u),se=U?ne:Nn(d);Y=Y==$?rn:Y,se=se==$?rn:se;var ae=Y==rn,ue=se==rn,ye=Y==se;if(ye&&Ro(u)){if(!Ro(d))return!1;N=!0,ae=!1}if(ye&&!ae)return F||(F=new Mi),N||$l(u)?tA(u,d,g,S,C,F):B8(u,d,Y,g,S,C,F);if(!(g&v)){var Ee=ae&&xt.call(u,"__wrapped__"),Be=ue&&xt.call(d,"__wrapped__");if(Ee||Be){var Qe=Ee?u.value():u,Ne=Be?d.value():d;return F||(F=new Mi),C(Qe,Ne,g,S,F)}}return ye?(F||(F=new Mi),N8(u,d,g,S,C,F)):!1}function h8(u){return Zt(u)&&Nn(u)==st}function h1(u,d,g,S){var C=g.length,F=C,N=!S;if(u==null)return!F;for(u=Ct(u);C--;){var U=g[C];if(N&&U[2]?U[1]!==u[U[0]]:!(U[0]in u))return!1}for(;++C<F;){U=g[C];var Y=U[0],se=u[Y],ae=U[1];if(N&&U[2]){if(se===n&&!(Y in u))return!1}else{var ue=new Mi;if(S)var ye=S(se,ae,Y,u,d,ue);if(!(ye===n?Vc(ae,se,v|y,S,ue):ye))return!1}}return!0}function ST(u){if(!Gt(u)||q8(u))return!1;var d=Gs(u)?h6:t$;return d.test(Ca(u))}function d8(u){return Zt(u)&&Vn(u)==Oi}function f8(u){return Zt(u)&&Nn(u)==On}function p8(u){return Zt(u)&&fp(u.length)&&!!Rt[Vn(u)]}function ET(u){return typeof u=="function"?u:u==null?ur:typeof u=="object"?Ve(u)?AT(u[0],u[1]):TT(u):VA(u)}function d1(u){if(!Yc(u))return v6(u);var d=[];for(var g in Ct(u))xt.call(u,g)&&g!="constructor"&&d.push(g);return d}function m8(u){if(!Gt(u))return Z8(u);var d=Yc(u),g=[];for(var S in u)S=="constructor"&&(d||!xt.call(u,S))||g.push(S);return g}function f1(u,d){return u<d}function CT(u,d){var g=-1,S=ar(u)?ee(u.length):[];return Po(u,function(C,F,N){S[++g]=d(C,F,N)}),S}function TT(u){var d=P1(u);return d.length==1&&d[0][2]?oA(d[0][0],d[0][1]):function(g){return g===u||h1(g,u,d)}}function AT(u,d){return O1(u)&&sA(d)?oA(gs(u),d):function(g){var S=U1(g,u);return S===n&&S===d?z1(g,u):Vc(d,S,v|y)}}function Zf(u,d,g,S,C){u!==d&&a1(d,function(F,N){if(C||(C=new Mi),Gt(F))g8(u,d,N,g,Zf,S,C);else{var U=S?S(R1(u,N),F,N+"",u,d,C):n;U===n&&(U=F),s1(u,N,U)}},lr)}function g8(u,d,g,S,C,F,N){var U=R1(u,g),Y=R1(d,g),se=N.get(Y);if(se){s1(u,g,se);return}var ae=F?F(U,Y,g+"",u,d,N):n,ue=ae===n;if(ue){var ye=Ve(Y),Ee=!ye&&Ro(Y),Be=!ye&&!Ee&&$l(Y);ae=Y,ye||Ee||Be?Ve(U)?ae=U:sn(U)?ae=or(U):Ee?(ue=!1,ae=$T(Y,!0)):Be?(ue=!1,ae=UT(Y,!0)):ae=[]:Zc(Y)||Ta(Y)?(ae=U,Ta(U)?ae=LA(U):(!Gt(U)||Gs(U))&&(ae=iA(Y))):ue=!1}ue&&(N.set(Y,ae),C(ae,Y,S,F,N),N.delete(Y)),s1(u,g,ae)}function PT(u,d){var g=u.length;if(g)return d+=d<0?g:0,Ws(d,g)?u[d]:n}function kT(u,d,g){d.length?d=$t(d,function(F){return Ve(F)?function(N){return Sa(N,F.length===1?F[0]:F)}:F}):d=[ur];var S=-1;d=$t(d,Sr(De()));var C=CT(u,function(F,N,U){var Y=$t(d,function(se){return se(F)});return{criteria:Y,index:++S,value:F}});return j$(C,function(F,N){return k8(F,N,g)})}function v8(u,d){return OT(u,d,function(g,S){return z1(u,S)})}function OT(u,d,g){for(var S=-1,C=d.length,F={};++S<C;){var N=d[S],U=Sa(u,N);g(U,N)&&qc(F,Oo(N,u),U)}return F}function y8(u){return function(d){return Sa(d,u)}}function p1(u,d,g,S){var C=S?H$:Pl,F=-1,N=d.length,U=u;for(u===d&&(d=or(d)),g&&(U=$t(u,Sr(g)));++F<N;)for(var Y=0,se=d[F],ae=g?g(se):se;(Y=C(U,ae,Y,S))>-1;)U!==u&&zf.call(U,Y,1),zf.call(u,Y,1);return u}function IT(u,d){for(var g=u?d.length:0,S=g-1;g--;){var C=d[g];if(g==S||C!==F){var F=C;Ws(C)?zf.call(u,C,1):y1(u,C)}}return u}function m1(u,d){return u+Wf(hT()*(d-u+1))}function b8(u,d,g,S){for(var C=-1,F=vn(jf((d-u)/(g||1)),0),N=ee(F);F--;)N[S?F:++C]=u,u+=g;return N}function g1(u,d){var g="";if(!u||d<1||d>Z)return g;do d%2&&(g+=u),d=Wf(d/2),d&&(u+=u);while(d);return g}function et(u,d){return M1(aA(u,d,ur),u+"")}function x8(u){return pT(Ul(u))}function w8(u,d){var g=Ul(u);return ap(g,_a(d,0,g.length))}function qc(u,d,g,S){if(!Gt(u))return u;d=Oo(d,u);for(var C=-1,F=d.length,N=F-1,U=u;U!=null&&++C<F;){var Y=gs(d[C]),se=g;if(Y==="__proto__"||Y==="constructor"||Y==="prototype")return u;if(C!=N){var ae=U[Y];se=S?S(ae,Y,U):n,se===n&&(se=Gt(ae)?ae:Ws(d[C+1])?[]:{})}jc(U,Y,se),U=U[Y]}return u}var RT=Gf?function(u,d){return Gf.set(u,d),u}:ur,_8=Hf?function(u,d){return Hf(u,"toString",{configurable:!0,enumerable:!1,value:j1(d),writable:!0})}:ur;function S8(u){return ap(Ul(u))}function ri(u,d,g){var S=-1,C=u.length;d<0&&(d=-d>C?0:C+d),g=g>C?C:g,g<0&&(g+=C),C=d>g?0:g-d>>>0,d>>>=0;for(var F=ee(C);++S<C;)F[S]=u[S+d];return F}function E8(u,d){var g;return Po(u,function(S,C,F){return g=d(S,C,F),!g}),!!g}function Qf(u,d,g){var S=0,C=u==null?S:u.length;if(typeof d=="number"&&d===d&&C<=Q){for(;S<C;){var F=S+C>>>1,N=u[F];N!==null&&!Cr(N)&&(g?N<=d:N<d)?S=F+1:C=F}return C}return v1(u,d,ur,g)}function v1(u,d,g,S){var C=0,F=u==null?0:u.length;if(F===0)return 0;d=g(d);for(var N=d!==d,U=d===null,Y=Cr(d),se=d===n;C<F;){var ae=Wf((C+F)/2),ue=g(u[ae]),ye=ue!==n,Ee=ue===null,Be=ue===ue,Qe=Cr(ue);if(N)var Ne=S||Be;else se?Ne=Be&&(S||ye):U?Ne=Be&&ye&&(S||!Ee):Y?Ne=Be&&ye&&!Ee&&(S||!Qe):Ee||Qe?Ne=!1:Ne=S?ue<=d:ue<d;Ne?C=ae+1:F=ae}return Bn(F,D)}function MT(u,d){for(var g=-1,S=u.length,C=0,F=[];++g<S;){var N=u[g],U=d?d(N):N;if(!g||!Fi(U,Y)){var Y=U;F[C++]=N===0?0:N}}return F}function FT(u){return typeof u=="number"?u:Cr(u)?W:+u}function Er(u){if(typeof u=="string")return u;if(Ve(u))return $t(u,Er)+"";if(Cr(u))return dT?dT.call(u):"";var d=u+"";return d=="0"&&1/u==-te?"-0":d}function ko(u,d,g){var S=-1,C=If,F=u.length,N=!0,U=[],Y=U;if(g)N=!1,C=V0;else if(F>=i){var se=d?null:D8(u);if(se)return Mf(se);N=!1,C=Bc,Y=new wa}else Y=d?[]:U;e:for(;++S<F;){var ae=u[S],ue=d?d(ae):ae;if(ae=g||ae!==0?ae:0,N&&ue===ue){for(var ye=Y.length;ye--;)if(Y[ye]===ue)continue e;d&&Y.push(ue),U.push(ae)}else C(Y,ue,g)||(Y!==U&&Y.push(ue),U.push(ae))}return U}function y1(u,d){return d=Oo(d,u),u=lA(u,d),u==null||delete u[gs(ii(d))]}function DT(u,d,g,S){return qc(u,d,g(Sa(u,d)),S)}function Jf(u,d,g,S){for(var C=u.length,F=S?C:-1;(S?F--:++F<C)&&d(u[F],F,u););return g?ri(u,S?0:F,S?F+1:C):ri(u,S?F+1:0,S?C:F)}function LT(u,d){var g=u;return g instanceof rt&&(g=g.value()),q0(d,function(S,C){return C.func.apply(C.thisArg,Co([S],C.args))},g)}function b1(u,d,g){var S=u.length;if(S<2)return S?ko(u[0]):[];for(var C=-1,F=ee(S);++C<S;)for(var N=u[C],U=-1;++U<S;)U!=C&&(F[C]=Wc(F[C]||N,u[U],d,g));return ko(Rn(F,1),d,g)}function BT(u,d,g){for(var S=-1,C=u.length,F=d.length,N={};++S<C;){var U=S<F?d[S]:n;g(N,u[S],U)}return N}function x1(u){return sn(u)?u:[]}function w1(u){return typeof u=="function"?u:ur}function Oo(u,d){return Ve(u)?u:O1(u,d)?[u]:dA(vt(u))}var C8=et;function Io(u,d,g){var S=u.length;return g=g===n?S:g,!d&&g>=S?u:ri(u,d,g)}var NT=d6||function(u){return In.clearTimeout(u)};function $T(u,d){if(d)return u.slice();var g=u.length,S=oT?oT(g):new u.constructor(g);return u.copy(S),S}function _1(u){var d=new u.constructor(u.byteLength);return new $f(d).set(new $f(u)),d}function T8(u,d){var g=d?_1(u.buffer):u.buffer;return new u.constructor(g,u.byteOffset,u.byteLength)}function A8(u){var d=new u.constructor(u.source,_C.exec(u));return d.lastIndex=u.lastIndex,d}function P8(u){return Hc?Ct(Hc.call(u)):{}}function UT(u,d){var g=d?_1(u.buffer):u.buffer;return new u.constructor(g,u.byteOffset,u.length)}function zT(u,d){if(u!==d){var g=u!==n,S=u===null,C=u===u,F=Cr(u),N=d!==n,U=d===null,Y=d===d,se=Cr(d);if(!U&&!se&&!F&&u>d||F&&N&&Y&&!U&&!se||S&&N&&Y||!g&&Y||!C)return 1;if(!S&&!F&&!se&&u<d||se&&g&&C&&!S&&!F||U&&g&&C||!N&&C||!Y)return-1}return 0}function k8(u,d,g){for(var S=-1,C=u.criteria,F=d.criteria,N=C.length,U=g.length;++S<N;){var Y=zT(C[S],F[S]);if(Y){if(S>=U)return Y;var se=g[S];return Y*(se=="desc"?-1:1)}}return u.index-d.index}function HT(u,d,g,S){for(var C=-1,F=u.length,N=g.length,U=-1,Y=d.length,se=vn(F-N,0),ae=ee(Y+se),ue=!S;++U<Y;)ae[U]=d[U];for(;++C<N;)(ue||C<F)&&(ae[g[C]]=u[C]);for(;se--;)ae[U++]=u[C++];return ae}function jT(u,d,g,S){for(var C=-1,F=u.length,N=-1,U=g.length,Y=-1,se=d.length,ae=vn(F-U,0),ue=ee(ae+se),ye=!S;++C<ae;)ue[C]=u[C];for(var Ee=C;++Y<se;)ue[Ee+Y]=d[Y];for(;++N<U;)(ye||C<F)&&(ue[Ee+g[N]]=u[C++]);return ue}function or(u,d){var g=-1,S=u.length;for(d||(d=ee(S));++g<S;)d[g]=u[g];return d}function ms(u,d,g,S){var C=!g;g||(g={});for(var F=-1,N=d.length;++F<N;){var U=d[F],Y=S?S(g[U],u[U],U,g,u):n;Y===n&&(Y=u[U]),C?zs(g,U,Y):jc(g,U,Y)}return g}function O8(u,d){return ms(u,k1(u),d)}function I8(u,d){return ms(u,nA(u),d)}function ep(u,d){return function(g,S){var C=Ve(g)?L$:J6,F=d?d():{};return C(g,u,De(S,2),F)}}function Ll(u){return et(function(d,g){var S=-1,C=g.length,F=C>1?g[C-1]:n,N=C>2?g[2]:n;for(F=u.length>3&&typeof F=="function"?(C--,F):n,N&&qn(g[0],g[1],N)&&(F=C<3?n:F,C=1),d=Ct(d);++S<C;){var U=g[S];U&&u(d,U,S,F)}return d})}function WT(u,d){return function(g,S){if(g==null)return g;if(!ar(g))return u(g,S);for(var C=g.length,F=d?C:-1,N=Ct(g);(d?F--:++F<C)&&S(N[F],F,N)!==!1;);return g}}function GT(u){return function(d,g,S){for(var C=-1,F=Ct(d),N=S(d),U=N.length;U--;){var Y=N[u?U:++C];if(g(F[Y],Y,F)===!1)break}return d}}function R8(u,d,g){var S=d&x,C=Xc(u);function F(){var N=this&&this!==In&&this instanceof F?C:u;return N.apply(S?g:this,arguments)}return F}function VT(u){return function(d){d=vt(d);var g=kl(d)?Ri(d):n,S=g?g[0]:d.charAt(0),C=g?Io(g,1).join(""):d.slice(1);return S[u]()+C}}function Bl(u){return function(d){return q0(WA(jA(d).replace(_$,"")),u,"")}}function Xc(u){return function(){var d=arguments;switch(d.length){case 0:return new u;case 1:return new u(d[0]);case 2:return new u(d[0],d[1]);case 3:return new u(d[0],d[1],d[2]);case 4:return new u(d[0],d[1],d[2],d[3]);case 5:return new u(d[0],d[1],d[2],d[3],d[4]);case 6:return new u(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new u(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var g=Dl(u.prototype),S=u.apply(g,d);return Gt(S)?S:g}}function M8(u,d,g){var S=Xc(u);function C(){for(var F=arguments.length,N=ee(F),U=F,Y=Nl(C);U--;)N[U]=arguments[U];var se=F<3&&N[0]!==Y&&N[F-1]!==Y?[]:To(N,Y);if(F-=se.length,F<g)return ZT(u,d,tp,C.placeholder,n,N,se,n,n,g-F);var ae=this&&this!==In&&this instanceof C?S:u;return _r(ae,this,N)}return C}function qT(u){return function(d,g,S){var C=Ct(d);if(!ar(d)){var F=De(g,3);d=wn(d),g=function(U){return F(C[U],U,C)}}var N=u(d,g,S);return N>-1?C[F?d[N]:N]:n}}function XT(u){return js(function(d){var g=d.length,S=g,C=ti.prototype.thru;for(u&&d.reverse();S--;){var F=d[S];if(typeof F!="function")throw new ei(o);if(C&&!N&&sp(F)=="wrapper")var N=new ti([],!0)}for(S=N?S:g;++S<g;){F=d[S];var U=sp(F),Y=U=="wrapper"?A1(F):n;Y&&I1(Y[0])&&Y[1]==(M|w|O|L)&&!Y[4].length&&Y[9]==1?N=N[sp(Y[0])].apply(N,Y[3]):N=F.length==1&&I1(F)?N[U]():N.thru(F)}return function(){var se=arguments,ae=se[0];if(N&&se.length==1&&Ve(ae))return N.plant(ae).value();for(var ue=0,ye=g?d[ue].apply(this,se):ae;++ue<g;)ye=d[ue].call(this,ye);return ye}})}function tp(u,d,g,S,C,F,N,U,Y,se){var ae=d&M,ue=d&x,ye=d&b,Ee=d&(w|E),Be=d&H,Qe=ye?n:Xc(u);function Ne(){for(var tt=arguments.length,ot=ee(tt),Tr=tt;Tr--;)ot[Tr]=arguments[Tr];if(Ee)var Xn=Nl(Ne),Ar=G$(ot,Xn);if(S&&(ot=HT(ot,S,C,Ee)),F&&(ot=jT(ot,F,N,Ee)),tt-=Ar,Ee&&tt<se){var on=To(ot,Xn);return ZT(u,d,tp,Ne.placeholder,g,ot,on,U,Y,se-tt)}var Di=ue?g:this,qs=ye?Di[u]:u;return tt=ot.length,U?ot=J8(ot,U):Be&&tt>1&&ot.reverse(),ae&&Y<tt&&(ot.length=Y),this&&this!==In&&this instanceof Ne&&(qs=Qe||Xc(qs)),qs.apply(Di,ot)}return Ne}function YT(u,d){return function(g,S){return a8(g,u,d(S),{})}}function np(u,d){return function(g,S){var C;if(g===n&&S===n)return d;if(g!==n&&(C=g),S!==n){if(C===n)return S;typeof g=="string"||typeof S=="string"?(g=Er(g),S=Er(S)):(g=FT(g),S=FT(S)),C=u(g,S)}return C}}function S1(u){return js(function(d){return d=$t(d,Sr(De())),et(function(g){var S=this;return u(d,function(C){return _r(C,S,g)})})})}function rp(u,d){d=d===n?" ":Er(d);var g=d.length;if(g<2)return g?g1(d,u):d;var S=g1(d,jf(u/Ol(d)));return kl(d)?Io(Ri(S),0,u).join(""):S.slice(0,u)}function F8(u,d,g,S){var C=d&x,F=Xc(u);function N(){for(var U=-1,Y=arguments.length,se=-1,ae=S.length,ue=ee(ae+Y),ye=this&&this!==In&&this instanceof N?F:u;++se<ae;)ue[se]=S[se];for(;Y--;)ue[se++]=arguments[++U];return _r(ye,C?g:this,ue)}return N}function KT(u){return function(d,g,S){return S&&typeof S!="number"&&qn(d,g,S)&&(g=S=n),d=Vs(d),g===n?(g=d,d=0):g=Vs(g),S=S===n?d<g?1:-1:Vs(S),b8(d,g,S,u)}}function ip(u){return function(d,g){return typeof d=="string"&&typeof g=="string"||(d=si(d),g=si(g)),u(d,g)}}function ZT(u,d,g,S,C,F,N,U,Y,se){var ae=d&w,ue=ae?N:n,ye=ae?n:N,Ee=ae?F:n,Be=ae?n:F;d|=ae?O:A,d&=~(ae?A:O),d&_||(d&=~(x|b));var Qe=[u,d,C,Ee,ue,Be,ye,U,Y,se],Ne=g.apply(n,Qe);return I1(u)&&uA(Ne,Qe),Ne.placeholder=S,cA(Ne,u,d)}function E1(u){var d=gn[u];return function(g,S){if(g=si(g),S=S==null?0:Bn(Ye(S),292),S&&cT(g)){var C=(vt(g)+"e").split("e"),F=d(C[0]+"e"+(+C[1]+S));return C=(vt(F)+"e").split("e"),+(C[0]+"e"+(+C[1]-S))}return d(g)}}var D8=Ml&&1/Mf(new Ml([,-0]))[1]==te?function(u){return new Ml(u)}:V1;function QT(u){return function(d){var g=Nn(d);return g==st?e1(d):g==On?Q$(d):W$(d,u(d))}}function Hs(u,d,g,S,C,F,N,U){var Y=d&b;if(!Y&&typeof u!="function")throw new ei(o);var se=S?S.length:0;if(se||(d&=~(O|A),S=C=n),N=N===n?N:vn(Ye(N),0),U=U===n?U:Ye(U),se-=C?C.length:0,d&A){var ae=S,ue=C;S=C=n}var ye=Y?n:A1(u),Ee=[u,d,g,S,C,ae,ue,F,N,U];if(ye&&K8(Ee,ye),u=Ee[0],d=Ee[1],g=Ee[2],S=Ee[3],C=Ee[4],U=Ee[9]=Ee[9]===n?Y?0:u.length:vn(Ee[9]-se,0),!U&&d&(w|E)&&(d&=~(w|E)),!d||d==x)var Be=R8(u,d,g);else d==w||d==E?Be=M8(u,d,U):(d==O||d==(x|O))&&!C.length?Be=F8(u,d,g,S):Be=tp.apply(n,Ee);var Qe=ye?RT:uA;return cA(Qe(Be,Ee),u,d)}function JT(u,d,g,S){return u===n||Fi(u,Rl[g])&&!xt.call(S,g)?d:u}function eA(u,d,g,S,C,F){return Gt(u)&&Gt(d)&&(F.set(d,u),Zf(u,d,n,eA,F),F.delete(d)),u}function L8(u){return Zc(u)?n:u}function tA(u,d,g,S,C,F){var N=g&v,U=u.length,Y=d.length;if(U!=Y&&!(N&&Y>U))return!1;var se=F.get(u),ae=F.get(d);if(se&&ae)return se==d&&ae==u;var ue=-1,ye=!0,Ee=g&y?new wa:n;for(F.set(u,d),F.set(d,u);++ue<U;){var Be=u[ue],Qe=d[ue];if(S)var Ne=N?S(Qe,Be,ue,d,u,F):S(Be,Qe,ue,u,d,F);if(Ne!==n){if(Ne)continue;ye=!1;break}if(Ee){if(!X0(d,function(tt,ot){if(!Bc(Ee,ot)&&(Be===tt||C(Be,tt,g,S,F)))return Ee.push(ot)})){ye=!1;break}}else if(!(Be===Qe||C(Be,Qe,g,S,F))){ye=!1;break}}return F.delete(u),F.delete(d),ye}function B8(u,d,g,S,C,F,N){switch(g){case pe:if(u.byteLength!=d.byteLength||u.byteOffset!=d.byteOffset)return!1;u=u.buffer,d=d.buffer;case re:return!(u.byteLength!=d.byteLength||!F(new $f(u),new $f(d)));case Re:case ke:case gt:return Fi(+u,+d);case Xe:return u.name==d.name&&u.message==d.message;case Oi:case fs:return u==d+"";case st:var U=e1;case On:var Y=S&v;if(U||(U=Mf),u.size!=d.size&&!Y)return!1;var se=N.get(u);if(se)return se==d;S|=y,N.set(u,d);var ae=tA(U(u),U(d),S,C,F,N);return N.delete(u),ae;case Tl:if(Hc)return Hc.call(u)==Hc.call(d)}return!1}function N8(u,d,g,S,C,F){var N=g&v,U=C1(u),Y=U.length,se=C1(d),ae=se.length;if(Y!=ae&&!N)return!1;for(var ue=Y;ue--;){var ye=U[ue];if(!(N?ye in d:xt.call(d,ye)))return!1}var Ee=F.get(u),Be=F.get(d);if(Ee&&Be)return Ee==d&&Be==u;var Qe=!0;F.set(u,d),F.set(d,u);for(var Ne=N;++ue<Y;){ye=U[ue];var tt=u[ye],ot=d[ye];if(S)var Tr=N?S(ot,tt,ye,d,u,F):S(tt,ot,ye,u,d,F);if(!(Tr===n?tt===ot||C(tt,ot,g,S,F):Tr)){Qe=!1;break}Ne||(Ne=ye=="constructor")}if(Qe&&!Ne){var Xn=u.constructor,Ar=d.constructor;Xn!=Ar&&"constructor"in u&&"constructor"in d&&!(typeof Xn=="function"&&Xn instanceof Xn&&typeof Ar=="function"&&Ar instanceof Ar)&&(Qe=!1)}return F.delete(u),F.delete(d),Qe}function js(u){return M1(aA(u,n,gA),u+"")}function C1(u){return wT(u,wn,k1)}function T1(u){return wT(u,lr,nA)}var A1=Gf?function(u){return Gf.get(u)}:V1;function sp(u){for(var d=u.name+"",g=Fl[d],S=xt.call(Fl,d)?g.length:0;S--;){var C=g[S],F=C.func;if(F==null||F==u)return C.name}return d}function Nl(u){var d=xt.call(I,"placeholder")?I:u;return d.placeholder}function De(){var u=I.iteratee||W1;return u=u===W1?ET:u,arguments.length?u(arguments[0],arguments[1]):u}function op(u,d){var g=u.__data__;return V8(d)?g[typeof d=="string"?"string":"hash"]:g.map}function P1(u){for(var d=wn(u),g=d.length;g--;){var S=d[g],C=u[S];d[g]=[S,C,sA(C)]}return d}function Ea(u,d){var g=Y$(u,d);return ST(g)?g:n}function $8(u){var d=xt.call(u,ba),g=u[ba];try{u[ba]=n;var S=!0}catch{}var C=Bf.call(u);return S&&(d?u[ba]=g:delete u[ba]),C}var k1=n1?function(u){return u==null?[]:(u=Ct(u),Eo(n1(u),function(d){return lT.call(u,d)}))}:q1,nA=n1?function(u){for(var d=[];u;)Co(d,k1(u)),u=Uf(u);return d}:q1,Nn=Vn;(r1&&Nn(new r1(new ArrayBuffer(1)))!=pe||$c&&Nn(new $c)!=st||i1&&Nn(i1.resolve())!=Ze||Ml&&Nn(new Ml)!=On||Uc&&Nn(new Uc)!=va)&&(Nn=function(u){var d=Vn(u),g=d==rn?u.constructor:n,S=g?Ca(g):"";if(S)switch(S){case w6:return pe;case _6:return st;case S6:return Ze;case E6:return On;case C6:return va}return d});function U8(u,d,g){for(var S=-1,C=g.length;++S<C;){var F=g[S],N=F.size;switch(F.type){case"drop":u+=N;break;case"dropRight":d-=N;break;case"take":d=Bn(d,u+N);break;case"takeRight":u=vn(u,d-N);break}}return{start:u,end:d}}function z8(u){var d=u.match(qN);return d?d[1].split(XN):[]}function rA(u,d,g){d=Oo(d,u);for(var S=-1,C=d.length,F=!1;++S<C;){var N=gs(d[S]);if(!(F=u!=null&&g(u,N)))break;u=u[N]}return F||++S!=C?F:(C=u==null?0:u.length,!!C&&fp(C)&&Ws(N,C)&&(Ve(u)||Ta(u)))}function H8(u){var d=u.length,g=new u.constructor(d);return d&&typeof u[0]=="string"&&xt.call(u,"index")&&(g.index=u.index,g.input=u.input),g}function iA(u){return typeof u.constructor=="function"&&!Yc(u)?Dl(Uf(u)):{}}function j8(u,d,g){var S=u.constructor;switch(d){case re:return _1(u);case Re:case ke:return new S(+u);case pe:return T8(u,g);case Fe:case ht:case dt:case Gn:case Zr:case wr:case Bs:case Ns:case It:return UT(u,g);case st:return new S;case gt:case fs:return new S(u);case Oi:return A8(u);case On:return new S;case Tl:return P8(u)}}function W8(u,d){var g=d.length;if(!g)return u;var S=g-1;return d[S]=(g>1?"& ":"")+d[S],d=d.join(g>2?", ":" "),u.replace(VN,`{
/* [wrapped with `+d+`] */
`)}function G8(u){return Ve(u)||Ta(u)||!!(uT&&u&&u[uT])}function Ws(u,d){var g=typeof u;return d=d??Z,!!d&&(g=="number"||g!="symbol"&&r$.test(u))&&u>-1&&u%1==0&&u<d}function qn(u,d,g){if(!Gt(g))return!1;var S=typeof d;return(S=="number"?ar(g)&&Ws(d,g.length):S=="string"&&d in g)?Fi(g[d],u):!1}function O1(u,d){if(Ve(u))return!1;var g=typeof u;return g=="number"||g=="symbol"||g=="boolean"||u==null||Cr(u)?!0:HN.test(u)||!zN.test(u)||d!=null&&u in Ct(d)}function V8(u){var d=typeof u;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?u!=="__proto__":u===null}function I1(u){var d=sp(u),g=I[d];if(typeof g!="function"||!(d in rt.prototype))return!1;if(u===g)return!0;var S=A1(g);return!!S&&u===S[0]}function q8(u){return!!sT&&sT in u}var X8=Df?Gs:X1;function Yc(u){var d=u&&u.constructor,g=typeof d=="function"&&d.prototype||Rl;return u===g}function sA(u){return u===u&&!Gt(u)}function oA(u,d){return function(g){return g==null?!1:g[u]===d&&(d!==n||u in Ct(g))}}function Y8(u){var d=hp(u,function(S){return g.size===c&&g.clear(),S}),g=d.cache;return d}function K8(u,d){var g=u[1],S=d[1],C=g|S,F=C<(x|b|M),N=S==M&&g==w||S==M&&g==L&&u[7].length<=d[8]||S==(M|L)&&d[7].length<=d[8]&&g==w;if(!(F||N))return u;S&x&&(u[2]=d[2],C|=g&x?0:_);var U=d[3];if(U){var Y=u[3];u[3]=Y?HT(Y,U,d[4]):U,u[4]=Y?To(u[3],h):d[4]}return U=d[5],U&&(Y=u[5],u[5]=Y?jT(Y,U,d[6]):U,u[6]=Y?To(u[5],h):d[6]),U=d[7],U&&(u[7]=U),S&M&&(u[8]=u[8]==null?d[8]:Bn(u[8],d[8])),u[9]==null&&(u[9]=d[9]),u[0]=d[0],u[1]=C,u}function Z8(u){var d=[];if(u!=null)for(var g in Ct(u))d.push(g);return d}function Q8(u){return Bf.call(u)}function aA(u,d,g){return d=vn(d===n?u.length-1:d,0),function(){for(var S=arguments,C=-1,F=vn(S.length-d,0),N=ee(F);++C<F;)N[C]=S[d+C];C=-1;for(var U=ee(d+1);++C<d;)U[C]=S[C];return U[d]=g(N),_r(u,this,U)}}function lA(u,d){return d.length<2?u:Sa(u,ri(d,0,-1))}function J8(u,d){for(var g=u.length,S=Bn(d.length,g),C=or(u);S--;){var F=d[S];u[S]=Ws(F,g)?C[F]:n}return u}function R1(u,d){if(!(d==="constructor"&&typeof u[d]=="function")&&d!="__proto__")return u[d]}var uA=hA(RT),Kc=p6||function(u,d){return In.setTimeout(u,d)},M1=hA(_8);function cA(u,d,g){var S=d+"";return M1(u,W8(S,e7(z8(S),g)))}function hA(u){var d=0,g=0;return function(){var S=y6(),C=X-(S-g);if(g=S,C>0){if(++d>=j)return arguments[0]}else d=0;return u.apply(n,arguments)}}function ap(u,d){var g=-1,S=u.length,C=S-1;for(d=d===n?S:d;++g<d;){var F=m1(g,C),N=u[F];u[F]=u[g],u[g]=N}return u.length=d,u}var dA=Y8(function(u){var d=[];return u.charCodeAt(0)===46&&d.push(""),u.replace(jN,function(g,S,C,F){d.push(C?F.replace(ZN,"$1"):S||g)}),d});function gs(u){if(typeof u=="string"||Cr(u))return u;var d=u+"";return d=="0"&&1/u==-te?"-0":d}function Ca(u){if(u!=null){try{return Lf.call(u)}catch{}try{return u+""}catch{}}return""}function e7(u,d){return Jr(K,function(g){var S="_."+g[0];d&g[1]&&!If(u,S)&&u.push(S)}),u.sort()}function fA(u){if(u instanceof rt)return u.clone();var d=new ti(u.__wrapped__,u.__chain__);return d.__actions__=or(u.__actions__),d.__index__=u.__index__,d.__values__=u.__values__,d}function t7(u,d,g){(g?qn(u,d,g):d===n)?d=1:d=vn(Ye(d),0);var S=u==null?0:u.length;if(!S||d<1)return[];for(var C=0,F=0,N=ee(jf(S/d));C<S;)N[F++]=ri(u,C,C+=d);return N}function n7(u){for(var d=-1,g=u==null?0:u.length,S=0,C=[];++d<g;){var F=u[d];F&&(C[S++]=F)}return C}function r7(){var u=arguments.length;if(!u)return[];for(var d=ee(u-1),g=arguments[0],S=u;S--;)d[S-1]=arguments[S];return Co(Ve(g)?or(g):[g],Rn(d,1))}var i7=et(function(u,d){return sn(u)?Wc(u,Rn(d,1,sn,!0)):[]}),s7=et(function(u,d){var g=ii(d);return sn(g)&&(g=n),sn(u)?Wc(u,Rn(d,1,sn,!0),De(g,2)):[]}),o7=et(function(u,d){var g=ii(d);return sn(g)&&(g=n),sn(u)?Wc(u,Rn(d,1,sn,!0),n,g):[]});function a7(u,d,g){var S=u==null?0:u.length;return S?(d=g||d===n?1:Ye(d),ri(u,d<0?0:d,S)):[]}function l7(u,d,g){var S=u==null?0:u.length;return S?(d=g||d===n?1:Ye(d),d=S-d,ri(u,0,d<0?0:d)):[]}function u7(u,d){return u&&u.length?Jf(u,De(d,3),!0,!0):[]}function c7(u,d){return u&&u.length?Jf(u,De(d,3),!0):[]}function h7(u,d,g,S){var C=u==null?0:u.length;return C?(g&&typeof g!="number"&&qn(u,d,g)&&(g=0,S=C),r8(u,d,g,S)):[]}function pA(u,d,g){var S=u==null?0:u.length;if(!S)return-1;var C=g==null?0:Ye(g);return C<0&&(C=vn(S+C,0)),Rf(u,De(d,3),C)}function mA(u,d,g){var S=u==null?0:u.length;if(!S)return-1;var C=S-1;return g!==n&&(C=Ye(g),C=g<0?vn(S+C,0):Bn(C,S-1)),Rf(u,De(d,3),C,!0)}function gA(u){var d=u==null?0:u.length;return d?Rn(u,1):[]}function d7(u){var d=u==null?0:u.length;return d?Rn(u,te):[]}function f7(u,d){var g=u==null?0:u.length;return g?(d=d===n?1:Ye(d),Rn(u,d)):[]}function p7(u){for(var d=-1,g=u==null?0:u.length,S={};++d<g;){var C=u[d];S[C[0]]=C[1]}return S}function vA(u){return u&&u.length?u[0]:n}function m7(u,d,g){var S=u==null?0:u.length;if(!S)return-1;var C=g==null?0:Ye(g);return C<0&&(C=vn(S+C,0)),Pl(u,d,C)}function g7(u){var d=u==null?0:u.length;return d?ri(u,0,-1):[]}var v7=et(function(u){var d=$t(u,x1);return d.length&&d[0]===u[0]?c1(d):[]}),y7=et(function(u){var d=ii(u),g=$t(u,x1);return d===ii(g)?d=n:g.pop(),g.length&&g[0]===u[0]?c1(g,De(d,2)):[]}),b7=et(function(u){var d=ii(u),g=$t(u,x1);return d=typeof d=="function"?d:n,d&&g.pop(),g.length&&g[0]===u[0]?c1(g,n,d):[]});function x7(u,d){return u==null?"":g6.call(u,d)}function ii(u){var d=u==null?0:u.length;return d?u[d-1]:n}function w7(u,d,g){var S=u==null?0:u.length;if(!S)return-1;var C=S;return g!==n&&(C=Ye(g),C=C<0?vn(S+C,0):Bn(C,S-1)),d===d?e6(u,d,C):Rf(u,ZC,C,!0)}function _7(u,d){return u&&u.length?PT(u,Ye(d)):n}var S7=et(yA);function yA(u,d){return u&&u.length&&d&&d.length?p1(u,d):u}function E7(u,d,g){return u&&u.length&&d&&d.length?p1(u,d,De(g,2)):u}function C7(u,d,g){return u&&u.length&&d&&d.length?p1(u,d,n,g):u}var T7=js(function(u,d){var g=u==null?0:u.length,S=o1(u,d);return IT(u,$t(d,function(C){return Ws(C,g)?+C:C}).sort(zT)),S});function A7(u,d){var g=[];if(!(u&&u.length))return g;var S=-1,C=[],F=u.length;for(d=De(d,3);++S<F;){var N=u[S];d(N,S,u)&&(g.push(N),C.push(S))}return IT(u,C),g}function F1(u){return u==null?u:x6.call(u)}function P7(u,d,g){var S=u==null?0:u.length;return S?(g&&typeof g!="number"&&qn(u,d,g)?(d=0,g=S):(d=d==null?0:Ye(d),g=g===n?S:Ye(g)),ri(u,d,g)):[]}function k7(u,d){return Qf(u,d)}function O7(u,d,g){return v1(u,d,De(g,2))}function I7(u,d){var g=u==null?0:u.length;if(g){var S=Qf(u,d);if(S<g&&Fi(u[S],d))return S}return-1}function R7(u,d){return Qf(u,d,!0)}function M7(u,d,g){return v1(u,d,De(g,2),!0)}function F7(u,d){var g=u==null?0:u.length;if(g){var S=Qf(u,d,!0)-1;if(Fi(u[S],d))return S}return-1}function D7(u){return u&&u.length?MT(u):[]}function L7(u,d){return u&&u.length?MT(u,De(d,2)):[]}function B7(u){var d=u==null?0:u.length;return d?ri(u,1,d):[]}function N7(u,d,g){return u&&u.length?(d=g||d===n?1:Ye(d),ri(u,0,d<0?0:d)):[]}function $7(u,d,g){var S=u==null?0:u.length;return S?(d=g||d===n?1:Ye(d),d=S-d,ri(u,d<0?0:d,S)):[]}function U7(u,d){return u&&u.length?Jf(u,De(d,3),!1,!0):[]}function z7(u,d){return u&&u.length?Jf(u,De(d,3)):[]}var H7=et(function(u){return ko(Rn(u,1,sn,!0))}),j7=et(function(u){var d=ii(u);return sn(d)&&(d=n),ko(Rn(u,1,sn,!0),De(d,2))}),W7=et(function(u){var d=ii(u);return d=typeof d=="function"?d:n,ko(Rn(u,1,sn,!0),n,d)});function G7(u){return u&&u.length?ko(u):[]}function V7(u,d){return u&&u.length?ko(u,De(d,2)):[]}function q7(u,d){return d=typeof d=="function"?d:n,u&&u.length?ko(u,n,d):[]}function D1(u){if(!(u&&u.length))return[];var d=0;return u=Eo(u,function(g){if(sn(g))return d=vn(g.length,d),!0}),Q0(d,function(g){return $t(u,Y0(g))})}function bA(u,d){if(!(u&&u.length))return[];var g=D1(u);return d==null?g:$t(g,function(S){return _r(d,n,S)})}var X7=et(function(u,d){return sn(u)?Wc(u,d):[]}),Y7=et(function(u){return b1(Eo(u,sn))}),K7=et(function(u){var d=ii(u);return sn(d)&&(d=n),b1(Eo(u,sn),De(d,2))}),Z7=et(function(u){var d=ii(u);return d=typeof d=="function"?d:n,b1(Eo(u,sn),n,d)}),Q7=et(D1);function J7(u,d){return BT(u||[],d||[],jc)}function eU(u,d){return BT(u||[],d||[],qc)}var tU=et(function(u){var d=u.length,g=d>1?u[d-1]:n;return g=typeof g=="function"?(u.pop(),g):n,bA(u,g)});function xA(u){var d=I(u);return d.__chain__=!0,d}function nU(u,d){return d(u),u}function lp(u,d){return d(u)}var rU=js(function(u){var d=u.length,g=d?u[0]:0,S=this.__wrapped__,C=function(F){return o1(F,u)};return d>1||this.__actions__.length||!(S instanceof rt)||!Ws(g)?this.thru(C):(S=S.slice(g,+g+(d?1:0)),S.__actions__.push({func:lp,args:[C],thisArg:n}),new ti(S,this.__chain__).thru(function(F){return d&&!F.length&&F.push(n),F}))});function iU(){return xA(this)}function sU(){return new ti(this.value(),this.__chain__)}function oU(){this.__values__===n&&(this.__values__=FA(this.value()));var u=this.__index__>=this.__values__.length,d=u?n:this.__values__[this.__index__++];return{done:u,value:d}}function aU(){return this}function lU(u){for(var d,g=this;g instanceof qf;){var S=fA(g);S.__index__=0,S.__values__=n,d?C.__wrapped__=S:d=S;var C=S;g=g.__wrapped__}return C.__wrapped__=u,d}function uU(){var u=this.__wrapped__;if(u instanceof rt){var d=u;return this.__actions__.length&&(d=new rt(this)),d=d.reverse(),d.__actions__.push({func:lp,args:[F1],thisArg:n}),new ti(d,this.__chain__)}return this.thru(F1)}function cU(){return LT(this.__wrapped__,this.__actions__)}var hU=ep(function(u,d,g){xt.call(u,g)?++u[g]:zs(u,g,1)});function dU(u,d,g){var S=Ve(u)?YC:n8;return g&&qn(u,d,g)&&(d=n),S(u,De(d,3))}function fU(u,d){var g=Ve(u)?Eo:bT;return g(u,De(d,3))}var pU=qT(pA),mU=qT(mA);function gU(u,d){return Rn(up(u,d),1)}function vU(u,d){return Rn(up(u,d),te)}function yU(u,d,g){return g=g===n?1:Ye(g),Rn(up(u,d),g)}function wA(u,d){var g=Ve(u)?Jr:Po;return g(u,De(d,3))}function _A(u,d){var g=Ve(u)?B$:yT;return g(u,De(d,3))}var bU=ep(function(u,d,g){xt.call(u,g)?u[g].push(d):zs(u,g,[d])});function xU(u,d,g,S){u=ar(u)?u:Ul(u),g=g&&!S?Ye(g):0;var C=u.length;return g<0&&(g=vn(C+g,0)),pp(u)?g<=C&&u.indexOf(d,g)>-1:!!C&&Pl(u,d,g)>-1}var wU=et(function(u,d,g){var S=-1,C=typeof d=="function",F=ar(u)?ee(u.length):[];return Po(u,function(N){F[++S]=C?_r(d,N,g):Gc(N,d,g)}),F}),_U=ep(function(u,d,g){zs(u,g,d)});function up(u,d){var g=Ve(u)?$t:CT;return g(u,De(d,3))}function SU(u,d,g,S){return u==null?[]:(Ve(d)||(d=d==null?[]:[d]),g=S?n:g,Ve(g)||(g=g==null?[]:[g]),kT(u,d,g))}var EU=ep(function(u,d,g){u[g?0:1].push(d)},function(){return[[],[]]});function CU(u,d,g){var S=Ve(u)?q0:JC,C=arguments.length<3;return S(u,De(d,4),g,C,Po)}function TU(u,d,g){var S=Ve(u)?N$:JC,C=arguments.length<3;return S(u,De(d,4),g,C,yT)}function AU(u,d){var g=Ve(u)?Eo:bT;return g(u,dp(De(d,3)))}function PU(u){var d=Ve(u)?pT:x8;return d(u)}function kU(u,d,g){(g?qn(u,d,g):d===n)?d=1:d=Ye(d);var S=Ve(u)?Z6:w8;return S(u,d)}function OU(u){var d=Ve(u)?Q6:S8;return d(u)}function IU(u){if(u==null)return 0;if(ar(u))return pp(u)?Ol(u):u.length;var d=Nn(u);return d==st||d==On?u.size:d1(u).length}function RU(u,d,g){var S=Ve(u)?X0:E8;return g&&qn(u,d,g)&&(d=n),S(u,De(d,3))}var MU=et(function(u,d){if(u==null)return[];var g=d.length;return g>1&&qn(u,d[0],d[1])?d=[]:g>2&&qn(d[0],d[1],d[2])&&(d=[d[0]]),kT(u,Rn(d,1),[])}),cp=f6||function(){return In.Date.now()};function FU(u,d){if(typeof d!="function")throw new ei(o);return u=Ye(u),function(){if(--u<1)return d.apply(this,arguments)}}function SA(u,d,g){return d=g?n:d,d=u&&d==null?u.length:d,Hs(u,M,n,n,n,n,d)}function EA(u,d){var g;if(typeof d!="function")throw new ei(o);return u=Ye(u),function(){return--u>0&&(g=d.apply(this,arguments)),u<=1&&(d=n),g}}var L1=et(function(u,d,g){var S=x;if(g.length){var C=To(g,Nl(L1));S|=O}return Hs(u,S,d,g,C)}),CA=et(function(u,d,g){var S=x|b;if(g.length){var C=To(g,Nl(CA));S|=O}return Hs(d,S,u,g,C)});function TA(u,d,g){d=g?n:d;var S=Hs(u,w,n,n,n,n,n,d);return S.placeholder=TA.placeholder,S}function AA(u,d,g){d=g?n:d;var S=Hs(u,E,n,n,n,n,n,d);return S.placeholder=AA.placeholder,S}function PA(u,d,g){var S,C,F,N,U,Y,se=0,ae=!1,ue=!1,ye=!0;if(typeof u!="function")throw new ei(o);d=si(d)||0,Gt(g)&&(ae=!!g.leading,ue="maxWait"in g,F=ue?vn(si(g.maxWait)||0,d):F,ye="trailing"in g?!!g.trailing:ye);function Ee(on){var Di=S,qs=C;return S=C=n,se=on,N=u.apply(qs,Di),N}function Be(on){return se=on,U=Kc(tt,d),ae?Ee(on):N}function Qe(on){var Di=on-Y,qs=on-se,qA=d-Di;return ue?Bn(qA,F-qs):qA}function Ne(on){var Di=on-Y,qs=on-se;return Y===n||Di>=d||Di<0||ue&&qs>=F}function tt(){var on=cp();if(Ne(on))return ot(on);U=Kc(tt,Qe(on))}function ot(on){return U=n,ye&&S?Ee(on):(S=C=n,N)}function Tr(){U!==n&&NT(U),se=0,S=Y=C=U=n}function Xn(){return U===n?N:ot(cp())}function Ar(){var on=cp(),Di=Ne(on);if(S=arguments,C=this,Y=on,Di){if(U===n)return Be(Y);if(ue)return NT(U),U=Kc(tt,d),Ee(Y)}return U===n&&(U=Kc(tt,d)),N}return Ar.cancel=Tr,Ar.flush=Xn,Ar}var DU=et(function(u,d){return vT(u,1,d)}),LU=et(function(u,d,g){return vT(u,si(d)||0,g)});function BU(u){return Hs(u,H)}function hp(u,d){if(typeof u!="function"||d!=null&&typeof d!="function")throw new ei(o);var g=function(){var S=arguments,C=d?d.apply(this,S):S[0],F=g.cache;if(F.has(C))return F.get(C);var N=u.apply(this,S);return g.cache=F.set(C,N)||F,N};return g.cache=new(hp.Cache||Us),g}hp.Cache=Us;function dp(u){if(typeof u!="function")throw new ei(o);return function(){var d=arguments;switch(d.length){case 0:return!u.call(this);case 1:return!u.call(this,d[0]);case 2:return!u.call(this,d[0],d[1]);case 3:return!u.call(this,d[0],d[1],d[2])}return!u.apply(this,d)}}function NU(u){return EA(2,u)}var $U=C8(function(u,d){d=d.length==1&&Ve(d[0])?$t(d[0],Sr(De())):$t(Rn(d,1),Sr(De()));var g=d.length;return et(function(S){for(var C=-1,F=Bn(S.length,g);++C<F;)S[C]=d[C].call(this,S[C]);return _r(u,this,S)})}),B1=et(function(u,d){var g=To(d,Nl(B1));return Hs(u,O,n,d,g)}),kA=et(function(u,d){var g=To(d,Nl(kA));return Hs(u,A,n,d,g)}),UU=js(function(u,d){return Hs(u,L,n,n,n,d)});function zU(u,d){if(typeof u!="function")throw new ei(o);return d=d===n?d:Ye(d),et(u,d)}function HU(u,d){if(typeof u!="function")throw new ei(o);return d=d==null?0:vn(Ye(d),0),et(function(g){var S=g[d],C=Io(g,0,d);return S&&Co(C,S),_r(u,this,C)})}function jU(u,d,g){var S=!0,C=!0;if(typeof u!="function")throw new ei(o);return Gt(g)&&(S="leading"in g?!!g.leading:S,C="trailing"in g?!!g.trailing:C),PA(u,d,{leading:S,maxWait:d,trailing:C})}function WU(u){return SA(u,1)}function GU(u,d){return B1(w1(d),u)}function VU(){if(!arguments.length)return[];var u=arguments[0];return Ve(u)?u:[u]}function qU(u){return ni(u,m)}function XU(u,d){return d=typeof d=="function"?d:n,ni(u,m,d)}function YU(u){return ni(u,f|m)}function KU(u,d){return d=typeof d=="function"?d:n,ni(u,f|m,d)}function ZU(u,d){return d==null||gT(u,d,wn(d))}function Fi(u,d){return u===d||u!==u&&d!==d}var QU=ip(u1),JU=ip(function(u,d){return u>=d}),Ta=_T(function(){return arguments}())?_T:function(u){return Zt(u)&&xt.call(u,"callee")&&!lT.call(u,"callee")},Ve=ee.isArray,e9=jC?Sr(jC):l8;function ar(u){return u!=null&&fp(u.length)&&!Gs(u)}function sn(u){return Zt(u)&&ar(u)}function t9(u){return u===!0||u===!1||Zt(u)&&Vn(u)==Re}var Ro=m6||X1,n9=WC?Sr(WC):u8;function r9(u){return Zt(u)&&u.nodeType===1&&!Zc(u)}function i9(u){if(u==null)return!0;if(ar(u)&&(Ve(u)||typeof u=="string"||typeof u.splice=="function"||Ro(u)||$l(u)||Ta(u)))return!u.length;var d=Nn(u);if(d==st||d==On)return!u.size;if(Yc(u))return!d1(u).length;for(var g in u)if(xt.call(u,g))return!1;return!0}function s9(u,d){return Vc(u,d)}function o9(u,d,g){g=typeof g=="function"?g:n;var S=g?g(u,d):n;return S===n?Vc(u,d,n,g):!!S}function N1(u){if(!Zt(u))return!1;var d=Vn(u);return d==Xe||d==Ke||typeof u.message=="string"&&typeof u.name=="string"&&!Zc(u)}function a9(u){return typeof u=="number"&&cT(u)}function Gs(u){if(!Gt(u))return!1;var d=Vn(u);return d==nt||d==Pe||d==me||d==kn}function OA(u){return typeof u=="number"&&u==Ye(u)}function fp(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=Z}function Gt(u){var d=typeof u;return u!=null&&(d=="object"||d=="function")}function Zt(u){return u!=null&&typeof u=="object"}var IA=GC?Sr(GC):h8;function l9(u,d){return u===d||h1(u,d,P1(d))}function u9(u,d,g){return g=typeof g=="function"?g:n,h1(u,d,P1(d),g)}function c9(u){return RA(u)&&u!=+u}function h9(u){if(X8(u))throw new We(s);return ST(u)}function d9(u){return u===null}function f9(u){return u==null}function RA(u){return typeof u=="number"||Zt(u)&&Vn(u)==gt}function Zc(u){if(!Zt(u)||Vn(u)!=rn)return!1;var d=Uf(u);if(d===null)return!0;var g=xt.call(d,"constructor")&&d.constructor;return typeof g=="function"&&g instanceof g&&Lf.call(g)==u6}var $1=VC?Sr(VC):d8;function p9(u){return OA(u)&&u>=-Z&&u<=Z}var MA=qC?Sr(qC):f8;function pp(u){return typeof u=="string"||!Ve(u)&&Zt(u)&&Vn(u)==fs}function Cr(u){return typeof u=="symbol"||Zt(u)&&Vn(u)==Tl}var $l=XC?Sr(XC):p8;function m9(u){return u===n}function g9(u){return Zt(u)&&Nn(u)==va}function v9(u){return Zt(u)&&Vn(u)==L0}var y9=ip(f1),b9=ip(function(u,d){return u<=d});function FA(u){if(!u)return[];if(ar(u))return pp(u)?Ri(u):or(u);if(Nc&&u[Nc])return Z$(u[Nc]());var d=Nn(u),g=d==st?e1:d==On?Mf:Ul;return g(u)}function Vs(u){if(!u)return u===0?u:0;if(u=si(u),u===te||u===-te){var d=u<0?-1:1;return d*le}return u===u?u:0}function Ye(u){var d=Vs(u),g=d%1;return d===d?g?d-g:d:0}function DA(u){return u?_a(Ye(u),0,R):0}function si(u){if(typeof u=="number")return u;if(Cr(u))return W;if(Gt(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=Gt(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=eT(u);var g=e$.test(u);return g||n$.test(u)?F$(u.slice(2),g?2:8):JN.test(u)?W:+u}function LA(u){return ms(u,lr(u))}function x9(u){return u?_a(Ye(u),-Z,Z):u===0?u:0}function vt(u){return u==null?"":Er(u)}var w9=Ll(function(u,d){if(Yc(d)||ar(d)){ms(d,wn(d),u);return}for(var g in d)xt.call(d,g)&&jc(u,g,d[g])}),BA=Ll(function(u,d){ms(d,lr(d),u)}),mp=Ll(function(u,d,g,S){ms(d,lr(d),u,S)}),_9=Ll(function(u,d,g,S){ms(d,wn(d),u,S)}),S9=js(o1);function E9(u,d){var g=Dl(u);return d==null?g:mT(g,d)}var C9=et(function(u,d){u=Ct(u);var g=-1,S=d.length,C=S>2?d[2]:n;for(C&&qn(d[0],d[1],C)&&(S=1);++g<S;)for(var F=d[g],N=lr(F),U=-1,Y=N.length;++U<Y;){var se=N[U],ae=u[se];(ae===n||Fi(ae,Rl[se])&&!xt.call(u,se))&&(u[se]=F[se])}return u}),T9=et(function(u){return u.push(n,eA),_r(NA,n,u)});function A9(u,d){return KC(u,De(d,3),ps)}function P9(u,d){return KC(u,De(d,3),l1)}function k9(u,d){return u==null?u:a1(u,De(d,3),lr)}function O9(u,d){return u==null?u:xT(u,De(d,3),lr)}function I9(u,d){return u&&ps(u,De(d,3))}function R9(u,d){return u&&l1(u,De(d,3))}function M9(u){return u==null?[]:Kf(u,wn(u))}function F9(u){return u==null?[]:Kf(u,lr(u))}function U1(u,d,g){var S=u==null?n:Sa(u,d);return S===n?g:S}function D9(u,d){return u!=null&&rA(u,d,i8)}function z1(u,d){return u!=null&&rA(u,d,s8)}var L9=YT(function(u,d,g){d!=null&&typeof d.toString!="function"&&(d=Bf.call(d)),u[d]=g},j1(ur)),B9=YT(function(u,d,g){d!=null&&typeof d.toString!="function"&&(d=Bf.call(d)),xt.call(u,d)?u[d].push(g):u[d]=[g]},De),N9=et(Gc);function wn(u){return ar(u)?fT(u):d1(u)}function lr(u){return ar(u)?fT(u,!0):m8(u)}function $9(u,d){var g={};return d=De(d,3),ps(u,function(S,C,F){zs(g,d(S,C,F),S)}),g}function U9(u,d){var g={};return d=De(d,3),ps(u,function(S,C,F){zs(g,C,d(S,C,F))}),g}var z9=Ll(function(u,d,g){Zf(u,d,g)}),NA=Ll(function(u,d,g,S){Zf(u,d,g,S)}),H9=js(function(u,d){var g={};if(u==null)return g;var S=!1;d=$t(d,function(F){return F=Oo(F,u),S||(S=F.length>1),F}),ms(u,T1(u),g),S&&(g=ni(g,f|p|m,L8));for(var C=d.length;C--;)y1(g,d[C]);return g});function j9(u,d){return $A(u,dp(De(d)))}var W9=js(function(u,d){return u==null?{}:v8(u,d)});function $A(u,d){if(u==null)return{};var g=$t(T1(u),function(S){return[S]});return d=De(d),OT(u,g,function(S,C){return d(S,C[0])})}function G9(u,d,g){d=Oo(d,u);var S=-1,C=d.length;for(C||(C=1,u=n);++S<C;){var F=u==null?n:u[gs(d[S])];F===n&&(S=C,F=g),u=Gs(F)?F.call(u):F}return u}function V9(u,d,g){return u==null?u:qc(u,d,g)}function q9(u,d,g,S){return S=typeof S=="function"?S:n,u==null?u:qc(u,d,g,S)}var UA=QT(wn),zA=QT(lr);function X9(u,d,g){var S=Ve(u),C=S||Ro(u)||$l(u);if(d=De(d,4),g==null){var F=u&&u.constructor;C?g=S?new F:[]:Gt(u)?g=Gs(F)?Dl(Uf(u)):{}:g={}}return(C?Jr:ps)(u,function(N,U,Y){return d(g,N,U,Y)}),g}function Y9(u,d){return u==null?!0:y1(u,d)}function K9(u,d,g){return u==null?u:DT(u,d,w1(g))}function Z9(u,d,g,S){return S=typeof S=="function"?S:n,u==null?u:DT(u,d,w1(g),S)}function Ul(u){return u==null?[]:J0(u,wn(u))}function Q9(u){return u==null?[]:J0(u,lr(u))}function J9(u,d,g){return g===n&&(g=d,d=n),g!==n&&(g=si(g),g=g===g?g:0),d!==n&&(d=si(d),d=d===d?d:0),_a(si(u),d,g)}function ez(u,d,g){return d=Vs(d),g===n?(g=d,d=0):g=Vs(g),u=si(u),o8(u,d,g)}function tz(u,d,g){if(g&&typeof g!="boolean"&&qn(u,d,g)&&(d=g=n),g===n&&(typeof d=="boolean"?(g=d,d=n):typeof u=="boolean"&&(g=u,u=n)),u===n&&d===n?(u=0,d=1):(u=Vs(u),d===n?(d=u,u=0):d=Vs(d)),u>d){var S=u;u=d,d=S}if(g||u%1||d%1){var C=hT();return Bn(u+C*(d-u+M$("1e-"+((C+"").length-1))),d)}return m1(u,d)}var nz=Bl(function(u,d,g){return d=d.toLowerCase(),u+(g?HA(d):d)});function HA(u){return H1(vt(u).toLowerCase())}function jA(u){return u=vt(u),u&&u.replace(i$,V$).replace(S$,"")}function rz(u,d,g){u=vt(u),d=Er(d);var S=u.length;g=g===n?S:_a(Ye(g),0,S);var C=g;return g-=d.length,g>=0&&u.slice(g,C)==d}function iz(u){return u=vt(u),u&&NN.test(u)?u.replace(xC,q$):u}function sz(u){return u=vt(u),u&&WN.test(u)?u.replace(B0,"\\$&"):u}var oz=Bl(function(u,d,g){return u+(g?"-":"")+d.toLowerCase()}),az=Bl(function(u,d,g){return u+(g?" ":"")+d.toLowerCase()}),lz=VT("toLowerCase");function uz(u,d,g){u=vt(u),d=Ye(d);var S=d?Ol(u):0;if(!d||S>=d)return u;var C=(d-S)/2;return rp(Wf(C),g)+u+rp(jf(C),g)}function cz(u,d,g){u=vt(u),d=Ye(d);var S=d?Ol(u):0;return d&&S<d?u+rp(d-S,g):u}function hz(u,d,g){u=vt(u),d=Ye(d);var S=d?Ol(u):0;return d&&S<d?rp(d-S,g)+u:u}function dz(u,d,g){return g||d==null?d=0:d&&(d=+d),b6(vt(u).replace(N0,""),d||0)}function fz(u,d,g){return(g?qn(u,d,g):d===n)?d=1:d=Ye(d),g1(vt(u),d)}function pz(){var u=arguments,d=vt(u[0]);return u.length<3?d:d.replace(u[1],u[2])}var mz=Bl(function(u,d,g){return u+(g?"_":"")+d.toLowerCase()});function gz(u,d,g){return g&&typeof g!="number"&&qn(u,d,g)&&(d=g=n),g=g===n?R:g>>>0,g?(u=vt(u),u&&(typeof d=="string"||d!=null&&!$1(d))&&(d=Er(d),!d&&kl(u))?Io(Ri(u),0,g):u.split(d,g)):[]}var vz=Bl(function(u,d,g){return u+(g?" ":"")+H1(d)});function yz(u,d,g){return u=vt(u),g=g==null?0:_a(Ye(g),0,u.length),d=Er(d),u.slice(g,g+d.length)==d}function bz(u,d,g){var S=I.templateSettings;g&&qn(u,d,g)&&(d=n),u=vt(u),d=mp({},d,S,JT);var C=mp({},d.imports,S.imports,JT),F=wn(C),N=J0(C,F),U,Y,se=0,ae=d.interpolate||Pf,ue="__p += '",ye=t1((d.escape||Pf).source+"|"+ae.source+"|"+(ae===wC?QN:Pf).source+"|"+(d.evaluate||Pf).source+"|$","g"),Ee="//# sourceURL="+(xt.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++P$+"]")+`
`;u.replace(ye,function(Ne,tt,ot,Tr,Xn,Ar){return ot||(ot=Tr),ue+=u.slice(se,Ar).replace(s$,X$),tt&&(U=!0,ue+=`' +
__e(`+tt+`) +
'`),Xn&&(Y=!0,ue+=`';
`+Xn+`;
__p += '`),ot&&(ue+=`' +
((__t = (`+ot+`)) == null ? '' : __t) +
'`),se=Ar+Ne.length,Ne}),ue+=`';
`;var Be=xt.call(d,"variable")&&d.variable;if(!Be)ue=`with (obj) {
`+ue+`
}
`;else if(KN.test(Be))throw new We(a);ue=(Y?ue.replace(Lc,""):ue).replace(Ii,"$1").replace(LN,"$1;"),ue="function("+(Be||"obj")+`) {
`+(Be?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(U?", __e = _.escape":"")+(Y?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ue+`return __p
}`;var Qe=GA(function(){return ft(F,Ee+"return "+ue).apply(n,N)});if(Qe.source=ue,N1(Qe))throw Qe;return Qe}function xz(u){return vt(u).toLowerCase()}function wz(u){return vt(u).toUpperCase()}function _z(u,d,g){if(u=vt(u),u&&(g||d===n))return eT(u);if(!u||!(d=Er(d)))return u;var S=Ri(u),C=Ri(d),F=tT(S,C),N=nT(S,C)+1;return Io(S,F,N).join("")}function Sz(u,d,g){if(u=vt(u),u&&(g||d===n))return u.slice(0,iT(u)+1);if(!u||!(d=Er(d)))return u;var S=Ri(u),C=nT(S,Ri(d))+1;return Io(S,0,C).join("")}function Ez(u,d,g){if(u=vt(u),u&&(g||d===n))return u.replace(N0,"");if(!u||!(d=Er(d)))return u;var S=Ri(u),C=tT(S,Ri(d));return Io(S,C).join("")}function Cz(u,d){var g=G,S=z;if(Gt(d)){var C="separator"in d?d.separator:C;g="length"in d?Ye(d.length):g,S="omission"in d?Er(d.omission):S}u=vt(u);var F=u.length;if(kl(u)){var N=Ri(u);F=N.length}if(g>=F)return u;var U=g-Ol(S);if(U<1)return S;var Y=N?Io(N,0,U).join(""):u.slice(0,U);if(C===n)return Y+S;if(N&&(U+=Y.length-U),$1(C)){if(u.slice(U).search(C)){var se,ae=Y;for(C.global||(C=t1(C.source,vt(_C.exec(C))+"g")),C.lastIndex=0;se=C.exec(ae);)var ue=se.index;Y=Y.slice(0,ue===n?U:ue)}}else if(u.indexOf(Er(C),U)!=U){var ye=Y.lastIndexOf(C);ye>-1&&(Y=Y.slice(0,ye))}return Y+S}function Tz(u){return u=vt(u),u&&BN.test(u)?u.replace(bC,t6):u}var Az=Bl(function(u,d,g){return u+(g?" ":"")+d.toUpperCase()}),H1=VT("toUpperCase");function WA(u,d,g){return u=vt(u),d=g?n:d,d===n?K$(u)?i6(u):z$(u):u.match(d)||[]}var GA=et(function(u,d){try{return _r(u,n,d)}catch(g){return N1(g)?g:new We(g)}}),Pz=js(function(u,d){return Jr(d,function(g){g=gs(g),zs(u,g,L1(u[g],u))}),u});function kz(u){var d=u==null?0:u.length,g=De();return u=d?$t(u,function(S){if(typeof S[1]!="function")throw new ei(o);return[g(S[0]),S[1]]}):[],et(function(S){for(var C=-1;++C<d;){var F=u[C];if(_r(F[0],this,S))return _r(F[1],this,S)}})}function Oz(u){return t8(ni(u,f))}function j1(u){return function(){return u}}function Iz(u,d){return u==null||u!==u?d:u}var Rz=XT(),Mz=XT(!0);function ur(u){return u}function W1(u){return ET(typeof u=="function"?u:ni(u,f))}function Fz(u){return TT(ni(u,f))}function Dz(u,d){return AT(u,ni(d,f))}var Lz=et(function(u,d){return function(g){return Gc(g,u,d)}}),Bz=et(function(u,d){return function(g){return Gc(u,g,d)}});function G1(u,d,g){var S=wn(d),C=Kf(d,S);g==null&&!(Gt(d)&&(C.length||!S.length))&&(g=d,d=u,u=this,C=Kf(d,wn(d)));var F=!(Gt(g)&&"chain"in g)||!!g.chain,N=Gs(u);return Jr(C,function(U){var Y=d[U];u[U]=Y,N&&(u.prototype[U]=function(){var se=this.__chain__;if(F||se){var ae=u(this.__wrapped__),ue=ae.__actions__=or(this.__actions__);return ue.push({func:Y,args:arguments,thisArg:u}),ae.__chain__=se,ae}return Y.apply(u,Co([this.value()],arguments))})}),u}function Nz(){return In._===this&&(In._=c6),this}function V1(){}function $z(u){return u=Ye(u),et(function(d){return PT(d,u)})}var Uz=S1($t),zz=S1(YC),Hz=S1(X0);function VA(u){return O1(u)?Y0(gs(u)):y8(u)}function jz(u){return function(d){return u==null?n:Sa(u,d)}}var Wz=KT(),Gz=KT(!0);function q1(){return[]}function X1(){return!1}function Vz(){return{}}function qz(){return""}function Xz(){return!0}function Yz(u,d){if(u=Ye(u),u<1||u>Z)return[];var g=R,S=Bn(u,R);d=De(d),u-=R;for(var C=Q0(S,d);++g<u;)d(g);return C}function Kz(u){return Ve(u)?$t(u,gs):Cr(u)?[u]:or(dA(vt(u)))}function Zz(u){var d=++l6;return vt(u)+d}var Qz=np(function(u,d){return u+d},0),Jz=E1("ceil"),eH=np(function(u,d){return u/d},1),tH=E1("floor");function nH(u){return u&&u.length?Yf(u,ur,u1):n}function rH(u,d){return u&&u.length?Yf(u,De(d,2),u1):n}function iH(u){return QC(u,ur)}function sH(u,d){return QC(u,De(d,2))}function oH(u){return u&&u.length?Yf(u,ur,f1):n}function aH(u,d){return u&&u.length?Yf(u,De(d,2),f1):n}var lH=np(function(u,d){return u*d},1),uH=E1("round"),cH=np(function(u,d){return u-d},0);function hH(u){return u&&u.length?Z0(u,ur):0}function dH(u,d){return u&&u.length?Z0(u,De(d,2)):0}return I.after=FU,I.ary=SA,I.assign=w9,I.assignIn=BA,I.assignInWith=mp,I.assignWith=_9,I.at=S9,I.before=EA,I.bind=L1,I.bindAll=Pz,I.bindKey=CA,I.castArray=VU,I.chain=xA,I.chunk=t7,I.compact=n7,I.concat=r7,I.cond=kz,I.conforms=Oz,I.constant=j1,I.countBy=hU,I.create=E9,I.curry=TA,I.curryRight=AA,I.debounce=PA,I.defaults=C9,I.defaultsDeep=T9,I.defer=DU,I.delay=LU,I.difference=i7,I.differenceBy=s7,I.differenceWith=o7,I.drop=a7,I.dropRight=l7,I.dropRightWhile=u7,I.dropWhile=c7,I.fill=h7,I.filter=fU,I.flatMap=gU,I.flatMapDeep=vU,I.flatMapDepth=yU,I.flatten=gA,I.flattenDeep=d7,I.flattenDepth=f7,I.flip=BU,I.flow=Rz,I.flowRight=Mz,I.fromPairs=p7,I.functions=M9,I.functionsIn=F9,I.groupBy=bU,I.initial=g7,I.intersection=v7,I.intersectionBy=y7,I.intersectionWith=b7,I.invert=L9,I.invertBy=B9,I.invokeMap=wU,I.iteratee=W1,I.keyBy=_U,I.keys=wn,I.keysIn=lr,I.map=up,I.mapKeys=$9,I.mapValues=U9,I.matches=Fz,I.matchesProperty=Dz,I.memoize=hp,I.merge=z9,I.mergeWith=NA,I.method=Lz,I.methodOf=Bz,I.mixin=G1,I.negate=dp,I.nthArg=$z,I.omit=H9,I.omitBy=j9,I.once=NU,I.orderBy=SU,I.over=Uz,I.overArgs=$U,I.overEvery=zz,I.overSome=Hz,I.partial=B1,I.partialRight=kA,I.partition=EU,I.pick=W9,I.pickBy=$A,I.property=VA,I.propertyOf=jz,I.pull=S7,I.pullAll=yA,I.pullAllBy=E7,I.pullAllWith=C7,I.pullAt=T7,I.range=Wz,I.rangeRight=Gz,I.rearg=UU,I.reject=AU,I.remove=A7,I.rest=zU,I.reverse=F1,I.sampleSize=kU,I.set=V9,I.setWith=q9,I.shuffle=OU,I.slice=P7,I.sortBy=MU,I.sortedUniq=D7,I.sortedUniqBy=L7,I.split=gz,I.spread=HU,I.tail=B7,I.take=N7,I.takeRight=$7,I.takeRightWhile=U7,I.takeWhile=z7,I.tap=nU,I.throttle=jU,I.thru=lp,I.toArray=FA,I.toPairs=UA,I.toPairsIn=zA,I.toPath=Kz,I.toPlainObject=LA,I.transform=X9,I.unary=WU,I.union=H7,I.unionBy=j7,I.unionWith=W7,I.uniq=G7,I.uniqBy=V7,I.uniqWith=q7,I.unset=Y9,I.unzip=D1,I.unzipWith=bA,I.update=K9,I.updateWith=Z9,I.values=Ul,I.valuesIn=Q9,I.without=X7,I.words=WA,I.wrap=GU,I.xor=Y7,I.xorBy=K7,I.xorWith=Z7,I.zip=Q7,I.zipObject=J7,I.zipObjectDeep=eU,I.zipWith=tU,I.entries=UA,I.entriesIn=zA,I.extend=BA,I.extendWith=mp,G1(I,I),I.add=Qz,I.attempt=GA,I.camelCase=nz,I.capitalize=HA,I.ceil=Jz,I.clamp=J9,I.clone=qU,I.cloneDeep=YU,I.cloneDeepWith=KU,I.cloneWith=XU,I.conformsTo=ZU,I.deburr=jA,I.defaultTo=Iz,I.divide=eH,I.endsWith=rz,I.eq=Fi,I.escape=iz,I.escapeRegExp=sz,I.every=dU,I.find=pU,I.findIndex=pA,I.findKey=A9,I.findLast=mU,I.findLastIndex=mA,I.findLastKey=P9,I.floor=tH,I.forEach=wA,I.forEachRight=_A,I.forIn=k9,I.forInRight=O9,I.forOwn=I9,I.forOwnRight=R9,I.get=U1,I.gt=QU,I.gte=JU,I.has=D9,I.hasIn=z1,I.head=vA,I.identity=ur,I.includes=xU,I.indexOf=m7,I.inRange=ez,I.invoke=N9,I.isArguments=Ta,I.isArray=Ve,I.isArrayBuffer=e9,I.isArrayLike=ar,I.isArrayLikeObject=sn,I.isBoolean=t9,I.isBuffer=Ro,I.isDate=n9,I.isElement=r9,I.isEmpty=i9,I.isEqual=s9,I.isEqualWith=o9,I.isError=N1,I.isFinite=a9,I.isFunction=Gs,I.isInteger=OA,I.isLength=fp,I.isMap=IA,I.isMatch=l9,I.isMatchWith=u9,I.isNaN=c9,I.isNative=h9,I.isNil=f9,I.isNull=d9,I.isNumber=RA,I.isObject=Gt,I.isObjectLike=Zt,I.isPlainObject=Zc,I.isRegExp=$1,I.isSafeInteger=p9,I.isSet=MA,I.isString=pp,I.isSymbol=Cr,I.isTypedArray=$l,I.isUndefined=m9,I.isWeakMap=g9,I.isWeakSet=v9,I.join=x7,I.kebabCase=oz,I.last=ii,I.lastIndexOf=w7,I.lowerCase=az,I.lowerFirst=lz,I.lt=y9,I.lte=b9,I.max=nH,I.maxBy=rH,I.mean=iH,I.meanBy=sH,I.min=oH,I.minBy=aH,I.stubArray=q1,I.stubFalse=X1,I.stubObject=Vz,I.stubString=qz,I.stubTrue=Xz,I.multiply=lH,I.nth=_7,I.noConflict=Nz,I.noop=V1,I.now=cp,I.pad=uz,I.padEnd=cz,I.padStart=hz,I.parseInt=dz,I.random=tz,I.reduce=CU,I.reduceRight=TU,I.repeat=fz,I.replace=pz,I.result=G9,I.round=uH,I.runInContext=q,I.sample=PU,I.size=IU,I.snakeCase=mz,I.some=RU,I.sortedIndex=k7,I.sortedIndexBy=O7,I.sortedIndexOf=I7,I.sortedLastIndex=R7,I.sortedLastIndexBy=M7,I.sortedLastIndexOf=F7,I.startCase=vz,I.startsWith=yz,I.subtract=cH,I.sum=hH,I.sumBy=dH,I.template=bz,I.times=Yz,I.toFinite=Vs,I.toInteger=Ye,I.toLength=DA,I.toLower=xz,I.toNumber=si,I.toSafeInteger=x9,I.toString=vt,I.toUpper=wz,I.trim=_z,I.trimEnd=Sz,I.trimStart=Ez,I.truncate=Cz,I.unescape=Tz,I.uniqueId=Zz,I.upperCase=Az,I.upperFirst=H1,I.each=wA,I.eachRight=_A,I.first=vA,G1(I,function(){var u={};return ps(I,function(d,g){xt.call(I.prototype,g)||(u[g]=d)}),u}(),{chain:!1}),I.VERSION=r,Jr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){I[u].placeholder=I}),Jr(["drop","take"],function(u,d){rt.prototype[u]=function(g){g=g===n?1:vn(Ye(g),0);var S=this.__filtered__&&!d?new rt(this):this.clone();return S.__filtered__?S.__takeCount__=Bn(g,S.__takeCount__):S.__views__.push({size:Bn(g,R),type:u+(S.__dir__<0?"Right":"")}),S},rt.prototype[u+"Right"]=function(g){return this.reverse()[u](g).reverse()}}),Jr(["filter","map","takeWhile"],function(u,d){var g=d+1,S=g==V||g==ce;rt.prototype[u]=function(C){var F=this.clone();return F.__iteratees__.push({iteratee:De(C,3),type:g}),F.__filtered__=F.__filtered__||S,F}}),Jr(["head","last"],function(u,d){var g="take"+(d?"Right":"");rt.prototype[u]=function(){return this[g](1).value()[0]}}),Jr(["initial","tail"],function(u,d){var g="drop"+(d?"":"Right");rt.prototype[u]=function(){return this.__filtered__?new rt(this):this[g](1)}}),rt.prototype.compact=function(){return this.filter(ur)},rt.prototype.find=function(u){return this.filter(u).head()},rt.prototype.findLast=function(u){return this.reverse().find(u)},rt.prototype.invokeMap=et(function(u,d){return typeof u=="function"?new rt(this):this.map(function(g){return Gc(g,u,d)})}),rt.prototype.reject=function(u){return this.filter(dp(De(u)))},rt.prototype.slice=function(u,d){u=Ye(u);var g=this;return g.__filtered__&&(u>0||d<0)?new rt(g):(u<0?g=g.takeRight(-u):u&&(g=g.drop(u)),d!==n&&(d=Ye(d),g=d<0?g.dropRight(-d):g.take(d-u)),g)},rt.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},rt.prototype.toArray=function(){return this.take(R)},ps(rt.prototype,function(u,d){var g=/^(?:filter|find|map|reject)|While$/.test(d),S=/^(?:head|last)$/.test(d),C=I[S?"take"+(d=="last"?"Right":""):d],F=S||/^find/.test(d);C&&(I.prototype[d]=function(){var N=this.__wrapped__,U=S?[1]:arguments,Y=N instanceof rt,se=U[0],ae=Y||Ve(N),ue=function(tt){var ot=C.apply(I,Co([tt],U));return S&&ye?ot[0]:ot};ae&&g&&typeof se=="function"&&se.length!=1&&(Y=ae=!1);var ye=this.__chain__,Ee=!!this.__actions__.length,Be=F&&!ye,Qe=Y&&!Ee;if(!F&&ae){N=Qe?N:new rt(this);var Ne=u.apply(N,U);return Ne.__actions__.push({func:lp,args:[ue],thisArg:n}),new ti(Ne,ye)}return Be&&Qe?u.apply(this,U):(Ne=this.thru(ue),Be?S?Ne.value()[0]:Ne.value():Ne)})}),Jr(["pop","push","shift","sort","splice","unshift"],function(u){var d=Ff[u],g=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",S=/^(?:pop|shift)$/.test(u);I.prototype[u]=function(){var C=arguments;if(S&&!this.__chain__){var F=this.value();return d.apply(Ve(F)?F:[],C)}return this[g](function(N){return d.apply(Ve(N)?N:[],C)})}}),ps(rt.prototype,function(u,d){var g=I[d];if(g){var S=g.name+"";xt.call(Fl,S)||(Fl[S]=[]),Fl[S].push({name:d,func:g})}}),Fl[tp(n,b).name]=[{name:"wrapper",func:n}],rt.prototype.clone=T6,rt.prototype.reverse=A6,rt.prototype.value=P6,I.prototype.at=rU,I.prototype.chain=iU,I.prototype.commit=sU,I.prototype.next=oU,I.prototype.plant=lU,I.prototype.reverse=uU,I.prototype.toJSON=I.prototype.valueOf=I.prototype.value=cU,I.prototype.first=I.prototype.head,Nc&&(I.prototype[Nc]=aU),I},Il=s6();ya?((ya.exports=Il)._=Il,W0._=Il):In._=Il}).call(fr)})(ySe,Ad);function bSe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Rg(t,e)}function ob(t){return t&&t.stopPropagation&&t.stopPropagation(),t&&t.preventDefault&&t.preventDefault(),!1}function ab(t){return t==null?[]:Array.isArray(t)?t.slice():[t]}function Vp(t){return t!==null&&t.length===1?t[0]:t.slice()}function qp(t){Object.keys(t).forEach(e=>{typeof document<"u"&&document.addEventListener(e,t[e],!1)})}function Pa(t,e){return Ww(function(n,r){let i=n;return i<=r.min&&(i=r.min),i>=r.max&&(i=r.max),i}(t,e),e)}function Ww(t,e){const n=(t-e.min)%e.step;let r=t-n;return 2*Math.abs(n)>=e.step&&(r+=n>0?e.step:-e.step),parseFloat(r.toFixed(5))}let Gw=function(t){function e(r){var i;(i=t.call(this,r)||this).onKeyUp=()=>{i.onEnd()},i.onMouseUp=()=>{i.onEnd(i.getMouseEventMap())},i.onTouchEnd=()=>{i.onEnd(i.getTouchEventMap())},i.onBlur=()=>{i.setState({index:-1},i.onEnd(i.getKeyDownEventMap()))},i.onMouseMove=a=>{i.setState({pending:!0});const l=i.getMousePosition(a),c=i.getDiffPosition(l[0]),h=i.getValueFromPosition(c);i.move(h)},i.onTouchMove=a=>{if(a.touches.length>1)return;i.setState({pending:!0});const l=i.getTouchPosition(a);if(i.isScrolling===void 0){const f=l[0]-i.startPosition[0],p=l[1]-i.startPosition[1];i.isScrolling=Math.abs(p)>Math.abs(f)}if(i.isScrolling)return void i.setState({index:-1});const c=i.getDiffPosition(l[0]),h=i.getValueFromPosition(c);i.move(h)},i.onKeyDown=a=>{if(!(a.ctrlKey||a.shiftKey||a.altKey||a.metaKey))switch(i.setState({pending:!0}),a.key){case"ArrowLeft":case"ArrowDown":case"Left":case"Down":a.preventDefault(),i.moveDownByStep();break;case"ArrowRight":case"ArrowUp":case"Right":case"Up":a.preventDefault(),i.moveUpByStep();break;case"Home":a.preventDefault(),i.move(i.props.min);break;case"End":a.preventDefault(),i.move(i.props.max);break;case"PageDown":a.preventDefault(),i.moveDownByStep(i.props.pageFn(i.props.step));break;case"PageUp":a.preventDefault(),i.moveUpByStep(i.props.pageFn(i.props.step))}},i.onSliderMouseDown=a=>{if(!i.props.disabled&&a.button!==2){if(i.setState({pending:!0}),!i.props.snapDragDisabled){const l=i.getMousePosition(a);i.forceValueFromPosition(l[0],c=>{i.start(c,l[0]),qp(i.getMouseEventMap())})}ob(a)}},i.onSliderClick=a=>{if(!i.props.disabled&&i.props.onSliderClick&&!i.hasMoved){const l=i.getMousePosition(a),c=Pa(i.calcValue(i.calcOffsetFromPosition(l[0])),i.props);i.props.onSliderClick(c)}},i.createOnKeyDown=a=>l=>{i.props.disabled||(i.start(a),qp(i.getKeyDownEventMap()),ob(l))},i.createOnMouseDown=a=>l=>{if(i.props.disabled||l.button===2)return;i.setState({pending:!0});const c=i.getMousePosition(l);i.start(a,c[0]),qp(i.getMouseEventMap()),ob(l)},i.createOnTouchStart=a=>l=>{if(i.props.disabled||l.touches.length>1)return;i.setState({pending:!0});const c=i.getTouchPosition(l);i.startPosition=c,i.isScrolling=void 0,i.start(a,c[0]),qp(i.getTouchEventMap()),function(h){h.stopPropagation&&h.stopPropagation()}(l)},i.handleResize=()=>{const a=window.setTimeout(()=>{i.pendingResizeTimeouts.shift(),i.resize()},0);i.pendingResizeTimeouts.push(a)},i.renderThumb=(a,l)=>{const c=i.props.thumbClassName+" "+i.props.thumbClassName+"-"+l+" "+(i.state.index===l?i.props.thumbActiveClassName:""),h={ref:p=>{i["thumb"+l]=p},key:i.props.thumbClassName+"-"+l,className:c,style:a,onMouseDown:i.createOnMouseDown(l),onTouchStart:i.createOnTouchStart(l),onFocus:i.createOnKeyDown(l),tabIndex:0,role:"slider","aria-orientation":i.props.orientation,"aria-valuenow":i.state.value[l],"aria-valuemin":i.props.min,"aria-valuemax":i.props.max,"aria-label":Array.isArray(i.props.ariaLabel)?i.props.ariaLabel[l]:i.props.ariaLabel,"aria-labelledby":Array.isArray(i.props.ariaLabelledby)?i.props.ariaLabelledby[l]:i.props.ariaLabelledby},f={index:l,value:Vp(i.state.value),valueNow:i.state.value[l]};return i.props.ariaValuetext&&(h["aria-valuetext"]=typeof i.props.ariaValuetext=="string"?i.props.ariaValuetext:i.props.ariaValuetext(f)),i.props.renderThumb(h,f)},i.renderTrack=(a,l,c)=>{const h={key:i.props.trackClassName+"-"+a,className:i.props.trackClassName+" "+i.props.trackClassName+"-"+a,style:i.buildTrackStyle(l,i.state.upperBound-c)},f={index:a,value:Vp(i.state.value)};return i.props.renderTrack(h,f)};let s=ab(r.value);s.length||(s=ab(r.defaultValue)),i.pendingResizeTimeouts=[];const o=[];for(let a=0;a<s.length;a+=1)s[a]=Pa(s[a],r),o.push(a);return i.resizeObserver=null,i.resizeElementRef=P.createRef(),i.state={index:-1,upperBound:0,sliderLength:0,value:s,zIndices:o},i}bSe(e,t);var n=e.prototype;return n.componentDidMount=function(){typeof window<"u"&&(this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.resizeElementRef.current),this.resize())},e.getDerivedStateFromProps=function(r,i){const s=ab(r.value);return s.length?i.pending?null:{value:s.map(o=>Pa(o,r))}:null},n.componentDidUpdate=function(){this.state.upperBound===0&&this.resize()},n.componentWillUnmount=function(){this.clearPendingResizeTimeouts(),this.resizeObserver&&this.resizeObserver.disconnect()},n.onEnd=function(r){r&&function(i){Object.keys(i).forEach(s=>{typeof document<"u"&&document.removeEventListener(s,i[s],!1)})}(r),this.hasMoved&&this.fireChangeEvent("onAfterChange"),this.setState({pending:!1}),this.hasMoved=!1},n.getValue=function(){return Vp(this.state.value)},n.getClosestIndex=function(r){let i=Number.MAX_VALUE,s=-1;const{value:o}=this.state,a=o.length;for(let l=0;l<a;l+=1){const c=this.calcOffset(o[l]),h=Math.abs(r-c);h<i&&(i=h,s=l)}return s},n.getMousePosition=function(r){return[r["page"+this.axisKey()],r["page"+this.orthogonalAxisKey()]]},n.getTouchPosition=function(r){const i=r.touches[0];return[i["page"+this.axisKey()],i["page"+this.orthogonalAxisKey()]]},n.getKeyDownEventMap=function(){return{keydown:this.onKeyDown,keyup:this.onKeyUp,focusout:this.onBlur}},n.getMouseEventMap=function(){return{mousemove:this.onMouseMove,mouseup:this.onMouseUp}},n.getTouchEventMap=function(){return{touchmove:this.onTouchMove,touchend:this.onTouchEnd}},n.getValueFromPosition=function(r){const i=r/(this.state.sliderLength-this.state.thumbSize)*(this.props.max-this.props.min);return Pa(this.state.startValue+i,this.props)},n.getDiffPosition=function(r){let i=r-this.state.startPosition;return this.props.invert&&(i*=-1),i},n.resize=function(){const{slider:r,thumb0:i}=this;if(!r||!i)return;const s=this.sizeKey(),o=r.getBoundingClientRect(),a=r[s],l=o[this.posMaxKey()],c=o[this.posMinKey()],h=i.getBoundingClientRect()[s.replace("client","").toLowerCase()],f=a-h,p=Math.abs(l-c);this.state.upperBound===f&&this.state.sliderLength===p&&this.state.thumbSize===h||this.setState({upperBound:f,sliderLength:p,thumbSize:h})},n.calcOffset=function(r){const i=this.props.max-this.props.min;return i===0?0:(r-this.props.min)/i*this.state.upperBound},n.calcValue=function(r){return r/this.state.upperBound*(this.props.max-this.props.min)+this.props.min},n.calcOffsetFromPosition=function(r){const{slider:i}=this,s=i.getBoundingClientRect(),o=s[this.posMaxKey()],a=s[this.posMinKey()];let l=r-(window["page"+this.axisKey()+"Offset"]+(this.props.invert?o:a));return this.props.invert&&(l=this.state.sliderLength-l),l-=this.state.thumbSize/2,l},n.forceValueFromPosition=function(r,i){const s=this.calcOffsetFromPosition(r),o=this.getClosestIndex(s),a=Pa(this.calcValue(s),this.props),l=this.state.value.slice();l[o]=a;for(let c=0;c<l.length-1;c+=1)if(l[c+1]-l[c]<this.props.minDistance)return;this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0,this.setState({value:l},()=>{i(o),this.fireChangeEvent("onChange")})},n.clearPendingResizeTimeouts=function(){do{const r=this.pendingResizeTimeouts.shift();clearTimeout(r)}while(this.pendingResizeTimeouts.length)},n.start=function(r,i){const s=this["thumb"+r];s&&s.focus();const{zIndices:o}=this.state;o.splice(o.indexOf(r),1),o.push(r),this.setState(a=>({startValue:a.value[r],startPosition:i!==void 0?i:a.startPosition,index:r,zIndices:o}))},n.moveUpByStep=function(r){r===void 0&&(r=this.props.step);const i=Pa(this.state.value[this.state.index]+r,this.props);this.move(Math.min(i,this.props.max))},n.moveDownByStep=function(r){r===void 0&&(r=this.props.step);const i=Pa(this.state.value[this.state.index]-r,this.props);this.move(Math.max(i,this.props.min))},n.move=function(r){const{index:i,value:s}=this.state,{length:o}=s,a=s[i];if(r===a)return;this.hasMoved||this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0;const{pearling:l,max:c,min:h,minDistance:f}=this.props;if(!l){if(i>0){const p=s[i-1];r<p+f&&(r=p+f)}if(i<o-1){const p=s[i+1];r>p-f&&(r=p-f)}}s[i]=r,l&&o>1&&(r>a?(this.pushSucceeding(s,f,i),function(p,m,v,y){for(let x=0;x<p;x+=1){const b=y-x*v;m[p-1-x]>b&&(m[p-1-x]=b)}}(o,s,f,c)):r<a&&(this.pushPreceding(s,f,i),function(p,m,v,y){for(let x=0;x<p;x+=1){const b=y+x*v;m[x]<b&&(m[x]=b)}}(o,s,f,h))),this.setState({value:s},this.fireChangeEvent.bind(this,"onChange"))},n.pushSucceeding=function(r,i,s){let o,a;for(o=s,a=r[o]+i;r[o+1]!==null&&a>r[o+1];o+=1,a=r[o]+i)r[o+1]=Ww(a,this.props)},n.pushPreceding=function(r,i,s){for(let o=s,a=r[o]-i;r[o-1]!==null&&a<r[o-1];o-=1,a=r[o]-i)r[o-1]=Ww(a,this.props)},n.axisKey=function(){return this.props.orientation==="vertical"?"Y":"X"},n.orthogonalAxisKey=function(){return this.props.orientation==="vertical"?"X":"Y"},n.posMinKey=function(){return this.props.orientation==="vertical"?this.props.invert?"bottom":"top":this.props.invert?"right":"left"},n.posMaxKey=function(){return this.props.orientation==="vertical"?this.props.invert?"top":"bottom":this.props.invert?"left":"right"},n.sizeKey=function(){return this.props.orientation==="vertical"?"clientHeight":"clientWidth"},n.fireChangeEvent=function(r){this.props[r]&&this.props[r](Vp(this.state.value),this.state.index)},n.buildThumbStyle=function(r,i){const s={position:"absolute",touchAction:"none",willChange:this.state.index>=0?this.posMinKey():void 0,zIndex:this.state.zIndices.indexOf(i)+1};return s[this.posMinKey()]=r+"px",s},n.buildTrackStyle=function(r,i){const s={position:"absolute",willChange:this.state.index>=0?this.posMinKey()+","+this.posMaxKey():void 0};return s[this.posMinKey()]=r,s[this.posMaxKey()]=i,s},n.buildMarkStyle=function(r){var i;return(i={position:"absolute"})[this.posMinKey()]=r,i},n.renderThumbs=function(r){const{length:i}=r,s=[];for(let a=0;a<i;a+=1)s[a]=this.buildThumbStyle(r[a],a);const o=[];for(let a=0;a<i;a+=1)o[a]=this.renderThumb(s[a],a);return o},n.renderTracks=function(r){const i=[],s=r.length-1;i.push(this.renderTrack(0,0,r[0]));for(let o=0;o<s;o+=1)i.push(this.renderTrack(o+1,r[o],r[o+1]));return i.push(this.renderTrack(s+1,r[s],this.state.upperBound)),i},n.renderMarks=function(){let{marks:r}=this.props;const i=this.props.max-this.props.min+1;return typeof r=="boolean"?r=Array.from({length:i}).map((s,o)=>o):typeof r=="number"&&(r=Array.from({length:i}).map((s,o)=>o).filter(s=>s%r==0)),r.map(parseFloat).sort((s,o)=>s-o).map(s=>{const o=this.calcOffset(s),a={key:s,className:this.props.markClassName,style:this.buildMarkStyle(o)};return this.props.renderMark(a)})},n.render=function(){const r=[],{value:i}=this.state,s=i.length;for(let c=0;c<s;c+=1)r[c]=this.calcOffset(i[c],c);const o=this.props.withTracks?this.renderTracks(r):null,a=this.renderThumbs(r),l=this.props.marks?this.renderMarks():null;return P.createElement("div",{ref:c=>{this.slider=c,this.resizeElementRef.current=c},style:{position:"relative"},className:this.props.className+(this.props.disabled?" disabled":""),onMouseDown:this.onSliderMouseDown,onClick:this.onSliderClick},o,a,l)},e}(P.Component);Gw.displayName="ReactSlider",Gw.defaultProps={min:0,max:100,step:1,pageFn:t=>10*t,minDistance:0,defaultValue:0,orientation:"horizontal",className:"slider",thumbClassName:"thumb",thumbActiveClassName:"active",trackClassName:"track",markClassName:"mark",withTracks:!0,pearling:!1,disabled:!1,snapDragDisabled:!1,invert:!1,marks:[],renderThumb:t=>P.createElement("div",t),renderTrack:t=>P.createElement("div",t),renderMark:t=>P.createElement("span",t)};var Xp=Gw;function xSe({graphEvents$:t}){const[e,n]=T.useState(50),[r,i]=T.useState(50),[s,o]=T.useState(50),[a,l]=T.useState(50),[c,h]=T.useState({}),{setColorTheme:f,colorTheme:p}=T.useContext(xc);T.useEffect(()=>{},[c]);const m=w=>{n(w),b()},v=w=>{i(w),b()},y=w=>{o(w),b()},x=w=>{l(w),b()},b=()=>{t.next({event:"forcesUpdated",data:{forces:{f1:e,f2:r,f3:s,f4:a}}})},_=w=>{Ad.each(Object.keys(eo),E=>{w===eo[E]["--themeColor"]&&f({type:"set",theme:E})})};return J("div",{className:"settings-panel",children:[J("div",{className:"sliders",children:[k("div",{className:"padding-sm",children:"Force Graph Settings"}),k("div",{className:"slider",children:k(Xp,{min:0,max:100,defaultValue:[25],className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:m,renderThumb:(w,E)=>k("div",{...w,children:E.valueNow})})}),k("div",{className:"slider",children:k(Xp,{min:0,max:50,defaultValue:[25],className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:v,renderThumb:(w,E)=>k("div",{...w,children:E.valueNow})})}),k("div",{className:"slider",children:k(Xp,{defaultValue:[70],className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:y,renderThumb:(w,E)=>k("div",{...w,children:E.valueNow})})}),k("div",{className:"slider",children:k(Xp,{className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:x,renderThumb:(w,E)=>k("div",{...w,children:E.valueNow})})})]}),J("div",{className:"theme-panel",children:["Theme",k("div",{className:"colorpicker",children:k(ac,{type:"circle",color:eo[p]["--themeColor"],colorChanged:_,colorOptions:Ad.map(Object.keys(eo),w=>eo[w]["--themeColor"])})})]})]})}const wSe={small:[0,600],med:[600,900],large:[901,1150],xl:[1151,1400],xxl:[1401,1600],xxxl:[1601,2e3]};function _Se(t){return{small:1,med:2,large:3,xl:4,xxl:5,xxxl:6}[t]}function N3(t,e){return er(t,n=>{var i,s;let r=!0;return(i=e.tags)!=null&&i.length&&(r=IS(e.tags,n.tags).length===0),(s=e.textFilter)!=null&&s.length&&(r=r&&n.name.toLowerCase().includes(e.textFilter.toLowerCase())),r})}function SSe(t){const e=RS(t,(n,r)=>{var i;return(i=r==null?void 0:r.tags)!=null&&i.length?[...n,...r.tags]:n},[]);return vi(al(e))}function ESe(){const{abilities:t,setAbilities:e}=T.useContext(tr),[n,r]=T.useState({tags:[],textFilter:""}),[i,s]=T.useState(!1),[o,a]=T.useState(""),{ref:l,active:c,width:h}=Hw({breakpoints:wSe}),f=b=>{},p=b=>{a(b.id)},m=b=>{e({type:"remove",ability:{id:b}}),e({type:"save"})},v=b=>{r(b)},y=()=>{const b=`abl-${Math.floor(Math.random()*7e5)}`;e({type:"add",ability:{name:n.textFilter||"New Ability",id:b,description:"",tags:n.tags,type:"action"}}),a(b)},x=()=>{s(!i)};return J("div",{className:"ability-editor",children:[k($g,{children:k(Ug,{expanded:!0,tags:SSe(t),filtersUpdated:v})}),J("div",{className:"expand-button",children:["Abilities",k(Et,{color:"theme",clicked:x,children:i?k(XF,{size:30}):k(qF,{size:30})})]}),k("div",{ref:l,className:"ability-cards",children:J(ww,{columns:_Se(c),spacing:2,children:[k("div",{className:"card-wrapper new-button",children:J("button",{onClick:y,children:[k(ss,{})," New Ability"]})}),N3(t,n).map((b,_)=>k("div",{className:"card-wrapper",children:k(Td,{ability:b,isPlayerAbility:!0,modifiers:b.modifiers,startOpen:!1,isExpanded:i,editable:!0,forceIsEditing:b.id===o,abilityEdited:f,abilityCopied:p,abilityRemoved:m},_)},_)),N3(t,n).length>10&&k("div",{className:"card-wrapper new-button",children:J("button",{onClick:y,children:[k(ss,{})," New Ability"]})})]})})]})}function CSe(){const{abilityTypes:t,setAbilityTypes:e}=T.useContext(tr),n=o=>{e({type:"add",abilityType:{id:"new-abilityType-type",name:"New Ability Type"}})},r=o=>{e({type:"remove",abilityType:{id:o}})},i=(o,a,l)=>{e({type:"update",index:a,abilityType:{...t[a],[l]:o}})},s=()=>{e({type:"save"})};return k("div",{className:"abilityType-editor",children:J("div",{className:"abilityTypes",children:[ze(t,(o,a)=>J("div",{className:"abilityType-instance",children:[k("div",{className:"color",children:k(ac,{color:o.color||"#ffffff",colorChanged:l=>i(l,a,"color")})}),J("div",{className:"top",children:[k("div",{className:"name",children:k(os,{blur:s,value:o.name,valueChanged:l=>i(l,a,"name")})}),k("button",{className:"remove-button",onClick:l=>r(o.id),children:k(wo,{})})]}),k("div",{className:"bottom",children:k("div",{className:"id",children:k(os,{blur:s,value:o.id,valueChanged:l=>i(l,a,"id")})})})]},a)),J("button",{className:"new-button",onClick:n,children:["Add Type ",k(ss,{})]})]})})}function TSe(){const{globalParams:t,setGlobalParams:e}=T.useContext(tr),[n,r]=T.useState(!1),[i,s]=T.useState(t);T.useEffect(()=>{s(t)},[t]);const o=(f,p)=>{let m=ut(i);m[p].id=f,s(m),r(!0)},a=(f,p)=>{let m=ut(i);m[p].value=f,s(m),r(!0)},l=()=>{let f=[...i,{id:"",value:0}];s(f),r(!0)},c=f=>{let p=ut(i);p.splice(f,1),e(p)},h=()=>{e({type:"set",params:ut(i)}),e({type:"save"}),r(!1)};return J("div",{className:"param-editor",children:[i&&ze(i,(f,p)=>J("div",{className:"param-line",children:[k(Et,{color:"danger",clicked:()=>c(p),children:k(wo,{size:"18"})}),k(os,{minWidth:120,placeholder:"name",className:"param-input",value:f.id,valueChanged:m=>o(m,p)}),k(o0,{className:"param-input",value:f.value,valueChanged:m=>a(m,p)})]},p)),J("div",{className:"add-button",children:[k("div",{children:J(Et,{disabled:nf(i,{name:""}),color:"theme",clicked:l,children:[k(ss,{size:20})," Add Param"]})}),J(Et,{disabled:!n,color:"success",clicked:h,children:[k(ll,{size:20})," Save Changes"]})]})]})}const ASe="{myParam}This only appears when 'myParam' is at least 1{/myParam}",PSe="%myParam% will be replaced with the value of 'myParam'",kSe="You make 1 melee attack against an adjacent enemy. Roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.",OSe="{@myParam}This only appears when 'myParam' is at least 1{/myParam}",ISe="%@myParam% will be replaced with the value of 'myParam'",RSe="You make 1 melee attack against an adjacent enemy. Roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.";function MSe(){return J("div",{className:"help",children:[k(bn,{name:"Description Syntax",startOpen:!1,children:J("div",{className:"padding-md",style:{textAlign:"left"},children:[k("h2",{className:"text-info book",children:"Ability Params:"}),k("h3",{children:"Condition"}),k("p",{children:ASe}),k("h3",{children:"Value"}),k("p",{children:PSe}),k("h3",{children:"Example"}),k("p",{children:kSe}),k("h2",{className:"text-info book",children:"Global Params:"}),k("h3",{children:"Condition"}),k("p",{children:OSe}),k("h3",{children:"Value"}),k("p",{children:ISe}),k("h3",{children:"Example"}),k("p",{children:RSe})]})}),k(bn,{name:"Hotkeys",startOpen:!0,children:k("div",{className:"padding-md",style:{textAlign:"left"},children:J("ul",{children:[J("li",{children:[k("span",{className:"bold",children:"Shift + E"})," - Toggle Edit Mode"]}),J("li",{children:[k("span",{className:"bold",children:"Shift + F"})," - Toggle Fast Build Mode"]})]})})})]})}function $3(){const{stats:t,setStats:e}=T.useContext(af),n=o=>{e({type:"add",stat:{id:"new-stat",name:"New Stat",color:"#fff"}})},r=o=>{e({type:"remove",stat:{id:o}})},i=(o,a,l)=>{e({type:"update",index:a,stat:{...t[a],[l]:o}})},s=()=>{e({type:"save"})};return k("div",{className:"stat-editor",children:J("div",{className:"stats",children:[ze(t,(o,a)=>J("div",{className:"stat-instance",children:[k("div",{className:"color",children:k(ac,{color:o.color||"#ffffff",colorChanged:l=>i(l,a,"color")})}),J("div",{className:"top",children:[k("div",{className:"name",children:k(os,{blur:s,value:o.name,valueChanged:l=>i(l,a,"name")})}),k("button",{className:"remove-button",onClick:l=>r(o.id),children:k(wo,{})})]}),k("div",{className:"bottom",children:k("div",{className:"id",children:k(os,{blur:s,value:o.id,valueChanged:l=>i(l,a,"id")})})})]},a)),J("button",{className:"new-button",onClick:n,children:["Add Stat ",k(ss,{})]})]})})}function U3(t,e){return Ge(t,{value:e})}function FSe(t,e){return ze([...t,...e],r=>({value:r.id,label:r.name}))}function DSe(t,e){return vi(FSe(t,e),"label")}function LSe({valueChanged:t,defaultValue:e}){const{customUnits:n,defaultUnits:r}=T.useContext(us),[i,s]=T.useState(DSe(n,r));return k(bf,{className:"unit-select",styles:xf(),options:i,onChange:o=>t(o==null?void 0:o.value),defaultValue:e?U3(i,e):null,value:U3(i,e)})}function z3({unit:t,startEditable:e=!1,unitType:n="custom"}){var j,X;const{customUnits:r,defaultUnits:i,setCustomUnits:s,setDefaultUnits:o,selectedUnit:a,setSelectedUnit:l,setSavedBuild:c}=T.useContext(us),{appMode:h}=T.useContext(cs),[f,p]=T.useState(e),[m,v]=T.useState(t.name),[y,x]=T.useState(!1),[b,_]=T.useState(t.build||{}),[w,E]=T.useState(t.tags||[]);T.useEffect(()=>{t.name||p(!0)},[]);const O=()=>{n==="custom"?s({type:"update",unit:{...t,name:m,build:b,tags:vi(w)}}):o({type:"update",unit:{...t,name:m,build:b,tags:vi(w)}}),x(!1),p(!1)},A=()=>{n==="custom"?s({type:"remove",unit:t}):o({type:"remove",unit:t})},M=V=>{v(V),x(!0)},L=()=>{let V;n==="custom"?V=Ge(r,{id:t.id}):V=Ge(i,{id:t.id}),V.build?c({type:"imported",build:V.build}):c({type:"imported",build:{}}),l({type:n,unit:t})},H=V=>{const he=Ge([...r,...i],{id:V});_(he.build||{}),x(!0)},G=V=>{E(V),x(!0)},z=()=>{t.name?p(!1):A()};return f?J("div",{className:"unit-card",children:[k("div",{className:"unit-card-row"}),J("div",{className:"unit-card-row",children:[k(Et,{color:"info",clicked:z,children:k(rE,{})}),k(os,{fullWidth:!0,autoFocus:!0,placeholder:"Name...",value:m,valueChanged:M}),k(Et,{color:"danger",clicked:A,children:k(wo,{})})]}),J("div",{className:"unit-card-row",children:["Copy from:",k(LSe,{defaultValue:void 0,valueChanged:H})]}),k("div",{className:"unit-card-row",children:k(FL,{tagsChanged:G,tags:t.tags})}),k("div",{className:"padding-sm-vertical",children:J(es,{disabled:!y,type:"outline",color:"success",clicked:O,children:[k(ll,{})," Save Unit"]})})]}):J("div",{onClick:L,className:ho({"unit-card":!0,selectable:!0,selected:((j=a==null?void 0:a.unit)==null?void 0:j.id)===t.id}),children:[J("div",{className:"unit-card-row",children:[(n==="custom"||h==="edit")&&k(Et,{color:"info",clicked:V=>p(!0),children:k(qS,{})}),k("div",{className:"unit-card-name",children:t.name})]}),k("div",{className:"tags",children:(X=vi(al([...t.tags||[],...w||[]])))==null?void 0:X.map(V=>k(Pg,{label:V},V))})]})}function H3(t){return RS(t,(e,n)=>al([...e,...n.tags||[]]),[])}function BSe(t,e){let n=t;return e?n=er(t,r=>{var s,o;let i=!0;return(s=e.tags)!=null&&s.length&&(i=IS(e.tags,r.tags).length===0),(o=e.textFilter)!=null&&o.length&&(i=i&&r.name.toLowerCase().includes(e.textFilter.toLowerCase())),i}):n=t,vi(n,"name")}function NSe(){const{customUnits:t,setCustomUnits:e,defaultUnits:n,setDefaultUnits:r}=T.useContext(us),{appMode:i}=T.useContext(cs),[s,o]=T.useState(H3(n)),[a,l]=T.useState({tags:null,textFilter:null});T.useEffect(()=>{o(H3(n))},[n]);const c=()=>{e({type:"add",unit:{id:`unit-${Math.floor(Math.random()*2e4)}`}})},h=()=>{r({type:"add",unit:{id:`unit-${Math.floor(Math.random()*2e4)}`}})};return J("div",{className:"units-panel",children:[k(bn,{name:"My Units",startOpen:!0,children:J("div",{className:"padding-md",children:[k("div",{className:"unit-cards",children:t.map((f,p)=>k(z3,{unit:f,unitType:"custom"},f.id))}),k("div",{className:"padding-md-vertical",children:J(es,{color:"info",type:"outline",clicked:c,children:["New Custom Unit ",k(_g,{})]})})]})}),k(bn,{name:"Standard Units",startOpen:!0,children:J($g,{children:[k(Ug,{name:"Filter Units",expanded:!1,tags:s||[],filtersUpdated:l}),J("div",{className:"padding-md",children:[k("div",{className:"unit-cards",children:BSe(n,a).map(f=>k(z3,{unit:f,unitType:"default"},f.id))}),i==="edit"&&k("div",{className:"padding-md-vertical",children:J(es,{color:"info",type:"outline",clicked:h,children:["New Default Unit ",k(_g,{})]})})]})]})})]})}function NL({graphEvents$:t,side:e="left"}){const{appMode:n,selectedMenus:r,setSelectedMenus:i}=T.useContext(cs);return T.useState(r[e]),T.useState("info"),J("div",{children:[r[e]==="sheet"&&k("div",{children:n==="build-slow"||n==="build-fast"?k(K_e,{}):J("div",{children:[k(bn,{name:"Abilities",startOpen:!1,children:k(ESe,{})}),k(bn,{name:"Ability Types",startOpen:!1,children:k(CSe,{})}),k(bn,{name:"Global Params",startOpen:!1,children:k("div",{className:"padding-md",children:k(TSe,{})})}),k(bn,{name:"Stats",startOpen:!1,children:k($3,{})})]})}),r[e]==="units"&&k(NSe,{}),r[e]==="code"&&k(sSe,{graphEvents$:t}),r[e]==="help"&&k(MSe,{}),r[e]==="stats"&&k($3,{}),r[e]==="info"&&(n==="edit"?k(mSe,{graphEvents$:t}):k(vSe,{graphEvents$:t})),r[e]==="settings"&&k(xSe,{graphEvents$:t})]})}function $Se({graphEvents$:t}){const{node:e,selectedNodeId:n}=T.useContext(_o);return T.useContext(cs),T.useState("info"),T.useState(!!e),k(hJ,{children:k(NL,{graphEvents$:t,side:"left"})})}const USe={sheet:"Character Sheet",code:"Save/Import",help:"Reference",units:"Units"},zSe={sheet:"Edit Items",code:"Save/Import",help:"Reference",units:"Units"};function HSe({children:t}){const{leftExpanded:e,rightExpanded:n,setRightExpanded:r,selectedMenus:i,appMode:s}=T.useContext(cs),[o,a]=T.useState(!1),[l,c]=T.useState("Character Sheet");let h;T.useEffect(()=>{c(s==="edit"?zSe[i.right]:USe[i.right])},[i,s]);const f=m=>{m.newItem?r(!0):r(!n)},p=m=>{a(!o)};return h=o?k(tQ,{}):k(QZ,{}),n?J("div",{className:"sidebar-right expanded",children:[J("div",{className:ho({"sidebar-right-panel":!0,full:o,partial:n,"minus-right":e}),children:[J("div",{onClick:p,className:"sidebar-right-panel-heading",children:[k("button",{className:"expander",children:h}),l]}),k("div",{className:"sidebar-right-panel-content",children:t})]}),k(Sg,{changed:f,side:"right"})]}):k("div",{className:"sidebar-right",children:k(Sg,{changed:f,side:"right"})})}function jSe({graphEvents$:t}){return k(HSe,{children:k(NL,{graphEvents$:t,side:"right"})})}function j3(t,e,n){return Ge([...t,...e],{id:n})}function WSe({pointsSpent:t}){var o;const{customUnits:e,defaultUnits:n,selectedUnit:r}=T.useContext(us),[i,s]=T.useState(j3(n,e,(o=r==null?void 0:r.unit)==null?void 0:o.id));return T.useEffect(()=>{var a;s(j3(n,e,(a=r==null?void 0:r.unit)==null?void 0:a.id))},[r]),J("div",{className:"point-counter",children:[i&&J("div",{children:["Unit: ",i==null?void 0:i.name]}),J("div",{children:["Spent: ",t]})]})}var GSe={value:()=>{}};function $L(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Bm(n)}function Bm(t){this._=t}function VSe(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Bm.prototype=$L.prototype={constructor:Bm,on:function(t,e){var n=this._,r=VSe(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=qSe(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=W3(n[i],t.name,e);else if(e==null)for(i in n)n[i]=W3(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Bm(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function qSe(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function W3(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=GSe,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var lc=0,Ih=0,mh=0,UL=1e3,zg,Rh,Hg=0,cl=0,b0=0,Pd=typeof performance=="object"&&performance.now?performance:Date,zL=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function HL(){return cl||(zL(XSe),cl=Pd.now()+b0)}function XSe(){cl=0}function Vw(){this._call=this._time=this._next=null}Vw.prototype=jL.prototype={constructor:Vw,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?HL():+n)+(e==null?0:+e),!this._next&&Rh!==this&&(Rh?Rh._next=this:zg=this,Rh=this),this._call=t,this._time=n,qw()},stop:function(){this._call&&(this._call=null,this._time=1/0,qw())}};function jL(t,e,n){var r=new Vw;return r.restart(t,e,n),r}function YSe(){HL(),++lc;for(var t=zg,e;t;)(e=cl-t._time)>=0&&t._call.call(void 0,e),t=t._next;--lc}function G3(){cl=(Hg=Pd.now())+b0,lc=Ih=0;try{YSe()}finally{lc=0,ZSe(),cl=0}}function KSe(){var t=Pd.now(),e=t-Hg;e>UL&&(b0-=e,Hg=t)}function ZSe(){for(var t,e=zg,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:zg=n);Rh=t,qw(r)}function qw(t){if(!lc){Ih&&(Ih=clearTimeout(Ih));var e=t-cl;e>24?(t<1/0&&(Ih=setTimeout(G3,t-Pd.now()-b0)),mh&&(mh=clearInterval(mh))):(mh||(Hg=Pd.now(),mh=setInterval(KSe,UL)),lc=1,zL(G3))}}function QSe(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function i(){var s,o=n.length,a,l=0,c=0;for(s=0;s<o;++s)a=n[s],l+=a.x,c+=a.y;for(l=(l/o-t)*r,c=(c/o-e)*r,s=0;s<o;++s)a=n[s],a.x-=l,a.y-=c}return i.initialize=function(s){n=s},i.x=function(s){return arguments.length?(t=+s,i):t},i.y=function(s){return arguments.length?(e=+s,i):e},i.strength=function(s){return arguments.length?(r=+s,i):r},i}function JSe(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return WL(this.cover(e,n),e,n,t)}function WL(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,s=t._root,o={data:r},a=t._x0,l=t._y0,c=t._x1,h=t._y1,f,p,m,v,y,x,b,_;if(!s)return t._root=o,t;for(;s.length;)if((y=e>=(f=(a+c)/2))?a=f:c=f,(x=n>=(p=(l+h)/2))?l=p:h=p,i=s,!(s=s[b=x<<1|y]))return i[b]=o,t;if(m=+t._x.call(null,s.data),v=+t._y.call(null,s.data),e===m&&n===v)return o.next=s,i?i[b]=o:t._root=o,t;do i=i?i[b]=new Array(4):t._root=new Array(4),(y=e>=(f=(a+c)/2))?a=f:c=f,(x=n>=(p=(l+h)/2))?l=p:h=p;while((b=x<<1|y)===(_=(v>=p)<<1|m>=f));return i[_]=s,i[b]=o,t}function eEe(t){var e,n,r=t.length,i,s,o=new Array(r),a=new Array(r),l=1/0,c=1/0,h=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(s=+this._y.call(null,e))||(o[n]=i,a[n]=s,i<l&&(l=i),i>h&&(h=i),s<c&&(c=s),s>f&&(f=s));if(l>h||c>f)return this;for(this.cover(l,c).cover(h,f),n=0;n<r;++n)WL(this,o[n],a[n],t[n]);return this}function tEe(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,s=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,s=(r=Math.floor(e))+1;else{for(var o=i-n||1,a=this._root,l,c;n>t||t>=i||r>e||e>=s;)switch(c=(e<r)<<1|t<n,l=new Array(4),l[c]=a,a=l,o*=2,c){case 0:i=n+o,s=r+o;break;case 1:n=i-o,s=r+o;break;case 2:i=n+o,r=s-o;break;case 3:n=i-o,r=s-o;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=s,this}function nEe(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function rEe(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Qn(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function iEe(t,e,n){var r,i=this._x0,s=this._y0,o,a,l,c,h=this._x1,f=this._y1,p=[],m=this._root,v,y;for(m&&p.push(new Qn(m,i,s,h,f)),n==null?n=1/0:(i=t-n,s=e-n,h=t+n,f=e+n,n*=n);v=p.pop();)if(!(!(m=v.node)||(o=v.x0)>h||(a=v.y0)>f||(l=v.x1)<i||(c=v.y1)<s))if(m.length){var x=(o+l)/2,b=(a+c)/2;p.push(new Qn(m[3],x,b,l,c),new Qn(m[2],o,b,x,c),new Qn(m[1],x,a,l,b),new Qn(m[0],o,a,x,b)),(y=(e>=b)<<1|t>=x)&&(v=p[p.length-1],p[p.length-1]=p[p.length-1-y],p[p.length-1-y]=v)}else{var _=t-+this._x.call(null,m.data),w=e-+this._y.call(null,m.data),E=_*_+w*w;if(E<n){var O=Math.sqrt(n=E);i=t-O,s=e-O,h=t+O,f=e+O,r=m.data}}return r}function sEe(t){if(isNaN(h=+this._x.call(null,t))||isNaN(f=+this._y.call(null,t)))return this;var e,n=this._root,r,i,s,o=this._x0,a=this._y0,l=this._x1,c=this._y1,h,f,p,m,v,y,x,b;if(!n)return this;if(n.length)for(;;){if((v=h>=(p=(o+l)/2))?o=p:l=p,(y=f>=(m=(a+c)/2))?a=m:c=m,e=n,!(n=n[x=y<<1|v]))return this;if(!n.length)break;(e[x+1&3]||e[x+2&3]||e[x+3&3])&&(r=e,b=x)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(s=n.next)&&delete n.next,i?(s?i.next=s:delete i.next,this):e?(s?e[x]=s:delete e[x],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[b]=n:this._root=n),this):(this._root=s,this)}function oEe(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function aEe(){return this._root}function lEe(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function uEe(t){var e=[],n,r=this._root,i,s,o,a,l;for(r&&e.push(new Qn(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,s=n.x0,o=n.y0,a=n.x1,l=n.y1)&&r.length){var c=(s+a)/2,h=(o+l)/2;(i=r[3])&&e.push(new Qn(i,c,h,a,l)),(i=r[2])&&e.push(new Qn(i,s,h,c,l)),(i=r[1])&&e.push(new Qn(i,c,o,a,h)),(i=r[0])&&e.push(new Qn(i,s,o,c,h))}return this}function cEe(t){var e=[],n=[],r;for(this._root&&e.push(new Qn(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var s,o=r.x0,a=r.y0,l=r.x1,c=r.y1,h=(o+l)/2,f=(a+c)/2;(s=i[0])&&e.push(new Qn(s,o,a,h,f)),(s=i[1])&&e.push(new Qn(s,h,a,l,f)),(s=i[2])&&e.push(new Qn(s,o,f,h,c)),(s=i[3])&&e.push(new Qn(s,h,f,l,c))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function hEe(t){return t[0]}function dEe(t){return arguments.length?(this._x=t,this):this._x}function fEe(t){return t[1]}function pEe(t){return arguments.length?(this._y=t,this):this._y}function _2(t,e,n){var r=new S2(e??hEe,n??fEe,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function S2(t,e,n,r,i,s){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=s,this._root=void 0}function V3(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var sr=_2.prototype=S2.prototype;sr.copy=function(){var t=new S2(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=V3(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=V3(r));return t};sr.add=JSe;sr.addAll=eEe;sr.cover=tEe;sr.data=nEe;sr.extent=rEe;sr.find=iEe;sr.remove=sEe;sr.removeAll=oEe;sr.root=aEe;sr.size=lEe;sr.visit=uEe;sr.visitAfter=cEe;sr.x=dEe;sr.y=pEe;function Ka(t){return function(){return t}}function jo(t){return(t()-.5)*1e-6}function mEe(t){return t.x+t.vx}function gEe(t){return t.y+t.vy}function vEe(t){var e,n,r,i=1,s=1;typeof t!="function"&&(t=Ka(t==null?1:+t));function o(){for(var c,h=e.length,f,p,m,v,y,x,b=0;b<s;++b)for(f=_2(e,mEe,gEe).visitAfter(a),c=0;c<h;++c)p=e[c],y=n[p.index],x=y*y,m=p.x+p.vx,v=p.y+p.vy,f.visit(_);function _(w,E,O,A,M){var L=w.data,H=w.r,G=y+H;if(L){if(L.index>p.index){var z=m-L.x-L.vx,j=v-L.y-L.vy,X=z*z+j*j;X<G*G&&(z===0&&(z=jo(r),X+=z*z),j===0&&(j=jo(r),X+=j*j),X=(G-(X=Math.sqrt(X)))/X*i,p.vx+=(z*=X)*(G=(H*=H)/(x+H)),p.vy+=(j*=X)*G,L.vx-=z*(G=1-G),L.vy-=j*G)}return}return E>m+G||A<m-G||O>v+G||M<v-G}}function a(c){if(c.data)return c.r=n[c.data.index];for(var h=c.r=0;h<4;++h)c[h]&&c[h].r>c.r&&(c.r=c[h].r)}function l(){if(e){var c,h=e.length,f;for(n=new Array(h),c=0;c<h;++c)f=e[c],n[f.index]=+t(f,c,e)}}return o.initialize=function(c,h){e=c,r=h,l()},o.iterations=function(c){return arguments.length?(s=+c,o):s},o.strength=function(c){return arguments.length?(i=+c,o):i},o.radius=function(c){return arguments.length?(t=typeof c=="function"?c:Ka(+c),l(),o):t},o}function yEe(t){return t.index}function q3(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function bEe(t){var e=yEe,n=f,r,i=Ka(30),s,o,a,l,c,h=1;t==null&&(t=[]);function f(x){return 1/Math.min(a[x.source.index],a[x.target.index])}function p(x){for(var b=0,_=t.length;b<h;++b)for(var w=0,E,O,A,M,L,H,G;w<_;++w)E=t[w],O=E.source,A=E.target,M=A.x+A.vx-O.x-O.vx||jo(c),L=A.y+A.vy-O.y-O.vy||jo(c),H=Math.sqrt(M*M+L*L),H=(H-s[w])/H*x*r[w],M*=H,L*=H,A.vx-=M*(G=l[w]),A.vy-=L*G,O.vx+=M*(G=1-G),O.vy+=L*G}function m(){if(o){var x,b=o.length,_=t.length,w=new Map(o.map((O,A)=>[e(O,A,o),O])),E;for(x=0,a=new Array(b);x<_;++x)E=t[x],E.index=x,typeof E.source!="object"&&(E.source=q3(w,E.source)),typeof E.target!="object"&&(E.target=q3(w,E.target)),a[E.source.index]=(a[E.source.index]||0)+1,a[E.target.index]=(a[E.target.index]||0)+1;for(x=0,l=new Array(_);x<_;++x)E=t[x],l[x]=a[E.source.index]/(a[E.source.index]+a[E.target.index]);r=new Array(_),v(),s=new Array(_),y()}}function v(){if(o)for(var x=0,b=t.length;x<b;++x)r[x]=+n(t[x],x,t)}function y(){if(o)for(var x=0,b=t.length;x<b;++x)s[x]=+i(t[x],x,t)}return p.initialize=function(x,b){o=x,c=b,m()},p.links=function(x){return arguments.length?(t=x,m(),p):t},p.id=function(x){return arguments.length?(e=x,p):e},p.iterations=function(x){return arguments.length?(h=+x,p):h},p.strength=function(x){return arguments.length?(n=typeof x=="function"?x:Ka(+x),v(),p):n},p.distance=function(x){return arguments.length?(i=typeof x=="function"?x:Ka(+x),y(),p):i},p}const xEe=1664525,wEe=1013904223,X3=4294967296;function _Ee(){let t=1;return()=>(t=(xEe*t+wEe)%X3)/X3}function SEe(t){return t.x}function EEe(t){return t.y}var CEe=10,TEe=Math.PI*(3-Math.sqrt(5));function Y3(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),s=0,o=.6,a=new Map,l=jL(f),c=$L("tick","end"),h=_Ee();t==null&&(t=[]);function f(){p(),c.call("tick",e),n<r&&(l.stop(),c.call("end",e))}function p(y){var x,b=t.length,_;y===void 0&&(y=1);for(var w=0;w<y;++w)for(n+=(s-n)*i,a.forEach(function(E){E(n)}),x=0;x<b;++x)_=t[x],_.fx==null?_.x+=_.vx*=o:(_.x=_.fx,_.vx=0),_.fy==null?_.y+=_.vy*=o:(_.y=_.fy,_.vy=0);return e}function m(){for(var y=0,x=t.length,b;y<x;++y){if(b=t[y],b.index=y,b.fx!=null&&(b.x=b.fx),b.fy!=null&&(b.y=b.fy),isNaN(b.x)||isNaN(b.y)){var _=CEe*Math.sqrt(.5+y),w=y*TEe;b.x=_*Math.cos(w),b.y=_*Math.sin(w)}(isNaN(b.vx)||isNaN(b.vy))&&(b.vx=b.vy=0)}}function v(y){return y.initialize&&y.initialize(t,h),y}return m(),e={tick:p,restart:function(){return l.restart(f),e},stop:function(){return l.stop(),e},nodes:function(y){return arguments.length?(t=y,m(),a.forEach(v),e):t},alpha:function(y){return arguments.length?(n=+y,e):n},alphaMin:function(y){return arguments.length?(r=+y,e):r},alphaDecay:function(y){return arguments.length?(i=+y,e):+i},alphaTarget:function(y){return arguments.length?(s=+y,e):s},velocityDecay:function(y){return arguments.length?(o=1-y,e):1-o},randomSource:function(y){return arguments.length?(h=y,a.forEach(v),e):h},force:function(y,x){return arguments.length>1?(x==null?a.delete(y):a.set(y,v(x)),e):a.get(y)},find:function(y,x,b){var _=0,w=t.length,E,O,A,M,L;for(b==null?b=1/0:b*=b,_=0;_<w;++_)M=t[_],E=y-M.x,O=x-M.y,A=E*E+O*O,A<b&&(L=M,b=A);return L},on:function(y,x){return arguments.length>1?(c.on(y,x),e):c.on(y)}}}function AEe(){var t,e,n,r,i=Ka(-30),s,o=1,a=1/0,l=.81;function c(m){var v,y=t.length,x=_2(t,SEe,EEe).visitAfter(f);for(r=m,v=0;v<y;++v)e=t[v],x.visit(p)}function h(){if(t){var m,v=t.length,y;for(s=new Array(v),m=0;m<v;++m)y=t[m],s[y.index]=+i(y,m,t)}}function f(m){var v=0,y,x,b=0,_,w,E;if(m.length){for(_=w=E=0;E<4;++E)(y=m[E])&&(x=Math.abs(y.value))&&(v+=y.value,b+=x,_+=x*y.x,w+=x*y.y);m.x=_/b,m.y=w/b}else{y=m,y.x=y.data.x,y.y=y.data.y;do v+=s[y.data.index];while(y=y.next)}m.value=v}function p(m,v,y,x){if(!m.value)return!0;var b=m.x-e.x,_=m.y-e.y,w=x-v,E=b*b+_*_;if(w*w/l<E)return E<a&&(b===0&&(b=jo(n),E+=b*b),_===0&&(_=jo(n),E+=_*_),E<o&&(E=Math.sqrt(o*E)),e.vx+=b*m.value*r/E,e.vy+=_*m.value*r/E),!0;if(m.length||E>=a)return;(m.data!==e||m.next)&&(b===0&&(b=jo(n),E+=b*b),_===0&&(_=jo(n),E+=_*_),E<o&&(E=Math.sqrt(o*E)));do m.data!==e&&(w=s[m.data.index]*r/E,e.vx+=b*w,e.vy+=_*w);while(m=m.next)}return c.initialize=function(m,v){t=m,n=v,h()},c.strength=function(m){return arguments.length?(i=typeof m=="function"?m:Ka(+m),h(),c):i},c.distanceMin=function(m){return arguments.length?(o=m*m,c):Math.sqrt(o)},c.distanceMax=function(m){return arguments.length?(a=m*m,c):Math.sqrt(a)},c.theta=function(m){return arguments.length?(l=m*m,c):Math.sqrt(l)},c}function Mh(t,e,n){this.k=t,this.x=e,this.y=n}Mh.prototype={constructor:Mh,scale:function(t){return t===1?this:new Mh(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Mh(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Mh.prototype;var ma=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(ma||{}),E2=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(E2||{}),jg=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(jg||{}),Me=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(Me||{}),Yi=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(Yi||{}),ge=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(ge||{}),Za=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(Za||{}),Oe=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(Oe||{}),Wg=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(Wg||{}),Ps=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(Ps||{}),Rs=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(Rs||{}),as=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(as||{}),Pi=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(Pi||{}),Vi=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(Vi||{}),x0=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(x0||{}),Nr=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(Nr||{}),cn=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(cn||{}),GL=(t=>(t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA",t))(GL||{}),qt=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(qt||{}),ts=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(ts||{});const VL={createCanvas:(t,e)=>{const n=document.createElement("canvas");return n.width=t,n.height=e,n},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},we={ADAPTER:VL,RESOLUTION:1,RENDER_OPTIONS:{view:null,width:800,height:600,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,clearBeforeRender:!0,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,hello:!1},CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var lb=/iPhone/i,K3=/iPod/i,Z3=/iPad/i,Q3=/\biOS-universal(?:.+)Mac\b/i,ub=/\bAndroid(?:.+)Mobile\b/i,J3=/Android/i,Xl=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Yp=/Silk/i,Ys=/Windows Phone/i,eR=/\bWindows(?:.+)ARM\b/i,tR=/BlackBerry/i,nR=/BB10/i,rR=/Opera Mini/i,iR=/\b(CriOS|Chrome)(?:.+)Mobile/i,sR=/Mobile(?:.+)Firefox\b/i,oR=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function PEe(t){return function(e){return e.test(t)}}function kEe(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var n=e.userAgent,r=n.split("[FBAN");typeof r[1]<"u"&&(n=r[0]),r=n.split("Twitter"),typeof r[1]<"u"&&(n=r[0]);var i=PEe(n),s={apple:{phone:i(lb)&&!i(Ys),ipod:i(K3),tablet:!i(lb)&&(i(Z3)||oR(e))&&!i(Ys),universal:i(Q3),device:(i(lb)||i(K3)||i(Z3)||i(Q3)||oR(e))&&!i(Ys)},amazon:{phone:i(Xl),tablet:!i(Xl)&&i(Yp),device:i(Xl)||i(Yp)},android:{phone:!i(Ys)&&i(Xl)||!i(Ys)&&i(ub),tablet:!i(Ys)&&!i(Xl)&&!i(ub)&&(i(Yp)||i(J3)),device:!i(Ys)&&(i(Xl)||i(Yp)||i(ub)||i(J3))||i(/\bokhttp\b/i)},windows:{phone:i(Ys),tablet:i(eR),device:i(Ys)||i(eR)},other:{blackberry:i(tR),blackberry10:i(nR),opera:i(rR),firefox:i(sR),chrome:i(iR),device:i(tR)||i(nR)||i(rR)||i(sR)||i(iR)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const Ki=kEe(globalThis.navigator);we.RETINA_PREFIX=/@([0-9\.]+)x/;we.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var ra={},OEe={get exports(){return ra},set exports(t){ra=t}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,h){this.fn=l,this.context=c,this.once=h||!1}function s(l,c,h,f,p){if(typeof h!="function")throw new TypeError("The listener must be a function");var m=new i(h,f||l,p),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],h,f;if(this._eventsCount===0)return c;for(f in h=this._events)e.call(h,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},a.prototype.listeners=function(c){var h=n?n+c:c,f=this._events[h];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,v=new Array(m);p<m;p++)v[p]=f[p].fn;return v},a.prototype.listenerCount=function(c){var h=n?n+c:c,f=this._events[h];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,h,f,p,m,v){var y=n?n+c:c;if(!this._events[y])return!1;var x=this._events[y],b=arguments.length,_,w;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,h),!0;case 3:return x.fn.call(x.context,h,f),!0;case 4:return x.fn.call(x.context,h,f,p),!0;case 5:return x.fn.call(x.context,h,f,p,m),!0;case 6:return x.fn.call(x.context,h,f,p,m,v),!0}for(w=1,_=new Array(b-1);w<b;w++)_[w-1]=arguments[w];x.fn.apply(x.context,_)}else{var E=x.length,O;for(w=0;w<E;w++)switch(x[w].once&&this.removeListener(c,x[w].fn,void 0,!0),b){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,h);break;case 3:x[w].fn.call(x[w].context,h,f);break;case 4:x[w].fn.call(x[w].context,h,f,p);break;default:if(!_)for(O=1,_=new Array(b-1);O<b;O++)_[O-1]=arguments[O];x[w].fn.apply(x[w].context,_)}}return!0},a.prototype.on=function(c,h,f){return s(this,c,h,f,!1)},a.prototype.once=function(c,h,f){return s(this,c,h,f,!0)},a.prototype.removeListener=function(c,h,f,p){var m=n?n+c:c;if(!this._events[m])return this;if(!h)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===h&&(!p||v.once)&&(!f||v.context===f)&&o(this,m);else{for(var y=0,x=[],b=v.length;y<b;y++)(v[y].fn!==h||p&&!v[y].once||f&&v[y].context!==f)&&x.push(v[y]);x.length?this._events[m]=x.length===1?x[0]:x:o(this,m)}return this},a.prototype.removeAllListeners=function(c){var h;return c?(h=n?n+c:c,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(OEe);var kd={},IEe={get exports(){return kd},set exports(t){kd=t}};IEe.exports=w0;kd.default=w0;function w0(t,e,n){n=n||2;var r=e&&e.length,i=r?e[0]*n:t.length,s=qL(t,0,i,n,!0),o=[];if(!s||s.next===s.prev)return o;var a,l,c,h,f,p,m;if(r&&(s=LEe(t,e,s,n)),t.length>80*n){a=c=t[0],l=h=t[1];for(var v=n;v<i;v+=n)f=t[v],p=t[v+1],f<a&&(a=f),p<l&&(l=p),f>c&&(c=f),p>h&&(h=p);m=Math.max(c-a,h-l),m=m!==0?32767/m:0}return Od(s,o,n,a,l,m,0),o}function qL(t,e,n,r,i){var s,o;if(i===Kw(t,e,n,r)>0)for(s=e;s<n;s+=r)o=aR(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=aR(s,t[s],t[s+1],o);return o&&_0(o,o.next)&&(Rd(o),o=o.next),o}function hl(t,e){if(!t)return t;e||(e=t);var n=t,r;do if(r=!1,!n.steiner&&(_0(n,n.next)||Xt(n.prev,n,n.next)===0)){if(Rd(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Od(t,e,n,r,i,s,o){if(t){!o&&s&&zEe(t,r,i,s);for(var a=t,l,c;t.prev!==t.next;){if(l=t.prev,c=t.next,s?MEe(t,r,i,s):REe(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),Rd(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=FEe(hl(t),e,n),Od(t,e,n,r,i,s,2)):o===2&&DEe(t,e,n,r,i,s):Od(hl(t),e,n,r,i,s,1);break}}}}function REe(t){var e=t.prev,n=t,r=t.next;if(Xt(e,n,r)>=0)return!1;for(var i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,c=r.y,h=i<s?i<o?i:o:s<o?s:o,f=a<l?a<c?a:c:l<c?l:c,p=i>s?i>o?i:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c,v=r.next;v!==e;){if(v.x>=h&&v.x<=p&&v.y>=f&&v.y<=m&&Iu(i,a,s,l,o,c,v.x,v.y)&&Xt(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function MEe(t,e,n,r){var i=t.prev,s=t,o=t.next;if(Xt(i,s,o)>=0)return!1;for(var a=i.x,l=s.x,c=o.x,h=i.y,f=s.y,p=o.y,m=a<l?a<c?a:c:l<c?l:c,v=h<f?h<p?h:p:f<p?f:p,y=a>l?a>c?a:c:l>c?l:c,x=h>f?h>p?h:p:f>p?f:p,b=Xw(m,v,e,n,r),_=Xw(y,x,e,n,r),w=t.prevZ,E=t.nextZ;w&&w.z>=b&&E&&E.z<=_;){if(w.x>=m&&w.x<=y&&w.y>=v&&w.y<=x&&w!==i&&w!==o&&Iu(a,h,l,f,c,p,w.x,w.y)&&Xt(w.prev,w,w.next)>=0||(w=w.prevZ,E.x>=m&&E.x<=y&&E.y>=v&&E.y<=x&&E!==i&&E!==o&&Iu(a,h,l,f,c,p,E.x,E.y)&&Xt(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;w&&w.z>=b;){if(w.x>=m&&w.x<=y&&w.y>=v&&w.y<=x&&w!==i&&w!==o&&Iu(a,h,l,f,c,p,w.x,w.y)&&Xt(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;E&&E.z<=_;){if(E.x>=m&&E.x<=y&&E.y>=v&&E.y<=x&&E!==i&&E!==o&&Iu(a,h,l,f,c,p,E.x,E.y)&&Xt(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function FEe(t,e,n){var r=t;do{var i=r.prev,s=r.next.next;!_0(i,s)&&XL(i,r,r.next,s)&&Id(i,s)&&Id(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),Rd(r),Rd(r.next),r=t=s),r=r.next}while(r!==t);return hl(r)}function DEe(t,e,n,r,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&WEe(o,a)){var l=YL(o,a);o=hl(o,o.next),l=hl(l,l.next),Od(o,e,n,r,i,s,0),Od(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function LEe(t,e,n,r){var i=[],s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,c=qL(t,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(jEe(c));for(i.sort(BEe),s=0;s<i.length;s++)n=NEe(i[s],n);return n}function BEe(t,e){return t.x-e.x}function NEe(t,e){var n=$Ee(t,e);if(!n)return e;var r=YL(n,t);return hl(r,r.next),hl(n,n.next)}function $Ee(t,e){var n=e,r=t.x,i=t.y,s=-1/0,o;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var a=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=r&&a>s&&(s=a,o=n.x<n.next.x?n:n.next,a===r))return o}n=n.next}while(n!==e);if(!o)return null;var l=o,c=o.x,h=o.y,f=1/0,p;n=o;do r>=n.x&&n.x>=c&&r!==n.x&&Iu(i<h?r:s,i,c,h,i<h?s:r,i,n.x,n.y)&&(p=Math.abs(i-n.y)/(r-n.x),Id(n,t)&&(p<f||p===f&&(n.x>o.x||n.x===o.x&&UEe(o,n)))&&(o=n,f=p)),n=n.next;while(n!==l);return o}function UEe(t,e){return Xt(t.prev,t,e.prev)<0&&Xt(e.next,t,t.next)<0}function zEe(t,e,n,r){var i=t;do i.z===0&&(i.z=Xw(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,HEe(i)}function HEe(t){var e,n,r,i,s,o,a,l,c=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,c*=2}while(o>1);return t}function Xw(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function jEe(t){var e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Iu(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function WEe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!GEe(t,e)&&(Id(t,e)&&Id(e,t)&&VEe(t,e)&&(Xt(t.prev,t,e.prev)||Xt(t,e.prev,e))||_0(t,e)&&Xt(t.prev,t,t.next)>0&&Xt(e.prev,e,e.next)>0)}function Xt(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function _0(t,e){return t.x===e.x&&t.y===e.y}function XL(t,e,n,r){var i=Zp(Xt(t,e,n)),s=Zp(Xt(t,e,r)),o=Zp(Xt(n,r,t)),a=Zp(Xt(n,r,e));return!!(i!==s&&o!==a||i===0&&Kp(t,n,e)||s===0&&Kp(t,r,e)||o===0&&Kp(n,t,r)||a===0&&Kp(n,e,r))}function Kp(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Zp(t){return t>0?1:t<0?-1:0}function GEe(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&XL(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Id(t,e){return Xt(t.prev,t,t.next)<0?Xt(t,e,t.next)>=0&&Xt(t,t.prev,e)>=0:Xt(t,e,t.prev)<0||Xt(t,t.next,e)<0}function VEe(t,e){var n=t,r=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function YL(t,e){var n=new Yw(t.i,t.x,t.y),r=new Yw(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function aR(t,e,n,r){var i=new Yw(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Rd(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Yw(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}w0.deviation=function(t,e,n,r){var i=e&&e.length,s=i?e[0]*n:t.length,o=Math.abs(Kw(t,0,s,n));if(i)for(var a=0,l=e.length;a<l;a++){var c=e[a]*n,h=a<l-1?e[a+1]*n:t.length;o-=Math.abs(Kw(t,c,h,n))}var f=0;for(a=0;a<r.length;a+=3){var p=r[a]*n,m=r[a+1]*n,v=r[a+2]*n;f+=Math.abs((t[p]-t[v])*(t[m+1]-t[p+1])-(t[p]-t[m])*(t[v+1]-t[p+1]))}return o===0&&f===0?0:Math.abs((f-o)/o)};function Kw(t,e,n,r){for(var i=0,s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}w0.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)n.vertices.push(t[i][s][o]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n};var Gg={},qEe={get exports(){return Gg},set exports(t){Gg=t}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(t,e){(function(n){var r=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof fr=="object"&&fr;(s.global===s||s.window===s||s.self===s)&&(n=s);var o,a=2147483647,l=36,c=1,h=26,f=38,p=700,m=72,v=128,y="-",x=/^xn--/,b=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},E=l-c,O=Math.floor,A=String.fromCharCode,M;function L(W){throw RangeError(w[W])}function H(W,R){for(var D=W.length,Q=[];D--;)Q[D]=R(W[D]);return Q}function G(W,R){var D=W.split("@"),Q="";D.length>1&&(Q=D[0]+"@",W=D[1]),W=W.replace(_,".");var K=W.split("."),$=H(K,R).join(".");return Q+$}function z(W){for(var R=[],D=0,Q=W.length,K,$;D<Q;)K=W.charCodeAt(D++),K>=55296&&K<=56319&&D<Q?($=W.charCodeAt(D++),($&64512)==56320?R.push(((K&1023)<<10)+($&1023)+65536):(R.push(K),D--)):R.push(K);return R}function j(W){return H(W,function(R){var D="";return R>65535&&(R-=65536,D+=A(R>>>10&1023|55296),R=56320|R&1023),D+=A(R),D}).join("")}function X(W){return W-48<10?W-22:W-65<26?W-65:W-97<26?W-97:l}function V(W,R){return W+22+75*(W<26)-((R!=0)<<5)}function he(W,R,D){var Q=0;for(W=D?O(W/p):W>>1,W+=O(W/R);W>E*h>>1;Q+=l)W=O(W/E);return O(Q+(E+1)*W/(W+f))}function ce(W){var R=[],D=W.length,Q,K=0,$=v,ne=m,me,Re,ke,Ke,Xe,nt,Pe,st,gt;for(me=W.lastIndexOf(y),me<0&&(me=0),Re=0;Re<me;++Re)W.charCodeAt(Re)>=128&&L("not-basic"),R.push(W.charCodeAt(Re));for(ke=me>0?me+1:0;ke<D;){for(Ke=K,Xe=1,nt=l;ke>=D&&L("invalid-input"),Pe=X(W.charCodeAt(ke++)),(Pe>=l||Pe>O((a-K)/Xe))&&L("overflow"),K+=Pe*Xe,st=nt<=ne?c:nt>=ne+h?h:nt-ne,!(Pe<st);nt+=l)gt=l-st,Xe>O(a/gt)&&L("overflow"),Xe*=gt;Q=R.length+1,ne=he(K-Ke,Q,Ke==0),O(K/Q)>a-$&&L("overflow"),$+=O(K/Q),K%=Q,R.splice(K++,0,$)}return j(R)}function te(W){var R,D,Q,K,$,ne,me,Re,ke,Ke,Xe,nt=[],Pe,st,gt,un;for(W=z(W),Pe=W.length,R=v,D=0,$=m,ne=0;ne<Pe;++ne)Xe=W[ne],Xe<128&&nt.push(A(Xe));for(Q=K=nt.length,K&&nt.push(y);Q<Pe;){for(me=a,ne=0;ne<Pe;++ne)Xe=W[ne],Xe>=R&&Xe<me&&(me=Xe);for(st=Q+1,me-R>O((a-D)/st)&&L("overflow"),D+=(me-R)*st,R=me,ne=0;ne<Pe;++ne)if(Xe=W[ne],Xe<R&&++D>a&&L("overflow"),Xe==R){for(Re=D,ke=l;Ke=ke<=$?c:ke>=$+h?h:ke-$,!(Re<Ke);ke+=l)un=Re-Ke,gt=l-Ke,nt.push(A(V(Ke+un%gt,0))),Re=O(un/gt);nt.push(A(V(Re,0))),$=he(D,st,Q==K),D=0,++Q}++D,++R}return nt.join("")}function Z(W){return G(W,function(R){return x.test(R)?ce(R.slice(4).toLowerCase()):R})}function le(W){return G(W,function(R){return b.test(R)?"xn--"+te(R):R})}if(o={version:"1.3.2",ucs2:{decode:z,encode:j},decode:ce,encode:te,toASCII:le,toUnicode:Z},r&&i)if(t.exports==r)i.exports=o;else for(M in o)o.hasOwnProperty(M)&&(r[M]=o[M]);else n.punycode=o})(fr)})(qEe,Gg);var XEe={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},Md={};function YEe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var KEe=function(t,e,n,r){e=e||"&",n=n||"=";var i={};if(typeof t!="string"||t.length===0)return i;var s=/\+/g;t=t.split(e);var o=1e3;r&&typeof r.maxKeys=="number"&&(o=r.maxKeys);var a=t.length;o>0&&a>o&&(a=o);for(var l=0;l<a;++l){var c=t[l].replace(s,"%20"),h=c.indexOf(n),f,p,m,v;h>=0?(f=c.substr(0,h),p=c.substr(h+1)):(f=c,p=""),m=decodeURIComponent(f),v=decodeURIComponent(p),YEe(i,m)?Array.isArray(i[m])?i[m].push(v):i[m]=[i[m],v]:i[m]=v}return i},gh=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},ZEe=function(t,e,n,r){return e=e||"&",n=n||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(i){var s=encodeURIComponent(gh(i))+n;return Array.isArray(t[i])?t[i].map(function(o){return s+encodeURIComponent(gh(o))}).join(e):s+encodeURIComponent(gh(t[i]))}).join(e):r?encodeURIComponent(gh(r))+n+encodeURIComponent(gh(t)):""};Md.decode=Md.parse=KEe;Md.encode=Md.stringify=ZEe;var QEe=Gg,Ss=XEe,JEe=S0,e2e=h2e,t2e=c2e;function ns(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var n2e=/^([a-z0-9.+-]+:)/i,r2e=/:[0-9]*$/,i2e=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,s2e=["<",">",'"',"`"," ","\r",`
`,"	"],o2e=["{","}","|","\\","^","`"].concat(s2e),Zw=["'"].concat(o2e),lR=["%","/","?",";","#"].concat(Zw),uR=["/","?","#"],a2e=255,cR=/^[+a-z0-9A-Z_-]{0,63}$/,l2e=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,u2e={javascript:!0,"javascript:":!0},Qw={javascript:!0,"javascript:":!0},Gu={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Jw=Md;function S0(t,e,n){if(t&&Ss.isObject(t)&&t instanceof ns)return t;var r=new ns;return r.parse(t,e,n),r}ns.prototype.parse=function(t,e,n){if(!Ss.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),i=r!==-1&&r<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!n&&t.split("#").length===1){var l=i2e.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=Jw.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var c=n2e.exec(a);if(c){c=c[0];var h=c.toLowerCase();this.protocol=h,a=a.substr(c.length)}if(n||c||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var f=a.substr(0,2)==="//";f&&!(c&&Qw[c])&&(a=a.substr(2),this.slashes=!0)}if(!Qw[c]&&(f||c&&!Gu[c])){for(var p=-1,m=0;m<uR.length;m++){var v=a.indexOf(uR[m]);v!==-1&&(p===-1||v<p)&&(p=v)}var y,x;p===-1?x=a.lastIndexOf("@"):x=a.lastIndexOf("@",p),x!==-1&&(y=a.slice(0,x),a=a.slice(x+1),this.auth=decodeURIComponent(y)),p=-1;for(var m=0;m<lR.length;m++){var v=a.indexOf(lR[m]);v!==-1&&(p===-1||v<p)&&(p=v)}p===-1&&(p=a.length),this.host=a.slice(0,p),a=a.slice(p),this.parseHost(),this.hostname=this.hostname||"";var b=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!b)for(var _=this.hostname.split(/\./),m=0,w=_.length;m<w;m++){var E=_[m];if(E&&!E.match(cR)){for(var O="",A=0,M=E.length;A<M;A++)E.charCodeAt(A)>127?O+="x":O+=E[A];if(!O.match(cR)){var L=_.slice(0,m),H=_.slice(m+1),G=E.match(l2e);G&&(L.push(G[1]),H.unshift(G[2])),H.length&&(a="/"+H.join(".")+a),this.hostname=L.join(".");break}}}this.hostname.length>a2e?this.hostname="":this.hostname=this.hostname.toLowerCase(),b||(this.hostname=QEe.toASCII(this.hostname));var z=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+z,this.href+=this.host,b&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!u2e[h])for(var m=0,w=Zw.length;m<w;m++){var X=Zw[m];if(a.indexOf(X)!==-1){var V=encodeURIComponent(X);V===X&&(V=escape(X)),a=a.split(X).join(V)}}var he=a.indexOf("#");he!==-1&&(this.hash=a.substr(he),a=a.slice(0,he));var ce=a.indexOf("?");if(ce!==-1?(this.search=a.substr(ce),this.query=a.substr(ce+1),e&&(this.query=Jw.parse(this.query)),a=a.slice(0,ce)):e&&(this.search="",this.query={}),a&&(this.pathname=a),Gu[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var z=this.pathname||"",te=this.search||"";this.path=z+te}return this.href=this.format(),this};function c2e(t){return Ss.isString(t)&&(t=S0(t)),t instanceof ns?t.format():ns.prototype.format.call(t)}ns.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&Ss.isObject(this.query)&&Object.keys(this.query).length&&(s=Jw.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Gu[e])&&i!==!1?(i="//"+(i||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),o&&o.charAt(0)!=="?"&&(o="?"+o),n=n.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+n+o+r};function h2e(t,e){return S0(t,!1,!0).resolve(e)}ns.prototype.resolve=function(t){return this.resolveObject(S0(t,!1,!0)).format()};ns.prototype.resolveObject=function(t){if(Ss.isString(t)){var e=new ns;e.parse(t,!1,!0),t=e}for(var n=new ns,r=Object.keys(this),i=0;i<r.length;i++){var s=r[i];n[s]=this[s]}if(n.hash=t.hash,t.href==="")return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var l=o[a];l!=="protocol"&&(n[l]=t[l])}return Gu[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!Gu[t.protocol]){for(var c=Object.keys(t),h=0;h<c.length;h++){var f=c[h];n[f]=t[f]}return n.href=n.format(),n}if(n.protocol=t.protocol,!t.host&&!Qw[t.protocol]){for(var w=(t.pathname||"").split("/");w.length&&!(t.host=w.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),w[0]!==""&&w.unshift(""),w.length<2&&w.unshift(""),n.pathname=w.join("/")}else n.pathname=t.pathname;if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var p=n.pathname||"",m=n.search||"";n.path=p+m}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var v=n.pathname&&n.pathname.charAt(0)==="/",y=t.host||t.pathname&&t.pathname.charAt(0)==="/",x=y||v||n.host&&t.pathname,b=x,_=n.pathname&&n.pathname.split("/")||[],w=t.pathname&&t.pathname.split("/")||[],E=n.protocol&&!Gu[n.protocol];if(E&&(n.hostname="",n.port=null,n.host&&(_[0]===""?_[0]=n.host:_.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(w[0]===""?w[0]=t.host:w.unshift(t.host)),t.host=null),x=x&&(w[0]===""||_[0]==="")),y)n.host=t.host||t.host===""?t.host:n.host,n.hostname=t.hostname||t.hostname===""?t.hostname:n.hostname,n.search=t.search,n.query=t.query,_=w;else if(w.length)_||(_=[]),_.pop(),_=_.concat(w),n.search=t.search,n.query=t.query;else if(!Ss.isNullOrUndefined(t.search)){if(E){n.hostname=n.host=_.shift();var O=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;O&&(n.auth=O.shift(),n.host=n.hostname=O.shift())}return n.search=t.search,n.query=t.query,(!Ss.isNull(n.pathname)||!Ss.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!_.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var A=_.slice(-1)[0],M=(n.host||t.host||_.length>1)&&(A==="."||A==="..")||A==="",L=0,H=_.length;H>=0;H--)A=_[H],A==="."?_.splice(H,1):A===".."?(_.splice(H,1),L++):L&&(_.splice(H,1),L--);if(!x&&!b)for(;L--;L)_.unshift("..");x&&_[0]!==""&&(!_[0]||_[0].charAt(0)!=="/")&&_.unshift(""),M&&_.join("/").substr(-1)!=="/"&&_.push("");var G=_[0]===""||_[0]&&_[0].charAt(0)==="/";if(E){n.hostname=n.host=G?"":_.length?_.shift():"";var O=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;O&&(n.auth=O.shift(),n.host=n.hostname=O.shift())}return x=x||n.host&&_.length,x&&!G&&_.unshift(""),_.length?n.pathname=_.join("/"):(n.pathname=null,n.path=null),(!Ss.isNull(n.pathname)||!Ss.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n};ns.prototype.parseHost=function(){var t=this.host,e=r2e.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const KL={parse:JEe,format:t2e,resolve:e2e};function Bi(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function vh(t){return t.split("?")[0].split("#")[0]}function d2e(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function f2e(t,e,n){return t.replace(new RegExp(d2e(e),"g"),n)}function p2e(t,e){let n="",r=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){const l=n.lastIndexOf("/");if(l!==n.length-1){l===-1?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length===2||n.length===1){n="",r=0,i=a,s=0;continue}}e&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+=`/${t.slice(i+1,a)}`:n=t.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return n}const An={toPosix(t){return f2e(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol(t){Bi(t),t=this.toPosix(t);let e="";const n=/^file:\/\/\//.exec(t),r=/^[^/:]+:\/\//.exec(t),i=/^[^/:]+:\//.exec(t);if(n||r||i){const s=(n==null?void 0:n[0])||(r==null?void 0:r[0])||(i==null?void 0:i[0]);e=s,t=t.slice(s.length)}return e},toAbsolute(t,e,n){if(this.isDataUrl(t))return t;const r=vh(this.toPosix(e??we.ADAPTER.getBaseUrl())),i=vh(this.toPosix(n??this.rootname(r)));return Bi(t),t=this.toPosix(t),t.startsWith("/")?An.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(r,t)},normalize(t){if(t=this.toPosix(t),Bi(t),t.length===0)return".";let e="";const n=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const r=t.endsWith("/");return t=p2e(t,!1),t.length>0&&r&&(t+="/"),n?`/${t}`:e+t},isAbsolute(t){return Bi(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let n=0;n<t.length;++n){const r=t[n];if(Bi(r),r.length>0)if(e===void 0)e=r;else{const i=t[n-1]??"";this.extname(i)?e+=`/../${r}`:e+=`/${r}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(Bi(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const n=e===47;let r=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){r=a;break}}else i=!1;return r===-1?n?"/":this.isUrl(o)?s+t:s:n&&r===1?"//":s+t.slice(0,r)},rootname(t){Bi(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const n=t.indexOf("/",e.length);n!==-1?e=t.slice(0,n):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Bi(t),e&&Bi(e),t=vh(this.toPosix(t));let n=0,r=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const l=t.charCodeAt(s);if(l===47){if(!i){n=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(r=s):(o=-1,r=a))}return n===r?r=a:r===-1&&(r=t.length),t.slice(n,r)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){n=s+1;break}}else r===-1&&(i=!1,r=s+1);return r===-1?"":t.slice(n,r)},extname(t){Bi(t),t=vh(this.toPosix(t));let e=-1,n=0,r=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){n=o+1;break}continue}r===-1&&(i=!1,r=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||r===-1||s===0||s===1&&e===r-1&&e===n+1?"":t.slice(e,r)},parse(t){Bi(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=vh(this.toPosix(t));let n=t.charCodeAt(0);const r=this.isAbsolute(t);let i;e.root=this.rootname(t),r||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,l=!0,c=t.length-1,h=0;for(;c>=i;--c){if(n=t.charCodeAt(c),n===47){if(!l){o=c+1;break}continue}a===-1&&(l=!1,a=c+1),n===46?s===-1?s=c:h!==1&&(h=1):s!==-1&&(h=-1)}return s===-1||a===-1||h===0||h===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&r?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&r?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"},hR={};function at(t,e,n=3){if(hR[e])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(r=r.split(`
`).splice(n).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(r))),hR[e]=!0}function m2e(){at("7.0.0","skipHello is deprecated, please use settings.RENDER_OPTIONS.hello")}function g2e(){at("7.0.0",`sayHello is deprecated, please use Renderer's "hello" option`)}let cb;function ZL(){return typeof cb>"u"&&(cb=function(){var n;const e={stencil:!0,failIfMajorPerformanceCaveat:we.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!we.ADAPTER.getWebGLRenderingContext())return!1;const r=we.ADAPTER.createCanvas();let i=r.getContext("webgl",e)||r.getContext("experimental-webgl",e);const s=!!((n=i==null?void 0:i.getContextAttributes())!=null&&n.stencil);if(i){const o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,s}catch{return!1}}()),cb}var v2e="#f0f8ff",y2e="#faebd7",b2e="#00ffff",x2e="#7fffd4",w2e="#f0ffff",_2e="#f5f5dc",S2e="#ffe4c4",E2e="#000000",C2e="#ffebcd",T2e="#0000ff",A2e="#8a2be2",P2e="#a52a2a",k2e="#deb887",O2e="#5f9ea0",I2e="#7fff00",R2e="#d2691e",M2e="#ff7f50",F2e="#6495ed",D2e="#fff8dc",L2e="#dc143c",B2e="#00ffff",N2e="#00008b",$2e="#008b8b",U2e="#b8860b",z2e="#a9a9a9",H2e="#006400",j2e="#a9a9a9",W2e="#bdb76b",G2e="#8b008b",V2e="#556b2f",q2e="#ff8c00",X2e="#9932cc",Y2e="#8b0000",K2e="#e9967a",Z2e="#8fbc8f",Q2e="#483d8b",J2e="#2f4f4f",eCe="#2f4f4f",tCe="#00ced1",nCe="#9400d3",rCe="#ff1493",iCe="#00bfff",sCe="#696969",oCe="#696969",aCe="#1e90ff",lCe="#b22222",uCe="#fffaf0",cCe="#228b22",hCe="#ff00ff",dCe="#dcdcdc",fCe="#f8f8ff",pCe="#daa520",mCe="#ffd700",gCe="#808080",vCe="#008000",yCe="#adff2f",bCe="#808080",xCe="#f0fff0",wCe="#ff69b4",_Ce="#cd5c5c",SCe="#4b0082",ECe="#fffff0",CCe="#f0e68c",TCe="#fff0f5",ACe="#e6e6fa",PCe="#7cfc00",kCe="#fffacd",OCe="#add8e6",ICe="#f08080",RCe="#e0ffff",MCe="#fafad2",FCe="#d3d3d3",DCe="#90ee90",LCe="#d3d3d3",BCe="#ffb6c1",NCe="#ffa07a",$Ce="#20b2aa",UCe="#87cefa",zCe="#778899",HCe="#778899",jCe="#b0c4de",WCe="#ffffe0",GCe="#00ff00",VCe="#32cd32",qCe="#faf0e6",XCe="#ff00ff",YCe="#800000",KCe="#66cdaa",ZCe="#0000cd",QCe="#ba55d3",JCe="#9370db",eTe="#3cb371",tTe="#7b68ee",nTe="#00fa9a",rTe="#48d1cc",iTe="#c71585",sTe="#191970",oTe="#f5fffa",aTe="#ffe4e1",lTe="#ffe4b5",uTe="#ffdead",cTe="#000080",hTe="#fdf5e6",dTe="#808000",fTe="#6b8e23",pTe="#ffa500",mTe="#ff4500",gTe="#da70d6",vTe="#eee8aa",yTe="#98fb98",bTe="#afeeee",xTe="#db7093",wTe="#ffefd5",_Te="#ffdab9",STe="#cd853f",ETe="#ffc0cb",CTe="#dda0dd",TTe="#b0e0e6",ATe="#800080",PTe="#663399",kTe="#ff0000",OTe="#bc8f8f",ITe="#4169e1",RTe="#8b4513",MTe="#fa8072",FTe="#f4a460",DTe="#2e8b57",LTe="#fff5ee",BTe="#a0522d",NTe="#c0c0c0",$Te="#87ceeb",UTe="#6a5acd",zTe="#708090",HTe="#708090",jTe="#fffafa",WTe="#00ff7f",GTe="#4682b4",VTe="#d2b48c",qTe="#008080",XTe="#d8bfd8",YTe="#ff6347",KTe="#40e0d0",ZTe="#ee82ee",QTe="#f5deb3",JTe="#ffffff",eAe="#f5f5f5",tAe="#ffff00",nAe="#9acd32",rAe={aliceblue:v2e,antiquewhite:y2e,aqua:b2e,aquamarine:x2e,azure:w2e,beige:_2e,bisque:S2e,black:E2e,blanchedalmond:C2e,blue:T2e,blueviolet:A2e,brown:P2e,burlywood:k2e,cadetblue:O2e,chartreuse:I2e,chocolate:R2e,coral:M2e,cornflowerblue:F2e,cornsilk:D2e,crimson:L2e,cyan:B2e,darkblue:N2e,darkcyan:$2e,darkgoldenrod:U2e,darkgray:z2e,darkgreen:H2e,darkgrey:j2e,darkkhaki:W2e,darkmagenta:G2e,darkolivegreen:V2e,darkorange:q2e,darkorchid:X2e,darkred:Y2e,darksalmon:K2e,darkseagreen:Z2e,darkslateblue:Q2e,darkslategray:J2e,darkslategrey:eCe,darkturquoise:tCe,darkviolet:nCe,deeppink:rCe,deepskyblue:iCe,dimgray:sCe,dimgrey:oCe,dodgerblue:aCe,firebrick:lCe,floralwhite:uCe,forestgreen:cCe,fuchsia:hCe,gainsboro:dCe,ghostwhite:fCe,goldenrod:pCe,gold:mCe,gray:gCe,green:vCe,greenyellow:yCe,grey:bCe,honeydew:xCe,hotpink:wCe,indianred:_Ce,indigo:SCe,ivory:ECe,khaki:CCe,lavenderblush:TCe,lavender:ACe,lawngreen:PCe,lemonchiffon:kCe,lightblue:OCe,lightcoral:ICe,lightcyan:RCe,lightgoldenrodyellow:MCe,lightgray:FCe,lightgreen:DCe,lightgrey:LCe,lightpink:BCe,lightsalmon:NCe,lightseagreen:$Ce,lightskyblue:UCe,lightslategray:zCe,lightslategrey:HCe,lightsteelblue:jCe,lightyellow:WCe,lime:GCe,limegreen:VCe,linen:qCe,magenta:XCe,maroon:YCe,mediumaquamarine:KCe,mediumblue:ZCe,mediumorchid:QCe,mediumpurple:JCe,mediumseagreen:eTe,mediumslateblue:tTe,mediumspringgreen:nTe,mediumturquoise:rTe,mediumvioletred:iTe,midnightblue:sTe,mintcream:oTe,mistyrose:aTe,moccasin:lTe,navajowhite:uTe,navy:cTe,oldlace:hTe,olive:dTe,olivedrab:fTe,orange:pTe,orangered:mTe,orchid:gTe,palegoldenrod:vTe,palegreen:yTe,paleturquoise:bTe,palevioletred:xTe,papayawhip:wTe,peachpuff:_Te,peru:STe,pink:ETe,plum:CTe,powderblue:TTe,purple:ATe,rebeccapurple:PTe,red:kTe,rosybrown:OTe,royalblue:ITe,saddlebrown:RTe,salmon:MTe,sandybrown:FTe,seagreen:DTe,seashell:LTe,sienna:BTe,silver:NTe,skyblue:$Te,slateblue:UTe,slategray:zTe,slategrey:HTe,snow:jTe,springgreen:WTe,steelblue:GTe,tan:VTe,teal:qTe,thistle:XTe,tomato:YTe,turquoise:KTe,violet:ZTe,wheat:QTe,white:JTe,whitesmoke:eAe,yellow:tAe,yellowgreen:nAe};function dl(t,e=[]){return e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function C2(t){let e=t.toString(16);return e="000000".substring(0,6-e.length)+e,`#${e}`}function E0(t){if(typeof t=="string"&&(t=rAe[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1)),t.length===3)){const[e,n,r]=t;t=e+e+n+n+r+r}return parseInt(t,16)}function iAe(t){return(t[0]*255<<16)+(t[1]*255<<8)+(t[2]*255|0)}function sAe(){const t=[],e=[];for(let r=0;r<32;r++)t[r]=r,e[r]=r;t[Me.NORMAL_NPM]=Me.NORMAL,t[Me.ADD_NPM]=Me.ADD,t[Me.SCREEN_NPM]=Me.SCREEN,e[Me.NORMAL]=Me.NORMAL_NPM,e[Me.ADD]=Me.ADD_NPM,e[Me.SCREEN]=Me.SCREEN_NPM;const n=[];return n.push(e),n.push(t),n}const T2=sAe();function A2(t,e){return T2[e?1:0][t]}function QL(t,e,n,r){return n=n||new Float32Array(4),r||r===void 0?(n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e):(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=e,n}function C0(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;let n=t>>16&255,r=t>>8&255,i=t&255;return n=n*e+.5|0,r=r*e+.5|0,i=i*e+.5|0,(e*255<<24)+(n<<16)+(r<<8)+i}function P2(t,e,n,r){return n=n||new Float32Array(4),n[0]=(t>>16&255)/255,n[1]=(t>>8&255)/255,n[2]=(t&255)/255,(r||r===void 0)&&(n[0]*=e,n[1]*=e,n[2]*=e),n[3]=e,n}const JL=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function eB(t,e=null){const n=t*6;if(e=e||new Uint16Array(n),e.length!==n)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${n}`);for(let r=0,i=0;r<n;r+=6,i+=4)e[r+0]=i+0,e[r+1]=i+1,e[r+2]=i+2,e[r+3]=i+0,e[r+4]=i+2,e[r+5]=i+3;return e}function T0(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}const oAe={Float32Array,Uint32Array,Int32Array,Uint8Array};function aAe(t,e){let n=0,r=0;const i={};for(let l=0;l<t.length;l++)r+=e[l],n+=t[l].length;const s=new ArrayBuffer(n*4);let o=null,a=0;for(let l=0;l<t.length;l++){const c=e[l],h=t[l],f=T0(h);i[f]||(i[f]=new oAe[f](s)),o=i[f];for(let p=0;p<h.length;p++){const m=(p/c|0)*r+a,v=p%c;o[m+v]=h[p]}a+=c}return new Float32Array(s)}function Fd(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function e_(t){return!(t&t-1)&&!!t}function t_(t){let e=(t>65535?1:0)<<4;t>>>=e;let n=(t>255?1:0)<<3;return t>>>=n,e|=n,n=(t>15?1:0)<<2,t>>>=n,e|=n,n=(t>3?1:0)<<1,t>>>=n,e|=n,e|t>>1}function Qa(t,e,n){const r=t.length;let i;if(e>=r||n===0)return;n=e+n>r?r-e:n;const s=r-n;for(i=e;i<s;++i)t[i]=t[i+n];t.length=s}function ja(t){return t===0?0:t<0?-1:1}let lAe=0;function ia(){return++lAe}const tB=class{constructor(t,e,n,r){this.left=t,this.top=e,this.right=n,this.bottom=r}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let Vg=tB;Vg.EMPTY=new tB(0,0,0,0);const n_={},Kn=Object.create(null),Mr=Object.create(null);function uAe(){let t;for(t in Kn)Kn[t].destroy();for(t in Mr)Mr[t].destroy()}function cAe(){let t;for(t in Kn)delete Kn[t];for(t in Mr)delete Mr[t]}class r_{constructor(e,n,r){this._canvas=we.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=r||we.RESOLUTION,this.resize(e,n)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,n){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(n*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function dR(t,e,n){for(let r=0,i=4*n*e;r<e;++r,i+=4)if(t[i+3]!==0)return!1;return!0}function fR(t,e,n,r,i){const s=4*e;for(let o=r,a=r*s+4*n;o<=i;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function nB(t){const{width:e,height:n}=t,r=t.getContext("2d",{willReadFrequently:!0});if(r===null)throw new TypeError("Failed to get canvas 2D context");const s=r.getImageData(0,0,e,n).data;let o=0,a=0,l=e-1,c=n-1;for(;a<n&&dR(s,e,a);)++a;if(a===n)return Vg.EMPTY;for(;dR(s,e,c);)--c;for(;fR(s,e,o,a,c);)++o;for(;fR(s,e,l,a,c);)--l;return++l,++c,new Vg(o,a,l,c)}function rB(t){const e=nB(t),{width:n,height:r}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,n,r)}return{width:n,height:r,data:i}}function hAe(t){const e=JL.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}let Qp;function iB(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location,Qp||(Qp=document.createElement("a")),Qp.href=t;const n=KL.parse(Qp.href),r=!n.port&&e.port===""||n.port===e.port;return n.hostname!==e.hostname||!r||n.protocol!==e.protocol?"anonymous":""}function fo(t,e=1){var r;const n=(r=we.RETINA_PREFIX)==null?void 0:r.exec(t);return n?parseFloat(n[1]):e}const dAe=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:Mr,BoundingBox:Vg,CanvasRenderTarget:r_,DATA_URI:JL,EventEmitter:ra,ProgramCache:n_,TextureCache:Kn,clearTextureCache:cAe,correctBlendMode:A2,createIndicesForQuads:eB,decomposeDataUri:hAe,deprecation:at,destroyTextureCache:uAe,determineCrossOrigin:iB,get earcut(){return kd},getBufferType:T0,getCanvasBoundingBox:nB,getResolutionOfUrl:fo,hex2rgb:dl,hex2string:C2,interleaveTypedArrays:aAe,isMobile:Ki,isPow2:e_,isWebGLSupported:ZL,log2:t_,nextPow2:Fd,path:An,premultiplyBlendMode:T2,premultiplyRgba:QL,premultiplyTint:C0,premultiplyTintToRgba:P2,removeItems:Qa,rgb2hex:iAe,sayHello:g2e,sign:ja,skipHello:m2e,string2hex:E0,trimCanvas:rB,uid:ia,url:KL},Symbol.toStringTag,{value:"Module"}));var be=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(be||{});const i_=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},pR=(t,e)=>i_(t).priority??e,Ae={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(i_).forEach(e=>{e.type.forEach(n=>{var r,i;return(i=(r=this._removeHandlers)[n])==null?void 0:i.call(r,e)})}),this},add(...t){return t.map(i_).forEach(e=>{e.type.forEach(n=>{const r=this._addHandlers,i=this._queue;r[n]?r[n](e):(i[n]=i[n]||[],i[n].push(e))})}),this},handle(t,e,n){const r=this._addHandlers,i=this._removeHandlers;if(r[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);r[t]=e,i[t]=n;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,n=>{e[n.name]=n.ref},n=>{delete e[n.name]})},handleByList(t,e,n=-1){return this.handle(t,r=>{e.includes(r.ref)||(e.push(r.ref),e.sort((i,s)=>pR(s,n)-pR(i,n)))},r=>{const i=e.indexOf(r.ref);i!==-1&&e.splice(i,1)})}};class qg{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const fAe=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function pAe(t){let e="";for(let n=0;n<t;++n)n>0&&(e+=`
else `),n<t-1&&(e+=`if(test == ${n}.0){}`);return e}function sB(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const n=e.createShader(e.FRAGMENT_SHADER);for(;;){const r=fAe.replace(/%forloop%/gi,pAe(t));if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))t=t/2|0;else break}return t}const hb=0,db=1,fb=2,pb=3,mb=4,gb=5;class Ls{constructor(){this.data=0,this.blendMode=Me.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<hb)}set blend(e){!!(this.data&1<<hb)!==e&&(this.data^=1<<hb)}get offsets(){return!!(this.data&1<<db)}set offsets(e){!!(this.data&1<<db)!==e&&(this.data^=1<<db)}get culling(){return!!(this.data&1<<fb)}set culling(e){!!(this.data&1<<fb)!==e&&(this.data^=1<<fb)}get depthTest(){return!!(this.data&1<<pb)}set depthTest(e){!!(this.data&1<<pb)!==e&&(this.data^=1<<pb)}get depthMask(){return!!(this.data&1<<gb)}set depthMask(e){!!(this.data&1<<gb)!==e&&(this.data^=1<<gb)}get clockwiseFrontFace(){return!!(this.data&1<<mb)}set clockwiseFrontFace(e){!!(this.data&1<<mb)!==e&&(this.data^=1<<mb)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==Me.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new Ls;return e.depthTest=!1,e.blend=!0,e}}const Xg=[];function k2(t,e){if(!t)return null;let n="";if(typeof t=="string"){const r=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);r&&(n=r[1].toLowerCase())}for(let r=Xg.length-1;r>=0;--r){const i=Xg[r];if(i.test&&i.test(t,n))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Gr{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,n,r,i,s,o,a,l){if(arguments.length>8)throw new Error("max arguments reached");const{name:c,items:h}=this;this._aliasCount++;for(let f=0,p=h.length;f<p;f++)h[f][c](e,n,r,i,s,o,a,l);return h===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const n=this.items.indexOf(e);return n!==-1&&(this.ensureNonAliasedItems(),this.items.splice(n,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Gr.prototype,{dispatch:{value:Gr.prototype.emit},run:{value:Gr.prototype.emit}});class uc{constructor(e=0,n=0){this._width=e,this._height=n,this.destroyed=!1,this.internal=!1,this.onResize=new Gr("setRealSize"),this.onUpdate=new Gr("update"),this.onError=new Gr("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,n){(e!==this._width||n!==this._height)&&(this._width=e,this._height=n,this.onResize.emit(e,n))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,n,r){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,n){return!1}}class Fc extends uc{constructor(e,n){const{width:r,height:i}=n||{};if(!r||!i)throw new Error("BufferResource width or height invalid");super(r,i),this.data=e}upload(e,n,r){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Pi.UNPACK);const s=n.realWidth,o=n.realHeight;return r.width===s&&r.height===o?i.texSubImage2D(n.target,0,0,0,s,o,n.format,r.type,this.data):(r.width=s,r.height=o,i.texImage2D(n.target,0,r.internalFormat,s,o,0,n.format,r.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const mAe={scaleMode:Ps.NEAREST,format:ge.RGBA,alphaMode:Pi.NPM},mu=class extends ra{constructor(t=null,e=null){super(),e=Object.assign({},mu.defaultOptions,e);const{alphaMode:n,mipmap:r,anisotropicLevel:i,scaleMode:s,width:o,height:a,wrapMode:l,format:c,type:h,target:f,resolution:p,resourceOptions:m}=e;t&&!(t instanceof uc)&&(t=k2(t,m),t.internal=!0),this.resolution=p||we.RESOLUTION,this.width=Math.round((o||0)*this.resolution)/this.resolution,this.height=Math.round((a||0)*this.resolution)/this.resolution,this._mipmap=r,this.anisotropicLevel=i,this._wrapMode=l,this._scaleMode=s,this.format=c,this.type=h,this.target=f,this.alphaMode=n,this.uid=ia(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&a>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let n;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,n=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,n=!0),n&&this.dirtyStyleId++,this}setSize(t,e,n){return n=n||this.resolution,this.setRealSize(t*n,e*n,n)}setRealSize(t,e,n){return this.resolution=n||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=e_(this.realWidth)&&e_(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Mr[this.cacheId],delete Kn[this.cacheId],this.cacheId=null),this.dispose(),mu.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,n=we.STRICT_TEXTURE_CACHE){const r=typeof t=="string";let i=null;if(r)i=t;else{if(!t._pixiId){const o=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${o}_${ia()}`}i=t._pixiId}let s=Mr[i];if(r&&n&&!s)throw new Error(`The cacheId "${i}" does not exist in BaseTextureCache.`);return s||(s=new mu(t,e),s.cacheId=i,mu.addToCache(s,i)),s}static fromBuffer(t,e,n,r){t=t||new Float32Array(e*n*4);const i=new Fc(t,{width:e,height:n}),s=t instanceof Float32Array?Oe.FLOAT:Oe.UNSIGNED_BYTE;return new mu(i,Object.assign({},mAe,r||{width:e,height:n,type:s}))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),Mr[e]&&Mr[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),Mr[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=Mr[t];if(e){const n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete Mr[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete Mr[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};let He=mu;He.defaultOptions={mipmap:as.POW2,anisotropicLevel:0,scaleMode:Ps.LINEAR,wrapMode:Rs.CLAMP,alphaMode:Pi.UNPACK,target:Za.TEXTURE_2D,format:ge.RGBA,type:Oe.UNSIGNED_BYTE};He._globalBatch=0;class Yg{constructor(){this.texArray=null,this.blend=0,this.type=Yi.TRIANGLES,this.start=0,this.size=0,this.data=null}}let gAe=0;class tn{constructor(e,n=!0,r=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=n,this.id=gAe++,this.disposeRunner=new Gr("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?ts.ELEMENT_ARRAY_BUFFER:ts.ARRAY_BUFFER}get index(){return this.type===ts.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new tn(e)}}class Dd{constructor(e,n=0,r=!1,i=Oe.FLOAT,s,o,a,l=1){this.buffer=e,this.size=n,this.normalized=r,this.type=i,this.stride=s,this.start=o,this.instance=a,this.divisor=l}destroy(){this.buffer=null}static from(e,n,r,i,s){return new Dd(e,n,r,i,s)}}const vAe={Float32Array,Uint32Array,Int32Array,Uint8Array};function yAe(t,e){let n=0,r=0;const i={};for(let l=0;l<t.length;l++)r+=e[l],n+=t[l].length;const s=new ArrayBuffer(n*4);let o=null,a=0;for(let l=0;l<t.length;l++){const c=e[l],h=t[l],f=T0(h);i[f]||(i[f]=new vAe[f](s)),o=i[f];for(let p=0;p<h.length;p++){const m=(p/c|0)*r+a,v=p%c;o[m+v]=h[p]}a+=c}return new Float32Array(s)}const mR={5126:4,5123:2,5121:1};let bAe=0;const xAe={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class po{constructor(e=[],n={}){this.buffers=e,this.indexBuffer=null,this.attributes=n,this.glVertexArrayObjects={},this.id=bAe++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Gr("disposeGeometry"),this.refCount=0}addAttribute(e,n,r=0,i=!1,s,o,a,l=!1){if(!n)throw new Error("You must pass a buffer when creating an attribute");n instanceof tn||(n instanceof Array&&(n=new Float32Array(n)),n=new tn(n));const c=e.split("|");if(c.length>1){for(let f=0;f<c.length;f++)this.addAttribute(c[f],n,r,i,s);return this}let h=this.buffers.indexOf(n);return h===-1&&(this.buffers.push(n),h=this.buffers.length-1),this.attributes[e]=new Dd(h,r,i,s,o,a,l),this.instanced=this.instanced||l,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof tn||(e instanceof Array&&(e=new Uint16Array(e)),e=new tn(e)),e.type=ts.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],n=[],r=new tn;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),n.push(s.size*mR[s.type]/4),s.buffer=0}for(r.data=yAe(e,n),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const n=this.attributes[e];return this.buffers[n.buffer].data.length/(n.stride/4||n.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new po;for(let n=0;n<this.buffers.length;n++)e.buffers[n]=new tn(this.buffers[n].data.slice(0));for(const n in this.attributes){const r=this.attributes[n];e.attributes[n]=new Dd(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=ts.ELEMENT_ARRAY_BUFFER),e}static merge(e){const n=new po,r=[],i=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)i[l]=i[l]||0,i[l]+=o.buffers[l].data.length,s[l]=0}for(let a=0;a<o.buffers.length;a++)r[a]=new xAe[T0(o.buffers[a].data)](i[a]),n.buffers[a]=new tn(r[a]);for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)r[l].set(o.buffers[l].data,s[l]),s[l]+=o.buffers[l].data.length}if(n.attributes=o.attributes,o.indexBuffer){n.indexBuffer=n.buffers[o.buffers.indexOf(o.indexBuffer)],n.indexBuffer.type=ts.ELEMENT_ARRAY_BUFFER;let a=0,l=0,c=0,h=0;for(let f=0;f<o.buffers.length;f++)if(o.buffers[f]!==o.indexBuffer){h=f;break}for(const f in o.attributes){const p=o.attributes[f];(p.buffer|0)===h&&(l+=p.size*mR[p.type]/4)}for(let f=0;f<e.length;f++){const p=e[f].indexBuffer.data;for(let m=0;m<p.length;m++)n.indexBuffer.data[m+c]+=a;a+=e[f].buffers[h].data.length/l,c+=p.length}}return n}}class O2 extends po{constructor(e=!1){super(),this._buffer=new tn(null,e,!1),this._indexBuffer=new tn(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,Oe.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,Oe.FLOAT).addAttribute("aColor",this._buffer,4,!0,Oe.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,Oe.FLOAT).addIndex(this._indexBuffer)}}const Ld=Math.PI*2,oB=180/Math.PI,aB=Math.PI/180;var En=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(En||{});class Ie{constructor(e=0,n=0){this.x=0,this.y=0,this.x=e,this.y=n}clone(){return new Ie(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,n=e){return this.x=e,this.y=n,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const Jp=[new Ie,new Ie,new Ie,new Ie];class qe{constructor(e=0,n=0,r=0,i=0){this.x=Number(e),this.y=Number(n),this.width=Number(r),this.height=Number(i),this.type=En.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new qe(0,0,0,0)}clone(){return new qe(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,n){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&n>=this.y&&n<this.y+this.height}intersects(e,n){if(!n){const L=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=L)return!1;const G=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>G}const r=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=r||o<=s)return!1;const a=Jp[0].set(e.left,e.top),l=Jp[1].set(e.left,e.bottom),c=Jp[2].set(e.right,e.top),h=Jp[3].set(e.right,e.bottom);if(c.x<=a.x||l.y<=a.y)return!1;const f=Math.sign(n.a*n.d-n.b*n.c);if(f===0||(n.apply(a,a),n.apply(l,l),n.apply(c,c),n.apply(h,h),Math.max(a.x,l.x,c.x,h.x)<=r||Math.min(a.x,l.x,c.x,h.x)>=i||Math.max(a.y,l.y,c.y,h.y)<=s||Math.min(a.y,l.y,c.y,h.y)>=o))return!1;const p=f*(l.y-a.y),m=f*(a.x-l.x),v=p*r+m*s,y=p*i+m*s,x=p*r+m*o,b=p*i+m*o;if(Math.max(v,y,x,b)<=p*a.x+m*a.y||Math.min(v,y,x,b)>=p*h.x+m*h.y)return!1;const _=f*(a.y-c.y),w=f*(c.x-a.x),E=_*r+w*s,O=_*i+w*s,A=_*r+w*o,M=_*i+w*o;return!(Math.max(E,O,A,M)<=_*a.x+w*a.y||Math.min(E,O,A,M)>=_*h.x+w*h.y)}pad(e=0,n=e){return this.x-=e,this.y-=n,this.width+=e*2,this.height+=n*2,this}fit(e){const n=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=n,this.width=Math.max(r-n,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,n=.001){const r=Math.ceil((this.x+this.width-n)*e)/e,i=Math.ceil((this.y+this.height-n)*e)/e;return this.x=Math.floor((this.x+n)*e)/e,this.y=Math.floor((this.y+n)*e)/e,this.width=r-this.x,this.height=i-this.y,this}enlarge(e){const n=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=n,this.width=r-n,this.y=i,this.height=s-i,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class cc{constructor(e=0,n=0,r=0){this.x=e,this.y=n,this.radius=r,this.type=En.CIRC}clone(){return new cc(this.x,this.y,this.radius)}contains(e,n){if(this.radius<=0)return!1;const r=this.radius*this.radius;let i=this.x-e,s=this.y-n;return i*=i,s*=s,i+s<=r}getBounds(){return new qe(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class A0{constructor(e=0,n=0,r=0,i=0){this.x=e,this.y=n,this.width=r,this.height=i,this.type=En.ELIP}clone(){return new A0(this.x,this.y,this.width,this.height)}contains(e,n){if(this.width<=0||this.height<=0)return!1;let r=(e-this.x)/this.width,i=(n-this.y)/this.height;return r*=r,i*=i,r+i<=1}getBounds(){return new qe(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class Ja{constructor(...e){let n=Array.isArray(e[0])?e[0]:e;if(typeof n[0]!="number"){const r=[];for(let i=0,s=n.length;i<s;i++)r.push(n[i].x,n[i].y);n=r}this.points=n,this.type=En.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),n=new Ja(e);return n.closeStroke=this.closeStroke,n}contains(e,n){let r=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],l=this.points[s*2+1],c=this.points[o*2],h=this.points[o*2+1];l>n!=h>n&&e<(c-a)*((n-l)/(h-l))+a&&(r=!r)}return r}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,n)=>`${e}, ${n}`,"")}]`}}class hc{constructor(e=0,n=0,r=0,i=0,s=20){this.x=e,this.y=n,this.width=r,this.height=i,this.radius=s,this.type=En.RREC}clone(){return new hc(this.x,this.y,this.width,this.height,this.radius)}contains(e,n){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(n>=this.y+r&&n<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;let i=e-(this.x+r),s=n-(this.y+r);const o=r*r;if(i*i+s*s<=o||(i=e-(this.x+this.width-r),i*i+s*s<=o)||(s=n-(this.y+this.height-r),i*i+s*s<=o)||(i=e-(this.x+r),i*i+s*s<=o))return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}class Nt{constructor(e=1,n=0,r=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,n,r,i,s,o){return this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=o,this}toArray(e,n){this.array||(this.array=new Float32Array(9));const r=n||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(e,n){n=n||new Ie;const r=e.x,i=e.y;return n.x=this.a*r+this.c*i+this.tx,n.y=this.b*r+this.d*i+this.ty,n}applyInverse(e,n){n=n||new Ie;const r=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return n.x=this.d*r*i+-this.c*r*s+(this.ty*this.c-this.tx*this.d)*r,n.y=this.a*r*s+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,n}translate(e,n){return this.tx+=e,this.ty+=n,this}scale(e,n){return this.a*=e,this.d*=n,this.c*=e,this.b*=n,this.tx*=e,this.ty*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*n-this.b*r,this.b=i*r+this.b*n,this.c=s*n-this.d*r,this.d=s*r+this.d*n,this.tx=o*n-this.ty*r,this.ty=o*r+this.ty*n,this}append(e){const n=this.a,r=this.b,i=this.c,s=this.d;return this.a=e.a*n+e.b*i,this.b=e.a*r+e.b*s,this.c=e.c*n+e.d*i,this.d=e.c*r+e.d*s,this.tx=e.tx*n+e.ty*i+this.tx,this.ty=e.tx*r+e.ty*s+this.ty,this}setTransform(e,n,r,i,s,o,a,l,c){return this.a=Math.cos(a+c)*s,this.b=Math.sin(a+c)*s,this.c=-Math.sin(a-l)*o,this.d=Math.cos(a-l)*o,this.tx=e-(r*this.a+i*this.c),this.ty=n-(r*this.b+i*this.d),this}prepend(e){const n=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const r=this.a,i=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=n*e.a+this.ty*e.c+e.tx,this.ty=n*e.b+this.ty*e.d+e.ty,this}decompose(e){const n=this.a,r=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),l=Math.atan2(r,n),c=Math.abs(a+l);return c<1e-5||Math.abs(Ld-c)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(n*n+r*r),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*n+o.y*i),e.position.y=this.ty+(o.x*r+o.y*s),e}invert(){const e=this.a,n=this.b,r=this.c,i=this.d,s=this.tx,o=e*i-n*r;return this.a=i/o,this.b=-n/o,this.c=-r/o,this.d=e/o,this.tx=(r*this.ty-i*s)/o,this.ty=-(e*this.ty-n*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Nt;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new Nt}static get TEMP_MATRIX(){return new Nt}}const Da=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],La=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Ba=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Na=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],s_=[],lB=[],em=Math.sign;function wAe(){for(let t=0;t<16;t++){const e=[];s_.push(e);for(let n=0;n<16;n++){const r=em(Da[t]*Da[n]+Ba[t]*La[n]),i=em(La[t]*Da[n]+Na[t]*La[n]),s=em(Da[t]*Ba[n]+Ba[t]*Na[n]),o=em(La[t]*Ba[n]+Na[t]*Na[n]);for(let a=0;a<16;a++)if(Da[a]===r&&La[a]===i&&Ba[a]===s&&Na[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new Nt;e.set(Da[t],La[t],Ba[t],Na[t],0,0),lB.push(e)}}wAe();const zt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Da[t],uY:t=>La[t],vX:t=>Ba[t],vY:t=>Na[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>s_[t][e],sub:(t,e)=>s_[t][zt.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?zt.S:zt.N:Math.abs(e)*2<=Math.abs(t)?t>0?zt.E:zt.W:e>0?t>0?zt.SE:zt.SW:t>0?zt.NE:zt.NW,matrixAppendRotationInv:(t,e,n=0,r=0)=>{const i=lB[zt.inv(e)];i.tx=n,i.ty=r,t.append(i)}};class ro{constructor(e,n,r=0,i=0){this._x=r,this._y=i,this.cb=e,this.scope=n}clone(e=this.cb,n=this.scope){return new ro(e,n,this._x,this._y)}set(e=0,n=e){return(this._x!==e||this._y!==n)&&(this._x=e,this._y=n,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=${0} y=${0} scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}const uB=class{constructor(){this.worldTransform=new Nt,this.localTransform=new Nt,this.position=new ro(this.onChange,this,0,0),this.scale=new ro(this.onChange,this,1,1),this.pivot=new ro(this.onChange,this,0,0),this.skew=new ro(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const n=t.worldTransform,r=this.worldTransform;r.a=e.a*n.a+e.b*n.c,r.b=e.a*n.b+e.b*n.d,r.c=e.c*n.a+e.d*n.c,r.d=e.c*n.b+e.d*n.d,r.tx=e.tx*n.a+e.ty*n.c+n.tx,r.ty=e.tx*n.b+e.ty*n.d+n.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};let wf=uB;wf.IDENTITY=new uB;var _Ae=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,SAe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function gR(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}function vb(t){const e=new Array(t);for(let n=0;n<e.length;n++)e[n]=!1;return e}function cB(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return vb(2*e);case"bvec3":return vb(3*e);case"bvec4":return vb(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const el=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],EAe={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},CAe={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function TAe(t,e){var r;const n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){(r=t.uniforms[i])!=null&&r.group&&(t.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let a=!1;for(let l=0;l<el.length;l++)if(el[l].test(s,o)){n.push(el[l].code(i,o)),a=!0;break}if(!a){const c=(s.size===1&&!s.isArray?EAe:CAe)[s.type].replace("location",`ud["${i}"].location`);n.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${c};`)}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}const hB={};let Yl=hB;function dB(){if(Yl===hB||Yl!=null&&Yl.isContextLost()){const t=we.ADAPTER.createCanvas();let e;we.PREFER_ENV>=ma.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Yl=e}return Yl}let tm;function AAe(){if(!tm){tm=Nr.MEDIUM;const t=dB();t&&t.getShaderPrecisionFormat&&(tm=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?Nr.HIGH:Nr.MEDIUM)}return tm}function vR(t,e){const n=t.getShaderSource(e).split(`
`).map((c,h)=>`${h}: ${c}`),r=t.getShaderInfoLog(e),i=r.split(`
`),s={},o=i.map(c=>parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(c=>c&&!s[c]?(s[c]=!0,!0):!1),a=[""];o.forEach(c=>{n[c-1]=`%c${n[c-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=n.join(`
`);a[0]=l,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function PAe(t,e,n,r){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(n,t.COMPILE_STATUS)||vR(t,n),t.getShaderParameter(r,t.COMPILE_STATUS)||vR(t,r),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const kAe={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function fB(t){return kAe[t]}let nm=null;const yR={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function pB(t,e){if(!nm){const n=Object.keys(yR);nm={};for(let r=0;r<n.length;++r){const i=n[r];nm[t[i]]=yR[i]}}return nm[e]}function bR(t,e,n){if(t.substring(0,9)!=="precision"){let r=e;return e===Nr.HIGH&&n!==Nr.HIGH&&(r=Nr.MEDIUM),`precision ${r} float;
${t}`}else if(n!==Nr.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let yh;function mB(){if(typeof yh=="boolean")return yh;try{yh=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{yh=!1}return yh}let OAe=0;const rm={},gu=class{constructor(t,e,n="pixi-shader",r={}){this.extra={},this.id=OAe++,this.vertexSrc=t||gu.defaultVertexSrc,this.fragmentSrc=e||gu.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=r,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),rm[n]?(rm[n]++,n+=`-${rm[n]}`):rm[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=bR(this.vertexSrc,gu.defaultVertexPrecision,Nr.HIGH),this.fragmentSrc=bR(this.fragmentSrc,gu.defaultFragmentPrecision,AAe())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return SAe}static get defaultFragmentSrc(){return _Ae}static from(t,e,n){const r=t+e;let i=n_[r];return i||(n_[r]=i=new gu(t,e,n)),i}};let mi=gu;mi.defaultVertexPrecision=Nr.HIGH;mi.defaultFragmentPrecision=Ki.apple.device?Nr.HIGH:Nr.MEDIUM;let IAe=0;class xi{constructor(e,n,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=IAe++,this.static=!!n,this.ubo=!!r,e instanceof tn?(this.buffer=e,this.buffer.type=ts.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new tn(new Float32Array(1)),this.buffer.type=ts.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,n,r){if(!this.ubo)this.uniforms[e]=new xi(n,r);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,n,r){return new xi(e,n,r)}static uboFrom(e,n){return new xi(e,n??!0,!0)}}class rs{constructor(e,n){this.uniformBindCount=0,this.program=e,n?n instanceof xi?this.uniformGroup=n:this.uniformGroup=new xi(n):this.uniformGroup=new xi({}),this.disposeRunner=new Gr("disposeShader")}checkUniformExists(e,n){if(n.uniforms[e])return!0;for(const r in n.uniforms){const i=n.uniforms[r];if(i.group&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,n,r){const i=mi.from(e,n);return new rs(i,r)}}class gB{constructor(e,n){if(this.vertexSrc=e,this.fragTemplate=n,this.programCache={},this.defaultGroupCache={},!n.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!n.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const r=new Int32Array(e);for(let s=0;s<e;s++)r[s]=s;this.defaultGroupCache[e]=xi.from({uSamplers:r},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new mi(this.vertexSrc,i)}const n={tint:new Float32Array([1,1,1,1]),translationMatrix:new Nt,default:this.defaultGroupCache[e]};return new rs(this.programCache[e],n)}generateSampleSrc(e){let n="";n+=`
`,n+=`
`;for(let r=0;r<e;r++)r>0&&(n+=`
else `),r<e-1&&(n+=`if(vTextureId < ${r}.5)`),n+=`
{`,n+=`
	color = texture2D(uSamplers[${r}], vTextureCoord);`,n+=`
}`;return n+=`
`,n+=`
`,n}}class Kg{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function RAe(){return!Ki.apple.device}function MAe(t){let e=!0;const n=we.ADAPTER.getNavigator();if(Ki.tablet||Ki.phone){if(Ki.apple.device){const r=n.userAgent.match(/OS (\d+)_(\d+)?/);r&&parseInt(r[1],10)<11&&(e=!1)}if(Ki.android.device){const r=n.userAgent.match(/Android\s([0-9.]*)/);r&&parseInt(r[1],10)<7&&(e=!1)}}return e?t:4}class _f{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var FAe=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,DAe=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const zi=class extends _f{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=O2,this.vertexSize=6,this.state=Ls.for2d(),this.size=zi.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??MAe(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??RAe(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return at("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return DAe}static get defaultFragmentTemplate(){return FAe}setShaderGenerator({vertex:t=zi.defaultVertexSrc,fragment:e=zi.defaultFragmentTemplate}={}){this.shaderGenerator=new gB(t,e)}contextChange(){const t=this.renderer.gl;we.PREFER_ENV===ma.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),zi.defaultMaxTextures),this.maxTextures=sB(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=zi,n=this.size/4,r=Math.floor(n/this.maxTextures)+1;for(;t.length<n;)t.push(new Yg);for(;e.length<r;)e.push(new Kg);for(let i=0;i<this.maxTextures;i++)this._tempBoundTextures[i]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,n=zi._textureArrayPool,r=this.renderer.batch,i=this._tempBoundTextures,s=this.renderer.textureGC.count;let o=++He._globalBatch,a=0,l=n[0],c=0;r.copyBoundTextures(i,e);for(let h=0;h<this._bufferSize;++h){const f=t[h];t[h]=null,f._batchEnabled!==o&&(l.count>=e&&(r.boundArray(l,i,o,e),this.buildDrawCalls(l,c,h),c=h,l=n[++a],++o),f._batchEnabled=o,f.touched=s,l.elements[l.count++]=f)}l.count>0&&(r.boundArray(l,i,o,e),this.buildDrawCalls(l,c,this._bufferSize),++a,++o);for(let h=0;h<i.length;h++)i[h]=null;He._globalBatch=o}buildDrawCalls(t,e,n){const{_bufferedElements:r,_attributeBuffer:i,_indexBuffer:s,vertexSize:o}=this,a=zi._drawCallPool;let l=this._dcIndex,c=this._aIndex,h=this._iIndex,f=a[l];f.start=this._iIndex,f.texArray=t;for(let p=e;p<n;++p){const m=r[p],v=m._texture.baseTexture,y=T2[v.alphaMode?1:0][m.blendMode];r[p]=null,e<p&&f.blend!==y&&(f.size=h-f.start,e=p,f=a[++l],f.texArray=t,f.start=h),this.packInterleavedGeometry(m,i,s,c,h),c+=m.vertexData.length/2*o,h+=m.indices.length,f.blend=y}e<n&&(f.size=h-f.start,++l),this._dcIndex=l,this._aIndex=c,this._iIndex=h}bindAndClearTexArray(t){const e=this.renderer.texture;for(let n=0;n<t.count;n++)e.bind(t.elements[n],t.ids[n]),t.elements[n]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:n}=this;zi.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:n}=this.renderer,r=zi._drawCallPool;let i=null;for(let s=0;s<t;s++){const{texArray:o,type:a,size:l,start:c,blend:h}=r[s];i!==o&&(i=o,this.bindAndClearTexArray(o)),this.state.blendMode=h,n.set(this.state),e.drawElements(a,l,e.UNSIGNED_SHORT,c*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),zi.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=Fd(Math.ceil(t/8)),n=t_(e),r=e*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let i=this._aBuffers[r];return i||(this._aBuffers[r]=i=new qg(r*this.vertexSize*4)),i}getIndexBuffer(t){const e=Fd(Math.ceil(t/12)),n=t_(e),r=e*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let i=this._iBuffers[n];return i||(this._iBuffers[n]=i=new Uint16Array(r)),i}packInterleavedGeometry(t,e,n,r,i){const{uint32View:s,float32View:o}=e,a=r/this.vertexSize,l=t.uvs,c=t.indices,h=t.vertexData,f=t._texture.baseTexture._batchLocation,p=Math.min(t.worldAlpha,1),m=p<1&&t._texture.baseTexture.alphaMode?C0(t._tintRGB,p):t._tintRGB+(p*255<<24);for(let v=0;v<h.length;v+=2)o[r++]=h[v],o[r++]=h[v+1],o[r++]=l[v],o[r++]=l[v+1],s[r++]=m,o[r++]=f;for(let v=0;v<c.length;v++)n[i++]=a+c[v]}};let hi=zi;hi.defaultBatchSize=4096;hi.extension={name:"batch",type:be.RendererPlugin};hi._drawCallPool=[];hi._textureArrayPool=[];Ae.add(hi);var LAe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,BAe=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const Fh=class extends rs{constructor(t,e,n){const r=mi.from(t||Fh.defaultVertexSrc,e||Fh.defaultFragmentSrc);super(r,n),this.padding=0,this.resolution=Fh.defaultResolution,this.multisample=Fh.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Ls}apply(t,e,n,r,i){t.applyFilter(this,e,n,r)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return BAe}static get defaultFragmentSrc(){return LAe}};let Cn=Fh;Cn.defaultResolution=1;Cn.defaultMultisample=qt.NONE;class I2{constructor(){this.clearBeforeRender=!0,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,1],this._backgroundColorString="#000000",this.color=this._backgroundColor,this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender,e.color&&(this.color=typeof e.color=="string"?E0(e.color):e.color),this.alpha=e.alpha}get color(){return this._backgroundColor}set color(e){this._backgroundColor=e,this._backgroundColorString=C2(e),dl(e,this._backgroundColorRgba)}get alpha(){return this._backgroundColorRgba[3]}set alpha(e){this._backgroundColorRgba[3]=e}get colorRgba(){return this._backgroundColorRgba}get colorString(){return this._backgroundColorString}destroy(){}}I2.extension={type:[be.RendererSystem,be.CanvasRendererSystem],name:"background"};Ae.add(I2);class R2{constructor(e){this.renderer=e,this.emptyRenderer=new _f(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,n){const{boundTextures:r}=this.renderer.texture;for(let i=n-1;i>=0;--i)e[i]=r[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,n,r,i){const{elements:s,ids:o,count:a}=e;let l=0;for(let c=0;c<a;c++){const h=s[c],f=h._batchLocation;if(f>=0&&f<i&&n[f]===h){o[c]=f;continue}for(;l<i;){const p=n[l];if(p&&p._batchEnabled===r&&p._batchLocation===l){l++;continue}o[c]=l,h._batchLocation=l,n[l]=h;break}}}destroy(){this.renderer=null}}R2.extension={type:be.RendererSystem,name:"batch"};Ae.add(R2);let xR=0;class M2{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=xR++}init(e){if(e.context)this.initFromContext(e.context);else{const n=this.renderer.background.alpha<1,r=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:n,premultipliedAlpha:r,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=xR++,this.renderer.runners.contextChange.emit(e);const n=this.renderer.view;n.addEventListener!==void 0&&(n.addEventListener("webglcontextlost",this.handleContextLost,!1),n.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const n=this.createContext(this.renderer.view,e);this.initFromContext(n)}createContext(e,n){let r;if(we.PREFER_ENV>=ma.WEBGL2&&(r=e.getContext("webgl2",n)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=e.getContext("webgl",n)||e.getContext("experimental-webgl",n),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,n={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,n,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,n,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const n=e.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),n&&!n.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}M2.extension={type:be.RendererSystem,name:"context"};Ae.add(M2);class NAe extends Fc{upload(e,n,r){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Pi.UNPACK);const s=n.realWidth,o=n.realHeight;return r.width===s&&r.height===o?i.texSubImage2D(n.target,0,0,0,s,o,n.format,r.type,this.data):(r.width=s,r.height=o,i.texImage2D(n.target,0,r.internalFormat,s,o,0,n.format,r.type,this.data)),!0}}class Zg{constructor(e,n){this.width=Math.round(e||100),this.height=Math.round(n||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Gr("disposeFramebuffer"),this.multisample=qt.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,n){return this.colorTextures[e]=n||new He(null,{scaleMode:Ps.NEAREST,resolution:1,mipmap:as.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new He(new NAe(null,{width:this.width,height:this.height}),{scaleMode:Ps.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:as.OFF,format:ge.DEPTH_COMPONENT,type:Oe.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,n){if(e=Math.round(e),n=Math.round(n),!(e===this.width&&n===this.height)){this.width=e,this.height=n,this.dirtyId++,this.dirtySize++;for(let r=0;r<this.colorTextures.length;r++){const i=this.colorTextures[r],s=i.resolution;i.setSize(e/s,n/s)}if(this.depthTexture){const r=this.depthTexture.resolution;this.depthTexture.setSize(e/r,n/r)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class F2 extends He{constructor(e={}){if(typeof e=="number"){const n=arguments[0],r=arguments[1],i=arguments[2],s=arguments[3];e={width:n,height:r,scaleMode:i,resolution:s}}e.width=e.width||100,e.height=e.height||100,e.multisample??(e.multisample=qt.NONE),super(null,e),this.mipmap=as.OFF,this.valid=!0,this.clearColor=[0,0,0,0],this.framebuffer=new Zg(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}resize(e,n){this.framebuffer.resize(e*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class mo extends uc{constructor(e){const n=e,r=n.naturalWidth||n.videoWidth||n.width,i=n.naturalHeight||n.videoHeight||n.height;super(r,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,n,r){r===void 0&&!n.startsWith("data:")?e.crossOrigin=iB(n):r!==!1&&(e.crossOrigin=typeof r=="string"?r:"anonymous")}upload(e,n,r,i){const s=e.gl,o=n.realWidth,a=n.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1&&i.buffered.length===0)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Pi.UNPACK),!this.noSubImage&&n.target===s.TEXTURE_2D&&r.width===o&&r.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,n.format,r.type,i):(r.width=o,r.height=a,s.texImage2D(n.target,0,r.internalFormat,n.format,r.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,n=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(n,r),super.update()}dispose(){this.source=null}}class D2 extends mo{constructor(e,n){if(n=n||{},typeof e=="string"){const r=new Image;mo.crossOrigin(r,e,n.crossorigin),r.src=e,e=r}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(n.createBitmap??we.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,this.bitmap=null,this._load=null,n.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((n,r)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.resize(i.width,i.height),this._load=null,this.createBitmap?n(this.process()):n(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{r(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const n=globalThis.createImageBitmap,r=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:r?"cors":"no-cors"}).then(i=>i.blob()).then(i=>n(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Pi.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,n,r){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,n,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,n,r,this.bitmap),!this.preserveBitmap){let i=!0;const s=n._glTextures;for(const o in s){const a=s[o];if(a!==r&&a.dirtyId!==n.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class L2{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,n,r){const i=n.width,s=n.height;if(r){const o=e.width/2/i,a=e.height/2/s,l=e.x/i+o,c=e.y/s+a;r=zt.add(r,zt.NW),this.x0=l+o*zt.uX(r),this.y0=c+a*zt.uY(r),r=zt.add(r,2),this.x1=l+o*zt.uX(r),this.y1=c+a*zt.uY(r),r=zt.add(r,2),this.x2=l+o*zt.uX(r),this.y2=c+a*zt.uY(r),r=zt.add(r,2),this.x3=l+o*zt.uX(r),this.y3=c+a*zt.uY(r)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const wR=new L2;function im(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class xe extends ra{constructor(e,n,r,i,s,o){if(super(),this.noFrame=!1,n||(this.noFrame=!0,n=new qe(0,0,1,1)),e instanceof xe&&(e=e.baseTexture),this.baseTexture=e,this._frame=n,this.trim=i,this.valid=!1,this._uvs=wR,this.uvMatrix=null,this.orig=r||n,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new Ie(o.x,o.y):new Ie(0,0),this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=n:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:n}=this.baseTexture;n!=null&&n.url&&Kn[n.url]&&xe.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,xe.removeFromCache(this),this.textureCacheIds=null}clone(){var i;const e=this._frame.clone(),n=this._frame===this.orig?e:this.orig.clone(),r=new xe(this.baseTexture,!this.noFrame&&e,n,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(r._frame=e),r}updateUvs(){this._uvs===wR&&(this._uvs=new L2),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,n={},r=we.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof He){if(!e.cacheId){const a=(n==null?void 0:n.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${ia()}`,He.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(n==null?void 0:n.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${ia()}`}s=e._pixiId}let o=Kn[s];if(i&&r&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof He)?(n.resolution||(n.resolution=fo(e)),o=new xe(new He(e,n)),o.baseTexture.cacheId=s,He.addToCache(o.baseTexture,s),xe.addToCache(o,s)):!o&&e instanceof He&&(o=new xe(e),xe.addToCache(o,s)),o}static fromURL(e,n){const r=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),i=xe.from(e,Object.assign({resourceOptions:r},n),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,n,r,i){return new xe(He.fromBuffer(e,n,r,i))}static fromLoader(e,n,r,i){const s=new He(e,Object.assign({scaleMode:He.defaultOptions.scaleMode,resolution:fo(n)},i)),{resource:o}=s;o instanceof D2&&(o.url=n);const a=new xe(s);return r||(r=n),He.addToCache(a.baseTexture,r),xe.addToCache(a,r),r!==n&&(He.addToCache(a.baseTexture,n),xe.addToCache(a,n)),a.baseTexture.valid?Promise.resolve(a):new Promise(l=>{a.baseTexture.once("loaded",()=>l(a))})}static addToCache(e,n){n&&(e.textureCacheIds.includes(n)||e.textureCacheIds.push(n),Kn[n]&&Kn[n]!==e&&console.warn(`Texture added to the cache with an id [${n}] that already had an entry`),Kn[n]=e)}static removeFromCache(e){if(typeof e=="string"){const n=Kn[e];if(n){const r=n.textureCacheIds.indexOf(e);return r>-1&&n.textureCacheIds.splice(r,1),delete Kn[e],n}}else if(e!=null&&e.textureCacheIds){for(let n=0;n<e.textureCacheIds.length;++n)Kn[e.textureCacheIds[n]]===e&&delete Kn[e.textureCacheIds[n]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:n,y:r,width:i,height:s}=e,o=n+i>this.baseTexture.width,a=r+s>this.baseTexture.height;if(o||a){const l=o&&a?"and":"or",c=`X: ${n} + ${i} = ${n+i} > ${this.baseTexture.width}`,h=`Y: ${r} + ${s} = ${r+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${c} ${l} ${h}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return xe._EMPTY||(xe._EMPTY=new xe(new He),im(xe._EMPTY),im(xe._EMPTY.baseTexture)),xe._EMPTY}static get WHITE(){if(!xe._WHITE){const e=we.ADAPTER.createCanvas(16,16),n=e.getContext("2d");e.width=16,e.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),xe._WHITE=new xe(He.from(e)),im(xe._WHITE),im(xe._WHITE.baseTexture)}return xe._WHITE}}class go extends xe{constructor(e,n){super(e,n),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,n,r=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(n*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,r&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:n}=this;n.resolution!==e&&(n.setResolution(e),this.resize(n.width,n.height,!1))}static create(e){return new go(new F2(e))}}class B2{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,n,r=qt.NONE){const i=new F2(Object.assign({width:e,height:n,resolution:1,multisample:r},this.textureOptions));return new go(i)}getOptimalTexture(e,n,r=1,i=qt.NONE){let s;e=Math.ceil(e*r-1e-6),n=Math.ceil(n*r-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||n!==this._pixelsHeight?(e=Fd(e),n=Fd(n),s=((e&65535)<<16|n&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,n,i)),o.filterPoolKey=s,o.setResolution(r),o}getFilterTexture(e,n,r){const i=this.getOptimalTexture(e.width,e.height,n||e.resolution,r||qt.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const n=e.filterPoolKey;e.filterFrame=null,this.texturePool[n].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const n in this.texturePool){const r=this.texturePool[n];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const n in this.texturePool){if(!(Number(n)<0))continue;const r=this.texturePool[n];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[n]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}B2.SCREEN_KEY=-1;class vB extends po{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class N2 extends po{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new tn(this.vertices),this.uvBuffer=new tn(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,n){let r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+n.width/e.width,this.uvs[3]=i,this.uvs[4]=r+n.width/e.width,this.uvs[5]=i+n.height/e.height,this.uvs[6]=r,this.uvs[7]=i+n.height/e.height,r=n.x,i=n.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+n.width,this.vertices[3]=i,this.vertices[4]=r+n.width,this.vertices[5]=i+n.height,this.vertices[6]=r,this.vertices[7]=i+n.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class yB{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=qt.NONE,this.sourceFrame=new qe,this.destinationFrame=new qe,this.bindingSourceFrame=new qe,this.bindingDestinationFrame=new qe,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const sm=[new Ie,new Ie,new Ie,new Ie],yb=new Nt;class $2{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new B2,this.statePool=[],this.quad=new vB,this.quadUv=new N2,this.tempRect=new qe,this.activeState={},this.globalUniforms=new xi({outputFrame:new qe,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,n){const r=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new yB,o=this.renderer.renderTexture;let a=n[0].resolution,l=n[0].multisample,c=n[0].padding,h=n[0].autoFit,f=n[0].legacy??!0;for(let v=1;v<n.length;v++){const y=n[v];a=Math.min(a,y.resolution),l=Math.min(l,y.multisample),c=this.useMaxPadding?Math.max(c,y.padding):c+y.padding,h=h&&y.autoFit,f=f||(y.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=a,s.multisample=l,s.legacy=f,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(c);const p=this.tempRect.copyFrom(o.sourceFrame);r.projection.transform&&this.transformAABB(yb.copyFrom(r.projection.transform).invert(),p),h?(s.sourceFrame.fit(p),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(p)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:r.resolution,o.sourceFrame,o.destinationFrame,r.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,a,l),s.filters=n,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const m=this.tempRect;m.x=0,m.y=0,m.width=s.sourceFrame.width,m.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=r.projection.transform,r.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,m),r.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,n=e.pop(),r=n.filters;this.activeState=n;const i=this.globalUniforms.uniforms;i.outputFrame=n.sourceFrame,i.resolution=n.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=n.destinationFrame.width,s[1]=n.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*n.resolution),o[1]=Math.round(s[1]*n.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=n.sourceFrame.width*s[2]-.5*o[2],a[3]=n.sourceFrame.height*s[3]-.5*o[3],n.legacy){const c=i.filterArea;c[0]=n.destinationFrame.width,c[1]=n.destinationFrame.height,c[2]=n.sourceFrame.x,c[3]=n.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const l=e[e.length-1];if(this.renderer.framebuffer.blit(),r.length===1)r[0].apply(this,n.renderTexture,l.renderTexture,Vi.BLEND,n),this.returnFilterTexture(n.renderTexture);else{let c=n.renderTexture,h=this.getOptimalFilterTexture(c.width,c.height,n.resolution);h.filterFrame=c.filterFrame;let f=0;for(f=0;f<r.length-1;++f){f===1&&n.multisample>1&&(h=this.getOptimalFilterTexture(c.width,c.height,n.resolution),h.filterFrame=c.filterFrame),r[f].apply(this,c,h,Vi.CLEAR,n);const p=c;c=h,h=p}r[f].apply(this,c,l.renderTexture,Vi.BLEND,n),f>1&&n.multisample>1&&this.returnFilterTexture(n.renderTexture),this.returnFilterTexture(c),this.returnFilterTexture(h)}n.clear(),this.statePool.push(n)}bindAndClear(e,n=Vi.CLEAR){const{renderTexture:r,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e!=null&&e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,r.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(n===Vi.CLEAR||n===Vi.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,n,r,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(r,i),e.uniforms.uSampler=n,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(n._frame,n.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(Yi.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(Yi.TRIANGLE_STRIP))}calculateSpriteMatrix(e,n){const{sourceFrame:r,destinationFrame:i}=this.activeState,{orig:s}=n._texture,o=e.set(i.width,0,0,i.height,r.x,r.y),a=n.worldTransform.copyTo(Nt.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(n.anchor.x,n.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,n,r=1,i=qt.NONE){return this.texturePool.getOptimalTexture(e,n,r,i)}getFilterTexture(e,n,r){if(typeof e=="number"){const s=e;e=n,n=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,n||e.resolution,r||qt.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,n){const r=sm[0],i=sm[1],s=sm[2],o=sm[3];r.set(n.left,n.top),i.set(n.left,n.bottom),s.set(n.right,n.top),o.set(n.right,n.bottom),e.apply(r,r),e.apply(i,i),e.apply(s,s),e.apply(o,o);const a=Math.min(r.x,i.x,s.x,o.x),l=Math.min(r.y,i.y,s.y,o.y),c=Math.max(r.x,i.x,s.x,o.x),h=Math.max(r.y,i.y,s.y,o.y);n.x=a,n.y=l,n.width=c-a,n.height=h-l}roundFrame(e,n,r,i,s){if(!(e.width<=0||e.height<=0||r.width<=0||r.height<=0)){if(s){const{a:o,b:a,c:l,d:c}=s;if((Math.abs(a)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(c)>1e-4))return}s=s?yb.copyFrom(s):yb.identity(),s.translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(n),this.transformAABB(s.invert(),e)}}}$2.extension={type:be.RendererSystem,name:"filter"};Ae.add($2);class bB{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=qt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const $Ae=new qe;class U2{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new Zg(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new qe,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let n=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;we.PREFER_ENV===ma.WEBGL_LEGACY&&(n=null,r=null),n?e.drawBuffers=i=>n.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,n,r=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==r&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=r),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,r)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),n){const o=n.width>>r,a=n.height>>r,l=o/n.width;this.setViewport(n.x*l,n.y*l,o,a)}else{const o=e.width>>r,a=e.height>>r;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),n?this.setViewport(n.x,n.y,n.width,n.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,n,r,i){const s=this.viewport;e=Math.round(e),n=Math.round(n),r=Math.round(r),i=Math.round(i),(s.width!==r||s.height!==i||s.x!==e||s.y!==n)&&(s.x=e,s.y=n,s.width=r,s.height=i,this.gl.viewport(e,n,r,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,n,r,i,s=jg.COLOR|jg.DEPTH){const{gl:o}=this;o.clearColor(e,n,r,i),o.clear(s)}initFramebuffer(e){const{gl:n}=this,r=new bB(n.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r}resizeFramebuffer(e){const{gl:n}=this,r=e.glFramebuffers[this.CONTEXT_UID];r.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,r.stencil),r.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height));const i=e.colorTextures;let s=i.length;n.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],l=a.parentTextureArray||a;this.renderer.texture.bind(l,0),o===0&&r.msaaBuffer&&(n.bindRenderbuffer(n.RENDERBUFFER,r.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,n){const{gl:r}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;r.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||r.createRenderbuffer():i.msaaBuffer&&(r.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let l=0;l<o;l++){const c=s[l],h=c.parentTextureArray||c;this.renderer.texture.bind(h,0),l===0&&i.msaaBuffer?(r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,h._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,i.msaaBuffer)):(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+l,c.target,h._glTextures[this.CONTEXT_UID].texture,n),a.push(r.COLOR_ATTACHMENT0+l))}if(a.length>1&&r.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const c=e.depthTexture;this.renderer.texture.bind(c,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,c._glTextures[this.CONTEXT_UID].texture,n)}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.stencil),i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,i.stencil)):i.stencil&&(r.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:n}=this;let r=qt.NONE;if(e<=1||n===null)return r;for(let i=0;i<n.length;i++)if(n[i]<=e){r=n[i];break}return r===1&&(r=qt.NONE),r}blit(e,n,r){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const l=i.glFramebuffers[a];if(!l)return;if(!e){if(!l.msaaBuffer)return;const h=i.colorTextures[0];if(!h)return;l.blitFramebuffer||(l.blitFramebuffer=new Zg(i.width,i.height),l.blitFramebuffer.addColorTexture(0,h)),e=l.blitFramebuffer,e.colorTextures[0]!==h&&(e.colorTextures[0]=h,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}n||(n=$Ae,n.width=i.width,n.height=i.height),r||(r=n);const c=n.width===r.width&&n.height===r.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,l.framebuffer),o.blitFramebuffer(n.left,n.top,n.right,n.bottom,r.left,r.top,r.right,r.bottom,o.COLOR_BUFFER_BIT,c?o.NEAREST:o.LINEAR)}disposeFramebuffer(e,n){const r=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!r)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),n||(i.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&i.deleteRenderbuffer(r.msaaBuffer),r.stencil&&i.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&r.blitFramebuffer.dispose()}disposeAll(e){const n=this.managedFramebuffers;this.managedFramebuffers=[];for(let r=0;r<n.length;r++)this.disposeFramebuffer(n[r],e)}forceStencil(){const e=this.current;if(!e)return;const n=e.glFramebuffers[this.CONTEXT_UID];if(!n||n.stencil)return;e.stencil=!0;const r=e.width,i=e.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),n.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,n.multisample,s.DEPTH24_STENCIL8,r,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,r,i),n.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new qe}destroy(){this.renderer=null}}U2.extension={type:be.RendererSystem,name:"framebuffer"};Ae.add(U2);const bb={5126:4,5123:2,5121:1};class z2{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,n=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,n.webGLVersion!==2){let r=this.renderer.context.extensions.vertexArrayObject;we.PREFER_ENV===ma.WEBGL_LEGACY&&(r=null),r?(e.createVertexArray=()=>r.createVertexArrayOES(),e.bindVertexArray=i=>r.bindVertexArrayOES(i),e.deleteVertexArray=i=>r.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(n.webGLVersion!==2){const r=e.getExtension("ANGLE_instanced_arrays");r?(e.vertexAttribDivisor=(i,s)=>r.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,a,l)=>r.drawElementsInstancedANGLE(i,s,o,a,l),e.drawArraysInstanced=(i,s,o,a)=>r.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=n.webGLVersion===2||!!n.extensions.uint32ElementIndex}bind(e,n){n=n||this.renderer.shader.shader;const{gl:r}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[n.program.id]||this.initGeometryVao(e,n,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?r.bindVertexArray(o):this.activateVao(e,n.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,n=this.renderer.buffer;for(let r=0;r<e.buffers.length;r++){const i=e.buffers[r];n.update(i)}}checkCompatibility(e,n){const r=e.attributes,i=n.attributeData;for(const s in i)if(!r[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,n){const r=e.attributes,i=n.attributeData,s=["g",e.id];for(const o in r)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,n,r=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=n.program;a.glPrograms[s]||this.renderer.shader.generateProgram(n),this.checkCompatibility(e,a);const l=this.getSignature(e,a),c=e.glVertexArrayObjects[this.CONTEXT_UID];let h=c[l];if(h)return c[a.id]=h,h;const f=e.buffers,p=e.attributes,m={},v={};for(const y in f)m[y]=0,v[y]=0;for(const y in p)!p[y].size&&a.attributeData[y]?p[y].size=a.attributeData[y].size:p[y].size||console.warn(`PIXI Geometry attribute '${y}' size cannot be determined (likely the bound shader does not have the attribute)`),m[p[y].buffer]+=p[y].size*bb[p[y].type];for(const y in p){const x=p[y],b=x.size;x.stride===void 0&&(m[x.buffer]===b*bb[x.type]?x.stride=0:x.stride=m[x.buffer]),x.start===void 0&&(x.start=v[x.buffer],v[x.buffer]+=b*bb[x.type])}h=i.createVertexArray(),i.bindVertexArray(h);for(let y=0;y<f.length;y++){const x=f[y];o.bind(x),r&&x._glBuffers[s].refCount++}return this.activateVao(e,a),c[a.id]=h,c[l]=h,i.bindVertexArray(null),o.unbind(ts.ARRAY_BUFFER),h}disposeGeometry(e,n){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const r=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!r){if(o)for(let l=0;l<s.length;l++){const c=s[l]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!n&&o.dispose(s[l],n))}if(!n){for(const l in r)if(l[0]==="g"){const c=r[l];this._activeVao===c&&this.unbind(),i.deleteVertexArray(c)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const n=Object.keys(this.managedGeometries);for(let r=0;r<n.length;r++)this.disposeGeometry(this.managedGeometries[n[r]],e)}activateVao(e,n){const r=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let l=null;for(const c in a){const h=a[c],f=o[h.buffer],p=f._glBuffers[i];if(n.attributeData[c]){l!==p&&(s.bind(f),l=p);const m=n.attributeData[c].location;if(r.enableVertexAttribArray(m),r.vertexAttribPointer(m,h.size,h.type||r.FLOAT,h.normalized,h.stride,h.start),h.instance)if(this.hasInstance)r.vertexAttribDivisor(m,h.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,n,r,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,l=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,n||o.indexBuffer.data.length,l,(r||0)*a,i||1):s.drawElements(e,n||o.indexBuffer.data.length,l,(r||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,r,n||o.getSize(),i||1):s.drawArrays(e,r,n||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}z2.extension={type:be.RendererSystem,name:"geometry"};Ae.add(z2);const _R=new Nt;class P0{constructor(e,n){this._texture=e,this.mapCoord=new Nt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof n>"u"?.5:n,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,n){n===void 0&&(n=e);const r=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];n[i]=s*r.a+o*r.c+r.tx,n[i+1]=s*r.b+o*r.d+r.ty}return n}update(e){const n=this._texture;if(!n||!n.valid||!e&&this._textureID===n._updateID)return!1;this._textureID=n._updateID,this._updateID++;const r=n._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const i=n.orig,s=n.trim;s&&(_R.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(_R));const o=n.baseTexture,a=this.uClampFrame,l=this.clampMargin/o.resolution,c=this.clampOffset;return a[0]=(n._frame.x+l+c)/o.width,a[1]=(n._frame.y+l+c)/o.height,a[2]=(n._frame.x+n._frame.width-l+c)/o.width,a[3]=(n._frame.y+n._frame.height-l+c)/o.height,this.uClampOffset[0]=c/o.realWidth,this.uClampOffset[1]=c/o.realHeight,this.isSimple=n._frame.width===o.width&&n._frame.height===o.height&&n.rotate===0,!0}}var UAe=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,zAe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class xB extends Cn{constructor(e,n,r){let i=null;typeof e!="string"&&n===void 0&&r===void 0&&(i=e,e=void 0,n=void 0,r=void 0),super(e||zAe,n||UAe,r),this.maskSprite=i,this.maskMatrix=new Nt}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,n,r,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new P0(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,n,r,i))}}class wB{constructor(e=null){this.type=cn.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Cn.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=cn.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class H2{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,n){let r=n;if(!r.isMaskData){const s=this.maskDataPool.pop()||new wB;s.pooled=!0,s.maskObject=n,r=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(i),r._colorMask=i?i._colorMask:15,r.autoDetect&&this.detect(r),r._target=e,r.type!==cn.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case cn.SCISSOR:this.renderer.scissor.push(r);break;case cn.STENCIL:this.renderer.stencil.push(r);break;case cn.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case cn.COLOR:this.pushColorMask(r);break}r.type===cn.SPRITE&&this.maskStack.push(r)}pop(e){const n=this.maskStack.pop();if(!(!n||n._target!==e)){if(n.enabled)switch(n.type){case cn.SCISSOR:this.renderer.scissor.pop(n);break;case cn.STENCIL:this.renderer.stencil.pop(n.maskObject);break;case cn.SPRITE:this.popSpriteMask(n);break;case cn.COLOR:this.popColorMask(n);break}if(n.reset(),n.pooled&&this.maskDataPool.push(n),this.maskStack.length!==0){const r=this.maskStack[this.maskStack.length-1];r.type===cn.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}}detect(e){const n=e.maskObject;n?n.isSprite?e.type=cn.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=cn.SCISSOR:e.type=cn.STENCIL:e.type=cn.COLOR}pushSpriteMask(e){const{maskObject:n}=e,r=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new xB]));const s=this.renderer,o=s.renderTexture;let a,l;if(o.current){const h=o.current;a=e.resolution||h.resolution,l=e.multisample??h.multisample}else a=e.resolution||s.resolution,l=e.multisample??s.multisample;i[0].resolution=a,i[0].multisample=l,i[0].maskSprite=n;const c=r.filterArea;r.filterArea=n.getBounds(!0),s.filter.push(r,i),r.filterArea=c,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const n=e._colorMask,r=e._colorMask=n&e.colorMask;r!==n&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}popColorMask(e){const n=e._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==n&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}destroy(){this.renderer=null}}H2.extension={type:be.RendererSystem,name:"mask"};Ae.add(H2);class _B{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:n}=this.renderer,r=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==r&&(i===0?n.disable(this.glConst):(n.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const SR=new Nt,ER=[],Nm=class extends _B{constructor(t){super(t),this.glConst=we.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:n}=t,{renderer:r}=this,i=r.renderTexture,s=n.getBounds(!0,ER.pop()??new qe);this.roundFrameToPixels(s,i.current?i.current.resolution:r.resolution,i.sourceFrame,i.destinationFrame,r.projection.transform),e&&s.fit(e),t._scissorRectLocal=s}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:n,c:r,d:i}=t;return(Math.abs(n)>1e-4||Math.abs(r)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||Nm.isMatrixRotated(e.worldTransform)||Nm.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const n=t._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(t,e,n,r,i){Nm.isMatrixRotated(i)||(i=i?SR.copyFrom(i):SR.identity(),i.translate(-n.x,-n.y).scale(r.width/n.width,r.height/n.height).translate(r.x,r.y),this.renderer.filter.transformAABB(i,t),t.fit(r),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&ER.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};let j2=Nm;j2.extension={type:be.RendererSystem,name:"scissor"};Ae.add(j2);class W2 extends _B{constructor(e){super(e),this.glConst=we.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const n=e.maskObject,{gl:r}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,i,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,s!==0&&(e._colorMask=s,r.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const n=this.renderer.gl;if(this.getStackLength()===0)n.disable(n.STENCIL_TEST);else{const r=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=r?r._colorMask:15;i!==0&&(r._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilOp(n.KEEP,n.KEEP,n.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(r._colorMask=i,n.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}W2.extension={type:be.RendererSystem,name:"stencil"};Ae.add(W2);class G2{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return at("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return at("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return at("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(e){for(const n in e)this.plugins[n]=new e[n](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}G2.extension={type:[be.RendererSystem,be.CanvasRendererSystem],name:"_plugin"};Ae.add(G2);class V2{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Nt,this.transform=null}update(e,n,r,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=n||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,n,r,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/n.width*2,s.d=o*(1/n.height*2),s.tx=-1-n.x*s.a,s.ty=-o-n.y*s.d}setTransform(e){}destroy(){this.renderer=null}}V2.extension={type:be.RendererSystem,name:"projection"};Ae.add(V2);const HAe=new wf;class q2{constructor(e){this.renderer=e,this._tempMatrix=new Nt}generateTexture(e,n){const{region:r,...i}=n||{},s=r||e.getLocalBounds(null,!0);s.width===0&&(s.width=1),s.height===0&&(s.height=1);const o=go.create({width:s.width,height:s.height,...i});this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const a=e.transform;return e.transform=HAe,this.renderer.render(e,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=a,o}destroy(){}}q2.extension={type:[be.RendererSystem,be.CanvasRendererSystem],name:"textureGenerator"};Ae.add(q2);const ka=new qe,bh=new qe;class X2{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new qe,this.destinationFrame=new qe,this.viewportFrame=new qe}bind(e=null,n,r){const i=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,n||(ka.width=e.frame.width,ka.height=e.frame.height,n=ka),r||(bh.x=e.frame.x,bh.y=e.frame.y,bh.width=n.width,bh.height=n.height,r=bh),o=s.framebuffer):(a=i.resolution,n||(ka.width=i._view.screen.width,ka.height=i._view.screen.height,n=ka),r||(r=ka,r.width=n.width,r.height=n.height));const l=this.viewportFrame;l.x=r.x*a,l.y=r.y*a,l.width=r.width*a,l.height=r.height*a,e||(l.y=i.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(o,l),this.renderer.projection.update(r,n,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(n),this.destinationFrame.copyFrom(r)}clear(e,n){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.renderer.background.colorRgba;const r=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer._view.screen,s=r.width!==i.width||r.height!==i.height;if(s){let{x:o,y:a,width:l,height:c}=this.viewportFrame;o=Math.round(o),a=Math.round(a),l=Math.round(l),c=Math.round(c),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(o,a,l,c)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],n),s&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}X2.extension={type:be.RendererSystem,name:"renderTexture"};Ae.add(X2);class jAe{}class SB{constructor(e,n){this.program=e,this.uniformData=n,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function WAe(t,e){const n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=pB(e,s.type),a={type:o,name:s.name,size:fB(o),location:e.getAttribLocation(t,s.name)};n[s.name]=a}return n}function GAe(t,e){const n={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),l=pB(e,s.type);n[o]={name:o,index:i,type:l,size:s.size,isArray:a,value:cB(l,s.size)}}return n}function EB(t,e){var l;const n=gR(t,t.VERTEX_SHADER,e.vertexSrc),r=gR(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,n),t.attachShader(i,r);const s=(l=e.extra)==null?void 0:l.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||PAe(t,i,n,r),e.attributeData=WAe(i,t),e.uniformData=GAe(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const c=Object.keys(e.attributeData);c.sort((h,f)=>h>f?1:-1);for(let h=0;h<c.length;h++)e.attributeData[c[h]].location=h,t.bindAttribLocation(i,h,c[h]);t.linkProgram(i)}t.deleteShader(n),t.deleteShader(r);const o={};for(const c in e.uniformData){const h=e.uniformData[c];o[c]={location:t.getUniformLocation(i,c),value:cB(h.type,h.size)}}return new SB(i,o)}function VAe(t,e,n,r,i){n.buffer.update(i)}const qAe={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},CB={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function TB(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let n=0,r=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(n=CB[o.data.type],o.data.size>1&&(n=Math.max(n,16)*o.data.size),o.dataLen=n,r%n!==0&&r<16){const a=r%n%16;r+=a,i+=a}r+n>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=n,r=n):(o.offset=i,r+=n,i+=n)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function AB(t,e){const n=[];for(const r in t)e[r]&&n.push(e[r]);return n.sort((r,i)=>r.index-i.index),n}function PB(t,e){if(!t.autoManage)return{size:0,syncFunc:VAe};const n=AB(t.uniforms,e),{uboElements:r,size:i}=TB(n),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<r.length;o++){const a=r[o],l=t.uniforms[a.data.name],c=a.data.name;let h=!1;for(let f=0;f<el.length;f++){const p=el[f];if(p.codeUbo&&p.test(a.data,l)){s.push(`offset = ${a.offset/4};`,el[f].codeUbo(a.data.name,l)),h=!0;break}}if(!h)if(a.data.size>1){const f=fB(a.data.type),p=Math.max(CB[a.data.type]/16,1),m=f/p,v=(4-m%4)%4;s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*p}; i++)
                {
                    for(var j = 0; j < ${m}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${v};
                }

                `)}else{const f=qAe[a.data.type];s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${a.offset/4};
                ${f};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let XAe=0;const om={textureCount:0,uboCount:0};class Y2{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=XAe++}systemCheck(){if(!mB())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,n){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const r=e.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),n||(om.textureCount=0,om.uboCount=0,this.syncUniformGroup(e.uniformGroup,om)),i}setUniforms(e){const n=this.shader.program,r=n.glPrograms[this.renderer.CONTEXT_UID];n.syncUniforms(r.uniformData,e,this.renderer)}syncUniformGroup(e,n){const r=this.getGlProgram();(!e.static||e.dirtyId!==r.uniformDirtyGroups[e.id])&&(r.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,n))}syncUniforms(e,n,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(n.uniformData,e.uniforms,this.renderer,r)}createSyncGroups(e){const n=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[n]||(this.cache[n]=TAe(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[n],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,n){const r=this.getGlProgram();if(!e.static||e.dirtyId!==0||!r.uniformGroups[e.id]){e.dirtyId=0;const i=r.uniformGroups[e.id]||this.createSyncBufferGroup(e,r,n);e.buffer.update(),i(r.uniformData,e.uniforms,this.renderer,om,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,r.uniformBufferBindings[n])}createSyncBufferGroup(e,n,r){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(n.program,r);n.uniformBufferBindings[r]=this.shader.uniformBindCount,i.uniformBlockBinding(n.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=PB(e,this.shader.program.uniformData)),e.autoManage){const l=new Float32Array(a.size/4);e.buffer.update(l)}return n.uniformGroups[e.id]=a.syncFunc,n.uniformGroups[e.id]}getSignature(e,n,r){const i=e.uniforms,s=[`${r}-`];for(const o in i)s.push(o),n[o]&&s.push(n[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const n=this.gl,r=e.program,i=EB(n,r);return r.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}Y2.extension={type:be.RendererSystem,name:"shader"};Ae.add(Y2);class K2{constructor(e){this.renderer=e}run(e){const n=this.renderer;n.emitWithCustomOptions(n.runners.init,e),e.hello&&console.log(`PixiJS 7.1.4 - ${n.rendererLogId} - https://pixijs.com`),n.resize(this.renderer.screen.width,this.renderer.screen.height)}destroy(){}}K2.extension={type:[be.RendererSystem,be.CanvasRendererSystem],name:"startup"};Ae.add(K2);function YAe(t,e=[]){return e[Me.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.ADD]=[t.ONE,t.ONE],e[Me.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.NONE]=[0,0],e[Me.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[Me.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[Me.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[Me.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Me.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[Me.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[Me.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[Me.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[Me.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Me.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const KAe=0,ZAe=1,QAe=2,JAe=3,ePe=4,tPe=5,o_=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Me.NONE,this._blendEq=!1,this.map=[],this.map[KAe]=this.setBlend,this.map[ZAe]=this.setOffset,this.map[QAe]=this.setCullFace,this.map[JAe]=this.setDepthTest,this.map[ePe]=this.setFrontFace,this.map[tPe]=this.setDepthMask,this.checks=[],this.defaultState=new Ls,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=YAe(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,n=0;for(;e;)e&1&&this.map[n].call(this,!!(t.data&1<<n)),e=e>>1,n++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(o_.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(o_.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],n=this.gl;e.length===2?n.blendFunc(e[0],e[1]):n.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,n.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const n=this.checks.indexOf(t);e&&n===-1?this.checks.push(t):!e&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let Z2=o_;Z2.extension={type:be.RendererSystem,name:"state"};Ae.add(Z2);class kB extends ra{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const n=(e.priority??[]).filter(i=>e.systems[i]),r=[...n,...Object.keys(e.systems).filter(i=>!n.includes(i))];for(const i of r)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(n=>{this.runners[n]=new Gr(n)})}addSystem(e,n){const r=new e(this);if(this[n])throw new Error(`Whoops! The name "${n}" is already in use`);this[n]=r,this._systemsHash[n]=r;for(const i in this.runners)this.runners[i].add(r);return this}emitWithCustomOptions(e,n){const r=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=r.find(o=>this._systemsHash[o]===i);i[e.name](n[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const $m=class{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=$m.defaultMaxIdle,this.checkCountMax=$m.defaultCheckCountMax,this.mode=$m.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==x0.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let n=!1;for(let r=0;r<e.length;r++){const i=e[r];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[r]=null,n=!0)}if(n){let r=0;for(let i=0;i<e.length;i++)e[i]!==null&&(e[r++]=e[i]);e.length=r}}unload(t){const e=this.renderer.texture,n=t._texture;n&&!n.framebuffer&&e.destroyTexture(n);for(let r=t.children.length-1;r>=0;r--)this.unload(t.children[r])}destroy(){this.renderer=null}};let di=$m;di.defaultMode=x0.AUTO;di.defaultMaxIdle=60*60;di.defaultCheckCountMax=60*10;di.extension={type:be.RendererSystem,name:"textureGC"};Ae.add(di);class Um{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Oe.UNSIGNED_BYTE,this.internalFormat=ge.RGBA,this.samplerType=0}}function nPe(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[Oe.UNSIGNED_BYTE]:{[ge.RGBA]:t.RGBA8,[ge.RGB]:t.RGB8,[ge.RG]:t.RG8,[ge.RED]:t.R8,[ge.RGBA_INTEGER]:t.RGBA8UI,[ge.RGB_INTEGER]:t.RGB8UI,[ge.RG_INTEGER]:t.RG8UI,[ge.RED_INTEGER]:t.R8UI,[ge.ALPHA]:t.ALPHA,[ge.LUMINANCE]:t.LUMINANCE,[ge.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[Oe.BYTE]:{[ge.RGBA]:t.RGBA8_SNORM,[ge.RGB]:t.RGB8_SNORM,[ge.RG]:t.RG8_SNORM,[ge.RED]:t.R8_SNORM,[ge.RGBA_INTEGER]:t.RGBA8I,[ge.RGB_INTEGER]:t.RGB8I,[ge.RG_INTEGER]:t.RG8I,[ge.RED_INTEGER]:t.R8I},[Oe.UNSIGNED_SHORT]:{[ge.RGBA_INTEGER]:t.RGBA16UI,[ge.RGB_INTEGER]:t.RGB16UI,[ge.RG_INTEGER]:t.RG16UI,[ge.RED_INTEGER]:t.R16UI,[ge.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[Oe.SHORT]:{[ge.RGBA_INTEGER]:t.RGBA16I,[ge.RGB_INTEGER]:t.RGB16I,[ge.RG_INTEGER]:t.RG16I,[ge.RED_INTEGER]:t.R16I},[Oe.UNSIGNED_INT]:{[ge.RGBA_INTEGER]:t.RGBA32UI,[ge.RGB_INTEGER]:t.RGB32UI,[ge.RG_INTEGER]:t.RG32UI,[ge.RED_INTEGER]:t.R32UI,[ge.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[Oe.INT]:{[ge.RGBA_INTEGER]:t.RGBA32I,[ge.RGB_INTEGER]:t.RGB32I,[ge.RG_INTEGER]:t.RG32I,[ge.RED_INTEGER]:t.R32I},[Oe.FLOAT]:{[ge.RGBA]:t.RGBA32F,[ge.RGB]:t.RGB32F,[ge.RG]:t.RG32F,[ge.RED]:t.R32F,[ge.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[Oe.HALF_FLOAT]:{[ge.RGBA]:t.RGBA16F,[ge.RGB]:t.RGB16F,[ge.RG]:t.RG16F,[ge.RED]:t.R16F},[Oe.UNSIGNED_SHORT_5_6_5]:{[ge.RGB]:t.RGB565},[Oe.UNSIGNED_SHORT_4_4_4_4]:{[ge.RGBA]:t.RGBA4},[Oe.UNSIGNED_SHORT_5_5_5_1]:{[ge.RGBA]:t.RGB5_A1},[Oe.UNSIGNED_INT_2_10_10_10_REV]:{[ge.RGBA]:t.RGB10_A2,[ge.RGBA_INTEGER]:t.RGB10_A2UI},[Oe.UNSIGNED_INT_10F_11F_11F_REV]:{[ge.RGB]:t.R11F_G11F_B10F},[Oe.UNSIGNED_INT_5_9_9_9_REV]:{[ge.RGB]:t.RGB9_E5},[Oe.UNSIGNED_INT_24_8]:{[ge.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[Oe.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[ge.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[Oe.UNSIGNED_BYTE]:{[ge.RGBA]:t.RGBA,[ge.RGB]:t.RGB,[ge.ALPHA]:t.ALPHA,[ge.LUMINANCE]:t.LUMINANCE,[ge.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[Oe.UNSIGNED_SHORT_5_6_5]:{[ge.RGB]:t.RGB},[Oe.UNSIGNED_SHORT_4_4_4_4]:{[ge.RGBA]:t.RGBA},[Oe.UNSIGNED_SHORT_5_5_5_1]:{[ge.RGBA]:t.RGBA}},e}class Q2{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new He,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=nPe(e);const n=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=n;for(let i=0;i<n;i++)this.boundTextures[i]=null;this.emptyTextures={};const r=new Um(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Um(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,n=0){const{gl:r}=this;if(e=e==null?void 0:e.castToBaseTexture(),e!=null&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[n]!==e&&(this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),r.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[n]=e}else this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[n]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:n,boundTextures:r}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<r.length;i++)r[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<r.length;i++)r[i]===e&&(this.currentLocation!==i&&(n.activeTexture(n.TEXTURE0+i),this.currentLocation=i),n.bindTexture(e.target,this.emptyTextures[e.target].texture),r[i]=null)}ensureSamplerType(e){const{boundTextures:n,hasIntegerTextures:r,CONTEXT_UID:i}=this;if(r)for(let s=e-1;s>=0;--s){const o=n[s];o&&o._glTextures[i].samplerType!==Wg.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const n=new Um(this.gl.createTexture());return n.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=n,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),n}initTextureType(e,n){var r;n.internalFormat=((r=this.internalFormats[e.type])==null?void 0:r[e.format])??e.format,this.webGLVersion===2&&e.type===Oe.HALF_FLOAT?n.type=this.gl.HALF_FLOAT:n.type=e.type}updateTexture(e){var i;const n=e._glTextures[this.CONTEXT_UID];if(!n)return;const r=this.renderer;if(this.initTextureType(e,n),(i=e.resource)!=null&&i.upload(r,e,n))n.samplerType!==Wg.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=r.gl;(n.width!==s||n.height!==o||n.dirtyId<0)&&(n.width=s,n.height=o,a.texImage2D(e.target,0,n.internalFormat,s,o,0,e.format,n.type,null))}e.dirtyStyleId!==n.dirtyStyleId&&this.updateTextureStyle(e),n.dirtyId=e.dirtyId}destroyTexture(e,n){const{gl:r}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!n)){const i=this.managedTextures.indexOf(e);i!==-1&&Qa(this.managedTextures,i,1)}}updateTextureStyle(e){var r;const n=e._glTextures[this.CONTEXT_UID];n&&((e.mipmap===as.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?n.mipmap=!1:n.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?n.wrapMode=Rs.CLAMP:n.wrapMode=e.wrapMode,(r=e.resource)!=null&&r.style(this.renderer,e,n)||this.setStyle(e,n),n.dirtyStyleId=e.dirtyStyleId)}setStyle(e,n){const r=this.gl;if(n.mipmap&&e.mipmap!==as.ON_MANUAL&&r.generateMipmap(e.target),r.texParameteri(e.target,r.TEXTURE_WRAP_S,n.wrapMode),r.texParameteri(e.target,r.TEXTURE_WRAP_T,n.wrapMode),n.mipmap){r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===Ps.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===Ps.LINEAR){const s=Math.min(e.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===Ps.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(e.target,r.TEXTURE_MAG_FILTER,e.scaleMode===Ps.LINEAR?r.LINEAR:r.NEAREST)}destroy(){this.renderer=null}}Q2.extension={type:be.RendererSystem,name:"texture"};Ae.add(Q2);class J2{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glTransformFeedbacks[r]||this.createGLTransformFeedback(e);n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,n){const{gl:r,renderer:i}=this;n&&i.shader.bind(n),r.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:n,renderer:r,CONTEXT_UID:i}=this,s=n.createTransformFeedback();e._glTransformFeedbacks[i]=s,n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(r.buffer.update(a),a._glBuffers[i].refCount++,n.bindBufferBase(n.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,n){const r=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const l=a._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!n&&s.dispose(a,n))}r&&(n||i.deleteTransformFeedback(r),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}J2.extension={type:be.RendererSystem,name:"transformFeedback"};Ae.add(J2);class eC{constructor(e){this.renderer=e}init(e){this.screen=new qe(0,0,e.width,e.height),this.element=e.view||we.ADAPTER.createCanvas(),this.resolution=e.resolution||we.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,n){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(n*this.resolution);const r=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=r,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${r}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",r,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var n;e&&((n=this.element.parentNode)==null||n.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}eC.extension={type:[be.RendererSystem,be.CanvasRendererSystem],name:"_view"};Ae.add(eC);we.PREFER_ENV=ma.WEBGL2;we.STRICT_TEXTURE_CACHE=!1;Object.defineProperties(we,{WRAP_MODE:{get(){return He.defaultOptions.wrapMode},set(t){at("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),He.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return He.defaultOptions.scaleMode},set(t){at("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),He.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return He.defaultOptions.mipmap},set(t){at("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),He.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return He.defaultOptions.anisotropicLevel},set(t){at("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),He.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return at("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Cn.defaultResolution},set(t){Cn.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return at("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Cn.defaultMultisample},set(t){Cn.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return hi.defaultMaxTextures},set(t){at("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),hi.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return hi.defaultBatchSize},set(t){at("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),hi.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return hi.canUploadSameBuffer},set(t){at("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),hi.canUploadSameBuffer=t}},GC_MODE:{get(){return di.defaultMode},set(t){at("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),di.defaultMode=t}},GC_MAX_IDLE:{get(){return di.defaultMaxIdle},set(t){at("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),di.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return di.defaultCheckCountMax},set(t){at("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),di.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return mi.defaultVertexPrecision},set(t){at("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),mi.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return mi.defaultFragmentPrecision},set(t){at("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),mi.defaultFragmentPrecision=t}}});var sa=(t=>(t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(sa||{});class xb{constructor(e,n=null,r=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=n,this.priority=r,this.once=i}match(e,n=null){return this.fn===e&&this.context===n}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const n=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),n}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const n=this.next;return this.next=e?null:n,this.previous=null,n}}const Ir=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new xb(null,null,1/0),this.deltaMS=1/Ir.targetFPMS,this.elapsedMS=1/Ir.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,n=sa.NORMAL){return this._addListener(new xb(t,e,n))}addOnce(t,e,n=sa.NORMAL){return this._addListener(new xb(t,e,n,!0))}_addListener(t){let e=this._head.next,n=this._head;if(!e)t.connect(n);else{for(;e;){if(t.priority>e.priority){t.connect(n);break}n=e,e=e.next}t.previous||t.connect(n)}return this._startIfPossible(),this}remove(t,e){let n=this._head.next;for(;n;)n.match(t,e)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*Ir.targetFPMS;const n=this._head;let r=n.next;for(;r;)r=r.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,e)/1e3,Ir.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!Ir._shared){const t=Ir._shared=new Ir;t.autoStart=!0,t._protected=!0}return Ir._shared}static get system(){if(!Ir._system){const t=Ir._system=new Ir;t.autoStart=!0,t._protected=!0}return Ir._system}};let pn=Ir;pn.targetFPMS=.06;Object.defineProperties(we,{TARGET_FPMS:{get(){return pn.targetFPMS},set(t){at("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),pn.targetFPMS=t}}});class tC{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,sa.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?pn.shared:new pn,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}tC.extension=be.Application;Ae.add(tC);const OB=[];Ae.handleByList(be.Renderer,OB);function IB(t){for(const e of OB)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var rPe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,iPe=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const RB=rPe,nC=iPe;class rC{constructor(e){this.renderer=e}contextChange(e){let n;if(this.renderer.context.webGLVersion===1){const r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else{const r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r)}n>=qt.HIGH?this.multisample=qt.HIGH:n>=qt.MEDIUM?this.multisample=qt.MEDIUM:n>=qt.LOW?this.multisample=qt.LOW:this.multisample=qt.NONE}destroy(){}}rC.extension={type:be.RendererSystem,name:"_multisample"};Ae.add(rC);class sPe{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class iC{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);n.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:n}=this;n.bindBuffer(e,null)}bindBufferBase(e,n){const{gl:r,CONTEXT_UID:i}=this;if(this.boundBufferBases[n]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[n]=e,r.bindBufferBase(r.UNIFORM_BUFFER,n,s.buffer)}}bindBufferRange(e,n,r){const{gl:i,CONTEXT_UID:s}=this;r=r||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,n||0,o.buffer,r*256,256)}update(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,n.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)n.bufferSubData(e.type,0,e.data);else{const s=e.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,n.bufferData(e.type,e.data,s)}}dispose(e,n){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const r=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),r&&(n||i.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const n=Object.keys(this.managedBuffers);for(let r=0;r<n.length;r++)this.dispose(this.managedBuffers[n[r]],e)}createGLBuffer(e){const{CONTEXT_UID:n,gl:r}=this;return e._glBuffers[n]=new sPe(r.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[n]}}iC.extension={type:be.RendererSystem,name:"buffer"};Ae.add(iC);class sC{constructor(e){this.renderer=e}render(e,n){const r=this.renderer;let i,s,o,a;if(n&&(i=n.renderTexture,s=n.clear,o=n.transform,a=n.skipUpdateTransform),this.renderingToScreen=!i,r.runners.prerender.emit(),r.emit("prerender"),r.projection.transform=o,!r.context.isLost){if(i||(this.lastObjectRendered=e),!a){const l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}r.renderTexture.bind(i),r.batch.currentRenderer.start(),(s??r.background.clearBeforeRender)&&r.renderTexture.clear(),e.render(r),r.batch.currentRenderer.flush(),i&&(n.blit&&r.framebuffer.blit(),i.baseTexture.update()),r.runners.postrender.emit(),r.projection.transform=null,r.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}sC.extension={type:be.RendererSystem,name:"objectRenderer"};Ae.add(sC);const a_=class extends kB{constructor(t){super(),this.type=E2.WEBGL,t=Object.assign({},we.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new xi({projectionMatrix:new Nt},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:a_.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(at("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha);const n={hello:t.hello,_plugin:a_.__plugins,background:{alpha:t.backgroundAlpha,color:t.background??t.backgroundColor,clearBeforeRender:t.clearBeforeRender},_view:{height:t.height,width:t.width,autoDensity:t.autoDensity,resolution:t.resolution,view:t.view},context:{antialias:t.antialias,context:t.context,powerPreference:t.powerPreference,premultipliedAlpha:t.premultipliedAlpha,preserveDrawingBuffer:t.preserveDrawingBuffer}};this.options=t,this.startup.run(n)}static test(t){return t!=null&&t.forceCanvas?!1:ZL()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return at("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return at("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return at("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return at("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){at("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return at("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.color}set backgroundAlpha(t){at("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return at("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};let Cl=a_;Cl.extension={type:be.Renderer,priority:1};Cl.__plugins={};Cl.__systems={};Ae.handleByMap(be.RendererPlugin,Cl.__plugins);Ae.handleByMap(be.RendererSystem,Cl.__systems);Ae.add(Cl);class oC extends uc{constructor(e,n){const{width:r,height:i}=n||{};super(r,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new He;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,n){for(let r=0;r<this.length;r++)e[r]&&(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof uc?this.addResourceAt(e[r],r):this.addResourceAt(k2(e[r],n),r))}dispose(){for(let e=0,n=this.length;e<n;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,n){if(!this.items[n])throw new Error(`Index ${n} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[n].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let n=0;n<this.length;n++)this.items[n].parentTextureArray=e,this.items[n].on("update",e.update,e)}unbind(e){super.unbind(e);for(let n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",e.update,e)}load(){if(this._load)return this._load;const n=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(n).then(()=>{const{realWidth:r,realHeight:i}=this.items[0];return this.resize(r,i),Promise.resolve(this)}),this._load}}class MB extends oC{constructor(e,n){const{width:r,height:i}=n||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:r,height:i}),s&&this.initFromArray(s,n)}addBaseTextureAt(e,n){if(e.resource)this.addResourceAt(e.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=Za.TEXTURE_2D_ARRAY}upload(e,n,r){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=e;r.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,i,0,n.format,r.type,null);for(let l=0;l<i;l++){const c=o[l];s[l]<c.dirtyId&&(s[l]=c.dirtyId,c.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,l,c.resource.width,c.resource.height,1,n.format,r.type,c.resource.source))}return!0}}class FB extends mo{constructor(e){super(e)}static test(e){const{OffscreenCanvas:n}=globalThis;return n&&e instanceof n?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const Dh=class extends oC{constructor(t,e){const{width:n,height:r,autoLoad:i,linkBaseTexture:s}=e||{};if(t&&t.length!==Dh.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:n,height:r});for(let o=0;o<Dh.SIDES;o++)this.items[o].target=Za.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=s!==!1,t&&this.initFromArray(t,e),i!==!1&&this.load()}bind(t){super.bind(t),t.target=Za.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=Za.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,n){const r=this.itemDirtyIds;for(let i=0;i<Dh.SIDES;i++){const s=this.items[i];(r[i]<s.dirtyId||n.dirtyId<e.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(t,s,n),r[i]=s.dirtyId):r[i]<-1&&(t.gl.texImage2D(s.target,0,n.internalFormat,e.realWidth,e.realHeight,0,e.format,n.type,null),r[i]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===Dh.SIDES}};let aC=Dh;aC.SIDES=6;class Wa extends mo{constructor(e,n){n=n||{};let r,i;typeof e=="string"?(r=Wa.EMPTY,i=e):(r=e,i=null),super(r),this.url=i,this.crossOrigin=n.crossOrigin??!0,this.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,this._load=null,n.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,n)=>{if(this.url===null){e(this);return}try{const r=await we.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await r.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Pi.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),e(this)}catch(r){if(this.destroyed)return;n(r),this.onError.emit(r)}}),this._load)}upload(e,n,r){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),super.upload(e,n,r)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return Wa._EMPTY=Wa._EMPTY??we.ADAPTER.createCanvas(0,0),Wa._EMPTY}}const zm=class extends mo{constructor(t,e){e=e||{},super(we.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),t(this)},zm.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;mo.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,n=t.height;if(!e||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let r=e*this.scale,i=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(r=this._overrideWidth||this._overrideHeight/n*e,i=this._overrideHeight||this._overrideWidth/e*n),r=Math.round(r),i=Math.round(i);const s=this.source;s.width=r,s.height=i,s._pixiId=`canvas_${ia()}`,s.getContext("2d").drawImage(t,0,0,e,n,0,0,r,i),this._resolve(),this._resolve=null}}static getSize(t){const e=zm.SVG_SIZE.exec(t),n={};return e&&(n[e[1]]=Math.round(parseFloat(e[3])),n[e[5]]=Math.round(parseFloat(e[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&zm.SVG_XML.test(t)}};let dc=zm;dc.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;dc.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const l_=class extends mo{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const n=document.createElement("video");n.setAttribute("preload","auto"),n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);const r=t[0].src||t[0];mo.crossOrigin(n,r,e.crossorigin);for(let i=0;i<t.length;++i){const s=document.createElement("source");let{src:o,mime:a}=t[i];o=o||t[i];const l=o.split("?").shift().toLowerCase(),c=l.slice(l.lastIndexOf(".")+1);a=a||l_.MIME_TYPES[c]||`video/${c}`,s.src=o,s.type=a,n.appendChild(s)}t=n}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){const e=pn.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(pn.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(pn.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._isConnectedToTicker&&(pn.shared.remove(this.update,this),this._isConnectedToTicker=!1);const t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(pn.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(pn.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t)}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||l_.TYPES.includes(e)}};let k0=l_;k0.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];k0.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};Xg.push(Wa,D2,FB,k0,dc,Fc,aC,MB);class oPe{constructor(){this._glTransformFeedbacks={},this.buffers=[],this.disposeRunner=new Gr("disposeTransformFeedback")}bindBuffer(e,n){this.buffers[e]=n}destroy(){this.disposeRunner.emit(this,!1)}}const aPe="7.1.4";class Bd{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?qe.EMPTY:(e=e||new qe(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,n){const{a:r,b:i,c:s,d:o,tx:a,ty:l}=e,c=r*n.x+s*n.y+a,h=i*n.x+o*n.y+l;this.minX=Math.min(this.minX,c),this.maxX=Math.max(this.maxX,c),this.minY=Math.min(this.minY,h),this.maxY=Math.max(this.maxY,h)}addQuad(e){let n=this.minX,r=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,this.minX=n,this.minY=r,this.maxX=i,this.maxY=s}addFrame(e,n,r,i,s){this.addFrameMatrix(e.worldTransform,n,r,i,s)}addFrameMatrix(e,n,r,i,s){const o=e.a,a=e.b,l=e.c,c=e.d,h=e.tx,f=e.ty;let p=this.minX,m=this.minY,v=this.maxX,y=this.maxY,x=o*n+l*r+h,b=a*n+c*r+f;p=x<p?x:p,m=b<m?b:m,v=x>v?x:v,y=b>y?b:y,x=o*i+l*r+h,b=a*i+c*r+f,p=x<p?x:p,m=b<m?b:m,v=x>v?x:v,y=b>y?b:y,x=o*n+l*s+h,b=a*n+c*s+f,p=x<p?x:p,m=b<m?b:m,v=x>v?x:v,y=b>y?b:y,x=o*i+l*s+h,b=a*i+c*s+f,p=x<p?x:p,m=b<m?b:m,v=x>v?x:v,y=b>y?b:y,this.minX=p,this.minY=m,this.maxX=v,this.maxY=y}addVertexData(e,n,r){let i=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let l=n;l<r;l+=2){const c=e[l],h=e[l+1];i=c<i?c:i,s=h<s?h:s,o=c>o?c:o,a=h>a?h:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,n,r,i){this.addVerticesMatrix(e.worldTransform,n,r,i)}addVerticesMatrix(e,n,r,i,s=0,o=s){const a=e.a,l=e.b,c=e.c,h=e.d,f=e.tx,p=e.ty;let m=this.minX,v=this.minY,y=this.maxX,x=this.maxY;for(let b=r;b<i;b+=2){const _=n[b],w=n[b+1],E=a*_+c*w+f,O=h*w+l*_+p;m=Math.min(m,E-s),y=Math.max(y,E+s),v=Math.min(v,O-o),x=Math.max(x,O+o)}this.minX=m,this.minY=v,this.maxX=y,this.maxY=x}addBounds(e){const n=this.minX,r=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<n?e.minX:n,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,n){const r=e.minX>n.minX?e.minX:n.minX,i=e.minY>n.minY?e.minY:n.minY,s=e.maxX<n.maxX?e.maxX:n.maxX,o=e.maxY<n.maxY?e.maxY:n.maxY;if(r<=s&&i<=o){const a=this.minX,l=this.minY,c=this.maxX,h=this.maxY;this.minX=r<a?r:a,this.minY=i<l?i:l,this.maxX=s>c?s:c,this.maxY=o>h?o:h}}addBoundsMatrix(e,n){this.addFrameMatrix(n,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,n){const r=e.minX>n.x?e.minX:n.x,i=e.minY>n.y?e.minY:n.y,s=e.maxX<n.x+n.width?e.maxX:n.x+n.width,o=e.maxY<n.y+n.height?e.maxY:n.y+n.height;if(r<=s&&i<=o){const a=this.minX,l=this.minY,c=this.maxX,h=this.maxY;this.minX=r<a?r:a,this.minY=i<l?i:l,this.maxX=s>c?s:c,this.maxY=o>h?o:h}}pad(e=0,n=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=n,this.maxY+=n)}addFramePad(e,n,r,i,s,o){e-=s,n-=o,r+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<n?this.minY:n,this.maxY=this.maxY>i?this.maxY:i}}class Wt extends ra{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new wf,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Bd,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const n=Object.keys(e);for(let r=0;r<n.length;++r){const i=n[r];Object.defineProperty(Wt.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,n){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new qe),n=this._boundsRect),this._bounds.getRectangle(n)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new qe),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Bd);const n=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=r,this.transform=n,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,n,r=!1){return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,n)}toLocal(e,n,r,i){return n&&(e=n.toGlobal(e,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,n=0,r=1,i=1,s=0,o=0,a=0,l=0,c=0){return this.position.x=e,this.position.y=n,this.scale.x=r||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=l,this.pivot.y=c,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new DB),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*oB}set angle(e){this.transform.rotation=e*aB}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1))}if(this._mask=e,this._mask){const n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++)}}}}class DB extends Wt{constructor(){super(...arguments),this.sortDirty=null}}Wt.prototype.displayObjectUpdateTransform=Wt.prototype.updateTransform;const lPe=new Nt;function uPe(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const u_=class extends Wt{constructor(){super(),this.children=[],this.sortableChildren=u_.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const n=this.getChildIndex(t),r=this.getChildIndex(e);this.children[n]=e,this.children[r]=t,this.onChildrenChange(n<r?n:r)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(t);Qa(this.children,n,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],n=this.children.indexOf(e);if(n===-1)return null;e.parent=null,e.transform._parentID=-1,Qa(this.children,n,1),this._boundsID++,this.onChildrenChange(n),e.emit("removed",this),this.emit("childRemoved",e,this,n)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,Qa(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const n=t,r=e,i=r-n;let s;if(i>0&&i<=r){s=this.children.splice(n,i);for(let o=0;o<s.length;++o)s[o].parent=null,s[o].transform&&(s[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let o=0;o<s.length;++o)s[o].emit("removed",this),this.emit("childRemoved",s[o],this,o);return s}else if(i===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,n=this.children.length;e<n;++e){const r=this.children[e];r._lastSortedIndex=e,!t&&r.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(uPe),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const n=this.children[t];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const n=e._mask.isMaskData?e._mask.maskObject:e._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(e._bounds,n._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const n=super.getLocalBounds(t);if(!e)for(let r=0,i=this.children.length;r<i;++r){const s=this.children[r];s.visible&&s.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let n,r;this.cullArea?(n=this.cullArea,r=this.worldTransform):this._render!==u_.prototype._render&&(n=this.getBounds(!0));const i=t.projection.transform;if(i&&(r?(r=lPe.copyFrom(r),r.prepend(i)):r=i),n&&e.intersects(n,r))this._render(t);else if(this.cullArea)return;for(let s=0,o=this.children.length;s<o;++s){const a=this.children[s],l=a.cullable;a.cullable=l||!this.cullArea,a.render(t),a.cullable=l}}render(t){var e;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(e=this.filters)!=null&&e.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let n=0,r=this.children.length;n<r;++n)this.children[n].render(t)}}renderAdvanced(t){var i,s,o;const e=this.filters,n=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let a=0;a<e.length;a++)e[a].enabled&&this._enabledFilters.push(e[a])}const r=e&&((i=this._enabledFilters)==null?void 0:i.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==cn.NONE));if(r&&t.batch.flush(),e&&((s=this._enabledFilters)!=null&&s.length)&&t.filter.push(this,this._enabledFilters),n&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let a=0,l=this.children.length;a<l;++a)this.children[a].render(t)}r&&t.batch.flush(),n&&t.mask.pop(this),e&&((o=this._enabledFilters)!=null&&o.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t==null?void 0:t.children,n=this.removeChildren(0,this.children.length);if(e)for(let r=0;r<n.length;++r)n[r].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};let nr=u_;nr.defaultSortableChildren=!1;nr.prototype.containerUpdateTransform=nr.prototype.updateTransform;Object.defineProperties(we,{SORTABLE_CHILDREN:{get(){return nr.defaultSortableChildren},set(t){at("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),nr.defaultSortableChildren=t}}});const xh=new Ie,cPe=new Uint16Array([0,1,2,0,2,3]);class ga extends nr{constructor(e){super(),this._anchor=new ro(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=Me.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||xe.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=cPe,this.pluginName="batch",this.isSprite=!0,this._roundPixels=we.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=ja(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=ja(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const n=this.transform.worldTransform,r=n.a,i=n.b,s=n.c,o=n.d,a=n.tx,l=n.ty,c=this.vertexData,h=e.trim,f=e.orig,p=this._anchor;let m=0,v=0,y=0,x=0;if(h?(v=h.x-p._x*f.width,m=v+h.width,x=h.y-p._y*f.height,y=x+h.height):(v=-p._x*f.width,m=v+f.width,x=-p._y*f.height,y=x+f.height),c[0]=r*v+s*x+a,c[1]=o*x+i*v+l,c[2]=r*m+s*x+a,c[3]=o*x+i*m+l,c[4]=r*m+s*y+a,c[5]=o*y+i*m+l,c[6]=r*v+s*y+a,c[7]=o*y+i*v+l,this._roundPixels){const b=we.RESOLUTION;for(let _=0;_<c.length;++_)c[_]=Math.round(c[_]*b)/b}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,n=this.vertexTrimmedData,r=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,l=s.c,c=s.d,h=s.tx,f=s.ty,p=-i._x*r.width,m=p+r.width,v=-i._y*r.height,y=v+r.height;n[0]=o*p+l*v+h,n[1]=c*v+a*p+f,n[2]=o*m+l*v+h,n[3]=c*v+a*m+f,n[4]=o*m+l*y+h,n[5]=c*y+a*m+f,n[6]=o*p+l*y+h,n[7]=c*y+a*p+f}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,n=this._texture.orig;!e||e.width===n.width&&e.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new Bd),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new qe),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,xh);const n=this._texture.orig.width,r=this._texture.orig.height,i=-n*this.anchor.x;let s=0;return xh.x>=i&&xh.x<i+n&&(s=-r*this.anchor.y,xh.y>=s&&xh.y<s+r)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,n){const r=e instanceof xe?e:xe.from(e,n);return new ga(r)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const n=ja(this.scale.x)||1;this.scale.x=n*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const n=ja(this.scale.y)||1;this.scale.y=n*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tint}set tint(e){this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16)}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||xe.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const LB=new Nt;Wt.prototype._cacheAsBitmap=!1;Wt.prototype._cacheData=null;Wt.prototype._cacheAsBitmapResolution=null;Wt.prototype._cacheAsBitmapMultisample=null;class hPe{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Wt.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new hPe),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});Wt.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};Wt.prototype._initCachedDisplayObject=function(e){var p,m;if((p=this._cacheData)!=null&&p.sprite)return;const n=this.alpha;this.alpha=1,e.batch.flush();const r=this.getLocalBounds(null,!0).clone();if((m=this.filters)!=null&&m.length){const v=this.filters[0].padding;r.pad(v)}r.ceil(we.RESOLUTION);const i=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),o=e.renderTexture.destinationFrame.clone(),a=e.projection.transform,l=go.create({width:r.width,height:r.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:this.cacheAsBitmapMultisample??e.multisample}),c=`cacheAsBitmap_${ia()}`;this._cacheData.textureCacheId=c,He.addToCache(l.baseTexture,c),xe.addToCache(l,c);const h=this.transform.localTransform.copyTo(LB).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:l,clear:!0,transform:h,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=a,e.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;const f=new ga(l);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-(r.x/r.width),f.anchor.y=-(r.y/r.height),f.alpha=n,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=f.containsPoint.bind(f)};Wt.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};Wt.prototype._initCachedDisplayObjectCanvas=function(e){var h;if((h=this._cacheData)!=null&&h.sprite)return;const n=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;const i=e.canvasContext.activeContext,s=e._projTransform;n.ceil(we.RESOLUTION);const o=go.create({width:n.width,height:n.height}),a=`cacheAsBitmap_${ia()}`;this._cacheData.textureCacheId=a,He.addToCache(o.baseTexture,a),xe.addToCache(o,a);const l=LB;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=n.x,l.ty-=n.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:l,skipUpdateTransform:!1}),e.canvasContext.activeContext=i,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const c=new ga(o);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(n.x/n.width),c.anchor.y=-(n.y/n.height),c.alpha=r,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=c.containsPoint.bind(c)};Wt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Wt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Wt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,He.removeFromCache(this._cacheData.textureCacheId),xe.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Wt.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};Wt.prototype.name=null;nr.prototype.getChildByName=function(e,n){for(let r=0,i=this.children.length;r<i;r++)if(this.children[r].name===e)return this.children[r];if(n)for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r];if(!s.getChildByName)continue;const o=s.getChildByName(e,!0);if(o)return o}return null};Wt.prototype.getGlobalPosition=function(e=new Ie,n=!1){return this.parent?this.parent.toGlobal(this.position,e,n):(e.x=this.position.x,e.y=this.position.y),e};var dPe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class BB extends Cn{constructor(e=1){super(RB,dPe,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const fPe={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},pPe=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function mPe(t){const e=fPe[t],n=e.length;let r=pPe,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let l=s.replace("%index%",a.toString());o=a,a>=n&&(o=t-a-1),l=l.replace("%value%",e[o].toString()),i+=l,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",t.toString()),r}const gPe=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function vPe(t,e){const n=Math.ceil(t/2);let r=gPe,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(n-1)}.0`),i+=a,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",t.toString()),r}class Qg extends Cn{constructor(e,n=8,r=4,i=Cn.defaultResolution,s=5){const o=vPe(s,e),a=mPe(s);super(o,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=r,this.blur=n}apply(e,n,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/n.width):this.uniforms.strength=1/r.height*(r.height/n.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/n.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,n,r,i);else{const s=e.getFilterTexture(),o=e.renderer;let a=n,l=s;this.state.blend=!1,e.applyFilter(this,a,l,Vi.CLEAR);for(let c=1;c<this.passes-1;c++){e.bindAndClear(a,Vi.BLIT),this.uniforms.uSampler=l;const h=l;l=a,a=h,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,l,r,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class NB extends Cn{constructor(e=8,n=4,r=Cn.defaultResolution,i=5){super(),this.blurXFilter=new Qg(!0,e,n,r,i),this.blurYFilter=new Qg(!1,e,n,r,i),this.resolution=r,this.quality=n,this.blur=e,this.repeatEdgePixels=!1}apply(e,n,r,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,n,a,Vi.CLEAR),this.blurYFilter.apply(e,a,r,i),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,n,r,i):this.blurXFilter.apply(e,n,r,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var yPe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class Jg extends Cn{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(nC,yPe,e),this.alpha=1}_loadMatrix(e,n=!1){let r=e;n&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r}_multiply(e,n,r){return e[0]=n[0]*r[0]+n[1]*r[5]+n[2]*r[10]+n[3]*r[15],e[1]=n[0]*r[1]+n[1]*r[6]+n[2]*r[11]+n[3]*r[16],e[2]=n[0]*r[2]+n[1]*r[7]+n[2]*r[12]+n[3]*r[17],e[3]=n[0]*r[3]+n[1]*r[8]+n[2]*r[13]+n[3]*r[18],e[4]=n[0]*r[4]+n[1]*r[9]+n[2]*r[14]+n[3]*r[19]+n[4],e[5]=n[5]*r[0]+n[6]*r[5]+n[7]*r[10]+n[8]*r[15],e[6]=n[5]*r[1]+n[6]*r[6]+n[7]*r[11]+n[8]*r[16],e[7]=n[5]*r[2]+n[6]*r[7]+n[7]*r[12]+n[8]*r[17],e[8]=n[5]*r[3]+n[6]*r[8]+n[7]*r[13]+n[8]*r[18],e[9]=n[5]*r[4]+n[6]*r[9]+n[7]*r[14]+n[8]*r[19]+n[9],e[10]=n[10]*r[0]+n[11]*r[5]+n[12]*r[10]+n[13]*r[15],e[11]=n[10]*r[1]+n[11]*r[6]+n[12]*r[11]+n[13]*r[16],e[12]=n[10]*r[2]+n[11]*r[7]+n[12]*r[12]+n[13]*r[17],e[13]=n[10]*r[3]+n[11]*r[8]+n[12]*r[13]+n[13]*r[18],e[14]=n[10]*r[4]+n[11]*r[9]+n[12]*r[14]+n[13]*r[19]+n[14],e[15]=n[15]*r[0]+n[16]*r[5]+n[17]*r[10]+n[18]*r[15],e[16]=n[15]*r[1]+n[16]*r[6]+n[17]*r[11]+n[18]*r[16],e[17]=n[15]*r[2]+n[16]*r[7]+n[17]*r[12]+n[18]*r[17],e[18]=n[15]*r[3]+n[16]*r[8]+n[17]*r[13]+n[18]*r[18],e[19]=n[15]*r[4]+n[16]*r[9]+n[17]*r[14]+n[18]*r[19]+n[19],e}_colorMatrix(e){const n=new Float32Array(e);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n}brightness(e,n){const r=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(r,n)}tint(e,n){const r=e>>16&255,i=e>>8&255,s=e&255,o=[r/255,0,0,0,0,0,i/255,0,0,0,0,0,s/255,0,0,0,0,0,1,0];this._loadMatrix(o,n)}greyscale(e,n){const r=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(r,n)}blackAndWhite(e){const n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,e)}hue(e,n){e=(e||0)/180*Math.PI;const r=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),l=r+(1-r)*o,c=o*(1-r)-a*i,h=o*(1-r)+a*i,f=o*(1-r)+a*i,p=r+o*(1-r),m=o*(1-r)-a*i,v=o*(1-r)-a*i,y=o*(1-r)+a*i,x=r+o*(1-r),b=[l,c,h,0,0,f,p,m,0,0,v,y,x,0,0,0,0,0,1,0];this._loadMatrix(b,n)}contrast(e,n){const r=(e||0)+1,i=-.5*(r-1),s=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(s,n)}saturate(e=0,n){const r=e*2/3+1,i=(r-1)*-.5,s=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(s,n)}desaturate(){this.saturate(-1)}negative(e){const n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,e)}sepia(e){const n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,e)}technicolor(e){const n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,e)}polaroid(e){const n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,e)}toBGR(e){const n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,e)}kodachrome(e){const n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,e)}browni(e){const n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,e)}vintage(e){const n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,e)}colorTone(e,n,r,i,s){e=e||.2,n=n||.15,r=r||16770432,i=i||3375104;const o=(r>>16&255)/255,a=(r>>8&255)/255,l=(r&255)/255,c=(i>>16&255)/255,h=(i>>8&255)/255,f=(i&255)/255,p=[.3,.59,.11,0,0,o,a,l,e,0,c,h,f,n,0,o-c,a-h,l-f,0,0];this._loadMatrix(p,s)}night(e,n){e=e||.1;const r=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(r,n)}predator(e,n){const r=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(r,n)}lsd(e){const n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}Jg.prototype.grayscale=Jg.prototype.greyscale;var bPe=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,xPe=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class $B extends Cn{constructor(e,n){const r=new Nt;e.renderable=!1,super(xPe,bPe,{mapSampler:e._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=r,n==null&&(n=20),this.scale=new Ie(n,n)}apply(e,n,r,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,n,r,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var wPe=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,_Pe=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class UB extends Cn{constructor(){super(_Pe,wPe)}}var SPe=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class zB extends Cn{constructor(e=.5,n=Math.random()){super(nC,SPe,{uNoise:0,uSeed:0}),this.noise=e,this.seed=n}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const c_={AlphaFilter:BB,BlurFilter:NB,BlurFilterPass:Qg,ColorMatrixFilter:Jg,DisplacementFilter:$B,FXAAFilter:UB,NoiseFilter:zB};Object.entries(c_).forEach(([t,e])=>{Object.defineProperty(c_,t,{get(){return at("7.1.0",`filters.${t} has moved to ${t}`),e}})});class Dc{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Dc.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Ie,this.page=new Ie,this.AT_TARGET=1,this.BUBBLING_PHASE=2,this.CAPTURING_PHASE=3,this.NONE=0,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,n,r){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,n,r,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class Nd extends Dc{constructor(){super(...arguments),this.client=new Ie,this.movement=new Ie,this.offset=new Ie,this.global=new Ie,this.screen=new Ie}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,n,r,i,s,o,a,l,c,h,f,p,m,v,y){throw new Error("Method not implemented.")}}class oi extends Nd{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class fl extends Nd{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}fl.DOM_DELTA_PIXEL=0;fl.DOM_DELTA_LINE=1;fl.DOM_DELTA_PAGE=2;const EPe=2048,CPe=new Ie,wb=new Ie;class HB{constructor(e){this.dispatch=new ra,this.moveOnAll=!1,this.mappingState={trackingData:{}},this.eventPool=new Map,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,n){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:n,priority:0}),this.mappingTable[e].sort((r,i)=>r.priority-i.priority)}dispatchEvent(e,n){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,n),this.dispatch.emit(n||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const n=this.mappingTable[e.type];if(n)for(let r=0,i=n.length;r<i;r++)n[r].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,n){const r=this.hitTestRecursive(this.rootTarget,this.rootTarget.interactive,CPe.set(e,n),this.hitTestFn,this.hitPruneFn);return r&&r[0]}propagate(e,n){if(!e.target)return;const r=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=r.length-1;i<s;i++)if(e.currentTarget=r[i],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,n),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=r.length-2;i>=0;i--)if(e.currentTarget=r[i],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,n,r=this.rootTarget){e.eventPhase=e.BUBBLING_PHASE;const i=r.children;if(i)for(let s=0;s<i.length;s++)this.all(e,n,i[s]);e.currentTarget=r,this.notifyTarget(e,n)}propagationPath(e){const n=[e];for(let r=0;r<EPe&&e!==this.rootTarget;r++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");n.push(e.parent),e=e.parent}return n.reverse(),n}hitTestRecursive(e,n,r,i,s){if(!e||!e.visible||s(e,r))return null;if(e.interactiveChildren&&e.children){const o=e.children;for(let a=o.length-1;a>=0;a--){const l=o[a],c=this.hitTestRecursive(l,n||l.interactive,r,i,s);if(c){if(c.length>0&&!c[c.length-1].parent)continue;return(c.length>0||e.interactive)&&c.push(e),c}}}return n&&i(e,r)?e.interactive?[e]:[]:null}hitPruneFn(e,n){var r;if(e.hitArea&&(e.worldTransform.applyInverse(n,wb),!e.hitArea.contains(wb.x,wb.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((r=i.containsPoint)!=null&&r.call(i,n)))return!0}return!1}hitTestFn(e,n){return e.hitArea?!0:e.containsPoint?e.containsPoint(n):!1}notifyTarget(e,n){var s,o;n=n??e.type;const r=`on${n}`;(o=(s=e.currentTarget)[r])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${n}capture`:n;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,n)}mapPointerDown(e){if(!(e instanceof oi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerdown"),n.pointerType==="touch")this.dispatchEvent(n,"touchstart");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const i=n.button===2;this.dispatchEvent(n,i?"rightdown":"mousedown")}const r=this.trackingData(e.pointerId);r.pressTargetsByButton[e.button]=n.composedPath(),this.freeEvent(n)}mapPointerMove(e){var a,l;if(!(e instanceof oi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.createPointerEvent(e),r=n.pointerType==="mouse"||n.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((a=i.overTargets)==null?void 0:a.length)>0&&s!==n.target){const c=e.type==="mousemove"?"mouseout":"pointerout",h=this.createPointerEvent(e,c,s);if(this.dispatchEvent(h,"pointerout"),r&&this.dispatchEvent(h,"mouseout"),!n.composedPath().includes(s)){const f=this.createPointerEvent(e,"pointerleave",s);for(f.eventPhase=f.AT_TARGET;f.target&&!n.composedPath().includes(f.target);)f.currentTarget=f.target,this.notifyTarget(f),r&&this.notifyTarget(f,"mouseleave"),f.target=f.target.parent;this.freeEvent(f)}this.freeEvent(h)}if(s!==n.target){const c=e.type==="mousemove"?"mouseover":"pointerover",h=this.clonePointerEvent(n,c);this.dispatchEvent(h,"pointerover"),r&&this.dispatchEvent(h,"mouseover");let f=s==null?void 0:s.parent;for(;f&&f!==this.rootTarget.parent&&f!==n.target;)f=f.parent;if(!f||f===this.rootTarget.parent){const m=this.clonePointerEvent(n,"pointerenter");for(m.eventPhase=m.AT_TARGET;m.target&&m.target!==s&&m.target!==this.rootTarget.parent;)m.currentTarget=m.target,this.notifyTarget(m),r&&this.notifyTarget(m,"mouseenter"),m.target=m.target.parent;this.freeEvent(m)}this.freeEvent(h)}const o=this.moveOnAll?"all":"dispatchEvent";this[o](n,"pointermove"),this.all(n,"globalpointermove"),n.pointerType==="touch"&&(this[o](n,"touchmove"),this.all(n,"globaltouchmove")),r&&(this[o](n,"mousemove"),this.all(n,"globalmousemove"),this.cursor=(l=n.target)==null?void 0:l.cursor),i.overTargets=n.composedPath(),this.freeEvent(n)}mapPointerOver(e){var o;if(!(e instanceof oi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId),r=this.createPointerEvent(e),i=r.pointerType==="mouse"||r.pointerType==="pen";this.dispatchEvent(r,"pointerover"),i&&this.dispatchEvent(r,"mouseover"),r.pointerType==="mouse"&&(this.cursor=(o=r.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(r,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;n.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof oi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId);if(n.overTargets){const r=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(n.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),r&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),r&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;n.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof oi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=performance.now(),r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerup"),r.pointerType==="touch")this.dispatchEvent(r,"touchend");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const a=r.button===2;this.dispatchEvent(r,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!r.composedPath().includes(s)){let a=s;for(;a&&!r.composedPath().includes(a);){if(r.currentTarget=a,this.notifyTarget(r,"pointerupoutside"),r.pointerType==="touch")this.notifyTarget(r,"touchendoutside");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const l=r.button===2;this.notifyTarget(r,l?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(r,"click");a.target=o,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:n});const l=i.clicksByButton[e.button];if(l.target===a.target&&n-l.timeStamp<200?++l.clickCount:l.clickCount=1,l.target=a.target,l.timeStamp=n,a.detail=l.clickCount,a.pointerType==="mouse"){const c=a.button===2;this.dispatchEvent(a,c?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(r)}mapPointerUpOutside(e){if(!(e instanceof oi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId),r=this.findMountedTarget(n.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(r){let s=r;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete n.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof fl)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const n=this.createWheelEvent(e);this.dispatchEvent(n),this.freeEvent(n)}findMountedTarget(e){if(!e)return null;let n=e[0];for(let r=1;r<e.length&&e[r].parent===n;r++)n=e[r];return n}createPointerEvent(e,n,r){const i=this.allocateEvent(oi);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=r??this.hitTest(i.global.x,i.global.y),typeof n=="string"&&(i.type=n),i}createWheelEvent(e){const n=this.allocateEvent(fl);return this.copyWheelData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.nativeEvent=e.nativeEvent,n.originalEvent=e,n.target=this.hitTest(n.global.x,n.global.y),n}clonePointerEvent(e,n){const r=this.allocateEvent(oi);return r.nativeEvent=e.nativeEvent,r.originalEvent=e.originalEvent,this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.target=e.target,r.path=e.composedPath().slice(),r.type=n??r.type,r}copyWheelData(e,n){n.deltaMode=e.deltaMode,n.deltaX=e.deltaX,n.deltaY=e.deltaY,n.deltaZ=e.deltaZ}copyPointerData(e,n){e instanceof oi&&n instanceof oi&&(n.pointerId=e.pointerId,n.width=e.width,n.height=e.height,n.isPrimary=e.isPrimary,n.pointerType=e.pointerType,n.pressure=e.pressure,n.tangentialPressure=e.tangentialPressure,n.tiltX=e.tiltX,n.tiltY=e.tiltY,n.twist=e.twist)}copyMouseData(e,n){e instanceof Nd&&n instanceof Nd&&(n.altKey=e.altKey,n.button=e.button,n.buttons=e.buttons,n.client.copyFrom(e.client),n.ctrlKey=e.ctrlKey,n.metaKey=e.metaKey,n.movement.copyFrom(e.movement),n.screen.copyFrom(e.screen),n.global.copyFrom(e.global))}copyData(e,n){n.isTrusted=e.isTrusted,n.srcElement=e.srcElement,n.timeStamp=performance.now(),n.type=e.type,n.detail=e.detail,n.view=e.view,n.which=e.which,n.layer.copyFrom(e.layer),n.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const n=this.eventPool.get(e).pop()||new e(this);return n.eventPhase=n.NONE,n.currentTarget=null,n.path=null,n.target=null,n}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const n=e.constructor;this.eventPool.has(n)||this.eventPool.set(n,[]),this.eventPool.get(n).push(e)}notifyListeners(e,n){const r=e.currentTarget._events[n];if(r)if("fn"in r)r.once&&e.currentTarget.removeListener(n,r.fn,void 0,!0),r.fn.call(r.context,e);else for(let i=0,s=r.length;i<s&&!e.propagationImmediatelyStopped;i++)r[i].once&&e.currentTarget.removeListener(n,r[i].fn,void 0,!0),r[i].fn.call(r[i].context,e)}}const TPe=1,APe={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"};class lC{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new HB(null),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new oi(null),this.rootWheelEvent=new fl(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}init(){const{view:e,resolution:n}=this.renderer;this.setTargetElement(e),this.resolution=n}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let n=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(n=!1),this.currentCursor===e)return;this.currentCursor=e;const r=this.cursorStyles[e];if(r)switch(typeof r){case"string":n&&(this.domElement.style.cursor=r);break;case"function":r(e);break;case"object":n&&Object.assign(this.domElement.style,r);break}else n&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}onPointerDown(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);this.autoPreventDefault&&n[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let r=0,i=n.length;r<i;r++){const s=n[r],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);for(let r=0,i=n.length;r<i;r++){const s=this.bootstrapEvent(this.rootPointerEvent,n[r]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;let n=e.target;e.composedPath&&e.composedPath().length>0&&(n=e.composedPath()[0]);const r=n!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let s=0,o=i.length;s<o;s++){const a=this.bootstrapEvent(this.rootPointerEvent,i[s]);a.type+=r,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);for(let r=0,i=n.length;r<i;r++){const s=this.bootstrapEvent(this.rootPointerEvent,n[r]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){const n=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(n)}setTargetElement(e){this.removeEvents(),this.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,n,r){let i;this.domElement.parentElement?i=this.domElement.getBoundingClientRect():i={x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const s=1/this.resolution;e.x=(n-i.left)*(this.domElement.width/i.width)*s,e.y=(r-i.top)*(this.domElement.height/i.height)*s}normalizeToPointerData(e){const n=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let r=0,i=e.changedTouches.length;r<i;r++){const s=e.changedTouches[r];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,n.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const r=e;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=TPe),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,n.push(r)}else n.push(e);return n}normalizeWheelEvent(e){const n=this.rootWheelEvent;return this.transferMouseData(n,e),n.deltaX=e.deltaX,n.deltaY=e.deltaY,n.deltaZ=e.deltaZ,n.deltaMode=e.deltaMode,this.mapPositionToPoint(n.screen,e.clientX,e.clientY),n.global.copyFrom(n.screen),n.offset.copyFrom(n.screen),n.nativeEvent=e,n.type=e.type,n}bootstrapEvent(e,n){return e.originalEvent=null,e.nativeEvent=n,e.pointerId=n.pointerId,e.width=n.width,e.height=n.height,e.isPrimary=n.isPrimary,e.pointerType=n.pointerType,e.pressure=n.pressure,e.tangentialPressure=n.tangentialPressure,e.tiltX=n.tiltX,e.tiltY=n.tiltY,e.twist=n.twist,this.transferMouseData(e,n),this.mapPositionToPoint(e.screen,n.clientX,n.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=n.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=APe[e.type]||e.type),e}transferMouseData(e,n){e.isTrusted=n.isTrusted,e.srcElement=n.srcElement,e.timeStamp=performance.now(),e.type=n.type,e.altKey=n.altKey,e.button=n.button,e.buttons=n.buttons,e.client.x=n.clientX,e.client.y=n.clientY,e.ctrlKey=n.ctrlKey,e.metaKey=n.metaKey,e.movement.x=n.movementX,e.movement.y=n.movementY,e.page.x=n.pageX,e.page.y=n.pageY,e.relatedTarget=null,e.shiftKey=n.shiftKey}}lC.extension={name:"events",type:[be.RendererSystem,be.CanvasRendererSystem]};Ae.add(lC);const jB={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,interactive:!1,interactiveChildren:!0,hitArea:null,addEventListener(t,e,n){const r=typeof n=="boolean"&&n||typeof n=="object"&&n.capture,i=typeof e=="function"?void 0:e;t=r?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,n){const r=typeof n=="boolean"&&n||typeof n=="object"&&n.capture,i=typeof e=="function"?void 0:e;t=r?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof Dc))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};Wt.mixin(jB);const WB={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Wt.mixin(WB);const PPe=9,am=100,kPe=0,OPe=0,CR=2,TR=1,IPe=-1e3,RPe=-1e3,MPe=2;class uC{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Ki.tablet||Ki.phone)&&this.createTouchHook();const n=document.createElement("div");n.style.width=`${am}px`,n.style.height=`${am}px`,n.style.position="absolute",n.style.top=`${kPe}px`,n.style.left=`${OPe}px`,n.style.zIndex=CR.toString(),this.div=n,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${TR}px`,e.style.height=`${TR}px`,e.style.position="absolute",e.style.top=`${IPe}px`,e.style.left=`${RPe}px`,e.style.zIndex=MPe.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const n=e.children;if(n)for(let r=0;r<n.length;r++)this.updateAccessibleObjects(n[r])}update(){const e=performance.now();if(Ki.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:n,y:r,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:l}=this.renderer,c=i/o*l,h=s/a*l;let f=this.div;f.style.left=`${n}px`,f.style.top=`${r}px`,f.style.width=`${o}px`,f.style.height=`${a}px`;for(let p=0;p<this.children.length;p++){const m=this.children[p];if(m.renderId!==this.renderId)m._accessibleActive=!1,Qa(this.children,p,1),this.div.removeChild(m._accessibleDiv),this.pool.push(m._accessibleDiv),m._accessibleDiv=null,p--;else{f=m._accessibleDiv;let v=m.hitArea;const y=m.worldTransform;m.hitArea?(f.style.left=`${(y.tx+v.x*y.a)*c}px`,f.style.top=`${(y.ty+v.y*y.d)*h}px`,f.style.width=`${v.width*y.a*c}px`,f.style.height=`${v.height*y.d*h}px`):(v=m.getBounds(),this.capHitArea(v),f.style.left=`${v.x*c}px`,f.style.top=`${v.y*h}px`,f.style.width=`${v.width*c}px`,f.style.height=`${v.height*h}px`,f.title!==m.accessibleTitle&&m.accessibleTitle!==null&&(f.title=m.accessibleTitle),f.getAttribute("aria-label")!==m.accessibleHint&&m.accessibleHint!==null&&f.setAttribute("aria-label",m.accessibleHint)),(m.accessibleTitle!==f.title||m.tabIndex!==f.tabIndex)&&(f.title=m.accessibleTitle,f.tabIndex=m.tabIndex,this.debug&&this.updateDebugHTML(f))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:n,height:r}=this.renderer;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>r&&(e.height=r-e.y)}addChild(e){let n=this.pool.pop();n||(n=document.createElement("button"),n.style.width=`${am}px`,n.style.height=`${am}px`,n.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",n.style.position="absolute",n.style.zIndex=CR.toString(),n.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?n.setAttribute("aria-live","off"):n.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?n.setAttribute("aria-relevant","additions"):n.setAttribute("aria-relevant","text"),n.addEventListener("click",this._onClick.bind(this)),n.addEventListener("focus",this._onFocus.bind(this)),n.addEventListener("focusout",this._onFocusOut.bind(this))),n.style.pointerEvents=e.accessiblePointerEvents,n.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?n.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(n.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&n.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(n),e._accessibleActive=!0,e._accessibleDiv=n,n.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,n){const{displayObject:r}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new Dc(i),{target:r});i.rootTarget=this.renderer.lastObjectRendered,n.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===PPe&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}uC.extension={name:"accessibility",type:[be.RendererPlugin,be.CanvasRendererPlugin]};Ae.add(uC);const h_=class{constructor(t){this.stage=new nr,t=Object.assign({forceCanvas:!1},t),this.renderer=IB(t),h_._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(t,e){const n=h_._plugins.slice(0);n.reverse(),n.forEach(r=>{r.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};let O0=h_;O0._plugins=[];Ae.handleByList(be.Application,O0._plugins);class cC{static init(e){Object.defineProperty(this,"resizeTo",{set(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let n,r;if(this._resizeTo===globalThis.window)n=globalThis.innerWidth,r=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;n=i,r=s}this.renderer.resize(n,r),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}cC.extension=be.Application;Ae.add(cC);const AR={loader:be.LoadParser,resolver:be.ResolveParser,cache:be.CacheParser,detection:be.DetectionParser};Ae.handle(be.Asset,t=>{const e=t.ref;Object.entries(AR).filter(([n])=>!!e[n]).forEach(([n,r])=>Ae.add(Object.assign(e[n],{extension:e[n].extension??r})))},t=>{const e=t.ref;Object.keys(AR).filter(n=>!!e[n]).forEach(n=>Ae.remove(e[n]))});class FPe{constructor(e,n=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=n}add(e){e.forEach(n=>{this._assetList.push(n)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],n=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<n;r++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function hC(t,e){if(Array.isArray(e)){for(const n of e)if(t.startsWith(`data:${n}`))return!0;return!1}return t.startsWith(`data:${e}`)}function Sf(t,e){const n=t.split("?")[0],r=An.extname(n).toLowerCase();return Array.isArray(e)?e.includes(r):r===e}const Ms=(t,e)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"?e(n):n):t),ev=(t,e)=>{const n=e.split("?")[1];return n&&(t+=`?${n}`),t};function GB(t,e,n,r,i){const s=e[n];for(let o=0;o<s.length;o++){const a=s[o];n<e.length-1?GB(t.replace(r[n],a),e,n+1,r,i):i.push(t.replace(r[n],a))}}function VB(t){const e=/\{(.*?)\}/g,n=t.match(e),r=[];if(n){const i=[];n.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),GB(t,i,0,n,r)}else r.push(t);return r}const $d=t=>!Array.isArray(t);class DPe{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const n=this._cache.get(e);return n||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),n}set(e,n){const r=Ms(e);let i;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.test(n)){i=l.getCacheableAssets(r,n);break}}i||(i={},r.forEach(a=>{i[a]=n}));const s=Object.keys(i),o={cacheKeys:s,keys:r};if(r.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==n&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),n instanceof xe){const a=n;r.forEach(l=>{a.baseTexture!==xe.EMPTY.baseTexture&&He.addToCache(a.baseTexture,l),xe.addToCache(a,l)})}}remove(e){if(this._cacheMap.get(e),!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const n=this._cacheMap.get(e);n.cacheKeys.forEach(i=>{this._cache.delete(i)}),n.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const vu=new DPe;class LPe{constructor(){this._parsers=[],this.promiseCache={}}reset(){this.promiseCache={}}_getLoadPromiseAndParser(e,n){const r={promise:null,parser:null};return r.promise=(async()=>{var s,o;let i=null;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.load&&((s=l.test)!=null&&s.call(l,e,n,this))){i=await l.load(e,n,this),r.parser=l;break}}if(!r.parser)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has being added`),null;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];l.parse&&l.parse&&await((o=l.testParse)==null?void 0:o.call(l,i,n,this))&&(i=await l.parse(i,n,this)||i,r.parser=l)}return i})(),r}async load(e,n){let r=0;const i={},s=$d(e),o=Ms(e,c=>({src:c})),a=o.length,l=o.map(async c=>{const h=An.toAbsolute(c.src);if(!i[c.src])try{this.promiseCache[h]||(this.promiseCache[h]=this._getLoadPromiseAndParser(h,c)),i[c.src]=await this.promiseCache[h].promise,n&&n(++r/a)}catch(f){throw delete this.promiseCache[h],delete i[c.src],new Error(`[Loader.load] Failed to load ${h}.
${f}`)}});return await Promise.all(l),s?i[o[0].src]:i}async unload(e){const r=Ms(e,i=>({src:i})).map(async i=>{var a,l;const s=An.toAbsolute(i.src),o=this.promiseCache[s];if(o){const c=await o.promise;(l=(a=o.parser)==null?void 0:a.unload)==null||l.call(a,c,i,this),delete this.promiseCache[s]}});await Promise.all(r)}get parsers(){return this._parsers}}var ds=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(ds||{});const qB={extension:{type:be.LoadParser,priority:ds.Low},test(t){return An.extname(t).toLowerCase()===".json"},async load(t){return await(await we.ADAPTER.fetch(t)).json()}};Ae.add(qB);const XB={extension:{type:be.LoadParser,priority:ds.Low},test(t){return An.extname(t).toLowerCase()===".txt"},async load(t){return await(await we.ADAPTER.fetch(t)).text()}};Ae.add(XB);const BPe=["normal","bold","100","200","300","400","500","600","700","800","900"],NPe=[".ttf",".otf",".woff",".woff2"],$Pe=["font/ttf","font/otf","font/woff","font/woff2"];function YB(t){const e=An.extname(t);return An.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ")}const KB={extension:{type:be.LoadParser,priority:ds.Low},test(t){return hC(t,$Pe)||Sf(t,NPe)},async load(t,e){var r,i,s;const n=we.ADAPTER.getFontFaceSet();if(n){const o=[],a=((r=e.data)==null?void 0:r.family)??YB(t),l=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(h=>BPe.includes(h)))??["normal"],c=e.data??{};for(let h=0;h<l.length;h++){const f=l[h],p=new FontFace(a,`url(${encodeURI(t)})`,{...c,weight:f});await p.load(),n.add(p),o.push(p)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>we.ADAPTER.getFontFaceSet().delete(e))}};Ae.add(KB);let PR=0,_b;const UPe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",zPe={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${UPe}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},HPe={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let Sb;class jPe{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const n=URL.createObjectURL(new Blob([zPe.code],{type:"application/javascript"})),r=new Worker(n);r.addEventListener("message",i=>{r.terminate(),URL.revokeObjectURL(n),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){_b===void 0&&(_b=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<_b&&(Sb||(Sb=URL.createObjectURL(new Blob([HPe.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(Sb),e.addEventListener("message",n=>{this.complete(n.data),this.returnWorker(n.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,n){await this._initWorkers();const r=new Promise((i,s)=>{this.queue.push({id:e,arguments:n,resolve:i,reject:s})});return this.next(),r}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const n=this.queue.pop(),r=n.id;this.resolveHash[PR]={resolve:n.resolve,reject:n.reject},e.postMessage({data:n.arguments,uuid:PR++,id:r})}}const kR=new jPe;function Ef(t,e,n){const r=new xe(t);return r.baseTexture.on("dispose",()=>{delete e.promiseCache[n]}),r}const WPe=[".jpeg",".jpg",".png",".webp",".avif"],GPe=["image/jpeg","image/png","image/webp","image/avif"];async function ZB(t){const e=await we.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const n=await e.blob();return await createImageBitmap(n)}const fc={extension:{type:be.LoadParser,priority:ds.High},config:{preferWorkers:!0},test(t){return hC(t,GPe)||Sf(t,WPe)},async load(t,e,n){let r=null;globalThis.createImageBitmap?this.config.preferWorkers&&await kR.isImageBitmapSupported()?r=await kR.loadImageBitmap(t):r=await ZB(t):r=await new Promise(s=>{r=new Image,r.crossOrigin="anonymous",r.src=t,r.complete?s(r):r.onload=()=>{s(r)}});const i=new He(r,{resolution:fo(t),...e.data});return i.resource.src=t,Ef(i,n,t)},unload(t){t.destroy(!0)}};Ae.add(fc);const QB={extension:{type:be.LoadParser,priority:ds.High},test(t){return An.extname(t).toLowerCase()===".svg"},async testParse(t){return dc.test(t)},async parse(t,e,n){var o,a,l;const r=new dc(t,(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions),i=new He(r,{resolution:fo(t),...e==null?void 0:e.data});i.resource.src=t;const s=Ef(i,n,t);return(l=(a=e==null?void 0:e.data)==null?void 0:a.resourceOptions)!=null&&l.autoLoad||await r.load(),s},async load(t,e){return(await we.ADAPTER.fetch(t)).text()},unload:fc.unload};Ae.add(QB);class VPe{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,n)=>`${e}${this._bundleIdConnector}${n}`,extractAssetIdFromBundle:(e,n)=>n.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(n=>{this._preferredOrder.push(n),n.priority||(n.priority=Object.keys(n.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const n=e;this._defaultSearchParams=Object.keys(n).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(n[r])}`).join("&")}}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(n=>{this.addBundle(n.name,n.assets)})}addBundle(e,n){const r=[];Array.isArray(n)?n.forEach(i=>{if(typeof i.name=="string"){const s=this._createBundleAssetId(e,i.name);r.push(s),this.add([i.name,s],i.srcs,i.data)}else{const s=i.name.map(o=>this._createBundleAssetId(e,o));s.forEach(o=>{r.push(o)}),this.add([...i.name,...s],i.srcs)}}):Object.keys(n).forEach(i=>{r.push(this._createBundleAssetId(e,i)),this.add([i,this._createBundleAssetId(e,i)],n[i])}),this._bundles[e]=r}add(e,n,r){const i=Ms(e);i.forEach(o=>{this.hasKey(o)&&console.warn(`[Resolver] already has key: ${o} overwriting`)}),Array.isArray(n)||(typeof n=="string"?n=VB(n):n=[n]);const s=n.map(o=>{let a=o;if(typeof o=="string"){let l=!1;for(let c=0;c<this._parsers.length;c++){const h=this._parsers[c];if(h.test(o)){a=h.parse(o),l=!0;break}}l||(a={src:o})}return a.format||(a.format=a.src.split(".").pop()),a.alias||(a.alias=i),(this._basePath||this._rootPath)&&(a.src=An.toAbsolute(a.src,this._basePath,this._rootPath)),a.src=this._appendDefaultSearchParams(a.src),a.data=a.data??r,a});i.forEach(o=>{this._assetMap[o]=s})}resolveBundle(e){const n=$d(e);e=Ms(e);const r={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const l in o){const c=o[l];a[this._extractAssetIdFromBundle(i,l)]=c}r[i]=a}}),n?r[e[0]]:r}resolveUrl(e){const n=this.resolve(e);if(typeof e!="string"){const r={};for(const i in n)r[i]=n[i].src;return r}return n.src}resolve(e){const n=$d(e);e=Ms(e);const r={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=this._getPreferredOrder(s),a=s[0];o==null||o.priority.forEach(l=>{o.params[l].forEach(c=>{const h=s.filter(f=>f[l]?f[l]===c:!1);h.length&&(s=h)})}),this._resolverHash[i]=s[0]??a}else{let s=i;(this._basePath||this._rootPath)&&(s=An.toAbsolute(s,this._basePath,this._rootPath)),s=this._appendDefaultSearchParams(s),this._resolverHash[i]={src:s}}r[i]=this._resolverHash[i]}),n?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let n=0;n<e.length;n++){const r=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(r.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const n=/\?/.test(e)?"&":"?";return`${e}${n}${this._defaultSearchParams}`}}class JB{constructor(){this._detections=[],this._initialized=!1,this.resolver=new VPe,this.loader=new LPe,this.cache=vu,this._backgroundLoader=new FPe(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o,a;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let l=e.manifest;typeof l=="string"&&(l=await this.load(l)),this.resolver.addManifest(l)}const n=((s=e.texturePreference)==null?void 0:s.resolution)??1,r=typeof n=="number"?[n]:n;let i=[];if((o=e.texturePreference)!=null&&o.format){const l=(a=e.texturePreference)==null?void 0:a.format;i=typeof l=="string"?[l]:l;for(const c of this._detections)await c.test()||(i=await c.remove(i))}else for(const l of this._detections)await l.test()&&(i=await l.add(i));this.resolver.prefer({params:{format:i,resolution:r}})}add(e,n,r){this.resolver.add(e,n,r)}async load(e,n){this._initialized||await this.init();const r=$d(e),i=Ms(e).map(a=>typeof a!="string"?(this.resolver.add(a.src,a),a.src):(this.resolver.hasKey(a)||this.resolver.add(a,a),a)),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,n);return r?o[i[0]]:o}addBundle(e,n){this.resolver.addBundle(e,n)}async loadBundle(e,n){this._initialized||await this.init();let r=!1;typeof e=="string"&&(r=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0,l=0;const c=()=>{n==null||n(++a/l)},h=o.map(f=>{const p=i[f];return l+=Object.keys(p).length,this._mapLoadToResolve(p,c).then(m=>{s[f]=m})});return await Promise.all(h),r?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(n))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolveBundle(e);Object.values(n).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return vu.get(e);const n={};for(let r=0;r<e.length;r++)n[r]=vu.get(e[r]);return n}async _mapLoadToResolve(e,n){const r=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(r,n);this._backgroundLoader.active=!0;const o={};return r.forEach((a,l)=>{const c=s[a.src],h=[a.src];a.alias&&h.push(...a.alias),o[i[l]]=c,vu.set(h,c)}),o}async unload(e){this._initialized||await this.init();const n=Ms(e).map(i=>typeof i!="string"?i.src:i),r=this.resolver.resolve(n);await this._unloadFromResolved(r)}async unloadBundle(e){this._initialized||await this.init(),e=Ms(e);const n=this.resolver.resolveBundle(e),r=Object.keys(n).map(i=>this._unloadFromResolved(n[i]));await Promise.all(r)}async _unloadFromResolved(e){const n=Object.values(e);n.forEach(r=>{vu.remove(r.src)}),await this.loader.unload(n)}get detections(){return this._detections}get preferWorkers(){return fc.config.preferWorkers}set preferWorkers(e){fc.config.preferWorkers=e}}const Ga=new JB;Ae.handleByList(be.LoadParser,Ga.loader.parsers).handleByList(be.ResolveParser,Ga.resolver.parsers).handleByList(be.CacheParser,Ga.cache.parsers).handleByList(be.DetectionParser,Ga.detections);const eN={extension:be.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof xe),getCacheableAssets:(t,e)=>{const n={};return t.forEach(r=>{e.forEach((i,s)=>{n[r+(s===0?"":s+1)]=i})}),n}};Ae.add(eN);const tN={extension:{type:be.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",e=await we.ADAPTER.fetch(t).then(n=>n.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};Ae.add(tN);const nN={extension:{type:be.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",e=await we.ADAPTER.fetch(t).then(n=>n.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};Ae.add(nN);const OR=["png","jpg","jpeg"],rN={extension:{type:be.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...OR],remove:async t=>t.filter(e=>!OR.includes(e))};Ae.add(rN);const iN={extension:be.ResolveParser,test:fc.test,parse:t=>{var e;return{resolution:parseFloat(((e=we.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}};Ae.add(iN);var hr=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(hr||{});const Ud={[33776]:.5,[33777]:.5,[33778]:1,[33779]:1,[35916]:.5,[35917]:.5,[35918]:1,[35919]:1,[37488]:.5,[37489]:.5,[37490]:1,[37491]:1,[37492]:.5,[37496]:1,[37493]:.5,[37497]:1,[37494]:.5,[37495]:.5,[35840]:.5,[35842]:.5,[35841]:.25,[35843]:.25,[36196]:.5,[35986]:.5,[35986]:1,[34798]:1,[37808]:1};let Zs,yu;function IR(){yu={s3tc:Zs.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:Zs.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:Zs.getExtension("WEBGL_compressed_texture_etc"),etc1:Zs.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:Zs.getExtension("WEBGL_compressed_texture_pvrtc")||Zs.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:Zs.getExtension("WEBGL_compressed_texture_atc"),astc:Zs.getExtension("WEBGL_compressed_texture_astc")}}const sN={extension:{type:be.DetectionParser,priority:2},test:async()=>{const e=we.ADAPTER.createCanvas().getContext("webgl");return e?(Zs=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{yu||IR();const e=[];for(const n in yu)yu[n]&&e.push(n);return[...e,...t]},remove:async t=>(yu||IR(),t.filter(e=>!(e in yu)))};Ae.add(sN);class oN extends Fc{constructor(e,n={width:1,height:1,autoLoad:!0}){let r,i;typeof e=="string"?(r=e,i=new Uint8Array):(r=null,i=e),super(i,n),this.origin=r,this.buffer=i?new qg(i):null,this.origin&&n.autoLoad!==!1&&this.load(),i!=null&&i.length&&(this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}async load(){const r=await(await(await fetch(this.origin)).blob()).arrayBuffer();return this.data=new Uint32Array(r),this.buffer=new qg(r),this.loaded=!0,this.onBlobLoaded(r),this.update(),this}}class ea extends oN{constructor(e,n){super(e,n),this.format=n.format,this.levels=n.levels||1,this._width=n.width,this._height=n.height,this._extension=ea._formatToExtension(this.format),(n.levelBuffers||this.buffer)&&(this._levelBuffers=n.levelBuffers||ea._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,n,r){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let o=0,a=this.levels;o<a;o++){const{levelID:l,levelWidth:c,levelHeight:h,levelBuffer:f}=this._levelBuffers[o];i.compressedTexImage2D(i.TEXTURE_2D,l,this.format,c,h,0,f)}return!0}onBlobLoaded(){this._levelBuffers=ea._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,n,r,i,s,o,a){const l=new Array(r);let c=e.byteOffset,h=o,f=a,p=h+i-1&~(i-1),m=f+s-1&~(s-1),v=p*m*Ud[n];for(let y=0;y<r;y++)l[y]={levelID:y,levelWidth:r>1?h:p,levelHeight:r>1?f:m,levelBuffer:new Uint8Array(e.buffer,c,v)},c+=v,h=h>>1||1,f=f>>1||1,p=h+i-1&~(i-1),m=f+s-1&~(s-1),v=p*m*Ud[n];return l}}const Eb=4,lm=124,qPe=32,RR=20,XPe=542327876,um={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},YPe={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},cm={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},KPe=1,ZPe=2,QPe=4,JPe=64,eke=512,tke=131072,nke=827611204,rke=861165636,ike=894720068,ske=808540228,oke=4,ake={[nke]:hr.COMPRESSED_RGBA_S3TC_DXT1_EXT,[rke]:hr.COMPRESSED_RGBA_S3TC_DXT3_EXT,[ike]:hr.COMPRESSED_RGBA_S3TC_DXT5_EXT},lke={[70]:hr.COMPRESSED_RGBA_S3TC_DXT1_EXT,[71]:hr.COMPRESSED_RGBA_S3TC_DXT1_EXT,[73]:hr.COMPRESSED_RGBA_S3TC_DXT3_EXT,[74]:hr.COMPRESSED_RGBA_S3TC_DXT3_EXT,[76]:hr.COMPRESSED_RGBA_S3TC_DXT5_EXT,[77]:hr.COMPRESSED_RGBA_S3TC_DXT5_EXT,[72]:hr.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,[75]:hr.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,[78]:hr.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function aN(t){const e=new Uint32Array(t);if(e[0]!==XPe)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,lm/Uint32Array.BYTES_PER_ELEMENT),i=r[um.HEIGHT],s=r[um.WIDTH],o=r[um.MIPMAP_COUNT],a=new Uint32Array(t,um.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,qPe/Uint32Array.BYTES_PER_ELEMENT),l=a[KPe];if(l&QPe){const c=a[YPe.FOURCC];if(c!==ske){const w=ake[c],E=Eb+lm,O=new Uint8Array(t,E);return[new ea(O,{format:w,width:s,height:i,levels:o})]}const h=Eb+lm,f=new Uint32Array(e.buffer,h,RR/Uint32Array.BYTES_PER_ELEMENT),p=f[cm.DXGI_FORMAT],m=f[cm.RESOURCE_DIMENSION],v=f[cm.MISC_FLAG],y=f[cm.ARRAY_SIZE],x=lke[p];if(x===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${p}`);if(v===oke)throw new Error("DDSParser does not support cubemap textures");if(m===6)throw new Error("DDSParser does not supported 3D texture data");const b=new Array,_=Eb+lm+RR;if(y===1)b.push(new Uint8Array(t,_));else{const w=Ud[x];let E=0,O=s,A=i;for(let L=0;L<o;L++){const H=Math.max(1,O+3&-4),G=Math.max(1,A+3&-4),z=H*G*w;E+=z,O=O>>>1,A=A>>>1}let M=_;for(let L=0;L<y;L++)b.push(new Uint8Array(t,M,E)),M+=E}return b.map(w=>new ea(w,{format:x,width:s,height:i,levels:o}))}throw l&JPe?new Error("DDSParser does not support uncompressed texture data."):l&eke?new Error("DDSParser does not supported YUV uncompressed texture data."):l&tke?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&ZPe?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const MR=[171,75,84,88,32,49,49,187,13,10,26,10],uke=67305985,Ni={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},d_=64,f_={[Oe.UNSIGNED_BYTE]:1,[Oe.UNSIGNED_SHORT]:2,[Oe.INT]:4,[Oe.UNSIGNED_INT]:4,[Oe.FLOAT]:4,[Oe.HALF_FLOAT]:8},lN={[ge.RGBA]:4,[ge.RGB]:3,[ge.RG]:2,[ge.RED]:1,[ge.LUMINANCE]:1,[ge.LUMINANCE_ALPHA]:2,[ge.ALPHA]:1},uN={[Oe.UNSIGNED_SHORT_4_4_4_4]:2,[Oe.UNSIGNED_SHORT_5_5_5_1]:2,[Oe.UNSIGNED_SHORT_5_6_5]:2};function cN(t,e,n=!1){const r=new DataView(e);if(!cke(t,r))return null;const i=r.getUint32(Ni.ENDIANNESS,!0)===uke,s=r.getUint32(Ni.GL_TYPE,i),o=r.getUint32(Ni.GL_FORMAT,i),a=r.getUint32(Ni.GL_INTERNAL_FORMAT,i),l=r.getUint32(Ni.PIXEL_WIDTH,i),c=r.getUint32(Ni.PIXEL_HEIGHT,i)||1,h=r.getUint32(Ni.PIXEL_DEPTH,i)||1,f=r.getUint32(Ni.NUMBER_OF_ARRAY_ELEMENTS,i)||1,p=r.getUint32(Ni.NUMBER_OF_FACES,i),m=r.getUint32(Ni.NUMBER_OF_MIPMAP_LEVELS,i),v=r.getUint32(Ni.BYTES_OF_KEY_VALUE_DATA,i);if(c===0||h!==1)throw new Error("Only 2D textures are supported");if(p!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(f!==1)throw new Error("WebGL does not support array textures");const y=4,x=4,b=l+3&-4,_=c+3&-4,w=new Array(f);let E=l*c;s===0&&(E=b*_);let O;if(s!==0?f_[s]?O=f_[s]*lN[o]:O=uN[s]:O=Ud[a],O===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const A=n?dke(r,v,i):null;let L=E*O,H=l,G=c,z=b,j=_,X=d_+v;for(let V=0;V<m;V++){const he=r.getUint32(X,i);let ce=X+4;for(let te=0;te<f;te++){let Z=w[te];Z||(Z=w[te]=new Array(m)),Z[V]={levelID:V,levelWidth:m>1||s!==0?H:z,levelHeight:m>1||s!==0?G:j,levelBuffer:new Uint8Array(e,ce,L)},ce+=L}X+=he+4,X=X%4!==0?X+4-X%4:X,H=H>>1||1,G=G>>1||1,z=H+y-1&~(y-1),j=G+x-1&~(x-1),L=z*j*O}return s!==0?{uncompressed:w.map(V=>{let he=V[0].levelBuffer,ce=!1;return s===Oe.FLOAT?he=new Float32Array(V[0].levelBuffer.buffer,V[0].levelBuffer.byteOffset,V[0].levelBuffer.byteLength/4):s===Oe.UNSIGNED_INT?(ce=!0,he=new Uint32Array(V[0].levelBuffer.buffer,V[0].levelBuffer.byteOffset,V[0].levelBuffer.byteLength/4)):s===Oe.INT&&(ce=!0,he=new Int32Array(V[0].levelBuffer.buffer,V[0].levelBuffer.byteOffset,V[0].levelBuffer.byteLength/4)),{resource:new Fc(he,{width:V[0].levelWidth,height:V[0].levelHeight}),type:s,format:ce?hke(o):o}}),kvData:A}:{compressed:w.map(V=>new ea(null,{format:a,width:l,height:c,levels:m,levelBuffers:V})),kvData:A}}function cke(t,e){for(let n=0;n<MR.length;n++)if(e.getUint8(n)!==MR[n])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function hke(t){switch(t){case ge.RGBA:return ge.RGBA_INTEGER;case ge.RGB:return ge.RGB_INTEGER;case ge.RG:return ge.RG_INTEGER;case ge.RED:return ge.RED_INTEGER;default:return t}}function dke(t,e,n){const r=new Map;let i=0;for(;i<e;){const s=t.getUint32(d_+i,n),o=d_+i+4,a=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<s&&t.getUint8(o+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const c=new TextDecoder().decode(new Uint8Array(t.buffer,o,l)),h=new DataView(t.buffer,o+l+1,s-l-1);r.set(c,h),i+=4+s+a}return r}const hN={extension:{type:be.LoadParser,priority:ds.High},test(t){return Sf(t,".dds")},async load(t,e,n){const i=await(await we.ADAPTER.fetch(t)).arrayBuffer(),o=aN(i).map(a=>{const l=new He(a,{mipmap:as.OFF,alphaMode:Pi.NO_PREMULTIPLIED_ALPHA,resolution:fo(t),...e.data});return Ef(l,n,t)});return o.length===1?o[0]:o},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};Ae.add(hN);const dN={extension:{type:be.LoadParser,priority:ds.High},test(t){return Sf(t,".ktx")},async load(t,e,n){const i=await(await we.ADAPTER.fetch(t)).arrayBuffer(),{compressed:s,uncompressed:o,kvData:a}=cN(t,i),l=s??o,c={mipmap:as.OFF,alphaMode:Pi.NO_PREMULTIPLIED_ALPHA,resolution:fo(t),...e.data},h=l.map(f=>{l===o&&Object.assign(c,{type:f.type,format:f.format});const p=new He(f,c);return p.ktxKeyValueData=a,Ef(p,n,t)});return h.length===1?h[0]:h},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};Ae.add(dN);const fN={extension:be.ResolveParser,test:t=>{const n=t.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(n)},parse:t=>{var r,i;if(t.split("?")[0].split(".").pop()==="ktx"){const s=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(s.some(o=>t.endsWith(o)))return{resolution:parseFloat(((r=we.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:s.find(o=>t.endsWith(o)),src:t}}return{resolution:parseFloat(((i=we.RETINA_PREFIX.exec(t))==null?void 0:i[1])??"1"),format:t.split(".").pop(),src:t}}};Ae.add(fN);const fke=new qe,pke=4,p_=class{constructor(t){this.renderer=t}async image(t,e,n){const r=new Image;return r.src=await this.base64(t,e,n),r}async base64(t,e,n){const r=this.canvas(t);if(r.toDataURL!==void 0)return r.toDataURL(e,n);if(r.convertToBlob!==void 0){const i=await r.convertToBlob({type:e,quality:n});return await new Promise(s=>{const o=new FileReader;o.onload=()=>s(o.result),o.readAsDataURL(i)})}throw new Error("Extract.base64() requires ICanvas.toDataURL or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:n,width:r,height:i,flipY:s}=this._rawPixels(t,e);let o=new r_(r,i,1);const a=o.context.getImageData(0,0,r,i);if(p_.arrayPostDivide(n,a.data),o.context.putImageData(a,0,0),s){const l=new r_(o.width,o.height,1);l.context.scale(1,-1),l.context.drawImage(o.canvas,0,-i),o.destroy(),o=l}return o.canvas}pixels(t,e){const{pixels:n}=this._rawPixels(t,e);return p_.arrayPostDivide(n,n),n}_rawPixels(t,e){const n=this.renderer;let r,i=!1,s,o=!1;if(t)if(t instanceof go)s=t;else{const f=n.context.webGLVersion>=2?n.multisample:qt.NONE;if(s=this.renderer.generateTexture(t,{multisample:f}),f!==qt.NONE){const p=go.create({width:s.width,height:s.height});n.framebuffer.bind(s.framebuffer),n.framebuffer.blit(p.framebuffer),n.framebuffer.bind(null),s.destroy(!0),s=p}o=!0}s?(r=s.baseTexture.resolution,e=e??s.frame,i=!1,n.renderTexture.bind(s)):(r=n.resolution,e||(e=fke,e.width=n.width,e.height=n.height),i=!0,n.renderTexture.bind(null));const a=Math.round(e.width*r),l=Math.round(e.height*r),c=new Uint8Array(pke*a*l),h=n.gl;return h.readPixels(Math.round(e.x*r),Math.round(e.y*r),a,l,h.RGBA,h.UNSIGNED_BYTE,c),o&&s.destroy(!0),{pixels:c,width:a,height:l,flipY:i}}destroy(){this.renderer=null}static arrayPostDivide(t,e){for(let n=0;n<t.length;n+=4){const r=e[n+3]=t[n+3];r!==0?(e[n]=Math.round(Math.min(t[n]*255/r,255)),e[n+1]=Math.round(Math.min(t[n+1]*255/r,255)),e[n+2]=Math.round(Math.min(t[n+2]*255/r,255))):(e[n]=t[n],e[n+1]=t[n+1],e[n+2]=t[n+2])}}};let dC=p_;dC.extension={name:"extract",type:be.RendererSystem};Ae.add(dC);const zd={build(t){const e=t.points;let n,r,i,s,o,a;if(t.type===En.CIRC){const v=t.shape;n=v.x,r=v.y,o=a=v.radius,i=s=0}else if(t.type===En.ELIP){const v=t.shape;n=v.x,r=v.y,o=v.width,a=v.height,i=s=0}else{const v=t.shape,y=v.width/2,x=v.height/2;n=v.x+y,r=v.y+x,o=a=Math.max(0,Math.min(v.radius,Math.min(y,x))),i=y-o,s=x-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}const l=Math.ceil(2.3*Math.sqrt(o+a)),c=l*8+(i?4:0)+(s?4:0);if(e.length=c,c===0)return;if(l===0){e.length=8,e[0]=e[6]=n+i,e[1]=e[3]=r+s,e[2]=e[4]=n-i,e[5]=e[7]=r-s;return}let h=0,f=l*4+(i?2:0)+2,p=f,m=c;{const v=i+o,y=s,x=n+v,b=n-v,_=r+y;if(e[h++]=x,e[h++]=_,e[--f]=_,e[--f]=b,s){const w=r-y;e[p++]=b,e[p++]=w,e[--m]=w,e[--m]=x}}for(let v=1;v<l;v++){const y=Math.PI/2*(v/l),x=i+Math.cos(y)*o,b=s+Math.sin(y)*a,_=n+x,w=n-x,E=r+b,O=r-b;e[h++]=_,e[h++]=E,e[--f]=E,e[--f]=w,e[p++]=w,e[p++]=O,e[--m]=O,e[--m]=_}{const v=i,y=s+a,x=n+v,b=n-v,_=r+y,w=r-y;e[h++]=x,e[h++]=_,e[--m]=w,e[--m]=x,i&&(e[h++]=b,e[h++]=_,e[--m]=w,e[--m]=b)}},triangulate(t,e){const n=t.points,r=e.points,i=e.indices;if(n.length===0)return;let s=r.length/2;const o=s;let a,l;if(t.type!==En.RREC){const h=t.shape;a=h.x,l=h.y}else{const h=t.shape;a=h.x+h.width/2,l=h.y+h.height/2}const c=t.matrix;r.push(t.matrix?c.a*a+c.c*l+c.tx:a,t.matrix?c.b*a+c.d*l+c.ty:l),s++,r.push(n[0],n[1]);for(let h=2;h<n.length;h+=2)r.push(n[h],n[h+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function FR(t,e=!1){const n=t.length;if(n<6)return;let r=0;for(let i=0,s=t[n-2],o=t[n-1];i<n;i+=2){const a=t[i],l=t[i+1];r+=(a-s)*(l+o),s=a,o=l}if(!e&&r>0||e&&r<=0){const i=n/2;for(let s=i+i%2;s<n;s+=2){const o=n-s-2,a=n-s-1,l=s,c=s+1;[t[o],t[l]]=[t[l],t[o]],[t[a],t[c]]=[t[c],t[a]]}}}const fC={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let n=t.points;const r=t.holes,i=e.points,s=e.indices;if(n.length>=6){FR(n,!1);const o=[];for(let c=0;c<r.length;c++){const h=r[c];FR(h.points,!0),o.push(n.length/2),n=n.concat(h.points)}const a=kd(n,o,2);if(!a)return;const l=i.length/2;for(let c=0;c<a.length;c+=3)s.push(a[c]+l),s.push(a[c+1]+l),s.push(a[c+2]+l);for(let c=0;c<n.length;c++)i.push(n[c])}}},pN={build(t){const e=t.shape,n=e.x,r=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(n,r,n+i,r,n+i,r+s,n,r+s)},triangulate(t,e){const n=t.points,r=e.points;if(n.length===0)return;const i=r.length/2;r.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},mN={build(t){zd.build(t)},triangulate(t,e){zd.triangulate(t,e)}};var ai=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(ai||{}),Wo=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Wo||{});const oa={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let n=Math.ceil(t/this.maxLength);return n<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n}},mke=oa;class m_{static curveTo(e,n,r,i,s,o){const a=o[o.length-2],c=o[o.length-1]-n,h=a-e,f=i-n,p=r-e,m=Math.abs(c*p-h*f);if(m<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==n)&&o.push(e,n),null;const v=c*c+h*h,y=f*f+p*p,x=c*f+h*p,b=s*Math.sqrt(v)/m,_=s*Math.sqrt(y)/m,w=b*x/v,E=_*x/y,O=b*p+_*h,A=b*f+_*c,M=h*(_+w),L=c*(_+w),H=p*(b+E),G=f*(b+E),z=Math.atan2(L-A,M-O),j=Math.atan2(G-A,H-O);return{cx:O+e,cy:A+n,radius:s,startAngle:z,endAngle:j,anticlockwise:h*f>p*c}}static arc(e,n,r,i,s,o,a,l,c){const h=a-o,f=oa._segmentsCount(Math.abs(h)*s,Math.ceil(Math.abs(h)/Ld)*40),p=h/(f*2),m=p*2,v=Math.cos(p),y=Math.sin(p),x=f-1,b=x%1/x;for(let _=0;_<=x;++_){const w=_+b*_,E=p+o+m*w,O=Math.cos(E),A=-Math.sin(E);c.push((v*O+y*A)*s+r,(v*-A+y*O)*s+i)}}}class gN{constructor(){this.reset()}begin(e,n,r){this.reset(),this.style=e,this.start=n,this.attribStart=r}end(e,n){this.attribSize=n-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class I0{static curveLength(e,n,r,i,s,o,a,l){let h=0,f=0,p=0,m=0,v=0,y=0,x=0,b=0,_=0,w=0,E=0,O=e,A=n;for(let M=1;M<=10;++M)f=M/10,p=f*f,m=p*f,v=1-f,y=v*v,x=y*v,b=x*e+3*y*f*r+3*v*p*s+m*a,_=x*n+3*y*f*i+3*v*p*o+m*l,w=O-b,E=A-_,O=b,A=_,h+=Math.sqrt(w*w+E*E);return h}static curveTo(e,n,r,i,s,o,a){const l=a[a.length-2],c=a[a.length-1];a.length-=2;const h=oa._segmentsCount(I0.curveLength(l,c,e,n,r,i,s,o));let f=0,p=0,m=0,v=0,y=0;a.push(l,c);for(let x=1,b=0;x<=h;++x)b=x/h,f=1-b,p=f*f,m=p*f,v=b*b,y=v*b,a.push(m*l+3*p*b*e+3*f*v*r+y*s,m*c+3*p*b*n+3*f*v*i+y*o)}}function DR(t,e,n,r,i,s,o,a){const l=t-n*i,c=e-r*i,h=t+n*s,f=e+r*s;let p,m;o?(p=r,m=-n):(p=-r,m=n);const v=l+p,y=c+m,x=h+p,b=f+m;return a.push(v,y,x,b),2}function Oa(t,e,n,r,i,s,o,a){const l=n-t,c=r-e;let h=Math.atan2(l,c),f=Math.atan2(i-t,s-e);a&&h<f?h+=Math.PI*2:!a&&h>f&&(f+=Math.PI*2);let p=h;const m=f-h,v=Math.abs(m),y=Math.sqrt(l*l+c*c),x=(15*v*Math.sqrt(y)/Math.PI>>0)+1,b=m/x;if(p+=b,a){o.push(t,e,n,r);for(let _=1,w=p;_<x;_++,w+=b)o.push(t,e,t+Math.sin(w)*y,e+Math.cos(w)*y);o.push(t,e,i,s)}else{o.push(n,r,t,e);for(let _=1,w=p;_<x;_++,w+=b)o.push(t+Math.sin(w)*y,e+Math.cos(w)*y,t,e);o.push(i,s,t,e)}return x*2}function gke(t,e){const n=t.shape;let r=t.points||n.points.slice();const i=e.closePointEps;if(r.length===0)return;const s=t.lineStyle,o=new Ie(r[0],r[1]),a=new Ie(r[r.length-2],r[r.length-1]),l=n.type!==En.POLY||n.closeStroke,c=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(l){r=r.slice(),c&&(r.pop(),r.pop(),a.set(r[r.length-2],r[r.length-1]));const te=(o.x+a.x)*.5,Z=(a.y+o.y)*.5;r.unshift(te,Z),r.push(te,Z)}const h=e.points,f=r.length/2;let p=r.length;const m=h.length/2,v=s.width/2,y=v*v,x=s.miterLimit*s.miterLimit;let b=r[0],_=r[1],w=r[2],E=r[3],O=0,A=0,M=-(_-E),L=b-w,H=0,G=0,z=Math.sqrt(M*M+L*L);M/=z,L/=z,M*=v,L*=v;const j=s.alignment,X=(1-j)*2,V=j*2;l||(s.cap===Wo.ROUND?p+=Oa(b-M*(X-V)*.5,_-L*(X-V)*.5,b-M*X,_-L*X,b+M*V,_+L*V,h,!0)+2:s.cap===Wo.SQUARE&&(p+=DR(b,_,M,L,X,V,!0,h))),h.push(b-M*X,_-L*X,b+M*V,_+L*V);for(let te=1;te<f-1;++te){b=r[(te-1)*2],_=r[(te-1)*2+1],w=r[te*2],E=r[te*2+1],O=r[(te+1)*2],A=r[(te+1)*2+1],M=-(_-E),L=b-w,z=Math.sqrt(M*M+L*L),M/=z,L/=z,M*=v,L*=v,H=-(E-A),G=w-O,z=Math.sqrt(H*H+G*G),H/=z,G/=z,H*=v,G*=v;const Z=w-b,le=_-E,W=w-O,R=A-E,D=Z*W+le*R,Q=le*W-R*Z,K=Q<0;if(Math.abs(Q)<.001*Math.abs(D)){h.push(w-M*X,E-L*X,w+M*V,E+L*V),D>=0&&(s.join===ai.ROUND?p+=Oa(w,E,w-M*X,E-L*X,w-H*X,E-G*X,h,!1)+4:p+=2,h.push(w-H*V,E-G*V,w+H*X,E+G*X));continue}const $=(-M+b)*(-L+E)-(-M+w)*(-L+_),ne=(-H+O)*(-G+E)-(-H+w)*(-G+A),me=(Z*ne-W*$)/Q,Re=(R*$-le*ne)/Q,ke=(me-w)*(me-w)+(Re-E)*(Re-E),Ke=w+(me-w)*X,Xe=E+(Re-E)*X,nt=w-(me-w)*V,Pe=E-(Re-E)*V,st=Math.min(Z*Z+le*le,W*W+R*R),gt=K?X:V,un=st+gt*gt*y,rn=ke<=un;let Ze=s.join;if(Ze===ai.MITER&&ke/y>x&&(Ze=ai.BEVEL),rn)switch(Ze){case ai.MITER:{h.push(Ke,Xe,nt,Pe);break}case ai.BEVEL:{K?h.push(Ke,Xe,w+M*V,E+L*V,Ke,Xe,w+H*V,E+G*V):h.push(w-M*X,E-L*X,nt,Pe,w-H*X,E-G*X,nt,Pe),p+=2;break}case ai.ROUND:{K?(h.push(Ke,Xe,w+M*V,E+L*V),p+=Oa(w,E,w+M*V,E+L*V,w+H*V,E+G*V,h,!0)+4,h.push(Ke,Xe,w+H*V,E+G*V)):(h.push(w-M*X,E-L*X,nt,Pe),p+=Oa(w,E,w-M*X,E-L*X,w-H*X,E-G*X,h,!1)+4,h.push(w-H*X,E-G*X,nt,Pe));break}}else{switch(h.push(w-M*X,E-L*X,w+M*V,E+L*V),Ze){case ai.MITER:{K?h.push(nt,Pe,nt,Pe):h.push(Ke,Xe,Ke,Xe),p+=2;break}case ai.ROUND:{K?p+=Oa(w,E,w+M*V,E+L*V,w+H*V,E+G*V,h,!0)+2:p+=Oa(w,E,w-M*X,E-L*X,w-H*X,E-G*X,h,!1)+2;break}}h.push(w-H*X,E-G*X,w+H*V,E+G*V),p+=2}}b=r[(f-2)*2],_=r[(f-2)*2+1],w=r[(f-1)*2],E=r[(f-1)*2+1],M=-(_-E),L=b-w,z=Math.sqrt(M*M+L*L),M/=z,L/=z,M*=v,L*=v,h.push(w-M*X,E-L*X,w+M*V,E+L*V),l||(s.cap===Wo.ROUND?p+=Oa(w-M*(X-V)*.5,E-L*(X-V)*.5,w-M*X,E-L*X,w+M*V,E+L*V,h,!1)+2:s.cap===Wo.SQUARE&&(p+=DR(w,E,M,L,X,V,!1,h)));const he=e.indices,ce=oa.epsilon*oa.epsilon;for(let te=m;te<p+m-2;++te)b=h[te*2],_=h[te*2+1],w=h[(te+1)*2],E=h[(te+1)*2+1],O=h[(te+2)*2],A=h[(te+2)*2+1],!(Math.abs(b*(E-A)+w*(A-_)+O*(_-E))<ce)&&he.push(te,te+1,te+2)}function vke(t,e){let n=0;const r=t.shape,i=t.points||r.points,s=r.type!==En.POLY||r.closeStroke;if(i.length===0)return;const o=e.points,a=e.indices,l=i.length/2,c=o.length/2;let h=c;for(o.push(i[0],i[1]),n=1;n<l;n++)o.push(i[n*2],i[n*2+1]),a.push(h,h+1),h++;s&&a.push(h,c)}function g_(t,e){t.lineStyle.native?vke(t,e):gke(t,e)}class R0{static curveLength(e,n,r,i,s,o){const a=e-2*r+s,l=n-2*i+o,c=2*r-2*e,h=2*i-2*n,f=4*(a*a+l*l),p=4*(a*c+l*h),m=c*c+h*h,v=2*Math.sqrt(f+p+m),y=Math.sqrt(f),x=2*f*y,b=2*Math.sqrt(m),_=p/y;return(x*v+y*p*(v-b)+(4*m*f-p*p)*Math.log((2*y+_+v)/(_+b)))/(4*x)}static curveTo(e,n,r,i,s){const o=s[s.length-2],a=s[s.length-1],l=oa._segmentsCount(R0.curveLength(o,a,e,n,r,i));let c=0,h=0;for(let f=1;f<=l;++f){const p=f/l;c=o+(e-o)*p,h=a+(n-a)*p,s.push(c+(e+(r-e)*p-c)*p,h+(n+(i-n)*p-h)*p)}}}const Hm={[En.POLY]:fC,[En.CIRC]:zd,[En.ELIP]:zd,[En.RECT]:pN,[En.RREC]:mN},v_=[],Lh=[];class Hd{constructor(e,n=null,r=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=r,this.fillStyle=n,this.matrix=i,this.type=e.type}clone(){return new Hd(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Kl=new Ie,vN=class extends O2{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Bd,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),Lh.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),v_.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,n=null,r=null){const i=new Hd(t,e,n,r);return this.graphicsData.push(i),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const n=new Hd(t,null,null,e),r=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=r.lineStyle,r.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let n=0;n<e.length;++n){const r=e[n];if(r.fillStyle.visible&&r.shape&&(r.matrix?r.matrix.applyInverse(t,Kl):Kl.copyFrom(t),r.shape.contains(Kl.x,Kl.y))){let i=!1;if(r.holes){for(let s=0;s<r.holes.length;s++)if(r.holes[s].shape.contains(Kl.x,Kl.y)){i=!0;break}}if(!i)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let n=null,r=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],r=n.style);for(let a=this.shapeIndex;a<e.length;a++){this.shapeIndex++;const l=e[a],c=l.fillStyle,h=l.lineStyle;Hm[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix),(c.visible||h.visible)&&this.processHoles(l.holes);for(let p=0;p<2;p++){const m=p===0?c:h;if(!m.visible)continue;const v=m.texture.baseTexture,y=this.indices.length,x=this.points.length/2;v.wrapMode=Rs.REPEAT,p===0?this.processFill(l):this.processLine(l);const b=this.points.length/2-x;b!==0&&(n&&!this._compareStyles(r,m)&&(n.end(y,x),n=null),n||(n=v_.pop()||new gN,n.begin(m,y,x),this.batches.push(n),r=m),this.addUvs(this.points,t,m.texture,x,b,m.matrix))}}const i=this.indices.length,s=this.points.length/2;if(n&&n.end(i,s),this.batches.length===0){this.batchable=!0;return}const o=s>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&o===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=o?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const n=this.graphicsData[t],r=n.fillStyle,i=n.lineStyle;if(r&&!r.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,n=t.length;e<n;e++){const r=t[e];for(let i=0;i<r.size;i++){const s=r.start+i;this.indicesUint16[s]=this.indicesUint16[s]-r.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<vN.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++He._globalBatch;for(let h=0;h<this.drawCalls.length;h++)this.drawCalls[h].texArray.clear(),Lh.push(this.drawCalls[h]);this.drawCalls.length=0;const e=this.colors,n=this.textureIds;let r=Lh.pop();r||(r=new Yg,r.texArray=new Kg),r.texArray.count=0,r.start=0,r.size=0,r.type=Yi.TRIANGLES;let i=0,s=null,o=0,a=!1,l=Yi.TRIANGLES,c=0;this.drawCalls.push(r);for(let h=0;h<this.batches.length;h++){const f=this.batches[h],p=8,m=f.style,v=m.texture.baseTexture;a!==!!m.native&&(a=!!m.native,l=a?Yi.LINES:Yi.TRIANGLES,s=null,i=p,t++),s!==v&&(s=v,v._batchEnabled!==t&&(i===p&&(t++,i=0,r.size>0&&(r=Lh.pop(),r||(r=new Yg,r.texArray=new Kg),this.drawCalls.push(r)),r.start=c,r.size=0,r.texArray.count=0,r.type=l),v.touched=1,v._batchEnabled=t,v._batchLocation=i,v.wrapMode=Rs.REPEAT,r.texArray.elements[r.texArray.count++]=v,i++)),r.size+=f.size,c+=f.size,o=v._batchLocation,this.addColors(e,m.color,m.alpha,f.attribSize,f.attribStart),this.addTextureIds(n,o,f.attribSize,f.attribStart)}He._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,n=this.colors,r=this.textureIds,i=new ArrayBuffer(t.length*3*4),s=new Float32Array(i),o=new Uint32Array(i);let a=0;for(let l=0;l<t.length/2;l++)s[a++]=t[l*2],s[a++]=t[l*2+1],s[a++]=e[l*2],s[a++]=e[l*2+1],o[a++]=n[l],s[a++]=r[l];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?fC.triangulate(t,this):Hm[t.type].triangulate(t,this)}processLine(t){g_(t,this);for(let e=0;e<t.holes.length;e++)g_(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const n=t[e];Hm[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let n=0;n<t.length/2;n++){const r=t[n*2],i=t[n*2+1];t[n*2]=e.a*r+e.c*i+e.tx,t[n*2+1]=e.b*r+e.d*i+e.ty}}addColors(t,e,n,r,i=0){const s=(e>>16)+(e&65280)+((e&255)<<16),o=C0(s,n);t.length=Math.max(t.length,i+r);for(let a=0;a<r;a++)t[i+a]=o}addTextureIds(t,e,n,r=0){t.length=Math.max(t.length,r+n);for(let i=0;i<n;i++)t[r+i]=e}addUvs(t,e,n,r,i,s=null){let o=0;const a=e.length,l=n.frame;for(;o<i;){let h=t[(r+o)*2],f=t[(r+o)*2+1];if(s){const p=s.a*h+s.c*f+s.tx;f=s.b*h+s.d*f+s.ty,h=p}o++,e.push(h/l.width,f/l.height)}const c=n.baseTexture;(l.width<c.width||l.height<c.height)&&this.adjustUvs(e,n,a,i)}adjustUvs(t,e,n,r){const i=e.baseTexture,s=1e-6,o=n+r*2,a=e.frame,l=a.width/i.width,c=a.height/i.height;let h=a.x/a.width,f=a.y/a.height,p=Math.floor(t[n]+s),m=Math.floor(t[n+1]+s);for(let v=n+2;v<o;v+=2)p=Math.min(p,Math.floor(t[v]+s)),m=Math.min(m,Math.floor(t[v+1]+s));h-=p,f-=m;for(let v=n;v<o;v+=2)t[v]=(t[v]+h)*l,t[v+1]=(t[v+1]+f)*c}};let pC=vN;pC.BATCHABLE_SIZE=100;class Cf{constructor(){this.color=16777215,this.alpha=1,this.texture=xe.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Cf;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=xe.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class M0 extends Cf{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Wo.BUTT,this.join=ai.MITER,this.miterLimit=10}clone(){const e=new M0;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const yke=new Float32Array(3),Cb={},jm=class extends nr{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Cf,this._lineStyle=new M0,this._matrix=null,this._holeMode=!1,this.state=Ls.for2d(),this._geometry=t||new pC,this._geometry.refCount++,this._transformID=-1,this.tint=16777215,this.blendMode=Me.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new jm(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tint}set tint(t){this._tint=t}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,n=1,r=.5,i=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:n,alignment:r,native:i}),this.lineTextureStyle(t)}lineTextureStyle(t){t=Object.assign({width:0,texture:xe.WHITE,color:t!=null&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Wo.BUTT,join:ai.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();const e=t.width>0&&t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:e},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new Ja,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new Ja,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,r=n[n.length-2],i=n[n.length-1];return(r!==t||i!==e)&&n.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,n,r){this._initCurve();const i=this.currentPath.points;return i.length===0&&this.moveTo(0,0),R0.curveTo(t,e,n,r,i),this}bezierCurveTo(t,e,n,r,i,s){return this._initCurve(),I0.curveTo(t,e,n,r,i,s,this.currentPath.points),this}arcTo(t,e,n,r,i){this._initCurve(t,e);const s=this.currentPath.points,o=m_.curveTo(t,e,n,r,i,s);if(o){const{cx:a,cy:l,radius:c,startAngle:h,endAngle:f,anticlockwise:p}=o;this.arc(a,l,c,h,f,p)}return this}arc(t,e,n,r,i,s=!1){if(r===i)return this;if(!s&&i<=r?i+=Ld:s&&r<=i&&(r+=Ld),i-r===0)return this;const a=t+Math.cos(r)*n,l=e+Math.sin(r)*n,c=this._geometry.closePointEps;let h=this.currentPath?this.currentPath.points:null;if(h){const f=Math.abs(h[h.length-2]-a),p=Math.abs(h[h.length-1]-l);f<c&&p<c||h.push(a,l)}else this.moveTo(a,l),h=this.currentPath.points;return m_.arc(a,l,t,e,n,r,i,s,h),this}beginFill(t=0,e=1){return this.beginTextureFill({texture:xe.WHITE,color:t,alpha:e})}beginTextureFill(t){t=Object.assign({texture:xe.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();const e=t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:e},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,n,r){return this.drawShape(new qe(t,e,n,r))}drawRoundedRect(t,e,n,r,i){return this.drawShape(new hc(t,e,n,r,i))}drawCircle(t,e,n){return this.drawShape(new cc(t,e,n))}drawEllipse(t,e,n,r){return this.drawShape(new A0(t,e,n,r))}drawPolygon(...t){let e,n=!0;const r=t[0];r.points?(n=r.closeStroke,e=r.points):Array.isArray(t[0])?e=t[0]:e=t;const i=new Ja(e);return i.closeStroke=n,this.drawShape(i),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===En.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,n=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(t.points);for(let r=0;r<n;r++){const i=t.batches[r],s=i.style.color,o=new Float32Array(this.vertexData.buffer,i.attribStart*4*2,i.attribSize*2),a=new Float32Array(t.uvsFloat32.buffer,i.attribStart*4*2,i.attribSize*2),l=new Uint16Array(t.indicesUint16.buffer,i.start*2,i.size),c={vertexData:o,blendMode:e,indices:l,uvs:a,_batchRGB:dl(s),_tintRGB:s,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[r]=c}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,n=this.batches.length;e<n;e++){const r=this.batches[e];r.worldAlpha=this.worldAlpha*r.alpha,t.plugins[this.pluginName].render(r)}}}_renderDirect(t){const e=this._resolveDirectShader(t),n=this._geometry,r=this.tint,i=this.worldAlpha,s=e.uniforms,o=n.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(r>>16&255)/255*i,s.tint[1]=(r>>8&255)/255*i,s.tint[2]=(r&255)/255*i,s.tint[3]=i,t.shader.bind(e),t.geometry.bind(n,e),t.state.set(this.state);for(let a=0,l=o.length;a<l;a++)this._renderDrawCallDirect(t,n.drawCalls[a])}_renderDrawCallDirect(t,e){const{texArray:n,type:r,size:i,start:s}=e,o=n.count;for(let a=0;a<o;a++)t.texture.bind(n.elements[a],a);t.geometry.draw(r,i,s)}_resolveDirectShader(t){let e=this.shader;const n=this.pluginName;if(!e){if(!Cb[n]){const{maxTextures:r}=t.plugins[n],i=new Int32Array(r);for(let a=0;a<r;a++)i[a]=a;const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new Nt,default:xi.from({uSamplers:i},!0)},o=t.plugins[n]._shader.program;Cb[n]=new rs(o,s)}e=Cb[n]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:n,maxX:r,maxY:i}=t.bounds;this._bounds.addFrame(this.transform,e,n,r,i)}containsPoint(t){return this.worldTransform.applyInverse(t,jm._TEMP_POINT),this._geometry.containsPoint(jm._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this.tint;const t=dl(this.tint,yke);for(let e=0;e<this.batches.length;e++){const n=this.batches[e],r=n._batchRGB,i=t[0]*r[0]*255,s=t[1]*r[1]*255,o=t[2]*r[2]*255,a=(i<<16)+(s<<8)+(o|0);n._tintRGB=(a>>16)+(a&65280)+((a&255)<<16)}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,n=e.a,r=e.b,i=e.c,s=e.d,o=e.tx,a=e.ty,l=this._geometry.points,c=this.vertexData;let h=0;for(let f=0;f<l.length;f+=2){const p=l[f],m=l[f+1];c[h++]=n*p+i*m+o,c[h++]=s*m+r*p+a}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};let pl=jm;pl.curves=oa;pl._TEMP_POINT=new Ie;const bke={buildPoly:fC,buildCircle:zd,buildRectangle:pN,buildRoundedRectangle:mN,buildLine:g_,ArcUtils:m_,BezierUtils:I0,QuadraticUtils:R0,BatchPart:gN,FILL_COMMANDS:Hm,BATCH_POOL:v_,DRAW_CALL_POOL:Lh};class yN{constructor(e,n){this.uvBuffer=e,this.uvMatrix=n,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const n=this.uvBuffer.data;(!this.data||this.data.length!==n.length)&&(this.data=new Float32Array(n.length)),this.uvMatrix.multiplyUvs(n,this.data),this._updateID++}}const Tb=new Ie,LR=new Ja,bN=class extends nr{constructor(t,e,n,r=Yi.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=n||Ls.for2d(),this.drawMode=r,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=we.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Yi.TRIANGLES&&e.length<bN.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]),t.plugins[r].render(this)}calculateVertices(){const e=this.geometry.buffers[0],n=e.data,r=e._updateID;if(r===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==n.length&&(this.vertexData=new Float32Array(n.length));const i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,l=i.d,c=i.tx,h=i.ty,f=this.vertexData;for(let p=0;p<f.length/2;p++){const m=n[p*2],v=n[p*2+1];f[p*2]=s*m+a*v+c,f[p*2+1]=o*m+l*v+h}if(this._roundPixels){const p=we.RESOLUTION;for(let m=0;m<f.length;++m)f[m]=Math.round(f[m]*p)/p}this.vertexDirty=r}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new yN(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,Tb);const e=this.geometry.getBuffer("aVertexPosition").data,n=LR.points,r=this.geometry.getIndex().data,i=r.length,s=this.drawMode===4?3:1;for(let o=0;o+2<i;o+=s){const a=r[o]*2,l=r[o+1]*2,c=r[o+2]*2;if(n[0]=e[a],n[1]=e[a+1],n[2]=e[l],n[3]=e[l+1],n[4]=e[c],n[5]=e[c+1],LR.contains(Tb.x,Tb.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let ml=bN;ml.BATCHABLE_SIZE=100;class Tf extends po{constructor(e,n,r){super();const i=new tn(e),s=new tn(n,!0),o=new tn(r,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,Oe.FLOAT).addAttribute("aTextureCoord",s,2,!1,Oe.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var xke=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,wke=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class pc extends rs{constructor(e,n){const r={uSampler:e,alpha:1,uTextureMatrix:Nt.IDENTITY,uColor:new Float32Array([1,1,1,1])};n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(r,n.uniforms),super(n.program||mi.from(wke,xke),r),this._colorDirty=!1,this.uvMatrix=new P0(e),this.batchable=n.program===void 0,this.pluginName=n.pluginName,this.tint=n.tint,this.alpha=n.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16),this._colorDirty=!0)}get tint(){return this._tint}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture;P2(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class xN extends Tf{constructor(e=100,n=100,r=10,i=10){super(),this.segWidth=r,this.segHeight=i,this.width=e,this.height=n,this.build()}build(){const e=this.segWidth*this.segHeight,n=[],r=[],i=[],s=this.segWidth-1,o=this.segHeight-1,a=this.width/s,l=this.height/o;for(let h=0;h<e;h++){const f=h%this.segWidth,p=h/this.segWidth|0;n.push(f*a,p*l),r.push(f/s,p/o)}const c=s*o;for(let h=0;h<c;h++){const f=h%s,p=h/s|0,m=p*this.segWidth+f,v=p*this.segWidth+f+1,y=(p+1)*this.segWidth+f,x=(p+1)*this.segWidth+f+1;i.push(m,v,y,v,x,y)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class wN extends Tf{constructor(e=200,n,r=0){super(new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6)),this.points=n,this._width=e,this.textureScale=r,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const n=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;n.data.length/4!==e.length&&(n.data=new Float32Array(e.length*4),r.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=r.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let a=0,l=e[0];const c=this._width*this.textureScale,h=e.length;for(let p=0;p<h;p++){const m=p*4;if(this.textureScale>0){const v=l.x-e[p].x,y=l.y-e[p].y,x=Math.sqrt(v*v+y*y);l=e[p],a+=x/c}else a=p/(h-1);s[m]=a,s[m+1]=0,s[m+2]=a,s[m+3]=1}let f=0;for(let p=0;p<h-1;p++){const m=p*2;o[f++]=m,o[f++]=m+1,o[f++]=m+2,o[f++]=m+2,o[f++]=m+1,o[f++]=m+3}r.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let n=e[0],r,i=0,s=0;const o=this.buffers[0].data,a=e.length,l=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let c=0;c<a;c++){const h=e[c],f=c*4;c<e.length-1?r=e[c+1]:r=h,s=-(r.x-n.x),i=r.y-n.y;const p=Math.sqrt(i*i+s*s);p<1e-6?(i=0,s=0):(i/=p,s/=p,i*=l,s*=l),o[f]=h.x+i,o[f+1]=h.y+s,o[f+2]=h.x-i,o[f+3]=h.y-s,n=h}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class _N extends ml{constructor(e,n,r){const i=new xN(e.width,e.height,n,r),s=new pc(xe.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:n,height:r}=this.shader.texture;this.autoResize&&(e.width!==n||e.height!==r)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const hm=10;class _ke extends _N{constructor(e,n=hm,r=hm,i=hm,s=hm){super(xe.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=n,this._rightWidth=i,this._topHeight=r,this._bottomHeight=s,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,n=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*n,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*n,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,n=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*n,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*n,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,n=this._width>e?1:this._width/e,r=this._topHeight+this._bottomHeight,i=this._height>r?1:this._height/r;return Math.min(n,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,n=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const r=1/this._origWidth,i=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=r*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-r*this._rightWidth,n[9]=n[11]=n[13]=n[15]=i*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class Ske extends ml{constructor(e=xe.EMPTY,n,r,i,s){const o=new Tf(n,r,i);o.getBuffer("aVertexPosition").static=!1;const a=new pc(e);super(o,a,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class Eke extends ml{constructor(e,n,r=0){const i=new wN(e.height,n,r),s=new pc(e);r>0&&(e.baseTexture.wrapMode=Rs.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),super._render(e)}}class Cke extends nr{constructor(e=1500,n,r=16384,i=!1){super();const s=16384;r>s&&(r=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=r,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=Me.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(n),this._tint=0,this.tintRgb=new Float32Array(4),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tint}set tint(e){this._tint=e,dl(e,this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const n=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class BR{constructor(e,n,r){this.geometry=new po,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||Oe.FLOAT,offset:s.offset},n[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let n=0;this.indexBuffer=new tn(eB(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=n,n+=a.size,this.dynamicStride+=a.size}const r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new tn(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new tn(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===Oe.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===Oe.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,n,r){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,n,r,s.type===Oe.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,n,r){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,n,r,s.type===Oe.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var Tke=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,Ake=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class mC extends _f{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Nt,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Oe.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=rs.from(Ake,Tke,{}),this.state=Ls.for2d()}render(e){const n=e.children,r=e._maxSize,i=e._batchSize,s=this.renderer;let o=n.length;if(o===0)return;o>r&&!e.autoResize&&(o=r);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const l=n[0]._texture.baseTexture,c=l.alphaMode>0;this.state.blendMode=A2(e.blendMode,c),s.state.set(this.state);const h=s.gl,f=e.worldTransform.copyTo(this.tempMatrix);f.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=f.toArray(!0),this.shader.uniforms.uColor=QL(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,c),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);let p=!1;for(let m=0,v=0;m<o;m+=i,v+=1){let y=o-m;y>i&&(y=i),v>=a.length&&a.push(this._generateOneMoreBuffer(e));const x=a[v];x.uploadDynamic(n,m,y);const b=e._bufferUpdateIDs[v]||0;p=p||x._updateID<b,p&&(x._updateID=e._updateID,x.uploadStatic(n,m,y)),s.geometry.bind(x.geometry),h.drawElements(h.TRIANGLES,y*6,h.UNSIGNED_SHORT,0)}}generateBuffers(e){const n=[],r=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<r;o+=i)n.push(new BR(this.properties,s,i));return n}_generateOneMoreBuffer(e){const n=e._batchSize,r=e._properties;return new BR(this.properties,r,n)}uploadVertices(e,n,r,i,s,o){let a=0,l=0,c=0,h=0;for(let f=0;f<r;++f){const p=e[n+f],m=p._texture,v=p.scale.x,y=p.scale.y,x=m.trim,b=m.orig;x?(l=x.x-p.anchor.x*b.width,a=l+x.width,h=x.y-p.anchor.y*b.height,c=h+x.height):(a=b.width*(1-p.anchor.x),l=b.width*-p.anchor.x,c=b.height*(1-p.anchor.y),h=b.height*-p.anchor.y),i[o]=l*v,i[o+1]=h*y,i[o+s]=a*v,i[o+s+1]=h*y,i[o+s*2]=a*v,i[o+s*2+1]=c*y,i[o+s*3]=l*v,i[o+s*3+1]=c*y,o+=s*4}}uploadPosition(e,n,r,i,s,o){for(let a=0;a<r;a++){const l=e[n+a].position;i[o]=l.x,i[o+1]=l.y,i[o+s]=l.x,i[o+s+1]=l.y,i[o+s*2]=l.x,i[o+s*2+1]=l.y,i[o+s*3]=l.x,i[o+s*3+1]=l.y,o+=s*4}}uploadRotation(e,n,r,i,s,o){for(let a=0;a<r;a++){const l=e[n+a].rotation;i[o]=l,i[o+s]=l,i[o+s*2]=l,i[o+s*3]=l,o+=s*4}}uploadUvs(e,n,r,i,s,o){for(let a=0;a<r;++a){const l=e[n+a]._texture._uvs;l?(i[o]=l.x0,i[o+1]=l.y0,i[o+s]=l.x1,i[o+s+1]=l.y1,i[o+s*2]=l.x2,i[o+s*2+1]=l.y2,i[o+s*3]=l.x3,i[o+s*3+1]=l.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,n,r,i,s,o){for(let a=0;a<r;++a){const l=e[n+a],c=l._texture.baseTexture.alphaMode>0,h=l.alpha,f=h<1&&c?C0(l._tintRGB,h):l._tintRGB+(h*255<<24);i[o]=f,i[o+s]=f,i[o+s*2]=f,i[o+s*3]=f,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}mC.extension={name:"particle",type:be.RendererPlugin};Ae.add(mC);var Af=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Af||{});const dm={willReadFrequently:!0},Ce=class{static get experimentalLetterSpacingSupported(){let t=Ce._experimentalLetterSpacingSupported;if(t!==void 0){const e=we.ADAPTER.getCanvasRenderingContext2D().prototype;t=Ce._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,n,r,i,s,o,a,l){this.text=t,this.style=e,this.width=n,this.height=r,this.lines=i,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=l}static measureText(t,e,n,r=Ce._canvas){n=n??e.wordWrap;const i=e.toFontString(),s=Ce.measureFont(i);s.fontSize===0&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);const o=r.getContext("2d",dm);o.font=i;const l=(n?Ce.wordWrap(t,e,r):t).split(/(?:\r\n|\r|\n)/),c=new Array(l.length);let h=0;for(let v=0;v<l.length;v++){const y=Ce._measureText(l[v],e.letterSpacing,o);c[v]=y,h=Math.max(h,y)}let f=h+e.strokeThickness;e.dropShadow&&(f+=e.dropShadowDistance);const p=e.lineHeight||s.fontSize+e.strokeThickness;let m=Math.max(p,s.fontSize+e.strokeThickness*2)+(l.length-1)*(p+e.leading);return e.dropShadow&&(m+=e.dropShadowDistance),new Ce(t,e,f,m,l,c,p+e.leading,h,s)}static _measureText(t,e,n){let r=!1;Ce.experimentalLetterSpacingSupported&&(Ce.experimentalLetterSpacing?(n.letterSpacing=`${e}px`,n.textLetterSpacing=`${e}px`,r=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let i=n.measureText(t).width;return i>0&&(r?i-=e:i+=(Ce.graphemeSegmenter(t).length-1)*e),i}static wordWrap(t,e,n=Ce._canvas){const r=n.getContext("2d",dm);let i=0,s="",o="";const a=Object.create(null),{letterSpacing:l,whiteSpace:c}=e,h=Ce.collapseSpaces(c),f=Ce.collapseNewlines(c);let p=!h;const m=e.wordWrapWidth+l,v=Ce.tokenize(t);for(let y=0;y<v.length;y++){let x=v[y];if(Ce.isNewline(x)){if(!f){o+=Ce.addLine(s),p=!h,s="",i=0;continue}x=" "}if(h){const _=Ce.isBreakingSpace(x),w=Ce.isBreakingSpace(s[s.length-1]);if(_&&w)continue}const b=Ce.getFromCache(x,l,a,r);if(b>m)if(s!==""&&(o+=Ce.addLine(s),s="",i=0),Ce.canBreakWords(x,e.breakWords)){const _=Ce.wordWrapSplit(x);for(let w=0;w<_.length;w++){let E=_[w],O=E,A=1;for(;_[w+A];){const L=_[w+A];if(!Ce.canBreakChars(O,L,x,w,e.breakWords))E+=L;else break;O=L,A++}w+=A-1;const M=Ce.getFromCache(E,l,a,r);M+i>m&&(o+=Ce.addLine(s),p=!1,s="",i=0),s+=E,i+=M}}else{s.length>0&&(o+=Ce.addLine(s),s="",i=0);const _=y===v.length-1;o+=Ce.addLine(x,!_),p=!1,s="",i=0}else b+i>m&&(p=!1,o+=Ce.addLine(s),s="",i=0),(s.length>0||!Ce.isBreakingSpace(x)||p)&&(s+=x,i+=b)}return o+=Ce.addLine(s,!1),o}static addLine(t,e=!0){return t=Ce.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,n,r){let i=n[t];return typeof i!="number"&&(i=Ce._measureText(t,e,r)+e,n[t]=i),i}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const n=t[e];if(!Ce.isBreakingSpace(n))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:Ce._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:Ce._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let n="";if(typeof t!="string")return e;for(let r=0;r<t.length;r++){const i=t[r],s=t[r+1];if(Ce.isBreakingSpace(i,s)||Ce.isNewline(i)){n!==""&&(e.push(n),n=""),e.push(i);continue}n+=i}return n!==""&&e.push(n),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,n,r,i){return!0}static wordWrapSplit(t){return Ce.graphemeSegmenter(t)}static measureFont(t){if(Ce._fonts[t])return Ce._fonts[t];const e={ascent:0,descent:0,fontSize:0},n=Ce._canvas,r=Ce._context;r.font=t;const i=Ce.METRICS_STRING+Ce.BASELINE_SYMBOL,s=Math.ceil(r.measureText(i).width);let o=Math.ceil(r.measureText(Ce.BASELINE_SYMBOL).width);const a=Math.ceil(Ce.HEIGHT_MULTIPLIER*o);if(o=o*Ce.BASELINE_MULTIPLIER|0,s===0||a===0)return Ce._fonts[t]=e,e;n.width=s,n.height=a,r.fillStyle="#f00",r.fillRect(0,0,s,a),r.font=t,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(i,0,o);const l=r.getImageData(0,0,s,a).data,c=l.length,h=s*4;let f=0,p=0,m=!1;for(f=0;f<o;++f){for(let v=0;v<h;v+=4)if(l[p+v]!==255){m=!0;break}if(!m)p+=h;else break}for(e.ascent=o-f,p=c-h,m=!1,f=a;f>o;--f){for(let v=0;v<h;v+=4)if(l[p+v]!==255){m=!0;break}if(!m)p-=h;else break}return e.descent=f-o,e.fontSize=e.ascent+e.descent,Ce._fonts[t]=e,e}static clearMetrics(t=""){t?delete Ce._fonts[t]:Ce._fonts={}}static get _canvas(){if(!Ce.__canvas){let t;try{const e=new OffscreenCanvas(0,0),n=e.getContext("2d",dm);if(n!=null&&n.measureText)return Ce.__canvas=e,e;t=we.ADAPTER.createCanvas()}catch{t=we.ADAPTER.createCanvas()}t.width=t.height=10,Ce.__canvas=t}return Ce.__canvas}static get _context(){return Ce.__context||(Ce.__context=Ce._canvas.getContext("2d",dm)),Ce.__context}};let Sn=Ce;Sn.METRICS_STRING="|ÉqÅ";Sn.BASELINE_SYMBOL="M";Sn.BASELINE_MULTIPLIER=1.4;Sn.HEIGHT_MULTIPLIER=2;Sn.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(n=>n.segment)}return t=>[...t]})();Sn.experimentalLetterSpacing=!1;Sn._fonts={};Sn._newlines=[10,13];Sn._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const Pke=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Bh=class{constructor(t){this.styleID=0,this.reset(),Pb(this,t,t)}clone(){const t={};return Pb(t,this,Bh.defaultStyle),new Bh(t)}reset(){Pb(this,Bh.defaultStyle,Bh.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=Ab(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=Ab(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){kke(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=Ab(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let n=e.length-1;n>=0;n--){let r=e[n].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&!Pke.includes(r)&&(r=`"${r}"`),e[n]=r}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};let aa=Bh;aa.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Af.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};function NR(t){return typeof t=="number"?C2(t):(typeof t=="string"&&t.startsWith("0x")&&(t=t.replace("0x","#")),t)}function Ab(t){if(Array.isArray(t)){for(let e=0;e<t.length;++e)t[e]=NR(t[e]);return t}else return NR(t)}function kke(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}function Pb(t,e,n){for(const r in n)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}const Oke={texture:!0,children:!1,baseTexture:!0},y_=class extends ga{constructor(t,e,n){let r=!1;n||(n=we.ADAPTER.createCanvas(),r=!0),n.width=3,n.height=3;const i=xe.from(n);i.orig=new qe,i.trim=new qe,super(i),this._ownCanvas=r,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=y_.defaultResolution??we.RESOLUTION,this._autoResolution=y_.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return Sn.experimentalLetterSpacing}static set experimentalLetterSpacing(t){at("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),Sn.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const n=this.context,r=Sn.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=r.width,s=r.height,o=r.lines,a=r.lineHeight,l=r.lineWidths,c=r.maxLineWidth,h=r.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,i)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+e.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;let f,p;const m=e.dropShadow?2:1;for(let v=0;v<m;++v){const y=e.dropShadow&&v===0,x=y?Math.ceil(Math.max(1,s)+e.padding*2):0,b=x*this._resolution;if(y){n.fillStyle="black",n.strokeStyle="black";const w=e.dropShadowColor,E=dl(typeof w=="number"?w:E0(w)),O=e.dropShadowBlur*this._resolution,A=e.dropShadowDistance*this._resolution;n.shadowColor=`rgba(${E[0]*255},${E[1]*255},${E[2]*255},${e.dropShadowAlpha})`,n.shadowBlur=O,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*A,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*A+b}else n.fillStyle=this._generateFillStyle(e,o,r),n.strokeStyle=e.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let _=(a-h.fontSize)/2;a-h.fontSize<0&&(_=0);for(let w=0;w<o.length;w++)f=e.strokeThickness/2,p=e.strokeThickness/2+w*a+h.ascent+_,e.align==="right"?f+=c-l[w]:e.align==="center"&&(f+=(c-l[w])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(o[w],f+e.padding,p+e.padding-x,!0),e.fill&&this.drawLetterSpacing(o[w],f+e.padding,p+e.padding-x)}this.updateTexture()}drawLetterSpacing(t,e,n,r=!1){const s=this._style.letterSpacing;let o=!1;if(Sn.experimentalLetterSpacingSupported&&(Sn.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){r?this.context.strokeText(t,e,n):this.context.fillText(t,e,n);return}let a=e;const l=Sn.graphemeSegmenter(t);let c=this.context.measureText(t).width,h=0;for(let f=0;f<l.length;++f){const p=l[f];r?this.context.strokeText(p,a,n):this.context.fillText(p,a,n);let m="";for(let v=f+1;v<l.length;++v)m+=l[v];h=this.context.measureText(m).width,a+=c-h+s,c=h}}updateTexture(){const t=this.canvas;if(this._style.trim){const s=rB(t);s.data&&(t.width=s.width,t.height=s.height,this.context.putImageData(s.data,0,0))}const e=this._texture,n=this._style,r=n.trim?0:n.padding,i=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-r,e.trim.y=-r,e.orig.width=e._frame.width-r*2,e.orig.height=e._frame.height-r*2,this._onTextureUpdate(),i.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,n){const r=t.fill;if(Array.isArray(r)){if(r.length===1)return r[0]}else return r;let i;const s=t.dropShadow?t.dropShadowDistance:0,o=t.padding||0,a=this.canvas.width/this._resolution-s-o*2,l=this.canvas.height/this._resolution-s-o*2,c=r.slice(),h=t.fillGradientStops.slice();if(!h.length){const f=c.length+1;for(let p=1;p<f;++p)h.push(p/f)}if(c.unshift(r[0]),h.unshift(0),c.push(r[r.length-1]),h.push(1),t.fillGradientType===Af.LINEAR_VERTICAL){i=this.context.createLinearGradient(a/2,o,a/2,l+o);const f=n.fontProperties.fontSize+t.strokeThickness;for(let p=0;p<e.length;p++){const m=n.lineHeight*(p-1)+f,v=n.lineHeight*p;let y=v;p>0&&m>v&&(y=(v+m)/2);const x=v+f,b=n.lineHeight*(p+1);let _=x;p+1<e.length&&b<x&&(_=(x+b)/2);const w=(_-y)/l;for(let E=0;E<c.length;E++){let O=0;typeof h[E]=="number"?O=h[E]:O=E/c.length;let A=Math.min(1,Math.max(0,y/l+O*w));A=Number(A.toFixed(5)),i.addColorStop(A,c[E])}}}else{i=this.context.createLinearGradient(o,l/2,a+o,l/2);const f=c.length+1;let p=1;for(let m=0;m<c.length;m++){let v;typeof h[m]=="number"?v=h[m]:v=p/f,i.addColorStop(v,c[m]),p++}}return i}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},Oke,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=ja(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=ja(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof aa?this._style=t:this._style=new aa(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};let mc=y_;mc.defaultAutoResolution=!0;class SN{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function Ike(t,e){var r;let n=!1;if((r=t==null?void 0:t._textures)!=null&&r.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof xe){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),n=!0)}}return n}function Rke(t,e){if(t.baseTexture instanceof He){const n=t.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function Mke(t,e){if(t._texture&&t._texture instanceof xe){const n=t._texture.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function Fke(t,e){return e instanceof mc?(e.updateText(!0),!0):!1}function Dke(t,e){if(e instanceof aa){const n=e.toFontString();return Sn.measureFont(n),!0}return!1}function Lke(t,e){if(t instanceof mc){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const n=t._texture.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function Bke(t,e){return t instanceof aa?(e.includes(t)||e.push(t),!0):!1}const EN=class{constructor(t){this.limiter=new SN(EN.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(Lke),this.registerFindHook(Bke),this.registerFindHook(Ike),this.registerFindHook(Rke),this.registerFindHook(Mke),this.registerUploadHook(Fke),this.registerUploadHook(Dke)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,pn.system.addOnce(this.tick,this,sa.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed){for(let n=0,r=this.uploadHooks.length;n<r;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)pn.system.addOnce(this.tick,this,sa.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,n=t.length;e<n;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,n=this.addHooks.length;e<n&&!this.addHooks[e](t,this.queue);e++);if(t instanceof nr)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&pn.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let jd=EN;jd.uploadsPerFrame=4;Object.defineProperties(we,{UPLOADS_PER_FRAME:{get(){return jd.uploadsPerFrame},set(t){at("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),jd.uploadsPerFrame=t}}});function CN(t,e){return e instanceof He?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function Nke(t,e){if(!(e instanceof pl))return!1;const{geometry:n}=e;e.finishPoly(),n.updateBatches();const{batches:r}=n;for(let i=0;i<r.length;i++){const{texture:s}=r[i].style;s&&CN(t,s.baseTexture)}return n.batchable||t.geometry.bind(n,e._resolveDirectShader(t)),!0}function $ke(t,e){return t instanceof pl?(e.push(t),!0):!1}class gC extends jd{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook($ke),this.registerUploadHook(CN),this.registerUploadHook(Nke)}}gC.extension={name:"prepare",type:be.RendererSystem};Ae.add(gC);class Uke{constructor(e){this.maxMilliseconds=e,this.frameStart=0}beginFrame(){this.frameStart=Date.now()}allowedToUpload(){return Date.now()-this.frameStart<this.maxMilliseconds}}class tv extends ga{constructor(e,n=!0){super(e[0]instanceof xe?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=n,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(pn.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(pn.shared.add(this.update,this,sa.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const n=this.animationSpeed*e,r=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=n/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const n=[];for(let r=0;r<e.length;++r)n.push(xe.from(e[r]));return new tv(n)}static fromImages(e){const n=[];for(let r=0;r<e.length;++r)n.push(xe.from(e[r]));return new tv(n)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof xe)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let n=0;n<e.length;n++)this._textures.push(e[n].texture),this._durations.push(e[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const n=this.currentFrame;this._currentTime=e,n!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(pn.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(pn.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const wh=new Ie;class vC extends ga{constructor(e,n=100,r=100){super(e),this.tileTransform=new wf,this._width=n,this._height=r,this.uvMatrix=this.texture.uvMatrix||new P0(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,n=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,n,r,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new qe),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,wh);const n=this._width,r=this._height,i=-n*this.anchor._x;if(wh.x>=i&&wh.x<i+n){const s=-r*this.anchor._y;if(wh.y>=s&&wh.y<s+r)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,n){const r=e instanceof xe?e:xe.from(e,n);return new vC(r,n.width,n.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var zke=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,Hke=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,jke=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,$R=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Wke=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const fm=new Nt;class yC extends _f{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new N2,this.state=Ls.for2d()}contextChange(){const e=this.renderer,n={globals:e.globalUniforms};this.simpleShader=rs.from($R,Wke,n),this.shader=e.context.webGLVersion>1?rs.from(Hke,zke,n):rs.from($R,jke,n)}render(e){const n=this.renderer,r=this.quad;let i=r.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=r.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,r.invalidate();const a=e._texture,l=a.baseTexture,c=l.alphaMode>0,h=e.tileTransform.localTransform,f=e.uvMatrix;let p=l.isPowerOfTwo&&a.frame.width===l.width&&a.frame.height===l.height;p&&(l._glTextures[n.CONTEXT_UID]?p=l.wrapMode!==Rs.CLAMP:l.wrapMode===Rs.CLAMP&&(l.wrapMode=Rs.REPEAT));const m=p?this.simpleShader:this.shader,v=a.width,y=a.height,x=e._width,b=e._height;fm.set(h.a*v/x,h.b*v/b,h.c*y/x,h.d*y/b,h.tx/x,h.ty/b),fm.invert(),p?fm.prepend(f.mapCoord):(m.uniforms.uMapCoord=f.mapCoord.toArray(!0),m.uniforms.uClampFrame=f.uClampFrame,m.uniforms.uClampOffset=f.uClampOffset),m.uniforms.uTransform=fm.toArray(!0),m.uniforms.uColor=P2(e.tint,e.worldAlpha,m.uniforms.uColor,c),m.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),m.uniforms.uSampler=a,n.shader.bind(m),n.geometry.bind(r),this.state.blendMode=A2(e.blendMode,c),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}yC.extension={name:"tilingSprite",type:be.RendererPlugin};Ae.add(yC);const Nh=class{constructor(t,e,n=null){this.linkedSheets=[],this._texture=t instanceof xe?t:null,this.baseTexture=t instanceof He?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const r=this.baseTexture.resource;this.resolution=this._updateResolution(n||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let n=fo(t,null);return n===null&&(n=parseFloat(e??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=Nh.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const n=Nh.BATCH_SIZE;for(;e-t<n&&e<this._frameKeys.length;){const r=this._frameKeys[e],i=this._frames[r],s=i.frame;if(s){let o=null,a=null;const l=i.trimmed!==!1&&i.sourceSize?i.sourceSize:i.frame,c=new qe(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);i.rotated?o=new qe(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):o=new qe(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),i.trimmed!==!1&&i.spriteSourceSize&&(a=new qe(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[r]=new xe(this.baseTexture,o,c,a,i.rotated?2:0,i.anchor),xe.addToCache(this.textures[r],r)}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let n=0;n<t[e].length;n++){const r=t[e][n];this.animations[e].push(this.textures[r])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Nh.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Nh.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var e;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)==null||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let nv=Nh;nv.BATCH_SIZE=1e3;const Gke=["jpg","png","jpeg","avif","webp"];function TN(t,e,n){const r={};if(t.forEach(i=>{r[i]=e}),Object.keys(e.textures).forEach(i=>{r[i]=e.textures[i]}),!n){const i=An.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const a=TN([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(r,a)})}return r}const AN={extension:be.Asset,cache:{test:t=>t instanceof nv,getCacheableAssets:(t,e)=>TN(t,e,!1)},resolver:{test:t=>{const n=t.split("?")[0].split("."),r=n.pop(),i=n.pop();return r==="json"&&Gke.includes(i)},parse:t=>{var n;const e=t.split(".");return{resolution:parseFloat(((n=we.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:e[e.length-2],src:t}}},loader:{extension:{type:be.LoadParser,priority:ds.Normal},async testParse(t,e){return An.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,n){var c,h;let r=An.dirname(e.src);r&&r.lastIndexOf("/")!==r.length-1&&(r+="/");let i=r+t.meta.image;i=ev(i,e.src);const o=(await n.load([i]))[i],a=new nv(o.baseTexture,t,e.src);await a.parse();const l=(c=t==null?void 0:t.meta)==null?void 0:c.related_multi_packs;if(Array.isArray(l)){const f=[];for(const m of l){if(typeof m!="string")continue;let v=r+m;(h=e.data)!=null&&h.ignoreMultiPack||(v=ev(v,e.src),f.push(n.load({src:v,data:{ignoreMultiPack:!0}})))}const p=await Promise.all(f);a.linkedSheets=p,p.forEach(m=>{m.linkedSheets=[a].concat(a.linkedSheets.filter(v=>v!==m))})}return a},unload(t){t.destroy(!0)}}};Ae.add(AN);class Wd{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Qh{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const n=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in n){const o=n[s].match(/^[a-z]+/gm)[0],a=n[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),l={};for(const c in a){const h=a[c].split("="),f=h[0],p=h[1].replace(/"/gm,""),m=parseFloat(p),v=isNaN(m)?p:m;l[f]=v}r[o].push(l)}const i=new Wd;return r.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),r.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),r.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),r.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),r.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),r.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class rv{static test(e){const n=e;return"getElementsByTagName"in n&&n.getElementsByTagName("page").length&&n.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const n=new Wd,r=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField");for(let c=0;c<r.length;c++)n.info.push({face:r[c].getAttribute("face"),size:parseInt(r[c].getAttribute("size"),10)});for(let c=0;c<i.length;c++)n.common.push({lineHeight:parseInt(i[c].getAttribute("lineHeight"),10)});for(let c=0;c<s.length;c++)n.page.push({id:parseInt(s[c].getAttribute("id"),10)||0,file:s[c].getAttribute("file")});for(let c=0;c<o.length;c++){const h=o[c];n.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(let c=0;c<a.length;c++)n.kerning.push({first:parseInt(a[c].getAttribute("first"),10),second:parseInt(a[c].getAttribute("second"),10),amount:parseInt(a[c].getAttribute("amount"),10)});for(let c=0;c<l.length;c++)n.distanceField.push({fieldType:l[c].getAttribute("fieldType"),distanceRange:parseInt(l[c].getAttribute("distanceRange"),10)});return n}}class iv{static test(e){return typeof e=="string"&&e.includes("<font>")?rv.test(we.ADAPTER.parseXML(e)):!1}static parse(e){return rv.parse(we.ADAPTER.parseXML(e))}}const kb=[Qh,rv,iv];function PN(t){for(let e=0;e<kb.length;e++)if(kb[e].test(t))return kb[e];return null}function Vke(t,e,n,r,i,s){const o=n.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const l=n.dropShadow?n.dropShadowDistance:0,c=n.padding||0,h=t.width/r-l-c*2,f=t.height/r-l-c*2,p=o.slice(),m=n.fillGradientStops.slice();if(!m.length){const v=p.length+1;for(let y=1;y<v;++y)m.push(y/v)}if(p.unshift(o[0]),m.unshift(0),p.push(o[o.length-1]),m.push(1),n.fillGradientType===Af.LINEAR_VERTICAL){a=e.createLinearGradient(h/2,c,h/2,f+c);let v=0;const x=(s.fontProperties.fontSize+n.strokeThickness)/f;for(let b=0;b<i.length;b++){const _=s.lineHeight*b;for(let w=0;w<p.length;w++){let E=0;typeof m[w]=="number"?E=m[w]:E=w/p.length;const O=_/f+E*x;let A=Math.max(v,O);A=Math.min(A,1),a.addColorStop(A,p[w]),v=A}}}else{a=e.createLinearGradient(c,f/2,h+c,f/2);const v=p.length+1;let y=1;for(let x=0;x<p.length;x++){let b;typeof m[x]=="number"?b=m[x]:b=y/v,a.addColorStop(b,p[x]),y++}}return a}function qke(t,e,n,r,i,s,o){const a=n.text,l=n.fontProperties;e.translate(r,i),e.scale(s,s);const c=o.strokeThickness/2,h=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=Vke(t,e,o,s,[a],n),e.strokeStyle=o.stroke,o.dropShadow){const f=o.dropShadowColor,p=dl(typeof f=="number"?f:E0(f)),m=o.dropShadowBlur*s,v=o.dropShadowDistance*s;e.shadowColor=`rgba(${p[0]*255},${p[1]*255},${p[2]*255},${o.dropShadowAlpha})`,e.shadowBlur=m,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*v,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*v}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,c,h+n.lineHeight-l.descent),o.fill&&e.fillText(a,c,h+n.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Wm(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function kN(t){return Array.from?Array.from(t):t.split("")}function Xke(t){typeof t=="string"&&(t=[t]);const e=[];for(let n=0,r=t.length;n<r;n++){const i=t[n];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,l=o;a<=l;a++)e.push(String.fromCharCode(a))}else e.push(...kN(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const Hi=class{constructor(t,e,n){var c;const[r]=t.info,[i]=t.common,[s]=t.page,[o]=t.distanceField,a=fo(s.file),l={};this._ownsTextures=n,this.font=r.face,this.size=r.size,this.lineHeight=i.lineHeight/a,this.chars={},this.pageTextures=l;for(let h=0;h<t.page.length;h++){const{id:f,file:p}=t.page[h];l[f]=e instanceof Array?e[h]:e[p],o!=null&&o.fieldType&&o.fieldType!=="none"&&(l[f].baseTexture.alphaMode=Pi.NO_PREMULTIPLIED_ALPHA,l[f].baseTexture.mipmap=as.OFF)}for(let h=0;h<t.char.length;h++){const{id:f,page:p}=t.char[h];let{x:m,y:v,width:y,height:x,xoffset:b,yoffset:_,xadvance:w}=t.char[h];m/=a,v/=a,y/=a,x/=a,b/=a,_/=a,w/=a;const E=new qe(m+l[p].frame.x/a,v+l[p].frame.y/a,y,x);this.chars[f]={xOffset:b,yOffset:_,xAdvance:w,kerning:{},texture:new xe(l[p].baseTexture,E),page:p}}for(let h=0;h<t.kerning.length;h++){let{first:f,second:p,amount:m}=t.kerning[h];f/=a,p/=a,m/=a,this.chars[p]&&(this.chars[p].kerning[f]=m)}this.distanceFieldRange=o==null?void 0:o.distanceRange,this.distanceFieldType=((c=o==null?void 0:o.fieldType)==null?void 0:c.toLowerCase())??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,n){let r;if(t instanceof Wd)r=t;else{const s=PN(t);if(!s)throw new Error("Unrecognized data format for font.");r=s.parse(t)}e instanceof xe&&(e=[e]);const i=new Hi(r,e,n);return Hi.available[i.font]=i,i}static uninstall(t){const e=Hi.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete Hi.available[t]}static from(t,e,n){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:r,padding:i,resolution:s,textureWidth:o,textureHeight:a,...l}=Object.assign({},Hi.defaultOptions,n),c=Xke(r),h=e instanceof aa?e:new aa(e),f=o,p=new Wd;p.info[0]={face:h.fontFamily,size:h.fontSize},p.common[0]={lineHeight:h.fontSize};let m=0,v=0,y,x,b,_=0;const w=[];for(let O=0;O<c.length;O++){y||(y=we.ADAPTER.createCanvas(),y.width=o,y.height=a,x=y.getContext("2d"),b=new He(y,{resolution:s,...l}),w.push(new xe(b)),p.page.push({id:w.length-1,file:""}));const A=c[O],M=Sn.measureText(A,h,!1,y),L=M.width,H=Math.ceil(M.height),G=Math.ceil((h.fontStyle==="italic"?2:1)*L);if(v>=a-H*s){if(v===0)throw new Error(`[BitmapFont] textureHeight ${a}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${A}')`);--O,y=null,x=null,b=null,v=0,m=0,_=0;continue}if(_=Math.max(H+M.fontProperties.descent,_),G*s+m>=f){if(m===0)throw new Error(`[BitmapFont] textureWidth ${o}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${A}')`);--O,v+=_*s,v=Math.ceil(v),m=0,_=0;continue}qke(y,x,M,m,v,s,h);const z=Wm(M.text);p.char.push({id:z,page:w.length-1,x:m/s,y:v/s,width:G,height:H,xoffset:0,yoffset:0,xadvance:L-(h.dropShadow?h.dropShadowDistance:0)-(h.stroke?h.strokeThickness:0)}),m+=(G+2*i)*s,m=Math.ceil(m)}for(let O=0,A=c.length;O<A;O++){const M=c[O];for(let L=0;L<A;L++){const H=c[L],G=x.measureText(M).width,z=x.measureText(H).width,X=x.measureText(M+H).width-(G+z);X&&p.kerning.push({first:Wm(M),second:Wm(H),amount:X})}}const E=new Hi(p,w,!0);return Hi.available[t]!==void 0&&Hi.uninstall(t),Hi.available[t]=E,E}};let Zn=Hi;Zn.ALPHA=[["a","z"],["A","Z"]," "];Zn.NUMERIC=[["0","9"]];Zn.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];Zn.ASCII=[[" ","~"]];Zn.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Hi.ALPHANUMERIC};Zn.available={};var Yke=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,Kke=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const UR=[],zR=[],HR=[],ON=class extends nr{constructor(t,e={}){super(),this._tint=16777215;const{align:n,tint:r,maxWidth:i,letterSpacing:s,fontName:o,fontSize:a}=Object.assign({},ON.styleDefaults,e);if(!Zn.available[o])throw new Error(`Missing BitmapFont "${o}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tint=r,this._font=void 0,this._fontName=o,this._fontSize=a,this.text=t,this._maxWidth=i,this._maxLineHeight=0,this._letterSpacing=s,this._anchor=new ro(()=>{this.dirty=!0},this,0,0),this._roundPixels=we.ROUND_PIXELS,this.dirty=!0,this._resolution=we.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var G;const t=Zn.available[this._fontName],e=this.fontSize,n=e/t.size,r=new Ie,i=[],s=[],o=[],a=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",l=kN(a),c=this._maxWidth*t.size/e,h=t.distanceFieldType==="none"?UR:zR;let f=null,p=0,m=0,v=0,y=-1,x=0,b=0,_=0,w=0;for(let z=0;z<l.length;z++){const j=l[z],X=Wm(j);if(/(?:\s)/.test(j)&&(y=z,x=p,w++),j==="\r"||j===`
`){s.push(p),o.push(-1),m=Math.max(m,p),++v,++b,r.x=0,r.y+=t.lineHeight,f=null,w=0;continue}const V=t.chars[X];if(!V)continue;f&&V.kerning[f]&&(r.x+=V.kerning[f]);const he=HR.pop()||{texture:xe.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Ie};he.texture=V.texture,he.line=v,he.charCode=X,he.position.x=Math.round(r.x+V.xOffset+this._letterSpacing/2),he.position.y=Math.round(r.y+V.yOffset),he.prevSpaces=w,i.push(he),p=he.position.x+Math.max(V.xAdvance-V.xOffset,V.texture.orig.width),r.x+=V.xAdvance+this._letterSpacing,_=Math.max(_,V.yOffset+V.texture.height),f=X,y!==-1&&c>0&&r.x>c&&(++b,Qa(i,1+y-b,1+z-y),z=y,y=-1,s.push(x),o.push(i.length>0?i[i.length-1].prevSpaces:0),m=Math.max(m,x),v++,r.x=0,r.y+=t.lineHeight,f=null,w=0)}const E=l[l.length-1];E!=="\r"&&E!==`
`&&(/(?:\s)/.test(E)&&(p=x),s.push(p),m=Math.max(m,p),o.push(-1));const O=[];for(let z=0;z<=v;z++){let j=0;this._align==="right"?j=m-s[z]:this._align==="center"?j=(m-s[z])/2:this._align==="justify"&&(j=o[z]<0?0:(m-s[z])/o[z]),O.push(j)}const A=i.length,M={},L=[],H=this._activePagesMeshData;h.push(...H);for(let z=0;z<A;z++){const j=i[z].texture,X=j.baseTexture.uid;if(!M[X]){let V=h.pop();if(!V){const ce=new Tf;let te,Z;t.distanceFieldType==="none"?(te=new pc(xe.EMPTY),Z=Me.NORMAL):(te=new pc(xe.EMPTY,{program:mi.from(Kke,Yke),uniforms:{uFWidth:0}}),Z=Me.NORMAL_NPM);const le=new ml(ce,te);le.blendMode=Z,V={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:le,vertices:null,uvs:null,indices:null}}V.index=0,V.indexCount=0,V.vertexCount=0,V.uvsCount=0,V.total=0;const{_textureCache:he}=this;he[X]=he[X]||new xe(j.baseTexture),V.mesh.texture=he[X],V.mesh.tint=this._tint,L.push(V),M[X]=V}M[X].total++}for(let z=0;z<H.length;z++)L.includes(H[z])||this.removeChild(H[z].mesh);for(let z=0;z<L.length;z++)L[z].mesh.parent!==this&&this.addChild(L[z].mesh);this._activePagesMeshData=L;for(const z in M){const j=M[z],X=j.total;if(!(((G=j.indices)==null?void 0:G.length)>6*X)||j.vertices.length<ml.BATCHABLE_SIZE*2)j.vertices=new Float32Array(4*2*X),j.uvs=new Float32Array(4*2*X),j.indices=new Uint16Array(6*X);else{const V=j.total,he=j.vertices;for(let ce=V*4*2;ce<he.length;ce++)he[ce]=0}j.mesh.size=6*X}for(let z=0;z<A;z++){const j=i[z];let X=j.position.x+O[j.line]*(this._align==="justify"?j.prevSpaces:1);this._roundPixels&&(X=Math.round(X));const V=X*n,he=j.position.y*n,ce=j.texture,te=M[ce.baseTexture.uid],Z=ce.frame,le=ce._uvs,W=te.index++;te.indices[W*6+0]=0+W*4,te.indices[W*6+1]=1+W*4,te.indices[W*6+2]=2+W*4,te.indices[W*6+3]=0+W*4,te.indices[W*6+4]=2+W*4,te.indices[W*6+5]=3+W*4,te.vertices[W*8+0]=V,te.vertices[W*8+1]=he,te.vertices[W*8+2]=V+Z.width*n,te.vertices[W*8+3]=he,te.vertices[W*8+4]=V+Z.width*n,te.vertices[W*8+5]=he+Z.height*n,te.vertices[W*8+6]=V,te.vertices[W*8+7]=he+Z.height*n,te.uvs[W*8+0]=le.x0,te.uvs[W*8+1]=le.y0,te.uvs[W*8+2]=le.x1,te.uvs[W*8+3]=le.y1,te.uvs[W*8+4]=le.x2,te.uvs[W*8+5]=le.y2,te.uvs[W*8+6]=le.x3,te.uvs[W*8+7]=le.y3}this._textWidth=m*n,this._textHeight=(r.y+t.lineHeight)*n;for(const z in M){const j=M[z];if(this.anchor.x!==0||this.anchor.y!==0){let ce=0;const te=this._textWidth*this.anchor.x,Z=this._textHeight*this.anchor.y;for(let le=0;le<j.total;le++)j.vertices[ce++]-=te,j.vertices[ce++]-=Z,j.vertices[ce++]-=te,j.vertices[ce++]-=Z,j.vertices[ce++]-=te,j.vertices[ce++]-=Z,j.vertices[ce++]-=te,j.vertices[ce++]-=Z}this._maxLineHeight=_*n;const X=j.mesh.geometry.getBuffer("aVertexPosition"),V=j.mesh.geometry.getBuffer("aTextureCoord"),he=j.mesh.geometry.getIndex();X.data=j.vertices,V.data=j.uvs,he.data=j.indices,X.update(),V.update(),he.update()}for(let z=0;z<i.length;z++)HR.push(i[z]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:n,size:r}=Zn.available[this._fontName];if(n!=="none"){const{a:i,b:s,c:o,d:a}=this.worldTransform,l=Math.sqrt(i*i+s*s),c=Math.sqrt(o*o+a*a),h=(Math.abs(l)+Math.abs(c))/2,f=this.fontSize/r,p=t._view.resolution;for(const m of this._activePagesMeshData)m.mesh.shader.uniforms.uFWidth=h*e*f*p}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=Zn.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tint}set tint(t){if(this._tint!==t){this._tint=t;for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!Zn.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??Zn.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,r=Zn.available[this._fontName].distanceFieldType==="none"?UR:zR;r.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],r.filter(i=>e[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=xe.EMPTY});for(const i in e)e[i].destroy(),delete e[i];this._font=null,this._textureCache=null,super.destroy(t)}};let IN=ON;IN.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const Zke=[".xml",".fnt"],RN={extension:{type:be.LoadParser,priority:ds.Normal},test(t){return Zke.includes(An.extname(t).toLowerCase())},async testParse(t){return Qh.test(t)||iv.test(t)},async parse(t,e,n){const r=Qh.test(t)?Qh.parse(t):iv.parse(t),{src:i}=e,{page:s}=r,o=[];for(let c=0;c<s.length;++c){const h=s[c].file;let f=An.join(An.dirname(i),h);f=ev(f,i),o.push(f)}const a=await n.load(o),l=o.map(c=>a[c]);return Zn.install(r,l,!0)},async load(t,e){return(await we.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};Ae.add(RN);const Qke=Object.freeze(Object.defineProperty({__proto__:null,ALPHA_MODES:Pi,AbstractMultiResource:oC,AccessibilityManager:uC,AlphaFilter:BB,AnimatedSprite:tv,Application:O0,ArrayResource:MB,Assets:Ga,AssetsClass:JB,Attribute:Dd,BLEND_MODES:Me,BUFFER_BITS:jg,BUFFER_TYPE:ts,BackgroundSystem:I2,BaseImageResource:mo,BasePrepare:jd,BaseRenderTexture:F2,BaseTexture:He,BatchDrawCall:Yg,BatchGeometry:O2,BatchRenderer:hi,BatchShaderGenerator:gB,BatchSystem:R2,BatchTextureArray:Kg,BitmapFont:Zn,BitmapFontData:Wd,BitmapText:IN,BlobResource:oN,BlurFilter:NB,BlurFilterPass:Qg,Bounds:Bd,BrowserAdapter:VL,Buffer:tn,BufferResource:Fc,BufferSystem:iC,CLEAR_MODES:Vi,COLOR_MASK_BITS:GL,Cache:vu,CanvasResource:FB,Circle:cc,ColorMatrixFilter:Jg,CompressedTextureResource:ea,Container:nr,ContextSystem:M2,CountLimiter:SN,CubeResource:aC,DEG_TO_RAD:aB,DRAW_MODES:Yi,DisplacementFilter:$B,DisplayObject:Wt,ENV:ma,Ellipse:A0,EventBoundary:HB,EventSystem:lC,ExtensionType:be,Extract:dC,FORMATS:ge,FORMATS_TO_COMPONENTS:lN,FXAAFilter:UB,FederatedDisplayObject:jB,FederatedEvent:Dc,FederatedMouseEvent:Nd,FederatedPointerEvent:oi,FederatedWheelEvent:fl,FillStyle:Cf,Filter:Cn,FilterState:yB,FilterSystem:$2,Framebuffer:Zg,FramebufferSystem:U2,GC_MODES:x0,GLFramebuffer:bB,GLProgram:SB,GLTexture:Um,GRAPHICS_CURVES:mke,GenerateTextureSystem:q2,Geometry:po,GeometrySystem:z2,Graphics:pl,GraphicsData:Hd,GraphicsGeometry:pC,IGLUniformData:jAe,INSTALLED:Xg,INTERNAL_FORMATS:hr,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:Ud,ImageBitmapResource:Wa,ImageResource:D2,LINE_CAP:Wo,LINE_JOIN:ai,LineStyle:M0,LoaderParserPriority:ds,MASK_TYPES:cn,MIPMAP_MODES:as,MSAA_QUALITY:qt,MaskData:wB,MaskSystem:H2,Matrix:Nt,Mesh:ml,MeshBatchUvs:yN,MeshGeometry:Tf,MeshMaterial:pc,MultisampleSystem:rC,NineSlicePlane:_ke,NoiseFilter:zB,ObjectRenderer:_f,ObjectRendererSystem:sC,ObservablePoint:ro,PI_2:Ld,PRECISION:Nr,ParticleContainer:Cke,ParticleRenderer:mC,PlaneGeometry:xN,PluginSystem:G2,Point:Ie,Polygon:Ja,Prepare:gC,Program:mi,ProjectionSystem:V2,Quad:vB,QuadUv:N2,RAD_TO_DEG:oB,RENDERER_TYPE:E2,Rectangle:qe,RenderTexture:go,RenderTexturePool:B2,RenderTextureSystem:X2,Renderer:Cl,ResizePlugin:cC,Resource:uc,RopeGeometry:wN,RoundedRectangle:hc,Runner:Gr,SAMPLER_TYPES:Wg,SCALE_MODES:Ps,SHAPES:En,SVGResource:dc,ScissorSystem:j2,Shader:rs,ShaderSystem:Y2,SimpleMesh:Ske,SimplePlane:_N,SimpleRope:Eke,Sprite:ga,SpriteMaskFilter:xB,Spritesheet:nv,StartupSystem:K2,State:Ls,StateSystem:Z2,StencilSystem:W2,SystemManager:kB,TARGETS:Za,TEXT_GRADIENT:Af,TYPES:Oe,TYPES_TO_BYTES_PER_COMPONENT:f_,TYPES_TO_BYTES_PER_PIXEL:uN,TemporaryDisplayObject:DB,Text:mc,TextFormat:Qh,TextMetrics:Sn,TextStyle:aa,Texture:xe,TextureGCSystem:di,TextureMatrix:P0,TextureSystem:Q2,TextureUvs:L2,Ticker:pn,TickerPlugin:tC,TilingSprite:vC,TilingSpriteRenderer:yC,TimeLimiter:Uke,Transform:wf,TransformFeedback:oPe,TransformFeedbackSystem:J2,UPDATE_PRIORITY:sa,UniformGroup:xi,VERSION:aPe,VideoResource:k0,ViewSystem:eC,ViewableBuffer:qg,WRAP_MODES:Rs,XMLFormat:rv,XMLStringFormat:iv,accessibleTarget:WB,autoDetectFormat:PN,autoDetectRenderer:IB,autoDetectResource:k2,cacheTextureArray:eN,checkDataUrl:hC,checkExtension:Sf,checkMaxIfStatementsInShader:sB,convertToList:Ms,copySearchParams:ev,createStringVariations:VB,createTexture:Ef,createUBOElements:TB,curves:oa,defaultFilterVertex:nC,defaultVertex:RB,detectAvif:tN,detectCompressedTextures:sN,detectDefaults:rN,detectWebp:nN,extensions:Ae,filters:c_,generateProgram:EB,generateUniformBufferSync:PB,getFontFamilyName:YB,getTestContext:dB,getUBOData:AB,graphicsUtils:bke,groupD8:zt,isMobile:Ki,isSingleItem:$d,loadBitmapFont:RN,loadDDS:hN,loadImageBitmap:ZB,loadJson:qB,loadKTX:dN,loadSVG:QB,loadTextures:fc,loadTxt:XB,loadWebFont:KB,parseDDS:aN,parseKTX:cN,resolveCompressedTextureUrl:fN,resolveTextureUrl:iN,settings:we,spritesheetAsset:AN,uniformParsers:el,unsafeEvalSupported:mB,utils:dAe},Symbol.toStringTag,{value:"Module"})),Jke=mH(Qke);var sv=fr&&fr.__assign||function(){return sv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},sv.apply(this,arguments)},MN=void 0,ys=Jke,eOe={dash:[10,5],width:1,color:16777215,alpha:1,scale:1,useTexture:!1,alignment:.5},tOe=function(){function t(e,n){n===void 0&&(n={}),this.cursor=new ys.Point,this.scale=1,this.graphics=e,n=sv(sv({},eOe),n),this.dash=n.dash,this.dashSize=this.dash.reduce(function(r,i){return r+i}),this.useTexture=n.useTexture,this.options=n,this.setLineStyle()}return t.prototype.setLineStyle=function(){var e=this.options;if(this.useTexture){var n=t.getTexture(e,this.dashSize);this.graphics.lineTextureStyle({width:e.width*e.scale,color:e.color,alpha:e.alpha,texture:n,alignment:e.alignment}),this.activeTexture=n}else this.graphics.lineStyle({width:e.width*e.scale,color:e.color,alpha:e.alpha,cap:e.cap,join:e.join,alignment:e.alignment});this.scale=e.scale},t.distance=function(e,n,r,i){return Math.sqrt(Math.pow(r-e,2)+Math.pow(i-n,2))},t.prototype.moveTo=function(e,n){return this.lineLength=0,this.cursor.set(e,n),this.start=new ys.Point(e,n),this.graphics.moveTo(this.cursor.x,this.cursor.y),this},t.prototype.lineTo=function(e,n,r){typeof this.lineLength===void 0&&this.moveTo(0,0);var i=t.distance(this.cursor.x,this.cursor.y,e,n),s=Math.atan2(n-this.cursor.y,e-this.cursor.x),o=r&&e===this.start.x&&n===this.start.y;if(this.useTexture)if(this.graphics.moveTo(this.cursor.x,this.cursor.y),this.adjustLineStyle(s),o&&this.dash.length%2===0){var a=Math.min(this.dash[this.dash.length-1],i);this.graphics.lineTo(e-Math.cos(s)*a,n-Math.sin(s)*a),this.graphics.closePath()}else this.graphics.lineTo(e,n);else{for(var l=Math.cos(s),c=Math.sin(s),h=this.cursor.x,f=this.cursor.y,p=this.lineLength%(this.dashSize*this.scale),m=0,v=0,y=0,x=0;x<this.dash.length;x++){var b=this.dash[x]*this.scale;if(p<y+b){m=x,v=p-y;break}else y+=b}for(var _=i;_>0;){var b=this.dash[m]*this.scale-v,w=_>b?b:_;if(o){var E=t.distance(h+l*w,f+c*w,this.start.x,this.start.y);if(E<=w){if(m%2===0){var O=t.distance(h,f,this.start.x,this.start.y)-this.dash[this.dash.length-1]*this.scale;h+=l*O,f+=c*O,this.graphics.lineTo(h,f)}break}}h+=l*w,f+=c*w,m%2?this.graphics.moveTo(h,f):this.graphics.lineTo(h,f),_-=w,m++,m=m===this.dash.length?0:m,v=0}}return this.lineLength+=i,this.cursor.set(e,n),this},t.prototype.closePath=function(){this.lineTo(this.start.x,this.start.y,!0)},t.prototype.drawCircle=function(e,n,r,i,s){i===void 0&&(i=80);var o=Math.PI*2/i,a=0,l;s?(l=new ys.Point(e+Math.cos(a)*r,n+Math.sin(a)*r),s.apply(l,l),this.moveTo(l[0],l[1])):(l=new ys.Point(e+Math.cos(a)*r,n+Math.sin(a)*r),this.moveTo(l.x,l.y)),a+=o;for(var c=1;c<i+1;c++){var h=c===i?l:[e+Math.cos(a)*r,n+Math.sin(a)*r];this.lineTo(h[0],h[1]),a+=o}return this},t.prototype.drawEllipse=function(e,n,r,i,s,o){s===void 0&&(s=80);for(var a=Math.PI*2/s,l,c=new ys.Point,h=0;h<Math.PI*2;h+=a){var f=e-r*Math.sin(h),p=n-i*Math.cos(h);o&&(c.set(f,p),o.apply(c,c),f=c.x,p=c.y),h===0?(this.moveTo(f,p),l={x:f,y:p}):this.lineTo(f,p)}return this.lineTo(l.x,l.y,!0),this},t.prototype.drawPolygon=function(e,n){var r=new ys.Point;if(typeof e[0]=="number")if(n){r.set(e[0],e[1]),n.apply(r,r),this.moveTo(r.x,r.y);for(var i=2;i<e.length;i+=2)r.set(e[i],e[i+1]),n.apply(r,r),this.lineTo(r.x,r.y,i===e.length-2)}else{this.moveTo(e[0],e[1]);for(var i=2;i<e.length;i+=2)this.lineTo(e[i],e[i+1],i===e.length-2)}else if(n){var s=e[0];r.copyFrom(s),n.apply(r,r),this.moveTo(r.x,r.y);for(var i=1;i<e.length;i++){var o=e[i];r.copyFrom(o),n.apply(r,r),this.lineTo(r.x,r.y,i===e.length-1)}}else{var s=e[0];this.moveTo(s.x,s.y);for(var i=1;i<e.length;i++){var a=e[i];this.lineTo(a.x,a.y,i===e.length-1)}}return this},t.prototype.drawRect=function(e,n,r,i,s){if(s){var o=new ys.Point;o.set(e,n),s.apply(o,o),this.moveTo(o.x,o.y),o.set(e+r,n),s.apply(o,o),this.lineTo(o.x,o.y),o.set(e+r,n+i),s.apply(o,o),this.lineTo(o.x,o.y),o.set(e,n+i),s.apply(o,o),this.lineTo(o.x,o.y),o.set(e,n),s.apply(o,o),this.lineTo(o.x,o.y,!0)}else this.moveTo(e,n).lineTo(e+r,n).lineTo(e+r,n+i).lineTo(e,n+i).lineTo(e,n,!0);return this},t.prototype.adjustLineStyle=function(e){var n=this.graphics.line;n.matrix=new ys.Matrix,e&&n.matrix.rotate(e),this.scale!==1&&n.matrix.scale(this.scale,this.scale);var r=-this.lineLength;n.matrix.translate(this.cursor.x+r*Math.cos(e),this.cursor.y+r*Math.sin(e)),this.graphics.lineStyle(n)},t.getTexture=function(e,n){var r=e.dash.toString();if(t.dashTextureCache[r])return t.dashTextureCache[r];var i=document.createElement("canvas");i.width=n,i.height=Math.ceil(e.width);var s=i.getContext("2d");if(!s){console.warn("Did not get context from canvas");return}s.strokeStyle="white",s.globalAlpha=e.alpha,s.lineWidth=e.width;var o=0,a=e.width/2;s.moveTo(o,a);for(var l=0;l<e.dash.length;l+=2)o+=e.dash[l],s.lineTo(o,a),e.dash.length!==l+1&&(o+=e.dash[l+1],s.moveTo(o,a));s.stroke();var c=t.dashTextureCache[r]=ys.Texture.from(i);return c.baseTexture.scaleMode=ys.SCALE_MODES.NEAREST,c},t.dashTextureCache={},t}();MN=tOe;var nOe=Object.defineProperty,rOe=(t,e,n)=>e in t?nOe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,oe=(t,e,n)=>(rOe(t,typeof e!="symbol"?e+"":e,n),n);class ki{constructor(e){oe(this,"parent"),oe(this,"paused"),this.parent=e,this.paused=!1}destroy(){}down(e){return!1}move(e){return!1}up(e){return!1}wheel(e){return!1}update(e){}resize(){}reset(){}pause(){this.paused=!0}resume(){this.paused=!1}}var iOe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},FN={exports:{}};(function(t,e){(function(){var n,r;r=function(i){return t.exports=i},n={linear:function(i,s,o,a){return o*i/a+s},easeInQuad:function(i,s,o,a){return o*(i/=a)*i+s},easeOutQuad:function(i,s,o,a){return-o*(i/=a)*(i-2)+s},easeInOutQuad:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i+s:-o/2*(--i*(i-2)-1)+s},easeInCubic:function(i,s,o,a){return o*(i/=a)*i*i+s},easeOutCubic:function(i,s,o,a){return o*((i=i/a-1)*i*i+1)+s},easeInOutCubic:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i+s:o/2*((i-=2)*i*i+2)+s},easeInQuart:function(i,s,o,a){return o*(i/=a)*i*i*i+s},easeOutQuart:function(i,s,o,a){return-o*((i=i/a-1)*i*i*i-1)+s},easeInOutQuart:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i*i+s:-o/2*((i-=2)*i*i*i-2)+s},easeInQuint:function(i,s,o,a){return o*(i/=a)*i*i*i*i+s},easeOutQuint:function(i,s,o,a){return o*((i=i/a-1)*i*i*i*i+1)+s},easeInOutQuint:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i*i*i+s:o/2*((i-=2)*i*i*i*i+2)+s},easeInSine:function(i,s,o,a){return-o*Math.cos(i/a*(Math.PI/2))+o+s},easeOutSine:function(i,s,o,a){return o*Math.sin(i/a*(Math.PI/2))+s},easeInOutSine:function(i,s,o,a){return-o/2*(Math.cos(Math.PI*i/a)-1)+s},easeInExpo:function(i,s,o,a){return i===0?s:o*Math.pow(2,10*(i/a-1))+s},easeOutExpo:function(i,s,o,a){return i===a?s+o:o*(-Math.pow(2,-10*i/a)+1)+s},easeInOutExpo:function(i,s,o,a){return(i/=a/2)<1?o/2*Math.pow(2,10*(i-1))+s:o/2*(-Math.pow(2,-10*--i)+2)+s},easeInCirc:function(i,s,o,a){return-o*(Math.sqrt(1-(i/=a)*i)-1)+s},easeOutCirc:function(i,s,o,a){return o*Math.sqrt(1-(i=i/a-1)*i)+s},easeInOutCirc:function(i,s,o,a){return(i/=a/2)<1?-o/2*(Math.sqrt(1-i*i)-1)+s:o/2*(Math.sqrt(1-(i-=2)*i)+1)+s},easeInElastic:function(i,s,o,a){var l,c,h;return h=1.70158,c=0,l=o,i===0||(i/=a),c||(c=a*.3),l<Math.abs(o)?(l=o,h=c/4):h=c/(2*Math.PI)*Math.asin(o/l),-(l*Math.pow(2,10*(i-=1))*Math.sin((i*a-h)*(2*Math.PI)/c))+s},easeOutElastic:function(i,s,o,a){var l,c,h;return h=1.70158,c=0,l=o,i===0||(i/=a),c||(c=a*.3),l<Math.abs(o)?(l=o,h=c/4):h=c/(2*Math.PI)*Math.asin(o/l),l*Math.pow(2,-10*i)*Math.sin((i*a-h)*(2*Math.PI)/c)+o+s},easeInOutElastic:function(i,s,o,a){var l,c,h;return h=1.70158,c=0,l=o,i===0||(i/=a/2),c||(c=a*(.3*1.5)),l<Math.abs(o)?(l=o,h=c/4):h=c/(2*Math.PI)*Math.asin(o/l),i<1?-.5*(l*Math.pow(2,10*(i-=1))*Math.sin((i*a-h)*(2*Math.PI)/c))+s:l*Math.pow(2,-10*(i-=1))*Math.sin((i*a-h)*(2*Math.PI)/c)*.5+o+s},easeInBack:function(i,s,o,a,l){return l===void 0&&(l=1.70158),o*(i/=a)*i*((l+1)*i-l)+s},easeOutBack:function(i,s,o,a,l){return l===void 0&&(l=1.70158),o*((i=i/a-1)*i*((l+1)*i+l)+1)+s},easeInOutBack:function(i,s,o,a,l){return l===void 0&&(l=1.70158),(i/=a/2)<1?o/2*(i*i*(((l*=1.525)+1)*i-l))+s:o/2*((i-=2)*i*(((l*=1.525)+1)*i+l)+2)+s},easeInBounce:function(i,s,o,a){var l;return l=n.easeOutBounce(a-i,0,o,a),o-l+s},easeOutBounce:function(i,s,o,a){return(i/=a)<1/2.75?o*(7.5625*i*i)+s:i<2/2.75?o*(7.5625*(i-=1.5/2.75)*i+.75)+s:i<2.5/2.75?o*(7.5625*(i-=2.25/2.75)*i+.9375)+s:o*(7.5625*(i-=2.625/2.75)*i+.984375)+s},easeInOutBounce:function(i,s,o,a){var l;return i<a/2?(l=n.easeInBounce(i*2,0,o,a),l*.5+s):(l=n.easeOutBounce(i*2-a,0,o,a),l*.5+o*.5+s)}},r(n)}).call(iOe)})(FN);const jR=FN.exports;function F0(t,e){if(t){if(typeof t=="function")return t;if(typeof t=="string")return jR[t]}else return jR[e]}const sOe={removeOnInterrupt:!1,ease:"linear",time:1e3};class oOe extends ki{constructor(e,n={}){super(e),oe(this,"options"),oe(this,"startX"),oe(this,"startY"),oe(this,"deltaX"),oe(this,"deltaY"),oe(this,"keepCenter"),oe(this,"startWidth",null),oe(this,"startHeight",null),oe(this,"deltaWidth",null),oe(this,"deltaHeight",null),oe(this,"width",null),oe(this,"height",null),oe(this,"time",0),this.options=Object.assign({},sOe,n),this.options.ease=F0(this.options.ease),this.setupPosition(),this.setupZoom(),this.time=0}setupPosition(){typeof this.options.position<"u"?(this.startX=this.parent.center.x,this.startY=this.parent.center.y,this.deltaX=this.options.position.x-this.parent.center.x,this.deltaY=this.options.position.y-this.parent.center.y,this.keepCenter=!1):this.keepCenter=!0}setupZoom(){this.width=null,this.height=null,typeof this.options.scale<"u"?this.width=this.parent.screenWidth/this.options.scale:typeof this.options.scaleX<"u"||typeof this.options.scaleY<"u"?(typeof this.options.scaleX<"u"&&(this.width=this.parent.screenWidth/this.options.scaleX),typeof this.options.scaleY<"u"&&(this.height=this.parent.screenHeight/this.options.scaleY)):(typeof this.options.width<"u"&&(this.width=this.options.width),typeof this.options.height<"u"&&(this.height=this.options.height)),this.width!==null&&(this.startWidth=this.parent.screenWidthInWorldPixels,this.deltaWidth=this.width-this.startWidth),this.height!==null&&(this.startHeight=this.parent.screenHeightInWorldPixels,this.deltaHeight=this.height-this.startHeight)}down(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("animate"),!1}complete(){this.parent.plugins.remove("animate"),this.width!==null&&this.parent.fitWidth(this.width,this.keepCenter,this.height===null),this.height!==null&&this.parent.fitHeight(this.height,this.keepCenter,this.width===null),!this.keepCenter&&this.options.position&&this.parent.moveCenter(this.options.position),this.parent.emit("animate-end",this.parent),this.options.callbackOnComplete&&this.options.callbackOnComplete(this.parent)}update(e){if(this.paused)return;this.time+=e;const n=new Ie(this.parent.scale.x,this.parent.scale.y);if(this.time>=this.options.time){const r=this.parent.width,i=this.parent.height;this.complete(),(r!==this.parent.width||i!==this.parent.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:n,type:"animate"})}else{const r=this.options.ease(this.time,0,1,this.options.time);if(this.width!==null){const i=this.startWidth,s=this.deltaWidth;this.parent.fitWidth(i+s*r,this.keepCenter,this.height===null)}if(this.height!==null){const i=this.startHeight,s=this.deltaHeight;this.parent.fitHeight(i+s*r,this.keepCenter,this.width===null)}if(this.width===null?this.parent.scale.x=this.parent.scale.y:this.height===null&&(this.parent.scale.y=this.parent.scale.x),!this.keepCenter){const i=this.startX,s=this.startY,o=this.deltaX,a=this.deltaY,l=new Ie(this.parent.x,this.parent.y);this.parent.moveCenter(i+o*r,s+a*r),this.parent.emit("moved",{viewport:this.parent,original:l,type:"animate"})}(this.width||this.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:n,type:"animate"})}}}const aOe={sides:"all",friction:.5,time:150,ease:"easeInOutSine",underflow:"center",bounceBox:null};class lOe extends ki{constructor(e,n={}){super(e),oe(this,"options"),oe(this,"left"),oe(this,"top"),oe(this,"right"),oe(this,"bottom"),oe(this,"underflowX"),oe(this,"underflowY"),oe(this,"ease"),oe(this,"toX"),oe(this,"toY"),this.options=Object.assign({},aOe,n),this.ease=F0(this.options.ease,"easeInOutSine"),this.options.sides?this.options.sides==="all"?this.top=this.bottom=this.left=this.right=!0:this.options.sides==="horizontal"?(this.right=this.left=!0,this.top=this.bottom=!1):this.options.sides==="vertical"?(this.left=this.right=!1,this.top=this.bottom=!0):(this.top=this.options.sides.indexOf("top")!==-1,this.bottom=this.options.sides.indexOf("bottom")!==-1,this.left=this.options.sides.indexOf("left")!==-1,this.right=this.options.sides.indexOf("right")!==-1):this.left=this.top=this.right=this.bottom=!1;const r=this.options.underflow.toLowerCase();r==="center"?(this.underflowX=0,this.underflowY=0):(this.underflowX=r.indexOf("left")!==-1?-1:r.indexOf("right")!==-1?1:0,this.underflowY=r.indexOf("top")!==-1?-1:r.indexOf("bottom")!==-1?1:0),this.reset()}isActive(){return this.toX!==null||this.toY!==null}down(){return this.toX=this.toY=null,!1}up(){return this.bounce(),!1}update(e){if(!this.paused){if(this.bounce(),this.toX){const n=this.toX;n.time+=e,this.parent.emit("moved",{viewport:this.parent,type:"bounce-x"}),n.time>=this.options.time?(this.parent.x=n.end,this.toX=null,this.parent.emit("bounce-x-end",this.parent)):this.parent.x=this.ease(n.time,n.start,n.delta,this.options.time)}if(this.toY){const n=this.toY;n.time+=e,this.parent.emit("moved",{viewport:this.parent,type:"bounce-y"}),n.time>=this.options.time?(this.parent.y=n.end,this.toY=null,this.parent.emit("bounce-y-end",this.parent)):this.parent.y=this.ease(n.time,n.start,n.delta,this.options.time)}}}calcUnderflowX(){let e;switch(this.underflowX){case-1:e=0;break;case 1:e=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:e=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}return e}calcUnderflowY(){let e;switch(this.underflowY){case-1:e=0;break;case 1:e=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:e=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}return e}oob(){const e=this.options.bounceBox;if(e){const n=typeof e.x>"u"?0:e.x,r=typeof e.y>"u"?0:e.y,i=typeof e.width>"u"?this.parent.worldWidth:e.width,s=typeof e.height>"u"?this.parent.worldHeight:e.height;return{left:this.parent.left<n,right:this.parent.right>i,top:this.parent.top<r,bottom:this.parent.bottom>s,topLeft:new Ie(n*this.parent.scale.x,r*this.parent.scale.y),bottomRight:new Ie(i*this.parent.scale.x-this.parent.screenWidth,s*this.parent.scale.y-this.parent.screenHeight)}}return{left:this.parent.left<0,right:this.parent.right>this.parent.worldWidth,top:this.parent.top<0,bottom:this.parent.bottom>this.parent.worldHeight,topLeft:new Ie(0,0),bottomRight:new Ie(this.parent.worldWidth*this.parent.scale.x-this.parent.screenWidth,this.parent.worldHeight*this.parent.scale.y-this.parent.screenHeight)}}bounce(){var e,n;if(this.paused)return;let r,i=this.parent.plugins.get("decelerate",!0);i&&(i.x||i.y)&&(i.x&&i.percentChangeX===((e=i.options)==null?void 0:e.friction)||i.y&&i.percentChangeY===((n=i.options)==null?void 0:n.friction))&&(r=this.oob(),(r.left&&this.left||r.right&&this.right)&&(i.percentChangeX=this.options.friction),(r.top&&this.top||r.bottom&&this.bottom)&&(i.percentChangeY=this.options.friction));const s=this.parent.plugins.get("drag",!0)||{},o=this.parent.plugins.get("pinch",!0)||{};if(i=i||{},!(s!=null&&s.active)&&!(o!=null&&o.active)&&(!this.toX||!this.toY)&&(!i.x||!i.y)){r=r||this.oob();const a=r.topLeft,l=r.bottomRight;if(!this.toX&&!i.x){let c=null;r.left&&this.left?c=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-a.x:r.right&&this.right&&(c=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-l.x),c!==null&&this.parent.x!==c&&(this.toX={time:0,start:this.parent.x,delta:c-this.parent.x,end:c},this.parent.emit("bounce-x-start",this.parent))}if(!this.toY&&!i.y){let c=null;r.top&&this.top?c=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-a.y:r.bottom&&this.bottom&&(c=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-l.y),c!==null&&this.parent.y!==c&&(this.toY={time:0,start:this.parent.y,delta:c-this.parent.y,end:c},this.parent.emit("bounce-y-start",this.parent))}}}reset(){this.toX=this.toY=null,this.bounce()}}const uOe={left:!1,right:!1,top:!1,bottom:!1,direction:null,underflow:"center"};class cOe extends ki{constructor(e,n={}){super(e),oe(this,"options"),oe(this,"last"),oe(this,"noUnderflow"),oe(this,"underflowX"),oe(this,"underflowY"),this.options=Object.assign({},uOe,n),this.options.direction&&(this.options.left=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.right=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.top=this.options.direction==="y"||this.options.direction==="all"?!0:null,this.options.bottom=this.options.direction==="y"||this.options.direction==="all"?!0:null),this.parseUnderflow(),this.last={x:null,y:null,scaleX:null,scaleY:null},this.update()}parseUnderflow(){const e=this.options.underflow.toLowerCase();e==="none"?this.noUnderflow=!0:e==="center"?(this.underflowX=this.underflowY=0,this.noUnderflow=!1):(this.underflowX=e.indexOf("left")!==-1?-1:e.indexOf("right")!==-1?1:0,this.underflowY=e.indexOf("top")!==-1?-1:e.indexOf("bottom")!==-1?1:0,this.noUnderflow=!1)}move(){return this.update(),!1}update(){if(this.paused||this.parent.x===this.last.x&&this.parent.y===this.last.y&&this.parent.scale.x===this.last.scaleX&&this.parent.scale.y===this.last.scaleY)return;const e=new Ie(this.parent.x,this.parent.y),n=this.parent.plugins.decelerate||{};if(this.options.left!==null||this.options.right!==null){let r=!1;if(!this.noUnderflow&&this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x!==0&&(this.parent.x=0,r=!0);break;case 1:this.parent.x!==this.parent.screenWidth-this.parent.screenWorldWidth&&(this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth,r=!0);break;default:this.parent.x!==(this.parent.screenWidth-this.parent.screenWorldWidth)/2&&(this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2,r=!0)}else this.options.left!==null&&this.parent.left<(this.options.left===!0?0:this.options.left)&&(this.parent.x=-(this.options.left===!0?0:this.options.left)*this.parent.scale.x,n.x=0,r=!0),this.options.right!==null&&this.parent.right>(this.options.right===!0?this.parent.worldWidth:this.options.right)&&(this.parent.x=-(this.options.right===!0?this.parent.worldWidth:this.options.right)*this.parent.scale.x+this.parent.screenWidth,n.x=0,r=!0);r&&this.parent.emit("moved",{viewport:this.parent,original:e,type:"clamp-x"})}if(this.options.top!==null||this.options.bottom!==null){let r=!1;if(!this.noUnderflow&&this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y!==0&&(this.parent.y=0,r=!0);break;case 1:this.parent.y!==this.parent.screenHeight-this.parent.screenWorldHeight&&(this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight,r=!0);break;default:this.parent.y!==(this.parent.screenHeight-this.parent.screenWorldHeight)/2&&(this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2,r=!0)}else this.options.top!==null&&this.parent.top<(this.options.top===!0?0:this.options.top)&&(this.parent.y=-(this.options.top===!0?0:this.options.top)*this.parent.scale.y,n.y=0,r=!0),this.options.bottom!==null&&this.parent.bottom>(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)&&(this.parent.y=-(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)*this.parent.scale.y+this.parent.screenHeight,n.y=0,r=!0);r&&this.parent.emit("moved",{viewport:this.parent,original:e,type:"clamp-y"})}this.last.x=this.parent.x,this.last.y=this.parent.y,this.last.scaleX=this.parent.scale.x,this.last.scaleY=this.parent.scale.y}reset(){this.update()}}const hOe={minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,minScale:null,maxScale:null};class dOe extends ki{constructor(e,n={}){super(e),oe(this,"options"),this.options=Object.assign({},hOe,n),this.clamp()}resize(){this.clamp()}clamp(){if(!this.paused){if(this.options.minWidth||this.options.minHeight||this.options.maxWidth||this.options.maxHeight){let e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight;if(this.options.minWidth!==null&&e<this.options.minWidth){const r=this.parent.scale.x;this.parent.fitWidth(this.options.minWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/r,e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxWidth!==null&&e>this.options.maxWidth){const r=this.parent.scale.x;this.parent.fitWidth(this.options.maxWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/r,e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.minHeight!==null&&n<this.options.minHeight){const r=this.parent.scale.y;this.parent.fitHeight(this.options.minHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/r,e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxHeight!==null&&n>this.options.maxHeight){const r=this.parent.scale.y;this.parent.fitHeight(this.options.maxHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/r,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}}else if(this.options.minScale||this.options.maxScale){const e={x:null,y:null},n={x:null,y:null};if(typeof this.options.minScale=="number")e.x=this.options.minScale,e.y=this.options.minScale;else if(this.options.minScale!==null){const s=this.options.minScale;e.x=typeof s.x>"u"?null:s.x,e.y=typeof s.y>"u"?null:s.y}if(typeof this.options.maxScale=="number")n.x=this.options.maxScale,n.y=this.options.maxScale;else if(this.options.maxScale!==null){const s=this.options.maxScale;n.x=typeof s.x>"u"?null:s.x,n.y=typeof s.y>"u"?null:s.y}let r=this.parent.scale.x,i=this.parent.scale.y;e.x!==null&&r<e.x&&(r=e.x),n.x!==null&&r>n.x&&(r=n.x),e.y!==null&&i<e.y&&(i=e.y),n.y!==null&&i>n.y&&(i=n.y),(r!==this.parent.scale.x||i!==this.parent.scale.y)&&(this.parent.scale.set(r,i),this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"}))}}}reset(){this.clamp()}}const fOe={friction:.98,bounce:.8,minSpeed:.01},Do=16;class pOe extends ki{constructor(e,n={}){super(e),oe(this,"options"),oe(this,"x"),oe(this,"y"),oe(this,"percentChangeX"),oe(this,"percentChangeY"),oe(this,"saved"),oe(this,"timeSinceRelease"),this.options=Object.assign({},fOe,n),this.saved=[],this.timeSinceRelease=0,this.reset(),this.parent.on("moved",r=>this.handleMoved(r))}down(){return this.saved=[],this.x=this.y=null,!1}isActive(){return!!(this.x||this.y)}move(){if(this.paused)return!1;const e=this.parent.input.count();return(e===1||e>1&&!this.parent.plugins.get("pinch",!0))&&(this.saved.push({x:this.parent.x,y:this.parent.y,time:performance.now()}),this.saved.length>60&&this.saved.splice(0,30)),!1}handleMoved(e){if(this.saved.length){const n=this.saved[this.saved.length-1];e.type==="clamp-x"&&e.original?n.x===e.original.x&&(n.x=this.parent.x):e.type==="clamp-y"&&e.original&&n.y===e.original.y&&(n.y=this.parent.y)}}up(){if(this.parent.input.count()===0&&this.saved.length){const e=performance.now();for(const n of this.saved)if(n.time>=e-100){const r=e-n.time;this.x=(this.parent.x-n.x)/r,this.y=(this.parent.y-n.y)/r,this.percentChangeX=this.percentChangeY=this.options.friction,this.timeSinceRelease=0;break}}return!1}activate(e){e=e||{},typeof e.x<"u"&&(this.x=e.x,this.percentChangeX=this.options.friction),typeof e.y<"u"&&(this.y=e.y,this.percentChangeY=this.options.friction)}update(e){if(this.paused)return;const n=this.x||this.y,r=this.timeSinceRelease,i=this.timeSinceRelease+e;if(this.x){const s=this.percentChangeX,o=Math.log(s);this.parent.x+=this.x*Do/o*(Math.pow(s,i/Do)-Math.pow(s,r/Do)),this.x*=Math.pow(this.percentChangeX,e/Do)}if(this.y){const s=this.percentChangeY,o=Math.log(s);this.parent.y+=this.y*Do/o*(Math.pow(s,i/Do)-Math.pow(s,r/Do)),this.y*=Math.pow(this.percentChangeY,e/Do)}this.timeSinceRelease+=e,this.x&&this.y?Math.abs(this.x)<this.options.minSpeed&&Math.abs(this.y)<this.options.minSpeed&&(this.x=0,this.y=0):(Math.abs(this.x||0)<this.options.minSpeed&&(this.x=0),Math.abs(this.y||0)<this.options.minSpeed&&(this.y=0)),n&&this.parent.emit("moved",{viewport:this.parent,type:"decelerate"})}reset(){this.x=this.y=null}}const mOe={direction:"all",pressDrag:!0,wheel:!0,wheelScroll:1,reverse:!1,clampWheel:!1,underflow:"center",factor:1,mouseButtons:"all",keyToPress:null,ignoreKeyToPressOnTouch:!1,lineHeight:20,wheelSwapAxes:!1};class gOe extends ki{constructor(e,n={}){super(e),oe(this,"options"),oe(this,"moved"),oe(this,"reverse"),oe(this,"xDirection"),oe(this,"yDirection"),oe(this,"keyIsPressed"),oe(this,"mouse"),oe(this,"underflowX"),oe(this,"underflowY"),oe(this,"last"),oe(this,"current"),oe(this,"windowEventHandlers",[]),this.options=Object.assign({},mOe,n),this.moved=!1,this.reverse=this.options.reverse?1:-1,this.xDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="x",this.yDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="y",this.keyIsPressed=!1,this.parseUnderflow(),this.mouseButtons(this.options.mouseButtons),this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(e){const n=i=>{e.includes(i.code)&&(this.keyIsPressed=!0)},r=i=>{e.includes(i.code)&&(this.keyIsPressed=!1)};this.addWindowEventHandler("keyup",r),this.addWindowEventHandler("keydown",n)}addWindowEventHandler(e,n){window.addEventListener(e,n),this.windowEventHandlers.push({event:e,handler:n})}destroy(){this.windowEventHandlers.forEach(({event:e,handler:n})=>{window.removeEventListener(e,n)})}mouseButtons(e){!e||e==="all"?this.mouse=[!0,!0,!0]:this.mouse=[e.indexOf("left")!==-1,e.indexOf("middle")!==-1,e.indexOf("right")!==-1]}parseUnderflow(){const e=this.options.underflow.toLowerCase();e==="center"?(this.underflowX=0,this.underflowY=0):(e.includes("left")?this.underflowX=-1:e.includes("right")?this.underflowX=1:this.underflowX=0,e.includes("top")?this.underflowY=-1:e.includes("bottom")?this.underflowY=1:this.underflowY=0)}checkButtons(e){const n=e.pointerType==="mouse",r=this.parent.input.count();return!!((r===1||r>1&&!this.parent.plugins.get("pinch",!0))&&(!n||this.mouse[e.button]))}checkKeyPress(e){return!this.options.keyToPress||this.keyIsPressed||this.options.ignoreKeyToPressOnTouch&&e.data.pointerType==="touch"}down(e){return this.paused||!this.options.pressDrag?!1:this.checkButtons(e)&&this.checkKeyPress(e)?(this.last={x:e.global.x,y:e.global.y},this.current=e.pointerId,!0):(this.last=null,!1)}get active(){return this.moved}move(e){if(this.paused||!this.options.pressDrag)return!1;if(this.last&&this.current===e.data.pointerId){const n=e.global.x,r=e.global.y,i=this.parent.input.count();if(i===1||i>1&&!this.parent.plugins.get("pinch",!0)){const s=n-this.last.x,o=r-this.last.y;if(this.moved||this.xDirection&&this.parent.input.checkThreshold(s)||this.yDirection&&this.parent.input.checkThreshold(o)){const a={x:n,y:r};return this.xDirection&&(this.parent.x+=(a.x-this.last.x)*this.options.factor),this.yDirection&&(this.parent.y+=(a.y-this.last.y)*this.options.factor),this.last=a,this.moved||this.parent.emit("drag-start",{event:e,screen:new Ie(this.last.x,this.last.y),world:this.parent.toWorld(new Ie(this.last.x,this.last.y)),viewport:this.parent}),this.moved=!0,this.parent.emit("moved",{viewport:this.parent,type:"drag"}),!0}}else this.moved=!1}return!1}up(e){if(this.paused)return!1;const n=this.parent.input.touches;if(n.length===1){const r=n[0];return r.last&&(this.last={x:r.last.x,y:r.last.y},this.current=r.id),this.moved=!1,!0}else if(this.last&&this.moved){const r=new Ie(this.last.x,this.last.y);return this.parent.emit("drag-end",{event:e,screen:r,world:this.parent.toWorld(r),viewport:this.parent}),this.last=null,this.moved=!1,!0}return!1}wheel(e){if(this.paused)return!1;if(this.options.wheel){const n=this.parent.plugins.get("wheel",!0);if(!n||!n.options.wheelZoom&&!e.ctrlKey){const r=e.deltaMode?this.options.lineHeight:1,i=[e.deltaX,e.deltaY],[s,o]=this.options.wheelSwapAxes?i.reverse():i;return this.xDirection&&(this.parent.x+=s*r*this.options.wheelScroll*this.reverse),this.yDirection&&(this.parent.y+=o*r*this.options.wheelScroll*this.reverse),this.options.clampWheel&&this.clamp(),this.parent.emit("wheel-scroll",this.parent),this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.options.passiveWheel||e.preventDefault(),this.parent.options.stopPropagation&&e.stopPropagation(),!0}}return!1}resume(){this.last=null,this.paused=!1}clamp(){const e=this.parent.plugins.get("decelerate",!0)||{};if(this.options.clampWheel!=="y")if(this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x=0;break;case 1:this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}else this.parent.left<0?(this.parent.x=0,e.x=0):this.parent.right>this.parent.worldWidth&&(this.parent.x=-this.parent.worldWidth*this.parent.scale.x+this.parent.screenWidth,e.x=0);if(this.options.clampWheel!=="x")if(this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y=0;break;case 1:this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}else this.parent.top<0&&(this.parent.y=0,e.y=0),this.parent.bottom>this.parent.worldHeight&&(this.parent.y=-this.parent.worldHeight*this.parent.scale.y+this.parent.screenHeight,e.y=0)}}const vOe={speed:0,acceleration:null,radius:null};class yOe extends ki{constructor(e,n,r={}){super(e),oe(this,"options"),oe(this,"target"),oe(this,"velocity"),this.target=n,this.options=Object.assign({},vOe,r),this.velocity={x:0,y:0}}update(e){if(this.paused)return;const n=this.parent.center;let r=this.target.x,i=this.target.y;if(this.options.radius)if(Math.sqrt(Math.pow(this.target.y-n.y,2)+Math.pow(this.target.x-n.x,2))>this.options.radius){const a=Math.atan2(this.target.y-n.y,this.target.x-n.x);r=this.target.x-Math.cos(a)*this.options.radius,i=this.target.y-Math.sin(a)*this.options.radius}else return;const s=r-n.x,o=i-n.y;if(s||o)if(this.options.speed)if(this.options.acceleration){const a=Math.atan2(i-n.y,r-n.x),l=Math.sqrt(Math.pow(s,2)+Math.pow(o,2));if(l){const c=(Math.pow(this.velocity.x,2)+Math.pow(this.velocity.y,2))/(2*this.options.acceleration);l>c?this.velocity={x:Math.min(this.velocity.x+(this.options.acceleration*e,this.options.speed)),y:Math.min(this.velocity.y+(this.options.acceleration*e,this.options.speed))}:this.velocity={x:Math.max(this.velocity.x-this.options.acceleration*this.options.speed,0),y:Math.max(this.velocity.y-this.options.acceleration*this.options.speed,0)};const h=Math.cos(a)*this.velocity.x,f=Math.sin(a)*this.velocity.y,p=Math.abs(h)>Math.abs(s)?r:n.x+h,m=Math.abs(f)>Math.abs(o)?i:n.y+f;this.parent.moveCenter(p,m),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}else{const a=Math.atan2(i-n.y,r-n.x),l=Math.cos(a)*this.options.speed,c=Math.sin(a)*this.options.speed,h=Math.abs(l)>Math.abs(s)?r:n.x+l,f=Math.abs(c)>Math.abs(o)?i:n.y+c;this.parent.moveCenter(h,f),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}else this.parent.moveCenter(r,i),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}const bOe={radius:null,distance:null,top:null,bottom:null,left:null,right:null,speed:8,reverse:!1,noDecelerate:!1,linear:!1,allowButtons:!1};class xOe extends ki{constructor(e,n={}){super(e),oe(this,"options"),oe(this,"reverse"),oe(this,"radiusSquared"),oe(this,"left"),oe(this,"top"),oe(this,"right"),oe(this,"bottom"),oe(this,"horizontal"),oe(this,"vertical"),this.options=Object.assign({},bOe,n),this.reverse=this.options.reverse?1:-1,this.radiusSquared=typeof this.options.radius=="number"?Math.pow(this.options.radius,2):null,this.resize()}resize(){const e=this.options.distance;e!==null?(this.left=e,this.top=e,this.right=this.parent.screenWidth-e,this.bottom=this.parent.screenHeight-e):this.options.radius||(this.left=this.options.left,this.top=this.options.top,this.right=this.options.right===null?null:this.parent.screenWidth-this.options.right,this.bottom=this.options.bottom===null?null:this.parent.screenHeight-this.options.bottom)}down(){return this.paused||this.options.allowButtons||(this.horizontal=this.vertical=null),!1}move(e){if(this.paused||e.pointerType!=="mouse"&&e.pointerId!==1||!this.options.allowButtons&&e.buttons!==0)return!1;const n=e.global.x,r=e.global.y;if(this.radiusSquared){const i=this.parent.toScreen(this.parent.center);if(Math.pow(i.x-n,2)+Math.pow(i.y-r,2)>=this.radiusSquared){const s=Math.atan2(i.y-r,i.x-n);this.options.linear?(this.horizontal=Math.round(Math.cos(s))*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.round(Math.sin(s))*this.options.speed*this.reverse*(60/1e3)):(this.horizontal=Math.cos(s)*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.sin(s)*this.options.speed*this.reverse*(60/1e3))}else this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=0}else this.left!==null&&n<this.left?this.horizontal=Number(this.reverse)*this.options.speed*(60/1e3):this.right!==null&&n>this.right?this.horizontal=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateHorizontal(),this.horizontal=0),this.top!==null&&r<this.top?this.vertical=Number(this.reverse)*this.options.speed*(60/1e3):this.bottom!==null&&r>this.bottom?this.vertical=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateVertical(),this.vertical=0);return!1}decelerateHorizontal(){const e=this.parent.plugins.get("decelerate",!0);this.horizontal&&e&&!this.options.noDecelerate&&e.activate({x:this.horizontal*this.options.speed*this.reverse/(1e3/60)})}decelerateVertical(){const e=this.parent.plugins.get("decelerate",!0);this.vertical&&e&&!this.options.noDecelerate&&e.activate({y:this.vertical*this.options.speed*this.reverse/(1e3/60)})}up(){return this.paused||(this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=null),!1}update(){if(!this.paused&&(this.horizontal||this.vertical)){const e=this.parent.center;this.horizontal&&(e.x+=this.horizontal*this.options.speed),this.vertical&&(e.y+=this.vertical*this.options.speed),this.parent.moveCenter(e),this.parent.emit("moved",{viewport:this.parent,type:"mouse-edges"})}}}const wOe={noDrag:!1,percent:1,center:null,factor:1,axis:"all"};class _Oe extends ki{constructor(e,n={}){super(e),oe(this,"options"),oe(this,"active",!1),oe(this,"pinching",!1),oe(this,"moved",!1),oe(this,"lastCenter"),this.options=Object.assign({},wOe,n)}down(){return this.parent.input.count()>=2?(this.active=!0,!0):!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}move(e){if(this.paused||!this.active)return!1;const n=e.global.x,r=e.global.y,i=this.parent.input.touches;if(i.length>=2){const s=i[0],o=i[1],a=s.last&&o.last?Math.sqrt(Math.pow(o.last.x-s.last.x,2)+Math.pow(o.last.y-s.last.y,2)):null;if(s.id===e.pointerId?s.last={x:n,y:r,data:e}:o.id===e.pointerId&&(o.last={x:n,y:r,data:e}),a){let l;const c=new Ie(s.last.x+(o.last.x-s.last.x)/2,s.last.y+(o.last.y-s.last.y)/2);this.options.center||(l=this.parent.toLocal(c));let h=Math.sqrt(Math.pow(o.last.x-s.last.x,2)+Math.pow(o.last.y-s.last.y,2));h=h===0?h=1e-10:h;const f=(1-a/h)*this.options.percent*(this.isAxisX()?this.parent.scale.x:this.parent.scale.y);this.isAxisX()&&(this.parent.scale.x+=f),this.isAxisY()&&(this.parent.scale.y+=f),this.parent.emit("zoomed",{viewport:this.parent,type:"pinch",center:c});const p=this.parent.plugins.get("clamp-zoom",!0);if(p&&p.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const m=this.parent.toGlobal(l);this.parent.x+=(c.x-m.x)*this.options.factor,this.parent.y+=(c.y-m.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})}!this.options.noDrag&&this.lastCenter&&(this.parent.x+=(c.x-this.lastCenter.x)*this.options.factor,this.parent.y+=(c.y-this.lastCenter.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})),this.lastCenter=c,this.moved=!0}else this.pinching||(this.parent.emit("pinch-start",this.parent),this.pinching=!0);return!0}return!1}up(){return this.pinching&&this.parent.input.touches.length<=1?(this.active=!1,this.lastCenter=null,this.pinching=!1,this.moved=!1,this.parent.emit("pinch-end",this.parent),!0):!1}}const SOe={topLeft:!1,friction:.8,time:1e3,ease:"easeInOutSine",interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1};class EOe extends ki{constructor(e,n,r,i={}){super(e),oe(this,"options"),oe(this,"ease"),oe(this,"x"),oe(this,"y"),oe(this,"percent"),oe(this,"snapping"),oe(this,"deltaX"),oe(this,"deltaY"),oe(this,"startX"),oe(this,"startY"),this.options=Object.assign({},SOe,i),this.ease=F0(i.ease,"easeInOutSine"),this.x=n,this.y=r,this.options.forceStart&&this.snapStart()}snapStart(){this.percent=0,this.snapping={time:0};const e=this.options.topLeft?this.parent.corner:this.parent.center;this.deltaX=this.x-e.x,this.deltaY=this.y-e.y,this.startX=e.x,this.startY=e.y,this.parent.emit("snap-start",this.parent)}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap"):this.options.interrupt&&(this.snapping=null),!1}up(){if(this.parent.input.count()===0){const e=this.parent.plugins.get("decelerate",!0);e&&(e.x||e.y)&&(e.percentChangeX=e.percentChangeY=this.options.friction)}return!1}update(e){if(!this.paused&&!(this.options.interrupt&&this.parent.input.count()!==0))if(this.snapping){const n=this.snapping;n.time+=e;let r,i,s;const o=this.startX,a=this.startY,l=this.deltaX,c=this.deltaY;if(n.time>this.options.time)r=!0,i=o+l,s=a+c;else{const h=this.ease(n.time,0,1,this.options.time);i=o+l*h,s=a+c*h}this.options.topLeft?this.parent.moveCorner(i,s):this.parent.moveCenter(i,s),this.parent.emit("moved",{viewport:this.parent,type:"snap"}),r&&(this.options.removeOnComplete&&this.parent.plugins.remove("snap"),this.parent.emit("snap-end",this.parent),this.snapping=null)}else{const n=this.options.topLeft?this.parent.corner:this.parent.center;(n.x!==this.x||n.y!==this.y)&&this.snapStart()}}}const COe={width:0,height:0,time:1e3,ease:"easeInOutSine",center:null,interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1,noMove:!1};class TOe extends ki{constructor(e,n={}){super(e),oe(this,"options"),oe(this,"ease"),oe(this,"xScale"),oe(this,"yScale"),oe(this,"xIndependent"),oe(this,"yIndependent"),oe(this,"snapping"),this.options=Object.assign({},COe,n),this.ease=F0(this.options.ease),this.xIndependent=!1,this.yIndependent=!1,this.xScale=0,this.yScale=0,this.options.width>0&&(this.xScale=e.screenWidth/this.options.width,this.xIndependent=!0),this.options.height>0&&(this.yScale=e.screenHeight/this.options.height,this.yIndependent=!0),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale,this.options.time===0?(e.container.scale.x=this.xScale,e.container.scale.y=this.yScale,this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom")):n.forceStart&&this.createSnapping()}createSnapping(){const e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,r=this.parent.screenWidth/this.xScale,i=this.parent.screenHeight/this.yScale;this.snapping={time:0,startX:e,startY:n,deltaX:r-e,deltaY:i-n},this.parent.emit("snap-zoom-start",this.parent)}resize(){this.snapping=null,this.options.width>0&&(this.xScale=this.parent.screenWidth/this.options.width),this.options.height>0&&(this.yScale=this.parent.screenHeight/this.options.height),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap-zoom"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap-zoom"):this.options.interrupt&&(this.snapping=null),!1}update(e){if(this.paused||this.options.interrupt&&this.parent.input.count()!==0)return;let n;if(!this.options.center&&!this.options.noMove&&(n=this.parent.center),!this.snapping)(this.parent.scale.x!==this.xScale||this.parent.scale.y!==this.yScale)&&this.createSnapping();else if(this.snapping){const r=this.snapping;if(r.time+=e,r.time>=this.options.time)this.parent.scale.set(this.xScale,this.yScale),this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom"),this.parent.emit("snap-zoom-end",this.parent),this.snapping=null;else{const s=this.snapping,o=this.ease(s.time,s.startX,s.deltaX,this.options.time),a=this.ease(s.time,s.startY,s.deltaY,this.options.time);this.parent.scale.x=this.parent.screenWidth/o,this.parent.scale.y=this.parent.screenHeight/a}const i=this.parent.plugins.get("clamp-zoom",!0);i&&i.clamp(),this.options.noMove||(this.options.center?this.parent.moveCenter(this.options.center):this.parent.moveCenter(n))}}resume(){this.snapping=null,super.resume()}}const AOe={percent:.1,smooth:!1,interrupt:!0,reverse:!1,center:null,lineHeight:20,axis:"all",keyToPress:null,trackpadPinch:!1,wheelZoom:!0};class POe extends ki{constructor(e,n={}){super(e),oe(this,"options"),oe(this,"smoothing"),oe(this,"smoothingCenter"),oe(this,"smoothingCount"),oe(this,"keyIsPressed"),this.options=Object.assign({},AOe,n),this.keyIsPressed=!1,this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(e){window.addEventListener("keydown",n=>{e.includes(n.code)&&(this.keyIsPressed=!0)}),window.addEventListener("keyup",n=>{e.includes(n.code)&&(this.keyIsPressed=!1)})}checkKeyPress(){return!this.options.keyToPress||this.keyIsPressed}down(){return this.options.interrupt&&(this.smoothing=null),!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}update(){if(this.smoothing){const e=this.smoothingCenter,n=this.smoothing;let r;this.options.center||(r=this.parent.toLocal(e)),this.isAxisX()&&(this.parent.scale.x+=n.x),this.isAxisY()&&(this.parent.scale.y+=n.y),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const i=this.parent.plugins.get("clamp-zoom",!0);if(i&&i.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const s=this.parent.toGlobal(r);this.parent.x+=e.x-s.x,this.parent.y+=e.y-s.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.smoothingCount++,this.smoothingCount>=this.options.smooth&&(this.smoothing=null)}}pinch(e){if(this.paused)return;const n=this.parent.input.getPointerPosition(e),r=-e.deltaY*(e.deltaMode?this.options.lineHeight:1)/200,i=Math.pow(2,(1+this.options.percent)*r);let s;this.options.center||(s=this.parent.toLocal(n)),this.isAxisX()&&(this.parent.scale.x*=i),this.isAxisY()&&(this.parent.scale.y*=i),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const o=this.parent.plugins.get("clamp-zoom",!0);if(o&&o.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const a=this.parent.toGlobal(s);this.parent.x+=n.x-a.x,this.parent.y+=n.y-a.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:e,viewport:this.parent})}wheel(e){if(this.paused||!this.checkKeyPress())return!1;if(e.ctrlKey&&this.options.trackpadPinch)this.pinch(e);else if(this.options.wheelZoom){const n=this.parent.input.getPointerPosition(e),r=(this.options.reverse?-1:1)*-e.deltaY*(e.deltaMode?this.options.lineHeight:1)/500,i=Math.pow(2,(1+this.options.percent)*r);if(this.options.smooth){const s={x:this.smoothing?this.smoothing.x*(this.options.smooth-this.smoothingCount):0,y:this.smoothing?this.smoothing.y*(this.options.smooth-this.smoothingCount):0};this.smoothing={x:((this.parent.scale.x+s.x)*i-this.parent.scale.x)/this.options.smooth,y:((this.parent.scale.y+s.y)*i-this.parent.scale.y)/this.options.smooth},this.smoothingCount=0,this.smoothingCenter=n}else{let s;this.options.center||(s=this.parent.toLocal(n)),this.isAxisX()&&(this.parent.scale.x*=i),this.isAxisY()&&(this.parent.scale.y*=i),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const o=this.parent.plugins.get("clamp-zoom",!0);if(o&&o.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const a=this.parent.toGlobal(s);this.parent.x+=n.x-a.x,this.parent.y+=n.y-a.y}}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:e,viewport:this.parent})}return!this.parent.options.passiveWheel}}class kOe{constructor(e){oe(this,"viewport"),oe(this,"clickedAvailable"),oe(this,"isMouseDown"),oe(this,"last"),oe(this,"wheelFunction"),oe(this,"touches"),this.viewport=e,this.touches=[],this.addListeners()}addListeners(){this.viewport.interactive=!0,this.viewport.forceHitArea||(this.viewport.hitArea=new qe(0,0,this.viewport.worldWidth,this.viewport.worldHeight)),this.viewport.on("pointerdown",this.down,this),this.viewport.options.allowPreserveDragOutside?this.viewport.on("globalpointermove",this.move,this):this.viewport.on("pointermove",this.move,this),this.viewport.on("pointerup",this.up,this),this.viewport.on("pointerupoutside",this.up,this),this.viewport.on("pointercancel",this.up,this),this.viewport.options.allowPreserveDragOutside||this.viewport.on("pointerleave",this.up,this),this.wheelFunction=e=>this.handleWheel(e),this.viewport.options.events.domElement.addEventListener("wheel",this.wheelFunction,{passive:this.viewport.options.passiveWheel}),this.isMouseDown=!1}destroy(){this.viewport.options.events.domElement.removeEventListener("wheel",this.wheelFunction)}down(e){if(!(this.viewport.pause||!this.viewport.worldVisible)){if(e.pointerType==="mouse"?this.isMouseDown=!0:this.get(e.pointerId)||this.touches.push({id:e.pointerId,last:null}),this.count()===1){this.last=e.global.clone();const n=this.viewport.plugins.get("decelerate",!0),r=this.viewport.plugins.get("bounce",!0);(!n||!n.isActive())&&(!r||!r.isActive())?this.clickedAvailable=!0:this.clickedAvailable=!1}else this.clickedAvailable=!1;this.viewport.plugins.down(e)&&this.viewport.options.stopPropagation&&e.stopPropagation()}}clear(){this.isMouseDown=!1,this.touches=[],this.last=null}checkThreshold(e){return Math.abs(e)>=this.viewport.threshold}move(e){if(this.viewport.pause||!this.viewport.worldVisible)return;const n=this.viewport.plugins.move(e);if(this.clickedAvailable&&this.last){const r=e.global.x-this.last.x,i=e.global.y-this.last.y;(this.checkThreshold(r)||this.checkThreshold(i))&&(this.clickedAvailable=!1)}n&&this.viewport.options.stopPropagation&&e.stopPropagation()}up(e){if(this.viewport.pause||!this.viewport.worldVisible)return;e.pointerType==="mouse"&&(this.isMouseDown=!1),e.pointerType!=="mouse"&&this.remove(e.pointerId);const n=this.viewport.plugins.up(e);this.clickedAvailable&&this.count()===0&&this.last&&(this.viewport.emit("clicked",{event:e,screen:this.last,world:this.viewport.toWorld(this.last),viewport:this.viewport}),this.clickedAvailable=!1),n&&this.viewport.options.stopPropagation&&e.stopPropagation()}getPointerPosition(e){const n=new Ie;return this.viewport.options.events.mapPositionToPoint(n,e.clientX,e.clientY),n}handleWheel(e){if(this.viewport.pause||!this.viewport.worldVisible)return;const n=this.viewport.toLocal(this.getPointerPosition(e));this.viewport.left<=n.x&&n.x<=this.viewport.right&&this.viewport.top<=n.y&&n.y<=this.viewport.bottom&&this.viewport.plugins.wheel(e)&&!this.viewport.options.passiveWheel&&e.preventDefault()}pause(){this.touches=[],this.isMouseDown=!1}get(e){for(const n of this.touches)if(n.id===e)return n;return null}remove(e){for(let n=0;n<this.touches.length;n++)if(this.touches[n].id===e){this.touches.splice(n,1);return}}count(){return(this.isMouseDown?1:0)+this.touches.length}}const _h=["drag","pinch","wheel","follow","mouse-edges","decelerate","animate","bounce","snap-zoom","clamp-zoom","snap","clamp"];class OOe{constructor(e){oe(this,"plugins"),oe(this,"list"),oe(this,"viewport"),this.viewport=e,this.list=[],this.plugins={}}add(e,n,r=_h.length){const i=this.plugins[e];i&&i.destroy(),this.plugins[e]=n;const s=_h.indexOf(e);s!==-1&&_h.splice(s,1),_h.splice(r,0,e),this.sort()}get(e,n){var r;return n&&(r=this.plugins[e])!=null&&r.paused?null:this.plugins[e]}update(e){for(const n of this.list)n.update(e)}resize(){for(const e of this.list)e.resize()}reset(){for(const e of this.list)e.reset()}removeAll(){this.list.forEach(e=>{e.destroy()}),this.plugins={},this.sort()}remove(e){var n;this.plugins[e]&&((n=this.plugins[e])==null||n.destroy(),delete this.plugins[e],this.viewport.emit("plugin-remove",e),this.sort())}pause(e){var n;(n=this.plugins[e])==null||n.pause()}resume(e){var n;(n=this.plugins[e])==null||n.resume()}sort(){this.list=[];for(const e of _h)this.plugins[e]&&this.list.push(this.plugins[e])}down(e){let n=!1;for(const r of this.list)r.down(e)&&(n=!0);return n}move(e){let n=!1;for(const r of this.viewport.plugins.list)r.move(e)&&(n=!0);return n}up(e){let n=!1;for(const r of this.list)r.up(e)&&(n=!0);return n}wheel(e){let n=!1;for(const r of this.list)r.wheel(e)&&(n=!0);return n}}const IOe={screenWidth:window.innerWidth,screenHeight:window.innerHeight,worldWidth:null,worldHeight:null,threshold:5,passiveWheel:!0,stopPropagation:!1,forceHitArea:null,noTicker:!1,disableOnContextMenu:!1,ticker:pn.shared,allowPreserveDragOutside:!1};class ROe extends nr{constructor(e){super(),oe(this,"moving"),oe(this,"screenWidth"),oe(this,"screenHeight"),oe(this,"threshold"),oe(this,"input"),oe(this,"plugins"),oe(this,"zooming"),oe(this,"lastViewport"),oe(this,"options"),oe(this,"_dirty"),oe(this,"_forceHitArea"),oe(this,"_hitAreaDefault"),oe(this,"_pause"),oe(this,"tickerFunction"),oe(this,"_worldWidth"),oe(this,"_worldHeight"),oe(this,"_disableOnContextMenu",n=>n.preventDefault()),this.options={...IOe,...e},this.screenWidth=this.options.screenWidth,this.screenHeight=this.options.screenHeight,this._worldWidth=this.options.worldWidth,this._worldHeight=this.options.worldHeight,this.forceHitArea=this.options.forceHitArea,this.threshold=this.options.threshold,this.options.disableOnContextMenu&&this.options.events.domElement.addEventListener("contextmenu",this._disableOnContextMenu),this.options.noTicker||(this.tickerFunction=()=>this.update(this.options.ticker.elapsedMS),this.options.ticker.add(this.tickerFunction)),this.input=new kOe(this),this.plugins=new OOe(this)}destroy(e){!this.options.noTicker&&this.tickerFunction&&this.options.ticker.remove(this.tickerFunction),this.options.disableOnContextMenu&&this.options.events.domElement.removeEventListener("contextmenu",this._disableOnContextMenu),this.input.destroy(),super.destroy(e)}update(e){this.pause||(this.plugins.update(e),this.lastViewport&&(this.lastViewport.x!==this.x||this.lastViewport.y!==this.y?this.moving=!0:this.moving&&(this.emit("moved-end",this),this.moving=!1),this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y?this.zooming=!0:this.zooming&&(this.emit("zoomed-end",this),this.zooming=!1)),this.forceHitArea||(this._hitAreaDefault=new qe(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight),this.hitArea=this._hitAreaDefault),this._dirty=this._dirty||!this.lastViewport||this.lastViewport.x!==this.x||this.lastViewport.y!==this.y||this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y,this.lastViewport={x:this.x,y:this.y,scaleX:this.scale.x,scaleY:this.scale.y},this.emit("frame-end",this))}resize(e=window.innerWidth,n=window.innerHeight,r,i){this.screenWidth=e,this.screenHeight=n,typeof r<"u"&&(this._worldWidth=r),typeof i<"u"&&(this._worldHeight=i),this.plugins.resize(),this.dirty=!0}get worldWidth(){return this._worldWidth?this._worldWidth:this.width/this.scale.x}set worldWidth(e){this._worldWidth=e,this.plugins.resize()}get worldHeight(){return this._worldHeight?this._worldHeight:this.height/this.scale.y}set worldHeight(e){this._worldHeight=e,this.plugins.resize()}getVisibleBounds(){return new qe(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight)}toWorld(e,n){return arguments.length===2?this.toLocal(new Ie(e,n)):this.toLocal(e)}toScreen(e,n){return arguments.length===2?this.toGlobal(new Ie(e,n)):this.toGlobal(e)}get worldScreenWidth(){return this.screenWidth/this.scale.x}get worldScreenHeight(){return this.screenHeight/this.scale.y}get screenWorldWidth(){return this.worldWidth*this.scale.x}get screenWorldHeight(){return this.worldHeight*this.scale.y}get center(){return new Ie(this.worldScreenWidth/2-this.x/this.scale.x,this.worldScreenHeight/2-this.y/this.scale.y)}set center(e){this.moveCenter(e)}moveCenter(...e){let n,r;typeof e[0]=="number"?(n=e[0],r=e[1]):(n=e[0].x,r=e[0].y);const i=(this.worldScreenWidth/2-n)*this.scale.x,s=(this.worldScreenHeight/2-r)*this.scale.y;return(this.x!==i||this.y!==s)&&(this.position.set(i,s),this.plugins.reset(),this.dirty=!0),this}get corner(){return new Ie(-this.x/this.scale.x,-this.y/this.scale.y)}set corner(e){this.moveCorner(e)}moveCorner(...e){let n,r;return e.length===1?(n=-e[0].x*this.scale.x,r=-e[0].y*this.scale.y):(n=-e[0]*this.scale.x,r=-e[1]*this.scale.y),(n!==this.x||r!==this.y)&&(this.position.set(n,r),this.plugins.reset(),this.dirty=!0),this}get screenWidthInWorldPixels(){return this.screenWidth/this.scale.x}get screenHeightInWorldPixels(){return this.screenHeight/this.scale.y}findFitWidth(e){return this.screenWidth/e}findFitHeight(e){return this.screenHeight/e}findFit(e,n){const r=this.screenWidth/e,i=this.screenHeight/n;return Math.min(r,i)}findCover(e,n){const r=this.screenWidth/e,i=this.screenHeight/n;return Math.max(r,i)}fitWidth(e=this.worldWidth,n,r=!0,i){let s;n&&(s=this.center),this.scale.x=this.screenWidth/e,r&&(this.scale.y=this.scale.x);const o=this.plugins.get("clamp-zoom",!0);return!i&&o&&o.clamp(),n&&s&&this.moveCenter(s),this}fitHeight(e=this.worldHeight,n,r=!0,i){let s;n&&(s=this.center),this.scale.y=this.screenHeight/e,r&&(this.scale.x=this.scale.y);const o=this.plugins.get("clamp-zoom",!0);return!i&&o&&o.clamp(),n&&s&&this.moveCenter(s),this}fitWorld(e){let n;e&&(n=this.center),this.scale.x=this.screenWidth/this.worldWidth,this.scale.y=this.screenHeight/this.worldHeight,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const r=this.plugins.get("clamp-zoom",!0);return r&&r.clamp(),e&&n&&this.moveCenter(n),this}fit(e,n=this.worldWidth,r=this.worldHeight){let i;e&&(i=this.center),this.scale.x=this.screenWidth/n,this.scale.y=this.screenHeight/r,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const s=this.plugins.get("clamp-zoom",!0);return s&&s.clamp(),e&&i&&this.moveCenter(i),this}setZoom(e,n){let r;n&&(r=this.center),this.scale.set(e);const i=this.plugins.get("clamp-zoom",!0);return i&&i.clamp(),n&&r&&this.moveCenter(r),this}zoomPercent(e,n){return this.setZoom(this.scale.x+this.scale.x*e,n)}zoom(e,n){return this.fitWidth(e+this.worldScreenWidth,n),this}get scaled(){return this.scale.x}set scaled(e){this.setZoom(e,!0)}snapZoom(e){return this.plugins.add("snap-zoom",new TOe(this,e)),this}OOB(){return{left:this.left<0,right:this.right>this.worldWidth,top:this.top<0,bottom:this.bottom>this.worldHeight,cornerPoint:new Ie(this.worldWidth*this.scale.x-this.screenWidth,this.worldHeight*this.scale.y-this.screenHeight)}}get right(){return-this.x/this.scale.x+this.worldScreenWidth}set right(e){this.x=-e*this.scale.x+this.screenWidth,this.plugins.reset()}get left(){return-this.x/this.scale.x}set left(e){this.x=-e*this.scale.x,this.plugins.reset()}get top(){return-this.y/this.scale.y}set top(e){this.y=-e*this.scale.y,this.plugins.reset()}get bottom(){return-this.y/this.scale.y+this.worldScreenHeight}set bottom(e){this.y=-e*this.scale.y+this.screenHeight,this.plugins.reset()}get dirty(){return!!this._dirty}set dirty(e){this._dirty=e}get forceHitArea(){return this._forceHitArea}set forceHitArea(e){e?(this._forceHitArea=e,this.hitArea=e):(this._forceHitArea=null,this.hitArea=new qe(0,0,this.worldWidth,this.worldHeight))}drag(e){return this.plugins.add("drag",new gOe(this,e)),this}clamp(e){return this.plugins.add("clamp",new cOe(this,e)),this}decelerate(e){return this.plugins.add("decelerate",new pOe(this,e)),this}bounce(e){return this.plugins.add("bounce",new lOe(this,e)),this}pinch(e){return this.plugins.add("pinch",new _Oe(this,e)),this}snap(e,n,r){return this.plugins.add("snap",new EOe(this,e,n,r)),this}follow(e,n){return this.plugins.add("follow",new yOe(this,e,n)),this}wheel(e){return this.plugins.add("wheel",new POe(this,e)),this}animate(e){return this.plugins.add("animate",new oOe(this,e)),this}clampZoom(e){return this.plugins.add("clamp-zoom",new dOe(this,e)),this}mouseEdges(e){return this.plugins.add("mouse-edges",new xOe(this,e)),this}get pause(){return!!this._pause}set pause(e){this._pause=e,this.lastViewport=null,this.moving=!1,this.zooming=!1,e&&this.input.pause()}ensureVisible(e,n,r,i,s){s&&(r>this.worldScreenWidth||i>this.worldScreenHeight)&&(this.fit(!0,r,i),this.emit("zoomed",{viewport:this,type:"ensureVisible"}));let o=!1;e<this.left?(this.left=e,o=!0):e+r>this.right&&(this.right=e+r,o=!0),n<this.top?(this.top=n,o=!0):n+i>this.bottom&&(this.bottom=n+i,o=!0),o&&this.emit("moved",{viewport:this,type:"ensureVisible"})}}const zn=(t,e)=>t!=null&&t.levels?e.acquired[t==null?void 0:t.id]>0:e.selected[t==null?void 0:t.id],DN=(t,e)=>e.available[t.id],pm=(t,e,n,r=1)=>{let i=n;return i.available[t.id]&&(t.levels?(i.acquired[t.id]||(i.acquired[t.id]=0),r>=0&&r<=t.levels&&(i.acquired[t.id]=r)):i.selected[t.id]=!i.selected[t.id]),i=MOe(e,t,i),i=b_(e,n),i},MOe=(t,e,n)=>{let r={...n};const i=s=>{const o=er(t,a=>nf(a.requires,{id:s.id}));r=b_(t,n),o&&mt(o,a=>{n.available[a.id]||(n.selected[a.id]=!1,n.acquired[a.id]=0,r=b_(t,n),i(a))})};return i(e),r},b_=(t,e)=>(mt(t,n=>{if(n.requires){let r=n.requirementType||"and",i=r==="and";mt(n.requires,s=>{const o=Ge(t,{id:s.id});if(o.levels){const a=s.levels||o.levels,l=e.acquired[o.id];r==="and"?i=i&&l>=a:r==="or"&&(i=i||l>=a)}else r==="and"?i=i&&e.selected[s.id]:r==="or"&&(i=i||e.selected[s.id])}),e.available[n.id]=i}}),mt(t,n=>{var r;if((r=n.exclusiveWith)!=null&&r.length){let i=!0;mt(n.exclusiveWith,s=>{i=i&&!(e.selected[s]||e.acquired[s])}),e.available[n.id]=i&&e.available[n.id]}}),e),Ks=(t,e,n,r)=>{var i;r.next({node:{...t,acquired:e.acquired[t.id],selected:e.selected[t.id],available:e.available[t.id],requiredName:(i=Ge(n,{id:t.requires}))==null?void 0:i.name}})},Va=t=>typeof t=="string"?parseInt(t.replace("#",""),16):0,$i=(t,e,n)=>n?Va(t.colors[n]):DN(t,e)?Va(t.colors.selected):Va(t.colors.unavailable),Ob=(t,e)=>{e.next({event:"nodesChanged",data:{nodes:ze(t,n=>({colors:n.colors,id:n.id,requires:n.requires,name:n.name,description:n.description,cost:n.cost,levels:n.levels,levelCost:n.levelCost,providedStats:n.providedStats,providedAbilities:n.providedAbilities}))}})};function FOe(t,e,n={},r,i,s,o){let a=s.subscribe({next:Q=>{switch(Q.event){case"buildChanged":L(Q.data.build),le(),Z();break;case"forcesUpdated":O=Q.data.forces,te();break;case"modeChanged":V(Q.data.mode);break;case"nodeAdded":X(Q.data.node);break;case"nodeDeleted":H(Q.data.id);break;case"nodeAcquisitionChanged":z(Q.data.id,Q.data.acquired);break;case"nodeEdited":j(Q.data.id,Q.data.node);break;case"themeChanged":A(Q.data);break}}}),l="#1d1b21",c="#ddd",h,f,p={selected:{},acquired:{},available:{}},m=Y3(),v,y,x,b,_,w="build-slow",E,O={f1:20,f2:18,f3:50,f4:7};function A(Q){Q==="light"?(l="#ffffff",c="#666666"):(l="#1d1b21",c="#dddddd"),h.renderer.backgroundColor=Va(l),le()}function M(Q,K){Q.children.length>0&&Q.children[0].destroy();const $=new mc(K,{fontFamily:"Inter",fontSize:14,fill:c,align:"center"});$.anchor.set(.5,-.75),$.resolution=12,Q.addChild($)}function L(Q){p={selected:{},acquired:{},available:{}},mt(f,K=>{p.selected[K.id]=Q[K.id]===!0,p.acquired[K.id]=QK(Q[K.id])?Q[K.id]:!1}),G(),r.next({nodes:ze(f,K=>({...K,selected:zn(K,p),acquired:p.acquired[K.id]})),nodeMeta:p,ignoreSave:!0})}function H(Q){if(Q==="basic")return;const K=Ge(f,{id:Q});if(K){K==null||K.gfx.removeChildren(),K==null||K.gfx.clear(),f=ze(er(f,ne=>ne.id!==Q),ne=>{let me=ne.requires;return nf(ne.requires,{id:K==null?void 0:K.id})&&(me=K==null?void 0:K.requires),{...ne,requires:me}});const $=Ge(f,{id:(K==null?void 0:K.requires)&&(K==null?void 0:K.requires[0].id)});G(),E=$==null?void 0:$.id,Ks($,p,f,i),le(),te(),Z(),Ob(f,s)}}function G(){y=[],mt(f,Q=>{var K;if((K=Q==null?void 0:Q.requires)!=null&&K.length){let $=!0;mt(Q.requires,ne=>{const me=Ge(f,{id:ne==null?void 0:ne.id});$=$&&zn(me,p),y.push({source:Q,target:me})}),p.available[Q.id]=$}else p.available[Q.id]=!0})}function z(Q,K){let $=Ge(f,{id:Q});$.levels&&$.levels>1?p=pm($,f,p,K):p=pm($,f,p),r.next({nodes:ze(f,ne=>({...ne,selected:zn(ne,p),acquired:p.acquired[ne.id]})),nodeMeta:p}),Ks($,p,f,i),le(),Z()}function j(Q,K){let $=Ge(f,{id:Q}),ne=$.requires,me=$.requirementType;$.name=K.name,$.id=K.id,$.description=K.description,$.levels=K.levels,$.cost=K.cost,$.levelCost=K.levelCost,$.providedStats=K.providedStats,$.providedAbilities=K.providedAbilities,$.colors=K.colors,$.requires=K.requires,$.requirementType=K.requirementType,(ne!==K.requires||me!==K.requirementType)&&G(),p.acquired[Q]&&p.acquired[Q]>K.levels&&(p.acquired[Q]=K.levels),$==null||$.gfx.removeChildren();const Re=new mc(K.name,{fontFamily:"Inter",fontSize:12,fontWeight:"500",fill:"#fff",align:"center"});Re.anchor.set(.5,-.75),Re.resolution=12,$==null||$.gfx.addChild(Re),f=ze(f,ke=>{if(ke.id===Q)return $;{let Ke=ke;return ke.requires===Q&&(Ke.requires=[{id:$.id,levels:1}]),Ke}}),le(),Z(),te(),Ks($,p,f,i),r.next({nodes:ze(f,ke=>({...ke,selected:zn(ke,p),acquired:p.acquired[ke.id]})),nodeMeta:p}),Ob(f,s)}function X(Q){let K={...Q};K.colors||(K.colors={}),R(K),E=K.id,f=[...f,K],mt(K.requires,$=>{y.push({source:K,target:Ge(f,{id:$.id})})}),le(),Z(),ce(),Ob(f,s),Ks(K,p,f,i),setTimeout(()=>{_.follow(K,{acceleration:.4}),_.setZoom(1.4),setTimeout(()=>{_.plugins.remove("follow")},200)},100)}function V(Q){let K=w;w=Q,K!==Q&&((w==="build-slow"||w==="build-fast")&&(E=null),le(),Z())}function he(Q,K){if(w==="build-fast"||Q.ctrlKey){const $=zn(K,p);K.levels&&K.levels>1?p=pm(K,f,p,Q.nativeEvent.shiftKey?p.acquired[K.id]-1:p.acquired[K.id]+1):p=pm(K,f,p),r.next({nodes:ze(f,me=>({...me,selected:zn(me,p),acquired:p.acquired[me.id]})),nodeMeta:p}),Ks(K,p,f,i),s.next({event:"nodeMetaUpdated",data:{nodeMeta:p}});const ne=zn(K,p)!==$;le(ne?K.id:null),Z()}else w==="build-slow"?(Ks(K,p,f,i),Z()):w==="edit"&&(E=K.id,Ks(K,p,f,i),le())}function ce(){te(4,.7)}function te(Q,K){O&&(m.nodes(f).force("link",bEe(y).strength($=>{const ne=$.source.requires.length?.1:-.2;return zn($.target,p)?O.f2*.015+ne:O.f2*.013+ne}).id($=>$.id).distance($=>{let ne=$.source.requires.length?1:6;return $.target.requires.length||(ne+=10),$.source.levels||$.target.levels?zn($.source,p)?O.f1+18+ne:O.f1+20+ne:zn($.source,p)?O.f1+10+ne:O.f1+14+ne})).force("charge",AEe().strength(-(O.f3*6))).force("center",QSe(x/3,b/2)).force("collision",vEe().radius($=>O.f3).iterations(Q||1)).velocityDecay(K||O.f4*.01),m.alpha(1).restart()),Z(),le()}function Z(){for(let Q=v.children.length-1;Q>=0;Q--)v.children[Q].destroy();v.clear(),v.removeChildren(),v.alpha=.8,y.forEach((Q,K)=>{let{source:$,target:ne}=Q,me=4473924,Re=2,ke=$&&zn($,p)&&zn(ne,p);if(ne.id&&$&&(ke||w==="edit"?me=$i($,p,"selected"):me=10198691,Re=zn(ne,p)&&zn($,p)?2:1),v.lineStyle(Re,me,ke?1:.2),$.requirementType==="or"&&!ke){const Ke=new MN(v,{dash:[5,5],width:1,color:me});Ke.moveTo($.x,$.y),Ke.lineTo(ne.x,ne.y)}else v.moveTo($.x,$.y),v.lineTo(ne.x,ne.y)}),v.endFill()}function le(Q){const K=($,ne)=>{$.moveTo(ne,-(ne/2)),$.lineTo(0,ne*1.5),$.lineTo(-ne,-(ne/2)),$.lineTo(ne,-(ne/2))};f.forEach($=>{var Ke,Xe,nt;const ne=E===$.id,me=zn($,p),Re=DN($,p);$.gfx.clear();let ke=$.cost||1;if(ke<1&&(ke=1),w==="build-fast"?$.gfx.cursor=Re?"pointer":"default":$.gfx.cursor="pointer",(Ke=$.exclusiveWith)!=null&&Ke.length||!Q||$.id!==Q||$.levels||!me)if($.levels&&$.levels>1){const Pe=4+$.levels*15,st=p.acquired[$.id],gt=(Xe=$.exclusiveWith)!=null&&Xe.length?2:8;let un=-(Pe/2);$.gfx.lineStyle(2,ne&&w==="edit"?Va("#ffffff"):$i($,p)),$.gfx.beginFill(Va(l)),$.gfx.drawShape(new hc(un,-6,Pe,16,gt)),$.gfx.endFill(),$.gfx.beginFill(Va(c)),$.gfx.lineStyle(),rf(st,rn=>{$.gfx.drawCircle(un+11+rn*14,2,4)}),$.gfx.endFill(),$.gfx.hitArea=new hc(un,-6,Pe,16,4)}else if(((nt=$.exclusiveWith)==null?void 0:nt.length)>0)ne&&w==="edit"?($.gfx.beginFill($i($,p,"selected")),K($.gfx,8),$.gfx.endFill()):me?($.gfx.beginFill($i($,p)),K($.gfx,8),$.gfx.endFill()):Re?($.gfx.lineStyle(1,$i($,p),1),K($.gfx,8),$.gfx.endFill(),$.gfx.beginFill(16777215),$.gfx.lineStyle(),K($.gfx,4),$.gfx.endFill()):($.gfx.beginFill($i($,p)),K($.gfx,6),$.gfx.endFill()),$.gfx.hitArea=new cc(0,0,12+10);else{let Pe;w==="edit"?Pe=8:Pe=me?ke*2+6:ke*2+2,ne&&w==="edit"?($.gfx.beginFill(16777215),$.gfx.drawCircle(0,0,Pe+2),$.gfx.endFill(),$.gfx.beginFill($i($,p,"selected")),$.gfx.drawCircle(0,0,Pe),$.gfx.endFill()):me?($.gfx.beginFill($i($,p)),$.gfx.drawCircle(0,0,Pe),$.gfx.endFill()):Re?($.gfx.lineStyle(1,$i($,p),1),$.gfx.drawCircle(0,0,Pe+4),$.gfx.endFill(),$.gfx.beginFill(14540253),$.gfx.lineStyle(),$.gfx.drawCircle(0,0,Pe),$.gfx.endFill()):($.gfx.beginFill($i($,p)),$.gfx.drawCircle(0,0,Pe),$.gfx.endFill()),$.gfx.hitArea=new cc(0,0,Pe+10)}else if($.id===Q&&me){const Pe=Ge(f,{id:Q});let st=me?ke*2+6:ke*2+2,gt=me?ke*2+2:ke*2+6,un=0;const rn=setInterval(()=>{un++,me?gt+=un*.4:gt-=un*.4,Pe==null||Pe.gfx.clear(),Pe==null||Pe.gfx.beginFill($i(Pe,p)),Pe==null||Pe.gfx.drawCircle(0,0,gt),Pe==null||Pe.gfx.endFill(),me?gt>=st&&clearInterval(rn):gt<=st&&clearInterval(rn)},5)}M($.gfx,$.name),$.gfx.interactive=!0})}function W(){e.length?f=ze(e,$=>({...$})):f=[{id:"reset",name:"Info",description:"Press the Reset Button to start",colors:{selected:"#fff",unavailable:"#fff"}}],y=[],L(n);const Q=t.getBoundingClientRect();b=Q.height,x=Q.width,t.innerHTML="",h=new O0({width:x,height:b,antialias:!0,autoDensity:!0,resizeTo:window,backgroundColor:l,backgroundAlpha:1,resolution:2}),t.appendChild(h.view),_=new ROe({screenWidth:x,screenHeight:b,worldWidth:x*4,worldHeight:b*4,passiveWheel:!1,events:h.renderer.plugins.interaction}),_.setZoom(.6,!0),h.stage.addChild(_),_.drag().pinch().wheel().decelerate().clampZoom({minWidth:x/4,minHeight:b/4}),m=Y3(f),v=new pl,_.addChild(v),f.forEach($=>{R($)}),le(),te();const K=()=>{f.forEach($=>{let{x:ne,y:me,gfx:Re}=$;Re.position=new Ie(ne,me)}),Z()};m.on("tick",K),r.next({nodes:ze(f,$=>({...$,selected:zn($,p),acquired:p.acquired[$.id]})),nodeMeta:p,ignoreSave:!0}),A(o),setTimeout(()=>{_.follow(f[0],{acceleration:.4}),setTimeout(()=>{_.plugins.remove("follow")},1e3)},10)}function R(Q){let K=new pl;const $=he.bind(Q);let ne=!1;K.on("touchstart",me=>{ne=!0,Ks(Q,p,f,i),setTimeout(()=>{ne&&he(me,Q)},100)}),K.on("touchend",me=>{ne=!1}),K.on("click",me=>$(me,Q)),K.on("mouseover",me=>{w==="build-fast"&&Ks(Q,p,f,i)}),Q.gfx=K,_.addChild(K),M(Q.gfx,Q.name)}const D={Inter:"https://fonts.googleapis.com/css2?family=Inter:wght@100;400;500;700&display=swap"};return Ga.add("font-Inter",D.Inter),Ga.load(D.Inter).then(()=>{W()}),{destroy:()=>{m.stop(),f.forEach(Q=>{Q.gfx&&(Q.gfx.clear(),Q.gfx.removeChildren(),Q.gfx.destroy())}),v.clear(),v.clear(),a.unsubscribe(),h.destroy()}}}const DOe="_container_1up64_1",LOe="_node_1up64_15",BOe="_tooltip_1up64_19",NOe="_contextMenu_1up64_32",$Oe="_menuEntry_1up64_37",UOe={container:DOe,node:LOe,tooltip:BOe,contextMenu:NOe,menuEntry:$Oe},zOe=(t,e,n)=>{let r={};const i={globalParams:{},lockedStats:{},stats:{},abilities:{},pointsInvested:0,exportableBuild:{}},s=(c,h,f,p)=>{if(Fr(i.stats[h])&&(i.stats[h]=0),!i.lockedStats[h]||p&&f&&i.lockedStats[h]<f)if(p)i.stats[h]=f,i.lockedStats[h]=f;else if(c.levels){const m=c.acquired||0;f=f||0,i.stats[h]+=f*m}else i.stats[h]+=f},o=(c,h)=>{const f=Ge(e,{id:c});Fr(i.abilities[c])&&(i.abilities[c]=ut(f)||{},i.abilities[c].modifiers={}),i.abilities[c].learned=i.abilities[c].learned||h},a=c=>{const h=Ge(e,{id:c});h&&(o(h.id),i.abilities[c].replaced=!0)},l=(c,h,f={},p)=>{const m=Ge(e,{id:c});o(c,h),m!=null&&m.replaces&&i.abilities[c].learned&&a(m==null?void 0:m.replaces),f&&mt(f,v=>{if(aZ(v.id,"tag-")){Fr(i.abilities[c].tags)&&(i.abilities[c].tags=[]);const x=v.id.substring(4);i.abilities[c].tags=al([...i.abilities[c].tags,x])}let y=v.modifier;p.levels&&(y=p.acquired*v.modifier),Fr(i.abilities[c].modifiers[v.id])&&(i.abilities[c].modifiers[v.id]=0),i.abilities[c].modifiers[v.id]+=y})};return mt(n,c=>{i.globalParams[c.id]=c.value}),mt(t,c=>{c.globalParams&&mt(c.globalParams,h=>{Fr(i.globalParams[h.id])&&(i.globalParams[h.id]=0),h.set?(!r[h.id]||h.modifier>r[h.id])&&(r[h.id]=h.modifier):i.globalParams[h.id]+=h.modifier})}),mt(t,c=>{if(c.levels){const h=c.acquired||0;i.exportableBuild[c.id]=c.acquired||0,c.levelCost?Array.isArray(c.levelCost)?rf(h,f=>{i.pointsInvested+=c.levelCost[f]}):i.pointsInvested+=h*c.levelCost:i.pointsInvested+=c.acquired||0}else i.exportableBuild[c.id]=!0,i.pointsInvested+=c.cost||1;c.providedStats&&mt(c.providedStats,h=>{s(c,h.id,h.modifier,h.set)}),c.providedAbilities&&mt(c.providedAbilities,h=>{l(h.id,h.gain,h.modifiers,c)})}),i};function HOe({infoUpdated:t,graphEvents:e}){const n=T.useRef(null),{abilities:r,globalParams:i}=T.useContext(tr),{nodes:s,setNodeMeta:o,savedNodes:a}=T.useContext(_o),l=new yg,c=new yg,{savedBuild:h,setBuild:f,selectedUnit:p,defaultUnits:m,setDefaultUnits:v,customUnits:y,setCustomUnits:x}=T.useContext(us),{theme:b}=T.useContext(xc),{appMode:_,version:w}=T.useContext(cs),E=T.useRef(r),O=T.useRef(i),A=T.useRef(p),M=T.useRef(y),L=T.useRef(m);return T.useEffect(()=>{e.next({event:"modeChanged",data:{mode:_}})},[_]),T.useEffect(()=>{E.current=r},[r]),T.useEffect(()=>{O.current=i},[i]),T.useEffect(()=>{A.current=p,M.current=y,L.current=m},[p,y,m]),T.useEffect(()=>{e.next({event:"themeChanged",data:b})},[b]),T.useEffect(()=>{e.next({event:"buildChanged",data:{build:h}})},[h]),T.useEffect(()=>{let H;if(e.subscribe({next:G=>{}}),l.subscribe({next:G=>{var X;const z=er(G.nodes,V=>V.selected||V.acquired),j=zOe(z,E.current,O.current);if(!G.ignoreSave&&(X=A.current)!=null&&X.unit)if(A.current.type==="custom"){const V=Ge(M.current,{id:A.current.unit.id});x({type:"update",unit:{...V,build:j.exportableBuild}})}else{const V=Ge(L.current,{id:A.current.unit.id});v({type:"update",unit:{...V,build:j.exportableBuild}})}f({type:"set",build:j}),G.nodeMeta&&o(G.nodeMeta)}}),c.subscribe({next:G=>{t(G)}}),n.current){const{destroy:G}=FOe(n.current,s,h,l,c,e,b);H=G}return t({}),H},[a,w]),k("div",{ref:n,className:UOe.container})}const Ib=new yg;function jOe(){const{setSelectedNodeId:t}=T.useContext(_o),{build:e}=T.useContext(us),{theme:n}=T.useContext(xc),{appMode:r,setAppMode:i,buildMode:s,setBuildMode:o}=T.useContext(cs),a=T.useRef(r),l=T.useRef(s);T.useEffect(()=>{a.current=r},[r]),T.useEffect(()=>{l.current=s},[s]);const c=T.useCallback(f=>{var m;const p=["INPUT","SELECT","TEXTAREA"];f.shiftKey&&!tf(p,(m=document.activeElement)==null?void 0:m.tagName)&&(f.key==="E"?i(a.current==="edit"?s:"edit"):f.key==="F"&&(l.current==="build-slow"?(i("build-fast"),o("build-fast")):(i("build-slow"),o("build-slow"))))},[]);T.useEffect(()=>(document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}),[c]);const h=f=>{var p;t((p=f.node)==null?void 0:p.id)};return J("div",{className:ho({App:!0,light:n==="light"}),children:[J("div",{className:"appLeft",children:[k($Se,{graphEvents$:Ib}),k(WSe,{pointsSpent:e.pointsInvested})]}),k("div",{className:"appRight",children:k(jSe,{graphEvents$:Ib})}),k("div",{className:"skill-panel",children:k(HOe,{infoUpdated:h,graphEvents:Ib})})]})}function WOe(){return k(kZ,{children:k(cJ,{children:k(mJ,{children:k(EZ,{children:k(qne,{children:k(Kne,{children:k(eae,{children:k(jOe,{})})})})})})})})}Rb.createRoot(document.getElementById("root")).render(k(WOe,{}))});export default GOe();
