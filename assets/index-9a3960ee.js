var CA=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var _se=CA((Vt,Wt)=>{function TA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var yi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function AA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var oc={},PA={get exports(){return oc},set exports(t){oc=t}},fh={},_={},OA={get exports(){return _},set exports(t){_=t}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ul=Symbol.for("react.element"),IA=Symbol.for("react.portal"),RA=Symbol.for("react.fragment"),MA=Symbol.for("react.strict_mode"),kA=Symbol.for("react.profiler"),DA=Symbol.for("react.provider"),FA=Symbol.for("react.context"),$A=Symbol.for("react.forward_ref"),BA=Symbol.for("react.suspense"),LA=Symbol.for("react.memo"),NA=Symbol.for("react.lazy"),ey=Symbol.iterator;function UA(t){return t===null||typeof t!="object"?null:(t=ey&&t[ey]||t["@@iterator"],typeof t=="function"?t:null)}var Jw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},e_=Object.assign,t_={};function mo(t,e,n){this.props=t,this.context=e,this.refs=t_,this.updater=n||Jw}mo.prototype.isReactComponent={};mo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};mo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function n_(){}n_.prototype=mo.prototype;function gm(t,e,n){this.props=t,this.context=e,this.refs=t_,this.updater=n||Jw}var mm=gm.prototype=new n_;mm.constructor=gm;e_(mm,mo.prototype);mm.isPureReactComponent=!0;var ty=Array.isArray,r_=Object.prototype.hasOwnProperty,vm={current:null},i_={key:!0,ref:!0,__self:!0,__source:!0};function s_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)r_.call(e,r)&&!i_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ul,type:t,key:s,ref:o,props:i,_owner:vm.current}}function jA(t,e){return{$$typeof:ul,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ym(t){return typeof t=="object"&&t!==null&&t.$$typeof===ul}function HA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ny=/\/+/g;function yd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?HA(""+t.key):e.toString(36)}function Mu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ul:case IA:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+yd(o,0):r,ty(i)?(n="",t!=null&&(n=t.replace(ny,"$&/")+"/"),Mu(i,e,n,"",function(u){return u})):i!=null&&(ym(i)&&(i=jA(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ny,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",ty(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+yd(s,a);o+=Mu(s,e,n,l,i)}else if(l=UA(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+yd(s,a++),o+=Mu(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Dl(t,e,n){if(t==null)return t;var r=[],i=0;return Mu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function zA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ct={current:null},ku={transition:null},GA={ReactCurrentDispatcher:Ct,ReactCurrentBatchConfig:ku,ReactCurrentOwner:vm};de.Children={map:Dl,forEach:function(t,e,n){Dl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Dl(t,function(){e++}),e},toArray:function(t){return Dl(t,function(e){return e})||[]},only:function(t){if(!ym(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};de.Component=mo;de.Fragment=RA;de.Profiler=kA;de.PureComponent=gm;de.StrictMode=MA;de.Suspense=BA;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GA;de.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=e_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=vm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)r_.call(e,l)&&!i_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ul,type:t.type,key:i,ref:s,props:r,_owner:o}};de.createContext=function(t){return t={$$typeof:FA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:DA,_context:t},t.Consumer=t};de.createElement=s_;de.createFactory=function(t){var e=s_.bind(null,t);return e.type=t,e};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:$A,render:t}};de.isValidElement=ym;de.lazy=function(t){return{$$typeof:NA,_payload:{_status:-1,_result:t},_init:zA}};de.memo=function(t,e){return{$$typeof:LA,type:t,compare:e===void 0?null:e}};de.startTransition=function(t){var e=ku.transition;ku.transition={};try{t()}finally{ku.transition=e}};de.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};de.useCallback=function(t,e){return Ct.current.useCallback(t,e)};de.useContext=function(t){return Ct.current.useContext(t)};de.useDebugValue=function(){};de.useDeferredValue=function(t){return Ct.current.useDeferredValue(t)};de.useEffect=function(t,e){return Ct.current.useEffect(t,e)};de.useId=function(){return Ct.current.useId()};de.useImperativeHandle=function(t,e,n){return Ct.current.useImperativeHandle(t,e,n)};de.useInsertionEffect=function(t,e){return Ct.current.useInsertionEffect(t,e)};de.useLayoutEffect=function(t,e){return Ct.current.useLayoutEffect(t,e)};de.useMemo=function(t,e){return Ct.current.useMemo(t,e)};de.useReducer=function(t,e,n){return Ct.current.useReducer(t,e,n)};de.useRef=function(t){return Ct.current.useRef(t)};de.useState=function(t){return Ct.current.useState(t)};de.useSyncExternalStore=function(t,e,n){return Ct.current.useSyncExternalStore(t,e,n)};de.useTransition=function(){return Ct.current.useTransition()};de.version="18.2.0";(function(t){t.exports=de})(OA);const w=AA(_),ry=TA({__proto__:null,default:w},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VA=_,WA=Symbol.for("react.element"),XA=Symbol.for("react.fragment"),YA=Object.prototype.hasOwnProperty,qA=VA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KA={key:!0,ref:!0,__self:!0,__source:!0};function o_(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)YA.call(e,r)&&!KA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:WA,type:t,key:s,ref:o,props:i,_owner:qA.current}}fh.Fragment=XA;fh.jsx=o_;fh.jsxs=o_;(function(t){t.exports=fh})(PA);const P=oc.jsx,z=oc.jsxs;var Hf={},ac={},ZA={get exports(){return ac},set exports(t){ac=t}},Qt={},zf={},QA={get exports(){return zf},set exports(t){zf=t}},a_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,H){var R=M.length;M.push(H);e:for(;0<R;){var N=R-1>>>1,V=M[N];if(0<i(V,H))M[N]=H,M[R]=V,R=N;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var H=M[0],R=M.pop();if(R!==H){M[0]=R;e:for(var N=0,V=M.length,se=V>>>1;N<se;){var le=2*(N+1)-1,ve=M[le],he=le+1,pe=M[he];if(0>i(ve,R))he<V&&0>i(pe,ve)?(M[N]=pe,M[he]=R,N=he):(M[N]=ve,M[le]=R,N=le);else if(he<V&&0>i(pe,R))M[N]=pe,M[he]=R,N=he;else break e}}return H}function i(M,H){var R=M.sortIndex-H.sortIndex;return R!==0?R:M.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,p=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(M){for(var H=n(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=M)r(u),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(u)}}function b(M){if(m=!1,x(M),!p)if(n(l)!==null)p=!0,G(S);else{var H=n(u);H!==null&&$(b,H.startTime-M)}}function S(M,H){p=!1,m&&(m=!1,g(A),A=-1),f=!0;var R=d;try{for(x(H),h=n(l);h!==null&&(!(h.expirationTime>H)||M&&!B());){var N=h.callback;if(typeof N=="function"){h.callback=null,d=h.priorityLevel;var V=N(h.expirationTime<=H);H=t.unstable_now(),typeof V=="function"?h.callback=V:h===n(l)&&r(l),x(H)}else r(l);h=n(l)}if(h!==null)var se=!0;else{var le=n(u);le!==null&&$(b,le.startTime-H),se=!1}return se}finally{h=null,d=R,f=!1}}var E=!1,C=null,A=-1,F=5,k=-1;function B(){return!(t.unstable_now()-k<F)}function U(){if(C!==null){var M=t.unstable_now();k=M;var H=!0;try{H=C(!0,M)}finally{H?O():(E=!1,C=null)}}else E=!1}var O;if(typeof y=="function")O=function(){y(U)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,D=T.port2;T.port1.onmessage=U,O=function(){D.postMessage(null)}}else O=function(){v(U,0)};function G(M){C=M,E||(E=!0,O())}function $(M,H){A=v(function(){M(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,G(S))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(d){case 1:case 2:case 3:var H=3;break;default:H=d}var R=d;d=H;try{return M()}finally{d=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,H){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var R=d;d=M;try{return H()}finally{d=R}},t.unstable_scheduleCallback=function(M,H,R){var N=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?N+R:N):R=N,M){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=R+V,M={id:c++,callback:H,priorityLevel:M,startTime:R,expirationTime:V,sortIndex:-1},R>N?(M.sortIndex=R,e(u,M),n(l)===null&&M===n(u)&&(m?(g(A),A=-1):m=!0,$(b,R-N))):(M.sortIndex=V,e(l,M),p||f||(p=!0,G(S))),M},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(M){var H=d;return function(){var R=d;d=H;try{return M.apply(this,arguments)}finally{d=R}}}})(a_);(function(t){t.exports=a_})(QA);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_=_,qt=zf;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u_=new Set,Pa={};function Ui(t,e){Qs(t,e),Qs(t+"Capture",e)}function Qs(t,e){for(Pa[t]=e,t=0;t<e.length;t++)u_.add(e[t])}var yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gf=Object.prototype.hasOwnProperty,JA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iy={},sy={};function eP(t){return Gf.call(sy,t)?!0:Gf.call(iy,t)?!1:JA.test(t)?sy[t]=!0:(iy[t]=!0,!1)}function tP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nP(t,e,n,r){if(e===null||typeof e>"u"||tP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Tt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pt[t]=new Tt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pt[e]=new Tt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pt[t]=new Tt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pt[t]=new Tt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pt[t]=new Tt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pt[t]=new Tt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pt[t]=new Tt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pt[t]=new Tt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pt[t]=new Tt(t,5,!1,t.toLowerCase(),null,!1,!1)});var xm=/[\-:]([a-z])/g;function bm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xm,bm);pt[e]=new Tt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xm,bm);pt[e]=new Tt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xm,bm);pt[e]=new Tt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pt[t]=new Tt(t,1,!1,t.toLowerCase(),null,!1,!1)});pt.xlinkHref=new Tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pt[t]=new Tt(t,1,!1,t.toLowerCase(),null,!0,!0)});function wm(t,e,n,r){var i=pt.hasOwnProperty(e)?pt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(nP(e,n,i,r)&&(n=null),r||i===null?eP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var _r=l_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fl=Symbol.for("react.element"),_s=Symbol.for("react.portal"),Es=Symbol.for("react.fragment"),_m=Symbol.for("react.strict_mode"),Vf=Symbol.for("react.profiler"),c_=Symbol.for("react.provider"),h_=Symbol.for("react.context"),Em=Symbol.for("react.forward_ref"),Wf=Symbol.for("react.suspense"),Xf=Symbol.for("react.suspense_list"),Sm=Symbol.for("react.memo"),Rr=Symbol.for("react.lazy"),d_=Symbol.for("react.offscreen"),oy=Symbol.iterator;function Do(t){return t===null||typeof t!="object"?null:(t=oy&&t[oy]||t["@@iterator"],typeof t=="function"?t:null)}var Ne=Object.assign,xd;function na(t){if(xd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);xd=e&&e[1]||""}return`
`+xd+t}var bd=!1;function wd(t,e){if(!t||bd)return"";bd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{bd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?na(t):""}function rP(t){switch(t.tag){case 5:return na(t.type);case 16:return na("Lazy");case 13:return na("Suspense");case 19:return na("SuspenseList");case 0:case 2:case 15:return t=wd(t.type,!1),t;case 11:return t=wd(t.type.render,!1),t;case 1:return t=wd(t.type,!0),t;default:return""}}function Yf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Es:return"Fragment";case _s:return"Portal";case Vf:return"Profiler";case _m:return"StrictMode";case Wf:return"Suspense";case Xf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case h_:return(t.displayName||"Context")+".Consumer";case c_:return(t._context.displayName||"Context")+".Provider";case Em:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Sm:return e=t.displayName||null,e!==null?e:Yf(t.type)||"Memo";case Rr:e=t._payload,t=t._init;try{return Yf(t(e))}catch{}}return null}function iP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yf(e);case 8:return e===_m?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function f_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function sP(t){var e=f_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $l(t){t._valueTracker||(t._valueTracker=sP(t))}function p_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=f_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function lc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qf(t,e){var n=e.checked;return Ne({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ay(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=qr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function g_(t,e){e=e.checked,e!=null&&wm(t,"checked",e,!1)}function Kf(t,e){g_(t,e);var n=qr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Zf(t,e.type,qr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ly(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Zf(t,e,n){(e!=="number"||lc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ra=Array.isArray;function Bs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+qr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Qf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return Ne({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function uy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(j(92));if(ra(n)){if(1<n.length)throw Error(j(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qr(n)}}function m_(t,e){var n=qr(e.value),r=qr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function cy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function v_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?v_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Bl,y_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Bl=Bl||document.createElement("div"),Bl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Oa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var va={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oP=["Webkit","ms","Moz","O"];Object.keys(va).forEach(function(t){oP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),va[e]=va[t]})});function x_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||va.hasOwnProperty(t)&&va[t]?(""+e).trim():e+"px"}function b_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=x_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var aP=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ep(t,e){if(e){if(aP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function tp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var np=null;function Cm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rp=null,Ls=null,Ns=null;function hy(t){if(t=dl(t)){if(typeof rp!="function")throw Error(j(280));var e=t.stateNode;e&&(e=yh(e),rp(t.stateNode,t.type,e))}}function w_(t){Ls?Ns?Ns.push(t):Ns=[t]:Ls=t}function __(){if(Ls){var t=Ls,e=Ns;if(Ns=Ls=null,hy(t),e)for(t=0;t<e.length;t++)hy(e[t])}}function E_(t,e){return t(e)}function S_(){}var _d=!1;function C_(t,e,n){if(_d)return t(e,n);_d=!0;try{return E_(t,e,n)}finally{_d=!1,(Ls!==null||Ns!==null)&&(S_(),__())}}function Ia(t,e){var n=t.stateNode;if(n===null)return null;var r=yh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var ip=!1;if(yr)try{var Fo={};Object.defineProperty(Fo,"passive",{get:function(){ip=!0}}),window.addEventListener("test",Fo,Fo),window.removeEventListener("test",Fo,Fo)}catch{ip=!1}function lP(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ya=!1,uc=null,cc=!1,sp=null,uP={onError:function(t){ya=!0,uc=t}};function cP(t,e,n,r,i,s,o,a,l){ya=!1,uc=null,lP.apply(uP,arguments)}function hP(t,e,n,r,i,s,o,a,l){if(cP.apply(this,arguments),ya){if(ya){var u=uc;ya=!1,uc=null}else throw Error(j(198));cc||(cc=!0,sp=u)}}function ji(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function T_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function dy(t){if(ji(t)!==t)throw Error(j(188))}function dP(t){var e=t.alternate;if(!e){if(e=ji(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return dy(i),t;if(s===r)return dy(i),e;s=s.sibling}throw Error(j(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function A_(t){return t=dP(t),t!==null?P_(t):null}function P_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=P_(t);if(e!==null)return e;t=t.sibling}return null}var O_=qt.unstable_scheduleCallback,fy=qt.unstable_cancelCallback,fP=qt.unstable_shouldYield,pP=qt.unstable_requestPaint,Ye=qt.unstable_now,gP=qt.unstable_getCurrentPriorityLevel,Tm=qt.unstable_ImmediatePriority,I_=qt.unstable_UserBlockingPriority,hc=qt.unstable_NormalPriority,mP=qt.unstable_LowPriority,R_=qt.unstable_IdlePriority,ph=null,Zn=null;function vP(t){if(Zn&&typeof Zn.onCommitFiberRoot=="function")try{Zn.onCommitFiberRoot(ph,t,void 0,(t.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:bP,yP=Math.log,xP=Math.LN2;function bP(t){return t>>>=0,t===0?32:31-(yP(t)/xP|0)|0}var Ll=64,Nl=4194304;function ia(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function dc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ia(a):(s&=o,s!==0&&(r=ia(s)))}else o=n&~i,o!==0?r=ia(o):s!==0&&(r=ia(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-In(e),i=1<<n,r|=t[n],e&=~i;return r}function wP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _P(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-In(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=wP(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function op(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function M_(){var t=Ll;return Ll<<=1,!(Ll&4194240)&&(Ll=64),t}function Ed(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function cl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-In(e),t[e]=n}function EP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-In(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Am(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-In(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var we=0;function k_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var D_,Pm,F_,$_,B_,ap=!1,Ul=[],Nr=null,Ur=null,jr=null,Ra=new Map,Ma=new Map,kr=[],SP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function py(t,e){switch(t){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":Ra.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ma.delete(e.pointerId)}}function $o(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=dl(e),e!==null&&Pm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function CP(t,e,n,r,i){switch(e){case"focusin":return Nr=$o(Nr,t,e,n,r,i),!0;case"dragenter":return Ur=$o(Ur,t,e,n,r,i),!0;case"mouseover":return jr=$o(jr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ra.set(s,$o(Ra.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ma.set(s,$o(Ma.get(s)||null,t,e,n,r,i)),!0}return!1}function L_(t){var e=xi(t.target);if(e!==null){var n=ji(e);if(n!==null){if(e=n.tag,e===13){if(e=T_(n),e!==null){t.blockedOn=e,B_(t.priority,function(){F_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Du(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=lp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);np=r,n.target.dispatchEvent(r),np=null}else return e=dl(n),e!==null&&Pm(e),t.blockedOn=n,!1;e.shift()}return!0}function gy(t,e,n){Du(t)&&n.delete(e)}function TP(){ap=!1,Nr!==null&&Du(Nr)&&(Nr=null),Ur!==null&&Du(Ur)&&(Ur=null),jr!==null&&Du(jr)&&(jr=null),Ra.forEach(gy),Ma.forEach(gy)}function Bo(t,e){t.blockedOn===e&&(t.blockedOn=null,ap||(ap=!0,qt.unstable_scheduleCallback(qt.unstable_NormalPriority,TP)))}function ka(t){function e(i){return Bo(i,t)}if(0<Ul.length){Bo(Ul[0],t);for(var n=1;n<Ul.length;n++){var r=Ul[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Nr!==null&&Bo(Nr,t),Ur!==null&&Bo(Ur,t),jr!==null&&Bo(jr,t),Ra.forEach(e),Ma.forEach(e),n=0;n<kr.length;n++)r=kr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<kr.length&&(n=kr[0],n.blockedOn===null);)L_(n),n.blockedOn===null&&kr.shift()}var Us=_r.ReactCurrentBatchConfig,fc=!0;function AP(t,e,n,r){var i=we,s=Us.transition;Us.transition=null;try{we=1,Om(t,e,n,r)}finally{we=i,Us.transition=s}}function PP(t,e,n,r){var i=we,s=Us.transition;Us.transition=null;try{we=4,Om(t,e,n,r)}finally{we=i,Us.transition=s}}function Om(t,e,n,r){if(fc){var i=lp(t,e,n,r);if(i===null)kd(t,e,r,pc,n),py(t,r);else if(CP(i,t,e,n,r))r.stopPropagation();else if(py(t,r),e&4&&-1<SP.indexOf(t)){for(;i!==null;){var s=dl(i);if(s!==null&&D_(s),s=lp(t,e,n,r),s===null&&kd(t,e,r,pc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else kd(t,e,r,null,n)}}var pc=null;function lp(t,e,n,r){if(pc=null,t=Cm(r),t=xi(t),t!==null)if(e=ji(t),e===null)t=null;else if(n=e.tag,n===13){if(t=T_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return pc=t,null}function N_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gP()){case Tm:return 1;case I_:return 4;case hc:case mP:return 16;case R_:return 536870912;default:return 16}default:return 16}}var Fr=null,Im=null,Fu=null;function U_(){if(Fu)return Fu;var t,e=Im,n=e.length,r,i="value"in Fr?Fr.value:Fr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Fu=i.slice(t,1<r?1-r:void 0)}function $u(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function jl(){return!0}function my(){return!1}function Jt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?jl:my,this.isPropagationStopped=my,this}return Ne(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=jl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=jl)},persist:function(){},isPersistent:jl}),e}var vo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rm=Jt(vo),hl=Ne({},vo,{view:0,detail:0}),OP=Jt(hl),Sd,Cd,Lo,gh=Ne({},hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lo&&(Lo&&t.type==="mousemove"?(Sd=t.screenX-Lo.screenX,Cd=t.screenY-Lo.screenY):Cd=Sd=0,Lo=t),Sd)},movementY:function(t){return"movementY"in t?t.movementY:Cd}}),vy=Jt(gh),IP=Ne({},gh,{dataTransfer:0}),RP=Jt(IP),MP=Ne({},hl,{relatedTarget:0}),Td=Jt(MP),kP=Ne({},vo,{animationName:0,elapsedTime:0,pseudoElement:0}),DP=Jt(kP),FP=Ne({},vo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$P=Jt(FP),BP=Ne({},vo,{data:0}),yy=Jt(BP),LP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=UP[t])?!!e[t]:!1}function Mm(){return jP}var HP=Ne({},hl,{key:function(t){if(t.key){var e=LP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$u(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?NP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mm,charCode:function(t){return t.type==="keypress"?$u(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$u(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zP=Jt(HP),GP=Ne({},gh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xy=Jt(GP),VP=Ne({},hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mm}),WP=Jt(VP),XP=Ne({},vo,{propertyName:0,elapsedTime:0,pseudoElement:0}),YP=Jt(XP),qP=Ne({},gh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),KP=Jt(qP),ZP=[9,13,27,32],km=yr&&"CompositionEvent"in window,xa=null;yr&&"documentMode"in document&&(xa=document.documentMode);var QP=yr&&"TextEvent"in window&&!xa,j_=yr&&(!km||xa&&8<xa&&11>=xa),by=String.fromCharCode(32),wy=!1;function H_(t,e){switch(t){case"keyup":return ZP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function z_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ss=!1;function JP(t,e){switch(t){case"compositionend":return z_(e);case"keypress":return e.which!==32?null:(wy=!0,by);case"textInput":return t=e.data,t===by&&wy?null:t;default:return null}}function eO(t,e){if(Ss)return t==="compositionend"||!km&&H_(t,e)?(t=U_(),Fu=Im=Fr=null,Ss=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return j_&&e.locale!=="ko"?null:e.data;default:return null}}var tO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _y(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tO[t.type]:e==="textarea"}function G_(t,e,n,r){w_(r),e=gc(e,"onChange"),0<e.length&&(n=new Rm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ba=null,Da=null;function nO(t){tE(t,0)}function mh(t){var e=As(t);if(p_(e))return t}function rO(t,e){if(t==="change")return e}var V_=!1;if(yr){var Ad;if(yr){var Pd="oninput"in document;if(!Pd){var Ey=document.createElement("div");Ey.setAttribute("oninput","return;"),Pd=typeof Ey.oninput=="function"}Ad=Pd}else Ad=!1;V_=Ad&&(!document.documentMode||9<document.documentMode)}function Sy(){ba&&(ba.detachEvent("onpropertychange",W_),Da=ba=null)}function W_(t){if(t.propertyName==="value"&&mh(Da)){var e=[];G_(e,Da,t,Cm(t)),C_(nO,e)}}function iO(t,e,n){t==="focusin"?(Sy(),ba=e,Da=n,ba.attachEvent("onpropertychange",W_)):t==="focusout"&&Sy()}function sO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return mh(Da)}function oO(t,e){if(t==="click")return mh(e)}function aO(t,e){if(t==="input"||t==="change")return mh(e)}function lO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $n=typeof Object.is=="function"?Object.is:lO;function Fa(t,e){if($n(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Gf.call(e,i)||!$n(t[i],e[i]))return!1}return!0}function Cy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ty(t,e){var n=Cy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Cy(n)}}function X_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?X_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Y_(){for(var t=window,e=lc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=lc(t.document)}return e}function Dm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function uO(t){var e=Y_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&X_(n.ownerDocument.documentElement,n)){if(r!==null&&Dm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Ty(n,s);var o=Ty(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var cO=yr&&"documentMode"in document&&11>=document.documentMode,Cs=null,up=null,wa=null,cp=!1;function Ay(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cp||Cs==null||Cs!==lc(r)||(r=Cs,"selectionStart"in r&&Dm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wa&&Fa(wa,r)||(wa=r,r=gc(up,"onSelect"),0<r.length&&(e=new Rm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Cs)))}function Hl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ts={animationend:Hl("Animation","AnimationEnd"),animationiteration:Hl("Animation","AnimationIteration"),animationstart:Hl("Animation","AnimationStart"),transitionend:Hl("Transition","TransitionEnd")},Od={},q_={};yr&&(q_=document.createElement("div").style,"AnimationEvent"in window||(delete Ts.animationend.animation,delete Ts.animationiteration.animation,delete Ts.animationstart.animation),"TransitionEvent"in window||delete Ts.transitionend.transition);function vh(t){if(Od[t])return Od[t];if(!Ts[t])return t;var e=Ts[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in q_)return Od[t]=e[n];return t}var K_=vh("animationend"),Z_=vh("animationiteration"),Q_=vh("animationstart"),J_=vh("transitionend"),eE=new Map,Py="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ti(t,e){eE.set(t,e),Ui(e,[t])}for(var Id=0;Id<Py.length;Id++){var Rd=Py[Id],hO=Rd.toLowerCase(),dO=Rd[0].toUpperCase()+Rd.slice(1);ti(hO,"on"+dO)}ti(K_,"onAnimationEnd");ti(Z_,"onAnimationIteration");ti(Q_,"onAnimationStart");ti("dblclick","onDoubleClick");ti("focusin","onFocus");ti("focusout","onBlur");ti(J_,"onTransitionEnd");Qs("onMouseEnter",["mouseout","mouseover"]);Qs("onMouseLeave",["mouseout","mouseover"]);Qs("onPointerEnter",["pointerout","pointerover"]);Qs("onPointerLeave",["pointerout","pointerover"]);Ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ui("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fO=new Set("cancel close invalid load scroll toggle".split(" ").concat(sa));function Oy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,hP(r,e,void 0,t),t.currentTarget=null}function tE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Oy(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Oy(i,a,u),s=l}}}if(cc)throw t=sp,cc=!1,sp=null,t}function Ae(t,e){var n=e[gp];n===void 0&&(n=e[gp]=new Set);var r=t+"__bubble";n.has(r)||(nE(e,t,2,!1),n.add(r))}function Md(t,e,n){var r=0;e&&(r|=4),nE(n,t,r,e)}var zl="_reactListening"+Math.random().toString(36).slice(2);function $a(t){if(!t[zl]){t[zl]=!0,u_.forEach(function(n){n!=="selectionchange"&&(fO.has(n)||Md(n,!1,t),Md(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zl]||(e[zl]=!0,Md("selectionchange",!1,e))}}function nE(t,e,n,r){switch(N_(e)){case 1:var i=AP;break;case 4:i=PP;break;default:i=Om}n=i.bind(null,e,n,t),i=void 0,!ip||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function kd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=xi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}C_(function(){var u=s,c=Cm(n),h=[];e:{var d=eE.get(t);if(d!==void 0){var f=Rm,p=t;switch(t){case"keypress":if($u(n)===0)break e;case"keydown":case"keyup":f=zP;break;case"focusin":p="focus",f=Td;break;case"focusout":p="blur",f=Td;break;case"beforeblur":case"afterblur":f=Td;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=vy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=RP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=WP;break;case K_:case Z_:case Q_:f=DP;break;case J_:f=YP;break;case"scroll":f=OP;break;case"wheel":f=KP;break;case"copy":case"cut":case"paste":f=$P;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=xy}var m=(e&4)!==0,v=!m&&t==="scroll",g=m?d!==null?d+"Capture":null:d;m=[];for(var y=u,x;y!==null;){x=y;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,g!==null&&(b=Ia(y,g),b!=null&&m.push(Ba(y,b,x)))),v)break;y=y.return}0<m.length&&(d=new f(d,p,null,n,c),h.push({event:d,listeners:m}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==np&&(p=n.relatedTarget||n.fromElement)&&(xi(p)||p[xr]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=u,p=p?xi(p):null,p!==null&&(v=ji(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(m=vy,b="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=xy,b="onPointerLeave",g="onPointerEnter",y="pointer"),v=f==null?d:As(f),x=p==null?d:As(p),d=new m(b,y+"leave",f,n,c),d.target=v,d.relatedTarget=x,b=null,xi(c)===u&&(m=new m(g,y+"enter",p,n,c),m.target=x,m.relatedTarget=v,b=m),v=b,f&&p)t:{for(m=f,g=p,y=0,x=m;x;x=Zi(x))y++;for(x=0,b=g;b;b=Zi(b))x++;for(;0<y-x;)m=Zi(m),y--;for(;0<x-y;)g=Zi(g),x--;for(;y--;){if(m===g||g!==null&&m===g.alternate)break t;m=Zi(m),g=Zi(g)}m=null}else m=null;f!==null&&Iy(h,d,f,m,!1),p!==null&&v!==null&&Iy(h,v,p,m,!0)}}e:{if(d=u?As(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var S=rO;else if(_y(d))if(V_)S=aO;else{S=sO;var E=iO}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=oO);if(S&&(S=S(t,u))){G_(h,S,n,c);break e}E&&E(t,d,u),t==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&Zf(d,"number",d.value)}switch(E=u?As(u):window,t){case"focusin":(_y(E)||E.contentEditable==="true")&&(Cs=E,up=u,wa=null);break;case"focusout":wa=up=Cs=null;break;case"mousedown":cp=!0;break;case"contextmenu":case"mouseup":case"dragend":cp=!1,Ay(h,n,c);break;case"selectionchange":if(cO)break;case"keydown":case"keyup":Ay(h,n,c)}var C;if(km)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Ss?H_(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(j_&&n.locale!=="ko"&&(Ss||A!=="onCompositionStart"?A==="onCompositionEnd"&&Ss&&(C=U_()):(Fr=c,Im="value"in Fr?Fr.value:Fr.textContent,Ss=!0)),E=gc(u,A),0<E.length&&(A=new yy(A,t,null,n,c),h.push({event:A,listeners:E}),C?A.data=C:(C=z_(n),C!==null&&(A.data=C)))),(C=QP?JP(t,n):eO(t,n))&&(u=gc(u,"onBeforeInput"),0<u.length&&(c=new yy("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=C))}tE(h,e)})}function Ba(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ia(t,n),s!=null&&r.unshift(Ba(t,s,i)),s=Ia(t,e),s!=null&&r.push(Ba(t,s,i))),t=t.return}return r}function Zi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Iy(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ia(n,s),l!=null&&o.unshift(Ba(n,l,a))):i||(l=Ia(n,s),l!=null&&o.push(Ba(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var pO=/\r\n?/g,gO=/\u0000|\uFFFD/g;function Ry(t){return(typeof t=="string"?t:""+t).replace(pO,`
`).replace(gO,"")}function Gl(t,e,n){if(e=Ry(e),Ry(t)!==e&&n)throw Error(j(425))}function mc(){}var hp=null,dp=null;function fp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var pp=typeof setTimeout=="function"?setTimeout:void 0,mO=typeof clearTimeout=="function"?clearTimeout:void 0,My=typeof Promise=="function"?Promise:void 0,vO=typeof queueMicrotask=="function"?queueMicrotask:typeof My<"u"?function(t){return My.resolve(null).then(t).catch(yO)}:pp;function yO(t){setTimeout(function(){throw t})}function Dd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ka(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ka(e)}function Hr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ky(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var yo=Math.random().toString(36).slice(2),Yn="__reactFiber$"+yo,La="__reactProps$"+yo,xr="__reactContainer$"+yo,gp="__reactEvents$"+yo,xO="__reactListeners$"+yo,bO="__reactHandles$"+yo;function xi(t){var e=t[Yn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xr]||n[Yn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ky(t);t!==null;){if(n=t[Yn])return n;t=ky(t)}return e}t=n,n=t.parentNode}return null}function dl(t){return t=t[Yn]||t[xr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function As(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function yh(t){return t[La]||null}var mp=[],Ps=-1;function ni(t){return{current:t}}function Ie(t){0>Ps||(t.current=mp[Ps],mp[Ps]=null,Ps--)}function Te(t,e){Ps++,mp[Ps]=t.current,t.current=e}var Kr={},bt=ni(Kr),Mt=ni(!1),Pi=Kr;function Js(t,e){var n=t.type.contextTypes;if(!n)return Kr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function kt(t){return t=t.childContextTypes,t!=null}function vc(){Ie(Mt),Ie(bt)}function Dy(t,e,n){if(bt.current!==Kr)throw Error(j(168));Te(bt,e),Te(Mt,n)}function rE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(j(108,iP(t)||"Unknown",i));return Ne({},n,r)}function yc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Kr,Pi=bt.current,Te(bt,t),Te(Mt,Mt.current),!0}function Fy(t,e,n){var r=t.stateNode;if(!r)throw Error(j(169));n?(t=rE(t,e,Pi),r.__reactInternalMemoizedMergedChildContext=t,Ie(Mt),Ie(bt),Te(bt,t)):Ie(Mt),Te(Mt,n)}var ur=null,xh=!1,Fd=!1;function iE(t){ur===null?ur=[t]:ur.push(t)}function wO(t){xh=!0,iE(t)}function ri(){if(!Fd&&ur!==null){Fd=!0;var t=0,e=we;try{var n=ur;for(we=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ur=null,xh=!1}catch(i){throw ur!==null&&(ur=ur.slice(t+1)),O_(Tm,ri),i}finally{we=e,Fd=!1}}return null}var Os=[],Is=0,xc=null,bc=0,nn=[],rn=0,Oi=null,cr=1,hr="";function ci(t,e){Os[Is++]=bc,Os[Is++]=xc,xc=t,bc=e}function sE(t,e,n){nn[rn++]=cr,nn[rn++]=hr,nn[rn++]=Oi,Oi=t;var r=cr;t=hr;var i=32-In(r)-1;r&=~(1<<i),n+=1;var s=32-In(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,cr=1<<32-In(e)+i|n<<i|r,hr=s+t}else cr=1<<s|n<<i|r,hr=t}function Fm(t){t.return!==null&&(ci(t,1),sE(t,1,0))}function $m(t){for(;t===xc;)xc=Os[--Is],Os[Is]=null,bc=Os[--Is],Os[Is]=null;for(;t===Oi;)Oi=nn[--rn],nn[rn]=null,hr=nn[--rn],nn[rn]=null,cr=nn[--rn],nn[rn]=null}var Xt=null,Gt=null,Me=!1,Sn=null;function oE(t,e){var n=on(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $y(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xt=t,Gt=Hr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xt=t,Gt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Oi!==null?{id:cr,overflow:hr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=on(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xt=t,Gt=null,!0):!1;default:return!1}}function vp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yp(t){if(Me){var e=Gt;if(e){var n=e;if(!$y(t,e)){if(vp(t))throw Error(j(418));e=Hr(n.nextSibling);var r=Xt;e&&$y(t,e)?oE(r,n):(t.flags=t.flags&-4097|2,Me=!1,Xt=t)}}else{if(vp(t))throw Error(j(418));t.flags=t.flags&-4097|2,Me=!1,Xt=t}}}function By(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xt=t}function Vl(t){if(t!==Xt)return!1;if(!Me)return By(t),Me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fp(t.type,t.memoizedProps)),e&&(e=Gt)){if(vp(t))throw aE(),Error(j(418));for(;e;)oE(t,e),e=Hr(e.nextSibling)}if(By(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Gt=Hr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Gt=null}}else Gt=Xt?Hr(t.stateNode.nextSibling):null;return!0}function aE(){for(var t=Gt;t;)t=Hr(t.nextSibling)}function eo(){Gt=Xt=null,Me=!1}function Bm(t){Sn===null?Sn=[t]:Sn.push(t)}var _O=_r.ReactCurrentBatchConfig;function wn(t,e){if(t&&t.defaultProps){e=Ne({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var wc=ni(null),_c=null,Rs=null,Lm=null;function Nm(){Lm=Rs=_c=null}function Um(t){var e=wc.current;Ie(wc),t._currentValue=e}function xp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function js(t,e){_c=t,Lm=Rs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Rt=!0),t.firstContext=null)}function un(t){var e=t._currentValue;if(Lm!==t)if(t={context:t,memoizedValue:e,next:null},Rs===null){if(_c===null)throw Error(j(308));Rs=t,_c.dependencies={lanes:0,firstContext:t}}else Rs=Rs.next=t;return e}var bi=null;function jm(t){bi===null?bi=[t]:bi.push(t)}function lE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,jm(e)):(n.next=i.next,i.next=n),e.interleaved=n,br(t,r)}function br(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Mr=!1;function Hm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,br(t,n)}return i=r.interleaved,i===null?(e.next=e,jm(r)):(e.next=i.next,i.next=e),r.interleaved=e,br(t,n)}function Bu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Am(t,n)}}function Ly(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ec(t,e,n,r){var i=t.updateQueue;Mr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(d=e,f=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,d=typeof p=="function"?p.call(f,h,d):p,d==null)break e;h=Ne({},h,d);break e;case 2:Mr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ri|=o,t.lanes=o,t.memoizedState=h}}function Ny(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(j(191,i));i.call(r)}}}var cE=new l_.Component().refs;function bp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ne({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bh={isMounted:function(t){return(t=t._reactInternals)?ji(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=St(),i=Vr(t),s=pr(r,i);s.payload=e,n!=null&&(s.callback=n),e=zr(t,s,i),e!==null&&(Rn(e,t,i,r),Bu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=St(),i=Vr(t),s=pr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=zr(t,s,i),e!==null&&(Rn(e,t,i,r),Bu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=St(),r=Vr(t),i=pr(n,r);i.tag=2,e!=null&&(i.callback=e),e=zr(t,i,r),e!==null&&(Rn(e,t,r,n),Bu(e,t,r))}};function Uy(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Fa(n,r)||!Fa(i,s):!0}function hE(t,e,n){var r=!1,i=Kr,s=e.contextType;return typeof s=="object"&&s!==null?s=un(s):(i=kt(e)?Pi:bt.current,r=e.contextTypes,s=(r=r!=null)?Js(t,i):Kr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function jy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bh.enqueueReplaceState(e,e.state,null)}function wp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=cE,Hm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=un(s):(s=kt(e)?Pi:bt.current,i.context=Js(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(bp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&bh.enqueueReplaceState(i,i.state,null),Ec(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function No(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===cE&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,t))}return t}function Wl(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Hy(t){var e=t._init;return e(t._payload)}function dE(t){function e(g,y){if(t){var x=g.deletions;x===null?(g.deletions=[y],g.flags|=16):x.push(y)}}function n(g,y){if(!t)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(g,y){return g=Wr(g,y),g.index=0,g.sibling=null,g}function s(g,y,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<y?(g.flags|=2,y):x):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,y,x,b){return y===null||y.tag!==6?(y=Hd(x,g.mode,b),y.return=g,y):(y=i(y,x),y.return=g,y)}function l(g,y,x,b){var S=x.type;return S===Es?c(g,y,x.props.children,b,x.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Rr&&Hy(S)===y.type)?(b=i(y,x.props),b.ref=No(g,y,x),b.return=g,b):(b=zu(x.type,x.key,x.props,null,g.mode,b),b.ref=No(g,y,x),b.return=g,b)}function u(g,y,x,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=zd(x,g.mode,b),y.return=g,y):(y=i(y,x.children||[]),y.return=g,y)}function c(g,y,x,b,S){return y===null||y.tag!==7?(y=Si(x,g.mode,b,S),y.return=g,y):(y=i(y,x),y.return=g,y)}function h(g,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Hd(""+y,g.mode,x),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Fl:return x=zu(y.type,y.key,y.props,null,g.mode,x),x.ref=No(g,null,y),x.return=g,x;case _s:return y=zd(y,g.mode,x),y.return=g,y;case Rr:var b=y._init;return h(g,b(y._payload),x)}if(ra(y)||Do(y))return y=Si(y,g.mode,x,null),y.return=g,y;Wl(g,y)}return null}function d(g,y,x,b){var S=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:a(g,y,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Fl:return x.key===S?l(g,y,x,b):null;case _s:return x.key===S?u(g,y,x,b):null;case Rr:return S=x._init,d(g,y,S(x._payload),b)}if(ra(x)||Do(x))return S!==null?null:c(g,y,x,b,null);Wl(g,x)}return null}function f(g,y,x,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(x)||null,a(y,g,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Fl:return g=g.get(b.key===null?x:b.key)||null,l(y,g,b,S);case _s:return g=g.get(b.key===null?x:b.key)||null,u(y,g,b,S);case Rr:var E=b._init;return f(g,y,x,E(b._payload),S)}if(ra(b)||Do(b))return g=g.get(x)||null,c(y,g,b,S,null);Wl(y,b)}return null}function p(g,y,x,b){for(var S=null,E=null,C=y,A=y=0,F=null;C!==null&&A<x.length;A++){C.index>A?(F=C,C=null):F=C.sibling;var k=d(g,C,x[A],b);if(k===null){C===null&&(C=F);break}t&&C&&k.alternate===null&&e(g,C),y=s(k,y,A),E===null?S=k:E.sibling=k,E=k,C=F}if(A===x.length)return n(g,C),Me&&ci(g,A),S;if(C===null){for(;A<x.length;A++)C=h(g,x[A],b),C!==null&&(y=s(C,y,A),E===null?S=C:E.sibling=C,E=C);return Me&&ci(g,A),S}for(C=r(g,C);A<x.length;A++)F=f(C,g,A,x[A],b),F!==null&&(t&&F.alternate!==null&&C.delete(F.key===null?A:F.key),y=s(F,y,A),E===null?S=F:E.sibling=F,E=F);return t&&C.forEach(function(B){return e(g,B)}),Me&&ci(g,A),S}function m(g,y,x,b){var S=Do(x);if(typeof S!="function")throw Error(j(150));if(x=S.call(x),x==null)throw Error(j(151));for(var E=S=null,C=y,A=y=0,F=null,k=x.next();C!==null&&!k.done;A++,k=x.next()){C.index>A?(F=C,C=null):F=C.sibling;var B=d(g,C,k.value,b);if(B===null){C===null&&(C=F);break}t&&C&&B.alternate===null&&e(g,C),y=s(B,y,A),E===null?S=B:E.sibling=B,E=B,C=F}if(k.done)return n(g,C),Me&&ci(g,A),S;if(C===null){for(;!k.done;A++,k=x.next())k=h(g,k.value,b),k!==null&&(y=s(k,y,A),E===null?S=k:E.sibling=k,E=k);return Me&&ci(g,A),S}for(C=r(g,C);!k.done;A++,k=x.next())k=f(C,g,A,k.value,b),k!==null&&(t&&k.alternate!==null&&C.delete(k.key===null?A:k.key),y=s(k,y,A),E===null?S=k:E.sibling=k,E=k);return t&&C.forEach(function(U){return e(g,U)}),Me&&ci(g,A),S}function v(g,y,x,b){if(typeof x=="object"&&x!==null&&x.type===Es&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Fl:e:{for(var S=x.key,E=y;E!==null;){if(E.key===S){if(S=x.type,S===Es){if(E.tag===7){n(g,E.sibling),y=i(E,x.props.children),y.return=g,g=y;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Rr&&Hy(S)===E.type){n(g,E.sibling),y=i(E,x.props),y.ref=No(g,E,x),y.return=g,g=y;break e}n(g,E);break}else e(g,E);E=E.sibling}x.type===Es?(y=Si(x.props.children,g.mode,b,x.key),y.return=g,g=y):(b=zu(x.type,x.key,x.props,null,g.mode,b),b.ref=No(g,y,x),b.return=g,g=b)}return o(g);case _s:e:{for(E=x.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(g,y.sibling),y=i(y,x.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else e(g,y);y=y.sibling}y=zd(x,g.mode,b),y.return=g,g=y}return o(g);case Rr:return E=x._init,v(g,y,E(x._payload),b)}if(ra(x))return p(g,y,x,b);if(Do(x))return m(g,y,x,b);Wl(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(g,y.sibling),y=i(y,x),y.return=g,g=y):(n(g,y),y=Hd(x,g.mode,b),y.return=g,g=y),o(g)):n(g,y)}return v}var to=dE(!0),fE=dE(!1),fl={},Qn=ni(fl),Na=ni(fl),Ua=ni(fl);function wi(t){if(t===fl)throw Error(j(174));return t}function zm(t,e){switch(Te(Ua,e),Te(Na,t),Te(Qn,fl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Jf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Jf(e,t)}Ie(Qn),Te(Qn,e)}function no(){Ie(Qn),Ie(Na),Ie(Ua)}function pE(t){wi(Ua.current);var e=wi(Qn.current),n=Jf(e,t.type);e!==n&&(Te(Na,t),Te(Qn,n))}function Gm(t){Na.current===t&&(Ie(Qn),Ie(Na))}var $e=ni(0);function Sc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $d=[];function Vm(){for(var t=0;t<$d.length;t++)$d[t]._workInProgressVersionPrimary=null;$d.length=0}var Lu=_r.ReactCurrentDispatcher,Bd=_r.ReactCurrentBatchConfig,Ii=0,Le=null,Je=null,rt=null,Cc=!1,_a=!1,ja=0,EO=0;function gt(){throw Error(j(321))}function Wm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!$n(t[n],e[n]))return!1;return!0}function Xm(t,e,n,r,i,s){if(Ii=s,Le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Lu.current=t===null||t.memoizedState===null?AO:PO,t=n(r,i),_a){s=0;do{if(_a=!1,ja=0,25<=s)throw Error(j(301));s+=1,rt=Je=null,e.updateQueue=null,Lu.current=OO,t=n(r,i)}while(_a)}if(Lu.current=Tc,e=Je!==null&&Je.next!==null,Ii=0,rt=Je=Le=null,Cc=!1,e)throw Error(j(300));return t}function Ym(){var t=ja!==0;return ja=0,t}function zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?Le.memoizedState=rt=t:rt=rt.next=t,rt}function cn(){if(Je===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var e=rt===null?Le.memoizedState:rt.next;if(e!==null)rt=e,Je=t;else{if(t===null)throw Error(j(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},rt===null?Le.memoizedState=rt=t:rt=rt.next=t}return rt}function Ha(t,e){return typeof e=="function"?e(t):e}function Ld(t){var e=cn(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=Je,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Ii&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Le.lanes|=c,Ri|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,$n(r,e.memoizedState)||(Rt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Le.lanes|=s,Ri|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Nd(t){var e=cn(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);$n(s,e.memoizedState)||(Rt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function gE(){}function mE(t,e){var n=Le,r=cn(),i=e(),s=!$n(r.memoizedState,i);if(s&&(r.memoizedState=i,Rt=!0),r=r.queue,qm(xE.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||rt!==null&&rt.memoizedState.tag&1){if(n.flags|=2048,za(9,yE.bind(null,n,r,i,e),void 0,null),it===null)throw Error(j(349));Ii&30||vE(n,e,i)}return i}function vE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function yE(t,e,n,r){e.value=n,e.getSnapshot=r,bE(e)&&wE(t)}function xE(t,e,n){return n(function(){bE(e)&&wE(t)})}function bE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$n(t,n)}catch{return!0}}function wE(t){var e=br(t,1);e!==null&&Rn(e,t,1,-1)}function zy(t){var e=zn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:t},e.queue=t,t=t.dispatch=TO.bind(null,Le,t),[e.memoizedState,t]}function za(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _E(){return cn().memoizedState}function Nu(t,e,n,r){var i=zn();Le.flags|=t,i.memoizedState=za(1|e,n,void 0,r===void 0?null:r)}function wh(t,e,n,r){var i=cn();r=r===void 0?null:r;var s=void 0;if(Je!==null){var o=Je.memoizedState;if(s=o.destroy,r!==null&&Wm(r,o.deps)){i.memoizedState=za(e,n,s,r);return}}Le.flags|=t,i.memoizedState=za(1|e,n,s,r)}function Gy(t,e){return Nu(8390656,8,t,e)}function qm(t,e){return wh(2048,8,t,e)}function EE(t,e){return wh(4,2,t,e)}function SE(t,e){return wh(4,4,t,e)}function CE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function TE(t,e,n){return n=n!=null?n.concat([t]):null,wh(4,4,CE.bind(null,e,t),n)}function Km(){}function AE(t,e){var n=cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function PE(t,e){var n=cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function OE(t,e,n){return Ii&21?($n(n,e)||(n=M_(),Le.lanes|=n,Ri|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Rt=!0),t.memoizedState=n)}function SO(t,e){var n=we;we=n!==0&&4>n?n:4,t(!0);var r=Bd.transition;Bd.transition={};try{t(!1),e()}finally{we=n,Bd.transition=r}}function IE(){return cn().memoizedState}function CO(t,e,n){var r=Vr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},RE(t))ME(e,n);else if(n=lE(t,e,n,r),n!==null){var i=St();Rn(n,t,r,i),kE(n,e,r)}}function TO(t,e,n){var r=Vr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(RE(t))ME(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,$n(a,o)){var l=e.interleaved;l===null?(i.next=i,jm(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=lE(t,e,i,r),n!==null&&(i=St(),Rn(n,t,r,i),kE(n,e,r))}}function RE(t){var e=t.alternate;return t===Le||e!==null&&e===Le}function ME(t,e){_a=Cc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function kE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Am(t,n)}}var Tc={readContext:un,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},AO={readContext:un,useCallback:function(t,e){return zn().memoizedState=[t,e===void 0?null:e],t},useContext:un,useEffect:Gy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Nu(4194308,4,CE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Nu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Nu(4,2,t,e)},useMemo:function(t,e){var n=zn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=zn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=CO.bind(null,Le,t),[r.memoizedState,t]},useRef:function(t){var e=zn();return t={current:t},e.memoizedState=t},useState:zy,useDebugValue:Km,useDeferredValue:function(t){return zn().memoizedState=t},useTransition:function(){var t=zy(!1),e=t[0];return t=SO.bind(null,t[1]),zn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Le,i=zn();if(Me){if(n===void 0)throw Error(j(407));n=n()}else{if(n=e(),it===null)throw Error(j(349));Ii&30||vE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Gy(xE.bind(null,r,s,t),[t]),r.flags|=2048,za(9,yE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=zn(),e=it.identifierPrefix;if(Me){var n=hr,r=cr;n=(r&~(1<<32-In(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ja++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=EO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},PO={readContext:un,useCallback:AE,useContext:un,useEffect:qm,useImperativeHandle:TE,useInsertionEffect:EE,useLayoutEffect:SE,useMemo:PE,useReducer:Ld,useRef:_E,useState:function(){return Ld(Ha)},useDebugValue:Km,useDeferredValue:function(t){var e=cn();return OE(e,Je.memoizedState,t)},useTransition:function(){var t=Ld(Ha)[0],e=cn().memoizedState;return[t,e]},useMutableSource:gE,useSyncExternalStore:mE,useId:IE,unstable_isNewReconciler:!1},OO={readContext:un,useCallback:AE,useContext:un,useEffect:qm,useImperativeHandle:TE,useInsertionEffect:EE,useLayoutEffect:SE,useMemo:PE,useReducer:Nd,useRef:_E,useState:function(){return Nd(Ha)},useDebugValue:Km,useDeferredValue:function(t){var e=cn();return Je===null?e.memoizedState=t:OE(e,Je.memoizedState,t)},useTransition:function(){var t=Nd(Ha)[0],e=cn().memoizedState;return[t,e]},useMutableSource:gE,useSyncExternalStore:mE,useId:IE,unstable_isNewReconciler:!1};function ro(t,e){try{var n="",r=e;do n+=rP(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ud(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function _p(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var IO=typeof WeakMap=="function"?WeakMap:Map;function DE(t,e,n){n=pr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Pc||(Pc=!0,Mp=r),_p(t,e)},n}function FE(t,e,n){n=pr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){_p(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){_p(t,e),typeof r!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Vy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new IO;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=GO.bind(null,t,e,n),e.then(t,t))}function Wy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Xy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pr(-1,1),e.tag=2,zr(n,e,1))),n.lanes|=1),t)}var RO=_r.ReactCurrentOwner,Rt=!1;function wt(t,e,n,r){e.child=t===null?fE(e,null,n,r):to(e,t.child,n,r)}function Yy(t,e,n,r,i){n=n.render;var s=e.ref;return js(e,i),r=Xm(t,e,n,r,s,i),n=Ym(),t!==null&&!Rt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wr(t,e,i)):(Me&&n&&Fm(e),e.flags|=1,wt(t,e,r,i),e.child)}function qy(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!iv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,$E(t,e,s,r,i)):(t=zu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Fa,n(o,r)&&t.ref===e.ref)return wr(t,e,i)}return e.flags|=1,t=Wr(s,r),t.ref=e.ref,t.return=e,e.child=t}function $E(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Fa(s,r)&&t.ref===e.ref)if(Rt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Rt=!0);else return e.lanes=t.lanes,wr(t,e,i)}return Ep(t,e,n,r,i)}function BE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(ks,zt),zt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Te(ks,zt),zt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Te(ks,zt),zt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Te(ks,zt),zt|=r;return wt(t,e,i,n),e.child}function LE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ep(t,e,n,r,i){var s=kt(n)?Pi:bt.current;return s=Js(e,s),js(e,i),n=Xm(t,e,n,r,s,i),r=Ym(),t!==null&&!Rt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wr(t,e,i)):(Me&&r&&Fm(e),e.flags|=1,wt(t,e,n,i),e.child)}function Ky(t,e,n,r,i){if(kt(n)){var s=!0;yc(e)}else s=!1;if(js(e,i),e.stateNode===null)Uu(t,e),hE(e,n,r),wp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=un(u):(u=kt(n)?Pi:bt.current,u=Js(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&jy(e,o,r,u),Mr=!1;var d=e.memoizedState;o.state=d,Ec(e,r,o,i),l=e.memoizedState,a!==r||d!==l||Mt.current||Mr?(typeof c=="function"&&(bp(e,n,c,r),l=e.memoizedState),(a=Mr||Uy(e,n,a,r,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,uE(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:wn(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=un(l):(l=kt(n)?Pi:bt.current,l=Js(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&jy(e,o,r,l),Mr=!1,d=e.memoizedState,o.state=d,Ec(e,r,o,i);var p=e.memoizedState;a!==h||d!==p||Mt.current||Mr?(typeof f=="function"&&(bp(e,n,f,r),p=e.memoizedState),(u=Mr||Uy(e,n,u,r,d,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Sp(t,e,n,r,s,i)}function Sp(t,e,n,r,i,s){LE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Fy(e,n,!1),wr(t,e,s);r=e.stateNode,RO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=to(e,t.child,null,s),e.child=to(e,null,a,s)):wt(t,e,a,s),e.memoizedState=r.state,i&&Fy(e,n,!0),e.child}function NE(t){var e=t.stateNode;e.pendingContext?Dy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Dy(t,e.context,!1),zm(t,e.containerInfo)}function Zy(t,e,n,r,i){return eo(),Bm(i),e.flags|=256,wt(t,e,n,r),e.child}var Cp={dehydrated:null,treeContext:null,retryLane:0};function Tp(t){return{baseLanes:t,cachePool:null,transitions:null}}function UE(t,e,n){var r=e.pendingProps,i=$e.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Te($e,i&1),t===null)return yp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Sh(o,r,0,null),t=Si(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Tp(n),e.memoizedState=Cp,t):Zm(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return MO(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Wr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Wr(a,s):(s=Si(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Tp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Cp,r}return s=t.child,t=s.sibling,r=Wr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Zm(t,e){return e=Sh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xl(t,e,n,r){return r!==null&&Bm(r),to(e,t.child,null,n),t=Zm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function MO(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ud(Error(j(422))),Xl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Sh({mode:"visible",children:r.children},i,0,null),s=Si(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&to(e,t.child,null,o),e.child.memoizedState=Tp(o),e.memoizedState=Cp,s);if(!(e.mode&1))return Xl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(j(419)),r=Ud(s,r,void 0),Xl(t,e,o,r)}if(a=(o&t.childLanes)!==0,Rt||a){if(r=it,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,br(t,i),Rn(r,t,i,-1))}return rv(),r=Ud(Error(j(421))),Xl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=VO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Gt=Hr(i.nextSibling),Xt=e,Me=!0,Sn=null,t!==null&&(nn[rn++]=cr,nn[rn++]=hr,nn[rn++]=Oi,cr=t.id,hr=t.overflow,Oi=e),e=Zm(e,r.children),e.flags|=4096,e)}function Qy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xp(t.return,e,n)}function jd(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function jE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(wt(t,e,r.children,n),r=$e.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qy(t,n,e);else if(t.tag===19)Qy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Te($e,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Sc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),jd(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Sc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}jd(e,!0,n,null,s);break;case"together":jd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Uu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function wr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ri|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=Wr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Wr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function kO(t,e,n){switch(e.tag){case 3:NE(e),eo();break;case 5:pE(e);break;case 1:kt(e.type)&&yc(e);break;case 4:zm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Te(wc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Te($e,$e.current&1),e.flags|=128,null):n&e.child.childLanes?UE(t,e,n):(Te($e,$e.current&1),t=wr(t,e,n),t!==null?t.sibling:null);Te($e,$e.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return jE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Te($e,$e.current),r)break;return null;case 22:case 23:return e.lanes=0,BE(t,e,n)}return wr(t,e,n)}var HE,Ap,zE,GE;HE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ap=function(){};zE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,wi(Qn.current);var s=null;switch(n){case"input":i=qf(t,i),r=qf(t,r),s=[];break;case"select":i=Ne({},i,{value:void 0}),r=Ne({},r,{value:void 0}),s=[];break;case"textarea":i=Qf(t,i),r=Qf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=mc)}ep(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Pa.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Pa.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ae("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};GE=function(t,e,n,r){n!==r&&(e.flags|=4)};function Uo(t,e){if(!Me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function DO(t,e,n){var r=e.pendingProps;switch($m(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(e),null;case 1:return kt(e.type)&&vc(),mt(e),null;case 3:return r=e.stateNode,no(),Ie(Mt),Ie(bt),Vm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Vl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Sn!==null&&(Fp(Sn),Sn=null))),Ap(t,e),mt(e),null;case 5:Gm(e);var i=wi(Ua.current);if(n=e.type,t!==null&&e.stateNode!=null)zE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(j(166));return mt(e),null}if(t=wi(Qn.current),Vl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Yn]=e,r[La]=s,t=(e.mode&1)!==0,n){case"dialog":Ae("cancel",r),Ae("close",r);break;case"iframe":case"object":case"embed":Ae("load",r);break;case"video":case"audio":for(i=0;i<sa.length;i++)Ae(sa[i],r);break;case"source":Ae("error",r);break;case"img":case"image":case"link":Ae("error",r),Ae("load",r);break;case"details":Ae("toggle",r);break;case"input":ay(r,s),Ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ae("invalid",r);break;case"textarea":uy(r,s),Ae("invalid",r)}ep(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Gl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Gl(r.textContent,a,t),i=["children",""+a]):Pa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ae("scroll",r)}switch(n){case"input":$l(r),ly(r,s,!0);break;case"textarea":$l(r),cy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=mc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=v_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Yn]=e,t[La]=r,HE(t,e,!1,!1),e.stateNode=t;e:{switch(o=tp(n,r),n){case"dialog":Ae("cancel",t),Ae("close",t),i=r;break;case"iframe":case"object":case"embed":Ae("load",t),i=r;break;case"video":case"audio":for(i=0;i<sa.length;i++)Ae(sa[i],t);i=r;break;case"source":Ae("error",t),i=r;break;case"img":case"image":case"link":Ae("error",t),Ae("load",t),i=r;break;case"details":Ae("toggle",t),i=r;break;case"input":ay(t,r),i=qf(t,r),Ae("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ne({},r,{value:void 0}),Ae("invalid",t);break;case"textarea":uy(t,r),i=Qf(t,r),Ae("invalid",t);break;default:i=r}ep(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?b_(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&y_(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Oa(t,l):typeof l=="number"&&Oa(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Pa.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ae("scroll",t):l!=null&&wm(t,s,l,o))}switch(n){case"input":$l(t),ly(t,r,!1);break;case"textarea":$l(t),cy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+qr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Bs(t,!!r.multiple,s,!1):r.defaultValue!=null&&Bs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=mc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mt(e),null;case 6:if(t&&e.stateNode!=null)GE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));if(n=wi(Ua.current),wi(Qn.current),Vl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Yn]=e,(s=r.nodeValue!==n)&&(t=Xt,t!==null))switch(t.tag){case 3:Gl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Gl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yn]=e,e.stateNode=r}return mt(e),null;case 13:if(Ie($e),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Me&&Gt!==null&&e.mode&1&&!(e.flags&128))aE(),eo(),e.flags|=98560,s=!1;else if(s=Vl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(j(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(j(317));s[Yn]=e}else eo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mt(e),s=!1}else Sn!==null&&(Fp(Sn),Sn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||$e.current&1?tt===0&&(tt=3):rv())),e.updateQueue!==null&&(e.flags|=4),mt(e),null);case 4:return no(),Ap(t,e),t===null&&$a(e.stateNode.containerInfo),mt(e),null;case 10:return Um(e.type._context),mt(e),null;case 17:return kt(e.type)&&vc(),mt(e),null;case 19:if(Ie($e),s=e.memoizedState,s===null)return mt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Uo(s,!1);else{if(tt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Sc(t),o!==null){for(e.flags|=128,Uo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Te($e,$e.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ye()>io&&(e.flags|=128,r=!0,Uo(s,!1),e.lanes=4194304)}else{if(!r)if(t=Sc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Uo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Me)return mt(e),null}else 2*Ye()-s.renderingStartTime>io&&n!==1073741824&&(e.flags|=128,r=!0,Uo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ye(),e.sibling=null,n=$e.current,Te($e,r?n&1|2:n&1),e):(mt(e),null);case 22:case 23:return nv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?zt&1073741824&&(mt(e),e.subtreeFlags&6&&(e.flags|=8192)):mt(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function FO(t,e){switch($m(e),e.tag){case 1:return kt(e.type)&&vc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return no(),Ie(Mt),Ie(bt),Vm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gm(e),null;case 13:if(Ie($e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));eo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ie($e),null;case 4:return no(),null;case 10:return Um(e.type._context),null;case 22:case 23:return nv(),null;case 24:return null;default:return null}}var Yl=!1,yt=!1,$O=typeof WeakSet=="function"?WeakSet:Set,q=null;function Ms(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ze(t,e,r)}else n.current=null}function Pp(t,e,n){try{n()}catch(r){ze(t,e,r)}}var Jy=!1;function BO(t,e){if(hp=fc,t=Y_(),Dm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(dp={focusedElem:t,selectionRange:n},fc=!1,q=e;q!==null;)if(e=q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,q=t;else for(;q!==null;){e=q;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,v=p.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:wn(e.type,m),v);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(b){ze(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}return p=Jy,Jy=!1,p}function Ea(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Pp(e,n,s)}i=i.next}while(i!==r)}}function _h(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Op(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function VE(t){var e=t.alternate;e!==null&&(t.alternate=null,VE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Yn],delete e[La],delete e[gp],delete e[xO],delete e[bO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function WE(t){return t.tag===5||t.tag===3||t.tag===4}function e1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||WE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ip(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=mc));else if(r!==4&&(t=t.child,t!==null))for(Ip(t,e,n),t=t.sibling;t!==null;)Ip(t,e,n),t=t.sibling}function Rp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Rp(t,e,n),t=t.sibling;t!==null;)Rp(t,e,n),t=t.sibling}var ot=null,En=!1;function Pr(t,e,n){for(n=n.child;n!==null;)XE(t,e,n),n=n.sibling}function XE(t,e,n){if(Zn&&typeof Zn.onCommitFiberUnmount=="function")try{Zn.onCommitFiberUnmount(ph,n)}catch{}switch(n.tag){case 5:yt||Ms(n,e);case 6:var r=ot,i=En;ot=null,Pr(t,e,n),ot=r,En=i,ot!==null&&(En?(t=ot,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ot.removeChild(n.stateNode));break;case 18:ot!==null&&(En?(t=ot,n=n.stateNode,t.nodeType===8?Dd(t.parentNode,n):t.nodeType===1&&Dd(t,n),ka(t)):Dd(ot,n.stateNode));break;case 4:r=ot,i=En,ot=n.stateNode.containerInfo,En=!0,Pr(t,e,n),ot=r,En=i;break;case 0:case 11:case 14:case 15:if(!yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Pp(n,e,o),i=i.next}while(i!==r)}Pr(t,e,n);break;case 1:if(!yt&&(Ms(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ze(n,e,a)}Pr(t,e,n);break;case 21:Pr(t,e,n);break;case 22:n.mode&1?(yt=(r=yt)||n.memoizedState!==null,Pr(t,e,n),yt=r):Pr(t,e,n);break;default:Pr(t,e,n)}}function t1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new $O),e.forEach(function(r){var i=WO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function pn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ot=a.stateNode,En=!1;break e;case 3:ot=a.stateNode.containerInfo,En=!0;break e;case 4:ot=a.stateNode.containerInfo,En=!0;break e}a=a.return}if(ot===null)throw Error(j(160));XE(s,o,i),ot=null,En=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ze(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)YE(e,t),e=e.sibling}function YE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pn(e,t),jn(t),r&4){try{Ea(3,t,t.return),_h(3,t)}catch(m){ze(t,t.return,m)}try{Ea(5,t,t.return)}catch(m){ze(t,t.return,m)}}break;case 1:pn(e,t),jn(t),r&512&&n!==null&&Ms(n,n.return);break;case 5:if(pn(e,t),jn(t),r&512&&n!==null&&Ms(n,n.return),t.flags&32){var i=t.stateNode;try{Oa(i,"")}catch(m){ze(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&g_(i,s),tp(a,o);var u=tp(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?b_(i,h):c==="dangerouslySetInnerHTML"?y_(i,h):c==="children"?Oa(i,h):wm(i,c,h,u)}switch(a){case"input":Kf(i,s);break;case"textarea":m_(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Bs(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?Bs(i,!!s.multiple,s.defaultValue,!0):Bs(i,!!s.multiple,s.multiple?[]:"",!1))}i[La]=s}catch(m){ze(t,t.return,m)}}break;case 6:if(pn(e,t),jn(t),r&4){if(t.stateNode===null)throw Error(j(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){ze(t,t.return,m)}}break;case 3:if(pn(e,t),jn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ka(e.containerInfo)}catch(m){ze(t,t.return,m)}break;case 4:pn(e,t),jn(t);break;case 13:pn(e,t),jn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ev=Ye())),r&4&&t1(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(yt=(u=yt)||c,pn(e,t),yt=u):pn(e,t),jn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(q=t,c=t.child;c!==null;){for(h=q=c;q!==null;){switch(d=q,f=d.child,d.tag){case 0:case 11:case 14:case 15:Ea(4,d,d.return);break;case 1:Ms(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){ze(r,n,m)}}break;case 5:Ms(d,d.return);break;case 22:if(d.memoizedState!==null){r1(h);continue}}f!==null?(f.return=d,q=f):r1(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=x_("display",o))}catch(m){ze(t,t.return,m)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){ze(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:pn(e,t),jn(t),r&4&&t1(t);break;case 21:break;default:pn(e,t),jn(t)}}function jn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(WE(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Oa(i,""),r.flags&=-33);var s=e1(t);Rp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=e1(t);Ip(t,a,o);break;default:throw Error(j(161))}}catch(l){ze(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function LO(t,e,n){q=t,qE(t)}function qE(t,e,n){for(var r=(t.mode&1)!==0;q!==null;){var i=q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Yl;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||yt;a=Yl;var u=yt;if(Yl=o,(yt=l)&&!u)for(q=i;q!==null;)o=q,l=o.child,o.tag===22&&o.memoizedState!==null?i1(i):l!==null?(l.return=o,q=l):i1(i);for(;s!==null;)q=s,qE(s),s=s.sibling;q=i,Yl=a,yt=u}n1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,q=s):n1(t)}}function n1(t){for(;q!==null;){var e=q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:yt||_h(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!yt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:wn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Ny(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ny(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&ka(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}yt||e.flags&512&&Op(e)}catch(d){ze(e,e.return,d)}}if(e===t){q=null;break}if(n=e.sibling,n!==null){n.return=e.return,q=n;break}q=e.return}}function r1(t){for(;q!==null;){var e=q;if(e===t){q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,q=n;break}q=e.return}}function i1(t){for(;q!==null;){var e=q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_h(4,e)}catch(l){ze(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ze(e,i,l)}}var s=e.return;try{Op(e)}catch(l){ze(e,s,l)}break;case 5:var o=e.return;try{Op(e)}catch(l){ze(e,o,l)}}}catch(l){ze(e,e.return,l)}if(e===t){q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,q=a;break}q=e.return}}var NO=Math.ceil,Ac=_r.ReactCurrentDispatcher,Qm=_r.ReactCurrentOwner,ln=_r.ReactCurrentBatchConfig,ge=0,it=null,Ke=null,dt=0,zt=0,ks=ni(0),tt=0,Ga=null,Ri=0,Eh=0,Jm=0,Sa=null,It=null,ev=0,io=1/0,lr=null,Pc=!1,Mp=null,Gr=null,ql=!1,$r=null,Oc=0,Ca=0,kp=null,ju=-1,Hu=0;function St(){return ge&6?Ye():ju!==-1?ju:ju=Ye()}function Vr(t){return t.mode&1?ge&2&&dt!==0?dt&-dt:_O.transition!==null?(Hu===0&&(Hu=M_()),Hu):(t=we,t!==0||(t=window.event,t=t===void 0?16:N_(t.type)),t):1}function Rn(t,e,n,r){if(50<Ca)throw Ca=0,kp=null,Error(j(185));cl(t,n,r),(!(ge&2)||t!==it)&&(t===it&&(!(ge&2)&&(Eh|=n),tt===4&&Dr(t,dt)),Dt(t,r),n===1&&ge===0&&!(e.mode&1)&&(io=Ye()+500,xh&&ri()))}function Dt(t,e){var n=t.callbackNode;_P(t,e);var r=dc(t,t===it?dt:0);if(r===0)n!==null&&fy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&fy(n),e===1)t.tag===0?wO(s1.bind(null,t)):iE(s1.bind(null,t)),vO(function(){!(ge&6)&&ri()}),n=null;else{switch(k_(r)){case 1:n=Tm;break;case 4:n=I_;break;case 16:n=hc;break;case 536870912:n=R_;break;default:n=hc}n=rS(n,KE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function KE(t,e){if(ju=-1,Hu=0,ge&6)throw Error(j(327));var n=t.callbackNode;if(Hs()&&t.callbackNode!==n)return null;var r=dc(t,t===it?dt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ic(t,r);else{e=r;var i=ge;ge|=2;var s=QE();(it!==t||dt!==e)&&(lr=null,io=Ye()+500,Ei(t,e));do try{HO();break}catch(a){ZE(t,a)}while(1);Nm(),Ac.current=s,ge=i,Ke!==null?e=0:(it=null,dt=0,e=tt)}if(e!==0){if(e===2&&(i=op(t),i!==0&&(r=i,e=Dp(t,i))),e===1)throw n=Ga,Ei(t,0),Dr(t,r),Dt(t,Ye()),n;if(e===6)Dr(t,r);else{if(i=t.current.alternate,!(r&30)&&!UO(i)&&(e=Ic(t,r),e===2&&(s=op(t),s!==0&&(r=s,e=Dp(t,s))),e===1))throw n=Ga,Ei(t,0),Dr(t,r),Dt(t,Ye()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(j(345));case 2:hi(t,It,lr);break;case 3:if(Dr(t,r),(r&130023424)===r&&(e=ev+500-Ye(),10<e)){if(dc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){St(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=pp(hi.bind(null,t,It,lr),e);break}hi(t,It,lr);break;case 4:if(Dr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-In(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*NO(r/1960))-r,10<r){t.timeoutHandle=pp(hi.bind(null,t,It,lr),r);break}hi(t,It,lr);break;case 5:hi(t,It,lr);break;default:throw Error(j(329))}}}return Dt(t,Ye()),t.callbackNode===n?KE.bind(null,t):null}function Dp(t,e){var n=Sa;return t.current.memoizedState.isDehydrated&&(Ei(t,e).flags|=256),t=Ic(t,e),t!==2&&(e=It,It=n,e!==null&&Fp(e)),t}function Fp(t){It===null?It=t:It.push.apply(It,t)}function UO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!$n(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Dr(t,e){for(e&=~Jm,e&=~Eh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-In(e),r=1<<n;t[n]=-1,e&=~r}}function s1(t){if(ge&6)throw Error(j(327));Hs();var e=dc(t,0);if(!(e&1))return Dt(t,Ye()),null;var n=Ic(t,e);if(t.tag!==0&&n===2){var r=op(t);r!==0&&(e=r,n=Dp(t,r))}if(n===1)throw n=Ga,Ei(t,0),Dr(t,e),Dt(t,Ye()),n;if(n===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,hi(t,It,lr),Dt(t,Ye()),null}function tv(t,e){var n=ge;ge|=1;try{return t(e)}finally{ge=n,ge===0&&(io=Ye()+500,xh&&ri())}}function Mi(t){$r!==null&&$r.tag===0&&!(ge&6)&&Hs();var e=ge;ge|=1;var n=ln.transition,r=we;try{if(ln.transition=null,we=1,t)return t()}finally{we=r,ln.transition=n,ge=e,!(ge&6)&&ri()}}function nv(){zt=ks.current,Ie(ks)}function Ei(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,mO(n)),Ke!==null)for(n=Ke.return;n!==null;){var r=n;switch($m(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vc();break;case 3:no(),Ie(Mt),Ie(bt),Vm();break;case 5:Gm(r);break;case 4:no();break;case 13:Ie($e);break;case 19:Ie($e);break;case 10:Um(r.type._context);break;case 22:case 23:nv()}n=n.return}if(it=t,Ke=t=Wr(t.current,null),dt=zt=e,tt=0,Ga=null,Jm=Eh=Ri=0,It=Sa=null,bi!==null){for(e=0;e<bi.length;e++)if(n=bi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}bi=null}return t}function ZE(t,e){do{var n=Ke;try{if(Nm(),Lu.current=Tc,Cc){for(var r=Le.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Cc=!1}if(Ii=0,rt=Je=Le=null,_a=!1,ja=0,Qm.current=null,n===null||n.return===null){tt=1,Ga=e,Ke=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=dt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=Wy(o);if(f!==null){f.flags&=-257,Xy(f,o,a,s,e),f.mode&1&&Vy(s,u,e),e=f,l=u;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){Vy(s,u,e),rv();break e}l=Error(j(426))}}else if(Me&&a.mode&1){var v=Wy(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Xy(v,o,a,s,e),Bm(ro(l,a));break e}}s=l=ro(l,a),tt!==4&&(tt=2),Sa===null?Sa=[s]:Sa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=DE(s,l,e);Ly(s,g);break e;case 1:a=l;var y=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Gr===null||!Gr.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=FE(s,a,e);Ly(s,b);break e}}s=s.return}while(s!==null)}eS(n)}catch(S){e=S,Ke===n&&n!==null&&(Ke=n=n.return);continue}break}while(1)}function QE(){var t=Ac.current;return Ac.current=Tc,t===null?Tc:t}function rv(){(tt===0||tt===3||tt===2)&&(tt=4),it===null||!(Ri&268435455)&&!(Eh&268435455)||Dr(it,dt)}function Ic(t,e){var n=ge;ge|=2;var r=QE();(it!==t||dt!==e)&&(lr=null,Ei(t,e));do try{jO();break}catch(i){ZE(t,i)}while(1);if(Nm(),ge=n,Ac.current=r,Ke!==null)throw Error(j(261));return it=null,dt=0,tt}function jO(){for(;Ke!==null;)JE(Ke)}function HO(){for(;Ke!==null&&!fP();)JE(Ke)}function JE(t){var e=nS(t.alternate,t,zt);t.memoizedProps=t.pendingProps,e===null?eS(t):Ke=e,Qm.current=null}function eS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=FO(n,e),n!==null){n.flags&=32767,Ke=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{tt=6,Ke=null;return}}else if(n=DO(n,e,zt),n!==null){Ke=n;return}if(e=e.sibling,e!==null){Ke=e;return}Ke=e=t}while(e!==null);tt===0&&(tt=5)}function hi(t,e,n){var r=we,i=ln.transition;try{ln.transition=null,we=1,zO(t,e,n,r)}finally{ln.transition=i,we=r}return null}function zO(t,e,n,r){do Hs();while($r!==null);if(ge&6)throw Error(j(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(EP(t,s),t===it&&(Ke=it=null,dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ql||(ql=!0,rS(hc,function(){return Hs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ln.transition,ln.transition=null;var o=we;we=1;var a=ge;ge|=4,Qm.current=null,BO(t,n),YE(n,t),uO(dp),fc=!!hp,dp=hp=null,t.current=n,LO(n),pP(),ge=a,we=o,ln.transition=s}else t.current=n;if(ql&&(ql=!1,$r=t,Oc=i),s=t.pendingLanes,s===0&&(Gr=null),vP(n.stateNode),Dt(t,Ye()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Pc)throw Pc=!1,t=Mp,Mp=null,t;return Oc&1&&t.tag!==0&&Hs(),s=t.pendingLanes,s&1?t===kp?Ca++:(Ca=0,kp=t):Ca=0,ri(),null}function Hs(){if($r!==null){var t=k_(Oc),e=ln.transition,n=we;try{if(ln.transition=null,we=16>t?16:t,$r===null)var r=!1;else{if(t=$r,$r=null,Oc=0,ge&6)throw Error(j(331));var i=ge;for(ge|=4,q=t.current;q!==null;){var s=q,o=s.child;if(q.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(q=u;q!==null;){var c=q;switch(c.tag){case 0:case 11:case 15:Ea(8,c,s)}var h=c.child;if(h!==null)h.return=c,q=h;else for(;q!==null;){c=q;var d=c.sibling,f=c.return;if(VE(c),c===u){q=null;break}if(d!==null){d.return=f,q=d;break}q=f}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,q=o;else e:for(;q!==null;){if(s=q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ea(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,q=g;break e}q=s.return}}var y=t.current;for(q=y;q!==null;){o=q;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,q=x;else e:for(o=y;q!==null;){if(a=q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_h(9,a)}}catch(S){ze(a,a.return,S)}if(a===o){q=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,q=b;break e}q=a.return}}if(ge=i,ri(),Zn&&typeof Zn.onPostCommitFiberRoot=="function")try{Zn.onPostCommitFiberRoot(ph,t)}catch{}r=!0}return r}finally{we=n,ln.transition=e}}return!1}function o1(t,e,n){e=ro(n,e),e=DE(t,e,1),t=zr(t,e,1),e=St(),t!==null&&(cl(t,1,e),Dt(t,e))}function ze(t,e,n){if(t.tag===3)o1(t,t,n);else for(;e!==null;){if(e.tag===3){o1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Gr===null||!Gr.has(r))){t=ro(n,t),t=FE(e,t,1),e=zr(e,t,1),t=St(),e!==null&&(cl(e,1,t),Dt(e,t));break}}e=e.return}}function GO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=St(),t.pingedLanes|=t.suspendedLanes&n,it===t&&(dt&n)===n&&(tt===4||tt===3&&(dt&130023424)===dt&&500>Ye()-ev?Ei(t,0):Jm|=n),Dt(t,e)}function tS(t,e){e===0&&(t.mode&1?(e=Nl,Nl<<=1,!(Nl&130023424)&&(Nl=4194304)):e=1);var n=St();t=br(t,e),t!==null&&(cl(t,e,n),Dt(t,n))}function VO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),tS(t,n)}function WO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(e),tS(t,n)}var nS;nS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mt.current)Rt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Rt=!1,kO(t,e,n);Rt=!!(t.flags&131072)}else Rt=!1,Me&&e.flags&1048576&&sE(e,bc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Uu(t,e),t=e.pendingProps;var i=Js(e,bt.current);js(e,n),i=Xm(null,e,r,t,i,n);var s=Ym();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,kt(r)?(s=!0,yc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Hm(e),i.updater=bh,e.stateNode=i,i._reactInternals=e,wp(e,r,t,n),e=Sp(null,e,r,!0,s,n)):(e.tag=0,Me&&s&&Fm(e),wt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Uu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=YO(r),t=wn(r,t),i){case 0:e=Ep(null,e,r,t,n);break e;case 1:e=Ky(null,e,r,t,n);break e;case 11:e=Yy(null,e,r,t,n);break e;case 14:e=qy(null,e,r,wn(r.type,t),n);break e}throw Error(j(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),Ep(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),Ky(t,e,r,i,n);case 3:e:{if(NE(e),t===null)throw Error(j(387));r=e.pendingProps,s=e.memoizedState,i=s.element,uE(t,e),Ec(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ro(Error(j(423)),e),e=Zy(t,e,r,n,i);break e}else if(r!==i){i=ro(Error(j(424)),e),e=Zy(t,e,r,n,i);break e}else for(Gt=Hr(e.stateNode.containerInfo.firstChild),Xt=e,Me=!0,Sn=null,n=fE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(eo(),r===i){e=wr(t,e,n);break e}wt(t,e,r,n)}e=e.child}return e;case 5:return pE(e),t===null&&yp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,fp(r,i)?o=null:s!==null&&fp(r,s)&&(e.flags|=32),LE(t,e),wt(t,e,o,n),e.child;case 6:return t===null&&yp(e),null;case 13:return UE(t,e,n);case 4:return zm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=to(e,null,r,n):wt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),Yy(t,e,r,i,n);case 7:return wt(t,e,e.pendingProps,n),e.child;case 8:return wt(t,e,e.pendingProps.children,n),e.child;case 12:return wt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Te(wc,r._currentValue),r._currentValue=o,s!==null)if($n(s.value,o)){if(s.children===i.children&&!Mt.current){e=wr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=pr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),xp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(j(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),xp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}wt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,js(e,n),i=un(i),r=r(i),e.flags|=1,wt(t,e,r,n),e.child;case 14:return r=e.type,i=wn(r,e.pendingProps),i=wn(r.type,i),qy(t,e,r,i,n);case 15:return $E(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),Uu(t,e),e.tag=1,kt(r)?(t=!0,yc(e)):t=!1,js(e,n),hE(e,r,i),wp(e,r,i,n),Sp(null,e,r,!0,t,n);case 19:return jE(t,e,n);case 22:return BE(t,e,n)}throw Error(j(156,e.tag))};function rS(t,e){return O_(t,e)}function XO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,e,n,r){return new XO(t,e,n,r)}function iv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function YO(t){if(typeof t=="function")return iv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Em)return 11;if(t===Sm)return 14}return 2}function Wr(t,e){var n=t.alternate;return n===null?(n=on(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function zu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")iv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Es:return Si(n.children,i,s,e);case _m:o=8,i|=8;break;case Vf:return t=on(12,n,e,i|2),t.elementType=Vf,t.lanes=s,t;case Wf:return t=on(13,n,e,i),t.elementType=Wf,t.lanes=s,t;case Xf:return t=on(19,n,e,i),t.elementType=Xf,t.lanes=s,t;case d_:return Sh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case c_:o=10;break e;case h_:o=9;break e;case Em:o=11;break e;case Sm:o=14;break e;case Rr:o=16,r=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=on(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Si(t,e,n,r){return t=on(7,t,r,e),t.lanes=n,t}function Sh(t,e,n,r){return t=on(22,t,r,e),t.elementType=d_,t.lanes=n,t.stateNode={isHidden:!1},t}function Hd(t,e,n){return t=on(6,t,null,e),t.lanes=n,t}function zd(t,e,n){return e=on(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qO(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ed(0),this.expirationTimes=Ed(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ed(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function sv(t,e,n,r,i,s,o,a,l){return t=new qO(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=on(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hm(s),t}function KO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_s,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function iS(t){if(!t)return Kr;t=t._reactInternals;e:{if(ji(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(kt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var n=t.type;if(kt(n))return rE(t,n,e)}return e}function sS(t,e,n,r,i,s,o,a,l){return t=sv(n,r,!0,t,i,s,o,a,l),t.context=iS(null),n=t.current,r=St(),i=Vr(n),s=pr(r,i),s.callback=e??null,zr(n,s,i),t.current.lanes=i,cl(t,i,r),Dt(t,r),t}function Ch(t,e,n,r){var i=e.current,s=St(),o=Vr(i);return n=iS(n),e.context===null?e.context=n:e.pendingContext=n,e=pr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=zr(i,e,o),t!==null&&(Rn(t,i,o,s),Bu(t,i,o)),o}function Rc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function a1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ov(t,e){a1(t,e),(t=t.alternate)&&a1(t,e)}function ZO(){return null}var oS=typeof reportError=="function"?reportError:function(t){console.error(t)};function av(t){this._internalRoot=t}Th.prototype.render=av.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));Ch(t,e,null,null)};Th.prototype.unmount=av.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Mi(function(){Ch(null,t,null,null)}),e[xr]=null}};function Th(t){this._internalRoot=t}Th.prototype.unstable_scheduleHydration=function(t){if(t){var e=$_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<kr.length&&e!==0&&e<kr[n].priority;n++);kr.splice(n,0,t),n===0&&L_(t)}};function lv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ah(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function l1(){}function QO(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Rc(o);s.call(u)}}var o=sS(e,r,t,0,null,!1,!1,"",l1);return t._reactRootContainer=o,t[xr]=o.current,$a(t.nodeType===8?t.parentNode:t),Mi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Rc(l);a.call(u)}}var l=sv(t,0,!1,null,null,!1,!1,"",l1);return t._reactRootContainer=l,t[xr]=l.current,$a(t.nodeType===8?t.parentNode:t),Mi(function(){Ch(e,l,n,r)}),l}function Ph(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Rc(o);a.call(l)}}Ch(e,o,t,i)}else o=QO(n,e,t,i,r);return Rc(o)}D_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ia(e.pendingLanes);n!==0&&(Am(e,n|1),Dt(e,Ye()),!(ge&6)&&(io=Ye()+500,ri()))}break;case 13:Mi(function(){var r=br(t,1);if(r!==null){var i=St();Rn(r,t,1,i)}}),ov(t,1)}};Pm=function(t){if(t.tag===13){var e=br(t,134217728);if(e!==null){var n=St();Rn(e,t,134217728,n)}ov(t,134217728)}};F_=function(t){if(t.tag===13){var e=Vr(t),n=br(t,e);if(n!==null){var r=St();Rn(n,t,e,r)}ov(t,e)}};$_=function(){return we};B_=function(t,e){var n=we;try{return we=t,e()}finally{we=n}};rp=function(t,e,n){switch(e){case"input":if(Kf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=yh(r);if(!i)throw Error(j(90));p_(r),Kf(r,i)}}}break;case"textarea":m_(t,n);break;case"select":e=n.value,e!=null&&Bs(t,!!n.multiple,e,!1)}};E_=tv;S_=Mi;var JO={usingClientEntryPoint:!1,Events:[dl,As,yh,w_,__,tv]},jo={findFiberByHostInstance:xi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},eI={bundleType:jo.bundleType,version:jo.version,rendererPackageName:jo.rendererPackageName,rendererConfig:jo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_r.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=A_(t),t===null?null:t.stateNode},findFiberByHostInstance:jo.findFiberByHostInstance||ZO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kl.isDisabled&&Kl.supportsFiber)try{ph=Kl.inject(eI),Zn=Kl}catch{}}Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JO;Qt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lv(e))throw Error(j(200));return KO(t,e,null,n)};Qt.createRoot=function(t,e){if(!lv(t))throw Error(j(299));var n=!1,r="",i=oS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=sv(t,1,!1,null,null,n,!1,r,i),t[xr]=e.current,$a(t.nodeType===8?t.parentNode:t),new av(e)};Qt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=A_(e),t=t===null?null:t.stateNode,t};Qt.flushSync=function(t){return Mi(t)};Qt.hydrate=function(t,e,n){if(!Ah(e))throw Error(j(200));return Ph(null,t,e,!0,n)};Qt.hydrateRoot=function(t,e,n){if(!lv(t))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=oS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=sS(e,null,t,1,n??null,i,!1,s,o),t[xr]=e.current,$a(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Th(e)};Qt.render=function(t,e,n){if(!Ah(e))throw Error(j(200));return Ph(null,t,e,!1,n)};Qt.unmountComponentAtNode=function(t){if(!Ah(t))throw Error(j(40));return t._reactRootContainer?(Mi(function(){Ph(null,null,t,!1,function(){t._reactRootContainer=null,t[xr]=null})}),!0):!1};Qt.unstable_batchedUpdates=tv;Qt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ah(n))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return Ph(t,e,n,!1,r)};Qt.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Qt})(ZA);var u1=ac;Hf.createRoot=u1.createRoot,Hf.hydrateRoot=u1.hydrateRoot;var tI={value:()=>{}};function aS(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Gu(n)}function Gu(t){this._=t}function nI(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Gu.prototype=aS.prototype={constructor:Gu,on:function(t,e){var n=this._,r=nI(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=rI(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=c1(n[i],t.name,e);else if(e==null)for(i in n)n[i]=c1(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Gu(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function rI(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function c1(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=tI,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var so=0,oa=0,Ho=0,lS=1e3,Mc,aa,kc=0,ki=0,Oh=0,Va=typeof performance=="object"&&performance.now?performance:Date,uS=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function cS(){return ki||(uS(iI),ki=Va.now()+Oh)}function iI(){ki=0}function $p(){this._call=this._time=this._next=null}$p.prototype=hS.prototype={constructor:$p,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?cS():+n)+(e==null?0:+e),!this._next&&aa!==this&&(aa?aa._next=this:Mc=this,aa=this),this._call=t,this._time=n,Bp()},stop:function(){this._call&&(this._call=null,this._time=1/0,Bp())}};function hS(t,e,n){var r=new $p;return r.restart(t,e,n),r}function sI(){cS(),++so;for(var t=Mc,e;t;)(e=ki-t._time)>=0&&t._call.call(void 0,e),t=t._next;--so}function h1(){ki=(kc=Va.now())+Oh,so=oa=0;try{sI()}finally{so=0,aI(),ki=0}}function oI(){var t=Va.now(),e=t-kc;e>lS&&(Oh-=e,kc=t)}function aI(){for(var t,e=Mc,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Mc=n);aa=t,Bp(r)}function Bp(t){if(!so){oa&&(oa=clearTimeout(oa));var e=t-ki;e>24?(t<1/0&&(oa=setTimeout(h1,t-Va.now()-Oh)),Ho&&(Ho=clearInterval(Ho))):(Ho||(kc=Va.now(),Ho=setInterval(oI,lS)),so=1,uS(h1))}}function d1(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function i(){var s,o=n.length,a,l=0,u=0;for(s=0;s<o;++s)a=n[s],l+=a.x,u+=a.y;for(l=(l/o-t)*r,u=(u/o-e)*r,s=0;s<o;++s)a=n[s],a.x-=l,a.y-=u}return i.initialize=function(s){n=s},i.x=function(s){return arguments.length?(t=+s,i):t},i.y=function(s){return arguments.length?(e=+s,i):e},i.strength=function(s){return arguments.length?(r=+s,i):r},i}function lI(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return dS(this.cover(e,n),e,n,t)}function dS(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,s=t._root,o={data:r},a=t._x0,l=t._y0,u=t._x1,c=t._y1,h,d,f,p,m,v,g,y;if(!s)return t._root=o,t;for(;s.length;)if((m=e>=(h=(a+u)/2))?a=h:u=h,(v=n>=(d=(l+c)/2))?l=d:c=d,i=s,!(s=s[g=v<<1|m]))return i[g]=o,t;if(f=+t._x.call(null,s.data),p=+t._y.call(null,s.data),e===f&&n===p)return o.next=s,i?i[g]=o:t._root=o,t;do i=i?i[g]=new Array(4):t._root=new Array(4),(m=e>=(h=(a+u)/2))?a=h:u=h,(v=n>=(d=(l+c)/2))?l=d:c=d;while((g=v<<1|m)===(y=(p>=d)<<1|f>=h));return i[y]=s,i[g]=o,t}function uI(t){var e,n,r=t.length,i,s,o=new Array(r),a=new Array(r),l=1/0,u=1/0,c=-1/0,h=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(s=+this._y.call(null,e))||(o[n]=i,a[n]=s,i<l&&(l=i),i>c&&(c=i),s<u&&(u=s),s>h&&(h=s));if(l>c||u>h)return this;for(this.cover(l,u).cover(c,h),n=0;n<r;++n)dS(this,o[n],a[n],t[n]);return this}function cI(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,s=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,s=(r=Math.floor(e))+1;else{for(var o=i-n||1,a=this._root,l,u;n>t||t>=i||r>e||e>=s;)switch(u=(e<r)<<1|t<n,l=new Array(4),l[u]=a,a=l,o*=2,u){case 0:i=n+o,s=r+o;break;case 1:n=i-o,s=r+o;break;case 2:i=n+o,r=s-o;break;case 3:n=i-o,r=s-o;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=s,this}function hI(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function dI(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Et(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function fI(t,e,n){var r,i=this._x0,s=this._y0,o,a,l,u,c=this._x1,h=this._y1,d=[],f=this._root,p,m;for(f&&d.push(new Et(f,i,s,c,h)),n==null?n=1/0:(i=t-n,s=e-n,c=t+n,h=e+n,n*=n);p=d.pop();)if(!(!(f=p.node)||(o=p.x0)>c||(a=p.y0)>h||(l=p.x1)<i||(u=p.y1)<s))if(f.length){var v=(o+l)/2,g=(a+u)/2;d.push(new Et(f[3],v,g,l,u),new Et(f[2],o,g,v,u),new Et(f[1],v,a,l,g),new Et(f[0],o,a,v,g)),(m=(e>=g)<<1|t>=v)&&(p=d[d.length-1],d[d.length-1]=d[d.length-1-m],d[d.length-1-m]=p)}else{var y=t-+this._x.call(null,f.data),x=e-+this._y.call(null,f.data),b=y*y+x*x;if(b<n){var S=Math.sqrt(n=b);i=t-S,s=e-S,c=t+S,h=e+S,r=f.data}}return r}function pI(t){if(isNaN(c=+this._x.call(null,t))||isNaN(h=+this._y.call(null,t)))return this;var e,n=this._root,r,i,s,o=this._x0,a=this._y0,l=this._x1,u=this._y1,c,h,d,f,p,m,v,g;if(!n)return this;if(n.length)for(;;){if((p=c>=(d=(o+l)/2))?o=d:l=d,(m=h>=(f=(a+u)/2))?a=f:u=f,e=n,!(n=n[v=m<<1|p]))return this;if(!n.length)break;(e[v+1&3]||e[v+2&3]||e[v+3&3])&&(r=e,g=v)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(s=n.next)&&delete n.next,i?(s?i.next=s:delete i.next,this):e?(s?e[v]=s:delete e[v],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[g]=n:this._root=n),this):(this._root=s,this)}function gI(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function mI(){return this._root}function vI(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function yI(t){var e=[],n,r=this._root,i,s,o,a,l;for(r&&e.push(new Et(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,s=n.x0,o=n.y0,a=n.x1,l=n.y1)&&r.length){var u=(s+a)/2,c=(o+l)/2;(i=r[3])&&e.push(new Et(i,u,c,a,l)),(i=r[2])&&e.push(new Et(i,s,c,u,l)),(i=r[1])&&e.push(new Et(i,u,o,a,c)),(i=r[0])&&e.push(new Et(i,s,o,u,c))}return this}function xI(t){var e=[],n=[],r;for(this._root&&e.push(new Et(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var s,o=r.x0,a=r.y0,l=r.x1,u=r.y1,c=(o+l)/2,h=(a+u)/2;(s=i[0])&&e.push(new Et(s,o,a,c,h)),(s=i[1])&&e.push(new Et(s,c,a,l,h)),(s=i[2])&&e.push(new Et(s,o,h,c,u)),(s=i[3])&&e.push(new Et(s,c,h,l,u))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function bI(t){return t[0]}function wI(t){return arguments.length?(this._x=t,this):this._x}function _I(t){return t[1]}function EI(t){return arguments.length?(this._y=t,this):this._y}function uv(t,e,n){var r=new cv(e??bI,n??_I,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function cv(t,e,n,r,i,s){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=s,this._root=void 0}function f1(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var At=uv.prototype=cv.prototype;At.copy=function(){var t=new cv(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=f1(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=f1(r));return t};At.add=lI;At.addAll=uI;At.cover=cI;At.data=hI;At.extent=dI;At.find=fI;At.remove=pI;At.removeAll=gI;At.root=mI;At.size=vI;At.visit=yI;At.visitAfter=xI;At.x=wI;At.y=EI;function Ci(t){return function(){return t}}function Br(t){return(t()-.5)*1e-6}function SI(t){return t.x+t.vx}function CI(t){return t.y+t.vy}function p1(t){var e,n,r,i=1,s=1;typeof t!="function"&&(t=Ci(t==null?1:+t));function o(){for(var u,c=e.length,h,d,f,p,m,v,g=0;g<s;++g)for(h=uv(e,SI,CI).visitAfter(a),u=0;u<c;++u)d=e[u],m=n[d.index],v=m*m,f=d.x+d.vx,p=d.y+d.vy,h.visit(y);function y(x,b,S,E,C){var A=x.data,F=x.r,k=m+F;if(A){if(A.index>d.index){var B=f-A.x-A.vx,U=p-A.y-A.vy,O=B*B+U*U;O<k*k&&(B===0&&(B=Br(r),O+=B*B),U===0&&(U=Br(r),O+=U*U),O=(k-(O=Math.sqrt(O)))/O*i,d.vx+=(B*=O)*(k=(F*=F)/(v+F)),d.vy+=(U*=O)*k,A.vx-=B*(k=1-k),A.vy-=U*k)}return}return b>f+k||E<f-k||S>p+k||C<p-k}}function a(u){if(u.data)return u.r=n[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function l(){if(e){var u,c=e.length,h;for(n=new Array(c),u=0;u<c;++u)h=e[u],n[h.index]=+t(h,u,e)}}return o.initialize=function(u,c){e=u,r=c,l()},o.iterations=function(u){return arguments.length?(s=+u,o):s},o.strength=function(u){return arguments.length?(i=+u,o):i},o.radius=function(u){return arguments.length?(t=typeof u=="function"?u:Ci(+u),l(),o):t},o}function TI(t){return t.index}function g1(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function m1(t){var e=TI,n=h,r,i=Ci(30),s,o,a,l,u,c=1;t==null&&(t=[]);function h(v){return 1/Math.min(a[v.source.index],a[v.target.index])}function d(v){for(var g=0,y=t.length;g<c;++g)for(var x=0,b,S,E,C,A,F,k;x<y;++x)b=t[x],S=b.source,E=b.target,C=E.x+E.vx-S.x-S.vx||Br(u),A=E.y+E.vy-S.y-S.vy||Br(u),F=Math.sqrt(C*C+A*A),F=(F-s[x])/F*v*r[x],C*=F,A*=F,E.vx-=C*(k=l[x]),E.vy-=A*k,S.vx+=C*(k=1-k),S.vy+=A*k}function f(){if(o){var v,g=o.length,y=t.length,x=new Map(o.map((S,E)=>[e(S,E,o),S])),b;for(v=0,a=new Array(g);v<y;++v)b=t[v],b.index=v,typeof b.source!="object"&&(b.source=g1(x,b.source)),typeof b.target!="object"&&(b.target=g1(x,b.target)),a[b.source.index]=(a[b.source.index]||0)+1,a[b.target.index]=(a[b.target.index]||0)+1;for(v=0,l=new Array(y);v<y;++v)b=t[v],l[v]=a[b.source.index]/(a[b.source.index]+a[b.target.index]);r=new Array(y),p(),s=new Array(y),m()}}function p(){if(o)for(var v=0,g=t.length;v<g;++v)r[v]=+n(t[v],v,t)}function m(){if(o)for(var v=0,g=t.length;v<g;++v)s[v]=+i(t[v],v,t)}return d.initialize=function(v,g){o=v,u=g,f()},d.links=function(v){return arguments.length?(t=v,f(),d):t},d.id=function(v){return arguments.length?(e=v,d):e},d.iterations=function(v){return arguments.length?(c=+v,d):c},d.strength=function(v){return arguments.length?(n=typeof v=="function"?v:Ci(+v),p(),d):n},d.distance=function(v){return arguments.length?(i=typeof v=="function"?v:Ci(+v),m(),d):i},d}const AI=1664525,PI=1013904223,v1=4294967296;function OI(){let t=1;return()=>(t=(AI*t+PI)%v1)/v1}function II(t){return t.x}function RI(t){return t.y}var MI=10,kI=Math.PI*(3-Math.sqrt(5));function y1(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),s=0,o=.6,a=new Map,l=hS(h),u=aS("tick","end"),c=OI();t==null&&(t=[]);function h(){d(),u.call("tick",e),n<r&&(l.stop(),u.call("end",e))}function d(m){var v,g=t.length,y;m===void 0&&(m=1);for(var x=0;x<m;++x)for(n+=(s-n)*i,a.forEach(function(b){b(n)}),v=0;v<g;++v)y=t[v],y.fx==null?y.x+=y.vx*=o:(y.x=y.fx,y.vx=0),y.fy==null?y.y+=y.vy*=o:(y.y=y.fy,y.vy=0);return e}function f(){for(var m=0,v=t.length,g;m<v;++m){if(g=t[m],g.index=m,g.fx!=null&&(g.x=g.fx),g.fy!=null&&(g.y=g.fy),isNaN(g.x)||isNaN(g.y)){var y=MI*Math.sqrt(.5+m),x=m*kI;g.x=y*Math.cos(x),g.y=y*Math.sin(x)}(isNaN(g.vx)||isNaN(g.vy))&&(g.vx=g.vy=0)}}function p(m){return m.initialize&&m.initialize(t,c),m}return f(),e={tick:d,restart:function(){return l.restart(h),e},stop:function(){return l.stop(),e},nodes:function(m){return arguments.length?(t=m,f(),a.forEach(p),e):t},alpha:function(m){return arguments.length?(n=+m,e):n},alphaMin:function(m){return arguments.length?(r=+m,e):r},alphaDecay:function(m){return arguments.length?(i=+m,e):+i},alphaTarget:function(m){return arguments.length?(s=+m,e):s},velocityDecay:function(m){return arguments.length?(o=1-m,e):1-o},randomSource:function(m){return arguments.length?(c=m,a.forEach(p),e):c},force:function(m,v){return arguments.length>1?(v==null?a.delete(m):a.set(m,p(v)),e):a.get(m)},find:function(m,v,g){var y=0,x=t.length,b,S,E,C,A;for(g==null?g=1/0:g*=g,y=0;y<x;++y)C=t[y],b=m-C.x,S=v-C.y,E=b*b+S*S,E<g&&(A=C,g=E);return A},on:function(m,v){return arguments.length>1?(u.on(m,v),e):u.on(m)}}}function x1(){var t,e,n,r,i=Ci(-30),s,o=1,a=1/0,l=.81;function u(f){var p,m=t.length,v=uv(t,II,RI).visitAfter(h);for(r=f,p=0;p<m;++p)e=t[p],v.visit(d)}function c(){if(t){var f,p=t.length,m;for(s=new Array(p),f=0;f<p;++f)m=t[f],s[m.index]=+i(m,f,t)}}function h(f){var p=0,m,v,g=0,y,x,b;if(f.length){for(y=x=b=0;b<4;++b)(m=f[b])&&(v=Math.abs(m.value))&&(p+=m.value,g+=v,y+=v*m.x,x+=v*m.y);f.x=y/g,f.y=x/g}else{m=f,m.x=m.data.x,m.y=m.data.y;do p+=s[m.data.index];while(m=m.next)}f.value=p}function d(f,p,m,v){if(!f.value)return!0;var g=f.x-e.x,y=f.y-e.y,x=v-p,b=g*g+y*y;if(x*x/l<b)return b<a&&(g===0&&(g=Br(n),b+=g*g),y===0&&(y=Br(n),b+=y*y),b<o&&(b=Math.sqrt(o*b)),e.vx+=g*f.value*r/b,e.vy+=y*f.value*r/b),!0;if(f.length||b>=a)return;(f.data!==e||f.next)&&(g===0&&(g=Br(n),b+=g*g),y===0&&(y=Br(n),b+=y*y),b<o&&(b=Math.sqrt(o*b)));do f.data!==e&&(x=s[f.data.index]*r/b,e.vx+=g*x,e.vy+=y*x);while(f=f.next)}return u.initialize=function(f,p){t=f,n=p,c()},u.strength=function(f){return arguments.length?(i=typeof f=="function"?f:Ci(+f),c(),u):i},u.distanceMin=function(f){return arguments.length?(o=f*f,u):Math.sqrt(o)},u.distanceMax=function(f){return arguments.length?(a=f*f,u):Math.sqrt(a)},u.theta=function(f){return arguments.length?(l=f*f,u):Math.sqrt(l)},u}function la(t,e,n){this.k=t,this.x=e,this.y=n}la.prototype={constructor:la,scale:function(t){return t===1?this:new la(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new la(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};la.prototype;var Hi=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(Hi||{}),fS=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(fS||{}),Lp=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(Lp||{}),ie=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(ie||{}),qn=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(qn||{}),W=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(W||{}),zs=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(zs||{}),ee=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(ee||{}),Np=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(Np||{}),dr=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(dr||{}),Xr=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(Xr||{}),nr=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(nr||{}),Ln=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(Ln||{}),Gn=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(Gn||{}),hv=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(hv||{}),an=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(an||{}),Qe=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(Qe||{}),Ge=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(Ge||{}),Jn=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(Jn||{});const DI={createCanvas:(t,e)=>{const n=document.createElement("canvas");return n.width=t,n.height=e,n},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},Y={ADAPTER:DI,RESOLUTION:1,RENDER_OPTIONS:{view:null,width:800,height:600,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,clearBeforeRender:!0,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,hello:!1},CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Gd=/iPhone/i,b1=/iPod/i,w1=/iPad/i,_1=/\biOS-universal(?:.+)Mac\b/i,Vd=/\bAndroid(?:.+)Mobile\b/i,E1=/Android/i,Qi=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Zl=/Silk/i,sr=/Windows Phone/i,S1=/\bWindows(?:.+)ARM\b/i,C1=/BlackBerry/i,T1=/BB10/i,A1=/Opera Mini/i,P1=/\b(CriOS|Chrome)(?:.+)Mobile/i,O1=/Mobile(?:.+)Firefox\b/i,I1=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function FI(t){return function(e){return e.test(t)}}function $I(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var n=e.userAgent,r=n.split("[FBAN");typeof r[1]<"u"&&(n=r[0]),r=n.split("Twitter"),typeof r[1]<"u"&&(n=r[0]);var i=FI(n),s={apple:{phone:i(Gd)&&!i(sr),ipod:i(b1),tablet:!i(Gd)&&(i(w1)||I1(e))&&!i(sr),universal:i(_1),device:(i(Gd)||i(b1)||i(w1)||i(_1)||I1(e))&&!i(sr)},amazon:{phone:i(Qi),tablet:!i(Qi)&&i(Zl),device:i(Qi)||i(Zl)},android:{phone:!i(sr)&&i(Qi)||!i(sr)&&i(Vd),tablet:!i(sr)&&!i(Qi)&&!i(Vd)&&(i(Zl)||i(E1)),device:!i(sr)&&(i(Qi)||i(Zl)||i(Vd)||i(E1))||i(/\bokhttp\b/i)},windows:{phone:i(sr),tablet:i(S1),device:i(sr)||i(S1)},other:{blackberry:i(C1),blackberry10:i(T1),opera:i(A1),firefox:i(O1),chrome:i(P1),device:i(C1)||i(T1)||i(A1)||i(O1)||i(P1)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const fr=$I(globalThis.navigator);Y.RETINA_PREFIX=/@([0-9\.]+)x/;Y.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Di={},BI={get exports(){return Di},set exports(t){Di=t}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function s(l,u,c,h,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var f=new i(c,h||l,d),p=n?n+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],f]:l._events[p].push(f):(l._events[p]=f,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,h;if(this._eventsCount===0)return u;for(h in c=this._events)e.call(c,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,h=this._events[c];if(!h)return[];if(h.fn)return[h.fn];for(var d=0,f=h.length,p=new Array(f);d<f;d++)p[d]=h[d].fn;return p},a.prototype.listenerCount=function(u){var c=n?n+u:u,h=this._events[c];return h?h.fn?1:h.length:0},a.prototype.emit=function(u,c,h,d,f,p){var m=n?n+u:u;if(!this._events[m])return!1;var v=this._events[m],g=arguments.length,y,x;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),g){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,h),!0;case 4:return v.fn.call(v.context,c,h,d),!0;case 5:return v.fn.call(v.context,c,h,d,f),!0;case 6:return v.fn.call(v.context,c,h,d,f,p),!0}for(x=1,y=new Array(g-1);x<g;x++)y[x-1]=arguments[x];v.fn.apply(v.context,y)}else{var b=v.length,S;for(x=0;x<b;x++)switch(v[x].once&&this.removeListener(u,v[x].fn,void 0,!0),g){case 1:v[x].fn.call(v[x].context);break;case 2:v[x].fn.call(v[x].context,c);break;case 3:v[x].fn.call(v[x].context,c,h);break;case 4:v[x].fn.call(v[x].context,c,h,d);break;default:if(!y)for(S=1,y=new Array(g-1);S<g;S++)y[S-1]=arguments[S];v[x].fn.apply(v[x].context,y)}}return!0},a.prototype.on=function(u,c,h){return s(this,u,c,h,!1)},a.prototype.once=function(u,c,h){return s(this,u,c,h,!0)},a.prototype.removeListener=function(u,c,h,d){var f=n?n+u:u;if(!this._events[f])return this;if(!c)return o(this,f),this;var p=this._events[f];if(p.fn)p.fn===c&&(!d||p.once)&&(!h||p.context===h)&&o(this,f);else{for(var m=0,v=[],g=p.length;m<g;m++)(p[m].fn!==c||d&&!p[m].once||h&&p[m].context!==h)&&v.push(p[m]);v.length?this._events[f]=v.length===1?v[0]:v:o(this,f)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(BI);var Dc={},LI={get exports(){return Dc},set exports(t){Dc=t}};LI.exports=Ih;Dc.default=Ih;function Ih(t,e,n){n=n||2;var r=e&&e.length,i=r?e[0]*n:t.length,s=pS(t,0,i,n,!0),o=[];if(!s||s.next===s.prev)return o;var a,l,u,c,h,d,f;if(r&&(s=zI(t,e,s,n)),t.length>80*n){a=u=t[0],l=c=t[1];for(var p=n;p<i;p+=n)h=t[p],d=t[p+1],h<a&&(a=h),d<l&&(l=d),h>u&&(u=h),d>c&&(c=d);f=Math.max(u-a,c-l),f=f!==0?32767/f:0}return Wa(s,o,n,a,l,f,0),o}function pS(t,e,n,r,i){var s,o;if(i===Hp(t,e,n,r)>0)for(s=e;s<n;s+=r)o=R1(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=R1(s,t[s],t[s+1],o);return o&&Rh(o,o.next)&&(Ya(o),o=o.next),o}function Fi(t,e){if(!t)return t;e||(e=t);var n=t,r;do if(r=!1,!n.steiner&&(Rh(n,n.next)||Be(n.prev,n,n.next)===0)){if(Ya(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Wa(t,e,n,r,i,s,o){if(t){!o&&s&&YI(t,r,i,s);for(var a=t,l,u;t.prev!==t.next;){if(l=t.prev,u=t.next,s?UI(t,r,i,s):NI(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),Ya(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=jI(Fi(t),e,n),Wa(t,e,n,r,i,s,2)):o===2&&HI(t,e,n,r,i,s):Wa(Fi(t),e,n,r,i,s,1);break}}}}function NI(t){var e=t.prev,n=t,r=t.next;if(Be(e,n,r)>=0)return!1;for(var i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,u=r.y,c=i<s?i<o?i:o:s<o?s:o,h=a<l?a<u?a:u:l<u?l:u,d=i>s?i>o?i:o:s>o?s:o,f=a>l?a>u?a:u:l>u?l:u,p=r.next;p!==e;){if(p.x>=c&&p.x<=d&&p.y>=h&&p.y<=f&&Ds(i,a,s,l,o,u,p.x,p.y)&&Be(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function UI(t,e,n,r){var i=t.prev,s=t,o=t.next;if(Be(i,s,o)>=0)return!1;for(var a=i.x,l=s.x,u=o.x,c=i.y,h=s.y,d=o.y,f=a<l?a<u?a:u:l<u?l:u,p=c<h?c<d?c:d:h<d?h:d,m=a>l?a>u?a:u:l>u?l:u,v=c>h?c>d?c:d:h>d?h:d,g=Up(f,p,e,n,r),y=Up(m,v,e,n,r),x=t.prevZ,b=t.nextZ;x&&x.z>=g&&b&&b.z<=y;){if(x.x>=f&&x.x<=m&&x.y>=p&&x.y<=v&&x!==i&&x!==o&&Ds(a,c,l,h,u,d,x.x,x.y)&&Be(x.prev,x,x.next)>=0||(x=x.prevZ,b.x>=f&&b.x<=m&&b.y>=p&&b.y<=v&&b!==i&&b!==o&&Ds(a,c,l,h,u,d,b.x,b.y)&&Be(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;x&&x.z>=g;){if(x.x>=f&&x.x<=m&&x.y>=p&&x.y<=v&&x!==i&&x!==o&&Ds(a,c,l,h,u,d,x.x,x.y)&&Be(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;b&&b.z<=y;){if(b.x>=f&&b.x<=m&&b.y>=p&&b.y<=v&&b!==i&&b!==o&&Ds(a,c,l,h,u,d,b.x,b.y)&&Be(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function jI(t,e,n){var r=t;do{var i=r.prev,s=r.next.next;!Rh(i,s)&&gS(i,r,r.next,s)&&Xa(i,s)&&Xa(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),Ya(r),Ya(r.next),r=t=s),r=r.next}while(r!==t);return Fi(r)}function HI(t,e,n,r,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&ZI(o,a)){var l=mS(o,a);o=Fi(o,o.next),l=Fi(l,l.next),Wa(o,e,n,r,i,s,0),Wa(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function zI(t,e,n,r){var i=[],s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,u=pS(t,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(KI(u));for(i.sort(GI),s=0;s<i.length;s++)n=VI(i[s],n);return n}function GI(t,e){return t.x-e.x}function VI(t,e){var n=WI(t,e);if(!n)return e;var r=mS(n,t);return Fi(r,r.next),Fi(n,n.next)}function WI(t,e){var n=e,r=t.x,i=t.y,s=-1/0,o;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var a=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=r&&a>s&&(s=a,o=n.x<n.next.x?n:n.next,a===r))return o}n=n.next}while(n!==e);if(!o)return null;var l=o,u=o.x,c=o.y,h=1/0,d;n=o;do r>=n.x&&n.x>=u&&r!==n.x&&Ds(i<c?r:s,i,u,c,i<c?s:r,i,n.x,n.y)&&(d=Math.abs(i-n.y)/(r-n.x),Xa(n,t)&&(d<h||d===h&&(n.x>o.x||n.x===o.x&&XI(o,n)))&&(o=n,h=d)),n=n.next;while(n!==l);return o}function XI(t,e){return Be(t.prev,t,e.prev)<0&&Be(e.next,t,t.next)<0}function YI(t,e,n,r){var i=t;do i.z===0&&(i.z=Up(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,qI(i)}function qI(t){var e,n,r,i,s,o,a,l,u=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,u*=2}while(o>1);return t}function Up(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function KI(t){var e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Ds(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function ZI(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!QI(t,e)&&(Xa(t,e)&&Xa(e,t)&&JI(t,e)&&(Be(t.prev,t,e.prev)||Be(t,e.prev,e))||Rh(t,e)&&Be(t.prev,t,t.next)>0&&Be(e.prev,e,e.next)>0)}function Be(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Rh(t,e){return t.x===e.x&&t.y===e.y}function gS(t,e,n,r){var i=Jl(Be(t,e,n)),s=Jl(Be(t,e,r)),o=Jl(Be(n,r,t)),a=Jl(Be(n,r,e));return!!(i!==s&&o!==a||i===0&&Ql(t,n,e)||s===0&&Ql(t,r,e)||o===0&&Ql(n,t,r)||a===0&&Ql(n,e,r))}function Ql(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Jl(t){return t>0?1:t<0?-1:0}function QI(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&gS(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Xa(t,e){return Be(t.prev,t,t.next)<0?Be(t,e,t.next)>=0&&Be(t,t.prev,e)>=0:Be(t,e,t.prev)<0||Be(t,t.next,e)<0}function JI(t,e){var n=t,r=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function mS(t,e){var n=new jp(t.i,t.x,t.y),r=new jp(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function R1(t,e,n,r){var i=new jp(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Ya(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function jp(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Ih.deviation=function(t,e,n,r){var i=e&&e.length,s=i?e[0]*n:t.length,o=Math.abs(Hp(t,0,s,n));if(i)for(var a=0,l=e.length;a<l;a++){var u=e[a]*n,c=a<l-1?e[a+1]*n:t.length;o-=Math.abs(Hp(t,u,c,n))}var h=0;for(a=0;a<r.length;a+=3){var d=r[a]*n,f=r[a+1]*n,p=r[a+2]*n;h+=Math.abs((t[d]-t[p])*(t[f+1]-t[d+1])-(t[d]-t[f])*(t[p+1]-t[d+1]))}return o===0&&h===0?0:Math.abs((h-o)/o)};function Hp(t,e,n,r){for(var i=0,s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}Ih.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)n.vertices.push(t[i][s][o]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n};var Fc={},eR={get exports(){return Fc},set exports(t){Fc=t}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(t,e){(function(n){var r=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof yi=="object"&&yi;(s.global===s||s.window===s||s.self===s)&&(n=s);var o,a=2147483647,l=36,u=1,c=26,h=38,d=700,f=72,p=128,m="-",v=/^xn--/,g=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=l-u,S=Math.floor,E=String.fromCharCode,C;function A(R){throw RangeError(x[R])}function F(R,N){for(var V=R.length,se=[];V--;)se[V]=N(R[V]);return se}function k(R,N){var V=R.split("@"),se="";V.length>1&&(se=V[0]+"@",R=V[1]),R=R.replace(y,".");var le=R.split("."),ve=F(le,N).join(".");return se+ve}function B(R){for(var N=[],V=0,se=R.length,le,ve;V<se;)le=R.charCodeAt(V++),le>=55296&&le<=56319&&V<se?(ve=R.charCodeAt(V++),(ve&64512)==56320?N.push(((le&1023)<<10)+(ve&1023)+65536):(N.push(le),V--)):N.push(le);return N}function U(R){return F(R,function(N){var V="";return N>65535&&(N-=65536,V+=E(N>>>10&1023|55296),N=56320|N&1023),V+=E(N),V}).join("")}function O(R){return R-48<10?R-22:R-65<26?R-65:R-97<26?R-97:l}function T(R,N){return R+22+75*(R<26)-((N!=0)<<5)}function D(R,N,V){var se=0;for(R=V?S(R/d):R>>1,R+=S(R/N);R>b*c>>1;se+=l)R=S(R/b);return S(se+(b+1)*R/(R+h))}function G(R){var N=[],V=R.length,se,le=0,ve=p,he=f,pe,He,nt,Ze,Ee,De,We,Lt,tn;for(pe=R.lastIndexOf(m),pe<0&&(pe=0),He=0;He<pe;++He)R.charCodeAt(He)>=128&&A("not-basic"),N.push(R.charCodeAt(He));for(nt=pe>0?pe+1:0;nt<V;){for(Ze=le,Ee=1,De=l;nt>=V&&A("invalid-input"),We=O(R.charCodeAt(nt++)),(We>=l||We>S((a-le)/Ee))&&A("overflow"),le+=We*Ee,Lt=De<=he?u:De>=he+c?c:De-he,!(We<Lt);De+=l)tn=l-Lt,Ee>S(a/tn)&&A("overflow"),Ee*=tn;se=N.length+1,he=D(le-Ze,se,Ze==0),S(le/se)>a-ve&&A("overflow"),ve+=S(le/se),le%=se,N.splice(le++,0,ve)}return U(N)}function $(R){var N,V,se,le,ve,he,pe,He,nt,Ze,Ee,De=[],We,Lt,tn,ko;for(R=B(R),We=R.length,N=p,V=0,ve=f,he=0;he<We;++he)Ee=R[he],Ee<128&&De.push(E(Ee));for(se=le=De.length,le&&De.push(m);se<We;){for(pe=a,he=0;he<We;++he)Ee=R[he],Ee>=N&&Ee<pe&&(pe=Ee);for(Lt=se+1,pe-N>S((a-V)/Lt)&&A("overflow"),V+=(pe-N)*Lt,N=pe,he=0;he<We;++he)if(Ee=R[he],Ee<N&&++V>a&&A("overflow"),Ee==N){for(He=V,nt=l;Ze=nt<=ve?u:nt>=ve+c?c:nt-ve,!(He<Ze);nt+=l)ko=He-Ze,tn=l-Ze,De.push(E(T(Ze+ko%tn,0))),He=S(ko/tn);De.push(E(T(He,0))),ve=D(V,Lt,se==le),V=0,++se}++V,++N}return De.join("")}function M(R){return k(R,function(N){return v.test(N)?G(N.slice(4).toLowerCase()):N})}function H(R){return k(R,function(N){return g.test(N)?"xn--"+$(N):N})}if(o={version:"1.3.2",ucs2:{decode:B,encode:U},decode:G,encode:$,toASCII:H,toUnicode:M},r&&i)if(t.exports==r)i.exports=o;else for(C in o)o.hasOwnProperty(C)&&(r[C]=o[C]);else n.punycode=o})(yi)})(eR,Fc);var tR={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},qa={};function nR(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var rR=function(t,e,n,r){e=e||"&",n=n||"=";var i={};if(typeof t!="string"||t.length===0)return i;var s=/\+/g;t=t.split(e);var o=1e3;r&&typeof r.maxKeys=="number"&&(o=r.maxKeys);var a=t.length;o>0&&a>o&&(a=o);for(var l=0;l<a;++l){var u=t[l].replace(s,"%20"),c=u.indexOf(n),h,d,f,p;c>=0?(h=u.substr(0,c),d=u.substr(c+1)):(h=u,d=""),f=decodeURIComponent(h),p=decodeURIComponent(d),nR(i,f)?Array.isArray(i[f])?i[f].push(p):i[f]=[i[f],p]:i[f]=p}return i},zo=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},iR=function(t,e,n,r){return e=e||"&",n=n||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(i){var s=encodeURIComponent(zo(i))+n;return Array.isArray(t[i])?t[i].map(function(o){return s+encodeURIComponent(zo(o))}).join(e):s+encodeURIComponent(zo(t[i]))}).join(e):r?encodeURIComponent(zo(r))+n+encodeURIComponent(zo(t)):""};qa.decode=qa.parse=rR;qa.encode=qa.stringify=iR;var sR=Fc,Vn=tR,oR=Mh,aR=yR,lR=vR;function Mn(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var uR=/^([a-z0-9.+-]+:)/i,cR=/:[0-9]*$/,hR=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,dR=["<",">",'"',"`"," ","\r",`
`,"	"],fR=["{","}","|","\\","^","`"].concat(dR),zp=["'"].concat(fR),M1=["%","/","?",";","#"].concat(zp),k1=["/","?","#"],pR=255,D1=/^[+a-z0-9A-Z_-]{0,63}$/,gR=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,mR={javascript:!0,"javascript:":!0},Gp={javascript:!0,"javascript:":!0},Gs={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Vp=qa;function Mh(t,e,n){if(t&&Vn.isObject(t)&&t instanceof Mn)return t;var r=new Mn;return r.parse(t,e,n),r}Mn.prototype.parse=function(t,e,n){if(!Vn.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),i=r!==-1&&r<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!n&&t.split("#").length===1){var l=hR.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=Vp.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var u=uR.exec(a);if(u){u=u[0];var c=u.toLowerCase();this.protocol=c,a=a.substr(u.length)}if(n||u||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var h=a.substr(0,2)==="//";h&&!(u&&Gp[u])&&(a=a.substr(2),this.slashes=!0)}if(!Gp[u]&&(h||u&&!Gs[u])){for(var d=-1,f=0;f<k1.length;f++){var p=a.indexOf(k1[f]);p!==-1&&(d===-1||p<d)&&(d=p)}var m,v;d===-1?v=a.lastIndexOf("@"):v=a.lastIndexOf("@",d),v!==-1&&(m=a.slice(0,v),a=a.slice(v+1),this.auth=decodeURIComponent(m)),d=-1;for(var f=0;f<M1.length;f++){var p=a.indexOf(M1[f]);p!==-1&&(d===-1||p<d)&&(d=p)}d===-1&&(d=a.length),this.host=a.slice(0,d),a=a.slice(d),this.parseHost(),this.hostname=this.hostname||"";var g=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!g)for(var y=this.hostname.split(/\./),f=0,x=y.length;f<x;f++){var b=y[f];if(b&&!b.match(D1)){for(var S="",E=0,C=b.length;E<C;E++)b.charCodeAt(E)>127?S+="x":S+=b[E];if(!S.match(D1)){var A=y.slice(0,f),F=y.slice(f+1),k=b.match(gR);k&&(A.push(k[1]),F.unshift(k[2])),F.length&&(a="/"+F.join(".")+a),this.hostname=A.join(".");break}}}this.hostname.length>pR?this.hostname="":this.hostname=this.hostname.toLowerCase(),g||(this.hostname=sR.toASCII(this.hostname));var B=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+B,this.href+=this.host,g&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!mR[c])for(var f=0,x=zp.length;f<x;f++){var O=zp[f];if(a.indexOf(O)!==-1){var T=encodeURIComponent(O);T===O&&(T=escape(O)),a=a.split(O).join(T)}}var D=a.indexOf("#");D!==-1&&(this.hash=a.substr(D),a=a.slice(0,D));var G=a.indexOf("?");if(G!==-1?(this.search=a.substr(G),this.query=a.substr(G+1),e&&(this.query=Vp.parse(this.query)),a=a.slice(0,G)):e&&(this.search="",this.query={}),a&&(this.pathname=a),Gs[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var B=this.pathname||"",$=this.search||"";this.path=B+$}return this.href=this.format(),this};function vR(t){return Vn.isString(t)&&(t=Mh(t)),t instanceof Mn?t.format():Mn.prototype.format.call(t)}Mn.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&Vn.isObject(this.query)&&Object.keys(this.query).length&&(s=Vp.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Gs[e])&&i!==!1?(i="//"+(i||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),o&&o.charAt(0)!=="?"&&(o="?"+o),n=n.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+n+o+r};function yR(t,e){return Mh(t,!1,!0).resolve(e)}Mn.prototype.resolve=function(t){return this.resolveObject(Mh(t,!1,!0)).format()};Mn.prototype.resolveObject=function(t){if(Vn.isString(t)){var e=new Mn;e.parse(t,!1,!0),t=e}for(var n=new Mn,r=Object.keys(this),i=0;i<r.length;i++){var s=r[i];n[s]=this[s]}if(n.hash=t.hash,t.href==="")return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var l=o[a];l!=="protocol"&&(n[l]=t[l])}return Gs[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!Gs[t.protocol]){for(var u=Object.keys(t),c=0;c<u.length;c++){var h=u[c];n[h]=t[h]}return n.href=n.format(),n}if(n.protocol=t.protocol,!t.host&&!Gp[t.protocol]){for(var x=(t.pathname||"").split("/");x.length&&!(t.host=x.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),x[0]!==""&&x.unshift(""),x.length<2&&x.unshift(""),n.pathname=x.join("/")}else n.pathname=t.pathname;if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var d=n.pathname||"",f=n.search||"";n.path=d+f}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var p=n.pathname&&n.pathname.charAt(0)==="/",m=t.host||t.pathname&&t.pathname.charAt(0)==="/",v=m||p||n.host&&t.pathname,g=v,y=n.pathname&&n.pathname.split("/")||[],x=t.pathname&&t.pathname.split("/")||[],b=n.protocol&&!Gs[n.protocol];if(b&&(n.hostname="",n.port=null,n.host&&(y[0]===""?y[0]=n.host:y.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(x[0]===""?x[0]=t.host:x.unshift(t.host)),t.host=null),v=v&&(x[0]===""||y[0]==="")),m)n.host=t.host||t.host===""?t.host:n.host,n.hostname=t.hostname||t.hostname===""?t.hostname:n.hostname,n.search=t.search,n.query=t.query,y=x;else if(x.length)y||(y=[]),y.pop(),y=y.concat(x),n.search=t.search,n.query=t.query;else if(!Vn.isNullOrUndefined(t.search)){if(b){n.hostname=n.host=y.shift();var S=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;S&&(n.auth=S.shift(),n.host=n.hostname=S.shift())}return n.search=t.search,n.query=t.query,(!Vn.isNull(n.pathname)||!Vn.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!y.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var E=y.slice(-1)[0],C=(n.host||t.host||y.length>1)&&(E==="."||E==="..")||E==="",A=0,F=y.length;F>=0;F--)E=y[F],E==="."?y.splice(F,1):E===".."?(y.splice(F,1),A++):A&&(y.splice(F,1),A--);if(!v&&!g)for(;A--;A)y.unshift("..");v&&y[0]!==""&&(!y[0]||y[0].charAt(0)!=="/")&&y.unshift(""),C&&y.join("/").substr(-1)!=="/"&&y.push("");var k=y[0]===""||y[0]&&y[0].charAt(0)==="/";if(b){n.hostname=n.host=k?"":y.length?y.shift():"";var S=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;S&&(n.auth=S.shift(),n.host=n.hostname=S.shift())}return v=v||n.host&&y.length,v&&!k&&y.unshift(""),y.length?n.pathname=y.join("/"):(n.pathname=null,n.path=null),(!Vn.isNull(n.pathname)||!Vn.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n};Mn.prototype.parseHost=function(){var t=this.host,e=cR.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const xR={parse:oR,format:lR,resolve:aR};function gn(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Go(t){return t.split("?")[0].split("#")[0]}function bR(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function wR(t,e,n){return t.replace(new RegExp(bR(e),"g"),n)}function _R(t,e){let n="",r=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){const l=n.lastIndexOf("/");if(l!==n.length-1){l===-1?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length===2||n.length===1){n="",r=0,i=a,s=0;continue}}e&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+=`/${t.slice(i+1,a)}`:n=t.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return n}const ft={toPosix(t){return wR(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol(t){gn(t),t=this.toPosix(t);let e="";const n=/^file:\/\/\//.exec(t),r=/^[^/:]+:\/\//.exec(t),i=/^[^/:]+:\//.exec(t);if(n||r||i){const s=(n==null?void 0:n[0])||(r==null?void 0:r[0])||(i==null?void 0:i[0]);e=s,t=t.slice(s.length)}return e},toAbsolute(t,e,n){if(this.isDataUrl(t))return t;const r=Go(this.toPosix(e??Y.ADAPTER.getBaseUrl())),i=Go(this.toPosix(n??this.rootname(r)));return gn(t),t=this.toPosix(t),t.startsWith("/")?ft.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(r,t)},normalize(t){if(t=this.toPosix(t),gn(t),t.length===0)return".";let e="";const n=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const r=t.endsWith("/");return t=_R(t,!1),t.length>0&&r&&(t+="/"),n?`/${t}`:e+t},isAbsolute(t){return gn(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let n=0;n<t.length;++n){const r=t[n];if(gn(r),r.length>0)if(e===void 0)e=r;else{const i=t[n-1]??"";this.extname(i)?e+=`/../${r}`:e+=`/${r}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(gn(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const n=e===47;let r=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){r=a;break}}else i=!1;return r===-1?n?"/":this.isUrl(o)?s+t:s:n&&r===1?"//":s+t.slice(0,r)},rootname(t){gn(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const n=t.indexOf("/",e.length);n!==-1?e=t.slice(0,n):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){gn(t),e&&gn(e),t=Go(this.toPosix(t));let n=0,r=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const l=t.charCodeAt(s);if(l===47){if(!i){n=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(r=s):(o=-1,r=a))}return n===r?r=a:r===-1&&(r=t.length),t.slice(n,r)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){n=s+1;break}}else r===-1&&(i=!1,r=s+1);return r===-1?"":t.slice(n,r)},extname(t){gn(t),t=Go(this.toPosix(t));let e=-1,n=0,r=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){n=o+1;break}continue}r===-1&&(i=!1,r=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||r===-1||s===0||s===1&&e===r-1&&e===n+1?"":t.slice(e,r)},parse(t){gn(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Go(this.toPosix(t));let n=t.charCodeAt(0);const r=this.isAbsolute(t);let i;e.root=this.rootname(t),r||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,l=!0,u=t.length-1,c=0;for(;u>=i;--u){if(n=t.charCodeAt(u),n===47){if(!l){o=u+1;break}continue}a===-1&&(l=!1,a=u+1),n===46?s===-1?s=u:c!==1&&(c=1):s!==-1&&(c=-1)}return s===-1||a===-1||c===0||c===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&r?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&r?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"},F1={};function me(t,e,n=3){if(F1[e])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(r=r.split(`
`).splice(n).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(r))),F1[e]=!0}let Wd;function ER(){return typeof Wd>"u"&&(Wd=function(){var n;const e={stencil:!0,failIfMajorPerformanceCaveat:Y.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!Y.ADAPTER.getWebGLRenderingContext())return!1;const r=Y.ADAPTER.createCanvas();let i=r.getContext("webgl",e)||r.getContext("experimental-webgl",e);const s=!!((n=i==null?void 0:i.getContextAttributes())!=null&&n.stencil);if(i){const o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,s}catch{return!1}}()),Wd}var SR="#f0f8ff",CR="#faebd7",TR="#00ffff",AR="#7fffd4",PR="#f0ffff",OR="#f5f5dc",IR="#ffe4c4",RR="#000000",MR="#ffebcd",kR="#0000ff",DR="#8a2be2",FR="#a52a2a",$R="#deb887",BR="#5f9ea0",LR="#7fff00",NR="#d2691e",UR="#ff7f50",jR="#6495ed",HR="#fff8dc",zR="#dc143c",GR="#00ffff",VR="#00008b",WR="#008b8b",XR="#b8860b",YR="#a9a9a9",qR="#006400",KR="#a9a9a9",ZR="#bdb76b",QR="#8b008b",JR="#556b2f",eM="#ff8c00",tM="#9932cc",nM="#8b0000",rM="#e9967a",iM="#8fbc8f",sM="#483d8b",oM="#2f4f4f",aM="#2f4f4f",lM="#00ced1",uM="#9400d3",cM="#ff1493",hM="#00bfff",dM="#696969",fM="#696969",pM="#1e90ff",gM="#b22222",mM="#fffaf0",vM="#228b22",yM="#ff00ff",xM="#dcdcdc",bM="#f8f8ff",wM="#daa520",_M="#ffd700",EM="#808080",SM="#008000",CM="#adff2f",TM="#808080",AM="#f0fff0",PM="#ff69b4",OM="#cd5c5c",IM="#4b0082",RM="#fffff0",MM="#f0e68c",kM="#fff0f5",DM="#e6e6fa",FM="#7cfc00",$M="#fffacd",BM="#add8e6",LM="#f08080",NM="#e0ffff",UM="#fafad2",jM="#d3d3d3",HM="#90ee90",zM="#d3d3d3",GM="#ffb6c1",VM="#ffa07a",WM="#20b2aa",XM="#87cefa",YM="#778899",qM="#778899",KM="#b0c4de",ZM="#ffffe0",QM="#00ff00",JM="#32cd32",ek="#faf0e6",tk="#ff00ff",nk="#800000",rk="#66cdaa",ik="#0000cd",sk="#ba55d3",ok="#9370db",ak="#3cb371",lk="#7b68ee",uk="#00fa9a",ck="#48d1cc",hk="#c71585",dk="#191970",fk="#f5fffa",pk="#ffe4e1",gk="#ffe4b5",mk="#ffdead",vk="#000080",yk="#fdf5e6",xk="#808000",bk="#6b8e23",wk="#ffa500",_k="#ff4500",Ek="#da70d6",Sk="#eee8aa",Ck="#98fb98",Tk="#afeeee",Ak="#db7093",Pk="#ffefd5",Ok="#ffdab9",Ik="#cd853f",Rk="#ffc0cb",Mk="#dda0dd",kk="#b0e0e6",Dk="#800080",Fk="#663399",$k="#ff0000",Bk="#bc8f8f",Lk="#4169e1",Nk="#8b4513",Uk="#fa8072",jk="#f4a460",Hk="#2e8b57",zk="#fff5ee",Gk="#a0522d",Vk="#c0c0c0",Wk="#87ceeb",Xk="#6a5acd",Yk="#708090",qk="#708090",Kk="#fffafa",Zk="#00ff7f",Qk="#4682b4",Jk="#d2b48c",e3="#008080",t3="#d8bfd8",n3="#ff6347",r3="#40e0d0",i3="#ee82ee",s3="#f5deb3",o3="#ffffff",a3="#f5f5f5",l3="#ffff00",u3="#9acd32",c3={aliceblue:SR,antiquewhite:CR,aqua:TR,aquamarine:AR,azure:PR,beige:OR,bisque:IR,black:RR,blanchedalmond:MR,blue:kR,blueviolet:DR,brown:FR,burlywood:$R,cadetblue:BR,chartreuse:LR,chocolate:NR,coral:UR,cornflowerblue:jR,cornsilk:HR,crimson:zR,cyan:GR,darkblue:VR,darkcyan:WR,darkgoldenrod:XR,darkgray:YR,darkgreen:qR,darkgrey:KR,darkkhaki:ZR,darkmagenta:QR,darkolivegreen:JR,darkorange:eM,darkorchid:tM,darkred:nM,darksalmon:rM,darkseagreen:iM,darkslateblue:sM,darkslategray:oM,darkslategrey:aM,darkturquoise:lM,darkviolet:uM,deeppink:cM,deepskyblue:hM,dimgray:dM,dimgrey:fM,dodgerblue:pM,firebrick:gM,floralwhite:mM,forestgreen:vM,fuchsia:yM,gainsboro:xM,ghostwhite:bM,goldenrod:wM,gold:_M,gray:EM,green:SM,greenyellow:CM,grey:TM,honeydew:AM,hotpink:PM,indianred:OM,indigo:IM,ivory:RM,khaki:MM,lavenderblush:kM,lavender:DM,lawngreen:FM,lemonchiffon:$M,lightblue:BM,lightcoral:LM,lightcyan:NM,lightgoldenrodyellow:UM,lightgray:jM,lightgreen:HM,lightgrey:zM,lightpink:GM,lightsalmon:VM,lightseagreen:WM,lightskyblue:XM,lightslategray:YM,lightslategrey:qM,lightsteelblue:KM,lightyellow:ZM,lime:QM,limegreen:JM,linen:ek,magenta:tk,maroon:nk,mediumaquamarine:rk,mediumblue:ik,mediumorchid:sk,mediumpurple:ok,mediumseagreen:ak,mediumslateblue:lk,mediumspringgreen:uk,mediumturquoise:ck,mediumvioletred:hk,midnightblue:dk,mintcream:fk,mistyrose:pk,moccasin:gk,navajowhite:mk,navy:vk,oldlace:yk,olive:xk,olivedrab:bk,orange:wk,orangered:_k,orchid:Ek,palegoldenrod:Sk,palegreen:Ck,paleturquoise:Tk,palevioletred:Ak,papayawhip:Pk,peachpuff:Ok,peru:Ik,pink:Rk,plum:Mk,powderblue:kk,purple:Dk,rebeccapurple:Fk,red:$k,rosybrown:Bk,royalblue:Lk,saddlebrown:Nk,salmon:Uk,sandybrown:jk,seagreen:Hk,seashell:zk,sienna:Gk,silver:Vk,skyblue:Wk,slateblue:Xk,slategray:Yk,slategrey:qk,snow:Kk,springgreen:Zk,steelblue:Qk,tan:Jk,teal:e3,thistle:t3,tomato:n3,turquoise:r3,violet:i3,wheat:s3,white:o3,whitesmoke:a3,yellow:l3,yellowgreen:u3};function Ka(t,e=[]){return e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function vS(t){let e=t.toString(16);return e="000000".substring(0,6-e.length)+e,`#${e}`}function dv(t){if(typeof t=="string"&&(t=c3[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1)),t.length===3)){const[e,n,r]=t;t=e+e+n+n+r+r}return parseInt(t,16)}function h3(){const t=[],e=[];for(let r=0;r<32;r++)t[r]=r,e[r]=r;t[ie.NORMAL_NPM]=ie.NORMAL,t[ie.ADD_NPM]=ie.ADD,t[ie.SCREEN_NPM]=ie.SCREEN,e[ie.NORMAL]=ie.NORMAL_NPM,e[ie.ADD]=ie.ADD_NPM,e[ie.SCREEN]=ie.SCREEN_NPM;const n=[];return n.push(e),n.push(t),n}const yS=h3();function xS(t,e){return yS[e?1:0][t]}function d3(t,e,n,r){return n=n||new Float32Array(4),r||r===void 0?(n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e):(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=e,n}function fv(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;let n=t>>16&255,r=t>>8&255,i=t&255;return n=n*e+.5|0,r=r*e+.5|0,i=i*e+.5|0,(e*255<<24)+(n<<16)+(r<<8)+i}function bS(t,e,n,r){return n=n||new Float32Array(4),n[0]=(t>>16&255)/255,n[1]=(t>>8&255)/255,n[2]=(t&255)/255,(r||r===void 0)&&(n[0]*=e,n[1]*=e,n[2]*=e),n[3]=e,n}function f3(t,e=null){const n=t*6;if(e=e||new Uint16Array(n),e.length!==n)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${n}`);for(let r=0,i=0;r<n;r+=6,i+=4)e[r+0]=i+0,e[r+1]=i+1,e[r+2]=i+2,e[r+3]=i+0,e[r+4]=i+2,e[r+5]=i+3;return e}function wS(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function $c(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function $1(t){return!(t&t-1)&&!!t}function B1(t){let e=(t>65535?1:0)<<4;t>>>=e;let n=(t>255?1:0)<<3;return t>>>=n,e|=n,n=(t>15?1:0)<<2,t>>>=n,e|=n,n=(t>3?1:0)<<1,t>>>=n,e|=n,e|t>>1}function Vs(t,e,n){const r=t.length;let i;if(e>=r||n===0)return;n=e+n>r?r-e:n;const s=r-n;for(i=e;i<s;++i)t[i]=t[i+n];t.length=s}function Fs(t){return t===0?0:t<0?-1:1}let p3=0;function $i(){return++p3}const _S=class{constructor(t,e,n,r){this.left=t,this.top=e,this.right=n,this.bottom=r}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let Wp=_S;Wp.EMPTY=new _S(0,0,0,0);const L1={},Hn=Object.create(null),Or=Object.create(null);class N1{constructor(e,n,r){this._canvas=Y.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=r||Y.RESOLUTION,this.resize(e,n)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,n){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(n*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function U1(t,e,n){for(let r=0,i=4*n*e;r<e;++r,i+=4)if(t[i+3]!==0)return!1;return!0}function j1(t,e,n,r,i){const s=4*e;for(let o=r,a=r*s+4*n;o<=i;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function g3(t){const{width:e,height:n}=t,r=t.getContext("2d",{willReadFrequently:!0});if(r===null)throw new TypeError("Failed to get canvas 2D context");const s=r.getImageData(0,0,e,n).data;let o=0,a=0,l=e-1,u=n-1;for(;a<n&&U1(s,e,a);)++a;if(a===n)return Wp.EMPTY;for(;U1(s,e,u);)--u;for(;j1(s,e,o,a,u);)++o;for(;j1(s,e,l,a,u);)--l;return++l,++u,new Wp(o,a,l,u)}function m3(t){const e=g3(t),{width:n,height:r}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,n,r)}return{width:n,height:r,data:i}}let eu;function v3(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location,eu||(eu=document.createElement("a")),eu.href=t;const n=xR.parse(eu.href),r=!n.port&&e.port===""||n.port===e.port;return n.hostname!==e.hostname||!r||n.protocol!==e.protocol?"anonymous":""}function Zr(t,e=1){var r;const n=(r=Y.RETINA_PREFIX)==null?void 0:r.exec(t);return n?parseFloat(n[1]):e}var X=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(X||{});const Xp=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},H1=(t,e)=>Xp(t).priority??e,J={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(Xp).forEach(e=>{e.type.forEach(n=>{var r,i;return(i=(r=this._removeHandlers)[n])==null?void 0:i.call(r,e)})}),this},add(...t){return t.map(Xp).forEach(e=>{e.type.forEach(n=>{const r=this._addHandlers,i=this._queue;r[n]?r[n](e):(i[n]=i[n]||[],i[n].push(e))})}),this},handle(t,e,n){const r=this._addHandlers,i=this._removeHandlers;if(r[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);r[t]=e,i[t]=n;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,n=>{e[n.name]=n.ref},n=>{delete e[n.name]})},handleByList(t,e,n=-1){return this.handle(t,r=>{e.includes(r.ref)||(e.push(r.ref),e.sort((i,s)=>H1(s,n)-H1(i,n)))},r=>{const i=e.indexOf(r.ref);i!==-1&&e.splice(i,1)})}};class Yp{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const y3=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function x3(t){let e="";for(let n=0;n<t;++n)n>0&&(e+=`
else `),n<t-1&&(e+=`if(test == ${n}.0){}`);return e}function b3(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const n=e.createShader(e.FRAGMENT_SHADER);for(;;){const r=y3.replace(/%forloop%/gi,x3(t));if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))t=t/2|0;else break}return t}const Xd=0,Yd=1,qd=2,Kd=3,Zd=4,Qd=5;class Er{constructor(){this.data=0,this.blendMode=ie.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Xd)}set blend(e){!!(this.data&1<<Xd)!==e&&(this.data^=1<<Xd)}get offsets(){return!!(this.data&1<<Yd)}set offsets(e){!!(this.data&1<<Yd)!==e&&(this.data^=1<<Yd)}get culling(){return!!(this.data&1<<qd)}set culling(e){!!(this.data&1<<qd)!==e&&(this.data^=1<<qd)}get depthTest(){return!!(this.data&1<<Kd)}set depthTest(e){!!(this.data&1<<Kd)!==e&&(this.data^=1<<Kd)}get depthMask(){return!!(this.data&1<<Qd)}set depthMask(e){!!(this.data&1<<Qd)!==e&&(this.data^=1<<Qd)}get clockwiseFrontFace(){return!!(this.data&1<<Zd)}set clockwiseFrontFace(e){!!(this.data&1<<Zd)!==e&&(this.data^=1<<Zd)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==ie.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new Er;return e.depthTest=!1,e.blend=!0,e}}const qp=[];function ES(t,e){if(!t)return null;let n="";if(typeof t=="string"){const r=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);r&&(n=r[1].toLowerCase())}for(let r=qp.length-1;r>=0;--r){const i=qp[r];if(i.test&&i.test(t,n))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class kn{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,n,r,i,s,o,a,l){if(arguments.length>8)throw new Error("max arguments reached");const{name:u,items:c}=this;this._aliasCount++;for(let h=0,d=c.length;h<d;h++)c[h][u](e,n,r,i,s,o,a,l);return c===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const n=this.items.indexOf(e);return n!==-1&&(this.ensureNonAliasedItems(),this.items.splice(n,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(kn.prototype,{dispatch:{value:kn.prototype.emit},run:{value:kn.prototype.emit}});class Za{constructor(e=0,n=0){this._width=e,this._height=n,this.destroyed=!1,this.internal=!1,this.onResize=new kn("setRealSize"),this.onUpdate=new kn("update"),this.onError=new kn("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,n){(e!==this._width||n!==this._height)&&(this._width=e,this._height=n,this.onResize.emit(e,n))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,n,r){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,n){return!1}}class pl extends Za{constructor(e,n){const{width:r,height:i}=n||{};if(!r||!i)throw new Error("BufferResource width or height invalid");super(r,i),this.data=e}upload(e,n,r){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Ln.UNPACK);const s=n.realWidth,o=n.realHeight;return r.width===s&&r.height===o?i.texSubImage2D(n.target,0,0,0,s,o,n.format,r.type,this.data):(r.width=s,r.height=o,i.texImage2D(n.target,0,r.internalFormat,s,o,0,n.format,r.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const w3={scaleMode:dr.NEAREST,format:W.RGBA,alphaMode:Ln.NPM},ns=class extends Di{constructor(t=null,e=null){super(),e=Object.assign({},ns.defaultOptions,e);const{alphaMode:n,mipmap:r,anisotropicLevel:i,scaleMode:s,width:o,height:a,wrapMode:l,format:u,type:c,target:h,resolution:d,resourceOptions:f}=e;t&&!(t instanceof Za)&&(t=ES(t,f),t.internal=!0),this.resolution=d||Y.RESOLUTION,this.width=Math.round((o||0)*this.resolution)/this.resolution,this.height=Math.round((a||0)*this.resolution)/this.resolution,this._mipmap=r,this.anisotropicLevel=i,this._wrapMode=l,this._scaleMode=s,this.format=u,this.type=c,this.target=h,this.alphaMode=n,this.uid=$i(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&a>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let n;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,n=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,n=!0),n&&this.dirtyStyleId++,this}setSize(t,e,n){return n=n||this.resolution,this.setRealSize(t*n,e*n,n)}setRealSize(t,e,n){return this.resolution=n||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=$1(this.realWidth)&&$1(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Or[this.cacheId],delete Hn[this.cacheId],this.cacheId=null),this.dispose(),ns.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,n=Y.STRICT_TEXTURE_CACHE){const r=typeof t=="string";let i=null;if(r)i=t;else{if(!t._pixiId){const o=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${o}_${$i()}`}i=t._pixiId}let s=Or[i];if(r&&n&&!s)throw new Error(`The cacheId "${i}" does not exist in BaseTextureCache.`);return s||(s=new ns(t,e),s.cacheId=i,ns.addToCache(s,i)),s}static fromBuffer(t,e,n,r){t=t||new Float32Array(e*n*4);const i=new pl(t,{width:e,height:n}),s=t instanceof Float32Array?ee.FLOAT:ee.UNSIGNED_BYTE;return new ns(i,Object.assign({},w3,r||{width:e,height:n,type:s}))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),Or[e]&&Or[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),Or[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=Or[t];if(e){const n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete Or[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete Or[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};let ue=ns;ue.defaultOptions={mipmap:nr.POW2,anisotropicLevel:0,scaleMode:dr.LINEAR,wrapMode:Xr.CLAMP,alphaMode:Ln.UNPACK,target:zs.TEXTURE_2D,format:W.RGBA,type:ee.UNSIGNED_BYTE};ue._globalBatch=0;class Kp{constructor(){this.texArray=null,this.blend=0,this.type=qn.TRIANGLES,this.start=0,this.size=0,this.data=null}}let _3=0,et=class SS{constructor(e,n=!0,r=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=n,this.id=_3++,this.disposeRunner=new kn("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Jn.ELEMENT_ARRAY_BUFFER:Jn.ARRAY_BUFFER}get index(){return this.type===Jn.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new SS(e)}};class Bc{constructor(e,n=0,r=!1,i=ee.FLOAT,s,o,a,l=1){this.buffer=e,this.size=n,this.normalized=r,this.type=i,this.stride=s,this.start=o,this.instance=a,this.divisor=l}destroy(){this.buffer=null}static from(e,n,r,i,s){return new Bc(e,n,r,i,s)}}const E3={Float32Array,Uint32Array,Int32Array,Uint8Array};function S3(t,e){let n=0,r=0;const i={};for(let l=0;l<t.length;l++)r+=e[l],n+=t[l].length;const s=new ArrayBuffer(n*4);let o=null,a=0;for(let l=0;l<t.length;l++){const u=e[l],c=t[l],h=wS(c);i[h]||(i[h]=new E3[h](s)),o=i[h];for(let d=0;d<c.length;d++){const f=(d/u|0)*r+a,p=d%u;o[f+p]=c[d]}a+=u}return new Float32Array(s)}const z1={5126:4,5123:2,5121:1};let C3=0;const T3={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Qr{constructor(e=[],n={}){this.buffers=e,this.indexBuffer=null,this.attributes=n,this.glVertexArrayObjects={},this.id=C3++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new kn("disposeGeometry"),this.refCount=0}addAttribute(e,n,r=0,i=!1,s,o,a,l=!1){if(!n)throw new Error("You must pass a buffer when creating an attribute");n instanceof et||(n instanceof Array&&(n=new Float32Array(n)),n=new et(n));const u=e.split("|");if(u.length>1){for(let h=0;h<u.length;h++)this.addAttribute(u[h],n,r,i,s);return this}let c=this.buffers.indexOf(n);return c===-1&&(this.buffers.push(n),c=this.buffers.length-1),this.attributes[e]=new Bc(c,r,i,s,o,a,l),this.instanced=this.instanced||l,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof et||(e instanceof Array&&(e=new Uint16Array(e)),e=new et(e)),e.type=Jn.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],n=[],r=new et;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),n.push(s.size*z1[s.type]/4),s.buffer=0}for(r.data=S3(e,n),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const n=this.attributes[e];return this.buffers[n.buffer].data.length/(n.stride/4||n.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Qr;for(let n=0;n<this.buffers.length;n++)e.buffers[n]=new et(this.buffers[n].data.slice(0));for(const n in this.attributes){const r=this.attributes[n];e.attributes[n]=new Bc(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Jn.ELEMENT_ARRAY_BUFFER),e}static merge(e){const n=new Qr,r=[],i=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)i[l]=i[l]||0,i[l]+=o.buffers[l].data.length,s[l]=0}for(let a=0;a<o.buffers.length;a++)r[a]=new T3[wS(o.buffers[a].data)](i[a]),n.buffers[a]=new et(r[a]);for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)r[l].set(o.buffers[l].data,s[l]),s[l]+=o.buffers[l].data.length}if(n.attributes=o.attributes,o.indexBuffer){n.indexBuffer=n.buffers[o.buffers.indexOf(o.indexBuffer)],n.indexBuffer.type=Jn.ELEMENT_ARRAY_BUFFER;let a=0,l=0,u=0,c=0;for(let h=0;h<o.buffers.length;h++)if(o.buffers[h]!==o.indexBuffer){c=h;break}for(const h in o.attributes){const d=o.attributes[h];(d.buffer|0)===c&&(l+=d.size*z1[d.type]/4)}for(let h=0;h<e.length;h++){const d=e[h].indexBuffer.data;for(let f=0;f<d.length;f++)n.indexBuffer.data[f+u]+=a;a+=e[h].buffers[c].data.length/l,u+=d.length}}return n}}class CS extends Qr{constructor(e=!1){super(),this._buffer=new et(null,e,!1),this._indexBuffer=new et(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,ee.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,ee.FLOAT).addAttribute("aColor",this._buffer,4,!0,ee.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,ee.FLOAT).addIndex(this._indexBuffer)}}const Lc=Math.PI*2,A3=180/Math.PI,P3=Math.PI/180;var ut=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(ut||{});class re{constructor(e=0,n=0){this.x=0,this.y=0,this.x=e,this.y=n}clone(){return new re(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,n=e){return this.x=e,this.y=n,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const tu=[new re,new re,new re,new re];class ce{constructor(e=0,n=0,r=0,i=0){this.x=Number(e),this.y=Number(n),this.width=Number(r),this.height=Number(i),this.type=ut.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new ce(0,0,0,0)}clone(){return new ce(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,n){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&n>=this.y&&n<this.y+this.height}intersects(e,n){if(!n){const A=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=A)return!1;const k=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>k}const r=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=r||o<=s)return!1;const a=tu[0].set(e.left,e.top),l=tu[1].set(e.left,e.bottom),u=tu[2].set(e.right,e.top),c=tu[3].set(e.right,e.bottom);if(u.x<=a.x||l.y<=a.y)return!1;const h=Math.sign(n.a*n.d-n.b*n.c);if(h===0||(n.apply(a,a),n.apply(l,l),n.apply(u,u),n.apply(c,c),Math.max(a.x,l.x,u.x,c.x)<=r||Math.min(a.x,l.x,u.x,c.x)>=i||Math.max(a.y,l.y,u.y,c.y)<=s||Math.min(a.y,l.y,u.y,c.y)>=o))return!1;const d=h*(l.y-a.y),f=h*(a.x-l.x),p=d*r+f*s,m=d*i+f*s,v=d*r+f*o,g=d*i+f*o;if(Math.max(p,m,v,g)<=d*a.x+f*a.y||Math.min(p,m,v,g)>=d*c.x+f*c.y)return!1;const y=h*(a.y-u.y),x=h*(u.x-a.x),b=y*r+x*s,S=y*i+x*s,E=y*r+x*o,C=y*i+x*o;return!(Math.max(b,S,E,C)<=y*a.x+x*a.y||Math.min(b,S,E,C)>=y*c.x+x*c.y)}pad(e=0,n=e){return this.x-=e,this.y-=n,this.width+=e*2,this.height+=n*2,this}fit(e){const n=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=n,this.width=Math.max(r-n,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,n=.001){const r=Math.ceil((this.x+this.width-n)*e)/e,i=Math.ceil((this.y+this.height-n)*e)/e;return this.x=Math.floor((this.x+n)*e)/e,this.y=Math.floor((this.y+n)*e)/e,this.width=r-this.x,this.height=i-this.y,this}enlarge(e){const n=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=n,this.width=r-n,this.y=i,this.height=s-i,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}let TS=class AS{constructor(e=0,n=0,r=0){this.x=e,this.y=n,this.radius=r,this.type=ut.CIRC}clone(){return new AS(this.x,this.y,this.radius)}contains(e,n){if(this.radius<=0)return!1;const r=this.radius*this.radius;let i=this.x-e,s=this.y-n;return i*=i,s*=s,i+s<=r}getBounds(){return new ce(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}};class pv{constructor(e=0,n=0,r=0,i=0){this.x=e,this.y=n,this.width=r,this.height=i,this.type=ut.ELIP}clone(){return new pv(this.x,this.y,this.width,this.height)}contains(e,n){if(this.width<=0||this.height<=0)return!1;let r=(e-this.x)/this.width,i=(n-this.y)/this.height;return r*=r,i*=i,r+i<=1}getBounds(){return new ce(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class Ws{constructor(...e){let n=Array.isArray(e[0])?e[0]:e;if(typeof n[0]!="number"){const r=[];for(let i=0,s=n.length;i<s;i++)r.push(n[i].x,n[i].y);n=r}this.points=n,this.type=ut.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),n=new Ws(e);return n.closeStroke=this.closeStroke,n}contains(e,n){let r=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],l=this.points[s*2+1],u=this.points[o*2],c=this.points[o*2+1];l>n!=c>n&&e<(u-a)*((n-l)/(c-l))+a&&(r=!r)}return r}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,n)=>`${e}, ${n}`,"")}]`}}class Qa{constructor(e=0,n=0,r=0,i=0,s=20){this.x=e,this.y=n,this.width=r,this.height=i,this.radius=s,this.type=ut.RREC}clone(){return new Qa(this.x,this.y,this.width,this.height,this.radius)}contains(e,n){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(n>=this.y+r&&n<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;let i=e-(this.x+r),s=n-(this.y+r);const o=r*r;if(i*i+s*s<=o||(i=e-(this.x+this.width-r),i*i+s*s<=o)||(s=n-(this.y+this.height-r),i*i+s*s<=o)||(i=e-(this.x+r),i*i+s*s<=o))return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}class ke{constructor(e=1,n=0,r=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,n,r,i,s,o){return this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=o,this}toArray(e,n){this.array||(this.array=new Float32Array(9));const r=n||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(e,n){n=n||new re;const r=e.x,i=e.y;return n.x=this.a*r+this.c*i+this.tx,n.y=this.b*r+this.d*i+this.ty,n}applyInverse(e,n){n=n||new re;const r=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return n.x=this.d*r*i+-this.c*r*s+(this.ty*this.c-this.tx*this.d)*r,n.y=this.a*r*s+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,n}translate(e,n){return this.tx+=e,this.ty+=n,this}scale(e,n){return this.a*=e,this.d*=n,this.c*=e,this.b*=n,this.tx*=e,this.ty*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*n-this.b*r,this.b=i*r+this.b*n,this.c=s*n-this.d*r,this.d=s*r+this.d*n,this.tx=o*n-this.ty*r,this.ty=o*r+this.ty*n,this}append(e){const n=this.a,r=this.b,i=this.c,s=this.d;return this.a=e.a*n+e.b*i,this.b=e.a*r+e.b*s,this.c=e.c*n+e.d*i,this.d=e.c*r+e.d*s,this.tx=e.tx*n+e.ty*i+this.tx,this.ty=e.tx*r+e.ty*s+this.ty,this}setTransform(e,n,r,i,s,o,a,l,u){return this.a=Math.cos(a+u)*s,this.b=Math.sin(a+u)*s,this.c=-Math.sin(a-l)*o,this.d=Math.cos(a-l)*o,this.tx=e-(r*this.a+i*this.c),this.ty=n-(r*this.b+i*this.d),this}prepend(e){const n=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const r=this.a,i=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=n*e.a+this.ty*e.c+e.tx,this.ty=n*e.b+this.ty*e.d+e.ty,this}decompose(e){const n=this.a,r=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),l=Math.atan2(r,n),u=Math.abs(a+l);return u<1e-5||Math.abs(Lc-u)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(n*n+r*r),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*n+o.y*i),e.position.y=this.ty+(o.x*r+o.y*s),e}invert(){const e=this.a,n=this.b,r=this.c,i=this.d,s=this.tx,o=e*i-n*r;return this.a=i/o,this.b=-n/o,this.c=-r/o,this.d=e/o,this.tx=(r*this.ty-i*s)/o,this.ty=-(e*this.ty-n*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new ke;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new ke}static get TEMP_MATRIX(){return new ke}}const di=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],fi=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],pi=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],gi=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Zp=[],PS=[],nu=Math.sign;function O3(){for(let t=0;t<16;t++){const e=[];Zp.push(e);for(let n=0;n<16;n++){const r=nu(di[t]*di[n]+pi[t]*fi[n]),i=nu(fi[t]*di[n]+gi[t]*fi[n]),s=nu(di[t]*pi[n]+pi[t]*gi[n]),o=nu(fi[t]*pi[n]+gi[t]*gi[n]);for(let a=0;a<16;a++)if(di[a]===r&&fi[a]===i&&pi[a]===s&&gi[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new ke;e.set(di[t],fi[t],pi[t],gi[t],0,0),PS.push(e)}}O3();const Fe={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>di[t],uY:t=>fi[t],vX:t=>pi[t],vY:t=>gi[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>Zp[t][e],sub:(t,e)=>Zp[t][Fe.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?Fe.S:Fe.N:Math.abs(e)*2<=Math.abs(t)?t>0?Fe.E:Fe.W:e>0?t>0?Fe.SE:Fe.SW:t>0?Fe.NE:Fe.NW,matrixAppendRotationInv:(t,e,n=0,r=0)=>{const i=PS[Fe.inv(e)];i.tx=n,i.ty=r,t.append(i)}};class Lr{constructor(e,n,r=0,i=0){this._x=r,this._y=i,this.cb=e,this.scope=n}clone(e=this.cb,n=this.scope){return new Lr(e,n,this._x,this._y)}set(e=0,n=e){return(this._x!==e||this._y!==n)&&(this._x=e,this._y=n,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=${0} y=${0} scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}const OS=class{constructor(){this.worldTransform=new ke,this.localTransform=new ke,this.position=new Lr(this.onChange,this,0,0),this.scale=new Lr(this.onChange,this,1,1),this.pivot=new Lr(this.onChange,this,0,0),this.skew=new Lr(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const n=t.worldTransform,r=this.worldTransform;r.a=e.a*n.a+e.b*n.c,r.b=e.a*n.b+e.b*n.d,r.c=e.c*n.a+e.d*n.c,r.d=e.c*n.b+e.d*n.d,r.tx=e.tx*n.a+e.ty*n.c+n.tx,r.ty=e.tx*n.b+e.ty*n.d+n.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};let gv=OS;gv.IDENTITY=new OS;var I3=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,R3=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function G1(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}function Jd(t){const e=new Array(t);for(let n=0;n<e.length;n++)e[n]=!1;return e}function IS(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Jd(2*e);case"bvec3":return Jd(3*e);case"bvec4":return Jd(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Xs=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],M3={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},k3={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function D3(t,e){var r;const n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){(r=t.uniforms[i])!=null&&r.group&&(t.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let a=!1;for(let l=0;l<Xs.length;l++)if(Xs[l].test(s,o)){n.push(Xs[l].code(i,o)),a=!0;break}if(!a){const u=(s.size===1&&!s.isArray?M3:k3)[s.type].replace("location",`ud["${i}"].location`);n.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${u};`)}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}const RS={};let Ji=RS;function F3(){if(Ji===RS||Ji!=null&&Ji.isContextLost()){const t=Y.ADAPTER.createCanvas();let e;Y.PREFER_ENV>=Hi.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Ji=e}return Ji}let ru;function $3(){if(!ru){ru=an.MEDIUM;const t=F3();t&&t.getShaderPrecisionFormat&&(ru=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?an.HIGH:an.MEDIUM)}return ru}function V1(t,e){const n=t.getShaderSource(e).split(`
`).map((u,c)=>`${c}: ${u}`),r=t.getShaderInfoLog(e),i=r.split(`
`),s={},o=i.map(u=>parseFloat(u.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(u=>u&&!s[u]?(s[u]=!0,!0):!1),a=[""];o.forEach(u=>{n[u-1]=`%c${n[u-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=n.join(`
`);a[0]=l,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function B3(t,e,n,r){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(n,t.COMPILE_STATUS)||V1(t,n),t.getShaderParameter(r,t.COMPILE_STATUS)||V1(t,r),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const L3={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function MS(t){return L3[t]}let iu=null;const W1={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function kS(t,e){if(!iu){const n=Object.keys(W1);iu={};for(let r=0;r<n.length;++r){const i=n[r];iu[t[i]]=W1[i]}}return iu[e]}function X1(t,e,n){if(t.substring(0,9)!=="precision"){let r=e;return e===an.HIGH&&n!==an.HIGH&&(r=an.MEDIUM),`precision ${r} float;
${t}`}else if(n!==an.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let Vo;function N3(){if(typeof Vo=="boolean")return Vo;try{Vo=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Vo=!1}return Vo}let U3=0;const su={},rs=class{constructor(t,e,n="pixi-shader",r={}){this.extra={},this.id=U3++,this.vertexSrc=t||rs.defaultVertexSrc,this.fragmentSrc=e||rs.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=r,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),su[n]?(su[n]++,n+=`-${su[n]}`):su[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=X1(this.vertexSrc,rs.defaultVertexPrecision,an.HIGH),this.fragmentSrc=X1(this.fragmentSrc,rs.defaultFragmentPrecision,$3())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return R3}static get defaultFragmentSrc(){return I3}static from(t,e,n){const r=t+e;let i=L1[r];return i||(L1[r]=i=new rs(t,e,n)),i}};let An=rs;An.defaultVertexPrecision=an.HIGH;An.defaultFragmentPrecision=fr.apple.device?an.HIGH:an.MEDIUM;let j3=0;class Dn{constructor(e,n,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=j3++,this.static=!!n,this.ubo=!!r,e instanceof et?(this.buffer=e,this.buffer.type=Jn.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new et(new Float32Array(1)),this.buffer.type=Jn.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,n,r){if(!this.ubo)this.uniforms[e]=new Dn(n,r);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,n,r){return new Dn(e,n,r)}static uboFrom(e,n){return new Dn(e,n??!0,!0)}}class er{constructor(e,n){this.uniformBindCount=0,this.program=e,n?n instanceof Dn?this.uniformGroup=n:this.uniformGroup=new Dn(n):this.uniformGroup=new Dn({}),this.disposeRunner=new kn("disposeShader")}checkUniformExists(e,n){if(n.uniforms[e])return!0;for(const r in n.uniforms){const i=n.uniforms[r];if(i.group&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,n,r){const i=An.from(e,n);return new er(i,r)}}class H3{constructor(e,n){if(this.vertexSrc=e,this.fragTemplate=n,this.programCache={},this.defaultGroupCache={},!n.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!n.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const r=new Int32Array(e);for(let s=0;s<e;s++)r[s]=s;this.defaultGroupCache[e]=Dn.from({uSamplers:r},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new An(this.vertexSrc,i)}const n={tint:new Float32Array([1,1,1,1]),translationMatrix:new ke,default:this.defaultGroupCache[e]};return new er(this.programCache[e],n)}generateSampleSrc(e){let n="";n+=`
`,n+=`
`;for(let r=0;r<e;r++)r>0&&(n+=`
else `),r<e-1&&(n+=`if(vTextureId < ${r}.5)`),n+=`
{`,n+=`
	color = texture2D(uSamplers[${r}], vTextureCoord);`,n+=`
}`;return n+=`
`,n+=`
`,n}}class Qp{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function z3(){return!fr.apple.device}function G3(t){let e=!0;const n=Y.ADAPTER.getNavigator();if(fr.tablet||fr.phone){if(fr.apple.device){const r=n.userAgent.match(/OS (\d+)_(\d+)?/);r&&parseInt(r[1],10)<11&&(e=!1)}if(fr.android.device){const r=n.userAgent.match(/Android\s([0-9.]*)/);r&&parseInt(r[1],10)<7&&(e=!1)}}return e?t:4}class kh{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var V3=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,W3=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const vn=class extends kh{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=CS,this.vertexSize=6,this.state=Er.for2d(),this.size=vn.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??G3(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??z3(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return me("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return W3}static get defaultFragmentTemplate(){return V3}setShaderGenerator({vertex:t=vn.defaultVertexSrc,fragment:e=vn.defaultFragmentTemplate}={}){this.shaderGenerator=new H3(t,e)}contextChange(){const t=this.renderer.gl;Y.PREFER_ENV===Hi.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),vn.defaultMaxTextures),this.maxTextures=b3(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=vn,n=this.size/4,r=Math.floor(n/this.maxTextures)+1;for(;t.length<n;)t.push(new Kp);for(;e.length<r;)e.push(new Qp);for(let i=0;i<this.maxTextures;i++)this._tempBoundTextures[i]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,n=vn._textureArrayPool,r=this.renderer.batch,i=this._tempBoundTextures,s=this.renderer.textureGC.count;let o=++ue._globalBatch,a=0,l=n[0],u=0;r.copyBoundTextures(i,e);for(let c=0;c<this._bufferSize;++c){const h=t[c];t[c]=null,h._batchEnabled!==o&&(l.count>=e&&(r.boundArray(l,i,o,e),this.buildDrawCalls(l,u,c),u=c,l=n[++a],++o),h._batchEnabled=o,h.touched=s,l.elements[l.count++]=h)}l.count>0&&(r.boundArray(l,i,o,e),this.buildDrawCalls(l,u,this._bufferSize),++a,++o);for(let c=0;c<i.length;c++)i[c]=null;ue._globalBatch=o}buildDrawCalls(t,e,n){const{_bufferedElements:r,_attributeBuffer:i,_indexBuffer:s,vertexSize:o}=this,a=vn._drawCallPool;let l=this._dcIndex,u=this._aIndex,c=this._iIndex,h=a[l];h.start=this._iIndex,h.texArray=t;for(let d=e;d<n;++d){const f=r[d],p=f._texture.baseTexture,m=yS[p.alphaMode?1:0][f.blendMode];r[d]=null,e<d&&h.blend!==m&&(h.size=c-h.start,e=d,h=a[++l],h.texArray=t,h.start=c),this.packInterleavedGeometry(f,i,s,u,c),u+=f.vertexData.length/2*o,c+=f.indices.length,h.blend=m}e<n&&(h.size=c-h.start,++l),this._dcIndex=l,this._aIndex=u,this._iIndex=c}bindAndClearTexArray(t){const e=this.renderer.texture;for(let n=0;n<t.count;n++)e.bind(t.elements[n],t.ids[n]),t.elements[n]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:n}=this;vn.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:n}=this.renderer,r=vn._drawCallPool;let i=null;for(let s=0;s<t;s++){const{texArray:o,type:a,size:l,start:u,blend:c}=r[s];i!==o&&(i=o,this.bindAndClearTexArray(o)),this.state.blendMode=c,n.set(this.state),e.drawElements(a,l,e.UNSIGNED_SHORT,u*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),vn.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=$c(Math.ceil(t/8)),n=B1(e),r=e*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let i=this._aBuffers[r];return i||(this._aBuffers[r]=i=new Yp(r*this.vertexSize*4)),i}getIndexBuffer(t){const e=$c(Math.ceil(t/12)),n=B1(e),r=e*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let i=this._iBuffers[n];return i||(this._iBuffers[n]=i=new Uint16Array(r)),i}packInterleavedGeometry(t,e,n,r,i){const{uint32View:s,float32View:o}=e,a=r/this.vertexSize,l=t.uvs,u=t.indices,c=t.vertexData,h=t._texture.baseTexture._batchLocation,d=Math.min(t.worldAlpha,1),f=d<1&&t._texture.baseTexture.alphaMode?fv(t._tintRGB,d):t._tintRGB+(d*255<<24);for(let p=0;p<c.length;p+=2)o[r++]=c[p],o[r++]=c[p+1],o[r++]=l[p],o[r++]=l[p+1],s[r++]=f,o[r++]=h;for(let p=0;p<u.length;p++)n[i++]=a+u[p]}};let Cn=vn;Cn.defaultBatchSize=4096;Cn.extension={name:"batch",type:X.RendererPlugin};Cn._drawCallPool=[];Cn._textureArrayPool=[];J.add(Cn);var X3=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,Y3=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const ua=class extends er{constructor(t,e,n){const r=An.from(t||ua.defaultVertexSrc,e||ua.defaultFragmentSrc);super(r,n),this.padding=0,this.resolution=ua.defaultResolution,this.multisample=ua.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Er}apply(t,e,n,r,i){t.applyFilter(this,e,n,r)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return Y3}static get defaultFragmentSrc(){return X3}};let ht=ua;ht.defaultResolution=1;ht.defaultMultisample=Ge.NONE;class DS{constructor(){this.clearBeforeRender=!0,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,1],this._backgroundColorString="#000000",this.color=this._backgroundColor,this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender,e.color&&(this.color=typeof e.color=="string"?dv(e.color):e.color),this.alpha=e.alpha}get color(){return this._backgroundColor}set color(e){this._backgroundColor=e,this._backgroundColorString=vS(e),Ka(e,this._backgroundColorRgba)}get alpha(){return this._backgroundColorRgba[3]}set alpha(e){this._backgroundColorRgba[3]=e}get colorRgba(){return this._backgroundColorRgba}get colorString(){return this._backgroundColorString}destroy(){}}DS.extension={type:[X.RendererSystem,X.CanvasRendererSystem],name:"background"};J.add(DS);class FS{constructor(e){this.renderer=e,this.emptyRenderer=new kh(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,n){const{boundTextures:r}=this.renderer.texture;for(let i=n-1;i>=0;--i)e[i]=r[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,n,r,i){const{elements:s,ids:o,count:a}=e;let l=0;for(let u=0;u<a;u++){const c=s[u],h=c._batchLocation;if(h>=0&&h<i&&n[h]===c){o[u]=h;continue}for(;l<i;){const d=n[l];if(d&&d._batchEnabled===r&&d._batchLocation===l){l++;continue}o[u]=l,c._batchLocation=l,n[l]=c;break}}}destroy(){this.renderer=null}}FS.extension={type:X.RendererSystem,name:"batch"};J.add(FS);let Y1=0;class $S{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=Y1++}init(e){if(e.context)this.initFromContext(e.context);else{const n=this.renderer.background.alpha<1,r=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:n,premultipliedAlpha:r,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=Y1++,this.renderer.runners.contextChange.emit(e);const n=this.renderer.view;n.addEventListener!==void 0&&(n.addEventListener("webglcontextlost",this.handleContextLost,!1),n.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const n=this.createContext(this.renderer.view,e);this.initFromContext(n)}createContext(e,n){let r;if(Y.PREFER_ENV>=Hi.WEBGL2&&(r=e.getContext("webgl2",n)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=e.getContext("webgl",n)||e.getContext("experimental-webgl",n),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,n={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,n,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,n,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const n=e.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),n&&!n.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}$S.extension={type:X.RendererSystem,name:"context"};J.add($S);class q3 extends pl{upload(e,n,r){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Ln.UNPACK);const s=n.realWidth,o=n.realHeight;return r.width===s&&r.height===o?i.texSubImage2D(n.target,0,0,0,s,o,n.format,r.type,this.data):(r.width=s,r.height=o,i.texImage2D(n.target,0,r.internalFormat,s,o,0,n.format,r.type,this.data)),!0}}class Jp{constructor(e,n){this.width=Math.round(e||100),this.height=Math.round(n||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new kn("disposeFramebuffer"),this.multisample=Ge.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,n){return this.colorTextures[e]=n||new ue(null,{scaleMode:dr.NEAREST,resolution:1,mipmap:nr.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new ue(new q3(null,{width:this.width,height:this.height}),{scaleMode:dr.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:nr.OFF,format:W.DEPTH_COMPONENT,type:ee.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,n){if(e=Math.round(e),n=Math.round(n),!(e===this.width&&n===this.height)){this.width=e,this.height=n,this.dirtyId++,this.dirtySize++;for(let r=0;r<this.colorTextures.length;r++){const i=this.colorTextures[r],s=i.resolution;i.setSize(e/s,n/s)}if(this.depthTexture){const r=this.depthTexture.resolution;this.depthTexture.setSize(e/r,n/r)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class BS extends ue{constructor(e={}){if(typeof e=="number"){const n=arguments[0],r=arguments[1],i=arguments[2],s=arguments[3];e={width:n,height:r,scaleMode:i,resolution:s}}e.width=e.width||100,e.height=e.height||100,e.multisample??(e.multisample=Ge.NONE),super(null,e),this.mipmap=nr.OFF,this.valid=!0,this.clearColor=[0,0,0,0],this.framebuffer=new Jp(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}resize(e,n){this.framebuffer.resize(e*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Jr extends Za{constructor(e){const n=e,r=n.naturalWidth||n.videoWidth||n.width,i=n.naturalHeight||n.videoHeight||n.height;super(r,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,n,r){r===void 0&&!n.startsWith("data:")?e.crossOrigin=v3(n):r!==!1&&(e.crossOrigin=typeof r=="string"?r:"anonymous")}upload(e,n,r,i){const s=e.gl,o=n.realWidth,a=n.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1&&i.buffered.length===0)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Ln.UNPACK),!this.noSubImage&&n.target===s.TEXTURE_2D&&r.width===o&&r.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,n.format,r.type,i):(r.width=o,r.height=a,s.texImage2D(n.target,0,r.internalFormat,n.format,r.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,n=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(n,r),super.update()}dispose(){this.source=null}}class LS extends Jr{constructor(e,n){if(n=n||{},typeof e=="string"){const r=new Image;Jr.crossOrigin(r,e,n.crossorigin),r.src=e,e=r}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(n.createBitmap??Y.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,this.bitmap=null,this._load=null,n.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((n,r)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.resize(i.width,i.height),this._load=null,this.createBitmap?n(this.process()):n(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{r(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const n=globalThis.createImageBitmap,r=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:r?"cors":"no-cors"}).then(i=>i.blob()).then(i=>n(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Ln.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,n,r){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,n,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,n,r,this.bitmap),!this.preserveBitmap){let i=!0;const s=n._glTextures;for(const o in s){const a=s[o];if(a!==r&&a.dirtyId!==n.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class NS{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,n,r){const i=n.width,s=n.height;if(r){const o=e.width/2/i,a=e.height/2/s,l=e.x/i+o,u=e.y/s+a;r=Fe.add(r,Fe.NW),this.x0=l+o*Fe.uX(r),this.y0=u+a*Fe.uY(r),r=Fe.add(r,2),this.x1=l+o*Fe.uX(r),this.y1=u+a*Fe.uY(r),r=Fe.add(r,2),this.x2=l+o*Fe.uX(r),this.y2=u+a*Fe.uY(r),r=Fe.add(r,2),this.x3=l+o*Fe.uX(r),this.y3=u+a*Fe.uY(r)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const q1=new NS;function ou(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class Q extends Di{constructor(e,n,r,i,s,o){if(super(),this.noFrame=!1,n||(this.noFrame=!0,n=new ce(0,0,1,1)),e instanceof Q&&(e=e.baseTexture),this.baseTexture=e,this._frame=n,this.trim=i,this.valid=!1,this._uvs=q1,this.uvMatrix=null,this.orig=r||n,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new re(o.x,o.y):new re(0,0),this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=n:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:n}=this.baseTexture;n!=null&&n.url&&Hn[n.url]&&Q.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,Q.removeFromCache(this),this.textureCacheIds=null}clone(){var i;const e=this._frame.clone(),n=this._frame===this.orig?e:this.orig.clone(),r=new Q(this.baseTexture,!this.noFrame&&e,n,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(r._frame=e),r}updateUvs(){this._uvs===q1&&(this._uvs=new NS),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,n={},r=Y.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof ue){if(!e.cacheId){const a=(n==null?void 0:n.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${$i()}`,ue.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(n==null?void 0:n.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${$i()}`}s=e._pixiId}let o=Hn[s];if(i&&r&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof ue)?(n.resolution||(n.resolution=Zr(e)),o=new Q(new ue(e,n)),o.baseTexture.cacheId=s,ue.addToCache(o.baseTexture,s),Q.addToCache(o,s)):!o&&e instanceof ue&&(o=new Q(e),Q.addToCache(o,s)),o}static fromURL(e,n){const r=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),i=Q.from(e,Object.assign({resourceOptions:r},n),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,n,r,i){return new Q(ue.fromBuffer(e,n,r,i))}static fromLoader(e,n,r,i){const s=new ue(e,Object.assign({scaleMode:ue.defaultOptions.scaleMode,resolution:Zr(n)},i)),{resource:o}=s;o instanceof LS&&(o.url=n);const a=new Q(s);return r||(r=n),ue.addToCache(a.baseTexture,r),Q.addToCache(a,r),r!==n&&(ue.addToCache(a.baseTexture,n),Q.addToCache(a,n)),a.baseTexture.valid?Promise.resolve(a):new Promise(l=>{a.baseTexture.once("loaded",()=>l(a))})}static addToCache(e,n){n&&(e.textureCacheIds.includes(n)||e.textureCacheIds.push(n),Hn[n]&&Hn[n]!==e&&console.warn(`Texture added to the cache with an id [${n}] that already had an entry`),Hn[n]=e)}static removeFromCache(e){if(typeof e=="string"){const n=Hn[e];if(n){const r=n.textureCacheIds.indexOf(e);return r>-1&&n.textureCacheIds.splice(r,1),delete Hn[e],n}}else if(e!=null&&e.textureCacheIds){for(let n=0;n<e.textureCacheIds.length;++n)Hn[e.textureCacheIds[n]]===e&&delete Hn[e.textureCacheIds[n]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:n,y:r,width:i,height:s}=e,o=n+i>this.baseTexture.width,a=r+s>this.baseTexture.height;if(o||a){const l=o&&a?"and":"or",u=`X: ${n} + ${i} = ${n+i} > ${this.baseTexture.width}`,c=`Y: ${r} + ${s} = ${r+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${u} ${l} ${c}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return Q._EMPTY||(Q._EMPTY=new Q(new ue),ou(Q._EMPTY),ou(Q._EMPTY.baseTexture)),Q._EMPTY}static get WHITE(){if(!Q._WHITE){const e=Y.ADAPTER.createCanvas(16,16),n=e.getContext("2d");e.width=16,e.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),Q._WHITE=new Q(ue.from(e)),ou(Q._WHITE),ou(Q._WHITE.baseTexture)}return Q._WHITE}}class ei extends Q{constructor(e,n){super(e,n),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,n,r=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(n*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,r&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:n}=this;n.resolution!==e&&(n.setResolution(e),this.resize(n.width,n.height,!1))}static create(e){return new ei(new BS(e))}}class US{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,n,r=Ge.NONE){const i=new BS(Object.assign({width:e,height:n,resolution:1,multisample:r},this.textureOptions));return new ei(i)}getOptimalTexture(e,n,r=1,i=Ge.NONE){let s;e=Math.ceil(e*r-1e-6),n=Math.ceil(n*r-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||n!==this._pixelsHeight?(e=$c(e),n=$c(n),s=((e&65535)<<16|n&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,n,i)),o.filterPoolKey=s,o.setResolution(r),o}getFilterTexture(e,n,r){const i=this.getOptimalTexture(e.width,e.height,n||e.resolution,r||Ge.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const n=e.filterPoolKey;e.filterFrame=null,this.texturePool[n].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const n in this.texturePool){const r=this.texturePool[n];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const n in this.texturePool){if(!(Number(n)<0))continue;const r=this.texturePool[n];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[n]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}US.SCREEN_KEY=-1;class K3 extends Qr{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class jS extends Qr{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new et(this.vertices),this.uvBuffer=new et(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,n){let r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+n.width/e.width,this.uvs[3]=i,this.uvs[4]=r+n.width/e.width,this.uvs[5]=i+n.height/e.height,this.uvs[6]=r,this.uvs[7]=i+n.height/e.height,r=n.x,i=n.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+n.width,this.vertices[3]=i,this.vertices[4]=r+n.width,this.vertices[5]=i+n.height,this.vertices[6]=r,this.vertices[7]=i+n.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class Z3{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Ge.NONE,this.sourceFrame=new ce,this.destinationFrame=new ce,this.bindingSourceFrame=new ce,this.bindingDestinationFrame=new ce,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const au=[new re,new re,new re,new re],ef=new ke;class HS{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new US,this.statePool=[],this.quad=new K3,this.quadUv=new jS,this.tempRect=new ce,this.activeState={},this.globalUniforms=new Dn({outputFrame:new ce,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,n){const r=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new Z3,o=this.renderer.renderTexture;let a=n[0].resolution,l=n[0].multisample,u=n[0].padding,c=n[0].autoFit,h=n[0].legacy??!0;for(let p=1;p<n.length;p++){const m=n[p];a=Math.min(a,m.resolution),l=Math.min(l,m.multisample),u=this.useMaxPadding?Math.max(u,m.padding):u+m.padding,c=c&&m.autoFit,h=h||(m.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=a,s.multisample=l,s.legacy=h,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(u);const d=this.tempRect.copyFrom(o.sourceFrame);r.projection.transform&&this.transformAABB(ef.copyFrom(r.projection.transform).invert(),d),c?(s.sourceFrame.fit(d),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(d)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:r.resolution,o.sourceFrame,o.destinationFrame,r.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,a,l),s.filters=n,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const f=this.tempRect;f.x=0,f.y=0,f.width=s.sourceFrame.width,f.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=r.projection.transform,r.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,f),r.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,n=e.pop(),r=n.filters;this.activeState=n;const i=this.globalUniforms.uniforms;i.outputFrame=n.sourceFrame,i.resolution=n.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=n.destinationFrame.width,s[1]=n.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*n.resolution),o[1]=Math.round(s[1]*n.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=n.sourceFrame.width*s[2]-.5*o[2],a[3]=n.sourceFrame.height*s[3]-.5*o[3],n.legacy){const u=i.filterArea;u[0]=n.destinationFrame.width,u[1]=n.destinationFrame.height,u[2]=n.sourceFrame.x,u[3]=n.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const l=e[e.length-1];if(this.renderer.framebuffer.blit(),r.length===1)r[0].apply(this,n.renderTexture,l.renderTexture,Gn.BLEND,n),this.returnFilterTexture(n.renderTexture);else{let u=n.renderTexture,c=this.getOptimalFilterTexture(u.width,u.height,n.resolution);c.filterFrame=u.filterFrame;let h=0;for(h=0;h<r.length-1;++h){h===1&&n.multisample>1&&(c=this.getOptimalFilterTexture(u.width,u.height,n.resolution),c.filterFrame=u.filterFrame),r[h].apply(this,u,c,Gn.CLEAR,n);const d=u;u=c,c=d}r[h].apply(this,u,l.renderTexture,Gn.BLEND,n),h>1&&n.multisample>1&&this.returnFilterTexture(n.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(c)}n.clear(),this.statePool.push(n)}bindAndClear(e,n=Gn.CLEAR){const{renderTexture:r,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e!=null&&e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,r.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(n===Gn.CLEAR||n===Gn.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,n,r,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(r,i),e.uniforms.uSampler=n,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(n._frame,n.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(qn.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(qn.TRIANGLE_STRIP))}calculateSpriteMatrix(e,n){const{sourceFrame:r,destinationFrame:i}=this.activeState,{orig:s}=n._texture,o=e.set(i.width,0,0,i.height,r.x,r.y),a=n.worldTransform.copyTo(ke.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(n.anchor.x,n.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,n,r=1,i=Ge.NONE){return this.texturePool.getOptimalTexture(e,n,r,i)}getFilterTexture(e,n,r){if(typeof e=="number"){const s=e;e=n,n=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,n||e.resolution,r||Ge.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,n){const r=au[0],i=au[1],s=au[2],o=au[3];r.set(n.left,n.top),i.set(n.left,n.bottom),s.set(n.right,n.top),o.set(n.right,n.bottom),e.apply(r,r),e.apply(i,i),e.apply(s,s),e.apply(o,o);const a=Math.min(r.x,i.x,s.x,o.x),l=Math.min(r.y,i.y,s.y,o.y),u=Math.max(r.x,i.x,s.x,o.x),c=Math.max(r.y,i.y,s.y,o.y);n.x=a,n.y=l,n.width=u-a,n.height=c-l}roundFrame(e,n,r,i,s){if(!(e.width<=0||e.height<=0||r.width<=0||r.height<=0)){if(s){const{a:o,b:a,c:l,d:u}=s;if((Math.abs(a)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(u)>1e-4))return}s=s?ef.copyFrom(s):ef.identity(),s.translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(n),this.transformAABB(s.invert(),e)}}}HS.extension={type:X.RendererSystem,name:"filter"};J.add(HS);class Q3{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Ge.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const J3=new ce;class zS{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new Jp(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new ce,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let n=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;Y.PREFER_ENV===Hi.WEBGL_LEGACY&&(n=null,r=null),n?e.drawBuffers=i=>n.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,n,r=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==r&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=r),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,r)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),n){const o=n.width>>r,a=n.height>>r,l=o/n.width;this.setViewport(n.x*l,n.y*l,o,a)}else{const o=e.width>>r,a=e.height>>r;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),n?this.setViewport(n.x,n.y,n.width,n.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,n,r,i){const s=this.viewport;e=Math.round(e),n=Math.round(n),r=Math.round(r),i=Math.round(i),(s.width!==r||s.height!==i||s.x!==e||s.y!==n)&&(s.x=e,s.y=n,s.width=r,s.height=i,this.gl.viewport(e,n,r,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,n,r,i,s=Lp.COLOR|Lp.DEPTH){const{gl:o}=this;o.clearColor(e,n,r,i),o.clear(s)}initFramebuffer(e){const{gl:n}=this,r=new Q3(n.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r}resizeFramebuffer(e){const{gl:n}=this,r=e.glFramebuffers[this.CONTEXT_UID];r.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,r.stencil),r.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height));const i=e.colorTextures;let s=i.length;n.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],l=a.parentTextureArray||a;this.renderer.texture.bind(l,0),o===0&&r.msaaBuffer&&(n.bindRenderbuffer(n.RENDERBUFFER,r.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,n){const{gl:r}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;r.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||r.createRenderbuffer():i.msaaBuffer&&(r.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let l=0;l<o;l++){const u=s[l],c=u.parentTextureArray||u;this.renderer.texture.bind(c,0),l===0&&i.msaaBuffer?(r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,i.msaaBuffer)):(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+l,u.target,c._glTextures[this.CONTEXT_UID].texture,n),a.push(r.COLOR_ATTACHMENT0+l))}if(a.length>1&&r.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const u=e.depthTexture;this.renderer.texture.bind(u,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,u._glTextures[this.CONTEXT_UID].texture,n)}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.stencil),i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,i.stencil)):i.stencil&&(r.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:n}=this;let r=Ge.NONE;if(e<=1||n===null)return r;for(let i=0;i<n.length;i++)if(n[i]<=e){r=n[i];break}return r===1&&(r=Ge.NONE),r}blit(e,n,r){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const l=i.glFramebuffers[a];if(!l)return;if(!e){if(!l.msaaBuffer)return;const c=i.colorTextures[0];if(!c)return;l.blitFramebuffer||(l.blitFramebuffer=new Jp(i.width,i.height),l.blitFramebuffer.addColorTexture(0,c)),e=l.blitFramebuffer,e.colorTextures[0]!==c&&(e.colorTextures[0]=c,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}n||(n=J3,n.width=i.width,n.height=i.height),r||(r=n);const u=n.width===r.width&&n.height===r.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,l.framebuffer),o.blitFramebuffer(n.left,n.top,n.right,n.bottom,r.left,r.top,r.right,r.bottom,o.COLOR_BUFFER_BIT,u?o.NEAREST:o.LINEAR)}disposeFramebuffer(e,n){const r=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!r)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),n||(i.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&i.deleteRenderbuffer(r.msaaBuffer),r.stencil&&i.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&r.blitFramebuffer.dispose()}disposeAll(e){const n=this.managedFramebuffers;this.managedFramebuffers=[];for(let r=0;r<n.length;r++)this.disposeFramebuffer(n[r],e)}forceStencil(){const e=this.current;if(!e)return;const n=e.glFramebuffers[this.CONTEXT_UID];if(!n||n.stencil)return;e.stencil=!0;const r=e.width,i=e.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),n.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,n.multisample,s.DEPTH24_STENCIL8,r,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,r,i),n.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new ce}destroy(){this.renderer=null}}zS.extension={type:X.RendererSystem,name:"framebuffer"};J.add(zS);const tf={5126:4,5123:2,5121:1};class GS{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,n=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,n.webGLVersion!==2){let r=this.renderer.context.extensions.vertexArrayObject;Y.PREFER_ENV===Hi.WEBGL_LEGACY&&(r=null),r?(e.createVertexArray=()=>r.createVertexArrayOES(),e.bindVertexArray=i=>r.bindVertexArrayOES(i),e.deleteVertexArray=i=>r.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(n.webGLVersion!==2){const r=e.getExtension("ANGLE_instanced_arrays");r?(e.vertexAttribDivisor=(i,s)=>r.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,a,l)=>r.drawElementsInstancedANGLE(i,s,o,a,l),e.drawArraysInstanced=(i,s,o,a)=>r.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=n.webGLVersion===2||!!n.extensions.uint32ElementIndex}bind(e,n){n=n||this.renderer.shader.shader;const{gl:r}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[n.program.id]||this.initGeometryVao(e,n,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?r.bindVertexArray(o):this.activateVao(e,n.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,n=this.renderer.buffer;for(let r=0;r<e.buffers.length;r++){const i=e.buffers[r];n.update(i)}}checkCompatibility(e,n){const r=e.attributes,i=n.attributeData;for(const s in i)if(!r[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,n){const r=e.attributes,i=n.attributeData,s=["g",e.id];for(const o in r)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,n,r=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=n.program;a.glPrograms[s]||this.renderer.shader.generateProgram(n),this.checkCompatibility(e,a);const l=this.getSignature(e,a),u=e.glVertexArrayObjects[this.CONTEXT_UID];let c=u[l];if(c)return u[a.id]=c,c;const h=e.buffers,d=e.attributes,f={},p={};for(const m in h)f[m]=0,p[m]=0;for(const m in d)!d[m].size&&a.attributeData[m]?d[m].size=a.attributeData[m].size:d[m].size||console.warn(`PIXI Geometry attribute '${m}' size cannot be determined (likely the bound shader does not have the attribute)`),f[d[m].buffer]+=d[m].size*tf[d[m].type];for(const m in d){const v=d[m],g=v.size;v.stride===void 0&&(f[v.buffer]===g*tf[v.type]?v.stride=0:v.stride=f[v.buffer]),v.start===void 0&&(v.start=p[v.buffer],p[v.buffer]+=g*tf[v.type])}c=i.createVertexArray(),i.bindVertexArray(c);for(let m=0;m<h.length;m++){const v=h[m];o.bind(v),r&&v._glBuffers[s].refCount++}return this.activateVao(e,a),u[a.id]=c,u[l]=c,i.bindVertexArray(null),o.unbind(Jn.ARRAY_BUFFER),c}disposeGeometry(e,n){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const r=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!r){if(o)for(let l=0;l<s.length;l++){const u=s[l]._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,u.refCount===0&&!n&&o.dispose(s[l],n))}if(!n){for(const l in r)if(l[0]==="g"){const u=r[l];this._activeVao===u&&this.unbind(),i.deleteVertexArray(u)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const n=Object.keys(this.managedGeometries);for(let r=0;r<n.length;r++)this.disposeGeometry(this.managedGeometries[n[r]],e)}activateVao(e,n){const r=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let l=null;for(const u in a){const c=a[u],h=o[c.buffer],d=h._glBuffers[i];if(n.attributeData[u]){l!==d&&(s.bind(h),l=d);const f=n.attributeData[u].location;if(r.enableVertexAttribArray(f),r.vertexAttribPointer(f,c.size,c.type||r.FLOAT,c.normalized,c.stride,c.start),c.instance)if(this.hasInstance)r.vertexAttribDivisor(f,c.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,n,r,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,l=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,n||o.indexBuffer.data.length,l,(r||0)*a,i||1):s.drawElements(e,n||o.indexBuffer.data.length,l,(r||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,r,n||o.getSize(),i||1):s.drawArrays(e,r,n||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}GS.extension={type:X.RendererSystem,name:"geometry"};J.add(GS);const K1=new ke;class VS{constructor(e,n){this._texture=e,this.mapCoord=new ke,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof n>"u"?.5:n,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,n){n===void 0&&(n=e);const r=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];n[i]=s*r.a+o*r.c+r.tx,n[i+1]=s*r.b+o*r.d+r.ty}return n}update(e){const n=this._texture;if(!n||!n.valid||!e&&this._textureID===n._updateID)return!1;this._textureID=n._updateID,this._updateID++;const r=n._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const i=n.orig,s=n.trim;s&&(K1.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(K1));const o=n.baseTexture,a=this.uClampFrame,l=this.clampMargin/o.resolution,u=this.clampOffset;return a[0]=(n._frame.x+l+u)/o.width,a[1]=(n._frame.y+l+u)/o.height,a[2]=(n._frame.x+n._frame.width-l+u)/o.width,a[3]=(n._frame.y+n._frame.height-l+u)/o.height,this.uClampOffset[0]=u/o.realWidth,this.uClampOffset[1]=u/o.realHeight,this.isSimple=n._frame.width===o.width&&n._frame.height===o.height&&n.rotate===0,!0}}var eD=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,tD=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class nD extends ht{constructor(e,n,r){let i=null;typeof e!="string"&&n===void 0&&r===void 0&&(i=e,e=void 0,n=void 0,r=void 0),super(e||tD,n||eD,r),this.maskSprite=i,this.maskMatrix=new ke}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,n,r,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new VS(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,n,r,i))}}class rD{constructor(e=null){this.type=Qe.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=ht.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Qe.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class WS{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,n){let r=n;if(!r.isMaskData){const s=this.maskDataPool.pop()||new rD;s.pooled=!0,s.maskObject=n,r=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(i),r._colorMask=i?i._colorMask:15,r.autoDetect&&this.detect(r),r._target=e,r.type!==Qe.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case Qe.SCISSOR:this.renderer.scissor.push(r);break;case Qe.STENCIL:this.renderer.stencil.push(r);break;case Qe.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case Qe.COLOR:this.pushColorMask(r);break}r.type===Qe.SPRITE&&this.maskStack.push(r)}pop(e){const n=this.maskStack.pop();if(!(!n||n._target!==e)){if(n.enabled)switch(n.type){case Qe.SCISSOR:this.renderer.scissor.pop(n);break;case Qe.STENCIL:this.renderer.stencil.pop(n.maskObject);break;case Qe.SPRITE:this.popSpriteMask(n);break;case Qe.COLOR:this.popColorMask(n);break}if(n.reset(),n.pooled&&this.maskDataPool.push(n),this.maskStack.length!==0){const r=this.maskStack[this.maskStack.length-1];r.type===Qe.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}}detect(e){const n=e.maskObject;n?n.isSprite?e.type=Qe.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Qe.SCISSOR:e.type=Qe.STENCIL:e.type=Qe.COLOR}pushSpriteMask(e){const{maskObject:n}=e,r=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new nD]));const s=this.renderer,o=s.renderTexture;let a,l;if(o.current){const c=o.current;a=e.resolution||c.resolution,l=e.multisample??c.multisample}else a=e.resolution||s.resolution,l=e.multisample??s.multisample;i[0].resolution=a,i[0].multisample=l,i[0].maskSprite=n;const u=r.filterArea;r.filterArea=n.getBounds(!0),s.filter.push(r,i),r.filterArea=u,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const n=e._colorMask,r=e._colorMask=n&e.colorMask;r!==n&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}popColorMask(e){const n=e._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==n&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}destroy(){this.renderer=null}}WS.extension={type:X.RendererSystem,name:"mask"};J.add(WS);class XS{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:n}=this.renderer,r=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==r&&(i===0?n.disable(this.glConst):(n.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const Z1=new ke,Q1=[],Vu=class extends XS{constructor(t){super(t),this.glConst=Y.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:n}=t,{renderer:r}=this,i=r.renderTexture,s=n.getBounds(!0,Q1.pop()??new ce);this.roundFrameToPixels(s,i.current?i.current.resolution:r.resolution,i.sourceFrame,i.destinationFrame,r.projection.transform),e&&s.fit(e),t._scissorRectLocal=s}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:n,c:r,d:i}=t;return(Math.abs(n)>1e-4||Math.abs(r)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||Vu.isMatrixRotated(e.worldTransform)||Vu.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const n=t._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(t,e,n,r,i){Vu.isMatrixRotated(i)||(i=i?Z1.copyFrom(i):Z1.identity(),i.translate(-n.x,-n.y).scale(r.width/n.width,r.height/n.height).translate(r.x,r.y),this.renderer.filter.transformAABB(i,t),t.fit(r),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&Q1.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};let YS=Vu;YS.extension={type:X.RendererSystem,name:"scissor"};J.add(YS);class qS extends XS{constructor(e){super(e),this.glConst=Y.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const n=e.maskObject,{gl:r}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,i,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,s!==0&&(e._colorMask=s,r.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const n=this.renderer.gl;if(this.getStackLength()===0)n.disable(n.STENCIL_TEST);else{const r=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=r?r._colorMask:15;i!==0&&(r._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilOp(n.KEEP,n.KEEP,n.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(r._colorMask=i,n.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}qS.extension={type:X.RendererSystem,name:"stencil"};J.add(qS);class KS{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return me("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return me("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return me("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(e){for(const n in e)this.plugins[n]=new e[n](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}KS.extension={type:[X.RendererSystem,X.CanvasRendererSystem],name:"_plugin"};J.add(KS);class ZS{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new ke,this.transform=null}update(e,n,r,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=n||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,n,r,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/n.width*2,s.d=o*(1/n.height*2),s.tx=-1-n.x*s.a,s.ty=-o-n.y*s.d}setTransform(e){}destroy(){this.renderer=null}}ZS.extension={type:X.RendererSystem,name:"projection"};J.add(ZS);const iD=new gv;class QS{constructor(e){this.renderer=e,this._tempMatrix=new ke}generateTexture(e,n){const{region:r,...i}=n||{},s=r||e.getLocalBounds(null,!0);s.width===0&&(s.width=1),s.height===0&&(s.height=1);const o=ei.create({width:s.width,height:s.height,...i});this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const a=e.transform;return e.transform=iD,this.renderer.render(e,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=a,o}destroy(){}}QS.extension={type:[X.RendererSystem,X.CanvasRendererSystem],name:"textureGenerator"};J.add(QS);const oi=new ce,Wo=new ce;class JS{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new ce,this.destinationFrame=new ce,this.viewportFrame=new ce}bind(e=null,n,r){const i=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,n||(oi.width=e.frame.width,oi.height=e.frame.height,n=oi),r||(Wo.x=e.frame.x,Wo.y=e.frame.y,Wo.width=n.width,Wo.height=n.height,r=Wo),o=s.framebuffer):(a=i.resolution,n||(oi.width=i._view.screen.width,oi.height=i._view.screen.height,n=oi),r||(r=oi,r.width=n.width,r.height=n.height));const l=this.viewportFrame;l.x=r.x*a,l.y=r.y*a,l.width=r.width*a,l.height=r.height*a,e||(l.y=i.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(o,l),this.renderer.projection.update(r,n,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(n),this.destinationFrame.copyFrom(r)}clear(e,n){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.renderer.background.colorRgba;const r=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer._view.screen,s=r.width!==i.width||r.height!==i.height;if(s){let{x:o,y:a,width:l,height:u}=this.viewportFrame;o=Math.round(o),a=Math.round(a),l=Math.round(l),u=Math.round(u),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(o,a,l,u)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],n),s&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}JS.extension={type:X.RendererSystem,name:"renderTexture"};J.add(JS);class sD{constructor(e,n){this.program=e,this.uniformData=n,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function oD(t,e){const n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=kS(e,s.type),a={type:o,name:s.name,size:MS(o),location:e.getAttribLocation(t,s.name)};n[s.name]=a}return n}function aD(t,e){const n={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),l=kS(e,s.type);n[o]={name:o,index:i,type:l,size:s.size,isArray:a,value:IS(l,s.size)}}return n}function lD(t,e){var l;const n=G1(t,t.VERTEX_SHADER,e.vertexSrc),r=G1(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,n),t.attachShader(i,r);const s=(l=e.extra)==null?void 0:l.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||B3(t,i,n,r),e.attributeData=oD(i,t),e.uniformData=aD(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const u=Object.keys(e.attributeData);u.sort((c,h)=>c>h?1:-1);for(let c=0;c<u.length;c++)e.attributeData[u[c]].location=c,t.bindAttribLocation(i,c,u[c]);t.linkProgram(i)}t.deleteShader(n),t.deleteShader(r);const o={};for(const u in e.uniformData){const c=e.uniformData[u];o[u]={location:t.getUniformLocation(i,u),value:IS(c.type,c.size)}}return new sD(i,o)}function uD(t,e,n,r,i){n.buffer.update(i)}const cD={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},eC={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function hD(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let n=0,r=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(n=eC[o.data.type],o.data.size>1&&(n=Math.max(n,16)*o.data.size),o.dataLen=n,r%n!==0&&r<16){const a=r%n%16;r+=a,i+=a}r+n>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=n,r=n):(o.offset=i,r+=n,i+=n)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function dD(t,e){const n=[];for(const r in t)e[r]&&n.push(e[r]);return n.sort((r,i)=>r.index-i.index),n}function fD(t,e){if(!t.autoManage)return{size:0,syncFunc:uD};const n=dD(t.uniforms,e),{uboElements:r,size:i}=hD(n),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<r.length;o++){const a=r[o],l=t.uniforms[a.data.name],u=a.data.name;let c=!1;for(let h=0;h<Xs.length;h++){const d=Xs[h];if(d.codeUbo&&d.test(a.data,l)){s.push(`offset = ${a.offset/4};`,Xs[h].codeUbo(a.data.name,l)),c=!0;break}}if(!c)if(a.data.size>1){const h=MS(a.data.type),d=Math.max(eC[a.data.type]/16,1),f=h/d,p=(4-f%4)%4;s.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*d}; i++)
                {
                    for(var j = 0; j < ${f}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${p};
                }

                `)}else{const h=cD[a.data.type];s.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${a.offset/4};
                ${h};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let pD=0;const lu={textureCount:0,uboCount:0};class tC{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=pD++}systemCheck(){if(!N3())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,n){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const r=e.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),n||(lu.textureCount=0,lu.uboCount=0,this.syncUniformGroup(e.uniformGroup,lu)),i}setUniforms(e){const n=this.shader.program,r=n.glPrograms[this.renderer.CONTEXT_UID];n.syncUniforms(r.uniformData,e,this.renderer)}syncUniformGroup(e,n){const r=this.getGlProgram();(!e.static||e.dirtyId!==r.uniformDirtyGroups[e.id])&&(r.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,n))}syncUniforms(e,n,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(n.uniformData,e.uniforms,this.renderer,r)}createSyncGroups(e){const n=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[n]||(this.cache[n]=D3(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[n],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,n){const r=this.getGlProgram();if(!e.static||e.dirtyId!==0||!r.uniformGroups[e.id]){e.dirtyId=0;const i=r.uniformGroups[e.id]||this.createSyncBufferGroup(e,r,n);e.buffer.update(),i(r.uniformData,e.uniforms,this.renderer,lu,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,r.uniformBufferBindings[n])}createSyncBufferGroup(e,n,r){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(n.program,r);n.uniformBufferBindings[r]=this.shader.uniformBindCount,i.uniformBlockBinding(n.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=fD(e,this.shader.program.uniformData)),e.autoManage){const l=new Float32Array(a.size/4);e.buffer.update(l)}return n.uniformGroups[e.id]=a.syncFunc,n.uniformGroups[e.id]}getSignature(e,n,r){const i=e.uniforms,s=[`${r}-`];for(const o in i)s.push(o),n[o]&&s.push(n[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const n=this.gl,r=e.program,i=lD(n,r);return r.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}tC.extension={type:X.RendererSystem,name:"shader"};J.add(tC);class nC{constructor(e){this.renderer=e}run(e){const n=this.renderer;n.emitWithCustomOptions(n.runners.init,e),e.hello&&console.log(`PixiJS 7.1.4 - ${n.rendererLogId} - https://pixijs.com`),n.resize(this.renderer.screen.width,this.renderer.screen.height)}destroy(){}}nC.extension={type:[X.RendererSystem,X.CanvasRendererSystem],name:"startup"};J.add(nC);function gD(t,e=[]){return e[ie.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ie.ADD]=[t.ONE,t.ONE],e[ie.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ie.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ie.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ie.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ie.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ie.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ie.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ie.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ie.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ie.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ie.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ie.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ie.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ie.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ie.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ie.NONE]=[0,0],e[ie.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ie.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[ie.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ie.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[ie.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[ie.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ie.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[ie.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[ie.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[ie.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[ie.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ie.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const mD=0,vD=1,yD=2,xD=3,bD=4,wD=5,eg=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=ie.NONE,this._blendEq=!1,this.map=[],this.map[mD]=this.setBlend,this.map[vD]=this.setOffset,this.map[yD]=this.setCullFace,this.map[xD]=this.setDepthTest,this.map[bD]=this.setFrontFace,this.map[wD]=this.setDepthMask,this.checks=[],this.defaultState=new Er,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=gD(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,n=0;for(;e;)e&1&&this.map[n].call(this,!!(t.data&1<<n)),e=e>>1,n++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(eg.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(eg.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],n=this.gl;e.length===2?n.blendFunc(e[0],e[1]):n.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,n.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const n=this.checks.indexOf(t);e&&n===-1?this.checks.push(t):!e&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let rC=eg;rC.extension={type:X.RendererSystem,name:"state"};J.add(rC);class _D extends Di{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const n=(e.priority??[]).filter(i=>e.systems[i]),r=[...n,...Object.keys(e.systems).filter(i=>!n.includes(i))];for(const i of r)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(n=>{this.runners[n]=new kn(n)})}addSystem(e,n){const r=new e(this);if(this[n])throw new Error(`Whoops! The name "${n}" is already in use`);this[n]=r,this._systemsHash[n]=r;for(const i in this.runners)this.runners[i].add(r);return this}emitWithCustomOptions(e,n){const r=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=r.find(o=>this._systemsHash[o]===i);i[e.name](n[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const Wu=class{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=Wu.defaultMaxIdle,this.checkCountMax=Wu.defaultCheckCountMax,this.mode=Wu.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==hv.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let n=!1;for(let r=0;r<e.length;r++){const i=e[r];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[r]=null,n=!0)}if(n){let r=0;for(let i=0;i<e.length;i++)e[i]!==null&&(e[r++]=e[i]);e.length=r}}unload(t){const e=this.renderer.texture,n=t._texture;n&&!n.framebuffer&&e.destroyTexture(n);for(let r=t.children.length-1;r>=0;r--)this.unload(t.children[r])}destroy(){this.renderer=null}};let Tn=Wu;Tn.defaultMode=hv.AUTO;Tn.defaultMaxIdle=60*60;Tn.defaultCheckCountMax=60*10;Tn.extension={type:X.RendererSystem,name:"textureGC"};J.add(Tn);class nf{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=ee.UNSIGNED_BYTE,this.internalFormat=W.RGBA,this.samplerType=0}}function ED(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[ee.UNSIGNED_BYTE]:{[W.RGBA]:t.RGBA8,[W.RGB]:t.RGB8,[W.RG]:t.RG8,[W.RED]:t.R8,[W.RGBA_INTEGER]:t.RGBA8UI,[W.RGB_INTEGER]:t.RGB8UI,[W.RG_INTEGER]:t.RG8UI,[W.RED_INTEGER]:t.R8UI,[W.ALPHA]:t.ALPHA,[W.LUMINANCE]:t.LUMINANCE,[W.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ee.BYTE]:{[W.RGBA]:t.RGBA8_SNORM,[W.RGB]:t.RGB8_SNORM,[W.RG]:t.RG8_SNORM,[W.RED]:t.R8_SNORM,[W.RGBA_INTEGER]:t.RGBA8I,[W.RGB_INTEGER]:t.RGB8I,[W.RG_INTEGER]:t.RG8I,[W.RED_INTEGER]:t.R8I},[ee.UNSIGNED_SHORT]:{[W.RGBA_INTEGER]:t.RGBA16UI,[W.RGB_INTEGER]:t.RGB16UI,[W.RG_INTEGER]:t.RG16UI,[W.RED_INTEGER]:t.R16UI,[W.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[ee.SHORT]:{[W.RGBA_INTEGER]:t.RGBA16I,[W.RGB_INTEGER]:t.RGB16I,[W.RG_INTEGER]:t.RG16I,[W.RED_INTEGER]:t.R16I},[ee.UNSIGNED_INT]:{[W.RGBA_INTEGER]:t.RGBA32UI,[W.RGB_INTEGER]:t.RGB32UI,[W.RG_INTEGER]:t.RG32UI,[W.RED_INTEGER]:t.R32UI,[W.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[ee.INT]:{[W.RGBA_INTEGER]:t.RGBA32I,[W.RGB_INTEGER]:t.RGB32I,[W.RG_INTEGER]:t.RG32I,[W.RED_INTEGER]:t.R32I},[ee.FLOAT]:{[W.RGBA]:t.RGBA32F,[W.RGB]:t.RGB32F,[W.RG]:t.RG32F,[W.RED]:t.R32F,[W.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[ee.HALF_FLOAT]:{[W.RGBA]:t.RGBA16F,[W.RGB]:t.RGB16F,[W.RG]:t.RG16F,[W.RED]:t.R16F},[ee.UNSIGNED_SHORT_5_6_5]:{[W.RGB]:t.RGB565},[ee.UNSIGNED_SHORT_4_4_4_4]:{[W.RGBA]:t.RGBA4},[ee.UNSIGNED_SHORT_5_5_5_1]:{[W.RGBA]:t.RGB5_A1},[ee.UNSIGNED_INT_2_10_10_10_REV]:{[W.RGBA]:t.RGB10_A2,[W.RGBA_INTEGER]:t.RGB10_A2UI},[ee.UNSIGNED_INT_10F_11F_11F_REV]:{[W.RGB]:t.R11F_G11F_B10F},[ee.UNSIGNED_INT_5_9_9_9_REV]:{[W.RGB]:t.RGB9_E5},[ee.UNSIGNED_INT_24_8]:{[W.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[ee.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[W.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[ee.UNSIGNED_BYTE]:{[W.RGBA]:t.RGBA,[W.RGB]:t.RGB,[W.ALPHA]:t.ALPHA,[W.LUMINANCE]:t.LUMINANCE,[W.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ee.UNSIGNED_SHORT_5_6_5]:{[W.RGB]:t.RGB},[ee.UNSIGNED_SHORT_4_4_4_4]:{[W.RGBA]:t.RGBA},[ee.UNSIGNED_SHORT_5_5_5_1]:{[W.RGBA]:t.RGBA}},e}class iC{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new ue,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=ED(e);const n=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=n;for(let i=0;i<n;i++)this.boundTextures[i]=null;this.emptyTextures={};const r=new nf(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new nf(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,n=0){const{gl:r}=this;if(e=e==null?void 0:e.castToBaseTexture(),e!=null&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[n]!==e&&(this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),r.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[n]=e}else this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[n]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:n,boundTextures:r}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<r.length;i++)r[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<r.length;i++)r[i]===e&&(this.currentLocation!==i&&(n.activeTexture(n.TEXTURE0+i),this.currentLocation=i),n.bindTexture(e.target,this.emptyTextures[e.target].texture),r[i]=null)}ensureSamplerType(e){const{boundTextures:n,hasIntegerTextures:r,CONTEXT_UID:i}=this;if(r)for(let s=e-1;s>=0;--s){const o=n[s];o&&o._glTextures[i].samplerType!==Np.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const n=new nf(this.gl.createTexture());return n.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=n,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),n}initTextureType(e,n){var r;n.internalFormat=((r=this.internalFormats[e.type])==null?void 0:r[e.format])??e.format,this.webGLVersion===2&&e.type===ee.HALF_FLOAT?n.type=this.gl.HALF_FLOAT:n.type=e.type}updateTexture(e){var i;const n=e._glTextures[this.CONTEXT_UID];if(!n)return;const r=this.renderer;if(this.initTextureType(e,n),(i=e.resource)!=null&&i.upload(r,e,n))n.samplerType!==Np.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=r.gl;(n.width!==s||n.height!==o||n.dirtyId<0)&&(n.width=s,n.height=o,a.texImage2D(e.target,0,n.internalFormat,s,o,0,e.format,n.type,null))}e.dirtyStyleId!==n.dirtyStyleId&&this.updateTextureStyle(e),n.dirtyId=e.dirtyId}destroyTexture(e,n){const{gl:r}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!n)){const i=this.managedTextures.indexOf(e);i!==-1&&Vs(this.managedTextures,i,1)}}updateTextureStyle(e){var r;const n=e._glTextures[this.CONTEXT_UID];n&&((e.mipmap===nr.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?n.mipmap=!1:n.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?n.wrapMode=Xr.CLAMP:n.wrapMode=e.wrapMode,(r=e.resource)!=null&&r.style(this.renderer,e,n)||this.setStyle(e,n),n.dirtyStyleId=e.dirtyStyleId)}setStyle(e,n){const r=this.gl;if(n.mipmap&&e.mipmap!==nr.ON_MANUAL&&r.generateMipmap(e.target),r.texParameteri(e.target,r.TEXTURE_WRAP_S,n.wrapMode),r.texParameteri(e.target,r.TEXTURE_WRAP_T,n.wrapMode),n.mipmap){r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===dr.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===dr.LINEAR){const s=Math.min(e.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===dr.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(e.target,r.TEXTURE_MAG_FILTER,e.scaleMode===dr.LINEAR?r.LINEAR:r.NEAREST)}destroy(){this.renderer=null}}iC.extension={type:X.RendererSystem,name:"texture"};J.add(iC);class sC{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glTransformFeedbacks[r]||this.createGLTransformFeedback(e);n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,n){const{gl:r,renderer:i}=this;n&&i.shader.bind(n),r.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:n,renderer:r,CONTEXT_UID:i}=this,s=n.createTransformFeedback();e._glTransformFeedbacks[i]=s,n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(r.buffer.update(a),a._glBuffers[i].refCount++,n.bindBufferBase(n.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,n){const r=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const l=a._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!n&&s.dispose(a,n))}r&&(n||i.deleteTransformFeedback(r),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}sC.extension={type:X.RendererSystem,name:"transformFeedback"};J.add(sC);class oC{constructor(e){this.renderer=e}init(e){this.screen=new ce(0,0,e.width,e.height),this.element=e.view||Y.ADAPTER.createCanvas(),this.resolution=e.resolution||Y.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,n){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(n*this.resolution);const r=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=r,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${r}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",r,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var n;e&&((n=this.element.parentNode)==null||n.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}oC.extension={type:[X.RendererSystem,X.CanvasRendererSystem],name:"_view"};J.add(oC);Y.PREFER_ENV=Hi.WEBGL2;Y.STRICT_TEXTURE_CACHE=!1;Object.defineProperties(Y,{WRAP_MODE:{get(){return ue.defaultOptions.wrapMode},set(t){me("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),ue.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return ue.defaultOptions.scaleMode},set(t){me("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),ue.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return ue.defaultOptions.mipmap},set(t){me("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),ue.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return ue.defaultOptions.anisotropicLevel},set(t){me("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),ue.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return me("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),ht.defaultResolution},set(t){ht.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return me("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),ht.defaultMultisample},set(t){ht.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return Cn.defaultMaxTextures},set(t){me("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Cn.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return Cn.defaultBatchSize},set(t){me("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Cn.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return Cn.canUploadSameBuffer},set(t){me("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Cn.canUploadSameBuffer=t}},GC_MODE:{get(){return Tn.defaultMode},set(t){me("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Tn.defaultMode=t}},GC_MAX_IDLE:{get(){return Tn.defaultMaxIdle},set(t){me("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Tn.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return Tn.defaultCheckCountMax},set(t){me("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Tn.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return An.defaultVertexPrecision},set(t){me("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),An.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return An.defaultFragmentPrecision},set(t){me("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),An.defaultFragmentPrecision=t}}});var oo=(t=>(t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(oo||{});class rf{constructor(e,n=null,r=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=n,this.priority=r,this.once=i}match(e,n=null){return this.fn===e&&this.context===n}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const n=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),n}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const n=this.next;return this.next=e?null:n,this.previous=null,n}}const Ut=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new rf(null,null,1/0),this.deltaMS=1/Ut.targetFPMS,this.elapsedMS=1/Ut.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,n=oo.NORMAL){return this._addListener(new rf(t,e,n))}addOnce(t,e,n=oo.NORMAL){return this._addListener(new rf(t,e,n,!0))}_addListener(t){let e=this._head.next,n=this._head;if(!e)t.connect(n);else{for(;e;){if(t.priority>e.priority){t.connect(n);break}n=e,e=e.next}t.previous||t.connect(n)}return this._startIfPossible(),this}remove(t,e){let n=this._head.next;for(;n;)n.match(t,e)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*Ut.targetFPMS;const n=this._head;let r=n.next;for(;r;)r=r.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,e)/1e3,Ut.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!Ut._shared){const t=Ut._shared=new Ut;t.autoStart=!0,t._protected=!0}return Ut._shared}static get system(){if(!Ut._system){const t=Ut._system=new Ut;t.autoStart=!0,t._protected=!0}return Ut._system}};let _t=Ut;_t.targetFPMS=.06;Object.defineProperties(Y,{TARGET_FPMS:{get(){return _t.targetFPMS},set(t){me("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),_t.targetFPMS=t}}});class aC{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,oo.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?_t.shared:new _t,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}aC.extension=X.Application;J.add(aC);const lC=[];J.handleByList(X.Renderer,lC);function SD(t){for(const e of lC)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var CD=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,TD=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const AD=CD,uC=TD;class cC{constructor(e){this.renderer=e}contextChange(e){let n;if(this.renderer.context.webGLVersion===1){const r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else{const r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r)}n>=Ge.HIGH?this.multisample=Ge.HIGH:n>=Ge.MEDIUM?this.multisample=Ge.MEDIUM:n>=Ge.LOW?this.multisample=Ge.LOW:this.multisample=Ge.NONE}destroy(){}}cC.extension={type:X.RendererSystem,name:"_multisample"};J.add(cC);class PD{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class hC{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);n.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:n}=this;n.bindBuffer(e,null)}bindBufferBase(e,n){const{gl:r,CONTEXT_UID:i}=this;if(this.boundBufferBases[n]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[n]=e,r.bindBufferBase(r.UNIFORM_BUFFER,n,s.buffer)}}bindBufferRange(e,n,r){const{gl:i,CONTEXT_UID:s}=this;r=r||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,n||0,o.buffer,r*256,256)}update(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,n.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)n.bufferSubData(e.type,0,e.data);else{const s=e.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,n.bufferData(e.type,e.data,s)}}dispose(e,n){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const r=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),r&&(n||i.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const n=Object.keys(this.managedBuffers);for(let r=0;r<n.length;r++)this.dispose(this.managedBuffers[n[r]],e)}createGLBuffer(e){const{CONTEXT_UID:n,gl:r}=this;return e._glBuffers[n]=new PD(r.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[n]}}hC.extension={type:X.RendererSystem,name:"buffer"};J.add(hC);class dC{constructor(e){this.renderer=e}render(e,n){const r=this.renderer;let i,s,o,a;if(n&&(i=n.renderTexture,s=n.clear,o=n.transform,a=n.skipUpdateTransform),this.renderingToScreen=!i,r.runners.prerender.emit(),r.emit("prerender"),r.projection.transform=o,!r.context.isLost){if(i||(this.lastObjectRendered=e),!a){const l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}r.renderTexture.bind(i),r.batch.currentRenderer.start(),(s??r.background.clearBeforeRender)&&r.renderTexture.clear(),e.render(r),r.batch.currentRenderer.flush(),i&&(n.blit&&r.framebuffer.blit(),i.baseTexture.update()),r.runners.postrender.emit(),r.projection.transform=null,r.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}dC.extension={type:X.RendererSystem,name:"objectRenderer"};J.add(dC);const tg=class extends _D{constructor(t){super(),this.type=fS.WEBGL,t=Object.assign({},Y.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Dn({projectionMatrix:new ke},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:tg.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(me("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha);const n={hello:t.hello,_plugin:tg.__plugins,background:{alpha:t.backgroundAlpha,color:t.background??t.backgroundColor,clearBeforeRender:t.clearBeforeRender},_view:{height:t.height,width:t.width,autoDensity:t.autoDensity,resolution:t.resolution,view:t.view},context:{antialias:t.antialias,context:t.context,powerPreference:t.powerPreference,premultipliedAlpha:t.premultipliedAlpha,preserveDrawingBuffer:t.preserveDrawingBuffer}};this.options=t,this.startup.run(n)}static test(t){return t!=null&&t.forceCanvas?!1:ER()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return me("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return me("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return me("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return me("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){me("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return me("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.color}set backgroundAlpha(t){me("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return me("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};let xo=tg;xo.extension={type:X.Renderer,priority:1};xo.__plugins={};xo.__systems={};J.handleByMap(X.RendererPlugin,xo.__plugins);J.handleByMap(X.RendererSystem,xo.__systems);J.add(xo);class fC extends Za{constructor(e,n){const{width:r,height:i}=n||{};super(r,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new ue;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,n){for(let r=0;r<this.length;r++)e[r]&&(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof Za?this.addResourceAt(e[r],r):this.addResourceAt(ES(e[r],n),r))}dispose(){for(let e=0,n=this.length;e<n;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,n){if(!this.items[n])throw new Error(`Index ${n} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[n].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let n=0;n<this.length;n++)this.items[n].parentTextureArray=e,this.items[n].on("update",e.update,e)}unbind(e){super.unbind(e);for(let n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",e.update,e)}load(){if(this._load)return this._load;const n=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(n).then(()=>{const{realWidth:r,realHeight:i}=this.items[0];return this.resize(r,i),Promise.resolve(this)}),this._load}}class OD extends fC{constructor(e,n){const{width:r,height:i}=n||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:r,height:i}),s&&this.initFromArray(s,n)}addBaseTextureAt(e,n){if(e.resource)this.addResourceAt(e.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=zs.TEXTURE_2D_ARRAY}upload(e,n,r){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=e;r.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,i,0,n.format,r.type,null);for(let l=0;l<i;l++){const u=o[l];s[l]<u.dirtyId&&(s[l]=u.dirtyId,u.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,l,u.resource.width,u.resource.height,1,n.format,r.type,u.resource.source))}return!0}}class ID extends Jr{constructor(e){super(e)}static test(e){const{OffscreenCanvas:n}=globalThis;return n&&e instanceof n?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const ca=class extends fC{constructor(t,e){const{width:n,height:r,autoLoad:i,linkBaseTexture:s}=e||{};if(t&&t.length!==ca.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:n,height:r});for(let o=0;o<ca.SIDES;o++)this.items[o].target=zs.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=s!==!1,t&&this.initFromArray(t,e),i!==!1&&this.load()}bind(t){super.bind(t),t.target=zs.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=zs.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,n){const r=this.itemDirtyIds;for(let i=0;i<ca.SIDES;i++){const s=this.items[i];(r[i]<s.dirtyId||n.dirtyId<e.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(t,s,n),r[i]=s.dirtyId):r[i]<-1&&(t.gl.texImage2D(s.target,0,n.internalFormat,e.realWidth,e.realHeight,0,e.format,n.type,null),r[i]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===ca.SIDES}};let pC=ca;pC.SIDES=6;class $s extends Jr{constructor(e,n){n=n||{};let r,i;typeof e=="string"?(r=$s.EMPTY,i=e):(r=e,i=null),super(r),this.url=i,this.crossOrigin=n.crossOrigin??!0,this.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,this._load=null,n.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,n)=>{if(this.url===null){e(this);return}try{const r=await Y.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await r.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Ln.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),e(this)}catch(r){if(this.destroyed)return;n(r),this.onError.emit(r)}}),this._load)}upload(e,n,r){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),super.upload(e,n,r)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return $s._EMPTY=$s._EMPTY??Y.ADAPTER.createCanvas(0,0),$s._EMPTY}}const Xu=class extends Jr{constructor(t,e){e=e||{},super(Y.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),t(this)},Xu.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;Jr.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,n=t.height;if(!e||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let r=e*this.scale,i=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(r=this._overrideWidth||this._overrideHeight/n*e,i=this._overrideHeight||this._overrideWidth/e*n),r=Math.round(r),i=Math.round(i);const s=this.source;s.width=r,s.height=i,s._pixiId=`canvas_${$i()}`,s.getContext("2d").drawImage(t,0,0,e,n,0,0,r,i),this._resolve(),this._resolve=null}}static getSize(t){const e=Xu.SVG_SIZE.exec(t),n={};return e&&(n[e[1]]=Math.round(parseFloat(e[3])),n[e[5]]=Math.round(parseFloat(e[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&Xu.SVG_XML.test(t)}};let Ja=Xu;Ja.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;Ja.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const ng=class extends Jr{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const n=document.createElement("video");n.setAttribute("preload","auto"),n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);const r=t[0].src||t[0];Jr.crossOrigin(n,r,e.crossorigin);for(let i=0;i<t.length;++i){const s=document.createElement("source");let{src:o,mime:a}=t[i];o=o||t[i];const l=o.split("?").shift().toLowerCase(),u=l.slice(l.lastIndexOf(".")+1);a=a||ng.MIME_TYPES[u]||`video/${u}`,s.src=o,s.type=a,n.appendChild(s)}t=n}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){const e=_t.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(_t.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(_t.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._isConnectedToTicker&&(_t.shared.remove(this.update,this),this._isConnectedToTicker=!1);const t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(_t.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(_t.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t)}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||ng.TYPES.includes(e)}};let mv=ng;mv.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];mv.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};qp.push($s,LS,ID,mv,Ja,pl,pC,OD);class Nc{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?ce.EMPTY:(e=e||new ce(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,n){const{a:r,b:i,c:s,d:o,tx:a,ty:l}=e,u=r*n.x+s*n.y+a,c=i*n.x+o*n.y+l;this.minX=Math.min(this.minX,u),this.maxX=Math.max(this.maxX,u),this.minY=Math.min(this.minY,c),this.maxY=Math.max(this.maxY,c)}addQuad(e){let n=this.minX,r=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,this.minX=n,this.minY=r,this.maxX=i,this.maxY=s}addFrame(e,n,r,i,s){this.addFrameMatrix(e.worldTransform,n,r,i,s)}addFrameMatrix(e,n,r,i,s){const o=e.a,a=e.b,l=e.c,u=e.d,c=e.tx,h=e.ty;let d=this.minX,f=this.minY,p=this.maxX,m=this.maxY,v=o*n+l*r+c,g=a*n+u*r+h;d=v<d?v:d,f=g<f?g:f,p=v>p?v:p,m=g>m?g:m,v=o*i+l*r+c,g=a*i+u*r+h,d=v<d?v:d,f=g<f?g:f,p=v>p?v:p,m=g>m?g:m,v=o*n+l*s+c,g=a*n+u*s+h,d=v<d?v:d,f=g<f?g:f,p=v>p?v:p,m=g>m?g:m,v=o*i+l*s+c,g=a*i+u*s+h,d=v<d?v:d,f=g<f?g:f,p=v>p?v:p,m=g>m?g:m,this.minX=d,this.minY=f,this.maxX=p,this.maxY=m}addVertexData(e,n,r){let i=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let l=n;l<r;l+=2){const u=e[l],c=e[l+1];i=u<i?u:i,s=c<s?c:s,o=u>o?u:o,a=c>a?c:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,n,r,i){this.addVerticesMatrix(e.worldTransform,n,r,i)}addVerticesMatrix(e,n,r,i,s=0,o=s){const a=e.a,l=e.b,u=e.c,c=e.d,h=e.tx,d=e.ty;let f=this.minX,p=this.minY,m=this.maxX,v=this.maxY;for(let g=r;g<i;g+=2){const y=n[g],x=n[g+1],b=a*y+u*x+h,S=c*x+l*y+d;f=Math.min(f,b-s),m=Math.max(m,b+s),p=Math.min(p,S-o),v=Math.max(v,S+o)}this.minX=f,this.minY=p,this.maxX=m,this.maxY=v}addBounds(e){const n=this.minX,r=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<n?e.minX:n,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,n){const r=e.minX>n.minX?e.minX:n.minX,i=e.minY>n.minY?e.minY:n.minY,s=e.maxX<n.maxX?e.maxX:n.maxX,o=e.maxY<n.maxY?e.maxY:n.maxY;if(r<=s&&i<=o){const a=this.minX,l=this.minY,u=this.maxX,c=this.maxY;this.minX=r<a?r:a,this.minY=i<l?i:l,this.maxX=s>u?s:u,this.maxY=o>c?o:c}}addBoundsMatrix(e,n){this.addFrameMatrix(n,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,n){const r=e.minX>n.x?e.minX:n.x,i=e.minY>n.y?e.minY:n.y,s=e.maxX<n.x+n.width?e.maxX:n.x+n.width,o=e.maxY<n.y+n.height?e.maxY:n.y+n.height;if(r<=s&&i<=o){const a=this.minX,l=this.minY,u=this.maxX,c=this.maxY;this.minX=r<a?r:a,this.minY=i<l?i:l,this.maxX=s>u?s:u,this.maxY=o>c?o:c}}pad(e=0,n=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=n,this.maxY+=n)}addFramePad(e,n,r,i,s,o){e-=s,n-=o,r+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<n?this.minY:n,this.maxY=this.maxY>i?this.maxY:i}}class Ue extends Di{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new gv,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Nc,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const n=Object.keys(e);for(let r=0;r<n.length;++r){const i=n[r];Object.defineProperty(Ue.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,n){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new ce),n=this._boundsRect),this._bounds.getRectangle(n)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new ce),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Nc);const n=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=r,this.transform=n,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,n,r=!1){return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,n)}toLocal(e,n,r,i){return n&&(e=n.toGlobal(e,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,n=0,r=1,i=1,s=0,o=0,a=0,l=0,u=0){return this.position.x=e,this.position.y=n,this.scale.x=r||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=l,this.pivot.y=u,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new RD),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*A3}set angle(e){this.transform.rotation=e*P3}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1))}if(this._mask=e,this._mask){const n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++)}}}}class RD extends Ue{constructor(){super(...arguments),this.sortDirty=null}}Ue.prototype.displayObjectUpdateTransform=Ue.prototype.updateTransform;const MD=new ke;function kD(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const rg=class extends Ue{constructor(){super(),this.children=[],this.sortableChildren=rg.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const n=this.getChildIndex(t),r=this.getChildIndex(e);this.children[n]=e,this.children[r]=t,this.onChildrenChange(n<r?n:r)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(t);Vs(this.children,n,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],n=this.children.indexOf(e);if(n===-1)return null;e.parent=null,e.transform._parentID=-1,Vs(this.children,n,1),this._boundsID++,this.onChildrenChange(n),e.emit("removed",this),this.emit("childRemoved",e,this,n)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,Vs(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const n=t,r=e,i=r-n;let s;if(i>0&&i<=r){s=this.children.splice(n,i);for(let o=0;o<s.length;++o)s[o].parent=null,s[o].transform&&(s[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let o=0;o<s.length;++o)s[o].emit("removed",this),this.emit("childRemoved",s[o],this,o);return s}else if(i===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,n=this.children.length;e<n;++e){const r=this.children[e];r._lastSortedIndex=e,!t&&r.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(kD),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const n=this.children[t];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const n=e._mask.isMaskData?e._mask.maskObject:e._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(e._bounds,n._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const n=super.getLocalBounds(t);if(!e)for(let r=0,i=this.children.length;r<i;++r){const s=this.children[r];s.visible&&s.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let n,r;this.cullArea?(n=this.cullArea,r=this.worldTransform):this._render!==rg.prototype._render&&(n=this.getBounds(!0));const i=t.projection.transform;if(i&&(r?(r=MD.copyFrom(r),r.prepend(i)):r=i),n&&e.intersects(n,r))this._render(t);else if(this.cullArea)return;for(let s=0,o=this.children.length;s<o;++s){const a=this.children[s],l=a.cullable;a.cullable=l||!this.cullArea,a.render(t),a.cullable=l}}render(t){var e;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(e=this.filters)!=null&&e.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let n=0,r=this.children.length;n<r;++n)this.children[n].render(t)}}renderAdvanced(t){var i,s,o;const e=this.filters,n=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let a=0;a<e.length;a++)e[a].enabled&&this._enabledFilters.push(e[a])}const r=e&&((i=this._enabledFilters)==null?void 0:i.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==Qe.NONE));if(r&&t.batch.flush(),e&&((s=this._enabledFilters)!=null&&s.length)&&t.filter.push(this,this._enabledFilters),n&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let a=0,l=this.children.length;a<l;++a)this.children[a].render(t)}r&&t.batch.flush(),n&&t.mask.pop(this),e&&((o=this._enabledFilters)!=null&&o.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t==null?void 0:t.children,n=this.removeChildren(0,this.children.length);if(e)for(let r=0;r<n.length;++r)n[r].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};let Kt=rg;Kt.defaultSortableChildren=!1;Kt.prototype.containerUpdateTransform=Kt.prototype.updateTransform;Object.defineProperties(Y,{SORTABLE_CHILDREN:{get(){return Kt.defaultSortableChildren},set(t){me("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),Kt.defaultSortableChildren=t}}});const Xo=new re,DD=new Uint16Array([0,1,2,0,2,3]);class gl extends Kt{constructor(e){super(),this._anchor=new Lr(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=ie.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||Q.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=DD,this.pluginName="batch",this.isSprite=!0,this._roundPixels=Y.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Fs(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Fs(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const n=this.transform.worldTransform,r=n.a,i=n.b,s=n.c,o=n.d,a=n.tx,l=n.ty,u=this.vertexData,c=e.trim,h=e.orig,d=this._anchor;let f=0,p=0,m=0,v=0;if(c?(p=c.x-d._x*h.width,f=p+c.width,v=c.y-d._y*h.height,m=v+c.height):(p=-d._x*h.width,f=p+h.width,v=-d._y*h.height,m=v+h.height),u[0]=r*p+s*v+a,u[1]=o*v+i*p+l,u[2]=r*f+s*v+a,u[3]=o*v+i*f+l,u[4]=r*f+s*m+a,u[5]=o*m+i*f+l,u[6]=r*p+s*m+a,u[7]=o*m+i*p+l,this._roundPixels){const g=Y.RESOLUTION;for(let y=0;y<u.length;++y)u[y]=Math.round(u[y]*g)/g}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,n=this.vertexTrimmedData,r=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,l=s.c,u=s.d,c=s.tx,h=s.ty,d=-i._x*r.width,f=d+r.width,p=-i._y*r.height,m=p+r.height;n[0]=o*d+l*p+c,n[1]=u*p+a*d+h,n[2]=o*f+l*p+c,n[3]=u*p+a*f+h,n[4]=o*f+l*m+c,n[5]=u*m+a*f+h,n[6]=o*d+l*m+c,n[7]=u*m+a*d+h}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,n=this._texture.orig;!e||e.width===n.width&&e.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new Nc),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new ce),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Xo);const n=this._texture.orig.width,r=this._texture.orig.height,i=-n*this.anchor.x;let s=0;return Xo.x>=i&&Xo.x<i+n&&(s=-r*this.anchor.y,Xo.y>=s&&Xo.y<s+r)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,n){const r=e instanceof Q?e:Q.from(e,n);return new gl(r)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const n=Fs(this.scale.x)||1;this.scale.x=n*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const n=Fs(this.scale.y)||1;this.scale.y=n*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tint}set tint(e){this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16)}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||Q.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const gC=new ke;Ue.prototype._cacheAsBitmap=!1;Ue.prototype._cacheData=null;Ue.prototype._cacheAsBitmapResolution=null;Ue.prototype._cacheAsBitmapMultisample=null;class FD{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Ue.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new FD),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});Ue.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};Ue.prototype._initCachedDisplayObject=function(e){var d,f;if((d=this._cacheData)!=null&&d.sprite)return;const n=this.alpha;this.alpha=1,e.batch.flush();const r=this.getLocalBounds(null,!0).clone();if((f=this.filters)!=null&&f.length){const p=this.filters[0].padding;r.pad(p)}r.ceil(Y.RESOLUTION);const i=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),o=e.renderTexture.destinationFrame.clone(),a=e.projection.transform,l=ei.create({width:r.width,height:r.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:this.cacheAsBitmapMultisample??e.multisample}),u=`cacheAsBitmap_${$i()}`;this._cacheData.textureCacheId=u,ue.addToCache(l.baseTexture,u),Q.addToCache(l,u);const c=this.transform.localTransform.copyTo(gC).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:l,clear:!0,transform:c,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=a,e.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;const h=new gl(l);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(r.x/r.width),h.anchor.y=-(r.y/r.height),h.alpha=n,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=h.containsPoint.bind(h)};Ue.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};Ue.prototype._initCachedDisplayObjectCanvas=function(e){var c;if((c=this._cacheData)!=null&&c.sprite)return;const n=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;const i=e.canvasContext.activeContext,s=e._projTransform;n.ceil(Y.RESOLUTION);const o=ei.create({width:n.width,height:n.height}),a=`cacheAsBitmap_${$i()}`;this._cacheData.textureCacheId=a,ue.addToCache(o.baseTexture,a),Q.addToCache(o,a);const l=gC;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=n.x,l.ty-=n.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:l,skipUpdateTransform:!1}),e.canvasContext.activeContext=i,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const u=new gl(o);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-(n.x/n.width),u.anchor.y=-(n.y/n.height),u.alpha=r,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)};Ue.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Ue.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Ue.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,ue.removeFromCache(this._cacheData.textureCacheId),Q.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Ue.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};Ue.prototype.name=null;Kt.prototype.getChildByName=function(e,n){for(let r=0,i=this.children.length;r<i;r++)if(this.children[r].name===e)return this.children[r];if(n)for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r];if(!s.getChildByName)continue;const o=s.getChildByName(e,!0);if(o)return o}return null};Ue.prototype.getGlobalPosition=function(e=new re,n=!1){return this.parent?this.parent.toGlobal(this.position,e,n):(e.x=this.position.x,e.y=this.position.y),e};var $D=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class BD extends ht{constructor(e=1){super(AD,$D,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const LD={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},ND=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function UD(t){const e=LD[t],n=e.length;let r=ND,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let l=s.replace("%index%",a.toString());o=a,a>=n&&(o=t-a-1),l=l.replace("%value%",e[o].toString()),i+=l,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",t.toString()),r}const jD=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function HD(t,e){const n=Math.ceil(t/2);let r=jD,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(n-1)}.0`),i+=a,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",t.toString()),r}class ig extends ht{constructor(e,n=8,r=4,i=ht.defaultResolution,s=5){const o=HD(s,e),a=UD(s);super(o,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=r,this.blur=n}apply(e,n,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/n.width):this.uniforms.strength=1/r.height*(r.height/n.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/n.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,n,r,i);else{const s=e.getFilterTexture(),o=e.renderer;let a=n,l=s;this.state.blend=!1,e.applyFilter(this,a,l,Gn.CLEAR);for(let u=1;u<this.passes-1;u++){e.bindAndClear(a,Gn.BLIT),this.uniforms.uSampler=l;const c=l;l=a,a=c,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,l,r,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class zD extends ht{constructor(e=8,n=4,r=ht.defaultResolution,i=5){super(),this.blurXFilter=new ig(!0,e,n,r,i),this.blurYFilter=new ig(!1,e,n,r,i),this.resolution=r,this.quality=n,this.blur=e,this.repeatEdgePixels=!1}apply(e,n,r,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,n,a,Gn.CLEAR),this.blurYFilter.apply(e,a,r,i),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,n,r,i):this.blurXFilter.apply(e,n,r,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var GD=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class sg extends ht{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(uC,GD,e),this.alpha=1}_loadMatrix(e,n=!1){let r=e;n&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r}_multiply(e,n,r){return e[0]=n[0]*r[0]+n[1]*r[5]+n[2]*r[10]+n[3]*r[15],e[1]=n[0]*r[1]+n[1]*r[6]+n[2]*r[11]+n[3]*r[16],e[2]=n[0]*r[2]+n[1]*r[7]+n[2]*r[12]+n[3]*r[17],e[3]=n[0]*r[3]+n[1]*r[8]+n[2]*r[13]+n[3]*r[18],e[4]=n[0]*r[4]+n[1]*r[9]+n[2]*r[14]+n[3]*r[19]+n[4],e[5]=n[5]*r[0]+n[6]*r[5]+n[7]*r[10]+n[8]*r[15],e[6]=n[5]*r[1]+n[6]*r[6]+n[7]*r[11]+n[8]*r[16],e[7]=n[5]*r[2]+n[6]*r[7]+n[7]*r[12]+n[8]*r[17],e[8]=n[5]*r[3]+n[6]*r[8]+n[7]*r[13]+n[8]*r[18],e[9]=n[5]*r[4]+n[6]*r[9]+n[7]*r[14]+n[8]*r[19]+n[9],e[10]=n[10]*r[0]+n[11]*r[5]+n[12]*r[10]+n[13]*r[15],e[11]=n[10]*r[1]+n[11]*r[6]+n[12]*r[11]+n[13]*r[16],e[12]=n[10]*r[2]+n[11]*r[7]+n[12]*r[12]+n[13]*r[17],e[13]=n[10]*r[3]+n[11]*r[8]+n[12]*r[13]+n[13]*r[18],e[14]=n[10]*r[4]+n[11]*r[9]+n[12]*r[14]+n[13]*r[19]+n[14],e[15]=n[15]*r[0]+n[16]*r[5]+n[17]*r[10]+n[18]*r[15],e[16]=n[15]*r[1]+n[16]*r[6]+n[17]*r[11]+n[18]*r[16],e[17]=n[15]*r[2]+n[16]*r[7]+n[17]*r[12]+n[18]*r[17],e[18]=n[15]*r[3]+n[16]*r[8]+n[17]*r[13]+n[18]*r[18],e[19]=n[15]*r[4]+n[16]*r[9]+n[17]*r[14]+n[18]*r[19]+n[19],e}_colorMatrix(e){const n=new Float32Array(e);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n}brightness(e,n){const r=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(r,n)}tint(e,n){const r=e>>16&255,i=e>>8&255,s=e&255,o=[r/255,0,0,0,0,0,i/255,0,0,0,0,0,s/255,0,0,0,0,0,1,0];this._loadMatrix(o,n)}greyscale(e,n){const r=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(r,n)}blackAndWhite(e){const n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,e)}hue(e,n){e=(e||0)/180*Math.PI;const r=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),l=r+(1-r)*o,u=o*(1-r)-a*i,c=o*(1-r)+a*i,h=o*(1-r)+a*i,d=r+o*(1-r),f=o*(1-r)-a*i,p=o*(1-r)-a*i,m=o*(1-r)+a*i,v=r+o*(1-r),g=[l,u,c,0,0,h,d,f,0,0,p,m,v,0,0,0,0,0,1,0];this._loadMatrix(g,n)}contrast(e,n){const r=(e||0)+1,i=-.5*(r-1),s=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(s,n)}saturate(e=0,n){const r=e*2/3+1,i=(r-1)*-.5,s=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(s,n)}desaturate(){this.saturate(-1)}negative(e){const n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,e)}sepia(e){const n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,e)}technicolor(e){const n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,e)}polaroid(e){const n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,e)}toBGR(e){const n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,e)}kodachrome(e){const n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,e)}browni(e){const n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,e)}vintage(e){const n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,e)}colorTone(e,n,r,i,s){e=e||.2,n=n||.15,r=r||16770432,i=i||3375104;const o=(r>>16&255)/255,a=(r>>8&255)/255,l=(r&255)/255,u=(i>>16&255)/255,c=(i>>8&255)/255,h=(i&255)/255,d=[.3,.59,.11,0,0,o,a,l,e,0,u,c,h,n,0,o-u,a-c,l-h,0,0];this._loadMatrix(d,s)}night(e,n){e=e||.1;const r=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(r,n)}predator(e,n){const r=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(r,n)}lsd(e){const n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}sg.prototype.grayscale=sg.prototype.greyscale;var VD=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,WD=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class XD extends ht{constructor(e,n){const r=new ke;e.renderable=!1,super(WD,VD,{mapSampler:e._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=r,n==null&&(n=20),this.scale=new re(n,n)}apply(e,n,r,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,n,r,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var YD=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,qD=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class KD extends ht{constructor(){super(qD,YD)}}var ZD=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class QD extends ht{constructor(e=.5,n=Math.random()){super(uC,ZD,{uNoise:0,uSeed:0}),this.noise=e,this.seed=n}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const J1={AlphaFilter:BD,BlurFilter:zD,BlurFilterPass:ig,ColorMatrixFilter:sg,DisplacementFilter:XD,FXAAFilter:KD,NoiseFilter:QD};Object.entries(J1).forEach(([t,e])=>{Object.defineProperty(J1,t,{get(){return me("7.1.0",`filters.${t} has moved to ${t}`),e}})});class ml{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=ml.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new re,this.page=new re,this.AT_TARGET=1,this.BUBBLING_PHASE=2,this.CAPTURING_PHASE=3,this.NONE=0,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,n,r){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,n,r,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class Uc extends ml{constructor(){super(...arguments),this.client=new re,this.movement=new re,this.offset=new re,this.global=new re,this.screen=new re}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,n,r,i,s,o,a,l,u,c,h,d,f,p,m){throw new Error("Method not implemented.")}}class yn extends Uc{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class ao extends Uc{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}ao.DOM_DELTA_PIXEL=0;ao.DOM_DELTA_LINE=1;ao.DOM_DELTA_PAGE=2;const JD=2048,eF=new re,sf=new re;class tF{constructor(e){this.dispatch=new Di,this.moveOnAll=!1,this.mappingState={trackingData:{}},this.eventPool=new Map,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,n){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:n,priority:0}),this.mappingTable[e].sort((r,i)=>r.priority-i.priority)}dispatchEvent(e,n){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,n),this.dispatch.emit(n||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const n=this.mappingTable[e.type];if(n)for(let r=0,i=n.length;r<i;r++)n[r].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,n){const r=this.hitTestRecursive(this.rootTarget,this.rootTarget.interactive,eF.set(e,n),this.hitTestFn,this.hitPruneFn);return r&&r[0]}propagate(e,n){if(!e.target)return;const r=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=r.length-1;i<s;i++)if(e.currentTarget=r[i],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,n),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=r.length-2;i>=0;i--)if(e.currentTarget=r[i],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,n,r=this.rootTarget){e.eventPhase=e.BUBBLING_PHASE;const i=r.children;if(i)for(let s=0;s<i.length;s++)this.all(e,n,i[s]);e.currentTarget=r,this.notifyTarget(e,n)}propagationPath(e){const n=[e];for(let r=0;r<JD&&e!==this.rootTarget;r++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");n.push(e.parent),e=e.parent}return n.reverse(),n}hitTestRecursive(e,n,r,i,s){if(!e||!e.visible||s(e,r))return null;if(e.interactiveChildren&&e.children){const o=e.children;for(let a=o.length-1;a>=0;a--){const l=o[a],u=this.hitTestRecursive(l,n||l.interactive,r,i,s);if(u){if(u.length>0&&!u[u.length-1].parent)continue;return(u.length>0||e.interactive)&&u.push(e),u}}}return n&&i(e,r)?e.interactive?[e]:[]:null}hitPruneFn(e,n){var r;if(e.hitArea&&(e.worldTransform.applyInverse(n,sf),!e.hitArea.contains(sf.x,sf.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((r=i.containsPoint)!=null&&r.call(i,n)))return!0}return!1}hitTestFn(e,n){return e.hitArea?!0:e.containsPoint?e.containsPoint(n):!1}notifyTarget(e,n){var s,o;n=n??e.type;const r=`on${n}`;(o=(s=e.currentTarget)[r])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${n}capture`:n;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,n)}mapPointerDown(e){if(!(e instanceof yn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerdown"),n.pointerType==="touch")this.dispatchEvent(n,"touchstart");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const i=n.button===2;this.dispatchEvent(n,i?"rightdown":"mousedown")}const r=this.trackingData(e.pointerId);r.pressTargetsByButton[e.button]=n.composedPath(),this.freeEvent(n)}mapPointerMove(e){var a,l;if(!(e instanceof yn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.createPointerEvent(e),r=n.pointerType==="mouse"||n.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((a=i.overTargets)==null?void 0:a.length)>0&&s!==n.target){const u=e.type==="mousemove"?"mouseout":"pointerout",c=this.createPointerEvent(e,u,s);if(this.dispatchEvent(c,"pointerout"),r&&this.dispatchEvent(c,"mouseout"),!n.composedPath().includes(s)){const h=this.createPointerEvent(e,"pointerleave",s);for(h.eventPhase=h.AT_TARGET;h.target&&!n.composedPath().includes(h.target);)h.currentTarget=h.target,this.notifyTarget(h),r&&this.notifyTarget(h,"mouseleave"),h.target=h.target.parent;this.freeEvent(h)}this.freeEvent(c)}if(s!==n.target){const u=e.type==="mousemove"?"mouseover":"pointerover",c=this.clonePointerEvent(n,u);this.dispatchEvent(c,"pointerover"),r&&this.dispatchEvent(c,"mouseover");let h=s==null?void 0:s.parent;for(;h&&h!==this.rootTarget.parent&&h!==n.target;)h=h.parent;if(!h||h===this.rootTarget.parent){const f=this.clonePointerEvent(n,"pointerenter");for(f.eventPhase=f.AT_TARGET;f.target&&f.target!==s&&f.target!==this.rootTarget.parent;)f.currentTarget=f.target,this.notifyTarget(f),r&&this.notifyTarget(f,"mouseenter"),f.target=f.target.parent;this.freeEvent(f)}this.freeEvent(c)}const o=this.moveOnAll?"all":"dispatchEvent";this[o](n,"pointermove"),this.all(n,"globalpointermove"),n.pointerType==="touch"&&(this[o](n,"touchmove"),this.all(n,"globaltouchmove")),r&&(this[o](n,"mousemove"),this.all(n,"globalmousemove"),this.cursor=(l=n.target)==null?void 0:l.cursor),i.overTargets=n.composedPath(),this.freeEvent(n)}mapPointerOver(e){var o;if(!(e instanceof yn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId),r=this.createPointerEvent(e),i=r.pointerType==="mouse"||r.pointerType==="pen";this.dispatchEvent(r,"pointerover"),i&&this.dispatchEvent(r,"mouseover"),r.pointerType==="mouse"&&(this.cursor=(o=r.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(r,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;n.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof yn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId);if(n.overTargets){const r=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(n.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),r&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),r&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;n.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof yn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=performance.now(),r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerup"),r.pointerType==="touch")this.dispatchEvent(r,"touchend");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const a=r.button===2;this.dispatchEvent(r,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!r.composedPath().includes(s)){let a=s;for(;a&&!r.composedPath().includes(a);){if(r.currentTarget=a,this.notifyTarget(r,"pointerupoutside"),r.pointerType==="touch")this.notifyTarget(r,"touchendoutside");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const l=r.button===2;this.notifyTarget(r,l?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(r,"click");a.target=o,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:n});const l=i.clicksByButton[e.button];if(l.target===a.target&&n-l.timeStamp<200?++l.clickCount:l.clickCount=1,l.target=a.target,l.timeStamp=n,a.detail=l.clickCount,a.pointerType==="mouse"){const u=a.button===2;this.dispatchEvent(a,u?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(r)}mapPointerUpOutside(e){if(!(e instanceof yn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId),r=this.findMountedTarget(n.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(r){let s=r;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete n.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof ao)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const n=this.createWheelEvent(e);this.dispatchEvent(n),this.freeEvent(n)}findMountedTarget(e){if(!e)return null;let n=e[0];for(let r=1;r<e.length&&e[r].parent===n;r++)n=e[r];return n}createPointerEvent(e,n,r){const i=this.allocateEvent(yn);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=r??this.hitTest(i.global.x,i.global.y),typeof n=="string"&&(i.type=n),i}createWheelEvent(e){const n=this.allocateEvent(ao);return this.copyWheelData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.nativeEvent=e.nativeEvent,n.originalEvent=e,n.target=this.hitTest(n.global.x,n.global.y),n}clonePointerEvent(e,n){const r=this.allocateEvent(yn);return r.nativeEvent=e.nativeEvent,r.originalEvent=e.originalEvent,this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.target=e.target,r.path=e.composedPath().slice(),r.type=n??r.type,r}copyWheelData(e,n){n.deltaMode=e.deltaMode,n.deltaX=e.deltaX,n.deltaY=e.deltaY,n.deltaZ=e.deltaZ}copyPointerData(e,n){e instanceof yn&&n instanceof yn&&(n.pointerId=e.pointerId,n.width=e.width,n.height=e.height,n.isPrimary=e.isPrimary,n.pointerType=e.pointerType,n.pressure=e.pressure,n.tangentialPressure=e.tangentialPressure,n.tiltX=e.tiltX,n.tiltY=e.tiltY,n.twist=e.twist)}copyMouseData(e,n){e instanceof Uc&&n instanceof Uc&&(n.altKey=e.altKey,n.button=e.button,n.buttons=e.buttons,n.client.copyFrom(e.client),n.ctrlKey=e.ctrlKey,n.metaKey=e.metaKey,n.movement.copyFrom(e.movement),n.screen.copyFrom(e.screen),n.global.copyFrom(e.global))}copyData(e,n){n.isTrusted=e.isTrusted,n.srcElement=e.srcElement,n.timeStamp=performance.now(),n.type=e.type,n.detail=e.detail,n.view=e.view,n.which=e.which,n.layer.copyFrom(e.layer),n.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const n=this.eventPool.get(e).pop()||new e(this);return n.eventPhase=n.NONE,n.currentTarget=null,n.path=null,n.target=null,n}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const n=e.constructor;this.eventPool.has(n)||this.eventPool.set(n,[]),this.eventPool.get(n).push(e)}notifyListeners(e,n){const r=e.currentTarget._events[n];if(r)if("fn"in r)r.once&&e.currentTarget.removeListener(n,r.fn,void 0,!0),r.fn.call(r.context,e);else for(let i=0,s=r.length;i<s&&!e.propagationImmediatelyStopped;i++)r[i].once&&e.currentTarget.removeListener(n,r[i].fn,void 0,!0),r[i].fn.call(r[i].context,e)}}const nF=1,rF={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"};class mC{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new tF(null),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new yn(null),this.rootWheelEvent=new ao(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}init(){const{view:e,resolution:n}=this.renderer;this.setTargetElement(e),this.resolution=n}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let n=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(n=!1),this.currentCursor===e)return;this.currentCursor=e;const r=this.cursorStyles[e];if(r)switch(typeof r){case"string":n&&(this.domElement.style.cursor=r);break;case"function":r(e);break;case"object":n&&Object.assign(this.domElement.style,r);break}else n&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}onPointerDown(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);this.autoPreventDefault&&n[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let r=0,i=n.length;r<i;r++){const s=n[r],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);for(let r=0,i=n.length;r<i;r++){const s=this.bootstrapEvent(this.rootPointerEvent,n[r]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;let n=e.target;e.composedPath&&e.composedPath().length>0&&(n=e.composedPath()[0]);const r=n!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let s=0,o=i.length;s<o;s++){const a=this.bootstrapEvent(this.rootPointerEvent,i[s]);a.type+=r,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);for(let r=0,i=n.length;r<i;r++){const s=this.bootstrapEvent(this.rootPointerEvent,n[r]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){const n=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(n)}setTargetElement(e){this.removeEvents(),this.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,n,r){let i;this.domElement.parentElement?i=this.domElement.getBoundingClientRect():i={x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const s=1/this.resolution;e.x=(n-i.left)*(this.domElement.width/i.width)*s,e.y=(r-i.top)*(this.domElement.height/i.height)*s}normalizeToPointerData(e){const n=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let r=0,i=e.changedTouches.length;r<i;r++){const s=e.changedTouches[r];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,n.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const r=e;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=nF),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,n.push(r)}else n.push(e);return n}normalizeWheelEvent(e){const n=this.rootWheelEvent;return this.transferMouseData(n,e),n.deltaX=e.deltaX,n.deltaY=e.deltaY,n.deltaZ=e.deltaZ,n.deltaMode=e.deltaMode,this.mapPositionToPoint(n.screen,e.clientX,e.clientY),n.global.copyFrom(n.screen),n.offset.copyFrom(n.screen),n.nativeEvent=e,n.type=e.type,n}bootstrapEvent(e,n){return e.originalEvent=null,e.nativeEvent=n,e.pointerId=n.pointerId,e.width=n.width,e.height=n.height,e.isPrimary=n.isPrimary,e.pointerType=n.pointerType,e.pressure=n.pressure,e.tangentialPressure=n.tangentialPressure,e.tiltX=n.tiltX,e.tiltY=n.tiltY,e.twist=n.twist,this.transferMouseData(e,n),this.mapPositionToPoint(e.screen,n.clientX,n.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=n.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=rF[e.type]||e.type),e}transferMouseData(e,n){e.isTrusted=n.isTrusted,e.srcElement=n.srcElement,e.timeStamp=performance.now(),e.type=n.type,e.altKey=n.altKey,e.button=n.button,e.buttons=n.buttons,e.client.x=n.clientX,e.client.y=n.clientY,e.ctrlKey=n.ctrlKey,e.metaKey=n.metaKey,e.movement.x=n.movementX,e.movement.y=n.movementY,e.page.x=n.pageX,e.page.y=n.pageY,e.relatedTarget=null,e.shiftKey=n.shiftKey}}mC.extension={name:"events",type:[X.RendererSystem,X.CanvasRendererSystem]};J.add(mC);const iF={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,interactive:!1,interactiveChildren:!0,hitArea:null,addEventListener(t,e,n){const r=typeof n=="boolean"&&n||typeof n=="object"&&n.capture,i=typeof e=="function"?void 0:e;t=r?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,n){const r=typeof n=="boolean"&&n||typeof n=="object"&&n.capture,i=typeof e=="function"?void 0:e;t=r?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof ml))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};Ue.mixin(iF);const sF={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Ue.mixin(sF);const oF=9,uu=100,aF=0,lF=0,ex=2,tx=1,uF=-1e3,cF=-1e3,hF=2;class vC{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(fr.tablet||fr.phone)&&this.createTouchHook();const n=document.createElement("div");n.style.width=`${uu}px`,n.style.height=`${uu}px`,n.style.position="absolute",n.style.top=`${aF}px`,n.style.left=`${lF}px`,n.style.zIndex=ex.toString(),this.div=n,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${tx}px`,e.style.height=`${tx}px`,e.style.position="absolute",e.style.top=`${uF}px`,e.style.left=`${cF}px`,e.style.zIndex=hF.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const n=e.children;if(n)for(let r=0;r<n.length;r++)this.updateAccessibleObjects(n[r])}update(){const e=performance.now();if(fr.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:n,y:r,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:l}=this.renderer,u=i/o*l,c=s/a*l;let h=this.div;h.style.left=`${n}px`,h.style.top=`${r}px`,h.style.width=`${o}px`,h.style.height=`${a}px`;for(let d=0;d<this.children.length;d++){const f=this.children[d];if(f.renderId!==this.renderId)f._accessibleActive=!1,Vs(this.children,d,1),this.div.removeChild(f._accessibleDiv),this.pool.push(f._accessibleDiv),f._accessibleDiv=null,d--;else{h=f._accessibleDiv;let p=f.hitArea;const m=f.worldTransform;f.hitArea?(h.style.left=`${(m.tx+p.x*m.a)*u}px`,h.style.top=`${(m.ty+p.y*m.d)*c}px`,h.style.width=`${p.width*m.a*u}px`,h.style.height=`${p.height*m.d*c}px`):(p=f.getBounds(),this.capHitArea(p),h.style.left=`${p.x*u}px`,h.style.top=`${p.y*c}px`,h.style.width=`${p.width*u}px`,h.style.height=`${p.height*c}px`,h.title!==f.accessibleTitle&&f.accessibleTitle!==null&&(h.title=f.accessibleTitle),h.getAttribute("aria-label")!==f.accessibleHint&&f.accessibleHint!==null&&h.setAttribute("aria-label",f.accessibleHint)),(f.accessibleTitle!==h.title||f.tabIndex!==h.tabIndex)&&(h.title=f.accessibleTitle,h.tabIndex=f.tabIndex,this.debug&&this.updateDebugHTML(h))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:n,height:r}=this.renderer;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>r&&(e.height=r-e.y)}addChild(e){let n=this.pool.pop();n||(n=document.createElement("button"),n.style.width=`${uu}px`,n.style.height=`${uu}px`,n.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",n.style.position="absolute",n.style.zIndex=ex.toString(),n.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?n.setAttribute("aria-live","off"):n.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?n.setAttribute("aria-relevant","additions"):n.setAttribute("aria-relevant","text"),n.addEventListener("click",this._onClick.bind(this)),n.addEventListener("focus",this._onFocus.bind(this)),n.addEventListener("focusout",this._onFocusOut.bind(this))),n.style.pointerEvents=e.accessiblePointerEvents,n.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?n.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(n.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&n.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(n),e._accessibleActive=!0,e._accessibleDiv=n,n.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,n){const{displayObject:r}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new ml(i),{target:r});i.rootTarget=this.renderer.lastObjectRendered,n.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===oF&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}vC.extension={name:"accessibility",type:[X.RendererPlugin,X.CanvasRendererPlugin]};J.add(vC);const og=class{constructor(t){this.stage=new Kt,t=Object.assign({forceCanvas:!1},t),this.renderer=SD(t),og._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(t,e){const n=og._plugins.slice(0);n.reverse(),n.forEach(r=>{r.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};let vv=og;vv._plugins=[];J.handleByList(X.Application,vv._plugins);class yC{static init(e){Object.defineProperty(this,"resizeTo",{set(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let n,r;if(this._resizeTo===globalThis.window)n=globalThis.innerWidth,r=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;n=i,r=s}this.renderer.resize(n,r),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}yC.extension=X.Application;J.add(yC);const nx={loader:X.LoadParser,resolver:X.ResolveParser,cache:X.CacheParser,detection:X.DetectionParser};J.handle(X.Asset,t=>{const e=t.ref;Object.entries(nx).filter(([n])=>!!e[n]).forEach(([n,r])=>J.add(Object.assign(e[n],{extension:e[n].extension??r})))},t=>{const e=t.ref;Object.keys(nx).filter(n=>!!e[n]).forEach(n=>J.remove(e[n]))});class dF{constructor(e,n=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=n}add(e){e.forEach(n=>{this._assetList.push(n)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],n=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<n;r++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function xC(t,e){if(Array.isArray(e)){for(const n of e)if(t.startsWith(`data:${n}`))return!0;return!1}return t.startsWith(`data:${e}`)}function Dh(t,e){const n=t.split("?")[0],r=ft.extname(n).toLowerCase();return Array.isArray(e)?e.includes(r):r===e}const gr=(t,e)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"?e(n):n):t),ag=(t,e)=>{const n=e.split("?")[1];return n&&(t+=`?${n}`),t};function bC(t,e,n,r,i){const s=e[n];for(let o=0;o<s.length;o++){const a=s[o];n<e.length-1?bC(t.replace(r[n],a),e,n+1,r,i):i.push(t.replace(r[n],a))}}function fF(t){const e=/\{(.*?)\}/g,n=t.match(e),r=[];if(n){const i=[];n.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),bC(t,i,0,n,r)}else r.push(t);return r}const jc=t=>!Array.isArray(t);class pF{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const n=this._cache.get(e);return n||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),n}set(e,n){const r=gr(e);let i;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.test(n)){i=l.getCacheableAssets(r,n);break}}i||(i={},r.forEach(a=>{i[a]=n}));const s=Object.keys(i),o={cacheKeys:s,keys:r};if(r.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==n&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),n instanceof Q){const a=n;r.forEach(l=>{a.baseTexture!==Q.EMPTY.baseTexture&&ue.addToCache(a.baseTexture,l),Q.addToCache(a,l)})}}remove(e){if(this._cacheMap.get(e),!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const n=this._cacheMap.get(e);n.cacheKeys.forEach(i=>{this._cache.delete(i)}),n.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const Yo=new pF;class gF{constructor(){this._parsers=[],this.promiseCache={}}reset(){this.promiseCache={}}_getLoadPromiseAndParser(e,n){const r={promise:null,parser:null};return r.promise=(async()=>{var s,o;let i=null;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.load&&((s=l.test)!=null&&s.call(l,e,n,this))){i=await l.load(e,n,this),r.parser=l;break}}if(!r.parser)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has being added`),null;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];l.parse&&l.parse&&await((o=l.testParse)==null?void 0:o.call(l,i,n,this))&&(i=await l.parse(i,n,this)||i,r.parser=l)}return i})(),r}async load(e,n){let r=0;const i={},s=jc(e),o=gr(e,u=>({src:u})),a=o.length,l=o.map(async u=>{const c=ft.toAbsolute(u.src);if(!i[u.src])try{this.promiseCache[c]||(this.promiseCache[c]=this._getLoadPromiseAndParser(c,u)),i[u.src]=await this.promiseCache[c].promise,n&&n(++r/a)}catch(h){throw delete this.promiseCache[c],delete i[u.src],new Error(`[Loader.load] Failed to load ${c}.
${h}`)}});return await Promise.all(l),s?i[o[0].src]:i}async unload(e){const r=gr(e,i=>({src:i})).map(async i=>{var a,l;const s=ft.toAbsolute(i.src),o=this.promiseCache[s];if(o){const u=await o.promise;(l=(a=o.parser)==null?void 0:a.unload)==null||l.call(a,u,i,this),delete this.promiseCache[s]}});await Promise.all(r)}get parsers(){return this._parsers}}var rr=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(rr||{});const mF={extension:{type:X.LoadParser,priority:rr.Low},test(t){return ft.extname(t).toLowerCase()===".json"},async load(t){return await(await Y.ADAPTER.fetch(t)).json()}};J.add(mF);const vF={extension:{type:X.LoadParser,priority:rr.Low},test(t){return ft.extname(t).toLowerCase()===".txt"},async load(t){return await(await Y.ADAPTER.fetch(t)).text()}};J.add(vF);const yF=["normal","bold","100","200","300","400","500","600","700","800","900"],xF=[".ttf",".otf",".woff",".woff2"],bF=["font/ttf","font/otf","font/woff","font/woff2"];function wF(t){const e=ft.extname(t);return ft.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ")}const wC={extension:{type:X.LoadParser,priority:rr.Low},test(t){return xC(t,bF)||Dh(t,xF)},async load(t,e){var r,i,s;const n=Y.ADAPTER.getFontFaceSet();if(n){const o=[],a=((r=e.data)==null?void 0:r.family)??wF(t),l=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(c=>yF.includes(c)))??["normal"],u=e.data??{};for(let c=0;c<l.length;c++){const h=l[c],d=new FontFace(a,`url(${encodeURI(t)})`,{...u,weight:h});await d.load(),n.add(d),o.push(d)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>Y.ADAPTER.getFontFaceSet().delete(e))}};J.add(wC);let rx=0,of;const _F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",EF={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${_F}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},SF={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let af;class CF{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const n=URL.createObjectURL(new Blob([EF.code],{type:"application/javascript"})),r=new Worker(n);r.addEventListener("message",i=>{r.terminate(),URL.revokeObjectURL(n),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){of===void 0&&(of=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<of&&(af||(af=URL.createObjectURL(new Blob([SF.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(af),e.addEventListener("message",n=>{this.complete(n.data),this.returnWorker(n.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,n){await this._initWorkers();const r=new Promise((i,s)=>{this.queue.push({id:e,arguments:n,resolve:i,reject:s})});return this.next(),r}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const n=this.queue.pop(),r=n.id;this.resolveHash[rx]={resolve:n.resolve,reject:n.reject},e.postMessage({data:n.arguments,uuid:rx++,id:r})}}const ix=new CF;function Fh(t,e,n){const r=new Q(t);return r.baseTexture.on("dispose",()=>{delete e.promiseCache[n]}),r}const TF=[".jpeg",".jpg",".png",".webp",".avif"],AF=["image/jpeg","image/png","image/webp","image/avif"];async function PF(t){const e=await Y.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const n=await e.blob();return await createImageBitmap(n)}const el={extension:{type:X.LoadParser,priority:rr.High},config:{preferWorkers:!0},test(t){return xC(t,AF)||Dh(t,TF)},async load(t,e,n){let r=null;globalThis.createImageBitmap?this.config.preferWorkers&&await ix.isImageBitmapSupported()?r=await ix.loadImageBitmap(t):r=await PF(t):r=await new Promise(s=>{r=new Image,r.crossOrigin="anonymous",r.src=t,r.complete?s(r):r.onload=()=>{s(r)}});const i=new ue(r,{resolution:Zr(t),...e.data});return i.resource.src=t,Fh(i,n,t)},unload(t){t.destroy(!0)}};J.add(el);const OF={extension:{type:X.LoadParser,priority:rr.High},test(t){return ft.extname(t).toLowerCase()===".svg"},async testParse(t){return Ja.test(t)},async parse(t,e,n){var o,a,l;const r=new Ja(t,(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions),i=new ue(r,{resolution:Zr(t),...e==null?void 0:e.data});i.resource.src=t;const s=Fh(i,n,t);return(l=(a=e==null?void 0:e.data)==null?void 0:a.resourceOptions)!=null&&l.autoLoad||await r.load(),s},async load(t,e){return(await Y.ADAPTER.fetch(t)).text()},unload:el.unload};J.add(OF);class IF{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,n)=>`${e}${this._bundleIdConnector}${n}`,extractAssetIdFromBundle:(e,n)=>n.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(n=>{this._preferredOrder.push(n),n.priority||(n.priority=Object.keys(n.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const n=e;this._defaultSearchParams=Object.keys(n).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(n[r])}`).join("&")}}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(n=>{this.addBundle(n.name,n.assets)})}addBundle(e,n){const r=[];Array.isArray(n)?n.forEach(i=>{if(typeof i.name=="string"){const s=this._createBundleAssetId(e,i.name);r.push(s),this.add([i.name,s],i.srcs,i.data)}else{const s=i.name.map(o=>this._createBundleAssetId(e,o));s.forEach(o=>{r.push(o)}),this.add([...i.name,...s],i.srcs)}}):Object.keys(n).forEach(i=>{r.push(this._createBundleAssetId(e,i)),this.add([i,this._createBundleAssetId(e,i)],n[i])}),this._bundles[e]=r}add(e,n,r){const i=gr(e);i.forEach(o=>{this.hasKey(o)&&console.warn(`[Resolver] already has key: ${o} overwriting`)}),Array.isArray(n)||(typeof n=="string"?n=fF(n):n=[n]);const s=n.map(o=>{let a=o;if(typeof o=="string"){let l=!1;for(let u=0;u<this._parsers.length;u++){const c=this._parsers[u];if(c.test(o)){a=c.parse(o),l=!0;break}}l||(a={src:o})}return a.format||(a.format=a.src.split(".").pop()),a.alias||(a.alias=i),(this._basePath||this._rootPath)&&(a.src=ft.toAbsolute(a.src,this._basePath,this._rootPath)),a.src=this._appendDefaultSearchParams(a.src),a.data=a.data??r,a});i.forEach(o=>{this._assetMap[o]=s})}resolveBundle(e){const n=jc(e);e=gr(e);const r={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const l in o){const u=o[l];a[this._extractAssetIdFromBundle(i,l)]=u}r[i]=a}}),n?r[e[0]]:r}resolveUrl(e){const n=this.resolve(e);if(typeof e!="string"){const r={};for(const i in n)r[i]=n[i].src;return r}return n.src}resolve(e){const n=jc(e);e=gr(e);const r={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=this._getPreferredOrder(s),a=s[0];o==null||o.priority.forEach(l=>{o.params[l].forEach(u=>{const c=s.filter(h=>h[l]?h[l]===u:!1);c.length&&(s=c)})}),this._resolverHash[i]=s[0]??a}else{let s=i;(this._basePath||this._rootPath)&&(s=ft.toAbsolute(s,this._basePath,this._rootPath)),s=this._appendDefaultSearchParams(s),this._resolverHash[i]={src:s}}r[i]=this._resolverHash[i]}),n?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let n=0;n<e.length;n++){const r=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(r.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const n=/\?/.test(e)?"&":"?";return`${e}${n}${this._defaultSearchParams}`}}class RF{constructor(){this._detections=[],this._initialized=!1,this.resolver=new IF,this.loader=new gF,this.cache=Yo,this._backgroundLoader=new dF(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o,a;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let l=e.manifest;typeof l=="string"&&(l=await this.load(l)),this.resolver.addManifest(l)}const n=((s=e.texturePreference)==null?void 0:s.resolution)??1,r=typeof n=="number"?[n]:n;let i=[];if((o=e.texturePreference)!=null&&o.format){const l=(a=e.texturePreference)==null?void 0:a.format;i=typeof l=="string"?[l]:l;for(const u of this._detections)await u.test()||(i=await u.remove(i))}else for(const l of this._detections)await l.test()&&(i=await l.add(i));this.resolver.prefer({params:{format:i,resolution:r}})}add(e,n,r){this.resolver.add(e,n,r)}async load(e,n){this._initialized||await this.init();const r=jc(e),i=gr(e).map(a=>typeof a!="string"?(this.resolver.add(a.src,a),a.src):(this.resolver.hasKey(a)||this.resolver.add(a,a),a)),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,n);return r?o[i[0]]:o}addBundle(e,n){this.resolver.addBundle(e,n)}async loadBundle(e,n){this._initialized||await this.init();let r=!1;typeof e=="string"&&(r=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0,l=0;const u=()=>{n==null||n(++a/l)},c=o.map(h=>{const d=i[h];return l+=Object.keys(d).length,this._mapLoadToResolve(d,u).then(f=>{s[h]=f})});return await Promise.all(c),r?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(n))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolveBundle(e);Object.values(n).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Yo.get(e);const n={};for(let r=0;r<e.length;r++)n[r]=Yo.get(e[r]);return n}async _mapLoadToResolve(e,n){const r=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(r,n);this._backgroundLoader.active=!0;const o={};return r.forEach((a,l)=>{const u=s[a.src],c=[a.src];a.alias&&c.push(...a.alias),o[i[l]]=u,Yo.set(c,u)}),o}async unload(e){this._initialized||await this.init();const n=gr(e).map(i=>typeof i!="string"?i.src:i),r=this.resolver.resolve(n);await this._unloadFromResolved(r)}async unloadBundle(e){this._initialized||await this.init(),e=gr(e);const n=this.resolver.resolveBundle(e),r=Object.keys(n).map(i=>this._unloadFromResolved(n[i]));await Promise.all(r)}async _unloadFromResolved(e){const n=Object.values(e);n.forEach(r=>{Yo.remove(r.src)}),await this.loader.unload(n)}get detections(){return this._detections}get preferWorkers(){return el.config.preferWorkers}set preferWorkers(e){el.config.preferWorkers=e}}const cu=new RF;J.handleByList(X.LoadParser,cu.loader.parsers).handleByList(X.ResolveParser,cu.resolver.parsers).handleByList(X.CacheParser,cu.cache.parsers).handleByList(X.DetectionParser,cu.detections);const MF={extension:X.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof Q),getCacheableAssets:(t,e)=>{const n={};return t.forEach(r=>{e.forEach((i,s)=>{n[r+(s===0?"":s+1)]=i})}),n}};J.add(MF);const kF={extension:{type:X.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",e=await Y.ADAPTER.fetch(t).then(n=>n.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};J.add(kF);const DF={extension:{type:X.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",e=await Y.ADAPTER.fetch(t).then(n=>n.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};J.add(DF);const sx=["png","jpg","jpeg"],FF={extension:{type:X.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...sx],remove:async t=>t.filter(e=>!sx.includes(e))};J.add(FF);const $F={extension:X.ResolveParser,test:el.test,parse:t=>{var e;return{resolution:parseFloat(((e=Y.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}};J.add($F);var Ht=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(Ht||{});const Hc={[33776]:.5,[33777]:.5,[33778]:1,[33779]:1,[35916]:.5,[35917]:.5,[35918]:1,[35919]:1,[37488]:.5,[37489]:.5,[37490]:1,[37491]:1,[37492]:.5,[37496]:1,[37493]:.5,[37497]:1,[37494]:.5,[37495]:.5,[35840]:.5,[35842]:.5,[35841]:.25,[35843]:.25,[36196]:.5,[35986]:.5,[35986]:1,[34798]:1,[37808]:1};let ar,is;function ox(){is={s3tc:ar.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:ar.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:ar.getExtension("WEBGL_compressed_texture_etc"),etc1:ar.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:ar.getExtension("WEBGL_compressed_texture_pvrtc")||ar.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:ar.getExtension("WEBGL_compressed_texture_atc"),astc:ar.getExtension("WEBGL_compressed_texture_astc")}}const BF={extension:{type:X.DetectionParser,priority:2},test:async()=>{const e=Y.ADAPTER.createCanvas().getContext("webgl");return e?(ar=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{is||ox();const e=[];for(const n in is)is[n]&&e.push(n);return[...e,...t]},remove:async t=>(is||ox(),t.filter(e=>!(e in is)))};J.add(BF);class LF extends pl{constructor(e,n={width:1,height:1,autoLoad:!0}){let r,i;typeof e=="string"?(r=e,i=new Uint8Array):(r=null,i=e),super(i,n),this.origin=r,this.buffer=i?new Yp(i):null,this.origin&&n.autoLoad!==!1&&this.load(),i!=null&&i.length&&(this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}async load(){const r=await(await(await fetch(this.origin)).blob()).arrayBuffer();return this.data=new Uint32Array(r),this.buffer=new Yp(r),this.loaded=!0,this.onBlobLoaded(r),this.update(),this}}class Ti extends LF{constructor(e,n){super(e,n),this.format=n.format,this.levels=n.levels||1,this._width=n.width,this._height=n.height,this._extension=Ti._formatToExtension(this.format),(n.levelBuffers||this.buffer)&&(this._levelBuffers=n.levelBuffers||Ti._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,n,r){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let o=0,a=this.levels;o<a;o++){const{levelID:l,levelWidth:u,levelHeight:c,levelBuffer:h}=this._levelBuffers[o];i.compressedTexImage2D(i.TEXTURE_2D,l,this.format,u,c,0,h)}return!0}onBlobLoaded(){this._levelBuffers=Ti._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,n,r,i,s,o,a){const l=new Array(r);let u=e.byteOffset,c=o,h=a,d=c+i-1&~(i-1),f=h+s-1&~(s-1),p=d*f*Hc[n];for(let m=0;m<r;m++)l[m]={levelID:m,levelWidth:r>1?c:d,levelHeight:r>1?h:f,levelBuffer:new Uint8Array(e.buffer,u,p)},u+=p,c=c>>1||1,h=h>>1||1,d=c+i-1&~(i-1),f=h+s-1&~(s-1),p=d*f*Hc[n];return l}}const lf=4,hu=124,NF=32,ax=20,UF=542327876,du={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},jF={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},fu={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},HF=1,zF=2,GF=4,VF=64,WF=512,XF=131072,YF=827611204,qF=861165636,KF=894720068,ZF=808540228,QF=4,JF={[YF]:Ht.COMPRESSED_RGBA_S3TC_DXT1_EXT,[qF]:Ht.COMPRESSED_RGBA_S3TC_DXT3_EXT,[KF]:Ht.COMPRESSED_RGBA_S3TC_DXT5_EXT},e4={[70]:Ht.COMPRESSED_RGBA_S3TC_DXT1_EXT,[71]:Ht.COMPRESSED_RGBA_S3TC_DXT1_EXT,[73]:Ht.COMPRESSED_RGBA_S3TC_DXT3_EXT,[74]:Ht.COMPRESSED_RGBA_S3TC_DXT3_EXT,[76]:Ht.COMPRESSED_RGBA_S3TC_DXT5_EXT,[77]:Ht.COMPRESSED_RGBA_S3TC_DXT5_EXT,[72]:Ht.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,[75]:Ht.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,[78]:Ht.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function t4(t){const e=new Uint32Array(t);if(e[0]!==UF)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,hu/Uint32Array.BYTES_PER_ELEMENT),i=r[du.HEIGHT],s=r[du.WIDTH],o=r[du.MIPMAP_COUNT],a=new Uint32Array(t,du.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,NF/Uint32Array.BYTES_PER_ELEMENT),l=a[HF];if(l&GF){const u=a[jF.FOURCC];if(u!==ZF){const x=JF[u],b=lf+hu,S=new Uint8Array(t,b);return[new Ti(S,{format:x,width:s,height:i,levels:o})]}const c=lf+hu,h=new Uint32Array(e.buffer,c,ax/Uint32Array.BYTES_PER_ELEMENT),d=h[fu.DXGI_FORMAT],f=h[fu.RESOURCE_DIMENSION],p=h[fu.MISC_FLAG],m=h[fu.ARRAY_SIZE],v=e4[d];if(v===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${d}`);if(p===QF)throw new Error("DDSParser does not support cubemap textures");if(f===6)throw new Error("DDSParser does not supported 3D texture data");const g=new Array,y=lf+hu+ax;if(m===1)g.push(new Uint8Array(t,y));else{const x=Hc[v];let b=0,S=s,E=i;for(let A=0;A<o;A++){const F=Math.max(1,S+3&-4),k=Math.max(1,E+3&-4),B=F*k*x;b+=B,S=S>>>1,E=E>>>1}let C=y;for(let A=0;A<m;A++)g.push(new Uint8Array(t,C,b)),C+=b}return g.map(x=>new Ti(x,{format:v,width:s,height:i,levels:o}))}throw l&VF?new Error("DDSParser does not support uncompressed texture data."):l&WF?new Error("DDSParser does not supported YUV uncompressed texture data."):l&XF?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&zF?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const lx=[171,75,84,88,32,49,49,187,13,10,26,10],n4=67305985,mn={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},lg=64,ux={[ee.UNSIGNED_BYTE]:1,[ee.UNSIGNED_SHORT]:2,[ee.INT]:4,[ee.UNSIGNED_INT]:4,[ee.FLOAT]:4,[ee.HALF_FLOAT]:8},r4={[W.RGBA]:4,[W.RGB]:3,[W.RG]:2,[W.RED]:1,[W.LUMINANCE]:1,[W.LUMINANCE_ALPHA]:2,[W.ALPHA]:1},i4={[ee.UNSIGNED_SHORT_4_4_4_4]:2,[ee.UNSIGNED_SHORT_5_5_5_1]:2,[ee.UNSIGNED_SHORT_5_6_5]:2};function s4(t,e,n=!1){const r=new DataView(e);if(!o4(t,r))return null;const i=r.getUint32(mn.ENDIANNESS,!0)===n4,s=r.getUint32(mn.GL_TYPE,i),o=r.getUint32(mn.GL_FORMAT,i),a=r.getUint32(mn.GL_INTERNAL_FORMAT,i),l=r.getUint32(mn.PIXEL_WIDTH,i),u=r.getUint32(mn.PIXEL_HEIGHT,i)||1,c=r.getUint32(mn.PIXEL_DEPTH,i)||1,h=r.getUint32(mn.NUMBER_OF_ARRAY_ELEMENTS,i)||1,d=r.getUint32(mn.NUMBER_OF_FACES,i),f=r.getUint32(mn.NUMBER_OF_MIPMAP_LEVELS,i),p=r.getUint32(mn.BYTES_OF_KEY_VALUE_DATA,i);if(u===0||c!==1)throw new Error("Only 2D textures are supported");if(d!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(h!==1)throw new Error("WebGL does not support array textures");const m=4,v=4,g=l+3&-4,y=u+3&-4,x=new Array(h);let b=l*u;s===0&&(b=g*y);let S;if(s!==0?ux[s]?S=ux[s]*r4[o]:S=i4[s]:S=Hc[a],S===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const E=n?l4(r,p,i):null;let A=b*S,F=l,k=u,B=g,U=y,O=lg+p;for(let T=0;T<f;T++){const D=r.getUint32(O,i);let G=O+4;for(let $=0;$<h;$++){let M=x[$];M||(M=x[$]=new Array(f)),M[T]={levelID:T,levelWidth:f>1||s!==0?F:B,levelHeight:f>1||s!==0?k:U,levelBuffer:new Uint8Array(e,G,A)},G+=A}O+=D+4,O=O%4!==0?O+4-O%4:O,F=F>>1||1,k=k>>1||1,B=F+m-1&~(m-1),U=k+v-1&~(v-1),A=B*U*S}return s!==0?{uncompressed:x.map(T=>{let D=T[0].levelBuffer,G=!1;return s===ee.FLOAT?D=new Float32Array(T[0].levelBuffer.buffer,T[0].levelBuffer.byteOffset,T[0].levelBuffer.byteLength/4):s===ee.UNSIGNED_INT?(G=!0,D=new Uint32Array(T[0].levelBuffer.buffer,T[0].levelBuffer.byteOffset,T[0].levelBuffer.byteLength/4)):s===ee.INT&&(G=!0,D=new Int32Array(T[0].levelBuffer.buffer,T[0].levelBuffer.byteOffset,T[0].levelBuffer.byteLength/4)),{resource:new pl(D,{width:T[0].levelWidth,height:T[0].levelHeight}),type:s,format:G?a4(o):o}}),kvData:E}:{compressed:x.map(T=>new Ti(null,{format:a,width:l,height:u,levels:f,levelBuffers:T})),kvData:E}}function o4(t,e){for(let n=0;n<lx.length;n++)if(e.getUint8(n)!==lx[n])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function a4(t){switch(t){case W.RGBA:return W.RGBA_INTEGER;case W.RGB:return W.RGB_INTEGER;case W.RG:return W.RG_INTEGER;case W.RED:return W.RED_INTEGER;default:return t}}function l4(t,e,n){const r=new Map;let i=0;for(;i<e;){const s=t.getUint32(lg+i,n),o=lg+i+4,a=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<s&&t.getUint8(o+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const u=new TextDecoder().decode(new Uint8Array(t.buffer,o,l)),c=new DataView(t.buffer,o+l+1,s-l-1);r.set(u,c),i+=4+s+a}return r}const u4={extension:{type:X.LoadParser,priority:rr.High},test(t){return Dh(t,".dds")},async load(t,e,n){const i=await(await Y.ADAPTER.fetch(t)).arrayBuffer(),o=t4(i).map(a=>{const l=new ue(a,{mipmap:nr.OFF,alphaMode:Ln.NO_PREMULTIPLIED_ALPHA,resolution:Zr(t),...e.data});return Fh(l,n,t)});return o.length===1?o[0]:o},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};J.add(u4);const c4={extension:{type:X.LoadParser,priority:rr.High},test(t){return Dh(t,".ktx")},async load(t,e,n){const i=await(await Y.ADAPTER.fetch(t)).arrayBuffer(),{compressed:s,uncompressed:o,kvData:a}=s4(t,i),l=s??o,u={mipmap:nr.OFF,alphaMode:Ln.NO_PREMULTIPLIED_ALPHA,resolution:Zr(t),...e.data},c=l.map(h=>{l===o&&Object.assign(u,{type:h.type,format:h.format});const d=new ue(h,u);return d.ktxKeyValueData=a,Fh(d,n,t)});return c.length===1?c[0]:c},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};J.add(c4);const h4={extension:X.ResolveParser,test:t=>{const n=t.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(n)},parse:t=>{var r,i;if(t.split("?")[0].split(".").pop()==="ktx"){const s=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(s.some(o=>t.endsWith(o)))return{resolution:parseFloat(((r=Y.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:s.find(o=>t.endsWith(o)),src:t}}return{resolution:parseFloat(((i=Y.RETINA_PREFIX.exec(t))==null?void 0:i[1])??"1"),format:t.split(".").pop(),src:t}}};J.add(h4);const d4=new ce,f4=4,ug=class{constructor(t){this.renderer=t}async image(t,e,n){const r=new Image;return r.src=await this.base64(t,e,n),r}async base64(t,e,n){const r=this.canvas(t);if(r.toDataURL!==void 0)return r.toDataURL(e,n);if(r.convertToBlob!==void 0){const i=await r.convertToBlob({type:e,quality:n});return await new Promise(s=>{const o=new FileReader;o.onload=()=>s(o.result),o.readAsDataURL(i)})}throw new Error("Extract.base64() requires ICanvas.toDataURL or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:n,width:r,height:i,flipY:s}=this._rawPixels(t,e);let o=new N1(r,i,1);const a=o.context.getImageData(0,0,r,i);if(ug.arrayPostDivide(n,a.data),o.context.putImageData(a,0,0),s){const l=new N1(o.width,o.height,1);l.context.scale(1,-1),l.context.drawImage(o.canvas,0,-i),o.destroy(),o=l}return o.canvas}pixels(t,e){const{pixels:n}=this._rawPixels(t,e);return ug.arrayPostDivide(n,n),n}_rawPixels(t,e){const n=this.renderer;let r,i=!1,s,o=!1;if(t)if(t instanceof ei)s=t;else{const h=n.context.webGLVersion>=2?n.multisample:Ge.NONE;if(s=this.renderer.generateTexture(t,{multisample:h}),h!==Ge.NONE){const d=ei.create({width:s.width,height:s.height});n.framebuffer.bind(s.framebuffer),n.framebuffer.blit(d.framebuffer),n.framebuffer.bind(null),s.destroy(!0),s=d}o=!0}s?(r=s.baseTexture.resolution,e=e??s.frame,i=!1,n.renderTexture.bind(s)):(r=n.resolution,e||(e=d4,e.width=n.width,e.height=n.height),i=!0,n.renderTexture.bind(null));const a=Math.round(e.width*r),l=Math.round(e.height*r),u=new Uint8Array(f4*a*l),c=n.gl;return c.readPixels(Math.round(e.x*r),Math.round(e.y*r),a,l,c.RGBA,c.UNSIGNED_BYTE,u),o&&s.destroy(!0),{pixels:u,width:a,height:l,flipY:i}}destroy(){this.renderer=null}static arrayPostDivide(t,e){for(let n=0;n<t.length;n+=4){const r=e[n+3]=t[n+3];r!==0?(e[n]=Math.round(Math.min(t[n]*255/r,255)),e[n+1]=Math.round(Math.min(t[n+1]*255/r,255)),e[n+2]=Math.round(Math.min(t[n+2]*255/r,255))):(e[n]=t[n],e[n+1]=t[n+1],e[n+2]=t[n+2])}}};let _C=ug;_C.extension={name:"extract",type:X.RendererSystem};J.add(_C);const zc={build(t){const e=t.points;let n,r,i,s,o,a;if(t.type===ut.CIRC){const p=t.shape;n=p.x,r=p.y,o=a=p.radius,i=s=0}else if(t.type===ut.ELIP){const p=t.shape;n=p.x,r=p.y,o=p.width,a=p.height,i=s=0}else{const p=t.shape,m=p.width/2,v=p.height/2;n=p.x+m,r=p.y+v,o=a=Math.max(0,Math.min(p.radius,Math.min(m,v))),i=m-o,s=v-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}const l=Math.ceil(2.3*Math.sqrt(o+a)),u=l*8+(i?4:0)+(s?4:0);if(e.length=u,u===0)return;if(l===0){e.length=8,e[0]=e[6]=n+i,e[1]=e[3]=r+s,e[2]=e[4]=n-i,e[5]=e[7]=r-s;return}let c=0,h=l*4+(i?2:0)+2,d=h,f=u;{const p=i+o,m=s,v=n+p,g=n-p,y=r+m;if(e[c++]=v,e[c++]=y,e[--h]=y,e[--h]=g,s){const x=r-m;e[d++]=g,e[d++]=x,e[--f]=x,e[--f]=v}}for(let p=1;p<l;p++){const m=Math.PI/2*(p/l),v=i+Math.cos(m)*o,g=s+Math.sin(m)*a,y=n+v,x=n-v,b=r+g,S=r-g;e[c++]=y,e[c++]=b,e[--h]=b,e[--h]=x,e[d++]=x,e[d++]=S,e[--f]=S,e[--f]=y}{const p=i,m=s+a,v=n+p,g=n-p,y=r+m,x=r-m;e[c++]=v,e[c++]=y,e[--f]=x,e[--f]=v,i&&(e[c++]=g,e[c++]=y,e[--f]=x,e[--f]=g)}},triangulate(t,e){const n=t.points,r=e.points,i=e.indices;if(n.length===0)return;let s=r.length/2;const o=s;let a,l;if(t.type!==ut.RREC){const c=t.shape;a=c.x,l=c.y}else{const c=t.shape;a=c.x+c.width/2,l=c.y+c.height/2}const u=t.matrix;r.push(t.matrix?u.a*a+u.c*l+u.tx:a,t.matrix?u.b*a+u.d*l+u.ty:l),s++,r.push(n[0],n[1]);for(let c=2;c<n.length;c+=2)r.push(n[c],n[c+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function cx(t,e=!1){const n=t.length;if(n<6)return;let r=0;for(let i=0,s=t[n-2],o=t[n-1];i<n;i+=2){const a=t[i],l=t[i+1];r+=(a-s)*(l+o),s=a,o=l}if(!e&&r>0||e&&r<=0){const i=n/2;for(let s=i+i%2;s<n;s+=2){const o=n-s-2,a=n-s-1,l=s,u=s+1;[t[o],t[l]]=[t[l],t[o]],[t[a],t[u]]=[t[u],t[a]]}}}const EC={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let n=t.points;const r=t.holes,i=e.points,s=e.indices;if(n.length>=6){cx(n,!1);const o=[];for(let u=0;u<r.length;u++){const c=r[u];cx(c.points,!0),o.push(n.length/2),n=n.concat(c.points)}const a=Dc(n,o,2);if(!a)return;const l=i.length/2;for(let u=0;u<a.length;u+=3)s.push(a[u]+l),s.push(a[u+1]+l),s.push(a[u+2]+l);for(let u=0;u<n.length;u++)i.push(n[u])}}},p4={build(t){const e=t.shape,n=e.x,r=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(n,r,n+i,r,n+i,r+s,n,r+s)},triangulate(t,e){const n=t.points,r=e.points;if(n.length===0)return;const i=r.length/2;r.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},g4={build(t){zc.build(t)},triangulate(t,e){zc.triangulate(t,e)}};var _n=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(_n||{}),_i=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(_i||{});const lo={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let n=Math.ceil(t/this.maxLength);return n<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n}};class hx{static curveTo(e,n,r,i,s,o){const a=o[o.length-2],u=o[o.length-1]-n,c=a-e,h=i-n,d=r-e,f=Math.abs(u*d-c*h);if(f<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==n)&&o.push(e,n),null;const p=u*u+c*c,m=h*h+d*d,v=u*h+c*d,g=s*Math.sqrt(p)/f,y=s*Math.sqrt(m)/f,x=g*v/p,b=y*v/m,S=g*d+y*c,E=g*h+y*u,C=c*(y+x),A=u*(y+x),F=d*(g+b),k=h*(g+b),B=Math.atan2(A-E,C-S),U=Math.atan2(k-E,F-S);return{cx:S+e,cy:E+n,radius:s,startAngle:B,endAngle:U,anticlockwise:c*h>d*u}}static arc(e,n,r,i,s,o,a,l,u){const c=a-o,h=lo._segmentsCount(Math.abs(c)*s,Math.ceil(Math.abs(c)/Lc)*40),d=c/(h*2),f=d*2,p=Math.cos(d),m=Math.sin(d),v=h-1,g=v%1/v;for(let y=0;y<=v;++y){const x=y+g*y,b=d+o+f*x,S=Math.cos(b),E=-Math.sin(b);u.push((p*S+m*E)*s+r,(p*-E+m*S)*s+i)}}}class m4{constructor(){this.reset()}begin(e,n,r){this.reset(),this.style=e,this.start=n,this.attribStart=r}end(e,n){this.attribSize=n-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class yv{static curveLength(e,n,r,i,s,o,a,l){let c=0,h=0,d=0,f=0,p=0,m=0,v=0,g=0,y=0,x=0,b=0,S=e,E=n;for(let C=1;C<=10;++C)h=C/10,d=h*h,f=d*h,p=1-h,m=p*p,v=m*p,g=v*e+3*m*h*r+3*p*d*s+f*a,y=v*n+3*m*h*i+3*p*d*o+f*l,x=S-g,b=E-y,S=g,E=y,c+=Math.sqrt(x*x+b*b);return c}static curveTo(e,n,r,i,s,o,a){const l=a[a.length-2],u=a[a.length-1];a.length-=2;const c=lo._segmentsCount(yv.curveLength(l,u,e,n,r,i,s,o));let h=0,d=0,f=0,p=0,m=0;a.push(l,u);for(let v=1,g=0;v<=c;++v)g=v/c,h=1-g,d=h*h,f=d*h,p=g*g,m=p*g,a.push(f*l+3*d*g*e+3*h*p*r+m*s,f*u+3*d*g*n+3*h*p*i+m*o)}}function dx(t,e,n,r,i,s,o,a){const l=t-n*i,u=e-r*i,c=t+n*s,h=e+r*s;let d,f;o?(d=r,f=-n):(d=-r,f=n);const p=l+d,m=u+f,v=c+d,g=h+f;return a.push(p,m,v,g),2}function ai(t,e,n,r,i,s,o,a){const l=n-t,u=r-e;let c=Math.atan2(l,u),h=Math.atan2(i-t,s-e);a&&c<h?c+=Math.PI*2:!a&&c>h&&(h+=Math.PI*2);let d=c;const f=h-c,p=Math.abs(f),m=Math.sqrt(l*l+u*u),v=(15*p*Math.sqrt(m)/Math.PI>>0)+1,g=f/v;if(d+=g,a){o.push(t,e,n,r);for(let y=1,x=d;y<v;y++,x+=g)o.push(t,e,t+Math.sin(x)*m,e+Math.cos(x)*m);o.push(t,e,i,s)}else{o.push(n,r,t,e);for(let y=1,x=d;y<v;y++,x+=g)o.push(t+Math.sin(x)*m,e+Math.cos(x)*m,t,e);o.push(i,s,t,e)}return v*2}function v4(t,e){const n=t.shape;let r=t.points||n.points.slice();const i=e.closePointEps;if(r.length===0)return;const s=t.lineStyle,o=new re(r[0],r[1]),a=new re(r[r.length-2],r[r.length-1]),l=n.type!==ut.POLY||n.closeStroke,u=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(l){r=r.slice(),u&&(r.pop(),r.pop(),a.set(r[r.length-2],r[r.length-1]));const $=(o.x+a.x)*.5,M=(a.y+o.y)*.5;r.unshift($,M),r.push($,M)}const c=e.points,h=r.length/2;let d=r.length;const f=c.length/2,p=s.width/2,m=p*p,v=s.miterLimit*s.miterLimit;let g=r[0],y=r[1],x=r[2],b=r[3],S=0,E=0,C=-(y-b),A=g-x,F=0,k=0,B=Math.sqrt(C*C+A*A);C/=B,A/=B,C*=p,A*=p;const U=s.alignment,O=(1-U)*2,T=U*2;l||(s.cap===_i.ROUND?d+=ai(g-C*(O-T)*.5,y-A*(O-T)*.5,g-C*O,y-A*O,g+C*T,y+A*T,c,!0)+2:s.cap===_i.SQUARE&&(d+=dx(g,y,C,A,O,T,!0,c))),c.push(g-C*O,y-A*O,g+C*T,y+A*T);for(let $=1;$<h-1;++$){g=r[($-1)*2],y=r[($-1)*2+1],x=r[$*2],b=r[$*2+1],S=r[($+1)*2],E=r[($+1)*2+1],C=-(y-b),A=g-x,B=Math.sqrt(C*C+A*A),C/=B,A/=B,C*=p,A*=p,F=-(b-E),k=x-S,B=Math.sqrt(F*F+k*k),F/=B,k/=B,F*=p,k*=p;const M=x-g,H=y-b,R=x-S,N=E-b,V=M*R+H*N,se=H*R-N*M,le=se<0;if(Math.abs(se)<.001*Math.abs(V)){c.push(x-C*O,b-A*O,x+C*T,b+A*T),V>=0&&(s.join===_n.ROUND?d+=ai(x,b,x-C*O,b-A*O,x-F*O,b-k*O,c,!1)+4:d+=2,c.push(x-F*T,b-k*T,x+F*O,b+k*O));continue}const ve=(-C+g)*(-A+b)-(-C+x)*(-A+y),he=(-F+S)*(-k+b)-(-F+x)*(-k+E),pe=(M*he-R*ve)/se,He=(N*ve-H*he)/se,nt=(pe-x)*(pe-x)+(He-b)*(He-b),Ze=x+(pe-x)*O,Ee=b+(He-b)*O,De=x-(pe-x)*T,We=b-(He-b)*T,Lt=Math.min(M*M+H*H,R*R+N*N),tn=le?O:T,ko=Lt+tn*tn*m,SA=nt<=ko;let kl=s.join;if(kl===_n.MITER&&nt/m>v&&(kl=_n.BEVEL),SA)switch(kl){case _n.MITER:{c.push(Ze,Ee,De,We);break}case _n.BEVEL:{le?c.push(Ze,Ee,x+C*T,b+A*T,Ze,Ee,x+F*T,b+k*T):c.push(x-C*O,b-A*O,De,We,x-F*O,b-k*O,De,We),d+=2;break}case _n.ROUND:{le?(c.push(Ze,Ee,x+C*T,b+A*T),d+=ai(x,b,x+C*T,b+A*T,x+F*T,b+k*T,c,!0)+4,c.push(Ze,Ee,x+F*T,b+k*T)):(c.push(x-C*O,b-A*O,De,We),d+=ai(x,b,x-C*O,b-A*O,x-F*O,b-k*O,c,!1)+4,c.push(x-F*O,b-k*O,De,We));break}}else{switch(c.push(x-C*O,b-A*O,x+C*T,b+A*T),kl){case _n.MITER:{le?c.push(De,We,De,We):c.push(Ze,Ee,Ze,Ee),d+=2;break}case _n.ROUND:{le?d+=ai(x,b,x+C*T,b+A*T,x+F*T,b+k*T,c,!0)+2:d+=ai(x,b,x-C*O,b-A*O,x-F*O,b-k*O,c,!1)+2;break}}c.push(x-F*O,b-k*O,x+F*T,b+k*T),d+=2}}g=r[(h-2)*2],y=r[(h-2)*2+1],x=r[(h-1)*2],b=r[(h-1)*2+1],C=-(y-b),A=g-x,B=Math.sqrt(C*C+A*A),C/=B,A/=B,C*=p,A*=p,c.push(x-C*O,b-A*O,x+C*T,b+A*T),l||(s.cap===_i.ROUND?d+=ai(x-C*(O-T)*.5,b-A*(O-T)*.5,x-C*O,b-A*O,x+C*T,b+A*T,c,!1)+2:s.cap===_i.SQUARE&&(d+=dx(x,b,C,A,O,T,!1,c)));const D=e.indices,G=lo.epsilon*lo.epsilon;for(let $=f;$<d+f-2;++$)g=c[$*2],y=c[$*2+1],x=c[($+1)*2],b=c[($+1)*2+1],S=c[($+2)*2],E=c[($+2)*2+1],!(Math.abs(g*(b-E)+x*(E-y)+S*(y-b))<G)&&D.push($,$+1,$+2)}function y4(t,e){let n=0;const r=t.shape,i=t.points||r.points,s=r.type!==ut.POLY||r.closeStroke;if(i.length===0)return;const o=e.points,a=e.indices,l=i.length/2,u=o.length/2;let c=u;for(o.push(i[0],i[1]),n=1;n<l;n++)o.push(i[n*2],i[n*2+1]),a.push(c,c+1),c++;s&&a.push(c,u)}function fx(t,e){t.lineStyle.native?y4(t,e):v4(t,e)}class xv{static curveLength(e,n,r,i,s,o){const a=e-2*r+s,l=n-2*i+o,u=2*r-2*e,c=2*i-2*n,h=4*(a*a+l*l),d=4*(a*u+l*c),f=u*u+c*c,p=2*Math.sqrt(h+d+f),m=Math.sqrt(h),v=2*h*m,g=2*Math.sqrt(f),y=d/m;return(v*p+m*d*(p-g)+(4*f*h-d*d)*Math.log((2*m+y+p)/(y+g)))/(4*v)}static curveTo(e,n,r,i,s){const o=s[s.length-2],a=s[s.length-1],l=lo._segmentsCount(xv.curveLength(o,a,e,n,r,i));let u=0,c=0;for(let h=1;h<=l;++h){const d=h/l;u=o+(e-o)*d,c=a+(n-a)*d,s.push(u+(e+(r-e)*d-u)*d,c+(n+(i-n)*d-c)*d)}}}const uf={[ut.POLY]:EC,[ut.CIRC]:zc,[ut.ELIP]:zc,[ut.RECT]:p4,[ut.RREC]:g4},px=[],pu=[];class Gc{constructor(e,n=null,r=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=r,this.fillStyle=n,this.matrix=i,this.type=e.type}clone(){return new Gc(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const es=new re,SC=class extends CS{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Nc,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),pu.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),px.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,n=null,r=null){const i=new Gc(t,e,n,r);return this.graphicsData.push(i),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const n=new Gc(t,null,null,e),r=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=r.lineStyle,r.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let n=0;n<e.length;++n){const r=e[n];if(r.fillStyle.visible&&r.shape&&(r.matrix?r.matrix.applyInverse(t,es):es.copyFrom(t),r.shape.contains(es.x,es.y))){let i=!1;if(r.holes){for(let s=0;s<r.holes.length;s++)if(r.holes[s].shape.contains(es.x,es.y)){i=!0;break}}if(!i)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let n=null,r=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],r=n.style);for(let a=this.shapeIndex;a<e.length;a++){this.shapeIndex++;const l=e[a],u=l.fillStyle,c=l.lineStyle;uf[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix),(u.visible||c.visible)&&this.processHoles(l.holes);for(let d=0;d<2;d++){const f=d===0?u:c;if(!f.visible)continue;const p=f.texture.baseTexture,m=this.indices.length,v=this.points.length/2;p.wrapMode=Xr.REPEAT,d===0?this.processFill(l):this.processLine(l);const g=this.points.length/2-v;g!==0&&(n&&!this._compareStyles(r,f)&&(n.end(m,v),n=null),n||(n=px.pop()||new m4,n.begin(f,m,v),this.batches.push(n),r=f),this.addUvs(this.points,t,f.texture,v,g,f.matrix))}}const i=this.indices.length,s=this.points.length/2;if(n&&n.end(i,s),this.batches.length===0){this.batchable=!0;return}const o=s>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&o===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=o?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const n=this.graphicsData[t],r=n.fillStyle,i=n.lineStyle;if(r&&!r.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,n=t.length;e<n;e++){const r=t[e];for(let i=0;i<r.size;i++){const s=r.start+i;this.indicesUint16[s]=this.indicesUint16[s]-r.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<SC.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++ue._globalBatch;for(let c=0;c<this.drawCalls.length;c++)this.drawCalls[c].texArray.clear(),pu.push(this.drawCalls[c]);this.drawCalls.length=0;const e=this.colors,n=this.textureIds;let r=pu.pop();r||(r=new Kp,r.texArray=new Qp),r.texArray.count=0,r.start=0,r.size=0,r.type=qn.TRIANGLES;let i=0,s=null,o=0,a=!1,l=qn.TRIANGLES,u=0;this.drawCalls.push(r);for(let c=0;c<this.batches.length;c++){const h=this.batches[c],d=8,f=h.style,p=f.texture.baseTexture;a!==!!f.native&&(a=!!f.native,l=a?qn.LINES:qn.TRIANGLES,s=null,i=d,t++),s!==p&&(s=p,p._batchEnabled!==t&&(i===d&&(t++,i=0,r.size>0&&(r=pu.pop(),r||(r=new Kp,r.texArray=new Qp),this.drawCalls.push(r)),r.start=u,r.size=0,r.texArray.count=0,r.type=l),p.touched=1,p._batchEnabled=t,p._batchLocation=i,p.wrapMode=Xr.REPEAT,r.texArray.elements[r.texArray.count++]=p,i++)),r.size+=h.size,u+=h.size,o=p._batchLocation,this.addColors(e,f.color,f.alpha,h.attribSize,h.attribStart),this.addTextureIds(n,o,h.attribSize,h.attribStart)}ue._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,n=this.colors,r=this.textureIds,i=new ArrayBuffer(t.length*3*4),s=new Float32Array(i),o=new Uint32Array(i);let a=0;for(let l=0;l<t.length/2;l++)s[a++]=t[l*2],s[a++]=t[l*2+1],s[a++]=e[l*2],s[a++]=e[l*2+1],o[a++]=n[l],s[a++]=r[l];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?EC.triangulate(t,this):uf[t.type].triangulate(t,this)}processLine(t){fx(t,this);for(let e=0;e<t.holes.length;e++)fx(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const n=t[e];uf[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let n=0;n<t.length/2;n++){const r=t[n*2],i=t[n*2+1];t[n*2]=e.a*r+e.c*i+e.tx,t[n*2+1]=e.b*r+e.d*i+e.ty}}addColors(t,e,n,r,i=0){const s=(e>>16)+(e&65280)+((e&255)<<16),o=fv(s,n);t.length=Math.max(t.length,i+r);for(let a=0;a<r;a++)t[i+a]=o}addTextureIds(t,e,n,r=0){t.length=Math.max(t.length,r+n);for(let i=0;i<n;i++)t[r+i]=e}addUvs(t,e,n,r,i,s=null){let o=0;const a=e.length,l=n.frame;for(;o<i;){let c=t[(r+o)*2],h=t[(r+o)*2+1];if(s){const d=s.a*c+s.c*h+s.tx;h=s.b*c+s.d*h+s.ty,c=d}o++,e.push(c/l.width,h/l.height)}const u=n.baseTexture;(l.width<u.width||l.height<u.height)&&this.adjustUvs(e,n,a,i)}adjustUvs(t,e,n,r){const i=e.baseTexture,s=1e-6,o=n+r*2,a=e.frame,l=a.width/i.width,u=a.height/i.height;let c=a.x/a.width,h=a.y/a.height,d=Math.floor(t[n]+s),f=Math.floor(t[n+1]+s);for(let p=n+2;p<o;p+=2)d=Math.min(d,Math.floor(t[p]+s)),f=Math.min(f,Math.floor(t[p+1]+s));c-=d,h-=f;for(let p=n;p<o;p+=2)t[p]=(t[p]+c)*l,t[p+1]=(t[p+1]+h)*u}};let CC=SC;CC.BATCHABLE_SIZE=100;class $h{constructor(){this.color=16777215,this.alpha=1,this.texture=Q.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new $h;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=Q.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class bv extends $h{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=_i.BUTT,this.join=_n.MITER,this.miterLimit=10}clone(){const e=new bv;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const x4=new Float32Array(3),cf={},Yu=class extends Kt{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new $h,this._lineStyle=new bv,this._matrix=null,this._holeMode=!1,this.state=Er.for2d(),this._geometry=t||new CC,this._geometry.refCount++,this._transformID=-1,this.tint=16777215,this.blendMode=ie.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Yu(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tint}set tint(t){this._tint=t}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,n=1,r=.5,i=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:n,alignment:r,native:i}),this.lineTextureStyle(t)}lineTextureStyle(t){t=Object.assign({width:0,texture:Q.WHITE,color:t!=null&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:_i.BUTT,join:_n.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();const e=t.width>0&&t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:e},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new Ws,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new Ws,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,r=n[n.length-2],i=n[n.length-1];return(r!==t||i!==e)&&n.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,n,r){this._initCurve();const i=this.currentPath.points;return i.length===0&&this.moveTo(0,0),xv.curveTo(t,e,n,r,i),this}bezierCurveTo(t,e,n,r,i,s){return this._initCurve(),yv.curveTo(t,e,n,r,i,s,this.currentPath.points),this}arcTo(t,e,n,r,i){this._initCurve(t,e);const s=this.currentPath.points,o=hx.curveTo(t,e,n,r,i,s);if(o){const{cx:a,cy:l,radius:u,startAngle:c,endAngle:h,anticlockwise:d}=o;this.arc(a,l,u,c,h,d)}return this}arc(t,e,n,r,i,s=!1){if(r===i)return this;if(!s&&i<=r?i+=Lc:s&&r<=i&&(r+=Lc),i-r===0)return this;const a=t+Math.cos(r)*n,l=e+Math.sin(r)*n,u=this._geometry.closePointEps;let c=this.currentPath?this.currentPath.points:null;if(c){const h=Math.abs(c[c.length-2]-a),d=Math.abs(c[c.length-1]-l);h<u&&d<u||c.push(a,l)}else this.moveTo(a,l),c=this.currentPath.points;return hx.arc(a,l,t,e,n,r,i,s,c),this}beginFill(t=0,e=1){return this.beginTextureFill({texture:Q.WHITE,color:t,alpha:e})}beginTextureFill(t){t=Object.assign({texture:Q.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();const e=t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:e},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,n,r){return this.drawShape(new ce(t,e,n,r))}drawRoundedRect(t,e,n,r,i){return this.drawShape(new Qa(t,e,n,r,i))}drawCircle(t,e,n){return this.drawShape(new TS(t,e,n))}drawEllipse(t,e,n,r){return this.drawShape(new pv(t,e,n,r))}drawPolygon(...t){let e,n=!0;const r=t[0];r.points?(n=r.closeStroke,e=r.points):Array.isArray(t[0])?e=t[0]:e=t;const i=new Ws(e);return i.closeStroke=n,this.drawShape(i),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===ut.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,n=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(t.points);for(let r=0;r<n;r++){const i=t.batches[r],s=i.style.color,o=new Float32Array(this.vertexData.buffer,i.attribStart*4*2,i.attribSize*2),a=new Float32Array(t.uvsFloat32.buffer,i.attribStart*4*2,i.attribSize*2),l=new Uint16Array(t.indicesUint16.buffer,i.start*2,i.size),u={vertexData:o,blendMode:e,indices:l,uvs:a,_batchRGB:Ka(s),_tintRGB:s,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[r]=u}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,n=this.batches.length;e<n;e++){const r=this.batches[e];r.worldAlpha=this.worldAlpha*r.alpha,t.plugins[this.pluginName].render(r)}}}_renderDirect(t){const e=this._resolveDirectShader(t),n=this._geometry,r=this.tint,i=this.worldAlpha,s=e.uniforms,o=n.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(r>>16&255)/255*i,s.tint[1]=(r>>8&255)/255*i,s.tint[2]=(r&255)/255*i,s.tint[3]=i,t.shader.bind(e),t.geometry.bind(n,e),t.state.set(this.state);for(let a=0,l=o.length;a<l;a++)this._renderDrawCallDirect(t,n.drawCalls[a])}_renderDrawCallDirect(t,e){const{texArray:n,type:r,size:i,start:s}=e,o=n.count;for(let a=0;a<o;a++)t.texture.bind(n.elements[a],a);t.geometry.draw(r,i,s)}_resolveDirectShader(t){let e=this.shader;const n=this.pluginName;if(!e){if(!cf[n]){const{maxTextures:r}=t.plugins[n],i=new Int32Array(r);for(let a=0;a<r;a++)i[a]=a;const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new ke,default:Dn.from({uSamplers:i},!0)},o=t.plugins[n]._shader.program;cf[n]=new er(o,s)}e=cf[n]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:n,maxX:r,maxY:i}=t.bounds;this._bounds.addFrame(this.transform,e,n,r,i)}containsPoint(t){return this.worldTransform.applyInverse(t,Yu._TEMP_POINT),this._geometry.containsPoint(Yu._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this.tint;const t=Ka(this.tint,x4);for(let e=0;e<this.batches.length;e++){const n=this.batches[e],r=n._batchRGB,i=t[0]*r[0]*255,s=t[1]*r[1]*255,o=t[2]*r[2]*255,a=(i<<16)+(s<<8)+(o|0);n._tintRGB=(a>>16)+(a&65280)+((a&255)<<16)}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,n=e.a,r=e.b,i=e.c,s=e.d,o=e.tx,a=e.ty,l=this._geometry.points,u=this.vertexData;let c=0;for(let h=0;h<l.length;h+=2){const d=l[h],f=l[h+1];u[c++]=n*d+i*f+o,u[c++]=s*f+r*d+a}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};let Ai=Yu;Ai.curves=lo;Ai._TEMP_POINT=new re;class b4{constructor(e,n){this.uvBuffer=e,this.uvMatrix=n,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const n=this.uvBuffer.data;(!this.data||this.data.length!==n.length)&&(this.data=new Float32Array(n.length)),this.uvMatrix.multiplyUvs(n,this.data),this._updateID++}}const hf=new re,gx=new Ws,TC=class extends Kt{constructor(t,e,n,r=qn.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=n||Er.for2d(),this.drawMode=r,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=Y.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===qn.TRIANGLES&&e.length<TC.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]),t.plugins[r].render(this)}calculateVertices(){const e=this.geometry.buffers[0],n=e.data,r=e._updateID;if(r===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==n.length&&(this.vertexData=new Float32Array(n.length));const i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,l=i.d,u=i.tx,c=i.ty,h=this.vertexData;for(let d=0;d<h.length/2;d++){const f=n[d*2],p=n[d*2+1];h[d*2]=s*f+a*p+u,h[d*2+1]=o*f+l*p+c}if(this._roundPixels){const d=Y.RESOLUTION;for(let f=0;f<h.length;++f)h[f]=Math.round(h[f]*d)/d}this.vertexDirty=r}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new b4(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,hf);const e=this.geometry.getBuffer("aVertexPosition").data,n=gx.points,r=this.geometry.getIndex().data,i=r.length,s=this.drawMode===4?3:1;for(let o=0;o+2<i;o+=s){const a=r[o]*2,l=r[o+1]*2,u=r[o+2]*2;if(n[0]=e[a],n[1]=e[a+1],n[2]=e[l],n[3]=e[l+1],n[4]=e[u],n[5]=e[u+1],gx.contains(hf.x,hf.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let cg=TC;cg.BATCHABLE_SIZE=100;class w4 extends Qr{constructor(e,n,r){super();const i=new et(e),s=new et(n,!0),o=new et(r,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,ee.FLOAT).addAttribute("aTextureCoord",s,2,!1,ee.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var _4=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,E4=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class mx extends er{constructor(e,n){const r={uSampler:e,alpha:1,uTextureMatrix:ke.IDENTITY,uColor:new Float32Array([1,1,1,1])};n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(r,n.uniforms),super(n.program||An.from(E4,_4),r),this._colorDirty=!1,this.uvMatrix=new VS(e),this.batchable=n.program===void 0,this.pluginName=n.pluginName,this.tint=n.tint,this.alpha=n.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16),this._colorDirty=!0)}get tint(){return this._tint}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture;bS(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class vx{constructor(e,n,r){this.geometry=new Qr,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||ee.FLOAT,offset:s.offset},n[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let n=0;this.indexBuffer=new et(f3(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=n,n+=a.size,this.dynamicStride+=a.size}const r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new et(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new et(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===ee.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===ee.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,n,r){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,n,r,s.type===ee.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,n,r){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,n,r,s.type===ee.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var S4=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,C4=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class AC extends kh{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new ke,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:ee.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=er.from(C4,S4,{}),this.state=Er.for2d()}render(e){const n=e.children,r=e._maxSize,i=e._batchSize,s=this.renderer;let o=n.length;if(o===0)return;o>r&&!e.autoResize&&(o=r);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const l=n[0]._texture.baseTexture,u=l.alphaMode>0;this.state.blendMode=xS(e.blendMode,u),s.state.set(this.state);const c=s.gl,h=e.worldTransform.copyTo(this.tempMatrix);h.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=h.toArray(!0),this.shader.uniforms.uColor=d3(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,u),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);let d=!1;for(let f=0,p=0;f<o;f+=i,p+=1){let m=o-f;m>i&&(m=i),p>=a.length&&a.push(this._generateOneMoreBuffer(e));const v=a[p];v.uploadDynamic(n,f,m);const g=e._bufferUpdateIDs[p]||0;d=d||v._updateID<g,d&&(v._updateID=e._updateID,v.uploadStatic(n,f,m)),s.geometry.bind(v.geometry),c.drawElements(c.TRIANGLES,m*6,c.UNSIGNED_SHORT,0)}}generateBuffers(e){const n=[],r=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<r;o+=i)n.push(new vx(this.properties,s,i));return n}_generateOneMoreBuffer(e){const n=e._batchSize,r=e._properties;return new vx(this.properties,r,n)}uploadVertices(e,n,r,i,s,o){let a=0,l=0,u=0,c=0;for(let h=0;h<r;++h){const d=e[n+h],f=d._texture,p=d.scale.x,m=d.scale.y,v=f.trim,g=f.orig;v?(l=v.x-d.anchor.x*g.width,a=l+v.width,c=v.y-d.anchor.y*g.height,u=c+v.height):(a=g.width*(1-d.anchor.x),l=g.width*-d.anchor.x,u=g.height*(1-d.anchor.y),c=g.height*-d.anchor.y),i[o]=l*p,i[o+1]=c*m,i[o+s]=a*p,i[o+s+1]=c*m,i[o+s*2]=a*p,i[o+s*2+1]=u*m,i[o+s*3]=l*p,i[o+s*3+1]=u*m,o+=s*4}}uploadPosition(e,n,r,i,s,o){for(let a=0;a<r;a++){const l=e[n+a].position;i[o]=l.x,i[o+1]=l.y,i[o+s]=l.x,i[o+s+1]=l.y,i[o+s*2]=l.x,i[o+s*2+1]=l.y,i[o+s*3]=l.x,i[o+s*3+1]=l.y,o+=s*4}}uploadRotation(e,n,r,i,s,o){for(let a=0;a<r;a++){const l=e[n+a].rotation;i[o]=l,i[o+s]=l,i[o+s*2]=l,i[o+s*3]=l,o+=s*4}}uploadUvs(e,n,r,i,s,o){for(let a=0;a<r;++a){const l=e[n+a]._texture._uvs;l?(i[o]=l.x0,i[o+1]=l.y0,i[o+s]=l.x1,i[o+s+1]=l.y1,i[o+s*2]=l.x2,i[o+s*2+1]=l.y2,i[o+s*3]=l.x3,i[o+s*3+1]=l.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,n,r,i,s,o){for(let a=0;a<r;++a){const l=e[n+a],u=l._texture.baseTexture.alphaMode>0,c=l.alpha,h=c<1&&u?fv(l._tintRGB,c):l._tintRGB+(c*255<<24);i[o]=h,i[o+s]=h,i[o+s*2]=h,i[o+s*3]=h,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}AC.extension={name:"particle",type:X.RendererPlugin};J.add(AC);var Bh=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Bh||{});const gu={willReadFrequently:!0},K=class{static get experimentalLetterSpacingSupported(){let t=K._experimentalLetterSpacingSupported;if(t!==void 0){const e=Y.ADAPTER.getCanvasRenderingContext2D().prototype;t=K._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,n,r,i,s,o,a,l){this.text=t,this.style=e,this.width=n,this.height=r,this.lines=i,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=l}static measureText(t,e,n,r=K._canvas){n=n??e.wordWrap;const i=e.toFontString(),s=K.measureFont(i);s.fontSize===0&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);const o=r.getContext("2d",gu);o.font=i;const l=(n?K.wordWrap(t,e,r):t).split(/(?:\r\n|\r|\n)/),u=new Array(l.length);let c=0;for(let p=0;p<l.length;p++){const m=K._measureText(l[p],e.letterSpacing,o);u[p]=m,c=Math.max(c,m)}let h=c+e.strokeThickness;e.dropShadow&&(h+=e.dropShadowDistance);const d=e.lineHeight||s.fontSize+e.strokeThickness;let f=Math.max(d,s.fontSize+e.strokeThickness*2)+(l.length-1)*(d+e.leading);return e.dropShadow&&(f+=e.dropShadowDistance),new K(t,e,h,f,l,u,d+e.leading,c,s)}static _measureText(t,e,n){let r=!1;K.experimentalLetterSpacingSupported&&(K.experimentalLetterSpacing?(n.letterSpacing=`${e}px`,n.textLetterSpacing=`${e}px`,r=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let i=n.measureText(t).width;return i>0&&(r?i-=e:i+=(K.graphemeSegmenter(t).length-1)*e),i}static wordWrap(t,e,n=K._canvas){const r=n.getContext("2d",gu);let i=0,s="",o="";const a=Object.create(null),{letterSpacing:l,whiteSpace:u}=e,c=K.collapseSpaces(u),h=K.collapseNewlines(u);let d=!c;const f=e.wordWrapWidth+l,p=K.tokenize(t);for(let m=0;m<p.length;m++){let v=p[m];if(K.isNewline(v)){if(!h){o+=K.addLine(s),d=!c,s="",i=0;continue}v=" "}if(c){const y=K.isBreakingSpace(v),x=K.isBreakingSpace(s[s.length-1]);if(y&&x)continue}const g=K.getFromCache(v,l,a,r);if(g>f)if(s!==""&&(o+=K.addLine(s),s="",i=0),K.canBreakWords(v,e.breakWords)){const y=K.wordWrapSplit(v);for(let x=0;x<y.length;x++){let b=y[x],S=b,E=1;for(;y[x+E];){const A=y[x+E];if(!K.canBreakChars(S,A,v,x,e.breakWords))b+=A;else break;S=A,E++}x+=E-1;const C=K.getFromCache(b,l,a,r);C+i>f&&(o+=K.addLine(s),d=!1,s="",i=0),s+=b,i+=C}}else{s.length>0&&(o+=K.addLine(s),s="",i=0);const y=m===p.length-1;o+=K.addLine(v,!y),d=!1,s="",i=0}else g+i>f&&(d=!1,o+=K.addLine(s),s="",i=0),(s.length>0||!K.isBreakingSpace(v)||d)&&(s+=v,i+=g)}return o+=K.addLine(s,!1),o}static addLine(t,e=!0){return t=K.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,n,r){let i=n[t];return typeof i!="number"&&(i=K._measureText(t,e,r)+e,n[t]=i),i}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const n=t[e];if(!K.isBreakingSpace(n))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:K._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:K._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let n="";if(typeof t!="string")return e;for(let r=0;r<t.length;r++){const i=t[r],s=t[r+1];if(K.isBreakingSpace(i,s)||K.isNewline(i)){n!==""&&(e.push(n),n=""),e.push(i);continue}n+=i}return n!==""&&e.push(n),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,n,r,i){return!0}static wordWrapSplit(t){return K.graphemeSegmenter(t)}static measureFont(t){if(K._fonts[t])return K._fonts[t];const e={ascent:0,descent:0,fontSize:0},n=K._canvas,r=K._context;r.font=t;const i=K.METRICS_STRING+K.BASELINE_SYMBOL,s=Math.ceil(r.measureText(i).width);let o=Math.ceil(r.measureText(K.BASELINE_SYMBOL).width);const a=Math.ceil(K.HEIGHT_MULTIPLIER*o);if(o=o*K.BASELINE_MULTIPLIER|0,s===0||a===0)return K._fonts[t]=e,e;n.width=s,n.height=a,r.fillStyle="#f00",r.fillRect(0,0,s,a),r.font=t,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(i,0,o);const l=r.getImageData(0,0,s,a).data,u=l.length,c=s*4;let h=0,d=0,f=!1;for(h=0;h<o;++h){for(let p=0;p<c;p+=4)if(l[d+p]!==255){f=!0;break}if(!f)d+=c;else break}for(e.ascent=o-h,d=u-c,f=!1,h=a;h>o;--h){for(let p=0;p<c;p+=4)if(l[d+p]!==255){f=!0;break}if(!f)d-=c;else break}return e.descent=h-o,e.fontSize=e.ascent+e.descent,K._fonts[t]=e,e}static clearMetrics(t=""){t?delete K._fonts[t]:K._fonts={}}static get _canvas(){if(!K.__canvas){let t;try{const e=new OffscreenCanvas(0,0),n=e.getContext("2d",gu);if(n!=null&&n.measureText)return K.__canvas=e,e;t=Y.ADAPTER.createCanvas()}catch{t=Y.ADAPTER.createCanvas()}t.width=t.height=10,K.__canvas=t}return K.__canvas}static get _context(){return K.__context||(K.__context=K._canvas.getContext("2d",gu)),K.__context}};let lt=K;lt.METRICS_STRING="|ÉqÅ";lt.BASELINE_SYMBOL="M";lt.BASELINE_MULTIPLIER=1.4;lt.HEIGHT_MULTIPLIER=2;lt.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(n=>n.segment)}return t=>[...t]})();lt.experimentalLetterSpacing=!1;lt._fonts={};lt._newlines=[10,13];lt._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const T4=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],ha=class{constructor(t){this.styleID=0,this.reset(),ff(this,t,t)}clone(){const t={};return ff(t,this,ha.defaultStyle),new ha(t)}reset(){ff(this,ha.defaultStyle,ha.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=df(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=df(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){A4(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=df(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let n=e.length-1;n>=0;n--){let r=e[n].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&!T4.includes(r)&&(r=`"${r}"`),e[n]=r}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};let Bi=ha;Bi.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Bh.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};function yx(t){return typeof t=="number"?vS(t):(typeof t=="string"&&t.startsWith("0x")&&(t=t.replace("0x","#")),t)}function df(t){if(Array.isArray(t)){for(let e=0;e<t.length;++e)t[e]=yx(t[e]);return t}else return yx(t)}function A4(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}function ff(t,e,n){for(const r in n)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}const P4={texture:!0,children:!1,baseTexture:!0},hg=class extends gl{constructor(t,e,n){let r=!1;n||(n=Y.ADAPTER.createCanvas(),r=!0),n.width=3,n.height=3;const i=Q.from(n);i.orig=new ce,i.trim=new ce,super(i),this._ownCanvas=r,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=hg.defaultResolution??Y.RESOLUTION,this._autoResolution=hg.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return lt.experimentalLetterSpacing}static set experimentalLetterSpacing(t){me("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),lt.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const n=this.context,r=lt.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=r.width,s=r.height,o=r.lines,a=r.lineHeight,l=r.lineWidths,u=r.maxLineWidth,c=r.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,i)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+e.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;let h,d;const f=e.dropShadow?2:1;for(let p=0;p<f;++p){const m=e.dropShadow&&p===0,v=m?Math.ceil(Math.max(1,s)+e.padding*2):0,g=v*this._resolution;if(m){n.fillStyle="black",n.strokeStyle="black";const x=e.dropShadowColor,b=Ka(typeof x=="number"?x:dv(x)),S=e.dropShadowBlur*this._resolution,E=e.dropShadowDistance*this._resolution;n.shadowColor=`rgba(${b[0]*255},${b[1]*255},${b[2]*255},${e.dropShadowAlpha})`,n.shadowBlur=S,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*E,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*E+g}else n.fillStyle=this._generateFillStyle(e,o,r),n.strokeStyle=e.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let y=(a-c.fontSize)/2;a-c.fontSize<0&&(y=0);for(let x=0;x<o.length;x++)h=e.strokeThickness/2,d=e.strokeThickness/2+x*a+c.ascent+y,e.align==="right"?h+=u-l[x]:e.align==="center"&&(h+=(u-l[x])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(o[x],h+e.padding,d+e.padding-v,!0),e.fill&&this.drawLetterSpacing(o[x],h+e.padding,d+e.padding-v)}this.updateTexture()}drawLetterSpacing(t,e,n,r=!1){const s=this._style.letterSpacing;let o=!1;if(lt.experimentalLetterSpacingSupported&&(lt.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){r?this.context.strokeText(t,e,n):this.context.fillText(t,e,n);return}let a=e;const l=lt.graphemeSegmenter(t);let u=this.context.measureText(t).width,c=0;for(let h=0;h<l.length;++h){const d=l[h];r?this.context.strokeText(d,a,n):this.context.fillText(d,a,n);let f="";for(let p=h+1;p<l.length;++p)f+=l[p];c=this.context.measureText(f).width,a+=u-c+s,u=c}}updateTexture(){const t=this.canvas;if(this._style.trim){const s=m3(t);s.data&&(t.width=s.width,t.height=s.height,this.context.putImageData(s.data,0,0))}const e=this._texture,n=this._style,r=n.trim?0:n.padding,i=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-r,e.trim.y=-r,e.orig.width=e._frame.width-r*2,e.orig.height=e._frame.height-r*2,this._onTextureUpdate(),i.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,n){const r=t.fill;if(Array.isArray(r)){if(r.length===1)return r[0]}else return r;let i;const s=t.dropShadow?t.dropShadowDistance:0,o=t.padding||0,a=this.canvas.width/this._resolution-s-o*2,l=this.canvas.height/this._resolution-s-o*2,u=r.slice(),c=t.fillGradientStops.slice();if(!c.length){const h=u.length+1;for(let d=1;d<h;++d)c.push(d/h)}if(u.unshift(r[0]),c.unshift(0),u.push(r[r.length-1]),c.push(1),t.fillGradientType===Bh.LINEAR_VERTICAL){i=this.context.createLinearGradient(a/2,o,a/2,l+o);const h=n.fontProperties.fontSize+t.strokeThickness;for(let d=0;d<e.length;d++){const f=n.lineHeight*(d-1)+h,p=n.lineHeight*d;let m=p;d>0&&f>p&&(m=(p+f)/2);const v=p+h,g=n.lineHeight*(d+1);let y=v;d+1<e.length&&g<v&&(y=(v+g)/2);const x=(y-m)/l;for(let b=0;b<u.length;b++){let S=0;typeof c[b]=="number"?S=c[b]:S=b/u.length;let E=Math.min(1,Math.max(0,m/l+S*x));E=Number(E.toFixed(5)),i.addColorStop(E,u[b])}}}else{i=this.context.createLinearGradient(o,l/2,a+o,l/2);const h=u.length+1;let d=1;for(let f=0;f<u.length;f++){let p;typeof c[f]=="number"?p=c[f]:p=d/h,i.addColorStop(p,u[f]),d++}}return i}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},P4,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=Fs(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=Fs(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof Bi?this._style=t:this._style=new Bi(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};let Ys=hg;Ys.defaultAutoResolution=!0;class O4{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function I4(t,e){var r;let n=!1;if((r=t==null?void 0:t._textures)!=null&&r.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof Q){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),n=!0)}}return n}function R4(t,e){if(t.baseTexture instanceof ue){const n=t.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function M4(t,e){if(t._texture&&t._texture instanceof Q){const n=t._texture.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function k4(t,e){return e instanceof Ys?(e.updateText(!0),!0):!1}function D4(t,e){if(e instanceof Bi){const n=e.toFontString();return lt.measureFont(n),!0}return!1}function F4(t,e){if(t instanceof Ys){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const n=t._texture.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function $4(t,e){return t instanceof Bi?(e.includes(t)||e.push(t),!0):!1}const PC=class{constructor(t){this.limiter=new O4(PC.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(F4),this.registerFindHook($4),this.registerFindHook(I4),this.registerFindHook(R4),this.registerFindHook(M4),this.registerUploadHook(k4),this.registerUploadHook(D4)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,_t.system.addOnce(this.tick,this,oo.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed){for(let n=0,r=this.uploadHooks.length;n<r;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)_t.system.addOnce(this.tick,this,oo.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,n=t.length;e<n;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,n=this.addHooks.length;e<n&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Kt)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&_t.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let Vc=PC;Vc.uploadsPerFrame=4;Object.defineProperties(Y,{UPLOADS_PER_FRAME:{get(){return Vc.uploadsPerFrame},set(t){me("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),Vc.uploadsPerFrame=t}}});function OC(t,e){return e instanceof ue?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function B4(t,e){if(!(e instanceof Ai))return!1;const{geometry:n}=e;e.finishPoly(),n.updateBatches();const{batches:r}=n;for(let i=0;i<r.length;i++){const{texture:s}=r[i].style;s&&OC(t,s.baseTexture)}return n.batchable||t.geometry.bind(n,e._resolveDirectShader(t)),!0}function L4(t,e){return t instanceof Ai?(e.push(t),!0):!1}class IC extends Vc{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(L4),this.registerUploadHook(OC),this.registerUploadHook(B4)}}IC.extension={name:"prepare",type:X.RendererSystem};J.add(IC);var N4=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,U4=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,j4=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,xx=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,H4=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const mu=new ke;class RC extends kh{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new jS,this.state=Er.for2d()}contextChange(){const e=this.renderer,n={globals:e.globalUniforms};this.simpleShader=er.from(xx,H4,n),this.shader=e.context.webGLVersion>1?er.from(U4,N4,n):er.from(xx,j4,n)}render(e){const n=this.renderer,r=this.quad;let i=r.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=r.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,r.invalidate();const a=e._texture,l=a.baseTexture,u=l.alphaMode>0,c=e.tileTransform.localTransform,h=e.uvMatrix;let d=l.isPowerOfTwo&&a.frame.width===l.width&&a.frame.height===l.height;d&&(l._glTextures[n.CONTEXT_UID]?d=l.wrapMode!==Xr.CLAMP:l.wrapMode===Xr.CLAMP&&(l.wrapMode=Xr.REPEAT));const f=d?this.simpleShader:this.shader,p=a.width,m=a.height,v=e._width,g=e._height;mu.set(c.a*p/v,c.b*p/g,c.c*m/v,c.d*m/g,c.tx/v,c.ty/g),mu.invert(),d?mu.prepend(h.mapCoord):(f.uniforms.uMapCoord=h.mapCoord.toArray(!0),f.uniforms.uClampFrame=h.uClampFrame,f.uniforms.uClampOffset=h.uClampOffset),f.uniforms.uTransform=mu.toArray(!0),f.uniforms.uColor=bS(e.tint,e.worldAlpha,f.uniforms.uColor,u),f.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),f.uniforms.uSampler=a,n.shader.bind(f),n.geometry.bind(r),this.state.blendMode=xS(e.blendMode,u),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}RC.extension={name:"tilingSprite",type:X.RendererPlugin};J.add(RC);const da=class{constructor(t,e,n=null){this.linkedSheets=[],this._texture=t instanceof Q?t:null,this.baseTexture=t instanceof ue?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const r=this.baseTexture.resource;this.resolution=this._updateResolution(n||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let n=Zr(t,null);return n===null&&(n=parseFloat(e??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=da.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const n=da.BATCH_SIZE;for(;e-t<n&&e<this._frameKeys.length;){const r=this._frameKeys[e],i=this._frames[r],s=i.frame;if(s){let o=null,a=null;const l=i.trimmed!==!1&&i.sourceSize?i.sourceSize:i.frame,u=new ce(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);i.rotated?o=new ce(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):o=new ce(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),i.trimmed!==!1&&i.spriteSourceSize&&(a=new ce(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[r]=new Q(this.baseTexture,o,u,a,i.rotated?2:0,i.anchor),Q.addToCache(this.textures[r],r)}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let n=0;n<t[e].length;n++){const r=t[e][n];this.animations[e].push(this.textures[r])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*da.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*da.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var e;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)==null||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let dg=da;dg.BATCH_SIZE=1e3;const z4=["jpg","png","jpeg","avif","webp"];function MC(t,e,n){const r={};if(t.forEach(i=>{r[i]=e}),Object.keys(e.textures).forEach(i=>{r[i]=e.textures[i]}),!n){const i=ft.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const a=MC([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(r,a)})}return r}const G4={extension:X.Asset,cache:{test:t=>t instanceof dg,getCacheableAssets:(t,e)=>MC(t,e,!1)},resolver:{test:t=>{const n=t.split("?")[0].split("."),r=n.pop(),i=n.pop();return r==="json"&&z4.includes(i)},parse:t=>{var n;const e=t.split(".");return{resolution:parseFloat(((n=Y.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:e[e.length-2],src:t}}},loader:{extension:{type:X.LoadParser,priority:rr.Normal},async testParse(t,e){return ft.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,n){var u,c;let r=ft.dirname(e.src);r&&r.lastIndexOf("/")!==r.length-1&&(r+="/");let i=r+t.meta.image;i=ag(i,e.src);const o=(await n.load([i]))[i],a=new dg(o.baseTexture,t,e.src);await a.parse();const l=(u=t==null?void 0:t.meta)==null?void 0:u.related_multi_packs;if(Array.isArray(l)){const h=[];for(const f of l){if(typeof f!="string")continue;let p=r+f;(c=e.data)!=null&&c.ignoreMultiPack||(p=ag(p,e.src),h.push(n.load({src:p,data:{ignoreMultiPack:!0}})))}const d=await Promise.all(h);a.linkedSheets=d,d.forEach(f=>{f.linkedSheets=[a].concat(a.linkedSheets.filter(p=>p!==f))})}return a},unload(t){t.destroy(!0)}}};J.add(G4);class Wc{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class qu{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const n=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in n){const o=n[s].match(/^[a-z]+/gm)[0],a=n[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),l={};for(const u in a){const c=a[u].split("="),h=c[0],d=c[1].replace(/"/gm,""),f=parseFloat(d),p=isNaN(f)?d:f;l[h]=p}r[o].push(l)}const i=new Wc;return r.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),r.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),r.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),r.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),r.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),r.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class fg{static test(e){const n=e;return"getElementsByTagName"in n&&n.getElementsByTagName("page").length&&n.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const n=new Wc,r=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField");for(let u=0;u<r.length;u++)n.info.push({face:r[u].getAttribute("face"),size:parseInt(r[u].getAttribute("size"),10)});for(let u=0;u<i.length;u++)n.common.push({lineHeight:parseInt(i[u].getAttribute("lineHeight"),10)});for(let u=0;u<s.length;u++)n.page.push({id:parseInt(s[u].getAttribute("id"),10)||0,file:s[u].getAttribute("file")});for(let u=0;u<o.length;u++){const c=o[u];n.char.push({id:parseInt(c.getAttribute("id"),10),page:parseInt(c.getAttribute("page"),10)||0,x:parseInt(c.getAttribute("x"),10),y:parseInt(c.getAttribute("y"),10),width:parseInt(c.getAttribute("width"),10),height:parseInt(c.getAttribute("height"),10),xoffset:parseInt(c.getAttribute("xoffset"),10),yoffset:parseInt(c.getAttribute("yoffset"),10),xadvance:parseInt(c.getAttribute("xadvance"),10)})}for(let u=0;u<a.length;u++)n.kerning.push({first:parseInt(a[u].getAttribute("first"),10),second:parseInt(a[u].getAttribute("second"),10),amount:parseInt(a[u].getAttribute("amount"),10)});for(let u=0;u<l.length;u++)n.distanceField.push({fieldType:l[u].getAttribute("fieldType"),distanceRange:parseInt(l[u].getAttribute("distanceRange"),10)});return n}}class pg{static test(e){return typeof e=="string"&&e.includes("<font>")?fg.test(Y.ADAPTER.parseXML(e)):!1}static parse(e){return fg.parse(Y.ADAPTER.parseXML(e))}}const pf=[qu,fg,pg];function V4(t){for(let e=0;e<pf.length;e++)if(pf[e].test(t))return pf[e];return null}function W4(t,e,n,r,i,s){const o=n.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const l=n.dropShadow?n.dropShadowDistance:0,u=n.padding||0,c=t.width/r-l-u*2,h=t.height/r-l-u*2,d=o.slice(),f=n.fillGradientStops.slice();if(!f.length){const p=d.length+1;for(let m=1;m<p;++m)f.push(m/p)}if(d.unshift(o[0]),f.unshift(0),d.push(o[o.length-1]),f.push(1),n.fillGradientType===Bh.LINEAR_VERTICAL){a=e.createLinearGradient(c/2,u,c/2,h+u);let p=0;const v=(s.fontProperties.fontSize+n.strokeThickness)/h;for(let g=0;g<i.length;g++){const y=s.lineHeight*g;for(let x=0;x<d.length;x++){let b=0;typeof f[x]=="number"?b=f[x]:b=x/d.length;const S=y/h+b*v;let E=Math.max(p,S);E=Math.min(E,1),a.addColorStop(E,d[x]),p=E}}}else{a=e.createLinearGradient(u,h/2,c+u,h/2);const p=d.length+1;let m=1;for(let v=0;v<d.length;v++){let g;typeof f[v]=="number"?g=f[v]:g=m/p,a.addColorStop(g,d[v]),m++}}return a}function X4(t,e,n,r,i,s,o){const a=n.text,l=n.fontProperties;e.translate(r,i),e.scale(s,s);const u=o.strokeThickness/2,c=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=W4(t,e,o,s,[a],n),e.strokeStyle=o.stroke,o.dropShadow){const h=o.dropShadowColor,d=Ka(typeof h=="number"?h:dv(h)),f=o.dropShadowBlur*s,p=o.dropShadowDistance*s;e.shadowColor=`rgba(${d[0]*255},${d[1]*255},${d[2]*255},${o.dropShadowAlpha})`,e.shadowBlur=f,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*p,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*p}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,u,c+n.lineHeight-l.descent),o.fill&&e.fillText(a,u,c+n.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Ku(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function kC(t){return Array.from?Array.from(t):t.split("")}function Y4(t){typeof t=="string"&&(t=[t]);const e=[];for(let n=0,r=t.length;n<r;n++){const i=t[n];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,l=o;a<=l;a++)e.push(String.fromCharCode(a))}else e.push(...kC(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const bn=class{constructor(t,e,n){var u;const[r]=t.info,[i]=t.common,[s]=t.page,[o]=t.distanceField,a=Zr(s.file),l={};this._ownsTextures=n,this.font=r.face,this.size=r.size,this.lineHeight=i.lineHeight/a,this.chars={},this.pageTextures=l;for(let c=0;c<t.page.length;c++){const{id:h,file:d}=t.page[c];l[h]=e instanceof Array?e[c]:e[d],o!=null&&o.fieldType&&o.fieldType!=="none"&&(l[h].baseTexture.alphaMode=Ln.NO_PREMULTIPLIED_ALPHA,l[h].baseTexture.mipmap=nr.OFF)}for(let c=0;c<t.char.length;c++){const{id:h,page:d}=t.char[c];let{x:f,y:p,width:m,height:v,xoffset:g,yoffset:y,xadvance:x}=t.char[c];f/=a,p/=a,m/=a,v/=a,g/=a,y/=a,x/=a;const b=new ce(f+l[d].frame.x/a,p+l[d].frame.y/a,m,v);this.chars[h]={xOffset:g,yOffset:y,xAdvance:x,kerning:{},texture:new Q(l[d].baseTexture,b),page:d}}for(let c=0;c<t.kerning.length;c++){let{first:h,second:d,amount:f}=t.kerning[c];h/=a,d/=a,f/=a,this.chars[d]&&(this.chars[d].kerning[h]=f)}this.distanceFieldRange=o==null?void 0:o.distanceRange,this.distanceFieldType=((u=o==null?void 0:o.fieldType)==null?void 0:u.toLowerCase())??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,n){let r;if(t instanceof Wc)r=t;else{const s=V4(t);if(!s)throw new Error("Unrecognized data format for font.");r=s.parse(t)}e instanceof Q&&(e=[e]);const i=new bn(r,e,n);return bn.available[i.font]=i,i}static uninstall(t){const e=bn.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete bn.available[t]}static from(t,e,n){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:r,padding:i,resolution:s,textureWidth:o,textureHeight:a,...l}=Object.assign({},bn.defaultOptions,n),u=Y4(r),c=e instanceof Bi?e:new Bi(e),h=o,d=new Wc;d.info[0]={face:c.fontFamily,size:c.fontSize},d.common[0]={lineHeight:c.fontSize};let f=0,p=0,m,v,g,y=0;const x=[];for(let S=0;S<u.length;S++){m||(m=Y.ADAPTER.createCanvas(),m.width=o,m.height=a,v=m.getContext("2d"),g=new ue(m,{resolution:s,...l}),x.push(new Q(g)),d.page.push({id:x.length-1,file:""}));const E=u[S],C=lt.measureText(E,c,!1,m),A=C.width,F=Math.ceil(C.height),k=Math.ceil((c.fontStyle==="italic"?2:1)*A);if(p>=a-F*s){if(p===0)throw new Error(`[BitmapFont] textureHeight ${a}px is too small (fontFamily: '${c.fontFamily}', fontSize: ${c.fontSize}px, char: '${E}')`);--S,m=null,v=null,g=null,p=0,f=0,y=0;continue}if(y=Math.max(F+C.fontProperties.descent,y),k*s+f>=h){if(f===0)throw new Error(`[BitmapFont] textureWidth ${o}px is too small (fontFamily: '${c.fontFamily}', fontSize: ${c.fontSize}px, char: '${E}')`);--S,p+=y*s,p=Math.ceil(p),f=0,y=0;continue}X4(m,v,C,f,p,s,c);const B=Ku(C.text);d.char.push({id:B,page:x.length-1,x:f/s,y:p/s,width:k,height:F,xoffset:0,yoffset:0,xadvance:A-(c.dropShadow?c.dropShadowDistance:0)-(c.stroke?c.strokeThickness:0)}),f+=(k+2*i)*s,f=Math.ceil(f)}for(let S=0,E=u.length;S<E;S++){const C=u[S];for(let A=0;A<E;A++){const F=u[A],k=v.measureText(C).width,B=v.measureText(F).width,O=v.measureText(C+F).width-(k+B);O&&d.kerning.push({first:Ku(C),second:Ku(F),amount:O})}}const b=new bn(d,x,!0);return bn.available[t]!==void 0&&bn.uninstall(t),bn.available[t]=b,b}};let Ot=bn;Ot.ALPHA=[["a","z"],["A","Z"]," "];Ot.NUMERIC=[["0","9"]];Ot.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];Ot.ASCII=[[" ","~"]];Ot.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:bn.ALPHANUMERIC};Ot.available={};var q4=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,K4=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const bx=[],wx=[],_x=[],DC=class extends Kt{constructor(t,e={}){super(),this._tint=16777215;const{align:n,tint:r,maxWidth:i,letterSpacing:s,fontName:o,fontSize:a}=Object.assign({},DC.styleDefaults,e);if(!Ot.available[o])throw new Error(`Missing BitmapFont "${o}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tint=r,this._font=void 0,this._fontName=o,this._fontSize=a,this.text=t,this._maxWidth=i,this._maxLineHeight=0,this._letterSpacing=s,this._anchor=new Lr(()=>{this.dirty=!0},this,0,0),this._roundPixels=Y.ROUND_PIXELS,this.dirty=!0,this._resolution=Y.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var k;const t=Ot.available[this._fontName],e=this.fontSize,n=e/t.size,r=new re,i=[],s=[],o=[],a=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",l=kC(a),u=this._maxWidth*t.size/e,c=t.distanceFieldType==="none"?bx:wx;let h=null,d=0,f=0,p=0,m=-1,v=0,g=0,y=0,x=0;for(let B=0;B<l.length;B++){const U=l[B],O=Ku(U);if(/(?:\s)/.test(U)&&(m=B,v=d,x++),U==="\r"||U===`
`){s.push(d),o.push(-1),f=Math.max(f,d),++p,++g,r.x=0,r.y+=t.lineHeight,h=null,x=0;continue}const T=t.chars[O];if(!T)continue;h&&T.kerning[h]&&(r.x+=T.kerning[h]);const D=_x.pop()||{texture:Q.EMPTY,line:0,charCode:0,prevSpaces:0,position:new re};D.texture=T.texture,D.line=p,D.charCode=O,D.position.x=Math.round(r.x+T.xOffset+this._letterSpacing/2),D.position.y=Math.round(r.y+T.yOffset),D.prevSpaces=x,i.push(D),d=D.position.x+Math.max(T.xAdvance-T.xOffset,T.texture.orig.width),r.x+=T.xAdvance+this._letterSpacing,y=Math.max(y,T.yOffset+T.texture.height),h=O,m!==-1&&u>0&&r.x>u&&(++g,Vs(i,1+m-g,1+B-m),B=m,m=-1,s.push(v),o.push(i.length>0?i[i.length-1].prevSpaces:0),f=Math.max(f,v),p++,r.x=0,r.y+=t.lineHeight,h=null,x=0)}const b=l[l.length-1];b!=="\r"&&b!==`
`&&(/(?:\s)/.test(b)&&(d=v),s.push(d),f=Math.max(f,d),o.push(-1));const S=[];for(let B=0;B<=p;B++){let U=0;this._align==="right"?U=f-s[B]:this._align==="center"?U=(f-s[B])/2:this._align==="justify"&&(U=o[B]<0?0:(f-s[B])/o[B]),S.push(U)}const E=i.length,C={},A=[],F=this._activePagesMeshData;c.push(...F);for(let B=0;B<E;B++){const U=i[B].texture,O=U.baseTexture.uid;if(!C[O]){let T=c.pop();if(!T){const G=new w4;let $,M;t.distanceFieldType==="none"?($=new mx(Q.EMPTY),M=ie.NORMAL):($=new mx(Q.EMPTY,{program:An.from(K4,q4),uniforms:{uFWidth:0}}),M=ie.NORMAL_NPM);const H=new cg(G,$);H.blendMode=M,T={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:H,vertices:null,uvs:null,indices:null}}T.index=0,T.indexCount=0,T.vertexCount=0,T.uvsCount=0,T.total=0;const{_textureCache:D}=this;D[O]=D[O]||new Q(U.baseTexture),T.mesh.texture=D[O],T.mesh.tint=this._tint,A.push(T),C[O]=T}C[O].total++}for(let B=0;B<F.length;B++)A.includes(F[B])||this.removeChild(F[B].mesh);for(let B=0;B<A.length;B++)A[B].mesh.parent!==this&&this.addChild(A[B].mesh);this._activePagesMeshData=A;for(const B in C){const U=C[B],O=U.total;if(!(((k=U.indices)==null?void 0:k.length)>6*O)||U.vertices.length<cg.BATCHABLE_SIZE*2)U.vertices=new Float32Array(4*2*O),U.uvs=new Float32Array(4*2*O),U.indices=new Uint16Array(6*O);else{const T=U.total,D=U.vertices;for(let G=T*4*2;G<D.length;G++)D[G]=0}U.mesh.size=6*O}for(let B=0;B<E;B++){const U=i[B];let O=U.position.x+S[U.line]*(this._align==="justify"?U.prevSpaces:1);this._roundPixels&&(O=Math.round(O));const T=O*n,D=U.position.y*n,G=U.texture,$=C[G.baseTexture.uid],M=G.frame,H=G._uvs,R=$.index++;$.indices[R*6+0]=0+R*4,$.indices[R*6+1]=1+R*4,$.indices[R*6+2]=2+R*4,$.indices[R*6+3]=0+R*4,$.indices[R*6+4]=2+R*4,$.indices[R*6+5]=3+R*4,$.vertices[R*8+0]=T,$.vertices[R*8+1]=D,$.vertices[R*8+2]=T+M.width*n,$.vertices[R*8+3]=D,$.vertices[R*8+4]=T+M.width*n,$.vertices[R*8+5]=D+M.height*n,$.vertices[R*8+6]=T,$.vertices[R*8+7]=D+M.height*n,$.uvs[R*8+0]=H.x0,$.uvs[R*8+1]=H.y0,$.uvs[R*8+2]=H.x1,$.uvs[R*8+3]=H.y1,$.uvs[R*8+4]=H.x2,$.uvs[R*8+5]=H.y2,$.uvs[R*8+6]=H.x3,$.uvs[R*8+7]=H.y3}this._textWidth=f*n,this._textHeight=(r.y+t.lineHeight)*n;for(const B in C){const U=C[B];if(this.anchor.x!==0||this.anchor.y!==0){let G=0;const $=this._textWidth*this.anchor.x,M=this._textHeight*this.anchor.y;for(let H=0;H<U.total;H++)U.vertices[G++]-=$,U.vertices[G++]-=M,U.vertices[G++]-=$,U.vertices[G++]-=M,U.vertices[G++]-=$,U.vertices[G++]-=M,U.vertices[G++]-=$,U.vertices[G++]-=M}this._maxLineHeight=y*n;const O=U.mesh.geometry.getBuffer("aVertexPosition"),T=U.mesh.geometry.getBuffer("aTextureCoord"),D=U.mesh.geometry.getIndex();O.data=U.vertices,T.data=U.uvs,D.data=U.indices,O.update(),T.update(),D.update()}for(let B=0;B<i.length;B++)_x.push(i[B]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:n,size:r}=Ot.available[this._fontName];if(n!=="none"){const{a:i,b:s,c:o,d:a}=this.worldTransform,l=Math.sqrt(i*i+s*s),u=Math.sqrt(o*o+a*a),c=(Math.abs(l)+Math.abs(u))/2,h=this.fontSize/r,d=t._view.resolution;for(const f of this._activePagesMeshData)f.mesh.shader.uniforms.uFWidth=c*e*h*d}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=Ot.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tint}set tint(t){if(this._tint!==t){this._tint=t;for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!Ot.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??Ot.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,r=Ot.available[this._fontName].distanceFieldType==="none"?bx:wx;r.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],r.filter(i=>e[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=Q.EMPTY});for(const i in e)e[i].destroy(),delete e[i];this._font=null,this._textureCache=null,super.destroy(t)}};let Z4=DC;Z4.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const Q4=[".xml",".fnt"],J4={extension:{type:X.LoadParser,priority:rr.Normal},test(t){return Q4.includes(ft.extname(t).toLowerCase())},async testParse(t){return qu.test(t)||pg.test(t)},async parse(t,e,n){const r=qu.test(t)?qu.parse(t):pg.parse(t),{src:i}=e,{page:s}=r,o=[];for(let u=0;u<s.length;++u){const c=s[u].file;let h=ft.join(ft.dirname(i),c);h=ag(h,i),o.push(h)}const a=await n.load(o),l=o.map(u=>a[u]);return Ot.install(r,l,!0)},async load(t,e){return(await Y.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};J.add(J4);var e$=Object.defineProperty,t$=(t,e,n)=>e in t?e$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,L=(t,e,n)=>(t$(t,typeof e!="symbol"?e+"":e,n),n);let fn=class{constructor(e){L(this,"parent"),L(this,"paused"),this.parent=e,this.paused=!1}destroy(){}down(e){return!1}move(e){return!1}up(e){return!1}wheel(e){return!1}update(e){}resize(){}reset(){}pause(){this.paused=!0}resume(){this.paused=!1}};var n$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},FC={exports:{}};(function(t,e){(function(){var n,r;r=function(i){return t.exports=i},n={linear:function(i,s,o,a){return o*i/a+s},easeInQuad:function(i,s,o,a){return o*(i/=a)*i+s},easeOutQuad:function(i,s,o,a){return-o*(i/=a)*(i-2)+s},easeInOutQuad:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i+s:-o/2*(--i*(i-2)-1)+s},easeInCubic:function(i,s,o,a){return o*(i/=a)*i*i+s},easeOutCubic:function(i,s,o,a){return o*((i=i/a-1)*i*i+1)+s},easeInOutCubic:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i+s:o/2*((i-=2)*i*i+2)+s},easeInQuart:function(i,s,o,a){return o*(i/=a)*i*i*i+s},easeOutQuart:function(i,s,o,a){return-o*((i=i/a-1)*i*i*i-1)+s},easeInOutQuart:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i*i+s:-o/2*((i-=2)*i*i*i-2)+s},easeInQuint:function(i,s,o,a){return o*(i/=a)*i*i*i*i+s},easeOutQuint:function(i,s,o,a){return o*((i=i/a-1)*i*i*i*i+1)+s},easeInOutQuint:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i*i*i+s:o/2*((i-=2)*i*i*i*i+2)+s},easeInSine:function(i,s,o,a){return-o*Math.cos(i/a*(Math.PI/2))+o+s},easeOutSine:function(i,s,o,a){return o*Math.sin(i/a*(Math.PI/2))+s},easeInOutSine:function(i,s,o,a){return-o/2*(Math.cos(Math.PI*i/a)-1)+s},easeInExpo:function(i,s,o,a){return i===0?s:o*Math.pow(2,10*(i/a-1))+s},easeOutExpo:function(i,s,o,a){return i===a?s+o:o*(-Math.pow(2,-10*i/a)+1)+s},easeInOutExpo:function(i,s,o,a){return(i/=a/2)<1?o/2*Math.pow(2,10*(i-1))+s:o/2*(-Math.pow(2,-10*--i)+2)+s},easeInCirc:function(i,s,o,a){return-o*(Math.sqrt(1-(i/=a)*i)-1)+s},easeOutCirc:function(i,s,o,a){return o*Math.sqrt(1-(i=i/a-1)*i)+s},easeInOutCirc:function(i,s,o,a){return(i/=a/2)<1?-o/2*(Math.sqrt(1-i*i)-1)+s:o/2*(Math.sqrt(1-(i-=2)*i)+1)+s},easeInElastic:function(i,s,o,a){var l,u,c;return c=1.70158,u=0,l=o,i===0||(i/=a),u||(u=a*.3),l<Math.abs(o)?(l=o,c=u/4):c=u/(2*Math.PI)*Math.asin(o/l),-(l*Math.pow(2,10*(i-=1))*Math.sin((i*a-c)*(2*Math.PI)/u))+s},easeOutElastic:function(i,s,o,a){var l,u,c;return c=1.70158,u=0,l=o,i===0||(i/=a),u||(u=a*.3),l<Math.abs(o)?(l=o,c=u/4):c=u/(2*Math.PI)*Math.asin(o/l),l*Math.pow(2,-10*i)*Math.sin((i*a-c)*(2*Math.PI)/u)+o+s},easeInOutElastic:function(i,s,o,a){var l,u,c;return c=1.70158,u=0,l=o,i===0||(i/=a/2),u||(u=a*(.3*1.5)),l<Math.abs(o)?(l=o,c=u/4):c=u/(2*Math.PI)*Math.asin(o/l),i<1?-.5*(l*Math.pow(2,10*(i-=1))*Math.sin((i*a-c)*(2*Math.PI)/u))+s:l*Math.pow(2,-10*(i-=1))*Math.sin((i*a-c)*(2*Math.PI)/u)*.5+o+s},easeInBack:function(i,s,o,a,l){return l===void 0&&(l=1.70158),o*(i/=a)*i*((l+1)*i-l)+s},easeOutBack:function(i,s,o,a,l){return l===void 0&&(l=1.70158),o*((i=i/a-1)*i*((l+1)*i+l)+1)+s},easeInOutBack:function(i,s,o,a,l){return l===void 0&&(l=1.70158),(i/=a/2)<1?o/2*(i*i*(((l*=1.525)+1)*i-l))+s:o/2*((i-=2)*i*(((l*=1.525)+1)*i+l)+2)+s},easeInBounce:function(i,s,o,a){var l;return l=n.easeOutBounce(a-i,0,o,a),o-l+s},easeOutBounce:function(i,s,o,a){return(i/=a)<1/2.75?o*(7.5625*i*i)+s:i<2/2.75?o*(7.5625*(i-=1.5/2.75)*i+.75)+s:i<2.5/2.75?o*(7.5625*(i-=2.25/2.75)*i+.9375)+s:o*(7.5625*(i-=2.625/2.75)*i+.984375)+s},easeInOutBounce:function(i,s,o,a){var l;return i<a/2?(l=n.easeInBounce(i*2,0,o,a),l*.5+s):(l=n.easeOutBounce(i*2-a,0,o,a),l*.5+o*.5+s)}},r(n)}).call(n$)})(FC);const Ex=FC.exports;function Lh(t,e){if(t){if(typeof t=="function")return t;if(typeof t=="string")return Ex[t]}else return Ex[e]}const r$={removeOnInterrupt:!1,ease:"linear",time:1e3};let i$=class extends fn{constructor(e,n={}){super(e),L(this,"options"),L(this,"startX"),L(this,"startY"),L(this,"deltaX"),L(this,"deltaY"),L(this,"keepCenter"),L(this,"startWidth",null),L(this,"startHeight",null),L(this,"deltaWidth",null),L(this,"deltaHeight",null),L(this,"width",null),L(this,"height",null),L(this,"time",0),this.options=Object.assign({},r$,n),this.options.ease=Lh(this.options.ease),this.setupPosition(),this.setupZoom(),this.time=0}setupPosition(){typeof this.options.position<"u"?(this.startX=this.parent.center.x,this.startY=this.parent.center.y,this.deltaX=this.options.position.x-this.parent.center.x,this.deltaY=this.options.position.y-this.parent.center.y,this.keepCenter=!1):this.keepCenter=!0}setupZoom(){this.width=null,this.height=null,typeof this.options.scale<"u"?this.width=this.parent.screenWidth/this.options.scale:typeof this.options.scaleX<"u"||typeof this.options.scaleY<"u"?(typeof this.options.scaleX<"u"&&(this.width=this.parent.screenWidth/this.options.scaleX),typeof this.options.scaleY<"u"&&(this.height=this.parent.screenHeight/this.options.scaleY)):(typeof this.options.width<"u"&&(this.width=this.options.width),typeof this.options.height<"u"&&(this.height=this.options.height)),this.width!==null&&(this.startWidth=this.parent.screenWidthInWorldPixels,this.deltaWidth=this.width-this.startWidth),this.height!==null&&(this.startHeight=this.parent.screenHeightInWorldPixels,this.deltaHeight=this.height-this.startHeight)}down(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("animate"),!1}complete(){this.parent.plugins.remove("animate"),this.width!==null&&this.parent.fitWidth(this.width,this.keepCenter,this.height===null),this.height!==null&&this.parent.fitHeight(this.height,this.keepCenter,this.width===null),!this.keepCenter&&this.options.position&&this.parent.moveCenter(this.options.position),this.parent.emit("animate-end",this.parent),this.options.callbackOnComplete&&this.options.callbackOnComplete(this.parent)}update(e){if(this.paused)return;this.time+=e;const n=new re(this.parent.scale.x,this.parent.scale.y);if(this.time>=this.options.time){const r=this.parent.width,i=this.parent.height;this.complete(),(r!==this.parent.width||i!==this.parent.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:n,type:"animate"})}else{const r=this.options.ease(this.time,0,1,this.options.time);if(this.width!==null){const i=this.startWidth,s=this.deltaWidth;this.parent.fitWidth(i+s*r,this.keepCenter,this.height===null)}if(this.height!==null){const i=this.startHeight,s=this.deltaHeight;this.parent.fitHeight(i+s*r,this.keepCenter,this.width===null)}if(this.width===null?this.parent.scale.x=this.parent.scale.y:this.height===null&&(this.parent.scale.y=this.parent.scale.x),!this.keepCenter){const i=this.startX,s=this.startY,o=this.deltaX,a=this.deltaY,l=new re(this.parent.x,this.parent.y);this.parent.moveCenter(i+o*r,s+a*r),this.parent.emit("moved",{viewport:this.parent,original:l,type:"animate"})}(this.width||this.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:n,type:"animate"})}}};const s$={sides:"all",friction:.5,time:150,ease:"easeInOutSine",underflow:"center",bounceBox:null};let o$=class extends fn{constructor(e,n={}){super(e),L(this,"options"),L(this,"left"),L(this,"top"),L(this,"right"),L(this,"bottom"),L(this,"underflowX"),L(this,"underflowY"),L(this,"ease"),L(this,"toX"),L(this,"toY"),this.options=Object.assign({},s$,n),this.ease=Lh(this.options.ease,"easeInOutSine"),this.options.sides?this.options.sides==="all"?this.top=this.bottom=this.left=this.right=!0:this.options.sides==="horizontal"?(this.right=this.left=!0,this.top=this.bottom=!1):this.options.sides==="vertical"?(this.left=this.right=!1,this.top=this.bottom=!0):(this.top=this.options.sides.indexOf("top")!==-1,this.bottom=this.options.sides.indexOf("bottom")!==-1,this.left=this.options.sides.indexOf("left")!==-1,this.right=this.options.sides.indexOf("right")!==-1):this.left=this.top=this.right=this.bottom=!1;const r=this.options.underflow.toLowerCase();r==="center"?(this.underflowX=0,this.underflowY=0):(this.underflowX=r.indexOf("left")!==-1?-1:r.indexOf("right")!==-1?1:0,this.underflowY=r.indexOf("top")!==-1?-1:r.indexOf("bottom")!==-1?1:0),this.reset()}isActive(){return this.toX!==null||this.toY!==null}down(){return this.toX=this.toY=null,!1}up(){return this.bounce(),!1}update(e){if(!this.paused){if(this.bounce(),this.toX){const n=this.toX;n.time+=e,this.parent.emit("moved",{viewport:this.parent,type:"bounce-x"}),n.time>=this.options.time?(this.parent.x=n.end,this.toX=null,this.parent.emit("bounce-x-end",this.parent)):this.parent.x=this.ease(n.time,n.start,n.delta,this.options.time)}if(this.toY){const n=this.toY;n.time+=e,this.parent.emit("moved",{viewport:this.parent,type:"bounce-y"}),n.time>=this.options.time?(this.parent.y=n.end,this.toY=null,this.parent.emit("bounce-y-end",this.parent)):this.parent.y=this.ease(n.time,n.start,n.delta,this.options.time)}}}calcUnderflowX(){let e;switch(this.underflowX){case-1:e=0;break;case 1:e=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:e=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}return e}calcUnderflowY(){let e;switch(this.underflowY){case-1:e=0;break;case 1:e=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:e=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}return e}oob(){const e=this.options.bounceBox;if(e){const n=typeof e.x>"u"?0:e.x,r=typeof e.y>"u"?0:e.y,i=typeof e.width>"u"?this.parent.worldWidth:e.width,s=typeof e.height>"u"?this.parent.worldHeight:e.height;return{left:this.parent.left<n,right:this.parent.right>i,top:this.parent.top<r,bottom:this.parent.bottom>s,topLeft:new re(n*this.parent.scale.x,r*this.parent.scale.y),bottomRight:new re(i*this.parent.scale.x-this.parent.screenWidth,s*this.parent.scale.y-this.parent.screenHeight)}}return{left:this.parent.left<0,right:this.parent.right>this.parent.worldWidth,top:this.parent.top<0,bottom:this.parent.bottom>this.parent.worldHeight,topLeft:new re(0,0),bottomRight:new re(this.parent.worldWidth*this.parent.scale.x-this.parent.screenWidth,this.parent.worldHeight*this.parent.scale.y-this.parent.screenHeight)}}bounce(){var e,n;if(this.paused)return;let r,i=this.parent.plugins.get("decelerate",!0);i&&(i.x||i.y)&&(i.x&&i.percentChangeX===((e=i.options)==null?void 0:e.friction)||i.y&&i.percentChangeY===((n=i.options)==null?void 0:n.friction))&&(r=this.oob(),(r.left&&this.left||r.right&&this.right)&&(i.percentChangeX=this.options.friction),(r.top&&this.top||r.bottom&&this.bottom)&&(i.percentChangeY=this.options.friction));const s=this.parent.plugins.get("drag",!0)||{},o=this.parent.plugins.get("pinch",!0)||{};if(i=i||{},!(s!=null&&s.active)&&!(o!=null&&o.active)&&(!this.toX||!this.toY)&&(!i.x||!i.y)){r=r||this.oob();const a=r.topLeft,l=r.bottomRight;if(!this.toX&&!i.x){let u=null;r.left&&this.left?u=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-a.x:r.right&&this.right&&(u=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-l.x),u!==null&&this.parent.x!==u&&(this.toX={time:0,start:this.parent.x,delta:u-this.parent.x,end:u},this.parent.emit("bounce-x-start",this.parent))}if(!this.toY&&!i.y){let u=null;r.top&&this.top?u=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-a.y:r.bottom&&this.bottom&&(u=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-l.y),u!==null&&this.parent.y!==u&&(this.toY={time:0,start:this.parent.y,delta:u-this.parent.y,end:u},this.parent.emit("bounce-y-start",this.parent))}}}reset(){this.toX=this.toY=null,this.bounce()}};const a$={left:!1,right:!1,top:!1,bottom:!1,direction:null,underflow:"center"};let l$=class extends fn{constructor(e,n={}){super(e),L(this,"options"),L(this,"last"),L(this,"noUnderflow"),L(this,"underflowX"),L(this,"underflowY"),this.options=Object.assign({},a$,n),this.options.direction&&(this.options.left=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.right=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.top=this.options.direction==="y"||this.options.direction==="all"?!0:null,this.options.bottom=this.options.direction==="y"||this.options.direction==="all"?!0:null),this.parseUnderflow(),this.last={x:null,y:null,scaleX:null,scaleY:null},this.update()}parseUnderflow(){const e=this.options.underflow.toLowerCase();e==="none"?this.noUnderflow=!0:e==="center"?(this.underflowX=this.underflowY=0,this.noUnderflow=!1):(this.underflowX=e.indexOf("left")!==-1?-1:e.indexOf("right")!==-1?1:0,this.underflowY=e.indexOf("top")!==-1?-1:e.indexOf("bottom")!==-1?1:0,this.noUnderflow=!1)}move(){return this.update(),!1}update(){if(this.paused||this.parent.x===this.last.x&&this.parent.y===this.last.y&&this.parent.scale.x===this.last.scaleX&&this.parent.scale.y===this.last.scaleY)return;const e=new re(this.parent.x,this.parent.y),n=this.parent.plugins.decelerate||{};if(this.options.left!==null||this.options.right!==null){let r=!1;if(!this.noUnderflow&&this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x!==0&&(this.parent.x=0,r=!0);break;case 1:this.parent.x!==this.parent.screenWidth-this.parent.screenWorldWidth&&(this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth,r=!0);break;default:this.parent.x!==(this.parent.screenWidth-this.parent.screenWorldWidth)/2&&(this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2,r=!0)}else this.options.left!==null&&this.parent.left<(this.options.left===!0?0:this.options.left)&&(this.parent.x=-(this.options.left===!0?0:this.options.left)*this.parent.scale.x,n.x=0,r=!0),this.options.right!==null&&this.parent.right>(this.options.right===!0?this.parent.worldWidth:this.options.right)&&(this.parent.x=-(this.options.right===!0?this.parent.worldWidth:this.options.right)*this.parent.scale.x+this.parent.screenWidth,n.x=0,r=!0);r&&this.parent.emit("moved",{viewport:this.parent,original:e,type:"clamp-x"})}if(this.options.top!==null||this.options.bottom!==null){let r=!1;if(!this.noUnderflow&&this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y!==0&&(this.parent.y=0,r=!0);break;case 1:this.parent.y!==this.parent.screenHeight-this.parent.screenWorldHeight&&(this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight,r=!0);break;default:this.parent.y!==(this.parent.screenHeight-this.parent.screenWorldHeight)/2&&(this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2,r=!0)}else this.options.top!==null&&this.parent.top<(this.options.top===!0?0:this.options.top)&&(this.parent.y=-(this.options.top===!0?0:this.options.top)*this.parent.scale.y,n.y=0,r=!0),this.options.bottom!==null&&this.parent.bottom>(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)&&(this.parent.y=-(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)*this.parent.scale.y+this.parent.screenHeight,n.y=0,r=!0);r&&this.parent.emit("moved",{viewport:this.parent,original:e,type:"clamp-y"})}this.last.x=this.parent.x,this.last.y=this.parent.y,this.last.scaleX=this.parent.scale.x,this.last.scaleY=this.parent.scale.y}reset(){this.update()}};const u$={minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,minScale:null,maxScale:null};let c$=class extends fn{constructor(e,n={}){super(e),L(this,"options"),this.options=Object.assign({},u$,n),this.clamp()}resize(){this.clamp()}clamp(){if(!this.paused){if(this.options.minWidth||this.options.minHeight||this.options.maxWidth||this.options.maxHeight){let e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight;if(this.options.minWidth!==null&&e<this.options.minWidth){const r=this.parent.scale.x;this.parent.fitWidth(this.options.minWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/r,e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxWidth!==null&&e>this.options.maxWidth){const r=this.parent.scale.x;this.parent.fitWidth(this.options.maxWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/r,e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.minHeight!==null&&n<this.options.minHeight){const r=this.parent.scale.y;this.parent.fitHeight(this.options.minHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/r,e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxHeight!==null&&n>this.options.maxHeight){const r=this.parent.scale.y;this.parent.fitHeight(this.options.maxHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/r,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}}else if(this.options.minScale||this.options.maxScale){const e={x:null,y:null},n={x:null,y:null};if(typeof this.options.minScale=="number")e.x=this.options.minScale,e.y=this.options.minScale;else if(this.options.minScale!==null){const s=this.options.minScale;e.x=typeof s.x>"u"?null:s.x,e.y=typeof s.y>"u"?null:s.y}if(typeof this.options.maxScale=="number")n.x=this.options.maxScale,n.y=this.options.maxScale;else if(this.options.maxScale!==null){const s=this.options.maxScale;n.x=typeof s.x>"u"?null:s.x,n.y=typeof s.y>"u"?null:s.y}let r=this.parent.scale.x,i=this.parent.scale.y;e.x!==null&&r<e.x&&(r=e.x),n.x!==null&&r>n.x&&(r=n.x),e.y!==null&&i<e.y&&(i=e.y),n.y!==null&&i>n.y&&(i=n.y),(r!==this.parent.scale.x||i!==this.parent.scale.y)&&(this.parent.scale.set(r,i),this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"}))}}}reset(){this.clamp()}};const h$={friction:.98,bounce:.8,minSpeed:.01},Ir=16;let d$=class extends fn{constructor(e,n={}){super(e),L(this,"options"),L(this,"x"),L(this,"y"),L(this,"percentChangeX"),L(this,"percentChangeY"),L(this,"saved"),L(this,"timeSinceRelease"),this.options=Object.assign({},h$,n),this.saved=[],this.timeSinceRelease=0,this.reset(),this.parent.on("moved",r=>this.handleMoved(r))}down(){return this.saved=[],this.x=this.y=null,!1}isActive(){return!!(this.x||this.y)}move(){if(this.paused)return!1;const e=this.parent.input.count();return(e===1||e>1&&!this.parent.plugins.get("pinch",!0))&&(this.saved.push({x:this.parent.x,y:this.parent.y,time:performance.now()}),this.saved.length>60&&this.saved.splice(0,30)),!1}handleMoved(e){if(this.saved.length){const n=this.saved[this.saved.length-1];e.type==="clamp-x"&&e.original?n.x===e.original.x&&(n.x=this.parent.x):e.type==="clamp-y"&&e.original&&n.y===e.original.y&&(n.y=this.parent.y)}}up(){if(this.parent.input.count()===0&&this.saved.length){const e=performance.now();for(const n of this.saved)if(n.time>=e-100){const r=e-n.time;this.x=(this.parent.x-n.x)/r,this.y=(this.parent.y-n.y)/r,this.percentChangeX=this.percentChangeY=this.options.friction,this.timeSinceRelease=0;break}}return!1}activate(e){e=e||{},typeof e.x<"u"&&(this.x=e.x,this.percentChangeX=this.options.friction),typeof e.y<"u"&&(this.y=e.y,this.percentChangeY=this.options.friction)}update(e){if(this.paused)return;const n=this.x||this.y,r=this.timeSinceRelease,i=this.timeSinceRelease+e;if(this.x){const s=this.percentChangeX,o=Math.log(s);this.parent.x+=this.x*Ir/o*(Math.pow(s,i/Ir)-Math.pow(s,r/Ir)),this.x*=Math.pow(this.percentChangeX,e/Ir)}if(this.y){const s=this.percentChangeY,o=Math.log(s);this.parent.y+=this.y*Ir/o*(Math.pow(s,i/Ir)-Math.pow(s,r/Ir)),this.y*=Math.pow(this.percentChangeY,e/Ir)}this.timeSinceRelease+=e,this.x&&this.y?Math.abs(this.x)<this.options.minSpeed&&Math.abs(this.y)<this.options.minSpeed&&(this.x=0,this.y=0):(Math.abs(this.x||0)<this.options.minSpeed&&(this.x=0),Math.abs(this.y||0)<this.options.minSpeed&&(this.y=0)),n&&this.parent.emit("moved",{viewport:this.parent,type:"decelerate"})}reset(){this.x=this.y=null}};const f$={direction:"all",pressDrag:!0,wheel:!0,wheelScroll:1,reverse:!1,clampWheel:!1,underflow:"center",factor:1,mouseButtons:"all",keyToPress:null,ignoreKeyToPressOnTouch:!1,lineHeight:20,wheelSwapAxes:!1};class p$ extends fn{constructor(e,n={}){super(e),L(this,"options"),L(this,"moved"),L(this,"reverse"),L(this,"xDirection"),L(this,"yDirection"),L(this,"keyIsPressed"),L(this,"mouse"),L(this,"underflowX"),L(this,"underflowY"),L(this,"last"),L(this,"current"),L(this,"windowEventHandlers",[]),this.options=Object.assign({},f$,n),this.moved=!1,this.reverse=this.options.reverse?1:-1,this.xDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="x",this.yDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="y",this.keyIsPressed=!1,this.parseUnderflow(),this.mouseButtons(this.options.mouseButtons),this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(e){const n=i=>{e.includes(i.code)&&(this.keyIsPressed=!0)},r=i=>{e.includes(i.code)&&(this.keyIsPressed=!1)};this.addWindowEventHandler("keyup",r),this.addWindowEventHandler("keydown",n)}addWindowEventHandler(e,n){window.addEventListener(e,n),this.windowEventHandlers.push({event:e,handler:n})}destroy(){this.windowEventHandlers.forEach(({event:e,handler:n})=>{window.removeEventListener(e,n)})}mouseButtons(e){!e||e==="all"?this.mouse=[!0,!0,!0]:this.mouse=[e.indexOf("left")!==-1,e.indexOf("middle")!==-1,e.indexOf("right")!==-1]}parseUnderflow(){const e=this.options.underflow.toLowerCase();e==="center"?(this.underflowX=0,this.underflowY=0):(e.includes("left")?this.underflowX=-1:e.includes("right")?this.underflowX=1:this.underflowX=0,e.includes("top")?this.underflowY=-1:e.includes("bottom")?this.underflowY=1:this.underflowY=0)}checkButtons(e){const n=e.pointerType==="mouse",r=this.parent.input.count();return!!((r===1||r>1&&!this.parent.plugins.get("pinch",!0))&&(!n||this.mouse[e.button]))}checkKeyPress(e){return!this.options.keyToPress||this.keyIsPressed||this.options.ignoreKeyToPressOnTouch&&e.data.pointerType==="touch"}down(e){return this.paused||!this.options.pressDrag?!1:this.checkButtons(e)&&this.checkKeyPress(e)?(this.last={x:e.global.x,y:e.global.y},this.current=e.pointerId,!0):(this.last=null,!1)}get active(){return this.moved}move(e){if(this.paused||!this.options.pressDrag)return!1;if(this.last&&this.current===e.data.pointerId){const n=e.global.x,r=e.global.y,i=this.parent.input.count();if(i===1||i>1&&!this.parent.plugins.get("pinch",!0)){const s=n-this.last.x,o=r-this.last.y;if(this.moved||this.xDirection&&this.parent.input.checkThreshold(s)||this.yDirection&&this.parent.input.checkThreshold(o)){const a={x:n,y:r};return this.xDirection&&(this.parent.x+=(a.x-this.last.x)*this.options.factor),this.yDirection&&(this.parent.y+=(a.y-this.last.y)*this.options.factor),this.last=a,this.moved||this.parent.emit("drag-start",{event:e,screen:new re(this.last.x,this.last.y),world:this.parent.toWorld(new re(this.last.x,this.last.y)),viewport:this.parent}),this.moved=!0,this.parent.emit("moved",{viewport:this.parent,type:"drag"}),!0}}else this.moved=!1}return!1}up(e){if(this.paused)return!1;const n=this.parent.input.touches;if(n.length===1){const r=n[0];return r.last&&(this.last={x:r.last.x,y:r.last.y},this.current=r.id),this.moved=!1,!0}else if(this.last&&this.moved){const r=new re(this.last.x,this.last.y);return this.parent.emit("drag-end",{event:e,screen:r,world:this.parent.toWorld(r),viewport:this.parent}),this.last=null,this.moved=!1,!0}return!1}wheel(e){if(this.paused)return!1;if(this.options.wheel){const n=this.parent.plugins.get("wheel",!0);if(!n||!n.options.wheelZoom&&!e.ctrlKey){const r=e.deltaMode?this.options.lineHeight:1,i=[e.deltaX,e.deltaY],[s,o]=this.options.wheelSwapAxes?i.reverse():i;return this.xDirection&&(this.parent.x+=s*r*this.options.wheelScroll*this.reverse),this.yDirection&&(this.parent.y+=o*r*this.options.wheelScroll*this.reverse),this.options.clampWheel&&this.clamp(),this.parent.emit("wheel-scroll",this.parent),this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.options.passiveWheel||e.preventDefault(),this.parent.options.stopPropagation&&e.stopPropagation(),!0}}return!1}resume(){this.last=null,this.paused=!1}clamp(){const e=this.parent.plugins.get("decelerate",!0)||{};if(this.options.clampWheel!=="y")if(this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x=0;break;case 1:this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}else this.parent.left<0?(this.parent.x=0,e.x=0):this.parent.right>this.parent.worldWidth&&(this.parent.x=-this.parent.worldWidth*this.parent.scale.x+this.parent.screenWidth,e.x=0);if(this.options.clampWheel!=="x")if(this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y=0;break;case 1:this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}else this.parent.top<0&&(this.parent.y=0,e.y=0),this.parent.bottom>this.parent.worldHeight&&(this.parent.y=-this.parent.worldHeight*this.parent.scale.y+this.parent.screenHeight,e.y=0)}}const g$={speed:0,acceleration:null,radius:null};let m$=class extends fn{constructor(e,n,r={}){super(e),L(this,"options"),L(this,"target"),L(this,"velocity"),this.target=n,this.options=Object.assign({},g$,r),this.velocity={x:0,y:0}}update(e){if(this.paused)return;const n=this.parent.center;let r=this.target.x,i=this.target.y;if(this.options.radius)if(Math.sqrt(Math.pow(this.target.y-n.y,2)+Math.pow(this.target.x-n.x,2))>this.options.radius){const a=Math.atan2(this.target.y-n.y,this.target.x-n.x);r=this.target.x-Math.cos(a)*this.options.radius,i=this.target.y-Math.sin(a)*this.options.radius}else return;const s=r-n.x,o=i-n.y;if(s||o)if(this.options.speed)if(this.options.acceleration){const a=Math.atan2(i-n.y,r-n.x),l=Math.sqrt(Math.pow(s,2)+Math.pow(o,2));if(l){const u=(Math.pow(this.velocity.x,2)+Math.pow(this.velocity.y,2))/(2*this.options.acceleration);l>u?this.velocity={x:Math.min(this.velocity.x+(this.options.acceleration*e,this.options.speed)),y:Math.min(this.velocity.y+(this.options.acceleration*e,this.options.speed))}:this.velocity={x:Math.max(this.velocity.x-this.options.acceleration*this.options.speed,0),y:Math.max(this.velocity.y-this.options.acceleration*this.options.speed,0)};const c=Math.cos(a)*this.velocity.x,h=Math.sin(a)*this.velocity.y,d=Math.abs(c)>Math.abs(s)?r:n.x+c,f=Math.abs(h)>Math.abs(o)?i:n.y+h;this.parent.moveCenter(d,f),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}else{const a=Math.atan2(i-n.y,r-n.x),l=Math.cos(a)*this.options.speed,u=Math.sin(a)*this.options.speed,c=Math.abs(l)>Math.abs(s)?r:n.x+l,h=Math.abs(u)>Math.abs(o)?i:n.y+u;this.parent.moveCenter(c,h),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}else this.parent.moveCenter(r,i),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}};const v$={radius:null,distance:null,top:null,bottom:null,left:null,right:null,speed:8,reverse:!1,noDecelerate:!1,linear:!1,allowButtons:!1};class y$ extends fn{constructor(e,n={}){super(e),L(this,"options"),L(this,"reverse"),L(this,"radiusSquared"),L(this,"left"),L(this,"top"),L(this,"right"),L(this,"bottom"),L(this,"horizontal"),L(this,"vertical"),this.options=Object.assign({},v$,n),this.reverse=this.options.reverse?1:-1,this.radiusSquared=typeof this.options.radius=="number"?Math.pow(this.options.radius,2):null,this.resize()}resize(){const e=this.options.distance;e!==null?(this.left=e,this.top=e,this.right=this.parent.screenWidth-e,this.bottom=this.parent.screenHeight-e):this.options.radius||(this.left=this.options.left,this.top=this.options.top,this.right=this.options.right===null?null:this.parent.screenWidth-this.options.right,this.bottom=this.options.bottom===null?null:this.parent.screenHeight-this.options.bottom)}down(){return this.paused||this.options.allowButtons||(this.horizontal=this.vertical=null),!1}move(e){if(this.paused||e.pointerType!=="mouse"&&e.pointerId!==1||!this.options.allowButtons&&e.buttons!==0)return!1;const n=e.global.x,r=e.global.y;if(this.radiusSquared){const i=this.parent.toScreen(this.parent.center);if(Math.pow(i.x-n,2)+Math.pow(i.y-r,2)>=this.radiusSquared){const s=Math.atan2(i.y-r,i.x-n);this.options.linear?(this.horizontal=Math.round(Math.cos(s))*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.round(Math.sin(s))*this.options.speed*this.reverse*(60/1e3)):(this.horizontal=Math.cos(s)*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.sin(s)*this.options.speed*this.reverse*(60/1e3))}else this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=0}else this.left!==null&&n<this.left?this.horizontal=Number(this.reverse)*this.options.speed*(60/1e3):this.right!==null&&n>this.right?this.horizontal=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateHorizontal(),this.horizontal=0),this.top!==null&&r<this.top?this.vertical=Number(this.reverse)*this.options.speed*(60/1e3):this.bottom!==null&&r>this.bottom?this.vertical=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateVertical(),this.vertical=0);return!1}decelerateHorizontal(){const e=this.parent.plugins.get("decelerate",!0);this.horizontal&&e&&!this.options.noDecelerate&&e.activate({x:this.horizontal*this.options.speed*this.reverse/(1e3/60)})}decelerateVertical(){const e=this.parent.plugins.get("decelerate",!0);this.vertical&&e&&!this.options.noDecelerate&&e.activate({y:this.vertical*this.options.speed*this.reverse/(1e3/60)})}up(){return this.paused||(this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=null),!1}update(){if(!this.paused&&(this.horizontal||this.vertical)){const e=this.parent.center;this.horizontal&&(e.x+=this.horizontal*this.options.speed),this.vertical&&(e.y+=this.vertical*this.options.speed),this.parent.moveCenter(e),this.parent.emit("moved",{viewport:this.parent,type:"mouse-edges"})}}}const x$={noDrag:!1,percent:1,center:null,factor:1,axis:"all"};class b$ extends fn{constructor(e,n={}){super(e),L(this,"options"),L(this,"active",!1),L(this,"pinching",!1),L(this,"moved",!1),L(this,"lastCenter"),this.options=Object.assign({},x$,n)}down(){return this.parent.input.count()>=2?(this.active=!0,!0):!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}move(e){if(this.paused||!this.active)return!1;const n=e.global.x,r=e.global.y,i=this.parent.input.touches;if(i.length>=2){const s=i[0],o=i[1],a=s.last&&o.last?Math.sqrt(Math.pow(o.last.x-s.last.x,2)+Math.pow(o.last.y-s.last.y,2)):null;if(s.id===e.pointerId?s.last={x:n,y:r,data:e}:o.id===e.pointerId&&(o.last={x:n,y:r,data:e}),a){let l;const u=new re(s.last.x+(o.last.x-s.last.x)/2,s.last.y+(o.last.y-s.last.y)/2);this.options.center||(l=this.parent.toLocal(u));let c=Math.sqrt(Math.pow(o.last.x-s.last.x,2)+Math.pow(o.last.y-s.last.y,2));c=c===0?c=1e-10:c;const h=(1-a/c)*this.options.percent*(this.isAxisX()?this.parent.scale.x:this.parent.scale.y);this.isAxisX()&&(this.parent.scale.x+=h),this.isAxisY()&&(this.parent.scale.y+=h),this.parent.emit("zoomed",{viewport:this.parent,type:"pinch",center:u});const d=this.parent.plugins.get("clamp-zoom",!0);if(d&&d.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const f=this.parent.toGlobal(l);this.parent.x+=(u.x-f.x)*this.options.factor,this.parent.y+=(u.y-f.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})}!this.options.noDrag&&this.lastCenter&&(this.parent.x+=(u.x-this.lastCenter.x)*this.options.factor,this.parent.y+=(u.y-this.lastCenter.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})),this.lastCenter=u,this.moved=!0}else this.pinching||(this.parent.emit("pinch-start",this.parent),this.pinching=!0);return!0}return!1}up(){return this.pinching&&this.parent.input.touches.length<=1?(this.active=!1,this.lastCenter=null,this.pinching=!1,this.moved=!1,this.parent.emit("pinch-end",this.parent),!0):!1}}const w$={topLeft:!1,friction:.8,time:1e3,ease:"easeInOutSine",interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1};let _$=class extends fn{constructor(e,n,r,i={}){super(e),L(this,"options"),L(this,"ease"),L(this,"x"),L(this,"y"),L(this,"percent"),L(this,"snapping"),L(this,"deltaX"),L(this,"deltaY"),L(this,"startX"),L(this,"startY"),this.options=Object.assign({},w$,i),this.ease=Lh(i.ease,"easeInOutSine"),this.x=n,this.y=r,this.options.forceStart&&this.snapStart()}snapStart(){this.percent=0,this.snapping={time:0};const e=this.options.topLeft?this.parent.corner:this.parent.center;this.deltaX=this.x-e.x,this.deltaY=this.y-e.y,this.startX=e.x,this.startY=e.y,this.parent.emit("snap-start",this.parent)}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap"):this.options.interrupt&&(this.snapping=null),!1}up(){if(this.parent.input.count()===0){const e=this.parent.plugins.get("decelerate",!0);e&&(e.x||e.y)&&(e.percentChangeX=e.percentChangeY=this.options.friction)}return!1}update(e){if(!this.paused&&!(this.options.interrupt&&this.parent.input.count()!==0))if(this.snapping){const n=this.snapping;n.time+=e;let r,i,s;const o=this.startX,a=this.startY,l=this.deltaX,u=this.deltaY;if(n.time>this.options.time)r=!0,i=o+l,s=a+u;else{const c=this.ease(n.time,0,1,this.options.time);i=o+l*c,s=a+u*c}this.options.topLeft?this.parent.moveCorner(i,s):this.parent.moveCenter(i,s),this.parent.emit("moved",{viewport:this.parent,type:"snap"}),r&&(this.options.removeOnComplete&&this.parent.plugins.remove("snap"),this.parent.emit("snap-end",this.parent),this.snapping=null)}else{const n=this.options.topLeft?this.parent.corner:this.parent.center;(n.x!==this.x||n.y!==this.y)&&this.snapStart()}}};const E$={width:0,height:0,time:1e3,ease:"easeInOutSine",center:null,interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1,noMove:!1};class S$ extends fn{constructor(e,n={}){super(e),L(this,"options"),L(this,"ease"),L(this,"xScale"),L(this,"yScale"),L(this,"xIndependent"),L(this,"yIndependent"),L(this,"snapping"),this.options=Object.assign({},E$,n),this.ease=Lh(this.options.ease),this.xIndependent=!1,this.yIndependent=!1,this.xScale=0,this.yScale=0,this.options.width>0&&(this.xScale=e.screenWidth/this.options.width,this.xIndependent=!0),this.options.height>0&&(this.yScale=e.screenHeight/this.options.height,this.yIndependent=!0),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale,this.options.time===0?(e.container.scale.x=this.xScale,e.container.scale.y=this.yScale,this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom")):n.forceStart&&this.createSnapping()}createSnapping(){const e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,r=this.parent.screenWidth/this.xScale,i=this.parent.screenHeight/this.yScale;this.snapping={time:0,startX:e,startY:n,deltaX:r-e,deltaY:i-n},this.parent.emit("snap-zoom-start",this.parent)}resize(){this.snapping=null,this.options.width>0&&(this.xScale=this.parent.screenWidth/this.options.width),this.options.height>0&&(this.yScale=this.parent.screenHeight/this.options.height),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap-zoom"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap-zoom"):this.options.interrupt&&(this.snapping=null),!1}update(e){if(this.paused||this.options.interrupt&&this.parent.input.count()!==0)return;let n;if(!this.options.center&&!this.options.noMove&&(n=this.parent.center),!this.snapping)(this.parent.scale.x!==this.xScale||this.parent.scale.y!==this.yScale)&&this.createSnapping();else if(this.snapping){const r=this.snapping;if(r.time+=e,r.time>=this.options.time)this.parent.scale.set(this.xScale,this.yScale),this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom"),this.parent.emit("snap-zoom-end",this.parent),this.snapping=null;else{const s=this.snapping,o=this.ease(s.time,s.startX,s.deltaX,this.options.time),a=this.ease(s.time,s.startY,s.deltaY,this.options.time);this.parent.scale.x=this.parent.screenWidth/o,this.parent.scale.y=this.parent.screenHeight/a}const i=this.parent.plugins.get("clamp-zoom",!0);i&&i.clamp(),this.options.noMove||(this.options.center?this.parent.moveCenter(this.options.center):this.parent.moveCenter(n))}}resume(){this.snapping=null,super.resume()}}const C$={percent:.1,smooth:!1,interrupt:!0,reverse:!1,center:null,lineHeight:20,axis:"all",keyToPress:null,trackpadPinch:!1,wheelZoom:!0};class T$ extends fn{constructor(e,n={}){super(e),L(this,"options"),L(this,"smoothing"),L(this,"smoothingCenter"),L(this,"smoothingCount"),L(this,"keyIsPressed"),this.options=Object.assign({},C$,n),this.keyIsPressed=!1,this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(e){window.addEventListener("keydown",n=>{e.includes(n.code)&&(this.keyIsPressed=!0)}),window.addEventListener("keyup",n=>{e.includes(n.code)&&(this.keyIsPressed=!1)})}checkKeyPress(){return!this.options.keyToPress||this.keyIsPressed}down(){return this.options.interrupt&&(this.smoothing=null),!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}update(){if(this.smoothing){const e=this.smoothingCenter,n=this.smoothing;let r;this.options.center||(r=this.parent.toLocal(e)),this.isAxisX()&&(this.parent.scale.x+=n.x),this.isAxisY()&&(this.parent.scale.y+=n.y),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const i=this.parent.plugins.get("clamp-zoom",!0);if(i&&i.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const s=this.parent.toGlobal(r);this.parent.x+=e.x-s.x,this.parent.y+=e.y-s.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.smoothingCount++,this.smoothingCount>=this.options.smooth&&(this.smoothing=null)}}pinch(e){if(this.paused)return;const n=this.parent.input.getPointerPosition(e),r=-e.deltaY*(e.deltaMode?this.options.lineHeight:1)/200,i=Math.pow(2,(1+this.options.percent)*r);let s;this.options.center||(s=this.parent.toLocal(n)),this.isAxisX()&&(this.parent.scale.x*=i),this.isAxisY()&&(this.parent.scale.y*=i),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const o=this.parent.plugins.get("clamp-zoom",!0);if(o&&o.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const a=this.parent.toGlobal(s);this.parent.x+=n.x-a.x,this.parent.y+=n.y-a.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:e,viewport:this.parent})}wheel(e){if(this.paused||!this.checkKeyPress())return!1;if(e.ctrlKey&&this.options.trackpadPinch)this.pinch(e);else if(this.options.wheelZoom){const n=this.parent.input.getPointerPosition(e),r=(this.options.reverse?-1:1)*-e.deltaY*(e.deltaMode?this.options.lineHeight:1)/500,i=Math.pow(2,(1+this.options.percent)*r);if(this.options.smooth){const s={x:this.smoothing?this.smoothing.x*(this.options.smooth-this.smoothingCount):0,y:this.smoothing?this.smoothing.y*(this.options.smooth-this.smoothingCount):0};this.smoothing={x:((this.parent.scale.x+s.x)*i-this.parent.scale.x)/this.options.smooth,y:((this.parent.scale.y+s.y)*i-this.parent.scale.y)/this.options.smooth},this.smoothingCount=0,this.smoothingCenter=n}else{let s;this.options.center||(s=this.parent.toLocal(n)),this.isAxisX()&&(this.parent.scale.x*=i),this.isAxisY()&&(this.parent.scale.y*=i),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const o=this.parent.plugins.get("clamp-zoom",!0);if(o&&o.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const a=this.parent.toGlobal(s);this.parent.x+=n.x-a.x,this.parent.y+=n.y-a.y}}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:e,viewport:this.parent})}return!this.parent.options.passiveWheel}}class A${constructor(e){L(this,"viewport"),L(this,"clickedAvailable"),L(this,"isMouseDown"),L(this,"last"),L(this,"wheelFunction"),L(this,"touches"),this.viewport=e,this.touches=[],this.addListeners()}addListeners(){this.viewport.interactive=!0,this.viewport.forceHitArea||(this.viewport.hitArea=new ce(0,0,this.viewport.worldWidth,this.viewport.worldHeight)),this.viewport.on("pointerdown",this.down,this),this.viewport.options.allowPreserveDragOutside?this.viewport.on("globalpointermove",this.move,this):this.viewport.on("pointermove",this.move,this),this.viewport.on("pointerup",this.up,this),this.viewport.on("pointerupoutside",this.up,this),this.viewport.on("pointercancel",this.up,this),this.viewport.options.allowPreserveDragOutside||this.viewport.on("pointerleave",this.up,this),this.wheelFunction=e=>this.handleWheel(e),this.viewport.options.events.domElement.addEventListener("wheel",this.wheelFunction,{passive:this.viewport.options.passiveWheel}),this.isMouseDown=!1}destroy(){this.viewport.options.events.domElement.removeEventListener("wheel",this.wheelFunction)}down(e){if(!(this.viewport.pause||!this.viewport.worldVisible)){if(e.pointerType==="mouse"?this.isMouseDown=!0:this.get(e.pointerId)||this.touches.push({id:e.pointerId,last:null}),this.count()===1){this.last=e.global.clone();const n=this.viewport.plugins.get("decelerate",!0),r=this.viewport.plugins.get("bounce",!0);(!n||!n.isActive())&&(!r||!r.isActive())?this.clickedAvailable=!0:this.clickedAvailable=!1}else this.clickedAvailable=!1;this.viewport.plugins.down(e)&&this.viewport.options.stopPropagation&&e.stopPropagation()}}clear(){this.isMouseDown=!1,this.touches=[],this.last=null}checkThreshold(e){return Math.abs(e)>=this.viewport.threshold}move(e){if(this.viewport.pause||!this.viewport.worldVisible)return;const n=this.viewport.plugins.move(e);if(this.clickedAvailable&&this.last){const r=e.global.x-this.last.x,i=e.global.y-this.last.y;(this.checkThreshold(r)||this.checkThreshold(i))&&(this.clickedAvailable=!1)}n&&this.viewport.options.stopPropagation&&e.stopPropagation()}up(e){if(this.viewport.pause||!this.viewport.worldVisible)return;e.pointerType==="mouse"&&(this.isMouseDown=!1),e.pointerType!=="mouse"&&this.remove(e.pointerId);const n=this.viewport.plugins.up(e);this.clickedAvailable&&this.count()===0&&this.last&&(this.viewport.emit("clicked",{event:e,screen:this.last,world:this.viewport.toWorld(this.last),viewport:this.viewport}),this.clickedAvailable=!1),n&&this.viewport.options.stopPropagation&&e.stopPropagation()}getPointerPosition(e){const n=new re;return this.viewport.options.events.mapPositionToPoint(n,e.clientX,e.clientY),n}handleWheel(e){if(this.viewport.pause||!this.viewport.worldVisible)return;const n=this.viewport.toLocal(this.getPointerPosition(e));this.viewport.left<=n.x&&n.x<=this.viewport.right&&this.viewport.top<=n.y&&n.y<=this.viewport.bottom&&this.viewport.plugins.wheel(e)&&!this.viewport.options.passiveWheel&&e.preventDefault()}pause(){this.touches=[],this.isMouseDown=!1}get(e){for(const n of this.touches)if(n.id===e)return n;return null}remove(e){for(let n=0;n<this.touches.length;n++)if(this.touches[n].id===e){this.touches.splice(n,1);return}}count(){return(this.isMouseDown?1:0)+this.touches.length}}const qo=["drag","pinch","wheel","follow","mouse-edges","decelerate","animate","bounce","snap-zoom","clamp-zoom","snap","clamp"];class P${constructor(e){L(this,"plugins"),L(this,"list"),L(this,"viewport"),this.viewport=e,this.list=[],this.plugins={}}add(e,n,r=qo.length){const i=this.plugins[e];i&&i.destroy(),this.plugins[e]=n;const s=qo.indexOf(e);s!==-1&&qo.splice(s,1),qo.splice(r,0,e),this.sort()}get(e,n){var r;return n&&(r=this.plugins[e])!=null&&r.paused?null:this.plugins[e]}update(e){for(const n of this.list)n.update(e)}resize(){for(const e of this.list)e.resize()}reset(){for(const e of this.list)e.reset()}removeAll(){this.list.forEach(e=>{e.destroy()}),this.plugins={},this.sort()}remove(e){var n;this.plugins[e]&&((n=this.plugins[e])==null||n.destroy(),delete this.plugins[e],this.viewport.emit("plugin-remove",e),this.sort())}pause(e){var n;(n=this.plugins[e])==null||n.pause()}resume(e){var n;(n=this.plugins[e])==null||n.resume()}sort(){this.list=[];for(const e of qo)this.plugins[e]&&this.list.push(this.plugins[e])}down(e){let n=!1;for(const r of this.list)r.down(e)&&(n=!0);return n}move(e){let n=!1;for(const r of this.viewport.plugins.list)r.move(e)&&(n=!0);return n}up(e){let n=!1;for(const r of this.list)r.up(e)&&(n=!0);return n}wheel(e){let n=!1;for(const r of this.list)r.wheel(e)&&(n=!0);return n}}const O$={screenWidth:window.innerWidth,screenHeight:window.innerHeight,worldWidth:null,worldHeight:null,threshold:5,passiveWheel:!0,stopPropagation:!1,forceHitArea:null,noTicker:!1,disableOnContextMenu:!1,ticker:_t.shared,allowPreserveDragOutside:!1};class I$ extends Kt{constructor(e){super(),L(this,"moving"),L(this,"screenWidth"),L(this,"screenHeight"),L(this,"threshold"),L(this,"input"),L(this,"plugins"),L(this,"zooming"),L(this,"lastViewport"),L(this,"options"),L(this,"_dirty"),L(this,"_forceHitArea"),L(this,"_hitAreaDefault"),L(this,"_pause"),L(this,"tickerFunction"),L(this,"_worldWidth"),L(this,"_worldHeight"),L(this,"_disableOnContextMenu",n=>n.preventDefault()),this.options={...O$,...e},this.screenWidth=this.options.screenWidth,this.screenHeight=this.options.screenHeight,this._worldWidth=this.options.worldWidth,this._worldHeight=this.options.worldHeight,this.forceHitArea=this.options.forceHitArea,this.threshold=this.options.threshold,this.options.disableOnContextMenu&&this.options.events.domElement.addEventListener("contextmenu",this._disableOnContextMenu),this.options.noTicker||(this.tickerFunction=()=>this.update(this.options.ticker.elapsedMS),this.options.ticker.add(this.tickerFunction)),this.input=new A$(this),this.plugins=new P$(this)}destroy(e){!this.options.noTicker&&this.tickerFunction&&this.options.ticker.remove(this.tickerFunction),this.options.disableOnContextMenu&&this.options.events.domElement.removeEventListener("contextmenu",this._disableOnContextMenu),this.input.destroy(),super.destroy(e)}update(e){this.pause||(this.plugins.update(e),this.lastViewport&&(this.lastViewport.x!==this.x||this.lastViewport.y!==this.y?this.moving=!0:this.moving&&(this.emit("moved-end",this),this.moving=!1),this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y?this.zooming=!0:this.zooming&&(this.emit("zoomed-end",this),this.zooming=!1)),this.forceHitArea||(this._hitAreaDefault=new ce(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight),this.hitArea=this._hitAreaDefault),this._dirty=this._dirty||!this.lastViewport||this.lastViewport.x!==this.x||this.lastViewport.y!==this.y||this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y,this.lastViewport={x:this.x,y:this.y,scaleX:this.scale.x,scaleY:this.scale.y},this.emit("frame-end",this))}resize(e=window.innerWidth,n=window.innerHeight,r,i){this.screenWidth=e,this.screenHeight=n,typeof r<"u"&&(this._worldWidth=r),typeof i<"u"&&(this._worldHeight=i),this.plugins.resize(),this.dirty=!0}get worldWidth(){return this._worldWidth?this._worldWidth:this.width/this.scale.x}set worldWidth(e){this._worldWidth=e,this.plugins.resize()}get worldHeight(){return this._worldHeight?this._worldHeight:this.height/this.scale.y}set worldHeight(e){this._worldHeight=e,this.plugins.resize()}getVisibleBounds(){return new ce(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight)}toWorld(e,n){return arguments.length===2?this.toLocal(new re(e,n)):this.toLocal(e)}toScreen(e,n){return arguments.length===2?this.toGlobal(new re(e,n)):this.toGlobal(e)}get worldScreenWidth(){return this.screenWidth/this.scale.x}get worldScreenHeight(){return this.screenHeight/this.scale.y}get screenWorldWidth(){return this.worldWidth*this.scale.x}get screenWorldHeight(){return this.worldHeight*this.scale.y}get center(){return new re(this.worldScreenWidth/2-this.x/this.scale.x,this.worldScreenHeight/2-this.y/this.scale.y)}set center(e){this.moveCenter(e)}moveCenter(...e){let n,r;typeof e[0]=="number"?(n=e[0],r=e[1]):(n=e[0].x,r=e[0].y);const i=(this.worldScreenWidth/2-n)*this.scale.x,s=(this.worldScreenHeight/2-r)*this.scale.y;return(this.x!==i||this.y!==s)&&(this.position.set(i,s),this.plugins.reset(),this.dirty=!0),this}get corner(){return new re(-this.x/this.scale.x,-this.y/this.scale.y)}set corner(e){this.moveCorner(e)}moveCorner(...e){let n,r;return e.length===1?(n=-e[0].x*this.scale.x,r=-e[0].y*this.scale.y):(n=-e[0]*this.scale.x,r=-e[1]*this.scale.y),(n!==this.x||r!==this.y)&&(this.position.set(n,r),this.plugins.reset(),this.dirty=!0),this}get screenWidthInWorldPixels(){return this.screenWidth/this.scale.x}get screenHeightInWorldPixels(){return this.screenHeight/this.scale.y}findFitWidth(e){return this.screenWidth/e}findFitHeight(e){return this.screenHeight/e}findFit(e,n){const r=this.screenWidth/e,i=this.screenHeight/n;return Math.min(r,i)}findCover(e,n){const r=this.screenWidth/e,i=this.screenHeight/n;return Math.max(r,i)}fitWidth(e=this.worldWidth,n,r=!0,i){let s;n&&(s=this.center),this.scale.x=this.screenWidth/e,r&&(this.scale.y=this.scale.x);const o=this.plugins.get("clamp-zoom",!0);return!i&&o&&o.clamp(),n&&s&&this.moveCenter(s),this}fitHeight(e=this.worldHeight,n,r=!0,i){let s;n&&(s=this.center),this.scale.y=this.screenHeight/e,r&&(this.scale.x=this.scale.y);const o=this.plugins.get("clamp-zoom",!0);return!i&&o&&o.clamp(),n&&s&&this.moveCenter(s),this}fitWorld(e){let n;e&&(n=this.center),this.scale.x=this.screenWidth/this.worldWidth,this.scale.y=this.screenHeight/this.worldHeight,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const r=this.plugins.get("clamp-zoom",!0);return r&&r.clamp(),e&&n&&this.moveCenter(n),this}fit(e,n=this.worldWidth,r=this.worldHeight){let i;e&&(i=this.center),this.scale.x=this.screenWidth/n,this.scale.y=this.screenHeight/r,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const s=this.plugins.get("clamp-zoom",!0);return s&&s.clamp(),e&&i&&this.moveCenter(i),this}setZoom(e,n){let r;n&&(r=this.center),this.scale.set(e);const i=this.plugins.get("clamp-zoom",!0);return i&&i.clamp(),n&&r&&this.moveCenter(r),this}zoomPercent(e,n){return this.setZoom(this.scale.x+this.scale.x*e,n)}zoom(e,n){return this.fitWidth(e+this.worldScreenWidth,n),this}get scaled(){return this.scale.x}set scaled(e){this.setZoom(e,!0)}snapZoom(e){return this.plugins.add("snap-zoom",new S$(this,e)),this}OOB(){return{left:this.left<0,right:this.right>this.worldWidth,top:this.top<0,bottom:this.bottom>this.worldHeight,cornerPoint:new re(this.worldWidth*this.scale.x-this.screenWidth,this.worldHeight*this.scale.y-this.screenHeight)}}get right(){return-this.x/this.scale.x+this.worldScreenWidth}set right(e){this.x=-e*this.scale.x+this.screenWidth,this.plugins.reset()}get left(){return-this.x/this.scale.x}set left(e){this.x=-e*this.scale.x,this.plugins.reset()}get top(){return-this.y/this.scale.y}set top(e){this.y=-e*this.scale.y,this.plugins.reset()}get bottom(){return-this.y/this.scale.y+this.worldScreenHeight}set bottom(e){this.y=-e*this.scale.y+this.screenHeight,this.plugins.reset()}get dirty(){return!!this._dirty}set dirty(e){this._dirty=e}get forceHitArea(){return this._forceHitArea}set forceHitArea(e){e?(this._forceHitArea=e,this.hitArea=e):(this._forceHitArea=null,this.hitArea=new ce(0,0,this.worldWidth,this.worldHeight))}drag(e){return this.plugins.add("drag",new p$(this,e)),this}clamp(e){return this.plugins.add("clamp",new l$(this,e)),this}decelerate(e){return this.plugins.add("decelerate",new d$(this,e)),this}bounce(e){return this.plugins.add("bounce",new o$(this,e)),this}pinch(e){return this.plugins.add("pinch",new b$(this,e)),this}snap(e,n,r){return this.plugins.add("snap",new _$(this,e,n,r)),this}follow(e,n){return this.plugins.add("follow",new m$(this,e,n)),this}wheel(e){return this.plugins.add("wheel",new T$(this,e)),this}animate(e){return this.plugins.add("animate",new i$(this,e)),this}clampZoom(e){return this.plugins.add("clamp-zoom",new c$(this,e)),this}mouseEdges(e){return this.plugins.add("mouse-edges",new y$(this,e)),this}get pause(){return!!this._pause}set pause(e){this._pause=e,this.lastViewport=null,this.moving=!1,this.zooming=!1,e&&this.input.pause()}ensureVisible(e,n,r,i,s){s&&(r>this.worldScreenWidth||i>this.worldScreenHeight)&&(this.fit(!0,r,i),this.emit("zoomed",{viewport:this,type:"ensureVisible"}));let o=!1;e<this.left?(this.left=e,o=!0):e+r>this.right&&(this.right=e+r,o=!0),n<this.top?(this.top=n,o=!0):n+i>this.bottom&&(this.bottom=n+i,o=!0),o&&this.emit("moved",{viewport:this,type:"ensureVisible"})}}var R$=typeof global=="object"&&global&&global.Object===Object&&global;const $C=R$;var M$=typeof self=="object"&&self&&self.Object===Object&&self,k$=$C||M$||Function("return this")();const Nn=k$;var D$=Nn.Symbol;const hn=D$;var BC=Object.prototype,F$=BC.hasOwnProperty,$$=BC.toString,Ko=hn?hn.toStringTag:void 0;function B$(t){var e=F$.call(t,Ko),n=t[Ko];try{t[Ko]=void 0;var r=!0}catch{}var i=$$.call(t);return r&&(e?t[Ko]=n:delete t[Ko]),i}var L$=Object.prototype,N$=L$.toString;function U$(t){return N$.call(t)}var j$="[object Null]",H$="[object Undefined]",Sx=hn?hn.toStringTag:void 0;function Sr(t){return t==null?t===void 0?H$:j$:Sx&&Sx in Object(t)?B$(t):U$(t)}function dn(t){return t!=null&&typeof t=="object"}var z$="[object Symbol]";function uo(t){return typeof t=="symbol"||dn(t)&&Sr(t)==z$}function Yr(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var G$=Array.isArray;const je=G$;var V$=1/0,Cx=hn?hn.prototype:void 0,Tx=Cx?Cx.toString:void 0;function LC(t){if(typeof t=="string")return t;if(je(t))return Yr(t,LC)+"";if(uo(t))return Tx?Tx.call(t):"";var e=t+"";return e=="0"&&1/t==-V$?"-0":e}var W$=/\s/;function X$(t){for(var e=t.length;e--&&W$.test(t.charAt(e)););return e}var Y$=/^\s+/;function q$(t){return t&&t.slice(0,X$(t)+1).replace(Y$,"")}function Zt(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ax=0/0,K$=/^[-+]0x[0-9a-f]+$/i,Z$=/^0b[01]+$/i,Q$=/^0o[0-7]+$/i,J$=parseInt;function gg(t){if(typeof t=="number")return t;if(uo(t))return Ax;if(Zt(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Zt(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=q$(t);var n=Z$.test(t);return n||Q$.test(t)?J$(t.slice(2),n?2:8):K$.test(t)?Ax:+t}var Px=1/0,eB=17976931348623157e292;function tB(t){if(!t)return t===0?t:0;if(t=gg(t),t===Px||t===-Px){var e=t<0?-1:1;return e*eB}return t===t?t:0}function wv(t){var e=tB(t),n=e%1;return e===e?n?e-n:e:0}function vl(t){return t}var nB="[object AsyncFunction]",rB="[object Function]",iB="[object GeneratorFunction]",sB="[object Proxy]";function Pn(t){if(!Zt(t))return!1;var e=Sr(t);return e==rB||e==iB||e==nB||e==sB}var oB=Nn["__core-js_shared__"];const gf=oB;var Ox=function(){var t=/[^.]+$/.exec(gf&&gf.keys&&gf.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function aB(t){return!!Ox&&Ox in t}var lB=Function.prototype,uB=lB.toString;function zi(t){if(t!=null){try{return uB.call(t)}catch{}try{return t+""}catch{}}return""}var cB=/[\\^$.*+?()[\]{}|]/g,hB=/^\[object .+?Constructor\]$/,dB=Function.prototype,fB=Object.prototype,pB=dB.toString,gB=fB.hasOwnProperty,mB=RegExp("^"+pB.call(gB).replace(cB,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function vB(t){if(!Zt(t)||aB(t))return!1;var e=Pn(t)?mB:hB;return e.test(zi(t))}function yB(t,e){return t==null?void 0:t[e]}function Gi(t,e){var n=yB(t,e);return vB(n)?n:void 0}var xB=Gi(Nn,"WeakMap");const mg=xB;var Ix=Object.create,bB=function(){function t(){}return function(e){if(!Zt(e))return{};if(Ix)return Ix(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const wB=bB;function _B(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function EB(){}function _v(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var SB=800,CB=16,TB=Date.now;function AB(t){var e=0,n=0;return function(){var r=TB(),i=CB-(r-n);if(n=r,i>0){if(++e>=SB)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function PB(t){return function(){return t}}var OB=function(){try{var t=Gi(Object,"defineProperty");return t({},"",{}),t}catch{}}();const Xc=OB;var IB=Xc?function(t,e){return Xc(t,"toString",{configurable:!0,enumerable:!1,value:PB(e),writable:!0})}:vl;const RB=IB;var MB=AB(RB);const kB=MB;function NC(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function UC(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function DB(t){return t!==t}function FB(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function jC(t,e,n){return e===e?FB(t,e,n):UC(t,DB,n)}function HC(t,e){var n=t==null?0:t.length;return!!n&&jC(t,e,0)>-1}var $B=9007199254740991,BB=/^(?:0|[1-9]\d*)$/;function Ev(t,e){var n=typeof t;return e=e??$B,!!e&&(n=="number"||n!="symbol"&&BB.test(t))&&t>-1&&t%1==0&&t<e}function Nh(t,e,n){e=="__proto__"&&Xc?Xc(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function yl(t,e){return t===e||t!==t&&e!==e}var LB=Object.prototype,NB=LB.hasOwnProperty;function zC(t,e,n){var r=t[e];(!(NB.call(t,e)&&yl(r,n))||n===void 0&&!(e in t))&&Nh(t,e,n)}function xl(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?Nh(n,a,l):zC(n,a,l)}return n}var Rx=Math.max;function UB(t,e,n){return e=Rx(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=Rx(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),_B(t,this,a)}}function Sv(t,e){return kB(UB(t,e,vl),t+"")}var jB=9007199254740991;function Cv(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=jB}function ii(t){return t!=null&&Cv(t.length)&&!Pn(t)}function vg(t,e,n){if(!Zt(n))return!1;var r=typeof e;return(r=="number"?ii(n)&&Ev(e,n.length):r=="string"&&e in n)?yl(n[e],t):!1}function HB(t){return Sv(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&vg(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var zB=Object.prototype;function Tv(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||zB;return t===n}function GC(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var GB="[object Arguments]";function Mx(t){return dn(t)&&Sr(t)==GB}var VC=Object.prototype,VB=VC.hasOwnProperty,WB=VC.propertyIsEnumerable,XB=Mx(function(){return arguments}())?Mx:function(t){return dn(t)&&VB.call(t,"callee")&&!WB.call(t,"callee")};const tl=XB;function YB(){return!1}var WC=typeof Vt=="object"&&Vt&&!Vt.nodeType&&Vt,kx=WC&&typeof Wt=="object"&&Wt&&!Wt.nodeType&&Wt,qB=kx&&kx.exports===WC,Dx=qB?Nn.Buffer:void 0,KB=Dx?Dx.isBuffer:void 0,ZB=KB||YB;const nl=ZB;var QB="[object Arguments]",JB="[object Array]",eL="[object Boolean]",tL="[object Date]",nL="[object Error]",rL="[object Function]",iL="[object Map]",sL="[object Number]",oL="[object Object]",aL="[object RegExp]",lL="[object Set]",uL="[object String]",cL="[object WeakMap]",hL="[object ArrayBuffer]",dL="[object DataView]",fL="[object Float32Array]",pL="[object Float64Array]",gL="[object Int8Array]",mL="[object Int16Array]",vL="[object Int32Array]",yL="[object Uint8Array]",xL="[object Uint8ClampedArray]",bL="[object Uint16Array]",wL="[object Uint32Array]",Pe={};Pe[fL]=Pe[pL]=Pe[gL]=Pe[mL]=Pe[vL]=Pe[yL]=Pe[xL]=Pe[bL]=Pe[wL]=!0;Pe[QB]=Pe[JB]=Pe[hL]=Pe[eL]=Pe[dL]=Pe[tL]=Pe[nL]=Pe[rL]=Pe[iL]=Pe[sL]=Pe[oL]=Pe[aL]=Pe[lL]=Pe[uL]=Pe[cL]=!1;function _L(t){return dn(t)&&Cv(t.length)&&!!Pe[Sr(t)]}function bl(t){return function(e){return t(e)}}var XC=typeof Vt=="object"&&Vt&&!Vt.nodeType&&Vt,Ta=XC&&typeof Wt=="object"&&Wt&&!Wt.nodeType&&Wt,EL=Ta&&Ta.exports===XC,mf=EL&&$C.process,SL=function(){try{var t=Ta&&Ta.require&&Ta.require("util").types;return t||mf&&mf.binding&&mf.binding("util")}catch{}}();const co=SL;var Fx=co&&co.isTypedArray,CL=Fx?bl(Fx):_L;const Av=CL;var TL=Object.prototype,AL=TL.hasOwnProperty;function YC(t,e){var n=je(t),r=!n&&tl(t),i=!n&&!r&&nl(t),s=!n&&!r&&!i&&Av(t),o=n||r||i||s,a=o?GC(t.length,String):[],l=a.length;for(var u in t)(e||AL.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Ev(u,l)))&&a.push(u);return a}function qC(t,e){return function(n){return t(e(n))}}var PL=qC(Object.keys,Object);const OL=PL;var IL=Object.prototype,RL=IL.hasOwnProperty;function ML(t){if(!Tv(t))return OL(t);var e=[];for(var n in Object(t))RL.call(t,n)&&n!="constructor"&&e.push(n);return e}function Vi(t){return ii(t)?YC(t):ML(t)}function kL(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var DL=Object.prototype,FL=DL.hasOwnProperty;function $L(t){if(!Zt(t))return kL(t);var e=Tv(t),n=[];for(var r in t)r=="constructor"&&(e||!FL.call(t,r))||n.push(r);return n}function wl(t){return ii(t)?YC(t,!0):$L(t)}var BL=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,LL=/^\w*$/;function Pv(t,e){if(je(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||uo(t)?!0:LL.test(t)||!BL.test(t)||e!=null&&t in Object(e)}var NL=Gi(Object,"create");const rl=NL;function UL(){this.__data__=rl?rl(null):{},this.size=0}function jL(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var HL="__lodash_hash_undefined__",zL=Object.prototype,GL=zL.hasOwnProperty;function VL(t){var e=this.__data__;if(rl){var n=e[t];return n===HL?void 0:n}return GL.call(e,t)?e[t]:void 0}var WL=Object.prototype,XL=WL.hasOwnProperty;function YL(t){var e=this.__data__;return rl?e[t]!==void 0:XL.call(e,t)}var qL="__lodash_hash_undefined__";function KL(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=rl&&e===void 0?qL:e,this}function Li(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Li.prototype.clear=UL;Li.prototype.delete=jL;Li.prototype.get=VL;Li.prototype.has=YL;Li.prototype.set=KL;function ZL(){this.__data__=[],this.size=0}function Uh(t,e){for(var n=t.length;n--;)if(yl(t[n][0],e))return n;return-1}var QL=Array.prototype,JL=QL.splice;function eN(t){var e=this.__data__,n=Uh(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():JL.call(e,n,1),--this.size,!0}function tN(t){var e=this.__data__,n=Uh(e,t);return n<0?void 0:e[n][1]}function nN(t){return Uh(this.__data__,t)>-1}function rN(t,e){var n=this.__data__,r=Uh(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Cr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Cr.prototype.clear=ZL;Cr.prototype.delete=eN;Cr.prototype.get=tN;Cr.prototype.has=nN;Cr.prototype.set=rN;var iN=Gi(Nn,"Map");const il=iN;function sN(){this.size=0,this.__data__={hash:new Li,map:new(il||Cr),string:new Li}}function oN(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function jh(t,e){var n=t.__data__;return oN(e)?n[typeof e=="string"?"string":"hash"]:n.map}function aN(t){var e=jh(this,t).delete(t);return this.size-=e?1:0,e}function lN(t){return jh(this,t).get(t)}function uN(t){return jh(this,t).has(t)}function cN(t,e){var n=jh(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Tr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Tr.prototype.clear=sN;Tr.prototype.delete=aN;Tr.prototype.get=lN;Tr.prototype.has=uN;Tr.prototype.set=cN;var hN="Expected a function";function Ov(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(hN);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Ov.Cache||Tr),n}Ov.Cache=Tr;var dN=500;function fN(t){var e=Ov(t,function(r){return n.size===dN&&n.clear(),r}),n=e.cache;return e}var pN=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gN=/\\(\\)?/g,mN=fN(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(pN,function(n,r,i,s){e.push(i?s.replace(gN,"$1"):r||n)}),e});const vN=mN;function yN(t){return t==null?"":LC(t)}function KC(t,e){return je(t)?t:Pv(t,e)?[t]:vN(yN(t))}var xN=1/0;function Hh(t){if(typeof t=="string"||uo(t))return t;var e=t+"";return e=="0"&&1/t==-xN?"-0":e}function Iv(t,e){e=KC(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Hh(e[n++])];return n&&n==r?t:void 0}function bN(t,e,n){var r=t==null?void 0:Iv(t,e);return r===void 0?n:r}function zh(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var $x=hn?hn.isConcatSpreadable:void 0;function wN(t){return je(t)||tl(t)||!!($x&&t&&t[$x])}function Rv(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=wN),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?Rv(a,e-1,n,r,i):zh(i,a):r||(i[i.length]=a)}return i}var _N=qC(Object.getPrototypeOf,Object);const Mv=_N;var EN="[object Object]",SN=Function.prototype,CN=Object.prototype,ZC=SN.toString,TN=CN.hasOwnProperty,AN=ZC.call(Object);function PN(t){if(!dn(t)||Sr(t)!=EN)return!1;var e=Mv(t);if(e===null)return!0;var n=TN.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&ZC.call(n)==AN}function ON(t,e,n,r){var i=-1,s=t==null?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}function IN(){this.__data__=new Cr,this.size=0}function RN(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function MN(t){return this.__data__.get(t)}function kN(t){return this.__data__.has(t)}var DN=200;function FN(t,e){var n=this.__data__;if(n instanceof Cr){var r=n.__data__;if(!il||r.length<DN-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Tr(r)}return n.set(t,e),this.size=n.size,this}function Fn(t){var e=this.__data__=new Cr(t);this.size=e.size}Fn.prototype.clear=IN;Fn.prototype.delete=RN;Fn.prototype.get=MN;Fn.prototype.has=kN;Fn.prototype.set=FN;function $N(t,e){return t&&xl(e,Vi(e),t)}function BN(t,e){return t&&xl(e,wl(e),t)}var QC=typeof Vt=="object"&&Vt&&!Vt.nodeType&&Vt,Bx=QC&&typeof Wt=="object"&&Wt&&!Wt.nodeType&&Wt,LN=Bx&&Bx.exports===QC,Lx=LN?Nn.Buffer:void 0,Nx=Lx?Lx.allocUnsafe:void 0;function JC(t,e){if(e)return t.slice();var n=t.length,r=Nx?Nx(n):new t.constructor(n);return t.copy(r),r}function e2(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function t2(){return[]}var NN=Object.prototype,UN=NN.propertyIsEnumerable,Ux=Object.getOwnPropertySymbols,jN=Ux?function(t){return t==null?[]:(t=Object(t),e2(Ux(t),function(e){return UN.call(t,e)}))}:t2;const kv=jN;function HN(t,e){return xl(t,kv(t),e)}var zN=Object.getOwnPropertySymbols,GN=zN?function(t){for(var e=[];t;)zh(e,kv(t)),t=Mv(t);return e}:t2;const n2=GN;function VN(t,e){return xl(t,n2(t),e)}function r2(t,e,n){var r=e(t);return je(t)?r:zh(r,n(t))}function yg(t){return r2(t,Vi,kv)}function WN(t){return r2(t,wl,n2)}var XN=Gi(Nn,"DataView");const xg=XN;var YN=Gi(Nn,"Promise");const bg=YN;var qN=Gi(Nn,"Set");const qs=qN;var jx="[object Map]",KN="[object Object]",Hx="[object Promise]",zx="[object Set]",Gx="[object WeakMap]",Vx="[object DataView]",ZN=zi(xg),QN=zi(il),JN=zi(bg),e5=zi(qs),t5=zi(mg),mi=Sr;(xg&&mi(new xg(new ArrayBuffer(1)))!=Vx||il&&mi(new il)!=jx||bg&&mi(bg.resolve())!=Hx||qs&&mi(new qs)!=zx||mg&&mi(new mg)!=Gx)&&(mi=function(t){var e=Sr(t),n=e==KN?t.constructor:void 0,r=n?zi(n):"";if(r)switch(r){case ZN:return Vx;case QN:return jx;case JN:return Hx;case e5:return zx;case t5:return Gx}return e});const sl=mi;var n5=Object.prototype,r5=n5.hasOwnProperty;function i5(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&r5.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var s5=Nn.Uint8Array;const Yc=s5;function Dv(t){var e=new t.constructor(t.byteLength);return new Yc(e).set(new Yc(t)),e}function o5(t,e){var n=e?Dv(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var a5=/\w*$/;function l5(t){var e=new t.constructor(t.source,a5.exec(t));return e.lastIndex=t.lastIndex,e}var Wx=hn?hn.prototype:void 0,Xx=Wx?Wx.valueOf:void 0;function u5(t){return Xx?Object(Xx.call(t)):{}}function i2(t,e){var n=e?Dv(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var c5="[object Boolean]",h5="[object Date]",d5="[object Map]",f5="[object Number]",p5="[object RegExp]",g5="[object Set]",m5="[object String]",v5="[object Symbol]",y5="[object ArrayBuffer]",x5="[object DataView]",b5="[object Float32Array]",w5="[object Float64Array]",_5="[object Int8Array]",E5="[object Int16Array]",S5="[object Int32Array]",C5="[object Uint8Array]",T5="[object Uint8ClampedArray]",A5="[object Uint16Array]",P5="[object Uint32Array]";function O5(t,e,n){var r=t.constructor;switch(e){case y5:return Dv(t);case c5:case h5:return new r(+t);case x5:return o5(t,n);case b5:case w5:case _5:case E5:case S5:case C5:case T5:case A5:case P5:return i2(t,n);case d5:return new r;case f5:case m5:return new r(t);case p5:return l5(t);case g5:return new r;case v5:return u5(t)}}function s2(t){return typeof t.constructor=="function"&&!Tv(t)?wB(Mv(t)):{}}var I5="[object Map]";function R5(t){return dn(t)&&sl(t)==I5}var Yx=co&&co.isMap,M5=Yx?bl(Yx):R5;const k5=M5;var D5="[object Set]";function F5(t){return dn(t)&&sl(t)==D5}var qx=co&&co.isSet,$5=qx?bl(qx):F5;const B5=$5;var L5=1,N5=2,U5=4,o2="[object Arguments]",j5="[object Array]",H5="[object Boolean]",z5="[object Date]",G5="[object Error]",a2="[object Function]",V5="[object GeneratorFunction]",W5="[object Map]",X5="[object Number]",l2="[object Object]",Y5="[object RegExp]",q5="[object Set]",K5="[object String]",Z5="[object Symbol]",Q5="[object WeakMap]",J5="[object ArrayBuffer]",e6="[object DataView]",t6="[object Float32Array]",n6="[object Float64Array]",r6="[object Int8Array]",i6="[object Int16Array]",s6="[object Int32Array]",o6="[object Uint8Array]",a6="[object Uint8ClampedArray]",l6="[object Uint16Array]",u6="[object Uint32Array]",Se={};Se[o2]=Se[j5]=Se[J5]=Se[e6]=Se[H5]=Se[z5]=Se[t6]=Se[n6]=Se[r6]=Se[i6]=Se[s6]=Se[W5]=Se[X5]=Se[l2]=Se[Y5]=Se[q5]=Se[K5]=Se[Z5]=Se[o6]=Se[a6]=Se[l6]=Se[u6]=!0;Se[G5]=Se[a2]=Se[Q5]=!1;function Zu(t,e,n,r,i,s){var o,a=e&L5,l=e&N5,u=e&U5;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!Zt(t))return t;var c=je(t);if(c){if(o=i5(t),!a)return _v(t,o)}else{var h=sl(t),d=h==a2||h==V5;if(nl(t))return JC(t,a);if(h==l2||h==o2||d&&!i){if(o=l||d?{}:s2(t),!a)return l?VN(t,BN(o,t)):HN(t,$N(o,t))}else{if(!Se[h])return i?t:{};o=O5(t,h,a)}}s||(s=new Fn);var f=s.get(t);if(f)return f;s.set(t,o),B5(t)?t.forEach(function(v){o.add(Zu(v,e,n,v,t,s))}):k5(t)&&t.forEach(function(v,g){o.set(g,Zu(v,e,n,g,t,s))});var p=u?l?WN:yg:l?wl:Vi,m=c?void 0:p(t);return NC(m||t,function(v,g){m&&(g=v,v=t[g]),zC(o,g,Zu(v,e,n,g,t,s))}),o}var c6=4;function ct(t){return Zu(t,c6)}function h6(){var t=arguments.length;if(!t)return[];for(var e=Array(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return zh(je(n)?_v(n):[n],Rv(e,1))}var d6="__lodash_hash_undefined__";function f6(t){return this.__data__.set(t,d6),this}function p6(t){return this.__data__.has(t)}function ho(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Tr;++e<n;)this.add(t[e])}ho.prototype.add=ho.prototype.push=f6;ho.prototype.has=p6;function g6(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function qc(t,e){return t.has(e)}var m6=1,v6=2;function u2(t,e,n,r,i,s){var o=n&m6,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(t),c=s.get(e);if(u&&c)return u==e&&c==t;var h=-1,d=!0,f=n&v6?new ho:void 0;for(s.set(t,e),s.set(e,t);++h<a;){var p=t[h],m=e[h];if(r)var v=o?r(m,p,h,e,t,s):r(p,m,h,t,e,s);if(v!==void 0){if(v)continue;d=!1;break}if(f){if(!g6(e,function(g,y){if(!qc(f,y)&&(p===g||i(p,g,n,r,s)))return f.push(y)})){d=!1;break}}else if(!(p===m||i(p,m,n,r,s))){d=!1;break}}return s.delete(t),s.delete(e),d}function y6(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function Fv(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var x6=1,b6=2,w6="[object Boolean]",_6="[object Date]",E6="[object Error]",S6="[object Map]",C6="[object Number]",T6="[object RegExp]",A6="[object Set]",P6="[object String]",O6="[object Symbol]",I6="[object ArrayBuffer]",R6="[object DataView]",Kx=hn?hn.prototype:void 0,vf=Kx?Kx.valueOf:void 0;function M6(t,e,n,r,i,s,o){switch(n){case R6:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case I6:return!(t.byteLength!=e.byteLength||!s(new Yc(t),new Yc(e)));case w6:case _6:case C6:return yl(+t,+e);case E6:return t.name==e.name&&t.message==e.message;case T6:case P6:return t==e+"";case S6:var a=y6;case A6:var l=r&x6;if(a||(a=Fv),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=b6,o.set(t,e);var c=u2(a(t),a(e),r,i,s,o);return o.delete(t),c;case O6:if(vf)return vf.call(t)==vf.call(e)}return!1}var k6=1,D6=Object.prototype,F6=D6.hasOwnProperty;function $6(t,e,n,r,i,s){var o=n&k6,a=yg(t),l=a.length,u=yg(e),c=u.length;if(l!=c&&!o)return!1;for(var h=l;h--;){var d=a[h];if(!(o?d in e:F6.call(e,d)))return!1}var f=s.get(t),p=s.get(e);if(f&&p)return f==e&&p==t;var m=!0;s.set(t,e),s.set(e,t);for(var v=o;++h<l;){d=a[h];var g=t[d],y=e[d];if(r)var x=o?r(y,g,d,e,t,s):r(g,y,d,t,e,s);if(!(x===void 0?g===y||i(g,y,n,r,s):x)){m=!1;break}v||(v=d=="constructor")}if(m&&!v){var b=t.constructor,S=e.constructor;b!=S&&"constructor"in t&&"constructor"in e&&!(typeof b=="function"&&b instanceof b&&typeof S=="function"&&S instanceof S)&&(m=!1)}return s.delete(t),s.delete(e),m}var B6=1,Zx="[object Arguments]",Qx="[object Array]",vu="[object Object]",L6=Object.prototype,Jx=L6.hasOwnProperty;function N6(t,e,n,r,i,s){var o=je(t),a=je(e),l=o?Qx:sl(t),u=a?Qx:sl(e);l=l==Zx?vu:l,u=u==Zx?vu:u;var c=l==vu,h=u==vu,d=l==u;if(d&&nl(t)){if(!nl(e))return!1;o=!0,c=!1}if(d&&!c)return s||(s=new Fn),o||Av(t)?u2(t,e,n,r,i,s):M6(t,e,l,n,r,i,s);if(!(n&B6)){var f=c&&Jx.call(t,"__wrapped__"),p=h&&Jx.call(e,"__wrapped__");if(f||p){var m=f?t.value():t,v=p?e.value():e;return s||(s=new Fn),i(m,v,n,r,s)}}return d?(s||(s=new Fn),$6(t,e,n,r,i,s)):!1}function $v(t,e,n,r,i){return t===e?!0:t==null||e==null||!dn(t)&&!dn(e)?t!==t&&e!==e:N6(t,e,n,r,$v,i)}var U6=1,j6=2;function H6(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],u=t[l],c=a[1];if(o&&a[2]){if(u===void 0&&!(l in t))return!1}else{var h=new Fn;if(r)var d=r(u,c,l,t,e,h);if(!(d===void 0?$v(c,u,U6|j6,r,h):d))return!1}}return!0}function c2(t){return t===t&&!Zt(t)}function z6(t){for(var e=Vi(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,c2(i)]}return e}function h2(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function G6(t){var e=z6(t);return e.length==1&&e[0][2]?h2(e[0][0],e[0][1]):function(n){return n===t||H6(n,t,e)}}function V6(t,e){return t!=null&&e in Object(t)}function W6(t,e,n){e=KC(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=Hh(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&Cv(i)&&Ev(o,i)&&(je(t)||tl(t)))}function X6(t,e){return t!=null&&W6(t,e,V6)}var Y6=1,q6=2;function K6(t,e){return Pv(t)&&c2(e)?h2(Hh(t),e):function(n){var r=bN(n,t);return r===void 0&&r===e?X6(n,t):$v(e,r,Y6|q6)}}function Z6(t){return function(e){return e==null?void 0:e[t]}}function Q6(t){return function(e){return Iv(e,t)}}function J6(t){return Pv(t)?Z6(Hh(t)):Q6(t)}function Wi(t){return typeof t=="function"?t:t==null?vl:typeof t=="object"?je(t)?K6(t[0],t[1]):G6(t):J6(t)}function e8(t,e,n,r){for(var i=-1,s=t==null?0:t.length;++i<s;){var o=t[i];e(r,o,n(o),t)}return r}function t8(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var n8=t8();const d2=n8;function r8(t,e){return t&&d2(t,e,Vi)}function i8(t,e){return function(n,r){if(n==null)return n;if(!ii(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var s8=i8(r8);const _l=s8;function o8(t,e,n,r){return _l(t,function(i,s,o){e(r,i,n(i),o)}),r}function a8(t,e){return function(n,r){var i=je(n)?e8:o8,s=e?e():{};return i(n,t,Wi(r),s)}}var l8=function(){return Nn.Date.now()};const yf=l8;var u8="Expected a function",c8=Math.max,h8=Math.min;function f2(t,e,n){var r,i,s,o,a,l,u=0,c=!1,h=!1,d=!0;if(typeof t!="function")throw new TypeError(u8);e=gg(e)||0,Zt(n)&&(c=!!n.leading,h="maxWait"in n,s=h?c8(gg(n.maxWait)||0,e):s,d="trailing"in n?!!n.trailing:d);function f(E){var C=r,A=i;return r=i=void 0,u=E,o=t.apply(A,C),o}function p(E){return u=E,a=setTimeout(g,e),c?f(E):o}function m(E){var C=E-l,A=E-u,F=e-C;return h?h8(F,s-A):F}function v(E){var C=E-l,A=E-u;return l===void 0||C>=e||C<0||h&&A>=s}function g(){var E=yf();if(v(E))return y(E);a=setTimeout(g,m(E))}function y(E){return a=void 0,d&&r?f(E):(r=i=void 0,o)}function x(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function b(){return a===void 0?o:y(yf())}function S(){var E=yf(),C=v(E);if(r=arguments,i=this,l=E,C){if(a===void 0)return p(l);if(h)return clearTimeout(a),a=setTimeout(g,e),f(l)}return a===void 0&&(a=setTimeout(g,e)),o}return S.cancel=x,S.flush=b,S}function wg(t,e,n){(n!==void 0&&!yl(t[e],n)||n===void 0&&!(e in t))&&Nh(t,e,n)}function p2(t){return dn(t)&&ii(t)}function _g(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function d8(t){return xl(t,wl(t))}function f8(t,e,n,r,i,s,o){var a=_g(t,n),l=_g(e,n),u=o.get(l);if(u){wg(t,n,u);return}var c=s?s(a,l,n+"",t,e,o):void 0,h=c===void 0;if(h){var d=je(l),f=!d&&nl(l),p=!d&&!f&&Av(l);c=l,d||f||p?je(a)?c=a:p2(a)?c=_v(a):f?(h=!1,c=JC(l,!0)):p?(h=!1,c=i2(l,!0)):c=[]:PN(l)||tl(l)?(c=a,tl(a)?c=d8(a):(!Zt(a)||Pn(a))&&(c=s2(l))):h=!1}h&&(o.set(l,c),i(c,l,r,s,o),o.delete(l)),wg(t,n,c)}function g2(t,e,n,r,i){t!==e&&d2(e,function(s,o){if(i||(i=new Fn),Zt(s))f8(t,e,o,n,g2,r,i);else{var a=r?r(_g(t,o),s,o+"",t,e,i):void 0;a===void 0&&(a=s),wg(t,o,a)}},wl)}function m2(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function v2(t){return typeof t=="function"?t:vl}function xt(t,e){var n=je(t)?NC:_l;return n(t,v2(e))}function p8(t,e){var n=[];return _l(t,function(r,i,s){e(r,i,s)&&n.push(r)}),n}function Bn(t,e){var n=je(t)?e2:p8;return n(t,Wi(e))}function g8(t){return function(e,n,r){var i=Object(e);if(!ii(e)){var s=Wi(n);e=Vi(e),n=function(a){return s(i[a],a,i)}}var o=t(e,n,r);return o>-1?i[s?e[o]:o]:void 0}}var m8=Math.max;function v8(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:wv(n);return i<0&&(i=m8(r+i,0)),UC(t,Wi(e),i)}var y8=g8(v8);const Xe=y8;function y2(t,e){var n=-1,r=ii(t)?Array(t.length):[];return _l(t,function(i,s,o){r[++n]=e(i,s,o)}),r}function be(t,e){var n=je(t)?Yr:y2;return n(t,Wi(e))}var x8=Object.prototype,b8=x8.hasOwnProperty,w8=a8(function(t,e,n){b8.call(t,n)?t[n].push(e):Nh(t,n,[e])});const _8=w8;var E8="[object String]";function S8(t){return typeof t=="string"||!je(t)&&dn(t)&&Sr(t)==E8}function C8(t,e){return Yr(e,function(n){return t[n]})}function T8(t){return t==null?[]:C8(t,Vi(t))}var A8=Math.max;function Bv(t,e,n,r){t=ii(t)?t:T8(t),n=n&&!r?wv(n):0;var i=t.length;return n<0&&(n=A8(i+n,0)),S8(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&jC(t,e,n)>-1}var P8=Math.min;function O8(t,e,n){for(var r=n?m2:HC,i=t[0].length,s=t.length,o=s,a=Array(s),l=1/0,u=[];o--;){var c=t[o];o&&e&&(c=Yr(c,bl(e))),l=P8(c.length,l),a[o]=!n&&(e||i>=120&&c.length>=120)?new ho(o&&c):void 0}c=t[0];var h=-1,d=a[0];e:for(;++h<i&&u.length<l;){var f=c[h],p=e?e(f):f;if(f=n||f!==0?f:0,!(d?qc(d,p):r(u,p,n))){for(o=s;--o;){var m=a[o];if(!(m?qc(m,p):r(t[o],p,n)))continue e}d&&d.push(p),u.push(f)}}return u}function I8(t){return p2(t)?t:[]}var R8=Sv(function(t){var e=Yr(t,I8);return e.length&&e[0]===t[0]?O8(e):[]});const M8=R8;var k8="[object Number]";function D8(t){return typeof t=="number"||dn(t)&&Sr(t)==k8}function Aa(t){return t===void 0}var F8=HB(function(t,e,n){g2(t,e,n)});const $t=F8;function $8(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function B8(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=uo(t),o=e!==void 0,a=e===null,l=e===e,u=uo(e);if(!a&&!u&&!s&&t>e||s&&o&&l&&!a&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!u&&t<e||u&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}function L8(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var l=B8(i[r],s[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}function x2(t,e,n){e.length?e=Yr(e,function(s){return je(s)?function(o){return Iv(o,s.length===1?s[0]:s)}:s}):e=[vl];var r=-1;e=Yr(e,bl(Wi));var i=y2(t,function(s,o,a){var l=Yr(e,function(u){return u(s)});return{criteria:l,index:++r,value:s}});return $8(i,function(s,o){return L8(s,o,n)})}function N8(t,e,n,r){return t==null?[]:(je(e)||(e=e==null?[]:[e]),n=r?void 0:n,je(n)||(n=n==null?[]:[n]),x2(t,e,n))}function U8(t,e,n,r,i){return i(t,function(s,o,a){n=r?(r=!1,s):e(n,s,o,a)}),n}function j8(t,e,n){var r=je(t)?ON:U8,i=arguments.length<3;return r(t,Wi(e),n,i,_l)}var H8=Sv(function(t,e){if(t==null)return[];var n=e.length;return n>1&&vg(t,e[0],e[1])?e=[]:n>2&&vg(e[0],e[1],e[2])&&(e=[e[0]]),x2(t,Rv(e,1),[])});const Kc=H8;var z8="Expected a function";function G8(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(z8);return Zt(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),f2(t,e,{leading:r,maxWait:e,trailing:i})}var V8=9007199254740991,xf=4294967295,W8=Math.min;function El(t,e){if(t=wv(t),t<1||t>V8)return[];var n=xf,r=W8(t,xf);e=v2(e),t-=xf;for(var i=GC(r,e);++n<t;)e(n);return i}var X8=1/0,Y8=qs&&1/Fv(new qs([,-0]))[1]==X8?function(t){return new qs(t)}:EB;const q8=Y8;var K8=200;function Z8(t,e,n){var r=-1,i=HC,s=t.length,o=!0,a=[],l=a;if(n)o=!1,i=m2;else if(s>=K8){var u=e?null:q8(t);if(u)return Fv(u);o=!1,i=qc,l=new ho}else l=e?[]:a;e:for(;++r<s;){var c=t[r],h=e?e(c):c;if(c=n||c!==0?c:0,o&&h===h){for(var d=l.length;d--;)if(l[d]===h)continue e;e&&l.push(h),a.push(c)}else i(l,h,n)||(l!==a&&l.push(h),a.push(c))}return a}function Q8(t){return t&&t.length?Z8(t):[]}const Pt=(t,e)=>t.levels?e.acquired[t.id]>0:e.selected[t.id],Qu=(t,e)=>e.available[t.id],J8=(t,e,n,r)=>{let i=n;return i.available[t.id]&&(t.levels?(i.acquired[t.id]||(i.acquired[t.id]=0),r&&i.acquired[t.id]>0?i.acquired[t.id]--:i.acquired[t.id]<t.levels&&i.acquired[t.id]++):i.selected[t.id]=!i.selected[t.id]),i=eU(e,t,i),i=tU(e,n),i},eU=(t,e,n)=>{const r=i=>{const s=Bn(t,{requires:i.id});s&&xt(s,o=>{e.levels?(o.levelsRequired||e.levels)>n.acquired[e.id]&&(n.selected[o.id]=!1,n.acquired[o.id]=0,r(o)):(n.selected[o.id]=!1,n.acquired[o.id]=0,r(o))})};return r(e),n},tU=(t,e)=>(xt(t,n=>{if(n.requires){const r=Xe(t,{id:n.requires});if(r.levels){const i=n.levelsRequired||r.levels,s=e.acquired[r.id];e.available[n.id]=s>=i}else e.available[n.id]=e.selected[n.requires]}}),e),li=(t,e,n,r)=>{var i;r.next({node:{...t,acquired:e.acquired[t.id],selected:e.selected[t.id],available:e.available[t.id],requiredName:(i=Xe(n,{id:t.requires}))==null?void 0:i.name}})},yu=t=>typeof t=="string"?parseInt(t.replace("#",""),16):0,xu=(t,e,n)=>n?yu(t.colors[n]):Qu(t,e)?Pt(t,e)?yu(t.colors.selected):yu(t.colors.inactive):yu(t.colors.unavailable),bf=(t,e)=>{e.next({event:"nodesChanged",data:{nodes:be(t,n=>({colors:n.colors,id:n.id,requires:n.requires,name:n.name,description:n.description,cost:n.cost,levels:n.levels,levelCost:n.levelCost,levelsRequired:n.levelsRequired,providedStats:n.providedStats,providedAbilities:n.providedAbilities}))}})};wC.load("https://fonts.googleapis.com/css2?family=Inter:wght@100;400;500;700&display=swap");function nU(t,e,n={},r,i,s){let o=s.subscribe({next:O=>{switch(O.event){case"forcesUpdated":y=O.data.forces,F();break;case"modeChanged":C(O.data.mode);break;case"nodeAdded":E(O.data.node);break;case"nodeDeleted":b(O.data.id);break;case"nodeEdited":S(O.data.id,O.data.node);break}}}),a,l,u={selected:{},acquired:{},available:{}},c=y1(),h,d,f,p,m,v="build",g,y={f1:20,f2:25,f3:70,f4:20};function x(){u={selected:{},acquired:{},available:{}},xt(l,O=>{u.selected[O.id]=n[O.id]===!0,u.acquired[O.id]=D8(n[O.id])?n[O.id]:!1}),xt(l,O=>{if(O.requires){const T=Xe(l,{id:O.requires});u.available[O.id]=!O.requires||Pt(T,u),d.push({source:O.id,target:T.id})}else u.available[O.id]=!0}),r.next({nodes:be(l,O=>({...O,selected:Pt(O,u),acquired:u.acquired[O.id]}))})}function b(O){if(O==="basic")return;const T=Xe(l,{id:O});T==null||T.gfx.removeChildren(),T==null||T.gfx.clear(),l=be(Bn(l,G=>G.id!==O),G=>{let $=G.requires;return G.requires===O&&($=T==null?void 0:T.requires),{...G,requires:$}}),d=Bn(be(l,G=>({source:G,target:Xe(l,{id:G==null?void 0:G.requires})})),"target");const D=Xe(l,{id:T==null?void 0:T.requires});g=D==null?void 0:D.id,li(D,u,l,i),B(),k(),bf(l,s)}function S(O,T){let D=Xe(l,{id:O});D.name=T.name,D.id=T.id,D.description=T.description,D.levels=T.levels,D.cost=T.cost,D.levelCost=T.levelCost,D.levelsRequired=T.levelsRequired,D.providedStats=T.providedStats,D.providedAbilities=T.providedAbilities,D.colors=T.colors,u.acquired[O]&&u.acquired[O]>T.levels&&(u.acquired[O]=T.levels),D==null||D.gfx.removeChildren();const G=new Ys(T.name,{fontFamily:"Inter",fontSize:12,fill:"#fff",align:"center"});G.anchor.set(.5,-.75),G.resolution=12,D==null||D.gfx.addChild(G),l=be(l,$=>{if($.id===O)return D;{let M=$;return $.requires===O&&(M.requires=D.id),M}}),B(),k(),F(),li(D,u,l,i),r.next({nodes:be(l,$=>({...$,selected:Pt($,u),acquired:u.acquired[$.id]}))}),bf(l,s)}function E(O){var H;Xe(l,{id:O.requires});let T={...O,name:"New Node",colors:(H=Xe(l,{id:O.requires}))==null?void 0:H.colors};const D=A.bind(T);let{name:G}=T,$=!1;T.gfx=new Ai,T.gfx.on("touchstart",R=>{$=!0,setTimeout(()=>{$&&A(R,T)},100)}),T.gfx.on("touchend",R=>{$=!1}),T.gfx.on("click",R=>D(R,T)),m.addChild(T.gfx),T.gfx.on("mouseover",R=>{v==="build"&&(g=T.id,li(T,u,l,i))});const M=new Ys(G,{fontFamily:"Inter",fontSize:12,fill:"#fff",align:"center"});M.anchor.set(.5,-.75),M.resolution=12,T.gfx.addChild(M),l=[...l,T],d.push({source:T,target:Xe(l,{id:T.requires})}),B(),k(),F(),bf(l,s)}function C(O){let T=v;v=O,T!==O&&(B(),k())}function A(O,T){if(v==="build"){const D=Pt(T,u);u=J8(T,l,u,O.nativeEvent.shiftKey),r.next({nodes:be(l,$=>({...$,selected:Pt($,u),acquired:u.acquired[$.id]}))}),li(T,u,l,i);const G=Pt(T,u)!==D;B(G?T.id:null),k()}else v==="edit"&&(g=T.id,li(T,u,l,i),B())}function F(){y&&(c.nodes(l).force("link",m1(d).strength(O=>Pt(O.target,u)?y.f2*.025:y.f2*.01).id(O=>O.id).distance(O=>Pt(O.source,u)?y.f1+5:y.f1+10)).force("charge",x1().strength(-(y.f3*6))).force("center",d1(f/4,p/4)).force("collision",p1().radius(O=>y.f3).iterations(12)).velocityDecay(y.f4*.01),c.alpha(1).restart()),k(),B()}function k(){for(let O=h.children.length-1;O>=0;O--)h.children[O].destroy();h.clear(),h.removeChildren(),h.alpha=.8,d.forEach(O=>{let{source:T,target:D}=O,G=10198691,$=1;D.id&&(G=xu(T,u,v==="edit"?"selected":null),$=Pt(D,u)&&Pt(T,u)?2:.5),h.lineStyle($,G),h.moveTo(T.x,T.y),h.lineTo(D.x,D.y)}),h.endFill()}function B(O){l.forEach(T=>{const D=g===T.id,G=Pt(T,u);Qu(T,u),T.gfx.clear();let $=T.cost||1;if(v==="build"?T.gfx.cursor=Qu(T,u)?"pointer":"default":T.gfx.cursor="pointer",!O||T.id!==O||T.levels)if(T.levels&&T.levels>1){const M=T.levels*14,H=u.acquired[T.id];D&&v==="edit"&&(T.gfx.beginFill(16777215),T.gfx.drawShape(new Qa(-14,-8,M+4,20,6)),T.gfx.endFill()),T.gfx.beginFill(xu(T,u,v==="edit"?"selected":null)),T.gfx.drawShape(new Qa(-12,-6,M,16,4)),T.gfx.endFill(),T.gfx.beginFill(16777215),El(H,R=>{T.gfx.drawCircle(-4+R*12,2,4)}),T.gfx.endFill(),T.gfx.hitArea=new ce(-10,-6,M,16)}else{let M;v==="edit"?M=8:M=G?$*2+6:$*2+2,D&&v==="edit"&&(T.gfx.beginFill(16777215),T.gfx.drawCircle(0,0,M+2),T.gfx.endFill()),T.gfx.beginFill(xu(T,u,v==="edit"?"selected":null)),T.gfx.drawCircle(0,0,M),T.gfx.hitArea=new TS(0,0,M+10),T.gfx.endFill()}else if(T.id===O){const M=Xe(l,{id:O});let H=G?$*2+6:$*2+2,R=G?$*2+2:$*2+6,N=0;const V=setInterval(()=>{N++,G?R+=N*.4:R-=N*.4,M==null||M.gfx.clear(),M==null||M.gfx.beginFill(xu(M,u)),M==null||M.gfx.drawCircle(0,0,R),M==null||M.gfx.endFill(),G?R>=H&&clearInterval(V):R<=H&&clearInterval(V)},5)}T.gfx.interactive=!0})}function U(){e.length?l=be(e,D=>({...D})):l=[{id:"start-here",name:"Start here",colors:{selected:"#fff",unavailable:"#fff",inactive:"#fff"}}],d=[],x();const O=t.getBoundingClientRect();p=O.height,f=O.width,t.innerHTML="",a=new vv({width:f,height:p,antialias:!0,autoDensity:!0,resizeTo:window,backgroundColor:"#13131a",backgroundAlpha:1}),t.appendChild(a.view),m=new I$({screenWidth:f,screenHeight:p,worldWidth:f*4,worldHeight:p*4,passiveWheel:!1,events:a.renderer.plugins.interaction}),a.stage.addChild(m),m.drag().pinch().wheel().decelerate().clampZoom({minWidth:f/4,minHeight:p/4}),c=y1(l).force("link",m1(d).strength(D=>Pt(D.target,u)?.8:.7).id(D=>D.id).distance(D=>Pt(D.source,u)?20:30)).force("charge",x1().strength(-600)).force("center",d1(f/4,p/4)).force("collision",p1().radius(D=>D.radius).iterations(12)).velocityDecay(.6),h=new Ai,m.addChild(h),l.forEach(D=>{Qu(D,u);const G=A.bind(D);let{name:$}=D,M=!1;D.gfx=new Ai,D.gfx.on("touchstart",R=>{M=!0,li(D,u,l,i),setTimeout(()=>{M&&A(R,D)},100)}),D.gfx.on("touchend",R=>{M=!1}),D.gfx.on("click",R=>G(R,D)),m.addChild(D.gfx),D.gfx.on("mouseover",R=>{v==="build"&&li(D,u,l,i)});const H=new Ys($,{fontFamily:"Inter",fontSize:12,fill:"#fff",align:"center"});H.anchor.set(.5,-.75),H.resolution=12,D.gfx.addChild(H)}),B();const T=()=>{l.forEach(D=>{let{x:G,y:$,gfx:M}=D;M.position=new re(G,$)}),k()};c.on("tick",T)}return U(),{destroy:()=>{c.stop(),l.forEach(O=>{O.gfx.clear(),O.gfx.removeChildren(),O.gfx.destroy()}),h.clear(),o.unsubscribe()}}}const rU="_container_1up64_1",iU="_node_1up64_15",sU="_tooltip_1up64_19",oU="_contextMenu_1up64_32",aU="_menuEntry_1up64_37",lU={container:rU,node:iU,tooltip:sU,contextMenu:oU,menuEntry:aU};var Eg=function(t,e){return Eg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Eg(t,e)};function Gh(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Eg(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Sg(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zc(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Qc(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function mr(t){return typeof t=="function"}function b2(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var wf=b2(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function Cg(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Vh=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=Sg(o),l=a.next();!l.done;l=a.next()){var u=l.value;u.remove(this)}}catch(m){e={error:m}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}else o.remove(this);var c=this.initialTeardown;if(mr(c))try{c()}catch(m){s=m instanceof wf?m.errors:[m]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var d=Sg(h),f=d.next();!f.done;f=d.next()){var p=f.value;try{eb(p)}catch(m){s=s??[],m instanceof wf?s=Qc(Qc([],Zc(s)),Zc(m.errors)):s.push(m)}}}catch(m){r={error:m}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}if(s)throw new wf(s)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)eb(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&Cg(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&Cg(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),w2=Vh.EMPTY;function _2(t){return t instanceof Vh||t&&"closed"in t&&mr(t.remove)&&mr(t.add)&&mr(t.unsubscribe)}function eb(t){mr(t)?t():t.unsubscribe()}var E2={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Tg={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=Tg.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,Qc([t,e],Zc(n))):setTimeout.apply(void 0,Qc([t,e],Zc(n)))},clearTimeout:function(t){var e=Tg.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function uU(t){Tg.setTimeout(function(){throw t})}function tb(){}function Ju(t){t()}var S2=function(t){Gh(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,_2(n)&&n.add(r)):r.destination=fU,r}return e.create=function(n,r,i){return new Ag(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Vh),cU=Function.prototype.bind;function _f(t,e){return cU.call(t,e)}var hU=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){bu(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){bu(r)}else bu(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){bu(n)}},t}(),Ag=function(t){Gh(e,t);function e(n,r,i){var s=t.call(this)||this,o;if(mr(n)||!n)o={next:n??void 0,error:r??void 0,complete:i??void 0};else{var a;s&&E2.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return s.unsubscribe()},o={next:n.next&&_f(n.next,a),error:n.error&&_f(n.error,a),complete:n.complete&&_f(n.complete,a)}):o=n}return s.destination=new hU(o),s}return e}(S2);function bu(t){uU(t)}function dU(t){throw t}var fU={closed:!0,next:tb,error:dU,complete:tb},pU=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function gU(t){return t}function mU(t){return t.length===0?gU:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var nb=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,s=yU(e)?e:new Ag(e,n,r);return Ju(function(){var o=i,a=o.operator,l=o.source;s.add(a?a.call(s,l):l?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=rb(n),new n(function(i,s){var o=new Ag({next:function(a){try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[pU]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return mU(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=rb(e),new e(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},t.create=function(e){return new t(e)},t}();function rb(t){var e;return(e=t??E2.Promise)!==null&&e!==void 0?e:Promise}function vU(t){return t&&mr(t.next)&&mr(t.error)&&mr(t.complete)}function yU(t){return t&&t instanceof S2||vU(t)&&_2(t)}var xU=b2(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Jc=function(t){Gh(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new ib(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new xU},e.prototype.next=function(n){var r=this;Ju(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=Sg(r.currentObservers),a=o.next();!a.done;a=o.next()){var l=a.value;l.next(n)}}catch(u){i={error:u}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;Ju(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;Ju(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?w2:(this.currentObservers=null,a.push(n),new Vh(function(){r.currentObservers=null,Cg(a,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,s=r.thrownError,o=r.isStopped;i?n.error(s):o&&n.complete()},e.prototype.asObservable=function(){var n=new nb;return n.source=this,n},e.create=function(n,r){return new ib(n,r)},e}(nb),ib=function(t){Gh(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:w2},e}(Jc);function bU({trees:t,buildData:e,nodeSelectionUpdated:n,infoUpdated:r,graphEvents:i}){const s=w.useRef(null),o=new Jc,a=new Jc;return _.useEffect(()=>{},[]),w.useEffect(()=>{let l;if(i.subscribe({next:u=>{}}),o.subscribe({next:u=>{n(u)}}),a.subscribe({next:u=>{r(u)}}),s.current){const{destroy:u}=nU(s.current,t,e,o,a,i);l=u}return r({}),l},[e]),P("div",{ref:s,className:lU.container})}const sb=(t,e)=>{const n={lockedStats:{},abilities:{},pointsInvested:0,exportableBuild:{}},r=(a,l,u,c)=>{if(Aa(n[l]))n[l]=0;else if(!n.lockedStats[l]||c&&u&&n.lockedStats[l]<u)if(c)n[l]=u,n.lockedStats[l]=u;else if(a.levels){const h=a.acquired||0;u=u||0,n[l]+=u*h}else n[l]+=u},i=(a,l)=>{const u=Xe(e,{id:a});Aa(n.abilities[a])&&(n.abilities[a]=ct(u)||{},n.abilities[a].modifiers={}),n.abilities[a].learned=n.abilities[a].learned||l},s=a=>{const l=Xe(e,{id:a});l&&(i(l.id),n.abilities[a].replaced=!0)},o=(a,l,u={},c)=>{const h=Xe(e,{id:a});i(a,l),h!=null&&h.replaces&&n.abilities[a].learned&&s(h==null?void 0:h.replaces),u&&xt(u,d=>{let f=d.modifier;c.levels&&(f=c.acquired*d.modifier),Aa(n.abilities[a].modifiers[d.id])&&(n.abilities[a].modifiers[d.id]=0),n.abilities[a].modifiers[d.id]+=f})};return xt(t,a=>{if(a.levels){const l=a.acquired||0;n.exportableBuild[a.id]=a.acquired||0,a.levelCost?Array.isArray(a.levelCost)?El(l,u=>{n.pointsInvested+=a.levelCost[u]}):n.pointsInvested+=l*a.levelCost:n.pointsInvested+=a.acquired||0}else n.exportableBuild[a.id]=!0,n.pointsInvested+=a.cost||1;a.providedStats&&xt(a.providedStats,l=>{r(a,l.id,l.modifier,l.set)}),a.providedAbilities&&xt(a.providedAbilities,l=>{o(l.id,l.gain,l.modifiers,a)})}),n},wU={prefix:"Aquatic",colors:{unavailable:"#3f5576",inactive:"#235299",selected:"#1a72f5"},nodes:[{id:"swimming",cost:1,requires:"speed",levelsRequired:1,name:"Swimming",description:"Congrats! You are a unit.",providedAbilities:[{id:"swimming",gain:!0}]},{id:"advanced-swimming",cost:1,name:"Advanded Swimming",requires:"swimming",levelsRequired:1,description:"Increases potential water speed by 3.",providedAbilities:[{id:"swimming",modifiers:{movement:3}}]},{id:"ferry",cost:1,requires:"advanced-swimming",name:"Ferry",description:"Grants the Ferry ability",providedAbilities:[{id:"ferry",gain:!0}]},{id:"diving",cost:2,requires:"advanced-swimming",name:"Diving",description:"Grants the Diving ability",providedAbilities:[{id:"diving",gain:!0}]},{id:"submarine-transportation",cost:1,requires:"diving",name:"Submarine Transportation",description:"Grants the Submarine Transportation ability",providedAbilities:[{id:"submarine-transportation",gain:!0}]},{id:"attack-from-the-deep",cost:2,requires:"diving",name:"Attack From The Deep",description:"Grants the Attack From The Deep ability",providedAbilities:[{id:"attack-from-the-deep",gain:!0}]}]},_U={prefix:"Armor",colors:{unavailable:"#403c3a",inactive:"#5e3c2b",selected:"#cd8150"},nodes:[{id:"armor",requires:"basic",levels:7,levelCost:[1,1,2,2,3,4,4],name:"Armor",description:"Adds 1 Armor",providedStats:[{id:"armor",modifier:1}]},{id:"attentive",requires:"armor",levelsRequired:2,name:"Attentive",description:"Grants the Attentive ability",providedAbilities:[{id:"attentive",gain:!0}]},{id:"alert",requires:"attentive",name:"Alert",description:"Grants the Alert ability",providedAbilities:[{id:"alert",gain:!0}]},{id:"reactive-armor",requires:"armor",levelsRequired:5,cost:1,name:"Reactive Armor",description:"Sets your AC to 1 and grants Reactive Armor.",providedAbilities:[{id:"reactive-armor",gain:!0}],providedStats:[{id:"armor",set:1}]},{id:"reactive-armor-2",requires:"reactive-armor",cost:1,name:"Reactive Armor 2",description:"Increases your base AC to 2",providedStats:[{id:"armor",set:2}]},{id:"defend-1",requires:"armor",levelsRequired:1,cost:1,name:"Defend 1",description:"Grants the ability to defend and adds 1 HP.",providedStats:[{id:"hp",modifier:1}],providedAbilities:[{id:"defend",gain:!0}]},{id:"defend-2",requires:"defend-1",cost:1,name:"Defend 2",description:"Grant 1 HP.",providedStats:[{id:"hp",modifier:1}]},{id:"deflect-1",requires:"defend-2",cost:1,name:"Deflection",description:"Grants the Deflect ability.",providedAbilities:[{id:"deflect",gain:!0}]},{id:"deflect-2",requires:"deflect-1",cost:1,name:"Deflection+",description:"Makes it easier to deflect magic attacks.",providedAbilities:[{id:"deflect",modifiers:{lowerRange:-1}}]},{id:"guardian-1",requires:"defend-1",cost:1,name:"Guardian",description:"Grants the Guardian ability",providedAbilities:[{id:"guardian",gain:!0}]},{id:"guardian-2",requires:"guardian-1",cost:1,name:"Guardian+",description:"Allows you guard an additional attack",providedAbilities:[{id:"guardian",modifiers:{attacks:1}}]}]},EU={prefix:"Flying",colors:{unavailable:"#87645c",inactive:"#875246",selected:"#d44b2c"},nodes:[{id:"attack-1",requires:"basic",cost:1,name:"Attack",description:"Grants your unit the ability to attack",providedAbilities:[{id:"basic-attack",gain:!0}]},{id:"attack-1-dmg",requires:"attack-1",cost:1,name:"Attack+",description:"Increases the damage of your first attack by 1",providedAbilities:[{id:"basic-attack",modifiers:[{id:"dmg",modifier:1}]},{id:"multi-attack",modifiers:[{id:"dmg1",modifier:1}]}]},{id:"attack-2",requires:"attack-1-dmg",cost:1,name:"MultiAttack",description:"Grants your unit the ability to attack twice",providedAbilities:[{id:"multi-attack",gain:!0}]},{id:"attack-2-dmg",requires:"attack-2",cost:1,name:"MultiAttack+",description:"Increases the damage of your second attack by 1",providedAbilities:[{id:"multi-attack",modifiers:[{id:"dmg2",modifier:1}]}]}]},SU={prefix:"Attack",colors:{unavailable:"#121212",inactive:"#232323",selected:"#d2d2d2"},nodes:[{id:"basic",cost:1,name:"Basic",description:"Congrats! You are a unit.",providedStats:[{id:"hp",modifier:5},{id:"armor",modifier:2}]},{id:"basic-magic",requires:"basic",cost:1,name:"Spellcasting",description:"Grants your unit the ability to cast spells",providedAbilities:[{id:"cantrip-barrage",gain:!0},{id:"spellcasting",gain:!0}]}]},CU={prefix:"Flying",colors:{unavailable:"#506b73",inactive:"#6894a1",selected:"#4dd2f7"},nodes:[{id:"flying",requires:"speed",levelsRequired:4,cost:1,name:"Flying",description:"Grants you the ability to fly",providedAbilities:[{id:"flying",gain:!0}]},{id:"death-bomb",requires:"flying",cost:1,name:"Death Bomb",description:"Grants you the Death Bomb ability. Must be undead to use.",providedAbilities:[{id:"death-bomb",gain:!0}]},{id:"swarm",requires:"flying",cost:1,name:"Swarm",description:"Grants you the Swarm ability.",providedAbilities:[{id:"swarm",gain:!0}]},{id:"strafing-run",requires:"flying",cost:1,name:"Strafing Run",description:"Grants you the Strafing Run ability.",providedAbilities:[{id:"strafing-run",gain:!0}]},{id:"advanced-strafing-run",requires:"strafing-run",levels:2,name:"Strafing Run+",description:"Increases the number of targets by 3.",providedAbilities:[{id:"strafing-run",modifiers:{targets:3}}]},{id:"advanced-flying",requires:"flying",cost:1,name:"Advanced Flying",description:"Increases the number of targets by 3.",providedAbilities:[{id:"advanced-flying",gain:!0}]},{id:"dive-bomb",requires:"advanced-flying",cost:1,name:"Dive Bomb",description:"Grants you the Dive Bomb ability.",providedAbilities:[{id:"dive-bomb",gain:!0}]},{id:"aerial-combat",requires:"advanced-flying",cost:1,name:"Aerial Combat",description:"Grants you the Aerial Combat ability.",providedAbilities:[{id:"aerial-combat",gain:!0}]},{id:"aerial-evasion",requires:"aerial-combat",cost:1,name:"Aerial Evasion",description:"Grants you the Aerial Evasion ability.",providedAbilities:[{id:"aerial-evasion",gain:!0}]}]},TU={prefix:"Magic",colors:{unavailable:"#65748f",inactive:"#495d82",selected:"#7391c9"},nodes:[{id:"magic-range-1",requires:"basic-magic",levels:3,name:"Spell Range",description:"Increases the range of your magic.",providedAbilities:[{id:"spellcasting",modifiers:[{id:"range",modifier:1}]}]},{id:"concentration-1",requires:"basic-magic",levels:2,name:"Concentration+",description:"Add +1 to concentration checks.",providedAbilities:[{id:"spellcasting",modifiers:[{id:"concentration",modifier:1}]}]}]},AU={prefix:"Magic",colors:{unavailable:"#7a7354",inactive:"#4a4118",selected:"#c7ab2e"},nodes:[{id:"holy-casting",requires:"basic-magic",cost:1,name:"Holy-Divine Casting",description:"Grants you the ability to cast Holy/Divine Spells.",providedAbilities:[{id:"smite",gain:!0},{id:"guiding-bolt",gain:!0},{id:"death-ward",gain:!0},{id:"restoration",gain:!0},{id:"turn-undead",gain:!0},{id:"bless",gain:!0},{id:"spirit-guardians",gain:!0}]},{id:"holy-power",requires:"holy-casting",cost:1,name:"Holy Power",description:"Increases the damage of Smite and Guiding Bolt by 1",providedAbilities:[{id:"smite",modifiers:[{id:"dmg",modifier:1}]},{id:"guiding-bolt",modifiers:[{id:"dmg",modifier:1}]}]},{id:"advanced-guiding-bolt",requires:"holy-power",cost:1,name:"Advanced Guiding Bolt",description:"Guiding bolt now gives allies +2 to hit the target next round.",providedAbilities:[{id:"guiding-bolt",modifiers:{hit:1}}]}]},PU={prefix:"Movement",colors:{unavailable:"#648264",inactive:"#3a913b",selected:"#51db53"},nodes:[{id:"speed",requires:"basic",levels:8,cost:1,name:"Speed",description:"Allows you to move one additional hex per turn",providedStats:[{id:"movement",modifier:1}]},{id:"versatile",requires:"speed",levelsRequired:4,cost:1,name:"Versatile",description:"Grants the Versatile ability",providedAbilities:[{id:"versatile",gain:!0}]},{id:"extra-versatile",requires:"versatile",cost:1,name:"Extra Versatile",description:"Grants the Extra Versatile ability",providedAbilities:[{id:"extra-versatile",gain:!0}]},{id:"dash",requires:"speed",levelsRequired:2,cost:1,name:"Dash",description:"Grants the Dash ability",providedAbilities:[{id:"dash",gain:!0}]},{id:"advanced-dash",requires:"charge",cost:1,levels:2,name:"Dash+",description:"Increases the movement of Dash by 2",providedAbilities:[{id:"dash",modifiers:[{id:"movement",modifier:2}]}]},{id:"dash-expert",requires:"advanced-dash",levelsRequired:2,cost:1,name:"Dash Expert",description:"Grants the Dash Expert ability",providedAbilities:[{id:"dash-expert",gain:!0}]},{id:"charge",requires:"dash",cost:1,name:"Charge",description:"Grants the Charge ability",providedAbilities:[{id:"charge",gain:!0}]},{id:"breakthrough",requires:"charge",cost:1,name:"Breakthrough",description:"Grants you the ability to continue moving through units after a charge.",providedAbilities:[{id:"charge",modifiers:[{id:"breakthrough",modifer:1}]}]},{id:"advanced-charge",requires:"charge",cost:1,name:"Charge+",description:"Increases the movement of Charge by 2",providedAbilities:[{id:"charge",modifiers:[{id:"dmg",modifer:1}]}]}]},OU=j8([SU,PU,CU,EU,_U,TU,AU,wU],(t,e)=>h6(t,be(e.nodes,n=>({...n,colors:e.colors}))),[]);function IU({pointsSpent:t}){return z("div",{className:"point-counter",children:["Spent: ",t]})}var I={},RU={get exports(){return I},set exports(t){I=t}},MU="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",kU=MU,DU=kU;function C2(){}function T2(){}T2.resetWarningCache=C2;var FU=function(){function t(r,i,s,o,a,l){if(l!==DU){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:T2,resetWarningCache:C2};return n.PropTypes=n,n};RU.exports=FU();function Pg(){return Pg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pg.apply(this,arguments)}function $U(t,e){if(t==null)return{};var n=BU(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BU(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Lv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=$U(t,["color","size"]);return w.createElement("svg",Pg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),w.createElement("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),w.createElement("line",{x1:"6",y1:"20",x2:"6",y2:"14"}))});Lv.propTypes={color:I.string,size:I.oneOfType([I.string,I.number])};Lv.displayName="BarChart2";const LU=Lv;function Og(){return Og=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Og.apply(this,arguments)}function NU(t,e){if(t==null)return{};var n=UU(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UU(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Nv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=NU(t,["color","size"]);return w.createElement("svg",Og({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),w.createElement("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"}))});Nv.propTypes={color:I.string,size:I.oneOfType([I.string,I.number])};Nv.displayName="BookOpen";const jU=Nv;function Ig(){return Ig=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ig.apply(this,arguments)}function HU(t,e){if(t==null)return{};var n=zU(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zU(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Uv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=HU(t,["color","size"]);return w.createElement("svg",Ig({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"20 6 9 17 4 12"}))});Uv.propTypes={color:I.string,size:I.oneOfType([I.string,I.number])};Uv.displayName="Check";const GU=Uv;function Rg(){return Rg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rg.apply(this,arguments)}function VU(t,e){if(t==null)return{};var n=WU(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WU(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var jv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=VU(t,["color","size"]);return w.createElement("svg",Rg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"6 9 12 15 18 9"}))});jv.propTypes={color:I.string,size:I.oneOfType([I.string,I.number])};jv.displayName="ChevronDown";const A2=jv;function Mg(){return Mg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mg.apply(this,arguments)}function XU(t,e){if(t==null)return{};var n=YU(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YU(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Hv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=XU(t,["color","size"]);return w.createElement("svg",Mg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"18 15 12 9 6 15"}))});Hv.propTypes={color:I.string,size:I.oneOfType([I.string,I.number])};Hv.displayName="ChevronUp";const P2=Hv;function kg(){return kg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kg.apply(this,arguments)}function qU(t,e){if(t==null)return{};var n=KU(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function KU(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var zv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=qU(t,["color","size"]);return w.createElement("svg",kg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"11 17 6 12 11 7"}),w.createElement("polyline",{points:"18 17 13 12 18 7"}))});zv.propTypes={color:I.string,size:I.oneOfType([I.string,I.number])};zv.displayName="ChevronsLeft";const ZU=zv;function Dg(){return Dg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dg.apply(this,arguments)}function QU(t,e){if(t==null)return{};var n=JU(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JU(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Gv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=QU(t,["color","size"]);return w.createElement("svg",Dg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"13 17 18 12 13 7"}),w.createElement("polyline",{points:"6 17 11 12 6 7"}))});Gv.propTypes={color:I.string,size:I.oneOfType([I.string,I.number])};Gv.displayName="ChevronsRight";const e7=Gv;function Fg(){return Fg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fg.apply(this,arguments)}function t7(t,e){if(t==null)return{};var n=n7(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function n7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Vv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=t7(t,["color","size"]);return w.createElement("svg",Fg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"16 18 22 12 16 6"}),w.createElement("polyline",{points:"8 6 2 12 8 18"}))});Vv.propTypes={color:I.string,size:I.oneOfType([I.string,I.number])};Vv.displayName="Code";const r7=Vv;function $g(){return $g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$g.apply(this,arguments)}function i7(t,e){if(t==null)return{};var n=s7(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function s7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Wv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=i7(t,["color","size"]);return w.createElement("svg",$g({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),w.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))});Wv.propTypes={color:I.string,size:I.oneOfType([I.string,I.number])};Wv.displayName="Copy";const Bg=Wv;function Lg(){return Lg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lg.apply(this,arguments)}function o7(t,e){if(t==null)return{};var n=a7(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function a7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Xv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=o7(t,["color","size"]);return w.createElement("svg",Lg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),w.createElement("polyline",{points:"7 10 12 15 17 10"}),w.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"}))});Xv.propTypes={color:I.string,size:I.oneOfType([I.string,I.number])};Xv.displayName="Download";const ob=Xv;function Ng(){return Ng=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ng.apply(this,arguments)}function l7(t,e){if(t==null)return{};var n=u7(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function u7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Yv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=l7(t,["color","size"]);return w.createElement("svg",Ng({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),w.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))});Yv.propTypes={color:I.string,size:I.oneOfType([I.string,I.number])};Yv.displayName="Edit";const O2=Yv;function Ug(){return Ug=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ug.apply(this,arguments)}function c7(t,e){if(t==null)return{};var n=h7(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function h7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var qv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=c7(t,["color","size"]);return w.createElement("svg",Ug({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("circle",{cx:"12",cy:"12",r:"10"}),w.createElement("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),w.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}))});qv.propTypes={color:I.string,size:I.oneOfType([I.string,I.number])};qv.displayName="HelpCircle";const d7=qv;function jg(){return jg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jg.apply(this,arguments)}function f7(t,e){if(t==null)return{};var n=p7(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function p7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Kv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=f7(t,["color","size"]);return w.createElement("svg",jg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("circle",{cx:"12",cy:"12",r:"10"}),w.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),w.createElement("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"}))});Kv.propTypes={color:I.string,size:I.oneOfType([I.string,I.number])};Kv.displayName="Info";const g7=Kv;function Hg(){return Hg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hg.apply(this,arguments)}function m7(t,e){if(t==null)return{};var n=v7(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function v7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Zv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=m7(t,["color","size"]);return w.createElement("svg",Hg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),w.createElement("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),w.createElement("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),w.createElement("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),w.createElement("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),w.createElement("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"}))});Zv.propTypes={color:I.string,size:I.oneOfType([I.string,I.number])};Zv.displayName="List";const y7=Zv;function zg(){return zg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zg.apply(this,arguments)}function x7(t,e){if(t==null)return{};var n=b7(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function b7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Qv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=x7(t,["color","size"]);return w.createElement("svg",zg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),w.createElement("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}))});Qv.propTypes={color:I.string,size:I.oneOfType([I.string,I.number])};Qv.displayName="Lock";const w7=Qv;function Gg(){return Gg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gg.apply(this,arguments)}function _7(t,e){if(t==null)return{};var n=E7(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function E7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Jv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=_7(t,["color","size"]);return w.createElement("svg",Gg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),w.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))});Jv.propTypes={color:I.string,size:I.oneOfType([I.string,I.number])};Jv.displayName="MinusSquare";const S7=Jv;function Vg(){return Vg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vg.apply(this,arguments)}function C7(t,e){if(t==null)return{};var n=T7(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function T7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var e0=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=C7(t,["color","size"]);return w.createElement("svg",Vg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),w.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),w.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))});e0.propTypes={color:I.string,size:I.oneOfType([I.string,I.number])};e0.displayName="PlusSquare";const Xi=e0;function Wg(){return Wg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wg.apply(this,arguments)}function A7(t,e){if(t==null)return{};var n=P7(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function P7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var t0=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=A7(t,["color","size"]);return w.createElement("svg",Wg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"1 4 1 10 7 10"}),w.createElement("polyline",{points:"23 20 23 14 17 14"}),w.createElement("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"}))});t0.propTypes={color:I.string,size:I.oneOfType([I.string,I.number])};t0.displayName="RefreshCcw";const O7=t0;function Xg(){return Xg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xg.apply(this,arguments)}function I7(t,e){if(t==null)return{};var n=R7(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function R7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var n0=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=I7(t,["color","size"]);return w.createElement("svg",Xg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),w.createElement("polyline",{points:"17 21 17 13 7 13 7 21"}),w.createElement("polyline",{points:"7 3 7 8 15 8"}))});n0.propTypes={color:I.string,size:I.oneOfType([I.string,I.number])};n0.displayName="Save";const I2=n0;function Yg(){return Yg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yg.apply(this,arguments)}function M7(t,e){if(t==null)return{};var n=k7(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function k7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var r0=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=M7(t,["color","size"]);return w.createElement("svg",Yg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("circle",{cx:"12",cy:"12",r:"3"}),w.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}))});r0.propTypes={color:I.string,size:I.oneOfType([I.string,I.number])};r0.displayName="Settings";const D7=r0;function qg(){return qg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qg.apply(this,arguments)}function F7(t,e){if(t==null)return{};var n=$7(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var i0=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=F7(t,["color","size"]);return w.createElement("svg",qg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}))});i0.propTypes={color:I.string,size:I.oneOfType([I.string,I.number])};i0.displayName="Shield";const B7=i0;function Kg(){return Kg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kg.apply(this,arguments)}function L7(t,e){if(t==null)return{};var n=N7(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function N7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var s0=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=L7(t,["color","size"]);return w.createElement("svg",Kg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),w.createElement("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"}))});s0.propTypes={color:I.string,size:I.oneOfType([I.string,I.number])};s0.displayName="Tag";const U7=s0;function Zg(){return Zg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zg.apply(this,arguments)}function j7(t,e){if(t==null)return{};var n=H7(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function H7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var o0=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=j7(t,["color","size"]);return w.createElement("svg",Zg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"3 6 5 6 21 6"}),w.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),w.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),w.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}))});o0.propTypes={color:I.string,size:I.oneOfType([I.string,I.number])};o0.displayName="Trash2";const a0=o0;function Qg(){return Qg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qg.apply(this,arguments)}function z7(t,e){if(t==null)return{};var n=G7(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function G7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var l0=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=z7(t,["color","size"]);return w.createElement("svg",Qg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("circle",{cx:"12",cy:"12",r:"10"}),w.createElement("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),w.createElement("line",{x1:"9",y1:"9",x2:"15",y2:"15"}))});l0.propTypes={color:I.string,size:I.oneOfType([I.string,I.number])};l0.displayName="XCircle";const R2=l0;function Jg(){return Jg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jg.apply(this,arguments)}function V7(t,e){if(t==null)return{};var n=W7(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function W7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var u0=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=V7(t,["color","size"]);return w.createElement("svg",Jg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),w.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))});u0.propTypes={color:I.string,size:I.oneOfType([I.string,I.number])};u0.displayName="X";const X7=u0,bo=_.createContext({});function M2(){const t=window.localStorage.getItem("dragon-tagColors");return t?JSON.parse(t):{}}M2();const Y7=(t,e)=>{const{tag:n,color:r,type:i,colors:s}=e;let o=ct(t);return i==="add"?(o[n]=r,o):i==="set"?(o=s,window.localStorage.setItem("dragon-tagColors",JSON.stringify(o)),s):(i==="save"&&window.localStorage.setItem("dragon-tagColors",JSON.stringify(o)),t)},q7=({children:t})=>{const[e,n]=_.useReducer(Y7,M2());return P(bo.Provider,{value:{tagColors:e,setTagColors:n},children:t})};function K7(t,e,n,r){let i={};return i.borderColor=n,e?(i.borderWidth="2px",i.color="#1a1a1c",i.backgroundColor=n,i.fontWeight=500):i.color="#fff",r&&(i.borderColor="transparent",i.backgroundColor=n,i.color="#222",i.fontWeight=600,i.borderRadius=12),Pn(t)&&(i.cursor="pointer"),i}function em({label:t,clicked:e,selected:n,children:r,emphasize:i}){const{tagColors:s}=_.useContext(bo),o=a=>{Pn(e)&&e(t)};return _.useEffect(()=>{},[t]),z("span",{onClick:o,className:"stat-tag",style:K7(e,n,s[t]||"#fff",i),children:[t," ",n?P(GU,{size:14}):"",r&&r]})}function Z7({value:t,valueChanged:e}){const[n,r]=_.useState(+t),[i,s]=_.useState(0),o=_.useRef({offsetWidth:0});return _.useEffect(()=>{var l;s(((l=o==null?void 0:o.current)==null?void 0:l.offsetWidth)+24)},[n]),z("div",{className:"fancy-text-input form-control",children:[P("span",{className:"hidden-text",ref:o,children:n}),P("input",{value:n,type:"number",style:{width:i},onChange:l=>{r(+l.target.value),e(+l.target.value)}})]})}function eh({value:t,valueChanged:e,type:n="text",blur:r}){const[i,s]=_.useState(t),[o,a]=_.useState(0),l=_.useRef({offsetWidth:0});return _.useEffect(()=>{var c;i&&a(((c=l==null?void 0:l.current)==null?void 0:c.offsetWidth)+(n==="number"?24:20))},[i]),_.useEffect(()=>{s(t)},[t]),z("div",{className:"fancy-text-input form-control",children:[P("span",{className:"hidden-text",ref:l,children:i}),P("input",{onBlur:r,value:i,type:n,style:{width:o},onChange:c=>{e(n==="number"?parseInt(c.target.value,10):c.target.value)}})]})}function ab(t={}){return t?be(Object.keys(t),e=>({name:e,value:t[e]})):[]}function Ef(t){let e={};return xt(t,n=>{e[n.name]=n.value}),e}function Q7({params:t,paramsChanged:e}){const[n,r]=_.useState(ab(t));_.useEffect(()=>{r(ab(t))},[t]);const i=(a,l)=>{let u=ct(n);u[l].name=a,e(Ef(u))},s=(a,l)=>{let u=ct(n);u[l].value=a,e(Ef(u))},o=()=>{e(Ef([...n,{name:"...",value:0}]))};return z("div",{className:"param-editor",children:[P("div",{className:"title",children:"Params"}),n&&be(n,(a,l)=>z("div",{className:"param-line",children:[P(eh,{value:a.name,valueChanged:u=>i(u,l)}),P(Z7,{value:a.value,valueChanged:u=>s(u,l)})]})),z("button",{className:"add-button",onClick:o,children:["Add Param ",P(Xi,{size:18})]})]})}function Ni(t){return Ni=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ni(t)}function J7(t,e){if(Ni(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ni(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function k2(t){var e=J7(t,"string");return Ni(e)==="symbol"?e:String(e)}function fa(t,e,n){return e=k2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lb(Object(n),!0).forEach(function(r){fa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ej(t){if(Array.isArray(t))return t}function tj(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function tm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function D2(t,e){if(t){if(typeof t=="string")return tm(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tm(t,e)}}function nj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vr(t,e){return ej(t)||tj(t,e)||D2(t,e)||nj()}function F2(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function wo(t,e){if(t==null)return{};var n=F2(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var rj=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function ij(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,s=t.defaultValue,o=s===void 0?null:s,a=t.inputValue,l=t.menuIsOpen,u=t.onChange,c=t.onInputChange,h=t.onMenuClose,d=t.onMenuOpen,f=t.value,p=wo(t,rj),m=_.useState(a!==void 0?a:n),v=vr(m,2),g=v[0],y=v[1],x=_.useState(l!==void 0?l:i),b=vr(x,2),S=b[0],E=b[1],C=_.useState(f!==void 0?f:o),A=vr(C,2),F=A[0],k=A[1],B=_.useCallback(function(M,H){typeof u=="function"&&u(M,H),k(M)},[u]),U=_.useCallback(function(M,H){var R;typeof c=="function"&&(R=c(M,H)),y(R!==void 0?R:M)},[c]),O=_.useCallback(function(){typeof d=="function"&&d(),E(!0)},[d]),T=_.useCallback(function(){typeof h=="function"&&h(),E(!1)},[h]),D=a!==void 0?a:g,G=l!==void 0?l:S,$=f!==void 0?f:F;return ae(ae({},p),{},{inputValue:D,menuIsOpen:G,onChange:B,onInputChange:U,onMenuClose:T,onMenuOpen:O,value:$})}function te(){return te=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},te.apply(this,arguments)}function sj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ub(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k2(r.key),r)}}function oj(t,e,n){return e&&ub(t.prototype,e),n&&ub(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function th(t,e){return th=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},th(t,e)}function aj(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&th(t,e)}function nh(t){return nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nh(t)}function lj(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function uj(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cj(t,e){if(e&&(Ni(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uj(t)}function hj(t){var e=lj();return function(){var r=nh(t),i;if(e){var s=nh(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return cj(this,i)}}function dj(t){if(Array.isArray(t))return tm(t)}function fj(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pj(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $2(t){return dj(t)||fj(t)||D2(t)||pj()}function gj(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function mj(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var vj=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(mj(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=gj(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),vt="-ms-",rh="-moz-",ye="-webkit-",B2="comm",c0="rule",h0="decl",yj="@import",L2="@keyframes",xj=Math.abs,Wh=String.fromCharCode,bj=Object.assign;function wj(t,e){return at(t,0)^45?(((e<<2^at(t,0))<<2^at(t,1))<<2^at(t,2))<<2^at(t,3):0}function N2(t){return t.trim()}function _j(t,e){return(t=e.exec(t))?t[0]:t}function xe(t,e,n){return t.replace(e,n)}function nm(t,e){return t.indexOf(e)}function at(t,e){return t.charCodeAt(e)|0}function ol(t,e,n){return t.slice(e,n)}function Wn(t){return t.length}function d0(t){return t.length}function wu(t,e){return e.push(t),t}function Ej(t,e){return t.map(e).join("")}var Xh=1,fo=1,U2=0,Ft=0,qe=0,_o="";function Yh(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Xh,column:fo,length:o,return:""}}function Zo(t,e){return bj(Yh("",null,null,"",null,null,0),t,{length:-t.length},e)}function Sj(){return qe}function Cj(){return qe=Ft>0?at(_o,--Ft):0,fo--,qe===10&&(fo=1,Xh--),qe}function Yt(){return qe=Ft<U2?at(_o,Ft++):0,fo++,qe===10&&(fo=1,Xh++),qe}function tr(){return at(_o,Ft)}function ec(){return Ft}function Sl(t,e){return ol(_o,t,e)}function al(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function j2(t){return Xh=fo=1,U2=Wn(_o=t),Ft=0,[]}function H2(t){return _o="",t}function tc(t){return N2(Sl(Ft-1,rm(t===91?t+2:t===40?t+1:t)))}function Tj(t){for(;(qe=tr())&&qe<33;)Yt();return al(t)>2||al(qe)>3?"":" "}function Aj(t,e){for(;--e&&Yt()&&!(qe<48||qe>102||qe>57&&qe<65||qe>70&&qe<97););return Sl(t,ec()+(e<6&&tr()==32&&Yt()==32))}function rm(t){for(;Yt();)switch(qe){case t:return Ft;case 34:case 39:t!==34&&t!==39&&rm(qe);break;case 40:t===41&&rm(t);break;case 92:Yt();break}return Ft}function Pj(t,e){for(;Yt()&&t+qe!==47+10;)if(t+qe===42+42&&tr()===47)break;return"/*"+Sl(e,Ft-1)+"*"+Wh(t===47?t:Yt())}function Oj(t){for(;!al(tr());)Yt();return Sl(t,Ft)}function Ij(t){return H2(nc("",null,null,null,[""],t=j2(t),0,[0],t))}function nc(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,h=o,d=0,f=0,p=0,m=1,v=1,g=1,y=0,x="",b=i,S=s,E=r,C=x;v;)switch(p=y,y=Yt()){case 40:if(p!=108&&at(C,h-1)==58){nm(C+=xe(tc(y),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:C+=tc(y);break;case 9:case 10:case 13:case 32:C+=Tj(p);break;case 92:C+=Aj(ec()-1,7);continue;case 47:switch(tr()){case 42:case 47:wu(Rj(Pj(Yt(),ec()),e,n),l);break;default:C+="/"}break;case 123*m:a[u++]=Wn(C)*g;case 125*m:case 59:case 0:switch(y){case 0:case 125:v=0;case 59+c:f>0&&Wn(C)-h&&wu(f>32?hb(C+";",r,n,h-1):hb(xe(C," ","")+";",r,n,h-2),l);break;case 59:C+=";";default:if(wu(E=cb(C,e,n,u,c,i,a,x,b=[],S=[],h),s),y===123)if(c===0)nc(C,e,E,E,b,s,h,a,S);else switch(d===99&&at(C,3)===110?100:d){case 100:case 109:case 115:nc(t,E,E,r&&wu(cb(t,E,E,0,0,i,a,x,i,b=[],h),S),i,S,h,a,r?b:S);break;default:nc(C,E,E,E,[""],S,0,a,S)}}u=c=f=0,m=g=1,x=C="",h=o;break;case 58:h=1+Wn(C),f=p;default:if(m<1){if(y==123)--m;else if(y==125&&m++==0&&Cj()==125)continue}switch(C+=Wh(y),y*m){case 38:g=c>0?1:(C+="\f",-1);break;case 44:a[u++]=(Wn(C)-1)*g,g=1;break;case 64:tr()===45&&(C+=tc(Yt())),d=tr(),c=h=Wn(x=C+=Oj(ec())),y++;break;case 45:p===45&&Wn(C)==2&&(m=0)}}return s}function cb(t,e,n,r,i,s,o,a,l,u,c){for(var h=i-1,d=i===0?s:[""],f=d0(d),p=0,m=0,v=0;p<r;++p)for(var g=0,y=ol(t,h+1,h=xj(m=o[p])),x=t;g<f;++g)(x=N2(m>0?d[g]+" "+y:xe(y,/&\f/g,d[g])))&&(l[v++]=x);return Yh(t,e,n,i===0?c0:a,l,u,c)}function Rj(t,e,n){return Yh(t,e,n,B2,Wh(Sj()),ol(t,2,-2),0)}function hb(t,e,n,r){return Yh(t,e,n,h0,ol(t,0,r),ol(t,r+1,-1),r)}function Ks(t,e){for(var n="",r=d0(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function Mj(t,e,n,r){switch(t.type){case yj:case h0:return t.return=t.return||t.value;case B2:return"";case L2:return t.return=t.value+"{"+Ks(t.children,r)+"}";case c0:t.value=t.props.join(",")}return Wn(n=Ks(t.children,r))?t.return=t.value+"{"+n+"}":""}function kj(t){var e=d0(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function Dj(t){return function(e){e.root||(e=e.return)&&t(e)}}function Fj(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var $j=function(e,n,r){for(var i=0,s=0;i=s,s=tr(),i===38&&s===12&&(n[r]=1),!al(s);)Yt();return Sl(e,Ft)},Bj=function(e,n){var r=-1,i=44;do switch(al(i)){case 0:i===38&&tr()===12&&(n[r]=1),e[r]+=$j(Ft-1,n,r);break;case 2:e[r]+=tc(i);break;case 4:if(i===44){e[++r]=tr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Wh(i)}while(i=Yt());return e},Lj=function(e,n){return H2(Bj(j2(e),n))},db=new WeakMap,Nj=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!db.get(r))&&!i){db.set(e,!0);for(var s=[],o=Lj(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},Uj=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function z2(t,e){switch(wj(t,e)){case 5103:return ye+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ye+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ye+t+rh+t+vt+t+t;case 6828:case 4268:return ye+t+vt+t+t;case 6165:return ye+t+vt+"flex-"+t+t;case 5187:return ye+t+xe(t,/(\w+).+(:[^]+)/,ye+"box-$1$2"+vt+"flex-$1$2")+t;case 5443:return ye+t+vt+"flex-item-"+xe(t,/flex-|-self/,"")+t;case 4675:return ye+t+vt+"flex-line-pack"+xe(t,/align-content|flex-|-self/,"")+t;case 5548:return ye+t+vt+xe(t,"shrink","negative")+t;case 5292:return ye+t+vt+xe(t,"basis","preferred-size")+t;case 6060:return ye+"box-"+xe(t,"-grow","")+ye+t+vt+xe(t,"grow","positive")+t;case 4554:return ye+xe(t,/([^-])(transform)/g,"$1"+ye+"$2")+t;case 6187:return xe(xe(xe(t,/(zoom-|grab)/,ye+"$1"),/(image-set)/,ye+"$1"),t,"")+t;case 5495:case 3959:return xe(t,/(image-set\([^]*)/,ye+"$1$`$1");case 4968:return xe(xe(t,/(.+:)(flex-)?(.*)/,ye+"box-pack:$3"+vt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ye+t+t;case 4095:case 3583:case 4068:case 2532:return xe(t,/(.+)-inline(.+)/,ye+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Wn(t)-1-e>6)switch(at(t,e+1)){case 109:if(at(t,e+4)!==45)break;case 102:return xe(t,/(.+:)(.+)-([^]+)/,"$1"+ye+"$2-$3$1"+rh+(at(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~nm(t,"stretch")?z2(xe(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(at(t,e+1)!==115)break;case 6444:switch(at(t,Wn(t)-3-(~nm(t,"!important")&&10))){case 107:return xe(t,":",":"+ye)+t;case 101:return xe(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ye+(at(t,14)===45?"inline-":"")+"box$3$1"+ye+"$2$3$1"+vt+"$2box$3")+t}break;case 5936:switch(at(t,e+11)){case 114:return ye+t+vt+xe(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ye+t+vt+xe(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ye+t+vt+xe(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ye+t+vt+t+t}return t}var jj=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case h0:e.return=z2(e.value,e.length);break;case L2:return Ks([Zo(e,{value:xe(e.value,"@","@"+ye)})],i);case c0:if(e.length)return Ej(e.props,function(s){switch(_j(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ks([Zo(e,{props:[xe(s,/:(read-\w+)/,":"+rh+"$1")]})],i);case"::placeholder":return Ks([Zo(e,{props:[xe(s,/:(plac\w+)/,":"+ye+"input-$1")]}),Zo(e,{props:[xe(s,/:(plac\w+)/,":"+rh+"$1")]}),Zo(e,{props:[xe(s,/:(plac\w+)/,vt+"input-$1")]})],i)}return""})}},Hj=[jj],zj=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var v=m.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||Hj,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var v=m.getAttribute("data-emotion").split(" "),g=1;g<v.length;g++)s[v[g]]=!0;a.push(m)});var l,u=[Nj,Uj];{var c,h=[Mj,Dj(function(m){c.insert(m)})],d=kj(u.concat(i,h)),f=function(v){return Ks(Ij(v),d)};l=function(v,g,y,x){c=y,f(v?v+"{"+g.styles+"}":g.styles),x&&(p.inserted[g.name]=!0)}}var p={key:n,sheet:new vj({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return p.sheet.hydrate(a),p},im={},Gj={get exports(){return im},set exports(t){im=t}},_e={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var st=typeof Symbol=="function"&&Symbol.for,f0=st?Symbol.for("react.element"):60103,p0=st?Symbol.for("react.portal"):60106,qh=st?Symbol.for("react.fragment"):60107,Kh=st?Symbol.for("react.strict_mode"):60108,Zh=st?Symbol.for("react.profiler"):60114,Qh=st?Symbol.for("react.provider"):60109,Jh=st?Symbol.for("react.context"):60110,g0=st?Symbol.for("react.async_mode"):60111,ed=st?Symbol.for("react.concurrent_mode"):60111,td=st?Symbol.for("react.forward_ref"):60112,nd=st?Symbol.for("react.suspense"):60113,Vj=st?Symbol.for("react.suspense_list"):60120,rd=st?Symbol.for("react.memo"):60115,id=st?Symbol.for("react.lazy"):60116,Wj=st?Symbol.for("react.block"):60121,Xj=st?Symbol.for("react.fundamental"):60117,Yj=st?Symbol.for("react.responder"):60118,qj=st?Symbol.for("react.scope"):60119;function en(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case f0:switch(t=t.type,t){case g0:case ed:case qh:case Zh:case Kh:case nd:return t;default:switch(t=t&&t.$$typeof,t){case Jh:case td:case id:case rd:case Qh:return t;default:return e}}case p0:return e}}}function G2(t){return en(t)===ed}_e.AsyncMode=g0;_e.ConcurrentMode=ed;_e.ContextConsumer=Jh;_e.ContextProvider=Qh;_e.Element=f0;_e.ForwardRef=td;_e.Fragment=qh;_e.Lazy=id;_e.Memo=rd;_e.Portal=p0;_e.Profiler=Zh;_e.StrictMode=Kh;_e.Suspense=nd;_e.isAsyncMode=function(t){return G2(t)||en(t)===g0};_e.isConcurrentMode=G2;_e.isContextConsumer=function(t){return en(t)===Jh};_e.isContextProvider=function(t){return en(t)===Qh};_e.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===f0};_e.isForwardRef=function(t){return en(t)===td};_e.isFragment=function(t){return en(t)===qh};_e.isLazy=function(t){return en(t)===id};_e.isMemo=function(t){return en(t)===rd};_e.isPortal=function(t){return en(t)===p0};_e.isProfiler=function(t){return en(t)===Zh};_e.isStrictMode=function(t){return en(t)===Kh};_e.isSuspense=function(t){return en(t)===nd};_e.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===qh||t===ed||t===Zh||t===Kh||t===nd||t===Vj||typeof t=="object"&&t!==null&&(t.$$typeof===id||t.$$typeof===rd||t.$$typeof===Qh||t.$$typeof===Jh||t.$$typeof===td||t.$$typeof===Xj||t.$$typeof===Yj||t.$$typeof===qj||t.$$typeof===Wj)};_e.typeOf=en;(function(t){t.exports=_e})(Gj);var V2=im,Kj={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Zj={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},W2={};W2[V2.ForwardRef]=Kj;W2[V2.Memo]=Zj;var Qj=!0;function Jj(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var X2=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||Qj===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},eH=function(e,n,r){X2(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function tH(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var nH={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},rH=/[A-Z]|^ms/g,iH=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Y2=function(e){return e.charCodeAt(1)===45},fb=function(e){return e!=null&&typeof e!="boolean"},Sf=Fj(function(t){return Y2(t)?t:t.replace(rH,"-$&").toLowerCase()}),pb=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(iH,function(r,i,s){return Xn={name:i,styles:s,next:Xn},i})}return nH[e]!==1&&!Y2(e)&&typeof n=="number"&&n!==0?n+"px":n};function ll(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Xn={name:n.name,styles:n.styles,next:Xn},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Xn={name:r.name,styles:r.styles,next:Xn},r=r.next;var i=n.styles+";";return i}return sH(t,e,n)}case"function":{if(t!==void 0){var s=Xn,o=n(t);return Xn=s,ll(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function sH(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=ll(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":fb(o)&&(r+=Sf(s)+":"+pb(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)fb(o[a])&&(r+=Sf(s)+":"+pb(s,o[a])+";");else{var l=ll(t,e,o);switch(s){case"animation":case"animationName":{r+=Sf(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var gb=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Xn,q2=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Xn=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=ll(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=ll(r,n,e[a]),i&&(s+=o[a]);gb.lastIndex=0;for(var l="",u;(u=gb.exec(s))!==null;)l+="-"+u[1];var c=tH(s)+l;return{name:c,styles:s,next:Xn}},oH=function(e){return e()},aH=ry["useInsertionEffect"]?ry["useInsertionEffect"]:!1,lH=aH||oH,m0={}.hasOwnProperty,K2=_.createContext(typeof HTMLElement<"u"?zj({key:"css"}):null);K2.Provider;var uH=function(e){return _.forwardRef(function(n,r){var i=_.useContext(K2);return e(n,i,r)})},cH=_.createContext({}),sm="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",hH=function(e,n){var r={};for(var i in n)m0.call(n,i)&&(r[i]=n[i]);return r[sm]=e,r},dH=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return X2(n,r,i),lH(function(){return eH(n,r,i)}),null},fH=uH(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[sm],s=[r],o="";typeof t.className=="string"?o=Jj(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=q2(s,void 0,_.useContext(cH));o+=e.key+"-"+a.name;var l={};for(var u in t)m0.call(t,u)&&u!=="css"&&u!==sm&&(l[u]=t[u]);return l.ref=n,l.className=o,_.createElement(_.Fragment,null,_.createElement(dH,{cache:e,serialized:a,isStringTag:typeof i=="string"}),_.createElement(i,l))}),ne=function(e,n){var r=arguments;if(n==null||!m0.call(n,"css"))return _.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=fH,s[1]=hH(e,n);for(var o=2;o<i;o++)s[o]=r[o];return _.createElement.apply(null,s)};function v0(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return q2(e)}var pH=function(){var e=v0.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function gH(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function mH(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}const vH=["top","right","bottom","left"];vH.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);function Kn(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Z2(t){return Kn(t).getComputedStyle(t)}function Q2(t){return t instanceof Kn(t).Node}function J2(t){return Q2(t)?(t.nodeName||"").toLowerCase():""}let _u;function yH(){if(_u)return _u;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(_u=t.brands.map(e=>e.brand+"/"+e.version).join(" "),_u):navigator.userAgent}function y0(t){return t instanceof Kn(t).HTMLElement}function Zs(t){return t instanceof Kn(t).Element}function mb(t){return typeof ShadowRoot>"u"?!1:t instanceof Kn(t).ShadowRoot||t instanceof ShadowRoot}function eT(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Z2(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function xH(){return/^((?!chrome|android).)*safari/i.test(yH())}function bH(t){return["html","body","#document"].includes(J2(t))}const ih=Math.round;function wH(t){const e=Z2(t);let n=parseFloat(e.width),r=parseFloat(e.height);const i=y0(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=ih(n)!==s||ih(r)!==o;return a&&(n=s,r=o),{width:n,height:r,fallback:a}}function tT(t){return Zs(t)?t:t.contextElement}const nT={x:1,y:1};function Cf(t){const e=tT(t);if(!y0(e))return nT;const n=e.getBoundingClientRect(),{width:r,height:i,fallback:s}=wH(e);let o=(s?ih(n.width):n.width)/r,a=(s?ih(n.height):n.height)/i;return o&&Number.isFinite(o)||(o=1),a&&Number.isFinite(a)||(a=1),{x:o,y:a}}function vb(t,e,n,r){var i,s;e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),a=tT(t);let l=nT;e&&(r?Zs(r)&&(l=Cf(r)):l=Cf(t));const u=a?Kn(a):window,c=xH()&&n;let h=(o.left+(c&&((i=u.visualViewport)==null?void 0:i.offsetLeft)||0))/l.x,d=(o.top+(c&&((s=u.visualViewport)==null?void 0:s.offsetTop)||0))/l.y,f=o.width/l.x,p=o.height/l.y;if(a){const m=Kn(a),v=r&&Zs(r)?Kn(r):r;let g=m.frameElement;for(;g&&r&&v!==m;){const y=Cf(g),x=g.getBoundingClientRect(),b=getComputedStyle(g);x.x+=(g.clientLeft+parseFloat(b.paddingLeft))*y.x,x.y+=(g.clientTop+parseFloat(b.paddingTop))*y.y,h*=y.x,d*=y.y,f*=y.x,p*=y.y,h+=x.x,d+=x.y,g=Kn(g).frameElement}}return mH({width:f,height:p,x:h,y:d})}function _H(t){return((Q2(t)?t.ownerDocument:t.document)||window.document).documentElement}function EH(t){if(J2(t)==="html")return t;const e=t.assignedSlot||t.parentNode||mb(t)&&t.host||_H(t);return mb(e)?e.host:e}function rT(t){const e=EH(t);return bH(e)?e.ownerDocument.body:y0(e)&&eT(e)?e:rT(e)}function rc(t,e){var n;e===void 0&&(e=[]);const r=rT(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Kn(r);return i?e.concat(s,s.visualViewport||[],eT(r)?r:[]):e.concat(r,rc(r))}function SH(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=!0,animationFrame:a=!1}=r,l=i&&!a,u=l||s?[...Zs(t)?rc(t):t.contextElement?rc(t.contextElement):[],...rc(e)]:[];u.forEach(f=>{l&&f.addEventListener("scroll",n,{passive:!0}),s&&f.addEventListener("resize",n)});let c,h=null;if(o){let f=!0;h=new ResizeObserver(()=>{f||n(),f=!1}),Zs(t)&&!a&&h.observe(t),Zs(t)||!t.contextElement||a||h.observe(t.contextElement),h.observe(e)}let d=a?vb(t):null;return a&&function f(){const p=vb(t);!d||p.x===d.x&&p.y===d.y&&p.width===d.width&&p.height===d.height||n(),d=p,c=requestAnimationFrame(f)}(),n(),()=>{var f;u.forEach(p=>{l&&p.removeEventListener("scroll",n),s&&p.removeEventListener("resize",n)}),(f=h)==null||f.disconnect(),h=null,a&&cancelAnimationFrame(c)}}var sh=_.useLayoutEffect,CH=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],oh=function(){};function TH(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function AH(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&s.push("".concat(TH(t,o)));return s.filter(function(a){return a}).map(function(a){return String(a).trim()}).join(" ")}var yb=function(e){return $H(e)?e.filter(Boolean):Ni(e)==="object"&&e!==null?[e]:[]},iT=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=wo(e,CH);return ae({},n)},Ve=function(e,n,r){var i=e.cx,s=e.getStyles,o=e.getClassNames,a=e.className;return{css:s(n,e),className:i(r??{},o(n,e),a)}};function sd(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function PH(t){return sd(t)?window.innerHeight:t.clientHeight}function sT(t){return sd(t)?window.pageYOffset:t.scrollTop}function ah(t,e){if(sd(t)){window.scrollTo(0,e);return}t.scrollTop=e}function OH(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function IH(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function Eu(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:oh,i=sT(t),s=e-i,o=10,a=0;function l(){a+=o;var u=IH(a,i,s,n);ah(t,u),a<n?window.requestAnimationFrame(l):r(t)}l()}function xb(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?ah(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&ah(t,Math.max(e.offsetTop-i,0))}function RH(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function bb(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function MH(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var oT=!1,kH={get passive(){return oT=!0}},Su=typeof window<"u"?window:{};Su.addEventListener&&Su.removeEventListener&&(Su.addEventListener("p",oh,kH),Su.removeEventListener("p",oh,!1));var DH=oT;function FH(t){return t!=null}function $H(t){return Array.isArray(t)}function Cu(t,e,n){return t?e:n}var BH=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(o){var a=vr(o,1),l=a[0];return!r.includes(l)});return s.reduce(function(o,a){var l=vr(a,2),u=l[0],c=l[1];return o[u]=c,o},{})};function LH(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,s=t.shouldScroll,o=t.isFixedPosition,a=t.controlHeight,l=OH(n),u={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return u;var c=l.getBoundingClientRect(),h=c.height,d=n.getBoundingClientRect(),f=d.bottom,p=d.height,m=d.top,v=n.offsetParent.getBoundingClientRect(),g=v.top,y=o?window.innerHeight:PH(l),x=sT(l),b=parseInt(getComputedStyle(n).marginBottom,10),S=parseInt(getComputedStyle(n).marginTop,10),E=g-S,C=y-m,A=E+x,F=h-x-m,k=f-y+x+b,B=x+m-S,U=160;switch(i){case"auto":case"bottom":if(C>=p)return{placement:"bottom",maxHeight:e};if(F>=p&&!o)return s&&Eu(l,k,U),{placement:"bottom",maxHeight:e};if(!o&&F>=r||o&&C>=r){s&&Eu(l,k,U);var O=o?C-b:F-b;return{placement:"bottom",maxHeight:O}}if(i==="auto"||o){var T=e,D=o?E:A;return D>=r&&(T=Math.min(D-b-a,e)),{placement:"top",maxHeight:T}}if(i==="bottom")return s&&ah(l,k),{placement:"bottom",maxHeight:e};break;case"top":if(E>=p)return{placement:"top",maxHeight:e};if(A>=p&&!o)return s&&Eu(l,B,U),{placement:"top",maxHeight:e};if(!o&&A>=r||o&&E>=r){var G=e;return(!o&&A>=r||o&&E>=r)&&(G=o?E-S:A-S),s&&Eu(l,B,U),{placement:"top",maxHeight:G}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return u}function NH(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var aT=function(e){return e==="auto"?"bottom":e},UH=function(e,n){var r,i=e.placement,s=e.theme,o=s.borderRadius,a=s.spacing,l=s.colors;return ae((r={label:"menu"},fa(r,NH(i),"100%"),fa(r,"position","absolute"),fa(r,"width","100%"),fa(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},lT=_.createContext(null),jH=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,o=e.menuPosition,a=e.menuShouldScrollIntoView,l=e.theme,u=_.useContext(lT)||{},c=u.setPortalPlacement,h=_.useRef(null),d=_.useState(i),f=vr(d,2),p=f[0],m=f[1],v=_.useState(null),g=vr(v,2),y=g[0],x=g[1],b=l.spacing.controlHeight;return sh(function(){var S=h.current;if(S){var E=o==="fixed",C=a&&!E,A=LH({maxHeight:i,menuEl:S,minHeight:r,placement:s,shouldScroll:C,isFixedPosition:E,controlHeight:b});m(A.maxHeight),x(A.placement),c==null||c(A.placement)}},[i,s,o,a,r,c,b]),n({ref:h,placerProps:ae(ae({},e),{},{placement:y||aT(s),maxHeight:p})})},HH=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return ne("div",te({},Ve(e,"menu",{menu:!0}),{ref:r},i),n)},zH=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return ae({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},GH=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return ne("div",te({},Ve(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),n)},uT=function(e,n){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return ae({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},VH=uT,WH=uT,cT=function(e){var n=e.children,r=e.innerProps;return ne("div",te({},Ve(e,"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)};cT.defaultProps={children:"No options"};var hT=function(e){var n=e.children,r=e.innerProps;return ne("div",te({},Ve(e,"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)};hT.defaultProps={children:"Loading..."};var XH=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},YH=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,o=e.menuPlacement,a=e.menuPosition,l=_.useRef(null),u=_.useRef(null),c=_.useState(aT(o)),h=vr(c,2),d=h[0],f=h[1],p=_.useMemo(function(){return{setPortalPlacement:f}},[]),m=_.useState(null),v=vr(m,2),g=v[0],y=v[1],x=_.useCallback(function(){if(i){var C=RH(i),A=a==="fixed"?0:window.pageYOffset,F=C[d]+A;(F!==(g==null?void 0:g.offset)||C.left!==(g==null?void 0:g.rect.left)||C.width!==(g==null?void 0:g.rect.width))&&y({offset:F,rect:C})}},[i,a,d,g==null?void 0:g.offset,g==null?void 0:g.rect.left,g==null?void 0:g.rect.width]);sh(function(){x()},[x]);var b=_.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),i&&l.current&&(u.current=SH(i,l.current,x,{elementResize:"ResizeObserver"in window}))},[i,x]);sh(function(){b()},[b]);var S=_.useCallback(function(C){l.current=C,b()},[b]);if(!n&&a!=="fixed"||!g)return null;var E=ne("div",te({ref:S},Ve(ae(ae({},e),{},{offset:g.offset,position:a,rect:g.rect}),"menuPortal",{"menu-portal":!0}),s),r);return ne(lT.Provider,{value:p},n?ac.createPortal(E,n):E)},qH=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},KH=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return ne("div",te({},Ve(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),n)},ZH=function(e,n){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,o=e.selectProps.controlShouldRenderValue;return ae({alignItems:"center",display:i&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},QH=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return ne("div",te({},Ve(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),n)},JH=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},ez=function(e){var n=e.children,r=e.innerProps;return ne("div",te({},Ve(e,"indicatorsContainer",{indicators:!0}),r),n)},wb,tz=["size"],nz={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},dT=function(e){var n=e.size,r=wo(e,tz);return ne("svg",te({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:nz},r))},x0=function(e){return ne(dT,te({size:20},e),ne("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},fT=function(e){return ne(dT,te({size:20},e),ne("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},pT=function(e,n){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return ae({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?o.neutral60:o.neutral20,padding:s*2,":hover":{color:r?o.neutral80:o.neutral40}})},rz=pT,iz=function(e){var n=e.children,r=e.innerProps;return ne("div",te({},Ve(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||ne(fT,null))},sz=pT,oz=function(e){var n=e.children,r=e.innerProps;return ne("div",te({},Ve(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||ne(x0,null))},az=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return ae({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},lz=function(e){var n=e.innerProps;return ne("span",te({},n,Ve(e,"indicatorSeparator",{"indicator-separator":!0})))},uz=pH(wb||(wb=gH([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),cz=function(e,n){var r=e.isFocused,i=e.size,s=e.theme,o=s.colors,a=s.spacing.baseUnit;return ae({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?o.neutral60:o.neutral20,padding:a*2})},Tf=function(e){var n=e.delay,r=e.offset;return ne("span",{css:v0({animation:"".concat(uz," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},gT=function(e){var n=e.innerProps,r=e.isRtl;return ne("div",te({},Ve(e,"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),ne(Tf,{delay:0,offset:r}),ne(Tf,{delay:160,offset:!0}),ne(Tf,{delay:320,offset:!r}))};gT.defaultProps={size:4};var hz=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.theme,o=s.colors,a=s.borderRadius,l=s.spacing;return ae({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:i?o.primary:o.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},dz=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,o=e.innerProps,a=e.menuIsOpen;return ne("div",te({ref:s},Ve(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":a}),o),n)},fz=["data"],pz=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},gz=function(e){var n=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,o=e.Heading,a=e.headingProps,l=e.innerProps,u=e.label,c=e.theme,h=e.selectProps;return ne("div",te({},Ve(e,"group",{group:!0}),l),ne(o,te({},a,{selectProps:h,theme:c,getStyles:i,getClassNames:s,cx:r}),u),ne("div",null,n))},mz=function(e,n){var r=e.theme,i=r.colors,s=r.spacing;return ae({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},vz=function(e){var n=iT(e);n.data;var r=wo(n,fz);return ne("div",te({},Ve(e,"groupHeading",{"group-heading":!0}),r))},yz=["innerRef","isDisabled","isHidden","inputClassName"],xz=function(e,n){var r=e.isDisabled,i=e.value,s=e.theme,o=s.spacing,a=s.colors;return ae(ae({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},bz),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:a.neutral80})},mT={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},bz={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":ae({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},mT)},wz=function(e){return ae({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},mT)},_z=function(e){var n=e.cx,r=e.value,i=iT(e),s=i.innerRef,o=i.isDisabled,a=i.isHidden,l=i.inputClassName,u=wo(i,yz);return ne("div",te({},Ve(e,"input",{"input-container":!0}),{"data-value":r||""}),ne("input",te({className:n({input:!0},l),ref:s,style:wz(a),disabled:o},u)))},Ez=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors;return ae({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},Sz=function(e,n){var r=e.theme,i=r.borderRadius,s=r.colors,o=e.cropWithEllipsis;return ae({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Cz=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors,a=e.isFocused;return ae({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:a?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},vT=function(e){var n=e.children,r=e.innerProps;return ne("div",r,n)},Tz=vT,Az=vT;function Pz(t){var e=t.children,n=t.innerProps;return ne("div",te({role:"button"},n),e||ne(x0,{size:14}))}var Oz=function(e){var n=e.children,r=e.components,i=e.data,s=e.innerProps,o=e.isDisabled,a=e.removeProps,l=e.selectProps,u=r.Container,c=r.Label,h=r.Remove;return ne(u,{data:i,innerProps:ae(ae({},Ve(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:l},ne(c,{data:i,innerProps:ae({},Ve(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),ne(h,{data:i,innerProps:ae(ae({},Ve(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},a),selectProps:l}))},Iz=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.theme,a=o.spacing,l=o.colors;return ae({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:s?l.neutral0:"inherit",padding:"".concat(a.baseUnit*2,"px ").concat(a.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?l.primary:l.primary50}})},Rz=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.innerRef,a=e.innerProps;return ne("div",te({},Ve(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:o,"aria-disabled":r},a),n)},Mz=function(e,n){var r=e.theme,i=r.spacing,s=r.colors;return ae({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},kz=function(e){var n=e.children,r=e.innerProps;return ne("div",te({},Ve(e,"placeholder",{placeholder:!0}),r),n)},Dz=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing,o=i.colors;return ae({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},Fz=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return ne("div",te({},Ve(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},$z={ClearIndicator:oz,Control:dz,DropdownIndicator:iz,DownChevron:fT,CrossIcon:x0,Group:gz,GroupHeading:vz,IndicatorsContainer:ez,IndicatorSeparator:lz,Input:_z,LoadingIndicator:gT,Menu:HH,MenuList:GH,MenuPortal:YH,LoadingMessage:hT,NoOptionsMessage:cT,MultiValue:Oz,MultiValueContainer:Tz,MultiValueLabel:Az,MultiValueRemove:Pz,Option:Rz,Placeholder:kz,SelectContainer:KH,SingleValue:Fz,ValueContainer:QH},Bz=function(e){return ae(ae({},$z),e.components)},_b=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Lz(t,e){return!!(t===e||_b(t)&&_b(e))}function Nz(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!Lz(t[n],e[n]))return!1;return!0}function Uz(t,e){e===void 0&&(e=Nz);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var jz={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Eb=function(e){return ne("span",te({css:jz},e))},Hz={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.isDisabled,s=e.tabSelectsValue,o=e.context;switch(o){case"menu":return"Use Up and Down to choose options".concat(i?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,o=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,s=e.label,o=s===void 0?"":s,a=e.selectValue,l=e.isDisabled,u=e.isSelected,c=function(p,m){return p&&p.length?"".concat(p.indexOf(m)+1," of ").concat(p.length):""};if(n==="value"&&a)return"value ".concat(o," focused, ").concat(c(a,r),".");if(n==="menu"){var h=l?" disabled":"",d="".concat(u?"selected":"focused").concat(h);return"option ".concat(o," ").concat(d,", ").concat(c(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},zz=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,o=e.isFocused,a=e.selectValue,l=e.selectProps,u=e.id,c=l.ariaLiveMessages,h=l.getOptionLabel,d=l.inputValue,f=l.isMulti,p=l.isOptionDisabled,m=l.isSearchable,v=l.menuIsOpen,g=l.options,y=l.screenReaderStatus,x=l.tabSelectsValue,b=l["aria-label"],S=l["aria-live"],E=_.useMemo(function(){return ae(ae({},Hz),c||{})},[c]),C=_.useMemo(function(){var T="";if(n&&E.onChange){var D=n.option,G=n.options,$=n.removedValue,M=n.removedValues,H=n.value,R=function(pe){return Array.isArray(pe)?null:pe},N=$||D||R(H),V=N?h(N):"",se=G||M||void 0,le=se?se.map(h):[],ve=ae({isDisabled:N&&p(N,a),label:V,labels:le},n);T=E.onChange(ve)}return T},[n,E,p,a,h]),A=_.useMemo(function(){var T="",D=r||i,G=!!(r&&a&&a.includes(r));if(D&&E.onFocus){var $={focused:D,label:h(D),isDisabled:p(D,a),isSelected:G,options:s,context:D===r?"menu":"value",selectValue:a};T=E.onFocus($)}return T},[r,i,h,p,E,s,a]),F=_.useMemo(function(){var T="";if(v&&g.length&&E.onFilter){var D=y({count:s.length});T=E.onFilter({inputValue:d,resultsMessage:D})}return T},[s,d,v,E,g,y]),k=_.useMemo(function(){var T="";if(E.guidance){var D=i?"value":v?"menu":"input";T=E.guidance({"aria-label":b,context:D,isDisabled:r&&p(r,a),isMulti:f,isSearchable:m,tabSelectsValue:x})}return T},[b,r,i,f,p,m,v,E,a,x]),B="".concat(A," ").concat(F," ").concat(k),U=ne(_.Fragment,null,ne("span",{id:"aria-selection"},C),ne("span",{id:"aria-context"},B)),O=(n==null?void 0:n.action)==="initial-input-focus";return ne(_.Fragment,null,ne(Eb,{id:u},O&&U),ne(Eb,{"aria-live":S,"aria-atomic":"false","aria-relevant":"additions text"},o&&!O&&U))},om=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],Gz=new RegExp("["+om.map(function(t){return t.letters}).join("")+"]","g"),yT={};for(var Af=0;Af<om.length;Af++)for(var Pf=om[Af],Of=0;Of<Pf.letters.length;Of++)yT[Pf.letters[Of]]=Pf.base;var xT=function(e){return e.replace(Gz,function(n){return yT[n]})},Vz=Uz(xT),Sb=function(e){return e.replace(/^\s+|\s+$/g,"")},Wz=function(e){return"".concat(e.label," ").concat(e.value)},Xz=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=ae({ignoreCase:!0,ignoreAccents:!0,stringify:Wz,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,o=i.ignoreAccents,a=i.stringify,l=i.trim,u=i.matchFrom,c=l?Sb(r):r,h=l?Sb(a(n)):a(n);return s&&(c=c.toLowerCase(),h=h.toLowerCase()),o&&(c=Vz(c),h=xT(h)),u==="start"?h.substr(0,c.length)===c:h.indexOf(c)>-1}},Yz=["innerRef"];function qz(t){var e=t.innerRef,n=wo(t,Yz),r=BH(n,"onExited","in","enter","exit","appear");return ne("input",te({ref:e},r,{css:v0({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Kz=function(e){e.preventDefault(),e.stopPropagation()};function Zz(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,o=_.useRef(!1),a=_.useRef(!1),l=_.useRef(0),u=_.useRef(null),c=_.useCallback(function(v,g){if(u.current!==null){var y=u.current,x=y.scrollTop,b=y.scrollHeight,S=y.clientHeight,E=u.current,C=g>0,A=b-S-x,F=!1;A>g&&o.current&&(r&&r(v),o.current=!1),C&&a.current&&(s&&s(v),a.current=!1),C&&g>A?(n&&!o.current&&n(v),E.scrollTop=b,F=!0,o.current=!0):!C&&-g>x&&(i&&!a.current&&i(v),E.scrollTop=0,F=!0,a.current=!0),F&&Kz(v)}},[n,r,i,s]),h=_.useCallback(function(v){c(v,v.deltaY)},[c]),d=_.useCallback(function(v){l.current=v.changedTouches[0].clientY},[]),f=_.useCallback(function(v){var g=l.current-v.changedTouches[0].clientY;c(v,g)},[c]),p=_.useCallback(function(v){if(v){var g=DH?{passive:!1}:!1;v.addEventListener("wheel",h,g),v.addEventListener("touchstart",d,g),v.addEventListener("touchmove",f,g)}},[f,d,h]),m=_.useCallback(function(v){v&&(v.removeEventListener("wheel",h,!1),v.removeEventListener("touchstart",d,!1),v.removeEventListener("touchmove",f,!1))},[f,d,h]);return _.useEffect(function(){if(e){var v=u.current;return p(v),function(){m(v)}}},[e,p,m]),function(v){u.current=v}}var Cb=["boxSizing","height","overflow","paddingRight","position"],Tb={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Ab(t){t.preventDefault()}function Pb(t){t.stopPropagation()}function Ob(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function Ib(){return"ontouchstart"in window||navigator.maxTouchPoints}var Rb=!!(typeof window<"u"&&window.document&&window.document.createElement),Qo=0,ts={capture:!1,passive:!1};function Qz(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=_.useRef({}),s=_.useRef(null),o=_.useCallback(function(l){if(Rb){var u=document.body,c=u&&u.style;if(r&&Cb.forEach(function(p){var m=c&&c[p];i.current[p]=m}),r&&Qo<1){var h=parseInt(i.current.paddingRight,10)||0,d=document.body?document.body.clientWidth:0,f=window.innerWidth-d+h||0;Object.keys(Tb).forEach(function(p){var m=Tb[p];c&&(c[p]=m)}),c&&(c.paddingRight="".concat(f,"px"))}u&&Ib()&&(u.addEventListener("touchmove",Ab,ts),l&&(l.addEventListener("touchstart",Ob,ts),l.addEventListener("touchmove",Pb,ts))),Qo+=1}},[r]),a=_.useCallback(function(l){if(Rb){var u=document.body,c=u&&u.style;Qo=Math.max(Qo-1,0),r&&Qo<1&&Cb.forEach(function(h){var d=i.current[h];c&&(c[h]=d)}),u&&Ib()&&(u.removeEventListener("touchmove",Ab,ts),l&&(l.removeEventListener("touchstart",Ob,ts),l.removeEventListener("touchmove",Pb,ts)))}},[r]);return _.useEffect(function(){if(e){var l=s.current;return o(l),function(){a(l)}}},[e,o,a]),function(l){s.current=l}}var Jz=function(){return document.activeElement&&document.activeElement.blur()},e9={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function t9(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,s=t.onBottomArrive,o=t.onBottomLeave,a=t.onTopArrive,l=t.onTopLeave,u=Zz({isEnabled:i,onBottomArrive:s,onBottomLeave:o,onTopArrive:a,onTopLeave:l}),c=Qz({isEnabled:n}),h=function(f){u(f),c(f)};return ne(_.Fragment,null,n&&ne("div",{onClick:Jz,css:e9}),e(h))}var n9={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},r9=function(e){var n=e.name,r=e.onFocus;return ne("input",{required:!0,name:n,tabIndex:-1,onFocus:r,css:n9,value:"",onChange:function(){}})},i9=function(e){return e.label},s9=function(e){return e.label},o9=function(e){return e.value},a9=function(e){return!!e.isDisabled},l9={clearIndicator:sz,container:qH,control:hz,dropdownIndicator:rz,group:pz,groupHeading:mz,indicatorsContainer:JH,indicatorSeparator:az,input:xz,loadingIndicator:cz,loadingMessage:WH,menu:UH,menuList:zH,menuPortal:XH,multiValue:Ez,multiValueLabel:Sz,multiValueRemove:Cz,noOptionsMessage:VH,option:Iz,placeholder:Mz,singleValue:Dz,valueContainer:ZH},u9={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},c9=4,bT=4,h9=38,d9=bT*2,f9={baseUnit:bT,controlHeight:h9,menuGutter:d9},If={borderRadius:c9,colors:u9,spacing:f9},p9={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:bb(),captureMenuScroll:!bb(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Xz(),formatGroupLabel:i9,getOptionLabel:s9,getOptionValue:o9,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:a9,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!MH(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Mb(t,e,n,r){var i=ST(t,e,n),s=CT(t,e,n),o=ET(t,e),a=lh(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:o,value:a,index:r}}function wT(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(o,a){return Mb(t,o,e,a)}).filter(function(o){return kb(t,o)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=Mb(t,n,e,r);return kb(t,s)?s:void 0}).filter(FH)}function _T(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,$2(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function g9(t,e){return _T(wT(t,e))}function kb(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,s=e.isSelected,o=e.label,a=e.value;return(!AT(t)||!s)&&TT(t,{label:o,value:a,data:i},r)}function m9(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var s=e.indexOf(n);if(s>-1)return n;if(i<e.length)return e[i]}return null}function v9(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var ET=function(e,n){return e.getOptionLabel(n)},lh=function(e,n){return e.getOptionValue(n)};function ST(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function CT(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=lh(t,e);return n.some(function(i){return lh(t,i)===r})}function TT(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var AT=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},y9=1,PT=function(t){aj(n,t);var e=hj(n);function n(r){var i;if(sj(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.instancePrefix="",i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.controlRef=null,i.getControlRef=function(a){i.controlRef=a},i.focusedOptionRef=null,i.getFocusedOptionRef=function(a){i.focusedOptionRef=a},i.menuListRef=null,i.getMenuListRef=function(a){i.menuListRef=a},i.inputRef=null,i.getInputRef=function(a){i.inputRef=a},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(a,l){var u=i.props,c=u.onChange,h=u.name;l.name=h,i.ariaOnChange(a,l),c(a,l)},i.setValue=function(a,l,u){var c=i.props,h=c.closeMenuOnSelect,d=c.isMulti,f=c.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:f}),h&&(i.setState({inputIsHiddenAfterUpdate:!d}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(a,{action:l,option:u})},i.selectOption=function(a){var l=i.props,u=l.blurInputOnSelect,c=l.isMulti,h=l.name,d=i.state.selectValue,f=c&&i.isOptionSelected(a,d),p=i.isOptionDisabled(a,d);if(f){var m=i.getOptionValue(a);i.setValue(d.filter(function(v){return i.getOptionValue(v)!==m}),"deselect-option",a)}else if(!p)c?i.setValue([].concat($2(d),[a]),"select-option",a):i.setValue(a,"select-option");else{i.ariaOnChange(a,{action:"select-option",option:a,name:h});return}u&&i.blurInput()},i.removeValue=function(a){var l=i.props.isMulti,u=i.state.selectValue,c=i.getOptionValue(a),h=u.filter(function(f){return i.getOptionValue(f)!==c}),d=Cu(l,h,h[0]||null);i.onChange(d,{action:"remove-value",removedValue:a}),i.focusInput()},i.clearValue=function(){var a=i.state.selectValue;i.onChange(Cu(i.props.isMulti,[],null),{action:"clear",removedValues:a})},i.popValue=function(){var a=i.props.isMulti,l=i.state.selectValue,u=l[l.length-1],c=l.slice(0,l.length-1),h=Cu(a,c,c[0]||null);i.onChange(h,{action:"pop-value",removedValue:u})},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return AH.apply(void 0,[i.props.classNamePrefix].concat(l))},i.getOptionLabel=function(a){return ET(i.props,a)},i.getOptionValue=function(a){return lh(i.props,a)},i.getStyles=function(a,l){var u=i.props.unstyled,c=l9[a](l,u);c.boxSizing="border-box";var h=i.props.styles[a];return h?h(c,l):c},i.getClassNames=function(a,l){var u,c;return(u=(c=i.props.classNames)[a])===null||u===void 0?void 0:u.call(c,l)},i.getElementId=function(a){return"".concat(i.instancePrefix,"-").concat(a)},i.getComponents=function(){return Bz(i.props)},i.buildCategorizedOptions=function(){return wT(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return _T(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(a,l){i.setState({ariaSelection:ae({value:a},l)})},i.onMenuMouseDown=function(a){a.button===0&&(a.stopPropagation(),a.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(a){i.blockOptionHover=!1},i.onControlMouseDown=function(a){if(!a.defaultPrevented){var l=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&i.onMenuClose():l&&i.openMenu("first"):(l&&(i.openAfterFocus=!0),i.focusInput()),a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&a.preventDefault()}},i.onDropdownIndicatorMouseDown=function(a){if(!(a&&a.type==="mousedown"&&a.button!==0)&&!i.props.isDisabled){var l=i.props,u=l.isMulti,c=l.menuIsOpen;i.focusInput(),c?(i.setState({inputIsHiddenAfterUpdate:!u}),i.onMenuClose()):i.openMenu("first"),a.preventDefault()}},i.onClearIndicatorMouseDown=function(a){a&&a.type==="mousedown"&&a.button!==0||(i.clearValue(),a.preventDefault(),i.openAfterFocus=!1,a.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(a){typeof i.props.closeMenuOnScroll=="boolean"?a.target instanceof HTMLElement&&sd(a.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(a)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(a){var l=a.touches,u=l&&l.item(0);u&&(i.initialTouchX=u.clientX,i.initialTouchY=u.clientY,i.userIsDragging=!1)},i.onTouchMove=function(a){var l=a.touches,u=l&&l.item(0);if(u){var c=Math.abs(u.clientX-i.initialTouchX),h=Math.abs(u.clientY-i.initialTouchY),d=5;i.userIsDragging=c>d||h>d}},i.onTouchEnd=function(a){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(a.target)&&i.menuListRef&&!i.menuListRef.contains(a.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(a){i.userIsDragging||i.onControlMouseDown(a)},i.onClearIndicatorTouchEnd=function(a){i.userIsDragging||i.onClearIndicatorMouseDown(a)},i.onDropdownIndicatorTouchEnd=function(a){i.userIsDragging||i.onDropdownIndicatorMouseDown(a)},i.handleInputChange=function(a){var l=i.props.inputValue,u=a.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(u,{action:"input-change",prevInputValue:l}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(a){i.props.onFocus&&i.props.onFocus(a),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(a){var l=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(a),i.onInputChange("",{action:"input-blur",prevInputValue:l}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(a){i.blockOptionHover||i.state.focusedOption===a||i.setState({focusedOption:a})},i.shouldHideSelectedOptions=function(){return AT(i.props)},i.onValueInputFocus=function(a){a.preventDefault(),a.stopPropagation(),i.focus()},i.onKeyDown=function(a){var l=i.props,u=l.isMulti,c=l.backspaceRemovesValue,h=l.escapeClearsValue,d=l.inputValue,f=l.isClearable,p=l.isDisabled,m=l.menuIsOpen,v=l.onKeyDown,g=l.tabSelectsValue,y=l.openMenuOnFocus,x=i.state,b=x.focusedOption,S=x.focusedValue,E=x.selectValue;if(!p&&!(typeof v=="function"&&(v(a),a.defaultPrevented))){switch(i.blockOptionHover=!0,a.key){case"ArrowLeft":if(!u||d)return;i.focusValue("previous");break;case"ArrowRight":if(!u||d)return;i.focusValue("next");break;case"Delete":case"Backspace":if(d)return;if(S)i.removeValue(S);else{if(!c)return;u?i.popValue():f&&i.clearValue()}break;case"Tab":if(i.isComposing||a.shiftKey||!m||!g||!b||y&&i.isOptionSelected(b,E))return;i.selectOption(b);break;case"Enter":if(a.keyCode===229)break;if(m){if(!b||i.isComposing)return;i.selectOption(b);break}return;case"Escape":m?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:d}),i.onMenuClose()):f&&h&&i.clearValue();break;case" ":if(d)return;if(!m){i.openMenu("first");break}if(!b)return;i.selectOption(b);break;case"ArrowUp":m?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":m?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!m)return;i.focusOption("pageup");break;case"PageDown":if(!m)return;i.focusOption("pagedown");break;case"Home":if(!m)return;i.focusOption("first");break;case"End":if(!m)return;i.focusOption("last");break;default:return}a.preventDefault()}},i.instancePrefix="react-select-"+(i.props.instanceId||++y9),i.state.selectValue=yb(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.buildFocusableOptions(),o=s.indexOf(i.state.selectValue[0]);i.state.focusedOption=s[o]}return i}return oj(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&xb(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isDisabled,a=s.menuIsOpen,l=this.state.isFocused;(l&&!o&&i.isDisabled||l&&a&&!i.menuIsOpen)&&this.focusInput(),l&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(xb(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,o=this.state,a=o.selectValue,l=o.isFocused,u=this.buildFocusableOptions(),c=i==="first"?0:u.length-1;if(!this.props.isMulti){var h=u.indexOf(a[0]);h>-1&&(c=h)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[c]},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,o=s.selectValue,a=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=o.indexOf(a);a||(l=-1);var u=o.length-1,c=-1;if(o.length){switch(i){case"previous":l===0?c=0:l===-1?c=u:c=l-1;break;case"next":l>-1&&l<u&&(c=l+1);break}this.setState({inputIsHidden:c!==-1,focusedValue:o[c]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var l=0,u=a.indexOf(o);o||(u=-1),i==="up"?l=u>0?u-1:a.length-1:i==="down"?l=(u+1)%a.length:i==="pageup"?(l=u-s,l<0&&(l=0)):i==="pagedown"?(l=u+s,l>a.length-1&&(l=a.length-1)):i==="last"&&(l=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[l],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(If):ae(ae({},If),this.props.theme):If}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,o=this.getStyles,a=this.getClassNames,l=this.getValue,u=this.selectOption,c=this.setValue,h=this.props,d=h.isMulti,f=h.isRtl,p=h.options,m=this.hasValue();return{clearValue:i,cx:s,getStyles:o,getClassNames:a,getValue:l,hasValue:m,isMulti:d,isRtl:f,options:p,selectOption:u,selectProps:h,setValue:c,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,o=i.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(i,s){return ST(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return CT(this.props,i,s)}},{key:"filterOption",value:function(i,s){return TT(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:o,selectValue:a})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,o=i.isSearchable,a=i.inputId,l=i.inputValue,u=i.tabIndex,c=i.form,h=i.menuIsOpen,d=i.required,f=this.getComponents(),p=f.Input,m=this.state,v=m.inputIsHidden,g=m.ariaSelection,y=this.commonProps,x=a||this.getElementId("input"),b=ae(ae(ae({"aria-autocomplete":"list","aria-expanded":h,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":d,role:"combobox"},h&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(g==null?void 0:g.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?_.createElement(p,te({},y,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:x,innerRef:this.getInputRef,isDisabled:s,isHidden:v,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:c,type:"text",value:l},b)):_.createElement(qz,te({id:x,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:oh,onFocus:this.onInputFocus,disabled:s,tabIndex:u,inputMode:"none",form:c,value:""},b))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),o=s.MultiValue,a=s.MultiValueContainer,l=s.MultiValueLabel,u=s.MultiValueRemove,c=s.SingleValue,h=s.Placeholder,d=this.commonProps,f=this.props,p=f.controlShouldRenderValue,m=f.isDisabled,v=f.isMulti,g=f.inputValue,y=f.placeholder,x=this.state,b=x.selectValue,S=x.focusedValue,E=x.isFocused;if(!this.hasValue()||!p)return g?null:_.createElement(h,te({},d,{key:"placeholder",isDisabled:m,isFocused:E,innerProps:{id:this.getElementId("placeholder")}}),y);if(v)return b.map(function(A,F){var k=A===S,B="".concat(i.getOptionLabel(A),"-").concat(i.getOptionValue(A));return _.createElement(o,te({},d,{components:{Container:a,Label:l,Remove:u},isFocused:k,isDisabled:m,key:B,index:F,removeProps:{onClick:function(){return i.removeValue(A)},onTouchEnd:function(){return i.removeValue(A)},onMouseDown:function(O){O.preventDefault()}},data:A}),i.formatOptionLabel(A,"value"))});if(g)return null;var C=b[0];return _.createElement(c,te({},d,{data:C,isDisabled:m}),this.formatOptionLabel(C,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,u=a.isLoading,c=this.state.isFocused;if(!this.isClearable()||!s||l||!this.hasValue()||u)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return _.createElement(s,te({},o,{innerProps:h,isFocused:c}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,u=a.isLoading,c=this.state.isFocused;if(!s||!u)return null;var h={"aria-hidden":"true"};return _.createElement(s,te({},o,{innerProps:h,isDisabled:l,isFocused:c}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,o=i.IndicatorSeparator;if(!s||!o)return null;var a=this.commonProps,l=this.props.isDisabled,u=this.state.isFocused;return _.createElement(o,te({},a,{isDisabled:l,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var o=this.commonProps,a=this.props.isDisabled,l=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return _.createElement(s,te({},o,{innerProps:u,isDisabled:a,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),o=s.Group,a=s.GroupHeading,l=s.Menu,u=s.MenuList,c=s.MenuPortal,h=s.LoadingMessage,d=s.NoOptionsMessage,f=s.Option,p=this.commonProps,m=this.state.focusedOption,v=this.props,g=v.captureMenuScroll,y=v.inputValue,x=v.isLoading,b=v.loadingMessage,S=v.minMenuHeight,E=v.maxMenuHeight,C=v.menuIsOpen,A=v.menuPlacement,F=v.menuPosition,k=v.menuPortalTarget,B=v.menuShouldBlockScroll,U=v.menuShouldScrollIntoView,O=v.noOptionsMessage,T=v.onMenuScrollToTop,D=v.onMenuScrollToBottom;if(!C)return null;var G=function(se,le){var ve=se.type,he=se.data,pe=se.isDisabled,He=se.isSelected,nt=se.label,Ze=se.value,Ee=m===he,De=pe?void 0:function(){return i.onOptionHover(he)},We=pe?void 0:function(){return i.selectOption(he)},Lt="".concat(i.getElementId("option"),"-").concat(le),tn={id:Lt,onClick:We,onMouseMove:De,onMouseOver:De,tabIndex:-1};return _.createElement(f,te({},p,{innerProps:tn,data:he,isDisabled:pe,isSelected:He,key:Lt,label:nt,type:ve,value:Ze,isFocused:Ee,innerRef:Ee?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(se.data,"menu"))},$;if(this.hasOptions())$=this.getCategorizedOptions().map(function(V){if(V.type==="group"){var se=V.data,le=V.options,ve=V.index,he="".concat(i.getElementId("group"),"-").concat(ve),pe="".concat(he,"-heading");return _.createElement(o,te({},p,{key:he,data:se,options:le,Heading:a,headingProps:{id:pe,data:V.data},label:i.formatGroupLabel(V.data)}),V.options.map(function(He){return G(He,"".concat(ve,"-").concat(He.index))}))}else if(V.type==="option")return G(V,"".concat(V.index))});else if(x){var M=b({inputValue:y});if(M===null)return null;$=_.createElement(h,p,M)}else{var H=O({inputValue:y});if(H===null)return null;$=_.createElement(d,p,H)}var R={minMenuHeight:S,maxMenuHeight:E,menuPlacement:A,menuPosition:F,menuShouldScrollIntoView:U},N=_.createElement(jH,te({},p,R),function(V){var se=V.ref,le=V.placerProps,ve=le.placement,he=le.maxHeight;return _.createElement(l,te({},p,R,{innerRef:se,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove,id:i.getElementId("listbox")},isLoading:x,placement:ve}),_.createElement(t9,{captureEnabled:g,onTopArrive:T,onBottomArrive:D,lockEnabled:B},function(pe){return _.createElement(u,te({},p,{innerRef:function(nt){i.getMenuListRef(nt),pe(nt)},isLoading:x,maxHeight:he,focusedOption:m}),$)}))});return k||F==="fixed"?_.createElement(c,te({},p,{appendTo:k,controlElement:this.controlRef,menuPlacement:A,menuPosition:F}),N):N}},{key:"renderFormField",value:function(){var i=this,s=this.props,o=s.delimiter,a=s.isDisabled,l=s.isMulti,u=s.name,c=s.required,h=this.state.selectValue;if(!(!u||a)){if(c&&!this.hasValue())return _.createElement(r9,{name:u,onFocus:this.onValueInputFocus});if(l)if(o){var d=h.map(function(m){return i.getOptionValue(m)}).join(o);return _.createElement("input",{name:u,type:"hidden",value:d})}else{var f=h.length>0?h.map(function(m,v){return _.createElement("input",{key:"i-".concat(v),name:u,type:"hidden",value:i.getOptionValue(m)})}):_.createElement("input",{name:u,type:"hidden",value:""});return _.createElement("div",null,f)}else{var p=h[0]?this.getOptionValue(h[0]):"";return _.createElement("input",{name:u,type:"hidden",value:p})}}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,o=s.ariaSelection,a=s.focusedOption,l=s.focusedValue,u=s.isFocused,c=s.selectValue,h=this.getFocusableOptions();return _.createElement(zz,te({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:a,focusedValue:l,isFocused:u,selectValue:c,focusableOptions:h}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,o=i.IndicatorsContainer,a=i.SelectContainer,l=i.ValueContainer,u=this.props,c=u.className,h=u.id,d=u.isDisabled,f=u.menuIsOpen,p=this.state.isFocused,m=this.commonProps=this.getCommonProps();return _.createElement(a,te({},m,{className:c,innerProps:{id:h,onKeyDown:this.onKeyDown},isDisabled:d,isFocused:p}),this.renderLiveRegion(),_.createElement(s,te({},m,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:d,isFocused:p,menuIsOpen:f}),_.createElement(l,te({},m,{isDisabled:d}),this.renderPlaceholderOrValue(),this.renderInput()),_.createElement(o,te({},m,{isDisabled:d}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var o=s.prevProps,a=s.clearFocusValueOnUpdate,l=s.inputIsHiddenAfterUpdate,u=s.ariaSelection,c=s.isFocused,h=s.prevWasFocused,d=i.options,f=i.value,p=i.menuIsOpen,m=i.inputValue,v=i.isMulti,g=yb(f),y={};if(o&&(f!==o.value||d!==o.options||p!==o.menuIsOpen||m!==o.inputValue)){var x=p?g9(i,g):[],b=a?m9(s,g):null,S=v9(s,x);y={selectValue:g,focusedOption:S,focusedValue:b,clearFocusValueOnUpdate:!1}}var E=l!=null&&i!==o?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},C=u,A=c&&h;return c&&!A&&(C={value:Cu(v,g,g[0]||null),options:g,action:"initial-input-focus"},A=!h),(u==null?void 0:u.action)==="initial-input-focus"&&(C=null),ae(ae(ae({},y),E),{},{prevProps:i,ariaSelection:C,prevWasFocused:A})}}]),n}(_.Component);PT.defaultProps=p9;var x9=_.forwardRef(function(t,e){var n=ij(t);return _.createElement(PT,te({ref:e},n))});const b0=x9;var sn={},Cl={},b9=typeof yi=="object"&&yi&&yi.Object===Object&&yi,OT=b9,w9=OT,_9=typeof self=="object"&&self&&self.Object===Object&&self,E9=w9||_9||Function("return this")(),ir=E9,S9=ir,C9=S9.Symbol,Tl=C9,Db=Tl,IT=Object.prototype,T9=IT.hasOwnProperty,A9=IT.toString,Jo=Db?Db.toStringTag:void 0;function P9(t){var e=T9.call(t,Jo),n=t[Jo];try{t[Jo]=void 0;var r=!0}catch{}var i=A9.call(t);return r&&(e?t[Jo]=n:delete t[Jo]),i}var O9=P9,I9=Object.prototype,R9=I9.toString;function M9(t){return R9.call(t)}var k9=M9,Fb=Tl,D9=O9,F9=k9,$9="[object Null]",B9="[object Undefined]",$b=Fb?Fb.toStringTag:void 0;function L9(t){return t==null?t===void 0?B9:$9:$b&&$b in Object(t)?D9(t):F9(t)}var Yi=L9,N9=Array.isArray,Un=N9;function U9(t){return t!=null&&typeof t=="object"}var Ar=U9,j9=Yi,H9=Un,z9=Ar,G9="[object String]";function V9(t){return typeof t=="string"||!H9(t)&&z9(t)&&j9(t)==G9}var W9=V9;function X9(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var Y9=X9,q9=Y9,K9=q9(),Z9=K9;function Q9(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var J9=Q9,eG=Yi,tG=Ar,nG="[object Arguments]";function rG(t){return tG(t)&&eG(t)==nG}var iG=rG,Bb=iG,sG=Ar,RT=Object.prototype,oG=RT.hasOwnProperty,aG=RT.propertyIsEnumerable,lG=Bb(function(){return arguments}())?Bb:function(t){return sG(t)&&oG.call(t,"callee")&&!aG.call(t,"callee")},MT=lG,po={},uG={get exports(){return po},set exports(t){po=t}};function cG(){return!1}var hG=cG;(function(t,e){var n=ir,r=hG,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(uG,po);var dG=9007199254740991,fG=/^(?:0|[1-9]\d*)$/;function pG(t,e){var n=typeof t;return e=e??dG,!!e&&(n=="number"||n!="symbol"&&fG.test(t))&&t>-1&&t%1==0&&t<e}var kT=pG,gG=9007199254740991;function mG(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=gG}var w0=mG,vG=Yi,yG=w0,xG=Ar,bG="[object Arguments]",wG="[object Array]",_G="[object Boolean]",EG="[object Date]",SG="[object Error]",CG="[object Function]",TG="[object Map]",AG="[object Number]",PG="[object Object]",OG="[object RegExp]",IG="[object Set]",RG="[object String]",MG="[object WeakMap]",kG="[object ArrayBuffer]",DG="[object DataView]",FG="[object Float32Array]",$G="[object Float64Array]",BG="[object Int8Array]",LG="[object Int16Array]",NG="[object Int32Array]",UG="[object Uint8Array]",jG="[object Uint8ClampedArray]",HG="[object Uint16Array]",zG="[object Uint32Array]",Oe={};Oe[FG]=Oe[$G]=Oe[BG]=Oe[LG]=Oe[NG]=Oe[UG]=Oe[jG]=Oe[HG]=Oe[zG]=!0;Oe[bG]=Oe[wG]=Oe[kG]=Oe[_G]=Oe[DG]=Oe[EG]=Oe[SG]=Oe[CG]=Oe[TG]=Oe[AG]=Oe[PG]=Oe[OG]=Oe[IG]=Oe[RG]=Oe[MG]=!1;function GG(t){return xG(t)&&yG(t.length)&&!!Oe[vG(t)]}var VG=GG;function WG(t){return function(e){return t(e)}}var _0=WG,go={},XG={get exports(){return go},set exports(t){go=t}};(function(t,e){var n=OT,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(XG,go);var YG=VG,qG=_0,Lb=go,Nb=Lb&&Lb.isTypedArray,KG=Nb?qG(Nb):YG,DT=KG,ZG=J9,QG=MT,JG=Un,eV=po,tV=kT,nV=DT,rV=Object.prototype,iV=rV.hasOwnProperty;function sV(t,e){var n=JG(t),r=!n&&QG(t),i=!n&&!r&&eV(t),s=!n&&!r&&!i&&nV(t),o=n||r||i||s,a=o?ZG(t.length,String):[],l=a.length;for(var u in t)(e||iV.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||tV(u,l)))&&a.push(u);return a}var FT=sV,oV=Object.prototype;function aV(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||oV;return t===n}var E0=aV;function lV(t,e){return function(n){return t(e(n))}}var $T=lV,uV=$T,cV=uV(Object.keys,Object),hV=cV,dV=E0,fV=hV,pV=Object.prototype,gV=pV.hasOwnProperty;function mV(t){if(!dV(t))return fV(t);var e=[];for(var n in Object(t))gV.call(t,n)&&n!="constructor"&&e.push(n);return e}var vV=mV;function yV(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Eo=yV,xV=Yi,bV=Eo,wV="[object AsyncFunction]",_V="[object Function]",EV="[object GeneratorFunction]",SV="[object Proxy]";function CV(t){if(!bV(t))return!1;var e=xV(t);return e==_V||e==EV||e==wV||e==SV}var BT=CV,TV=BT,AV=w0;function PV(t){return t!=null&&AV(t.length)&&!TV(t)}var od=PV,OV=FT,IV=vV,RV=od;function MV(t){return RV(t)?OV(t):IV(t)}var Al=MV,kV=Z9,DV=Al;function FV(t,e){return t&&kV(t,e,DV)}var LT=FV;function $V(t){return t}var NT=$V,BV=NT;function LV(t){return typeof t=="function"?t:BV}var NV=LV,UV=LT,jV=NV;function HV(t,e){return t&&UV(t,jV(e))}var S0=HV,zV=$T,GV=zV(Object.getPrototypeOf,Object),C0=GV,VV=Yi,WV=C0,XV=Ar,YV="[object Object]",qV=Function.prototype,KV=Object.prototype,UT=qV.toString,ZV=KV.hasOwnProperty,QV=UT.call(Object);function JV(t){if(!XV(t)||VV(t)!=YV)return!1;var e=WV(t);if(e===null)return!0;var n=ZV.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&UT.call(n)==QV}var eW=JV;function tW(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var jT=tW;function nW(){this.__data__=[],this.size=0}var rW=nW;function iW(t,e){return t===e||t!==t&&e!==e}var T0=iW,sW=T0;function oW(t,e){for(var n=t.length;n--;)if(sW(t[n][0],e))return n;return-1}var ad=oW,aW=ad,lW=Array.prototype,uW=lW.splice;function cW(t){var e=this.__data__,n=aW(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():uW.call(e,n,1),--this.size,!0}var hW=cW,dW=ad;function fW(t){var e=this.__data__,n=dW(e,t);return n<0?void 0:e[n][1]}var pW=fW,gW=ad;function mW(t){return gW(this.__data__,t)>-1}var vW=mW,yW=ad;function xW(t,e){var n=this.__data__,r=yW(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var bW=xW,wW=rW,_W=hW,EW=pW,SW=vW,CW=bW;function So(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}So.prototype.clear=wW;So.prototype.delete=_W;So.prototype.get=EW;So.prototype.has=SW;So.prototype.set=CW;var ld=So,TW=ld;function AW(){this.__data__=new TW,this.size=0}var PW=AW;function OW(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var IW=OW;function RW(t){return this.__data__.get(t)}var MW=RW;function kW(t){return this.__data__.has(t)}var DW=kW,FW=ir,$W=FW["__core-js_shared__"],BW=$W,Rf=BW,Ub=function(){var t=/[^.]+$/.exec(Rf&&Rf.keys&&Rf.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function LW(t){return!!Ub&&Ub in t}var NW=LW,UW=Function.prototype,jW=UW.toString;function HW(t){if(t!=null){try{return jW.call(t)}catch{}try{return t+""}catch{}}return""}var HT=HW,zW=BT,GW=NW,VW=Eo,WW=HT,XW=/[\\^$.*+?()[\]{}|]/g,YW=/^\[object .+?Constructor\]$/,qW=Function.prototype,KW=Object.prototype,ZW=qW.toString,QW=KW.hasOwnProperty,JW=RegExp("^"+ZW.call(QW).replace(XW,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function eX(t){if(!VW(t)||GW(t))return!1;var e=zW(t)?JW:YW;return e.test(WW(t))}var tX=eX;function nX(t,e){return t==null?void 0:t[e]}var rX=nX,iX=tX,sX=rX;function oX(t,e){var n=sX(t,e);return iX(n)?n:void 0}var qi=oX,aX=qi,lX=ir,uX=aX(lX,"Map"),A0=uX,cX=qi,hX=cX(Object,"create"),ud=hX,jb=ud;function dX(){this.__data__=jb?jb(null):{},this.size=0}var fX=dX;function pX(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var gX=pX,mX=ud,vX="__lodash_hash_undefined__",yX=Object.prototype,xX=yX.hasOwnProperty;function bX(t){var e=this.__data__;if(mX){var n=e[t];return n===vX?void 0:n}return xX.call(e,t)?e[t]:void 0}var wX=bX,_X=ud,EX=Object.prototype,SX=EX.hasOwnProperty;function CX(t){var e=this.__data__;return _X?e[t]!==void 0:SX.call(e,t)}var TX=CX,AX=ud,PX="__lodash_hash_undefined__";function OX(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=AX&&e===void 0?PX:e,this}var IX=OX,RX=fX,MX=gX,kX=wX,DX=TX,FX=IX;function Co(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Co.prototype.clear=RX;Co.prototype.delete=MX;Co.prototype.get=kX;Co.prototype.has=DX;Co.prototype.set=FX;var $X=Co,Hb=$X,BX=ld,LX=A0;function NX(){this.size=0,this.__data__={hash:new Hb,map:new(LX||BX),string:new Hb}}var UX=NX;function jX(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var HX=jX,zX=HX;function GX(t,e){var n=t.__data__;return zX(e)?n[typeof e=="string"?"string":"hash"]:n.map}var cd=GX,VX=cd;function WX(t){var e=VX(this,t).delete(t);return this.size-=e?1:0,e}var XX=WX,YX=cd;function qX(t){return YX(this,t).get(t)}var KX=qX,ZX=cd;function QX(t){return ZX(this,t).has(t)}var JX=QX,eY=cd;function tY(t,e){var n=eY(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var nY=tY,rY=UX,iY=XX,sY=KX,oY=JX,aY=nY;function To(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}To.prototype.clear=rY;To.prototype.delete=iY;To.prototype.get=sY;To.prototype.has=oY;To.prototype.set=aY;var P0=To,lY=ld,uY=A0,cY=P0,hY=200;function dY(t,e){var n=this.__data__;if(n instanceof lY){var r=n.__data__;if(!uY||r.length<hY-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new cY(r)}return n.set(t,e),this.size=n.size,this}var fY=dY,pY=ld,gY=PW,mY=IW,vY=MW,yY=DW,xY=fY;function Ao(t){var e=this.__data__=new pY(t);this.size=e.size}Ao.prototype.clear=gY;Ao.prototype.delete=mY;Ao.prototype.get=vY;Ao.prototype.has=yY;Ao.prototype.set=xY;var O0=Ao,bY="__lodash_hash_undefined__";function wY(t){return this.__data__.set(t,bY),this}var _Y=wY;function EY(t){return this.__data__.has(t)}var SY=EY,CY=P0,TY=_Y,AY=SY;function uh(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new CY;++e<n;)this.add(t[e])}uh.prototype.add=uh.prototype.push=TY;uh.prototype.has=AY;var PY=uh;function OY(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var IY=OY;function RY(t,e){return t.has(e)}var MY=RY,kY=PY,DY=IY,FY=MY,$Y=1,BY=2;function LY(t,e,n,r,i,s){var o=n&$Y,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(t),c=s.get(e);if(u&&c)return u==e&&c==t;var h=-1,d=!0,f=n&BY?new kY:void 0;for(s.set(t,e),s.set(e,t);++h<a;){var p=t[h],m=e[h];if(r)var v=o?r(m,p,h,e,t,s):r(p,m,h,t,e,s);if(v!==void 0){if(v)continue;d=!1;break}if(f){if(!DY(e,function(g,y){if(!FY(f,y)&&(p===g||i(p,g,n,r,s)))return f.push(y)})){d=!1;break}}else if(!(p===m||i(p,m,n,r,s))){d=!1;break}}return s.delete(t),s.delete(e),d}var zT=LY,NY=ir,UY=NY.Uint8Array,GT=UY;function jY(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var HY=jY;function zY(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var GY=zY,zb=Tl,Gb=GT,VY=T0,WY=zT,XY=HY,YY=GY,qY=1,KY=2,ZY="[object Boolean]",QY="[object Date]",JY="[object Error]",eq="[object Map]",tq="[object Number]",nq="[object RegExp]",rq="[object Set]",iq="[object String]",sq="[object Symbol]",oq="[object ArrayBuffer]",aq="[object DataView]",Vb=zb?zb.prototype:void 0,Mf=Vb?Vb.valueOf:void 0;function lq(t,e,n,r,i,s,o){switch(n){case aq:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case oq:return!(t.byteLength!=e.byteLength||!s(new Gb(t),new Gb(e)));case ZY:case QY:case tq:return VY(+t,+e);case JY:return t.name==e.name&&t.message==e.message;case nq:case iq:return t==e+"";case eq:var a=XY;case rq:var l=r&qY;if(a||(a=YY),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=KY,o.set(t,e);var c=WY(a(t),a(e),r,i,s,o);return o.delete(t),c;case sq:if(Mf)return Mf.call(t)==Mf.call(e)}return!1}var uq=lq;function cq(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var VT=cq,hq=VT,dq=Un;function fq(t,e,n){var r=e(t);return dq(t)?r:hq(r,n(t))}var WT=fq;function pq(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var gq=pq;function mq(){return[]}var XT=mq,vq=gq,yq=XT,xq=Object.prototype,bq=xq.propertyIsEnumerable,Wb=Object.getOwnPropertySymbols,wq=Wb?function(t){return t==null?[]:(t=Object(t),vq(Wb(t),function(e){return bq.call(t,e)}))}:yq,I0=wq,_q=WT,Eq=I0,Sq=Al;function Cq(t){return _q(t,Sq,Eq)}var YT=Cq,Xb=YT,Tq=1,Aq=Object.prototype,Pq=Aq.hasOwnProperty;function Oq(t,e,n,r,i,s){var o=n&Tq,a=Xb(t),l=a.length,u=Xb(e),c=u.length;if(l!=c&&!o)return!1;for(var h=l;h--;){var d=a[h];if(!(o?d in e:Pq.call(e,d)))return!1}var f=s.get(t),p=s.get(e);if(f&&p)return f==e&&p==t;var m=!0;s.set(t,e),s.set(e,t);for(var v=o;++h<l;){d=a[h];var g=t[d],y=e[d];if(r)var x=o?r(y,g,d,e,t,s):r(g,y,d,t,e,s);if(!(x===void 0?g===y||i(g,y,n,r,s):x)){m=!1;break}v||(v=d=="constructor")}if(m&&!v){var b=t.constructor,S=e.constructor;b!=S&&"constructor"in t&&"constructor"in e&&!(typeof b=="function"&&b instanceof b&&typeof S=="function"&&S instanceof S)&&(m=!1)}return s.delete(t),s.delete(e),m}var Iq=Oq,Rq=qi,Mq=ir,kq=Rq(Mq,"DataView"),Dq=kq,Fq=qi,$q=ir,Bq=Fq($q,"Promise"),Lq=Bq,Nq=qi,Uq=ir,jq=Nq(Uq,"Set"),Hq=jq,zq=qi,Gq=ir,Vq=zq(Gq,"WeakMap"),Wq=Vq,am=Dq,lm=A0,um=Lq,cm=Hq,hm=Wq,qT=Yi,Po=HT,Yb="[object Map]",Xq="[object Object]",qb="[object Promise]",Kb="[object Set]",Zb="[object WeakMap]",Qb="[object DataView]",Yq=Po(am),qq=Po(lm),Kq=Po(um),Zq=Po(cm),Qq=Po(hm),vi=qT;(am&&vi(new am(new ArrayBuffer(1)))!=Qb||lm&&vi(new lm)!=Yb||um&&vi(um.resolve())!=qb||cm&&vi(new cm)!=Kb||hm&&vi(new hm)!=Zb)&&(vi=function(t){var e=qT(t),n=e==Xq?t.constructor:void 0,r=n?Po(n):"";if(r)switch(r){case Yq:return Qb;case qq:return Yb;case Kq:return qb;case Zq:return Kb;case Qq:return Zb}return e});var hd=vi,kf=O0,Jq=zT,eK=uq,tK=Iq,Jb=hd,ew=Un,tw=po,nK=DT,rK=1,nw="[object Arguments]",rw="[object Array]",Tu="[object Object]",iK=Object.prototype,iw=iK.hasOwnProperty;function sK(t,e,n,r,i,s){var o=ew(t),a=ew(e),l=o?rw:Jb(t),u=a?rw:Jb(e);l=l==nw?Tu:l,u=u==nw?Tu:u;var c=l==Tu,h=u==Tu,d=l==u;if(d&&tw(t)){if(!tw(e))return!1;o=!0,c=!1}if(d&&!c)return s||(s=new kf),o||nK(t)?Jq(t,e,n,r,i,s):eK(t,e,l,n,r,i,s);if(!(n&rK)){var f=c&&iw.call(t,"__wrapped__"),p=h&&iw.call(e,"__wrapped__");if(f||p){var m=f?t.value():t,v=p?e.value():e;return s||(s=new kf),i(m,v,n,r,s)}}return d?(s||(s=new kf),tK(t,e,n,r,i,s)):!1}var oK=sK,aK=oK,sw=Ar;function KT(t,e,n,r,i){return t===e?!0:t==null||e==null||!sw(t)&&!sw(e)?t!==t&&e!==e:aK(t,e,n,r,KT,i)}var ZT=KT,lK=O0,uK=ZT,cK=1,hK=2;function dK(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],u=t[l],c=a[1];if(o&&a[2]){if(u===void 0&&!(l in t))return!1}else{var h=new lK;if(r)var d=r(u,c,l,t,e,h);if(!(d===void 0?uK(c,u,cK|hK,r,h):d))return!1}}return!0}var fK=dK,pK=Eo;function gK(t){return t===t&&!pK(t)}var QT=gK,mK=QT,vK=Al;function yK(t){for(var e=vK(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,mK(i)]}return e}var xK=yK;function bK(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var JT=bK,wK=fK,_K=xK,EK=JT;function SK(t){var e=_K(t);return e.length==1&&e[0][2]?EK(e[0][0],e[0][1]):function(n){return n===t||wK(n,t,e)}}var CK=SK,TK=Yi,AK=Ar,PK="[object Symbol]";function OK(t){return typeof t=="symbol"||AK(t)&&TK(t)==PK}var R0=OK,IK=Un,RK=R0,MK=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kK=/^\w*$/;function DK(t,e){if(IK(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||RK(t)?!0:kK.test(t)||!MK.test(t)||e!=null&&t in Object(e)}var M0=DK,eA=P0,FK="Expected a function";function k0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(FK);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(k0.Cache||eA),n}k0.Cache=eA;var $K=k0,BK=$K,LK=500;function NK(t){var e=BK(t,function(r){return n.size===LK&&n.clear(),r}),n=e.cache;return e}var UK=NK,jK=UK,HK=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zK=/\\(\\)?/g,GK=jK(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(HK,function(n,r,i,s){e.push(i?s.replace(zK,"$1"):r||n)}),e}),VK=GK,ow=Tl,WK=jT,XK=Un,YK=R0,qK=1/0,aw=ow?ow.prototype:void 0,lw=aw?aw.toString:void 0;function tA(t){if(typeof t=="string")return t;if(XK(t))return WK(t,tA)+"";if(YK(t))return lw?lw.call(t):"";var e=t+"";return e=="0"&&1/t==-qK?"-0":e}var KK=tA,ZK=KK;function QK(t){return t==null?"":ZK(t)}var JK=QK,eZ=Un,tZ=M0,nZ=VK,rZ=JK;function iZ(t,e){return eZ(t)?t:tZ(t,e)?[t]:nZ(rZ(t))}var nA=iZ,sZ=R0,oZ=1/0;function aZ(t){if(typeof t=="string"||sZ(t))return t;var e=t+"";return e=="0"&&1/t==-oZ?"-0":e}var dd=aZ,lZ=nA,uZ=dd;function cZ(t,e){e=lZ(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[uZ(e[n++])];return n&&n==r?t:void 0}var rA=cZ,hZ=rA;function dZ(t,e,n){var r=t==null?void 0:hZ(t,e);return r===void 0?n:r}var fZ=dZ;function pZ(t,e){return t!=null&&e in Object(t)}var gZ=pZ,mZ=nA,vZ=MT,yZ=Un,xZ=kT,bZ=w0,wZ=dd;function _Z(t,e,n){e=mZ(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=wZ(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&bZ(i)&&xZ(o,i)&&(yZ(t)||vZ(t)))}var EZ=_Z,SZ=gZ,CZ=EZ;function TZ(t,e){return t!=null&&CZ(t,e,SZ)}var AZ=TZ,PZ=ZT,OZ=fZ,IZ=AZ,RZ=M0,MZ=QT,kZ=JT,DZ=dd,FZ=1,$Z=2;function BZ(t,e){return RZ(t)&&MZ(e)?kZ(DZ(t),e):function(n){var r=OZ(n,t);return r===void 0&&r===e?IZ(n,t):PZ(e,r,FZ|$Z)}}var LZ=BZ;function NZ(t){return function(e){return e==null?void 0:e[t]}}var UZ=NZ,jZ=rA;function HZ(t){return function(e){return jZ(e,t)}}var zZ=HZ,GZ=UZ,VZ=zZ,WZ=M0,XZ=dd;function YZ(t){return WZ(t)?GZ(XZ(t)):VZ(t)}var qZ=YZ,KZ=CK,ZZ=LZ,QZ=NT,JZ=Un,eQ=qZ;function tQ(t){return typeof t=="function"?t:t==null?QZ:typeof t=="object"?JZ(t)?ZZ(t[0],t[1]):KZ(t):eQ(t)}var nQ=tQ,rQ=od;function iQ(t,e){return function(n,r){if(n==null)return n;if(!rQ(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var sQ=iQ,oQ=LT,aQ=sQ,lQ=aQ(oQ),uQ=lQ,cQ=uQ,hQ=od;function dQ(t,e){var n=-1,r=hQ(t)?Array(t.length):[];return cQ(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var fQ=dQ,pQ=jT,gQ=nQ,mQ=fQ,vQ=Un;function yQ(t,e){var n=vQ(t)?pQ:mQ;return n(t,gQ(e))}var xQ=yQ;Object.defineProperty(Cl,"__esModule",{value:!0});Cl.flattenNames=void 0;var bQ=W9,wQ=fd(bQ),_Q=S0,EQ=fd(_Q),SQ=eW,CQ=fd(SQ),TQ=xQ,AQ=fd(TQ);function fd(t){return t&&t.__esModule?t:{default:t}}var PQ=Cl.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,AQ.default)(e,function(r){Array.isArray(r)?t(r).map(function(i){return n.push(i)}):(0,CQ.default)(r)?(0,EQ.default)(r,function(i,s){i===!0&&n.push(s),n.push(s+"-"+i)}):(0,wQ.default)(r)&&n.push(r)}),n};Cl.default=PQ;var Pl={};function OQ(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var IQ=OQ,RQ=qi,MQ=function(){try{var t=RQ(Object,"defineProperty");return t({},"",{}),t}catch{}}(),kQ=MQ,uw=kQ;function DQ(t,e,n){e=="__proto__"&&uw?uw(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var iA=DQ,FQ=iA,$Q=T0,BQ=Object.prototype,LQ=BQ.hasOwnProperty;function NQ(t,e,n){var r=t[e];(!(LQ.call(t,e)&&$Q(r,n))||n===void 0&&!(e in t))&&FQ(t,e,n)}var sA=NQ,UQ=sA,jQ=iA;function HQ(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?jQ(n,a,l):UQ(n,a,l)}return n}var pd=HQ,zQ=pd,GQ=Al;function VQ(t,e){return t&&zQ(e,GQ(e),t)}var WQ=VQ;function XQ(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var YQ=XQ,qQ=Eo,KQ=E0,ZQ=YQ,QQ=Object.prototype,JQ=QQ.hasOwnProperty;function eJ(t){if(!qQ(t))return ZQ(t);var e=KQ(t),n=[];for(var r in t)r=="constructor"&&(e||!JQ.call(t,r))||n.push(r);return n}var tJ=eJ,nJ=FT,rJ=tJ,iJ=od;function sJ(t){return iJ(t)?nJ(t,!0):rJ(t)}var D0=sJ,oJ=pd,aJ=D0;function lJ(t,e){return t&&oJ(e,aJ(e),t)}var uJ=lJ,ch={},cJ={get exports(){return ch},set exports(t){ch=t}};(function(t,e){var n=ir,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var h=u.length,d=a?a(h):new u.constructor(h);return u.copy(d),d}t.exports=l})(cJ,ch);function hJ(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var dJ=hJ,fJ=pd,pJ=I0;function gJ(t,e){return fJ(t,pJ(t),e)}var mJ=gJ,vJ=VT,yJ=C0,xJ=I0,bJ=XT,wJ=Object.getOwnPropertySymbols,_J=wJ?function(t){for(var e=[];t;)vJ(e,xJ(t)),t=yJ(t);return e}:bJ,oA=_J,EJ=pd,SJ=oA;function CJ(t,e){return EJ(t,SJ(t),e)}var TJ=CJ,AJ=WT,PJ=oA,OJ=D0;function IJ(t){return AJ(t,OJ,PJ)}var RJ=IJ,MJ=Object.prototype,kJ=MJ.hasOwnProperty;function DJ(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&kJ.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var FJ=DJ,cw=GT;function $J(t){var e=new t.constructor(t.byteLength);return new cw(e).set(new cw(t)),e}var F0=$J,BJ=F0;function LJ(t,e){var n=e?BJ(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var NJ=LJ,UJ=/\w*$/;function jJ(t){var e=new t.constructor(t.source,UJ.exec(t));return e.lastIndex=t.lastIndex,e}var HJ=jJ,hw=Tl,dw=hw?hw.prototype:void 0,fw=dw?dw.valueOf:void 0;function zJ(t){return fw?Object(fw.call(t)):{}}var GJ=zJ,VJ=F0;function WJ(t,e){var n=e?VJ(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var XJ=WJ,YJ=F0,qJ=NJ,KJ=HJ,ZJ=GJ,QJ=XJ,JJ="[object Boolean]",eee="[object Date]",tee="[object Map]",nee="[object Number]",ree="[object RegExp]",iee="[object Set]",see="[object String]",oee="[object Symbol]",aee="[object ArrayBuffer]",lee="[object DataView]",uee="[object Float32Array]",cee="[object Float64Array]",hee="[object Int8Array]",dee="[object Int16Array]",fee="[object Int32Array]",pee="[object Uint8Array]",gee="[object Uint8ClampedArray]",mee="[object Uint16Array]",vee="[object Uint32Array]";function yee(t,e,n){var r=t.constructor;switch(e){case aee:return YJ(t);case JJ:case eee:return new r(+t);case lee:return qJ(t,n);case uee:case cee:case hee:case dee:case fee:case pee:case gee:case mee:case vee:return QJ(t,n);case tee:return new r;case nee:case see:return new r(t);case ree:return KJ(t);case iee:return new r;case oee:return ZJ(t)}}var xee=yee,bee=Eo,pw=Object.create,wee=function(){function t(){}return function(e){if(!bee(e))return{};if(pw)return pw(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),_ee=wee,Eee=_ee,See=C0,Cee=E0;function Tee(t){return typeof t.constructor=="function"&&!Cee(t)?Eee(See(t)):{}}var Aee=Tee,Pee=hd,Oee=Ar,Iee="[object Map]";function Ree(t){return Oee(t)&&Pee(t)==Iee}var Mee=Ree,kee=Mee,Dee=_0,gw=go,mw=gw&&gw.isMap,Fee=mw?Dee(mw):kee,$ee=Fee,Bee=hd,Lee=Ar,Nee="[object Set]";function Uee(t){return Lee(t)&&Bee(t)==Nee}var jee=Uee,Hee=jee,zee=_0,vw=go,yw=vw&&vw.isSet,Gee=yw?zee(yw):Hee,Vee=Gee,Wee=O0,Xee=IQ,Yee=sA,qee=WQ,Kee=uJ,Zee=ch,Qee=dJ,Jee=mJ,ete=TJ,tte=YT,nte=RJ,rte=hd,ite=FJ,ste=xee,ote=Aee,ate=Un,lte=po,ute=$ee,cte=Eo,hte=Vee,dte=Al,fte=D0,pte=1,gte=2,mte=4,aA="[object Arguments]",vte="[object Array]",yte="[object Boolean]",xte="[object Date]",bte="[object Error]",lA="[object Function]",wte="[object GeneratorFunction]",_te="[object Map]",Ete="[object Number]",uA="[object Object]",Ste="[object RegExp]",Cte="[object Set]",Tte="[object String]",Ate="[object Symbol]",Pte="[object WeakMap]",Ote="[object ArrayBuffer]",Ite="[object DataView]",Rte="[object Float32Array]",Mte="[object Float64Array]",kte="[object Int8Array]",Dte="[object Int16Array]",Fte="[object Int32Array]",$te="[object Uint8Array]",Bte="[object Uint8ClampedArray]",Lte="[object Uint16Array]",Nte="[object Uint32Array]",Ce={};Ce[aA]=Ce[vte]=Ce[Ote]=Ce[Ite]=Ce[yte]=Ce[xte]=Ce[Rte]=Ce[Mte]=Ce[kte]=Ce[Dte]=Ce[Fte]=Ce[_te]=Ce[Ete]=Ce[uA]=Ce[Ste]=Ce[Cte]=Ce[Tte]=Ce[Ate]=Ce[$te]=Ce[Bte]=Ce[Lte]=Ce[Nte]=!0;Ce[bte]=Ce[lA]=Ce[Pte]=!1;function ic(t,e,n,r,i,s){var o,a=e&pte,l=e&gte,u=e&mte;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!cte(t))return t;var c=ate(t);if(c){if(o=ite(t),!a)return Qee(t,o)}else{var h=rte(t),d=h==lA||h==wte;if(lte(t))return Zee(t,a);if(h==uA||h==aA||d&&!i){if(o=l||d?{}:ote(t),!a)return l?ete(t,Kee(o,t)):Jee(t,qee(o,t))}else{if(!Ce[h])return i?t:{};o=ste(t,h,a)}}s||(s=new Wee);var f=s.get(t);if(f)return f;s.set(t,o),hte(t)?t.forEach(function(v){o.add(ic(v,e,n,v,t,s))}):ute(t)&&t.forEach(function(v,g){o.set(g,ic(v,e,n,g,t,s))});var p=u?l?nte:tte:l?fte:dte,m=c?void 0:p(t);return Xee(m||t,function(v,g){m&&(g=v,v=t[g]),Yee(o,g,ic(v,e,n,g,t,s))}),o}var Ute=ic,jte=Ute,Hte=1,zte=4;function Gte(t){return jte(t,Hte|zte)}var Vte=Gte;Object.defineProperty(Pl,"__esModule",{value:!0});Pl.mergeClasses=void 0;var Wte=S0,Xte=cA(Wte),Yte=Vte,qte=cA(Yte),Kte=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function cA(t){return t&&t.__esModule?t:{default:t}}var Zte=Pl.mergeClasses=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,qte.default)(e.default)||{};return n.map(function(i){var s=e[i];return s&&(0,Xte.default)(s,function(o,a){r[a]||(r[a]={}),r[a]=Kte({},r[a],s[a])}),i}),r};Pl.default=Zte;var Ol={};Object.defineProperty(Ol,"__esModule",{value:!0});Ol.autoprefix=void 0;var Qte=S0,xw=ene(Qte),Jte=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function ene(t){return t&&t.__esModule?t:{default:t}}var tne={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var n=e&&e.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(e,n){var r=n[e];return r||{extend:e}}},nne=Ol.autoprefix=function(e){var n={};return(0,xw.default)(e,function(r,i){var s={};(0,xw.default)(r,function(o,a){var l=tne[a];l?s=Jte({},s,l(o)):s[a]=o}),n[i]=s}),n};Ol.default=nne;var Il={};Object.defineProperty(Il,"__esModule",{value:!0});Il.hover=void 0;var rne=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ine=_,Df=sne(ine);function sne(t){return t&&t.__esModule?t:{default:t}}function one(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bw(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ane(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var lne=Il.hover=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){ane(i,r);function i(){var s,o,a,l;one(this,i);for(var u=arguments.length,c=Array(u),h=0;h<u;h++)c[h]=arguments[h];return l=(o=(a=bw(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(c))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return Df.default.createElement(n,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},Df.default.createElement(e,rne({},a.props,a.state)))},o),bw(a,l)}return i}(Df.default.Component)};Il.default=lne;var Rl={};Object.defineProperty(Rl,"__esModule",{value:!0});Rl.active=void 0;var une=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cne=_,Ff=hne(cne);function hne(t){return t&&t.__esModule?t:{default:t}}function dne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ww(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function fne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var pne=Rl.active=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){fne(i,r);function i(){var s,o,a,l;dne(this,i);for(var u=arguments.length,c=Array(u),h=0;h<u;h++)c[h]=arguments[h];return l=(o=(a=ww(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(c))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return Ff.default.createElement(n,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},Ff.default.createElement(e,une({},a.props,a.state)))},o),ww(a,l)}return i}(Ff.default.Component)};Rl.default=pne;var $0={};Object.defineProperty($0,"__esModule",{value:!0});var gne=function(e,n){var r={},i=function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[o]=a};return e===0&&i("first-child"),e===n-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),r};$0.default=gne;Object.defineProperty(sn,"__esModule",{value:!0});sn.ReactCSS=sn.loop=sn.handleActive=B0=sn.handleHover=sn.hover=void 0;var mne=Cl,vne=Oo(mne),yne=Pl,xne=Oo(yne),bne=Ol,wne=Oo(bne),_ne=Il,hA=Oo(_ne),Ene=Rl,Sne=Oo(Ene),Cne=$0,Tne=Oo(Cne);function Oo(t){return t&&t.__esModule?t:{default:t}}sn.hover=hA.default;var B0=sn.handleHover=hA.default;sn.handleActive=Sne.default;sn.loop=Tne.default;var Ane=sn.ReactCSS=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=(0,vne.default)(r),o=(0,xne.default)(e,s);return(0,wne.default)(o)},oe=sn.default=Ane,Pne=function(e,n,r,i,s){var o=s.clientWidth,a=s.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,u=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=l-(s.getBoundingClientRect().left+window.pageXOffset),h=u-(s.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var d=void 0;if(h<0?d=0:h>a?d=1:d=Math.round(h*100/a)/100,n.a!==d)return{h:n.h,s:n.s,l:n.l,a:d,source:"rgb"}}else{var f=void 0;if(c<0?f=0:c>o?f=1:f=Math.round(c*100/o)/100,i!==f)return{h:n.h,s:n.s,l:n.l,a:f,source:"rgb"}}return null},$f={},One=function(e,n,r,i){if(typeof document>"u"&&!i)return null;var s=i?new i:document.createElement("canvas");s.width=r*2,s.height=r*2;var o=s.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,s.width,s.height),o.fillStyle=n,o.fillRect(0,0,r,r),o.translate(r,r),o.fillRect(0,0,r,r),s.toDataURL()):null},Ine=function(e,n,r,i){var s=e+"-"+n+"-"+r+(i?"-server":"");if($f[s])return $f[s];var o=One(e,n,r,i);return $f[s]=o,o},_w=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Io=function(e){var n=e.white,r=e.grey,i=e.size,s=e.renderers,o=e.borderRadius,a=e.boxShadow,l=e.children,u=oe({default:{grid:{borderRadius:o,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+Ine(n,r,i,s.canvas)+") center left"}}});return _.isValidElement(l)?w.cloneElement(l,_w({},l.props,{style:_w({},l.props.style,u.grid)})):w.createElement("div",{style:u.grid})};Io.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var Rne=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mne=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function kne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ew(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Dne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var L0=function(t){Dne(e,t);function e(){var n,r,i,s;kne(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=Ew(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(u){var c=Pne(u,i.props.hsl,i.props.direction,i.props.a,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),Ew(i,s)}return Mne(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,s=oe({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:Rne({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return w.createElement("div",{style:s.alpha},w.createElement("div",{style:s.checkboard},w.createElement(Io,{renderers:this.props.renderers})),w.createElement("div",{style:s.gradient}),w.createElement("div",{style:s.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},w.createElement("div",{style:s.pointer},this.props.pointer?w.createElement(this.props.pointer,this.props):w.createElement("div",{style:s.slider}))))}}]),e}(_.PureComponent||_.Component),Fne=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function $ne(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lne(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Nne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Une=1,dA=38,jne=40,Hne=[dA,jne],zne=function(e){return Hne.indexOf(e)>-1},Gne=function(e){return Number(String(e).replace(/%/g,""))},Vne=1,fe=function(t){Nne(e,t);function e(n){Bne(this,e);var r=Lne(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var s=Gne(i.target.value);if(!isNaN(s)&&zne(i.keyCode)){var o=r.getArrowOffset(),a=i.keyCode===dA?s+o:s-o;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var s=Math.round(r.props.value+i.movementX);s>=0&&s<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(s),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+Vne++,r}return Fne(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return $ne({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||Une}},{key:"setUpdatedValue",value:function(r,i){var s=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(s,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=oe({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return w.createElement("div",{style:i.wrap},w.createElement("input",{id:this.inputId,style:i.input,ref:function(o){return r.input=o},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?w.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(_.PureComponent||_.Component),Wne=function(e,n,r,i){var s=i.clientWidth,o=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(i.getBoundingClientRect().left+window.pageXOffset),c=l-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var h=void 0;if(c<0)h=359;else if(c>o)h=0;else{var d=-(c*100/o)+100;h=360*d/100}if(r.h!==h)return{h,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var f=void 0;if(u<0)f=0;else if(u>s)f=359;else{var p=u*100/s;f=360*p/100}if(r.h!==f)return{h:f,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},Xne=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Yne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sw(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function qne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ro=function(t){qne(e,t);function e(){var n,r,i,s;Yne(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=Sw(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(u){var c=Wne(u,i.props.direction,i.props.hsl,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),Sw(i,s)}return Xne(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,s=i===void 0?"horizontal":i,o=oe({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:s==="vertical"});return w.createElement("div",{style:o.hue},w.createElement("div",{className:"hue-"+s,style:o.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},w.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),w.createElement("div",{style:o.pointer},this.props.pointer?w.createElement(this.props.pointer,this.props):w.createElement("div",{style:o.slider}))))}}]),e}(_.PureComponent||_.Component),Ml=function(e){var n=e.zDepth,r=e.radius,i=e.background,s=e.children,o=e.styles,a=o===void 0?{}:o,l=oe($t({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":n===1});return w.createElement("div",{style:l.wrap},w.createElement("div",{style:l.bg}),w.createElement("div",{style:l.content},s))};Ml.propTypes={background:I.string,zDepth:I.oneOf([0,1,2,3,4,5]),radius:I.number,styles:I.object};Ml.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var Kne=function(e,n,r){var i=r.getBoundingClientRect(),s=i.width,o=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(r.getBoundingClientRect().left+window.pageXOffset),c=l-(r.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>s&&(u=s),c<0?c=0:c>o&&(c=o);var h=u/s,d=1-c/o;return{h:n.h,s:h,v:d,a:n.a,source:"hsv"}},Zne=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Qne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jne(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ere(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var gd=function(t){ere(e,t);function e(n){Qne(this,e);var r=Jne(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,Kne(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var s=r.getContainerRenderWindow();s.addEventListener("mousemove",r.handleChange),s.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=G8(function(i,s,o){i(s,o)},50),r}return Zne(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},s=i.color,o=i.white,a=i.black,l=i.pointer,u=i.circle,c=oe({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:s,white:o,black:a,pointer:l,circle:u}},{custom:!!this.props.style});return w.createElement("div",{style:c.color,ref:function(d){return r.container=d},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},w.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),w.createElement("div",{style:c.white,className:"saturation-white"},w.createElement("div",{style:c.black,className:"saturation-black"}),w.createElement("div",{style:c.pointer},this.props.pointer?w.createElement(this.props.pointer,this.props):w.createElement("div",{style:c.circle}))))}}]),e}(_.PureComponent||_.Component);function hh(t){return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}var tre=/^\s+/,nre=/\s+$/;function Z(t,e){if(t=t||"",e=e||{},t instanceof Z)return t;if(!(this instanceof Z))return new Z(t,e);var n=rre(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}Z.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,s,o,a;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(e){return this._a=fA(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=Tw(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=Tw(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=Cw(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=Cw(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return Aw(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return are(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Re(this._r,255)*100)+"%",g:Math.round(Re(this._g,255)*100)+"%",b:Math.round(Re(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Re(this._r,255)*100)+"%, "+Math.round(Re(this._g,255)*100)+"%, "+Math.round(Re(this._b,255)*100)+"%)":"rgba("+Math.round(Re(this._r,255)*100)+"%, "+Math.round(Re(this._g,255)*100)+"%, "+Math.round(Re(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:xre[Aw(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+Pw(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=Z(e);r="#"+Pw(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Z(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(hre,arguments)},brighten:function(){return this._applyModification(dre,arguments)},darken:function(){return this._applyModification(fre,arguments)},desaturate:function(){return this._applyModification(lre,arguments)},saturate:function(){return this._applyModification(ure,arguments)},greyscale:function(){return this._applyModification(cre,arguments)},spin:function(){return this._applyModification(pre,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(vre,arguments)},complement:function(){return this._applyCombination(gre,arguments)},monochromatic:function(){return this._applyCombination(yre,arguments)},splitcomplement:function(){return this._applyCombination(mre,arguments)},triad:function(){return this._applyCombination(Ow,[3])},tetrad:function(){return this._applyCombination(Ow,[4])}};Z.fromRatio=function(t,e){if(hh(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=pa(t[r]));t=n}return Z(t,e)};function rre(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,o=!1,a=!1;return typeof t=="string"&&(t=Ere(t)),hh(t)=="object"&&(or(t.r)&&or(t.g)&&or(t.b)?(e=ire(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):or(t.h)&&or(t.s)&&or(t.v)?(r=pa(t.s),i=pa(t.v),e=ore(t.h,r,i),o=!0,a="hsv"):or(t.h)&&or(t.s)&&or(t.l)&&(r=pa(t.s),s=pa(t.l),e=sre(t.h,r,s),o=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=fA(n),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function ire(t,e,n){return{r:Re(t,255)*255,g:Re(e,255)*255,b:Re(n,255)*255}}function Cw(t,e,n){t=Re(t,255),e=Re(e,255),n=Re(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=(r+i)/2;if(r==i)s=o=0;else{var l=r-i;switch(o=a>.5?l/(2-r-i):l/(r+i),r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,l:a}}function sre(t,e,n){var r,i,s;t=Re(t,360),e=Re(e,100),n=Re(n,100);function o(u,c,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?u+(c-u)*6*h:h<1/2?c:h<2/3?u+(c-u)*(2/3-h)*6:u}if(e===0)r=i=s=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=o(l,a,t+1/3),i=o(l,a,t),s=o(l,a,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function Tw(t,e,n){t=Re(t,255),e=Re(e,255),n=Re(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=r,l=r-i;if(o=r===0?0:l/r,r==i)s=0;else{switch(r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,v:a}}function ore(t,e,n){t=Re(t,360)*6,e=Re(e,100),n=Re(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),o=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,u=[n,o,s,s,a,n][l],c=[a,n,n,o,s,s][l],h=[s,s,a,n,n,o][l];return{r:u*255,g:c*255,b:h*255}}function Aw(t,e,n,r){var i=[On(Math.round(t).toString(16)),On(Math.round(e).toString(16)),On(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function are(t,e,n,r,i){var s=[On(Math.round(t).toString(16)),On(Math.round(e).toString(16)),On(Math.round(n).toString(16)),On(pA(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function Pw(t,e,n,r){var i=[On(pA(r)),On(Math.round(t).toString(16)),On(Math.round(e).toString(16)),On(Math.round(n).toString(16))];return i.join("")}Z.equals=function(t,e){return!t||!e?!1:Z(t).toRgbString()==Z(e).toRgbString()};Z.random=function(){return Z.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function lre(t,e){e=e===0?0:e||10;var n=Z(t).toHsl();return n.s-=e/100,n.s=md(n.s),Z(n)}function ure(t,e){e=e===0?0:e||10;var n=Z(t).toHsl();return n.s+=e/100,n.s=md(n.s),Z(n)}function cre(t){return Z(t).desaturate(100)}function hre(t,e){e=e===0?0:e||10;var n=Z(t).toHsl();return n.l+=e/100,n.l=md(n.l),Z(n)}function dre(t,e){e=e===0?0:e||10;var n=Z(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),Z(n)}function fre(t,e){e=e===0?0:e||10;var n=Z(t).toHsl();return n.l-=e/100,n.l=md(n.l),Z(n)}function pre(t,e){var n=Z(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,Z(n)}function gre(t){var e=Z(t).toHsl();return e.h=(e.h+180)%360,Z(e)}function Ow(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Z(t).toHsl(),r=[Z(t)],i=360/e,s=1;s<e;s++)r.push(Z({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function mre(t){var e=Z(t).toHsl(),n=e.h;return[Z(t),Z({h:(n+72)%360,s:e.s,l:e.l}),Z({h:(n+216)%360,s:e.s,l:e.l})]}function vre(t,e,n){e=e||6,n=n||30;var r=Z(t).toHsl(),i=360/n,s=[Z(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(Z(r));return s}function yre(t,e){e=e||6;for(var n=Z(t).toHsv(),r=n.h,i=n.s,s=n.v,o=[],a=1/e;e--;)o.push(Z({h:r,s:i,v:s})),s=(s+a)%1;return o}Z.mix=function(t,e,n){n=n===0?0:n||50;var r=Z(t).toRgb(),i=Z(e).toRgb(),s=n/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return Z(o)};Z.readability=function(t,e){var n=Z(t),r=Z(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};Z.isReadable=function(t,e,n){var r=Z.readability(t,e),i,s;switch(s=!1,i=Sre(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};Z.mostReadable=function(t,e,n){var r=null,i=0,s,o,a,l;n=n||{},o=n.includeFallbackColors,a=n.level,l=n.size;for(var u=0;u<e.length;u++)s=Z.readability(t,e[u]),s>i&&(i=s,r=Z(e[u]));return Z.isReadable(t,r,{level:a,size:l})||!o?r:(n.includeFallbackColors=!1,Z.mostReadable(t,["#fff","#000"],n))};var dm=Z.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},xre=Z.hexNames=bre(dm);function bre(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function fA(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Re(t,e){wre(t)&&(t="100%");var n=_re(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function md(t){return Math.min(1,Math.max(0,t))}function jt(t){return parseInt(t,16)}function wre(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function _re(t){return typeof t=="string"&&t.indexOf("%")!=-1}function On(t){return t.length==1?"0"+t:""+t}function pa(t){return t<=1&&(t=t*100+"%"),t}function pA(t){return Math.round(parseFloat(t)*255).toString(16)}function Iw(t){return jt(t)/255}var xn=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function or(t){return!!xn.CSS_UNIT.exec(t)}function Ere(t){t=t.replace(tre,"").replace(nre,"").toLowerCase();var e=!1;if(dm[t])t=dm[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=xn.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=xn.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=xn.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=xn.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=xn.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=xn.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=xn.hex8.exec(t))?{r:jt(n[1]),g:jt(n[2]),b:jt(n[3]),a:Iw(n[4]),format:e?"name":"hex8"}:(n=xn.hex6.exec(t))?{r:jt(n[1]),g:jt(n[2]),b:jt(n[3]),format:e?"name":"hex"}:(n=xn.hex4.exec(t))?{r:jt(n[1]+""+n[1]),g:jt(n[2]+""+n[2]),b:jt(n[3]+""+n[3]),a:Iw(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=xn.hex3.exec(t))?{r:jt(n[1]+""+n[1]),g:jt(n[2]+""+n[2]),b:jt(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function Sre(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var Rw=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return xt(n,function(s){if(e[s]&&(r+=1,isNaN(e[s])||(i+=1),s==="s"||s==="l")){var o=/^\d+%$/;o.test(e[s])&&(i+=1)}}),r===i?e:!1},ga=function(e,n){var r=e.hex?Z(e.hex):Z(e),i=r.toHsl(),s=r.toHsv(),o=r.toRgb(),a=r.toHex();i.s===0&&(i.h=n||0,s.h=n||0);var l=a==="000000"&&o.a===0;return{hsl:i,hex:l?"transparent":"#"+a,rgb:o,hsv:s,oldHue:e.h||n||i.h,source:e.source}},si=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&Z(e).isValid()},N0=function(e){if(!e)return"#fff";var n=ga(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},Bf=function(e,n){var r=e.replace("°","");return Z(n+" ("+r+")")._ok},ea=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cre=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Tre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Are(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Pre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Bt=function(e){var n=function(r){Pre(i,r);function i(s){Tre(this,i);var o=Are(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return o.handleChange=function(a,l){var u=Rw(a);if(u){var c=ga(a,a.h||o.state.oldHue);o.setState(c),o.props.onChangeComplete&&o.debounce(o.props.onChangeComplete,c,l),o.props.onChange&&o.props.onChange(c,l)}},o.handleSwatchHover=function(a,l){var u=Rw(a);if(u){var c=ga(a,a.h||o.state.oldHue);o.props.onSwatchHover&&o.props.onSwatchHover(c,l)}},o.state=ea({},ga(s.color,0)),o.debounce=f2(function(a,l,u){a(l,u)},100),o}return Cre(i,[{key:"render",value:function(){var o={};return this.props.onSwatchHover&&(o.onSwatchHover=this.handleSwatchHover),w.createElement(e,ea({},this.props,this.state,{onChange:this.handleChange},o))}}],[{key:"getDerivedStateFromProps",value:function(o,a){return ea({},ga(o.color,a.oldHue))}}]),i}(_.PureComponent||_.Component);return n.propTypes=ea({},e.propTypes),n.defaultProps=ea({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},Ore=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ire=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Rre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mw(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Mre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var kre=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){Mre(i,r);function i(){var s,o,a,l;Rre(this,i);for(var u=arguments.length,c=Array(u),h=0;h<u;h++)c[h]=arguments[h];return l=(o=(a=Mw(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(c))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},o),Mw(a,l)}return Ire(i,[{key:"render",value:function(){return w.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},w.createElement(e,Ore({},this.props,this.state)))}}]),i}(w.Component)},kw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dre=13,Fre=function(e){var n=e.color,r=e.style,i=e.onClick,s=i===void 0?function(){}:i,o=e.onHover,a=e.title,l=a===void 0?n:a,u=e.children,c=e.focus,h=e.focusStyle,d=h===void 0?{}:h,f=n==="transparent",p=oe({default:{swatch:kw({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,c?d:{})}}),m=function(b){return s(n,b)},v=function(b){return b.keyCode===Dre&&s(n,b)},g=function(b){return o(n,b)},y={};return o&&(y.onMouseOver=g),w.createElement("div",kw({style:p.swatch,onClick:m,title:l,tabIndex:0,onKeyDown:v},y),u,f&&w.createElement(Io,{borderRadius:p.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const Ki=kre(Fre);var $re=function(e){var n=e.direction,r=oe({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return w.createElement("div",{style:r.picker})},Bre=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gA=function(e){var n=e.rgb,r=e.hsl,i=e.width,s=e.height,o=e.onChange,a=e.direction,l=e.style,u=e.renderers,c=e.pointer,h=e.className,d=h===void 0?"":h,f=oe({default:{picker:{position:"relative",width:i,height:s},alpha:{radius:"2px",style:l}}});return w.createElement("div",{style:f.picker,className:"alpha-picker "+d},w.createElement(L0,Bre({},f.alpha,{rgb:n,hsl:r,pointer:c,renderers:u,onChange:o,direction:a})))};gA.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:$re};Bt(gA);var Lre=function(e){var n=e.colors,r=e.onClick,i=e.onSwatchHover,s=oe({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return w.createElement("div",{style:s.swatches},be(n,function(o){return w.createElement(Ki,{key:o,color:o,style:s.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+o}})}),w.createElement("div",{style:s.clear}))},U0=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,h=c===void 0?"":c,d=i==="transparent",f=function(v,g){si(v)&&n({hex:v,source:"hex"},g)},p=oe($t({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:N0(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},u),{"hide-triangle":a==="hide"});return w.createElement("div",{style:p.card,className:"block-picker "+h},w.createElement("div",{style:p.triangle}),w.createElement("div",{style:p.head},d&&w.createElement(Io,{borderRadius:"6px 6px 0 0"}),w.createElement("div",{style:p.label},i)),w.createElement("div",{style:p.body},w.createElement(Lre,{colors:s,onClick:f,onSwatchHover:r}),w.createElement(fe,{style:{input:p.input},value:i,onChange:f})))};U0.propTypes={width:I.oneOfType([I.string,I.number]),colors:I.arrayOf(I.string),triangle:I.oneOf(["top","hide"]),styles:I.object};U0.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};Bt(U0);var ss={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},os={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},as={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},ls={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},us={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},cs={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},hs={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},ds={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},fs={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},ma={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},ps={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},gs={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},ms={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},vs={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},ys={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},xs={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},bs={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},ws={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},mA=function(e){var n=e.color,r=e.onClick,i=e.onSwatchHover,s=e.hover,o=e.active,a=e.circleSize,l=e.circleSpacing,u=oe({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:s,active:o});return w.createElement("div",{style:u.swatch},w.createElement(Ki,{style:u.Swatch,color:n,onClick:r,onHover:i,focusStyle:{boxShadow:u.Swatch.boxShadow+", 0 0 5px "+n}}))};mA.defaultProps={circleSize:28,circleSpacing:14};const Nre=B0(mA);var j0=function(e){var n=e.width,r=e.onChange,i=e.onSwatchHover,s=e.colors,o=e.hex,a=e.circleSize,l=e.styles,u=l===void 0?{}:l,c=e.circleSpacing,h=e.className,d=h===void 0?"":h,f=oe($t({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-c,marginBottom:-c}}},u)),p=function(v,g){return r({hex:v,source:"hex"},g)};return w.createElement("div",{style:f.card,className:"circle-picker "+d},be(s,function(m){return w.createElement(Nre,{key:m,color:m,onClick:p,onSwatchHover:i,active:o===m.toLowerCase(),circleSize:a,circleSpacing:c})}))};j0.propTypes={width:I.oneOfType([I.string,I.number]),circleSize:I.number,circleSpacing:I.number,styles:I.object};j0.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[ss[500],os[500],as[500],ls[500],us[500],cs[500],hs[500],ds[500],fs[500],ma[500],ps[500],gs[500],ms[500],vs[500],ys[500],xs[500],bs[500],ws[500]],styles:{}};Bt(j0);var vA={};Object.defineProperty(vA,"__esModule",{value:!0});var Dw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ure=_,Fw=jre(Ure);function jre(t){return t&&t.__esModule?t:{default:t}}function Hre(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var Au=24,zre=vA.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?Au:r,s=t.height,o=s===void 0?Au:s,a=t.style,l=a===void 0?{}:a,u=Hre(t,["fill","width","height","style"]);return Fw.default.createElement("svg",Dw({viewBox:"0 0 "+Au+" "+Au,style:Dw({fill:n,width:i,height:o},l)},u),Fw.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},Gre=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Vre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wre(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Xre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var yA=function(t){Xre(e,t);function e(n){Vre(this,e);var r=Wre(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,s){i.hex?si(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},s):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},s):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},s)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(Aa(i.s)?r.props.hsl.s:i.s),l:Number(Aa(i.l)?r.props.hsl.l:i.l),source:"hsl"},s))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return Gre(e,[{key:"render",value:function(){var r=this,i=oe({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),s=void 0;return this.state.view==="hex"?s=w.createElement("div",{style:i.fields,className:"flexbox-fix"},w.createElement("div",{style:i.field},w.createElement(fe,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?s=w.createElement("div",{style:i.fields,className:"flexbox-fix"},w.createElement("div",{style:i.field},w.createElement(fe,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),w.createElement("div",{style:i.field},w.createElement(fe,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),w.createElement("div",{style:i.field},w.createElement(fe,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),w.createElement("div",{style:i.alpha},w.createElement(fe,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(s=w.createElement("div",{style:i.fields,className:"flexbox-fix"},w.createElement("div",{style:i.field},w.createElement(fe,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),w.createElement("div",{style:i.field},w.createElement(fe,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),w.createElement("div",{style:i.field},w.createElement(fe,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),w.createElement("div",{style:i.alpha},w.createElement(fe,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),w.createElement("div",{style:i.wrap,className:"flexbox-fix"},s,w.createElement("div",{style:i.toggle},w.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},w.createElement(zre,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(w.Component);yA.defaultProps={view:"hex"};var $w=function(){var e=oe({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return w.createElement("div",{style:e.picker})},Yre=function(){var e=oe({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return w.createElement("div",{style:e.picker})},H0=function(e){var n=e.width,r=e.onChange,i=e.disableAlpha,s=e.rgb,o=e.hsl,a=e.hsv,l=e.hex,u=e.renderers,c=e.styles,h=c===void 0?{}:c,d=e.className,f=d===void 0?"":d,p=e.defaultView,m=oe($t({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+s.r+", "+s.g+", "+s.b+", "+s.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},h),{disableAlpha:i});return w.createElement("div",{style:m.picker,className:"chrome-picker "+f},w.createElement("div",{style:m.saturation},w.createElement(gd,{style:m.Saturation,hsl:o,hsv:a,pointer:Yre,onChange:r})),w.createElement("div",{style:m.body},w.createElement("div",{style:m.controls,className:"flexbox-fix"},w.createElement("div",{style:m.color},w.createElement("div",{style:m.swatch},w.createElement("div",{style:m.active}),w.createElement(Io,{renderers:u}))),w.createElement("div",{style:m.toggles},w.createElement("div",{style:m.hue},w.createElement(Ro,{style:m.Hue,hsl:o,pointer:$w,onChange:r})),w.createElement("div",{style:m.alpha},w.createElement(L0,{style:m.Alpha,rgb:s,hsl:o,pointer:$w,renderers:u,onChange:r})))),w.createElement(yA,{rgb:s,hsl:o,hex:l,view:p,onChange:r,disableAlpha:i})))};H0.propTypes={width:I.oneOfType([I.string,I.number]),disableAlpha:I.bool,styles:I.object,defaultView:I.oneOf(["hex","rgb","hsl"])};H0.defaultProps={width:225,disableAlpha:!1,styles:{}};const qre=Bt(H0);var Kre=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.active,a=oe({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:N0(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return w.createElement(Ki,{style:a.color,color:n,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n}},w.createElement("div",{style:a.dot}))},Zre=function(e){var n=e.hex,r=e.rgb,i=e.onChange,s=oe({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(l,u){l.r||l.g||l.b?i({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},u):i({hex:l.hex,source:"hex"},u)};return w.createElement("div",{style:s.fields,className:"flexbox-fix"},w.createElement("div",{style:s.active}),w.createElement(fe,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:n,onChange:o}),w.createElement(fe,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:o}),w.createElement(fe,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:o}),w.createElement(fe,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:o}))},z0=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.colors,s=e.hex,o=e.rgb,a=e.styles,l=a===void 0?{}:a,u=e.className,c=u===void 0?"":u,h=oe($t({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),d=function(p,m){p.hex?si(p.hex)&&n({hex:p.hex,source:"hex"},m):n(p,m)};return w.createElement(Ml,{style:h.Compact,styles:l},w.createElement("div",{style:h.compact,className:"compact-picker "+c},w.createElement("div",null,be(i,function(f){return w.createElement(Kre,{key:f,color:f,active:f.toLowerCase()===s,onClick:d,onSwatchHover:r})}),w.createElement("div",{style:h.clear})),w.createElement(Zre,{hex:s,rgb:o,onChange:d})))};z0.propTypes={colors:I.arrayOf(I.string),styles:I.object};z0.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};Bt(z0);var Qre=function(e){var n=e.hover,r=e.color,i=e.onClick,s=e.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=oe({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:n});return w.createElement("div",{style:a.swatch},w.createElement(Ki,{color:r,onClick:i,onHover:s,focusStyle:o}))};const Jre=B0(Qre);var G0=function(e){var n=e.width,r=e.colors,i=e.onChange,s=e.onSwatchHover,o=e.triangle,a=e.styles,l=a===void 0?{}:a,u=e.className,c=u===void 0?"":u,h=oe($t({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":o==="hide","top-left-triangle":o==="top-left","top-right-triangle":o==="top-right","bottom-left-triangle":o==="bottom-left","bottom-right-triangle":o==="bottom-right"}),d=function(p,m){return i({hex:p,source:"hex"},m)};return w.createElement("div",{style:h.card,className:"github-picker "+c},w.createElement("div",{style:h.triangleShadow}),w.createElement("div",{style:h.triangle}),be(r,function(f){return w.createElement(Jre,{color:f,key:f,onClick:d,onSwatchHover:s})}))};G0.propTypes={width:I.oneOfType([I.string,I.number]),colors:I.arrayOf(I.string),triangle:I.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:I.object};G0.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};Bt(G0);var eie=function(e){var n=e.direction,r=oe({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return w.createElement("div",{style:r.picker})},tie=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V0=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.hsl,o=e.direction,a=e.pointer,l=e.styles,u=l===void 0?{}:l,c=e.className,h=c===void 0?"":c,d=oe($t({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},u)),f=function(m){return i({a:1,h:m.h,l:.5,s:1})};return w.createElement("div",{style:d.picker,className:"hue-picker "+h},w.createElement(Ro,tie({},d.hue,{hsl:s,pointer:a,onChange:f,direction:o})))};V0.propTypes={styles:I.object};V0.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:eie,styles:{}};Bt(V0);var nie=function(e){var n=e.onChange,r=e.hex,i=e.rgb,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,u=oe($t({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},o)),c=function(d,f){d.hex?si(d.hex)&&n({hex:d.hex,source:"hex"},f):(d.r||d.g||d.b)&&n({r:d.r||i.r,g:d.g||i.g,b:d.b||i.b,source:"rgb"},f)};return w.createElement(Ml,{styles:o},w.createElement("div",{style:u.material,className:"material-picker "+l},w.createElement(fe,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"hex",value:r,onChange:c}),w.createElement("div",{style:u.split,className:"flexbox-fix"},w.createElement("div",{style:u.third},w.createElement(fe,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:i.r,onChange:c})),w.createElement("div",{style:u.third},w.createElement(fe,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:i.g,onChange:c})),w.createElement("div",{style:u.third},w.createElement(fe,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:i.b,onChange:c})))))};Bt(nie);var rie=function(e){var n=e.onChange,r=e.rgb,i=e.hsv,s=e.hex,o=oe({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(u,c){u["#"]?si(u["#"])&&n({hex:u["#"],source:"hex"},c):u.r||u.g||u.b?n({r:u.r||r.r,g:u.g||r.g,b:u.b||r.b,source:"rgb"},c):(u.h||u.s||u.v)&&n({h:u.h||i.h,s:u.s||i.s,v:u.v||i.v,source:"hsv"},c)};return w.createElement("div",{style:o.fields},w.createElement(fe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(i.h),onChange:a}),w.createElement(fe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:a}),w.createElement(fe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:a}),w.createElement("div",{style:o.divider}),w.createElement(fe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:a}),w.createElement(fe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:a}),w.createElement(fe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:a}),w.createElement("div",{style:o.divider}),w.createElement(fe,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:s.replace("#",""),onChange:a}),w.createElement("div",{style:o.fieldSymbols},w.createElement("div",{style:o.symbol},"°"),w.createElement("div",{style:o.symbol},"%"),w.createElement("div",{style:o.symbol},"%")))},iie=function(e){var n=e.hsl,r=oe({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return w.createElement("div",{style:r.picker})},sie=function(){var e=oe({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return w.createElement("div",{style:e.pointer},w.createElement("div",{style:e.left},w.createElement("div",{style:e.leftInside})),w.createElement("div",{style:e.right},w.createElement("div",{style:e.rightInside})))},Bw=function(e){var n=e.onClick,r=e.label,i=e.children,s=e.active,o=oe({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:s});return w.createElement("div",{style:o.button,onClick:n},r||i)},oie=function(e){var n=e.rgb,r=e.currentColor,i=oe({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return w.createElement("div",null,w.createElement("div",{style:i.label},"new"),w.createElement("div",{style:i.swatches},w.createElement("div",{style:i.new}),w.createElement("div",{style:i.current})),w.createElement("div",{style:i.label},"current"))},aie=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function lie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uie(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function cie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var W0=function(t){cie(e,t);function e(n){lie(this,e);var r=uie(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:n.hex},r}return aie(e,[{key:"render",value:function(){var r=this.props,i=r.styles,s=i===void 0?{}:i,o=r.className,a=o===void 0?"":o,l=oe($t({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},s));return w.createElement("div",{style:l.picker,className:"photoshop-picker "+a},w.createElement("div",{style:l.head},this.props.header),w.createElement("div",{style:l.body,className:"flexbox-fix"},w.createElement("div",{style:l.saturation},w.createElement(gd,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:iie,onChange:this.props.onChange})),w.createElement("div",{style:l.hue},w.createElement(Ro,{direction:"vertical",hsl:this.props.hsl,pointer:sie,onChange:this.props.onChange})),w.createElement("div",{style:l.controls},w.createElement("div",{style:l.top,className:"flexbox-fix"},w.createElement("div",{style:l.previews},w.createElement(oie,{rgb:this.props.rgb,currentColor:this.state.currentColor})),w.createElement("div",{style:l.actions},w.createElement(Bw,{label:"OK",onClick:this.props.onAccept,active:!0}),w.createElement(Bw,{label:"Cancel",onClick:this.props.onCancel}),w.createElement(rie,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(w.Component);W0.propTypes={header:I.string,styles:I.object};W0.defaultProps={header:"Color Picker",styles:{}};Bt(W0);var hie=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.disableAlpha,a=oe({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),l=function(c,h){c.hex?si(c.hex)&&n({hex:c.hex,source:"hex"},h):c.r||c.g||c.b?n({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,a:r.a,source:"rgb"},h):c.a&&(c.a<0?c.a=0:c.a>100&&(c.a=100),c.a/=100,n({h:i.h,s:i.s,l:i.l,a:c.a,source:"rgb"},h))};return w.createElement("div",{style:a.fields,className:"flexbox-fix"},w.createElement("div",{style:a.double},w.createElement(fe,{style:{input:a.input,label:a.label},label:"hex",value:s.replace("#",""),onChange:l})),w.createElement("div",{style:a.single},w.createElement(fe,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),w.createElement("div",{style:a.single},w.createElement(fe,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),w.createElement("div",{style:a.single},w.createElement(fe,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),w.createElement("div",{style:a.alpha},w.createElement(fe,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},die=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xA=function(e){var n=e.colors,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=oe({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),a=function(u,c){i({hex:u,source:"hex"},c)};return w.createElement("div",{style:o.colors,className:"flexbox-fix"},n.map(function(l){var u=typeof l=="string"?{color:l}:l,c=""+u.color+(u.title||"");return w.createElement("div",{key:c,style:o.swatchWrap},w.createElement(Ki,die({},u,{style:o.swatch,onClick:a,onHover:s,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+u.color}})))}))};xA.propTypes={colors:I.arrayOf(I.oneOfType([I.string,I.shape({color:I.string,title:I.string})])).isRequired};var fie=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X0=function(e){var n=e.width,r=e.rgb,i=e.hex,s=e.hsv,o=e.hsl,a=e.onChange,l=e.onSwatchHover,u=e.disableAlpha,c=e.presetColors,h=e.renderers,d=e.styles,f=d===void 0?{}:d,p=e.className,m=p===void 0?"":p,v=oe($t({default:fie({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},f),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},f),{disableAlpha:u});return w.createElement("div",{style:v.picker,className:"sketch-picker "+m},w.createElement("div",{style:v.saturation},w.createElement(gd,{style:v.Saturation,hsl:o,hsv:s,onChange:a})),w.createElement("div",{style:v.controls,className:"flexbox-fix"},w.createElement("div",{style:v.sliders},w.createElement("div",{style:v.hue},w.createElement(Ro,{style:v.Hue,hsl:o,onChange:a})),w.createElement("div",{style:v.alpha},w.createElement(L0,{style:v.Alpha,rgb:r,hsl:o,renderers:h,onChange:a}))),w.createElement("div",{style:v.color},w.createElement(Io,null),w.createElement("div",{style:v.activeColor}))),w.createElement(hie,{rgb:r,hsl:o,hex:i,onChange:a,disableAlpha:u}),w.createElement(xA,{colors:c,onClick:a,onSwatchHover:l}))};X0.propTypes={disableAlpha:I.bool,width:I.oneOfType([I.string,I.number]),styles:I.object};X0.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};Bt(X0);var ta=function(e){var n=e.hsl,r=e.offset,i=e.onClick,s=i===void 0?function(){}:i,o=e.active,a=e.first,l=e.last,u=oe({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:a,last:l}),c=function(d){return s({h:n.h,s:.5,l:r,source:"hsl"},d)};return w.createElement("div",{style:u.swatch,onClick:c})},pie=function(e){var n=e.onClick,r=e.hsl,i=oe({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),s=.1;return w.createElement("div",{style:i.swatches},w.createElement("div",{style:i.swatch},w.createElement(ta,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<s&&Math.abs(r.s-.5)<s,onClick:n,first:!0})),w.createElement("div",{style:i.swatch},w.createElement(ta,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<s&&Math.abs(r.s-.5)<s,onClick:n})),w.createElement("div",{style:i.swatch},w.createElement(ta,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<s&&Math.abs(r.s-.5)<s,onClick:n})),w.createElement("div",{style:i.swatch},w.createElement(ta,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<s&&Math.abs(r.s-.5)<s,onClick:n})),w.createElement("div",{style:i.swatch},w.createElement(ta,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<s&&Math.abs(r.s-.5)<s,onClick:n,last:!0})),w.createElement("div",{style:i.clear}))},gie=function(){var e=oe({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return w.createElement("div",{style:e.picker})},Y0=function(e){var n=e.hsl,r=e.onChange,i=e.pointer,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,u=oe($t({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},o));return w.createElement("div",{style:u.wrap||{},className:"slider-picker "+l},w.createElement("div",{style:u.hue},w.createElement(Ro,{style:u.Hue,hsl:n,pointer:i,onChange:r})),w.createElement("div",{style:u.swatches},w.createElement(pie,{hsl:n,onClick:r})))};Y0.propTypes={styles:I.object};Y0.defaultProps={pointer:gie,styles:{}};Bt(Y0);var bA={};Object.defineProperty(bA,"__esModule",{value:!0});var Lw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mie=_,Nw=vie(mie);function vie(t){return t&&t.__esModule?t:{default:t}}function yie(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var Pu=24,xie=bA.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?Pu:r,s=t.height,o=s===void 0?Pu:s,a=t.style,l=a===void 0?{}:a,u=yie(t,["fill","width","height","style"]);return Nw.default.createElement("svg",Lw({viewBox:"0 0 "+Pu+" "+Pu,style:Lw({fill:n,width:i,height:o},l)},u),Nw.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},bie=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.first,a=e.last,l=e.active,u=oe({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:N0(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:o,last:a,active:l,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return w.createElement(Ki,{color:n,style:u.color,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n}},w.createElement("div",{style:u.check},w.createElement(xie,null)))},wie=function(e){var n=e.onClick,r=e.onSwatchHover,i=e.group,s=e.active,o=oe({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return w.createElement("div",{style:o.group},be(i,function(a,l){return w.createElement(bie,{key:a,color:a,active:a.toLowerCase()===s,first:l===0,last:l===i.length-1,onClick:n,onSwatchHover:r})}))},q0=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.onSwatchHover,o=e.colors,a=e.hex,l=e.styles,u=l===void 0?{}:l,c=e.className,h=c===void 0?"":c,d=oe($t({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},u)),f=function(m,v){return i({hex:m,source:"hex"},v)};return w.createElement("div",{style:d.picker,className:"swatches-picker "+h},w.createElement(Ml,null,w.createElement("div",{style:d.overflow},w.createElement("div",{style:d.body},be(o,function(p){return w.createElement(wie,{key:p.toString(),group:p,active:a,onClick:f,onSwatchHover:s})}),w.createElement("div",{style:d.clear})))))};q0.propTypes={width:I.oneOfType([I.string,I.number]),height:I.oneOfType([I.string,I.number]),colors:I.arrayOf(I.arrayOf(I.string)),styles:I.object};q0.defaultProps={width:320,height:240,colors:[[ss[900],ss[700],ss[500],ss[300],ss[100]],[os[900],os[700],os[500],os[300],os[100]],[as[900],as[700],as[500],as[300],as[100]],[ls[900],ls[700],ls[500],ls[300],ls[100]],[us[900],us[700],us[500],us[300],us[100]],[cs[900],cs[700],cs[500],cs[300],cs[100]],[hs[900],hs[700],hs[500],hs[300],hs[100]],[ds[900],ds[700],ds[500],ds[300],ds[100]],[fs[900],fs[700],fs[500],fs[300],fs[100]],["#194D33",ma[700],ma[500],ma[300],ma[100]],[ps[900],ps[700],ps[500],ps[300],ps[100]],[gs[900],gs[700],gs[500],gs[300],gs[100]],[ms[900],ms[700],ms[500],ms[300],ms[100]],[vs[900],vs[700],vs[500],vs[300],vs[100]],[ys[900],ys[700],ys[500],ys[300],ys[100]],[xs[900],xs[700],xs[500],xs[300],xs[100]],[bs[900],bs[700],bs[500],bs[300],bs[100]],[ws[900],ws[700],ws[500],ws[300],ws[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};Bt(q0);var K0=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,h=c===void 0?"":c,d=oe($t({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},u),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),f=function(m,v){si(m)&&n({hex:m,source:"hex"},v)};return w.createElement("div",{style:d.card,className:"twitter-picker "+h},w.createElement("div",{style:d.triangleShadow}),w.createElement("div",{style:d.triangle}),w.createElement("div",{style:d.body},be(s,function(p,m){return w.createElement(Ki,{key:m,color:p,hex:p,style:d.swatch,onClick:f,onHover:r,focusStyle:{boxShadow:"0 0 4px "+p}})}),w.createElement("div",{style:d.hash},"#"),w.createElement(fe,{label:null,style:{input:d.input},value:i.replace("#",""),onChange:f}),w.createElement("div",{style:d.clear})))};K0.propTypes={width:I.oneOfType([I.string,I.number]),triangle:I.oneOf(["hide","top-left","top-right"]),colors:I.arrayOf(I.string),styles:I.object};K0.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};Bt(K0);var Z0=function(e){var n=oe({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return w.createElement("div",{style:n.picker})};Z0.propTypes={hsl:I.shape({h:I.number,s:I.number,l:I.number,a:I.number})};Z0.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var Q0=function(e){var n=oe({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return w.createElement("div",{style:n.picker})};Q0.propTypes={hsl:I.shape({h:I.number,s:I.number,l:I.number,a:I.number})};Q0.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var _ie=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.hsv,a=function(f,p){if(f.hex)si(f.hex)&&n({hex:f.hex,source:"hex"},p);else if(f.rgb){var m=f.rgb.split(",");Bf(f.rgb,"rgb")&&n({r:m[0],g:m[1],b:m[2],a:1,source:"rgb"},p)}else if(f.hsv){var v=f.hsv.split(",");Bf(f.hsv,"hsv")&&(v[2]=v[2].replace("%",""),v[1]=v[1].replace("%",""),v[0]=v[0].replace("°",""),v[1]==1?v[1]=.01:v[2]==1&&(v[2]=.01),n({h:Number(v[0]),s:Number(v[1]),v:Number(v[2]),source:"hsv"},p))}else if(f.hsl){var g=f.hsl.split(",");Bf(f.hsl,"hsl")&&(g[2]=g[2].replace("%",""),g[1]=g[1].replace("%",""),g[0]=g[0].replace("°",""),h[1]==1?h[1]=.01:h[2]==1&&(h[2]=.01),n({h:Number(g[0]),s:Number(g[1]),v:Number(g[2]),source:"hsl"},p))}},l=oe({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),u=r.r+", "+r.g+", "+r.b,c=Math.round(i.h)+"°, "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",h=Math.round(o.h)+"°, "+Math.round(o.s*100)+"%, "+Math.round(o.v*100)+"%";return w.createElement("div",{style:l.wrap,className:"flexbox-fix"},w.createElement("div",{style:l.fields},w.createElement("div",{style:l.double},w.createElement(fe,{style:{input:l.input,label:l.label},label:"hex",value:s,onChange:a})),w.createElement("div",{style:l.column},w.createElement("div",{style:l.single},w.createElement(fe,{style:{input:l.input2,label:l.label2},label:"rgb",value:u,onChange:a})),w.createElement("div",{style:l.single},w.createElement(fe,{style:{input:l.input2,label:l.label2},label:"hsv",value:h,onChange:a})),w.createElement("div",{style:l.single},w.createElement(fe,{style:{input:l.input2,label:l.label2},label:"hsl",value:c,onChange:a})))))},J0=function(e){var n=e.width,r=e.onChange,i=e.rgb,s=e.hsl,o=e.hsv,a=e.hex,l=e.header,u=e.styles,c=u===void 0?{}:u,h=e.className,d=h===void 0?"":h,f=oe($t({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},c));return w.createElement("div",{style:f.picker,className:"google-picker "+d},w.createElement("div",{style:f.head},l),w.createElement("div",{style:f.swatch}),w.createElement("div",{style:f.saturation},w.createElement(gd,{hsl:s,hsv:o,pointer:Z0,onChange:r})),w.createElement("div",{style:f.body},w.createElement("div",{style:f.controls,className:"flexbox-fix"},w.createElement("div",{style:f.hue},w.createElement(Ro,{style:f.Hue,hsl:s,radius:"4px",pointer:Q0,onChange:r}))),w.createElement(_ie,{rgb:i,hsl:s,hex:a,hsv:o,onChange:r})))};J0.propTypes={width:I.oneOfType([I.string,I.number]),styles:I.object,header:I.string};J0.defaultProps={width:652,styles:{},header:"Color picker"};Bt(J0);function Eie(t,e){_.useEffect(()=>{function n(r){t.current&&!t.current.contains(r.target)&&e()}return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[t])}function sc({color:t,colorChanged:e}){const[n,r]=_.useState(!1),[i,s]=_.useState(t||"#fff"),o=_.useRef(null);Eie(o,()=>{r(!1)}),_.useEffect(()=>{s(t||"#fff")},[t]);const a=()=>{r(!n)},l=c=>{s(c.hex),e(c.hex)},u=oe({default:{color:{background:i},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return z("div",{className:"color-picker",ref:o,children:[P("div",{className:"swatch",style:u.color,onClick:a}),n?P("div",{style:u.popover,children:P(qre,{color:i,onChange:l,disableAlpha:!0})}):null]})}const Uw=[{label:"passive",value:"passive"},{label:"action",value:"action"},{label:"reaction",value:"reaction"},{label:"movement",value:"movement"}];function jw(t,e){xt(Object.keys(t),n=>{e[n]&&e[n]})}function Sie({tags:t,type:e,tagsChanged:n,typeChanged:r}){const{tagColors:i,setTagColors:s}=_.useContext(bo),[o,a]=_.useState(t||[]),[l,u]=_.useState(e),[c,h]=_.useState(jw(t,i)||{});_.useEffect(()=>{h(jw(t,i)||{})},[i]);const d=(g,y)=>{let x=[...o];x[y]=g,a(x),n(x)},f=()=>{a([...o,"tag"]),n([...o,"tag"])},p=g=>{let y=[...o];y.splice(g,1),a(y),n(y)},m=g=>{u(g.value),r(g.value)},v=(g,y)=>{s({type:"add",color:g,tag:y})};return z("div",{className:"tag-select",children:[P(b0,{classNames:{control:()=>"select",singleValue:()=>"single-value",menu:()=>"select-menu"},options:Uw,onChange:g=>m(g),value:Xe(Uw,{value:l})}),o==null?void 0:o.map((g,y)=>z("span",{className:"stat-tag form-control",style:{borderColor:i[g]},children:[P("div",{className:"tag-color",children:P(sc,{color:i[g],colorChanged:x=>v(x,g)})}),P(eh,{value:g,valueChanged:x=>d(x,y)}),P("button",{onClick:()=>p(y),children:"x"})]})),P("button",{className:"add-tag",onClick:f,children:P(U7,{size:18})})]})}var Cie=function(e){var n=_.useRef(e);return sh(function(){n.current=e}),n},Hw=function(e,n){if(typeof e=="function"){e(n);return}e.current=n},Tie=function(e,n){var r=_.useRef();return _.useCallback(function(i){e.current=i,r.current&&Hw(r.current,null),r.current=n,n&&Hw(n,i)},[n])},zw={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},Gw=function(e){Object.keys(zw).forEach(function(n){e.style.setProperty(n,zw[n],"important")})},Nt=null,Aie=function(e,n){var r=e.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function Pie(t,e,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),Nt||(Nt=document.createElement("textarea"),Nt.setAttribute("tabindex","-1"),Nt.setAttribute("aria-hidden","true"),Gw(Nt)),Nt.parentNode===null&&document.body.appendChild(Nt);var i=t.paddingSize,s=t.borderSize,o=t.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(d){var f=d;Nt.style[f]=o[f]}),Gw(Nt),Nt.value=e;var l=Aie(Nt,t);Nt.value="x";var u=Nt.scrollHeight-i,c=u*n;a==="border-box"&&(c=c+i+s),l=Math.max(c,l);var h=u*r;return a==="border-box"&&(h=h+i+s),l=Math.min(h,l),[l,u]}var Vw=function(){},Oie=function(e,n){return e.reduce(function(r,i){return r[i]=n[i],r},{})},Iie=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],Rie=!!document.documentElement.currentStyle,Mie=function(e){var n=window.getComputedStyle(e);if(n===null)return null;var r=Oie(Iie,n),i=r.boxSizing;if(i==="")return null;Rie&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},kie=function(e){var n=Cie(e);_.useLayoutEffect(function(){var r=function(s){n.current(s)};return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}},[])},Die=function(e,n){var r=e.cacheMeasurements,i=e.maxRows,s=e.minRows,o=e.onChange,a=o===void 0?Vw:o,l=e.onHeightChange,u=l===void 0?Vw:l,c=F2(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),h=c.value!==void 0,d=_.useRef(null),f=Tie(d,n),p=_.useRef(0),m=_.useRef(),v=function(){var x=d.current,b=r&&m.current?m.current:Mie(x);if(b){m.current=b;var S=Pie(b,x.value||x.placeholder||"x",s,i),E=S[0],C=S[1];p.current!==E&&(p.current=E,x.style.setProperty("height",E+"px","important"),u(E,{rowHeight:C}))}},g=function(x){h||v(),a(x)};return _.useLayoutEffect(v),kie(v),_.createElement("textarea",te({},c,{onChange:g,ref:f}))},Fie=_.forwardRef(Die);const wA=Fie;function $ie({ability:t,abilityChanged:e,editingCanceled:n,abilityRemoved:r,abilityCopied:i}){const[s,o]=_.useState(t),a=(p,m)=>{o({...s,[p]:m.target.value})},l=p=>{o({...s,tags:p})},u=p=>{o({...s,type:p})},c=p=>{o({...s,params:p})},h=()=>{Pn(e)&&e({ability:s,id:t.id})},d=()=>{Pn(r)&&r(t.id)},f=()=>{Pn(i)&&i({ability:s,id:t.id})};return z("div",{className:"ability-card",children:[z("div",{className:"name",children:[P("button",{className:"edit",onClick:()=>{Pn(n)&&n()},children:P(X7,{})}),P("div",{className:"form-control",children:P("input",{type:"text",value:s.name,onChange:p=>a("name",p)})})]}),P("div",{className:"form-control id",children:P("input",{type:"text",value:s.id,onChange:p=>a("id",p)})}),z("div",{className:"collapsible-content",children:[P("div",{className:"top",children:z("p",{className:"description form-control",children:[" ",P(wA,{rows:10,value:s.description||"",onChange:p=>a("description",p)})]})}),P("div",{className:"bottom",children:z("div",{className:"tags",children:[P("div",{className:"title",children:"Tags"}),P(Sie,{tags:s.tags,type:s.type,tagsChanged:l,typeChanged:u})]})})]}),P(Q7,{params:s.params,paramsChanged:c}),z("div",{className:"buttons",children:[z("button",{className:"save-button green",onClick:h,children:["Save ",P(I2,{})]}),z("button",{className:"copy-button",onClick:f,children:["Copy ",P(Bg,{})]}),z("button",{className:"delete-button red",onClick:d,children:["Delete ",P(a0,{})]})]})]})}function Bie(t,e){let n=t;return xt(Object.keys(e),r=>{let i=e[r];e[r]?n=n.replace(new RegExp(`{\\b${r}\\b}([^*]+)\\{/\\b${r}\\b}`),"$1"):n=n.replace(new RegExp(`{\\b${r}\\b}([^*]+)\\{/\\b${r}\\b}`),""),n=n.replace(new RegExp("%"+r+"%","g"),i)}),n}function Ww(t,e,n){let r,i=ct(t.params);return i&&n&&xt(Object.keys(i),s=>{n[s]&&(i[s]=i[s]+n[s])}),t.params?r=Bie(t.description,i):Pn(t.description)?r=t.description({}):r=t.description,r}function vd({ability:t,isPlayerAbility:e,modifiers:n,startOpen:r=!0,editable:i=!1,abilityEdited:s,abilityCopied:o,abilityRemoved:a}){var y;const{setTagColors:l}=_.useContext(bo),[u,c]=_.useState(Ww(t,e,n)),[h,d]=_.useState(r),[f,p]=_.useState(!1),m=x=>{Pn(s)&&s({ability:x.ability,id:x.id}),p(!1),l({type:"save"})},v=x=>{o(x)},g=x=>{p(!1),a(x)};return _.useEffect(()=>{c(Ww(t,e,n))},[t,n]),f?P($ie,{ability:t,abilityChanged:m,editingCanceled:()=>p(!1),abilityCopied:v,abilityRemoved:g}):z("div",{className:"ability-card",children:[z("div",{className:"name",children:[i&&P("button",{className:"edit",onClick:()=>p(!f),children:P(O2,{})}),z("button",{className:"card-title",onClick:()=>d(!h),children:[P("div",{children:t.name}),P("div",{children:h?P(P2,{}):P(A2,{})})]})]}),h?z("div",{className:"collapsible-content",children:[P("div",{className:"top",children:P("p",{className:"description",children:u})}),P("div",{className:"bottom",children:z("div",{className:"tags",children:[P(em,{label:t.type,emphasize:!0}),(y=t.tags)==null?void 0:y.map(x=>P(em,{label:x}))]})})]}):""]})}function Lie({node:t,build:e,abilities:n}){var o;const r=be(t==null?void 0:t.providedAbilities,a=>({...Xe(n,{id:a.id}),modifiers:{}}));let i=(o=t==null?void 0:t.colors)==null?void 0:o.selected;w.useEffect(()=>{var a;i=(a=t==null?void 0:t.colors)==null?void 0:a.selected},[t]);const s=t!=null&&t.levels?P("span",{className:"cost",children:El(t==null?void 0:t.levels,a=>{var l;return P("span",{className:"level-points",style:{background:t.acquired>a?i:"#666"},children:(l=t==null?void 0:t.levelCost)!=null&&l.length?t.levelCost[a]:t.levelCost})})}):P("span",{className:"cost",children:P("span",{className:"level-points",style:{background:t!=null&&t.selected?i:"#666"},children:(t==null?void 0:t.cost)>1?t==null?void 0:t.cost:""})});return t?z("div",{className:"info-panel",children:[s,P("div",{className:"title",children:t==null?void 0:t.name}),P("div",{className:"divider",style:{backgroundColor:i}}),t.available?null:z("div",{className:"requires",children:["Requires"," ",z("span",{className:"skill",children:[t.requiredName," ",t.levelsRequired?z("span",{children:["(",t.levelsRequired,")"]}):null]})]}),P("div",{className:"info-description",children:t==null?void 0:t.description}),r.length>0&&z("div",{className:"abilities",children:[P("div",{className:"title",children:"Related Abilities:"}),Object.keys(r).map(a=>{var l,u;return P(vd,{ability:r[a],modifiers:(u=e==null?void 0:e.abilities[(l=r[a])==null?void 0:l.id])==null?void 0:u.modifiers})})]})]}):P("div",{className:"info-panel",children:"Select a Node"})}function Xw({itemSelected:t}){return z("div",{className:"left-menu",children:[P("button",{type:"button",onClick:i=>t(i,"info"),children:P(g7,{})}),P("button",{type:"button",onClick:i=>t(i,"settings"),children:P(D7,{})}),P("button",{type:"button",onClick:i=>t(i,"edit"),children:P(O2,{})})]})}function Nie({children:t,itemSelected:e,expanded:n}){const[r,i]=_.useState(!0),[s,o]=_.useState(null),a=(l,u)=>{(u===s||!r)&&i(!r),o(u),e(u)};return r?z("div",{className:"sidebar-left",children:[P(Xw,{itemSelected:a}),P("div",{className:"sidebar-left-panel",children:t})]}):P("div",{className:"sidebar-left",children:P(Xw,{itemSelected:a})})}function Uie(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,th(t,e)}function Lf(t){return t&&t.stopPropagation&&t.stopPropagation(),t&&t.preventDefault&&t.preventDefault(),!1}function Nf(t){return t==null?[]:Array.isArray(t)?t.slice():[t]}function Ou(t){return t!==null&&t.length===1?t[0]:t.slice()}function Iu(t){Object.keys(t).forEach(e=>{typeof document<"u"&&document.addEventListener(e,t[e],!1)})}function ui(t,e){return fm(function(n,r){let i=n;return i<=r.min&&(i=r.min),i>=r.max&&(i=r.max),i}(t,e),e)}function fm(t,e){const n=(t-e.min)%e.step;let r=t-n;return 2*Math.abs(n)>=e.step&&(r+=n>0?e.step:-e.step),parseFloat(r.toFixed(5))}let pm=function(t){function e(r){var i;(i=t.call(this,r)||this).onKeyUp=()=>{i.onEnd()},i.onMouseUp=()=>{i.onEnd(i.getMouseEventMap())},i.onTouchEnd=()=>{i.onEnd(i.getTouchEventMap())},i.onBlur=()=>{i.setState({index:-1},i.onEnd(i.getKeyDownEventMap()))},i.onMouseMove=a=>{i.setState({pending:!0});const l=i.getMousePosition(a),u=i.getDiffPosition(l[0]),c=i.getValueFromPosition(u);i.move(c)},i.onTouchMove=a=>{if(a.touches.length>1)return;i.setState({pending:!0});const l=i.getTouchPosition(a);if(i.isScrolling===void 0){const h=l[0]-i.startPosition[0],d=l[1]-i.startPosition[1];i.isScrolling=Math.abs(d)>Math.abs(h)}if(i.isScrolling)return void i.setState({index:-1});const u=i.getDiffPosition(l[0]),c=i.getValueFromPosition(u);i.move(c)},i.onKeyDown=a=>{if(!(a.ctrlKey||a.shiftKey||a.altKey||a.metaKey))switch(i.setState({pending:!0}),a.key){case"ArrowLeft":case"ArrowDown":case"Left":case"Down":a.preventDefault(),i.moveDownByStep();break;case"ArrowRight":case"ArrowUp":case"Right":case"Up":a.preventDefault(),i.moveUpByStep();break;case"Home":a.preventDefault(),i.move(i.props.min);break;case"End":a.preventDefault(),i.move(i.props.max);break;case"PageDown":a.preventDefault(),i.moveDownByStep(i.props.pageFn(i.props.step));break;case"PageUp":a.preventDefault(),i.moveUpByStep(i.props.pageFn(i.props.step))}},i.onSliderMouseDown=a=>{if(!i.props.disabled&&a.button!==2){if(i.setState({pending:!0}),!i.props.snapDragDisabled){const l=i.getMousePosition(a);i.forceValueFromPosition(l[0],u=>{i.start(u,l[0]),Iu(i.getMouseEventMap())})}Lf(a)}},i.onSliderClick=a=>{if(!i.props.disabled&&i.props.onSliderClick&&!i.hasMoved){const l=i.getMousePosition(a),u=ui(i.calcValue(i.calcOffsetFromPosition(l[0])),i.props);i.props.onSliderClick(u)}},i.createOnKeyDown=a=>l=>{i.props.disabled||(i.start(a),Iu(i.getKeyDownEventMap()),Lf(l))},i.createOnMouseDown=a=>l=>{if(i.props.disabled||l.button===2)return;i.setState({pending:!0});const u=i.getMousePosition(l);i.start(a,u[0]),Iu(i.getMouseEventMap()),Lf(l)},i.createOnTouchStart=a=>l=>{if(i.props.disabled||l.touches.length>1)return;i.setState({pending:!0});const u=i.getTouchPosition(l);i.startPosition=u,i.isScrolling=void 0,i.start(a,u[0]),Iu(i.getTouchEventMap()),function(c){c.stopPropagation&&c.stopPropagation()}(l)},i.handleResize=()=>{const a=window.setTimeout(()=>{i.pendingResizeTimeouts.shift(),i.resize()},0);i.pendingResizeTimeouts.push(a)},i.renderThumb=(a,l)=>{const u=i.props.thumbClassName+" "+i.props.thumbClassName+"-"+l+" "+(i.state.index===l?i.props.thumbActiveClassName:""),c={ref:d=>{i["thumb"+l]=d},key:i.props.thumbClassName+"-"+l,className:u,style:a,onMouseDown:i.createOnMouseDown(l),onTouchStart:i.createOnTouchStart(l),onFocus:i.createOnKeyDown(l),tabIndex:0,role:"slider","aria-orientation":i.props.orientation,"aria-valuenow":i.state.value[l],"aria-valuemin":i.props.min,"aria-valuemax":i.props.max,"aria-label":Array.isArray(i.props.ariaLabel)?i.props.ariaLabel[l]:i.props.ariaLabel,"aria-labelledby":Array.isArray(i.props.ariaLabelledby)?i.props.ariaLabelledby[l]:i.props.ariaLabelledby},h={index:l,value:Ou(i.state.value),valueNow:i.state.value[l]};return i.props.ariaValuetext&&(c["aria-valuetext"]=typeof i.props.ariaValuetext=="string"?i.props.ariaValuetext:i.props.ariaValuetext(h)),i.props.renderThumb(c,h)},i.renderTrack=(a,l,u)=>{const c={key:i.props.trackClassName+"-"+a,className:i.props.trackClassName+" "+i.props.trackClassName+"-"+a,style:i.buildTrackStyle(l,i.state.upperBound-u)},h={index:a,value:Ou(i.state.value)};return i.props.renderTrack(c,h)};let s=Nf(r.value);s.length||(s=Nf(r.defaultValue)),i.pendingResizeTimeouts=[];const o=[];for(let a=0;a<s.length;a+=1)s[a]=ui(s[a],r),o.push(a);return i.resizeObserver=null,i.resizeElementRef=w.createRef(),i.state={index:-1,upperBound:0,sliderLength:0,value:s,zIndices:o},i}Uie(e,t);var n=e.prototype;return n.componentDidMount=function(){typeof window<"u"&&(this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.resizeElementRef.current),this.resize())},e.getDerivedStateFromProps=function(r,i){const s=Nf(r.value);return s.length?i.pending?null:{value:s.map(o=>ui(o,r))}:null},n.componentDidUpdate=function(){this.state.upperBound===0&&this.resize()},n.componentWillUnmount=function(){this.clearPendingResizeTimeouts(),this.resizeObserver&&this.resizeObserver.disconnect()},n.onEnd=function(r){r&&function(i){Object.keys(i).forEach(s=>{typeof document<"u"&&document.removeEventListener(s,i[s],!1)})}(r),this.hasMoved&&this.fireChangeEvent("onAfterChange"),this.setState({pending:!1}),this.hasMoved=!1},n.getValue=function(){return Ou(this.state.value)},n.getClosestIndex=function(r){let i=Number.MAX_VALUE,s=-1;const{value:o}=this.state,a=o.length;for(let l=0;l<a;l+=1){const u=this.calcOffset(o[l]),c=Math.abs(r-u);c<i&&(i=c,s=l)}return s},n.getMousePosition=function(r){return[r["page"+this.axisKey()],r["page"+this.orthogonalAxisKey()]]},n.getTouchPosition=function(r){const i=r.touches[0];return[i["page"+this.axisKey()],i["page"+this.orthogonalAxisKey()]]},n.getKeyDownEventMap=function(){return{keydown:this.onKeyDown,keyup:this.onKeyUp,focusout:this.onBlur}},n.getMouseEventMap=function(){return{mousemove:this.onMouseMove,mouseup:this.onMouseUp}},n.getTouchEventMap=function(){return{touchmove:this.onTouchMove,touchend:this.onTouchEnd}},n.getValueFromPosition=function(r){const i=r/(this.state.sliderLength-this.state.thumbSize)*(this.props.max-this.props.min);return ui(this.state.startValue+i,this.props)},n.getDiffPosition=function(r){let i=r-this.state.startPosition;return this.props.invert&&(i*=-1),i},n.resize=function(){const{slider:r,thumb0:i}=this;if(!r||!i)return;const s=this.sizeKey(),o=r.getBoundingClientRect(),a=r[s],l=o[this.posMaxKey()],u=o[this.posMinKey()],c=i.getBoundingClientRect()[s.replace("client","").toLowerCase()],h=a-c,d=Math.abs(l-u);this.state.upperBound===h&&this.state.sliderLength===d&&this.state.thumbSize===c||this.setState({upperBound:h,sliderLength:d,thumbSize:c})},n.calcOffset=function(r){const i=this.props.max-this.props.min;return i===0?0:(r-this.props.min)/i*this.state.upperBound},n.calcValue=function(r){return r/this.state.upperBound*(this.props.max-this.props.min)+this.props.min},n.calcOffsetFromPosition=function(r){const{slider:i}=this,s=i.getBoundingClientRect(),o=s[this.posMaxKey()],a=s[this.posMinKey()];let l=r-(window["page"+this.axisKey()+"Offset"]+(this.props.invert?o:a));return this.props.invert&&(l=this.state.sliderLength-l),l-=this.state.thumbSize/2,l},n.forceValueFromPosition=function(r,i){const s=this.calcOffsetFromPosition(r),o=this.getClosestIndex(s),a=ui(this.calcValue(s),this.props),l=this.state.value.slice();l[o]=a;for(let u=0;u<l.length-1;u+=1)if(l[u+1]-l[u]<this.props.minDistance)return;this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0,this.setState({value:l},()=>{i(o),this.fireChangeEvent("onChange")})},n.clearPendingResizeTimeouts=function(){do{const r=this.pendingResizeTimeouts.shift();clearTimeout(r)}while(this.pendingResizeTimeouts.length)},n.start=function(r,i){const s=this["thumb"+r];s&&s.focus();const{zIndices:o}=this.state;o.splice(o.indexOf(r),1),o.push(r),this.setState(a=>({startValue:a.value[r],startPosition:i!==void 0?i:a.startPosition,index:r,zIndices:o}))},n.moveUpByStep=function(r){r===void 0&&(r=this.props.step);const i=ui(this.state.value[this.state.index]+r,this.props);this.move(Math.min(i,this.props.max))},n.moveDownByStep=function(r){r===void 0&&(r=this.props.step);const i=ui(this.state.value[this.state.index]-r,this.props);this.move(Math.max(i,this.props.min))},n.move=function(r){const{index:i,value:s}=this.state,{length:o}=s,a=s[i];if(r===a)return;this.hasMoved||this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0;const{pearling:l,max:u,min:c,minDistance:h}=this.props;if(!l){if(i>0){const d=s[i-1];r<d+h&&(r=d+h)}if(i<o-1){const d=s[i+1];r>d-h&&(r=d-h)}}s[i]=r,l&&o>1&&(r>a?(this.pushSucceeding(s,h,i),function(d,f,p,m){for(let v=0;v<d;v+=1){const g=m-v*p;f[d-1-v]>g&&(f[d-1-v]=g)}}(o,s,h,u)):r<a&&(this.pushPreceding(s,h,i),function(d,f,p,m){for(let v=0;v<d;v+=1){const g=m+v*p;f[v]<g&&(f[v]=g)}}(o,s,h,c))),this.setState({value:s},this.fireChangeEvent.bind(this,"onChange"))},n.pushSucceeding=function(r,i,s){let o,a;for(o=s,a=r[o]+i;r[o+1]!==null&&a>r[o+1];o+=1,a=r[o]+i)r[o+1]=fm(a,this.props)},n.pushPreceding=function(r,i,s){for(let o=s,a=r[o]-i;r[o-1]!==null&&a<r[o-1];o-=1,a=r[o]-i)r[o-1]=fm(a,this.props)},n.axisKey=function(){return this.props.orientation==="vertical"?"Y":"X"},n.orthogonalAxisKey=function(){return this.props.orientation==="vertical"?"X":"Y"},n.posMinKey=function(){return this.props.orientation==="vertical"?this.props.invert?"bottom":"top":this.props.invert?"right":"left"},n.posMaxKey=function(){return this.props.orientation==="vertical"?this.props.invert?"top":"bottom":this.props.invert?"left":"right"},n.sizeKey=function(){return this.props.orientation==="vertical"?"clientHeight":"clientWidth"},n.fireChangeEvent=function(r){this.props[r]&&this.props[r](Ou(this.state.value),this.state.index)},n.buildThumbStyle=function(r,i){const s={position:"absolute",touchAction:"none",willChange:this.state.index>=0?this.posMinKey():void 0,zIndex:this.state.zIndices.indexOf(i)+1};return s[this.posMinKey()]=r+"px",s},n.buildTrackStyle=function(r,i){const s={position:"absolute",willChange:this.state.index>=0?this.posMinKey()+","+this.posMaxKey():void 0};return s[this.posMinKey()]=r,s[this.posMaxKey()]=i,s},n.buildMarkStyle=function(r){var i;return(i={position:"absolute"})[this.posMinKey()]=r,i},n.renderThumbs=function(r){const{length:i}=r,s=[];for(let a=0;a<i;a+=1)s[a]=this.buildThumbStyle(r[a],a);const o=[];for(let a=0;a<i;a+=1)o[a]=this.renderThumb(s[a],a);return o},n.renderTracks=function(r){const i=[],s=r.length-1;i.push(this.renderTrack(0,0,r[0]));for(let o=0;o<s;o+=1)i.push(this.renderTrack(o+1,r[o],r[o+1]));return i.push(this.renderTrack(s+1,r[s],this.state.upperBound)),i},n.renderMarks=function(){let{marks:r}=this.props;const i=this.props.max-this.props.min+1;return typeof r=="boolean"?r=Array.from({length:i}).map((s,o)=>o):typeof r=="number"&&(r=Array.from({length:i}).map((s,o)=>o).filter(s=>s%r==0)),r.map(parseFloat).sort((s,o)=>s-o).map(s=>{const o=this.calcOffset(s),a={key:s,className:this.props.markClassName,style:this.buildMarkStyle(o)};return this.props.renderMark(a)})},n.render=function(){const r=[],{value:i}=this.state,s=i.length;for(let u=0;u<s;u+=1)r[u]=this.calcOffset(i[u],u);const o=this.props.withTracks?this.renderTracks(r):null,a=this.renderThumbs(r),l=this.props.marks?this.renderMarks():null;return w.createElement("div",{ref:u=>{this.slider=u,this.resizeElementRef.current=u},style:{position:"relative"},className:this.props.className+(this.props.disabled?" disabled":""),onMouseDown:this.onSliderMouseDown,onClick:this.onSliderClick},o,a,l)},e}(w.Component);pm.displayName="ReactSlider",pm.defaultProps={min:0,max:100,step:1,pageFn:t=>10*t,minDistance:0,defaultValue:0,orientation:"horizontal",className:"slider",thumbClassName:"thumb",thumbActiveClassName:"active",trackClassName:"track",markClassName:"mark",withTracks:!0,pearling:!1,disabled:!1,snapDragDisabled:!1,invert:!1,marks:[],renderThumb:t=>w.createElement("div",t),renderTrack:t=>w.createElement("div",t),renderMark:t=>w.createElement("span",t)};var Ru=pm;function jie({graphEvents$:t}){const[e,n]=_.useState(50),[r,i]=_.useState(50),[s,o]=_.useState(50),[a,l]=_.useState(50),[u,c]=_.useState({});_.useEffect(()=>{},[u]);const h=v=>{n(v),m()},d=v=>{i(v),m()},f=v=>{o(v),m()},p=v=>{l(v),m()},m=()=>{t.next({event:"forcesUpdated",data:{forces:{f1:e,f2:r,f3:s,f4:a}}})};return z("div",{children:[P("div",{className:"slider",children:P(Ru,{min:0,max:100,className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:h,renderThumb:(v,g)=>P("div",{...v,children:g.valueNow})})}),P("div",{className:"slider",children:P(Ru,{min:0,max:50,defaultValue:[25],className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:d,renderThumb:(v,g)=>P("div",{...v,children:g.valueNow})})}),P("div",{className:"slider",children:P(Ru,{className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:f,renderThumb:(v,g)=>P("div",{...v,children:g.valueNow})})}),P("div",{className:"slider",children:P(Ru,{className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:p,renderThumb:(v,g)=>P("div",{...v,children:g.valueNow})})})]})}function dh({children:t,name:e,startOpen:n}){const[r,i]=_.useState(n),s=o=>{i(!r)};return r?z("div",{className:"accordion open",children:[z("button",{className:"accordion-button",onClick:s,children:[e,P(P2,{})]}),P("div",{className:"container",children:t})]}):P("div",{className:"accordion closed",children:z("button",{className:"accordion-button",onClick:s,children:[e,P(A2,{})]})})}function Hie(t,e){const n=be(t,r=>r.id);return Bn(e,r=>!Bv(n,r.value))}function _A({providedStats:t=[],providedStatsChanged:e,options:n,name:r}){const i=(u,c)=>{const h=ct(t);h[c].id=u.value,e(h)},s=(u,c)=>{const h=ct(t);h[c].modifier=parseInt(u.target.value,10),e(h)},o=(u,c)=>{let h=ct(t);h=Bn(h,(d,f)=>c!==f),e(h)},a=()=>{let u=ct(t);u.push({id:"",modifier:1,set:!1}),e(u)},l=u=>{const c=ct(t);c[u].set=!c[u].set,e(c)};return z("div",{className:"stats-panel",children:[t!=null&&t.length?be(t,(u,c)=>z("div",{className:"stat-edit-line",children:[P("button",{className:"remove",onClick:h=>o(h,c),children:P(R2,{})}),P(b0,{classNames:{control:()=>"select",singleValue:()=>"single-value",menu:()=>"select-menu"},options:Hie(t,n),onChange:h=>i(h,c),value:Xe(n,{value:u.id})}),P("input",{type:"number",value:u==null?void 0:u.modifier,onChange:h=>s(h,c)}),P("button",{onClick:h=>l(c),style:{color:u!=null&&u.set?"#fff":"#222"},children:P(w7,{})})]})):"",P("div",{className:"add-button",children:z("button",{onClick:a,children:["Add ",r,P(Xi,{})]})})]})}const EA=t=>be(t,e=>({value:e.id,label:e.name}));function zie(t,e){const n=Xe(e,{id:t});return n!=null&&n.params?be(Object.keys(n.params),r=>({label:r,value:r})):[]}function Yw(t,e){return Xe(EA(e),{value:t})}function Gie(t,e){const n=be(t,r=>r.id);return Kc(Bn(EA(e),r=>!Bv(n,r.value)),"label")}function Vie(t){let e={};return xt(t,n=>{e[n.id]=n.modifier}),e}function Wie({allAbilities:t,providedAbilities:e,providedAbilitiesChanged:n}){const[r,i]=_.useState(e),[s,o]=_.useState(t);_.useEffect(()=>{o(t)},[t]);const a=(d,f)=>{const p=ct(r);p[f].id=d.value,p[f].modifiers=[],n(p)},l=(d,f)=>{let p=ct(r);p=Bn(p,(m,v)=>f!==v),n(p)},u=()=>{let d=ct(r);d.push({id:"",modifier:1}),n(d)},c=(d,f)=>{const p=ct(r);p[f].modifiers=d,n(p)},h=(d,f)=>{const p=ct(r);p[f].gain=!p[f].gain,n(p)};return _.useEffect(()=>{i(()=>e)},[e]),z("div",{className:"abilities-panel",children:[r.length?be(r,(d,f)=>{var p;return z("div",{className:"stat-edit-line",children:[z("div",{className:"ability-select",children:[P("button",{className:"remove-ability-button",onClick:m=>l(m,f),children:P(R2,{})}),P(b0,{classNames:{control:()=>"select",singleValue:()=>"single-value",menu:()=>"select-menu"},options:Gie(r,s),onChange:m=>a(m,f),defaultValue:Yw(d.id,s),value:Yw(d.id,s)})]}),d.id?z("div",{className:"ability-options",children:[P(dh,{name:"...",startOpen:!1,children:P(vd,{ability:Xe(t,{id:d==null?void 0:d.id}),modifiers:Vie(d.modifiers),isPlayerAbility:!1})}),P("div",{className:"grant",children:z("label",{children:["Grant",P("input",{type:"checkbox",checked:d.gain,onChange:m=>h(m,f)})]})}),(p=Xe(t,{id:d==null?void 0:d.id}))!=null&&p.params?P(_A,{providedStats:d.modifiers,providedStatsChanged:m=>c(m,f),options:zie(d.id,t),name:"Modifier"}):""]}):""]})}):"",P("div",{className:"add-button",children:z("button",{onClick:u,children:["Add Ability",P(Xi,{})]})})]})}function qw(t,e,n){if(e){if(t!=null&&t.length)return t;{const r=[];return El(e,()=>r.push(t||n||1)),r}}else return[n||1]}function Uf(t,e,n){n({levels:t,levelCost:e})}function Xie({levels:t,levelCost:e,cost:n,color:r,levelsChanged:i}){const[s,o]=_.useState(t||1),[a,l]=_.useState(qw(e,t||1,n||1));_.useEffect(()=>{o(t||1),l(qw(e,t,n))},[t,e,n]);const u=d=>{let f=s+1,p=a;p.length&&(p=[...p,1]),Uf(f,p,i)},c=d=>{let f=t,p=e;t>1&&(f=t-1,p.length&&(p=p.slice(0,p.length-1))),Uf(f,p,i)},h=(d,f)=>{let p=ct(a);d.deltaY<0?p[f]+=1:a[f]>1&&(p[f]-=1),Uf(s,p,i)};return z("div",{className:"cost-panel",children:[P("button",{onClick:c,children:P(S7,{})}),El(s,d=>P("span",{onWheel:f=>h(f,d),className:"level-points",style:{background:r},children:a.length?a[d]:a})),P("button",{onClick:u,children:P(Xi,{})})]})}const Mo=_.createContext({});function Yie(){const t=window.localStorage.getItem("dragon-stats");return t?JSON.parse(t):[]}const qie=(t,e)=>{const{index:n,stat:r,stats:i,type:s}=e;let o=ct(t);if(s==="save")try{window.localStorage.setItem("dragon-stats",JSON.stringify(o))}catch{}if(s==="add")return o=[...o,r],o;if(s==="set")return o=i,window.localStorage.setItem("dragon-stats",JSON.stringify(o)),o;if(s==="update")return o[n]=r,o;if(s==="remove"){const a=t.findIndex(u=>u.id===r.id);if(a<0)return t;const l=[...t];return l.splice(a,1),l}return t},Kie=({children:t})=>{const[e,n]=_.useReducer(qie,Yie());return P(Mo.Provider,{value:{stats:e,setStats:n},children:t})};function Zie(t){return be(t,e=>({value:e.id,label:e.name}))}function Qie({node:t={},graphEvents:e,abilities:n}){const{stats:r}=_.useContext(Mo),[i,s]=_.useState(t.id),[o,a]=_.useState(t.name),[l,u]=_.useState(t.description),[c,h]=_.useState(t.levels),[d,f]=_.useState(t.levelCost),[p,m]=_.useState(t.cost),[v,g]=_.useState(t.levelsRequired||0),[y,x]=_.useState(t.providedStats||[]),[b,S]=_.useState(t.providedAbilities||[]),[E,C]=_.useState(n),[A,F]=_.useState(t.colors||{});_.useEffect(()=>{C(n)},[n]);const k=N=>{s(N.target.value)},B=N=>{a(N.target.value)},U=N=>{u(N.target.value)},O=N=>{g(N.target.value)},T=N=>{e.next({event:"nodeAdded",data:{node:{requires:t.id,id:Math.floor(Math.random()*200).toString()}}})},D=N=>{e.next({event:"nodeDeleted",data:{id:i}})},G=N=>{const V={id:i,name:o,description:l,colors:A};c===1?d!=null&&d.length?V.cost=d[0]:V.cost=1:(V.levels=c,V.levelCost=d),v>0&&(V.levelsRequired=v),y.length&&(V.providedStats=y),b.length&&(V.providedAbilities=b),e.next({event:"nodeEdited",data:{id:t.id,node:V}})},$=N=>{x(N)},M=N=>{S(N)},H=N=>{f(N.levelCost),h(N.levels)},R=(N,V)=>{F({...A,[V]:N})};return w.useEffect(()=>{F(t.colors||{}),s(t.id),a(t.name),u(t.description),h(t.levels||1),f(t.levelCost),m(t.cost),g(t.levelsRequired||1),x(t.providedStats||[]),S(t.providedAbilities||[])},[t]),t.id?z("div",{className:"edit-panel",children:[P(Xie,{levels:c,levelCost:d,cost:p,color:A.selected,levelsChanged:H}),P("div",{className:"form-control name",children:P("input",{type:"text",onChange:B,value:o||""})}),P("div",{className:"form-control id",children:P("input",{type:"text",onChange:k,value:i||""})}),z("div",{className:"colors",children:[P("div",{className:"color-item",children:P(sc,{color:A.unavailable,colorChanged:N=>R(N,"unavailable")})}),P("div",{className:"color-item",children:P(sc,{color:A.inactive,colorChanged:N=>R(N,"inactive")})}),P("div",{className:"color-item",children:P(sc,{color:A.selected,colorChanged:N=>R(N,"selected")})})]}),z("div",{className:"requires",children:["Requires"," ",z("span",{className:"skill",children:[t.requiredName," ",P("input",{min:1,type:"number",value:v,onChange:O})]})]}),P("div",{className:"form-control description",children:P(wA,{rows:4,onChange:U,value:l||""})}),P(dh,{name:"Stats",startOpen:!1,children:P(_A,{providedStats:y,providedStatsChanged:$,options:Zie(r),name:"Stat"})}),P(dh,{name:"Abilities",startOpen:!1,children:P(Wie,{allAbilities:E,providedAbilities:b,providedAbilitiesChanged:M})}),z("div",{className:"buttons",children:[z("button",{className:"green",onClick:G,children:[P(I2,{}),"Save Node"]}),z("button",{onClick:D,className:"red",children:[P(a0,{}),"Delete Node"]}),z("button",{onClick:T,children:[P(Xi,{}),"Save and Add Child Node"]})]})]}):P("div",{className:"edit-panel",children:"Select a Node"})}function Jie({build:t,selectedNode:e,graphEvents$:n,abilities:r}){const[i,s]=_.useState(r),[o,a]=_.useState("info"),l=c=>{switch(a(c),c){case"info":n.next({event:"modeChanged",data:{mode:"build"}});break;case"settings":n.next({event:"modeChanged",data:{mode:"build"}});break;case"edit":n.next({event:"modeChanged",data:{mode:"edit"}});break}};return _.useEffect(()=>{s(r)},[r]),z(Nie,{itemSelected:l,expanded:c=>{},children:[o==="info"?P(Lie,{node:e,build:t,abilities:i}):"",o==="settings"?P(jie,{graphEvents$:n}):"",o==="edit"?P(Qie,{node:e,graphEvents:n,abilities:i}):""]})}function Kw({label:t,value:e}){return z("div",{className:"stat-line",children:[z("span",{className:"label",children:[t,": "]}),P("span",{className:"value",children:e})]})}function ese({tags:t,selectedTagsChanged:e}){const[n,r]=_.useState([]),i=s=>{n.includes(s)?r(n.filter(o=>o!==s)):r([...n,s])};return _.useEffect(()=>{e(n)},[n]),t?P("div",{className:"tag-filters",children:t.map(s=>P(em,{label:s,clicked:i,selected:Bv(n,s)},s))}):P("div",{})}function Zw(t){return _8(Bn(t.abilities,e=>!e.replaced&&e.learned),"type")}function tse({dragon:t}){const[e,n]=_.useState({}),[r,i]=_.useState({}),{stats:s}=_.useContext(Mo);_.useEffect(()=>{const a=Zw(t);let l={};xt(Object.keys(a),u=>{let c=[];xt(a[u],h=>{h.tags&&(c=Q8([...c,...h.tags]))}),l[u]=Kc(c)}),n(a),i(l)},[t]);const o=(a,l)=>{let u=Zw(t);a.length&&(u[l]=Bn(u[l],c=>c.tags&&M8(c.tags,a).length)),n(u)};return z("div",{className:"character-sheet",children:[z("div",{className:"stats",children:[P("div",{className:"title",children:"Stats"}),P(Kw,{label:" Skill Points Spent",value:t.pointsInvested}),be(s,(a,l)=>P(Kw,{label:a.name,value:t[a.id]||0}))]}),z("div",{className:"abilities",children:[P("div",{className:"title",children:"Abilities"}),e&&Kc(Object.keys(e)).map(a=>z(dh,{startOpen:!1,name:a,children:[r[a].length?P("div",{className:"filter-panel",children:P(ese,{tags:r[a],selectedTagsChanged:l=>o(l,a)})}):"",P("div",{className:"ability-cards",children:e[a].map(l=>P(vd,{ability:l,isPlayerAbility:!0,modifiers:l.modifiers}))})]}))]})]})}function nse({build:t,abilities:e,nodes:n,importAttempted:r}){const{tagColors:i}=_.useContext(bo),{stats:s}=_.useContext(Mo),[o,a]=_.useState(""),[l,u]=_.useState(""),[c,h]=_.useState({opacity:0}),[d,f]=_.useState({opacity:0});return z("div",{className:"code-panel",children:[z("div",{children:[P("div",{className:"title",children:"Build"}),z("div",{className:"import",children:[P("textarea",{spellCheck:!1,rows:8,onChange:E=>{a(E.target.value)},placeholder:"Paste exported build here"}),z("button",{className:"attached",onClick:E=>{r({type:"build",data:o})},children:["Import Build ",P(ob,{})]})]}),z("div",{className:"export",children:[z("button",{onClick:E=>{navigator.clipboard.writeText(JSON.stringify(t.exportableBuild)),h({opacity:1}),setTimeout(()=>{f({opacity:0})},2e3)},children:["Copy Current Build ",P(Bg,{})]}),P("div",{style:c,children:"Text Copied to Clipboard"})]})]}),z("div",{children:[P("div",{className:"title",children:"Trees/Abilities"}),z("div",{className:"import",children:[P("textarea",{spellCheck:!1,rows:8,onChange:E=>{u(E.target.value)},placeholder:"Paste exported trees and abilities here"}),z("button",{className:"attached",onClick:E=>{r({type:"trees",data:l})},children:["Import Trees/Abilities ",P(ob,{})]})]}),z("div",{className:"export",children:[z("button",{onClick:E=>{const C={abilities:e,nodes:n,tagColors:i,stats:s};navigator.clipboard.writeText(JSON.stringify(C)),f({opacity:1}),setTimeout(()=>{f({opacity:0})},2e3)},children:["Copy Current Trees/Abilities ",P(Bg,{})]}),P("div",{style:d,children:"Text Copied to Clipboard"})]})]}),z("div",{className:"reset",children:[P("div",{className:"title",children:"Reset"}),z("button",{onClick:E=>{r({type:"default"})},children:["Load Defaults",P(O7,{})]}),P("br",{}),z("button",{onClick:E=>{r({type:"reset"})},children:["Reset",P(B7,{})]})]})]})}function Qw({itemSelected:t}){return z("div",{className:"right-menu",children:[P("button",{type:"button",onClick:e=>t("sheet"),children:P(jU,{})}),P("button",{type:"button",onClick:e=>t("code"),children:P(r7,{})}),P("button",{type:"button",onClick:e=>t("list"),children:P(y7,{})}),P("button",{type:"button",onClick:e=>t("stats"),children:P(LU,{})}),P("button",{type:"button",onClick:e=>t("help"),children:P(d7,{})})]})}function rse({children:t,itemSelected:e,title:n}){const[r,i]=_.useState(!1),[s,o]=_.useState(!1),[a,l]=_.useState(null);let u;const c=d=>{(d===a||!r)&&i(!r),l(d),e(d)},h=d=>{o(!s)};return u=s?P(e7,{}):P(ZU,{}),r?z("div",{className:"sidebar-right expanded",children:[z("div",{className:s?"sidebar-right-panel full":"sidebar-right-panel partial",children:[z("div",{onClick:h,className:"sidebar-right-panel-heading",children:[P("button",{className:"expander",children:u}),n]}),P("div",{className:"sidebar-right-panel-content",children:t})]}),P(Qw,{itemSelected:c})]}):P("div",{className:"sidebar-right",children:P(Qw,{itemSelected:c})})}function ise({abilities:t,abilitiesChanged:e}){const[n,r]=_.useState(Kc(t,"name)")),i=l=>{let u=be(n,c=>c.id===l.id?l.ability:c);r(u),e(u)},s=l=>{let u=be(n,c=>c.id===l.id?l.ability:c);u.push({...l.ability,id:`${l.ability.id}-copy`,name:`${l.ability.name} Copy`}),r(u),e(u)},o=l=>{let u=Bn(n,c=>c.id!==l);r(u),e(u)},a=()=>{r([...n,{name:"Name",id:"id",description:"...",tags:[],type:"action"}])};return _.useEffect(()=>{r(N8(t,"name"))},[t]),P("div",{className:"ability-editor",children:z("div",{className:"ability-cards",children:[n.map((l,u)=>P("div",{className:"card-wrapper",children:P(vd,{ability:l,isPlayerAbility:!0,modifiers:l.modifiers,startOpen:!1,editable:!0,abilityEdited:i,abilityCopied:s,abilityRemoved:o},u)})),P("div",{className:"card-wrapper new-button",children:z("button",{onClick:a,children:[P(Xi,{})," New Ability"]})})]})})}function sse(){const{stats:t,setStats:e}=_.useContext(Mo),n=o=>{e({type:"add",stat:{id:"new-stat",name:"New Stat"}})},r=o=>{e({type:"remove",stat:{id:o}})},i=(o,a,l)=>{e({type:"update",index:a,stat:{...t[a],[l]:o}})},s=()=>{e({type:"save"})};return P("div",{className:"stat-editor",children:z("div",{className:"stats",children:[be(t,(o,a)=>z("div",{className:"stat-instance",children:[z("div",{className:"top",children:[P("div",{className:"name",children:P(eh,{blur:s,value:o.name,valueChanged:l=>i(l,a,"name")})}),P("button",{className:"remove-button",onClick:l=>r(o.id),children:P(a0,{})})]}),P("div",{className:"bottom",children:P("div",{className:"id",children:P(eh,{blur:s,value:o.id,valueChanged:l=>i(l,a,"id")})})})]},a)),z("button",{className:"new-button",onClick:n,children:["Add Stat ",P(Xi,{})]})]})})}function ose({build:t,importAttempted:e,abilities:n,nodes:r,abilitiesChanged:i}){const[s,o]=_.useState("info"),[a,l]=_.useState("info");return z(rse,{itemSelected:d=>{switch(o(d),d){case"sheet":l("Character Sheet");break;case"code":l("Import/Export");break;case"help":l("Help");break;case"list":l("Edit Abilities");break;case"stats":l("Edit Stats");break}},title:a,children:[s==="sheet"?P(tse,{dragon:t}):"",s==="code"?P(nse,{build:t,abilities:n,nodes:r,importAttempted:d=>{e(d)}}):"",s==="list"?P(ise,{abilities:n,abilitiesChanged:d=>{i(d)}}):"",s==="help"?P("div",{}):"",s==="stats"?P(sse,{}):""]})}const ase=[{id:"swimming",name:"Swimming",description:"If this unit can move up to %movement% hexes in the water. If the unit's speed is less than %movement% it can move up to its speed.",type:"movement",tags:["aquatic"]},{id:"aquatic-combat",name:"Aquatic Attack",description:"Add +1 to any attack made from the water.",type:"passive",tags:["aquatic"]},{id:"ferry",name:"Ferry",description:"This unit can carry other units on water. It takes 1 action to load an ally (action used during movement). No action required to disembark.",type:"passive",tags:["aquatic","movement"]},{id:"submarine-transportation",name:"Submarine Transportation",description:"This unit can carry other units on water and underwater. It takes 1 action to load an ally (action used during movement). No action required to disembark.",type:"passive",tags:["aquatic","movement"],replaces:"ferry"},{id:"diving",name:"Diving",description:"This unit can swim under water. Gain access to a -1 vertical space in water. Gain +3 to AC from units that are ground or above. You get a -2 dice roll on all attacks on units that are at ground or above.",type:"movement",tags:["aquatic"]},{id:"attack-from-the-deep",name:"Attack from the Deeps",description:"Gain +2 damage on attacks made against other targets in the water that are at ground level.",type:"passive",tags:["aquatic"]}],lse=[{id:"guardian",name:"Guardian",type:"reaction",description:"As a reaction, can intercept %attacks% attack(s) going towards an adjacent ally. You now take that attack - also take 1 damage.",tags:["defense"]},{id:"deflect",name:"Deflect",type:"reaction",description:"Block 1 ranged attack that is made at you. Declare before the attack is rolled. For magic attacks, deflect on a roll of %lowerRange% or higher.",tags:["defense"]},{id:"reactive-armor",name:"Reactive Armor",description:"When an enemy attacks you, gain 1 AC. Lose 1 AC at the start of each turn.",type:"passive",tags:["defense"]},{id:"attentive",name:"Attentive",type:"movement",description:"This unit always musters",tags:["defense"]},{id:"alert",name:"Alert",type:"movement",description:"This unit always musters and can muster 1 adjacent unit (during movement).",replaces:"attentive",tags:["defense"]}],use=[{id:"flying",name:"Flying",description:`This unit can fly. It now can exist on two different battlefield planes. The ground, and the air level 1. It costs 1 hex of movement to move upward but not downward.

    Additionally, you are immune to environmental effects.`,type:"passive",tags:["flying"]},{id:"advanced-flying",name:"Advanced Flying",description:`This unit can fly. It now can exist on three different battlefield planes. The ground, and the air level 1, and air level 2, and air level 3. It costs 1 hex of movement to move upward but not downward.

    Additionally, you are immune to environmental effects.`,type:"passive",tags:["flying"],replaces:"flying"},{id:"death-bomb",name:"Death Bomb",type:"action",description:"This unit can dive bomb and forcefully smash itself into enemy units. This kills this unit. It does 2 damage to a target's HP.",tags:["undead","flying"]},{id:"swarm",name:"Swarm",type:"action",tags:["flying"],description:"Swarm around an adjacent enemy unit, co-existing in their hex, and blocking ranged attacks against targets other than itself. This unit can now move 3 hexes as a reaction to stay with its swarmed unit, any more movement breaks the swarm. In addition it can choose to be hit by ranged attacks that would pass through its hex."},{id:"strafing-run",name:"Strafing Run",type:"passive",tags:["flying"],description:"As part of movement can make a breath attack against up to %targets% target(s) (adjacent to each) that you fly over in a straight line. This costs 1 breath attack use and does half breath damage (but full effect). Costs 1 movement to initiate for each targeted hex."},{id:"dive-bomb",name:"Dive Bomb",type:"passive",tags:["flying"],description:"When this unit moves from a higher elevation to a lower elevation it gains +1 damage for each air level it decends through for its next attack."},{id:"aerial-combat",name:"Aerial Combat",type:"passive",description:"Gains +1 on attacks made against flying units.",tags:["flying"]},{id:"aerial-evasion",name:"Aerial Evasion",type:"passive",description:"Gains +1 to AC while in the air.",tags:["flying","defense"]}],cse=[{id:"smite",name:"Smite",description:`When an attack hits (does damage to HP), you may spend 1 spell slot to make that attack do +%dmg%
      damage`,type:"bonus action",tags:["holy"],params:{dmg:3}},{id:"guiding-bolt",name:"Guiding Bolt",description:"You hit an enemy with a blast of light, dealing nonabsorbable damage. Next round, allies have +%roll% on all attacks/cantrip strikes against this target.",type:"action",tags:["holy","piercing"],params:{roll:1}},{id:"death-ward",name:"Death Ward",description:"Place a ward against death on a unit. If that unit is reduced to 0 HP it instead goes to 2 HP. When this happens the spell is used up and you lose concentration on it.",type:"action",tags:["concentration","holy"]},{id:"restoration",name:"Restoration",description:"Heal a unit 3 HP within spell range.",type:"action",tags:["holy"]},{id:"turn-undead",name:"Turn Undead",description:"Deal %dmg% damage to adjacent undead units and force them on their turn to move at least %range% hex away from you and get no closer for %rounds% round.",type:"action",tags:["holy"],params:{dmg:1,range:1,rounds:1}},{id:"bless",name:"Bless",description:"Buff up an ally within range, granting them +1 on their first attack/cantrip strike of their turn.",type:"action",tags:["holy"]},{id:"spirit-guardians",name:"Spirit Guardians",description:"Call upon spiritual guardians to protect you. You gain %ac% AC and adjacent enemies take %dmg% unabsorbable damage at the start of your turn.",type:"action",tags:["concentration","holy","piercing"],params:{dmg:1,ac:1}}],hse=[{id:"dash",name:"Dash",type:"action",description:"Move %movement% hexes."},{id:"dash-expert",name:"Dash Expert",type:"passive",description:"Once per turn, you can replace any one of your attacks with movement up to your speed.",tags:["movement"]},{id:"charge",name:"Charge",type:"movement",description:`If this unit moves 4 hexes in a straight line before becoming adjacent to an enemy they automatically do +%dmg% damage on first melee attack. The movement for the rest of the turn becomes 0. 
        {breakthrough}
          If after a charge, this unit still has remaining movement, it can use that movement to continue on its charge-line through enemy units.
        {/breakthrough}`,params:{dmg:1,breakthrough:0}}],dse=[{id:"knit-flesh",name:"Knit Flesh",description:"Restore %hp% HP to an adjacent undead unit",type:"action"},{id:"greater-knitting",name:"Greater Knitting",description:"Restore %hp% HP to all adjacent undead units",type:"action",replaces:"knit-flesh"},{id:"mass-knitting",name:"Mass Knitting",description:"Restore %hp% HP to all undead units within 2 hexes (100m area)",type:"action",replaces:"greater-knitting"}],fse=[...cse,...lse,...dse,...use,...hse,...ase,{id:"defend",name:"Defend",description:"Idk, ask Ed",type:"action"},{id:"basic-attack",name:"Basic Attack",description:"You make 1 melee attack against an adjacent enemy. Roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.",type:"action",params:{dmg:0}},{id:"multi-attack",name:"Multi Attack",description:`You make 1 melee attack against an adjacent enemy.
      
      First Attack: 1d6{dmg1}+%dmg1%{/dmg1}  
      Second Attack: 1d6{dmg2}+%dmg2%{/dmg2} `,type:"action",replaces:"basic-attack",params:{dmg1:0,dmg2:0}},{id:"spellcasting",name:"Spellcasting",description:`You can now cast spells and cantrips. Casting spells and cantrips take action to cast and require 1 spell slot of the coresponding school of magic. 
    Cantrips barrage does not cost a spell slot. 
    
    Range: %range%
    Contentration Bonus: %concentration%`,type:"passive",tags:["magic"],params:{range:1,concentration:1}},{id:"cantrip-barrage",name:"Cantrip Barrage",description:"Deal 1d6 damage to an enemy.",type:"action",tags:["magic"]},{id:"versatile",name:"Versatile",description:"You can choose to take actions prior to movement.",type:"passive"},{id:"extra-versatile",name:"Extra Versatile",description:"You can choose to take actions before or after each unit of movement.",type:"passive",replaces:"versatile"}];function pse(){const t=localStorage.getItem("dragon-build");let e;if(t)try{e=JSON.parse(t)}catch(n){console.log(n)}return e||{}}function gse(){const t=localStorage.getItem("dragon-nodes");let e;if(t)try{e=JSON.parse(t)}catch(n){console.log(n)}return e||{}}function mse(){const t=localStorage.getItem("dragon-abilities");let e;if(t)try{e=JSON.parse(t)}catch(n){console.log(n)}return e||{}}const jf=new Jc;function vse(t){localStorage.setItem("dragon-build",JSON.stringify(t))}function yse(t){localStorage.setItem("dragon-nodes",JSON.stringify(t))}function xse(t){localStorage.setItem("dragon-abilities",JSON.stringify(t))}function bse(){const{setTagColors:t}=_.useContext(bo),{setStats:e}=_.useContext(Mo),[n,r]=_.useState({}),[i,s]=_.useState(()=>gse()),[o,a]=_.useState(mse()),l=_.useRef(o),[u,c]=_.useState(()=>pse()),[h,d]=_.useState(sb(i,o));_.useEffect(()=>{vse(h.exportableBuild)},[h]),_.useEffect(()=>{yse(i)},[i]),_.useEffect(()=>{xse(o)},[o]),_.useEffect(()=>{jf.subscribe({next:g=>{g.event==="nodesChanged"&&s(g.data.nodes)}})},[]);const f=g=>{const y=Bn(g.nodes,x=>x.selected||x.acquired);d(x=>sb(y,l.current))},p=g=>{if(g.type==="build")JSON.parse(g.data)&&c(JSON.parse(g.data));else if(g.type==="trees"){const y=JSON.parse(g.data);c({}),y&&(y.nodes&&s(y.nodes),y.abilities&&a(y.abilities),y.tagColors&&t({type:"set",colors:y.tagColors}),y.stats&&e({type:"set",stats:y.stats}))}else g.type==="reset"?(s([{id:"start here",name:"Start Here",colors:{}}]),a([]),c({})):g.type==="default"&&(s(OU),a(fse),c({}))},m=g=>{r(g.node)},v=g=>{a(()=>[...g]),l.current=[...g]};return z("div",{className:"App",children:[z("div",{className:"appLeft",children:[P(Jie,{abilities:o,build:h,selectedNode:n,graphEvents$:jf}),P(IU,{pointsSpent:h.pointsInvested})]}),P("div",{className:"appRight",children:P(ose,{abilities:o,build:h,nodes:i,importAttempted:p,abilitiesChanged:v})}),P("div",{className:"skill-panel",children:P(bU,{trees:i,buildData:u,nodeSelectionUpdated:g=>f(g),infoUpdated:m,graphEvents:jf})})]})}function wse(){return P(Kie,{children:P(q7,{children:P(bse,{})})})}Hf.createRoot(document.getElementById("root")).render(P(wse,{}))});export default _se();
