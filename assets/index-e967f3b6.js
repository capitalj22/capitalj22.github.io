var uO=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Lue=uO((Zt,Qt)=>{function cO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Di=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hO(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hc={},dO={get exports(){return Hc},set exports(t){Hc=t}},Xh={},_={},fO={get exports(){return _},set exports(t){_=t}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zl=Symbol.for("react.element"),pO=Symbol.for("react.portal"),mO=Symbol.for("react.fragment"),gO=Symbol.for("react.strict_mode"),vO=Symbol.for("react.profiler"),yO=Symbol.for("react.provider"),bO=Symbol.for("react.context"),xO=Symbol.for("react.forward_ref"),wO=Symbol.for("react.suspense"),_O=Symbol.for("react.memo"),EO=Symbol.for("react.lazy"),s1=Symbol.iterator;function SO(t){return t===null||typeof t!="object"?null:(t=s1&&t[s1]||t["@@iterator"],typeof t=="function"?t:null)}var wE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_E=Object.assign,EE={};function Ho(t,e,n){this.props=t,this.context=e,this.refs=EE,this.updater=n||wE}Ho.prototype.isReactComponent={};Ho.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ho.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function SE(){}SE.prototype=Ho.prototype;function a0(t,e,n){this.props=t,this.context=e,this.refs=EE,this.updater=n||wE}var l0=a0.prototype=new SE;l0.constructor=a0;_E(l0,Ho.prototype);l0.isPureReactComponent=!0;var o1=Array.isArray,CE=Object.prototype.hasOwnProperty,u0={current:null},TE={key:!0,ref:!0,__self:!0,__source:!0};function AE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)CE.call(e,r)&&!TE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:zl,type:t,key:s,ref:o,props:i,_owner:u0.current}}function CO(t,e){return{$$typeof:zl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function c0(t){return typeof t=="object"&&t!==null&&t.$$typeof===zl}function TO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var a1=/\/+/g;function sf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?TO(""+t.key):e.toString(36)}function pc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case zl:case pO:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+sf(o,0):r,o1(i)?(n="",t!=null&&(n=t.replace(a1,"$&/")+"/"),pc(i,e,n,"",function(u){return u})):i!=null&&(c0(i)&&(i=CO(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(a1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",o1(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+sf(s,a);o+=pc(s,e,n,l,i)}else if(l=SO(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+sf(s,a++),o+=pc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function mu(t,e,n){if(t==null)return t;var r=[],i=0;return pc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function AO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ot={current:null},mc={transition:null},PO={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:mc,ReactCurrentOwner:u0};fe.Children={map:mu,forEach:function(t,e,n){mu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return mu(t,function(){e++}),e},toArray:function(t){return mu(t,function(e){return e})||[]},only:function(t){if(!c0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fe.Component=Ho;fe.Fragment=mO;fe.Profiler=vO;fe.PureComponent=a0;fe.StrictMode=gO;fe.Suspense=wO;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PO;fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_E({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=u0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)CE.call(e,l)&&!TE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:zl,type:t.type,key:i,ref:s,props:r,_owner:o}};fe.createContext=function(t){return t={$$typeof:bO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:yO,_context:t},t.Consumer=t};fe.createElement=AE;fe.createFactory=function(t){var e=AE.bind(null,t);return e.type=t,e};fe.createRef=function(){return{current:null}};fe.forwardRef=function(t){return{$$typeof:xO,render:t}};fe.isValidElement=c0;fe.lazy=function(t){return{$$typeof:EO,_payload:{_status:-1,_result:t},_init:AO}};fe.memo=function(t,e){return{$$typeof:_O,type:t,compare:e===void 0?null:e}};fe.startTransition=function(t){var e=mc.transition;mc.transition={};try{t()}finally{mc.transition=e}};fe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};fe.useCallback=function(t,e){return Ot.current.useCallback(t,e)};fe.useContext=function(t){return Ot.current.useContext(t)};fe.useDebugValue=function(){};fe.useDeferredValue=function(t){return Ot.current.useDeferredValue(t)};fe.useEffect=function(t,e){return Ot.current.useEffect(t,e)};fe.useId=function(){return Ot.current.useId()};fe.useImperativeHandle=function(t,e,n){return Ot.current.useImperativeHandle(t,e,n)};fe.useInsertionEffect=function(t,e){return Ot.current.useInsertionEffect(t,e)};fe.useLayoutEffect=function(t,e){return Ot.current.useLayoutEffect(t,e)};fe.useMemo=function(t,e){return Ot.current.useMemo(t,e)};fe.useReducer=function(t,e,n){return Ot.current.useReducer(t,e,n)};fe.useRef=function(t){return Ot.current.useRef(t)};fe.useState=function(t){return Ot.current.useState(t)};fe.useSyncExternalStore=function(t,e,n){return Ot.current.useSyncExternalStore(t,e,n)};fe.useTransition=function(){return Ot.current.useTransition()};fe.version="18.2.0";(function(t){t.exports=fe})(fO);const w=hO(_),l1=cO({__proto__:null,default:w},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OO=_,RO=Symbol.for("react.element"),IO=Symbol.for("react.fragment"),kO=Object.prototype.hasOwnProperty,MO=OO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,DO={key:!0,ref:!0,__self:!0,__source:!0};function PE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)kO.call(e,r)&&!DO.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:RO,type:t,key:s,ref:o,props:i,_owner:MO.current}}Xh.Fragment=IO;Xh.jsx=PE;Xh.jsxs=PE;(function(t){t.exports=Xh})(dO);const S=Hc.jsx,U=Hc.jsxs;var Op={},sl={},FO={get exports(){return sl},set exports(t){sl=t}},an={},Rp={},$O={get exports(){return Rp},set exports(t){Rp=t}},OE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,B){var I=D.length;D.push(B);e:for(;0<I;){var H=I-1>>>1,X=D[H];if(0<i(X,B))D[H]=B,D[I]=X,I=H;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var B=D[0],I=D.pop();if(I!==B){D[0]=I;e:for(var H=0,X=D.length,ie=X>>>1;H<ie;){var oe=2*(H+1)-1,de=D[oe],ue=oe+1,me=D[ue];if(0>i(de,I))ue<X&&0>i(me,de)?(D[H]=me,D[ue]=I,H=ue):(D[H]=de,D[oe]=I,H=oe);else if(ue<X&&0>i(me,I))D[H]=me,D[ue]=I,H=ue;else break e}}return B}function i(D,B){var I=D.sortIndex-B.sortIndex;return I!==0?I:D.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,p=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(D){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=D)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function x(D){if(m=!1,b(D),!p)if(n(l)!==null)p=!0,G(E);else{var B=n(u);B!==null&&N(x,B.startTime-D)}}function E(D,B){p=!1,m&&(m=!1,v(A),A=-1),f=!0;var I=d;try{for(b(B),h=n(l);h!==null&&(!(h.expirationTime>B)||D&&!$());){var H=h.callback;if(typeof H=="function"){h.callback=null,d=h.priorityLevel;var X=H(h.expirationTime<=B);B=t.unstable_now(),typeof X=="function"?h.callback=X:h===n(l)&&r(l),b(B)}else r(l);h=n(l)}if(h!==null)var ie=!0;else{var oe=n(u);oe!==null&&N(x,oe.startTime-B),ie=!1}return ie}finally{h=null,d=I,f=!1}}var T=!1,C=null,A=-1,k=5,M=-1;function $(){return!(t.unstable_now()-M<k)}function j(){if(C!==null){var D=t.unstable_now();M=D;var B=!0;try{B=C(!0,D)}finally{B?O():(T=!1,C=null)}}else T=!1}var O;if(typeof y=="function")O=function(){y(j)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,F=P.port2;P.port1.onmessage=j,O=function(){F.postMessage(null)}}else O=function(){g(j,0)};function G(D){C=D,T||(T=!0,O())}function N(D,B){A=g(function(){D(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,G(E))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(d){case 1:case 2:case 3:var B=3;break;default:B=d}var I=d;d=B;try{return D()}finally{d=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,B){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var I=d;d=D;try{return B()}finally{d=I}},t.unstable_scheduleCallback=function(D,B,I){var H=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?H+I:H):I=H,D){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=I+X,D={id:c++,callback:B,priorityLevel:D,startTime:I,expirationTime:X,sortIndex:-1},I>H?(D.sortIndex=I,e(u,D),n(l)===null&&D===n(u)&&(m?(v(A),A=-1):m=!0,N(x,I-H))):(D.sortIndex=X,e(l,D),p||f||(p=!0,G(E))),D},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(D){var B=d;return function(){var I=d;d=B;try{return D.apply(this,arguments)}finally{d=I}}}})(OE);(function(t){t.exports=OE})($O);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RE=_,rn=Rp;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var IE=new Set,ol={};function ss(t,e){So(t,e),So(t+"Capture",e)}function So(t,e){for(ol[t]=e,t=0;t<e.length;t++)IE.add(e[t])}var Or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ip=Object.prototype.hasOwnProperty,BO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u1={},c1={};function NO(t){return Ip.call(c1,t)?!0:Ip.call(u1,t)?!1:BO.test(t)?c1[t]=!0:(u1[t]=!0,!1)}function LO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function UO(t,e,n,r){if(e===null||typeof e>"u"||LO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bt[t]=new Rt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];bt[e]=new Rt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bt[t]=new Rt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bt[t]=new Rt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bt[t]=new Rt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bt[t]=new Rt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bt[t]=new Rt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bt[t]=new Rt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bt[t]=new Rt(t,5,!1,t.toLowerCase(),null,!1,!1)});var h0=/[\-:]([a-z])/g;function d0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(h0,d0);bt[e]=new Rt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(h0,d0);bt[e]=new Rt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(h0,d0);bt[e]=new Rt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bt[t]=new Rt(t,1,!1,t.toLowerCase(),null,!1,!1)});bt.xlinkHref=new Rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bt[t]=new Rt(t,1,!1,t.toLowerCase(),null,!0,!0)});function f0(t,e,n,r){var i=bt.hasOwnProperty(e)?bt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(UO(e,n,i,r)&&(n=null),r||i===null?NO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Dr=RE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gu=Symbol.for("react.element"),Ws=Symbol.for("react.portal"),Vs=Symbol.for("react.fragment"),p0=Symbol.for("react.strict_mode"),kp=Symbol.for("react.profiler"),kE=Symbol.for("react.provider"),ME=Symbol.for("react.context"),m0=Symbol.for("react.forward_ref"),Mp=Symbol.for("react.suspense"),Dp=Symbol.for("react.suspense_list"),g0=Symbol.for("react.memo"),Gr=Symbol.for("react.lazy"),DE=Symbol.for("react.offscreen"),h1=Symbol.iterator;function ua(t){return t===null||typeof t!="object"?null:(t=h1&&t[h1]||t["@@iterator"],typeof t=="function"?t:null)}var ze=Object.assign,of;function Ma(t){if(of===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);of=e&&e[1]||""}return`
`+of+t}var af=!1;function lf(t,e){if(!t||af)return"";af=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{af=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ma(t):""}function jO(t){switch(t.tag){case 5:return Ma(t.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return t=lf(t.type,!1),t;case 11:return t=lf(t.type.render,!1),t;case 1:return t=lf(t.type,!0),t;default:return""}}function Fp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vs:return"Fragment";case Ws:return"Portal";case kp:return"Profiler";case p0:return"StrictMode";case Mp:return"Suspense";case Dp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ME:return(t.displayName||"Context")+".Consumer";case kE:return(t._context.displayName||"Context")+".Provider";case m0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case g0:return e=t.displayName||null,e!==null?e:Fp(t.type)||"Memo";case Gr:e=t._payload,t=t._init;try{return Fp(t(e))}catch{}}return null}function zO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fp(e);case 8:return e===p0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ci(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function FE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function HO(t){var e=FE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vu(t){t._valueTracker||(t._valueTracker=HO(t))}function $E(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=FE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Gc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $p(t,e){var n=e.checked;return ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function d1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ci(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function BE(t,e){e=e.checked,e!=null&&f0(t,"checked",e,!1)}function Bp(t,e){BE(t,e);var n=ci(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Np(t,e.type,n):e.hasOwnProperty("defaultValue")&&Np(t,e.type,ci(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function f1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Np(t,e,n){(e!=="number"||Gc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Da=Array.isArray;function oo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ci(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Lp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function p1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Da(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ci(n)}}function NE(t,e){var n=ci(e.value),r=ci(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function m1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function LE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Up(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?LE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yu,UE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yu=yu||document.createElement("div"),yu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function al(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ya={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GO=["Webkit","ms","Moz","O"];Object.keys(Ya).forEach(function(t){GO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ya[e]=Ya[t]})});function jE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ya.hasOwnProperty(t)&&Ya[t]?(""+e).trim():e+"px"}function zE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=jE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var WO=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jp(t,e){if(e){if(WO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function zp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hp=null;function v0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gp=null,ao=null,lo=null;function g1(t){if(t=Wl(t)){if(typeof Gp!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Qh(e),Gp(t.stateNode,t.type,e))}}function HE(t){ao?lo?lo.push(t):lo=[t]:ao=t}function GE(){if(ao){var t=ao,e=lo;if(lo=ao=null,g1(t),e)for(t=0;t<e.length;t++)g1(e[t])}}function WE(t,e){return t(e)}function VE(){}var uf=!1;function XE(t,e,n){if(uf)return t(e,n);uf=!0;try{return WE(t,e,n)}finally{uf=!1,(ao!==null||lo!==null)&&(VE(),GE())}}function ll(t,e){var n=t.stateNode;if(n===null)return null;var r=Qh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Wp=!1;if(Or)try{var ca={};Object.defineProperty(ca,"passive",{get:function(){Wp=!0}}),window.addEventListener("test",ca,ca),window.removeEventListener("test",ca,ca)}catch{Wp=!1}function VO(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var qa=!1,Wc=null,Vc=!1,Vp=null,XO={onError:function(t){qa=!0,Wc=t}};function YO(t,e,n,r,i,s,o,a,l){qa=!1,Wc=null,VO.apply(XO,arguments)}function qO(t,e,n,r,i,s,o,a,l){if(YO.apply(this,arguments),qa){if(qa){var u=Wc;qa=!1,Wc=null}else throw Error(z(198));Vc||(Vc=!0,Vp=u)}}function os(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function YE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function v1(t){if(os(t)!==t)throw Error(z(188))}function KO(t){var e=t.alternate;if(!e){if(e=os(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return v1(i),t;if(s===r)return v1(i),e;s=s.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function qE(t){return t=KO(t),t!==null?KE(t):null}function KE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=KE(t);if(e!==null)return e;t=t.sibling}return null}var ZE=rn.unstable_scheduleCallback,y1=rn.unstable_cancelCallback,ZO=rn.unstable_shouldYield,QO=rn.unstable_requestPaint,Je=rn.unstable_now,JO=rn.unstable_getCurrentPriorityLevel,y0=rn.unstable_ImmediatePriority,QE=rn.unstable_UserBlockingPriority,Xc=rn.unstable_NormalPriority,eR=rn.unstable_LowPriority,JE=rn.unstable_IdlePriority,Yh=null,ar=null;function tR(t){if(ar&&typeof ar.onCommitFiberRoot=="function")try{ar.onCommitFiberRoot(Yh,t,void 0,(t.current.flags&128)===128)}catch{}}var Ln=Math.clz32?Math.clz32:iR,nR=Math.log,rR=Math.LN2;function iR(t){return t>>>=0,t===0?32:31-(nR(t)/rR|0)|0}var bu=64,xu=4194304;function Fa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Yc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Fa(a):(s&=o,s!==0&&(r=Fa(s)))}else o=n&~i,o!==0?r=Fa(o):s!==0&&(r=Fa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ln(e),i=1<<n,r|=t[n],e&=~i;return r}function sR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ln(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=sR(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Xp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function eS(){var t=bu;return bu<<=1,!(bu&4194240)&&(bu=64),t}function cf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Hl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ln(e),t[e]=n}function aR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ln(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function b0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ln(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var _e=0;function tS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var nS,x0,rS,iS,sS,Yp=!1,wu=[],Jr=null,ei=null,ti=null,ul=new Map,cl=new Map,Xr=[],lR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function b1(t,e){switch(t){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":ul.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(e.pointerId)}}function ha(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Wl(e),e!==null&&x0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function uR(t,e,n,r,i){switch(e){case"focusin":return Jr=ha(Jr,t,e,n,r,i),!0;case"dragenter":return ei=ha(ei,t,e,n,r,i),!0;case"mouseover":return ti=ha(ti,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ul.set(s,ha(ul.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,cl.set(s,ha(cl.get(s)||null,t,e,n,r,i)),!0}return!1}function oS(t){var e=Fi(t.target);if(e!==null){var n=os(e);if(n!==null){if(e=n.tag,e===13){if(e=YE(n),e!==null){t.blockedOn=e,sS(t.priority,function(){rS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=qp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Hp=r,n.target.dispatchEvent(r),Hp=null}else return e=Wl(n),e!==null&&x0(e),t.blockedOn=n,!1;e.shift()}return!0}function x1(t,e,n){gc(t)&&n.delete(e)}function cR(){Yp=!1,Jr!==null&&gc(Jr)&&(Jr=null),ei!==null&&gc(ei)&&(ei=null),ti!==null&&gc(ti)&&(ti=null),ul.forEach(x1),cl.forEach(x1)}function da(t,e){t.blockedOn===e&&(t.blockedOn=null,Yp||(Yp=!0,rn.unstable_scheduleCallback(rn.unstable_NormalPriority,cR)))}function hl(t){function e(i){return da(i,t)}if(0<wu.length){da(wu[0],t);for(var n=1;n<wu.length;n++){var r=wu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Jr!==null&&da(Jr,t),ei!==null&&da(ei,t),ti!==null&&da(ti,t),ul.forEach(e),cl.forEach(e),n=0;n<Xr.length;n++)r=Xr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Xr.length&&(n=Xr[0],n.blockedOn===null);)oS(n),n.blockedOn===null&&Xr.shift()}var uo=Dr.ReactCurrentBatchConfig,qc=!0;function hR(t,e,n,r){var i=_e,s=uo.transition;uo.transition=null;try{_e=1,w0(t,e,n,r)}finally{_e=i,uo.transition=s}}function dR(t,e,n,r){var i=_e,s=uo.transition;uo.transition=null;try{_e=4,w0(t,e,n,r)}finally{_e=i,uo.transition=s}}function w0(t,e,n,r){if(qc){var i=qp(t,e,n,r);if(i===null)xf(t,e,r,Kc,n),b1(t,r);else if(uR(i,t,e,n,r))r.stopPropagation();else if(b1(t,r),e&4&&-1<lR.indexOf(t)){for(;i!==null;){var s=Wl(i);if(s!==null&&nS(s),s=qp(t,e,n,r),s===null&&xf(t,e,r,Kc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else xf(t,e,r,null,n)}}var Kc=null;function qp(t,e,n,r){if(Kc=null,t=v0(r),t=Fi(t),t!==null)if(e=os(t),e===null)t=null;else if(n=e.tag,n===13){if(t=YE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Kc=t,null}function aS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JO()){case y0:return 1;case QE:return 4;case Xc:case eR:return 16;case JE:return 536870912;default:return 16}default:return 16}}var qr=null,_0=null,vc=null;function lS(){if(vc)return vc;var t,e=_0,n=e.length,r,i="value"in qr?qr.value:qr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return vc=i.slice(t,1<r?1-r:void 0)}function yc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _u(){return!0}function w1(){return!1}function ln(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?_u:w1,this.isPropagationStopped=w1,this}return ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_u)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_u)},persist:function(){},isPersistent:_u}),e}var Go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},E0=ln(Go),Gl=ze({},Go,{view:0,detail:0}),fR=ln(Gl),hf,df,fa,qh=ze({},Gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:S0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fa&&(fa&&t.type==="mousemove"?(hf=t.screenX-fa.screenX,df=t.screenY-fa.screenY):df=hf=0,fa=t),hf)},movementY:function(t){return"movementY"in t?t.movementY:df}}),_1=ln(qh),pR=ze({},qh,{dataTransfer:0}),mR=ln(pR),gR=ze({},Gl,{relatedTarget:0}),ff=ln(gR),vR=ze({},Go,{animationName:0,elapsedTime:0,pseudoElement:0}),yR=ln(vR),bR=ze({},Go,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xR=ln(bR),wR=ze({},Go,{data:0}),E1=ln(wR),_R={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ER={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=SR[t])?!!e[t]:!1}function S0(){return CR}var TR=ze({},Gl,{key:function(t){if(t.key){var e=_R[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ER[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:S0,charCode:function(t){return t.type==="keypress"?yc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),AR=ln(TR),PR=ze({},qh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S1=ln(PR),OR=ze({},Gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:S0}),RR=ln(OR),IR=ze({},Go,{propertyName:0,elapsedTime:0,pseudoElement:0}),kR=ln(IR),MR=ze({},qh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),DR=ln(MR),FR=[9,13,27,32],C0=Or&&"CompositionEvent"in window,Ka=null;Or&&"documentMode"in document&&(Ka=document.documentMode);var $R=Or&&"TextEvent"in window&&!Ka,uS=Or&&(!C0||Ka&&8<Ka&&11>=Ka),C1=String.fromCharCode(32),T1=!1;function cS(t,e){switch(t){case"keyup":return FR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xs=!1;function BR(t,e){switch(t){case"compositionend":return hS(e);case"keypress":return e.which!==32?null:(T1=!0,C1);case"textInput":return t=e.data,t===C1&&T1?null:t;default:return null}}function NR(t,e){if(Xs)return t==="compositionend"||!C0&&cS(t,e)?(t=lS(),vc=_0=qr=null,Xs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uS&&e.locale!=="ko"?null:e.data;default:return null}}var LR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!LR[t.type]:e==="textarea"}function dS(t,e,n,r){HE(r),e=Zc(e,"onChange"),0<e.length&&(n=new E0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Za=null,dl=null;function UR(t){ES(t,0)}function Kh(t){var e=Ks(t);if($E(e))return t}function jR(t,e){if(t==="change")return e}var fS=!1;if(Or){var pf;if(Or){var mf="oninput"in document;if(!mf){var P1=document.createElement("div");P1.setAttribute("oninput","return;"),mf=typeof P1.oninput=="function"}pf=mf}else pf=!1;fS=pf&&(!document.documentMode||9<document.documentMode)}function O1(){Za&&(Za.detachEvent("onpropertychange",pS),dl=Za=null)}function pS(t){if(t.propertyName==="value"&&Kh(dl)){var e=[];dS(e,dl,t,v0(t)),XE(UR,e)}}function zR(t,e,n){t==="focusin"?(O1(),Za=e,dl=n,Za.attachEvent("onpropertychange",pS)):t==="focusout"&&O1()}function HR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Kh(dl)}function GR(t,e){if(t==="click")return Kh(e)}function WR(t,e){if(t==="input"||t==="change")return Kh(e)}function VR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wn=typeof Object.is=="function"?Object.is:VR;function fl(t,e){if(Wn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ip.call(e,i)||!Wn(t[i],e[i]))return!1}return!0}function R1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function I1(t,e){var n=R1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=R1(n)}}function mS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?mS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gS(){for(var t=window,e=Gc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Gc(t.document)}return e}function T0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function XR(t){var e=gS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&mS(n.ownerDocument.documentElement,n)){if(r!==null&&T0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=I1(n,s);var o=I1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var YR=Or&&"documentMode"in document&&11>=document.documentMode,Ys=null,Kp=null,Qa=null,Zp=!1;function k1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zp||Ys==null||Ys!==Gc(r)||(r=Ys,"selectionStart"in r&&T0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qa&&fl(Qa,r)||(Qa=r,r=Zc(Kp,"onSelect"),0<r.length&&(e=new E0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ys)))}function Eu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var qs={animationend:Eu("Animation","AnimationEnd"),animationiteration:Eu("Animation","AnimationIteration"),animationstart:Eu("Animation","AnimationStart"),transitionend:Eu("Transition","TransitionEnd")},gf={},vS={};Or&&(vS=document.createElement("div").style,"AnimationEvent"in window||(delete qs.animationend.animation,delete qs.animationiteration.animation,delete qs.animationstart.animation),"TransitionEvent"in window||delete qs.transitionend.transition);function Zh(t){if(gf[t])return gf[t];if(!qs[t])return t;var e=qs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in vS)return gf[t]=e[n];return t}var yS=Zh("animationend"),bS=Zh("animationiteration"),xS=Zh("animationstart"),wS=Zh("transitionend"),_S=new Map,M1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vi(t,e){_S.set(t,e),ss(e,[t])}for(var vf=0;vf<M1.length;vf++){var yf=M1[vf],qR=yf.toLowerCase(),KR=yf[0].toUpperCase()+yf.slice(1);vi(qR,"on"+KR)}vi(yS,"onAnimationEnd");vi(bS,"onAnimationIteration");vi(xS,"onAnimationStart");vi("dblclick","onDoubleClick");vi("focusin","onFocus");vi("focusout","onBlur");vi(wS,"onTransitionEnd");So("onMouseEnter",["mouseout","mouseover"]);So("onMouseLeave",["mouseout","mouseover"]);So("onPointerEnter",["pointerout","pointerover"]);So("onPointerLeave",["pointerout","pointerover"]);ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ss("onBeforeInput",["compositionend","keypress","textInput","paste"]);ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZR=new Set("cancel close invalid load scroll toggle".split(" ").concat($a));function D1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,qO(r,e,void 0,t),t.currentTarget=null}function ES(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;D1(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;D1(i,a,u),s=l}}}if(Vc)throw t=Vp,Vc=!1,Vp=null,t}function Pe(t,e){var n=e[nm];n===void 0&&(n=e[nm]=new Set);var r=t+"__bubble";n.has(r)||(SS(e,t,2,!1),n.add(r))}function bf(t,e,n){var r=0;e&&(r|=4),SS(n,t,r,e)}var Su="_reactListening"+Math.random().toString(36).slice(2);function pl(t){if(!t[Su]){t[Su]=!0,IE.forEach(function(n){n!=="selectionchange"&&(ZR.has(n)||bf(n,!1,t),bf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Su]||(e[Su]=!0,bf("selectionchange",!1,e))}}function SS(t,e,n,r){switch(aS(e)){case 1:var i=hR;break;case 4:i=dR;break;default:i=w0}n=i.bind(null,e,n,t),i=void 0,!Wp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function xf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Fi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}XE(function(){var u=s,c=v0(n),h=[];e:{var d=_S.get(t);if(d!==void 0){var f=E0,p=t;switch(t){case"keypress":if(yc(n)===0)break e;case"keydown":case"keyup":f=AR;break;case"focusin":p="focus",f=ff;break;case"focusout":p="blur",f=ff;break;case"beforeblur":case"afterblur":f=ff;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=_1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=mR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=RR;break;case yS:case bS:case xS:f=yR;break;case wS:f=kR;break;case"scroll":f=fR;break;case"wheel":f=DR;break;case"copy":case"cut":case"paste":f=xR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=S1}var m=(e&4)!==0,g=!m&&t==="scroll",v=m?d!==null?d+"Capture":null:d;m=[];for(var y=u,b;y!==null;){b=y;var x=b.stateNode;if(b.tag===5&&x!==null&&(b=x,v!==null&&(x=ll(y,v),x!=null&&m.push(ml(y,x,b)))),g)break;y=y.return}0<m.length&&(d=new f(d,p,null,n,c),h.push({event:d,listeners:m}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==Hp&&(p=n.relatedTarget||n.fromElement)&&(Fi(p)||p[Rr]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=u,p=p?Fi(p):null,p!==null&&(g=os(p),p!==g||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(m=_1,x="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=S1,x="onPointerLeave",v="onPointerEnter",y="pointer"),g=f==null?d:Ks(f),b=p==null?d:Ks(p),d=new m(x,y+"leave",f,n,c),d.target=g,d.relatedTarget=b,x=null,Fi(c)===u&&(m=new m(v,y+"enter",p,n,c),m.target=b,m.relatedTarget=g,x=m),g=x,f&&p)t:{for(m=f,v=p,y=0,b=m;b;b=ps(b))y++;for(b=0,x=v;x;x=ps(x))b++;for(;0<y-b;)m=ps(m),y--;for(;0<b-y;)v=ps(v),b--;for(;y--;){if(m===v||v!==null&&m===v.alternate)break t;m=ps(m),v=ps(v)}m=null}else m=null;f!==null&&F1(h,d,f,m,!1),p!==null&&g!==null&&F1(h,g,p,m,!0)}}e:{if(d=u?Ks(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var E=jR;else if(A1(d))if(fS)E=WR;else{E=HR;var T=zR}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=GR);if(E&&(E=E(t,u))){dS(h,E,n,c);break e}T&&T(t,d,u),t==="focusout"&&(T=d._wrapperState)&&T.controlled&&d.type==="number"&&Np(d,"number",d.value)}switch(T=u?Ks(u):window,t){case"focusin":(A1(T)||T.contentEditable==="true")&&(Ys=T,Kp=u,Qa=null);break;case"focusout":Qa=Kp=Ys=null;break;case"mousedown":Zp=!0;break;case"contextmenu":case"mouseup":case"dragend":Zp=!1,k1(h,n,c);break;case"selectionchange":if(YR)break;case"keydown":case"keyup":k1(h,n,c)}var C;if(C0)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Xs?cS(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(uS&&n.locale!=="ko"&&(Xs||A!=="onCompositionStart"?A==="onCompositionEnd"&&Xs&&(C=lS()):(qr=c,_0="value"in qr?qr.value:qr.textContent,Xs=!0)),T=Zc(u,A),0<T.length&&(A=new E1(A,t,null,n,c),h.push({event:A,listeners:T}),C?A.data=C:(C=hS(n),C!==null&&(A.data=C)))),(C=$R?BR(t,n):NR(t,n))&&(u=Zc(u,"onBeforeInput"),0<u.length&&(c=new E1("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=C))}ES(h,e)})}function ml(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Zc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ll(t,n),s!=null&&r.unshift(ml(t,s,i)),s=ll(t,e),s!=null&&r.push(ml(t,s,i))),t=t.return}return r}function ps(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function F1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=ll(n,s),l!=null&&o.unshift(ml(n,l,a))):i||(l=ll(n,s),l!=null&&o.push(ml(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var QR=/\r\n?/g,JR=/\u0000|\uFFFD/g;function $1(t){return(typeof t=="string"?t:""+t).replace(QR,`
`).replace(JR,"")}function Cu(t,e,n){if(e=$1(e),$1(t)!==e&&n)throw Error(z(425))}function Qc(){}var Qp=null,Jp=null;function em(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tm=typeof setTimeout=="function"?setTimeout:void 0,eI=typeof clearTimeout=="function"?clearTimeout:void 0,B1=typeof Promise=="function"?Promise:void 0,tI=typeof queueMicrotask=="function"?queueMicrotask:typeof B1<"u"?function(t){return B1.resolve(null).then(t).catch(nI)}:tm;function nI(t){setTimeout(function(){throw t})}function wf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),hl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);hl(e)}function ni(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function N1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Wo=Math.random().toString(36).slice(2),nr="__reactFiber$"+Wo,gl="__reactProps$"+Wo,Rr="__reactContainer$"+Wo,nm="__reactEvents$"+Wo,rI="__reactListeners$"+Wo,iI="__reactHandles$"+Wo;function Fi(t){var e=t[nr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Rr]||n[nr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=N1(t);t!==null;){if(n=t[nr])return n;t=N1(t)}return e}t=n,n=t.parentNode}return null}function Wl(t){return t=t[nr]||t[Rr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ks(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Qh(t){return t[gl]||null}var rm=[],Zs=-1;function yi(t){return{current:t}}function ke(t){0>Zs||(t.current=rm[Zs],rm[Zs]=null,Zs--)}function Ae(t,e){Zs++,rm[Zs]=t.current,t.current=e}var hi={},St=yi(hi),$t=yi(!1),Vi=hi;function Co(t,e){var n=t.type.contextTypes;if(!n)return hi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Bt(t){return t=t.childContextTypes,t!=null}function Jc(){ke($t),ke(St)}function L1(t,e,n){if(St.current!==hi)throw Error(z(168));Ae(St,e),Ae($t,n)}function CS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,zO(t)||"Unknown",i));return ze({},n,r)}function eh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hi,Vi=St.current,Ae(St,t),Ae($t,$t.current),!0}function U1(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=CS(t,e,Vi),r.__reactInternalMemoizedMergedChildContext=t,ke($t),ke(St),Ae(St,t)):ke($t),Ae($t,n)}var br=null,Jh=!1,_f=!1;function TS(t){br===null?br=[t]:br.push(t)}function sI(t){Jh=!0,TS(t)}function bi(){if(!_f&&br!==null){_f=!0;var t=0,e=_e;try{var n=br;for(_e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}br=null,Jh=!1}catch(i){throw br!==null&&(br=br.slice(t+1)),ZE(y0,bi),i}finally{_e=e,_f=!1}}return null}var Qs=[],Js=0,th=null,nh=0,hn=[],dn=0,Xi=null,xr=1,wr="";function Ti(t,e){Qs[Js++]=nh,Qs[Js++]=th,th=t,nh=e}function AS(t,e,n){hn[dn++]=xr,hn[dn++]=wr,hn[dn++]=Xi,Xi=t;var r=xr;t=wr;var i=32-Ln(r)-1;r&=~(1<<i),n+=1;var s=32-Ln(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,xr=1<<32-Ln(e)+i|n<<i|r,wr=s+t}else xr=1<<s|n<<i|r,wr=t}function A0(t){t.return!==null&&(Ti(t,1),AS(t,1,0))}function P0(t){for(;t===th;)th=Qs[--Js],Qs[Js]=null,nh=Qs[--Js],Qs[Js]=null;for(;t===Xi;)Xi=hn[--dn],hn[dn]=null,wr=hn[--dn],hn[dn]=null,xr=hn[--dn],hn[dn]=null}var Jt=null,Kt=null,Fe=!1,Dn=null;function PS(t,e){var n=pn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function j1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Jt=t,Kt=ni(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Jt=t,Kt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Xi!==null?{id:xr,overflow:wr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=pn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Jt=t,Kt=null,!0):!1;default:return!1}}function im(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sm(t){if(Fe){var e=Kt;if(e){var n=e;if(!j1(t,e)){if(im(t))throw Error(z(418));e=ni(n.nextSibling);var r=Jt;e&&j1(t,e)?PS(r,n):(t.flags=t.flags&-4097|2,Fe=!1,Jt=t)}}else{if(im(t))throw Error(z(418));t.flags=t.flags&-4097|2,Fe=!1,Jt=t}}}function z1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Jt=t}function Tu(t){if(t!==Jt)return!1;if(!Fe)return z1(t),Fe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!em(t.type,t.memoizedProps)),e&&(e=Kt)){if(im(t))throw OS(),Error(z(418));for(;e;)PS(t,e),e=ni(e.nextSibling)}if(z1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Kt=ni(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Kt=null}}else Kt=Jt?ni(t.stateNode.nextSibling):null;return!0}function OS(){for(var t=Kt;t;)t=ni(t.nextSibling)}function To(){Kt=Jt=null,Fe=!1}function O0(t){Dn===null?Dn=[t]:Dn.push(t)}var oI=Dr.ReactCurrentBatchConfig;function In(t,e){if(t&&t.defaultProps){e=ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var rh=yi(null),ih=null,eo=null,R0=null;function I0(){R0=eo=ih=null}function k0(t){var e=rh.current;ke(rh),t._currentValue=e}function om(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function co(t,e){ih=t,R0=eo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ft=!0),t.firstContext=null)}function bn(t){var e=t._currentValue;if(R0!==t)if(t={context:t,memoizedValue:e,next:null},eo===null){if(ih===null)throw Error(z(308));eo=t,ih.dependencies={lanes:0,firstContext:t}}else eo=eo.next=t;return e}var $i=null;function M0(t){$i===null?$i=[t]:$i.push(t)}function RS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,M0(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ir(t,r)}function Ir(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Wr=!1;function D0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function IS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ri(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ir(t,n)}return i=r.interleaved,i===null?(e.next=e,M0(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ir(t,n)}function bc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,b0(t,n)}}function H1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function sh(t,e,n,r){var i=t.updateQueue;Wr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(d=e,f=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,d=typeof p=="function"?p.call(f,h,d):p,d==null)break e;h=ze({},h,d);break e;case 2:Wr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);qi|=o,t.lanes=o,t.memoizedState=h}}function G1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var kS=new RE.Component().refs;function am(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ed={isMounted:function(t){return(t=t._reactInternals)?os(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Pt(),i=si(t),s=Sr(r,i);s.payload=e,n!=null&&(s.callback=n),e=ri(t,s,i),e!==null&&(Un(e,t,i,r),bc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Pt(),i=si(t),s=Sr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ri(t,s,i),e!==null&&(Un(e,t,i,r),bc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pt(),r=si(t),i=Sr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ri(t,i,r),e!==null&&(Un(e,t,r,n),bc(e,t,r))}};function W1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!fl(n,r)||!fl(i,s):!0}function MS(t,e,n){var r=!1,i=hi,s=e.contextType;return typeof s=="object"&&s!==null?s=bn(s):(i=Bt(e)?Vi:St.current,r=e.contextTypes,s=(r=r!=null)?Co(t,i):hi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ed,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function V1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ed.enqueueReplaceState(e,e.state,null)}function lm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=kS,D0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=bn(s):(s=Bt(e)?Vi:St.current,i.context=Co(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(am(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ed.enqueueReplaceState(i,i.state,null),sh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function pa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===kS&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Au(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function X1(t){var e=t._init;return e(t._payload)}function DS(t){function e(v,y){if(t){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=oi(v,y),v.index=0,v.sibling=null,v}function s(v,y,b){return v.index=b,t?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=2,y):b):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,y,b,x){return y===null||y.tag!==6?(y=Of(b,v.mode,x),y.return=v,y):(y=i(y,b),y.return=v,y)}function l(v,y,b,x){var E=b.type;return E===Vs?c(v,y,b.props.children,x,b.key):y!==null&&(y.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Gr&&X1(E)===y.type)?(x=i(y,b.props),x.ref=pa(v,y,b),x.return=v,x):(x=Cc(b.type,b.key,b.props,null,v.mode,x),x.ref=pa(v,y,b),x.return=v,x)}function u(v,y,b,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Rf(b,v.mode,x),y.return=v,y):(y=i(y,b.children||[]),y.return=v,y)}function c(v,y,b,x,E){return y===null||y.tag!==7?(y=Ui(b,v.mode,x,E),y.return=v,y):(y=i(y,b),y.return=v,y)}function h(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Of(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case gu:return b=Cc(y.type,y.key,y.props,null,v.mode,b),b.ref=pa(v,null,y),b.return=v,b;case Ws:return y=Rf(y,v.mode,b),y.return=v,y;case Gr:var x=y._init;return h(v,x(y._payload),b)}if(Da(y)||ua(y))return y=Ui(y,v.mode,b,null),y.return=v,y;Au(v,y)}return null}function d(v,y,b,x){var E=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return E!==null?null:a(v,y,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case gu:return b.key===E?l(v,y,b,x):null;case Ws:return b.key===E?u(v,y,b,x):null;case Gr:return E=b._init,d(v,y,E(b._payload),x)}if(Da(b)||ua(b))return E!==null?null:c(v,y,b,x,null);Au(v,b)}return null}function f(v,y,b,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(b)||null,a(y,v,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case gu:return v=v.get(x.key===null?b:x.key)||null,l(y,v,x,E);case Ws:return v=v.get(x.key===null?b:x.key)||null,u(y,v,x,E);case Gr:var T=x._init;return f(v,y,b,T(x._payload),E)}if(Da(x)||ua(x))return v=v.get(b)||null,c(y,v,x,E,null);Au(y,x)}return null}function p(v,y,b,x){for(var E=null,T=null,C=y,A=y=0,k=null;C!==null&&A<b.length;A++){C.index>A?(k=C,C=null):k=C.sibling;var M=d(v,C,b[A],x);if(M===null){C===null&&(C=k);break}t&&C&&M.alternate===null&&e(v,C),y=s(M,y,A),T===null?E=M:T.sibling=M,T=M,C=k}if(A===b.length)return n(v,C),Fe&&Ti(v,A),E;if(C===null){for(;A<b.length;A++)C=h(v,b[A],x),C!==null&&(y=s(C,y,A),T===null?E=C:T.sibling=C,T=C);return Fe&&Ti(v,A),E}for(C=r(v,C);A<b.length;A++)k=f(C,v,A,b[A],x),k!==null&&(t&&k.alternate!==null&&C.delete(k.key===null?A:k.key),y=s(k,y,A),T===null?E=k:T.sibling=k,T=k);return t&&C.forEach(function($){return e(v,$)}),Fe&&Ti(v,A),E}function m(v,y,b,x){var E=ua(b);if(typeof E!="function")throw Error(z(150));if(b=E.call(b),b==null)throw Error(z(151));for(var T=E=null,C=y,A=y=0,k=null,M=b.next();C!==null&&!M.done;A++,M=b.next()){C.index>A?(k=C,C=null):k=C.sibling;var $=d(v,C,M.value,x);if($===null){C===null&&(C=k);break}t&&C&&$.alternate===null&&e(v,C),y=s($,y,A),T===null?E=$:T.sibling=$,T=$,C=k}if(M.done)return n(v,C),Fe&&Ti(v,A),E;if(C===null){for(;!M.done;A++,M=b.next())M=h(v,M.value,x),M!==null&&(y=s(M,y,A),T===null?E=M:T.sibling=M,T=M);return Fe&&Ti(v,A),E}for(C=r(v,C);!M.done;A++,M=b.next())M=f(C,v,A,M.value,x),M!==null&&(t&&M.alternate!==null&&C.delete(M.key===null?A:M.key),y=s(M,y,A),T===null?E=M:T.sibling=M,T=M);return t&&C.forEach(function(j){return e(v,j)}),Fe&&Ti(v,A),E}function g(v,y,b,x){if(typeof b=="object"&&b!==null&&b.type===Vs&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case gu:e:{for(var E=b.key,T=y;T!==null;){if(T.key===E){if(E=b.type,E===Vs){if(T.tag===7){n(v,T.sibling),y=i(T,b.props.children),y.return=v,v=y;break e}}else if(T.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Gr&&X1(E)===T.type){n(v,T.sibling),y=i(T,b.props),y.ref=pa(v,T,b),y.return=v,v=y;break e}n(v,T);break}else e(v,T);T=T.sibling}b.type===Vs?(y=Ui(b.props.children,v.mode,x,b.key),y.return=v,v=y):(x=Cc(b.type,b.key,b.props,null,v.mode,x),x.ref=pa(v,y,b),x.return=v,v=x)}return o(v);case Ws:e:{for(T=b.key;y!==null;){if(y.key===T)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(v,y.sibling),y=i(y,b.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=Rf(b,v.mode,x),y.return=v,v=y}return o(v);case Gr:return T=b._init,g(v,y,T(b._payload),x)}if(Da(b))return p(v,y,b,x);if(ua(b))return m(v,y,b,x);Au(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,b),y.return=v,v=y):(n(v,y),y=Of(b,v.mode,x),y.return=v,v=y),o(v)):n(v,y)}return g}var Ao=DS(!0),FS=DS(!1),Vl={},lr=yi(Vl),vl=yi(Vl),yl=yi(Vl);function Bi(t){if(t===Vl)throw Error(z(174));return t}function F0(t,e){switch(Ae(yl,e),Ae(vl,t),Ae(lr,Vl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Up(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Up(e,t)}ke(lr),Ae(lr,e)}function Po(){ke(lr),ke(vl),ke(yl)}function $S(t){Bi(yl.current);var e=Bi(lr.current),n=Up(e,t.type);e!==n&&(Ae(vl,t),Ae(lr,n))}function $0(t){vl.current===t&&(ke(lr),ke(vl))}var Le=yi(0);function oh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ef=[];function B0(){for(var t=0;t<Ef.length;t++)Ef[t]._workInProgressVersionPrimary=null;Ef.length=0}var xc=Dr.ReactCurrentDispatcher,Sf=Dr.ReactCurrentBatchConfig,Yi=0,je=null,st=null,lt=null,ah=!1,Ja=!1,bl=0,aI=0;function xt(){throw Error(z(321))}function N0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wn(t[n],e[n]))return!1;return!0}function L0(t,e,n,r,i,s){if(Yi=s,je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xc.current=t===null||t.memoizedState===null?hI:dI,t=n(r,i),Ja){s=0;do{if(Ja=!1,bl=0,25<=s)throw Error(z(301));s+=1,lt=st=null,e.updateQueue=null,xc.current=fI,t=n(r,i)}while(Ja)}if(xc.current=lh,e=st!==null&&st.next!==null,Yi=0,lt=st=je=null,ah=!1,e)throw Error(z(300));return t}function U0(){var t=bl!==0;return bl=0,t}function Zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?je.memoizedState=lt=t:lt=lt.next=t,lt}function xn(){if(st===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var e=lt===null?je.memoizedState:lt.next;if(e!==null)lt=e,st=t;else{if(t===null)throw Error(z(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},lt===null?je.memoizedState=lt=t:lt=lt.next=t}return lt}function xl(t,e){return typeof e=="function"?e(t):e}function Cf(t){var e=xn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=st,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Yi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,je.lanes|=c,qi|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Wn(r,e.memoizedState)||(Ft=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,je.lanes|=s,qi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Tf(t){var e=xn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Wn(s,e.memoizedState)||(Ft=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function BS(){}function NS(t,e){var n=je,r=xn(),i=e(),s=!Wn(r.memoizedState,i);if(s&&(r.memoizedState=i,Ft=!0),r=r.queue,j0(jS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||lt!==null&&lt.memoizedState.tag&1){if(n.flags|=2048,wl(9,US.bind(null,n,r,i,e),void 0,null),ct===null)throw Error(z(349));Yi&30||LS(n,e,i)}return i}function LS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function US(t,e,n,r){e.value=n,e.getSnapshot=r,zS(e)&&HS(t)}function jS(t,e,n){return n(function(){zS(e)&&HS(t)})}function zS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wn(t,n)}catch{return!0}}function HS(t){var e=Ir(t,1);e!==null&&Un(e,t,1,-1)}function Y1(t){var e=Zn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:t},e.queue=t,t=t.dispatch=cI.bind(null,je,t),[e.memoizedState,t]}function wl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function GS(){return xn().memoizedState}function wc(t,e,n,r){var i=Zn();je.flags|=t,i.memoizedState=wl(1|e,n,void 0,r===void 0?null:r)}function td(t,e,n,r){var i=xn();r=r===void 0?null:r;var s=void 0;if(st!==null){var o=st.memoizedState;if(s=o.destroy,r!==null&&N0(r,o.deps)){i.memoizedState=wl(e,n,s,r);return}}je.flags|=t,i.memoizedState=wl(1|e,n,s,r)}function q1(t,e){return wc(8390656,8,t,e)}function j0(t,e){return td(2048,8,t,e)}function WS(t,e){return td(4,2,t,e)}function VS(t,e){return td(4,4,t,e)}function XS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function YS(t,e,n){return n=n!=null?n.concat([t]):null,td(4,4,XS.bind(null,e,t),n)}function z0(){}function qS(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&N0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function KS(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&N0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ZS(t,e,n){return Yi&21?(Wn(n,e)||(n=eS(),je.lanes|=n,qi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ft=!0),t.memoizedState=n)}function lI(t,e){var n=_e;_e=n!==0&&4>n?n:4,t(!0);var r=Sf.transition;Sf.transition={};try{t(!1),e()}finally{_e=n,Sf.transition=r}}function QS(){return xn().memoizedState}function uI(t,e,n){var r=si(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},JS(t))e2(e,n);else if(n=RS(t,e,n,r),n!==null){var i=Pt();Un(n,t,r,i),t2(n,e,r)}}function cI(t,e,n){var r=si(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(JS(t))e2(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Wn(a,o)){var l=e.interleaved;l===null?(i.next=i,M0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=RS(t,e,i,r),n!==null&&(i=Pt(),Un(n,t,r,i),t2(n,e,r))}}function JS(t){var e=t.alternate;return t===je||e!==null&&e===je}function e2(t,e){Ja=ah=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function t2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,b0(t,n)}}var lh={readContext:bn,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},hI={readContext:bn,useCallback:function(t,e){return Zn().memoizedState=[t,e===void 0?null:e],t},useContext:bn,useEffect:q1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wc(4194308,4,XS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wc(4194308,4,t,e)},useInsertionEffect:function(t,e){return wc(4,2,t,e)},useMemo:function(t,e){var n=Zn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Zn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=uI.bind(null,je,t),[r.memoizedState,t]},useRef:function(t){var e=Zn();return t={current:t},e.memoizedState=t},useState:Y1,useDebugValue:z0,useDeferredValue:function(t){return Zn().memoizedState=t},useTransition:function(){var t=Y1(!1),e=t[0];return t=lI.bind(null,t[1]),Zn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=je,i=Zn();if(Fe){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),ct===null)throw Error(z(349));Yi&30||LS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,q1(jS.bind(null,r,s,t),[t]),r.flags|=2048,wl(9,US.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Zn(),e=ct.identifierPrefix;if(Fe){var n=wr,r=xr;n=(r&~(1<<32-Ln(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=bl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=aI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},dI={readContext:bn,useCallback:qS,useContext:bn,useEffect:j0,useImperativeHandle:YS,useInsertionEffect:WS,useLayoutEffect:VS,useMemo:KS,useReducer:Cf,useRef:GS,useState:function(){return Cf(xl)},useDebugValue:z0,useDeferredValue:function(t){var e=xn();return ZS(e,st.memoizedState,t)},useTransition:function(){var t=Cf(xl)[0],e=xn().memoizedState;return[t,e]},useMutableSource:BS,useSyncExternalStore:NS,useId:QS,unstable_isNewReconciler:!1},fI={readContext:bn,useCallback:qS,useContext:bn,useEffect:j0,useImperativeHandle:YS,useInsertionEffect:WS,useLayoutEffect:VS,useMemo:KS,useReducer:Tf,useRef:GS,useState:function(){return Tf(xl)},useDebugValue:z0,useDeferredValue:function(t){var e=xn();return st===null?e.memoizedState=t:ZS(e,st.memoizedState,t)},useTransition:function(){var t=Tf(xl)[0],e=xn().memoizedState;return[t,e]},useMutableSource:BS,useSyncExternalStore:NS,useId:QS,unstable_isNewReconciler:!1};function Oo(t,e){try{var n="",r=e;do n+=jO(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Af(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function um(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var pI=typeof WeakMap=="function"?WeakMap:Map;function n2(t,e,n){n=Sr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ch||(ch=!0,bm=r),um(t,e)},n}function r2(t,e,n){n=Sr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){um(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){um(t,e),typeof r!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function K1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new pI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=PI.bind(null,t,e,n),e.then(t,t))}function Z1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Q1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Sr(-1,1),e.tag=2,ri(n,e,1))),n.lanes|=1),t)}var mI=Dr.ReactCurrentOwner,Ft=!1;function Ct(t,e,n,r){e.child=t===null?FS(e,null,n,r):Ao(e,t.child,n,r)}function J1(t,e,n,r,i){n=n.render;var s=e.ref;return co(e,i),r=L0(t,e,n,r,s,i),n=U0(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,kr(t,e,i)):(Fe&&n&&A0(e),e.flags|=1,Ct(t,e,r,i),e.child)}function eb(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!K0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,i2(t,e,s,r,i)):(t=Cc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:fl,n(o,r)&&t.ref===e.ref)return kr(t,e,i)}return e.flags|=1,t=oi(s,r),t.ref=e.ref,t.return=e,e.child=t}function i2(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(fl(s,r)&&t.ref===e.ref)if(Ft=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ft=!0);else return e.lanes=t.lanes,kr(t,e,i)}return cm(t,e,n,r,i)}function s2(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(no,Yt),Yt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ae(no,Yt),Yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ae(no,Yt),Yt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ae(no,Yt),Yt|=r;return Ct(t,e,i,n),e.child}function o2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function cm(t,e,n,r,i){var s=Bt(n)?Vi:St.current;return s=Co(e,s),co(e,i),n=L0(t,e,n,r,s,i),r=U0(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,kr(t,e,i)):(Fe&&r&&A0(e),e.flags|=1,Ct(t,e,n,i),e.child)}function tb(t,e,n,r,i){if(Bt(n)){var s=!0;eh(e)}else s=!1;if(co(e,i),e.stateNode===null)_c(t,e),MS(e,n,r),lm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=bn(u):(u=Bt(n)?Vi:St.current,u=Co(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&V1(e,o,r,u),Wr=!1;var d=e.memoizedState;o.state=d,sh(e,r,o,i),l=e.memoizedState,a!==r||d!==l||$t.current||Wr?(typeof c=="function"&&(am(e,n,c,r),l=e.memoizedState),(a=Wr||W1(e,n,a,r,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,IS(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:In(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=bn(l):(l=Bt(n)?Vi:St.current,l=Co(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&V1(e,o,r,l),Wr=!1,d=e.memoizedState,o.state=d,sh(e,r,o,i);var p=e.memoizedState;a!==h||d!==p||$t.current||Wr?(typeof f=="function"&&(am(e,n,f,r),p=e.memoizedState),(u=Wr||W1(e,n,u,r,d,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return hm(t,e,n,r,s,i)}function hm(t,e,n,r,i,s){o2(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&U1(e,n,!1),kr(t,e,s);r=e.stateNode,mI.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ao(e,t.child,null,s),e.child=Ao(e,null,a,s)):Ct(t,e,a,s),e.memoizedState=r.state,i&&U1(e,n,!0),e.child}function a2(t){var e=t.stateNode;e.pendingContext?L1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&L1(t,e.context,!1),F0(t,e.containerInfo)}function nb(t,e,n,r,i){return To(),O0(i),e.flags|=256,Ct(t,e,n,r),e.child}var dm={dehydrated:null,treeContext:null,retryLane:0};function fm(t){return{baseLanes:t,cachePool:null,transitions:null}}function l2(t,e,n){var r=e.pendingProps,i=Le.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ae(Le,i&1),t===null)return sm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=id(o,r,0,null),t=Ui(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=fm(n),e.memoizedState=dm,t):H0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return gI(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=oi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=oi(a,s):(s=Ui(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?fm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=dm,r}return s=t.child,t=s.sibling,r=oi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function H0(t,e){return e=id({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pu(t,e,n,r){return r!==null&&O0(r),Ao(e,t.child,null,n),t=H0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function gI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Af(Error(z(422))),Pu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=id({mode:"visible",children:r.children},i,0,null),s=Ui(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ao(e,t.child,null,o),e.child.memoizedState=fm(o),e.memoizedState=dm,s);if(!(e.mode&1))return Pu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(z(419)),r=Af(s,r,void 0),Pu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ft||a){if(r=ct,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ir(t,i),Un(r,t,i,-1))}return q0(),r=Af(Error(z(421))),Pu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=OI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Kt=ni(i.nextSibling),Jt=e,Fe=!0,Dn=null,t!==null&&(hn[dn++]=xr,hn[dn++]=wr,hn[dn++]=Xi,xr=t.id,wr=t.overflow,Xi=e),e=H0(e,r.children),e.flags|=4096,e)}function rb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),om(t.return,e,n)}function Pf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function u2(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ct(t,e,r.children,n),r=Le.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rb(t,n,e);else if(t.tag===19)rb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ae(Le,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&oh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Pf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&oh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Pf(e,!0,n,null,s);break;case"together":Pf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _c(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function kr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=oi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=oi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function vI(t,e,n){switch(e.tag){case 3:a2(e),To();break;case 5:$S(e);break;case 1:Bt(e.type)&&eh(e);break;case 4:F0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ae(rh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ae(Le,Le.current&1),e.flags|=128,null):n&e.child.childLanes?l2(t,e,n):(Ae(Le,Le.current&1),t=kr(t,e,n),t!==null?t.sibling:null);Ae(Le,Le.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return u2(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ae(Le,Le.current),r)break;return null;case 22:case 23:return e.lanes=0,s2(t,e,n)}return kr(t,e,n)}var c2,pm,h2,d2;c2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pm=function(){};h2=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Bi(lr.current);var s=null;switch(n){case"input":i=$p(t,i),r=$p(t,r),s=[];break;case"select":i=ze({},i,{value:void 0}),r=ze({},r,{value:void 0}),s=[];break;case"textarea":i=Lp(t,i),r=Lp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Qc)}jp(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ol.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ol.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Pe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};d2=function(t,e,n,r){n!==r&&(e.flags|=4)};function ma(t,e){if(!Fe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function yI(t,e,n){var r=e.pendingProps;switch(P0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(e),null;case 1:return Bt(e.type)&&Jc(),wt(e),null;case 3:return r=e.stateNode,Po(),ke($t),ke(St),B0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Tu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Dn!==null&&(_m(Dn),Dn=null))),pm(t,e),wt(e),null;case 5:$0(e);var i=Bi(yl.current);if(n=e.type,t!==null&&e.stateNode!=null)h2(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return wt(e),null}if(t=Bi(lr.current),Tu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[nr]=e,r[gl]=s,t=(e.mode&1)!==0,n){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(i=0;i<$a.length;i++)Pe($a[i],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":d1(r,s),Pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Pe("invalid",r);break;case"textarea":p1(r,s),Pe("invalid",r)}jp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Cu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Cu(r.textContent,a,t),i=["children",""+a]):ol.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Pe("scroll",r)}switch(n){case"input":vu(r),f1(r,s,!0);break;case"textarea":vu(r),m1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Qc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=LE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[nr]=e,t[gl]=r,c2(t,e,!1,!1),e.stateNode=t;e:{switch(o=zp(n,r),n){case"dialog":Pe("cancel",t),Pe("close",t),i=r;break;case"iframe":case"object":case"embed":Pe("load",t),i=r;break;case"video":case"audio":for(i=0;i<$a.length;i++)Pe($a[i],t);i=r;break;case"source":Pe("error",t),i=r;break;case"img":case"image":case"link":Pe("error",t),Pe("load",t),i=r;break;case"details":Pe("toggle",t),i=r;break;case"input":d1(t,r),i=$p(t,r),Pe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ze({},r,{value:void 0}),Pe("invalid",t);break;case"textarea":p1(t,r),i=Lp(t,r),Pe("invalid",t);break;default:i=r}jp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?zE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&UE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&al(t,l):typeof l=="number"&&al(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ol.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Pe("scroll",t):l!=null&&f0(t,s,l,o))}switch(n){case"input":vu(t),f1(t,r,!1);break;case"textarea":vu(t),m1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ci(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?oo(t,!!r.multiple,s,!1):r.defaultValue!=null&&oo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Qc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wt(e),null;case 6:if(t&&e.stateNode!=null)d2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=Bi(yl.current),Bi(lr.current),Tu(e)){if(r=e.stateNode,n=e.memoizedProps,r[nr]=e,(s=r.nodeValue!==n)&&(t=Jt,t!==null))switch(t.tag){case 3:Cu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Cu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[nr]=e,e.stateNode=r}return wt(e),null;case 13:if(ke(Le),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Fe&&Kt!==null&&e.mode&1&&!(e.flags&128))OS(),To(),e.flags|=98560,s=!1;else if(s=Tu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[nr]=e}else To(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wt(e),s=!1}else Dn!==null&&(_m(Dn),Dn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Le.current&1?ot===0&&(ot=3):q0())),e.updateQueue!==null&&(e.flags|=4),wt(e),null);case 4:return Po(),pm(t,e),t===null&&pl(e.stateNode.containerInfo),wt(e),null;case 10:return k0(e.type._context),wt(e),null;case 17:return Bt(e.type)&&Jc(),wt(e),null;case 19:if(ke(Le),s=e.memoizedState,s===null)return wt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ma(s,!1);else{if(ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=oh(t),o!==null){for(e.flags|=128,ma(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ae(Le,Le.current&1|2),e.child}t=t.sibling}s.tail!==null&&Je()>Ro&&(e.flags|=128,r=!0,ma(s,!1),e.lanes=4194304)}else{if(!r)if(t=oh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ma(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Fe)return wt(e),null}else 2*Je()-s.renderingStartTime>Ro&&n!==1073741824&&(e.flags|=128,r=!0,ma(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Je(),e.sibling=null,n=Le.current,Ae(Le,r?n&1|2:n&1),e):(wt(e),null);case 22:case 23:return Y0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yt&1073741824&&(wt(e),e.subtreeFlags&6&&(e.flags|=8192)):wt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function bI(t,e){switch(P0(e),e.tag){case 1:return Bt(e.type)&&Jc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Po(),ke($t),ke(St),B0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $0(e),null;case 13:if(ke(Le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));To()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ke(Le),null;case 4:return Po(),null;case 10:return k0(e.type._context),null;case 22:case 23:return Y0(),null;case 24:return null;default:return null}}var Ou=!1,Et=!1,xI=typeof WeakSet=="function"?WeakSet:Set,K=null;function to(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Xe(t,e,r)}else n.current=null}function mm(t,e,n){try{n()}catch(r){Xe(t,e,r)}}var ib=!1;function wI(t,e){if(Qp=qc,t=gS(),T0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jp={focusedElem:t,selectionRange:n},qc=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,g=p.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:In(e.type,m),g);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(x){Xe(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return p=ib,ib=!1,p}function el(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&mm(e,n,s)}i=i.next}while(i!==r)}}function nd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function gm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function f2(t){var e=t.alternate;e!==null&&(t.alternate=null,f2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[nr],delete e[gl],delete e[nm],delete e[rI],delete e[iI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function p2(t){return t.tag===5||t.tag===3||t.tag===4}function sb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||p2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qc));else if(r!==4&&(t=t.child,t!==null))for(vm(t,e,n),t=t.sibling;t!==null;)vm(t,e,n),t=t.sibling}function ym(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ym(t,e,n),t=t.sibling;t!==null;)ym(t,e,n),t=t.sibling}var dt=null,Mn=!1;function Ur(t,e,n){for(n=n.child;n!==null;)m2(t,e,n),n=n.sibling}function m2(t,e,n){if(ar&&typeof ar.onCommitFiberUnmount=="function")try{ar.onCommitFiberUnmount(Yh,n)}catch{}switch(n.tag){case 5:Et||to(n,e);case 6:var r=dt,i=Mn;dt=null,Ur(t,e,n),dt=r,Mn=i,dt!==null&&(Mn?(t=dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dt.removeChild(n.stateNode));break;case 18:dt!==null&&(Mn?(t=dt,n=n.stateNode,t.nodeType===8?wf(t.parentNode,n):t.nodeType===1&&wf(t,n),hl(t)):wf(dt,n.stateNode));break;case 4:r=dt,i=Mn,dt=n.stateNode.containerInfo,Mn=!0,Ur(t,e,n),dt=r,Mn=i;break;case 0:case 11:case 14:case 15:if(!Et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&mm(n,e,o),i=i.next}while(i!==r)}Ur(t,e,n);break;case 1:if(!Et&&(to(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Xe(n,e,a)}Ur(t,e,n);break;case 21:Ur(t,e,n);break;case 22:n.mode&1?(Et=(r=Et)||n.memoizedState!==null,Ur(t,e,n),Et=r):Ur(t,e,n);break;default:Ur(t,e,n)}}function ob(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new xI),e.forEach(function(r){var i=RI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Sn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:dt=a.stateNode,Mn=!1;break e;case 3:dt=a.stateNode.containerInfo,Mn=!0;break e;case 4:dt=a.stateNode.containerInfo,Mn=!0;break e}a=a.return}if(dt===null)throw Error(z(160));m2(s,o,i),dt=null,Mn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Xe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)g2(e,t),e=e.sibling}function g2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Sn(e,t),qn(t),r&4){try{el(3,t,t.return),nd(3,t)}catch(m){Xe(t,t.return,m)}try{el(5,t,t.return)}catch(m){Xe(t,t.return,m)}}break;case 1:Sn(e,t),qn(t),r&512&&n!==null&&to(n,n.return);break;case 5:if(Sn(e,t),qn(t),r&512&&n!==null&&to(n,n.return),t.flags&32){var i=t.stateNode;try{al(i,"")}catch(m){Xe(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&BE(i,s),zp(a,o);var u=zp(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?zE(i,h):c==="dangerouslySetInnerHTML"?UE(i,h):c==="children"?al(i,h):f0(i,c,h,u)}switch(a){case"input":Bp(i,s);break;case"textarea":NE(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?oo(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?oo(i,!!s.multiple,s.defaultValue,!0):oo(i,!!s.multiple,s.multiple?[]:"",!1))}i[gl]=s}catch(m){Xe(t,t.return,m)}}break;case 6:if(Sn(e,t),qn(t),r&4){if(t.stateNode===null)throw Error(z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){Xe(t,t.return,m)}}break;case 3:if(Sn(e,t),qn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hl(e.containerInfo)}catch(m){Xe(t,t.return,m)}break;case 4:Sn(e,t),qn(t);break;case 13:Sn(e,t),qn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(V0=Je())),r&4&&ob(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Et=(u=Et)||c,Sn(e,t),Et=u):Sn(e,t),qn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(K=t,c=t.child;c!==null;){for(h=K=c;K!==null;){switch(d=K,f=d.child,d.tag){case 0:case 11:case 14:case 15:el(4,d,d.return);break;case 1:to(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){Xe(r,n,m)}}break;case 5:to(d,d.return);break;case 22:if(d.memoizedState!==null){lb(h);continue}}f!==null?(f.return=d,K=f):lb(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=jE("display",o))}catch(m){Xe(t,t.return,m)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Xe(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Sn(e,t),qn(t),r&4&&ob(t);break;case 21:break;default:Sn(e,t),qn(t)}}function qn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(p2(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(al(i,""),r.flags&=-33);var s=sb(t);ym(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=sb(t);vm(t,a,o);break;default:throw Error(z(161))}}catch(l){Xe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _I(t,e,n){K=t,v2(t)}function v2(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var i=K,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ou;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Et;a=Ou;var u=Et;if(Ou=o,(Et=l)&&!u)for(K=i;K!==null;)o=K,l=o.child,o.tag===22&&o.memoizedState!==null?ub(i):l!==null?(l.return=o,K=l):ub(i);for(;s!==null;)K=s,v2(s),s=s.sibling;K=i,Ou=a,Et=u}ab(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,K=s):ab(t)}}function ab(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Et||nd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Et)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:In(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&G1(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}G1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&hl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Et||e.flags&512&&gm(e)}catch(d){Xe(e,e.return,d)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function lb(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function ub(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{nd(4,e)}catch(l){Xe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Xe(e,i,l)}}var s=e.return;try{gm(e)}catch(l){Xe(e,s,l)}break;case 5:var o=e.return;try{gm(e)}catch(l){Xe(e,o,l)}}}catch(l){Xe(e,e.return,l)}if(e===t){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var EI=Math.ceil,uh=Dr.ReactCurrentDispatcher,G0=Dr.ReactCurrentOwner,gn=Dr.ReactCurrentBatchConfig,ge=0,ct=null,nt=null,vt=0,Yt=0,no=yi(0),ot=0,_l=null,qi=0,rd=0,W0=0,tl=null,Dt=null,V0=0,Ro=1/0,yr=null,ch=!1,bm=null,ii=null,Ru=!1,Kr=null,hh=0,nl=0,xm=null,Ec=-1,Sc=0;function Pt(){return ge&6?Je():Ec!==-1?Ec:Ec=Je()}function si(t){return t.mode&1?ge&2&&vt!==0?vt&-vt:oI.transition!==null?(Sc===0&&(Sc=eS()),Sc):(t=_e,t!==0||(t=window.event,t=t===void 0?16:aS(t.type)),t):1}function Un(t,e,n,r){if(50<nl)throw nl=0,xm=null,Error(z(185));Hl(t,n,r),(!(ge&2)||t!==ct)&&(t===ct&&(!(ge&2)&&(rd|=n),ot===4&&Yr(t,vt)),Nt(t,r),n===1&&ge===0&&!(e.mode&1)&&(Ro=Je()+500,Jh&&bi()))}function Nt(t,e){var n=t.callbackNode;oR(t,e);var r=Yc(t,t===ct?vt:0);if(r===0)n!==null&&y1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&y1(n),e===1)t.tag===0?sI(cb.bind(null,t)):TS(cb.bind(null,t)),tI(function(){!(ge&6)&&bi()}),n=null;else{switch(tS(r)){case 1:n=y0;break;case 4:n=QE;break;case 16:n=Xc;break;case 536870912:n=JE;break;default:n=Xc}n=C2(n,y2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function y2(t,e){if(Ec=-1,Sc=0,ge&6)throw Error(z(327));var n=t.callbackNode;if(ho()&&t.callbackNode!==n)return null;var r=Yc(t,t===ct?vt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=dh(t,r);else{e=r;var i=ge;ge|=2;var s=x2();(ct!==t||vt!==e)&&(yr=null,Ro=Je()+500,Li(t,e));do try{TI();break}catch(a){b2(t,a)}while(1);I0(),uh.current=s,ge=i,nt!==null?e=0:(ct=null,vt=0,e=ot)}if(e!==0){if(e===2&&(i=Xp(t),i!==0&&(r=i,e=wm(t,i))),e===1)throw n=_l,Li(t,0),Yr(t,r),Nt(t,Je()),n;if(e===6)Yr(t,r);else{if(i=t.current.alternate,!(r&30)&&!SI(i)&&(e=dh(t,r),e===2&&(s=Xp(t),s!==0&&(r=s,e=wm(t,s))),e===1))throw n=_l,Li(t,0),Yr(t,r),Nt(t,Je()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:Ai(t,Dt,yr);break;case 3:if(Yr(t,r),(r&130023424)===r&&(e=V0+500-Je(),10<e)){if(Yc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Pt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=tm(Ai.bind(null,t,Dt,yr),e);break}Ai(t,Dt,yr);break;case 4:if(Yr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ln(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*EI(r/1960))-r,10<r){t.timeoutHandle=tm(Ai.bind(null,t,Dt,yr),r);break}Ai(t,Dt,yr);break;case 5:Ai(t,Dt,yr);break;default:throw Error(z(329))}}}return Nt(t,Je()),t.callbackNode===n?y2.bind(null,t):null}function wm(t,e){var n=tl;return t.current.memoizedState.isDehydrated&&(Li(t,e).flags|=256),t=dh(t,e),t!==2&&(e=Dt,Dt=n,e!==null&&_m(e)),t}function _m(t){Dt===null?Dt=t:Dt.push.apply(Dt,t)}function SI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Wn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Yr(t,e){for(e&=~W0,e&=~rd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ln(e),r=1<<n;t[n]=-1,e&=~r}}function cb(t){if(ge&6)throw Error(z(327));ho();var e=Yc(t,0);if(!(e&1))return Nt(t,Je()),null;var n=dh(t,e);if(t.tag!==0&&n===2){var r=Xp(t);r!==0&&(e=r,n=wm(t,r))}if(n===1)throw n=_l,Li(t,0),Yr(t,e),Nt(t,Je()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ai(t,Dt,yr),Nt(t,Je()),null}function X0(t,e){var n=ge;ge|=1;try{return t(e)}finally{ge=n,ge===0&&(Ro=Je()+500,Jh&&bi())}}function Ki(t){Kr!==null&&Kr.tag===0&&!(ge&6)&&ho();var e=ge;ge|=1;var n=gn.transition,r=_e;try{if(gn.transition=null,_e=1,t)return t()}finally{_e=r,gn.transition=n,ge=e,!(ge&6)&&bi()}}function Y0(){Yt=no.current,ke(no)}function Li(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,eI(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(P0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jc();break;case 3:Po(),ke($t),ke(St),B0();break;case 5:$0(r);break;case 4:Po();break;case 13:ke(Le);break;case 19:ke(Le);break;case 10:k0(r.type._context);break;case 22:case 23:Y0()}n=n.return}if(ct=t,nt=t=oi(t.current,null),vt=Yt=e,ot=0,_l=null,W0=rd=qi=0,Dt=tl=null,$i!==null){for(e=0;e<$i.length;e++)if(n=$i[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}$i=null}return t}function b2(t,e){do{var n=nt;try{if(I0(),xc.current=lh,ah){for(var r=je.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ah=!1}if(Yi=0,lt=st=je=null,Ja=!1,bl=0,G0.current=null,n===null||n.return===null){ot=1,_l=e,nt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=vt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=Z1(o);if(f!==null){f.flags&=-257,Q1(f,o,a,s,e),f.mode&1&&K1(s,u,e),e=f,l=u;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){K1(s,u,e),q0();break e}l=Error(z(426))}}else if(Fe&&a.mode&1){var g=Z1(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),Q1(g,o,a,s,e),O0(Oo(l,a));break e}}s=l=Oo(l,a),ot!==4&&(ot=2),tl===null?tl=[s]:tl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=n2(s,l,e);H1(s,v);break e;case 1:a=l;var y=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ii===null||!ii.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=r2(s,a,e);H1(s,x);break e}}s=s.return}while(s!==null)}_2(n)}catch(E){e=E,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(1)}function x2(){var t=uh.current;return uh.current=lh,t===null?lh:t}function q0(){(ot===0||ot===3||ot===2)&&(ot=4),ct===null||!(qi&268435455)&&!(rd&268435455)||Yr(ct,vt)}function dh(t,e){var n=ge;ge|=2;var r=x2();(ct!==t||vt!==e)&&(yr=null,Li(t,e));do try{CI();break}catch(i){b2(t,i)}while(1);if(I0(),ge=n,uh.current=r,nt!==null)throw Error(z(261));return ct=null,vt=0,ot}function CI(){for(;nt!==null;)w2(nt)}function TI(){for(;nt!==null&&!ZO();)w2(nt)}function w2(t){var e=S2(t.alternate,t,Yt);t.memoizedProps=t.pendingProps,e===null?_2(t):nt=e,G0.current=null}function _2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=bI(n,e),n!==null){n.flags&=32767,nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ot=6,nt=null;return}}else if(n=yI(n,e,Yt),n!==null){nt=n;return}if(e=e.sibling,e!==null){nt=e;return}nt=e=t}while(e!==null);ot===0&&(ot=5)}function Ai(t,e,n){var r=_e,i=gn.transition;try{gn.transition=null,_e=1,AI(t,e,n,r)}finally{gn.transition=i,_e=r}return null}function AI(t,e,n,r){do ho();while(Kr!==null);if(ge&6)throw Error(z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(aR(t,s),t===ct&&(nt=ct=null,vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ru||(Ru=!0,C2(Xc,function(){return ho(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=gn.transition,gn.transition=null;var o=_e;_e=1;var a=ge;ge|=4,G0.current=null,wI(t,n),g2(n,t),XR(Jp),qc=!!Qp,Jp=Qp=null,t.current=n,_I(n),QO(),ge=a,_e=o,gn.transition=s}else t.current=n;if(Ru&&(Ru=!1,Kr=t,hh=i),s=t.pendingLanes,s===0&&(ii=null),tR(n.stateNode),Nt(t,Je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ch)throw ch=!1,t=bm,bm=null,t;return hh&1&&t.tag!==0&&ho(),s=t.pendingLanes,s&1?t===xm?nl++:(nl=0,xm=t):nl=0,bi(),null}function ho(){if(Kr!==null){var t=tS(hh),e=gn.transition,n=_e;try{if(gn.transition=null,_e=16>t?16:t,Kr===null)var r=!1;else{if(t=Kr,Kr=null,hh=0,ge&6)throw Error(z(331));var i=ge;for(ge|=4,K=t.current;K!==null;){var s=K,o=s.child;if(K.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(K=u;K!==null;){var c=K;switch(c.tag){case 0:case 11:case 15:el(8,c,s)}var h=c.child;if(h!==null)h.return=c,K=h;else for(;K!==null;){c=K;var d=c.sibling,f=c.return;if(f2(c),c===u){K=null;break}if(d!==null){d.return=f,K=d;break}K=f}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}K=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,K=o;else e:for(;K!==null;){if(s=K,s.flags&2048)switch(s.tag){case 0:case 11:case 15:el(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,K=v;break e}K=s.return}}var y=t.current;for(K=y;K!==null;){o=K;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,K=b;else e:for(o=y;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:nd(9,a)}}catch(E){Xe(a,a.return,E)}if(a===o){K=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,K=x;break e}K=a.return}}if(ge=i,bi(),ar&&typeof ar.onPostCommitFiberRoot=="function")try{ar.onPostCommitFiberRoot(Yh,t)}catch{}r=!0}return r}finally{_e=n,gn.transition=e}}return!1}function hb(t,e,n){e=Oo(n,e),e=n2(t,e,1),t=ri(t,e,1),e=Pt(),t!==null&&(Hl(t,1,e),Nt(t,e))}function Xe(t,e,n){if(t.tag===3)hb(t,t,n);else for(;e!==null;){if(e.tag===3){hb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ii===null||!ii.has(r))){t=Oo(n,t),t=r2(e,t,1),e=ri(e,t,1),t=Pt(),e!==null&&(Hl(e,1,t),Nt(e,t));break}}e=e.return}}function PI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Pt(),t.pingedLanes|=t.suspendedLanes&n,ct===t&&(vt&n)===n&&(ot===4||ot===3&&(vt&130023424)===vt&&500>Je()-V0?Li(t,0):W0|=n),Nt(t,e)}function E2(t,e){e===0&&(t.mode&1?(e=xu,xu<<=1,!(xu&130023424)&&(xu=4194304)):e=1);var n=Pt();t=Ir(t,e),t!==null&&(Hl(t,e,n),Nt(t,n))}function OI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),E2(t,n)}function RI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),E2(t,n)}var S2;S2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||$t.current)Ft=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ft=!1,vI(t,e,n);Ft=!!(t.flags&131072)}else Ft=!1,Fe&&e.flags&1048576&&AS(e,nh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_c(t,e),t=e.pendingProps;var i=Co(e,St.current);co(e,n),i=L0(null,e,r,t,i,n);var s=U0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bt(r)?(s=!0,eh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,D0(e),i.updater=ed,e.stateNode=i,i._reactInternals=e,lm(e,r,t,n),e=hm(null,e,r,!0,s,n)):(e.tag=0,Fe&&s&&A0(e),Ct(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_c(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=kI(r),t=In(r,t),i){case 0:e=cm(null,e,r,t,n);break e;case 1:e=tb(null,e,r,t,n);break e;case 11:e=J1(null,e,r,t,n);break e;case 14:e=eb(null,e,r,In(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),cm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),tb(t,e,r,i,n);case 3:e:{if(a2(e),t===null)throw Error(z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,IS(t,e),sh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Oo(Error(z(423)),e),e=nb(t,e,r,n,i);break e}else if(r!==i){i=Oo(Error(z(424)),e),e=nb(t,e,r,n,i);break e}else for(Kt=ni(e.stateNode.containerInfo.firstChild),Jt=e,Fe=!0,Dn=null,n=FS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(To(),r===i){e=kr(t,e,n);break e}Ct(t,e,r,n)}e=e.child}return e;case 5:return $S(e),t===null&&sm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,em(r,i)?o=null:s!==null&&em(r,s)&&(e.flags|=32),o2(t,e),Ct(t,e,o,n),e.child;case 6:return t===null&&sm(e),null;case 13:return l2(t,e,n);case 4:return F0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ao(e,null,r,n):Ct(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),J1(t,e,r,i,n);case 7:return Ct(t,e,e.pendingProps,n),e.child;case 8:return Ct(t,e,e.pendingProps.children,n),e.child;case 12:return Ct(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ae(rh,r._currentValue),r._currentValue=o,s!==null)if(Wn(s.value,o)){if(s.children===i.children&&!$t.current){e=kr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Sr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),om(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),om(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ct(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,co(e,n),i=bn(i),r=r(i),e.flags|=1,Ct(t,e,r,n),e.child;case 14:return r=e.type,i=In(r,e.pendingProps),i=In(r.type,i),eb(t,e,r,i,n);case 15:return i2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),_c(t,e),e.tag=1,Bt(r)?(t=!0,eh(e)):t=!1,co(e,n),MS(e,r,i),lm(e,r,i,n),hm(null,e,r,!0,t,n);case 19:return u2(t,e,n);case 22:return s2(t,e,n)}throw Error(z(156,e.tag))};function C2(t,e){return ZE(t,e)}function II(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,e,n,r){return new II(t,e,n,r)}function K0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function kI(t){if(typeof t=="function")return K0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===m0)return 11;if(t===g0)return 14}return 2}function oi(t,e){var n=t.alternate;return n===null?(n=pn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")K0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Vs:return Ui(n.children,i,s,e);case p0:o=8,i|=8;break;case kp:return t=pn(12,n,e,i|2),t.elementType=kp,t.lanes=s,t;case Mp:return t=pn(13,n,e,i),t.elementType=Mp,t.lanes=s,t;case Dp:return t=pn(19,n,e,i),t.elementType=Dp,t.lanes=s,t;case DE:return id(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kE:o=10;break e;case ME:o=9;break e;case m0:o=11;break e;case g0:o=14;break e;case Gr:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=pn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ui(t,e,n,r){return t=pn(7,t,r,e),t.lanes=n,t}function id(t,e,n,r){return t=pn(22,t,r,e),t.elementType=DE,t.lanes=n,t.stateNode={isHidden:!1},t}function Of(t,e,n){return t=pn(6,t,null,e),t.lanes=n,t}function Rf(t,e,n){return e=pn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function MI(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cf(0),this.expirationTimes=cf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Z0(t,e,n,r,i,s,o,a,l){return t=new MI(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=pn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},D0(s),t}function DI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ws,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function T2(t){if(!t)return hi;t=t._reactInternals;e:{if(os(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Bt(n))return CS(t,n,e)}return e}function A2(t,e,n,r,i,s,o,a,l){return t=Z0(n,r,!0,t,i,s,o,a,l),t.context=T2(null),n=t.current,r=Pt(),i=si(n),s=Sr(r,i),s.callback=e??null,ri(n,s,i),t.current.lanes=i,Hl(t,i,r),Nt(t,r),t}function sd(t,e,n,r){var i=e.current,s=Pt(),o=si(i);return n=T2(n),e.context===null?e.context=n:e.pendingContext=n,e=Sr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ri(i,e,o),t!==null&&(Un(t,i,o,s),bc(t,i,o)),o}function fh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function db(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Q0(t,e){db(t,e),(t=t.alternate)&&db(t,e)}function FI(){return null}var P2=typeof reportError=="function"?reportError:function(t){console.error(t)};function J0(t){this._internalRoot=t}od.prototype.render=J0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));sd(t,e,null,null)};od.prototype.unmount=J0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ki(function(){sd(null,t,null,null)}),e[Rr]=null}};function od(t){this._internalRoot=t}od.prototype.unstable_scheduleHydration=function(t){if(t){var e=iS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Xr.length&&e!==0&&e<Xr[n].priority;n++);Xr.splice(n,0,t),n===0&&oS(t)}};function ev(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ad(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fb(){}function $I(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=fh(o);s.call(u)}}var o=A2(e,r,t,0,null,!1,!1,"",fb);return t._reactRootContainer=o,t[Rr]=o.current,pl(t.nodeType===8?t.parentNode:t),Ki(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=fh(l);a.call(u)}}var l=Z0(t,0,!1,null,null,!1,!1,"",fb);return t._reactRootContainer=l,t[Rr]=l.current,pl(t.nodeType===8?t.parentNode:t),Ki(function(){sd(e,l,n,r)}),l}function ld(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=fh(o);a.call(l)}}sd(e,o,t,i)}else o=$I(n,e,t,i,r);return fh(o)}nS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fa(e.pendingLanes);n!==0&&(b0(e,n|1),Nt(e,Je()),!(ge&6)&&(Ro=Je()+500,bi()))}break;case 13:Ki(function(){var r=Ir(t,1);if(r!==null){var i=Pt();Un(r,t,1,i)}}),Q0(t,1)}};x0=function(t){if(t.tag===13){var e=Ir(t,134217728);if(e!==null){var n=Pt();Un(e,t,134217728,n)}Q0(t,134217728)}};rS=function(t){if(t.tag===13){var e=si(t),n=Ir(t,e);if(n!==null){var r=Pt();Un(n,t,e,r)}Q0(t,e)}};iS=function(){return _e};sS=function(t,e){var n=_e;try{return _e=t,e()}finally{_e=n}};Gp=function(t,e,n){switch(e){case"input":if(Bp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Qh(r);if(!i)throw Error(z(90));$E(r),Bp(r,i)}}}break;case"textarea":NE(t,n);break;case"select":e=n.value,e!=null&&oo(t,!!n.multiple,e,!1)}};WE=X0;VE=Ki;var BI={usingClientEntryPoint:!1,Events:[Wl,Ks,Qh,HE,GE,X0]},ga={findFiberByHostInstance:Fi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},NI={bundleType:ga.bundleType,version:ga.version,rendererPackageName:ga.rendererPackageName,rendererConfig:ga.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qE(t),t===null?null:t.stateNode},findFiberByHostInstance:ga.findFiberByHostInstance||FI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Iu.isDisabled&&Iu.supportsFiber)try{Yh=Iu.inject(NI),ar=Iu}catch{}}an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BI;an.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ev(e))throw Error(z(200));return DI(t,e,null,n)};an.createRoot=function(t,e){if(!ev(t))throw Error(z(299));var n=!1,r="",i=P2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Z0(t,1,!1,null,null,n,!1,r,i),t[Rr]=e.current,pl(t.nodeType===8?t.parentNode:t),new J0(e)};an.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=qE(e),t=t===null?null:t.stateNode,t};an.flushSync=function(t){return Ki(t)};an.hydrate=function(t,e,n){if(!ad(e))throw Error(z(200));return ld(null,t,e,!0,n)};an.hydrateRoot=function(t,e,n){if(!ev(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=P2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=A2(e,null,t,1,n??null,i,!1,s,o),t[Rr]=e.current,pl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new od(e)};an.render=function(t,e,n){if(!ad(e))throw Error(z(200));return ld(null,t,e,!1,n)};an.unmountComponentAtNode=function(t){if(!ad(t))throw Error(z(40));return t._reactRootContainer?(Ki(function(){ld(null,null,t,!1,function(){t._reactRootContainer=null,t[Rr]=null})}),!0):!1};an.unstable_batchedUpdates=X0;an.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ad(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return ld(t,e,n,!1,r)};an.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=an})(FO);var pb=sl;Op.createRoot=pb.createRoot,Op.hydrateRoot=pb.hydrateRoot;var Em=function(t,e){return Em=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Em(t,e)};function ud(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Em(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Sm(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ph(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function mh(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Cr(t){return typeof t=="function"}function O2(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var If=O2(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function Cm(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var cd=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=Sm(o),l=a.next();!l.done;l=a.next()){var u=l.value;u.remove(this)}}catch(m){e={error:m}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}else o.remove(this);var c=this.initialTeardown;if(Cr(c))try{c()}catch(m){s=m instanceof If?m.errors:[m]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var d=Sm(h),f=d.next();!f.done;f=d.next()){var p=f.value;try{mb(p)}catch(m){s=s??[],m instanceof If?s=mh(mh([],ph(s)),ph(m.errors)):s.push(m)}}}catch(m){r={error:m}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}if(s)throw new If(s)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)mb(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&Cm(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&Cm(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),R2=cd.EMPTY;function I2(t){return t instanceof cd||t&&"closed"in t&&Cr(t.remove)&&Cr(t.add)&&Cr(t.unsubscribe)}function mb(t){Cr(t)?t():t.unsubscribe()}var k2={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Tm={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=Tm.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,mh([t,e],ph(n))):setTimeout.apply(void 0,mh([t,e],ph(n)))},clearTimeout:function(t){var e=Tm.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function LI(t){Tm.setTimeout(function(){throw t})}function gb(){}function Tc(t){t()}var M2=function(t){ud(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,I2(n)&&n.add(r)):r.destination=HI,r}return e.create=function(n,r,i){return new Am(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(cd),UI=Function.prototype.bind;function kf(t,e){return UI.call(t,e)}var jI=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){ku(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){ku(r)}else ku(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){ku(n)}},t}(),Am=function(t){ud(e,t);function e(n,r,i){var s=t.call(this)||this,o;if(Cr(n)||!n)o={next:n??void 0,error:r??void 0,complete:i??void 0};else{var a;s&&k2.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return s.unsubscribe()},o={next:n.next&&kf(n.next,a),error:n.error&&kf(n.error,a),complete:n.complete&&kf(n.complete,a)}):o=n}return s.destination=new jI(o),s}return e}(M2);function ku(t){LI(t)}function zI(t){throw t}var HI={closed:!0,next:gb,error:zI,complete:gb},GI=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function WI(t){return t}function VI(t){return t.length===0?WI:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var vb=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,s=YI(e)?e:new Am(e,n,r);return Tc(function(){var o=i,a=o.operator,l=o.source;s.add(a?a.call(s,l):l?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=yb(n),new n(function(i,s){var o=new Am({next:function(a){try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[GI]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return VI(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=yb(e),new e(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},t.create=function(e){return new t(e)},t}();function yb(t){var e;return(e=t??k2.Promise)!==null&&e!==void 0?e:Promise}function XI(t){return t&&Cr(t.next)&&Cr(t.error)&&Cr(t.complete)}function YI(t){return t&&t instanceof M2||XI(t)&&I2(t)}var qI=O2(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),gh=function(t){ud(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new bb(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new qI},e.prototype.next=function(n){var r=this;Tc(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=Sm(r.currentObservers),a=o.next();!a.done;a=o.next()){var l=a.value;l.next(n)}}catch(u){i={error:u}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;Tc(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;Tc(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?R2:(this.currentObservers=null,a.push(n),new cd(function(){r.currentObservers=null,Cm(a,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,s=r.thrownError,o=r.isStopped;i?n.error(s):o&&n.complete()},e.prototype.asObservable=function(){var n=new vb;return n.source=this,n},e.create=function(n,r){return new bb(n,r)},e}(vb),bb=function(t){ud(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:R2},e}(gh),KI=typeof global=="object"&&global&&global.Object===Object&&global;const D2=KI;var ZI=typeof self=="object"&&self&&self.Object===Object&&self,QI=D2||ZI||Function("return this")();const Vn=QI;var JI=Vn.Symbol;const wn=JI;var F2=Object.prototype,e3=F2.hasOwnProperty,t3=F2.toString,va=wn?wn.toStringTag:void 0;function n3(t){var e=e3.call(t,va),n=t[va];try{t[va]=void 0;var r=!0}catch{}var i=t3.call(t);return r&&(e?t[va]=n:delete t[va]),i}var r3=Object.prototype,i3=r3.toString;function s3(t){return i3.call(t)}var o3="[object Null]",a3="[object Undefined]",xb=wn?wn.toStringTag:void 0;function Fr(t){return t==null?t===void 0?a3:o3:xb&&xb in Object(t)?n3(t):s3(t)}function _n(t){return t!=null&&typeof t=="object"}var l3="[object Symbol]";function Io(t){return typeof t=="symbol"||_n(t)&&Fr(t)==l3}function ji(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var u3=Array.isArray;const et=u3;var c3=1/0,wb=wn?wn.prototype:void 0,_b=wb?wb.toString:void 0;function $2(t){if(typeof t=="string")return t;if(et(t))return ji(t,$2)+"";if(Io(t))return _b?_b.call(t):"";var e=t+"";return e=="0"&&1/t==-c3?"-0":e}var h3=/\s/;function d3(t){for(var e=t.length;e--&&h3.test(t.charAt(e)););return e}var f3=/^\s+/;function p3(t){return t&&t.slice(0,d3(t)+1).replace(f3,"")}function sn(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Eb=0/0,m3=/^[-+]0x[0-9a-f]+$/i,g3=/^0b[01]+$/i,v3=/^0o[0-7]+$/i,y3=parseInt;function Pm(t){if(typeof t=="number")return t;if(Io(t))return Eb;if(sn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=sn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=p3(t);var n=g3.test(t);return n||v3.test(t)?y3(t.slice(2),n?2:8):m3.test(t)?Eb:+t}var Sb=1/0,b3=17976931348623157e292;function x3(t){if(!t)return t===0?t:0;if(t=Pm(t),t===Sb||t===-Sb){var e=t<0?-1:1;return e*b3}return t===t?t:0}function tv(t){var e=x3(t),n=e%1;return e===e?n?e-n:e:0}function Xl(t){return t}var w3="[object AsyncFunction]",_3="[object Function]",E3="[object GeneratorFunction]",S3="[object Proxy]";function ir(t){if(!sn(t))return!1;var e=Fr(t);return e==_3||e==E3||e==w3||e==S3}var C3=Vn["__core-js_shared__"];const Mf=C3;var Cb=function(){var t=/[^.]+$/.exec(Mf&&Mf.keys&&Mf.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function T3(t){return!!Cb&&Cb in t}var A3=Function.prototype,P3=A3.toString;function as(t){if(t!=null){try{return P3.call(t)}catch{}try{return t+""}catch{}}return""}var O3=/[\\^$.*+?()[\]{}|]/g,R3=/^\[object .+?Constructor\]$/,I3=Function.prototype,k3=Object.prototype,M3=I3.toString,D3=k3.hasOwnProperty,F3=RegExp("^"+M3.call(D3).replace(O3,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $3(t){if(!sn(t)||T3(t))return!1;var e=ir(t)?F3:R3;return e.test(as(t))}function B3(t,e){return t==null?void 0:t[e]}function ls(t,e){var n=B3(t,e);return $3(n)?n:void 0}var N3=ls(Vn,"WeakMap");const Om=N3;var Tb=Object.create,L3=function(){function t(){}return function(e){if(!sn(e))return{};if(Tb)return Tb(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const U3=L3;function j3(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function z3(){}function B2(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var H3=800,G3=16,W3=Date.now;function V3(t){var e=0,n=0;return function(){var r=W3(),i=G3-(r-n);if(n=r,i>0){if(++e>=H3)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function X3(t){return function(){return t}}var Y3=function(){try{var t=ls(Object,"defineProperty");return t({},"",{}),t}catch{}}();const vh=Y3;var q3=vh?function(t,e){return vh(t,"toString",{configurable:!0,enumerable:!1,value:X3(e),writable:!0})}:Xl;const K3=q3;var Z3=V3(K3);const Q3=Z3;function N2(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function L2(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function J3(t){return t!==t}function ek(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function U2(t,e,n){return e===e?ek(t,e,n):L2(t,J3,n)}function j2(t,e){var n=t==null?0:t.length;return!!n&&U2(t,e,0)>-1}var tk=9007199254740991,nk=/^(?:0|[1-9]\d*)$/;function nv(t,e){var n=typeof t;return e=e??tk,!!e&&(n=="number"||n!="symbol"&&nk.test(t))&&t>-1&&t%1==0&&t<e}function hd(t,e,n){e=="__proto__"&&vh?vh(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Yl(t,e){return t===e||t!==t&&e!==e}var rk=Object.prototype,ik=rk.hasOwnProperty;function z2(t,e,n){var r=t[e];(!(ik.call(t,e)&&Yl(r,n))||n===void 0&&!(e in t))&&hd(t,e,n)}function ql(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?hd(n,a,l):z2(n,a,l)}return n}var Ab=Math.max;function sk(t,e,n){return e=Ab(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=Ab(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),j3(t,this,a)}}function rv(t,e){return Q3(sk(t,e,Xl),t+"")}var ok=9007199254740991;function iv(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ok}function xi(t){return t!=null&&iv(t.length)&&!ir(t)}function yh(t,e,n){if(!sn(n))return!1;var r=typeof e;return(r=="number"?xi(n)&&nv(e,n.length):r=="string"&&e in n)?Yl(n[e],t):!1}function ak(t){return rv(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&yh(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var lk=Object.prototype;function sv(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||lk;return t===n}function H2(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var uk="[object Arguments]";function Pb(t){return _n(t)&&Fr(t)==uk}var G2=Object.prototype,ck=G2.hasOwnProperty,hk=G2.propertyIsEnumerable,dk=Pb(function(){return arguments}())?Pb:function(t){return _n(t)&&ck.call(t,"callee")&&!hk.call(t,"callee")};const El=dk;function fk(){return!1}var W2=typeof Zt=="object"&&Zt&&!Zt.nodeType&&Zt,Ob=W2&&typeof Qt=="object"&&Qt&&!Qt.nodeType&&Qt,pk=Ob&&Ob.exports===W2,Rb=pk?Vn.Buffer:void 0,mk=Rb?Rb.isBuffer:void 0,gk=mk||fk;const Sl=gk;var vk="[object Arguments]",yk="[object Array]",bk="[object Boolean]",xk="[object Date]",wk="[object Error]",_k="[object Function]",Ek="[object Map]",Sk="[object Number]",Ck="[object Object]",Tk="[object RegExp]",Ak="[object Set]",Pk="[object String]",Ok="[object WeakMap]",Rk="[object ArrayBuffer]",Ik="[object DataView]",kk="[object Float32Array]",Mk="[object Float64Array]",Dk="[object Int8Array]",Fk="[object Int16Array]",$k="[object Int32Array]",Bk="[object Uint8Array]",Nk="[object Uint8ClampedArray]",Lk="[object Uint16Array]",Uk="[object Uint32Array]",Oe={};Oe[kk]=Oe[Mk]=Oe[Dk]=Oe[Fk]=Oe[$k]=Oe[Bk]=Oe[Nk]=Oe[Lk]=Oe[Uk]=!0;Oe[vk]=Oe[yk]=Oe[Rk]=Oe[bk]=Oe[Ik]=Oe[xk]=Oe[wk]=Oe[_k]=Oe[Ek]=Oe[Sk]=Oe[Ck]=Oe[Tk]=Oe[Ak]=Oe[Pk]=Oe[Ok]=!1;function jk(t){return _n(t)&&iv(t.length)&&!!Oe[Fr(t)]}function Kl(t){return function(e){return t(e)}}var V2=typeof Zt=="object"&&Zt&&!Zt.nodeType&&Zt,rl=V2&&typeof Qt=="object"&&Qt&&!Qt.nodeType&&Qt,zk=rl&&rl.exports===V2,Df=zk&&D2.process,Hk=function(){try{var t=rl&&rl.require&&rl.require("util").types;return t||Df&&Df.binding&&Df.binding("util")}catch{}}();const ko=Hk;var Ib=ko&&ko.isTypedArray,Gk=Ib?Kl(Ib):jk;const ov=Gk;var Wk=Object.prototype,Vk=Wk.hasOwnProperty;function X2(t,e){var n=et(t),r=!n&&El(t),i=!n&&!r&&Sl(t),s=!n&&!r&&!i&&ov(t),o=n||r||i||s,a=o?H2(t.length,String):[],l=a.length;for(var u in t)(e||Vk.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||nv(u,l)))&&a.push(u);return a}function Y2(t,e){return function(n){return t(e(n))}}var Xk=Y2(Object.keys,Object);const Yk=Xk;var qk=Object.prototype,Kk=qk.hasOwnProperty;function Zk(t){if(!sv(t))return Yk(t);var e=[];for(var n in Object(t))Kk.call(t,n)&&n!="constructor"&&e.push(n);return e}function us(t){return xi(t)?X2(t):Zk(t)}function Qk(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Jk=Object.prototype,eM=Jk.hasOwnProperty;function tM(t){if(!sn(t))return Qk(t);var e=sv(t),n=[];for(var r in t)r=="constructor"&&(e||!eM.call(t,r))||n.push(r);return n}function Zl(t){return xi(t)?X2(t,!0):tM(t)}var nM=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rM=/^\w*$/;function av(t,e){if(et(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Io(t)?!0:rM.test(t)||!nM.test(t)||e!=null&&t in Object(e)}var iM=ls(Object,"create");const Cl=iM;function sM(){this.__data__=Cl?Cl(null):{},this.size=0}function oM(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var aM="__lodash_hash_undefined__",lM=Object.prototype,uM=lM.hasOwnProperty;function cM(t){var e=this.__data__;if(Cl){var n=e[t];return n===aM?void 0:n}return uM.call(e,t)?e[t]:void 0}var hM=Object.prototype,dM=hM.hasOwnProperty;function fM(t){var e=this.__data__;return Cl?e[t]!==void 0:dM.call(e,t)}var pM="__lodash_hash_undefined__";function mM(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Cl&&e===void 0?pM:e,this}function Zi(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Zi.prototype.clear=sM;Zi.prototype.delete=oM;Zi.prototype.get=cM;Zi.prototype.has=fM;Zi.prototype.set=mM;function gM(){this.__data__=[],this.size=0}function dd(t,e){for(var n=t.length;n--;)if(Yl(t[n][0],e))return n;return-1}var vM=Array.prototype,yM=vM.splice;function bM(t){var e=this.__data__,n=dd(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():yM.call(e,n,1),--this.size,!0}function xM(t){var e=this.__data__,n=dd(e,t);return n<0?void 0:e[n][1]}function wM(t){return dd(this.__data__,t)>-1}function _M(t,e){var n=this.__data__,r=dd(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function $r(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}$r.prototype.clear=gM;$r.prototype.delete=bM;$r.prototype.get=xM;$r.prototype.has=wM;$r.prototype.set=_M;var EM=ls(Vn,"Map");const Tl=EM;function SM(){this.size=0,this.__data__={hash:new Zi,map:new(Tl||$r),string:new Zi}}function CM(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function fd(t,e){var n=t.__data__;return CM(e)?n[typeof e=="string"?"string":"hash"]:n.map}function TM(t){var e=fd(this,t).delete(t);return this.size-=e?1:0,e}function AM(t){return fd(this,t).get(t)}function PM(t){return fd(this,t).has(t)}function OM(t,e){var n=fd(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Br(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Br.prototype.clear=SM;Br.prototype.delete=TM;Br.prototype.get=AM;Br.prototype.has=PM;Br.prototype.set=OM;var RM="Expected a function";function lv(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(RM);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(lv.Cache||Br),n}lv.Cache=Br;var IM=500;function kM(t){var e=lv(t,function(r){return n.size===IM&&n.clear(),r}),n=e.cache;return e}var MM=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,DM=/\\(\\)?/g,FM=kM(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(MM,function(n,r,i,s){e.push(i?s.replace(DM,"$1"):r||n)}),e});const $M=FM;function BM(t){return t==null?"":$2(t)}function q2(t,e){return et(t)?t:av(t,e)?[t]:$M(BM(t))}var NM=1/0;function pd(t){if(typeof t=="string"||Io(t))return t;var e=t+"";return e=="0"&&1/t==-NM?"-0":e}function uv(t,e){e=q2(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[pd(e[n++])];return n&&n==r?t:void 0}function LM(t,e,n){var r=t==null?void 0:uv(t,e);return r===void 0?n:r}function cv(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var kb=wn?wn.isConcatSpreadable:void 0;function UM(t){return et(t)||El(t)||!!(kb&&t&&t[kb])}function hv(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=UM),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?hv(a,e-1,n,r,i):cv(i,a):r||(i[i.length]=a)}return i}var jM=Y2(Object.getPrototypeOf,Object);const dv=jM;var zM="[object Object]",HM=Function.prototype,GM=Object.prototype,K2=HM.toString,WM=GM.hasOwnProperty,VM=K2.call(Object);function XM(t){if(!_n(t)||Fr(t)!=zM)return!1;var e=dv(t);if(e===null)return!0;var n=WM.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&K2.call(n)==VM}function YM(t,e,n,r){var i=-1,s=t==null?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}function qM(){this.__data__=new $r,this.size=0}function KM(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function ZM(t){return this.__data__.get(t)}function QM(t){return this.__data__.has(t)}var JM=200;function e4(t,e){var n=this.__data__;if(n instanceof $r){var r=n.__data__;if(!Tl||r.length<JM-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Br(r)}return n.set(t,e),this.size=n.size,this}function jn(t){var e=this.__data__=new $r(t);this.size=e.size}jn.prototype.clear=qM;jn.prototype.delete=KM;jn.prototype.get=ZM;jn.prototype.has=QM;jn.prototype.set=e4;function t4(t,e){return t&&ql(e,us(e),t)}function n4(t,e){return t&&ql(e,Zl(e),t)}var Z2=typeof Zt=="object"&&Zt&&!Zt.nodeType&&Zt,Mb=Z2&&typeof Qt=="object"&&Qt&&!Qt.nodeType&&Qt,r4=Mb&&Mb.exports===Z2,Db=r4?Vn.Buffer:void 0,Fb=Db?Db.allocUnsafe:void 0;function Q2(t,e){if(e)return t.slice();var n=t.length,r=Fb?Fb(n):new t.constructor(n);return t.copy(r),r}function J2(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function eC(){return[]}var i4=Object.prototype,s4=i4.propertyIsEnumerable,$b=Object.getOwnPropertySymbols,o4=$b?function(t){return t==null?[]:(t=Object(t),J2($b(t),function(e){return s4.call(t,e)}))}:eC;const fv=o4;function a4(t,e){return ql(t,fv(t),e)}var l4=Object.getOwnPropertySymbols,u4=l4?function(t){for(var e=[];t;)cv(e,fv(t)),t=dv(t);return e}:eC;const tC=u4;function c4(t,e){return ql(t,tC(t),e)}function nC(t,e,n){var r=e(t);return et(t)?r:cv(r,n(t))}function Rm(t){return nC(t,us,fv)}function h4(t){return nC(t,Zl,tC)}var d4=ls(Vn,"DataView");const Im=d4;var f4=ls(Vn,"Promise");const km=f4;var p4=ls(Vn,"Set");const fo=p4;var Bb="[object Map]",m4="[object Object]",Nb="[object Promise]",Lb="[object Set]",Ub="[object WeakMap]",jb="[object DataView]",g4=as(Im),v4=as(Tl),y4=as(km),b4=as(fo),x4=as(Om),Pi=Fr;(Im&&Pi(new Im(new ArrayBuffer(1)))!=jb||Tl&&Pi(new Tl)!=Bb||km&&Pi(km.resolve())!=Nb||fo&&Pi(new fo)!=Lb||Om&&Pi(new Om)!=Ub)&&(Pi=function(t){var e=Fr(t),n=e==m4?t.constructor:void 0,r=n?as(n):"";if(r)switch(r){case g4:return jb;case v4:return Bb;case y4:return Nb;case b4:return Lb;case x4:return Ub}return e});const Al=Pi;var w4=Object.prototype,_4=w4.hasOwnProperty;function E4(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&_4.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var S4=Vn.Uint8Array;const bh=S4;function pv(t){var e=new t.constructor(t.byteLength);return new bh(e).set(new bh(t)),e}function C4(t,e){var n=e?pv(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var T4=/\w*$/;function A4(t){var e=new t.constructor(t.source,T4.exec(t));return e.lastIndex=t.lastIndex,e}var zb=wn?wn.prototype:void 0,Hb=zb?zb.valueOf:void 0;function P4(t){return Hb?Object(Hb.call(t)):{}}function rC(t,e){var n=e?pv(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var O4="[object Boolean]",R4="[object Date]",I4="[object Map]",k4="[object Number]",M4="[object RegExp]",D4="[object Set]",F4="[object String]",$4="[object Symbol]",B4="[object ArrayBuffer]",N4="[object DataView]",L4="[object Float32Array]",U4="[object Float64Array]",j4="[object Int8Array]",z4="[object Int16Array]",H4="[object Int32Array]",G4="[object Uint8Array]",W4="[object Uint8ClampedArray]",V4="[object Uint16Array]",X4="[object Uint32Array]";function Y4(t,e,n){var r=t.constructor;switch(e){case B4:return pv(t);case O4:case R4:return new r(+t);case N4:return C4(t,n);case L4:case U4:case j4:case z4:case H4:case G4:case W4:case V4:case X4:return rC(t,n);case I4:return new r;case k4:case F4:return new r(t);case M4:return A4(t);case D4:return new r;case $4:return P4(t)}}function iC(t){return typeof t.constructor=="function"&&!sv(t)?U3(dv(t)):{}}var q4="[object Map]";function K4(t){return _n(t)&&Al(t)==q4}var Gb=ko&&ko.isMap,Z4=Gb?Kl(Gb):K4;const Q4=Z4;var J4="[object Set]";function e5(t){return _n(t)&&Al(t)==J4}var Wb=ko&&ko.isSet,t5=Wb?Kl(Wb):e5;const n5=t5;var r5=1,i5=2,s5=4,sC="[object Arguments]",o5="[object Array]",a5="[object Boolean]",l5="[object Date]",u5="[object Error]",oC="[object Function]",c5="[object GeneratorFunction]",h5="[object Map]",d5="[object Number]",aC="[object Object]",f5="[object RegExp]",p5="[object Set]",m5="[object String]",g5="[object Symbol]",v5="[object WeakMap]",y5="[object ArrayBuffer]",b5="[object DataView]",x5="[object Float32Array]",w5="[object Float64Array]",_5="[object Int8Array]",E5="[object Int16Array]",S5="[object Int32Array]",C5="[object Uint8Array]",T5="[object Uint8ClampedArray]",A5="[object Uint16Array]",P5="[object Uint32Array]",Ce={};Ce[sC]=Ce[o5]=Ce[y5]=Ce[b5]=Ce[a5]=Ce[l5]=Ce[x5]=Ce[w5]=Ce[_5]=Ce[E5]=Ce[S5]=Ce[h5]=Ce[d5]=Ce[aC]=Ce[f5]=Ce[p5]=Ce[m5]=Ce[g5]=Ce[C5]=Ce[T5]=Ce[A5]=Ce[P5]=!0;Ce[u5]=Ce[oC]=Ce[v5]=!1;function Ac(t,e,n,r,i,s){var o,a=e&r5,l=e&i5,u=e&s5;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!sn(t))return t;var c=et(t);if(c){if(o=E4(t),!a)return B2(t,o)}else{var h=Al(t),d=h==oC||h==c5;if(Sl(t))return Q2(t,a);if(h==aC||h==sC||d&&!i){if(o=l||d?{}:iC(t),!a)return l?c4(t,n4(o,t)):a4(t,t4(o,t))}else{if(!Ce[h])return i?t:{};o=Y4(t,h,a)}}s||(s=new jn);var f=s.get(t);if(f)return f;s.set(t,o),n5(t)?t.forEach(function(g){o.add(Ac(g,e,n,g,t,s))}):Q4(t)&&t.forEach(function(g,v){o.set(v,Ac(g,e,n,v,t,s))});var p=u?l?h4:Rm:l?Zl:us,m=c?void 0:p(t);return N2(m||t,function(g,v){m&&(v=g,g=t[v]),z2(o,v,Ac(g,e,n,v,t,s))}),o}var O5=4;function qe(t){return Ac(t,O5)}function Vb(t){for(var e=-1,n=t==null?0:t.length,r=0,i=[];++e<n;){var s=t[e];s&&(i[r++]=s)}return i}var R5="__lodash_hash_undefined__";function I5(t){return this.__data__.set(t,R5),this}function k5(t){return this.__data__.has(t)}function Mo(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Br;++e<n;)this.add(t[e])}Mo.prototype.add=Mo.prototype.push=I5;Mo.prototype.has=k5;function lC(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function mv(t,e){return t.has(e)}var M5=1,D5=2;function uC(t,e,n,r,i,s){var o=n&M5,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(t),c=s.get(e);if(u&&c)return u==e&&c==t;var h=-1,d=!0,f=n&D5?new Mo:void 0;for(s.set(t,e),s.set(e,t);++h<a;){var p=t[h],m=e[h];if(r)var g=o?r(m,p,h,e,t,s):r(p,m,h,t,e,s);if(g!==void 0){if(g)continue;d=!1;break}if(f){if(!lC(e,function(v,y){if(!mv(f,y)&&(p===v||i(p,v,n,r,s)))return f.push(y)})){d=!1;break}}else if(!(p===m||i(p,m,n,r,s))){d=!1;break}}return s.delete(t),s.delete(e),d}function F5(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function gv(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var $5=1,B5=2,N5="[object Boolean]",L5="[object Date]",U5="[object Error]",j5="[object Map]",z5="[object Number]",H5="[object RegExp]",G5="[object Set]",W5="[object String]",V5="[object Symbol]",X5="[object ArrayBuffer]",Y5="[object DataView]",Xb=wn?wn.prototype:void 0,Ff=Xb?Xb.valueOf:void 0;function q5(t,e,n,r,i,s,o){switch(n){case Y5:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case X5:return!(t.byteLength!=e.byteLength||!s(new bh(t),new bh(e)));case N5:case L5:case z5:return Yl(+t,+e);case U5:return t.name==e.name&&t.message==e.message;case H5:case W5:return t==e+"";case j5:var a=F5;case G5:var l=r&$5;if(a||(a=gv),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=B5,o.set(t,e);var c=uC(a(t),a(e),r,i,s,o);return o.delete(t),c;case V5:if(Ff)return Ff.call(t)==Ff.call(e)}return!1}var K5=1,Z5=Object.prototype,Q5=Z5.hasOwnProperty;function J5(t,e,n,r,i,s){var o=n&K5,a=Rm(t),l=a.length,u=Rm(e),c=u.length;if(l!=c&&!o)return!1;for(var h=l;h--;){var d=a[h];if(!(o?d in e:Q5.call(e,d)))return!1}var f=s.get(t),p=s.get(e);if(f&&p)return f==e&&p==t;var m=!0;s.set(t,e),s.set(e,t);for(var g=o;++h<l;){d=a[h];var v=t[d],y=e[d];if(r)var b=o?r(y,v,d,e,t,s):r(v,y,d,t,e,s);if(!(b===void 0?v===y||i(v,y,n,r,s):b)){m=!1;break}g||(g=d=="constructor")}if(m&&!g){var x=t.constructor,E=e.constructor;x!=E&&"constructor"in t&&"constructor"in e&&!(typeof x=="function"&&x instanceof x&&typeof E=="function"&&E instanceof E)&&(m=!1)}return s.delete(t),s.delete(e),m}var eD=1,Yb="[object Arguments]",qb="[object Array]",Mu="[object Object]",tD=Object.prototype,Kb=tD.hasOwnProperty;function nD(t,e,n,r,i,s){var o=et(t),a=et(e),l=o?qb:Al(t),u=a?qb:Al(e);l=l==Yb?Mu:l,u=u==Yb?Mu:u;var c=l==Mu,h=u==Mu,d=l==u;if(d&&Sl(t)){if(!Sl(e))return!1;o=!0,c=!1}if(d&&!c)return s||(s=new jn),o||ov(t)?uC(t,e,n,r,i,s):q5(t,e,l,n,r,i,s);if(!(n&eD)){var f=c&&Kb.call(t,"__wrapped__"),p=h&&Kb.call(e,"__wrapped__");if(f||p){var m=f?t.value():t,g=p?e.value():e;return s||(s=new jn),i(m,g,n,r,s)}}return d?(s||(s=new jn),J5(t,e,n,r,i,s)):!1}function vv(t,e,n,r,i){return t===e?!0:t==null||e==null||!_n(t)&&!_n(e)?t!==t&&e!==e:nD(t,e,n,r,vv,i)}var rD=1,iD=2;function sD(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],u=t[l],c=a[1];if(o&&a[2]){if(u===void 0&&!(l in t))return!1}else{var h=new jn;if(r)var d=r(u,c,l,t,e,h);if(!(d===void 0?vv(c,u,rD|iD,r,h):d))return!1}}return!0}function cC(t){return t===t&&!sn(t)}function oD(t){for(var e=us(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,cC(i)]}return e}function hC(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function aD(t){var e=oD(t);return e.length==1&&e[0][2]?hC(e[0][0],e[0][1]):function(n){return n===t||sD(n,t,e)}}function lD(t,e){return t!=null&&e in Object(t)}function uD(t,e,n){e=q2(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=pd(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&iv(i)&&nv(o,i)&&(et(t)||El(t)))}function cD(t,e){return t!=null&&uD(t,e,lD)}var hD=1,dD=2;function fD(t,e){return av(t)&&cC(e)?hC(pd(t),e):function(n){var r=LM(n,t);return r===void 0&&r===e?cD(n,t):vv(e,r,hD|dD)}}function pD(t){return function(e){return e==null?void 0:e[t]}}function mD(t){return function(e){return uv(e,t)}}function gD(t){return av(t)?pD(pd(t)):mD(t)}function wi(t){return typeof t=="function"?t:t==null?Xl:typeof t=="object"?et(t)?fD(t[0],t[1]):aD(t):gD(t)}function vD(t,e,n,r){for(var i=-1,s=t==null?0:t.length;++i<s;){var o=t[i];e(r,o,n(o),t)}return r}function yD(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var bD=yD();const dC=bD;function xD(t,e){return t&&dC(t,e,us)}function wD(t,e){return function(n,r){if(n==null)return n;if(!xi(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var _D=wD(xD);const Vo=_D;function ED(t,e,n,r){return Vo(t,function(i,s,o){e(r,i,n(i),o)}),r}function SD(t,e){return function(n,r){var i=et(n)?vD:ED,s=e?e():{};return i(n,t,wi(r),s)}}var CD=function(){return Vn.Date.now()};const $f=CD;var TD="Expected a function",AD=Math.max,PD=Math.min;function fC(t,e,n){var r,i,s,o,a,l,u=0,c=!1,h=!1,d=!0;if(typeof t!="function")throw new TypeError(TD);e=Pm(e)||0,sn(n)&&(c=!!n.leading,h="maxWait"in n,s=h?AD(Pm(n.maxWait)||0,e):s,d="trailing"in n?!!n.trailing:d);function f(T){var C=r,A=i;return r=i=void 0,u=T,o=t.apply(A,C),o}function p(T){return u=T,a=setTimeout(v,e),c?f(T):o}function m(T){var C=T-l,A=T-u,k=e-C;return h?PD(k,s-A):k}function g(T){var C=T-l,A=T-u;return l===void 0||C>=e||C<0||h&&A>=s}function v(){var T=$f();if(g(T))return y(T);a=setTimeout(v,m(T))}function y(T){return a=void 0,d&&r?f(T):(r=i=void 0,o)}function b(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function x(){return a===void 0?o:y($f())}function E(){var T=$f(),C=g(T);if(r=arguments,i=this,l=T,C){if(a===void 0)return p(l);if(h)return clearTimeout(a),a=setTimeout(v,e),f(l)}return a===void 0&&(a=setTimeout(v,e)),o}return E.cancel=b,E.flush=x,E}function Mm(t,e,n){(n!==void 0&&!Yl(t[e],n)||n===void 0&&!(e in t))&&hd(t,e,n)}function Dm(t){return _n(t)&&xi(t)}function Fm(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function OD(t){return ql(t,Zl(t))}function RD(t,e,n,r,i,s,o){var a=Fm(t,n),l=Fm(e,n),u=o.get(l);if(u){Mm(t,n,u);return}var c=s?s(a,l,n+"",t,e,o):void 0,h=c===void 0;if(h){var d=et(l),f=!d&&Sl(l),p=!d&&!f&&ov(l);c=l,d||f||p?et(a)?c=a:Dm(a)?c=B2(a):f?(h=!1,c=Q2(l,!0)):p?(h=!1,c=rC(l,!0)):c=[]:XM(l)||El(l)?(c=a,El(a)?c=OD(a):(!sn(a)||ir(a))&&(c=iC(l))):h=!1}h&&(o.set(l,c),i(c,l,r,s,o),o.delete(l)),Mm(t,n,c)}function pC(t,e,n,r,i){t!==e&&dC(e,function(s,o){if(i||(i=new jn),sn(s))RD(t,e,o,n,pC,r,i);else{var a=r?r(Fm(t,o),s,o+"",t,e,i):void 0;a===void 0&&(a=s),Mm(t,o,a)}},Zl)}function mC(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var ID=200;function kD(t,e,n,r){var i=-1,s=j2,o=!0,a=t.length,l=[],u=e.length;if(!a)return l;n&&(e=ji(e,Kl(n))),r?(s=mC,o=!1):e.length>=ID&&(s=mv,o=!1,e=new Mo(e));e:for(;++i<a;){var c=t[i],h=n==null?c:n(c);if(c=r||c!==0?c:0,o&&h===h){for(var d=u;d--;)if(e[d]===h)continue e;l.push(c)}else s(e,h,r)||l.push(c)}return l}var MD=rv(function(t,e){return Dm(t)?kD(t,hv(e,1,Dm,!0)):[]});const gC=MD;function vC(t){return typeof t=="function"?t:Xl}function ut(t,e){var n=et(t)?N2:Vo;return n(t,vC(e))}function DD(t,e){var n=[];return Vo(t,function(r,i,s){e(r,i,s)&&n.push(r)}),n}function vn(t,e){var n=et(t)?J2:DD;return n(t,wi(e))}function FD(t){return function(e,n,r){var i=Object(e);if(!xi(e)){var s=wi(n);e=us(e),n=function(a){return s(i[a],a,i)}}var o=t(e,n,r);return o>-1?i[s?e[o]:o]:void 0}}var $D=Math.max;function BD(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:tv(n);return i<0&&(i=$D(r+i,0)),L2(t,wi(e),i)}var ND=FD(BD);const Ie=ND;function yC(t,e){var n=-1,r=xi(t)?Array(t.length):[];return Vo(t,function(i,s,o){r[++n]=e(i,s,o)}),r}function ye(t,e){var n=et(t)?ji:yC;return n(t,wi(e))}var LD=Object.prototype,UD=LD.hasOwnProperty,jD=SD(function(t,e,n){UD.call(t,n)?t[n].push(e):hd(t,n,[e])});const zD=jD;var HD="[object String]";function GD(t){return typeof t=="string"||!et(t)&&_n(t)&&Fr(t)==HD}function WD(t,e){return ji(e,function(n){return t[n]})}function VD(t){return t==null?[]:WD(t,us(t))}var XD=Math.max;function yv(t,e,n,r){t=xi(t)?t:VD(t),n=n&&!r?tv(n):0;var i=t.length;return n<0&&(n=XD(i+n,0)),GD(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&U2(t,e,n)>-1}var YD="[object Number]";function qD(t){return typeof t=="number"||_n(t)&&Fr(t)==YD}function Tr(t){return t===void 0}var KD=ak(function(t,e,n){pC(t,e,n)});const jt=KD;function ZD(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function QD(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=Io(t),o=e!==void 0,a=e===null,l=e===e,u=Io(e);if(!a&&!u&&!s&&t>e||s&&o&&l&&!a&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!u&&t<e||u&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}function JD(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var l=QD(i[r],s[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}function eF(t,e,n){e.length?e=ji(e,function(s){return et(s)?function(o){return uv(o,s.length===1?s[0]:s)}:s}):e=[Xl];var r=-1;e=ji(e,Kl(wi));var i=yC(t,function(s,o,a){var l=ji(e,function(u){return u(s)});return{criteria:l,index:++r,value:s}});return ZD(i,function(s,o){return JD(s,o,n)})}function tF(t,e,n,r,i){return i(t,function(s,o,a){n=r?(r=!1,s):e(n,s,o,a)}),n}function nF(t,e,n){var r=et(t)?YM:tF,i=arguments.length<3;return r(t,wi(e),n,i,Vo)}function rF(t,e){var n;return Vo(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}function iF(t,e,n){var r=et(t)?lC:rF;return n&&yh(t,e,n)&&(e=void 0),r(t,wi(e))}var sF=rv(function(t,e){if(t==null)return[];var n=e.length;return n>1&&yh(t,e[0],e[1])?e=[]:n>2&&yh(e[0],e[1],e[2])&&(e=[e[0]]),eF(t,hv(e,1),[])});const Ql=sF;var oF="Expected a function";function aF(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(oF);return sn(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),fC(t,e,{leading:r,maxWait:e,trailing:i})}var lF=9007199254740991,Bf=4294967295,uF=Math.min;function Jl(t,e){if(t=tv(t),t<1||t>lF)return[];var n=Bf,r=uF(t,Bf);e=vC(e),t-=Bf;for(var i=H2(r,e);++n<t;)e(n);return i}var cF=1/0,hF=fo&&1/gv(new fo([,-0]))[1]==cF?function(t){return new fo(t)}:z3;const dF=hF;var fF=200;function pF(t,e,n){var r=-1,i=j2,s=t.length,o=!0,a=[],l=a;if(n)o=!1,i=mC;else if(s>=fF){var u=e?null:dF(t);if(u)return gv(u);o=!1,i=mv,l=new Mo}else l=e?[]:a;e:for(;++r<s;){var c=t[r],h=e?e(c):c;if(c=n||c!==0?c:0,o&&h===h){for(var d=l.length;d--;)if(l[d]===h)continue e;e&&l.push(h),a.push(c)}else i(l,h,n)||(l!==a&&l.push(h),a.push(c))}return a}function bC(t){return t&&t.length?pF(t):[]}const Xo=_.createContext({});function mF(){const t=window.localStorage.getItem("dragon-stats");return t?JSON.parse(t):[]}const gF=(t,e)=>{const{index:n,stat:r,stats:i,type:s}=e;let o=qe(t);if(s==="save")try{window.localStorage.setItem("dragon-stats",JSON.stringify(o))}catch{}if(s==="add")return o=[...o,r],o;if(s==="set")return o=i,window.localStorage.setItem("dragon-stats",JSON.stringify(o)),o;if(s==="update")return o[n]=r,o;if(s==="remove"){const a=t.findIndex(u=>u.id===r.id);if(a<0)return t;const l=[...t];return l.splice(a,1),l}return t},vF=({children:t})=>{const[e,n]=_.useReducer(gF,mF());return S(Xo.Provider,{value:{stats:e,setStats:n},children:t})},Yo=_.createContext({});function yF(){const t=window.localStorage.getItem("dragon-tagColors");if(t)try{return JSON.parse(t)}catch{return{}}else return{}}const bF=(t,e)=>{const{tag:n,color:r,type:i,colors:s}=e;let o=qe(t);return i==="add"?(o[n]=r,o):i==="set"?(o=s||{},window.localStorage.setItem("dragon-tagColors",JSON.stringify(o)),s):(i==="save"&&window.localStorage.setItem("dragon-tagColors",JSON.stringify(o)),t)},xF=({children:t})=>{const[e,n]=_.useReducer(bF,yF());return S(Yo.Provider,{value:{tagColors:e,setTagColors:n},children:t})},Lt=_.createContext({});function wF(){const t=window.localStorage.getItem("dragon-abilities");return t?JSON.parse(t):[]}function _F(){const t=window.localStorage.getItem("dragon-ability-types");return t?JSON.parse(t):[]}const EF=(t,e)=>{const{targetId:n,index:r,ability:i,abilities:s,type:o}=e;let a=qe(t);if(o==="save")try{window.localStorage.setItem("dragon-abilities",JSON.stringify(a))}catch{}if(o==="add")return a=[...a,i],a;if(o==="set")return a=s,window.localStorage.setItem("dragon-abilities",JSON.stringify(a)),a;if(o==="update")return a=ye(a,l=>l.id===n?i:l),a;if(o==="remove"){const l=t.findIndex(c=>c.id===i.id);if(l<0)return t;const u=[...t];return u.splice(l,1),u}return t},SF=(t,e)=>{const{index:n,abilityType:r,abilityTypes:i,type:s}=e;let o=qe(t);if(s==="save")try{window.localStorage.setItem("dragon-ability-types",JSON.stringify(o))}catch{}if(s==="add")return o=[...o,r],o;if(s==="set")return o=i,window.localStorage.setItem("dragon-ability-types",JSON.stringify(o)),o;if(s==="update")return o[n]=r,o;if(s==="remove"){const a=t.findIndex(u=>u.id===r.id);if(a<0)return t;const l=[...t];return l.splice(a,1),l}return t},CF=({children:t})=>{const[e,n]=_.useReducer(EF,wF()),[r,i]=_.useReducer(SF,_F());return S(Lt.Provider,{value:{abilities:e,setAbilities:n,abilityTypes:r,setAbilityTypes:i},children:t})},TF=[{id:"advanced-flying",name:"Advanced Flying",description:`This unit can fly. It now can exist on three different battlefield planes. The ground, and the air level 1, and air level 2, and air level 3. It costs 1 hex of movement to move upward but not downward.

    Additionally, you are immune to environmental effects.`,type:"passive",tags:["flying"],replaces:"flying"},{id:"aerial-combat",name:"Aerial Combat",type:"passive",description:"Gains +1 on attacks made against flying units.",tags:["flying"]},{id:"aerial-evasion",name:"Aerial Evasion",type:"passive",description:"Gains +1 to AC while in the air.",tags:["flying","defense"]},{id:"alert",name:"Alert",type:"movement",description:"This unit always musters and can muster 1 adjacent unit (during movement).",replaces:"attentive",tags:["defense","mustering"]},{name:"Alter Emotions",id:"alter-emotions",description:"Increase or decrease the organization (HP) of any non-elite group of soldiers by %amt%. ",tags:["enchantment"],type:"action",params:{amt:1}},{id:"aquatic-combat",name:"Aquatic Attack",description:"Add +1 to any attack made from the water.",type:"passive",tags:["aquatic"]},{id:"attack-from-the-deep",name:"Attack from the Deeps",description:"Gain +2 damage on attacks made against other targets in the water that are at ground level.",type:"passive",tags:["aquatic"]},{id:"attentive",name:"Attentive",type:"movement",description:"This unit always musters",tags:["defense","mustering"]},{id:"basic-attack",name:"Basic Attack",description:"You make 1 melee attack against an adjacent enemy. Roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.",type:"action",params:{dmg:0}},{name:"Beguile",id:"beguile",description:`Beguile a unit into one of the following:

Frightened of you - the unit cannot move towards you on its turn.

{compelled}Compelled -  The unit MUST move at least 2 hexes toward you (if it can/it has to try to){/compelled}

{charmed}Charmed - the unit makes %numAttacks% less attack(s) against you{/charmed}`,tags:["enchantment"],type:"action",params:{frightened:1,compelled:0,charmed:0,numAttacks:1}},{id:"bless",name:"Bless",description:"Buff up an ally within range, granting them +1 on their first attack/cantrip strike of their turn.",type:"action",tags:["holy"]},{id:"cantrip-barrage",name:"Cantrip Barrage",description:"Deal 1d6 damage to an enemy.",type:"action",tags:["magic"]},{id:"charge",name:"Charge",type:"movement",description:`If this unit moves 4 hexes in a straight line before becoming adjacent to an enemy they automatically do +%dmg% damage on first melee attack. The movement for the rest of the turn becomes 0. 
        {breakthrough}
          If after a charge, this unit still has remaining movement, it can use that movement to continue on its charge-line through enemy units.
        {/breakthrough}`,params:{dmg:1,breakthrough:0}},{id:"dash",name:"Dash",type:"action",description:"Move %movement% hexes.",params:{movement:2},tags:["movement","fast"]},{id:"dash-expert",name:"Dash Expert",type:"passive",description:"Once per turn, you can replace any one of your attacks with movement up to your speed.",tags:["movement"]},{id:"death-bomb",name:"Death Bomb",type:"action",description:"This unit can dive bomb and forcefully smash itself into enemy units. This kills this unit. It does 2 damage to a target's HP.",tags:["undead","flying"]},{id:"death-ward",name:"Death Ward",description:"Place a ward against death on a unit. If that unit is reduced to 0 HP it instead goes to 2 HP. When this happens the spell is used up and you lose concentration on it.",type:"action",tags:["concentration","holy"]},{id:"defend",name:"Defend",description:`Gain    %hp% hp.

{brace}For this turn, gain the following effects:

1. You are Immune to Charge effects.
2. Enemies that move adjacent to you take 1 damage.
{/brace}`,type:"action",params:{brace:0,hp:1},tags:["healing"]},{id:"deflect",name:"Deflect",type:"reaction",description:`Block 1 ranged attack that is made at you. Declare before the attack is rolled. 

For magic attacks, deflect on a roll of %lowerRange% or higher.`,tags:["defense"],params:{lowerRange:4}},{id:"dive-bomb",name:"Dive Bomb",type:"passive",tags:["flying"],description:"When this unit moves from a higher elevation to a lower elevation it gains +1 damage for each air level it decends through for its next attack."},{id:"diving",name:"Diving",description:"This unit can swim under water. Gain access to a -1 vertical space in water. Gain +3 to AC from units that are ground or above. You get a -2 dice roll on all attacks on units that are at ground or above.",type:"movement",tags:["aquatic"]},{name:"Dominate",id:"dominate",description:"Target the leader of a company of troops and try to control their mind. Against non-elite units (so common soliders and such) this works and the unit is under your control until the battle ends or it loses half its current health. Can only have %unit% unit(s) dominated at a time.",tags:["enchantment"],type:"action",params:{units:1}},{id:"extra-versatile",name:"Extra Versatile",description:"You can choose to take actions before or after each unit of movement.",type:"passive",replaces:"versatile"},{id:"ferry",name:"Ferry",description:"This unit can carry other units on water. It takes 1 action to load an ally (action used during movement). No action required to disembark.",type:"passive",tags:["aquatic","movement"]},{id:"flying",name:"Flying",description:`This unit can fly. It now can exist on two different battlefield planes. The ground, and the air level 1. It costs 1 hex of movement to move upward but not downward.

    Additionally, you are immune to environmental effects.`,type:"passive",tags:["flying"]},{id:"greater-knitting",name:"Greater Knitting",description:"Restore %hp% HP to all adjacent undead units",type:"action",replaces:"knit-flesh",tags:["undead","healing","necromancy"],params:{hp:1}},{id:"guardian",name:"Guardian",type:"reaction",description:"As a reaction, can intercept %attacks% attack(s) going towards an adjacent ally. You now take that attack - also take 1 damage.",tags:["defense"],params:{attacks:1}},{id:"guiding-bolt",name:"Guiding Bolt",description:"You hit an enemy with a blast of light, dealing nonabsorbable damage. Next round, allies have +%roll% on all attacks/cantrip strikes against this target.",type:"action",tags:["holy","piercing"],params:{roll:1}},{id:"knit-flesh",name:"Knit Flesh",description:"Restore %hp% HP to an adjacent undead unit",type:"action",params:{hp:1},tags:["undead","healing","necromancy"]},{id:"mass-knitting",name:"Mass Knitting",description:"Restore %hp% HP to all undead units within 2 hexes (100m area)",type:"action",replaces:"greater-knitting",tags:["undead","healing","necromancy"],params:{hp:1}},{id:"multi-attack",name:"Multi Attack",description:`You make 1 melee attack against an adjacent enemy.
      
      First Attack: 1d6{dmg1}+%dmg1%{/dmg1}  
      Second Attack: 1d6{dmg2}+%dmg2%{/dmg2} `,type:"action",replaces:"basic-attack",params:{dmg1:0,dmg2:0}},{id:"reactive-armor",name:"Reactive Armor",description:"When an enemy attacks you, gain 1 AC. Lose 1 AC at the start of each turn.",type:"passive",tags:["defense"]},{id:"restoration",name:"Restoration",description:"Heal a unit 3 HP within spell range.",type:"action",tags:["holy"]},{id:"smite",name:"Smite",description:`When an attack hits (does damage to HP), you may spend 1 spell slot to make that attack do +%dmg%
      damage`,type:"bonus action",tags:["holy"],params:{dmg:3}},{id:"spellcasting",name:"Spellcasting",description:`You can now cast spells and cantrips. Casting spells and cantrips take action to cast and require 1 spell slot of the coresponding school of magic. 
    Cantrips barrage does not cost a spell slot. 
    
    Range: %range%
    Contentration Bonus: %concentration%`,type:"school",tags:["magic"],params:{range:1,concentration:1}},{id:"spirit-guardians",name:"Spirit Guardians",description:"Call upon spiritual guardians to protect you. You gain %ac% AC and adjacent enemies take %dmg% unabsorbable damage at the start of your turn.",type:"action",tags:["concentration","holy","piercing"],params:{dmg:1,ac:1}},{id:"strafing-run",name:"Strafing Run",type:"passive",tags:["flying"],description:"As part of movement can make a breath attack against up to %targets% target(s) (adjacent to each) that you fly over in a straight line. This costs 1 breath attack use and does half breath damage (but full effect). Costs 1 movement to initiate for each targeted hex."},{id:"submarine-transportation",name:"Submarine Transportation",description:"This unit can carry other units on water and underwater. It takes 1 action to load an ally (action used during movement). No action required to disembark.",type:"passive",tags:["aquatic","movement"],replaces:"ferry"},{id:"swarm",name:"Swarm",type:"action",tags:["flying"],description:"Swarm around an adjacent enemy unit, co-existing in their hex, and blocking ranged attacks against targets other than itself. This unit can now move 3 hexes as a reaction to stay with its swarmed unit, any more movement breaks the swarm. In addition it can choose to be hit by ranged attacks that would pass through its hex."},{id:"swimming",name:"Swimming",description:"If this unit can move up to %movement% hexes in the water. If the unit's speed is less than %movement% it can move up to its speed.",type:"movement",tags:["aquatic"]},{id:"turn-undead",name:"Turn Undead",description:"Deal %dmg% damage to adjacent undead units and force them on their turn to move at least %range% hex away from you and get no closer for %rounds% round.",type:"action",tags:["holy"],params:{dmg:1,range:1,rounds:1}},{id:"versatile",name:"Versatile",description:"You can choose to take actions prior to movement.",type:"passive"},{name:"Command",id:"command",description:"Gain a command aura of %commandRadius% m radius (every adjacent hex)",tags:["command"],type:"passive",params:{commandRadius:50}},{name:"Rally",id:"rally",description:`As an action, allied units in your command aura regain %hp% HP.

{bonus}
1 unit within your command aura can make an attack.
{/bonus}`,tags:["command"],type:"action",params:{bonus:0,hp:1}},{name:"Aggressive Commander",id:"aggro-command",description:"Allied units adjacent to this unit can make 1 extra attack, unmodified.",tags:[],type:"action"},{name:"Energetic Commander",id:"energetic-commander",description:"Allied units in this units command aura can move 1 extra hex.",tags:[],type:"action"},{name:"Rally+",id:"rally-2",description:`As an action, allied units in your command aura regain %hp% HP.

2 units within your command aura can make 1 attack 
OR
1 unit within your command aura can make 2 attacks`,tags:["command"],type:"action",params:{hp:1},replaces:"rally"},{name:"Attack of Opportunity",id:"attack-of-opportunity",description:"This unit can make a single melee attack (with modified damage) against any enemy that moves out of adjacency with it. The attack takes place immediately.",tags:["defense"],type:"reaction"},{name:"Professionals",id:"professionals",description:"This unit is always active (doesnt count to active unit count).",tags:["mustering"],type:"movement"},{name:"Raise Dead",id:"raise-dead",description:"Raise a deceased unit as a zombie horde with %raiseHp%% health.",tags:["necromancy","spell"],type:"action",params:{raiseHp:25}},{name:"Life Drain",id:"raise-dead-copy",description:`Create a link between you and a target within range. Each turn as a bonus action you can tap that link (including turn 1) . Tapping the link deals 1 damage to the target's HP and gives that HP to you. 

 This spell lasts as long as the target remains within 6 hexes of the caster.`,tags:["necromancy","spell","healing","concentration"],type:"action"},{name:"Wither",id:"wither",description:`curse a target within range with:
   
-1 armor
   -1 attack 
   -1 movement

Lasts 2 turns. This spell lasts as long as the target remains within 6 hexes of the caster.`,tags:["spell","necromancy"],type:"action"},{name:"Unrelenting Horde",id:"unrelenting-horde",description:"If this unit kills an adjacent unit. It spawns a new zombie unit from the dead unit. The new zombie has %hpPercent%% health",tags:["undead","necromancy"],type:"passive",params:{hpPercent:50}},{name:"Necromancy",id:"necromancy",description:`You can cast Necromancy spells.

Spell Slots: %slots%
Spells Per action: %spellsPerAction%`,tags:["necromancy"],type:"school",params:{slots:1,spellsPerAction:1}}],AF=[{colors:{unavailable:"#121212",inactive:"#232323",selected:"#d2d2d2"},id:"basic",name:"Basic",description:"Congrats! You are a unit.",cost:1,levelsRequired:1,providedStats:[{id:"hp",modifier:5},{id:"armor",modifier:2}]},{colors:{unavailable:"#878787",inactive:"#818181",selected:"#96b7bd"},id:"basic-magic",requires:"basic",name:"Spellcasting",description:"Grants your unit the ability to cast spells",cost:1,levelsRequired:1,providedAbilities:[{id:"cantrip-barrage",gain:!0},{id:"spellcasting",gain:!0}]},{colors:{unavailable:"#648264",inactive:"#3a913b",selected:"#51db53"},id:"speed",requires:"basic",name:"Speed",description:"Allows you to move one additional hex per turn",levels:8,levelsRequired:1,providedStats:[{id:"movement",modifier:1}]},{colors:{unavailable:"#648264",inactive:"#3a913b",selected:"#51db53"},id:"versatile",requires:"speed",name:"Versatile",description:"Grants the Versatile ability",cost:1,levelsRequired:4,providedAbilities:[{id:"versatile",gain:!0}]},{colors:{unavailable:"#648264",inactive:"#3a913b",selected:"#51db53"},id:"extra-versatile",requires:"versatile",name:"Extra Versatile",description:"Grants the Extra Versatile ability",cost:1,providedAbilities:[{id:"extra-versatile",gain:!0}]},{colors:{unavailable:"#648264",inactive:"#3a913b",selected:"#51db53"},id:"dash",requires:"speed",name:"Dash",description:"Grants the Dash ability",cost:1,levelsRequired:2,providedAbilities:[{id:"dash",gain:!0}]},{colors:{unavailable:"#648264",inactive:"#3a913b",selected:"#51db53"},id:"advanced-dash",requires:"charge",name:"Dash+",description:"Increases the movement of Dash by 2",cost:1,levels:2,providedAbilities:[{id:"dash",modifiers:[{id:"movement",modifier:2}]}]},{colors:{unavailable:"#648264",inactive:"#3a913b",selected:"#51db53"},id:"dash-expert",requires:"advanced-dash",name:"Dash Expert",description:"Grants the Dash Expert ability",cost:1,levelsRequired:2,providedAbilities:[{id:"dash-expert",gain:!0}]},{colors:{unavailable:"#648264",inactive:"#3a913b",selected:"#51db53"},id:"charge",requires:"dash",name:"Charge",description:"Grants the Charge ability",cost:1,providedAbilities:[{id:"charge",gain:!0}]},{colors:{unavailable:"#648264",inactive:"#3a913b",selected:"#51db53"},id:"breakthrough",requires:"charge",name:"Breakthrough",description:"Grants you the ability to continue moving through units after a charge.",cost:1,levelsRequired:1,providedAbilities:[{id:"charge",modifiers:[{id:"breakthrough",modifer:1,modifier:1}]}]},{colors:{unavailable:"#648264",inactive:"#3a913b",selected:"#51db53"},id:"advanced-charge",requires:"charge",name:"Charge+",description:"Increases the movement of Charge by 2",cost:1,providedAbilities:[{id:"charge",modifiers:[{id:"dmg",modifer:1}]}]},{colors:{unavailable:"#506b73",inactive:"#6894a1",selected:"#4dd2f7"},id:"flying",requires:"speed",name:"Flying",description:"Grants you the ability to fly",cost:1,levelsRequired:4,providedAbilities:[{id:"flying",gain:!0}]},{colors:{unavailable:"#506b73",inactive:"#6894a1",selected:"#4dd2f7"},id:"death-bomb",requires:"flying",name:"Death Bomb",description:"Grants you the Death Bomb ability. Must be undead to use.",cost:1,providedAbilities:[{id:"death-bomb",gain:!0}]},{colors:{unavailable:"#506b73",inactive:"#6894a1",selected:"#4dd2f7"},id:"swarm",requires:"flying",name:"Swarm",description:"Grants you the Swarm ability.",cost:1,providedAbilities:[{id:"swarm",gain:!0}]},{colors:{unavailable:"#506b73",inactive:"#6894a1",selected:"#4dd2f7"},id:"strafing-run",requires:"flying",name:"Strafing Run",description:"Grants you the Strafing Run ability.",cost:1,providedAbilities:[{id:"strafing-run",gain:!0}]},{colors:{unavailable:"#506b73",inactive:"#6894a1",selected:"#4dd2f7"},id:"advanced-strafing-run",requires:"strafing-run",name:"Strafing Run+",description:"Increases the number of targets by 3.",levels:2,providedAbilities:[{id:"strafing-run",modifiers:{targets:3}}]},{colors:{unavailable:"#506b73",inactive:"#6894a1",selected:"#4dd2f7"},id:"advanced-flying",requires:"flying",name:"Advanced Flying",description:"Increases the number of targets by 3.",cost:1,providedAbilities:[{id:"advanced-flying",gain:!0}]},{colors:{unavailable:"#506b73",inactive:"#6894a1",selected:"#4dd2f7"},id:"dive-bomb",requires:"advanced-flying",name:"Dive Bomb",description:"Grants you the Dive Bomb ability.",cost:1,providedAbilities:[{id:"dive-bomb",gain:!0}]},{colors:{unavailable:"#506b73",inactive:"#6894a1",selected:"#4dd2f7"},id:"aerial-combat",requires:"advanced-flying",name:"Aerial Combat",description:"Grants you the Aerial Combat ability.",cost:1,providedAbilities:[{id:"aerial-combat",gain:!0}]},{colors:{unavailable:"#506b73",inactive:"#6894a1",selected:"#4dd2f7"},id:"aerial-evasion",requires:"aerial-combat",name:"Aerial Evasion",description:"Grants you the Aerial Evasion ability.",cost:1,providedAbilities:[{id:"aerial-evasion",gain:!0}]},{colors:{unavailable:"#403c3a",inactive:"#5e3c2b",selected:"#cd8150"},id:"armor",requires:"basic",name:"Armor",description:"Adds 1 Armor",levels:7,levelCost:[1,1,2,2,3,4,4],levelsRequired:1,providedStats:[{id:"armor",modifier:1}]},{colors:{unavailable:"#403c3a",inactive:"#5e3c2b",selected:"#cd8150"},id:"attentive",requires:"armor",name:"Attentive",description:"Grants the Attentive ability",levelsRequired:2,providedAbilities:[{id:"attentive",gain:!0}]},{colors:{unavailable:"#403c3a",inactive:"#5e3c2b",selected:"#cd8150"},id:"alert",requires:"attentive",name:"Alert",description:"Grants the Alert ability",providedAbilities:[{id:"alert",gain:!0}]},{colors:{unavailable:"#403c3a",inactive:"#5e3c2b",selected:"#cd8550"},id:"reactive-armor",requires:"armor",name:"Reactive Armor",description:"Sets your AC to 1 and grants Reactive Armor.",cost:1,levelsRequired:5,providedStats:[{id:"armor",set:1,modifier:1}],providedAbilities:[{id:"reactive-armor",gain:!0}]},{colors:{unavailable:"#403c3a",inactive:"#5e3c2b",selected:"#cd8150"},id:"reactive-armor-2",requires:"reactive-armor",name:"Reactive Armor 2",description:"Increases your base AC to 2",cost:1,levelsRequired:1,providedStats:[{id:"armor",set:2,modifier:2}]},{colors:{unavailable:"#403c3a",inactive:"#5e3c2b",selected:"#cd8150"},id:"defend-1",requires:"armor",name:"Defend 1",description:"Grants the ability to defend and adds 1 HP.",cost:1,levelsRequired:1,providedStats:[{id:"hp",modifier:1}],providedAbilities:[{id:"defend",gain:!0}]},{colors:{unavailable:"#8e514f",inactive:"#5e342b",selected:"#d78142"},id:"defend-2",requires:"defend-1",name:"Defend 2",description:"Increases the HP gained by Defend",cost:1,levelsRequired:1,providedAbilities:[{id:"defend",modifier:1,modifiers:[{id:"hp",modifier:1,set:!1}]}]},{colors:{unavailable:"#403c3a",inactive:"#5e3c2b",selected:"#cd8150"},id:"deflect-1",requires:"defend-2",name:"Deflection",description:"Grants the Deflect ability.",cost:1,providedAbilities:[{id:"deflect",gain:!0}]},{colors:{unavailable:"#403c3a",inactive:"#5e3c2b",selected:"#cd8150"},id:"deflect-2",requires:"deflect-1",name:"Deflection+",description:"Makes it easier to deflect magic attacks.",cost:1,levelsRequired:1,providedAbilities:[{id:"deflect",modifiers:[{id:"lowerRange",modifier:-1,set:!1}]}]},{colors:{unavailable:"#403c3a",inactive:"#5e3c2b",selected:"#cd8150"},id:"guardian-1",requires:"defend-1",name:"Guardian",description:"Grants the Guardian ability",cost:1,providedAbilities:[{id:"guardian",gain:!0}]},{colors:{unavailable:"#403c3a",inactive:"#5e3c2b",selected:"#cd8150"},id:"guardian-2",requires:"guardian-1",name:"Guardian+",description:"Allows you guard an additional attack",cost:1,levelsRequired:1,providedAbilities:[{id:"guardian",modifiers:[{id:"attacks",modifier:1,set:!1}]}]},{colors:{unavailable:"#65748f",inactive:"#495d82",selected:"#7391c9"},id:"magic-range-1",requires:"basic-magic",name:"Spell Range",description:"Increases the range of your magic.",levels:3,providedAbilities:[{id:"spellcasting",modifiers:[{id:"range",modifier:1}]}]},{colors:{unavailable:"#65748f",inactive:"#495d82",selected:"#7391c9"},id:"concentration-1",requires:"basic-magic",name:"Concentration+",description:"Add +1 to concentration checks.",levels:2,providedAbilities:[{id:"spellcasting",modifiers:[{id:"concentration",modifier:1}]}]},{colors:{unavailable:"#7a7354",inactive:"#4a4118",selected:"#7f7750"},id:"holy-casting",requires:"basic-magic",name:"Holy-Divine Casting",description:"Grants you the ability to cast Holy/Divine Spells.",cost:1,levelsRequired:1,providedAbilities:[{id:"smite",gain:!0},{id:"guiding-bolt",gain:!0},{id:"death-ward",gain:!0},{id:"restoration",gain:!0},{id:"turn-undead",gain:!0},{id:"bless",gain:!0},{id:"spirit-guardians",gain:!0}]},{colors:{unavailable:"#7a7354",inactive:"#4a4118",selected:"#948540"},id:"holy-power",requires:"holy-casting",name:"Holy Power",description:"Increases the damage of Smite and Guiding Bolt by 1",cost:1,levelsRequired:1,providedAbilities:[{id:"smite",modifiers:[{id:"dmg",modifier:1}]},{id:"guiding-bolt",modifiers:[{id:"dmg",modifier:1}]}]},{colors:{unavailable:"#7a7354",inactive:"#4a4118",selected:"#e6c11d"},id:"advanced-guiding-bolt",requires:"holy-power",name:"Advanced Guiding Bolt",description:"Guiding bolt now gives allies +2 to hit the target next round.",cost:1,levelsRequired:1,providedAbilities:[{id:"guiding-bolt",modifiers:{hit:1}}]},{colors:{unavailable:"#3f5576",inactive:"#235299",selected:"#1a72f5"},id:"swimming",requires:"speed",name:"Swimming",description:"Congrats! You are a unit.",cost:1,levelsRequired:1,providedAbilities:[{id:"swimming",gain:!0}]},{colors:{unavailable:"#3f5576",inactive:"#235299",selected:"#1a72f5"},id:"advanced-swimming",requires:"swimming",name:"Advanded Swimming",description:"Increases potential water speed by 3.",cost:1,levelsRequired:1,providedAbilities:[{id:"swimming",modifiers:{movement:3}}]},{colors:{unavailable:"#3f5576",inactive:"#235299",selected:"#1a72f5"},id:"ferry",requires:"advanced-swimming",name:"Ferry",description:"Grants the Ferry ability",cost:1,providedAbilities:[{id:"ferry",gain:!0}]},{colors:{unavailable:"#3f5576",inactive:"#235299",selected:"#1a72f5"},id:"diving",requires:"advanced-swimming",name:"Diving",description:"Grants the Diving ability",cost:2,providedAbilities:[{id:"diving",gain:!0}]},{colors:{unavailable:"#3f5576",inactive:"#235299",selected:"#1a72f5"},id:"submarine-transportation",requires:"diving",name:"Submarine Transportation",description:"Grants the Submarine Transportation ability",cost:1,providedAbilities:[{id:"submarine-transportation",gain:!0}]},{colors:{unavailable:"#3f5576",inactive:"#235299",selected:"#1a72f5"},id:"attack-from-the-deep",requires:"diving",name:"Attack From The Deep",description:"Grants the Attack From The Deep ability",cost:2,providedAbilities:[{id:"attack-from-the-deep",gain:!0}]},{colors:{unavailable:"#7b5290",inactive:"#6a2b85",selected:"#ab38d9"},id:"191",requires:"basic-magic",name:"Enchantment",cost:1,levelsRequired:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[],gain:!0},{id:"beguile",modifier:1,modifiers:[],gain:!0},{id:"dominate",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7b5290",inactive:"#6a2b85",selected:"#ab38d9"},id:"180",requires:"191",name:"Beguile+",description:"Beguiled opponents can now be Compelled and Charmed.",cost:1,levelsRequired:1,providedAbilities:[{id:"beguile",modifier:1,modifiers:[{id:"compelled",modifier:1,set:!1},{id:"charmed",modifier:1,set:!1}]}]},{colors:{unavailable:"#7b5290",inactive:"#6a2b85",selected:"#ab38d9"},id:"beguile-3",requires:"180",name:"Beguile++",description:"Charmed opponents make 1 fewer attack against you.",cost:1,levelsRequired:1,providedAbilities:[{id:"beguile",modifier:1,modifiers:[{id:"numAttacks",modifier:1,set:!1}]}]},{colors:{unavailable:"#7b5290",inactive:"#6a2b85",selected:"#ab38d9"},id:"alter-emotions-1",requires:"191",name:"Alter Emotions+",cost:1,levelsRequired:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[{id:"amt",modifier:1,set:!1}]}]},{colors:{unavailable:"#7b5290",inactive:"#6a2b85",selected:"#ab38d9"},id:"soothe",requires:"alter-emotions-1",name:"Alter Emotions++",description:"You can cast Alter Emotions on additional targets adjacent to the spell's target.",cost:1,levelsRequired:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[{id:"adjacent",modifier:1,set:!1}]}]},{colors:{unavailable:"#7fbfba",inactive:"#33ada3",selected:"#3ceac8"},id:"command",requires:"basic",name:"Command",cost:1,levelsRequired:1,providedAbilities:[{id:"command",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",inactive:"#33ada3",selected:"#3ceac8"},id:"command-plus",requires:"command",name:"Command+",levels:3,levelCost:[1,1,1],levelsRequired:1,providedAbilities:[{id:"command",modifier:1,modifiers:[{id:"commandRadius",modifier:50,set:!1}]}]},{colors:{unavailable:"#7fbfba",inactive:"#33ada3",selected:"#3ceac8"},id:"aggro-command",requires:"command-plus",name:"Aggressive Commander",cost:1,levelsRequired:1,providedAbilities:[{id:"aggro-command",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",inactive:"#33ada3",selected:"#3ceac8"},id:"command-plus-2",requires:"command-plus",name:"Energetic Commander",cost:1,levelsRequired:"2",providedAbilities:[{id:"energetic-commander",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",inactive:"#33ada3",selected:"#3ceac8"},id:"command-2",requires:"command",name:"Rally",cost:1,levelsRequired:1,providedAbilities:[{id:"rally",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",inactive:"#33ada3",selected:"#3ceac8"},id:"rally+",requires:"command-2",name:"Rally+",cost:1,levelsRequired:1,providedAbilities:[{id:"rally",modifier:1,modifiers:[{id:"hp",modifier:2,set:!1}]},{id:"rally-2",modifiers:[{id:"hp",modifier:2,set:!1}],gain:!1}]},{colors:{unavailable:"#7fbfba",inactive:"#33ada3",selected:"#3ceac8"},id:"command-2-2",requires:"command-2",name:"Ordered Strike",cost:1,levelsRequired:1,providedAbilities:[{id:"rally",modifiers:[{id:"bonus",modifier:1,set:!1}]}]},{colors:{unavailable:"#7fbfba",inactive:"#33ada3",selected:"#3ceac8"},id:"command-2-2-1",requires:"command-2-2",name:"Ordered Strike 2",cost:1,levelsRequired:1,providedAbilities:[{id:"rally-2",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#bd7859",inactive:"#5e342b",selected:"#d48630"},id:"brace",requires:"defend-2",name:"Brace",description:"Brace for attacks while defending, negating charge effects and damaging nearby enemies.",cost:1,levelsRequired:1,providedAbilities:[{id:"defend",modifier:1,modifiers:[{id:"brace",modifier:1,set:!1}]}]},{colors:{unavailable:"#d3976b",inactive:"#9b4c3b",selected:"#d46430"},id:"defend-2-3",requires:"defend-2",name:"Attack of Opportunity",cost:1,levelsRequired:"2",providedAbilities:[{id:"attack-of-opportunity",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#403c3a",inactive:"#5e3c2b",selected:"#cd8150"},id:"professionals",requires:"armor",name:"Professionals",description:'Grants the "Professionals" ability.',cost:1,levelsRequired:"3",providedAbilities:[{id:"professionals",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#8eaf60",inactive:"#62a42b",selected:"#b7ff2c"},id:"basic-magic-5",requires:"basic-magic",name:"Necromancy",description:"Cast Necromancer spells.",cost:1,levelsRequired:1,providedAbilities:[{id:"necromancy",modifier:1,modifiers:[],gain:!0},{id:"raise-dead-copy",modifier:1,modifiers:[],gain:!0},{id:"raise-dead",modifier:1,modifiers:[],gain:!0},{id:"knit-flesh",modifier:1,modifiers:[],gain:!0},{id:"wither",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#8eaf60",inactive:"#62a42b",selected:"#b7ff2c"},id:"necromancy-raise-dead",requires:"basic-magic-5",name:"Raise Dead+",description:"Increases the health of raised units.",cost:1,levelsRequired:1,providedAbilities:[{id:"raise-dead",modifier:1,modifiers:[{id:"raiseHp",modifier:25,set:!1}]}]},{colors:{unavailable:"#8eaf60",inactive:"#62a42b",selected:"#b7ff2c"},id:"necromancy-raise-dead-1",requires:"necromancy-raise-dead",name:"Raise Dead++",description:"Raise units to full health.",cost:1,levelsRequired:1,providedAbilities:[{id:"raise-dead",modifier:1,modifiers:[{id:"raiseHp",modifier:50,set:!1}]}]},{colors:{unavailable:"#8eaf60",inactive:"#62a42b",selected:"#b7ff2c"},id:"necro-prof",requires:"basic-magic-5",name:"Necromantic Profiency",description:"Increases the number of necromancy spells you can cast",levels:2,levelCost:[1,1],levelsRequired:1,providedAbilities:[{id:"necromancy",modifier:1,modifiers:[{id:"slots",modifier:2,set:!1}]}]},{colors:{unavailable:"#8eaf60",inactive:"#62a42b",selected:"#b7ff2c"},id:"necro-prof-1",requires:"necro-prof",name:"Necromantic Mastery",description:"Further increases the number of spells you can cast",cost:1,levelsRequired:1,providedAbilities:[{id:"necromancy",modifier:1,modifiers:[{id:"slots",modifier:1,set:!1}]}]},{colors:{unavailable:"#8eaf60",inactive:"#62a42b",selected:"#b7ff2c"},id:"necro-prof-2",requires:"necro-prof",name:"Necromancer",description:"You can now cast 2 necromancy spells per action.",cost:1,levelsRequired:1,providedAbilities:[{id:"necromancy",modifier:1,modifiers:[{id:"spellsPerAction",modifier:1,set:!1}]}]}],PF={attack:"#2a6ed9",tag:"#c74141",holy:"#d7a435",enchantment:"#ab38d9",defense:"#bb864c",flying:"#6dcb20",aquatic:"#2698a8",magic:"#5269bd",movement:"#459068",undead:"#849064",concentration:"#e28baf",piercing:"#ec9569",command:"#46ddcb",healing:"#e15fab",mustering:"#dca542",necromancy:"#aded23",spell:"#3579cf"},OF=[{id:"armor",name:"Armor"},{id:"hp",name:"Hit Points"},{id:"movement",name:"Movement"}],RF=[{id:"action",name:"Action"},{id:"movement",name:"Movement"},{id:"passive",name:"Passive"},{id:"reaction",name:"Reaction"},{id:"bonus action",name:"Bonus Action"},{id:"school",name:"Magic Proficiency"}],IF={abilities:TF,nodes:AF,tagColors:PF,stats:OF,abilityTypes:RF},qo=_.createContext({});function kF(){const t=window.localStorage.getItem("dragon-build");return t?JSON.parse(t):[]}const MF=(t,e)=>{const{build:n,type:r}=e;let i=qe(t);return r==="imported"?(i=n,i):t},DF=(t,e)=>{const{build:n,type:r}=e;let i=qe(t);return r==="set"?(i=n,window.localStorage.setItem("dragon-build",JSON.stringify(i)),i):t},FF=({children:t})=>{const[e,n]=_.useReducer(DF,kF()),[r,i]=_.useReducer(MF,e==null?void 0:e.exportableBuild);return S(qo.Provider,{value:{build:e,setBuild:n,savedBuild:r,setSavedBuild:i},children:t})};var R={},$F={get exports(){return R},set exports(t){R=t}},BF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",NF=BF,LF=NF;function xC(){}function wC(){}wC.resetWarningCache=xC;var UF=function(){function t(r,i,s,o,a,l){if(l!==LF){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:wC,resetWarningCache:xC};return n.PropTypes=n,n};$F.exports=UF();function $m(){return $m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$m.apply(this,arguments)}function jF(t,e){if(t==null)return{};var n=zF(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zF(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var bv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=jF(t,["color","size"]);return w.createElement("svg",$m({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),w.createElement("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"}))});bv.propTypes={color:R.string,size:R.oneOfType([R.string,R.number])};bv.displayName="BookOpen";const HF=bv;function Bm(){return Bm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bm.apply(this,arguments)}function GF(t,e){if(t==null)return{};var n=WF(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WF(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var xv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=GF(t,["color","size"]);return w.createElement("svg",Bm({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"20 6 9 17 4 12"}))});xv.propTypes={color:R.string,size:R.oneOfType([R.string,R.number])};xv.displayName="Check";const VF=xv;function Nm(){return Nm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nm.apply(this,arguments)}function XF(t,e){if(t==null)return{};var n=YF(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YF(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var wv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=XF(t,["color","size"]);return w.createElement("svg",Nm({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"6 9 12 15 18 9"}))});wv.propTypes={color:R.string,size:R.oneOfType([R.string,R.number])};wv.displayName="ChevronDown";const _C=wv;function Lm(){return Lm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lm.apply(this,arguments)}function qF(t,e){if(t==null)return{};var n=KF(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function KF(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var _v=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=qF(t,["color","size"]);return w.createElement("svg",Lm({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"18 15 12 9 6 15"}))});_v.propTypes={color:R.string,size:R.oneOfType([R.string,R.number])};_v.displayName="ChevronUp";const EC=_v;function Um(){return Um=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Um.apply(this,arguments)}function ZF(t,e){if(t==null)return{};var n=QF(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QF(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Ev=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=ZF(t,["color","size"]);return w.createElement("svg",Um({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"7 13 12 18 17 13"}),w.createElement("polyline",{points:"7 6 12 11 17 6"}))});Ev.propTypes={color:R.string,size:R.oneOfType([R.string,R.number])};Ev.displayName="ChevronsDown";const SC=Ev;function jm(){return jm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jm.apply(this,arguments)}function JF(t,e){if(t==null)return{};var n=e$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function e$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Sv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=JF(t,["color","size"]);return w.createElement("svg",jm({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"11 17 6 12 11 7"}),w.createElement("polyline",{points:"18 17 13 12 18 7"}))});Sv.propTypes={color:R.string,size:R.oneOfType([R.string,R.number])};Sv.displayName="ChevronsLeft";const t$=Sv;function zm(){return zm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zm.apply(this,arguments)}function n$(t,e){if(t==null)return{};var n=r$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function r$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Cv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=n$(t,["color","size"]);return w.createElement("svg",zm({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"13 17 18 12 13 7"}),w.createElement("polyline",{points:"6 17 11 12 6 7"}))});Cv.propTypes={color:R.string,size:R.oneOfType([R.string,R.number])};Cv.displayName="ChevronsRight";const i$=Cv;function Hm(){return Hm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hm.apply(this,arguments)}function s$(t,e){if(t==null)return{};var n=o$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function o$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Tv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=s$(t,["color","size"]);return w.createElement("svg",Hm({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"17 11 12 6 7 11"}),w.createElement("polyline",{points:"17 18 12 13 7 18"}))});Tv.propTypes={color:R.string,size:R.oneOfType([R.string,R.number])};Tv.displayName="ChevronsUp";const CC=Tv;function Gm(){return Gm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gm.apply(this,arguments)}function a$(t,e){if(t==null)return{};var n=l$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function l$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Av=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=a$(t,["color","size"]);return w.createElement("svg",Gm({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),w.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))});Av.propTypes={color:R.string,size:R.oneOfType([R.string,R.number])};Av.displayName="Copy";const Wm=Av;function Vm(){return Vm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vm.apply(this,arguments)}function u$(t,e){if(t==null)return{};var n=c$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function c$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Pv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=u$(t,["color","size"]);return w.createElement("svg",Vm({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),w.createElement("polyline",{points:"7 10 12 15 17 10"}),w.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"}))});Pv.propTypes={color:R.string,size:R.oneOfType([R.string,R.number])};Pv.displayName="Download";const Xm=Pv;function Ym(){return Ym=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ym.apply(this,arguments)}function h$(t,e){if(t==null)return{};var n=d$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function d$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Ov=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=h$(t,["color","size"]);return w.createElement("svg",Ym({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("path",{d:"M12 20h9"}),w.createElement("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"}))});Ov.propTypes={color:R.string,size:R.oneOfType([R.string,R.number])};Ov.displayName="Edit3";const f$=Ov;function qm(){return qm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qm.apply(this,arguments)}function p$(t,e){if(t==null)return{};var n=m$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function m$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Rv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=p$(t,["color","size"]);return w.createElement("svg",qm({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),w.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))});Rv.propTypes={color:R.string,size:R.oneOfType([R.string,R.number])};Rv.displayName="Edit";const TC=Rv;function Km(){return Km=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Km.apply(this,arguments)}function g$(t,e){if(t==null)return{};var n=v$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function v$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Iv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=g$(t,["color","size"]);return w.createElement("svg",Km({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("circle",{cx:"12",cy:"12",r:"10"}),w.createElement("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),w.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}))});Iv.propTypes={color:R.string,size:R.oneOfType([R.string,R.number])};Iv.displayName="HelpCircle";const y$=Iv;function Zm(){return Zm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zm.apply(this,arguments)}function b$(t,e){if(t==null)return{};var n=x$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function x$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var kv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=b$(t,["color","size"]);return w.createElement("svg",Zm({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("circle",{cx:"12",cy:"12",r:"10"}),w.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),w.createElement("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"}))});kv.propTypes={color:R.string,size:R.oneOfType([R.string,R.number])};kv.displayName="Info";const w$=kv;function Qm(){return Qm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qm.apply(this,arguments)}function _$(t,e){if(t==null)return{};var n=E$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function E$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Mv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=_$(t,["color","size"]);return w.createElement("svg",Qm({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),w.createElement("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}))});Mv.propTypes={color:R.string,size:R.oneOfType([R.string,R.number])};Mv.displayName="Lock";const S$=Mv;function Jm(){return Jm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jm.apply(this,arguments)}function C$(t,e){if(t==null)return{};var n=T$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function T$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Dv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=C$(t,["color","size"]);return w.createElement("svg",Jm({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),w.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))});Dv.propTypes={color:R.string,size:R.oneOfType([R.string,R.number])};Dv.displayName="MinusSquare";const A$=Dv;function eg(){return eg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eg.apply(this,arguments)}function P$(t,e){if(t==null)return{};var n=O$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function O$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Fv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=P$(t,["color","size"]);return w.createElement("svg",eg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});Fv.propTypes={color:R.string,size:R.oneOfType([R.string,R.number])};Fv.displayName="Minus";const R$=Fv;function tg(){return tg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tg.apply(this,arguments)}function I$(t,e){if(t==null)return{};var n=k$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function k$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var $v=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=I$(t,["color","size"]);return w.createElement("svg",tg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),w.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),w.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))});$v.propTypes={color:R.string,size:R.oneOfType([R.string,R.number])};$v.displayName="PlusSquare";const Mr=$v;function ng(){return ng=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ng.apply(this,arguments)}function M$(t,e){if(t==null)return{};var n=D$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function D$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Bv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=M$(t,["color","size"]);return w.createElement("svg",ng({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),w.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});Bv.propTypes={color:R.string,size:R.oneOfType([R.string,R.number])};Bv.displayName="Plus";const AC=Bv;function rg(){return rg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rg.apply(this,arguments)}function F$(t,e){if(t==null)return{};var n=$$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Nv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=F$(t,["color","size"]);return w.createElement("svg",rg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"1 4 1 10 7 10"}),w.createElement("polyline",{points:"23 20 23 14 17 14"}),w.createElement("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"}))});Nv.propTypes={color:R.string,size:R.oneOfType([R.string,R.number])};Nv.displayName="RefreshCcw";const B$=Nv;function ig(){return ig=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ig.apply(this,arguments)}function N$(t,e){if(t==null)return{};var n=L$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function L$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Lv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=N$(t,["color","size"]);return w.createElement("svg",ig({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"1 4 1 10 7 10"}),w.createElement("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"}))});Lv.propTypes={color:R.string,size:R.oneOfType([R.string,R.number])};Lv.displayName="RotateCcw";const PC=Lv;function sg(){return sg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sg.apply(this,arguments)}function U$(t,e){if(t==null)return{};var n=j$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function j$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Uv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=U$(t,["color","size"]);return w.createElement("svg",sg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),w.createElement("polyline",{points:"17 21 17 13 7 13 7 21"}),w.createElement("polyline",{points:"7 3 7 8 15 8"}))});Uv.propTypes={color:R.string,size:R.oneOfType([R.string,R.number])};Uv.displayName="Save";const OC=Uv;function og(){return og=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},og.apply(this,arguments)}function z$(t,e){if(t==null)return{};var n=H$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function H$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var jv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=z$(t,["color","size"]);return w.createElement("svg",og({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("circle",{cx:"12",cy:"12",r:"3"}),w.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}))});jv.propTypes={color:R.string,size:R.oneOfType([R.string,R.number])};jv.displayName="Settings";const G$=jv;function ag(){return ag=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ag.apply(this,arguments)}function W$(t,e){if(t==null)return{};var n=V$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function V$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var zv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=W$(t,["color","size"]);return w.createElement("svg",ag({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}))});zv.propTypes={color:R.string,size:R.oneOfType([R.string,R.number])};zv.displayName="Shield";const X$=zv;function lg(){return lg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lg.apply(this,arguments)}function Y$(t,e){if(t==null)return{};var n=q$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function q$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Hv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=Y$(t,["color","size"]);return w.createElement("svg",lg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"3 6 5 6 21 6"}),w.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),w.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),w.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}))});Hv.propTypes={color:R.string,size:R.oneOfType([R.string,R.number])};Hv.displayName="Trash2";const eu=Hv;function ug(){return ug=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ug.apply(this,arguments)}function K$(t,e){if(t==null)return{};var n=Z$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Z$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Gv=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=K$(t,["color","size"]);return w.createElement("svg",ug({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("circle",{cx:"12",cy:"12",r:"10"}),w.createElement("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),w.createElement("line",{x1:"9",y1:"9",x2:"15",y2:"15"}))});Gv.propTypes={color:R.string,size:R.oneOfType([R.string,R.number])};Gv.displayName="XCircle";const RC=Gv;function di({type:t="default",color:e="white",children:n,clicked:r,noPadding:i=!1,disabled:s=!1}){const o=i?{padding:0}:{};return S("button",{className:"smol-button "+t+" "+e+" "+(s?"disabled":""),onClick:s?()=>{}:r,style:o,children:n})}function Q$(t,e,n,r){let i={};return i.borderColor=n,e?(i.color="#1a1a1c",i.backgroundColor=n,i.fontWeight=500):i.color="#fff",r&&(i.borderColor="transparent",i.backgroundColor=n,i.color="#222",i.fontWeight=600,i.borderRadius=12),ir(t)&&(i.cursor="pointer",i.paddingRight="32px"),i}function cg({label:t,clicked:e,selected:n,children:r,emphasize:i}){const{tagColors:s}=_.useContext(Yo),o=a=>{ir(e)&&e(t)};return _.useEffect(()=>{},[t]),U("span",{onClick:o,className:"stat-tag",style:Q$(e,n,s[t]||"#fff",i),children:[t," ",e&&S("div",{className:"check",children:n?S(VF,{size:14}):""}),r&&r]})}function zi({type:t="default",color:e="white",children:n,clicked:r,disabled:i=!1}){return S("button",{className:"big-button "+t+" "+e+" "+(i?"disabled":""),onClick:i?()=>{}:r,children:n})}function J$({value:t,valueChanged:e,className:n="",minWidth:r=48}){const[i,s]=_.useState(+t),[o,a]=_.useState(r),l=_.useRef({offsetWidth:0});_.useEffect(()=>{var h;const c=((h=l==null?void 0:l.current)==null?void 0:h.offsetWidth)+24;a(c>r?c:r)},[i]);const u=c=>{s(+c.target.value),e(+c.target.value)};return U("div",{className:"fancy-text-input form-control "+n,children:[S("span",{className:"hidden-text",ref:l,children:i}),S("input",{value:i,type:"number",style:{width:o},onChange:u})]})}function Qi({value:t,valueChanged:e,className:n,blur:r,minWidth:i=48,placeholder:s="",fullWidth:o=!1,autoFocus:a=void 0}){const[l,u]=_.useState(t),[c,h]=_.useState(o?"100%":i),d=_.useRef({offsetWidth:0}),f=_.useRef(null);_.useEffect(()=>{var m;if(!Tr(l)&&!o){const g=((m=d==null?void 0:d.current)==null?void 0:m.clientWidth)+24;h(g>i?g:i)}},[l]),_.useEffect(()=>{u(t)},[t]),_.useEffect(()=>{var m;!Tr(a)&&a&&((m=f.current)==null||m.focus())},[a]);const p=m=>{e(m.target.value)};return U("div",{className:"fancy-text-input form-control "+n,children:[S("span",{className:"hidden-text",ref:d,children:l}),S("input",{ref:f,placeholder:s,onBlur:r,value:l,type:"text",style:{width:c},onChange:p})]})}function Zb(t={}){return t?ye(Object.keys(t),e=>({name:e,value:t[e]})):[]}function Du(t){let e={};return ut(t,n=>{e[n.name]=n.value}),e}function eB({params:t,paramsChanged:e}){const[n,r]=_.useState(Zb(t));_.useEffect(()=>{r(Zb(t))},[t]);const i=(l,u)=>{let c=qe(n);c[u].name=l,e(Du(c))},s=(l,u)=>{let c=qe(n);c[u].value=l,e(Du(c))},o=()=>{e(Du([...n,{name:"",value:0}]))},a=l=>{let u=qe(n);u.splice(l,1),e(Du(u))};return U("div",{className:"param-editor",children:[n&&ye(n,(l,u)=>U("div",{className:"param-line",children:[S(di,{color:"danger",clicked:()=>a(u),children:S(eu,{size:"18"})}),S(Qi,{minWidth:120,placeholder:"name",className:"param-input",value:l.name,valueChanged:c=>i(c,u)}),S(J$,{className:"param-input",value:l.value,valueChanged:c=>s(c,u)})]})),U(zi,{disabled:iF(n,{name:""}),color:"theme",clicked:o,children:["Add Param ",S(Mr,{size:20})]})]})}var fn={},tu={},tB=typeof Di=="object"&&Di&&Di.Object===Object&&Di,IC=tB,nB=IC,rB=typeof self=="object"&&self&&self.Object===Object&&self,iB=nB||rB||Function("return this")(),fr=iB,sB=fr,oB=sB.Symbol,nu=oB,Qb=nu,kC=Object.prototype,aB=kC.hasOwnProperty,lB=kC.toString,ya=Qb?Qb.toStringTag:void 0;function uB(t){var e=aB.call(t,ya),n=t[ya];try{t[ya]=void 0;var r=!0}catch{}var i=lB.call(t);return r&&(e?t[ya]=n:delete t[ya]),i}var cB=uB,hB=Object.prototype,dB=hB.toString;function fB(t){return dB.call(t)}var pB=fB,Jb=nu,mB=cB,gB=pB,vB="[object Null]",yB="[object Undefined]",ex=Jb?Jb.toStringTag:void 0;function bB(t){return t==null?t===void 0?yB:vB:ex&&ex in Object(t)?mB(t):gB(t)}var cs=bB,xB=Array.isArray,Xn=xB;function wB(t){return t!=null&&typeof t=="object"}var Nr=wB,_B=cs,EB=Xn,SB=Nr,CB="[object String]";function TB(t){return typeof t=="string"||!EB(t)&&SB(t)&&_B(t)==CB}var AB=TB;function PB(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var OB=PB,RB=OB,IB=RB(),kB=IB;function MB(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var DB=MB,FB=cs,$B=Nr,BB="[object Arguments]";function NB(t){return $B(t)&&FB(t)==BB}var LB=NB,tx=LB,UB=Nr,MC=Object.prototype,jB=MC.hasOwnProperty,zB=MC.propertyIsEnumerable,HB=tx(function(){return arguments}())?tx:function(t){return UB(t)&&jB.call(t,"callee")&&!zB.call(t,"callee")},DC=HB,Do={},GB={get exports(){return Do},set exports(t){Do=t}};function WB(){return!1}var VB=WB;(function(t,e){var n=fr,r=VB,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(GB,Do);var XB=9007199254740991,YB=/^(?:0|[1-9]\d*)$/;function qB(t,e){var n=typeof t;return e=e??XB,!!e&&(n=="number"||n!="symbol"&&YB.test(t))&&t>-1&&t%1==0&&t<e}var FC=qB,KB=9007199254740991;function ZB(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=KB}var Wv=ZB,QB=cs,JB=Wv,eN=Nr,tN="[object Arguments]",nN="[object Array]",rN="[object Boolean]",iN="[object Date]",sN="[object Error]",oN="[object Function]",aN="[object Map]",lN="[object Number]",uN="[object Object]",cN="[object RegExp]",hN="[object Set]",dN="[object String]",fN="[object WeakMap]",pN="[object ArrayBuffer]",mN="[object DataView]",gN="[object Float32Array]",vN="[object Float64Array]",yN="[object Int8Array]",bN="[object Int16Array]",xN="[object Int32Array]",wN="[object Uint8Array]",_N="[object Uint8ClampedArray]",EN="[object Uint16Array]",SN="[object Uint32Array]",Re={};Re[gN]=Re[vN]=Re[yN]=Re[bN]=Re[xN]=Re[wN]=Re[_N]=Re[EN]=Re[SN]=!0;Re[tN]=Re[nN]=Re[pN]=Re[rN]=Re[mN]=Re[iN]=Re[sN]=Re[oN]=Re[aN]=Re[lN]=Re[uN]=Re[cN]=Re[hN]=Re[dN]=Re[fN]=!1;function CN(t){return eN(t)&&JB(t.length)&&!!Re[QB(t)]}var TN=CN;function AN(t){return function(e){return t(e)}}var Vv=AN,Fo={},PN={get exports(){return Fo},set exports(t){Fo=t}};(function(t,e){var n=IC,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(PN,Fo);var ON=TN,RN=Vv,nx=Fo,rx=nx&&nx.isTypedArray,IN=rx?RN(rx):ON,$C=IN,kN=DB,MN=DC,DN=Xn,FN=Do,$N=FC,BN=$C,NN=Object.prototype,LN=NN.hasOwnProperty;function UN(t,e){var n=DN(t),r=!n&&MN(t),i=!n&&!r&&FN(t),s=!n&&!r&&!i&&BN(t),o=n||r||i||s,a=o?kN(t.length,String):[],l=a.length;for(var u in t)(e||LN.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||$N(u,l)))&&a.push(u);return a}var BC=UN,jN=Object.prototype;function zN(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||jN;return t===n}var Xv=zN;function HN(t,e){return function(n){return t(e(n))}}var NC=HN,GN=NC,WN=GN(Object.keys,Object),VN=WN,XN=Xv,YN=VN,qN=Object.prototype,KN=qN.hasOwnProperty;function ZN(t){if(!XN(t))return YN(t);var e=[];for(var n in Object(t))KN.call(t,n)&&n!="constructor"&&e.push(n);return e}var QN=ZN;function JN(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ko=JN,eL=cs,tL=Ko,nL="[object AsyncFunction]",rL="[object Function]",iL="[object GeneratorFunction]",sL="[object Proxy]";function oL(t){if(!tL(t))return!1;var e=eL(t);return e==rL||e==iL||e==nL||e==sL}var LC=oL,aL=LC,lL=Wv;function uL(t){return t!=null&&lL(t.length)&&!aL(t)}var md=uL,cL=BC,hL=QN,dL=md;function fL(t){return dL(t)?cL(t):hL(t)}var ru=fL,pL=kB,mL=ru;function gL(t,e){return t&&pL(t,e,mL)}var UC=gL;function vL(t){return t}var jC=vL,yL=jC;function bL(t){return typeof t=="function"?t:yL}var xL=bL,wL=UC,_L=xL;function EL(t,e){return t&&wL(t,_L(e))}var Yv=EL,SL=NC,CL=SL(Object.getPrototypeOf,Object),qv=CL,TL=cs,AL=qv,PL=Nr,OL="[object Object]",RL=Function.prototype,IL=Object.prototype,zC=RL.toString,kL=IL.hasOwnProperty,ML=zC.call(Object);function DL(t){if(!PL(t)||TL(t)!=OL)return!1;var e=AL(t);if(e===null)return!0;var n=kL.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&zC.call(n)==ML}var FL=DL;function $L(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var HC=$L;function BL(){this.__data__=[],this.size=0}var NL=BL;function LL(t,e){return t===e||t!==t&&e!==e}var Kv=LL,UL=Kv;function jL(t,e){for(var n=t.length;n--;)if(UL(t[n][0],e))return n;return-1}var gd=jL,zL=gd,HL=Array.prototype,GL=HL.splice;function WL(t){var e=this.__data__,n=zL(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():GL.call(e,n,1),--this.size,!0}var VL=WL,XL=gd;function YL(t){var e=this.__data__,n=XL(e,t);return n<0?void 0:e[n][1]}var qL=YL,KL=gd;function ZL(t){return KL(this.__data__,t)>-1}var QL=ZL,JL=gd;function e6(t,e){var n=this.__data__,r=JL(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var t6=e6,n6=NL,r6=VL,i6=qL,s6=QL,o6=t6;function Zo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Zo.prototype.clear=n6;Zo.prototype.delete=r6;Zo.prototype.get=i6;Zo.prototype.has=s6;Zo.prototype.set=o6;var vd=Zo,a6=vd;function l6(){this.__data__=new a6,this.size=0}var u6=l6;function c6(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var h6=c6;function d6(t){return this.__data__.get(t)}var f6=d6;function p6(t){return this.__data__.has(t)}var m6=p6,g6=fr,v6=g6["__core-js_shared__"],y6=v6,Nf=y6,ix=function(){var t=/[^.]+$/.exec(Nf&&Nf.keys&&Nf.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function b6(t){return!!ix&&ix in t}var x6=b6,w6=Function.prototype,_6=w6.toString;function E6(t){if(t!=null){try{return _6.call(t)}catch{}try{return t+""}catch{}}return""}var GC=E6,S6=LC,C6=x6,T6=Ko,A6=GC,P6=/[\\^$.*+?()[\]{}|]/g,O6=/^\[object .+?Constructor\]$/,R6=Function.prototype,I6=Object.prototype,k6=R6.toString,M6=I6.hasOwnProperty,D6=RegExp("^"+k6.call(M6).replace(P6,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function F6(t){if(!T6(t)||C6(t))return!1;var e=S6(t)?D6:O6;return e.test(A6(t))}var $6=F6;function B6(t,e){return t==null?void 0:t[e]}var N6=B6,L6=$6,U6=N6;function j6(t,e){var n=U6(t,e);return L6(n)?n:void 0}var hs=j6,z6=hs,H6=fr,G6=z6(H6,"Map"),Zv=G6,W6=hs,V6=W6(Object,"create"),yd=V6,sx=yd;function X6(){this.__data__=sx?sx(null):{},this.size=0}var Y6=X6;function q6(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var K6=q6,Z6=yd,Q6="__lodash_hash_undefined__",J6=Object.prototype,e8=J6.hasOwnProperty;function t8(t){var e=this.__data__;if(Z6){var n=e[t];return n===Q6?void 0:n}return e8.call(e,t)?e[t]:void 0}var n8=t8,r8=yd,i8=Object.prototype,s8=i8.hasOwnProperty;function o8(t){var e=this.__data__;return r8?e[t]!==void 0:s8.call(e,t)}var a8=o8,l8=yd,u8="__lodash_hash_undefined__";function c8(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=l8&&e===void 0?u8:e,this}var h8=c8,d8=Y6,f8=K6,p8=n8,m8=a8,g8=h8;function Qo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Qo.prototype.clear=d8;Qo.prototype.delete=f8;Qo.prototype.get=p8;Qo.prototype.has=m8;Qo.prototype.set=g8;var v8=Qo,ox=v8,y8=vd,b8=Zv;function x8(){this.size=0,this.__data__={hash:new ox,map:new(b8||y8),string:new ox}}var w8=x8;function _8(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var E8=_8,S8=E8;function C8(t,e){var n=t.__data__;return S8(e)?n[typeof e=="string"?"string":"hash"]:n.map}var bd=C8,T8=bd;function A8(t){var e=T8(this,t).delete(t);return this.size-=e?1:0,e}var P8=A8,O8=bd;function R8(t){return O8(this,t).get(t)}var I8=R8,k8=bd;function M8(t){return k8(this,t).has(t)}var D8=M8,F8=bd;function $8(t,e){var n=F8(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var B8=$8,N8=w8,L8=P8,U8=I8,j8=D8,z8=B8;function Jo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Jo.prototype.clear=N8;Jo.prototype.delete=L8;Jo.prototype.get=U8;Jo.prototype.has=j8;Jo.prototype.set=z8;var Qv=Jo,H8=vd,G8=Zv,W8=Qv,V8=200;function X8(t,e){var n=this.__data__;if(n instanceof H8){var r=n.__data__;if(!G8||r.length<V8-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new W8(r)}return n.set(t,e),this.size=n.size,this}var Y8=X8,q8=vd,K8=u6,Z8=h6,Q8=f6,J8=m6,eU=Y8;function ea(t){var e=this.__data__=new q8(t);this.size=e.size}ea.prototype.clear=K8;ea.prototype.delete=Z8;ea.prototype.get=Q8;ea.prototype.has=J8;ea.prototype.set=eU;var Jv=ea,tU="__lodash_hash_undefined__";function nU(t){return this.__data__.set(t,tU),this}var rU=nU;function iU(t){return this.__data__.has(t)}var sU=iU,oU=Qv,aU=rU,lU=sU;function xh(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new oU;++e<n;)this.add(t[e])}xh.prototype.add=xh.prototype.push=aU;xh.prototype.has=lU;var uU=xh;function cU(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var hU=cU;function dU(t,e){return t.has(e)}var fU=dU,pU=uU,mU=hU,gU=fU,vU=1,yU=2;function bU(t,e,n,r,i,s){var o=n&vU,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(t),c=s.get(e);if(u&&c)return u==e&&c==t;var h=-1,d=!0,f=n&yU?new pU:void 0;for(s.set(t,e),s.set(e,t);++h<a;){var p=t[h],m=e[h];if(r)var g=o?r(m,p,h,e,t,s):r(p,m,h,t,e,s);if(g!==void 0){if(g)continue;d=!1;break}if(f){if(!mU(e,function(v,y){if(!gU(f,y)&&(p===v||i(p,v,n,r,s)))return f.push(y)})){d=!1;break}}else if(!(p===m||i(p,m,n,r,s))){d=!1;break}}return s.delete(t),s.delete(e),d}var WC=bU,xU=fr,wU=xU.Uint8Array,VC=wU;function _U(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var EU=_U;function SU(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var CU=SU,ax=nu,lx=VC,TU=Kv,AU=WC,PU=EU,OU=CU,RU=1,IU=2,kU="[object Boolean]",MU="[object Date]",DU="[object Error]",FU="[object Map]",$U="[object Number]",BU="[object RegExp]",NU="[object Set]",LU="[object String]",UU="[object Symbol]",jU="[object ArrayBuffer]",zU="[object DataView]",ux=ax?ax.prototype:void 0,Lf=ux?ux.valueOf:void 0;function HU(t,e,n,r,i,s,o){switch(n){case zU:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case jU:return!(t.byteLength!=e.byteLength||!s(new lx(t),new lx(e)));case kU:case MU:case $U:return TU(+t,+e);case DU:return t.name==e.name&&t.message==e.message;case BU:case LU:return t==e+"";case FU:var a=PU;case NU:var l=r&RU;if(a||(a=OU),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=IU,o.set(t,e);var c=AU(a(t),a(e),r,i,s,o);return o.delete(t),c;case UU:if(Lf)return Lf.call(t)==Lf.call(e)}return!1}var GU=HU;function WU(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var XC=WU,VU=XC,XU=Xn;function YU(t,e,n){var r=e(t);return XU(t)?r:VU(r,n(t))}var YC=YU;function qU(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var KU=qU;function ZU(){return[]}var qC=ZU,QU=KU,JU=qC,e7=Object.prototype,t7=e7.propertyIsEnumerable,cx=Object.getOwnPropertySymbols,n7=cx?function(t){return t==null?[]:(t=Object(t),QU(cx(t),function(e){return t7.call(t,e)}))}:JU,ey=n7,r7=YC,i7=ey,s7=ru;function o7(t){return r7(t,s7,i7)}var KC=o7,hx=KC,a7=1,l7=Object.prototype,u7=l7.hasOwnProperty;function c7(t,e,n,r,i,s){var o=n&a7,a=hx(t),l=a.length,u=hx(e),c=u.length;if(l!=c&&!o)return!1;for(var h=l;h--;){var d=a[h];if(!(o?d in e:u7.call(e,d)))return!1}var f=s.get(t),p=s.get(e);if(f&&p)return f==e&&p==t;var m=!0;s.set(t,e),s.set(e,t);for(var g=o;++h<l;){d=a[h];var v=t[d],y=e[d];if(r)var b=o?r(y,v,d,e,t,s):r(v,y,d,t,e,s);if(!(b===void 0?v===y||i(v,y,n,r,s):b)){m=!1;break}g||(g=d=="constructor")}if(m&&!g){var x=t.constructor,E=e.constructor;x!=E&&"constructor"in t&&"constructor"in e&&!(typeof x=="function"&&x instanceof x&&typeof E=="function"&&E instanceof E)&&(m=!1)}return s.delete(t),s.delete(e),m}var h7=c7,d7=hs,f7=fr,p7=d7(f7,"DataView"),m7=p7,g7=hs,v7=fr,y7=g7(v7,"Promise"),b7=y7,x7=hs,w7=fr,_7=x7(w7,"Set"),E7=_7,S7=hs,C7=fr,T7=S7(C7,"WeakMap"),A7=T7,hg=m7,dg=Zv,fg=b7,pg=E7,mg=A7,ZC=cs,ta=GC,dx="[object Map]",P7="[object Object]",fx="[object Promise]",px="[object Set]",mx="[object WeakMap]",gx="[object DataView]",O7=ta(hg),R7=ta(dg),I7=ta(fg),k7=ta(pg),M7=ta(mg),Oi=ZC;(hg&&Oi(new hg(new ArrayBuffer(1)))!=gx||dg&&Oi(new dg)!=dx||fg&&Oi(fg.resolve())!=fx||pg&&Oi(new pg)!=px||mg&&Oi(new mg)!=mx)&&(Oi=function(t){var e=ZC(t),n=e==P7?t.constructor:void 0,r=n?ta(n):"";if(r)switch(r){case O7:return gx;case R7:return dx;case I7:return fx;case k7:return px;case M7:return mx}return e});var xd=Oi,Uf=Jv,D7=WC,F7=GU,$7=h7,vx=xd,yx=Xn,bx=Do,B7=$C,N7=1,xx="[object Arguments]",wx="[object Array]",Fu="[object Object]",L7=Object.prototype,_x=L7.hasOwnProperty;function U7(t,e,n,r,i,s){var o=yx(t),a=yx(e),l=o?wx:vx(t),u=a?wx:vx(e);l=l==xx?Fu:l,u=u==xx?Fu:u;var c=l==Fu,h=u==Fu,d=l==u;if(d&&bx(t)){if(!bx(e))return!1;o=!0,c=!1}if(d&&!c)return s||(s=new Uf),o||B7(t)?D7(t,e,n,r,i,s):F7(t,e,l,n,r,i,s);if(!(n&N7)){var f=c&&_x.call(t,"__wrapped__"),p=h&&_x.call(e,"__wrapped__");if(f||p){var m=f?t.value():t,g=p?e.value():e;return s||(s=new Uf),i(m,g,n,r,s)}}return d?(s||(s=new Uf),$7(t,e,n,r,i,s)):!1}var j7=U7,z7=j7,Ex=Nr;function QC(t,e,n,r,i){return t===e?!0:t==null||e==null||!Ex(t)&&!Ex(e)?t!==t&&e!==e:z7(t,e,n,r,QC,i)}var JC=QC,H7=Jv,G7=JC,W7=1,V7=2;function X7(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],u=t[l],c=a[1];if(o&&a[2]){if(u===void 0&&!(l in t))return!1}else{var h=new H7;if(r)var d=r(u,c,l,t,e,h);if(!(d===void 0?G7(c,u,W7|V7,r,h):d))return!1}}return!0}var Y7=X7,q7=Ko;function K7(t){return t===t&&!q7(t)}var eT=K7,Z7=eT,Q7=ru;function J7(t){for(var e=Q7(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Z7(i)]}return e}var e9=J7;function t9(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var tT=t9,n9=Y7,r9=e9,i9=tT;function s9(t){var e=r9(t);return e.length==1&&e[0][2]?i9(e[0][0],e[0][1]):function(n){return n===t||n9(n,t,e)}}var o9=s9,a9=cs,l9=Nr,u9="[object Symbol]";function c9(t){return typeof t=="symbol"||l9(t)&&a9(t)==u9}var ty=c9,h9=Xn,d9=ty,f9=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,p9=/^\w*$/;function m9(t,e){if(h9(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||d9(t)?!0:p9.test(t)||!f9.test(t)||e!=null&&t in Object(e)}var ny=m9,nT=Qv,g9="Expected a function";function ry(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(g9);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(ry.Cache||nT),n}ry.Cache=nT;var v9=ry,y9=v9,b9=500;function x9(t){var e=y9(t,function(r){return n.size===b9&&n.clear(),r}),n=e.cache;return e}var w9=x9,_9=w9,E9=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,S9=/\\(\\)?/g,C9=_9(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(E9,function(n,r,i,s){e.push(i?s.replace(S9,"$1"):r||n)}),e}),T9=C9,Sx=nu,A9=HC,P9=Xn,O9=ty,R9=1/0,Cx=Sx?Sx.prototype:void 0,Tx=Cx?Cx.toString:void 0;function rT(t){if(typeof t=="string")return t;if(P9(t))return A9(t,rT)+"";if(O9(t))return Tx?Tx.call(t):"";var e=t+"";return e=="0"&&1/t==-R9?"-0":e}var I9=rT,k9=I9;function M9(t){return t==null?"":k9(t)}var D9=M9,F9=Xn,$9=ny,B9=T9,N9=D9;function L9(t,e){return F9(t)?t:$9(t,e)?[t]:B9(N9(t))}var iT=L9,U9=ty,j9=1/0;function z9(t){if(typeof t=="string"||U9(t))return t;var e=t+"";return e=="0"&&1/t==-j9?"-0":e}var wd=z9,H9=iT,G9=wd;function W9(t,e){e=H9(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[G9(e[n++])];return n&&n==r?t:void 0}var sT=W9,V9=sT;function X9(t,e,n){var r=t==null?void 0:V9(t,e);return r===void 0?n:r}var Y9=X9;function q9(t,e){return t!=null&&e in Object(t)}var K9=q9,Z9=iT,Q9=DC,J9=Xn,ej=FC,tj=Wv,nj=wd;function rj(t,e,n){e=Z9(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=nj(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&tj(i)&&ej(o,i)&&(J9(t)||Q9(t)))}var ij=rj,sj=K9,oj=ij;function aj(t,e){return t!=null&&oj(t,e,sj)}var lj=aj,uj=JC,cj=Y9,hj=lj,dj=ny,fj=eT,pj=tT,mj=wd,gj=1,vj=2;function yj(t,e){return dj(t)&&fj(e)?pj(mj(t),e):function(n){var r=cj(n,t);return r===void 0&&r===e?hj(n,t):uj(e,r,gj|vj)}}var bj=yj;function xj(t){return function(e){return e==null?void 0:e[t]}}var wj=xj,_j=sT;function Ej(t){return function(e){return _j(e,t)}}var Sj=Ej,Cj=wj,Tj=Sj,Aj=ny,Pj=wd;function Oj(t){return Aj(t)?Cj(Pj(t)):Tj(t)}var Rj=Oj,Ij=o9,kj=bj,Mj=jC,Dj=Xn,Fj=Rj;function $j(t){return typeof t=="function"?t:t==null?Mj:typeof t=="object"?Dj(t)?kj(t[0],t[1]):Ij(t):Fj(t)}var Bj=$j,Nj=md;function Lj(t,e){return function(n,r){if(n==null)return n;if(!Nj(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var Uj=Lj,jj=UC,zj=Uj,Hj=zj(jj),Gj=Hj,Wj=Gj,Vj=md;function Xj(t,e){var n=-1,r=Vj(t)?Array(t.length):[];return Wj(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var Yj=Xj,qj=HC,Kj=Bj,Zj=Yj,Qj=Xn;function Jj(t,e){var n=Qj(t)?qj:Zj;return n(t,Kj(e))}var ez=Jj;Object.defineProperty(tu,"__esModule",{value:!0});tu.flattenNames=void 0;var tz=AB,nz=_d(tz),rz=Yv,iz=_d(rz),sz=FL,oz=_d(sz),az=ez,lz=_d(az);function _d(t){return t&&t.__esModule?t:{default:t}}var uz=tu.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,lz.default)(e,function(r){Array.isArray(r)?t(r).map(function(i){return n.push(i)}):(0,oz.default)(r)?(0,iz.default)(r,function(i,s){i===!0&&n.push(s),n.push(s+"-"+i)}):(0,nz.default)(r)&&n.push(r)}),n};tu.default=uz;var iu={};function cz(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var hz=cz,dz=hs,fz=function(){try{var t=dz(Object,"defineProperty");return t({},"",{}),t}catch{}}(),pz=fz,Ax=pz;function mz(t,e,n){e=="__proto__"&&Ax?Ax(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var oT=mz,gz=oT,vz=Kv,yz=Object.prototype,bz=yz.hasOwnProperty;function xz(t,e,n){var r=t[e];(!(bz.call(t,e)&&vz(r,n))||n===void 0&&!(e in t))&&gz(t,e,n)}var aT=xz,wz=aT,_z=oT;function Ez(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?_z(n,a,l):wz(n,a,l)}return n}var Ed=Ez,Sz=Ed,Cz=ru;function Tz(t,e){return t&&Sz(e,Cz(e),t)}var Az=Tz;function Pz(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Oz=Pz,Rz=Ko,Iz=Xv,kz=Oz,Mz=Object.prototype,Dz=Mz.hasOwnProperty;function Fz(t){if(!Rz(t))return kz(t);var e=Iz(t),n=[];for(var r in t)r=="constructor"&&(e||!Dz.call(t,r))||n.push(r);return n}var $z=Fz,Bz=BC,Nz=$z,Lz=md;function Uz(t){return Lz(t)?Bz(t,!0):Nz(t)}var iy=Uz,jz=Ed,zz=iy;function Hz(t,e){return t&&jz(e,zz(e),t)}var Gz=Hz,wh={},Wz={get exports(){return wh},set exports(t){wh=t}};(function(t,e){var n=fr,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var h=u.length,d=a?a(h):new u.constructor(h);return u.copy(d),d}t.exports=l})(Wz,wh);function Vz(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var Xz=Vz,Yz=Ed,qz=ey;function Kz(t,e){return Yz(t,qz(t),e)}var Zz=Kz,Qz=XC,Jz=qv,eH=ey,tH=qC,nH=Object.getOwnPropertySymbols,rH=nH?function(t){for(var e=[];t;)Qz(e,eH(t)),t=Jz(t);return e}:tH,lT=rH,iH=Ed,sH=lT;function oH(t,e){return iH(t,sH(t),e)}var aH=oH,lH=YC,uH=lT,cH=iy;function hH(t){return lH(t,cH,uH)}var dH=hH,fH=Object.prototype,pH=fH.hasOwnProperty;function mH(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&pH.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var gH=mH,Px=VC;function vH(t){var e=new t.constructor(t.byteLength);return new Px(e).set(new Px(t)),e}var sy=vH,yH=sy;function bH(t,e){var n=e?yH(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var xH=bH,wH=/\w*$/;function _H(t){var e=new t.constructor(t.source,wH.exec(t));return e.lastIndex=t.lastIndex,e}var EH=_H,Ox=nu,Rx=Ox?Ox.prototype:void 0,Ix=Rx?Rx.valueOf:void 0;function SH(t){return Ix?Object(Ix.call(t)):{}}var CH=SH,TH=sy;function AH(t,e){var n=e?TH(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var PH=AH,OH=sy,RH=xH,IH=EH,kH=CH,MH=PH,DH="[object Boolean]",FH="[object Date]",$H="[object Map]",BH="[object Number]",NH="[object RegExp]",LH="[object Set]",UH="[object String]",jH="[object Symbol]",zH="[object ArrayBuffer]",HH="[object DataView]",GH="[object Float32Array]",WH="[object Float64Array]",VH="[object Int8Array]",XH="[object Int16Array]",YH="[object Int32Array]",qH="[object Uint8Array]",KH="[object Uint8ClampedArray]",ZH="[object Uint16Array]",QH="[object Uint32Array]";function JH(t,e,n){var r=t.constructor;switch(e){case zH:return OH(t);case DH:case FH:return new r(+t);case HH:return RH(t,n);case GH:case WH:case VH:case XH:case YH:case qH:case KH:case ZH:case QH:return MH(t,n);case $H:return new r;case BH:case UH:return new r(t);case NH:return IH(t);case LH:return new r;case jH:return kH(t)}}var eG=JH,tG=Ko,kx=Object.create,nG=function(){function t(){}return function(e){if(!tG(e))return{};if(kx)return kx(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),rG=nG,iG=rG,sG=qv,oG=Xv;function aG(t){return typeof t.constructor=="function"&&!oG(t)?iG(sG(t)):{}}var lG=aG,uG=xd,cG=Nr,hG="[object Map]";function dG(t){return cG(t)&&uG(t)==hG}var fG=dG,pG=fG,mG=Vv,Mx=Fo,Dx=Mx&&Mx.isMap,gG=Dx?mG(Dx):pG,vG=gG,yG=xd,bG=Nr,xG="[object Set]";function wG(t){return bG(t)&&yG(t)==xG}var _G=wG,EG=_G,SG=Vv,Fx=Fo,$x=Fx&&Fx.isSet,CG=$x?SG($x):EG,TG=CG,AG=Jv,PG=hz,OG=aT,RG=Az,IG=Gz,kG=wh,MG=Xz,DG=Zz,FG=aH,$G=KC,BG=dH,NG=xd,LG=gH,UG=eG,jG=lG,zG=Xn,HG=Do,GG=vG,WG=Ko,VG=TG,XG=ru,YG=iy,qG=1,KG=2,ZG=4,uT="[object Arguments]",QG="[object Array]",JG="[object Boolean]",eW="[object Date]",tW="[object Error]",cT="[object Function]",nW="[object GeneratorFunction]",rW="[object Map]",iW="[object Number]",hT="[object Object]",sW="[object RegExp]",oW="[object Set]",aW="[object String]",lW="[object Symbol]",uW="[object WeakMap]",cW="[object ArrayBuffer]",hW="[object DataView]",dW="[object Float32Array]",fW="[object Float64Array]",pW="[object Int8Array]",mW="[object Int16Array]",gW="[object Int32Array]",vW="[object Uint8Array]",yW="[object Uint8ClampedArray]",bW="[object Uint16Array]",xW="[object Uint32Array]",Te={};Te[uT]=Te[QG]=Te[cW]=Te[hW]=Te[JG]=Te[eW]=Te[dW]=Te[fW]=Te[pW]=Te[mW]=Te[gW]=Te[rW]=Te[iW]=Te[hT]=Te[sW]=Te[oW]=Te[aW]=Te[lW]=Te[vW]=Te[yW]=Te[bW]=Te[xW]=!0;Te[tW]=Te[cT]=Te[uW]=!1;function Pc(t,e,n,r,i,s){var o,a=e&qG,l=e&KG,u=e&ZG;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!WG(t))return t;var c=zG(t);if(c){if(o=LG(t),!a)return MG(t,o)}else{var h=NG(t),d=h==cT||h==nW;if(HG(t))return kG(t,a);if(h==hT||h==uT||d&&!i){if(o=l||d?{}:jG(t),!a)return l?FG(t,IG(o,t)):DG(t,RG(o,t))}else{if(!Te[h])return i?t:{};o=UG(t,h,a)}}s||(s=new AG);var f=s.get(t);if(f)return f;s.set(t,o),VG(t)?t.forEach(function(g){o.add(Pc(g,e,n,g,t,s))}):GG(t)&&t.forEach(function(g,v){o.set(v,Pc(g,e,n,v,t,s))});var p=u?l?BG:$G:l?YG:XG,m=c?void 0:p(t);return PG(m||t,function(g,v){m&&(v=g,g=t[v]),OG(o,v,Pc(g,e,n,v,t,s))}),o}var wW=Pc,_W=wW,EW=1,SW=4;function CW(t){return _W(t,EW|SW)}var TW=CW;Object.defineProperty(iu,"__esModule",{value:!0});iu.mergeClasses=void 0;var AW=Yv,PW=dT(AW),OW=TW,RW=dT(OW),IW=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function dT(t){return t&&t.__esModule?t:{default:t}}var kW=iu.mergeClasses=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,RW.default)(e.default)||{};return n.map(function(i){var s=e[i];return s&&(0,PW.default)(s,function(o,a){r[a]||(r[a]={}),r[a]=IW({},r[a],s[a])}),i}),r};iu.default=kW;var su={};Object.defineProperty(su,"__esModule",{value:!0});su.autoprefix=void 0;var MW=Yv,Bx=FW(MW),DW=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function FW(t){return t&&t.__esModule?t:{default:t}}var $W={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var n=e&&e.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(e,n){var r=n[e];return r||{extend:e}}},BW=su.autoprefix=function(e){var n={};return(0,Bx.default)(e,function(r,i){var s={};(0,Bx.default)(r,function(o,a){var l=$W[a];l?s=DW({},s,l(o)):s[a]=o}),n[i]=s}),n};su.default=BW;var ou={};Object.defineProperty(ou,"__esModule",{value:!0});ou.hover=void 0;var NW=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LW=_,jf=UW(LW);function UW(t){return t&&t.__esModule?t:{default:t}}function jW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nx(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function zW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var HW=ou.hover=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){zW(i,r);function i(){var s,o,a,l;jW(this,i);for(var u=arguments.length,c=Array(u),h=0;h<u;h++)c[h]=arguments[h];return l=(o=(a=Nx(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(c))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return jf.default.createElement(n,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},jf.default.createElement(e,NW({},a.props,a.state)))},o),Nx(a,l)}return i}(jf.default.Component)};ou.default=HW;var au={};Object.defineProperty(au,"__esModule",{value:!0});au.active=void 0;var GW=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WW=_,zf=VW(WW);function VW(t){return t&&t.__esModule?t:{default:t}}function XW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lx(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function YW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var qW=au.active=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){YW(i,r);function i(){var s,o,a,l;XW(this,i);for(var u=arguments.length,c=Array(u),h=0;h<u;h++)c[h]=arguments[h];return l=(o=(a=Lx(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(c))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return zf.default.createElement(n,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},zf.default.createElement(e,GW({},a.props,a.state)))},o),Lx(a,l)}return i}(zf.default.Component)};au.default=qW;var oy={};Object.defineProperty(oy,"__esModule",{value:!0});var KW=function(e,n){var r={},i=function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[o]=a};return e===0&&i("first-child"),e===n-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),r};oy.default=KW;Object.defineProperty(fn,"__esModule",{value:!0});fn.ReactCSS=fn.loop=fn.handleActive=ay=fn.handleHover=fn.hover=void 0;var ZW=tu,QW=na(ZW),JW=iu,eV=na(JW),tV=su,nV=na(tV),rV=ou,fT=na(rV),iV=au,sV=na(iV),oV=oy,aV=na(oV);function na(t){return t&&t.__esModule?t:{default:t}}fn.hover=fT.default;var ay=fn.handleHover=fT.default;fn.handleActive=sV.default;fn.loop=aV.default;var lV=fn.ReactCSS=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=(0,QW.default)(r),o=(0,eV.default)(e,s);return(0,nV.default)(o)},ae=fn.default=lV,uV=function(e,n,r,i,s){var o=s.clientWidth,a=s.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,u=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=l-(s.getBoundingClientRect().left+window.pageXOffset),h=u-(s.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var d=void 0;if(h<0?d=0:h>a?d=1:d=Math.round(h*100/a)/100,n.a!==d)return{h:n.h,s:n.s,l:n.l,a:d,source:"rgb"}}else{var f=void 0;if(c<0?f=0:c>o?f=1:f=Math.round(c*100/o)/100,i!==f)return{h:n.h,s:n.s,l:n.l,a:f,source:"rgb"}}return null},Hf={},cV=function(e,n,r,i){if(typeof document>"u"&&!i)return null;var s=i?new i:document.createElement("canvas");s.width=r*2,s.height=r*2;var o=s.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,s.width,s.height),o.fillStyle=n,o.fillRect(0,0,r,r),o.translate(r,r),o.fillRect(0,0,r,r),s.toDataURL()):null},hV=function(e,n,r,i){var s=e+"-"+n+"-"+r+(i?"-server":"");if(Hf[s])return Hf[s];var o=cV(e,n,r,i);return Hf[s]=o,o},Ux=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ra=function(e){var n=e.white,r=e.grey,i=e.size,s=e.renderers,o=e.borderRadius,a=e.boxShadow,l=e.children,u=ae({default:{grid:{borderRadius:o,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+hV(n,r,i,s.canvas)+") center left"}}});return _.isValidElement(l)?w.cloneElement(l,Ux({},l.props,{style:Ux({},l.props.style,u.grid)})):w.createElement("div",{style:u.grid})};ra.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var dV=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fV=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function pV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jx(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function mV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ly=function(t){mV(e,t);function e(){var n,r,i,s;pV(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=jx(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(u){var c=uV(u,i.props.hsl,i.props.direction,i.props.a,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),jx(i,s)}return fV(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,s=ae({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:dV({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return w.createElement("div",{style:s.alpha},w.createElement("div",{style:s.checkboard},w.createElement(ra,{renderers:this.props.renderers})),w.createElement("div",{style:s.gradient}),w.createElement("div",{style:s.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},w.createElement("div",{style:s.pointer},this.props.pointer?w.createElement(this.props.pointer,this.props):w.createElement("div",{style:s.slider}))))}}]),e}(_.PureComponent||_.Component),gV=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function vV(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bV(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function xV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var wV=1,pT=38,_V=40,EV=[pT,_V],SV=function(e){return EV.indexOf(e)>-1},CV=function(e){return Number(String(e).replace(/%/g,""))},TV=1,pe=function(t){xV(e,t);function e(n){yV(this,e);var r=bV(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var s=CV(i.target.value);if(!isNaN(s)&&SV(i.keyCode)){var o=r.getArrowOffset(),a=i.keyCode===pT?s+o:s-o;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var s=Math.round(r.props.value+i.movementX);s>=0&&s<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(s),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+TV++,r}return gV(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return vV({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||wV}},{key:"setUpdatedValue",value:function(r,i){var s=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(s,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=ae({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return w.createElement("div",{style:i.wrap},w.createElement("input",{id:this.inputId,style:i.input,ref:function(o){return r.input=o},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?w.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(_.PureComponent||_.Component),AV=function(e,n,r,i){var s=i.clientWidth,o=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(i.getBoundingClientRect().left+window.pageXOffset),c=l-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var h=void 0;if(c<0)h=359;else if(c>o)h=0;else{var d=-(c*100/o)+100;h=360*d/100}if(r.h!==h)return{h,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var f=void 0;if(u<0)f=0;else if(u>s)f=359;else{var p=u*100/s;f=360*p/100}if(r.h!==f)return{h:f,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},PV=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function OV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zx(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function RV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ia=function(t){RV(e,t);function e(){var n,r,i,s;OV(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=zx(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(u){var c=AV(u,i.props.direction,i.props.hsl,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),zx(i,s)}return PV(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,s=i===void 0?"horizontal":i,o=ae({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:s==="vertical"});return w.createElement("div",{style:o.hue},w.createElement("div",{className:"hue-"+s,style:o.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},w.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),w.createElement("div",{style:o.pointer},this.props.pointer?w.createElement(this.props.pointer,this.props):w.createElement("div",{style:o.slider}))))}}]),e}(_.PureComponent||_.Component),lu=function(e){var n=e.zDepth,r=e.radius,i=e.background,s=e.children,o=e.styles,a=o===void 0?{}:o,l=ae(jt({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":n===1});return w.createElement("div",{style:l.wrap},w.createElement("div",{style:l.bg}),w.createElement("div",{style:l.content},s))};lu.propTypes={background:R.string,zDepth:R.oneOf([0,1,2,3,4,5]),radius:R.number,styles:R.object};lu.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var IV=function(e,n,r){var i=r.getBoundingClientRect(),s=i.width,o=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(r.getBoundingClientRect().left+window.pageXOffset),c=l-(r.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>s&&(u=s),c<0?c=0:c>o&&(c=o);var h=u/s,d=1-c/o;return{h:n.h,s:h,v:d,a:n.a,source:"hsv"}},kV=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function MV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DV(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function FV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Sd=function(t){FV(e,t);function e(n){MV(this,e);var r=DV(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,IV(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var s=r.getContainerRenderWindow();s.addEventListener("mousemove",r.handleChange),s.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=aF(function(i,s,o){i(s,o)},50),r}return kV(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},s=i.color,o=i.white,a=i.black,l=i.pointer,u=i.circle,c=ae({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:s,white:o,black:a,pointer:l,circle:u}},{custom:!!this.props.style});return w.createElement("div",{style:c.color,ref:function(d){return r.container=d},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},w.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),w.createElement("div",{style:c.white,className:"saturation-white"},w.createElement("div",{style:c.black,className:"saturation-black"}),w.createElement("div",{style:c.pointer},this.props.pointer?w.createElement(this.props.pointer,this.props):w.createElement("div",{style:c.circle}))))}}]),e}(_.PureComponent||_.Component);function _h(t){return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(t)}var $V=/^\s+/,BV=/\s+$/;function Q(t,e){if(t=t||"",e=e||{},t instanceof Q)return t;if(!(this instanceof Q))return new Q(t,e);var n=NV(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}Q.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,s,o,a;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(e){return this._a=mT(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=Gx(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=Gx(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=Hx(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=Hx(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return Wx(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return zV(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(De(this._r,255)*100)+"%",g:Math.round(De(this._g,255)*100)+"%",b:Math.round(De(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(De(this._r,255)*100)+"%, "+Math.round(De(this._g,255)*100)+"%, "+Math.round(De(this._b,255)*100)+"%)":"rgba("+Math.round(De(this._r,255)*100)+"%, "+Math.round(De(this._g,255)*100)+"%, "+Math.round(De(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:eX[Wx(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+Vx(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=Q(e);r="#"+Vx(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Q(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(VV,arguments)},brighten:function(){return this._applyModification(XV,arguments)},darken:function(){return this._applyModification(YV,arguments)},desaturate:function(){return this._applyModification(HV,arguments)},saturate:function(){return this._applyModification(GV,arguments)},greyscale:function(){return this._applyModification(WV,arguments)},spin:function(){return this._applyModification(qV,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(QV,arguments)},complement:function(){return this._applyCombination(KV,arguments)},monochromatic:function(){return this._applyCombination(JV,arguments)},splitcomplement:function(){return this._applyCombination(ZV,arguments)},triad:function(){return this._applyCombination(Xx,[3])},tetrad:function(){return this._applyCombination(Xx,[4])}};Q.fromRatio=function(t,e){if(_h(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=Ba(t[r]));t=n}return Q(t,e)};function NV(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,o=!1,a=!1;return typeof t=="string"&&(t=iX(t)),_h(t)=="object"&&(mr(t.r)&&mr(t.g)&&mr(t.b)?(e=LV(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):mr(t.h)&&mr(t.s)&&mr(t.v)?(r=Ba(t.s),i=Ba(t.v),e=jV(t.h,r,i),o=!0,a="hsv"):mr(t.h)&&mr(t.s)&&mr(t.l)&&(r=Ba(t.s),s=Ba(t.l),e=UV(t.h,r,s),o=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=mT(n),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function LV(t,e,n){return{r:De(t,255)*255,g:De(e,255)*255,b:De(n,255)*255}}function Hx(t,e,n){t=De(t,255),e=De(e,255),n=De(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=(r+i)/2;if(r==i)s=o=0;else{var l=r-i;switch(o=a>.5?l/(2-r-i):l/(r+i),r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,l:a}}function UV(t,e,n){var r,i,s;t=De(t,360),e=De(e,100),n=De(n,100);function o(u,c,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?u+(c-u)*6*h:h<1/2?c:h<2/3?u+(c-u)*(2/3-h)*6:u}if(e===0)r=i=s=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=o(l,a,t+1/3),i=o(l,a,t),s=o(l,a,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function Gx(t,e,n){t=De(t,255),e=De(e,255),n=De(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=r,l=r-i;if(o=r===0?0:l/r,r==i)s=0;else{switch(r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,v:a}}function jV(t,e,n){t=De(t,360)*6,e=De(e,100),n=De(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),o=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,u=[n,o,s,s,a,n][l],c=[a,n,n,o,s,s][l],h=[s,s,a,n,n,o][l];return{r:u*255,g:c*255,b:h*255}}function Wx(t,e,n,r){var i=[Bn(Math.round(t).toString(16)),Bn(Math.round(e).toString(16)),Bn(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function zV(t,e,n,r,i){var s=[Bn(Math.round(t).toString(16)),Bn(Math.round(e).toString(16)),Bn(Math.round(n).toString(16)),Bn(gT(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function Vx(t,e,n,r){var i=[Bn(gT(r)),Bn(Math.round(t).toString(16)),Bn(Math.round(e).toString(16)),Bn(Math.round(n).toString(16))];return i.join("")}Q.equals=function(t,e){return!t||!e?!1:Q(t).toRgbString()==Q(e).toRgbString()};Q.random=function(){return Q.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function HV(t,e){e=e===0?0:e||10;var n=Q(t).toHsl();return n.s-=e/100,n.s=Cd(n.s),Q(n)}function GV(t,e){e=e===0?0:e||10;var n=Q(t).toHsl();return n.s+=e/100,n.s=Cd(n.s),Q(n)}function WV(t){return Q(t).desaturate(100)}function VV(t,e){e=e===0?0:e||10;var n=Q(t).toHsl();return n.l+=e/100,n.l=Cd(n.l),Q(n)}function XV(t,e){e=e===0?0:e||10;var n=Q(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),Q(n)}function YV(t,e){e=e===0?0:e||10;var n=Q(t).toHsl();return n.l-=e/100,n.l=Cd(n.l),Q(n)}function qV(t,e){var n=Q(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,Q(n)}function KV(t){var e=Q(t).toHsl();return e.h=(e.h+180)%360,Q(e)}function Xx(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Q(t).toHsl(),r=[Q(t)],i=360/e,s=1;s<e;s++)r.push(Q({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function ZV(t){var e=Q(t).toHsl(),n=e.h;return[Q(t),Q({h:(n+72)%360,s:e.s,l:e.l}),Q({h:(n+216)%360,s:e.s,l:e.l})]}function QV(t,e,n){e=e||6,n=n||30;var r=Q(t).toHsl(),i=360/n,s=[Q(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(Q(r));return s}function JV(t,e){e=e||6;for(var n=Q(t).toHsv(),r=n.h,i=n.s,s=n.v,o=[],a=1/e;e--;)o.push(Q({h:r,s:i,v:s})),s=(s+a)%1;return o}Q.mix=function(t,e,n){n=n===0?0:n||50;var r=Q(t).toRgb(),i=Q(e).toRgb(),s=n/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return Q(o)};Q.readability=function(t,e){var n=Q(t),r=Q(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};Q.isReadable=function(t,e,n){var r=Q.readability(t,e),i,s;switch(s=!1,i=sX(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};Q.mostReadable=function(t,e,n){var r=null,i=0,s,o,a,l;n=n||{},o=n.includeFallbackColors,a=n.level,l=n.size;for(var u=0;u<e.length;u++)s=Q.readability(t,e[u]),s>i&&(i=s,r=Q(e[u]));return Q.isReadable(t,r,{level:a,size:l})||!o?r:(n.includeFallbackColors=!1,Q.mostReadable(t,["#fff","#000"],n))};var gg=Q.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},eX=Q.hexNames=tX(gg);function tX(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function mT(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function De(t,e){nX(t)&&(t="100%");var n=rX(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function Cd(t){return Math.min(1,Math.max(0,t))}function Wt(t){return parseInt(t,16)}function nX(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function rX(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Bn(t){return t.length==1?"0"+t:""+t}function Ba(t){return t<=1&&(t=t*100+"%"),t}function gT(t){return Math.round(parseFloat(t)*255).toString(16)}function Yx(t){return Wt(t)/255}var An=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function mr(t){return!!An.CSS_UNIT.exec(t)}function iX(t){t=t.replace($V,"").replace(BV,"").toLowerCase();var e=!1;if(gg[t])t=gg[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=An.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=An.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=An.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=An.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=An.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=An.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=An.hex8.exec(t))?{r:Wt(n[1]),g:Wt(n[2]),b:Wt(n[3]),a:Yx(n[4]),format:e?"name":"hex8"}:(n=An.hex6.exec(t))?{r:Wt(n[1]),g:Wt(n[2]),b:Wt(n[3]),format:e?"name":"hex"}:(n=An.hex4.exec(t))?{r:Wt(n[1]+""+n[1]),g:Wt(n[2]+""+n[2]),b:Wt(n[3]+""+n[3]),a:Yx(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=An.hex3.exec(t))?{r:Wt(n[1]+""+n[1]),g:Wt(n[2]+""+n[2]),b:Wt(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function sX(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var qx=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return ut(n,function(s){if(e[s]&&(r+=1,isNaN(e[s])||(i+=1),s==="s"||s==="l")){var o=/^\d+%$/;o.test(e[s])&&(i+=1)}}),r===i?e:!1},Na=function(e,n){var r=e.hex?Q(e.hex):Q(e),i=r.toHsl(),s=r.toHsv(),o=r.toRgb(),a=r.toHex();i.s===0&&(i.h=n||0,s.h=n||0);var l=a==="000000"&&o.a===0;return{hsl:i,hex:l?"transparent":"#"+a,rgb:o,hsv:s,oldHue:e.h||n||i.h,source:e.source}},_i=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&Q(e).isValid()},uy=function(e){if(!e)return"#fff";var n=Na(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},Gf=function(e,n){var r=e.replace("","");return Q(n+" ("+r+")")._ok},ba=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oX=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function aX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lX(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function uX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var zt=function(e){var n=function(r){uX(i,r);function i(s){aX(this,i);var o=lX(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return o.handleChange=function(a,l){var u=qx(a);if(u){var c=Na(a,a.h||o.state.oldHue);o.setState(c),o.props.onChangeComplete&&o.debounce(o.props.onChangeComplete,c,l),o.props.onChange&&o.props.onChange(c,l)}},o.handleSwatchHover=function(a,l){var u=qx(a);if(u){var c=Na(a,a.h||o.state.oldHue);o.props.onSwatchHover&&o.props.onSwatchHover(c,l)}},o.state=ba({},Na(s.color,0)),o.debounce=fC(function(a,l,u){a(l,u)},100),o}return oX(i,[{key:"render",value:function(){var o={};return this.props.onSwatchHover&&(o.onSwatchHover=this.handleSwatchHover),w.createElement(e,ba({},this.props,this.state,{onChange:this.handleChange},o))}}],[{key:"getDerivedStateFromProps",value:function(o,a){return ba({},Na(o.color,a.oldHue))}}]),i}(_.PureComponent||_.Component);return n.propTypes=ba({},e.propTypes),n.defaultProps=ba({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},cX=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hX=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function dX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kx(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function fX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var pX=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){fX(i,r);function i(){var s,o,a,l;dX(this,i);for(var u=arguments.length,c=Array(u),h=0;h<u;h++)c[h]=arguments[h];return l=(o=(a=Kx(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(c))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},o),Kx(a,l)}return hX(i,[{key:"render",value:function(){return w.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},w.createElement(e,cX({},this.props,this.state)))}}]),i}(w.Component)},Zx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mX=13,gX=function(e){var n=e.color,r=e.style,i=e.onClick,s=i===void 0?function(){}:i,o=e.onHover,a=e.title,l=a===void 0?n:a,u=e.children,c=e.focus,h=e.focusStyle,d=h===void 0?{}:h,f=n==="transparent",p=ae({default:{swatch:Zx({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,c?d:{})}}),m=function(x){return s(n,x)},g=function(x){return x.keyCode===mX&&s(n,x)},v=function(x){return o(n,x)},y={};return o&&(y.onMouseOver=v),w.createElement("div",Zx({style:p.swatch,onClick:m,title:l,tabIndex:0,onKeyDown:g},y),u,f&&w.createElement(ra,{borderRadius:p.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const ds=pX(gX);var vX=function(e){var n=e.direction,r=ae({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return w.createElement("div",{style:r.picker})},yX=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vT=function(e){var n=e.rgb,r=e.hsl,i=e.width,s=e.height,o=e.onChange,a=e.direction,l=e.style,u=e.renderers,c=e.pointer,h=e.className,d=h===void 0?"":h,f=ae({default:{picker:{position:"relative",width:i,height:s},alpha:{radius:"2px",style:l}}});return w.createElement("div",{style:f.picker,className:"alpha-picker "+d},w.createElement(ly,yX({},f.alpha,{rgb:n,hsl:r,pointer:c,renderers:u,onChange:o,direction:a})))};vT.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:vX};zt(vT);var bX=function(e){var n=e.colors,r=e.onClick,i=e.onSwatchHover,s=ae({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return w.createElement("div",{style:s.swatches},ye(n,function(o){return w.createElement(ds,{key:o,color:o,style:s.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+o}})}),w.createElement("div",{style:s.clear}))},cy=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,h=c===void 0?"":c,d=i==="transparent",f=function(g,v){_i(g)&&n({hex:g,source:"hex"},v)},p=ae(jt({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:uy(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},u),{"hide-triangle":a==="hide"});return w.createElement("div",{style:p.card,className:"block-picker "+h},w.createElement("div",{style:p.triangle}),w.createElement("div",{style:p.head},d&&w.createElement(ra,{borderRadius:"6px 6px 0 0"}),w.createElement("div",{style:p.label},i)),w.createElement("div",{style:p.body},w.createElement(bX,{colors:s,onClick:f,onSwatchHover:r}),w.createElement(pe,{style:{input:p.input},value:i,onChange:f})))};cy.propTypes={width:R.oneOfType([R.string,R.number]),colors:R.arrayOf(R.string),triangle:R.oneOf(["top","hide"]),styles:R.object};cy.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};zt(cy);var Ss={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},Cs={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},Ts={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},As={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},Ps={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},Os={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},Rs={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},Is={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},ks={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},La={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},Ms={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},Ds={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},Fs={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},$s={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},Bs={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},Ns={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},Ls={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},Us={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},yT=function(e){var n=e.color,r=e.onClick,i=e.onSwatchHover,s=e.hover,o=e.active,a=e.circleSize,l=e.circleSpacing,u=ae({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:s,active:o});return w.createElement("div",{style:u.swatch},w.createElement(ds,{style:u.Swatch,color:n,onClick:r,onHover:i,focusStyle:{boxShadow:u.Swatch.boxShadow+", 0 0 5px "+n}}))};yT.defaultProps={circleSize:28,circleSpacing:14};const xX=ay(yT);var hy=function(e){var n=e.width,r=e.onChange,i=e.onSwatchHover,s=e.colors,o=e.hex,a=e.circleSize,l=e.styles,u=l===void 0?{}:l,c=e.circleSpacing,h=e.className,d=h===void 0?"":h,f=ae(jt({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-c,marginBottom:-c}}},u)),p=function(g,v){return r({hex:g,source:"hex"},v)};return w.createElement("div",{style:f.card,className:"circle-picker "+d},ye(s,function(m){return w.createElement(xX,{key:m,color:m,onClick:p,onSwatchHover:i,active:o===m.toLowerCase(),circleSize:a,circleSpacing:c})}))};hy.propTypes={width:R.oneOfType([R.string,R.number]),circleSize:R.number,circleSpacing:R.number,styles:R.object};hy.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Ss[500],Cs[500],Ts[500],As[500],Ps[500],Os[500],Rs[500],Is[500],ks[500],La[500],Ms[500],Ds[500],Fs[500],$s[500],Bs[500],Ns[500],Ls[500],Us[500]],styles:{}};zt(hy);var bT={};Object.defineProperty(bT,"__esModule",{value:!0});var Qx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wX=_,Jx=_X(wX);function _X(t){return t&&t.__esModule?t:{default:t}}function EX(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var $u=24,SX=bT.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?$u:r,s=t.height,o=s===void 0?$u:s,a=t.style,l=a===void 0?{}:a,u=EX(t,["fill","width","height","style"]);return Jx.default.createElement("svg",Qx({viewBox:"0 0 "+$u+" "+$u,style:Qx({fill:n,width:i,height:o},l)},u),Jx.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},CX=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function TX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AX(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function PX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var xT=function(t){PX(e,t);function e(n){TX(this,e);var r=AX(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,s){i.hex?_i(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},s):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},s):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},s)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(Tr(i.s)?r.props.hsl.s:i.s),l:Number(Tr(i.l)?r.props.hsl.l:i.l),source:"hsl"},s))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return CX(e,[{key:"render",value:function(){var r=this,i=ae({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),s=void 0;return this.state.view==="hex"?s=w.createElement("div",{style:i.fields,className:"flexbox-fix"},w.createElement("div",{style:i.field},w.createElement(pe,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?s=w.createElement("div",{style:i.fields,className:"flexbox-fix"},w.createElement("div",{style:i.field},w.createElement(pe,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),w.createElement("div",{style:i.field},w.createElement(pe,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),w.createElement("div",{style:i.field},w.createElement(pe,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),w.createElement("div",{style:i.alpha},w.createElement(pe,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(s=w.createElement("div",{style:i.fields,className:"flexbox-fix"},w.createElement("div",{style:i.field},w.createElement(pe,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),w.createElement("div",{style:i.field},w.createElement(pe,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),w.createElement("div",{style:i.field},w.createElement(pe,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),w.createElement("div",{style:i.alpha},w.createElement(pe,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),w.createElement("div",{style:i.wrap,className:"flexbox-fix"},s,w.createElement("div",{style:i.toggle},w.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},w.createElement(SX,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(w.Component);xT.defaultProps={view:"hex"};var ew=function(){var e=ae({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return w.createElement("div",{style:e.picker})},OX=function(){var e=ae({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return w.createElement("div",{style:e.picker})},dy=function(e){var n=e.width,r=e.onChange,i=e.disableAlpha,s=e.rgb,o=e.hsl,a=e.hsv,l=e.hex,u=e.renderers,c=e.styles,h=c===void 0?{}:c,d=e.className,f=d===void 0?"":d,p=e.defaultView,m=ae(jt({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+s.r+", "+s.g+", "+s.b+", "+s.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},h),{disableAlpha:i});return w.createElement("div",{style:m.picker,className:"chrome-picker "+f},w.createElement("div",{style:m.saturation},w.createElement(Sd,{style:m.Saturation,hsl:o,hsv:a,pointer:OX,onChange:r})),w.createElement("div",{style:m.body},w.createElement("div",{style:m.controls,className:"flexbox-fix"},w.createElement("div",{style:m.color},w.createElement("div",{style:m.swatch},w.createElement("div",{style:m.active}),w.createElement(ra,{renderers:u}))),w.createElement("div",{style:m.toggles},w.createElement("div",{style:m.hue},w.createElement(ia,{style:m.Hue,hsl:o,pointer:ew,onChange:r})),w.createElement("div",{style:m.alpha},w.createElement(ly,{style:m.Alpha,rgb:s,hsl:o,pointer:ew,renderers:u,onChange:r})))),w.createElement(xT,{rgb:s,hsl:o,hex:l,view:p,onChange:r,disableAlpha:i})))};dy.propTypes={width:R.oneOfType([R.string,R.number]),disableAlpha:R.bool,styles:R.object,defaultView:R.oneOf(["hex","rgb","hsl"])};dy.defaultProps={width:225,disableAlpha:!1,styles:{}};const RX=zt(dy);var IX=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.active,a=ae({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:uy(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return w.createElement(ds,{style:a.color,color:n,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n}},w.createElement("div",{style:a.dot}))},kX=function(e){var n=e.hex,r=e.rgb,i=e.onChange,s=ae({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(l,u){l.r||l.g||l.b?i({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},u):i({hex:l.hex,source:"hex"},u)};return w.createElement("div",{style:s.fields,className:"flexbox-fix"},w.createElement("div",{style:s.active}),w.createElement(pe,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:n,onChange:o}),w.createElement(pe,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:o}),w.createElement(pe,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:o}),w.createElement(pe,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:o}))},fy=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.colors,s=e.hex,o=e.rgb,a=e.styles,l=a===void 0?{}:a,u=e.className,c=u===void 0?"":u,h=ae(jt({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),d=function(p,m){p.hex?_i(p.hex)&&n({hex:p.hex,source:"hex"},m):n(p,m)};return w.createElement(lu,{style:h.Compact,styles:l},w.createElement("div",{style:h.compact,className:"compact-picker "+c},w.createElement("div",null,ye(i,function(f){return w.createElement(IX,{key:f,color:f,active:f.toLowerCase()===s,onClick:d,onSwatchHover:r})}),w.createElement("div",{style:h.clear})),w.createElement(kX,{hex:s,rgb:o,onChange:d})))};fy.propTypes={colors:R.arrayOf(R.string),styles:R.object};fy.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};zt(fy);var MX=function(e){var n=e.hover,r=e.color,i=e.onClick,s=e.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=ae({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:n});return w.createElement("div",{style:a.swatch},w.createElement(ds,{color:r,onClick:i,onHover:s,focusStyle:o}))};const DX=ay(MX);var py=function(e){var n=e.width,r=e.colors,i=e.onChange,s=e.onSwatchHover,o=e.triangle,a=e.styles,l=a===void 0?{}:a,u=e.className,c=u===void 0?"":u,h=ae(jt({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":o==="hide","top-left-triangle":o==="top-left","top-right-triangle":o==="top-right","bottom-left-triangle":o==="bottom-left","bottom-right-triangle":o==="bottom-right"}),d=function(p,m){return i({hex:p,source:"hex"},m)};return w.createElement("div",{style:h.card,className:"github-picker "+c},w.createElement("div",{style:h.triangleShadow}),w.createElement("div",{style:h.triangle}),ye(r,function(f){return w.createElement(DX,{color:f,key:f,onClick:d,onSwatchHover:s})}))};py.propTypes={width:R.oneOfType([R.string,R.number]),colors:R.arrayOf(R.string),triangle:R.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:R.object};py.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};zt(py);var FX=function(e){var n=e.direction,r=ae({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return w.createElement("div",{style:r.picker})},$X=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},my=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.hsl,o=e.direction,a=e.pointer,l=e.styles,u=l===void 0?{}:l,c=e.className,h=c===void 0?"":c,d=ae(jt({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},u)),f=function(m){return i({a:1,h:m.h,l:.5,s:1})};return w.createElement("div",{style:d.picker,className:"hue-picker "+h},w.createElement(ia,$X({},d.hue,{hsl:s,pointer:a,onChange:f,direction:o})))};my.propTypes={styles:R.object};my.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:FX,styles:{}};zt(my);var BX=function(e){var n=e.onChange,r=e.hex,i=e.rgb,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,u=ae(jt({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},o)),c=function(d,f){d.hex?_i(d.hex)&&n({hex:d.hex,source:"hex"},f):(d.r||d.g||d.b)&&n({r:d.r||i.r,g:d.g||i.g,b:d.b||i.b,source:"rgb"},f)};return w.createElement(lu,{styles:o},w.createElement("div",{style:u.material,className:"material-picker "+l},w.createElement(pe,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"hex",value:r,onChange:c}),w.createElement("div",{style:u.split,className:"flexbox-fix"},w.createElement("div",{style:u.third},w.createElement(pe,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:i.r,onChange:c})),w.createElement("div",{style:u.third},w.createElement(pe,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:i.g,onChange:c})),w.createElement("div",{style:u.third},w.createElement(pe,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:i.b,onChange:c})))))};zt(BX);var NX=function(e){var n=e.onChange,r=e.rgb,i=e.hsv,s=e.hex,o=ae({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(u,c){u["#"]?_i(u["#"])&&n({hex:u["#"],source:"hex"},c):u.r||u.g||u.b?n({r:u.r||r.r,g:u.g||r.g,b:u.b||r.b,source:"rgb"},c):(u.h||u.s||u.v)&&n({h:u.h||i.h,s:u.s||i.s,v:u.v||i.v,source:"hsv"},c)};return w.createElement("div",{style:o.fields},w.createElement(pe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(i.h),onChange:a}),w.createElement(pe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:a}),w.createElement(pe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:a}),w.createElement("div",{style:o.divider}),w.createElement(pe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:a}),w.createElement(pe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:a}),w.createElement(pe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:a}),w.createElement("div",{style:o.divider}),w.createElement(pe,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:s.replace("#",""),onChange:a}),w.createElement("div",{style:o.fieldSymbols},w.createElement("div",{style:o.symbol},""),w.createElement("div",{style:o.symbol},"%"),w.createElement("div",{style:o.symbol},"%")))},LX=function(e){var n=e.hsl,r=ae({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return w.createElement("div",{style:r.picker})},UX=function(){var e=ae({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return w.createElement("div",{style:e.pointer},w.createElement("div",{style:e.left},w.createElement("div",{style:e.leftInside})),w.createElement("div",{style:e.right},w.createElement("div",{style:e.rightInside})))},tw=function(e){var n=e.onClick,r=e.label,i=e.children,s=e.active,o=ae({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:s});return w.createElement("div",{style:o.button,onClick:n},r||i)},jX=function(e){var n=e.rgb,r=e.currentColor,i=ae({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return w.createElement("div",null,w.createElement("div",{style:i.label},"new"),w.createElement("div",{style:i.swatches},w.createElement("div",{style:i.new}),w.createElement("div",{style:i.current})),w.createElement("div",{style:i.label},"current"))},zX=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function HX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GX(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function WX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var gy=function(t){WX(e,t);function e(n){HX(this,e);var r=GX(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:n.hex},r}return zX(e,[{key:"render",value:function(){var r=this.props,i=r.styles,s=i===void 0?{}:i,o=r.className,a=o===void 0?"":o,l=ae(jt({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},s));return w.createElement("div",{style:l.picker,className:"photoshop-picker "+a},w.createElement("div",{style:l.head},this.props.header),w.createElement("div",{style:l.body,className:"flexbox-fix"},w.createElement("div",{style:l.saturation},w.createElement(Sd,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:LX,onChange:this.props.onChange})),w.createElement("div",{style:l.hue},w.createElement(ia,{direction:"vertical",hsl:this.props.hsl,pointer:UX,onChange:this.props.onChange})),w.createElement("div",{style:l.controls},w.createElement("div",{style:l.top,className:"flexbox-fix"},w.createElement("div",{style:l.previews},w.createElement(jX,{rgb:this.props.rgb,currentColor:this.state.currentColor})),w.createElement("div",{style:l.actions},w.createElement(tw,{label:"OK",onClick:this.props.onAccept,active:!0}),w.createElement(tw,{label:"Cancel",onClick:this.props.onCancel}),w.createElement(NX,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(w.Component);gy.propTypes={header:R.string,styles:R.object};gy.defaultProps={header:"Color Picker",styles:{}};zt(gy);var VX=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.disableAlpha,a=ae({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),l=function(c,h){c.hex?_i(c.hex)&&n({hex:c.hex,source:"hex"},h):c.r||c.g||c.b?n({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,a:r.a,source:"rgb"},h):c.a&&(c.a<0?c.a=0:c.a>100&&(c.a=100),c.a/=100,n({h:i.h,s:i.s,l:i.l,a:c.a,source:"rgb"},h))};return w.createElement("div",{style:a.fields,className:"flexbox-fix"},w.createElement("div",{style:a.double},w.createElement(pe,{style:{input:a.input,label:a.label},label:"hex",value:s.replace("#",""),onChange:l})),w.createElement("div",{style:a.single},w.createElement(pe,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),w.createElement("div",{style:a.single},w.createElement(pe,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),w.createElement("div",{style:a.single},w.createElement(pe,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),w.createElement("div",{style:a.alpha},w.createElement(pe,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},XX=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wT=function(e){var n=e.colors,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=ae({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),a=function(u,c){i({hex:u,source:"hex"},c)};return w.createElement("div",{style:o.colors,className:"flexbox-fix"},n.map(function(l){var u=typeof l=="string"?{color:l}:l,c=""+u.color+(u.title||"");return w.createElement("div",{key:c,style:o.swatchWrap},w.createElement(ds,XX({},u,{style:o.swatch,onClick:a,onHover:s,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+u.color}})))}))};wT.propTypes={colors:R.arrayOf(R.oneOfType([R.string,R.shape({color:R.string,title:R.string})])).isRequired};var YX=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vy=function(e){var n=e.width,r=e.rgb,i=e.hex,s=e.hsv,o=e.hsl,a=e.onChange,l=e.onSwatchHover,u=e.disableAlpha,c=e.presetColors,h=e.renderers,d=e.styles,f=d===void 0?{}:d,p=e.className,m=p===void 0?"":p,g=ae(jt({default:YX({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},f),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},f),{disableAlpha:u});return w.createElement("div",{style:g.picker,className:"sketch-picker "+m},w.createElement("div",{style:g.saturation},w.createElement(Sd,{style:g.Saturation,hsl:o,hsv:s,onChange:a})),w.createElement("div",{style:g.controls,className:"flexbox-fix"},w.createElement("div",{style:g.sliders},w.createElement("div",{style:g.hue},w.createElement(ia,{style:g.Hue,hsl:o,onChange:a})),w.createElement("div",{style:g.alpha},w.createElement(ly,{style:g.Alpha,rgb:r,hsl:o,renderers:h,onChange:a}))),w.createElement("div",{style:g.color},w.createElement(ra,null),w.createElement("div",{style:g.activeColor}))),w.createElement(VX,{rgb:r,hsl:o,hex:i,onChange:a,disableAlpha:u}),w.createElement(wT,{colors:c,onClick:a,onSwatchHover:l}))};vy.propTypes={disableAlpha:R.bool,width:R.oneOfType([R.string,R.number]),styles:R.object};vy.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};zt(vy);var xa=function(e){var n=e.hsl,r=e.offset,i=e.onClick,s=i===void 0?function(){}:i,o=e.active,a=e.first,l=e.last,u=ae({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:a,last:l}),c=function(d){return s({h:n.h,s:.5,l:r,source:"hsl"},d)};return w.createElement("div",{style:u.swatch,onClick:c})},qX=function(e){var n=e.onClick,r=e.hsl,i=ae({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),s=.1;return w.createElement("div",{style:i.swatches},w.createElement("div",{style:i.swatch},w.createElement(xa,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<s&&Math.abs(r.s-.5)<s,onClick:n,first:!0})),w.createElement("div",{style:i.swatch},w.createElement(xa,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<s&&Math.abs(r.s-.5)<s,onClick:n})),w.createElement("div",{style:i.swatch},w.createElement(xa,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<s&&Math.abs(r.s-.5)<s,onClick:n})),w.createElement("div",{style:i.swatch},w.createElement(xa,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<s&&Math.abs(r.s-.5)<s,onClick:n})),w.createElement("div",{style:i.swatch},w.createElement(xa,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<s&&Math.abs(r.s-.5)<s,onClick:n,last:!0})),w.createElement("div",{style:i.clear}))},KX=function(){var e=ae({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return w.createElement("div",{style:e.picker})},yy=function(e){var n=e.hsl,r=e.onChange,i=e.pointer,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,u=ae(jt({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},o));return w.createElement("div",{style:u.wrap||{},className:"slider-picker "+l},w.createElement("div",{style:u.hue},w.createElement(ia,{style:u.Hue,hsl:n,pointer:i,onChange:r})),w.createElement("div",{style:u.swatches},w.createElement(qX,{hsl:n,onClick:r})))};yy.propTypes={styles:R.object};yy.defaultProps={pointer:KX,styles:{}};zt(yy);var _T={};Object.defineProperty(_T,"__esModule",{value:!0});var nw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZX=_,rw=QX(ZX);function QX(t){return t&&t.__esModule?t:{default:t}}function JX(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var Bu=24,eY=_T.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?Bu:r,s=t.height,o=s===void 0?Bu:s,a=t.style,l=a===void 0?{}:a,u=JX(t,["fill","width","height","style"]);return rw.default.createElement("svg",nw({viewBox:"0 0 "+Bu+" "+Bu,style:nw({fill:n,width:i,height:o},l)},u),rw.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},tY=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.first,a=e.last,l=e.active,u=ae({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:uy(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:o,last:a,active:l,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return w.createElement(ds,{color:n,style:u.color,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n}},w.createElement("div",{style:u.check},w.createElement(eY,null)))},nY=function(e){var n=e.onClick,r=e.onSwatchHover,i=e.group,s=e.active,o=ae({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return w.createElement("div",{style:o.group},ye(i,function(a,l){return w.createElement(tY,{key:a,color:a,active:a.toLowerCase()===s,first:l===0,last:l===i.length-1,onClick:n,onSwatchHover:r})}))},by=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.onSwatchHover,o=e.colors,a=e.hex,l=e.styles,u=l===void 0?{}:l,c=e.className,h=c===void 0?"":c,d=ae(jt({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},u)),f=function(m,g){return i({hex:m,source:"hex"},g)};return w.createElement("div",{style:d.picker,className:"swatches-picker "+h},w.createElement(lu,null,w.createElement("div",{style:d.overflow},w.createElement("div",{style:d.body},ye(o,function(p){return w.createElement(nY,{key:p.toString(),group:p,active:a,onClick:f,onSwatchHover:s})}),w.createElement("div",{style:d.clear})))))};by.propTypes={width:R.oneOfType([R.string,R.number]),height:R.oneOfType([R.string,R.number]),colors:R.arrayOf(R.arrayOf(R.string)),styles:R.object};by.defaultProps={width:320,height:240,colors:[[Ss[900],Ss[700],Ss[500],Ss[300],Ss[100]],[Cs[900],Cs[700],Cs[500],Cs[300],Cs[100]],[Ts[900],Ts[700],Ts[500],Ts[300],Ts[100]],[As[900],As[700],As[500],As[300],As[100]],[Ps[900],Ps[700],Ps[500],Ps[300],Ps[100]],[Os[900],Os[700],Os[500],Os[300],Os[100]],[Rs[900],Rs[700],Rs[500],Rs[300],Rs[100]],[Is[900],Is[700],Is[500],Is[300],Is[100]],[ks[900],ks[700],ks[500],ks[300],ks[100]],["#194D33",La[700],La[500],La[300],La[100]],[Ms[900],Ms[700],Ms[500],Ms[300],Ms[100]],[Ds[900],Ds[700],Ds[500],Ds[300],Ds[100]],[Fs[900],Fs[700],Fs[500],Fs[300],Fs[100]],[$s[900],$s[700],$s[500],$s[300],$s[100]],[Bs[900],Bs[700],Bs[500],Bs[300],Bs[100]],[Ns[900],Ns[700],Ns[500],Ns[300],Ns[100]],[Ls[900],Ls[700],Ls[500],Ls[300],Ls[100]],[Us[900],Us[700],Us[500],Us[300],Us[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};zt(by);var xy=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,h=c===void 0?"":c,d=ae(jt({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},u),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),f=function(m,g){_i(m)&&n({hex:m,source:"hex"},g)};return w.createElement("div",{style:d.card,className:"twitter-picker "+h},w.createElement("div",{style:d.triangleShadow}),w.createElement("div",{style:d.triangle}),w.createElement("div",{style:d.body},ye(s,function(p,m){return w.createElement(ds,{key:m,color:p,hex:p,style:d.swatch,onClick:f,onHover:r,focusStyle:{boxShadow:"0 0 4px "+p}})}),w.createElement("div",{style:d.hash},"#"),w.createElement(pe,{label:null,style:{input:d.input},value:i.replace("#",""),onChange:f}),w.createElement("div",{style:d.clear})))};xy.propTypes={width:R.oneOfType([R.string,R.number]),triangle:R.oneOf(["hide","top-left","top-right"]),colors:R.arrayOf(R.string),styles:R.object};xy.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};zt(xy);var wy=function(e){var n=ae({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return w.createElement("div",{style:n.picker})};wy.propTypes={hsl:R.shape({h:R.number,s:R.number,l:R.number,a:R.number})};wy.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var _y=function(e){var n=ae({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return w.createElement("div",{style:n.picker})};_y.propTypes={hsl:R.shape({h:R.number,s:R.number,l:R.number,a:R.number})};_y.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var rY=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.hsv,a=function(f,p){if(f.hex)_i(f.hex)&&n({hex:f.hex,source:"hex"},p);else if(f.rgb){var m=f.rgb.split(",");Gf(f.rgb,"rgb")&&n({r:m[0],g:m[1],b:m[2],a:1,source:"rgb"},p)}else if(f.hsv){var g=f.hsv.split(",");Gf(f.hsv,"hsv")&&(g[2]=g[2].replace("%",""),g[1]=g[1].replace("%",""),g[0]=g[0].replace("",""),g[1]==1?g[1]=.01:g[2]==1&&(g[2]=.01),n({h:Number(g[0]),s:Number(g[1]),v:Number(g[2]),source:"hsv"},p))}else if(f.hsl){var v=f.hsl.split(",");Gf(f.hsl,"hsl")&&(v[2]=v[2].replace("%",""),v[1]=v[1].replace("%",""),v[0]=v[0].replace("",""),h[1]==1?h[1]=.01:h[2]==1&&(h[2]=.01),n({h:Number(v[0]),s:Number(v[1]),v:Number(v[2]),source:"hsl"},p))}},l=ae({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),u=r.r+", "+r.g+", "+r.b,c=Math.round(i.h)+", "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",h=Math.round(o.h)+", "+Math.round(o.s*100)+"%, "+Math.round(o.v*100)+"%";return w.createElement("div",{style:l.wrap,className:"flexbox-fix"},w.createElement("div",{style:l.fields},w.createElement("div",{style:l.double},w.createElement(pe,{style:{input:l.input,label:l.label},label:"hex",value:s,onChange:a})),w.createElement("div",{style:l.column},w.createElement("div",{style:l.single},w.createElement(pe,{style:{input:l.input2,label:l.label2},label:"rgb",value:u,onChange:a})),w.createElement("div",{style:l.single},w.createElement(pe,{style:{input:l.input2,label:l.label2},label:"hsv",value:h,onChange:a})),w.createElement("div",{style:l.single},w.createElement(pe,{style:{input:l.input2,label:l.label2},label:"hsl",value:c,onChange:a})))))},Ey=function(e){var n=e.width,r=e.onChange,i=e.rgb,s=e.hsl,o=e.hsv,a=e.hex,l=e.header,u=e.styles,c=u===void 0?{}:u,h=e.className,d=h===void 0?"":h,f=ae(jt({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},c));return w.createElement("div",{style:f.picker,className:"google-picker "+d},w.createElement("div",{style:f.head},l),w.createElement("div",{style:f.swatch}),w.createElement("div",{style:f.saturation},w.createElement(Sd,{hsl:s,hsv:o,pointer:wy,onChange:r})),w.createElement("div",{style:f.body},w.createElement("div",{style:f.controls,className:"flexbox-fix"},w.createElement("div",{style:f.hue},w.createElement(ia,{style:f.Hue,hsl:s,radius:"4px",pointer:_y,onChange:r}))),w.createElement(rY,{rgb:i,hsl:s,hex:a,hsv:o,onChange:r})))};Ey.propTypes={width:R.oneOfType([R.string,R.number]),styles:R.object,header:R.string};Ey.defaultProps={width:652,styles:{},header:"Color picker"};zt(Ey);function iY(t,e){_.useEffect(()=>{function n(r){t.current&&!t.current.contains(r.target)&&e()}return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[t])}function Oc({color:t,colorChanged:e}){const[n,r]=_.useState(!1),[i,s]=_.useState(t||"#fff"),o=_.useRef(null);iY(o,()=>{r(!1)}),_.useEffect(()=>{s(t||"#fff")},[t]);const a=()=>{r(!n)},l=c=>{s(c.hex),e(c.hex)},u=ae({default:{color:{background:i},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return U("div",{className:"color-picker",ref:o,children:[S("div",{className:"swatch",style:u.color,onClick:a}),n?S("div",{style:u.popover,children:S(RX,{color:i,onChange:l,disableAlpha:!0})}):null]})}function Ji(t){return Ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ji(t)}function sY(t,e){if(Ji(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ji(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ET(t){var e=sY(t,"string");return Ji(e)==="symbol"?e:String(e)}function Ua(t,e,n){return e=ET(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function le(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iw(Object(n),!0).forEach(function(r){Ua(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oY(t){if(Array.isArray(t))return t}function aY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function vg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ST(t,e){if(t){if(typeof t=="string")return vg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vg(t,e)}}function lY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ar(t,e){return oY(t)||aY(t,e)||ST(t,e)||lY()}function en(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function sa(t,e){if(t==null)return{};var n=en(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var uY=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function cY(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,s=t.defaultValue,o=s===void 0?null:s,a=t.inputValue,l=t.menuIsOpen,u=t.onChange,c=t.onInputChange,h=t.onMenuClose,d=t.onMenuOpen,f=t.value,p=sa(t,uY),m=_.useState(a!==void 0?a:n),g=Ar(m,2),v=g[0],y=g[1],b=_.useState(l!==void 0?l:i),x=Ar(b,2),E=x[0],T=x[1],C=_.useState(f!==void 0?f:o),A=Ar(C,2),k=A[0],M=A[1],$=_.useCallback(function(D,B){typeof u=="function"&&u(D,B),M(D)},[u]),j=_.useCallback(function(D,B){var I;typeof c=="function"&&(I=c(D,B)),y(I!==void 0?I:D)},[c]),O=_.useCallback(function(){typeof d=="function"&&d(),T(!0)},[d]),P=_.useCallback(function(){typeof h=="function"&&h(),T(!1)},[h]),F=a!==void 0?a:v,G=l!==void 0?l:E,N=f!==void 0?f:k;return le(le({},p),{},{inputValue:F,menuIsOpen:G,onChange:$,onInputChange:j,onMenuClose:P,onMenuOpen:O,value:N})}function V(){return V=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V.apply(this,arguments)}function hY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ET(r.key),r)}}function dY(t,e,n){return e&&sw(t.prototype,e),n&&sw(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eh(t,e){return Eh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Eh(t,e)}function fY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Eh(t,e)}function Sh(t){return Sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sh(t)}function pY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gY(t,e){if(e&&(Ji(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mY(t)}function vY(t){var e=pY();return function(){var r=Sh(t),i;if(e){var s=Sh(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return gY(this,i)}}function yY(t){if(Array.isArray(t))return vg(t)}function bY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CT(t){return yY(t)||bY(t)||ST(t)||xY()}function wY(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function _Y(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var EY=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(_Y(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=wY(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),_t="-ms-",Ch="-moz-",be="-webkit-",TT="comm",Sy="rule",Cy="decl",SY="@import",AT="@keyframes",CY=Math.abs,Td=String.fromCharCode,TY=Object.assign;function AY(t,e){return ft(t,0)^45?(((e<<2^ft(t,0))<<2^ft(t,1))<<2^ft(t,2))<<2^ft(t,3):0}function PT(t){return t.trim()}function PY(t,e){return(t=e.exec(t))?t[0]:t}function xe(t,e,n){return t.replace(e,n)}function yg(t,e){return t.indexOf(e)}function ft(t,e){return t.charCodeAt(e)|0}function Pl(t,e,n){return t.slice(e,n)}function Qn(t){return t.length}function Ty(t){return t.length}function Nu(t,e){return e.push(t),t}function OY(t,e){return t.map(e).join("")}var Ad=1,$o=1,OT=0,Ut=0,tt=0,oa="";function Pd(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Ad,column:$o,length:o,return:""}}function wa(t,e){return TY(Pd("",null,null,"",null,null,0),t,{length:-t.length},e)}function RY(){return tt}function IY(){return tt=Ut>0?ft(oa,--Ut):0,$o--,tt===10&&($o=1,Ad--),tt}function tn(){return tt=Ut<OT?ft(oa,Ut++):0,$o++,tt===10&&($o=1,Ad++),tt}function ur(){return ft(oa,Ut)}function Rc(){return Ut}function uu(t,e){return Pl(oa,t,e)}function Ol(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function RT(t){return Ad=$o=1,OT=Qn(oa=t),Ut=0,[]}function IT(t){return oa="",t}function Ic(t){return PT(uu(Ut-1,bg(t===91?t+2:t===40?t+1:t)))}function kY(t){for(;(tt=ur())&&tt<33;)tn();return Ol(t)>2||Ol(tt)>3?"":" "}function MY(t,e){for(;--e&&tn()&&!(tt<48||tt>102||tt>57&&tt<65||tt>70&&tt<97););return uu(t,Rc()+(e<6&&ur()==32&&tn()==32))}function bg(t){for(;tn();)switch(tt){case t:return Ut;case 34:case 39:t!==34&&t!==39&&bg(tt);break;case 40:t===41&&bg(t);break;case 92:tn();break}return Ut}function DY(t,e){for(;tn()&&t+tt!==47+10;)if(t+tt===42+42&&ur()===47)break;return"/*"+uu(e,Ut-1)+"*"+Td(t===47?t:tn())}function FY(t){for(;!Ol(ur());)tn();return uu(t,Ut)}function $Y(t){return IT(kc("",null,null,null,[""],t=RT(t),0,[0],t))}function kc(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,h=o,d=0,f=0,p=0,m=1,g=1,v=1,y=0,b="",x=i,E=s,T=r,C=b;g;)switch(p=y,y=tn()){case 40:if(p!=108&&ft(C,h-1)==58){yg(C+=xe(Ic(y),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:C+=Ic(y);break;case 9:case 10:case 13:case 32:C+=kY(p);break;case 92:C+=MY(Rc()-1,7);continue;case 47:switch(ur()){case 42:case 47:Nu(BY(DY(tn(),Rc()),e,n),l);break;default:C+="/"}break;case 123*m:a[u++]=Qn(C)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+c:f>0&&Qn(C)-h&&Nu(f>32?aw(C+";",r,n,h-1):aw(xe(C," ","")+";",r,n,h-2),l);break;case 59:C+=";";default:if(Nu(T=ow(C,e,n,u,c,i,a,b,x=[],E=[],h),s),y===123)if(c===0)kc(C,e,T,T,x,s,h,a,E);else switch(d===99&&ft(C,3)===110?100:d){case 100:case 109:case 115:kc(t,T,T,r&&Nu(ow(t,T,T,0,0,i,a,b,i,x=[],h),E),i,E,h,a,r?x:E);break;default:kc(C,T,T,T,[""],E,0,a,E)}}u=c=f=0,m=v=1,b=C="",h=o;break;case 58:h=1+Qn(C),f=p;default:if(m<1){if(y==123)--m;else if(y==125&&m++==0&&IY()==125)continue}switch(C+=Td(y),y*m){case 38:v=c>0?1:(C+="\f",-1);break;case 44:a[u++]=(Qn(C)-1)*v,v=1;break;case 64:ur()===45&&(C+=Ic(tn())),d=ur(),c=h=Qn(b=C+=FY(Rc())),y++;break;case 45:p===45&&Qn(C)==2&&(m=0)}}return s}function ow(t,e,n,r,i,s,o,a,l,u,c){for(var h=i-1,d=i===0?s:[""],f=Ty(d),p=0,m=0,g=0;p<r;++p)for(var v=0,y=Pl(t,h+1,h=CY(m=o[p])),b=t;v<f;++v)(b=PT(m>0?d[v]+" "+y:xe(y,/&\f/g,d[v])))&&(l[g++]=b);return Pd(t,e,n,i===0?Sy:a,l,u,c)}function BY(t,e,n){return Pd(t,e,n,TT,Td(RY()),Pl(t,2,-2),0)}function aw(t,e,n,r){return Pd(t,e,n,Cy,Pl(t,0,r),Pl(t,r+1,-1),r)}function po(t,e){for(var n="",r=Ty(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function NY(t,e,n,r){switch(t.type){case SY:case Cy:return t.return=t.return||t.value;case TT:return"";case AT:return t.return=t.value+"{"+po(t.children,r)+"}";case Sy:t.value=t.props.join(",")}return Qn(n=po(t.children,r))?t.return=t.value+"{"+n+"}":""}function LY(t){var e=Ty(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function UY(t){return function(e){e.root||(e=e.return)&&t(e)}}function kT(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var jY=function(e,n,r){for(var i=0,s=0;i=s,s=ur(),i===38&&s===12&&(n[r]=1),!Ol(s);)tn();return uu(e,Ut)},zY=function(e,n){var r=-1,i=44;do switch(Ol(i)){case 0:i===38&&ur()===12&&(n[r]=1),e[r]+=jY(Ut-1,n,r);break;case 2:e[r]+=Ic(i);break;case 4:if(i===44){e[++r]=ur()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Td(i)}while(i=tn());return e},HY=function(e,n){return IT(zY(RT(e),n))},lw=new WeakMap,GY=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!lw.get(r))&&!i){lw.set(e,!0);for(var s=[],o=HY(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},WY=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function MT(t,e){switch(AY(t,e)){case 5103:return be+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return be+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return be+t+Ch+t+_t+t+t;case 6828:case 4268:return be+t+_t+t+t;case 6165:return be+t+_t+"flex-"+t+t;case 5187:return be+t+xe(t,/(\w+).+(:[^]+)/,be+"box-$1$2"+_t+"flex-$1$2")+t;case 5443:return be+t+_t+"flex-item-"+xe(t,/flex-|-self/,"")+t;case 4675:return be+t+_t+"flex-line-pack"+xe(t,/align-content|flex-|-self/,"")+t;case 5548:return be+t+_t+xe(t,"shrink","negative")+t;case 5292:return be+t+_t+xe(t,"basis","preferred-size")+t;case 6060:return be+"box-"+xe(t,"-grow","")+be+t+_t+xe(t,"grow","positive")+t;case 4554:return be+xe(t,/([^-])(transform)/g,"$1"+be+"$2")+t;case 6187:return xe(xe(xe(t,/(zoom-|grab)/,be+"$1"),/(image-set)/,be+"$1"),t,"")+t;case 5495:case 3959:return xe(t,/(image-set\([^]*)/,be+"$1$`$1");case 4968:return xe(xe(t,/(.+:)(flex-)?(.*)/,be+"box-pack:$3"+_t+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+be+t+t;case 4095:case 3583:case 4068:case 2532:return xe(t,/(.+)-inline(.+)/,be+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Qn(t)-1-e>6)switch(ft(t,e+1)){case 109:if(ft(t,e+4)!==45)break;case 102:return xe(t,/(.+:)(.+)-([^]+)/,"$1"+be+"$2-$3$1"+Ch+(ft(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~yg(t,"stretch")?MT(xe(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(ft(t,e+1)!==115)break;case 6444:switch(ft(t,Qn(t)-3-(~yg(t,"!important")&&10))){case 107:return xe(t,":",":"+be)+t;case 101:return xe(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+be+(ft(t,14)===45?"inline-":"")+"box$3$1"+be+"$2$3$1"+_t+"$2box$3")+t}break;case 5936:switch(ft(t,e+11)){case 114:return be+t+_t+xe(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return be+t+_t+xe(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return be+t+_t+xe(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return be+t+_t+t+t}return t}var VY=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case Cy:e.return=MT(e.value,e.length);break;case AT:return po([wa(e,{value:xe(e.value,"@","@"+be)})],i);case Sy:if(e.length)return OY(e.props,function(s){switch(PY(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return po([wa(e,{props:[xe(s,/:(read-\w+)/,":"+Ch+"$1")]})],i);case"::placeholder":return po([wa(e,{props:[xe(s,/:(plac\w+)/,":"+be+"input-$1")]}),wa(e,{props:[xe(s,/:(plac\w+)/,":"+Ch+"$1")]}),wa(e,{props:[xe(s,/:(plac\w+)/,_t+"input-$1")]})],i)}return""})}},XY=[VY],YY=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var g=m.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||XY,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var g=m.getAttribute("data-emotion").split(" "),v=1;v<g.length;v++)s[g[v]]=!0;a.push(m)});var l,u=[GY,WY];{var c,h=[NY,UY(function(m){c.insert(m)})],d=LY(u.concat(i,h)),f=function(g){return po($Y(g),d)};l=function(g,v,y,b){c=y,f(g?g+"{"+v.styles+"}":v.styles),b&&(p.inserted[v.name]=!0)}}var p={key:n,sheet:new EY({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return p.sheet.hydrate(a),p},xg={},qY={get exports(){return xg},set exports(t){xg=t}},Ee={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ht=typeof Symbol=="function"&&Symbol.for,Ay=ht?Symbol.for("react.element"):60103,Py=ht?Symbol.for("react.portal"):60106,Od=ht?Symbol.for("react.fragment"):60107,Rd=ht?Symbol.for("react.strict_mode"):60108,Id=ht?Symbol.for("react.profiler"):60114,kd=ht?Symbol.for("react.provider"):60109,Md=ht?Symbol.for("react.context"):60110,Oy=ht?Symbol.for("react.async_mode"):60111,Dd=ht?Symbol.for("react.concurrent_mode"):60111,Fd=ht?Symbol.for("react.forward_ref"):60112,$d=ht?Symbol.for("react.suspense"):60113,KY=ht?Symbol.for("react.suspense_list"):60120,Bd=ht?Symbol.for("react.memo"):60115,Nd=ht?Symbol.for("react.lazy"):60116,ZY=ht?Symbol.for("react.block"):60121,QY=ht?Symbol.for("react.fundamental"):60117,JY=ht?Symbol.for("react.responder"):60118,eq=ht?Symbol.for("react.scope"):60119;function un(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Ay:switch(t=t.type,t){case Oy:case Dd:case Od:case Id:case Rd:case $d:return t;default:switch(t=t&&t.$$typeof,t){case Md:case Fd:case Nd:case Bd:case kd:return t;default:return e}}case Py:return e}}}function DT(t){return un(t)===Dd}Ee.AsyncMode=Oy;Ee.ConcurrentMode=Dd;Ee.ContextConsumer=Md;Ee.ContextProvider=kd;Ee.Element=Ay;Ee.ForwardRef=Fd;Ee.Fragment=Od;Ee.Lazy=Nd;Ee.Memo=Bd;Ee.Portal=Py;Ee.Profiler=Id;Ee.StrictMode=Rd;Ee.Suspense=$d;Ee.isAsyncMode=function(t){return DT(t)||un(t)===Oy};Ee.isConcurrentMode=DT;Ee.isContextConsumer=function(t){return un(t)===Md};Ee.isContextProvider=function(t){return un(t)===kd};Ee.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ay};Ee.isForwardRef=function(t){return un(t)===Fd};Ee.isFragment=function(t){return un(t)===Od};Ee.isLazy=function(t){return un(t)===Nd};Ee.isMemo=function(t){return un(t)===Bd};Ee.isPortal=function(t){return un(t)===Py};Ee.isProfiler=function(t){return un(t)===Id};Ee.isStrictMode=function(t){return un(t)===Rd};Ee.isSuspense=function(t){return un(t)===$d};Ee.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Od||t===Dd||t===Id||t===Rd||t===$d||t===KY||typeof t=="object"&&t!==null&&(t.$$typeof===Nd||t.$$typeof===Bd||t.$$typeof===kd||t.$$typeof===Md||t.$$typeof===Fd||t.$$typeof===QY||t.$$typeof===JY||t.$$typeof===eq||t.$$typeof===ZY)};Ee.typeOf=un;(function(t){t.exports=Ee})(qY);var FT=xg,tq={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},nq={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},$T={};$T[FT.ForwardRef]=tq;$T[FT.Memo]=nq;var rq=!0;function BT(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var Ry=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||rq===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},NT=function(e,n,r){Ry(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function iq(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var sq={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},oq=/[A-Z]|^ms/g,aq=/_EMO_([^_]+?)_([^]*?)_EMO_/g,LT=function(e){return e.charCodeAt(1)===45},uw=function(e){return e!=null&&typeof e!="boolean"},Wf=kT(function(t){return LT(t)?t:t.replace(oq,"-$&").toLowerCase()}),cw=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(aq,function(r,i,s){return Jn={name:i,styles:s,next:Jn},i})}return sq[e]!==1&&!LT(e)&&typeof n=="number"&&n!==0?n+"px":n};function Rl(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Jn={name:n.name,styles:n.styles,next:Jn},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Jn={name:r.name,styles:r.styles,next:Jn},r=r.next;var i=n.styles+";";return i}return lq(t,e,n)}case"function":{if(t!==void 0){var s=Jn,o=n(t);return Jn=s,Rl(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function lq(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Rl(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":uw(o)&&(r+=Wf(s)+":"+cw(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)uw(o[a])&&(r+=Wf(s)+":"+cw(s,o[a])+";");else{var l=Rl(t,e,o);switch(s){case"animation":case"animationName":{r+=Wf(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var hw=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Jn,Iy=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Jn=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Rl(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Rl(r,n,e[a]),i&&(s+=o[a]);hw.lastIndex=0;for(var l="",u;(u=hw.exec(s))!==null;)l+="-"+u[1];var c=iq(s)+l;return{name:c,styles:s,next:Jn}},uq=function(e){return e()},cq=l1["useInsertionEffect"]?l1["useInsertionEffect"]:!1,UT=cq||uq,ky={}.hasOwnProperty,jT=_.createContext(typeof HTMLElement<"u"?YY({key:"css"}):null);jT.Provider;var zT=function(e){return _.forwardRef(function(n,r){var i=_.useContext(jT);return e(n,i,r)})},HT=_.createContext({}),wg="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",hq=function(e,n){var r={};for(var i in n)ky.call(n,i)&&(r[i]=n[i]);return r[wg]=e,r},dq=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Ry(n,r,i),UT(function(){return NT(n,r,i)}),null},fq=zT(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[wg],s=[r],o="";typeof t.className=="string"?o=BT(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=Iy(s,void 0,_.useContext(HT));o+=e.key+"-"+a.name;var l={};for(var u in t)ky.call(t,u)&&u!=="css"&&u!==wg&&(l[u]=t[u]);return l.ref=n,l.className=o,_.createElement(_.Fragment,null,_.createElement(dq,{cache:e,serialized:a,isStringTag:typeof i=="string"}),_.createElement(i,l))}),ne=function(e,n){var r=arguments;if(n==null||!ky.call(n,"css"))return _.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=fq,s[1]=hq(e,n);for(var o=2;o<i;o++)s[o]=r[o];return _.createElement.apply(null,s)};function My(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Iy(e)}var pq=function(){var e=My.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function mq(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function gq(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}const vq=["top","right","bottom","left"];vq.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);function sr(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function GT(t){return sr(t).getComputedStyle(t)}function WT(t){return t instanceof sr(t).Node}function VT(t){return WT(t)?(t.nodeName||"").toLowerCase():""}let Lu;function yq(){if(Lu)return Lu;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(Lu=t.brands.map(e=>e.brand+"/"+e.version).join(" "),Lu):navigator.userAgent}function Dy(t){return t instanceof sr(t).HTMLElement}function mo(t){return t instanceof sr(t).Element}function dw(t){return typeof ShadowRoot>"u"?!1:t instanceof sr(t).ShadowRoot||t instanceof ShadowRoot}function XT(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=GT(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function bq(){return/^((?!chrome|android).)*safari/i.test(yq())}function xq(t){return["html","body","#document"].includes(VT(t))}const Th=Math.round;function wq(t){const e=GT(t);let n=parseFloat(e.width),r=parseFloat(e.height);const i=Dy(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Th(n)!==s||Th(r)!==o;return a&&(n=s,r=o),{width:n,height:r,fallback:a}}function YT(t){return mo(t)?t:t.contextElement}const qT={x:1,y:1};function Vf(t){const e=YT(t);if(!Dy(e))return qT;const n=e.getBoundingClientRect(),{width:r,height:i,fallback:s}=wq(e);let o=(s?Th(n.width):n.width)/r,a=(s?Th(n.height):n.height)/i;return o&&Number.isFinite(o)||(o=1),a&&Number.isFinite(a)||(a=1),{x:o,y:a}}function fw(t,e,n,r){var i,s;e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),a=YT(t);let l=qT;e&&(r?mo(r)&&(l=Vf(r)):l=Vf(t));const u=a?sr(a):window,c=bq()&&n;let h=(o.left+(c&&((i=u.visualViewport)==null?void 0:i.offsetLeft)||0))/l.x,d=(o.top+(c&&((s=u.visualViewport)==null?void 0:s.offsetTop)||0))/l.y,f=o.width/l.x,p=o.height/l.y;if(a){const m=sr(a),g=r&&mo(r)?sr(r):r;let v=m.frameElement;for(;v&&r&&g!==m;){const y=Vf(v),b=v.getBoundingClientRect(),x=getComputedStyle(v);b.x+=(v.clientLeft+parseFloat(x.paddingLeft))*y.x,b.y+=(v.clientTop+parseFloat(x.paddingTop))*y.y,h*=y.x,d*=y.y,f*=y.x,p*=y.y,h+=b.x,d+=b.y,v=sr(v).frameElement}}return gq({width:f,height:p,x:h,y:d})}function _q(t){return((WT(t)?t.ownerDocument:t.document)||window.document).documentElement}function Eq(t){if(VT(t)==="html")return t;const e=t.assignedSlot||t.parentNode||dw(t)&&t.host||_q(t);return dw(e)?e.host:e}function KT(t){const e=Eq(t);return xq(e)?e.ownerDocument.body:Dy(e)&&XT(e)?e:KT(e)}function Mc(t,e){var n;e===void 0&&(e=[]);const r=KT(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=sr(r);return i?e.concat(s,s.visualViewport||[],XT(r)?r:[]):e.concat(r,Mc(r))}function Sq(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=!0,animationFrame:a=!1}=r,l=i&&!a,u=l||s?[...mo(t)?Mc(t):t.contextElement?Mc(t.contextElement):[],...Mc(e)]:[];u.forEach(f=>{l&&f.addEventListener("scroll",n,{passive:!0}),s&&f.addEventListener("resize",n)});let c,h=null;if(o){let f=!0;h=new ResizeObserver(()=>{f||n(),f=!1}),mo(t)&&!a&&h.observe(t),mo(t)||!t.contextElement||a||h.observe(t.contextElement),h.observe(e)}let d=a?fw(t):null;return a&&function f(){const p=fw(t);!d||p.x===d.x&&p.y===d.y&&p.width===d.width&&p.height===d.height||n(),d=p,c=requestAnimationFrame(f)}(),n(),()=>{var f;u.forEach(p=>{l&&p.removeEventListener("scroll",n),s&&p.removeEventListener("resize",n)}),(f=h)==null||f.disconnect(),h=null,a&&cancelAnimationFrame(c)}}var Ah=_.useLayoutEffect,Cq=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Ph=function(){};function Tq(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function Aq(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&s.push("".concat(Tq(t,o)));return s.filter(function(a){return a}).map(function(a){return String(a).trim()}).join(" ")}var pw=function(e){return $q(e)?e.filter(Boolean):Ji(e)==="object"&&e!==null?[e]:[]},ZT=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=sa(e,Cq);return le({},n)},Ke=function(e,n,r){var i=e.cx,s=e.getStyles,o=e.getClassNames,a=e.className;return{css:s(n,e),className:i(r??{},o(n,e),a)}};function Ld(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function Pq(t){return Ld(t)?window.innerHeight:t.clientHeight}function QT(t){return Ld(t)?window.pageYOffset:t.scrollTop}function Oh(t,e){if(Ld(t)){window.scrollTo(0,e);return}t.scrollTop=e}function Oq(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function Rq(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function Uu(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ph,i=QT(t),s=e-i,o=10,a=0;function l(){a+=o;var u=Rq(a,i,s,n);Oh(t,u),a<n?window.requestAnimationFrame(l):r(t)}l()}function mw(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?Oh(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&Oh(t,Math.max(e.offsetTop-i,0))}function Iq(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function gw(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function kq(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var JT=!1,Mq={get passive(){return JT=!0}},ju=typeof window<"u"?window:{};ju.addEventListener&&ju.removeEventListener&&(ju.addEventListener("p",Ph,Mq),ju.removeEventListener("p",Ph,!1));var Dq=JT;function Fq(t){return t!=null}function $q(t){return Array.isArray(t)}function zu(t,e,n){return t?e:n}var Bq=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(o){var a=Ar(o,1),l=a[0];return!r.includes(l)});return s.reduce(function(o,a){var l=Ar(a,2),u=l[0],c=l[1];return o[u]=c,o},{})};function Nq(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,s=t.shouldScroll,o=t.isFixedPosition,a=t.controlHeight,l=Oq(n),u={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return u;var c=l.getBoundingClientRect(),h=c.height,d=n.getBoundingClientRect(),f=d.bottom,p=d.height,m=d.top,g=n.offsetParent.getBoundingClientRect(),v=g.top,y=o?window.innerHeight:Pq(l),b=QT(l),x=parseInt(getComputedStyle(n).marginBottom,10),E=parseInt(getComputedStyle(n).marginTop,10),T=v-E,C=y-m,A=T+b,k=h-b-m,M=f-y+b+x,$=b+m-E,j=160;switch(i){case"auto":case"bottom":if(C>=p)return{placement:"bottom",maxHeight:e};if(k>=p&&!o)return s&&Uu(l,M,j),{placement:"bottom",maxHeight:e};if(!o&&k>=r||o&&C>=r){s&&Uu(l,M,j);var O=o?C-x:k-x;return{placement:"bottom",maxHeight:O}}if(i==="auto"||o){var P=e,F=o?T:A;return F>=r&&(P=Math.min(F-x-a,e)),{placement:"top",maxHeight:P}}if(i==="bottom")return s&&Oh(l,M),{placement:"bottom",maxHeight:e};break;case"top":if(T>=p)return{placement:"top",maxHeight:e};if(A>=p&&!o)return s&&Uu(l,$,j),{placement:"top",maxHeight:e};if(!o&&A>=r||o&&T>=r){var G=e;return(!o&&A>=r||o&&T>=r)&&(G=o?T-E:A-E),s&&Uu(l,$,j),{placement:"top",maxHeight:G}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return u}function Lq(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var eA=function(e){return e==="auto"?"bottom":e},Uq=function(e,n){var r,i=e.placement,s=e.theme,o=s.borderRadius,a=s.spacing,l=s.colors;return le((r={label:"menu"},Ua(r,Lq(i),"100%"),Ua(r,"position","absolute"),Ua(r,"width","100%"),Ua(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},tA=_.createContext(null),jq=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,o=e.menuPosition,a=e.menuShouldScrollIntoView,l=e.theme,u=_.useContext(tA)||{},c=u.setPortalPlacement,h=_.useRef(null),d=_.useState(i),f=Ar(d,2),p=f[0],m=f[1],g=_.useState(null),v=Ar(g,2),y=v[0],b=v[1],x=l.spacing.controlHeight;return Ah(function(){var E=h.current;if(E){var T=o==="fixed",C=a&&!T,A=Nq({maxHeight:i,menuEl:E,minHeight:r,placement:s,shouldScroll:C,isFixedPosition:T,controlHeight:x});m(A.maxHeight),b(A.placement),c==null||c(A.placement)}},[i,s,o,a,r,c,x]),n({ref:h,placerProps:le(le({},e),{},{placement:y||eA(s),maxHeight:p})})},zq=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return ne("div",V({},Ke(e,"menu",{menu:!0}),{ref:r},i),n)},Hq=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return le({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},Gq=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return ne("div",V({},Ke(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),n)},nA=function(e,n){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return le({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},Wq=nA,Vq=nA,rA=function(e){var n=e.children,r=e.innerProps;return ne("div",V({},Ke(e,"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)};rA.defaultProps={children:"No options"};var iA=function(e){var n=e.children,r=e.innerProps;return ne("div",V({},Ke(e,"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)};iA.defaultProps={children:"Loading..."};var Xq=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},Yq=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,o=e.menuPlacement,a=e.menuPosition,l=_.useRef(null),u=_.useRef(null),c=_.useState(eA(o)),h=Ar(c,2),d=h[0],f=h[1],p=_.useMemo(function(){return{setPortalPlacement:f}},[]),m=_.useState(null),g=Ar(m,2),v=g[0],y=g[1],b=_.useCallback(function(){if(i){var C=Iq(i),A=a==="fixed"?0:window.pageYOffset,k=C[d]+A;(k!==(v==null?void 0:v.offset)||C.left!==(v==null?void 0:v.rect.left)||C.width!==(v==null?void 0:v.rect.width))&&y({offset:k,rect:C})}},[i,a,d,v==null?void 0:v.offset,v==null?void 0:v.rect.left,v==null?void 0:v.rect.width]);Ah(function(){b()},[b]);var x=_.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),i&&l.current&&(u.current=Sq(i,l.current,b,{elementResize:"ResizeObserver"in window}))},[i,b]);Ah(function(){x()},[x]);var E=_.useCallback(function(C){l.current=C,x()},[x]);if(!n&&a!=="fixed"||!v)return null;var T=ne("div",V({ref:E},Ke(le(le({},e),{},{offset:v.offset,position:a,rect:v.rect}),"menuPortal",{"menu-portal":!0}),s),r);return ne(tA.Provider,{value:p},n?sl.createPortal(T,n):T)},qq=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},Kq=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return ne("div",V({},Ke(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),n)},Zq=function(e,n){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,o=e.selectProps.controlShouldRenderValue;return le({alignItems:"center",display:i&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},Qq=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return ne("div",V({},Ke(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),n)},Jq=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},eK=function(e){var n=e.children,r=e.innerProps;return ne("div",V({},Ke(e,"indicatorsContainer",{indicators:!0}),r),n)},vw,tK=["size"],nK={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},sA=function(e){var n=e.size,r=sa(e,tK);return ne("svg",V({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:nK},r))},Fy=function(e){return ne(sA,V({size:20},e),ne("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},oA=function(e){return ne(sA,V({size:20},e),ne("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},aA=function(e,n){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return le({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?o.neutral60:o.neutral20,padding:s*2,":hover":{color:r?o.neutral80:o.neutral40}})},rK=aA,iK=function(e){var n=e.children,r=e.innerProps;return ne("div",V({},Ke(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||ne(oA,null))},sK=aA,oK=function(e){var n=e.children,r=e.innerProps;return ne("div",V({},Ke(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||ne(Fy,null))},aK=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return le({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},lK=function(e){var n=e.innerProps;return ne("span",V({},n,Ke(e,"indicatorSeparator",{"indicator-separator":!0})))},uK=pq(vw||(vw=mq([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),cK=function(e,n){var r=e.isFocused,i=e.size,s=e.theme,o=s.colors,a=s.spacing.baseUnit;return le({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?o.neutral60:o.neutral20,padding:a*2})},Xf=function(e){var n=e.delay,r=e.offset;return ne("span",{css:My({animation:"".concat(uK," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},lA=function(e){var n=e.innerProps,r=e.isRtl;return ne("div",V({},Ke(e,"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),ne(Xf,{delay:0,offset:r}),ne(Xf,{delay:160,offset:!0}),ne(Xf,{delay:320,offset:!r}))};lA.defaultProps={size:4};var hK=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.theme,o=s.colors,a=s.borderRadius,l=s.spacing;return le({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:i?o.primary:o.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},dK=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,o=e.innerProps,a=e.menuIsOpen;return ne("div",V({ref:s},Ke(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":a}),o),n)},fK=["data"],pK=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},mK=function(e){var n=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,o=e.Heading,a=e.headingProps,l=e.innerProps,u=e.label,c=e.theme,h=e.selectProps;return ne("div",V({},Ke(e,"group",{group:!0}),l),ne(o,V({},a,{selectProps:h,theme:c,getStyles:i,getClassNames:s,cx:r}),u),ne("div",null,n))},gK=function(e,n){var r=e.theme,i=r.colors,s=r.spacing;return le({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},vK=function(e){var n=ZT(e);n.data;var r=sa(n,fK);return ne("div",V({},Ke(e,"groupHeading",{"group-heading":!0}),r))},yK=["innerRef","isDisabled","isHidden","inputClassName"],bK=function(e,n){var r=e.isDisabled,i=e.value,s=e.theme,o=s.spacing,a=s.colors;return le(le({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},xK),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:a.neutral80})},uA={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},xK={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":le({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},uA)},wK=function(e){return le({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},uA)},_K=function(e){var n=e.cx,r=e.value,i=ZT(e),s=i.innerRef,o=i.isDisabled,a=i.isHidden,l=i.inputClassName,u=sa(i,yK);return ne("div",V({},Ke(e,"input",{"input-container":!0}),{"data-value":r||""}),ne("input",V({className:n({input:!0},l),ref:s,style:wK(a),disabled:o},u)))},EK=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors;return le({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},SK=function(e,n){var r=e.theme,i=r.borderRadius,s=r.colors,o=e.cropWithEllipsis;return le({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},CK=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors,a=e.isFocused;return le({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:a?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},cA=function(e){var n=e.children,r=e.innerProps;return ne("div",r,n)},TK=cA,AK=cA;function PK(t){var e=t.children,n=t.innerProps;return ne("div",V({role:"button"},n),e||ne(Fy,{size:14}))}var OK=function(e){var n=e.children,r=e.components,i=e.data,s=e.innerProps,o=e.isDisabled,a=e.removeProps,l=e.selectProps,u=r.Container,c=r.Label,h=r.Remove;return ne(u,{data:i,innerProps:le(le({},Ke(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:l},ne(c,{data:i,innerProps:le({},Ke(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),ne(h,{data:i,innerProps:le(le({},Ke(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},a),selectProps:l}))},RK=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.theme,a=o.spacing,l=o.colors;return le({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:s?l.neutral0:"inherit",padding:"".concat(a.baseUnit*2,"px ").concat(a.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?l.primary:l.primary50}})},IK=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.innerRef,a=e.innerProps;return ne("div",V({},Ke(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:o,"aria-disabled":r},a),n)},kK=function(e,n){var r=e.theme,i=r.spacing,s=r.colors;return le({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},MK=function(e){var n=e.children,r=e.innerProps;return ne("div",V({},Ke(e,"placeholder",{placeholder:!0}),r),n)},DK=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing,o=i.colors;return le({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},FK=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return ne("div",V({},Ke(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},$K={ClearIndicator:oK,Control:dK,DropdownIndicator:iK,DownChevron:oA,CrossIcon:Fy,Group:mK,GroupHeading:vK,IndicatorsContainer:eK,IndicatorSeparator:lK,Input:_K,LoadingIndicator:lA,Menu:zq,MenuList:Gq,MenuPortal:Yq,LoadingMessage:iA,NoOptionsMessage:rA,MultiValue:OK,MultiValueContainer:TK,MultiValueLabel:AK,MultiValueRemove:PK,Option:IK,Placeholder:MK,SelectContainer:Kq,SingleValue:FK,ValueContainer:Qq},BK=function(e){return le(le({},$K),e.components)},yw=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function NK(t,e){return!!(t===e||yw(t)&&yw(e))}function LK(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!NK(t[n],e[n]))return!1;return!0}function UK(t,e){e===void 0&&(e=LK);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var jK={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},bw=function(e){return ne("span",V({css:jK},e))},zK={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.isDisabled,s=e.tabSelectsValue,o=e.context;switch(o){case"menu":return"Use Up and Down to choose options".concat(i?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,o=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,s=e.label,o=s===void 0?"":s,a=e.selectValue,l=e.isDisabled,u=e.isSelected,c=function(p,m){return p&&p.length?"".concat(p.indexOf(m)+1," of ").concat(p.length):""};if(n==="value"&&a)return"value ".concat(o," focused, ").concat(c(a,r),".");if(n==="menu"){var h=l?" disabled":"",d="".concat(u?"selected":"focused").concat(h);return"option ".concat(o," ").concat(d,", ").concat(c(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},HK=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,o=e.isFocused,a=e.selectValue,l=e.selectProps,u=e.id,c=l.ariaLiveMessages,h=l.getOptionLabel,d=l.inputValue,f=l.isMulti,p=l.isOptionDisabled,m=l.isSearchable,g=l.menuIsOpen,v=l.options,y=l.screenReaderStatus,b=l.tabSelectsValue,x=l["aria-label"],E=l["aria-live"],T=_.useMemo(function(){return le(le({},zK),c||{})},[c]),C=_.useMemo(function(){var P="";if(n&&T.onChange){var F=n.option,G=n.options,N=n.removedValue,D=n.removedValues,B=n.value,I=function(me){return Array.isArray(me)?null:me},H=N||F||I(B),X=H?h(H):"",ie=G||D||void 0,oe=ie?ie.map(h):[],de=le({isDisabled:H&&p(H,a),label:X,labels:oe},n);P=T.onChange(de)}return P},[n,T,p,a,h]),A=_.useMemo(function(){var P="",F=r||i,G=!!(r&&a&&a.includes(r));if(F&&T.onFocus){var N={focused:F,label:h(F),isDisabled:p(F,a),isSelected:G,options:s,context:F===r?"menu":"value",selectValue:a};P=T.onFocus(N)}return P},[r,i,h,p,T,s,a]),k=_.useMemo(function(){var P="";if(g&&v.length&&T.onFilter){var F=y({count:s.length});P=T.onFilter({inputValue:d,resultsMessage:F})}return P},[s,d,g,T,v,y]),M=_.useMemo(function(){var P="";if(T.guidance){var F=i?"value":g?"menu":"input";P=T.guidance({"aria-label":x,context:F,isDisabled:r&&p(r,a),isMulti:f,isSearchable:m,tabSelectsValue:b})}return P},[x,r,i,f,p,m,g,T,a,b]),$="".concat(A," ").concat(k," ").concat(M),j=ne(_.Fragment,null,ne("span",{id:"aria-selection"},C),ne("span",{id:"aria-context"},$)),O=(n==null?void 0:n.action)==="initial-input-focus";return ne(_.Fragment,null,ne(bw,{id:u},O&&j),ne(bw,{"aria-live":E,"aria-atomic":"false","aria-relevant":"additions text"},o&&!O&&j))},_g=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],GK=new RegExp("["+_g.map(function(t){return t.letters}).join("")+"]","g"),hA={};for(var Yf=0;Yf<_g.length;Yf++)for(var qf=_g[Yf],Kf=0;Kf<qf.letters.length;Kf++)hA[qf.letters[Kf]]=qf.base;var dA=function(e){return e.replace(GK,function(n){return hA[n]})},WK=UK(dA),xw=function(e){return e.replace(/^\s+|\s+$/g,"")},VK=function(e){return"".concat(e.label," ").concat(e.value)},XK=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=le({ignoreCase:!0,ignoreAccents:!0,stringify:VK,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,o=i.ignoreAccents,a=i.stringify,l=i.trim,u=i.matchFrom,c=l?xw(r):r,h=l?xw(a(n)):a(n);return s&&(c=c.toLowerCase(),h=h.toLowerCase()),o&&(c=WK(c),h=dA(h)),u==="start"?h.substr(0,c.length)===c:h.indexOf(c)>-1}},YK=["innerRef"];function qK(t){var e=t.innerRef,n=sa(t,YK),r=Bq(n,"onExited","in","enter","exit","appear");return ne("input",V({ref:e},r,{css:My({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var KK=function(e){e.preventDefault(),e.stopPropagation()};function ZK(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,o=_.useRef(!1),a=_.useRef(!1),l=_.useRef(0),u=_.useRef(null),c=_.useCallback(function(g,v){if(u.current!==null){var y=u.current,b=y.scrollTop,x=y.scrollHeight,E=y.clientHeight,T=u.current,C=v>0,A=x-E-b,k=!1;A>v&&o.current&&(r&&r(g),o.current=!1),C&&a.current&&(s&&s(g),a.current=!1),C&&v>A?(n&&!o.current&&n(g),T.scrollTop=x,k=!0,o.current=!0):!C&&-v>b&&(i&&!a.current&&i(g),T.scrollTop=0,k=!0,a.current=!0),k&&KK(g)}},[n,r,i,s]),h=_.useCallback(function(g){c(g,g.deltaY)},[c]),d=_.useCallback(function(g){l.current=g.changedTouches[0].clientY},[]),f=_.useCallback(function(g){var v=l.current-g.changedTouches[0].clientY;c(g,v)},[c]),p=_.useCallback(function(g){if(g){var v=Dq?{passive:!1}:!1;g.addEventListener("wheel",h,v),g.addEventListener("touchstart",d,v),g.addEventListener("touchmove",f,v)}},[f,d,h]),m=_.useCallback(function(g){g&&(g.removeEventListener("wheel",h,!1),g.removeEventListener("touchstart",d,!1),g.removeEventListener("touchmove",f,!1))},[f,d,h]);return _.useEffect(function(){if(e){var g=u.current;return p(g),function(){m(g)}}},[e,p,m]),function(g){u.current=g}}var ww=["boxSizing","height","overflow","paddingRight","position"],_w={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Ew(t){t.preventDefault()}function Sw(t){t.stopPropagation()}function Cw(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function Tw(){return"ontouchstart"in window||navigator.maxTouchPoints}var Aw=!!(typeof window<"u"&&window.document&&window.document.createElement),_a=0,ms={capture:!1,passive:!1};function QK(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=_.useRef({}),s=_.useRef(null),o=_.useCallback(function(l){if(Aw){var u=document.body,c=u&&u.style;if(r&&ww.forEach(function(p){var m=c&&c[p];i.current[p]=m}),r&&_a<1){var h=parseInt(i.current.paddingRight,10)||0,d=document.body?document.body.clientWidth:0,f=window.innerWidth-d+h||0;Object.keys(_w).forEach(function(p){var m=_w[p];c&&(c[p]=m)}),c&&(c.paddingRight="".concat(f,"px"))}u&&Tw()&&(u.addEventListener("touchmove",Ew,ms),l&&(l.addEventListener("touchstart",Cw,ms),l.addEventListener("touchmove",Sw,ms))),_a+=1}},[r]),a=_.useCallback(function(l){if(Aw){var u=document.body,c=u&&u.style;_a=Math.max(_a-1,0),r&&_a<1&&ww.forEach(function(h){var d=i.current[h];c&&(c[h]=d)}),u&&Tw()&&(u.removeEventListener("touchmove",Ew,ms),l&&(l.removeEventListener("touchstart",Cw,ms),l.removeEventListener("touchmove",Sw,ms)))}},[r]);return _.useEffect(function(){if(e){var l=s.current;return o(l),function(){a(l)}}},[e,o,a]),function(l){s.current=l}}var JK=function(){return document.activeElement&&document.activeElement.blur()},eZ={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function tZ(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,s=t.onBottomArrive,o=t.onBottomLeave,a=t.onTopArrive,l=t.onTopLeave,u=ZK({isEnabled:i,onBottomArrive:s,onBottomLeave:o,onTopArrive:a,onTopLeave:l}),c=QK({isEnabled:n}),h=function(f){u(f),c(f)};return ne(_.Fragment,null,n&&ne("div",{onClick:JK,css:eZ}),e(h))}var nZ={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},rZ=function(e){var n=e.name,r=e.onFocus;return ne("input",{required:!0,name:n,tabIndex:-1,onFocus:r,css:nZ,value:"",onChange:function(){}})},iZ=function(e){return e.label},sZ=function(e){return e.label},oZ=function(e){return e.value},aZ=function(e){return!!e.isDisabled},lZ={clearIndicator:sK,container:qq,control:hK,dropdownIndicator:rK,group:pK,groupHeading:gK,indicatorsContainer:Jq,indicatorSeparator:aK,input:bK,loadingIndicator:cK,loadingMessage:Vq,menu:Uq,menuList:Hq,menuPortal:Xq,multiValue:EK,multiValueLabel:SK,multiValueRemove:CK,noOptionsMessage:Wq,option:RK,placeholder:kK,singleValue:DK,valueContainer:Zq},uZ={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},cZ=4,fA=4,hZ=38,dZ=fA*2,fZ={baseUnit:fA,controlHeight:hZ,menuGutter:dZ},Zf={borderRadius:cZ,colors:uZ,spacing:fZ},pZ={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:gw(),captureMenuScroll:!gw(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:XK(),formatGroupLabel:iZ,getOptionLabel:sZ,getOptionValue:oZ,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:aZ,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!kq(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Pw(t,e,n,r){var i=vA(t,e,n),s=yA(t,e,n),o=gA(t,e),a=Rh(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:o,value:a,index:r}}function pA(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(o,a){return Pw(t,o,e,a)}).filter(function(o){return Ow(t,o)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=Pw(t,n,e,r);return Ow(t,s)?s:void 0}).filter(Fq)}function mA(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,CT(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function mZ(t,e){return mA(pA(t,e))}function Ow(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,s=e.isSelected,o=e.label,a=e.value;return(!xA(t)||!s)&&bA(t,{label:o,value:a,data:i},r)}function gZ(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var s=e.indexOf(n);if(s>-1)return n;if(i<e.length)return e[i]}return null}function vZ(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var gA=function(e,n){return e.getOptionLabel(n)},Rh=function(e,n){return e.getOptionValue(n)};function vA(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function yA(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=Rh(t,e);return n.some(function(i){return Rh(t,i)===r})}function bA(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var xA=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},yZ=1,wA=function(t){fY(n,t);var e=vY(n);function n(r){var i;if(hY(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.instancePrefix="",i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.controlRef=null,i.getControlRef=function(a){i.controlRef=a},i.focusedOptionRef=null,i.getFocusedOptionRef=function(a){i.focusedOptionRef=a},i.menuListRef=null,i.getMenuListRef=function(a){i.menuListRef=a},i.inputRef=null,i.getInputRef=function(a){i.inputRef=a},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(a,l){var u=i.props,c=u.onChange,h=u.name;l.name=h,i.ariaOnChange(a,l),c(a,l)},i.setValue=function(a,l,u){var c=i.props,h=c.closeMenuOnSelect,d=c.isMulti,f=c.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:f}),h&&(i.setState({inputIsHiddenAfterUpdate:!d}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(a,{action:l,option:u})},i.selectOption=function(a){var l=i.props,u=l.blurInputOnSelect,c=l.isMulti,h=l.name,d=i.state.selectValue,f=c&&i.isOptionSelected(a,d),p=i.isOptionDisabled(a,d);if(f){var m=i.getOptionValue(a);i.setValue(d.filter(function(g){return i.getOptionValue(g)!==m}),"deselect-option",a)}else if(!p)c?i.setValue([].concat(CT(d),[a]),"select-option",a):i.setValue(a,"select-option");else{i.ariaOnChange(a,{action:"select-option",option:a,name:h});return}u&&i.blurInput()},i.removeValue=function(a){var l=i.props.isMulti,u=i.state.selectValue,c=i.getOptionValue(a),h=u.filter(function(f){return i.getOptionValue(f)!==c}),d=zu(l,h,h[0]||null);i.onChange(d,{action:"remove-value",removedValue:a}),i.focusInput()},i.clearValue=function(){var a=i.state.selectValue;i.onChange(zu(i.props.isMulti,[],null),{action:"clear",removedValues:a})},i.popValue=function(){var a=i.props.isMulti,l=i.state.selectValue,u=l[l.length-1],c=l.slice(0,l.length-1),h=zu(a,c,c[0]||null);i.onChange(h,{action:"pop-value",removedValue:u})},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return Aq.apply(void 0,[i.props.classNamePrefix].concat(l))},i.getOptionLabel=function(a){return gA(i.props,a)},i.getOptionValue=function(a){return Rh(i.props,a)},i.getStyles=function(a,l){var u=i.props.unstyled,c=lZ[a](l,u);c.boxSizing="border-box";var h=i.props.styles[a];return h?h(c,l):c},i.getClassNames=function(a,l){var u,c;return(u=(c=i.props.classNames)[a])===null||u===void 0?void 0:u.call(c,l)},i.getElementId=function(a){return"".concat(i.instancePrefix,"-").concat(a)},i.getComponents=function(){return BK(i.props)},i.buildCategorizedOptions=function(){return pA(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return mA(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(a,l){i.setState({ariaSelection:le({value:a},l)})},i.onMenuMouseDown=function(a){a.button===0&&(a.stopPropagation(),a.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(a){i.blockOptionHover=!1},i.onControlMouseDown=function(a){if(!a.defaultPrevented){var l=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&i.onMenuClose():l&&i.openMenu("first"):(l&&(i.openAfterFocus=!0),i.focusInput()),a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&a.preventDefault()}},i.onDropdownIndicatorMouseDown=function(a){if(!(a&&a.type==="mousedown"&&a.button!==0)&&!i.props.isDisabled){var l=i.props,u=l.isMulti,c=l.menuIsOpen;i.focusInput(),c?(i.setState({inputIsHiddenAfterUpdate:!u}),i.onMenuClose()):i.openMenu("first"),a.preventDefault()}},i.onClearIndicatorMouseDown=function(a){a&&a.type==="mousedown"&&a.button!==0||(i.clearValue(),a.preventDefault(),i.openAfterFocus=!1,a.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(a){typeof i.props.closeMenuOnScroll=="boolean"?a.target instanceof HTMLElement&&Ld(a.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(a)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(a){var l=a.touches,u=l&&l.item(0);u&&(i.initialTouchX=u.clientX,i.initialTouchY=u.clientY,i.userIsDragging=!1)},i.onTouchMove=function(a){var l=a.touches,u=l&&l.item(0);if(u){var c=Math.abs(u.clientX-i.initialTouchX),h=Math.abs(u.clientY-i.initialTouchY),d=5;i.userIsDragging=c>d||h>d}},i.onTouchEnd=function(a){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(a.target)&&i.menuListRef&&!i.menuListRef.contains(a.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(a){i.userIsDragging||i.onControlMouseDown(a)},i.onClearIndicatorTouchEnd=function(a){i.userIsDragging||i.onClearIndicatorMouseDown(a)},i.onDropdownIndicatorTouchEnd=function(a){i.userIsDragging||i.onDropdownIndicatorMouseDown(a)},i.handleInputChange=function(a){var l=i.props.inputValue,u=a.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(u,{action:"input-change",prevInputValue:l}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(a){i.props.onFocus&&i.props.onFocus(a),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(a){var l=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(a),i.onInputChange("",{action:"input-blur",prevInputValue:l}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(a){i.blockOptionHover||i.state.focusedOption===a||i.setState({focusedOption:a})},i.shouldHideSelectedOptions=function(){return xA(i.props)},i.onValueInputFocus=function(a){a.preventDefault(),a.stopPropagation(),i.focus()},i.onKeyDown=function(a){var l=i.props,u=l.isMulti,c=l.backspaceRemovesValue,h=l.escapeClearsValue,d=l.inputValue,f=l.isClearable,p=l.isDisabled,m=l.menuIsOpen,g=l.onKeyDown,v=l.tabSelectsValue,y=l.openMenuOnFocus,b=i.state,x=b.focusedOption,E=b.focusedValue,T=b.selectValue;if(!p&&!(typeof g=="function"&&(g(a),a.defaultPrevented))){switch(i.blockOptionHover=!0,a.key){case"ArrowLeft":if(!u||d)return;i.focusValue("previous");break;case"ArrowRight":if(!u||d)return;i.focusValue("next");break;case"Delete":case"Backspace":if(d)return;if(E)i.removeValue(E);else{if(!c)return;u?i.popValue():f&&i.clearValue()}break;case"Tab":if(i.isComposing||a.shiftKey||!m||!v||!x||y&&i.isOptionSelected(x,T))return;i.selectOption(x);break;case"Enter":if(a.keyCode===229)break;if(m){if(!x||i.isComposing)return;i.selectOption(x);break}return;case"Escape":m?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:d}),i.onMenuClose()):f&&h&&i.clearValue();break;case" ":if(d)return;if(!m){i.openMenu("first");break}if(!x)return;i.selectOption(x);break;case"ArrowUp":m?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":m?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!m)return;i.focusOption("pageup");break;case"PageDown":if(!m)return;i.focusOption("pagedown");break;case"Home":if(!m)return;i.focusOption("first");break;case"End":if(!m)return;i.focusOption("last");break;default:return}a.preventDefault()}},i.instancePrefix="react-select-"+(i.props.instanceId||++yZ),i.state.selectValue=pw(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.buildFocusableOptions(),o=s.indexOf(i.state.selectValue[0]);i.state.focusedOption=s[o]}return i}return dY(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&mw(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isDisabled,a=s.menuIsOpen,l=this.state.isFocused;(l&&!o&&i.isDisabled||l&&a&&!i.menuIsOpen)&&this.focusInput(),l&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(mw(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,o=this.state,a=o.selectValue,l=o.isFocused,u=this.buildFocusableOptions(),c=i==="first"?0:u.length-1;if(!this.props.isMulti){var h=u.indexOf(a[0]);h>-1&&(c=h)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[c]},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,o=s.selectValue,a=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=o.indexOf(a);a||(l=-1);var u=o.length-1,c=-1;if(o.length){switch(i){case"previous":l===0?c=0:l===-1?c=u:c=l-1;break;case"next":l>-1&&l<u&&(c=l+1);break}this.setState({inputIsHidden:c!==-1,focusedValue:o[c]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var l=0,u=a.indexOf(o);o||(u=-1),i==="up"?l=u>0?u-1:a.length-1:i==="down"?l=(u+1)%a.length:i==="pageup"?(l=u-s,l<0&&(l=0)):i==="pagedown"?(l=u+s,l>a.length-1&&(l=a.length-1)):i==="last"&&(l=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[l],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Zf):le(le({},Zf),this.props.theme):Zf}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,o=this.getStyles,a=this.getClassNames,l=this.getValue,u=this.selectOption,c=this.setValue,h=this.props,d=h.isMulti,f=h.isRtl,p=h.options,m=this.hasValue();return{clearValue:i,cx:s,getStyles:o,getClassNames:a,getValue:l,hasValue:m,isMulti:d,isRtl:f,options:p,selectOption:u,selectProps:h,setValue:c,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,o=i.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(i,s){return vA(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return yA(this.props,i,s)}},{key:"filterOption",value:function(i,s){return bA(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:o,selectValue:a})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,o=i.isSearchable,a=i.inputId,l=i.inputValue,u=i.tabIndex,c=i.form,h=i.menuIsOpen,d=i.required,f=this.getComponents(),p=f.Input,m=this.state,g=m.inputIsHidden,v=m.ariaSelection,y=this.commonProps,b=a||this.getElementId("input"),x=le(le(le({"aria-autocomplete":"list","aria-expanded":h,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":d,role:"combobox"},h&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(v==null?void 0:v.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?_.createElement(p,V({},y,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:b,innerRef:this.getInputRef,isDisabled:s,isHidden:g,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:c,type:"text",value:l},x)):_.createElement(qK,V({id:b,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Ph,onFocus:this.onInputFocus,disabled:s,tabIndex:u,inputMode:"none",form:c,value:""},x))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),o=s.MultiValue,a=s.MultiValueContainer,l=s.MultiValueLabel,u=s.MultiValueRemove,c=s.SingleValue,h=s.Placeholder,d=this.commonProps,f=this.props,p=f.controlShouldRenderValue,m=f.isDisabled,g=f.isMulti,v=f.inputValue,y=f.placeholder,b=this.state,x=b.selectValue,E=b.focusedValue,T=b.isFocused;if(!this.hasValue()||!p)return v?null:_.createElement(h,V({},d,{key:"placeholder",isDisabled:m,isFocused:T,innerProps:{id:this.getElementId("placeholder")}}),y);if(g)return x.map(function(A,k){var M=A===E,$="".concat(i.getOptionLabel(A),"-").concat(i.getOptionValue(A));return _.createElement(o,V({},d,{components:{Container:a,Label:l,Remove:u},isFocused:M,isDisabled:m,key:$,index:k,removeProps:{onClick:function(){return i.removeValue(A)},onTouchEnd:function(){return i.removeValue(A)},onMouseDown:function(O){O.preventDefault()}},data:A}),i.formatOptionLabel(A,"value"))});if(v)return null;var C=x[0];return _.createElement(c,V({},d,{data:C,isDisabled:m}),this.formatOptionLabel(C,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,u=a.isLoading,c=this.state.isFocused;if(!this.isClearable()||!s||l||!this.hasValue()||u)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return _.createElement(s,V({},o,{innerProps:h,isFocused:c}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,u=a.isLoading,c=this.state.isFocused;if(!s||!u)return null;var h={"aria-hidden":"true"};return _.createElement(s,V({},o,{innerProps:h,isDisabled:l,isFocused:c}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,o=i.IndicatorSeparator;if(!s||!o)return null;var a=this.commonProps,l=this.props.isDisabled,u=this.state.isFocused;return _.createElement(o,V({},a,{isDisabled:l,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var o=this.commonProps,a=this.props.isDisabled,l=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return _.createElement(s,V({},o,{innerProps:u,isDisabled:a,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),o=s.Group,a=s.GroupHeading,l=s.Menu,u=s.MenuList,c=s.MenuPortal,h=s.LoadingMessage,d=s.NoOptionsMessage,f=s.Option,p=this.commonProps,m=this.state.focusedOption,g=this.props,v=g.captureMenuScroll,y=g.inputValue,b=g.isLoading,x=g.loadingMessage,E=g.minMenuHeight,T=g.maxMenuHeight,C=g.menuIsOpen,A=g.menuPlacement,k=g.menuPosition,M=g.menuPortalTarget,$=g.menuShouldBlockScroll,j=g.menuShouldScrollIntoView,O=g.noOptionsMessage,P=g.onMenuScrollToTop,F=g.onMenuScrollToBottom;if(!C)return null;var G=function(ie,oe){var de=ie.type,ue=ie.data,me=ie.isDisabled,Ge=ie.isSelected,at=ie.label,rt=ie.value,Se=m===ue,Be=me?void 0:function(){return i.onOptionHover(ue)},Ze=me?void 0:function(){return i.selectOption(ue)},Ht="".concat(i.getElementId("option"),"-").concat(oe),cn={id:Ht,onClick:Ze,onMouseMove:Be,onMouseOver:Be,tabIndex:-1};return _.createElement(f,V({},p,{innerProps:cn,data:ue,isDisabled:me,isSelected:Ge,key:Ht,label:at,type:de,value:rt,isFocused:Se,innerRef:Se?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(ie.data,"menu"))},N;if(this.hasOptions())N=this.getCategorizedOptions().map(function(X){if(X.type==="group"){var ie=X.data,oe=X.options,de=X.index,ue="".concat(i.getElementId("group"),"-").concat(de),me="".concat(ue,"-heading");return _.createElement(o,V({},p,{key:ue,data:ie,options:oe,Heading:a,headingProps:{id:me,data:X.data},label:i.formatGroupLabel(X.data)}),X.options.map(function(Ge){return G(Ge,"".concat(de,"-").concat(Ge.index))}))}else if(X.type==="option")return G(X,"".concat(X.index))});else if(b){var D=x({inputValue:y});if(D===null)return null;N=_.createElement(h,p,D)}else{var B=O({inputValue:y});if(B===null)return null;N=_.createElement(d,p,B)}var I={minMenuHeight:E,maxMenuHeight:T,menuPlacement:A,menuPosition:k,menuShouldScrollIntoView:j},H=_.createElement(jq,V({},p,I),function(X){var ie=X.ref,oe=X.placerProps,de=oe.placement,ue=oe.maxHeight;return _.createElement(l,V({},p,I,{innerRef:ie,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove,id:i.getElementId("listbox")},isLoading:b,placement:de}),_.createElement(tZ,{captureEnabled:v,onTopArrive:P,onBottomArrive:F,lockEnabled:$},function(me){return _.createElement(u,V({},p,{innerRef:function(at){i.getMenuListRef(at),me(at)},isLoading:b,maxHeight:ue,focusedOption:m}),N)}))});return M||k==="fixed"?_.createElement(c,V({},p,{appendTo:M,controlElement:this.controlRef,menuPlacement:A,menuPosition:k}),H):H}},{key:"renderFormField",value:function(){var i=this,s=this.props,o=s.delimiter,a=s.isDisabled,l=s.isMulti,u=s.name,c=s.required,h=this.state.selectValue;if(!(!u||a)){if(c&&!this.hasValue())return _.createElement(rZ,{name:u,onFocus:this.onValueInputFocus});if(l)if(o){var d=h.map(function(m){return i.getOptionValue(m)}).join(o);return _.createElement("input",{name:u,type:"hidden",value:d})}else{var f=h.length>0?h.map(function(m,g){return _.createElement("input",{key:"i-".concat(g),name:u,type:"hidden",value:i.getOptionValue(m)})}):_.createElement("input",{name:u,type:"hidden",value:""});return _.createElement("div",null,f)}else{var p=h[0]?this.getOptionValue(h[0]):"";return _.createElement("input",{name:u,type:"hidden",value:p})}}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,o=s.ariaSelection,a=s.focusedOption,l=s.focusedValue,u=s.isFocused,c=s.selectValue,h=this.getFocusableOptions();return _.createElement(HK,V({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:a,focusedValue:l,isFocused:u,selectValue:c,focusableOptions:h}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,o=i.IndicatorsContainer,a=i.SelectContainer,l=i.ValueContainer,u=this.props,c=u.className,h=u.id,d=u.isDisabled,f=u.menuIsOpen,p=this.state.isFocused,m=this.commonProps=this.getCommonProps();return _.createElement(a,V({},m,{className:c,innerProps:{id:h,onKeyDown:this.onKeyDown},isDisabled:d,isFocused:p}),this.renderLiveRegion(),_.createElement(s,V({},m,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:d,isFocused:p,menuIsOpen:f}),_.createElement(l,V({},m,{isDisabled:d}),this.renderPlaceholderOrValue(),this.renderInput()),_.createElement(o,V({},m,{isDisabled:d}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var o=s.prevProps,a=s.clearFocusValueOnUpdate,l=s.inputIsHiddenAfterUpdate,u=s.ariaSelection,c=s.isFocused,h=s.prevWasFocused,d=i.options,f=i.value,p=i.menuIsOpen,m=i.inputValue,g=i.isMulti,v=pw(f),y={};if(o&&(f!==o.value||d!==o.options||p!==o.menuIsOpen||m!==o.inputValue)){var b=p?mZ(i,v):[],x=a?gZ(s,v):null,E=vZ(s,b);y={selectValue:v,focusedOption:E,focusedValue:x,clearFocusValueOnUpdate:!1}}var T=l!=null&&i!==o?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},C=u,A=c&&h;return c&&!A&&(C={value:zu(g,v,v[0]||null),options:v,action:"initial-input-focus"},A=!h),(u==null?void 0:u.action)==="initial-input-focus"&&(C=null),le(le(le({},y),T),{},{prevProps:i,ariaSelection:C,prevWasFocused:A})}}]),n}(_.Component);wA.defaultProps=pZ;var bZ=_.forwardRef(function(t,e){var n=cY(t);return _.createElement(wA,V({ref:e},n))});const $y=bZ;function Rw(t,e){return Ie(t,{value:e})}function xZ(t){return ye(t,e=>({value:e.id,label:e.name}))}function wZ({valueChanged:t,defaultValue:e}){const{abilityTypes:n}=_.useContext(Lt),[r,i]=_.useState(xZ(n));return S($y,{className:"ability-select",classNames:{control:()=>"select",singleValue:()=>"single-value",menu:()=>"select-menu"},options:r,onChange:s=>t(s==null?void 0:s.value),defaultValue:e?Rw(r,e):null,value:Rw(r,e)})}function Iw(t,e){t&&ut(Object.keys(t),n=>{e[n]&&e[n]})}function _Z({tags:t,type:e,tagsChanged:n,typeChanged:r}){const{tagColors:i,setTagColors:s}=_.useContext(Yo),[o,a]=_.useState(t||[]),[l,u]=_.useState(e),[c,h]=_.useState(Iw(t,i)||{}),[d,f]=_.useState(null);_.useEffect(()=>{h(Iw(t,i)||{})},[i]);const p=(b,x)=>{let E=[...o];E[x]=b,a(E),n(E)},m=()=>{a([...o,""]),n([...o,""]),f(t==null?void 0:t.length)},g=b=>{let x=[...o];x.splice(b,1),a(x),n(x)},v=b=>{u(b),r(b)},y=(b,x)=>{s({type:"add",color:b,tag:x})};return U("div",{className:"tag-select",children:[S(wZ,{defaultValue:e,valueChanged:v}),o==null?void 0:o.map((b,x)=>U("span",{className:"stat-tag form-control",style:{borderColor:i[b]},children:[S("div",{className:"tag-color",children:S(Oc,{color:i[b],colorChanged:E=>y(E,b)})}),S(Qi,{autoFocus:d===x,value:b,valueChanged:E=>p(E,x)}),S(di,{clicked:()=>g(x),children:"x"})]})),S("button",{className:"add-tag",onClick:m,children:S(AC,{size:18})})]})}var EZ=function(e){var n=_.useRef(e);return Ah(function(){n.current=e}),n},kw=function(e,n){if(typeof e=="function"){e(n);return}e.current=n},SZ=function(e,n){var r=_.useRef();return _.useCallback(function(i){e.current=i,r.current&&kw(r.current,null),r.current=n,n&&kw(n,i)},[n])},Mw={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},Dw=function(e){Object.keys(Mw).forEach(function(n){e.style.setProperty(n,Mw[n],"important")})},Gt=null,CZ=function(e,n){var r=e.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function TZ(t,e,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),Gt||(Gt=document.createElement("textarea"),Gt.setAttribute("tabindex","-1"),Gt.setAttribute("aria-hidden","true"),Dw(Gt)),Gt.parentNode===null&&document.body.appendChild(Gt);var i=t.paddingSize,s=t.borderSize,o=t.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(d){var f=d;Gt.style[f]=o[f]}),Dw(Gt),Gt.value=e;var l=CZ(Gt,t);Gt.value="x";var u=Gt.scrollHeight-i,c=u*n;a==="border-box"&&(c=c+i+s),l=Math.max(c,l);var h=u*r;return a==="border-box"&&(h=h+i+s),l=Math.min(h,l),[l,u]}var Fw=function(){},AZ=function(e,n){return e.reduce(function(r,i){return r[i]=n[i],r},{})},PZ=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],OZ=!!document.documentElement.currentStyle,RZ=function(e){var n=window.getComputedStyle(e);if(n===null)return null;var r=AZ(PZ,n),i=r.boxSizing;if(i==="")return null;OZ&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},IZ=function(e){var n=EZ(e);_.useLayoutEffect(function(){var r=function(s){n.current(s)};return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}},[])},kZ=function(e,n){var r=e.cacheMeasurements,i=e.maxRows,s=e.minRows,o=e.onChange,a=o===void 0?Fw:o,l=e.onHeightChange,u=l===void 0?Fw:l,c=en(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),h=c.value!==void 0,d=_.useRef(null),f=SZ(d,n),p=_.useRef(0),m=_.useRef(),g=function(){var b=d.current,x=r&&m.current?m.current:RZ(b);if(x){m.current=x;var E=TZ(x,b.value||b.placeholder||"x",s,i),T=E[0],C=E[1];p.current!==T&&(p.current=T,b.style.setProperty("height",T+"px","important"),u(T,{rowHeight:C}))}},v=function(b){h||g(),a(b)};return _.useLayoutEffect(g),IZ(g),_.createElement("textarea",V({},c,{onChange:v,ref:f}))},MZ=_.forwardRef(kZ);const _A=MZ;function $w(t,e){return Ie(t,{value:e})}function DZ(t){return ye(t,e=>({value:e.id,label:e.name}))}function Bw(t,e,n){const r=Ql(vn(DZ(e),i=>!yv(t,i.value)),"label");return n?[{value:null,label:"(None)"},...r]:r}function EA({usedOptions:t,valueChanged:e,defaultValue:n,showEmptyOption:r=!1}){const{abilities:i}=_.useContext(Lt),[s,o]=_.useState(Bw(t,i,r));return S($y,{className:"ability-select",classNames:{control:()=>"select",singleValue:()=>"single-value",menu:()=>"select-menu"},options:Bw(t,i,r),onChange:a=>e(a==null?void 0:a.value),defaultValue:n?$w(s,n):null,value:$w(s,n)})}var Eg={},FZ={get exports(){return Eg},set exports(t){Eg=t}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(FZ);const Nw=Eg;function ai({children:t,name:e,startOpen:n,disabled:r=!1}){const[i,s]=_.useState(n),o=a=>{r||s(!i)};return i?U("div",{className:Nw({accordion:!0,open:!0,disabled:r}),children:[U("button",{className:"accordion-button",onClick:o,children:[e,S(EC,{})]}),S("div",{className:"container",children:t})]}):S("div",{className:Nw({accordion:!0,closed:!0,disabled:r}),children:U("button",{className:"accordion-button",onClick:o,children:[e,S("span",{className:"icon",children:S(_C,{})})]})})}function $Z({ability:t,abilityChanged:e,editingCanceled:n,abilityRemoved:r,abilityCopied:i}){const{setAbilities:s}=_.useContext(Lt),[o,a]=_.useState(t.id),[l,u]=_.useState(t),c=_.useRef(null);_.useEffect(()=>{var y;(y=c.current)==null||y.focus()},[]);const h=(y,b)=>{u({...l,[y]:b})},d=y=>{u({...l,tags:y})},f=y=>{u({...l,type:y})},p=y=>{u({...l,params:y})},m=()=>{ir(e)&&e({ability:l,id:t.id}),s({type:"update",ability:{...l,tags:Vb(l.tags)},targetId:o}),s({type:"save"})},g=()=>{ir(r)&&r(t.id)},v=()=>{const y=`${t.id}-copy`;m(),s({type:"add",ability:{...l,tags:Vb(l.tags),id:y,name:`${t.name} Copy`}}),ir(i)&&i({id:y})};return U("div",{className:"ability-card editable",children:[U("div",{className:"name",children:[S(di,{color:"info",clicked:()=>{ir(n)&&n()},children:S(PC,{})}),S("div",{className:"form-control",children:S("input",{ref:c,type:"text",value:l.name,onChange:y=>h("name",y.target.value)})})]}),S("div",{className:"form-control id",children:S("input",{type:"text",value:l.id,onChange:y=>h("id",y.target.value)})}),U("div",{className:"replaces",children:[S("div",{className:"replaces-name",children:"Replaces"}),S(EA,{usedOptions:[l.id],defaultValue:l.replaces,valueChanged:y=>h("replaces",y),showEmptyOption:!0})]}),U("p",{className:"description form-control",children:[" ",S(_A,{placeholder:"Description",rows:10,value:l.description||"",onChange:y=>h("description",y.target.value)})]}),U("div",{className:"accordions",children:[S(ai,{name:"Tags",startOpen:!0,children:S("div",{className:"tags",children:S(_Z,{tags:l.tags,type:l.type,tagsChanged:d,typeChanged:f})})}),S(ai,{name:"Params",startOpen:!1,children:S("div",{className:"params",children:S(eB,{params:l.params,paramsChanged:p})})})]}),U("div",{className:"buttons",children:[U(zi,{type:"outline",color:"success",clicked:m,children:["Save ",S(OC,{})]}),U(zi,{type:"outline",color:"theme",clicked:v,children:["Save & Copy ",S(Wm,{})]}),U(zi,{type:"outline",color:"danger",clicked:g,children:["Delete ",S(eu,{})]})]})]})}function BZ(t,e){let n=t;return ut(Object.keys(e),r=>{let i=e[r];e[r]?n=n.replace(new RegExp(`{\\b${r}\\b}([^*]+)\\{/\\b${r}\\b}`),"$1"):n=n.replace(new RegExp(`{\\b${r}\\b}([^*]+)\\{/\\b${r}\\b}`),""),n=n.replace(new RegExp("%"+r+"%","g"),i)}),n}function Lw(t,e,n){let r,i=qe(t.params);return i&&n&&ut(Object.keys(i),s=>{n[s]&&(i[s]=i[s]+n[s])}),t.params?r=BZ(t.description,i):ir(t.description)?r=t.description({}):r=t.description,r}function Ud({ability:t,isPlayerAbility:e,modifiers:n,startOpen:r=!0,editable:i=!1,abilityEdited:s,abilityCopied:o,abilityRemoved:a,forceIsEditing:l=!1,isExpanded:u}){var A,k,M;const{abilityTypes:c}=_.useContext(Lt),{abilities:h,setAbilities:d}=_.useContext(Lt),{tagColors:f,setTagColors:p}=_.useContext(Yo),[m,g]=_.useState(Lw(t,e,n)),[v,y]=_.useState(r),[b,x]=_.useState(!1);_.useEffect(()=>{Tr(u)||y(!!u)},[u]),_.useEffect(()=>{l&&x(!0)},[l]);const E=$=>{x(!1),p({type:"save"})},T=$=>{o($)},C=$=>{x(!1),a($)};return _.useEffect(()=>{g(Lw(t,e,n))},[t,n]),b?S($Z,{ability:t,abilityChanged:E,editingCanceled:()=>x(!1),abilityCopied:T,abilityRemoved:C}):U("div",{className:"ability-card",children:[U("div",{className:"name",children:[i&&S(di,{color:"mutedWhite",clicked:()=>x(!b),children:S(TC,{})}),U("button",{className:"card-title",onClick:()=>y(!v),children:[U("div",{className:"left",children:[t.name,S("div",{className:"dots",children:!v&&ye(t.tags,$=>S("span",{className:"dot",style:{backgroundColor:f[$]}}))})]}),S("div",{className:"chevron",children:v?S(EC,{}):S(_C,{})})]})]}),v?U("div",{className:"collapsible-content",children:[U("div",{className:"top",children:[t.replaces&&U("div",{className:"replaces",children:["Replaces"," ",S("span",{children:(A=Ie(h,{id:t.replaces}))==null?void 0:A.name})]}),S("p",{className:"description",children:m})]}),S("div",{className:"bottom",children:U("div",{className:"tags",children:[S(cg,{label:(k=Ie(c,{id:t.type}))==null?void 0:k.name,emphasize:!0}),(M=t.tags)==null?void 0:M.map($=>S(cg,{label:$}))]})})]}):""]})}function Uw(t,e){return ye(t==null?void 0:t.providedAbilities,n=>({...Ie(e,{id:n.id}),modifiers:{}}))}function jw(t,e,n){let r={};return ut(t,i=>{var o;let s={...(o=e==null?void 0:e.abilities[i==null?void 0:i.id])==null?void 0:o.modifiers};ut(i.modifiers,a=>{n||(Tr(s[a.id])?s[a.id]=a.modifier:s[a.id]+=a.modifier)}),r[i.id]=s}),r}function NZ({node:t}){var u;const{build:e}=_.useContext(qo),{abilities:n}=_.useContext(Lt),[r,i]=_.useState(Uw(t,n)),[s,o]=_.useState(t?jw(t.providedAbilities,e,t.selected):{});let a=(u=t==null?void 0:t.colors)==null?void 0:u.selected;_.useEffect(()=>{var c;t&&(a=(c=t==null?void 0:t.colors)==null?void 0:c.selected,i(Uw(t,n)),o(jw(t==null?void 0:t.providedAbilities,e,t.selected)))},[t]),_.useEffect(()=>{},[e]);const l=t!=null&&t.levels?S("span",{className:"cost",children:Jl(t==null?void 0:t.levels,c=>{var h;return S("span",{className:"level-points",style:{background:t.acquired>c?a:"#666"},children:(h=t==null?void 0:t.levelCost)!=null&&h.length?t.levelCost[c]:t.levelCost})})}):S("span",{className:"cost",children:S("span",{className:"level-points",style:{background:t!=null&&t.selected?a:"#666"},children:(t==null?void 0:t.cost)>1?t==null?void 0:t.cost:""})});return t?U("div",{className:"info-panel",children:[l,S("div",{className:"title",children:t==null?void 0:t.name}),S("div",{className:"divider",style:{backgroundColor:a}}),t.available?null:U("div",{className:"requires",children:["Requires"," ",U("span",{className:"skill",children:[t.requiredName," ",t.levelsRequired?U("span",{children:["(",t.levelsRequired,")"]}):null]})]}),S("div",{className:"info-description",children:t==null?void 0:t.description}),r.length>0&&U("div",{className:"abilities",children:[S("div",{className:"title",children:"Related Abilities:"}),r&&r.map(c=>S(Ud,{ability:c,modifiers:s[c.id]}))]})]}):S("div",{className:"info-panel",children:"Select a Node"})}function zw({itemSelected:t}){return U("div",{className:"left-menu",children:[S("button",{type:"button",onClick:i=>t(i,"info"),children:S(w$,{})}),S("button",{type:"button",onClick:i=>t(i,"settings"),children:S(G$,{})}),S("button",{type:"button",onClick:i=>t(i,"edit"),children:S(TC,{})})]})}function LZ({children:t,itemSelected:e,expanded:n}){const[r,i]=_.useState(!0),[s,o]=_.useState(null),a=(l,u)=>{(u===s||!r)&&i(!r),o(u),e(u)};return r?U("div",{className:"sidebar-left",children:[S(zw,{itemSelected:a}),S("div",{className:"sidebar-left-panel",children:t})]}):S("div",{className:"sidebar-left",children:S(zw,{itemSelected:a})})}function UZ(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Eh(t,e)}function Qf(t){return t&&t.stopPropagation&&t.stopPropagation(),t&&t.preventDefault&&t.preventDefault(),!1}function Jf(t){return t==null?[]:Array.isArray(t)?t.slice():[t]}function Hu(t){return t!==null&&t.length===1?t[0]:t.slice()}function Gu(t){Object.keys(t).forEach(e=>{typeof document<"u"&&document.addEventListener(e,t[e],!1)})}function Ei(t,e){return Sg(function(n,r){let i=n;return i<=r.min&&(i=r.min),i>=r.max&&(i=r.max),i}(t,e),e)}function Sg(t,e){const n=(t-e.min)%e.step;let r=t-n;return 2*Math.abs(n)>=e.step&&(r+=n>0?e.step:-e.step),parseFloat(r.toFixed(5))}let Cg=function(t){function e(r){var i;(i=t.call(this,r)||this).onKeyUp=()=>{i.onEnd()},i.onMouseUp=()=>{i.onEnd(i.getMouseEventMap())},i.onTouchEnd=()=>{i.onEnd(i.getTouchEventMap())},i.onBlur=()=>{i.setState({index:-1},i.onEnd(i.getKeyDownEventMap()))},i.onMouseMove=a=>{i.setState({pending:!0});const l=i.getMousePosition(a),u=i.getDiffPosition(l[0]),c=i.getValueFromPosition(u);i.move(c)},i.onTouchMove=a=>{if(a.touches.length>1)return;i.setState({pending:!0});const l=i.getTouchPosition(a);if(i.isScrolling===void 0){const h=l[0]-i.startPosition[0],d=l[1]-i.startPosition[1];i.isScrolling=Math.abs(d)>Math.abs(h)}if(i.isScrolling)return void i.setState({index:-1});const u=i.getDiffPosition(l[0]),c=i.getValueFromPosition(u);i.move(c)},i.onKeyDown=a=>{if(!(a.ctrlKey||a.shiftKey||a.altKey||a.metaKey))switch(i.setState({pending:!0}),a.key){case"ArrowLeft":case"ArrowDown":case"Left":case"Down":a.preventDefault(),i.moveDownByStep();break;case"ArrowRight":case"ArrowUp":case"Right":case"Up":a.preventDefault(),i.moveUpByStep();break;case"Home":a.preventDefault(),i.move(i.props.min);break;case"End":a.preventDefault(),i.move(i.props.max);break;case"PageDown":a.preventDefault(),i.moveDownByStep(i.props.pageFn(i.props.step));break;case"PageUp":a.preventDefault(),i.moveUpByStep(i.props.pageFn(i.props.step))}},i.onSliderMouseDown=a=>{if(!i.props.disabled&&a.button!==2){if(i.setState({pending:!0}),!i.props.snapDragDisabled){const l=i.getMousePosition(a);i.forceValueFromPosition(l[0],u=>{i.start(u,l[0]),Gu(i.getMouseEventMap())})}Qf(a)}},i.onSliderClick=a=>{if(!i.props.disabled&&i.props.onSliderClick&&!i.hasMoved){const l=i.getMousePosition(a),u=Ei(i.calcValue(i.calcOffsetFromPosition(l[0])),i.props);i.props.onSliderClick(u)}},i.createOnKeyDown=a=>l=>{i.props.disabled||(i.start(a),Gu(i.getKeyDownEventMap()),Qf(l))},i.createOnMouseDown=a=>l=>{if(i.props.disabled||l.button===2)return;i.setState({pending:!0});const u=i.getMousePosition(l);i.start(a,u[0]),Gu(i.getMouseEventMap()),Qf(l)},i.createOnTouchStart=a=>l=>{if(i.props.disabled||l.touches.length>1)return;i.setState({pending:!0});const u=i.getTouchPosition(l);i.startPosition=u,i.isScrolling=void 0,i.start(a,u[0]),Gu(i.getTouchEventMap()),function(c){c.stopPropagation&&c.stopPropagation()}(l)},i.handleResize=()=>{const a=window.setTimeout(()=>{i.pendingResizeTimeouts.shift(),i.resize()},0);i.pendingResizeTimeouts.push(a)},i.renderThumb=(a,l)=>{const u=i.props.thumbClassName+" "+i.props.thumbClassName+"-"+l+" "+(i.state.index===l?i.props.thumbActiveClassName:""),c={ref:d=>{i["thumb"+l]=d},key:i.props.thumbClassName+"-"+l,className:u,style:a,onMouseDown:i.createOnMouseDown(l),onTouchStart:i.createOnTouchStart(l),onFocus:i.createOnKeyDown(l),tabIndex:0,role:"slider","aria-orientation":i.props.orientation,"aria-valuenow":i.state.value[l],"aria-valuemin":i.props.min,"aria-valuemax":i.props.max,"aria-label":Array.isArray(i.props.ariaLabel)?i.props.ariaLabel[l]:i.props.ariaLabel,"aria-labelledby":Array.isArray(i.props.ariaLabelledby)?i.props.ariaLabelledby[l]:i.props.ariaLabelledby},h={index:l,value:Hu(i.state.value),valueNow:i.state.value[l]};return i.props.ariaValuetext&&(c["aria-valuetext"]=typeof i.props.ariaValuetext=="string"?i.props.ariaValuetext:i.props.ariaValuetext(h)),i.props.renderThumb(c,h)},i.renderTrack=(a,l,u)=>{const c={key:i.props.trackClassName+"-"+a,className:i.props.trackClassName+" "+i.props.trackClassName+"-"+a,style:i.buildTrackStyle(l,i.state.upperBound-u)},h={index:a,value:Hu(i.state.value)};return i.props.renderTrack(c,h)};let s=Jf(r.value);s.length||(s=Jf(r.defaultValue)),i.pendingResizeTimeouts=[];const o=[];for(let a=0;a<s.length;a+=1)s[a]=Ei(s[a],r),o.push(a);return i.resizeObserver=null,i.resizeElementRef=w.createRef(),i.state={index:-1,upperBound:0,sliderLength:0,value:s,zIndices:o},i}UZ(e,t);var n=e.prototype;return n.componentDidMount=function(){typeof window<"u"&&(this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.resizeElementRef.current),this.resize())},e.getDerivedStateFromProps=function(r,i){const s=Jf(r.value);return s.length?i.pending?null:{value:s.map(o=>Ei(o,r))}:null},n.componentDidUpdate=function(){this.state.upperBound===0&&this.resize()},n.componentWillUnmount=function(){this.clearPendingResizeTimeouts(),this.resizeObserver&&this.resizeObserver.disconnect()},n.onEnd=function(r){r&&function(i){Object.keys(i).forEach(s=>{typeof document<"u"&&document.removeEventListener(s,i[s],!1)})}(r),this.hasMoved&&this.fireChangeEvent("onAfterChange"),this.setState({pending:!1}),this.hasMoved=!1},n.getValue=function(){return Hu(this.state.value)},n.getClosestIndex=function(r){let i=Number.MAX_VALUE,s=-1;const{value:o}=this.state,a=o.length;for(let l=0;l<a;l+=1){const u=this.calcOffset(o[l]),c=Math.abs(r-u);c<i&&(i=c,s=l)}return s},n.getMousePosition=function(r){return[r["page"+this.axisKey()],r["page"+this.orthogonalAxisKey()]]},n.getTouchPosition=function(r){const i=r.touches[0];return[i["page"+this.axisKey()],i["page"+this.orthogonalAxisKey()]]},n.getKeyDownEventMap=function(){return{keydown:this.onKeyDown,keyup:this.onKeyUp,focusout:this.onBlur}},n.getMouseEventMap=function(){return{mousemove:this.onMouseMove,mouseup:this.onMouseUp}},n.getTouchEventMap=function(){return{touchmove:this.onTouchMove,touchend:this.onTouchEnd}},n.getValueFromPosition=function(r){const i=r/(this.state.sliderLength-this.state.thumbSize)*(this.props.max-this.props.min);return Ei(this.state.startValue+i,this.props)},n.getDiffPosition=function(r){let i=r-this.state.startPosition;return this.props.invert&&(i*=-1),i},n.resize=function(){const{slider:r,thumb0:i}=this;if(!r||!i)return;const s=this.sizeKey(),o=r.getBoundingClientRect(),a=r[s],l=o[this.posMaxKey()],u=o[this.posMinKey()],c=i.getBoundingClientRect()[s.replace("client","").toLowerCase()],h=a-c,d=Math.abs(l-u);this.state.upperBound===h&&this.state.sliderLength===d&&this.state.thumbSize===c||this.setState({upperBound:h,sliderLength:d,thumbSize:c})},n.calcOffset=function(r){const i=this.props.max-this.props.min;return i===0?0:(r-this.props.min)/i*this.state.upperBound},n.calcValue=function(r){return r/this.state.upperBound*(this.props.max-this.props.min)+this.props.min},n.calcOffsetFromPosition=function(r){const{slider:i}=this,s=i.getBoundingClientRect(),o=s[this.posMaxKey()],a=s[this.posMinKey()];let l=r-(window["page"+this.axisKey()+"Offset"]+(this.props.invert?o:a));return this.props.invert&&(l=this.state.sliderLength-l),l-=this.state.thumbSize/2,l},n.forceValueFromPosition=function(r,i){const s=this.calcOffsetFromPosition(r),o=this.getClosestIndex(s),a=Ei(this.calcValue(s),this.props),l=this.state.value.slice();l[o]=a;for(let u=0;u<l.length-1;u+=1)if(l[u+1]-l[u]<this.props.minDistance)return;this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0,this.setState({value:l},()=>{i(o),this.fireChangeEvent("onChange")})},n.clearPendingResizeTimeouts=function(){do{const r=this.pendingResizeTimeouts.shift();clearTimeout(r)}while(this.pendingResizeTimeouts.length)},n.start=function(r,i){const s=this["thumb"+r];s&&s.focus();const{zIndices:o}=this.state;o.splice(o.indexOf(r),1),o.push(r),this.setState(a=>({startValue:a.value[r],startPosition:i!==void 0?i:a.startPosition,index:r,zIndices:o}))},n.moveUpByStep=function(r){r===void 0&&(r=this.props.step);const i=Ei(this.state.value[this.state.index]+r,this.props);this.move(Math.min(i,this.props.max))},n.moveDownByStep=function(r){r===void 0&&(r=this.props.step);const i=Ei(this.state.value[this.state.index]-r,this.props);this.move(Math.max(i,this.props.min))},n.move=function(r){const{index:i,value:s}=this.state,{length:o}=s,a=s[i];if(r===a)return;this.hasMoved||this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0;const{pearling:l,max:u,min:c,minDistance:h}=this.props;if(!l){if(i>0){const d=s[i-1];r<d+h&&(r=d+h)}if(i<o-1){const d=s[i+1];r>d-h&&(r=d-h)}}s[i]=r,l&&o>1&&(r>a?(this.pushSucceeding(s,h,i),function(d,f,p,m){for(let g=0;g<d;g+=1){const v=m-g*p;f[d-1-g]>v&&(f[d-1-g]=v)}}(o,s,h,u)):r<a&&(this.pushPreceding(s,h,i),function(d,f,p,m){for(let g=0;g<d;g+=1){const v=m+g*p;f[g]<v&&(f[g]=v)}}(o,s,h,c))),this.setState({value:s},this.fireChangeEvent.bind(this,"onChange"))},n.pushSucceeding=function(r,i,s){let o,a;for(o=s,a=r[o]+i;r[o+1]!==null&&a>r[o+1];o+=1,a=r[o]+i)r[o+1]=Sg(a,this.props)},n.pushPreceding=function(r,i,s){for(let o=s,a=r[o]-i;r[o-1]!==null&&a<r[o-1];o-=1,a=r[o]-i)r[o-1]=Sg(a,this.props)},n.axisKey=function(){return this.props.orientation==="vertical"?"Y":"X"},n.orthogonalAxisKey=function(){return this.props.orientation==="vertical"?"X":"Y"},n.posMinKey=function(){return this.props.orientation==="vertical"?this.props.invert?"bottom":"top":this.props.invert?"right":"left"},n.posMaxKey=function(){return this.props.orientation==="vertical"?this.props.invert?"top":"bottom":this.props.invert?"left":"right"},n.sizeKey=function(){return this.props.orientation==="vertical"?"clientHeight":"clientWidth"},n.fireChangeEvent=function(r){this.props[r]&&this.props[r](Hu(this.state.value),this.state.index)},n.buildThumbStyle=function(r,i){const s={position:"absolute",touchAction:"none",willChange:this.state.index>=0?this.posMinKey():void 0,zIndex:this.state.zIndices.indexOf(i)+1};return s[this.posMinKey()]=r+"px",s},n.buildTrackStyle=function(r,i){const s={position:"absolute",willChange:this.state.index>=0?this.posMinKey()+","+this.posMaxKey():void 0};return s[this.posMinKey()]=r,s[this.posMaxKey()]=i,s},n.buildMarkStyle=function(r){var i;return(i={position:"absolute"})[this.posMinKey()]=r,i},n.renderThumbs=function(r){const{length:i}=r,s=[];for(let a=0;a<i;a+=1)s[a]=this.buildThumbStyle(r[a],a);const o=[];for(let a=0;a<i;a+=1)o[a]=this.renderThumb(s[a],a);return o},n.renderTracks=function(r){const i=[],s=r.length-1;i.push(this.renderTrack(0,0,r[0]));for(let o=0;o<s;o+=1)i.push(this.renderTrack(o+1,r[o],r[o+1]));return i.push(this.renderTrack(s+1,r[s],this.state.upperBound)),i},n.renderMarks=function(){let{marks:r}=this.props;const i=this.props.max-this.props.min+1;return typeof r=="boolean"?r=Array.from({length:i}).map((s,o)=>o):typeof r=="number"&&(r=Array.from({length:i}).map((s,o)=>o).filter(s=>s%r==0)),r.map(parseFloat).sort((s,o)=>s-o).map(s=>{const o=this.calcOffset(s),a={key:s,className:this.props.markClassName,style:this.buildMarkStyle(o)};return this.props.renderMark(a)})},n.render=function(){const r=[],{value:i}=this.state,s=i.length;for(let u=0;u<s;u+=1)r[u]=this.calcOffset(i[u],u);const o=this.props.withTracks?this.renderTracks(r):null,a=this.renderThumbs(r),l=this.props.marks?this.renderMarks():null;return w.createElement("div",{ref:u=>{this.slider=u,this.resizeElementRef.current=u},style:{position:"relative"},className:this.props.className+(this.props.disabled?" disabled":""),onMouseDown:this.onSliderMouseDown,onClick:this.onSliderClick},o,a,l)},e}(w.Component);Cg.displayName="ReactSlider",Cg.defaultProps={min:0,max:100,step:1,pageFn:t=>10*t,minDistance:0,defaultValue:0,orientation:"horizontal",className:"slider",thumbClassName:"thumb",thumbActiveClassName:"active",trackClassName:"track",markClassName:"mark",withTracks:!0,pearling:!1,disabled:!1,snapDragDisabled:!1,invert:!1,marks:[],renderThumb:t=>w.createElement("div",t),renderTrack:t=>w.createElement("div",t),renderMark:t=>w.createElement("span",t)};var Wu=Cg;function jZ({graphEvents$:t}){const[e,n]=_.useState(50),[r,i]=_.useState(50),[s,o]=_.useState(50),[a,l]=_.useState(50),[u,c]=_.useState({});_.useEffect(()=>{},[u]);const h=g=>{n(g),m()},d=g=>{i(g),m()},f=g=>{o(g),m()},p=g=>{l(g),m()},m=()=>{t.next({event:"forcesUpdated",data:{forces:{f1:e,f2:r,f3:s,f4:a}}})};return U("div",{children:[S("div",{className:"slider",children:S(Wu,{min:0,max:100,defaultValue:[25],className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:h,renderThumb:(g,v)=>S("div",{...g,children:v.valueNow})})}),S("div",{className:"slider",children:S(Wu,{min:0,max:50,defaultValue:[25],className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:d,renderThumb:(g,v)=>S("div",{...g,children:v.valueNow})})}),S("div",{className:"slider",children:S(Wu,{defaultValue:[70],className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:f,renderThumb:(g,v)=>S("div",{...g,children:v.valueNow})})}),S("div",{className:"slider",children:S(Wu,{className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:p,renderThumb:(g,v)=>S("div",{...g,children:v.valueNow})})})]})}function zZ(t,e){const n=ye(t,r=>r.id);return vn(e,r=>!yv(n,r.value))}function SA({providedStats:t=[],providedStatsChanged:e,options:n,name:r}){const i=(u,c)=>{const h=qe(t);h[c].id=u.value,e(h)},s=(u,c)=>{const h=qe(t);h[c].modifier=parseInt(u.target.value,10),e(h)},o=(u,c)=>{let h=qe(t);h=vn(h,(d,f)=>c!==f),e(h)},a=()=>{let u=qe(t);u.push({id:"",modifier:1,set:!1}),e(u)},l=u=>{const c=qe(t);c[u].set=!c[u].set,e(c)};return U("div",{className:"stats-panel",children:[t!=null&&t.length?ye(t,(u,c)=>U("div",{className:"stat-edit-line",children:[S("button",{className:"remove",onClick:h=>o(h,c),children:S(RC,{})}),S($y,{classNames:{control:()=>"select",singleValue:()=>"single-value",menu:()=>"select-menu"},options:zZ(t,n),onChange:h=>i(h,c),value:Ie(n,{value:u.id})}),S("input",{type:"number",value:u==null?void 0:u.modifier,onChange:h=>s(h,c)}),S("button",{onClick:h=>l(c),style:{color:u!=null&&u.set?"#fff":"#222"},children:S(S$,{})})]})):"",S("div",{className:"add-button",children:U("button",{onClick:a,children:["Add ",r,S(Mr,{})]})})]})}function HZ(t,e){const n=Ie(e,{id:t});return n!=null&&n.params?ye(Object.keys(n.params),r=>({label:r,value:r})):[]}function GZ(t){let e={};return ut(t,n=>{e[n.id]=n.modifier}),e}function WZ({providedAbilities:t,providedAbilitiesChanged:e}){const n=_.useContext(Lt).abilities,[r,i]=_.useState(t),s=(c,h)=>{console.log(c,h);const d=qe(r);d[h].id=c,d[h].modifiers=[],e(d)},o=(c,h)=>{let d=qe(r);d=vn(d,(f,p)=>h!==p),e(d)},a=()=>{let c=qe(r);c.push({id:"",modifier:1}),e(c)},l=(c,h)=>{const d=qe(r);d[h].modifiers=c,e(d)},u=(c,h)=>{const d=qe(r);d[h].gain=!d[h].gain,e(d)};return _.useEffect(()=>{i(()=>t)},[t]),U("div",{className:"abilities-panel",children:[r.length?ye(r,(c,h)=>{var d;return U("div",{className:"stat-edit-line",children:[U("div",{className:"ability-select",children:[S("button",{className:"remove-ability-button",onClick:f=>o(f,h),children:S(RC,{})}),S(EA,{usedOptions:ye(r,"id"),defaultValue:c.id,valueChanged:f=>s(f,h)})]}),c.id?U("div",{className:"ability-options",children:[Ie(n,{id:c==null?void 0:c.id})&&S(Ud,{ability:Ie(n,{id:c==null?void 0:c.id}),modifiers:GZ(c.modifiers),isPlayerAbility:!1,editable:!0,startOpen:!1}),S("div",{className:"grant",children:U("label",{children:["Grant",S("input",{type:"checkbox",checked:c.gain,onChange:f=>u(f,h)})]})}),(d=Ie(n,{id:c==null?void 0:c.id}))!=null&&d.params?S(SA,{providedStats:c.modifiers,providedStatsChanged:f=>l(f,h),options:HZ(c.id,n),name:"Modifier"}):""]}):""]})}):"",S("div",{className:"add-button",children:U("button",{onClick:a,children:["Add Ability",S(Mr,{})]})})]})}function Hw(t,e,n){if(e){if(t!=null&&t.length)return t;{const r=[];return Jl(e,()=>r.push(t||n||1)),r}}else return[n||1]}function ep(t,e,n){n({levels:t,levelCost:e})}function VZ({levels:t,levelCost:e,cost:n,color:r,levelsChanged:i}){const[s,o]=_.useState(t||1),[a,l]=_.useState(Hw(e,t||1,n||1));_.useEffect(()=>{o(t||1),l(Hw(e,t,n))},[t,e,n]);const u=d=>{let f=s+1,p=a;p.length&&(p=[...p,1]),ep(f,p,i)},c=d=>{let f=t,p=e;t>1&&(f=t-1,p.length&&(p=p.slice(0,p.length-1))),ep(f,p,i)},h=(d,f)=>{let p=qe(a);d.deltaY<0?p[f]+=1:a[f]>1&&(p[f]-=1),ep(s,p,i)};return U("div",{className:"cost-panel",children:[S("button",{onClick:c,children:S(A$,{})}),Jl(s,d=>S("span",{onWheel:f=>h(f,d),className:"level-points",style:{background:r},children:a.length?a[d]:a})),S("button",{onClick:u,children:S(Mr,{})})]})}function XZ(t){return ye(t,e=>({value:e.id,label:e.name}))}function YZ({node:t={},graphEvents:e}){const{stats:n}=_.useContext(Xo),[r,i]=_.useState(t.id),[s,o]=_.useState(t.name),[a,l]=_.useState(t.description),[u,c]=_.useState(t.levels),[h,d]=_.useState(t.levelCost),[f,p]=_.useState(t.cost),[m,g]=_.useState(t.levelsRequired||0),[v,y]=_.useState(t.providedStats||[]),[b,x]=_.useState(t.providedAbilities||[]),[E,T]=_.useState(t.colors||{}),C=_.useRef(null),A=B=>{i(B.target.value)},k=B=>{o(B.target.value)},M=B=>{l(B.target.value)},$=B=>{g(B.target.value)},j=B=>{P(),e.next({event:"nodeAdded",data:{node:{requires:t.id,id:Math.floor(Math.random()*200).toString()}}})},O=B=>{e.next({event:"nodeDeleted",data:{id:r}})},P=B=>{const I={id:r,name:s,description:a,colors:E};u===1?h!=null&&h.length?I.cost=h[0]:I.cost=1:(I.levels=u,I.levelCost=h),m>0&&(I.levelsRequired=m),v.length&&(I.providedStats=v),b.length&&(I.providedAbilities=b),e.next({event:"nodeEdited",data:{id:t.id,node:I}})},F=B=>{y(B)},G=B=>{x(B)},N=B=>{d(B.levelCost),c(B.levels)},D=(B,I)=>{T({...E,[I]:B})};return w.useEffect(()=>{var B;T(t.colors||{}),i(t.id),o(t.name),l(t.description),c(t.levels||1),d(t.levelCost),p(t.cost),g(t.levelsRequired||1),y(t.providedStats||[]),x(t.providedAbilities||[]),(B=C.current)==null||B.focus()},[t]),t.id?U("div",{className:"edit-panel",children:[S(VZ,{levels:u,levelCost:h,cost:f,color:E.selected,levelsChanged:N}),S("div",{className:"form-control name",children:S("input",{type:"text",ref:C,onChange:k,value:s||""})}),S("div",{className:"form-control id",children:S("input",{type:"text",onChange:A,value:r||""})}),U("div",{className:"colors",children:[S("div",{className:"color-item",children:S(Oc,{color:E.unavailable,colorChanged:B=>D(B,"unavailable")})}),S("div",{className:"color-item",children:S(Oc,{color:E.inactive,colorChanged:B=>D(B,"inactive")})}),S("div",{className:"color-item",children:S(Oc,{color:E.selected,colorChanged:B=>D(B,"selected")})})]}),U("div",{className:"requires",children:["Requires"," ",U("span",{className:"skill",children:[t.requiredName," ",S("input",{min:1,type:"number",value:m,onChange:$})]})]}),S("div",{className:"form-control description",children:S(_A,{rows:4,onChange:M,value:a||""})}),S(ai,{name:"Stats",startOpen:!1,children:S(SA,{providedStats:v,providedStatsChanged:F,options:XZ(n),name:"Stat"})}),S(ai,{name:"Abilities",startOpen:!1,children:S(WZ,{providedAbilities:b,providedAbilitiesChanged:G})}),U("div",{className:"buttons",children:[U(zi,{type:"outline",color:"success",clicked:P,children:[S(OC,{}),"Save Node"]}),U(zi,{type:"outline",color:"success",clicked:j,children:[S(Mr,{}),"Save and Add Child Node"]}),U(zi,{type:"outline",clicked:O,color:"danger",children:[S(eu,{}),"Delete Node"]})]})]}):S("div",{className:"edit-panel",children:"Select a Node"})}function qZ({selectedNode:t,graphEvents$:e}){const[n,r]=_.useState("info");return U(LZ,{itemSelected:o=>{switch(r(o),o){case"info":e.next({event:"modeChanged",data:{mode:"build"}});break;case"settings":e.next({event:"modeChanged",data:{mode:"build"}});break;case"edit":e.next({event:"modeChanged",data:{mode:"edit"}});break}},expanded:o=>{},children:[n==="info"?S(NZ,{node:t}):"",n==="settings"?S(jZ,{graphEvents$:e}):"",n==="edit"?S(YZ,{node:t,graphEvents:e}):""]})}function js(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function CA(t){if(!js(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=CA(t[n])}),e}function yn(t,e,n={clone:!0}){const r=n.clone?V({},t):t;return js(t)&&js(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(js(e[i])&&i in t&&js(t[i])?r[i]=yn(t[i],e[i],n):n.clone?r[i]=js(e[i])?CA(e[i]):e[i]:r[i]=e[i])}),r}function Bo(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}function go(t){if(typeof t!="string")throw new Error(Bo(7));return t.charAt(0).toUpperCase()+t.slice(1)}function KZ(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function ZZ(...t){return _.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{KZ(n,e)})},t)}function TA(t,e){const n=V({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=V({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=V({},s),Object.keys(i).forEach(o=>{n[r][o]=TA(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function QZ(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const Gw=t=>t,JZ=()=>{let t=Gw;return{configure(e){t=e},generate(e){return t(e)},reset(){t=Gw}}},eQ=JZ(),tQ=eQ,nQ={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function AA(t,e,n="Mui"){const r=nQ[e];return r?`${n}-${r}`:`${tQ.generate(t)}-${e}`}function rQ(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=AA(t,i,n)}),r}function PA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=PA(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function iQ(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=PA(t))&&(r&&(r+=" "),r+=e);return r}var sQ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,oQ=kT(function(t){return sQ.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),aQ=oQ,lQ=function(e){return e!=="theme"},Ww=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?aQ:lQ},Vw=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},uQ=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Ry(n,r,i),UT(function(){return NT(n,r,i)}),null},cQ=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=Vw(e,n,r),l=a||Ww(i),u=!l("as");return function(){var c=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)h.push.apply(h,c);else{h.push(c[0][0]);for(var d=c.length,f=1;f<d;f++)h.push(c[f],c[0][f])}var p=zT(function(m,g,v){var y=u&&m.as||i,b="",x=[],E=m;if(m.theme==null){E={};for(var T in m)E[T]=m[T];E.theme=_.useContext(HT)}typeof m.className=="string"?b=BT(g.registered,x,m.className):m.className!=null&&(b=m.className+" ");var C=Iy(h.concat(x),g.registered,E);b+=g.key+"-"+C.name,o!==void 0&&(b+=" "+o);var A=u&&a===void 0?Ww(y):l,k={};for(var M in m)u&&M==="as"||A(M)&&(k[M]=m[M]);return k.className=b,k.ref=v,_.createElement(_.Fragment,null,_.createElement(uQ,{cache:g,serialized:C,isStringTag:typeof y=="string"}),_.createElement(y,k))});return p.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",p.defaultProps=e.defaultProps,p.__emotion_real=p,p.__emotion_base=i,p.__emotion_styles=h,p.__emotion_forwardProp=a,Object.defineProperty(p,"toString",{value:function(){return"."+o}}),p.withComponent=function(m,g){return t(m,V({},n,g,{shouldForwardProp:Vw(p,g,!0)})).apply(void 0,h)},p}};const hQ=cQ;var dQ=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Tg=hQ.bind();dQ.forEach(function(t){Tg[t]=Tg(t)});const fQ=Tg;/**
 * @mui/styled-engine v5.11.11
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function pQ(t,e){return fQ(t,e)}const mQ=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))};function il(t,e){return e?yn(t,e,{clone:!1}):t}const By={xs:0,sm:600,md:900,lg:1200,xl:1536},Xw={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${By[t]}px)`};function nn(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||Xw;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||Xw;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||By).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function gQ(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function vQ(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function yQ(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function Yw({values:t,breakpoints:e,base:n}){const r=n||yQ(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[s],s=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function jd(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Ih(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=jd(t,n)||r,e&&(i=e(i,r,t)),i}function we(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=jd(l,r)||{};return nn(o,a,h=>{let d=Ih(u,i,h);return h===d&&typeof h=="string"&&(d=Ih(u,i,`${e}${h==="default"?"":go(h)}`,h)),n===!1?d:{[n]:d}})};return s.propTypes={},s.filterProps=[e],s}function zd(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?il(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function bQ(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const xQ={m:"margin",p:"padding"},wQ={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},qw={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},_Q=bQ(t=>{if(t.length>2)if(qw[t])t=qw[t];else return[t];const[e,n]=t.split(""),r=xQ[e],i=wQ[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),Ny=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Ly=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Ny,...Ly];function cu(t,e,n,r){var i;const s=(i=jd(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function Uy(t){return cu(t,"spacing",8)}function li(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function EQ(t,e){return n=>t.reduce((r,i)=>(r[i]=li(e,n),r),{})}function SQ(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=_Q(n),s=EQ(i,r),o=t[n];return nn(t,o,s)}function OA(t,e){const n=Uy(t.theme);return Object.keys(t).map(r=>SQ(t,e,r,n)).reduce(il,{})}function We(t){return OA(t,Ny)}We.propTypes={};We.filterProps=Ny;function Ve(t){return OA(t,Ly)}Ve.propTypes={};Ve.filterProps=Ly;function rr(t){return typeof t!="number"?t:`${t}px solid`}const CQ=we({prop:"border",themeKey:"borders",transform:rr}),TQ=we({prop:"borderTop",themeKey:"borders",transform:rr}),AQ=we({prop:"borderRight",themeKey:"borders",transform:rr}),PQ=we({prop:"borderBottom",themeKey:"borders",transform:rr}),OQ=we({prop:"borderLeft",themeKey:"borders",transform:rr}),RQ=we({prop:"borderColor",themeKey:"palette"}),IQ=we({prop:"borderTopColor",themeKey:"palette"}),kQ=we({prop:"borderRightColor",themeKey:"palette"}),MQ=we({prop:"borderBottomColor",themeKey:"palette"}),DQ=we({prop:"borderLeftColor",themeKey:"palette"}),Hd=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=cu(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:li(e,r)});return nn(t,t.borderRadius,n)}return null};Hd.propTypes={};Hd.filterProps=["borderRadius"];zd(CQ,TQ,AQ,PQ,OQ,RQ,IQ,kQ,MQ,DQ,Hd);const Gd=t=>{if(t.gap!==void 0&&t.gap!==null){const e=cu(t.theme,"spacing",8),n=r=>({gap:li(e,r)});return nn(t,t.gap,n)}return null};Gd.propTypes={};Gd.filterProps=["gap"];const Wd=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=cu(t.theme,"spacing",8),n=r=>({columnGap:li(e,r)});return nn(t,t.columnGap,n)}return null};Wd.propTypes={};Wd.filterProps=["columnGap"];const Vd=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=cu(t.theme,"spacing",8),n=r=>({rowGap:li(e,r)});return nn(t,t.rowGap,n)}return null};Vd.propTypes={};Vd.filterProps=["rowGap"];const FQ=we({prop:"gridColumn"}),$Q=we({prop:"gridRow"}),BQ=we({prop:"gridAutoFlow"}),NQ=we({prop:"gridAutoColumns"}),LQ=we({prop:"gridAutoRows"}),UQ=we({prop:"gridTemplateColumns"}),jQ=we({prop:"gridTemplateRows"}),zQ=we({prop:"gridTemplateAreas"}),HQ=we({prop:"gridArea"});zd(Gd,Wd,Vd,FQ,$Q,BQ,NQ,LQ,UQ,jQ,zQ,HQ);function vo(t,e){return e==="grey"?e:t}const GQ=we({prop:"color",themeKey:"palette",transform:vo}),WQ=we({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:vo}),VQ=we({prop:"backgroundColor",themeKey:"palette",transform:vo});zd(GQ,WQ,VQ);function qt(t){return t<=1&&t!==0?`${t*100}%`:t}const XQ=we({prop:"width",transform:qt}),jy=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i,s;return{maxWidth:((r=t.theme)==null||(i=r.breakpoints)==null||(s=i.values)==null?void 0:s[n])||By[n]||qt(n)}};return nn(t,t.maxWidth,e)}return null};jy.filterProps=["maxWidth"];const YQ=we({prop:"minWidth",transform:qt}),qQ=we({prop:"height",transform:qt}),KQ=we({prop:"maxHeight",transform:qt}),ZQ=we({prop:"minHeight",transform:qt});we({prop:"size",cssProperty:"width",transform:qt});we({prop:"size",cssProperty:"height",transform:qt});const QQ=we({prop:"boxSizing"});zd(XQ,jy,YQ,qQ,KQ,ZQ,QQ);const tp=t=>e=>{if(e[t]!==void 0&&e[t]!==null){const n=r=>{var i;let s=(i=e.theme.typography)==null?void 0:i[r];if(typeof s=="object"&&(s=null),!s){var o,a;s=(o=e.theme.typography)==null?void 0:o[`${t}${e[t]==="default"||e[t]===t?"":go((a=e[t])==null?void 0:a.toString())}`]}if(!s){var l,u,c;s=(l=(u=e.theme.typography)==null||(c=u[r])==null?void 0:c[t])!=null?l:r}return{[t]:s}};return nn(e,e[t],n)}return null},JQ={border:{themeKey:"borders",transform:rr},borderTop:{themeKey:"borders",transform:rr},borderRight:{themeKey:"borders",transform:rr},borderBottom:{themeKey:"borders",transform:rr},borderLeft:{themeKey:"borders",transform:rr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Hd},color:{themeKey:"palette",transform:vo},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:vo},backgroundColor:{themeKey:"palette",transform:vo},p:{style:Ve},pt:{style:Ve},pr:{style:Ve},pb:{style:Ve},pl:{style:Ve},px:{style:Ve},py:{style:Ve},padding:{style:Ve},paddingTop:{style:Ve},paddingRight:{style:Ve},paddingBottom:{style:Ve},paddingLeft:{style:Ve},paddingX:{style:Ve},paddingY:{style:Ve},paddingInline:{style:Ve},paddingInlineStart:{style:Ve},paddingInlineEnd:{style:Ve},paddingBlock:{style:Ve},paddingBlockStart:{style:Ve},paddingBlockEnd:{style:Ve},m:{style:We},mt:{style:We},mr:{style:We},mb:{style:We},ml:{style:We},mx:{style:We},my:{style:We},margin:{style:We},marginTop:{style:We},marginRight:{style:We},marginBottom:{style:We},marginLeft:{style:We},marginX:{style:We},marginY:{style:We},marginInline:{style:We},marginInlineStart:{style:We},marginInlineEnd:{style:We},marginBlock:{style:We},marginBlockStart:{style:We},marginBlockEnd:{style:We},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Gd},rowGap:{style:Vd},columnGap:{style:Wd},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:qt},maxWidth:{style:jy},minWidth:{transform:qt},height:{transform:qt},maxHeight:{transform:qt},minHeight:{transform:qt},boxSizing:{},fontFamily:{themeKey:"typography",style:tp("fontFamily")},fontSize:{themeKey:"typography",style:tp("fontSize")},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography",style:tp("fontWeight")},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},zy=JQ;function eJ(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function tJ(t,e){return typeof t=="function"?t(e):t}function nJ(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:c,style:h}=a;if(r==null)return null;const d=jd(i,u)||{};return h?h(o):nn(o,r,p=>{let m=Ih(d,c,p);return p===m&&typeof p=="string"&&(m=Ih(d,c,`${n}${p==="default"?"":go(p)}`,p)),l===!1?m:{[l]:m}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:zy;function a(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const c=gQ(s.breakpoints),h=Object.keys(c);let d=c;return Object.keys(u).forEach(f=>{const p=tJ(u[f],s);if(p!=null)if(typeof p=="object")if(o[f])d=il(d,t(f,p,s,o));else{const m=nn({theme:s},p,g=>({[f]:g}));eJ(m,p)?d[f]=e({sx:p,theme:s}):d=il(d,m)}else d=il(d,t(f,p,s,o))}),vQ(h,d)}return Array.isArray(i)?i.map(a):a(i)}return e}const RA=nJ();RA.filterProps=["sx"];const Hy=RA,rJ=["values","unit","step"],iJ=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>V({},n,{[r.key]:r.val}),{})};function sJ(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=en(t,rJ),s=iJ(e),o=Object.keys(s);function a(d){return`@media (min-width:${typeof e[d]=="number"?e[d]:d}${n})`}function l(d){return`@media (max-width:${(typeof e[d]=="number"?e[d]:d)-r/100}${n})`}function u(d,f){const p=o.indexOf(f);return`@media (min-width:${typeof e[d]=="number"?e[d]:d}${n}) and (max-width:${(p!==-1&&typeof e[o[p]]=="number"?e[o[p]]:f)-r/100}${n})`}function c(d){return o.indexOf(d)+1<o.length?u(d,o[o.indexOf(d)+1]):a(d)}function h(d){const f=o.indexOf(d);return f===0?a(o[1]):f===o.length-1?l(o[f]):u(d,o[o.indexOf(d)+1]).replace("@media","@media not all and")}return V({keys:o,values:s,up:a,down:l,between:u,only:c,not:h,unit:n},i)}const oJ={borderRadius:4},aJ=oJ;function lJ(t=8){if(t.mui)return t;const e=Uy({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}const uJ=["breakpoints","palette","spacing","shape"];function Gy(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=en(t,uJ),a=sJ(n),l=lJ(i);let u=yn({breakpoints:a,direction:"ltr",components:{},palette:V({mode:"light"},r),spacing:l,shape:V({},aJ,s)},o);return u=e.reduce((c,h)=>yn(c,h),u),u.unstable_sxConfig=V({},zy,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(h){return Hy({sx:h,theme:this})},u}const cJ=_.createContext(null),hJ=cJ;function dJ(){return _.useContext(hJ)}function fJ(t){return Object.keys(t).length===0}function pJ(t=null){const e=dJ();return!e||fJ(e)?t:e}const mJ=Gy();function gJ(t=mJ){return pJ(t)}const vJ=["variant"];function Kw(t){return t.length===0}function IA(t){const{variant:e}=t,n=en(t,vJ);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=Kw(r)?t[i]:go(t[i]):r+=`${Kw(r)?i:go(i)}${go(t[i].toString())}`}),r}const yJ=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],bJ=["theme"],xJ=["theme"];function Ea(t){return Object.keys(t).length===0}function wJ(t){return typeof t=="string"&&t.charCodeAt(0)>96}const _J=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,EJ=(t,e)=>{let n=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants);const r={};return n.forEach(i=>{const s=IA(i.props);r[s]=i.style}),r},SJ=(t,e,n,r)=>{var i,s;const{ownerState:o={}}=t,a=[],l=n==null||(i=n.components)==null||(s=i[r])==null?void 0:s.variants;return l&&l.forEach(u=>{let c=!0;Object.keys(u.props).forEach(h=>{o[h]!==u.props[h]&&t[h]!==u.props[h]&&(c=!1)}),c&&a.push(e[IA(u.props)])}),a};function Dc(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const CJ=Gy();function TJ(t={}){const{defaultTheme:e=CJ,rootShouldForwardProp:n=Dc,slotShouldForwardProp:r=Dc}=t,i=s=>{const o=Ea(s.theme)?e:s.theme;return Hy(V({},s,{theme:o}))};return i.__mui_systemSx=!0,(s,o={})=>{mQ(s,b=>b.filter(x=>!(x!=null&&x.__mui_systemSx)));const{name:a,slot:l,skipVariantsResolver:u,skipSx:c,overridesResolver:h}=o,d=en(o,yJ),f=u!==void 0?u:l&&l!=="Root"||!1,p=c||!1;let m,g=Dc;l==="Root"?g=n:l?g=r:wJ(s)&&(g=void 0);const v=pQ(s,V({shouldForwardProp:g,label:m},d)),y=(b,...x)=>{const E=x?x.map(k=>typeof k=="function"&&k.__emotion_real!==k?M=>{let{theme:$}=M,j=en(M,bJ);return k(V({theme:Ea($)?e:$},j))}:k):[];let T=b;a&&h&&E.push(k=>{const M=Ea(k.theme)?e:k.theme,$=_J(a,M);if($){const j={};return Object.entries($).forEach(([O,P])=>{j[O]=typeof P=="function"?P(V({},k,{theme:M})):P}),h(k,j)}return null}),a&&!f&&E.push(k=>{const M=Ea(k.theme)?e:k.theme;return SJ(k,EJ(a,M),M,a)}),p||E.push(i);const C=E.length-x.length;if(Array.isArray(b)&&C>0){const k=new Array(C).fill("");T=[...b,...k],T.raw=[...b.raw,...k]}else typeof b=="function"&&b.__emotion_real!==b&&(T=k=>{let{theme:M}=k,$=en(k,xJ);return b(V({theme:Ea(M)?e:M},$))});return v(T,...E)};return v.withConfig&&(y.withConfig=v.withConfig),y}}function AJ(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:TA(e.components[n].defaultProps,r)}function PJ({props:t,name:e,defaultTheme:n}){const r=gJ(n);return AJ({theme:r,name:e,props:t})}function kA(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function OJ(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function No(t){if(t.type)return t;if(t.charAt(0)==="#")return No(OJ(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Bo(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Bo(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function Wy(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function RJ(t){t=No(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,c=(u+n/30)%12)=>i-s*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),Wy({type:a,values:l})}function Zw(t){t=No(t);let e=t.type==="hsl"||t.type==="hsla"?No(RJ(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function IJ(t,e){const n=Zw(t),r=Zw(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function kJ(t,e){if(t=No(t),e=kA(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Wy(t)}function MJ(t,e){if(t=No(t),e=kA(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Wy(t)}function DJ(t,e){return V({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const FJ={black:"#000",white:"#fff"},Il=FJ,$J={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},BJ=$J,NJ={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},gs=NJ,LJ={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},vs=LJ,UJ={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Sa=UJ,jJ={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},ys=jJ,zJ={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},bs=zJ,HJ={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},xs=HJ,GJ=["mode","contrastThreshold","tonalOffset"],Qw={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Il.white,default:Il.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},np={text:{primary:Il.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Il.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Jw(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=MJ(t.main,i):e==="dark"&&(t.dark=kJ(t.main,s)))}function WJ(t="light"){return t==="dark"?{main:ys[200],light:ys[50],dark:ys[400]}:{main:ys[700],light:ys[400],dark:ys[800]}}function VJ(t="light"){return t==="dark"?{main:gs[200],light:gs[50],dark:gs[400]}:{main:gs[500],light:gs[300],dark:gs[700]}}function XJ(t="light"){return t==="dark"?{main:vs[500],light:vs[300],dark:vs[700]}:{main:vs[700],light:vs[400],dark:vs[800]}}function YJ(t="light"){return t==="dark"?{main:bs[400],light:bs[300],dark:bs[700]}:{main:bs[700],light:bs[500],dark:bs[900]}}function qJ(t="light"){return t==="dark"?{main:xs[400],light:xs[300],dark:xs[700]}:{main:xs[800],light:xs[500],dark:xs[900]}}function KJ(t="light"){return t==="dark"?{main:Sa[400],light:Sa[300],dark:Sa[700]}:{main:"#ed6c02",light:Sa[500],dark:Sa[900]}}function ZJ(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=en(t,GJ),s=t.primary||WJ(e),o=t.secondary||VJ(e),a=t.error||XJ(e),l=t.info||YJ(e),u=t.success||qJ(e),c=t.warning||KJ(e);function h(m){return IJ(m,np.text.primary)>=n?np.text.primary:Qw.text.primary}const d=({color:m,name:g,mainShade:v=500,lightShade:y=300,darkShade:b=700})=>{if(m=V({},m),!m.main&&m[v]&&(m.main=m[v]),!m.hasOwnProperty("main"))throw new Error(Bo(11,g?` (${g})`:"",v));if(typeof m.main!="string")throw new Error(Bo(12,g?` (${g})`:"",JSON.stringify(m.main)));return Jw(m,"light",y,r),Jw(m,"dark",b,r),m.contrastText||(m.contrastText=h(m.main)),m},f={dark:np,light:Qw};return yn(V({common:V({},Il),mode:e,primary:d({color:s,name:"primary"}),secondary:d({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:d({color:a,name:"error"}),warning:d({color:c,name:"warning"}),info:d({color:l,name:"info"}),success:d({color:u,name:"success"}),grey:BJ,contrastThreshold:n,getContrastText:h,augmentColor:d,tonalOffset:r},f[e]),i)}const QJ=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function JJ(t){return Math.round(t*1e5)/1e5}const e_={textTransform:"uppercase"},t_='"Roboto", "Helvetica", "Arial", sans-serif';function eee(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=t_,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:h}=n,d=en(n,QJ),f=i/14,p=h||(v=>`${v/u*f}rem`),m=(v,y,b,x,E)=>V({fontFamily:r,fontWeight:v,fontSize:p(y),lineHeight:b},r===t_?{letterSpacing:`${JJ(x/y)}em`}:{},E,c),g={h1:m(s,96,1.167,-1.5),h2:m(s,60,1.2,-.5),h3:m(o,48,1.167,0),h4:m(o,34,1.235,.25),h5:m(o,24,1.334,0),h6:m(a,20,1.6,.15),subtitle1:m(o,16,1.75,.15),subtitle2:m(a,14,1.57,.1),body1:m(o,16,1.5,.15),body2:m(o,14,1.43,.15),button:m(a,14,1.75,.4,e_),caption:m(o,12,1.66,.4),overline:m(o,12,2.66,1,e_),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return yn(V({htmlFontSize:u,pxToRem:p,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},g),d,{clone:!1})}const tee=.2,nee=.14,ree=.12;function Me(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${tee})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${nee})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${ree})`].join(",")}const iee=["none",Me(0,2,1,-1,0,1,1,0,0,1,3,0),Me(0,3,1,-2,0,2,2,0,0,1,5,0),Me(0,3,3,-2,0,3,4,0,0,1,8,0),Me(0,2,4,-1,0,4,5,0,0,1,10,0),Me(0,3,5,-1,0,5,8,0,0,1,14,0),Me(0,3,5,-1,0,6,10,0,0,1,18,0),Me(0,4,5,-2,0,7,10,1,0,2,16,1),Me(0,5,5,-3,0,8,10,1,0,3,14,2),Me(0,5,6,-3,0,9,12,1,0,3,16,2),Me(0,6,6,-3,0,10,14,1,0,4,18,3),Me(0,6,7,-4,0,11,15,1,0,4,20,3),Me(0,7,8,-4,0,12,17,2,0,5,22,4),Me(0,7,8,-4,0,13,19,2,0,5,24,4),Me(0,7,9,-4,0,14,21,2,0,5,26,4),Me(0,8,9,-5,0,15,22,2,0,6,28,5),Me(0,8,10,-5,0,16,24,2,0,6,30,5),Me(0,8,11,-5,0,17,26,2,0,6,32,5),Me(0,9,11,-5,0,18,28,2,0,7,34,6),Me(0,9,12,-6,0,19,29,2,0,7,36,6),Me(0,10,13,-6,0,20,31,3,0,8,38,7),Me(0,10,13,-6,0,21,33,3,0,8,40,7),Me(0,10,14,-6,0,22,35,3,0,8,42,7),Me(0,11,14,-7,0,23,36,3,0,9,44,8),Me(0,11,15,-7,0,24,38,3,0,9,46,8)],see=iee,oee=["duration","easing","delay"],aee={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},lee={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function n_(t){return`${Math.round(t)}ms`}function uee(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function cee(t){const e=V({},aee,t.easing),n=V({},lee,t.duration);return V({getAutoHeightDuration:uee,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return en(s,oee),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:n_(o)} ${a} ${typeof l=="string"?l:n_(l)}`).join(",")}},t,{easing:e,duration:n})}const hee={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},dee=hee,fee=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function pee(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=en(t,fee);if(t.vars)throw new Error(Bo(18));const a=ZJ(r),l=Gy(t);let u=yn(l,{mixins:DJ(l.breakpoints,n),palette:a,shadows:see.slice(),typography:eee(a,s),transitions:cee(i),zIndex:V({},dee)});return u=yn(u,o),u=e.reduce((c,h)=>yn(c,h),u),u.unstable_sxConfig=V({},zy,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(h){return Hy({sx:h,theme:this})},u}const mee=pee(),MA=mee;function gee({props:t,name:e}){return PJ({props:t,name:e,defaultTheme:MA})}const vee=t=>Dc(t)&&t!=="classes",yee=TJ({defaultTheme:MA,rootShouldForwardProp:vee}),bee=yee;function xee(t){return AA("MuiMasonry",t)}rQ("MuiMasonry",["root"]);const wee=["children","className","component","columns","spacing","defaultColumns","defaultHeight","defaultSpacing"],Vr=t=>Number(t.replace("px","")),_ee={flexBasis:"100%",width:0,margin:0,padding:0},Eee=t=>{const{classes:e}=t;return QZ({root:["root"]},xee,e)},See=({ownerState:t,theme:e})=>{let n={width:"100%",display:"flex",flexFlow:"column wrap",alignContent:"flex-start",boxSizing:"border-box","& > *":{boxSizing:"border-box"}};const r={};if(t.isSSR){const u={},c=Vr(e.spacing(t.defaultSpacing));for(let h=1;h<=t.defaultColumns;h+=1)u[`&:nth-of-type(${t.defaultColumns}n+${h%t.defaultColumns})`]={order:h};return r.height=t.defaultHeight,r.margin=-(c/2),r["& > *"]=V({},n["& > *"],u,{margin:c/2,width:`calc(${(100/t.defaultColumns).toFixed(2)}% - ${c}px)`}),V({},n,r)}const i=Yw({values:t.spacing,breakpoints:e.breakpoints.values}),s=Uy(e);n=yn(n,nn({theme:e},i,u=>{let c;if(typeof u=="string"&&!Number.isNaN(Number(u))||typeof u=="number"){const h=Number(u);c=li(s,h)}else c=u;return V({margin:`calc(0px - (${c} / 2))`,"& > *":{margin:`calc(${c} / 2)`}},t.maxColumnHeight&&{height:typeof c=="number"?Math.ceil(t.maxColumnHeight+Vr(c)):`calc(${t.maxColumnHeight}px + ${c})`})}));const a=Yw({values:t.columns,breakpoints:e.breakpoints.values});return n=yn(n,nn({theme:e},a,u=>{const h=`${(100/Number(u)).toFixed(2)}%`,d=typeof i=="string"&&!Number.isNaN(Number(i))||typeof i=="number"?li(s,Number(i)):"0px";return{"& > *":{width:`calc(${h} - ${d})`}}})),typeof i=="object"&&(n=yn(n,nn({theme:e},i,(u,c)=>{if(c){const h=Number(u),d=Object.keys(a).pop(),f=li(s,h);return{"& > *":{width:`calc(${`${(100/(typeof a=="object"?a[c]||a[d]:a)).toFixed(2)}%`} - ${f})`}}}return null}))),n},Cee=bee("div",{name:"MuiMasonry",slot:"Root",overridesResolver:(t,e)=>[e.root]})(See),Tee=_.forwardRef(function(e,n){const r=gee({props:e,name:"MuiMasonry"}),{children:i,className:s,component:o="div",columns:a=4,spacing:l=1,defaultColumns:u,defaultHeight:c,defaultSpacing:h}=r,d=en(r,wee),f=_.useRef(),[p,m]=_.useState(),g=!p&&c&&u!==void 0&&h!==void 0,[v,y]=_.useState(g?u-1:0),b=V({},r,{spacing:l,columns:a,maxColumnHeight:p,defaultColumns:u,defaultHeight:c,defaultSpacing:h,isSSR:g}),x=Eee(b),E=k=>{if(!f.current||!k||k.length===0)return;const M=f.current,$=f.current.firstChild,j=M.clientWidth,O=$.clientWidth;if(j===0||O===0)return;const P=window.getComputedStyle($),F=Vr(P.marginLeft),G=Vr(P.marginRight),N=Math.round(j/(O+F+G)),D=new Array(N).fill(0);let B=!1;M.childNodes.forEach(I=>{if(I.nodeType!==Node.ELEMENT_NODE||I.dataset.class==="line-break"||B)return;const H=window.getComputedStyle(I),X=Vr(H.marginTop),ie=Vr(H.marginBottom),oe=Vr(H.height)?Math.ceil(Vr(H.height))+X+ie:0;if(oe===0){B=!0;return}for(let de=0;de<I.childNodes.length;de+=1){const ue=I.childNodes[de];if(ue.tagName==="IMG"&&ue.clientHeight===0){B=!0;break}}if(!B){const de=D.indexOf(Math.min(...D));D[de]+=oe;const ue=de+1;I.style.order=ue}}),B||sl.flushSync(()=>{m(Math.max(...D)),y(N>0?N-1:0)})},T=_.useRef(typeof ResizeObserver>"u"?void 0:new ResizeObserver(E));_.useEffect(()=>{const k=T.current;if(k!==void 0)return f.current&&f.current.childNodes.forEach(M=>{k.observe(M)}),()=>k?k.disconnect():{}},[a,l,i]);const C=ZZ(n,f),A=new Array(v).fill("").map((k,M)=>S("span",{"data-class":"line-break",style:V({},_ee,{order:M+1})},M));return U(Cee,V({as:o,className:iQ(x.root,s),ref:C,ownerState:b},d,{children:[i,A]}))}),Aee=Tee;function r_({label:t,value:e}){return U("div",{className:"stat-line",children:[U("span",{className:"label",children:[t,": "]}),S("span",{className:"value",children:e})]})}function Ag(){return Ag=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ag.apply(this,arguments)}var Pee=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?_.useLayoutEffect:_.useEffect;function Oee(t){var e=t.breakpoints,n=t.ignoreDimensions,r=n===void 0?!0:n,i=Object.keys(e)[0],s=_.useState({activeBreakpoint:i,width:0}),o=s[0],a=s[1],l=_.useRef(null),u=_.useRef(null),c=_.useCallback(function(f,p){for(var m,g=0,v=Object.entries(e);g<v.length;g++){var y=v[g],b=y[0],x=y[1],E=x[0],T=x[1];if(p>=E){if(T===void 0){m=b;break}else if(p<=T){m=b;break}}}return{activeBreakpoint:m||f,width:p}},[e]),h=_.useCallback(function(f){var p=f[0],m;if(p.borderBoxSize?m=Math.round(Array.isArray(p.borderBoxSize)?p.borderBoxSize[0].inlineSize:p.borderBoxSize.inlineSize):m=Math.round(p.contentRect.width),r){var g=c(o.activeBreakpoint,m),v=g.activeBreakpoint;v!==o.activeBreakpoint&&a(function(y){return Ag({},y,{activeBreakpoint:v})})}else a(c(o.activeBreakpoint,m))},[o.activeBreakpoint,r,c]);Pee(function(){return l.current||(l.current=new ResizeObserver(h)),u.current&&l.current.observe(u.current,{box:"border-box"}),function(){var f;(f=l.current)==null||f.disconnect(),l.current=null}},[h]);var d=_.useCallback(function(f){if(u.current){var p;(p=l.current)==null||p.unobserve(u.current)}if(u.current=f,f){var m;(m=l.current)==null||m.observe(f)}},[]);return{ref:d,width:o.width,active:o.activeBreakpoint}}const Vy=_.createContext({}),DA=({children:t})=>{const[e,n]=_.useState({textFilter:"",tags:[]});return S(Vy.Provider,{value:{filters:e,setFilters:n},children:t})};function Ree({tags:t}){const{filters:e,setFilters:n}=_.useContext(Vy),r=i=>{e.tags.includes(i)?n({...e,tags:e.tags.filter(s=>s!==i)}):n({...e,tags:[...e.tags,i]})};return t?S("div",{className:"tag-filters",children:t.map(i=>S(cg,{label:i,clicked:r,selected:yv(e.tags,i)},i))}):S("div",{})}function FA({tags:t,expanded:e,filtersUpdated:n}){const{filters:r,setFilters:i}=_.useContext(Vy),[s,o]=_.useState(e),a=()=>{i({tags:[],textFilter:""})};return _.useEffect(()=>{n(r)},[r]),s?U("div",{className:"ability-filters open",children:[S(Qi,{fullWidth:!0,placeholder:"Filter by name",minWidth:200,className:"text-filter",value:r==null?void 0:r.textFilter,valueChanged:l=>i({...r,textFilter:l})}),S("div",{className:"tag-filters",children:S(Ree,{tags:t})}),U("div",{className:"controls",children:[U(di,{color:"theme",noPadding:!0,clicked:a,disabled:!r.tags.length&&!r.textFilter.length,children:[S(PC,{size:18}),"reset"]}),S(di,{color:"mutedWhite",clicked:()=>o(!s),children:S(R$,{size:18})})]})]}):S("div",{className:"ability-filters closed",children:U("button",{onClick:()=>o(!s),className:"controls",children:["filters",S(AC,{size:18})]})})}function Iee(t){return zD(ye(vn(t.abilities,e=>!e.replaced&&e.learned),e=>({...e})),"type")}function kee(t,e){let n=t;return e?n=vn(t,r=>{var s,o;let i=!0;return(s=e.tags)!=null&&s.length&&(i=gC(e.tags,r.tags).length===0),(o=e.textFilter)!=null&&o.length&&(i=i&&r.name.toLowerCase().includes(e.textFilter.toLowerCase())),i}):n=t,Ql(n,"name")}const Mee={small:[0,600],med:[600,900],large:[901,1150],xl:[1151,1400],xxl:[1401,1600],xxxl:[1601,2e3]};function Dee(t){return{small:1,med:2,large:3,xl:4,xxl:5,xxxl:6}[t]}function Fee(t,e){let n=Iee(t),r={};return ut(Object.keys(n),i=>{let s=[];ut(n[i],o=>{const a=o.id;o.ability=Ie(e,{id:a}),o.tags&&(s=bC([...s,...o.tags]))}),r[i]=Ql(s)}),{abilityTags:r,knownAbilities:n}}function $ee(){const{build:t}=_.useContext(qo),{abilityTypes:e,abilities:n}=_.useContext(Lt),[r,i]=_.useState({}),[s,o]=_.useState({}),{stats:a}=_.useContext(Xo),[l,u]=_.useState({}),{ref:c,active:h,width:d}=Oee({breakpoints:Mee}),[f,p]=_.useState({}),m=g=>{p({...f,[g]:!f[g]})};return _.useEffect(()=>{const g=Fee(t,n);i(g.knownAbilities),o(g.abilityTags)},[t,n]),U("div",{className:"character-sheet",children:[U("div",{className:"stats",children:[S("div",{className:"title",children:"Stats"}),S(r_,{label:" Skill Points Spent",value:t.pointsInvested}),ye(a,(g,v)=>S(r_,{label:g.name,value:t.stats[g.id]||0}))]}),U("div",{className:"abilities",children:[S("div",{className:"title",children:"Abilities"}),Ql(e,"name").map((g,v)=>{var y,b;return U(ai,{startOpen:!1,name:g.name,disabled:!((y=r[g.id])!=null&&y.length),children:[S(DA,{children:S(FA,{expanded:!0,tags:s[g.id]||[],filtersUpdated:x=>u({...l,[g.id]:x})})}),U("div",{ref:c,className:"ability-cards",children:[S("div",{className:"expand-button",children:S(di,{color:"theme",clicked:()=>m(g.id),children:f[g.id]?S(CC,{size:30}):S(SC,{size:30})})}),S(Aee,{columns:Dee(h),spacing:2,children:(b=kee(r[g.id],l[g.id]))==null?void 0:b.map(x=>S("div",{children:(x==null?void 0:x.ability)&&S(Ud,{ability:x.ability,isPlayerAbility:!0,modifiers:x.modifiers,startOpen:!1,isExpanded:!!f[g.id]})}))})]})]},v)})]})]})}function Bee({nodes:t,importAttempted:e}){const{build:n}=_.useContext(qo),{tagColors:r}=_.useContext(Yo),{stats:i}=_.useContext(Xo),{abilityTypes:s,abilities:o}=_.useContext(Lt),[a,l]=_.useState(""),[u,c]=_.useState(""),[h,d]=_.useState({opacity:0}),[f,p]=_.useState({opacity:0});return U("div",{className:"code-panel",children:[U("div",{children:[S("div",{className:"title",children:"Build"}),U("div",{className:"import",children:[S("textarea",{spellCheck:!1,rows:8,onChange:C=>{l(C.target.value)},placeholder:"Paste exported build here"}),U("button",{className:"attached",onClick:C=>{e({type:"build",data:a})},children:["Import Build ",S(Xm,{})]})]}),U("div",{className:"export",children:[U("button",{onClick:C=>{navigator.clipboard.writeText(JSON.stringify(n.exportableBuild)),d({opacity:1}),setTimeout(()=>{p({opacity:0})},2e3)},children:["Copy Current Build ",S(Wm,{})]}),S("div",{style:h,children:"Text Copied to Clipboard"})]})]}),U("div",{children:[S("div",{className:"title",children:"Trees/Abilities"}),U("div",{className:"import",children:[S("textarea",{spellCheck:!1,rows:8,onChange:C=>{c(C.target.value)},placeholder:"Paste exported trees and abilities here"}),U("button",{className:"attached",onClick:C=>{e({type:"trees",data:u})},children:["Import Trees/Abilities ",S(Xm,{})]})]}),U("div",{className:"export",children:[U("button",{onClick:C=>{const A={abilities:o,nodes:t,tagColors:r,stats:i,abilityTypes:s};navigator.clipboard.writeText(JSON.stringify(A)),p({opacity:1}),setTimeout(()=>{p({opacity:0})},2e3)},children:["Copy Current Trees/Abilities ",S(Wm,{})]}),S("div",{style:f,children:"Text Copied to Clipboard"})]})]}),U("div",{className:"reset",children:[S("div",{className:"title",children:"Reset"}),U("button",{onClick:C=>{e({type:"default"})},children:["Load Defaults",S(B$,{})]}),S("br",{}),U("button",{onClick:C=>{e({type:"reset"})},children:["Reset",S(X$,{})]})]})]})}function i_({itemSelected:t,selectedItem:e}){return U("div",{className:"right-menu",children:[S("button",{type:"button",className:e==="sheet"?"selected":"",onClick:n=>t("sheet"),children:S(HF,{})}),S("button",{type:"button",className:e==="list"?"selected":"",onClick:n=>t("list"),children:S(f$,{})}),S("button",{type:"button",className:e==="code"?"selected":"",onClick:n=>t("code"),children:S(Xm,{})}),S("button",{type:"button",className:e==="help"?"selected":"",onClick:n=>t("help"),children:S(y$,{})})]})}function Nee({children:t,itemSelected:e,title:n}){const[r,i]=_.useState(!1),[s,o]=_.useState(!1),[a,l]=_.useState(null);let u;const c=d=>{(d===a||!r)&&i(!r),l(d),e(d)},h=d=>{o(!s)};return u=s?S(i$,{}):S(t$,{}),r?U("div",{className:"sidebar-right expanded",children:[U("div",{className:s?"sidebar-right-panel full":"sidebar-right-panel partial",children:[U("div",{onClick:h,className:"sidebar-right-panel-heading",children:[S("button",{className:"expander",children:u}),n]}),S("div",{className:"sidebar-right-panel-content",children:t})]}),S(i_,{itemSelected:c,selectedItem:a})]}):S("div",{className:"sidebar-right",children:S(i_,{itemSelected:c,selectedItem:void 0})})}function s_(t,e){return vn(t,n=>{var i,s;let r=!0;return(i=e.tags)!=null&&i.length&&(r=gC(e.tags,n.tags).length===0),(s=e.textFilter)!=null&&s.length&&(r=r&&n.name.toLowerCase().includes(e.textFilter.toLowerCase())),r})}function Lee(t){const e=nF(t,(n,r)=>{var i;return(i=r==null?void 0:r.tags)!=null&&i.length?[...n,...r.tags]:n},[]);return Ql(bC(e))}function Uee(){const{abilities:t,setAbilities:e}=_.useContext(Lt),[n,r]=_.useState({tags:[],textFilter:""}),[i,s]=_.useState(!1),[o,a]=_.useState(""),l=p=>{},u=p=>{a(p.id)},c=p=>{e({type:"remove",ability:{id:p}}),e({type:"save"})},h=p=>{r(p)},d=()=>{const p=`id-${Math.floor(Math.random()*200)}`;e({type:"add",ability:{name:n.textFilter||"New Ability",id:p,description:"",tags:n.tags,type:"action"}}),a(p)},f=()=>{s(!i)};return U("div",{className:"ability-editor",children:[S(DA,{children:S(FA,{expanded:!0,tags:Lee(t),filtersUpdated:h})}),U("div",{className:"expand-button",children:["Abilities",S(di,{color:"theme",clicked:f,children:i?S(SC,{size:30}):S(CC,{size:30})})]}),U("div",{className:"ability-cards",children:[S("div",{className:"card-wrapper new-button",children:U("button",{onClick:d,children:[S(Mr,{})," New Ability"]})}),s_(t,n).map((p,m)=>S("div",{className:"card-wrapper",children:S(Ud,{ability:p,isPlayerAbility:!0,modifiers:p.modifiers,startOpen:!1,isExpanded:i,editable:!0,forceIsEditing:p.id===o,abilityEdited:l,abilityCopied:u,abilityRemoved:c},m)})),s_(t,n).length>10&&S("div",{className:"card-wrapper new-button",children:U("button",{onClick:d,children:[S(Mr,{})," New Ability"]})})]})]})}function jee(){const{abilityTypes:t,setAbilityTypes:e}=_.useContext(Lt),n=o=>{e({type:"add",abilityType:{id:"new-abilityType-type",name:"New Ability Type"}})},r=o=>{e({type:"remove",abilityType:{id:o}})},i=(o,a,l)=>{e({type:"update",index:a,abilityType:{...t[a],[l]:o}})},s=()=>{e({type:"save"})};return S("div",{className:"abilityType-editor",children:U("div",{className:"abilityTypes",children:[ye(t,(o,a)=>U("div",{className:"abilityType-instance",children:[U("div",{className:"top",children:[S("div",{className:"name",children:S(Qi,{blur:s,value:o.name,valueChanged:l=>i(l,a,"name")})}),S("button",{className:"remove-button",onClick:l=>r(o.id),children:S(eu,{})})]}),S("div",{className:"bottom",children:S("div",{className:"id",children:S(Qi,{blur:s,value:o.id,valueChanged:l=>i(l,a,"id")})})})]},a)),U("button",{className:"new-button",onClick:n,children:["Add Type ",S(Mr,{})]})]})})}function o_(){const{stats:t,setStats:e}=_.useContext(Xo),n=o=>{e({type:"add",stat:{id:"new-stat",name:"New Stat"}})},r=o=>{e({type:"remove",stat:{id:o}})},i=(o,a,l)=>{e({type:"update",index:a,stat:{...t[a],[l]:o}})},s=()=>{e({type:"save"})};return S("div",{className:"stat-editor",children:U("div",{className:"stats",children:[ye(t,(o,a)=>U("div",{className:"stat-instance",children:[U("div",{className:"top",children:[S("div",{className:"name",children:S(Qi,{blur:s,value:o.name,valueChanged:l=>i(l,a,"name")})}),S("button",{className:"remove-button",onClick:l=>r(o.id),children:S(eu,{})})]}),S("div",{className:"bottom",children:S("div",{className:"id",children:S(Qi,{blur:s,value:o.id,valueChanged:l=>i(l,a,"id")})})})]},a)),U("button",{className:"new-button",onClick:n,children:["Add Stat ",S(Mr,{})]})]})})}const zee="{myParam}This only appears when 'myParam' is at least 1{/myParam}",Hee="%myParam% will be replaced with the value of 'myParam'",Gee="You make 1 melee attack against an adjacent enemy. Roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.";function Wee({importAttempted:t,nodes:e}){const[n,r]=_.useState("info"),[i,s]=_.useState("info");return U(Nee,{itemSelected:l=>{switch(r(l),l){case"sheet":s("Character Sheet");break;case"code":s("Import/Export");break;case"help":s("Help");break;case"list":s("Edit Data");break}},title:i,children:[n==="sheet"?S($ee,{}):"",n==="code"?S(Bee,{nodes:e,importAttempted:l=>{t(l)}}):"",n==="list"?U("div",{children:[S(ai,{name:"Abilities",startOpen:!1,children:S(Uee,{})}),S(ai,{name:"Ability Types",startOpen:!1,children:S(jee,{})}),S(ai,{name:"Stats",startOpen:!1,children:S(o_,{})})]}):"",n==="help"?U("div",{className:"padding-md",style:{textAlign:"left",color:"#ddd"},children:[S("h2",{children:"Ability Description Syntax"}),S("h3",{children:"Condition"}),S("p",{children:zee}),S("h3",{children:"Value"}),S("p",{children:Hee}),S("h3",{children:"Example"}),S("p",{children:Gee})]}):"",n==="stats"?S(o_,{}):""]})}function Vee({pointsSpent:t}){return U("div",{className:"point-counter",children:["Spent: ",t]})}var Xee={value:()=>{}};function $A(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Fc(n)}function Fc(t){this._=t}function Yee(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Fc.prototype=$A.prototype={constructor:Fc,on:function(t,e){var n=this._,r=Yee(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=qee(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=a_(n[i],t.name,e);else if(e==null)for(i in n)n[i]=a_(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Fc(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function qee(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function a_(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Xee,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Lo=0,ja=0,Ca=0,BA=1e3,kh,za,Mh=0,es=0,Xd=0,kl=typeof performance=="object"&&performance.now?performance:Date,NA=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function LA(){return es||(NA(Kee),es=kl.now()+Xd)}function Kee(){es=0}function Pg(){this._call=this._time=this._next=null}Pg.prototype=UA.prototype={constructor:Pg,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?LA():+n)+(e==null?0:+e),!this._next&&za!==this&&(za?za._next=this:kh=this,za=this),this._call=t,this._time=n,Og()},stop:function(){this._call&&(this._call=null,this._time=1/0,Og())}};function UA(t,e,n){var r=new Pg;return r.restart(t,e,n),r}function Zee(){LA(),++Lo;for(var t=kh,e;t;)(e=es-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Lo}function l_(){es=(Mh=kl.now())+Xd,Lo=ja=0;try{Zee()}finally{Lo=0,Jee(),es=0}}function Qee(){var t=kl.now(),e=t-Mh;e>BA&&(Xd-=e,Mh=t)}function Jee(){for(var t,e=kh,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:kh=n);za=t,Og(r)}function Og(t){if(!Lo){ja&&(ja=clearTimeout(ja));var e=t-es;e>24?(t<1/0&&(ja=setTimeout(l_,t-kl.now()-Xd)),Ca&&(Ca=clearInterval(Ca))):(Ca||(Mh=kl.now(),Ca=setInterval(Qee,BA)),Lo=1,NA(l_))}}function u_(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function i(){var s,o=n.length,a,l=0,u=0;for(s=0;s<o;++s)a=n[s],l+=a.x,u+=a.y;for(l=(l/o-t)*r,u=(u/o-e)*r,s=0;s<o;++s)a=n[s],a.x-=l,a.y-=u}return i.initialize=function(s){n=s},i.x=function(s){return arguments.length?(t=+s,i):t},i.y=function(s){return arguments.length?(e=+s,i):e},i.strength=function(s){return arguments.length?(r=+s,i):r},i}function ete(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return jA(this.cover(e,n),e,n,t)}function jA(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,s=t._root,o={data:r},a=t._x0,l=t._y0,u=t._x1,c=t._y1,h,d,f,p,m,g,v,y;if(!s)return t._root=o,t;for(;s.length;)if((m=e>=(h=(a+u)/2))?a=h:u=h,(g=n>=(d=(l+c)/2))?l=d:c=d,i=s,!(s=s[v=g<<1|m]))return i[v]=o,t;if(f=+t._x.call(null,s.data),p=+t._y.call(null,s.data),e===f&&n===p)return o.next=s,i?i[v]=o:t._root=o,t;do i=i?i[v]=new Array(4):t._root=new Array(4),(m=e>=(h=(a+u)/2))?a=h:u=h,(g=n>=(d=(l+c)/2))?l=d:c=d;while((v=g<<1|m)===(y=(p>=d)<<1|f>=h));return i[y]=s,i[v]=o,t}function tte(t){var e,n,r=t.length,i,s,o=new Array(r),a=new Array(r),l=1/0,u=1/0,c=-1/0,h=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(s=+this._y.call(null,e))||(o[n]=i,a[n]=s,i<l&&(l=i),i>c&&(c=i),s<u&&(u=s),s>h&&(h=s));if(l>c||u>h)return this;for(this.cover(l,u).cover(c,h),n=0;n<r;++n)jA(this,o[n],a[n],t[n]);return this}function nte(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,s=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,s=(r=Math.floor(e))+1;else{for(var o=i-n||1,a=this._root,l,u;n>t||t>=i||r>e||e>=s;)switch(u=(e<r)<<1|t<n,l=new Array(4),l[u]=a,a=l,o*=2,u){case 0:i=n+o,s=r+o;break;case 1:n=i-o,s=r+o;break;case 2:i=n+o,r=s-o;break;case 3:n=i-o,r=s-o;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=s,this}function rte(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function ite(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function At(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function ste(t,e,n){var r,i=this._x0,s=this._y0,o,a,l,u,c=this._x1,h=this._y1,d=[],f=this._root,p,m;for(f&&d.push(new At(f,i,s,c,h)),n==null?n=1/0:(i=t-n,s=e-n,c=t+n,h=e+n,n*=n);p=d.pop();)if(!(!(f=p.node)||(o=p.x0)>c||(a=p.y0)>h||(l=p.x1)<i||(u=p.y1)<s))if(f.length){var g=(o+l)/2,v=(a+u)/2;d.push(new At(f[3],g,v,l,u),new At(f[2],o,v,g,u),new At(f[1],g,a,l,v),new At(f[0],o,a,g,v)),(m=(e>=v)<<1|t>=g)&&(p=d[d.length-1],d[d.length-1]=d[d.length-1-m],d[d.length-1-m]=p)}else{var y=t-+this._x.call(null,f.data),b=e-+this._y.call(null,f.data),x=y*y+b*b;if(x<n){var E=Math.sqrt(n=x);i=t-E,s=e-E,c=t+E,h=e+E,r=f.data}}return r}function ote(t){if(isNaN(c=+this._x.call(null,t))||isNaN(h=+this._y.call(null,t)))return this;var e,n=this._root,r,i,s,o=this._x0,a=this._y0,l=this._x1,u=this._y1,c,h,d,f,p,m,g,v;if(!n)return this;if(n.length)for(;;){if((p=c>=(d=(o+l)/2))?o=d:l=d,(m=h>=(f=(a+u)/2))?a=f:u=f,e=n,!(n=n[g=m<<1|p]))return this;if(!n.length)break;(e[g+1&3]||e[g+2&3]||e[g+3&3])&&(r=e,v=g)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(s=n.next)&&delete n.next,i?(s?i.next=s:delete i.next,this):e?(s?e[g]=s:delete e[g],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[v]=n:this._root=n),this):(this._root=s,this)}function ate(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function lte(){return this._root}function ute(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function cte(t){var e=[],n,r=this._root,i,s,o,a,l;for(r&&e.push(new At(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,s=n.x0,o=n.y0,a=n.x1,l=n.y1)&&r.length){var u=(s+a)/2,c=(o+l)/2;(i=r[3])&&e.push(new At(i,u,c,a,l)),(i=r[2])&&e.push(new At(i,s,c,u,l)),(i=r[1])&&e.push(new At(i,u,o,a,c)),(i=r[0])&&e.push(new At(i,s,o,u,c))}return this}function hte(t){var e=[],n=[],r;for(this._root&&e.push(new At(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var s,o=r.x0,a=r.y0,l=r.x1,u=r.y1,c=(o+l)/2,h=(a+u)/2;(s=i[0])&&e.push(new At(s,o,a,c,h)),(s=i[1])&&e.push(new At(s,c,a,l,h)),(s=i[2])&&e.push(new At(s,o,h,c,u)),(s=i[3])&&e.push(new At(s,c,h,l,u))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function dte(t){return t[0]}function fte(t){return arguments.length?(this._x=t,this):this._x}function pte(t){return t[1]}function mte(t){return arguments.length?(this._y=t,this):this._y}function Xy(t,e,n){var r=new Yy(e??dte,n??pte,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function Yy(t,e,n,r,i,s){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=s,this._root=void 0}function c_(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var It=Xy.prototype=Yy.prototype;It.copy=function(){var t=new Yy(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=c_(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=c_(r));return t};It.add=ete;It.addAll=tte;It.cover=nte;It.data=rte;It.extent=ite;It.find=ste;It.remove=ote;It.removeAll=ate;It.root=lte;It.size=ute;It.visit=cte;It.visitAfter=hte;It.x=fte;It.y=mte;function Hi(t){return function(){return t}}function Zr(t){return(t()-.5)*1e-6}function gte(t){return t.x+t.vx}function vte(t){return t.y+t.vy}function h_(t){var e,n,r,i=1,s=1;typeof t!="function"&&(t=Hi(t==null?1:+t));function o(){for(var u,c=e.length,h,d,f,p,m,g,v=0;v<s;++v)for(h=Xy(e,gte,vte).visitAfter(a),u=0;u<c;++u)d=e[u],m=n[d.index],g=m*m,f=d.x+d.vx,p=d.y+d.vy,h.visit(y);function y(b,x,E,T,C){var A=b.data,k=b.r,M=m+k;if(A){if(A.index>d.index){var $=f-A.x-A.vx,j=p-A.y-A.vy,O=$*$+j*j;O<M*M&&($===0&&($=Zr(r),O+=$*$),j===0&&(j=Zr(r),O+=j*j),O=(M-(O=Math.sqrt(O)))/O*i,d.vx+=($*=O)*(M=(k*=k)/(g+k)),d.vy+=(j*=O)*M,A.vx-=$*(M=1-M),A.vy-=j*M)}return}return x>f+M||T<f-M||E>p+M||C<p-M}}function a(u){if(u.data)return u.r=n[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function l(){if(e){var u,c=e.length,h;for(n=new Array(c),u=0;u<c;++u)h=e[u],n[h.index]=+t(h,u,e)}}return o.initialize=function(u,c){e=u,r=c,l()},o.iterations=function(u){return arguments.length?(s=+u,o):s},o.strength=function(u){return arguments.length?(i=+u,o):i},o.radius=function(u){return arguments.length?(t=typeof u=="function"?u:Hi(+u),l(),o):t},o}function yte(t){return t.index}function d_(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function f_(t){var e=yte,n=h,r,i=Hi(30),s,o,a,l,u,c=1;t==null&&(t=[]);function h(g){return 1/Math.min(a[g.source.index],a[g.target.index])}function d(g){for(var v=0,y=t.length;v<c;++v)for(var b=0,x,E,T,C,A,k,M;b<y;++b)x=t[b],E=x.source,T=x.target,C=T.x+T.vx-E.x-E.vx||Zr(u),A=T.y+T.vy-E.y-E.vy||Zr(u),k=Math.sqrt(C*C+A*A),k=(k-s[b])/k*g*r[b],C*=k,A*=k,T.vx-=C*(M=l[b]),T.vy-=A*M,E.vx+=C*(M=1-M),E.vy+=A*M}function f(){if(o){var g,v=o.length,y=t.length,b=new Map(o.map((E,T)=>[e(E,T,o),E])),x;for(g=0,a=new Array(v);g<y;++g)x=t[g],x.index=g,typeof x.source!="object"&&(x.source=d_(b,x.source)),typeof x.target!="object"&&(x.target=d_(b,x.target)),a[x.source.index]=(a[x.source.index]||0)+1,a[x.target.index]=(a[x.target.index]||0)+1;for(g=0,l=new Array(y);g<y;++g)x=t[g],l[g]=a[x.source.index]/(a[x.source.index]+a[x.target.index]);r=new Array(y),p(),s=new Array(y),m()}}function p(){if(o)for(var g=0,v=t.length;g<v;++g)r[g]=+n(t[g],g,t)}function m(){if(o)for(var g=0,v=t.length;g<v;++g)s[g]=+i(t[g],g,t)}return d.initialize=function(g,v){o=g,u=v,f()},d.links=function(g){return arguments.length?(t=g,f(),d):t},d.id=function(g){return arguments.length?(e=g,d):e},d.iterations=function(g){return arguments.length?(c=+g,d):c},d.strength=function(g){return arguments.length?(n=typeof g=="function"?g:Hi(+g),p(),d):n},d.distance=function(g){return arguments.length?(i=typeof g=="function"?g:Hi(+g),m(),d):i},d}const bte=1664525,xte=1013904223,p_=4294967296;function wte(){let t=1;return()=>(t=(bte*t+xte)%p_)/p_}function _te(t){return t.x}function Ete(t){return t.y}var Ste=10,Cte=Math.PI*(3-Math.sqrt(5));function m_(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),s=0,o=.6,a=new Map,l=UA(h),u=$A("tick","end"),c=wte();t==null&&(t=[]);function h(){d(),u.call("tick",e),n<r&&(l.stop(),u.call("end",e))}function d(m){var g,v=t.length,y;m===void 0&&(m=1);for(var b=0;b<m;++b)for(n+=(s-n)*i,a.forEach(function(x){x(n)}),g=0;g<v;++g)y=t[g],y.fx==null?y.x+=y.vx*=o:(y.x=y.fx,y.vx=0),y.fy==null?y.y+=y.vy*=o:(y.y=y.fy,y.vy=0);return e}function f(){for(var m=0,g=t.length,v;m<g;++m){if(v=t[m],v.index=m,v.fx!=null&&(v.x=v.fx),v.fy!=null&&(v.y=v.fy),isNaN(v.x)||isNaN(v.y)){var y=Ste*Math.sqrt(.5+m),b=m*Cte;v.x=y*Math.cos(b),v.y=y*Math.sin(b)}(isNaN(v.vx)||isNaN(v.vy))&&(v.vx=v.vy=0)}}function p(m){return m.initialize&&m.initialize(t,c),m}return f(),e={tick:d,restart:function(){return l.restart(h),e},stop:function(){return l.stop(),e},nodes:function(m){return arguments.length?(t=m,f(),a.forEach(p),e):t},alpha:function(m){return arguments.length?(n=+m,e):n},alphaMin:function(m){return arguments.length?(r=+m,e):r},alphaDecay:function(m){return arguments.length?(i=+m,e):+i},alphaTarget:function(m){return arguments.length?(s=+m,e):s},velocityDecay:function(m){return arguments.length?(o=1-m,e):1-o},randomSource:function(m){return arguments.length?(c=m,a.forEach(p),e):c},force:function(m,g){return arguments.length>1?(g==null?a.delete(m):a.set(m,p(g)),e):a.get(m)},find:function(m,g,v){var y=0,b=t.length,x,E,T,C,A;for(v==null?v=1/0:v*=v,y=0;y<b;++y)C=t[y],x=m-C.x,E=g-C.y,T=x*x+E*E,T<v&&(A=C,v=T);return A},on:function(m,g){return arguments.length>1?(u.on(m,g),e):u.on(m)}}}function g_(){var t,e,n,r,i=Hi(-30),s,o=1,a=1/0,l=.81;function u(f){var p,m=t.length,g=Xy(t,_te,Ete).visitAfter(h);for(r=f,p=0;p<m;++p)e=t[p],g.visit(d)}function c(){if(t){var f,p=t.length,m;for(s=new Array(p),f=0;f<p;++f)m=t[f],s[m.index]=+i(m,f,t)}}function h(f){var p=0,m,g,v=0,y,b,x;if(f.length){for(y=b=x=0;x<4;++x)(m=f[x])&&(g=Math.abs(m.value))&&(p+=m.value,v+=g,y+=g*m.x,b+=g*m.y);f.x=y/v,f.y=b/v}else{m=f,m.x=m.data.x,m.y=m.data.y;do p+=s[m.data.index];while(m=m.next)}f.value=p}function d(f,p,m,g){if(!f.value)return!0;var v=f.x-e.x,y=f.y-e.y,b=g-p,x=v*v+y*y;if(b*b/l<x)return x<a&&(v===0&&(v=Zr(n),x+=v*v),y===0&&(y=Zr(n),x+=y*y),x<o&&(x=Math.sqrt(o*x)),e.vx+=v*f.value*r/x,e.vy+=y*f.value*r/x),!0;if(f.length||x>=a)return;(f.data!==e||f.next)&&(v===0&&(v=Zr(n),x+=v*v),y===0&&(y=Zr(n),x+=y*y),x<o&&(x=Math.sqrt(o*x)));do f.data!==e&&(b=s[f.data.index]*r/x,e.vx+=v*b,e.vy+=y*b);while(f=f.next)}return u.initialize=function(f,p){t=f,n=p,c()},u.strength=function(f){return arguments.length?(i=typeof f=="function"?f:Hi(+f),c(),u):i},u.distanceMin=function(f){return arguments.length?(o=f*f,u):Math.sqrt(o)},u.distanceMax=function(f){return arguments.length?(a=f*f,u):Math.sqrt(a)},u.theta=function(f){return arguments.length?(l=f*f,u):Math.sqrt(l)},u}function Ha(t,e,n){this.k=t,this.x=e,this.y=n}Ha.prototype={constructor:Ha,scale:function(t){return t===1?this:new Ha(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ha(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Ha.prototype;var fs=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(fs||{}),zA=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(zA||{}),Rg=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(Rg||{}),se=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(se||{}),or=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(or||{}),W=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(W||{}),yo=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(yo||{}),te=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(te||{}),Ig=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(Ig||{}),_r=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(_r||{}),ui=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(ui||{}),dr=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(dr||{}),Yn=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(Yn||{}),er=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(er||{}),qy=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(qy||{}),mn=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(mn||{}),it=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(it||{}),Ye=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(Ye||{}),cr=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(cr||{});const Tte={createCanvas:(t,e)=>{const n=document.createElement("canvas");return n.width=t,n.height=e,n},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},q={ADAPTER:Tte,RESOLUTION:1,RENDER_OPTIONS:{view:null,width:800,height:600,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,clearBeforeRender:!0,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,hello:!1},CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var rp=/iPhone/i,v_=/iPod/i,y_=/iPad/i,b_=/\biOS-universal(?:.+)Mac\b/i,ip=/\bAndroid(?:.+)Mobile\b/i,x_=/Android/i,ws=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Vu=/Silk/i,gr=/Windows Phone/i,w_=/\bWindows(?:.+)ARM\b/i,__=/BlackBerry/i,E_=/BB10/i,S_=/Opera Mini/i,C_=/\b(CriOS|Chrome)(?:.+)Mobile/i,T_=/Mobile(?:.+)Firefox\b/i,A_=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function Ate(t){return function(e){return e.test(t)}}function Pte(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var n=e.userAgent,r=n.split("[FBAN");typeof r[1]<"u"&&(n=r[0]),r=n.split("Twitter"),typeof r[1]<"u"&&(n=r[0]);var i=Ate(n),s={apple:{phone:i(rp)&&!i(gr),ipod:i(v_),tablet:!i(rp)&&(i(y_)||A_(e))&&!i(gr),universal:i(b_),device:(i(rp)||i(v_)||i(y_)||i(b_)||A_(e))&&!i(gr)},amazon:{phone:i(ws),tablet:!i(ws)&&i(Vu),device:i(ws)||i(Vu)},android:{phone:!i(gr)&&i(ws)||!i(gr)&&i(ip),tablet:!i(gr)&&!i(ws)&&!i(ip)&&(i(Vu)||i(x_)),device:!i(gr)&&(i(ws)||i(Vu)||i(ip)||i(x_))||i(/\bokhttp\b/i)},windows:{phone:i(gr),tablet:i(w_),device:i(gr)||i(w_)},other:{blackberry:i(__),blackberry10:i(E_),opera:i(S_),firefox:i(T_),chrome:i(C_),device:i(__)||i(E_)||i(S_)||i(T_)||i(C_)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const Er=Pte(globalThis.navigator);q.RETINA_PREFIX=/@([0-9\.]+)x/;q.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var ts={},Ote={get exports(){return ts},set exports(t){ts=t}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function s(l,u,c,h,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var f=new i(c,h||l,d),p=n?n+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],f]:l._events[p].push(f):(l._events[p]=f,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,h;if(this._eventsCount===0)return u;for(h in c=this._events)e.call(c,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,h=this._events[c];if(!h)return[];if(h.fn)return[h.fn];for(var d=0,f=h.length,p=new Array(f);d<f;d++)p[d]=h[d].fn;return p},a.prototype.listenerCount=function(u){var c=n?n+u:u,h=this._events[c];return h?h.fn?1:h.length:0},a.prototype.emit=function(u,c,h,d,f,p){var m=n?n+u:u;if(!this._events[m])return!1;var g=this._events[m],v=arguments.length,y,b;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,c),!0;case 3:return g.fn.call(g.context,c,h),!0;case 4:return g.fn.call(g.context,c,h,d),!0;case 5:return g.fn.call(g.context,c,h,d,f),!0;case 6:return g.fn.call(g.context,c,h,d,f,p),!0}for(b=1,y=new Array(v-1);b<v;b++)y[b-1]=arguments[b];g.fn.apply(g.context,y)}else{var x=g.length,E;for(b=0;b<x;b++)switch(g[b].once&&this.removeListener(u,g[b].fn,void 0,!0),v){case 1:g[b].fn.call(g[b].context);break;case 2:g[b].fn.call(g[b].context,c);break;case 3:g[b].fn.call(g[b].context,c,h);break;case 4:g[b].fn.call(g[b].context,c,h,d);break;default:if(!y)for(E=1,y=new Array(v-1);E<v;E++)y[E-1]=arguments[E];g[b].fn.apply(g[b].context,y)}}return!0},a.prototype.on=function(u,c,h){return s(this,u,c,h,!1)},a.prototype.once=function(u,c,h){return s(this,u,c,h,!0)},a.prototype.removeListener=function(u,c,h,d){var f=n?n+u:u;if(!this._events[f])return this;if(!c)return o(this,f),this;var p=this._events[f];if(p.fn)p.fn===c&&(!d||p.once)&&(!h||p.context===h)&&o(this,f);else{for(var m=0,g=[],v=p.length;m<v;m++)(p[m].fn!==c||d&&!p[m].once||h&&p[m].context!==h)&&g.push(p[m]);g.length?this._events[f]=g.length===1?g[0]:g:o(this,f)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(Ote);var Dh={},Rte={get exports(){return Dh},set exports(t){Dh=t}};Rte.exports=Yd;Dh.default=Yd;function Yd(t,e,n){n=n||2;var r=e&&e.length,i=r?e[0]*n:t.length,s=HA(t,0,i,n,!0),o=[];if(!s||s.next===s.prev)return o;var a,l,u,c,h,d,f;if(r&&(s=Fte(t,e,s,n)),t.length>80*n){a=u=t[0],l=c=t[1];for(var p=n;p<i;p+=n)h=t[p],d=t[p+1],h<a&&(a=h),d<l&&(l=d),h>u&&(u=h),d>c&&(c=d);f=Math.max(u-a,c-l),f=f!==0?32767/f:0}return Ml(s,o,n,a,l,f,0),o}function HA(t,e,n,r,i){var s,o;if(i===Dg(t,e,n,r)>0)for(s=e;s<n;s+=r)o=P_(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=P_(s,t[s],t[s+1],o);return o&&qd(o,o.next)&&(Fl(o),o=o.next),o}function ns(t,e){if(!t)return t;e||(e=t);var n=t,r;do if(r=!1,!n.steiner&&(qd(n,n.next)||Ue(n.prev,n,n.next)===0)){if(Fl(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Ml(t,e,n,r,i,s,o){if(t){!o&&s&&Ute(t,r,i,s);for(var a=t,l,u;t.prev!==t.next;){if(l=t.prev,u=t.next,s?kte(t,r,i,s):Ite(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),Fl(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=Mte(ns(t),e,n),Ml(t,e,n,r,i,s,2)):o===2&&Dte(t,e,n,r,i,s):Ml(ns(t),e,n,r,i,s,1);break}}}}function Ite(t){var e=t.prev,n=t,r=t.next;if(Ue(e,n,r)>=0)return!1;for(var i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,u=r.y,c=i<s?i<o?i:o:s<o?s:o,h=a<l?a<u?a:u:l<u?l:u,d=i>s?i>o?i:o:s>o?s:o,f=a>l?a>u?a:u:l>u?l:u,p=r.next;p!==e;){if(p.x>=c&&p.x<=d&&p.y>=h&&p.y<=f&&ro(i,a,s,l,o,u,p.x,p.y)&&Ue(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function kte(t,e,n,r){var i=t.prev,s=t,o=t.next;if(Ue(i,s,o)>=0)return!1;for(var a=i.x,l=s.x,u=o.x,c=i.y,h=s.y,d=o.y,f=a<l?a<u?a:u:l<u?l:u,p=c<h?c<d?c:d:h<d?h:d,m=a>l?a>u?a:u:l>u?l:u,g=c>h?c>d?c:d:h>d?h:d,v=kg(f,p,e,n,r),y=kg(m,g,e,n,r),b=t.prevZ,x=t.nextZ;b&&b.z>=v&&x&&x.z<=y;){if(b.x>=f&&b.x<=m&&b.y>=p&&b.y<=g&&b!==i&&b!==o&&ro(a,c,l,h,u,d,b.x,b.y)&&Ue(b.prev,b,b.next)>=0||(b=b.prevZ,x.x>=f&&x.x<=m&&x.y>=p&&x.y<=g&&x!==i&&x!==o&&ro(a,c,l,h,u,d,x.x,x.y)&&Ue(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;b&&b.z>=v;){if(b.x>=f&&b.x<=m&&b.y>=p&&b.y<=g&&b!==i&&b!==o&&ro(a,c,l,h,u,d,b.x,b.y)&&Ue(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;x&&x.z<=y;){if(x.x>=f&&x.x<=m&&x.y>=p&&x.y<=g&&x!==i&&x!==o&&ro(a,c,l,h,u,d,x.x,x.y)&&Ue(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function Mte(t,e,n){var r=t;do{var i=r.prev,s=r.next.next;!qd(i,s)&&GA(i,r,r.next,s)&&Dl(i,s)&&Dl(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),Fl(r),Fl(r.next),r=t=s),r=r.next}while(r!==t);return ns(r)}function Dte(t,e,n,r,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&Hte(o,a)){var l=WA(o,a);o=ns(o,o.next),l=ns(l,l.next),Ml(o,e,n,r,i,s,0),Ml(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function Fte(t,e,n,r){var i=[],s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,u=HA(t,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(zte(u));for(i.sort($te),s=0;s<i.length;s++)n=Bte(i[s],n);return n}function $te(t,e){return t.x-e.x}function Bte(t,e){var n=Nte(t,e);if(!n)return e;var r=WA(n,t);return ns(r,r.next),ns(n,n.next)}function Nte(t,e){var n=e,r=t.x,i=t.y,s=-1/0,o;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var a=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=r&&a>s&&(s=a,o=n.x<n.next.x?n:n.next,a===r))return o}n=n.next}while(n!==e);if(!o)return null;var l=o,u=o.x,c=o.y,h=1/0,d;n=o;do r>=n.x&&n.x>=u&&r!==n.x&&ro(i<c?r:s,i,u,c,i<c?s:r,i,n.x,n.y)&&(d=Math.abs(i-n.y)/(r-n.x),Dl(n,t)&&(d<h||d===h&&(n.x>o.x||n.x===o.x&&Lte(o,n)))&&(o=n,h=d)),n=n.next;while(n!==l);return o}function Lte(t,e){return Ue(t.prev,t,e.prev)<0&&Ue(e.next,t,t.next)<0}function Ute(t,e,n,r){var i=t;do i.z===0&&(i.z=kg(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,jte(i)}function jte(t){var e,n,r,i,s,o,a,l,u=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,u*=2}while(o>1);return t}function kg(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function zte(t){var e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function ro(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function Hte(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Gte(t,e)&&(Dl(t,e)&&Dl(e,t)&&Wte(t,e)&&(Ue(t.prev,t,e.prev)||Ue(t,e.prev,e))||qd(t,e)&&Ue(t.prev,t,t.next)>0&&Ue(e.prev,e,e.next)>0)}function Ue(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function qd(t,e){return t.x===e.x&&t.y===e.y}function GA(t,e,n,r){var i=Yu(Ue(t,e,n)),s=Yu(Ue(t,e,r)),o=Yu(Ue(n,r,t)),a=Yu(Ue(n,r,e));return!!(i!==s&&o!==a||i===0&&Xu(t,n,e)||s===0&&Xu(t,r,e)||o===0&&Xu(n,t,r)||a===0&&Xu(n,e,r))}function Xu(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Yu(t){return t>0?1:t<0?-1:0}function Gte(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&GA(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Dl(t,e){return Ue(t.prev,t,t.next)<0?Ue(t,e,t.next)>=0&&Ue(t,t.prev,e)>=0:Ue(t,e,t.prev)<0||Ue(t,t.next,e)<0}function Wte(t,e){var n=t,r=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function WA(t,e){var n=new Mg(t.i,t.x,t.y),r=new Mg(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function P_(t,e,n,r){var i=new Mg(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Fl(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Mg(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Yd.deviation=function(t,e,n,r){var i=e&&e.length,s=i?e[0]*n:t.length,o=Math.abs(Dg(t,0,s,n));if(i)for(var a=0,l=e.length;a<l;a++){var u=e[a]*n,c=a<l-1?e[a+1]*n:t.length;o-=Math.abs(Dg(t,u,c,n))}var h=0;for(a=0;a<r.length;a+=3){var d=r[a]*n,f=r[a+1]*n,p=r[a+2]*n;h+=Math.abs((t[d]-t[p])*(t[f+1]-t[d+1])-(t[d]-t[f])*(t[p+1]-t[d+1]))}return o===0&&h===0?0:Math.abs((h-o)/o)};function Dg(t,e,n,r){for(var i=0,s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}Yd.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)n.vertices.push(t[i][s][o]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n};var Fh={},Vte={get exports(){return Fh},set exports(t){Fh=t}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(t,e){(function(n){var r=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof Di=="object"&&Di;(s.global===s||s.window===s||s.self===s)&&(n=s);var o,a=2147483647,l=36,u=1,c=26,h=38,d=700,f=72,p=128,m="-",g=/^xn--/,v=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=l-u,E=Math.floor,T=String.fromCharCode,C;function A(I){throw RangeError(b[I])}function k(I,H){for(var X=I.length,ie=[];X--;)ie[X]=H(I[X]);return ie}function M(I,H){var X=I.split("@"),ie="";X.length>1&&(ie=X[0]+"@",I=X[1]),I=I.replace(y,".");var oe=I.split("."),de=k(oe,H).join(".");return ie+de}function $(I){for(var H=[],X=0,ie=I.length,oe,de;X<ie;)oe=I.charCodeAt(X++),oe>=55296&&oe<=56319&&X<ie?(de=I.charCodeAt(X++),(de&64512)==56320?H.push(((oe&1023)<<10)+(de&1023)+65536):(H.push(oe),X--)):H.push(oe);return H}function j(I){return k(I,function(H){var X="";return H>65535&&(H-=65536,X+=T(H>>>10&1023|55296),H=56320|H&1023),X+=T(H),X}).join("")}function O(I){return I-48<10?I-22:I-65<26?I-65:I-97<26?I-97:l}function P(I,H){return I+22+75*(I<26)-((H!=0)<<5)}function F(I,H,X){var ie=0;for(I=X?E(I/d):I>>1,I+=E(I/H);I>x*c>>1;ie+=l)I=E(I/x);return E(ie+(x+1)*I/(I+h))}function G(I){var H=[],X=I.length,ie,oe=0,de=p,ue=f,me,Ge,at,rt,Se,Be,Ze,Ht,cn;for(me=I.lastIndexOf(m),me<0&&(me=0),Ge=0;Ge<me;++Ge)I.charCodeAt(Ge)>=128&&A("not-basic"),H.push(I.charCodeAt(Ge));for(at=me>0?me+1:0;at<X;){for(rt=oe,Se=1,Be=l;at>=X&&A("invalid-input"),Ze=O(I.charCodeAt(at++)),(Ze>=l||Ze>E((a-oe)/Se))&&A("overflow"),oe+=Ze*Se,Ht=Be<=ue?u:Be>=ue+c?c:Be-ue,!(Ze<Ht);Be+=l)cn=l-Ht,Se>E(a/cn)&&A("overflow"),Se*=cn;ie=H.length+1,ue=F(oe-rt,ie,rt==0),E(oe/ie)>a-de&&A("overflow"),de+=E(oe/ie),oe%=ie,H.splice(oe++,0,de)}return j(H)}function N(I){var H,X,ie,oe,de,ue,me,Ge,at,rt,Se,Be=[],Ze,Ht,cn,la;for(I=$(I),Ze=I.length,H=p,X=0,de=f,ue=0;ue<Ze;++ue)Se=I[ue],Se<128&&Be.push(T(Se));for(ie=oe=Be.length,oe&&Be.push(m);ie<Ze;){for(me=a,ue=0;ue<Ze;++ue)Se=I[ue],Se>=H&&Se<me&&(me=Se);for(Ht=ie+1,me-H>E((a-X)/Ht)&&A("overflow"),X+=(me-H)*Ht,H=me,ue=0;ue<Ze;++ue)if(Se=I[ue],Se<H&&++X>a&&A("overflow"),Se==H){for(Ge=X,at=l;rt=at<=de?u:at>=de+c?c:at-de,!(Ge<rt);at+=l)la=Ge-rt,cn=l-rt,Be.push(T(P(rt+la%cn,0))),Ge=E(la/cn);Be.push(T(P(Ge,0))),de=F(X,Ht,ie==oe),X=0,++ie}++X,++H}return Be.join("")}function D(I){return M(I,function(H){return g.test(H)?G(H.slice(4).toLowerCase()):H})}function B(I){return M(I,function(H){return v.test(H)?"xn--"+N(H):H})}if(o={version:"1.3.2",ucs2:{decode:$,encode:j},decode:G,encode:N,toASCII:B,toUnicode:D},r&&i)if(t.exports==r)i.exports=o;else for(C in o)o.hasOwnProperty(C)&&(r[C]=o[C]);else n.punycode=o})(Di)})(Vte,Fh);var Xte={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},$l={};function Yte(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var qte=function(t,e,n,r){e=e||"&",n=n||"=";var i={};if(typeof t!="string"||t.length===0)return i;var s=/\+/g;t=t.split(e);var o=1e3;r&&typeof r.maxKeys=="number"&&(o=r.maxKeys);var a=t.length;o>0&&a>o&&(a=o);for(var l=0;l<a;++l){var u=t[l].replace(s,"%20"),c=u.indexOf(n),h,d,f,p;c>=0?(h=u.substr(0,c),d=u.substr(c+1)):(h=u,d=""),f=decodeURIComponent(h),p=decodeURIComponent(d),Yte(i,f)?Array.isArray(i[f])?i[f].push(p):i[f]=[i[f],p]:i[f]=p}return i},Ta=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},Kte=function(t,e,n,r){return e=e||"&",n=n||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(i){var s=encodeURIComponent(Ta(i))+n;return Array.isArray(t[i])?t[i].map(function(o){return s+encodeURIComponent(Ta(o))}).join(e):s+encodeURIComponent(Ta(t[i]))}).join(e):r?encodeURIComponent(Ta(r))+n+encodeURIComponent(Ta(t)):""};$l.decode=$l.parse=qte;$l.encode=$l.stringify=Kte;var Zte=Fh,tr=Xte,Qte=Kd,Jte=cne,ene=une;function zn(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var tne=/^([a-z0-9.+-]+:)/i,nne=/:[0-9]*$/,rne=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,ine=["<",">",'"',"`"," ","\r",`
`,"	"],sne=["{","}","|","\\","^","`"].concat(ine),Fg=["'"].concat(sne),O_=["%","/","?",";","#"].concat(Fg),R_=["/","?","#"],one=255,I_=/^[+a-z0-9A-Z_-]{0,63}$/,ane=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,lne={javascript:!0,"javascript:":!0},$g={javascript:!0,"javascript:":!0},bo={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Bg=$l;function Kd(t,e,n){if(t&&tr.isObject(t)&&t instanceof zn)return t;var r=new zn;return r.parse(t,e,n),r}zn.prototype.parse=function(t,e,n){if(!tr.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),i=r!==-1&&r<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!n&&t.split("#").length===1){var l=rne.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=Bg.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var u=tne.exec(a);if(u){u=u[0];var c=u.toLowerCase();this.protocol=c,a=a.substr(u.length)}if(n||u||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var h=a.substr(0,2)==="//";h&&!(u&&$g[u])&&(a=a.substr(2),this.slashes=!0)}if(!$g[u]&&(h||u&&!bo[u])){for(var d=-1,f=0;f<R_.length;f++){var p=a.indexOf(R_[f]);p!==-1&&(d===-1||p<d)&&(d=p)}var m,g;d===-1?g=a.lastIndexOf("@"):g=a.lastIndexOf("@",d),g!==-1&&(m=a.slice(0,g),a=a.slice(g+1),this.auth=decodeURIComponent(m)),d=-1;for(var f=0;f<O_.length;f++){var p=a.indexOf(O_[f]);p!==-1&&(d===-1||p<d)&&(d=p)}d===-1&&(d=a.length),this.host=a.slice(0,d),a=a.slice(d),this.parseHost(),this.hostname=this.hostname||"";var v=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!v)for(var y=this.hostname.split(/\./),f=0,b=y.length;f<b;f++){var x=y[f];if(x&&!x.match(I_)){for(var E="",T=0,C=x.length;T<C;T++)x.charCodeAt(T)>127?E+="x":E+=x[T];if(!E.match(I_)){var A=y.slice(0,f),k=y.slice(f+1),M=x.match(ane);M&&(A.push(M[1]),k.unshift(M[2])),k.length&&(a="/"+k.join(".")+a),this.hostname=A.join(".");break}}}this.hostname.length>one?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=Zte.toASCII(this.hostname));var $=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+$,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!lne[c])for(var f=0,b=Fg.length;f<b;f++){var O=Fg[f];if(a.indexOf(O)!==-1){var P=encodeURIComponent(O);P===O&&(P=escape(O)),a=a.split(O).join(P)}}var F=a.indexOf("#");F!==-1&&(this.hash=a.substr(F),a=a.slice(0,F));var G=a.indexOf("?");if(G!==-1?(this.search=a.substr(G),this.query=a.substr(G+1),e&&(this.query=Bg.parse(this.query)),a=a.slice(0,G)):e&&(this.search="",this.query={}),a&&(this.pathname=a),bo[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var $=this.pathname||"",N=this.search||"";this.path=$+N}return this.href=this.format(),this};function une(t){return tr.isString(t)&&(t=Kd(t)),t instanceof zn?t.format():zn.prototype.format.call(t)}zn.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&tr.isObject(this.query)&&Object.keys(this.query).length&&(s=Bg.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||bo[e])&&i!==!1?(i="//"+(i||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),o&&o.charAt(0)!=="?"&&(o="?"+o),n=n.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+n+o+r};function cne(t,e){return Kd(t,!1,!0).resolve(e)}zn.prototype.resolve=function(t){return this.resolveObject(Kd(t,!1,!0)).format()};zn.prototype.resolveObject=function(t){if(tr.isString(t)){var e=new zn;e.parse(t,!1,!0),t=e}for(var n=new zn,r=Object.keys(this),i=0;i<r.length;i++){var s=r[i];n[s]=this[s]}if(n.hash=t.hash,t.href==="")return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var l=o[a];l!=="protocol"&&(n[l]=t[l])}return bo[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!bo[t.protocol]){for(var u=Object.keys(t),c=0;c<u.length;c++){var h=u[c];n[h]=t[h]}return n.href=n.format(),n}if(n.protocol=t.protocol,!t.host&&!$g[t.protocol]){for(var b=(t.pathname||"").split("/");b.length&&!(t.host=b.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),b[0]!==""&&b.unshift(""),b.length<2&&b.unshift(""),n.pathname=b.join("/")}else n.pathname=t.pathname;if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var d=n.pathname||"",f=n.search||"";n.path=d+f}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var p=n.pathname&&n.pathname.charAt(0)==="/",m=t.host||t.pathname&&t.pathname.charAt(0)==="/",g=m||p||n.host&&t.pathname,v=g,y=n.pathname&&n.pathname.split("/")||[],b=t.pathname&&t.pathname.split("/")||[],x=n.protocol&&!bo[n.protocol];if(x&&(n.hostname="",n.port=null,n.host&&(y[0]===""?y[0]=n.host:y.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(b[0]===""?b[0]=t.host:b.unshift(t.host)),t.host=null),g=g&&(b[0]===""||y[0]==="")),m)n.host=t.host||t.host===""?t.host:n.host,n.hostname=t.hostname||t.hostname===""?t.hostname:n.hostname,n.search=t.search,n.query=t.query,y=b;else if(b.length)y||(y=[]),y.pop(),y=y.concat(b),n.search=t.search,n.query=t.query;else if(!tr.isNullOrUndefined(t.search)){if(x){n.hostname=n.host=y.shift();var E=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;E&&(n.auth=E.shift(),n.host=n.hostname=E.shift())}return n.search=t.search,n.query=t.query,(!tr.isNull(n.pathname)||!tr.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!y.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var T=y.slice(-1)[0],C=(n.host||t.host||y.length>1)&&(T==="."||T==="..")||T==="",A=0,k=y.length;k>=0;k--)T=y[k],T==="."?y.splice(k,1):T===".."?(y.splice(k,1),A++):A&&(y.splice(k,1),A--);if(!g&&!v)for(;A--;A)y.unshift("..");g&&y[0]!==""&&(!y[0]||y[0].charAt(0)!=="/")&&y.unshift(""),C&&y.join("/").substr(-1)!=="/"&&y.push("");var M=y[0]===""||y[0]&&y[0].charAt(0)==="/";if(x){n.hostname=n.host=M?"":y.length?y.shift():"";var E=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;E&&(n.auth=E.shift(),n.host=n.hostname=E.shift())}return g=g||n.host&&y.length,g&&!M&&y.unshift(""),y.length?n.pathname=y.join("/"):(n.pathname=null,n.path=null),(!tr.isNull(n.pathname)||!tr.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n};zn.prototype.parseHost=function(){var t=this.host,e=nne.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const hne={parse:Qte,format:ene,resolve:Jte};function Cn(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Aa(t){return t.split("?")[0].split("#")[0]}function dne(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function fne(t,e,n){return t.replace(new RegExp(dne(e),"g"),n)}function pne(t,e){let n="",r=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){const l=n.lastIndexOf("/");if(l!==n.length-1){l===-1?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length===2||n.length===1){n="",r=0,i=a,s=0;continue}}e&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+=`/${t.slice(i+1,a)}`:n=t.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return n}const yt={toPosix(t){return fne(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol(t){Cn(t),t=this.toPosix(t);let e="";const n=/^file:\/\/\//.exec(t),r=/^[^/:]+:\/\//.exec(t),i=/^[^/:]+:\//.exec(t);if(n||r||i){const s=(n==null?void 0:n[0])||(r==null?void 0:r[0])||(i==null?void 0:i[0]);e=s,t=t.slice(s.length)}return e},toAbsolute(t,e,n){if(this.isDataUrl(t))return t;const r=Aa(this.toPosix(e??q.ADAPTER.getBaseUrl())),i=Aa(this.toPosix(n??this.rootname(r)));return Cn(t),t=this.toPosix(t),t.startsWith("/")?yt.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(r,t)},normalize(t){if(t=this.toPosix(t),Cn(t),t.length===0)return".";let e="";const n=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const r=t.endsWith("/");return t=pne(t,!1),t.length>0&&r&&(t+="/"),n?`/${t}`:e+t},isAbsolute(t){return Cn(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let n=0;n<t.length;++n){const r=t[n];if(Cn(r),r.length>0)if(e===void 0)e=r;else{const i=t[n-1]??"";this.extname(i)?e+=`/../${r}`:e+=`/${r}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(Cn(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const n=e===47;let r=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){r=a;break}}else i=!1;return r===-1?n?"/":this.isUrl(o)?s+t:s:n&&r===1?"//":s+t.slice(0,r)},rootname(t){Cn(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const n=t.indexOf("/",e.length);n!==-1?e=t.slice(0,n):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Cn(t),e&&Cn(e),t=Aa(this.toPosix(t));let n=0,r=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const l=t.charCodeAt(s);if(l===47){if(!i){n=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(r=s):(o=-1,r=a))}return n===r?r=a:r===-1&&(r=t.length),t.slice(n,r)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){n=s+1;break}}else r===-1&&(i=!1,r=s+1);return r===-1?"":t.slice(n,r)},extname(t){Cn(t),t=Aa(this.toPosix(t));let e=-1,n=0,r=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){n=o+1;break}continue}r===-1&&(i=!1,r=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||r===-1||s===0||s===1&&e===r-1&&e===n+1?"":t.slice(e,r)},parse(t){Cn(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Aa(this.toPosix(t));let n=t.charCodeAt(0);const r=this.isAbsolute(t);let i;e.root=this.rootname(t),r||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,l=!0,u=t.length-1,c=0;for(;u>=i;--u){if(n=t.charCodeAt(u),n===47){if(!l){o=u+1;break}continue}a===-1&&(l=!1,a=u+1),n===46?s===-1?s=u:c!==1&&(c=1):s!==-1&&(c=-1)}return s===-1||a===-1||c===0||c===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&r?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&r?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"},k_={};function ve(t,e,n=3){if(k_[e])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(r=r.split(`
`).splice(n).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(r))),k_[e]=!0}let sp;function mne(){return typeof sp>"u"&&(sp=function(){var n;const e={stencil:!0,failIfMajorPerformanceCaveat:q.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!q.ADAPTER.getWebGLRenderingContext())return!1;const r=q.ADAPTER.createCanvas();let i=r.getContext("webgl",e)||r.getContext("experimental-webgl",e);const s=!!((n=i==null?void 0:i.getContextAttributes())!=null&&n.stencil);if(i){const o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,s}catch{return!1}}()),sp}var gne="#f0f8ff",vne="#faebd7",yne="#00ffff",bne="#7fffd4",xne="#f0ffff",wne="#f5f5dc",_ne="#ffe4c4",Ene="#000000",Sne="#ffebcd",Cne="#0000ff",Tne="#8a2be2",Ane="#a52a2a",Pne="#deb887",One="#5f9ea0",Rne="#7fff00",Ine="#d2691e",kne="#ff7f50",Mne="#6495ed",Dne="#fff8dc",Fne="#dc143c",$ne="#00ffff",Bne="#00008b",Nne="#008b8b",Lne="#b8860b",Une="#a9a9a9",jne="#006400",zne="#a9a9a9",Hne="#bdb76b",Gne="#8b008b",Wne="#556b2f",Vne="#ff8c00",Xne="#9932cc",Yne="#8b0000",qne="#e9967a",Kne="#8fbc8f",Zne="#483d8b",Qne="#2f4f4f",Jne="#2f4f4f",ere="#00ced1",tre="#9400d3",nre="#ff1493",rre="#00bfff",ire="#696969",sre="#696969",ore="#1e90ff",are="#b22222",lre="#fffaf0",ure="#228b22",cre="#ff00ff",hre="#dcdcdc",dre="#f8f8ff",fre="#daa520",pre="#ffd700",mre="#808080",gre="#008000",vre="#adff2f",yre="#808080",bre="#f0fff0",xre="#ff69b4",wre="#cd5c5c",_re="#4b0082",Ere="#fffff0",Sre="#f0e68c",Cre="#fff0f5",Tre="#e6e6fa",Are="#7cfc00",Pre="#fffacd",Ore="#add8e6",Rre="#f08080",Ire="#e0ffff",kre="#fafad2",Mre="#d3d3d3",Dre="#90ee90",Fre="#d3d3d3",$re="#ffb6c1",Bre="#ffa07a",Nre="#20b2aa",Lre="#87cefa",Ure="#778899",jre="#778899",zre="#b0c4de",Hre="#ffffe0",Gre="#00ff00",Wre="#32cd32",Vre="#faf0e6",Xre="#ff00ff",Yre="#800000",qre="#66cdaa",Kre="#0000cd",Zre="#ba55d3",Qre="#9370db",Jre="#3cb371",eie="#7b68ee",tie="#00fa9a",nie="#48d1cc",rie="#c71585",iie="#191970",sie="#f5fffa",oie="#ffe4e1",aie="#ffe4b5",lie="#ffdead",uie="#000080",cie="#fdf5e6",hie="#808000",die="#6b8e23",fie="#ffa500",pie="#ff4500",mie="#da70d6",gie="#eee8aa",vie="#98fb98",yie="#afeeee",bie="#db7093",xie="#ffefd5",wie="#ffdab9",_ie="#cd853f",Eie="#ffc0cb",Sie="#dda0dd",Cie="#b0e0e6",Tie="#800080",Aie="#663399",Pie="#ff0000",Oie="#bc8f8f",Rie="#4169e1",Iie="#8b4513",kie="#fa8072",Mie="#f4a460",Die="#2e8b57",Fie="#fff5ee",$ie="#a0522d",Bie="#c0c0c0",Nie="#87ceeb",Lie="#6a5acd",Uie="#708090",jie="#708090",zie="#fffafa",Hie="#00ff7f",Gie="#4682b4",Wie="#d2b48c",Vie="#008080",Xie="#d8bfd8",Yie="#ff6347",qie="#40e0d0",Kie="#ee82ee",Zie="#f5deb3",Qie="#ffffff",Jie="#f5f5f5",ese="#ffff00",tse="#9acd32",nse={aliceblue:gne,antiquewhite:vne,aqua:yne,aquamarine:bne,azure:xne,beige:wne,bisque:_ne,black:Ene,blanchedalmond:Sne,blue:Cne,blueviolet:Tne,brown:Ane,burlywood:Pne,cadetblue:One,chartreuse:Rne,chocolate:Ine,coral:kne,cornflowerblue:Mne,cornsilk:Dne,crimson:Fne,cyan:$ne,darkblue:Bne,darkcyan:Nne,darkgoldenrod:Lne,darkgray:Une,darkgreen:jne,darkgrey:zne,darkkhaki:Hne,darkmagenta:Gne,darkolivegreen:Wne,darkorange:Vne,darkorchid:Xne,darkred:Yne,darksalmon:qne,darkseagreen:Kne,darkslateblue:Zne,darkslategray:Qne,darkslategrey:Jne,darkturquoise:ere,darkviolet:tre,deeppink:nre,deepskyblue:rre,dimgray:ire,dimgrey:sre,dodgerblue:ore,firebrick:are,floralwhite:lre,forestgreen:ure,fuchsia:cre,gainsboro:hre,ghostwhite:dre,goldenrod:fre,gold:pre,gray:mre,green:gre,greenyellow:vre,grey:yre,honeydew:bre,hotpink:xre,indianred:wre,indigo:_re,ivory:Ere,khaki:Sre,lavenderblush:Cre,lavender:Tre,lawngreen:Are,lemonchiffon:Pre,lightblue:Ore,lightcoral:Rre,lightcyan:Ire,lightgoldenrodyellow:kre,lightgray:Mre,lightgreen:Dre,lightgrey:Fre,lightpink:$re,lightsalmon:Bre,lightseagreen:Nre,lightskyblue:Lre,lightslategray:Ure,lightslategrey:jre,lightsteelblue:zre,lightyellow:Hre,lime:Gre,limegreen:Wre,linen:Vre,magenta:Xre,maroon:Yre,mediumaquamarine:qre,mediumblue:Kre,mediumorchid:Zre,mediumpurple:Qre,mediumseagreen:Jre,mediumslateblue:eie,mediumspringgreen:tie,mediumturquoise:nie,mediumvioletred:rie,midnightblue:iie,mintcream:sie,mistyrose:oie,moccasin:aie,navajowhite:lie,navy:uie,oldlace:cie,olive:hie,olivedrab:die,orange:fie,orangered:pie,orchid:mie,palegoldenrod:gie,palegreen:vie,paleturquoise:yie,palevioletred:bie,papayawhip:xie,peachpuff:wie,peru:_ie,pink:Eie,plum:Sie,powderblue:Cie,purple:Tie,rebeccapurple:Aie,red:Pie,rosybrown:Oie,royalblue:Rie,saddlebrown:Iie,salmon:kie,sandybrown:Mie,seagreen:Die,seashell:Fie,sienna:$ie,silver:Bie,skyblue:Nie,slateblue:Lie,slategray:Uie,slategrey:jie,snow:zie,springgreen:Hie,steelblue:Gie,tan:Wie,teal:Vie,thistle:Xie,tomato:Yie,turquoise:qie,violet:Kie,wheat:Zie,white:Qie,whitesmoke:Jie,yellow:ese,yellowgreen:tse};function Bl(t,e=[]){return e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function VA(t){let e=t.toString(16);return e="000000".substring(0,6-e.length)+e,`#${e}`}function Ky(t){if(typeof t=="string"&&(t=nse[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1)),t.length===3)){const[e,n,r]=t;t=e+e+n+n+r+r}return parseInt(t,16)}function rse(){const t=[],e=[];for(let r=0;r<32;r++)t[r]=r,e[r]=r;t[se.NORMAL_NPM]=se.NORMAL,t[se.ADD_NPM]=se.ADD,t[se.SCREEN_NPM]=se.SCREEN,e[se.NORMAL]=se.NORMAL_NPM,e[se.ADD]=se.ADD_NPM,e[se.SCREEN]=se.SCREEN_NPM;const n=[];return n.push(e),n.push(t),n}const XA=rse();function YA(t,e){return XA[e?1:0][t]}function ise(t,e,n,r){return n=n||new Float32Array(4),r||r===void 0?(n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e):(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=e,n}function Zy(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;let n=t>>16&255,r=t>>8&255,i=t&255;return n=n*e+.5|0,r=r*e+.5|0,i=i*e+.5|0,(e*255<<24)+(n<<16)+(r<<8)+i}function qA(t,e,n,r){return n=n||new Float32Array(4),n[0]=(t>>16&255)/255,n[1]=(t>>8&255)/255,n[2]=(t&255)/255,(r||r===void 0)&&(n[0]*=e,n[1]*=e,n[2]*=e),n[3]=e,n}function sse(t,e=null){const n=t*6;if(e=e||new Uint16Array(n),e.length!==n)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${n}`);for(let r=0,i=0;r<n;r+=6,i+=4)e[r+0]=i+0,e[r+1]=i+1,e[r+2]=i+2,e[r+3]=i+0,e[r+4]=i+2,e[r+5]=i+3;return e}function KA(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function $h(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function M_(t){return!(t&t-1)&&!!t}function D_(t){let e=(t>65535?1:0)<<4;t>>>=e;let n=(t>255?1:0)<<3;return t>>>=n,e|=n,n=(t>15?1:0)<<2,t>>>=n,e|=n,n=(t>3?1:0)<<1,t>>>=n,e|=n,e|t>>1}function xo(t,e,n){const r=t.length;let i;if(e>=r||n===0)return;n=e+n>r?r-e:n;const s=r-n;for(i=e;i<s;++i)t[i]=t[i+n];t.length=s}function io(t){return t===0?0:t<0?-1:1}let ose=0;function rs(){return++ose}const ZA=class{constructor(t,e,n,r){this.left=t,this.top=e,this.right=n,this.bottom=r}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let Ng=ZA;Ng.EMPTY=new ZA(0,0,0,0);const F_={},Kn=Object.create(null),jr=Object.create(null);class $_{constructor(e,n,r){this._canvas=q.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=r||q.RESOLUTION,this.resize(e,n)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,n){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(n*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function B_(t,e,n){for(let r=0,i=4*n*e;r<e;++r,i+=4)if(t[i+3]!==0)return!1;return!0}function N_(t,e,n,r,i){const s=4*e;for(let o=r,a=r*s+4*n;o<=i;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function ase(t){const{width:e,height:n}=t,r=t.getContext("2d",{willReadFrequently:!0});if(r===null)throw new TypeError("Failed to get canvas 2D context");const s=r.getImageData(0,0,e,n).data;let o=0,a=0,l=e-1,u=n-1;for(;a<n&&B_(s,e,a);)++a;if(a===n)return Ng.EMPTY;for(;B_(s,e,u);)--u;for(;N_(s,e,o,a,u);)++o;for(;N_(s,e,l,a,u);)--l;return++l,++u,new Ng(o,a,l,u)}function lse(t){const e=ase(t),{width:n,height:r}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,n,r)}return{width:n,height:r,data:i}}let qu;function use(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location,qu||(qu=document.createElement("a")),qu.href=t;const n=hne.parse(qu.href),r=!n.port&&e.port===""||n.port===e.port;return n.hostname!==e.hostname||!r||n.protocol!==e.protocol?"anonymous":""}function fi(t,e=1){var r;const n=(r=q.RETINA_PREFIX)==null?void 0:r.exec(t);return n?parseFloat(n[1]):e}var Y=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(Y||{});const Lg=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},L_=(t,e)=>Lg(t).priority??e,ee={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(Lg).forEach(e=>{e.type.forEach(n=>{var r,i;return(i=(r=this._removeHandlers)[n])==null?void 0:i.call(r,e)})}),this},add(...t){return t.map(Lg).forEach(e=>{e.type.forEach(n=>{const r=this._addHandlers,i=this._queue;r[n]?r[n](e):(i[n]=i[n]||[],i[n].push(e))})}),this},handle(t,e,n){const r=this._addHandlers,i=this._removeHandlers;if(r[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);r[t]=e,i[t]=n;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,n=>{e[n.name]=n.ref},n=>{delete e[n.name]})},handleByList(t,e,n=-1){return this.handle(t,r=>{e.includes(r.ref)||(e.push(r.ref),e.sort((i,s)=>L_(s,n)-L_(i,n)))},r=>{const i=e.indexOf(r.ref);i!==-1&&e.splice(i,1)})}};class Ug{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const cse=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function hse(t){let e="";for(let n=0;n<t;++n)n>0&&(e+=`
else `),n<t-1&&(e+=`if(test == ${n}.0){}`);return e}function dse(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const n=e.createShader(e.FRAGMENT_SHADER);for(;;){const r=cse.replace(/%forloop%/gi,hse(t));if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))t=t/2|0;else break}return t}const op=0,ap=1,lp=2,up=3,cp=4,hp=5;class Lr{constructor(){this.data=0,this.blendMode=se.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<op)}set blend(e){!!(this.data&1<<op)!==e&&(this.data^=1<<op)}get offsets(){return!!(this.data&1<<ap)}set offsets(e){!!(this.data&1<<ap)!==e&&(this.data^=1<<ap)}get culling(){return!!(this.data&1<<lp)}set culling(e){!!(this.data&1<<lp)!==e&&(this.data^=1<<lp)}get depthTest(){return!!(this.data&1<<up)}set depthTest(e){!!(this.data&1<<up)!==e&&(this.data^=1<<up)}get depthMask(){return!!(this.data&1<<hp)}set depthMask(e){!!(this.data&1<<hp)!==e&&(this.data^=1<<hp)}get clockwiseFrontFace(){return!!(this.data&1<<cp)}set clockwiseFrontFace(e){!!(this.data&1<<cp)!==e&&(this.data^=1<<cp)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==se.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new Lr;return e.depthTest=!1,e.blend=!0,e}}const jg=[];function QA(t,e){if(!t)return null;let n="";if(typeof t=="string"){const r=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);r&&(n=r[1].toLowerCase())}for(let r=jg.length-1;r>=0;--r){const i=jg[r];if(i.test&&i.test(t,n))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Hn{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,n,r,i,s,o,a,l){if(arguments.length>8)throw new Error("max arguments reached");const{name:u,items:c}=this;this._aliasCount++;for(let h=0,d=c.length;h<d;h++)c[h][u](e,n,r,i,s,o,a,l);return c===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const n=this.items.indexOf(e);return n!==-1&&(this.ensureNonAliasedItems(),this.items.splice(n,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Hn.prototype,{dispatch:{value:Hn.prototype.emit},run:{value:Hn.prototype.emit}});class Nl{constructor(e=0,n=0){this._width=e,this._height=n,this.destroyed=!1,this.internal=!1,this.onResize=new Hn("setRealSize"),this.onUpdate=new Hn("update"),this.onError=new Hn("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,n){(e!==this._width||n!==this._height)&&(this._width=e,this._height=n,this.onResize.emit(e,n))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,n,r){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,n){return!1}}class hu extends Nl{constructor(e,n){const{width:r,height:i}=n||{};if(!r||!i)throw new Error("BufferResource width or height invalid");super(r,i),this.data=e}upload(e,n,r){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Yn.UNPACK);const s=n.realWidth,o=n.realHeight;return r.width===s&&r.height===o?i.texSubImage2D(n.target,0,0,0,s,o,n.format,r.type,this.data):(r.width=s,r.height=o,i.texImage2D(n.target,0,r.internalFormat,s,o,0,n.format,r.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const fse={scaleMode:_r.NEAREST,format:W.RGBA,alphaMode:Yn.NPM},zs=class extends ts{constructor(t=null,e=null){super(),e=Object.assign({},zs.defaultOptions,e);const{alphaMode:n,mipmap:r,anisotropicLevel:i,scaleMode:s,width:o,height:a,wrapMode:l,format:u,type:c,target:h,resolution:d,resourceOptions:f}=e;t&&!(t instanceof Nl)&&(t=QA(t,f),t.internal=!0),this.resolution=d||q.RESOLUTION,this.width=Math.round((o||0)*this.resolution)/this.resolution,this.height=Math.round((a||0)*this.resolution)/this.resolution,this._mipmap=r,this.anisotropicLevel=i,this._wrapMode=l,this._scaleMode=s,this.format=u,this.type=c,this.target=h,this.alphaMode=n,this.uid=rs(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&a>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let n;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,n=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,n=!0),n&&this.dirtyStyleId++,this}setSize(t,e,n){return n=n||this.resolution,this.setRealSize(t*n,e*n,n)}setRealSize(t,e,n){return this.resolution=n||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=M_(this.realWidth)&&M_(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete jr[this.cacheId],delete Kn[this.cacheId],this.cacheId=null),this.dispose(),zs.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,n=q.STRICT_TEXTURE_CACHE){const r=typeof t=="string";let i=null;if(r)i=t;else{if(!t._pixiId){const o=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${o}_${rs()}`}i=t._pixiId}let s=jr[i];if(r&&n&&!s)throw new Error(`The cacheId "${i}" does not exist in BaseTextureCache.`);return s||(s=new zs(t,e),s.cacheId=i,zs.addToCache(s,i)),s}static fromBuffer(t,e,n,r){t=t||new Float32Array(e*n*4);const i=new hu(t,{width:e,height:n}),s=t instanceof Float32Array?te.FLOAT:te.UNSIGNED_BYTE;return new zs(i,Object.assign({},fse,r||{width:e,height:n,type:s}))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),jr[e]&&jr[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),jr[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=jr[t];if(e){const n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete jr[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete jr[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};let ce=zs;ce.defaultOptions={mipmap:dr.POW2,anisotropicLevel:0,scaleMode:_r.LINEAR,wrapMode:ui.CLAMP,alphaMode:Yn.UNPACK,target:yo.TEXTURE_2D,format:W.RGBA,type:te.UNSIGNED_BYTE};ce._globalBatch=0;class zg{constructor(){this.texArray=null,this.blend=0,this.type=or.TRIANGLES,this.start=0,this.size=0,this.data=null}}let pse=0;class Qe{constructor(e,n=!0,r=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=n,this.id=pse++,this.disposeRunner=new Hn("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?cr.ELEMENT_ARRAY_BUFFER:cr.ARRAY_BUFFER}get index(){return this.type===cr.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new Qe(e)}}class Bh{constructor(e,n=0,r=!1,i=te.FLOAT,s,o,a,l=1){this.buffer=e,this.size=n,this.normalized=r,this.type=i,this.stride=s,this.start=o,this.instance=a,this.divisor=l}destroy(){this.buffer=null}static from(e,n,r,i,s){return new Bh(e,n,r,i,s)}}const mse={Float32Array,Uint32Array,Int32Array,Uint8Array};function gse(t,e){let n=0,r=0;const i={};for(let l=0;l<t.length;l++)r+=e[l],n+=t[l].length;const s=new ArrayBuffer(n*4);let o=null,a=0;for(let l=0;l<t.length;l++){const u=e[l],c=t[l],h=KA(c);i[h]||(i[h]=new mse[h](s)),o=i[h];for(let d=0;d<c.length;d++){const f=(d/u|0)*r+a,p=d%u;o[f+p]=c[d]}a+=u}return new Float32Array(s)}const U_={5126:4,5123:2,5121:1};let vse=0;const yse={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class pi{constructor(e=[],n={}){this.buffers=e,this.indexBuffer=null,this.attributes=n,this.glVertexArrayObjects={},this.id=vse++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Hn("disposeGeometry"),this.refCount=0}addAttribute(e,n,r=0,i=!1,s,o,a,l=!1){if(!n)throw new Error("You must pass a buffer when creating an attribute");n instanceof Qe||(n instanceof Array&&(n=new Float32Array(n)),n=new Qe(n));const u=e.split("|");if(u.length>1){for(let h=0;h<u.length;h++)this.addAttribute(u[h],n,r,i,s);return this}let c=this.buffers.indexOf(n);return c===-1&&(this.buffers.push(n),c=this.buffers.length-1),this.attributes[e]=new Bh(c,r,i,s,o,a,l),this.instanced=this.instanced||l,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof Qe||(e instanceof Array&&(e=new Uint16Array(e)),e=new Qe(e)),e.type=cr.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],n=[],r=new Qe;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),n.push(s.size*U_[s.type]/4),s.buffer=0}for(r.data=gse(e,n),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const n=this.attributes[e];return this.buffers[n.buffer].data.length/(n.stride/4||n.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new pi;for(let n=0;n<this.buffers.length;n++)e.buffers[n]=new Qe(this.buffers[n].data.slice(0));for(const n in this.attributes){const r=this.attributes[n];e.attributes[n]=new Bh(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=cr.ELEMENT_ARRAY_BUFFER),e}static merge(e){const n=new pi,r=[],i=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)i[l]=i[l]||0,i[l]+=o.buffers[l].data.length,s[l]=0}for(let a=0;a<o.buffers.length;a++)r[a]=new yse[KA(o.buffers[a].data)](i[a]),n.buffers[a]=new Qe(r[a]);for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)r[l].set(o.buffers[l].data,s[l]),s[l]+=o.buffers[l].data.length}if(n.attributes=o.attributes,o.indexBuffer){n.indexBuffer=n.buffers[o.buffers.indexOf(o.indexBuffer)],n.indexBuffer.type=cr.ELEMENT_ARRAY_BUFFER;let a=0,l=0,u=0,c=0;for(let h=0;h<o.buffers.length;h++)if(o.buffers[h]!==o.indexBuffer){c=h;break}for(const h in o.attributes){const d=o.attributes[h];(d.buffer|0)===c&&(l+=d.size*U_[d.type]/4)}for(let h=0;h<e.length;h++){const d=e[h].indexBuffer.data;for(let f=0;f<d.length;f++)n.indexBuffer.data[f+u]+=a;a+=e[h].buffers[c].data.length/l,u+=d.length}}return n}}class JA extends pi{constructor(e=!1){super(),this._buffer=new Qe(null,e,!1),this._indexBuffer=new Qe(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,te.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,te.FLOAT).addAttribute("aColor",this._buffer,4,!0,te.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,te.FLOAT).addIndex(this._indexBuffer)}}const Nh=Math.PI*2,bse=180/Math.PI,xse=Math.PI/180;var mt=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(mt||{});class re{constructor(e=0,n=0){this.x=0,this.y=0,this.x=e,this.y=n}clone(){return new re(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,n=e){return this.x=e,this.y=n,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const Ku=[new re,new re,new re,new re];class he{constructor(e=0,n=0,r=0,i=0){this.x=Number(e),this.y=Number(n),this.width=Number(r),this.height=Number(i),this.type=mt.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new he(0,0,0,0)}clone(){return new he(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,n){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&n>=this.y&&n<this.y+this.height}intersects(e,n){if(!n){const A=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=A)return!1;const M=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>M}const r=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=r||o<=s)return!1;const a=Ku[0].set(e.left,e.top),l=Ku[1].set(e.left,e.bottom),u=Ku[2].set(e.right,e.top),c=Ku[3].set(e.right,e.bottom);if(u.x<=a.x||l.y<=a.y)return!1;const h=Math.sign(n.a*n.d-n.b*n.c);if(h===0||(n.apply(a,a),n.apply(l,l),n.apply(u,u),n.apply(c,c),Math.max(a.x,l.x,u.x,c.x)<=r||Math.min(a.x,l.x,u.x,c.x)>=i||Math.max(a.y,l.y,u.y,c.y)<=s||Math.min(a.y,l.y,u.y,c.y)>=o))return!1;const d=h*(l.y-a.y),f=h*(a.x-l.x),p=d*r+f*s,m=d*i+f*s,g=d*r+f*o,v=d*i+f*o;if(Math.max(p,m,g,v)<=d*a.x+f*a.y||Math.min(p,m,g,v)>=d*c.x+f*c.y)return!1;const y=h*(a.y-u.y),b=h*(u.x-a.x),x=y*r+b*s,E=y*i+b*s,T=y*r+b*o,C=y*i+b*o;return!(Math.max(x,E,T,C)<=y*a.x+b*a.y||Math.min(x,E,T,C)>=y*c.x+b*c.y)}pad(e=0,n=e){return this.x-=e,this.y-=n,this.width+=e*2,this.height+=n*2,this}fit(e){const n=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=n,this.width=Math.max(r-n,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,n=.001){const r=Math.ceil((this.x+this.width-n)*e)/e,i=Math.ceil((this.y+this.height-n)*e)/e;return this.x=Math.floor((this.x+n)*e)/e,this.y=Math.floor((this.y+n)*e)/e,this.width=r-this.x,this.height=i-this.y,this}enlarge(e){const n=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=n,this.width=r-n,this.y=i,this.height=s-i,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class Zd{constructor(e=0,n=0,r=0){this.x=e,this.y=n,this.radius=r,this.type=mt.CIRC}clone(){return new Zd(this.x,this.y,this.radius)}contains(e,n){if(this.radius<=0)return!1;const r=this.radius*this.radius;let i=this.x-e,s=this.y-n;return i*=i,s*=s,i+s<=r}getBounds(){return new he(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Qy{constructor(e=0,n=0,r=0,i=0){this.x=e,this.y=n,this.width=r,this.height=i,this.type=mt.ELIP}clone(){return new Qy(this.x,this.y,this.width,this.height)}contains(e,n){if(this.width<=0||this.height<=0)return!1;let r=(e-this.x)/this.width,i=(n-this.y)/this.height;return r*=r,i*=i,r+i<=1}getBounds(){return new he(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class wo{constructor(...e){let n=Array.isArray(e[0])?e[0]:e;if(typeof n[0]!="number"){const r=[];for(let i=0,s=n.length;i<s;i++)r.push(n[i].x,n[i].y);n=r}this.points=n,this.type=mt.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),n=new wo(e);return n.closeStroke=this.closeStroke,n}contains(e,n){let r=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],l=this.points[s*2+1],u=this.points[o*2],c=this.points[o*2+1];l>n!=c>n&&e<(u-a)*((n-l)/(c-l))+a&&(r=!r)}return r}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,n)=>`${e}, ${n}`,"")}]`}}class Ll{constructor(e=0,n=0,r=0,i=0,s=20){this.x=e,this.y=n,this.width=r,this.height=i,this.radius=s,this.type=mt.RREC}clone(){return new Ll(this.x,this.y,this.width,this.height,this.radius)}contains(e,n){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(n>=this.y+r&&n<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;let i=e-(this.x+r),s=n-(this.y+r);const o=r*r;if(i*i+s*s<=o||(i=e-(this.x+this.width-r),i*i+s*s<=o)||(s=n-(this.y+this.height-r),i*i+s*s<=o)||(i=e-(this.x+r),i*i+s*s<=o))return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}class $e{constructor(e=1,n=0,r=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,n,r,i,s,o){return this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=o,this}toArray(e,n){this.array||(this.array=new Float32Array(9));const r=n||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(e,n){n=n||new re;const r=e.x,i=e.y;return n.x=this.a*r+this.c*i+this.tx,n.y=this.b*r+this.d*i+this.ty,n}applyInverse(e,n){n=n||new re;const r=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return n.x=this.d*r*i+-this.c*r*s+(this.ty*this.c-this.tx*this.d)*r,n.y=this.a*r*s+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,n}translate(e,n){return this.tx+=e,this.ty+=n,this}scale(e,n){return this.a*=e,this.d*=n,this.c*=e,this.b*=n,this.tx*=e,this.ty*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*n-this.b*r,this.b=i*r+this.b*n,this.c=s*n-this.d*r,this.d=s*r+this.d*n,this.tx=o*n-this.ty*r,this.ty=o*r+this.ty*n,this}append(e){const n=this.a,r=this.b,i=this.c,s=this.d;return this.a=e.a*n+e.b*i,this.b=e.a*r+e.b*s,this.c=e.c*n+e.d*i,this.d=e.c*r+e.d*s,this.tx=e.tx*n+e.ty*i+this.tx,this.ty=e.tx*r+e.ty*s+this.ty,this}setTransform(e,n,r,i,s,o,a,l,u){return this.a=Math.cos(a+u)*s,this.b=Math.sin(a+u)*s,this.c=-Math.sin(a-l)*o,this.d=Math.cos(a-l)*o,this.tx=e-(r*this.a+i*this.c),this.ty=n-(r*this.b+i*this.d),this}prepend(e){const n=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const r=this.a,i=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=n*e.a+this.ty*e.c+e.tx,this.ty=n*e.b+this.ty*e.d+e.ty,this}decompose(e){const n=this.a,r=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),l=Math.atan2(r,n),u=Math.abs(a+l);return u<1e-5||Math.abs(Nh-u)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(n*n+r*r),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*n+o.y*i),e.position.y=this.ty+(o.x*r+o.y*s),e}invert(){const e=this.a,n=this.b,r=this.c,i=this.d,s=this.tx,o=e*i-n*r;return this.a=i/o,this.b=-n/o,this.c=-r/o,this.d=e/o,this.tx=(r*this.ty-i*s)/o,this.ty=-(e*this.ty-n*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new $e;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new $e}static get TEMP_MATRIX(){return new $e}}const Ri=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Ii=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],ki=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Mi=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Hg=[],eP=[],Zu=Math.sign;function wse(){for(let t=0;t<16;t++){const e=[];Hg.push(e);for(let n=0;n<16;n++){const r=Zu(Ri[t]*Ri[n]+ki[t]*Ii[n]),i=Zu(Ii[t]*Ri[n]+Mi[t]*Ii[n]),s=Zu(Ri[t]*ki[n]+ki[t]*Mi[n]),o=Zu(Ii[t]*ki[n]+Mi[t]*Mi[n]);for(let a=0;a<16;a++)if(Ri[a]===r&&Ii[a]===i&&ki[a]===s&&Mi[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new $e;e.set(Ri[t],Ii[t],ki[t],Mi[t],0,0),eP.push(e)}}wse();const Ne={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Ri[t],uY:t=>Ii[t],vX:t=>ki[t],vY:t=>Mi[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>Hg[t][e],sub:(t,e)=>Hg[t][Ne.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?Ne.S:Ne.N:Math.abs(e)*2<=Math.abs(t)?t>0?Ne.E:Ne.W:e>0?t>0?Ne.SE:Ne.SW:t>0?Ne.NE:Ne.NW,matrixAppendRotationInv:(t,e,n=0,r=0)=>{const i=eP[Ne.inv(e)];i.tx=n,i.ty=r,t.append(i)}};class Qr{constructor(e,n,r=0,i=0){this._x=r,this._y=i,this.cb=e,this.scope=n}clone(e=this.cb,n=this.scope){return new Qr(e,n,this._x,this._y)}set(e=0,n=e){return(this._x!==e||this._y!==n)&&(this._x=e,this._y=n,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=${0} y=${0} scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}const tP=class{constructor(){this.worldTransform=new $e,this.localTransform=new $e,this.position=new Qr(this.onChange,this,0,0),this.scale=new Qr(this.onChange,this,1,1),this.pivot=new Qr(this.onChange,this,0,0),this.skew=new Qr(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const n=t.worldTransform,r=this.worldTransform;r.a=e.a*n.a+e.b*n.c,r.b=e.a*n.b+e.b*n.d,r.c=e.c*n.a+e.d*n.c,r.d=e.c*n.b+e.d*n.d,r.tx=e.tx*n.a+e.ty*n.c+n.tx,r.ty=e.tx*n.b+e.ty*n.d+n.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};let Jy=tP;Jy.IDENTITY=new tP;var _se=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,Ese=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function j_(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}function dp(t){const e=new Array(t);for(let n=0;n<e.length;n++)e[n]=!1;return e}function nP(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return dp(2*e);case"bvec3":return dp(3*e);case"bvec4":return dp(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const _o=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],Sse={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},Cse={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function Tse(t,e){var r;const n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){(r=t.uniforms[i])!=null&&r.group&&(t.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let a=!1;for(let l=0;l<_o.length;l++)if(_o[l].test(s,o)){n.push(_o[l].code(i,o)),a=!0;break}if(!a){const u=(s.size===1&&!s.isArray?Sse:Cse)[s.type].replace("location",`ud["${i}"].location`);n.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${u};`)}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}const rP={};let _s=rP;function Ase(){if(_s===rP||_s!=null&&_s.isContextLost()){const t=q.ADAPTER.createCanvas();let e;q.PREFER_ENV>=fs.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),_s=e}return _s}let Qu;function Pse(){if(!Qu){Qu=mn.MEDIUM;const t=Ase();t&&t.getShaderPrecisionFormat&&(Qu=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?mn.HIGH:mn.MEDIUM)}return Qu}function z_(t,e){const n=t.getShaderSource(e).split(`
`).map((u,c)=>`${c}: ${u}`),r=t.getShaderInfoLog(e),i=r.split(`
`),s={},o=i.map(u=>parseFloat(u.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(u=>u&&!s[u]?(s[u]=!0,!0):!1),a=[""];o.forEach(u=>{n[u-1]=`%c${n[u-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=n.join(`
`);a[0]=l,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function Ose(t,e,n,r){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(n,t.COMPILE_STATUS)||z_(t,n),t.getShaderParameter(r,t.COMPILE_STATUS)||z_(t,r),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const Rse={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function iP(t){return Rse[t]}let Ju=null;const H_={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function sP(t,e){if(!Ju){const n=Object.keys(H_);Ju={};for(let r=0;r<n.length;++r){const i=n[r];Ju[t[i]]=H_[i]}}return Ju[e]}function G_(t,e,n){if(t.substring(0,9)!=="precision"){let r=e;return e===mn.HIGH&&n!==mn.HIGH&&(r=mn.MEDIUM),`precision ${r} float;
${t}`}else if(n!==mn.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let Pa;function Ise(){if(typeof Pa=="boolean")return Pa;try{Pa=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Pa=!1}return Pa}let kse=0;const ec={},Hs=class{constructor(t,e,n="pixi-shader",r={}){this.extra={},this.id=kse++,this.vertexSrc=t||Hs.defaultVertexSrc,this.fragmentSrc=e||Hs.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=r,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),ec[n]?(ec[n]++,n+=`-${ec[n]}`):ec[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=G_(this.vertexSrc,Hs.defaultVertexPrecision,mn.HIGH),this.fragmentSrc=G_(this.fragmentSrc,Hs.defaultFragmentPrecision,Pse())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return Ese}static get defaultFragmentSrc(){return _se}static from(t,e,n){const r=t+e;let i=F_[r];return i||(F_[r]=i=new Hs(t,e,n)),i}};let Nn=Hs;Nn.defaultVertexPrecision=mn.HIGH;Nn.defaultFragmentPrecision=Er.apple.device?mn.HIGH:mn.MEDIUM;let Mse=0;class Gn{constructor(e,n,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Mse++,this.static=!!n,this.ubo=!!r,e instanceof Qe?(this.buffer=e,this.buffer.type=cr.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Qe(new Float32Array(1)),this.buffer.type=cr.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,n,r){if(!this.ubo)this.uniforms[e]=new Gn(n,r);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,n,r){return new Gn(e,n,r)}static uboFrom(e,n){return new Gn(e,n??!0,!0)}}class hr{constructor(e,n){this.uniformBindCount=0,this.program=e,n?n instanceof Gn?this.uniformGroup=n:this.uniformGroup=new Gn(n):this.uniformGroup=new Gn({}),this.disposeRunner=new Hn("disposeShader")}checkUniformExists(e,n){if(n.uniforms[e])return!0;for(const r in n.uniforms){const i=n.uniforms[r];if(i.group&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,n,r){const i=Nn.from(e,n);return new hr(i,r)}}class Dse{constructor(e,n){if(this.vertexSrc=e,this.fragTemplate=n,this.programCache={},this.defaultGroupCache={},!n.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!n.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const r=new Int32Array(e);for(let s=0;s<e;s++)r[s]=s;this.defaultGroupCache[e]=Gn.from({uSamplers:r},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Nn(this.vertexSrc,i)}const n={tint:new Float32Array([1,1,1,1]),translationMatrix:new $e,default:this.defaultGroupCache[e]};return new hr(this.programCache[e],n)}generateSampleSrc(e){let n="";n+=`
`,n+=`
`;for(let r=0;r<e;r++)r>0&&(n+=`
else `),r<e-1&&(n+=`if(vTextureId < ${r}.5)`),n+=`
{`,n+=`
	color = texture2D(uSamplers[${r}], vTextureCoord);`,n+=`
}`;return n+=`
`,n+=`
`,n}}class Gg{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function Fse(){return!Er.apple.device}function $se(t){let e=!0;const n=q.ADAPTER.getNavigator();if(Er.tablet||Er.phone){if(Er.apple.device){const r=n.userAgent.match(/OS (\d+)_(\d+)?/);r&&parseInt(r[1],10)<11&&(e=!1)}if(Er.android.device){const r=n.userAgent.match(/Android\s([0-9.]*)/);r&&parseInt(r[1],10)<7&&(e=!1)}}return e?t:4}class Qd{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var Bse=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,Nse=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const Pn=class extends Qd{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=JA,this.vertexSize=6,this.state=Lr.for2d(),this.size=Pn.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??$se(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??Fse(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return ve("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return Nse}static get defaultFragmentTemplate(){return Bse}setShaderGenerator({vertex:t=Pn.defaultVertexSrc,fragment:e=Pn.defaultFragmentTemplate}={}){this.shaderGenerator=new Dse(t,e)}contextChange(){const t=this.renderer.gl;q.PREFER_ENV===fs.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Pn.defaultMaxTextures),this.maxTextures=dse(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=Pn,n=this.size/4,r=Math.floor(n/this.maxTextures)+1;for(;t.length<n;)t.push(new zg);for(;e.length<r;)e.push(new Gg);for(let i=0;i<this.maxTextures;i++)this._tempBoundTextures[i]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,n=Pn._textureArrayPool,r=this.renderer.batch,i=this._tempBoundTextures,s=this.renderer.textureGC.count;let o=++ce._globalBatch,a=0,l=n[0],u=0;r.copyBoundTextures(i,e);for(let c=0;c<this._bufferSize;++c){const h=t[c];t[c]=null,h._batchEnabled!==o&&(l.count>=e&&(r.boundArray(l,i,o,e),this.buildDrawCalls(l,u,c),u=c,l=n[++a],++o),h._batchEnabled=o,h.touched=s,l.elements[l.count++]=h)}l.count>0&&(r.boundArray(l,i,o,e),this.buildDrawCalls(l,u,this._bufferSize),++a,++o);for(let c=0;c<i.length;c++)i[c]=null;ce._globalBatch=o}buildDrawCalls(t,e,n){const{_bufferedElements:r,_attributeBuffer:i,_indexBuffer:s,vertexSize:o}=this,a=Pn._drawCallPool;let l=this._dcIndex,u=this._aIndex,c=this._iIndex,h=a[l];h.start=this._iIndex,h.texArray=t;for(let d=e;d<n;++d){const f=r[d],p=f._texture.baseTexture,m=XA[p.alphaMode?1:0][f.blendMode];r[d]=null,e<d&&h.blend!==m&&(h.size=c-h.start,e=d,h=a[++l],h.texArray=t,h.start=c),this.packInterleavedGeometry(f,i,s,u,c),u+=f.vertexData.length/2*o,c+=f.indices.length,h.blend=m}e<n&&(h.size=c-h.start,++l),this._dcIndex=l,this._aIndex=u,this._iIndex=c}bindAndClearTexArray(t){const e=this.renderer.texture;for(let n=0;n<t.count;n++)e.bind(t.elements[n],t.ids[n]),t.elements[n]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:n}=this;Pn.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:n}=this.renderer,r=Pn._drawCallPool;let i=null;for(let s=0;s<t;s++){const{texArray:o,type:a,size:l,start:u,blend:c}=r[s];i!==o&&(i=o,this.bindAndClearTexArray(o)),this.state.blendMode=c,n.set(this.state),e.drawElements(a,l,e.UNSIGNED_SHORT,u*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Pn.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=$h(Math.ceil(t/8)),n=D_(e),r=e*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let i=this._aBuffers[r];return i||(this._aBuffers[r]=i=new Ug(r*this.vertexSize*4)),i}getIndexBuffer(t){const e=$h(Math.ceil(t/12)),n=D_(e),r=e*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let i=this._iBuffers[n];return i||(this._iBuffers[n]=i=new Uint16Array(r)),i}packInterleavedGeometry(t,e,n,r,i){const{uint32View:s,float32View:o}=e,a=r/this.vertexSize,l=t.uvs,u=t.indices,c=t.vertexData,h=t._texture.baseTexture._batchLocation,d=Math.min(t.worldAlpha,1),f=d<1&&t._texture.baseTexture.alphaMode?Zy(t._tintRGB,d):t._tintRGB+(d*255<<24);for(let p=0;p<c.length;p+=2)o[r++]=c[p],o[r++]=c[p+1],o[r++]=l[p],o[r++]=l[p+1],s[r++]=f,o[r++]=h;for(let p=0;p<u.length;p++)n[i++]=a+u[p]}};let Fn=Pn;Fn.defaultBatchSize=4096;Fn.extension={name:"batch",type:Y.RendererPlugin};Fn._drawCallPool=[];Fn._textureArrayPool=[];ee.add(Fn);var Lse=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,Use=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const Ga=class extends hr{constructor(t,e,n){const r=Nn.from(t||Ga.defaultVertexSrc,e||Ga.defaultFragmentSrc);super(r,n),this.padding=0,this.resolution=Ga.defaultResolution,this.multisample=Ga.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Lr}apply(t,e,n,r,i){t.applyFilter(this,e,n,r)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return Use}static get defaultFragmentSrc(){return Lse}};let gt=Ga;gt.defaultResolution=1;gt.defaultMultisample=Ye.NONE;class oP{constructor(){this.clearBeforeRender=!0,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,1],this._backgroundColorString="#000000",this.color=this._backgroundColor,this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender,e.color&&(this.color=typeof e.color=="string"?Ky(e.color):e.color),this.alpha=e.alpha}get color(){return this._backgroundColor}set color(e){this._backgroundColor=e,this._backgroundColorString=VA(e),Bl(e,this._backgroundColorRgba)}get alpha(){return this._backgroundColorRgba[3]}set alpha(e){this._backgroundColorRgba[3]=e}get colorRgba(){return this._backgroundColorRgba}get colorString(){return this._backgroundColorString}destroy(){}}oP.extension={type:[Y.RendererSystem,Y.CanvasRendererSystem],name:"background"};ee.add(oP);class aP{constructor(e){this.renderer=e,this.emptyRenderer=new Qd(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,n){const{boundTextures:r}=this.renderer.texture;for(let i=n-1;i>=0;--i)e[i]=r[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,n,r,i){const{elements:s,ids:o,count:a}=e;let l=0;for(let u=0;u<a;u++){const c=s[u],h=c._batchLocation;if(h>=0&&h<i&&n[h]===c){o[u]=h;continue}for(;l<i;){const d=n[l];if(d&&d._batchEnabled===r&&d._batchLocation===l){l++;continue}o[u]=l,c._batchLocation=l,n[l]=c;break}}}destroy(){this.renderer=null}}aP.extension={type:Y.RendererSystem,name:"batch"};ee.add(aP);let W_=0;class lP{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=W_++}init(e){if(e.context)this.initFromContext(e.context);else{const n=this.renderer.background.alpha<1,r=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:n,premultipliedAlpha:r,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=W_++,this.renderer.runners.contextChange.emit(e);const n=this.renderer.view;n.addEventListener!==void 0&&(n.addEventListener("webglcontextlost",this.handleContextLost,!1),n.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const n=this.createContext(this.renderer.view,e);this.initFromContext(n)}createContext(e,n){let r;if(q.PREFER_ENV>=fs.WEBGL2&&(r=e.getContext("webgl2",n)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=e.getContext("webgl",n)||e.getContext("experimental-webgl",n),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,n={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,n,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,n,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const n=e.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),n&&!n.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}lP.extension={type:Y.RendererSystem,name:"context"};ee.add(lP);class jse extends hu{upload(e,n,r){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Yn.UNPACK);const s=n.realWidth,o=n.realHeight;return r.width===s&&r.height===o?i.texSubImage2D(n.target,0,0,0,s,o,n.format,r.type,this.data):(r.width=s,r.height=o,i.texImage2D(n.target,0,r.internalFormat,s,o,0,n.format,r.type,this.data)),!0}}class Wg{constructor(e,n){this.width=Math.round(e||100),this.height=Math.round(n||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Hn("disposeFramebuffer"),this.multisample=Ye.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,n){return this.colorTextures[e]=n||new ce(null,{scaleMode:_r.NEAREST,resolution:1,mipmap:dr.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new ce(new jse(null,{width:this.width,height:this.height}),{scaleMode:_r.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:dr.OFF,format:W.DEPTH_COMPONENT,type:te.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,n){if(e=Math.round(e),n=Math.round(n),!(e===this.width&&n===this.height)){this.width=e,this.height=n,this.dirtyId++,this.dirtySize++;for(let r=0;r<this.colorTextures.length;r++){const i=this.colorTextures[r],s=i.resolution;i.setSize(e/s,n/s)}if(this.depthTexture){const r=this.depthTexture.resolution;this.depthTexture.setSize(e/r,n/r)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class uP extends ce{constructor(e={}){if(typeof e=="number"){const n=arguments[0],r=arguments[1],i=arguments[2],s=arguments[3];e={width:n,height:r,scaleMode:i,resolution:s}}e.width=e.width||100,e.height=e.height||100,e.multisample??(e.multisample=Ye.NONE),super(null,e),this.mipmap=dr.OFF,this.valid=!0,this.clearColor=[0,0,0,0],this.framebuffer=new Wg(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}resize(e,n){this.framebuffer.resize(e*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class mi extends Nl{constructor(e){const n=e,r=n.naturalWidth||n.videoWidth||n.width,i=n.naturalHeight||n.videoHeight||n.height;super(r,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,n,r){r===void 0&&!n.startsWith("data:")?e.crossOrigin=use(n):r!==!1&&(e.crossOrigin=typeof r=="string"?r:"anonymous")}upload(e,n,r,i){const s=e.gl,o=n.realWidth,a=n.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1&&i.buffered.length===0)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Yn.UNPACK),!this.noSubImage&&n.target===s.TEXTURE_2D&&r.width===o&&r.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,n.format,r.type,i):(r.width=o,r.height=a,s.texImage2D(n.target,0,r.internalFormat,n.format,r.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,n=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(n,r),super.update()}dispose(){this.source=null}}class cP extends mi{constructor(e,n){if(n=n||{},typeof e=="string"){const r=new Image;mi.crossOrigin(r,e,n.crossorigin),r.src=e,e=r}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(n.createBitmap??q.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,this.bitmap=null,this._load=null,n.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((n,r)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.resize(i.width,i.height),this._load=null,this.createBitmap?n(this.process()):n(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{r(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const n=globalThis.createImageBitmap,r=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:r?"cors":"no-cors"}).then(i=>i.blob()).then(i=>n(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Yn.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,n,r){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,n,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,n,r,this.bitmap),!this.preserveBitmap){let i=!0;const s=n._glTextures;for(const o in s){const a=s[o];if(a!==r&&a.dirtyId!==n.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class hP{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,n,r){const i=n.width,s=n.height;if(r){const o=e.width/2/i,a=e.height/2/s,l=e.x/i+o,u=e.y/s+a;r=Ne.add(r,Ne.NW),this.x0=l+o*Ne.uX(r),this.y0=u+a*Ne.uY(r),r=Ne.add(r,2),this.x1=l+o*Ne.uX(r),this.y1=u+a*Ne.uY(r),r=Ne.add(r,2),this.x2=l+o*Ne.uX(r),this.y2=u+a*Ne.uY(r),r=Ne.add(r,2),this.x3=l+o*Ne.uX(r),this.y3=u+a*Ne.uY(r)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const V_=new hP;function tc(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class J extends ts{constructor(e,n,r,i,s,o){if(super(),this.noFrame=!1,n||(this.noFrame=!0,n=new he(0,0,1,1)),e instanceof J&&(e=e.baseTexture),this.baseTexture=e,this._frame=n,this.trim=i,this.valid=!1,this._uvs=V_,this.uvMatrix=null,this.orig=r||n,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new re(o.x,o.y):new re(0,0),this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=n:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:n}=this.baseTexture;n!=null&&n.url&&Kn[n.url]&&J.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,J.removeFromCache(this),this.textureCacheIds=null}clone(){var i;const e=this._frame.clone(),n=this._frame===this.orig?e:this.orig.clone(),r=new J(this.baseTexture,!this.noFrame&&e,n,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(r._frame=e),r}updateUvs(){this._uvs===V_&&(this._uvs=new hP),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,n={},r=q.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof ce){if(!e.cacheId){const a=(n==null?void 0:n.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${rs()}`,ce.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(n==null?void 0:n.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${rs()}`}s=e._pixiId}let o=Kn[s];if(i&&r&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof ce)?(n.resolution||(n.resolution=fi(e)),o=new J(new ce(e,n)),o.baseTexture.cacheId=s,ce.addToCache(o.baseTexture,s),J.addToCache(o,s)):!o&&e instanceof ce&&(o=new J(e),J.addToCache(o,s)),o}static fromURL(e,n){const r=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),i=J.from(e,Object.assign({resourceOptions:r},n),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,n,r,i){return new J(ce.fromBuffer(e,n,r,i))}static fromLoader(e,n,r,i){const s=new ce(e,Object.assign({scaleMode:ce.defaultOptions.scaleMode,resolution:fi(n)},i)),{resource:o}=s;o instanceof cP&&(o.url=n);const a=new J(s);return r||(r=n),ce.addToCache(a.baseTexture,r),J.addToCache(a,r),r!==n&&(ce.addToCache(a.baseTexture,n),J.addToCache(a,n)),a.baseTexture.valid?Promise.resolve(a):new Promise(l=>{a.baseTexture.once("loaded",()=>l(a))})}static addToCache(e,n){n&&(e.textureCacheIds.includes(n)||e.textureCacheIds.push(n),Kn[n]&&Kn[n]!==e&&console.warn(`Texture added to the cache with an id [${n}] that already had an entry`),Kn[n]=e)}static removeFromCache(e){if(typeof e=="string"){const n=Kn[e];if(n){const r=n.textureCacheIds.indexOf(e);return r>-1&&n.textureCacheIds.splice(r,1),delete Kn[e],n}}else if(e!=null&&e.textureCacheIds){for(let n=0;n<e.textureCacheIds.length;++n)Kn[e.textureCacheIds[n]]===e&&delete Kn[e.textureCacheIds[n]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:n,y:r,width:i,height:s}=e,o=n+i>this.baseTexture.width,a=r+s>this.baseTexture.height;if(o||a){const l=o&&a?"and":"or",u=`X: ${n} + ${i} = ${n+i} > ${this.baseTexture.width}`,c=`Y: ${r} + ${s} = ${r+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${u} ${l} ${c}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return J._EMPTY||(J._EMPTY=new J(new ce),tc(J._EMPTY),tc(J._EMPTY.baseTexture)),J._EMPTY}static get WHITE(){if(!J._WHITE){const e=q.ADAPTER.createCanvas(16,16),n=e.getContext("2d");e.width=16,e.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),J._WHITE=new J(ce.from(e)),tc(J._WHITE),tc(J._WHITE.baseTexture)}return J._WHITE}}class gi extends J{constructor(e,n){super(e,n),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,n,r=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(n*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,r&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:n}=this;n.resolution!==e&&(n.setResolution(e),this.resize(n.width,n.height,!1))}static create(e){return new gi(new uP(e))}}class dP{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,n,r=Ye.NONE){const i=new uP(Object.assign({width:e,height:n,resolution:1,multisample:r},this.textureOptions));return new gi(i)}getOptimalTexture(e,n,r=1,i=Ye.NONE){let s;e=Math.ceil(e*r-1e-6),n=Math.ceil(n*r-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||n!==this._pixelsHeight?(e=$h(e),n=$h(n),s=((e&65535)<<16|n&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,n,i)),o.filterPoolKey=s,o.setResolution(r),o}getFilterTexture(e,n,r){const i=this.getOptimalTexture(e.width,e.height,n||e.resolution,r||Ye.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const n=e.filterPoolKey;e.filterFrame=null,this.texturePool[n].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const n in this.texturePool){const r=this.texturePool[n];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const n in this.texturePool){if(!(Number(n)<0))continue;const r=this.texturePool[n];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[n]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}dP.SCREEN_KEY=-1;class zse extends pi{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class fP extends pi{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Qe(this.vertices),this.uvBuffer=new Qe(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,n){let r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+n.width/e.width,this.uvs[3]=i,this.uvs[4]=r+n.width/e.width,this.uvs[5]=i+n.height/e.height,this.uvs[6]=r,this.uvs[7]=i+n.height/e.height,r=n.x,i=n.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+n.width,this.vertices[3]=i,this.vertices[4]=r+n.width,this.vertices[5]=i+n.height,this.vertices[6]=r,this.vertices[7]=i+n.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class Hse{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Ye.NONE,this.sourceFrame=new he,this.destinationFrame=new he,this.bindingSourceFrame=new he,this.bindingDestinationFrame=new he,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const nc=[new re,new re,new re,new re],fp=new $e;class pP{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new dP,this.statePool=[],this.quad=new zse,this.quadUv=new fP,this.tempRect=new he,this.activeState={},this.globalUniforms=new Gn({outputFrame:new he,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,n){const r=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new Hse,o=this.renderer.renderTexture;let a=n[0].resolution,l=n[0].multisample,u=n[0].padding,c=n[0].autoFit,h=n[0].legacy??!0;for(let p=1;p<n.length;p++){const m=n[p];a=Math.min(a,m.resolution),l=Math.min(l,m.multisample),u=this.useMaxPadding?Math.max(u,m.padding):u+m.padding,c=c&&m.autoFit,h=h||(m.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=a,s.multisample=l,s.legacy=h,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(u);const d=this.tempRect.copyFrom(o.sourceFrame);r.projection.transform&&this.transformAABB(fp.copyFrom(r.projection.transform).invert(),d),c?(s.sourceFrame.fit(d),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(d)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:r.resolution,o.sourceFrame,o.destinationFrame,r.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,a,l),s.filters=n,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const f=this.tempRect;f.x=0,f.y=0,f.width=s.sourceFrame.width,f.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=r.projection.transform,r.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,f),r.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,n=e.pop(),r=n.filters;this.activeState=n;const i=this.globalUniforms.uniforms;i.outputFrame=n.sourceFrame,i.resolution=n.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=n.destinationFrame.width,s[1]=n.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*n.resolution),o[1]=Math.round(s[1]*n.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=n.sourceFrame.width*s[2]-.5*o[2],a[3]=n.sourceFrame.height*s[3]-.5*o[3],n.legacy){const u=i.filterArea;u[0]=n.destinationFrame.width,u[1]=n.destinationFrame.height,u[2]=n.sourceFrame.x,u[3]=n.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const l=e[e.length-1];if(this.renderer.framebuffer.blit(),r.length===1)r[0].apply(this,n.renderTexture,l.renderTexture,er.BLEND,n),this.returnFilterTexture(n.renderTexture);else{let u=n.renderTexture,c=this.getOptimalFilterTexture(u.width,u.height,n.resolution);c.filterFrame=u.filterFrame;let h=0;for(h=0;h<r.length-1;++h){h===1&&n.multisample>1&&(c=this.getOptimalFilterTexture(u.width,u.height,n.resolution),c.filterFrame=u.filterFrame),r[h].apply(this,u,c,er.CLEAR,n);const d=u;u=c,c=d}r[h].apply(this,u,l.renderTexture,er.BLEND,n),h>1&&n.multisample>1&&this.returnFilterTexture(n.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(c)}n.clear(),this.statePool.push(n)}bindAndClear(e,n=er.CLEAR){const{renderTexture:r,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e!=null&&e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,r.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(n===er.CLEAR||n===er.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,n,r,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(r,i),e.uniforms.uSampler=n,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(n._frame,n.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(or.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(or.TRIANGLE_STRIP))}calculateSpriteMatrix(e,n){const{sourceFrame:r,destinationFrame:i}=this.activeState,{orig:s}=n._texture,o=e.set(i.width,0,0,i.height,r.x,r.y),a=n.worldTransform.copyTo($e.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(n.anchor.x,n.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,n,r=1,i=Ye.NONE){return this.texturePool.getOptimalTexture(e,n,r,i)}getFilterTexture(e,n,r){if(typeof e=="number"){const s=e;e=n,n=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,n||e.resolution,r||Ye.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,n){const r=nc[0],i=nc[1],s=nc[2],o=nc[3];r.set(n.left,n.top),i.set(n.left,n.bottom),s.set(n.right,n.top),o.set(n.right,n.bottom),e.apply(r,r),e.apply(i,i),e.apply(s,s),e.apply(o,o);const a=Math.min(r.x,i.x,s.x,o.x),l=Math.min(r.y,i.y,s.y,o.y),u=Math.max(r.x,i.x,s.x,o.x),c=Math.max(r.y,i.y,s.y,o.y);n.x=a,n.y=l,n.width=u-a,n.height=c-l}roundFrame(e,n,r,i,s){if(!(e.width<=0||e.height<=0||r.width<=0||r.height<=0)){if(s){const{a:o,b:a,c:l,d:u}=s;if((Math.abs(a)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(u)>1e-4))return}s=s?fp.copyFrom(s):fp.identity(),s.translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(n),this.transformAABB(s.invert(),e)}}}pP.extension={type:Y.RendererSystem,name:"filter"};ee.add(pP);class Gse{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Ye.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const Wse=new he;class mP{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new Wg(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new he,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let n=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;q.PREFER_ENV===fs.WEBGL_LEGACY&&(n=null,r=null),n?e.drawBuffers=i=>n.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,n,r=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==r&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=r),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,r)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),n){const o=n.width>>r,a=n.height>>r,l=o/n.width;this.setViewport(n.x*l,n.y*l,o,a)}else{const o=e.width>>r,a=e.height>>r;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),n?this.setViewport(n.x,n.y,n.width,n.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,n,r,i){const s=this.viewport;e=Math.round(e),n=Math.round(n),r=Math.round(r),i=Math.round(i),(s.width!==r||s.height!==i||s.x!==e||s.y!==n)&&(s.x=e,s.y=n,s.width=r,s.height=i,this.gl.viewport(e,n,r,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,n,r,i,s=Rg.COLOR|Rg.DEPTH){const{gl:o}=this;o.clearColor(e,n,r,i),o.clear(s)}initFramebuffer(e){const{gl:n}=this,r=new Gse(n.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r}resizeFramebuffer(e){const{gl:n}=this,r=e.glFramebuffers[this.CONTEXT_UID];r.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,r.stencil),r.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height));const i=e.colorTextures;let s=i.length;n.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],l=a.parentTextureArray||a;this.renderer.texture.bind(l,0),o===0&&r.msaaBuffer&&(n.bindRenderbuffer(n.RENDERBUFFER,r.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,n){const{gl:r}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;r.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||r.createRenderbuffer():i.msaaBuffer&&(r.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let l=0;l<o;l++){const u=s[l],c=u.parentTextureArray||u;this.renderer.texture.bind(c,0),l===0&&i.msaaBuffer?(r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,i.msaaBuffer)):(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+l,u.target,c._glTextures[this.CONTEXT_UID].texture,n),a.push(r.COLOR_ATTACHMENT0+l))}if(a.length>1&&r.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const u=e.depthTexture;this.renderer.texture.bind(u,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,u._glTextures[this.CONTEXT_UID].texture,n)}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.stencil),i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,i.stencil)):i.stencil&&(r.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:n}=this;let r=Ye.NONE;if(e<=1||n===null)return r;for(let i=0;i<n.length;i++)if(n[i]<=e){r=n[i];break}return r===1&&(r=Ye.NONE),r}blit(e,n,r){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const l=i.glFramebuffers[a];if(!l)return;if(!e){if(!l.msaaBuffer)return;const c=i.colorTextures[0];if(!c)return;l.blitFramebuffer||(l.blitFramebuffer=new Wg(i.width,i.height),l.blitFramebuffer.addColorTexture(0,c)),e=l.blitFramebuffer,e.colorTextures[0]!==c&&(e.colorTextures[0]=c,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}n||(n=Wse,n.width=i.width,n.height=i.height),r||(r=n);const u=n.width===r.width&&n.height===r.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,l.framebuffer),o.blitFramebuffer(n.left,n.top,n.right,n.bottom,r.left,r.top,r.right,r.bottom,o.COLOR_BUFFER_BIT,u?o.NEAREST:o.LINEAR)}disposeFramebuffer(e,n){const r=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!r)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),n||(i.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&i.deleteRenderbuffer(r.msaaBuffer),r.stencil&&i.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&r.blitFramebuffer.dispose()}disposeAll(e){const n=this.managedFramebuffers;this.managedFramebuffers=[];for(let r=0;r<n.length;r++)this.disposeFramebuffer(n[r],e)}forceStencil(){const e=this.current;if(!e)return;const n=e.glFramebuffers[this.CONTEXT_UID];if(!n||n.stencil)return;e.stencil=!0;const r=e.width,i=e.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),n.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,n.multisample,s.DEPTH24_STENCIL8,r,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,r,i),n.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new he}destroy(){this.renderer=null}}mP.extension={type:Y.RendererSystem,name:"framebuffer"};ee.add(mP);const pp={5126:4,5123:2,5121:1};class gP{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,n=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,n.webGLVersion!==2){let r=this.renderer.context.extensions.vertexArrayObject;q.PREFER_ENV===fs.WEBGL_LEGACY&&(r=null),r?(e.createVertexArray=()=>r.createVertexArrayOES(),e.bindVertexArray=i=>r.bindVertexArrayOES(i),e.deleteVertexArray=i=>r.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(n.webGLVersion!==2){const r=e.getExtension("ANGLE_instanced_arrays");r?(e.vertexAttribDivisor=(i,s)=>r.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,a,l)=>r.drawElementsInstancedANGLE(i,s,o,a,l),e.drawArraysInstanced=(i,s,o,a)=>r.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=n.webGLVersion===2||!!n.extensions.uint32ElementIndex}bind(e,n){n=n||this.renderer.shader.shader;const{gl:r}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[n.program.id]||this.initGeometryVao(e,n,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?r.bindVertexArray(o):this.activateVao(e,n.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,n=this.renderer.buffer;for(let r=0;r<e.buffers.length;r++){const i=e.buffers[r];n.update(i)}}checkCompatibility(e,n){const r=e.attributes,i=n.attributeData;for(const s in i)if(!r[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,n){const r=e.attributes,i=n.attributeData,s=["g",e.id];for(const o in r)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,n,r=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=n.program;a.glPrograms[s]||this.renderer.shader.generateProgram(n),this.checkCompatibility(e,a);const l=this.getSignature(e,a),u=e.glVertexArrayObjects[this.CONTEXT_UID];let c=u[l];if(c)return u[a.id]=c,c;const h=e.buffers,d=e.attributes,f={},p={};for(const m in h)f[m]=0,p[m]=0;for(const m in d)!d[m].size&&a.attributeData[m]?d[m].size=a.attributeData[m].size:d[m].size||console.warn(`PIXI Geometry attribute '${m}' size cannot be determined (likely the bound shader does not have the attribute)`),f[d[m].buffer]+=d[m].size*pp[d[m].type];for(const m in d){const g=d[m],v=g.size;g.stride===void 0&&(f[g.buffer]===v*pp[g.type]?g.stride=0:g.stride=f[g.buffer]),g.start===void 0&&(g.start=p[g.buffer],p[g.buffer]+=v*pp[g.type])}c=i.createVertexArray(),i.bindVertexArray(c);for(let m=0;m<h.length;m++){const g=h[m];o.bind(g),r&&g._glBuffers[s].refCount++}return this.activateVao(e,a),u[a.id]=c,u[l]=c,i.bindVertexArray(null),o.unbind(cr.ARRAY_BUFFER),c}disposeGeometry(e,n){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const r=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!r){if(o)for(let l=0;l<s.length;l++){const u=s[l]._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,u.refCount===0&&!n&&o.dispose(s[l],n))}if(!n){for(const l in r)if(l[0]==="g"){const u=r[l];this._activeVao===u&&this.unbind(),i.deleteVertexArray(u)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const n=Object.keys(this.managedGeometries);for(let r=0;r<n.length;r++)this.disposeGeometry(this.managedGeometries[n[r]],e)}activateVao(e,n){const r=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let l=null;for(const u in a){const c=a[u],h=o[c.buffer],d=h._glBuffers[i];if(n.attributeData[u]){l!==d&&(s.bind(h),l=d);const f=n.attributeData[u].location;if(r.enableVertexAttribArray(f),r.vertexAttribPointer(f,c.size,c.type||r.FLOAT,c.normalized,c.stride,c.start),c.instance)if(this.hasInstance)r.vertexAttribDivisor(f,c.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,n,r,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,l=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,n||o.indexBuffer.data.length,l,(r||0)*a,i||1):s.drawElements(e,n||o.indexBuffer.data.length,l,(r||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,r,n||o.getSize(),i||1):s.drawArrays(e,r,n||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}gP.extension={type:Y.RendererSystem,name:"geometry"};ee.add(gP);const X_=new $e;class vP{constructor(e,n){this._texture=e,this.mapCoord=new $e,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof n>"u"?.5:n,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,n){n===void 0&&(n=e);const r=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];n[i]=s*r.a+o*r.c+r.tx,n[i+1]=s*r.b+o*r.d+r.ty}return n}update(e){const n=this._texture;if(!n||!n.valid||!e&&this._textureID===n._updateID)return!1;this._textureID=n._updateID,this._updateID++;const r=n._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const i=n.orig,s=n.trim;s&&(X_.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(X_));const o=n.baseTexture,a=this.uClampFrame,l=this.clampMargin/o.resolution,u=this.clampOffset;return a[0]=(n._frame.x+l+u)/o.width,a[1]=(n._frame.y+l+u)/o.height,a[2]=(n._frame.x+n._frame.width-l+u)/o.width,a[3]=(n._frame.y+n._frame.height-l+u)/o.height,this.uClampOffset[0]=u/o.realWidth,this.uClampOffset[1]=u/o.realHeight,this.isSimple=n._frame.width===o.width&&n._frame.height===o.height&&n.rotate===0,!0}}var Vse=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,Xse=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class Yse extends gt{constructor(e,n,r){let i=null;typeof e!="string"&&n===void 0&&r===void 0&&(i=e,e=void 0,n=void 0,r=void 0),super(e||Xse,n||Vse,r),this.maskSprite=i,this.maskMatrix=new $e}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,n,r,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new vP(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,n,r,i))}}class qse{constructor(e=null){this.type=it.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=gt.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=it.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class yP{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,n){let r=n;if(!r.isMaskData){const s=this.maskDataPool.pop()||new qse;s.pooled=!0,s.maskObject=n,r=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(i),r._colorMask=i?i._colorMask:15,r.autoDetect&&this.detect(r),r._target=e,r.type!==it.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case it.SCISSOR:this.renderer.scissor.push(r);break;case it.STENCIL:this.renderer.stencil.push(r);break;case it.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case it.COLOR:this.pushColorMask(r);break}r.type===it.SPRITE&&this.maskStack.push(r)}pop(e){const n=this.maskStack.pop();if(!(!n||n._target!==e)){if(n.enabled)switch(n.type){case it.SCISSOR:this.renderer.scissor.pop(n);break;case it.STENCIL:this.renderer.stencil.pop(n.maskObject);break;case it.SPRITE:this.popSpriteMask(n);break;case it.COLOR:this.popColorMask(n);break}if(n.reset(),n.pooled&&this.maskDataPool.push(n),this.maskStack.length!==0){const r=this.maskStack[this.maskStack.length-1];r.type===it.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}}detect(e){const n=e.maskObject;n?n.isSprite?e.type=it.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=it.SCISSOR:e.type=it.STENCIL:e.type=it.COLOR}pushSpriteMask(e){const{maskObject:n}=e,r=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new Yse]));const s=this.renderer,o=s.renderTexture;let a,l;if(o.current){const c=o.current;a=e.resolution||c.resolution,l=e.multisample??c.multisample}else a=e.resolution||s.resolution,l=e.multisample??s.multisample;i[0].resolution=a,i[0].multisample=l,i[0].maskSprite=n;const u=r.filterArea;r.filterArea=n.getBounds(!0),s.filter.push(r,i),r.filterArea=u,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const n=e._colorMask,r=e._colorMask=n&e.colorMask;r!==n&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}popColorMask(e){const n=e._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==n&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}destroy(){this.renderer=null}}yP.extension={type:Y.RendererSystem,name:"mask"};ee.add(yP);class bP{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:n}=this.renderer,r=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==r&&(i===0?n.disable(this.glConst):(n.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const Y_=new $e,q_=[],$c=class extends bP{constructor(t){super(t),this.glConst=q.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:n}=t,{renderer:r}=this,i=r.renderTexture,s=n.getBounds(!0,q_.pop()??new he);this.roundFrameToPixels(s,i.current?i.current.resolution:r.resolution,i.sourceFrame,i.destinationFrame,r.projection.transform),e&&s.fit(e),t._scissorRectLocal=s}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:n,c:r,d:i}=t;return(Math.abs(n)>1e-4||Math.abs(r)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||$c.isMatrixRotated(e.worldTransform)||$c.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const n=t._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(t,e,n,r,i){$c.isMatrixRotated(i)||(i=i?Y_.copyFrom(i):Y_.identity(),i.translate(-n.x,-n.y).scale(r.width/n.width,r.height/n.height).translate(r.x,r.y),this.renderer.filter.transformAABB(i,t),t.fit(r),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&q_.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};let xP=$c;xP.extension={type:Y.RendererSystem,name:"scissor"};ee.add(xP);class wP extends bP{constructor(e){super(e),this.glConst=q.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const n=e.maskObject,{gl:r}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,i,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,s!==0&&(e._colorMask=s,r.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const n=this.renderer.gl;if(this.getStackLength()===0)n.disable(n.STENCIL_TEST);else{const r=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=r?r._colorMask:15;i!==0&&(r._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilOp(n.KEEP,n.KEEP,n.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(r._colorMask=i,n.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}wP.extension={type:Y.RendererSystem,name:"stencil"};ee.add(wP);class _P{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return ve("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return ve("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return ve("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(e){for(const n in e)this.plugins[n]=new e[n](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}_P.extension={type:[Y.RendererSystem,Y.CanvasRendererSystem],name:"_plugin"};ee.add(_P);class EP{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new $e,this.transform=null}update(e,n,r,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=n||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,n,r,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/n.width*2,s.d=o*(1/n.height*2),s.tx=-1-n.x*s.a,s.ty=-o-n.y*s.d}setTransform(e){}destroy(){this.renderer=null}}EP.extension={type:Y.RendererSystem,name:"projection"};ee.add(EP);const Kse=new Jy;class SP{constructor(e){this.renderer=e,this._tempMatrix=new $e}generateTexture(e,n){const{region:r,...i}=n||{},s=r||e.getLocalBounds(null,!0);s.width===0&&(s.width=1),s.height===0&&(s.height=1);const o=gi.create({width:s.width,height:s.height,...i});this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const a=e.transform;return e.transform=Kse,this.renderer.render(e,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=a,o}destroy(){}}SP.extension={type:[Y.RendererSystem,Y.CanvasRendererSystem],name:"textureGenerator"};ee.add(SP);const Si=new he,Oa=new he;class CP{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new he,this.destinationFrame=new he,this.viewportFrame=new he}bind(e=null,n,r){const i=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,n||(Si.width=e.frame.width,Si.height=e.frame.height,n=Si),r||(Oa.x=e.frame.x,Oa.y=e.frame.y,Oa.width=n.width,Oa.height=n.height,r=Oa),o=s.framebuffer):(a=i.resolution,n||(Si.width=i._view.screen.width,Si.height=i._view.screen.height,n=Si),r||(r=Si,r.width=n.width,r.height=n.height));const l=this.viewportFrame;l.x=r.x*a,l.y=r.y*a,l.width=r.width*a,l.height=r.height*a,e||(l.y=i.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(o,l),this.renderer.projection.update(r,n,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(n),this.destinationFrame.copyFrom(r)}clear(e,n){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.renderer.background.colorRgba;const r=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer._view.screen,s=r.width!==i.width||r.height!==i.height;if(s){let{x:o,y:a,width:l,height:u}=this.viewportFrame;o=Math.round(o),a=Math.round(a),l=Math.round(l),u=Math.round(u),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(o,a,l,u)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],n),s&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}CP.extension={type:Y.RendererSystem,name:"renderTexture"};ee.add(CP);class Zse{constructor(e,n){this.program=e,this.uniformData=n,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function Qse(t,e){const n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=sP(e,s.type),a={type:o,name:s.name,size:iP(o),location:e.getAttribLocation(t,s.name)};n[s.name]=a}return n}function Jse(t,e){const n={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),l=sP(e,s.type);n[o]={name:o,index:i,type:l,size:s.size,isArray:a,value:nP(l,s.size)}}return n}function eoe(t,e){var l;const n=j_(t,t.VERTEX_SHADER,e.vertexSrc),r=j_(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,n),t.attachShader(i,r);const s=(l=e.extra)==null?void 0:l.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||Ose(t,i,n,r),e.attributeData=Qse(i,t),e.uniformData=Jse(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const u=Object.keys(e.attributeData);u.sort((c,h)=>c>h?1:-1);for(let c=0;c<u.length;c++)e.attributeData[u[c]].location=c,t.bindAttribLocation(i,c,u[c]);t.linkProgram(i)}t.deleteShader(n),t.deleteShader(r);const o={};for(const u in e.uniformData){const c=e.uniformData[u];o[u]={location:t.getUniformLocation(i,u),value:nP(c.type,c.size)}}return new Zse(i,o)}function toe(t,e,n,r,i){n.buffer.update(i)}const noe={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},TP={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function roe(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let n=0,r=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(n=TP[o.data.type],o.data.size>1&&(n=Math.max(n,16)*o.data.size),o.dataLen=n,r%n!==0&&r<16){const a=r%n%16;r+=a,i+=a}r+n>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=n,r=n):(o.offset=i,r+=n,i+=n)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function ioe(t,e){const n=[];for(const r in t)e[r]&&n.push(e[r]);return n.sort((r,i)=>r.index-i.index),n}function soe(t,e){if(!t.autoManage)return{size:0,syncFunc:toe};const n=ioe(t.uniforms,e),{uboElements:r,size:i}=roe(n),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<r.length;o++){const a=r[o],l=t.uniforms[a.data.name],u=a.data.name;let c=!1;for(let h=0;h<_o.length;h++){const d=_o[h];if(d.codeUbo&&d.test(a.data,l)){s.push(`offset = ${a.offset/4};`,_o[h].codeUbo(a.data.name,l)),c=!0;break}}if(!c)if(a.data.size>1){const h=iP(a.data.type),d=Math.max(TP[a.data.type]/16,1),f=h/d,p=(4-f%4)%4;s.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*d}; i++)
                {
                    for(var j = 0; j < ${f}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${p};
                }

                `)}else{const h=noe[a.data.type];s.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${a.offset/4};
                ${h};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let ooe=0;const rc={textureCount:0,uboCount:0};class AP{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=ooe++}systemCheck(){if(!Ise())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,n){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const r=e.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),n||(rc.textureCount=0,rc.uboCount=0,this.syncUniformGroup(e.uniformGroup,rc)),i}setUniforms(e){const n=this.shader.program,r=n.glPrograms[this.renderer.CONTEXT_UID];n.syncUniforms(r.uniformData,e,this.renderer)}syncUniformGroup(e,n){const r=this.getGlProgram();(!e.static||e.dirtyId!==r.uniformDirtyGroups[e.id])&&(r.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,n))}syncUniforms(e,n,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(n.uniformData,e.uniforms,this.renderer,r)}createSyncGroups(e){const n=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[n]||(this.cache[n]=Tse(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[n],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,n){const r=this.getGlProgram();if(!e.static||e.dirtyId!==0||!r.uniformGroups[e.id]){e.dirtyId=0;const i=r.uniformGroups[e.id]||this.createSyncBufferGroup(e,r,n);e.buffer.update(),i(r.uniformData,e.uniforms,this.renderer,rc,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,r.uniformBufferBindings[n])}createSyncBufferGroup(e,n,r){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(n.program,r);n.uniformBufferBindings[r]=this.shader.uniformBindCount,i.uniformBlockBinding(n.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=soe(e,this.shader.program.uniformData)),e.autoManage){const l=new Float32Array(a.size/4);e.buffer.update(l)}return n.uniformGroups[e.id]=a.syncFunc,n.uniformGroups[e.id]}getSignature(e,n,r){const i=e.uniforms,s=[`${r}-`];for(const o in i)s.push(o),n[o]&&s.push(n[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const n=this.gl,r=e.program,i=eoe(n,r);return r.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}AP.extension={type:Y.RendererSystem,name:"shader"};ee.add(AP);class PP{constructor(e){this.renderer=e}run(e){const n=this.renderer;n.emitWithCustomOptions(n.runners.init,e),e.hello&&console.log(`PixiJS 7.1.4 - ${n.rendererLogId} - https://pixijs.com`),n.resize(this.renderer.screen.width,this.renderer.screen.height)}destroy(){}}PP.extension={type:[Y.RendererSystem,Y.CanvasRendererSystem],name:"startup"};ee.add(PP);function aoe(t,e=[]){return e[se.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[se.ADD]=[t.ONE,t.ONE],e[se.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[se.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[se.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[se.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[se.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[se.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[se.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[se.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[se.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[se.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[se.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[se.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[se.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[se.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[se.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[se.NONE]=[0,0],e[se.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[se.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[se.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[se.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[se.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[se.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[se.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[se.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[se.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[se.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[se.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[se.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const loe=0,uoe=1,coe=2,hoe=3,doe=4,foe=5,Vg=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=se.NONE,this._blendEq=!1,this.map=[],this.map[loe]=this.setBlend,this.map[uoe]=this.setOffset,this.map[coe]=this.setCullFace,this.map[hoe]=this.setDepthTest,this.map[doe]=this.setFrontFace,this.map[foe]=this.setDepthMask,this.checks=[],this.defaultState=new Lr,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=aoe(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,n=0;for(;e;)e&1&&this.map[n].call(this,!!(t.data&1<<n)),e=e>>1,n++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(Vg.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(Vg.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],n=this.gl;e.length===2?n.blendFunc(e[0],e[1]):n.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,n.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const n=this.checks.indexOf(t);e&&n===-1?this.checks.push(t):!e&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let OP=Vg;OP.extension={type:Y.RendererSystem,name:"state"};ee.add(OP);class poe extends ts{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const n=(e.priority??[]).filter(i=>e.systems[i]),r=[...n,...Object.keys(e.systems).filter(i=>!n.includes(i))];for(const i of r)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(n=>{this.runners[n]=new Hn(n)})}addSystem(e,n){const r=new e(this);if(this[n])throw new Error(`Whoops! The name "${n}" is already in use`);this[n]=r,this._systemsHash[n]=r;for(const i in this.runners)this.runners[i].add(r);return this}emitWithCustomOptions(e,n){const r=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=r.find(o=>this._systemsHash[o]===i);i[e.name](n[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const Bc=class{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=Bc.defaultMaxIdle,this.checkCountMax=Bc.defaultCheckCountMax,this.mode=Bc.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==qy.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let n=!1;for(let r=0;r<e.length;r++){const i=e[r];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[r]=null,n=!0)}if(n){let r=0;for(let i=0;i<e.length;i++)e[i]!==null&&(e[r++]=e[i]);e.length=r}}unload(t){const e=this.renderer.texture,n=t._texture;n&&!n.framebuffer&&e.destroyTexture(n);for(let r=t.children.length-1;r>=0;r--)this.unload(t.children[r])}destroy(){this.renderer=null}};let $n=Bc;$n.defaultMode=qy.AUTO;$n.defaultMaxIdle=60*60;$n.defaultCheckCountMax=60*10;$n.extension={type:Y.RendererSystem,name:"textureGC"};ee.add($n);class mp{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=te.UNSIGNED_BYTE,this.internalFormat=W.RGBA,this.samplerType=0}}function moe(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[te.UNSIGNED_BYTE]:{[W.RGBA]:t.RGBA8,[W.RGB]:t.RGB8,[W.RG]:t.RG8,[W.RED]:t.R8,[W.RGBA_INTEGER]:t.RGBA8UI,[W.RGB_INTEGER]:t.RGB8UI,[W.RG_INTEGER]:t.RG8UI,[W.RED_INTEGER]:t.R8UI,[W.ALPHA]:t.ALPHA,[W.LUMINANCE]:t.LUMINANCE,[W.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[te.BYTE]:{[W.RGBA]:t.RGBA8_SNORM,[W.RGB]:t.RGB8_SNORM,[W.RG]:t.RG8_SNORM,[W.RED]:t.R8_SNORM,[W.RGBA_INTEGER]:t.RGBA8I,[W.RGB_INTEGER]:t.RGB8I,[W.RG_INTEGER]:t.RG8I,[W.RED_INTEGER]:t.R8I},[te.UNSIGNED_SHORT]:{[W.RGBA_INTEGER]:t.RGBA16UI,[W.RGB_INTEGER]:t.RGB16UI,[W.RG_INTEGER]:t.RG16UI,[W.RED_INTEGER]:t.R16UI,[W.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[te.SHORT]:{[W.RGBA_INTEGER]:t.RGBA16I,[W.RGB_INTEGER]:t.RGB16I,[W.RG_INTEGER]:t.RG16I,[W.RED_INTEGER]:t.R16I},[te.UNSIGNED_INT]:{[W.RGBA_INTEGER]:t.RGBA32UI,[W.RGB_INTEGER]:t.RGB32UI,[W.RG_INTEGER]:t.RG32UI,[W.RED_INTEGER]:t.R32UI,[W.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[te.INT]:{[W.RGBA_INTEGER]:t.RGBA32I,[W.RGB_INTEGER]:t.RGB32I,[W.RG_INTEGER]:t.RG32I,[W.RED_INTEGER]:t.R32I},[te.FLOAT]:{[W.RGBA]:t.RGBA32F,[W.RGB]:t.RGB32F,[W.RG]:t.RG32F,[W.RED]:t.R32F,[W.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[te.HALF_FLOAT]:{[W.RGBA]:t.RGBA16F,[W.RGB]:t.RGB16F,[W.RG]:t.RG16F,[W.RED]:t.R16F},[te.UNSIGNED_SHORT_5_6_5]:{[W.RGB]:t.RGB565},[te.UNSIGNED_SHORT_4_4_4_4]:{[W.RGBA]:t.RGBA4},[te.UNSIGNED_SHORT_5_5_5_1]:{[W.RGBA]:t.RGB5_A1},[te.UNSIGNED_INT_2_10_10_10_REV]:{[W.RGBA]:t.RGB10_A2,[W.RGBA_INTEGER]:t.RGB10_A2UI},[te.UNSIGNED_INT_10F_11F_11F_REV]:{[W.RGB]:t.R11F_G11F_B10F},[te.UNSIGNED_INT_5_9_9_9_REV]:{[W.RGB]:t.RGB9_E5},[te.UNSIGNED_INT_24_8]:{[W.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[te.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[W.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[te.UNSIGNED_BYTE]:{[W.RGBA]:t.RGBA,[W.RGB]:t.RGB,[W.ALPHA]:t.ALPHA,[W.LUMINANCE]:t.LUMINANCE,[W.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[te.UNSIGNED_SHORT_5_6_5]:{[W.RGB]:t.RGB},[te.UNSIGNED_SHORT_4_4_4_4]:{[W.RGBA]:t.RGBA},[te.UNSIGNED_SHORT_5_5_5_1]:{[W.RGBA]:t.RGBA}},e}class RP{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new ce,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=moe(e);const n=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=n;for(let i=0;i<n;i++)this.boundTextures[i]=null;this.emptyTextures={};const r=new mp(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new mp(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,n=0){const{gl:r}=this;if(e=e==null?void 0:e.castToBaseTexture(),e!=null&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[n]!==e&&(this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),r.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[n]=e}else this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[n]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:n,boundTextures:r}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<r.length;i++)r[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<r.length;i++)r[i]===e&&(this.currentLocation!==i&&(n.activeTexture(n.TEXTURE0+i),this.currentLocation=i),n.bindTexture(e.target,this.emptyTextures[e.target].texture),r[i]=null)}ensureSamplerType(e){const{boundTextures:n,hasIntegerTextures:r,CONTEXT_UID:i}=this;if(r)for(let s=e-1;s>=0;--s){const o=n[s];o&&o._glTextures[i].samplerType!==Ig.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const n=new mp(this.gl.createTexture());return n.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=n,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),n}initTextureType(e,n){var r;n.internalFormat=((r=this.internalFormats[e.type])==null?void 0:r[e.format])??e.format,this.webGLVersion===2&&e.type===te.HALF_FLOAT?n.type=this.gl.HALF_FLOAT:n.type=e.type}updateTexture(e){var i;const n=e._glTextures[this.CONTEXT_UID];if(!n)return;const r=this.renderer;if(this.initTextureType(e,n),(i=e.resource)!=null&&i.upload(r,e,n))n.samplerType!==Ig.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=r.gl;(n.width!==s||n.height!==o||n.dirtyId<0)&&(n.width=s,n.height=o,a.texImage2D(e.target,0,n.internalFormat,s,o,0,e.format,n.type,null))}e.dirtyStyleId!==n.dirtyStyleId&&this.updateTextureStyle(e),n.dirtyId=e.dirtyId}destroyTexture(e,n){const{gl:r}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!n)){const i=this.managedTextures.indexOf(e);i!==-1&&xo(this.managedTextures,i,1)}}updateTextureStyle(e){var r;const n=e._glTextures[this.CONTEXT_UID];n&&((e.mipmap===dr.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?n.mipmap=!1:n.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?n.wrapMode=ui.CLAMP:n.wrapMode=e.wrapMode,(r=e.resource)!=null&&r.style(this.renderer,e,n)||this.setStyle(e,n),n.dirtyStyleId=e.dirtyStyleId)}setStyle(e,n){const r=this.gl;if(n.mipmap&&e.mipmap!==dr.ON_MANUAL&&r.generateMipmap(e.target),r.texParameteri(e.target,r.TEXTURE_WRAP_S,n.wrapMode),r.texParameteri(e.target,r.TEXTURE_WRAP_T,n.wrapMode),n.mipmap){r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===_r.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===_r.LINEAR){const s=Math.min(e.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===_r.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(e.target,r.TEXTURE_MAG_FILTER,e.scaleMode===_r.LINEAR?r.LINEAR:r.NEAREST)}destroy(){this.renderer=null}}RP.extension={type:Y.RendererSystem,name:"texture"};ee.add(RP);class IP{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glTransformFeedbacks[r]||this.createGLTransformFeedback(e);n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,n){const{gl:r,renderer:i}=this;n&&i.shader.bind(n),r.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:n,renderer:r,CONTEXT_UID:i}=this,s=n.createTransformFeedback();e._glTransformFeedbacks[i]=s,n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(r.buffer.update(a),a._glBuffers[i].refCount++,n.bindBufferBase(n.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,n){const r=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const l=a._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!n&&s.dispose(a,n))}r&&(n||i.deleteTransformFeedback(r),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}IP.extension={type:Y.RendererSystem,name:"transformFeedback"};ee.add(IP);class kP{constructor(e){this.renderer=e}init(e){this.screen=new he(0,0,e.width,e.height),this.element=e.view||q.ADAPTER.createCanvas(),this.resolution=e.resolution||q.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,n){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(n*this.resolution);const r=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=r,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${r}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",r,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var n;e&&((n=this.element.parentNode)==null||n.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}kP.extension={type:[Y.RendererSystem,Y.CanvasRendererSystem],name:"_view"};ee.add(kP);q.PREFER_ENV=fs.WEBGL2;q.STRICT_TEXTURE_CACHE=!1;Object.defineProperties(q,{WRAP_MODE:{get(){return ce.defaultOptions.wrapMode},set(t){ve("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),ce.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return ce.defaultOptions.scaleMode},set(t){ve("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),ce.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return ce.defaultOptions.mipmap},set(t){ve("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),ce.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return ce.defaultOptions.anisotropicLevel},set(t){ve("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),ce.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return ve("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),gt.defaultResolution},set(t){gt.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return ve("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),gt.defaultMultisample},set(t){gt.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return Fn.defaultMaxTextures},set(t){ve("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Fn.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return Fn.defaultBatchSize},set(t){ve("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Fn.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return Fn.canUploadSameBuffer},set(t){ve("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Fn.canUploadSameBuffer=t}},GC_MODE:{get(){return $n.defaultMode},set(t){ve("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),$n.defaultMode=t}},GC_MAX_IDLE:{get(){return $n.defaultMaxIdle},set(t){ve("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),$n.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return $n.defaultCheckCountMax},set(t){ve("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),$n.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return Nn.defaultVertexPrecision},set(t){ve("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Nn.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return Nn.defaultFragmentPrecision},set(t){ve("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Nn.defaultFragmentPrecision=t}}});var Uo=(t=>(t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(Uo||{});class gp{constructor(e,n=null,r=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=n,this.priority=r,this.once=i}match(e,n=null){return this.fn===e&&this.context===n}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const n=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),n}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const n=this.next;return this.next=e?null:n,this.previous=null,n}}const Vt=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new gp(null,null,1/0),this.deltaMS=1/Vt.targetFPMS,this.elapsedMS=1/Vt.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,n=Uo.NORMAL){return this._addListener(new gp(t,e,n))}addOnce(t,e,n=Uo.NORMAL){return this._addListener(new gp(t,e,n,!0))}_addListener(t){let e=this._head.next,n=this._head;if(!e)t.connect(n);else{for(;e;){if(t.priority>e.priority){t.connect(n);break}n=e,e=e.next}t.previous||t.connect(n)}return this._startIfPossible(),this}remove(t,e){let n=this._head.next;for(;n;)n.match(t,e)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*Vt.targetFPMS;const n=this._head;let r=n.next;for(;r;)r=r.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,e)/1e3,Vt.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!Vt._shared){const t=Vt._shared=new Vt;t.autoStart=!0,t._protected=!0}return Vt._shared}static get system(){if(!Vt._system){const t=Vt._system=new Vt;t.autoStart=!0,t._protected=!0}return Vt._system}};let Tt=Vt;Tt.targetFPMS=.06;Object.defineProperties(q,{TARGET_FPMS:{get(){return Tt.targetFPMS},set(t){ve("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Tt.targetFPMS=t}}});class MP{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,Uo.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Tt.shared:new Tt,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}MP.extension=Y.Application;ee.add(MP);const DP=[];ee.handleByList(Y.Renderer,DP);function goe(t){for(const e of DP)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var voe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,yoe=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const boe=voe,FP=yoe;class $P{constructor(e){this.renderer=e}contextChange(e){let n;if(this.renderer.context.webGLVersion===1){const r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else{const r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r)}n>=Ye.HIGH?this.multisample=Ye.HIGH:n>=Ye.MEDIUM?this.multisample=Ye.MEDIUM:n>=Ye.LOW?this.multisample=Ye.LOW:this.multisample=Ye.NONE}destroy(){}}$P.extension={type:Y.RendererSystem,name:"_multisample"};ee.add($P);class xoe{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class BP{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);n.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:n}=this;n.bindBuffer(e,null)}bindBufferBase(e,n){const{gl:r,CONTEXT_UID:i}=this;if(this.boundBufferBases[n]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[n]=e,r.bindBufferBase(r.UNIFORM_BUFFER,n,s.buffer)}}bindBufferRange(e,n,r){const{gl:i,CONTEXT_UID:s}=this;r=r||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,n||0,o.buffer,r*256,256)}update(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,n.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)n.bufferSubData(e.type,0,e.data);else{const s=e.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,n.bufferData(e.type,e.data,s)}}dispose(e,n){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const r=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),r&&(n||i.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const n=Object.keys(this.managedBuffers);for(let r=0;r<n.length;r++)this.dispose(this.managedBuffers[n[r]],e)}createGLBuffer(e){const{CONTEXT_UID:n,gl:r}=this;return e._glBuffers[n]=new xoe(r.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[n]}}BP.extension={type:Y.RendererSystem,name:"buffer"};ee.add(BP);class NP{constructor(e){this.renderer=e}render(e,n){const r=this.renderer;let i,s,o,a;if(n&&(i=n.renderTexture,s=n.clear,o=n.transform,a=n.skipUpdateTransform),this.renderingToScreen=!i,r.runners.prerender.emit(),r.emit("prerender"),r.projection.transform=o,!r.context.isLost){if(i||(this.lastObjectRendered=e),!a){const l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}r.renderTexture.bind(i),r.batch.currentRenderer.start(),(s??r.background.clearBeforeRender)&&r.renderTexture.clear(),e.render(r),r.batch.currentRenderer.flush(),i&&(n.blit&&r.framebuffer.blit(),i.baseTexture.update()),r.runners.postrender.emit(),r.projection.transform=null,r.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}NP.extension={type:Y.RendererSystem,name:"objectRenderer"};ee.add(NP);const Xg=class extends poe{constructor(t){super(),this.type=zA.WEBGL,t=Object.assign({},q.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Gn({projectionMatrix:new $e},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:Xg.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(ve("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha);const n={hello:t.hello,_plugin:Xg.__plugins,background:{alpha:t.backgroundAlpha,color:t.background??t.backgroundColor,clearBeforeRender:t.clearBeforeRender},_view:{height:t.height,width:t.width,autoDensity:t.autoDensity,resolution:t.resolution,view:t.view},context:{antialias:t.antialias,context:t.context,powerPreference:t.powerPreference,premultipliedAlpha:t.premultipliedAlpha,preserveDrawingBuffer:t.preserveDrawingBuffer}};this.options=t,this.startup.run(n)}static test(t){return t!=null&&t.forceCanvas?!1:mne()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return ve("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return ve("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return ve("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return ve("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){ve("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return ve("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.color}set backgroundAlpha(t){ve("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return ve("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};let aa=Xg;aa.extension={type:Y.Renderer,priority:1};aa.__plugins={};aa.__systems={};ee.handleByMap(Y.RendererPlugin,aa.__plugins);ee.handleByMap(Y.RendererSystem,aa.__systems);ee.add(aa);class LP extends Nl{constructor(e,n){const{width:r,height:i}=n||{};super(r,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new ce;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,n){for(let r=0;r<this.length;r++)e[r]&&(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof Nl?this.addResourceAt(e[r],r):this.addResourceAt(QA(e[r],n),r))}dispose(){for(let e=0,n=this.length;e<n;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,n){if(!this.items[n])throw new Error(`Index ${n} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[n].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let n=0;n<this.length;n++)this.items[n].parentTextureArray=e,this.items[n].on("update",e.update,e)}unbind(e){super.unbind(e);for(let n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",e.update,e)}load(){if(this._load)return this._load;const n=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(n).then(()=>{const{realWidth:r,realHeight:i}=this.items[0];return this.resize(r,i),Promise.resolve(this)}),this._load}}class woe extends LP{constructor(e,n){const{width:r,height:i}=n||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:r,height:i}),s&&this.initFromArray(s,n)}addBaseTextureAt(e,n){if(e.resource)this.addResourceAt(e.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=yo.TEXTURE_2D_ARRAY}upload(e,n,r){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=e;r.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,i,0,n.format,r.type,null);for(let l=0;l<i;l++){const u=o[l];s[l]<u.dirtyId&&(s[l]=u.dirtyId,u.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,l,u.resource.width,u.resource.height,1,n.format,r.type,u.resource.source))}return!0}}class _oe extends mi{constructor(e){super(e)}static test(e){const{OffscreenCanvas:n}=globalThis;return n&&e instanceof n?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const Wa=class extends LP{constructor(t,e){const{width:n,height:r,autoLoad:i,linkBaseTexture:s}=e||{};if(t&&t.length!==Wa.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:n,height:r});for(let o=0;o<Wa.SIDES;o++)this.items[o].target=yo.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=s!==!1,t&&this.initFromArray(t,e),i!==!1&&this.load()}bind(t){super.bind(t),t.target=yo.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=yo.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,n){const r=this.itemDirtyIds;for(let i=0;i<Wa.SIDES;i++){const s=this.items[i];(r[i]<s.dirtyId||n.dirtyId<e.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(t,s,n),r[i]=s.dirtyId):r[i]<-1&&(t.gl.texImage2D(s.target,0,n.internalFormat,e.realWidth,e.realHeight,0,e.format,n.type,null),r[i]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===Wa.SIDES}};let UP=Wa;UP.SIDES=6;class so extends mi{constructor(e,n){n=n||{};let r,i;typeof e=="string"?(r=so.EMPTY,i=e):(r=e,i=null),super(r),this.url=i,this.crossOrigin=n.crossOrigin??!0,this.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,this._load=null,n.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,n)=>{if(this.url===null){e(this);return}try{const r=await q.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await r.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Yn.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),e(this)}catch(r){if(this.destroyed)return;n(r),this.onError.emit(r)}}),this._load)}upload(e,n,r){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),super.upload(e,n,r)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return so._EMPTY=so._EMPTY??q.ADAPTER.createCanvas(0,0),so._EMPTY}}const Nc=class extends mi{constructor(t,e){e=e||{},super(q.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),t(this)},Nc.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;mi.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,n=t.height;if(!e||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let r=e*this.scale,i=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(r=this._overrideWidth||this._overrideHeight/n*e,i=this._overrideHeight||this._overrideWidth/e*n),r=Math.round(r),i=Math.round(i);const s=this.source;s.width=r,s.height=i,s._pixiId=`canvas_${rs()}`,s.getContext("2d").drawImage(t,0,0,e,n,0,0,r,i),this._resolve(),this._resolve=null}}static getSize(t){const e=Nc.SVG_SIZE.exec(t),n={};return e&&(n[e[1]]=Math.round(parseFloat(e[3])),n[e[5]]=Math.round(parseFloat(e[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&Nc.SVG_XML.test(t)}};let Ul=Nc;Ul.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;Ul.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const Yg=class extends mi{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const n=document.createElement("video");n.setAttribute("preload","auto"),n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);const r=t[0].src||t[0];mi.crossOrigin(n,r,e.crossorigin);for(let i=0;i<t.length;++i){const s=document.createElement("source");let{src:o,mime:a}=t[i];o=o||t[i];const l=o.split("?").shift().toLowerCase(),u=l.slice(l.lastIndexOf(".")+1);a=a||Yg.MIME_TYPES[u]||`video/${u}`,s.src=o,s.type=a,n.appendChild(s)}t=n}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){const e=Tt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Tt.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(Tt.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._isConnectedToTicker&&(Tt.shared.remove(this.update,this),this._isConnectedToTicker=!1);const t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Tt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Tt.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t)}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||Yg.TYPES.includes(e)}};let e1=Yg;e1.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];e1.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};jg.push(so,cP,_oe,e1,Ul,hu,UP,woe);class Lh{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?he.EMPTY:(e=e||new he(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,n){const{a:r,b:i,c:s,d:o,tx:a,ty:l}=e,u=r*n.x+s*n.y+a,c=i*n.x+o*n.y+l;this.minX=Math.min(this.minX,u),this.maxX=Math.max(this.maxX,u),this.minY=Math.min(this.minY,c),this.maxY=Math.max(this.maxY,c)}addQuad(e){let n=this.minX,r=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,this.minX=n,this.minY=r,this.maxX=i,this.maxY=s}addFrame(e,n,r,i,s){this.addFrameMatrix(e.worldTransform,n,r,i,s)}addFrameMatrix(e,n,r,i,s){const o=e.a,a=e.b,l=e.c,u=e.d,c=e.tx,h=e.ty;let d=this.minX,f=this.minY,p=this.maxX,m=this.maxY,g=o*n+l*r+c,v=a*n+u*r+h;d=g<d?g:d,f=v<f?v:f,p=g>p?g:p,m=v>m?v:m,g=o*i+l*r+c,v=a*i+u*r+h,d=g<d?g:d,f=v<f?v:f,p=g>p?g:p,m=v>m?v:m,g=o*n+l*s+c,v=a*n+u*s+h,d=g<d?g:d,f=v<f?v:f,p=g>p?g:p,m=v>m?v:m,g=o*i+l*s+c,v=a*i+u*s+h,d=g<d?g:d,f=v<f?v:f,p=g>p?g:p,m=v>m?v:m,this.minX=d,this.minY=f,this.maxX=p,this.maxY=m}addVertexData(e,n,r){let i=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let l=n;l<r;l+=2){const u=e[l],c=e[l+1];i=u<i?u:i,s=c<s?c:s,o=u>o?u:o,a=c>a?c:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,n,r,i){this.addVerticesMatrix(e.worldTransform,n,r,i)}addVerticesMatrix(e,n,r,i,s=0,o=s){const a=e.a,l=e.b,u=e.c,c=e.d,h=e.tx,d=e.ty;let f=this.minX,p=this.minY,m=this.maxX,g=this.maxY;for(let v=r;v<i;v+=2){const y=n[v],b=n[v+1],x=a*y+u*b+h,E=c*b+l*y+d;f=Math.min(f,x-s),m=Math.max(m,x+s),p=Math.min(p,E-o),g=Math.max(g,E+o)}this.minX=f,this.minY=p,this.maxX=m,this.maxY=g}addBounds(e){const n=this.minX,r=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<n?e.minX:n,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,n){const r=e.minX>n.minX?e.minX:n.minX,i=e.minY>n.minY?e.minY:n.minY,s=e.maxX<n.maxX?e.maxX:n.maxX,o=e.maxY<n.maxY?e.maxY:n.maxY;if(r<=s&&i<=o){const a=this.minX,l=this.minY,u=this.maxX,c=this.maxY;this.minX=r<a?r:a,this.minY=i<l?i:l,this.maxX=s>u?s:u,this.maxY=o>c?o:c}}addBoundsMatrix(e,n){this.addFrameMatrix(n,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,n){const r=e.minX>n.x?e.minX:n.x,i=e.minY>n.y?e.minY:n.y,s=e.maxX<n.x+n.width?e.maxX:n.x+n.width,o=e.maxY<n.y+n.height?e.maxY:n.y+n.height;if(r<=s&&i<=o){const a=this.minX,l=this.minY,u=this.maxX,c=this.maxY;this.minX=r<a?r:a,this.minY=i<l?i:l,this.maxX=s>u?s:u,this.maxY=o>c?o:c}}pad(e=0,n=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=n,this.maxY+=n)}addFramePad(e,n,r,i,s,o){e-=s,n-=o,r+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<n?this.minY:n,this.maxY=this.maxY>i?this.maxY:i}}class He extends ts{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Jy,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Lh,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const n=Object.keys(e);for(let r=0;r<n.length;++r){const i=n[r];Object.defineProperty(He.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,n){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new he),n=this._boundsRect),this._bounds.getRectangle(n)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new he),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Lh);const n=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=r,this.transform=n,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,n,r=!1){return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,n)}toLocal(e,n,r,i){return n&&(e=n.toGlobal(e,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,n=0,r=1,i=1,s=0,o=0,a=0,l=0,u=0){return this.position.x=e,this.position.y=n,this.scale.x=r||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=l,this.pivot.y=u,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new Eoe),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*bse}set angle(e){this.transform.rotation=e*xse}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1))}if(this._mask=e,this._mask){const n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++)}}}}class Eoe extends He{constructor(){super(...arguments),this.sortDirty=null}}He.prototype.displayObjectUpdateTransform=He.prototype.updateTransform;const Soe=new $e;function Coe(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const qg=class extends He{constructor(){super(),this.children=[],this.sortableChildren=qg.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const n=this.getChildIndex(t),r=this.getChildIndex(e);this.children[n]=e,this.children[r]=t,this.onChildrenChange(n<r?n:r)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(t);xo(this.children,n,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],n=this.children.indexOf(e);if(n===-1)return null;e.parent=null,e.transform._parentID=-1,xo(this.children,n,1),this._boundsID++,this.onChildrenChange(n),e.emit("removed",this),this.emit("childRemoved",e,this,n)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,xo(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const n=t,r=e,i=r-n;let s;if(i>0&&i<=r){s=this.children.splice(n,i);for(let o=0;o<s.length;++o)s[o].parent=null,s[o].transform&&(s[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let o=0;o<s.length;++o)s[o].emit("removed",this),this.emit("childRemoved",s[o],this,o);return s}else if(i===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,n=this.children.length;e<n;++e){const r=this.children[e];r._lastSortedIndex=e,!t&&r.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(Coe),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const n=this.children[t];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const n=e._mask.isMaskData?e._mask.maskObject:e._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(e._bounds,n._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const n=super.getLocalBounds(t);if(!e)for(let r=0,i=this.children.length;r<i;++r){const s=this.children[r];s.visible&&s.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let n,r;this.cullArea?(n=this.cullArea,r=this.worldTransform):this._render!==qg.prototype._render&&(n=this.getBounds(!0));const i=t.projection.transform;if(i&&(r?(r=Soe.copyFrom(r),r.prepend(i)):r=i),n&&e.intersects(n,r))this._render(t);else if(this.cullArea)return;for(let s=0,o=this.children.length;s<o;++s){const a=this.children[s],l=a.cullable;a.cullable=l||!this.cullArea,a.render(t),a.cullable=l}}render(t){var e;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(e=this.filters)!=null&&e.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let n=0,r=this.children.length;n<r;++n)this.children[n].render(t)}}renderAdvanced(t){var i,s,o;const e=this.filters,n=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let a=0;a<e.length;a++)e[a].enabled&&this._enabledFilters.push(e[a])}const r=e&&((i=this._enabledFilters)==null?void 0:i.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==it.NONE));if(r&&t.batch.flush(),e&&((s=this._enabledFilters)!=null&&s.length)&&t.filter.push(this,this._enabledFilters),n&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let a=0,l=this.children.length;a<l;++a)this.children[a].render(t)}r&&t.batch.flush(),n&&t.mask.pop(this),e&&((o=this._enabledFilters)!=null&&o.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t==null?void 0:t.children,n=this.removeChildren(0,this.children.length);if(e)for(let r=0;r<n.length;++r)n[r].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};let on=qg;on.defaultSortableChildren=!1;on.prototype.containerUpdateTransform=on.prototype.updateTransform;Object.defineProperties(q,{SORTABLE_CHILDREN:{get(){return on.defaultSortableChildren},set(t){ve("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),on.defaultSortableChildren=t}}});const Ra=new re,Toe=new Uint16Array([0,1,2,0,2,3]);class du extends on{constructor(e){super(),this._anchor=new Qr(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=se.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||J.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=Toe,this.pluginName="batch",this.isSprite=!0,this._roundPixels=q.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=io(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=io(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const n=this.transform.worldTransform,r=n.a,i=n.b,s=n.c,o=n.d,a=n.tx,l=n.ty,u=this.vertexData,c=e.trim,h=e.orig,d=this._anchor;let f=0,p=0,m=0,g=0;if(c?(p=c.x-d._x*h.width,f=p+c.width,g=c.y-d._y*h.height,m=g+c.height):(p=-d._x*h.width,f=p+h.width,g=-d._y*h.height,m=g+h.height),u[0]=r*p+s*g+a,u[1]=o*g+i*p+l,u[2]=r*f+s*g+a,u[3]=o*g+i*f+l,u[4]=r*f+s*m+a,u[5]=o*m+i*f+l,u[6]=r*p+s*m+a,u[7]=o*m+i*p+l,this._roundPixels){const v=q.RESOLUTION;for(let y=0;y<u.length;++y)u[y]=Math.round(u[y]*v)/v}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,n=this.vertexTrimmedData,r=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,l=s.c,u=s.d,c=s.tx,h=s.ty,d=-i._x*r.width,f=d+r.width,p=-i._y*r.height,m=p+r.height;n[0]=o*d+l*p+c,n[1]=u*p+a*d+h,n[2]=o*f+l*p+c,n[3]=u*p+a*f+h,n[4]=o*f+l*m+c,n[5]=u*m+a*f+h,n[6]=o*d+l*m+c,n[7]=u*m+a*d+h}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,n=this._texture.orig;!e||e.width===n.width&&e.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new Lh),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new he),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Ra);const n=this._texture.orig.width,r=this._texture.orig.height,i=-n*this.anchor.x;let s=0;return Ra.x>=i&&Ra.x<i+n&&(s=-r*this.anchor.y,Ra.y>=s&&Ra.y<s+r)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,n){const r=e instanceof J?e:J.from(e,n);return new du(r)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const n=io(this.scale.x)||1;this.scale.x=n*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const n=io(this.scale.y)||1;this.scale.y=n*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tint}set tint(e){this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16)}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||J.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const jP=new $e;He.prototype._cacheAsBitmap=!1;He.prototype._cacheData=null;He.prototype._cacheAsBitmapResolution=null;He.prototype._cacheAsBitmapMultisample=null;class Aoe{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(He.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new Aoe),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});He.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};He.prototype._initCachedDisplayObject=function(e){var d,f;if((d=this._cacheData)!=null&&d.sprite)return;const n=this.alpha;this.alpha=1,e.batch.flush();const r=this.getLocalBounds(null,!0).clone();if((f=this.filters)!=null&&f.length){const p=this.filters[0].padding;r.pad(p)}r.ceil(q.RESOLUTION);const i=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),o=e.renderTexture.destinationFrame.clone(),a=e.projection.transform,l=gi.create({width:r.width,height:r.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:this.cacheAsBitmapMultisample??e.multisample}),u=`cacheAsBitmap_${rs()}`;this._cacheData.textureCacheId=u,ce.addToCache(l.baseTexture,u),J.addToCache(l,u);const c=this.transform.localTransform.copyTo(jP).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:l,clear:!0,transform:c,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=a,e.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;const h=new du(l);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(r.x/r.width),h.anchor.y=-(r.y/r.height),h.alpha=n,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=h.containsPoint.bind(h)};He.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};He.prototype._initCachedDisplayObjectCanvas=function(e){var c;if((c=this._cacheData)!=null&&c.sprite)return;const n=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;const i=e.canvasContext.activeContext,s=e._projTransform;n.ceil(q.RESOLUTION);const o=gi.create({width:n.width,height:n.height}),a=`cacheAsBitmap_${rs()}`;this._cacheData.textureCacheId=a,ce.addToCache(o.baseTexture,a),J.addToCache(o,a);const l=jP;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=n.x,l.ty-=n.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:l,skipUpdateTransform:!1}),e.canvasContext.activeContext=i,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const u=new du(o);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-(n.x/n.width),u.anchor.y=-(n.y/n.height),u.alpha=r,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)};He.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};He.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};He.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,ce.removeFromCache(this._cacheData.textureCacheId),J.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};He.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};He.prototype.name=null;on.prototype.getChildByName=function(e,n){for(let r=0,i=this.children.length;r<i;r++)if(this.children[r].name===e)return this.children[r];if(n)for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r];if(!s.getChildByName)continue;const o=s.getChildByName(e,!0);if(o)return o}return null};He.prototype.getGlobalPosition=function(e=new re,n=!1){return this.parent?this.parent.toGlobal(this.position,e,n):(e.x=this.position.x,e.y=this.position.y),e};var Poe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class Ooe extends gt{constructor(e=1){super(boe,Poe,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const Roe={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Ioe=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function koe(t){const e=Roe[t],n=e.length;let r=Ioe,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let l=s.replace("%index%",a.toString());o=a,a>=n&&(o=t-a-1),l=l.replace("%value%",e[o].toString()),i+=l,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",t.toString()),r}const Moe=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function Doe(t,e){const n=Math.ceil(t/2);let r=Moe,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(n-1)}.0`),i+=a,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",t.toString()),r}class Kg extends gt{constructor(e,n=8,r=4,i=gt.defaultResolution,s=5){const o=Doe(s,e),a=koe(s);super(o,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=r,this.blur=n}apply(e,n,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/n.width):this.uniforms.strength=1/r.height*(r.height/n.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/n.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,n,r,i);else{const s=e.getFilterTexture(),o=e.renderer;let a=n,l=s;this.state.blend=!1,e.applyFilter(this,a,l,er.CLEAR);for(let u=1;u<this.passes-1;u++){e.bindAndClear(a,er.BLIT),this.uniforms.uSampler=l;const c=l;l=a,a=c,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,l,r,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class Foe extends gt{constructor(e=8,n=4,r=gt.defaultResolution,i=5){super(),this.blurXFilter=new Kg(!0,e,n,r,i),this.blurYFilter=new Kg(!1,e,n,r,i),this.resolution=r,this.quality=n,this.blur=e,this.repeatEdgePixels=!1}apply(e,n,r,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,n,a,er.CLEAR),this.blurYFilter.apply(e,a,r,i),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,n,r,i):this.blurXFilter.apply(e,n,r,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var $oe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class Zg extends gt{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(FP,$oe,e),this.alpha=1}_loadMatrix(e,n=!1){let r=e;n&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r}_multiply(e,n,r){return e[0]=n[0]*r[0]+n[1]*r[5]+n[2]*r[10]+n[3]*r[15],e[1]=n[0]*r[1]+n[1]*r[6]+n[2]*r[11]+n[3]*r[16],e[2]=n[0]*r[2]+n[1]*r[7]+n[2]*r[12]+n[3]*r[17],e[3]=n[0]*r[3]+n[1]*r[8]+n[2]*r[13]+n[3]*r[18],e[4]=n[0]*r[4]+n[1]*r[9]+n[2]*r[14]+n[3]*r[19]+n[4],e[5]=n[5]*r[0]+n[6]*r[5]+n[7]*r[10]+n[8]*r[15],e[6]=n[5]*r[1]+n[6]*r[6]+n[7]*r[11]+n[8]*r[16],e[7]=n[5]*r[2]+n[6]*r[7]+n[7]*r[12]+n[8]*r[17],e[8]=n[5]*r[3]+n[6]*r[8]+n[7]*r[13]+n[8]*r[18],e[9]=n[5]*r[4]+n[6]*r[9]+n[7]*r[14]+n[8]*r[19]+n[9],e[10]=n[10]*r[0]+n[11]*r[5]+n[12]*r[10]+n[13]*r[15],e[11]=n[10]*r[1]+n[11]*r[6]+n[12]*r[11]+n[13]*r[16],e[12]=n[10]*r[2]+n[11]*r[7]+n[12]*r[12]+n[13]*r[17],e[13]=n[10]*r[3]+n[11]*r[8]+n[12]*r[13]+n[13]*r[18],e[14]=n[10]*r[4]+n[11]*r[9]+n[12]*r[14]+n[13]*r[19]+n[14],e[15]=n[15]*r[0]+n[16]*r[5]+n[17]*r[10]+n[18]*r[15],e[16]=n[15]*r[1]+n[16]*r[6]+n[17]*r[11]+n[18]*r[16],e[17]=n[15]*r[2]+n[16]*r[7]+n[17]*r[12]+n[18]*r[17],e[18]=n[15]*r[3]+n[16]*r[8]+n[17]*r[13]+n[18]*r[18],e[19]=n[15]*r[4]+n[16]*r[9]+n[17]*r[14]+n[18]*r[19]+n[19],e}_colorMatrix(e){const n=new Float32Array(e);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n}brightness(e,n){const r=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(r,n)}tint(e,n){const r=e>>16&255,i=e>>8&255,s=e&255,o=[r/255,0,0,0,0,0,i/255,0,0,0,0,0,s/255,0,0,0,0,0,1,0];this._loadMatrix(o,n)}greyscale(e,n){const r=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(r,n)}blackAndWhite(e){const n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,e)}hue(e,n){e=(e||0)/180*Math.PI;const r=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),l=r+(1-r)*o,u=o*(1-r)-a*i,c=o*(1-r)+a*i,h=o*(1-r)+a*i,d=r+o*(1-r),f=o*(1-r)-a*i,p=o*(1-r)-a*i,m=o*(1-r)+a*i,g=r+o*(1-r),v=[l,u,c,0,0,h,d,f,0,0,p,m,g,0,0,0,0,0,1,0];this._loadMatrix(v,n)}contrast(e,n){const r=(e||0)+1,i=-.5*(r-1),s=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(s,n)}saturate(e=0,n){const r=e*2/3+1,i=(r-1)*-.5,s=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(s,n)}desaturate(){this.saturate(-1)}negative(e){const n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,e)}sepia(e){const n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,e)}technicolor(e){const n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,e)}polaroid(e){const n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,e)}toBGR(e){const n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,e)}kodachrome(e){const n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,e)}browni(e){const n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,e)}vintage(e){const n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,e)}colorTone(e,n,r,i,s){e=e||.2,n=n||.15,r=r||16770432,i=i||3375104;const o=(r>>16&255)/255,a=(r>>8&255)/255,l=(r&255)/255,u=(i>>16&255)/255,c=(i>>8&255)/255,h=(i&255)/255,d=[.3,.59,.11,0,0,o,a,l,e,0,u,c,h,n,0,o-u,a-c,l-h,0,0];this._loadMatrix(d,s)}night(e,n){e=e||.1;const r=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(r,n)}predator(e,n){const r=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(r,n)}lsd(e){const n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}Zg.prototype.grayscale=Zg.prototype.greyscale;var Boe=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,Noe=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class Loe extends gt{constructor(e,n){const r=new $e;e.renderable=!1,super(Noe,Boe,{mapSampler:e._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=r,n==null&&(n=20),this.scale=new re(n,n)}apply(e,n,r,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,n,r,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var Uoe=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,joe=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class zoe extends gt{constructor(){super(joe,Uoe)}}var Hoe=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class Goe extends gt{constructor(e=.5,n=Math.random()){super(FP,Hoe,{uNoise:0,uSeed:0}),this.noise=e,this.seed=n}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const K_={AlphaFilter:Ooe,BlurFilter:Foe,BlurFilterPass:Kg,ColorMatrixFilter:Zg,DisplacementFilter:Loe,FXAAFilter:zoe,NoiseFilter:Goe};Object.entries(K_).forEach(([t,e])=>{Object.defineProperty(K_,t,{get(){return ve("7.1.0",`filters.${t} has moved to ${t}`),e}})});class fu{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=fu.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new re,this.page=new re,this.AT_TARGET=1,this.BUBBLING_PHASE=2,this.CAPTURING_PHASE=3,this.NONE=0,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,n,r){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,n,r,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class Uh extends fu{constructor(){super(...arguments),this.client=new re,this.movement=new re,this.offset=new re,this.global=new re,this.screen=new re}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,n,r,i,s,o,a,l,u,c,h,d,f,p,m){throw new Error("Method not implemented.")}}class On extends Uh{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class jo extends Uh{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}jo.DOM_DELTA_PIXEL=0;jo.DOM_DELTA_LINE=1;jo.DOM_DELTA_PAGE=2;const Woe=2048,Voe=new re,vp=new re;class Xoe{constructor(e){this.dispatch=new ts,this.moveOnAll=!1,this.mappingState={trackingData:{}},this.eventPool=new Map,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,n){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:n,priority:0}),this.mappingTable[e].sort((r,i)=>r.priority-i.priority)}dispatchEvent(e,n){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,n),this.dispatch.emit(n||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const n=this.mappingTable[e.type];if(n)for(let r=0,i=n.length;r<i;r++)n[r].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,n){const r=this.hitTestRecursive(this.rootTarget,this.rootTarget.interactive,Voe.set(e,n),this.hitTestFn,this.hitPruneFn);return r&&r[0]}propagate(e,n){if(!e.target)return;const r=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=r.length-1;i<s;i++)if(e.currentTarget=r[i],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,n),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=r.length-2;i>=0;i--)if(e.currentTarget=r[i],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,n,r=this.rootTarget){e.eventPhase=e.BUBBLING_PHASE;const i=r.children;if(i)for(let s=0;s<i.length;s++)this.all(e,n,i[s]);e.currentTarget=r,this.notifyTarget(e,n)}propagationPath(e){const n=[e];for(let r=0;r<Woe&&e!==this.rootTarget;r++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");n.push(e.parent),e=e.parent}return n.reverse(),n}hitTestRecursive(e,n,r,i,s){if(!e||!e.visible||s(e,r))return null;if(e.interactiveChildren&&e.children){const o=e.children;for(let a=o.length-1;a>=0;a--){const l=o[a],u=this.hitTestRecursive(l,n||l.interactive,r,i,s);if(u){if(u.length>0&&!u[u.length-1].parent)continue;return(u.length>0||e.interactive)&&u.push(e),u}}}return n&&i(e,r)?e.interactive?[e]:[]:null}hitPruneFn(e,n){var r;if(e.hitArea&&(e.worldTransform.applyInverse(n,vp),!e.hitArea.contains(vp.x,vp.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((r=i.containsPoint)!=null&&r.call(i,n)))return!0}return!1}hitTestFn(e,n){return e.hitArea?!0:e.containsPoint?e.containsPoint(n):!1}notifyTarget(e,n){var s,o;n=n??e.type;const r=`on${n}`;(o=(s=e.currentTarget)[r])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${n}capture`:n;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,n)}mapPointerDown(e){if(!(e instanceof On)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerdown"),n.pointerType==="touch")this.dispatchEvent(n,"touchstart");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const i=n.button===2;this.dispatchEvent(n,i?"rightdown":"mousedown")}const r=this.trackingData(e.pointerId);r.pressTargetsByButton[e.button]=n.composedPath(),this.freeEvent(n)}mapPointerMove(e){var a,l;if(!(e instanceof On)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.createPointerEvent(e),r=n.pointerType==="mouse"||n.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((a=i.overTargets)==null?void 0:a.length)>0&&s!==n.target){const u=e.type==="mousemove"?"mouseout":"pointerout",c=this.createPointerEvent(e,u,s);if(this.dispatchEvent(c,"pointerout"),r&&this.dispatchEvent(c,"mouseout"),!n.composedPath().includes(s)){const h=this.createPointerEvent(e,"pointerleave",s);for(h.eventPhase=h.AT_TARGET;h.target&&!n.composedPath().includes(h.target);)h.currentTarget=h.target,this.notifyTarget(h),r&&this.notifyTarget(h,"mouseleave"),h.target=h.target.parent;this.freeEvent(h)}this.freeEvent(c)}if(s!==n.target){const u=e.type==="mousemove"?"mouseover":"pointerover",c=this.clonePointerEvent(n,u);this.dispatchEvent(c,"pointerover"),r&&this.dispatchEvent(c,"mouseover");let h=s==null?void 0:s.parent;for(;h&&h!==this.rootTarget.parent&&h!==n.target;)h=h.parent;if(!h||h===this.rootTarget.parent){const f=this.clonePointerEvent(n,"pointerenter");for(f.eventPhase=f.AT_TARGET;f.target&&f.target!==s&&f.target!==this.rootTarget.parent;)f.currentTarget=f.target,this.notifyTarget(f),r&&this.notifyTarget(f,"mouseenter"),f.target=f.target.parent;this.freeEvent(f)}this.freeEvent(c)}const o=this.moveOnAll?"all":"dispatchEvent";this[o](n,"pointermove"),this.all(n,"globalpointermove"),n.pointerType==="touch"&&(this[o](n,"touchmove"),this.all(n,"globaltouchmove")),r&&(this[o](n,"mousemove"),this.all(n,"globalmousemove"),this.cursor=(l=n.target)==null?void 0:l.cursor),i.overTargets=n.composedPath(),this.freeEvent(n)}mapPointerOver(e){var o;if(!(e instanceof On)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId),r=this.createPointerEvent(e),i=r.pointerType==="mouse"||r.pointerType==="pen";this.dispatchEvent(r,"pointerover"),i&&this.dispatchEvent(r,"mouseover"),r.pointerType==="mouse"&&(this.cursor=(o=r.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(r,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;n.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof On)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId);if(n.overTargets){const r=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(n.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),r&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),r&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;n.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof On)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=performance.now(),r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerup"),r.pointerType==="touch")this.dispatchEvent(r,"touchend");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const a=r.button===2;this.dispatchEvent(r,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!r.composedPath().includes(s)){let a=s;for(;a&&!r.composedPath().includes(a);){if(r.currentTarget=a,this.notifyTarget(r,"pointerupoutside"),r.pointerType==="touch")this.notifyTarget(r,"touchendoutside");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const l=r.button===2;this.notifyTarget(r,l?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(r,"click");a.target=o,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:n});const l=i.clicksByButton[e.button];if(l.target===a.target&&n-l.timeStamp<200?++l.clickCount:l.clickCount=1,l.target=a.target,l.timeStamp=n,a.detail=l.clickCount,a.pointerType==="mouse"){const u=a.button===2;this.dispatchEvent(a,u?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(r)}mapPointerUpOutside(e){if(!(e instanceof On)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId),r=this.findMountedTarget(n.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(r){let s=r;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete n.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof jo)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const n=this.createWheelEvent(e);this.dispatchEvent(n),this.freeEvent(n)}findMountedTarget(e){if(!e)return null;let n=e[0];for(let r=1;r<e.length&&e[r].parent===n;r++)n=e[r];return n}createPointerEvent(e,n,r){const i=this.allocateEvent(On);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=r??this.hitTest(i.global.x,i.global.y),typeof n=="string"&&(i.type=n),i}createWheelEvent(e){const n=this.allocateEvent(jo);return this.copyWheelData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.nativeEvent=e.nativeEvent,n.originalEvent=e,n.target=this.hitTest(n.global.x,n.global.y),n}clonePointerEvent(e,n){const r=this.allocateEvent(On);return r.nativeEvent=e.nativeEvent,r.originalEvent=e.originalEvent,this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.target=e.target,r.path=e.composedPath().slice(),r.type=n??r.type,r}copyWheelData(e,n){n.deltaMode=e.deltaMode,n.deltaX=e.deltaX,n.deltaY=e.deltaY,n.deltaZ=e.deltaZ}copyPointerData(e,n){e instanceof On&&n instanceof On&&(n.pointerId=e.pointerId,n.width=e.width,n.height=e.height,n.isPrimary=e.isPrimary,n.pointerType=e.pointerType,n.pressure=e.pressure,n.tangentialPressure=e.tangentialPressure,n.tiltX=e.tiltX,n.tiltY=e.tiltY,n.twist=e.twist)}copyMouseData(e,n){e instanceof Uh&&n instanceof Uh&&(n.altKey=e.altKey,n.button=e.button,n.buttons=e.buttons,n.client.copyFrom(e.client),n.ctrlKey=e.ctrlKey,n.metaKey=e.metaKey,n.movement.copyFrom(e.movement),n.screen.copyFrom(e.screen),n.global.copyFrom(e.global))}copyData(e,n){n.isTrusted=e.isTrusted,n.srcElement=e.srcElement,n.timeStamp=performance.now(),n.type=e.type,n.detail=e.detail,n.view=e.view,n.which=e.which,n.layer.copyFrom(e.layer),n.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const n=this.eventPool.get(e).pop()||new e(this);return n.eventPhase=n.NONE,n.currentTarget=null,n.path=null,n.target=null,n}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const n=e.constructor;this.eventPool.has(n)||this.eventPool.set(n,[]),this.eventPool.get(n).push(e)}notifyListeners(e,n){const r=e.currentTarget._events[n];if(r)if("fn"in r)r.once&&e.currentTarget.removeListener(n,r.fn,void 0,!0),r.fn.call(r.context,e);else for(let i=0,s=r.length;i<s&&!e.propagationImmediatelyStopped;i++)r[i].once&&e.currentTarget.removeListener(n,r[i].fn,void 0,!0),r[i].fn.call(r[i].context,e)}}const Yoe=1,qoe={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"};class zP{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new Xoe(null),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new On(null),this.rootWheelEvent=new jo(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}init(){const{view:e,resolution:n}=this.renderer;this.setTargetElement(e),this.resolution=n}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let n=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(n=!1),this.currentCursor===e)return;this.currentCursor=e;const r=this.cursorStyles[e];if(r)switch(typeof r){case"string":n&&(this.domElement.style.cursor=r);break;case"function":r(e);break;case"object":n&&Object.assign(this.domElement.style,r);break}else n&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}onPointerDown(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);this.autoPreventDefault&&n[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let r=0,i=n.length;r<i;r++){const s=n[r],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);for(let r=0,i=n.length;r<i;r++){const s=this.bootstrapEvent(this.rootPointerEvent,n[r]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;let n=e.target;e.composedPath&&e.composedPath().length>0&&(n=e.composedPath()[0]);const r=n!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let s=0,o=i.length;s<o;s++){const a=this.bootstrapEvent(this.rootPointerEvent,i[s]);a.type+=r,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);for(let r=0,i=n.length;r<i;r++){const s=this.bootstrapEvent(this.rootPointerEvent,n[r]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){const n=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(n)}setTargetElement(e){this.removeEvents(),this.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,n,r){let i;this.domElement.parentElement?i=this.domElement.getBoundingClientRect():i={x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const s=1/this.resolution;e.x=(n-i.left)*(this.domElement.width/i.width)*s,e.y=(r-i.top)*(this.domElement.height/i.height)*s}normalizeToPointerData(e){const n=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let r=0,i=e.changedTouches.length;r<i;r++){const s=e.changedTouches[r];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,n.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const r=e;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=Yoe),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,n.push(r)}else n.push(e);return n}normalizeWheelEvent(e){const n=this.rootWheelEvent;return this.transferMouseData(n,e),n.deltaX=e.deltaX,n.deltaY=e.deltaY,n.deltaZ=e.deltaZ,n.deltaMode=e.deltaMode,this.mapPositionToPoint(n.screen,e.clientX,e.clientY),n.global.copyFrom(n.screen),n.offset.copyFrom(n.screen),n.nativeEvent=e,n.type=e.type,n}bootstrapEvent(e,n){return e.originalEvent=null,e.nativeEvent=n,e.pointerId=n.pointerId,e.width=n.width,e.height=n.height,e.isPrimary=n.isPrimary,e.pointerType=n.pointerType,e.pressure=n.pressure,e.tangentialPressure=n.tangentialPressure,e.tiltX=n.tiltX,e.tiltY=n.tiltY,e.twist=n.twist,this.transferMouseData(e,n),this.mapPositionToPoint(e.screen,n.clientX,n.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=n.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=qoe[e.type]||e.type),e}transferMouseData(e,n){e.isTrusted=n.isTrusted,e.srcElement=n.srcElement,e.timeStamp=performance.now(),e.type=n.type,e.altKey=n.altKey,e.button=n.button,e.buttons=n.buttons,e.client.x=n.clientX,e.client.y=n.clientY,e.ctrlKey=n.ctrlKey,e.metaKey=n.metaKey,e.movement.x=n.movementX,e.movement.y=n.movementY,e.page.x=n.pageX,e.page.y=n.pageY,e.relatedTarget=null,e.shiftKey=n.shiftKey}}zP.extension={name:"events",type:[Y.RendererSystem,Y.CanvasRendererSystem]};ee.add(zP);const Koe={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,interactive:!1,interactiveChildren:!0,hitArea:null,addEventListener(t,e,n){const r=typeof n=="boolean"&&n||typeof n=="object"&&n.capture,i=typeof e=="function"?void 0:e;t=r?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,n){const r=typeof n=="boolean"&&n||typeof n=="object"&&n.capture,i=typeof e=="function"?void 0:e;t=r?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof fu))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};He.mixin(Koe);const Zoe={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};He.mixin(Zoe);const Qoe=9,ic=100,Joe=0,eae=0,Z_=2,Q_=1,tae=-1e3,nae=-1e3,rae=2;class HP{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Er.tablet||Er.phone)&&this.createTouchHook();const n=document.createElement("div");n.style.width=`${ic}px`,n.style.height=`${ic}px`,n.style.position="absolute",n.style.top=`${Joe}px`,n.style.left=`${eae}px`,n.style.zIndex=Z_.toString(),this.div=n,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${Q_}px`,e.style.height=`${Q_}px`,e.style.position="absolute",e.style.top=`${tae}px`,e.style.left=`${nae}px`,e.style.zIndex=rae.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const n=e.children;if(n)for(let r=0;r<n.length;r++)this.updateAccessibleObjects(n[r])}update(){const e=performance.now();if(Er.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:n,y:r,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:l}=this.renderer,u=i/o*l,c=s/a*l;let h=this.div;h.style.left=`${n}px`,h.style.top=`${r}px`,h.style.width=`${o}px`,h.style.height=`${a}px`;for(let d=0;d<this.children.length;d++){const f=this.children[d];if(f.renderId!==this.renderId)f._accessibleActive=!1,xo(this.children,d,1),this.div.removeChild(f._accessibleDiv),this.pool.push(f._accessibleDiv),f._accessibleDiv=null,d--;else{h=f._accessibleDiv;let p=f.hitArea;const m=f.worldTransform;f.hitArea?(h.style.left=`${(m.tx+p.x*m.a)*u}px`,h.style.top=`${(m.ty+p.y*m.d)*c}px`,h.style.width=`${p.width*m.a*u}px`,h.style.height=`${p.height*m.d*c}px`):(p=f.getBounds(),this.capHitArea(p),h.style.left=`${p.x*u}px`,h.style.top=`${p.y*c}px`,h.style.width=`${p.width*u}px`,h.style.height=`${p.height*c}px`,h.title!==f.accessibleTitle&&f.accessibleTitle!==null&&(h.title=f.accessibleTitle),h.getAttribute("aria-label")!==f.accessibleHint&&f.accessibleHint!==null&&h.setAttribute("aria-label",f.accessibleHint)),(f.accessibleTitle!==h.title||f.tabIndex!==h.tabIndex)&&(h.title=f.accessibleTitle,h.tabIndex=f.tabIndex,this.debug&&this.updateDebugHTML(h))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:n,height:r}=this.renderer;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>r&&(e.height=r-e.y)}addChild(e){let n=this.pool.pop();n||(n=document.createElement("button"),n.style.width=`${ic}px`,n.style.height=`${ic}px`,n.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",n.style.position="absolute",n.style.zIndex=Z_.toString(),n.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?n.setAttribute("aria-live","off"):n.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?n.setAttribute("aria-relevant","additions"):n.setAttribute("aria-relevant","text"),n.addEventListener("click",this._onClick.bind(this)),n.addEventListener("focus",this._onFocus.bind(this)),n.addEventListener("focusout",this._onFocusOut.bind(this))),n.style.pointerEvents=e.accessiblePointerEvents,n.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?n.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(n.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&n.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(n),e._accessibleActive=!0,e._accessibleDiv=n,n.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,n){const{displayObject:r}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new fu(i),{target:r});i.rootTarget=this.renderer.lastObjectRendered,n.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===Qoe&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}HP.extension={name:"accessibility",type:[Y.RendererPlugin,Y.CanvasRendererPlugin]};ee.add(HP);const Qg=class{constructor(t){this.stage=new on,t=Object.assign({forceCanvas:!1},t),this.renderer=goe(t),Qg._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(t,e){const n=Qg._plugins.slice(0);n.reverse(),n.forEach(r=>{r.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};let t1=Qg;t1._plugins=[];ee.handleByList(Y.Application,t1._plugins);class GP{static init(e){Object.defineProperty(this,"resizeTo",{set(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let n,r;if(this._resizeTo===globalThis.window)n=globalThis.innerWidth,r=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;n=i,r=s}this.renderer.resize(n,r),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}GP.extension=Y.Application;ee.add(GP);const J_={loader:Y.LoadParser,resolver:Y.ResolveParser,cache:Y.CacheParser,detection:Y.DetectionParser};ee.handle(Y.Asset,t=>{const e=t.ref;Object.entries(J_).filter(([n])=>!!e[n]).forEach(([n,r])=>ee.add(Object.assign(e[n],{extension:e[n].extension??r})))},t=>{const e=t.ref;Object.keys(J_).filter(n=>!!e[n]).forEach(n=>ee.remove(e[n]))});class iae{constructor(e,n=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=n}add(e){e.forEach(n=>{this._assetList.push(n)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],n=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<n;r++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function WP(t,e){if(Array.isArray(e)){for(const n of e)if(t.startsWith(`data:${n}`))return!0;return!1}return t.startsWith(`data:${e}`)}function Jd(t,e){const n=t.split("?")[0],r=yt.extname(n).toLowerCase();return Array.isArray(e)?e.includes(r):r===e}const Pr=(t,e)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"?e(n):n):t),Jg=(t,e)=>{const n=e.split("?")[1];return n&&(t+=`?${n}`),t};function VP(t,e,n,r,i){const s=e[n];for(let o=0;o<s.length;o++){const a=s[o];n<e.length-1?VP(t.replace(r[n],a),e,n+1,r,i):i.push(t.replace(r[n],a))}}function sae(t){const e=/\{(.*?)\}/g,n=t.match(e),r=[];if(n){const i=[];n.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),VP(t,i,0,n,r)}else r.push(t);return r}const jh=t=>!Array.isArray(t);class oae{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const n=this._cache.get(e);return n||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),n}set(e,n){const r=Pr(e);let i;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.test(n)){i=l.getCacheableAssets(r,n);break}}i||(i={},r.forEach(a=>{i[a]=n}));const s=Object.keys(i),o={cacheKeys:s,keys:r};if(r.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==n&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),n instanceof J){const a=n;r.forEach(l=>{a.baseTexture!==J.EMPTY.baseTexture&&ce.addToCache(a.baseTexture,l),J.addToCache(a,l)})}}remove(e){if(this._cacheMap.get(e),!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const n=this._cacheMap.get(e);n.cacheKeys.forEach(i=>{this._cache.delete(i)}),n.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const Ia=new oae;class aae{constructor(){this._parsers=[],this.promiseCache={}}reset(){this.promiseCache={}}_getLoadPromiseAndParser(e,n){const r={promise:null,parser:null};return r.promise=(async()=>{var s,o;let i=null;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.load&&((s=l.test)!=null&&s.call(l,e,n,this))){i=await l.load(e,n,this),r.parser=l;break}}if(!r.parser)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has being added`),null;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];l.parse&&l.parse&&await((o=l.testParse)==null?void 0:o.call(l,i,n,this))&&(i=await l.parse(i,n,this)||i,r.parser=l)}return i})(),r}async load(e,n){let r=0;const i={},s=jh(e),o=Pr(e,u=>({src:u})),a=o.length,l=o.map(async u=>{const c=yt.toAbsolute(u.src);if(!i[u.src])try{this.promiseCache[c]||(this.promiseCache[c]=this._getLoadPromiseAndParser(c,u)),i[u.src]=await this.promiseCache[c].promise,n&&n(++r/a)}catch(h){throw delete this.promiseCache[c],delete i[u.src],new Error(`[Loader.load] Failed to load ${c}.
${h}`)}});return await Promise.all(l),s?i[o[0].src]:i}async unload(e){const r=Pr(e,i=>({src:i})).map(async i=>{var a,l;const s=yt.toAbsolute(i.src),o=this.promiseCache[s];if(o){const u=await o.promise;(l=(a=o.parser)==null?void 0:a.unload)==null||l.call(a,u,i,this),delete this.promiseCache[s]}});await Promise.all(r)}get parsers(){return this._parsers}}var pr=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(pr||{});const lae={extension:{type:Y.LoadParser,priority:pr.Low},test(t){return yt.extname(t).toLowerCase()===".json"},async load(t){return await(await q.ADAPTER.fetch(t)).json()}};ee.add(lae);const uae={extension:{type:Y.LoadParser,priority:pr.Low},test(t){return yt.extname(t).toLowerCase()===".txt"},async load(t){return await(await q.ADAPTER.fetch(t)).text()}};ee.add(uae);const cae=["normal","bold","100","200","300","400","500","600","700","800","900"],hae=[".ttf",".otf",".woff",".woff2"],dae=["font/ttf","font/otf","font/woff","font/woff2"];function fae(t){const e=yt.extname(t);return yt.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ")}const XP={extension:{type:Y.LoadParser,priority:pr.Low},test(t){return WP(t,dae)||Jd(t,hae)},async load(t,e){var r,i,s;const n=q.ADAPTER.getFontFaceSet();if(n){const o=[],a=((r=e.data)==null?void 0:r.family)??fae(t),l=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(c=>cae.includes(c)))??["normal"],u=e.data??{};for(let c=0;c<l.length;c++){const h=l[c],d=new FontFace(a,`url(${encodeURI(t)})`,{...u,weight:h});await d.load(),n.add(d),o.push(d)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>q.ADAPTER.getFontFaceSet().delete(e))}};ee.add(XP);let eE=0,yp;const pae="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",mae={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${pae}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},gae={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let bp;class vae{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const n=URL.createObjectURL(new Blob([mae.code],{type:"application/javascript"})),r=new Worker(n);r.addEventListener("message",i=>{r.terminate(),URL.revokeObjectURL(n),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){yp===void 0&&(yp=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<yp&&(bp||(bp=URL.createObjectURL(new Blob([gae.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(bp),e.addEventListener("message",n=>{this.complete(n.data),this.returnWorker(n.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,n){await this._initWorkers();const r=new Promise((i,s)=>{this.queue.push({id:e,arguments:n,resolve:i,reject:s})});return this.next(),r}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const n=this.queue.pop(),r=n.id;this.resolveHash[eE]={resolve:n.resolve,reject:n.reject},e.postMessage({data:n.arguments,uuid:eE++,id:r})}}const tE=new vae;function ef(t,e,n){const r=new J(t);return r.baseTexture.on("dispose",()=>{delete e.promiseCache[n]}),r}const yae=[".jpeg",".jpg",".png",".webp",".avif"],bae=["image/jpeg","image/png","image/webp","image/avif"];async function xae(t){const e=await q.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const n=await e.blob();return await createImageBitmap(n)}const jl={extension:{type:Y.LoadParser,priority:pr.High},config:{preferWorkers:!0},test(t){return WP(t,bae)||Jd(t,yae)},async load(t,e,n){let r=null;globalThis.createImageBitmap?this.config.preferWorkers&&await tE.isImageBitmapSupported()?r=await tE.loadImageBitmap(t):r=await xae(t):r=await new Promise(s=>{r=new Image,r.crossOrigin="anonymous",r.src=t,r.complete?s(r):r.onload=()=>{s(r)}});const i=new ce(r,{resolution:fi(t),...e.data});return i.resource.src=t,ef(i,n,t)},unload(t){t.destroy(!0)}};ee.add(jl);const wae={extension:{type:Y.LoadParser,priority:pr.High},test(t){return yt.extname(t).toLowerCase()===".svg"},async testParse(t){return Ul.test(t)},async parse(t,e,n){var o,a,l;const r=new Ul(t,(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions),i=new ce(r,{resolution:fi(t),...e==null?void 0:e.data});i.resource.src=t;const s=ef(i,n,t);return(l=(a=e==null?void 0:e.data)==null?void 0:a.resourceOptions)!=null&&l.autoLoad||await r.load(),s},async load(t,e){return(await q.ADAPTER.fetch(t)).text()},unload:jl.unload};ee.add(wae);class _ae{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,n)=>`${e}${this._bundleIdConnector}${n}`,extractAssetIdFromBundle:(e,n)=>n.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(n=>{this._preferredOrder.push(n),n.priority||(n.priority=Object.keys(n.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const n=e;this._defaultSearchParams=Object.keys(n).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(n[r])}`).join("&")}}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(n=>{this.addBundle(n.name,n.assets)})}addBundle(e,n){const r=[];Array.isArray(n)?n.forEach(i=>{if(typeof i.name=="string"){const s=this._createBundleAssetId(e,i.name);r.push(s),this.add([i.name,s],i.srcs,i.data)}else{const s=i.name.map(o=>this._createBundleAssetId(e,o));s.forEach(o=>{r.push(o)}),this.add([...i.name,...s],i.srcs)}}):Object.keys(n).forEach(i=>{r.push(this._createBundleAssetId(e,i)),this.add([i,this._createBundleAssetId(e,i)],n[i])}),this._bundles[e]=r}add(e,n,r){const i=Pr(e);i.forEach(o=>{this.hasKey(o)&&console.warn(`[Resolver] already has key: ${o} overwriting`)}),Array.isArray(n)||(typeof n=="string"?n=sae(n):n=[n]);const s=n.map(o=>{let a=o;if(typeof o=="string"){let l=!1;for(let u=0;u<this._parsers.length;u++){const c=this._parsers[u];if(c.test(o)){a=c.parse(o),l=!0;break}}l||(a={src:o})}return a.format||(a.format=a.src.split(".").pop()),a.alias||(a.alias=i),(this._basePath||this._rootPath)&&(a.src=yt.toAbsolute(a.src,this._basePath,this._rootPath)),a.src=this._appendDefaultSearchParams(a.src),a.data=a.data??r,a});i.forEach(o=>{this._assetMap[o]=s})}resolveBundle(e){const n=jh(e);e=Pr(e);const r={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const l in o){const u=o[l];a[this._extractAssetIdFromBundle(i,l)]=u}r[i]=a}}),n?r[e[0]]:r}resolveUrl(e){const n=this.resolve(e);if(typeof e!="string"){const r={};for(const i in n)r[i]=n[i].src;return r}return n.src}resolve(e){const n=jh(e);e=Pr(e);const r={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=this._getPreferredOrder(s),a=s[0];o==null||o.priority.forEach(l=>{o.params[l].forEach(u=>{const c=s.filter(h=>h[l]?h[l]===u:!1);c.length&&(s=c)})}),this._resolverHash[i]=s[0]??a}else{let s=i;(this._basePath||this._rootPath)&&(s=yt.toAbsolute(s,this._basePath,this._rootPath)),s=this._appendDefaultSearchParams(s),this._resolverHash[i]={src:s}}r[i]=this._resolverHash[i]}),n?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let n=0;n<e.length;n++){const r=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(r.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const n=/\?/.test(e)?"&":"?";return`${e}${n}${this._defaultSearchParams}`}}class Eae{constructor(){this._detections=[],this._initialized=!1,this.resolver=new _ae,this.loader=new aae,this.cache=Ia,this._backgroundLoader=new iae(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o,a;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let l=e.manifest;typeof l=="string"&&(l=await this.load(l)),this.resolver.addManifest(l)}const n=((s=e.texturePreference)==null?void 0:s.resolution)??1,r=typeof n=="number"?[n]:n;let i=[];if((o=e.texturePreference)!=null&&o.format){const l=(a=e.texturePreference)==null?void 0:a.format;i=typeof l=="string"?[l]:l;for(const u of this._detections)await u.test()||(i=await u.remove(i))}else for(const l of this._detections)await l.test()&&(i=await l.add(i));this.resolver.prefer({params:{format:i,resolution:r}})}add(e,n,r){this.resolver.add(e,n,r)}async load(e,n){this._initialized||await this.init();const r=jh(e),i=Pr(e).map(a=>typeof a!="string"?(this.resolver.add(a.src,a),a.src):(this.resolver.hasKey(a)||this.resolver.add(a,a),a)),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,n);return r?o[i[0]]:o}addBundle(e,n){this.resolver.addBundle(e,n)}async loadBundle(e,n){this._initialized||await this.init();let r=!1;typeof e=="string"&&(r=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0,l=0;const u=()=>{n==null||n(++a/l)},c=o.map(h=>{const d=i[h];return l+=Object.keys(d).length,this._mapLoadToResolve(d,u).then(f=>{s[h]=f})});return await Promise.all(c),r?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(n))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolveBundle(e);Object.values(n).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Ia.get(e);const n={};for(let r=0;r<e.length;r++)n[r]=Ia.get(e[r]);return n}async _mapLoadToResolve(e,n){const r=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(r,n);this._backgroundLoader.active=!0;const o={};return r.forEach((a,l)=>{const u=s[a.src],c=[a.src];a.alias&&c.push(...a.alias),o[i[l]]=u,Ia.set(c,u)}),o}async unload(e){this._initialized||await this.init();const n=Pr(e).map(i=>typeof i!="string"?i.src:i),r=this.resolver.resolve(n);await this._unloadFromResolved(r)}async unloadBundle(e){this._initialized||await this.init(),e=Pr(e);const n=this.resolver.resolveBundle(e),r=Object.keys(n).map(i=>this._unloadFromResolved(n[i]));await Promise.all(r)}async _unloadFromResolved(e){const n=Object.values(e);n.forEach(r=>{Ia.remove(r.src)}),await this.loader.unload(n)}get detections(){return this._detections}get preferWorkers(){return jl.config.preferWorkers}set preferWorkers(e){jl.config.preferWorkers=e}}const sc=new Eae;ee.handleByList(Y.LoadParser,sc.loader.parsers).handleByList(Y.ResolveParser,sc.resolver.parsers).handleByList(Y.CacheParser,sc.cache.parsers).handleByList(Y.DetectionParser,sc.detections);const Sae={extension:Y.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof J),getCacheableAssets:(t,e)=>{const n={};return t.forEach(r=>{e.forEach((i,s)=>{n[r+(s===0?"":s+1)]=i})}),n}};ee.add(Sae);const Cae={extension:{type:Y.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",e=await q.ADAPTER.fetch(t).then(n=>n.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};ee.add(Cae);const Tae={extension:{type:Y.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",e=await q.ADAPTER.fetch(t).then(n=>n.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};ee.add(Tae);const nE=["png","jpg","jpeg"],Aae={extension:{type:Y.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...nE],remove:async t=>t.filter(e=>!nE.includes(e))};ee.add(Aae);const Pae={extension:Y.ResolveParser,test:jl.test,parse:t=>{var e;return{resolution:parseFloat(((e=q.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}};ee.add(Pae);var Xt=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(Xt||{});const zh={[33776]:.5,[33777]:.5,[33778]:1,[33779]:1,[35916]:.5,[35917]:.5,[35918]:1,[35919]:1,[37488]:.5,[37489]:.5,[37490]:1,[37491]:1,[37492]:.5,[37496]:1,[37493]:.5,[37497]:1,[37494]:.5,[37495]:.5,[35840]:.5,[35842]:.5,[35841]:.25,[35843]:.25,[36196]:.5,[35986]:.5,[35986]:1,[34798]:1,[37808]:1};let vr,Gs;function rE(){Gs={s3tc:vr.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:vr.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:vr.getExtension("WEBGL_compressed_texture_etc"),etc1:vr.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:vr.getExtension("WEBGL_compressed_texture_pvrtc")||vr.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:vr.getExtension("WEBGL_compressed_texture_atc"),astc:vr.getExtension("WEBGL_compressed_texture_astc")}}const Oae={extension:{type:Y.DetectionParser,priority:2},test:async()=>{const e=q.ADAPTER.createCanvas().getContext("webgl");return e?(vr=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{Gs||rE();const e=[];for(const n in Gs)Gs[n]&&e.push(n);return[...e,...t]},remove:async t=>(Gs||rE(),t.filter(e=>!(e in Gs)))};ee.add(Oae);class Rae extends hu{constructor(e,n={width:1,height:1,autoLoad:!0}){let r,i;typeof e=="string"?(r=e,i=new Uint8Array):(r=null,i=e),super(i,n),this.origin=r,this.buffer=i?new Ug(i):null,this.origin&&n.autoLoad!==!1&&this.load(),i!=null&&i.length&&(this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}async load(){const r=await(await(await fetch(this.origin)).blob()).arrayBuffer();return this.data=new Uint32Array(r),this.buffer=new Ug(r),this.loaded=!0,this.onBlobLoaded(r),this.update(),this}}class Gi extends Rae{constructor(e,n){super(e,n),this.format=n.format,this.levels=n.levels||1,this._width=n.width,this._height=n.height,this._extension=Gi._formatToExtension(this.format),(n.levelBuffers||this.buffer)&&(this._levelBuffers=n.levelBuffers||Gi._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,n,r){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let o=0,a=this.levels;o<a;o++){const{levelID:l,levelWidth:u,levelHeight:c,levelBuffer:h}=this._levelBuffers[o];i.compressedTexImage2D(i.TEXTURE_2D,l,this.format,u,c,0,h)}return!0}onBlobLoaded(){this._levelBuffers=Gi._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,n,r,i,s,o,a){const l=new Array(r);let u=e.byteOffset,c=o,h=a,d=c+i-1&~(i-1),f=h+s-1&~(s-1),p=d*f*zh[n];for(let m=0;m<r;m++)l[m]={levelID:m,levelWidth:r>1?c:d,levelHeight:r>1?h:f,levelBuffer:new Uint8Array(e.buffer,u,p)},u+=p,c=c>>1||1,h=h>>1||1,d=c+i-1&~(i-1),f=h+s-1&~(s-1),p=d*f*zh[n];return l}}const xp=4,oc=124,Iae=32,iE=20,kae=542327876,ac={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},Mae={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},lc={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},Dae=1,Fae=2,$ae=4,Bae=64,Nae=512,Lae=131072,Uae=827611204,jae=861165636,zae=894720068,Hae=808540228,Gae=4,Wae={[Uae]:Xt.COMPRESSED_RGBA_S3TC_DXT1_EXT,[jae]:Xt.COMPRESSED_RGBA_S3TC_DXT3_EXT,[zae]:Xt.COMPRESSED_RGBA_S3TC_DXT5_EXT},Vae={[70]:Xt.COMPRESSED_RGBA_S3TC_DXT1_EXT,[71]:Xt.COMPRESSED_RGBA_S3TC_DXT1_EXT,[73]:Xt.COMPRESSED_RGBA_S3TC_DXT3_EXT,[74]:Xt.COMPRESSED_RGBA_S3TC_DXT3_EXT,[76]:Xt.COMPRESSED_RGBA_S3TC_DXT5_EXT,[77]:Xt.COMPRESSED_RGBA_S3TC_DXT5_EXT,[72]:Xt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,[75]:Xt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,[78]:Xt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function Xae(t){const e=new Uint32Array(t);if(e[0]!==kae)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,oc/Uint32Array.BYTES_PER_ELEMENT),i=r[ac.HEIGHT],s=r[ac.WIDTH],o=r[ac.MIPMAP_COUNT],a=new Uint32Array(t,ac.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,Iae/Uint32Array.BYTES_PER_ELEMENT),l=a[Dae];if(l&$ae){const u=a[Mae.FOURCC];if(u!==Hae){const b=Wae[u],x=xp+oc,E=new Uint8Array(t,x);return[new Gi(E,{format:b,width:s,height:i,levels:o})]}const c=xp+oc,h=new Uint32Array(e.buffer,c,iE/Uint32Array.BYTES_PER_ELEMENT),d=h[lc.DXGI_FORMAT],f=h[lc.RESOURCE_DIMENSION],p=h[lc.MISC_FLAG],m=h[lc.ARRAY_SIZE],g=Vae[d];if(g===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${d}`);if(p===Gae)throw new Error("DDSParser does not support cubemap textures");if(f===6)throw new Error("DDSParser does not supported 3D texture data");const v=new Array,y=xp+oc+iE;if(m===1)v.push(new Uint8Array(t,y));else{const b=zh[g];let x=0,E=s,T=i;for(let A=0;A<o;A++){const k=Math.max(1,E+3&-4),M=Math.max(1,T+3&-4),$=k*M*b;x+=$,E=E>>>1,T=T>>>1}let C=y;for(let A=0;A<m;A++)v.push(new Uint8Array(t,C,x)),C+=x}return v.map(b=>new Gi(b,{format:g,width:s,height:i,levels:o}))}throw l&Bae?new Error("DDSParser does not support uncompressed texture data."):l&Nae?new Error("DDSParser does not supported YUV uncompressed texture data."):l&Lae?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&Fae?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const sE=[171,75,84,88,32,49,49,187,13,10,26,10],Yae=67305985,Tn={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},e0=64,oE={[te.UNSIGNED_BYTE]:1,[te.UNSIGNED_SHORT]:2,[te.INT]:4,[te.UNSIGNED_INT]:4,[te.FLOAT]:4,[te.HALF_FLOAT]:8},qae={[W.RGBA]:4,[W.RGB]:3,[W.RG]:2,[W.RED]:1,[W.LUMINANCE]:1,[W.LUMINANCE_ALPHA]:2,[W.ALPHA]:1},Kae={[te.UNSIGNED_SHORT_4_4_4_4]:2,[te.UNSIGNED_SHORT_5_5_5_1]:2,[te.UNSIGNED_SHORT_5_6_5]:2};function Zae(t,e,n=!1){const r=new DataView(e);if(!Qae(t,r))return null;const i=r.getUint32(Tn.ENDIANNESS,!0)===Yae,s=r.getUint32(Tn.GL_TYPE,i),o=r.getUint32(Tn.GL_FORMAT,i),a=r.getUint32(Tn.GL_INTERNAL_FORMAT,i),l=r.getUint32(Tn.PIXEL_WIDTH,i),u=r.getUint32(Tn.PIXEL_HEIGHT,i)||1,c=r.getUint32(Tn.PIXEL_DEPTH,i)||1,h=r.getUint32(Tn.NUMBER_OF_ARRAY_ELEMENTS,i)||1,d=r.getUint32(Tn.NUMBER_OF_FACES,i),f=r.getUint32(Tn.NUMBER_OF_MIPMAP_LEVELS,i),p=r.getUint32(Tn.BYTES_OF_KEY_VALUE_DATA,i);if(u===0||c!==1)throw new Error("Only 2D textures are supported");if(d!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(h!==1)throw new Error("WebGL does not support array textures");const m=4,g=4,v=l+3&-4,y=u+3&-4,b=new Array(h);let x=l*u;s===0&&(x=v*y);let E;if(s!==0?oE[s]?E=oE[s]*qae[o]:E=Kae[s]:E=zh[a],E===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const T=n?ele(r,p,i):null;let A=x*E,k=l,M=u,$=v,j=y,O=e0+p;for(let P=0;P<f;P++){const F=r.getUint32(O,i);let G=O+4;for(let N=0;N<h;N++){let D=b[N];D||(D=b[N]=new Array(f)),D[P]={levelID:P,levelWidth:f>1||s!==0?k:$,levelHeight:f>1||s!==0?M:j,levelBuffer:new Uint8Array(e,G,A)},G+=A}O+=F+4,O=O%4!==0?O+4-O%4:O,k=k>>1||1,M=M>>1||1,$=k+m-1&~(m-1),j=M+g-1&~(g-1),A=$*j*E}return s!==0?{uncompressed:b.map(P=>{let F=P[0].levelBuffer,G=!1;return s===te.FLOAT?F=new Float32Array(P[0].levelBuffer.buffer,P[0].levelBuffer.byteOffset,P[0].levelBuffer.byteLength/4):s===te.UNSIGNED_INT?(G=!0,F=new Uint32Array(P[0].levelBuffer.buffer,P[0].levelBuffer.byteOffset,P[0].levelBuffer.byteLength/4)):s===te.INT&&(G=!0,F=new Int32Array(P[0].levelBuffer.buffer,P[0].levelBuffer.byteOffset,P[0].levelBuffer.byteLength/4)),{resource:new hu(F,{width:P[0].levelWidth,height:P[0].levelHeight}),type:s,format:G?Jae(o):o}}),kvData:T}:{compressed:b.map(P=>new Gi(null,{format:a,width:l,height:u,levels:f,levelBuffers:P})),kvData:T}}function Qae(t,e){for(let n=0;n<sE.length;n++)if(e.getUint8(n)!==sE[n])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function Jae(t){switch(t){case W.RGBA:return W.RGBA_INTEGER;case W.RGB:return W.RGB_INTEGER;case W.RG:return W.RG_INTEGER;case W.RED:return W.RED_INTEGER;default:return t}}function ele(t,e,n){const r=new Map;let i=0;for(;i<e;){const s=t.getUint32(e0+i,n),o=e0+i+4,a=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<s&&t.getUint8(o+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const u=new TextDecoder().decode(new Uint8Array(t.buffer,o,l)),c=new DataView(t.buffer,o+l+1,s-l-1);r.set(u,c),i+=4+s+a}return r}const tle={extension:{type:Y.LoadParser,priority:pr.High},test(t){return Jd(t,".dds")},async load(t,e,n){const i=await(await q.ADAPTER.fetch(t)).arrayBuffer(),o=Xae(i).map(a=>{const l=new ce(a,{mipmap:dr.OFF,alphaMode:Yn.NO_PREMULTIPLIED_ALPHA,resolution:fi(t),...e.data});return ef(l,n,t)});return o.length===1?o[0]:o},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};ee.add(tle);const nle={extension:{type:Y.LoadParser,priority:pr.High},test(t){return Jd(t,".ktx")},async load(t,e,n){const i=await(await q.ADAPTER.fetch(t)).arrayBuffer(),{compressed:s,uncompressed:o,kvData:a}=Zae(t,i),l=s??o,u={mipmap:dr.OFF,alphaMode:Yn.NO_PREMULTIPLIED_ALPHA,resolution:fi(t),...e.data},c=l.map(h=>{l===o&&Object.assign(u,{type:h.type,format:h.format});const d=new ce(h,u);return d.ktxKeyValueData=a,ef(d,n,t)});return c.length===1?c[0]:c},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};ee.add(nle);const rle={extension:Y.ResolveParser,test:t=>{const n=t.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(n)},parse:t=>{var r,i;if(t.split("?")[0].split(".").pop()==="ktx"){const s=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(s.some(o=>t.endsWith(o)))return{resolution:parseFloat(((r=q.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:s.find(o=>t.endsWith(o)),src:t}}return{resolution:parseFloat(((i=q.RETINA_PREFIX.exec(t))==null?void 0:i[1])??"1"),format:t.split(".").pop(),src:t}}};ee.add(rle);const ile=new he,sle=4,t0=class{constructor(t){this.renderer=t}async image(t,e,n){const r=new Image;return r.src=await this.base64(t,e,n),r}async base64(t,e,n){const r=this.canvas(t);if(r.toDataURL!==void 0)return r.toDataURL(e,n);if(r.convertToBlob!==void 0){const i=await r.convertToBlob({type:e,quality:n});return await new Promise(s=>{const o=new FileReader;o.onload=()=>s(o.result),o.readAsDataURL(i)})}throw new Error("Extract.base64() requires ICanvas.toDataURL or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:n,width:r,height:i,flipY:s}=this._rawPixels(t,e);let o=new $_(r,i,1);const a=o.context.getImageData(0,0,r,i);if(t0.arrayPostDivide(n,a.data),o.context.putImageData(a,0,0),s){const l=new $_(o.width,o.height,1);l.context.scale(1,-1),l.context.drawImage(o.canvas,0,-i),o.destroy(),o=l}return o.canvas}pixels(t,e){const{pixels:n}=this._rawPixels(t,e);return t0.arrayPostDivide(n,n),n}_rawPixels(t,e){const n=this.renderer;let r,i=!1,s,o=!1;if(t)if(t instanceof gi)s=t;else{const h=n.context.webGLVersion>=2?n.multisample:Ye.NONE;if(s=this.renderer.generateTexture(t,{multisample:h}),h!==Ye.NONE){const d=gi.create({width:s.width,height:s.height});n.framebuffer.bind(s.framebuffer),n.framebuffer.blit(d.framebuffer),n.framebuffer.bind(null),s.destroy(!0),s=d}o=!0}s?(r=s.baseTexture.resolution,e=e??s.frame,i=!1,n.renderTexture.bind(s)):(r=n.resolution,e||(e=ile,e.width=n.width,e.height=n.height),i=!0,n.renderTexture.bind(null));const a=Math.round(e.width*r),l=Math.round(e.height*r),u=new Uint8Array(sle*a*l),c=n.gl;return c.readPixels(Math.round(e.x*r),Math.round(e.y*r),a,l,c.RGBA,c.UNSIGNED_BYTE,u),o&&s.destroy(!0),{pixels:u,width:a,height:l,flipY:i}}destroy(){this.renderer=null}static arrayPostDivide(t,e){for(let n=0;n<t.length;n+=4){const r=e[n+3]=t[n+3];r!==0?(e[n]=Math.round(Math.min(t[n]*255/r,255)),e[n+1]=Math.round(Math.min(t[n+1]*255/r,255)),e[n+2]=Math.round(Math.min(t[n+2]*255/r,255))):(e[n]=t[n],e[n+1]=t[n+1],e[n+2]=t[n+2])}}};let YP=t0;YP.extension={name:"extract",type:Y.RendererSystem};ee.add(YP);const Hh={build(t){const e=t.points;let n,r,i,s,o,a;if(t.type===mt.CIRC){const p=t.shape;n=p.x,r=p.y,o=a=p.radius,i=s=0}else if(t.type===mt.ELIP){const p=t.shape;n=p.x,r=p.y,o=p.width,a=p.height,i=s=0}else{const p=t.shape,m=p.width/2,g=p.height/2;n=p.x+m,r=p.y+g,o=a=Math.max(0,Math.min(p.radius,Math.min(m,g))),i=m-o,s=g-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}const l=Math.ceil(2.3*Math.sqrt(o+a)),u=l*8+(i?4:0)+(s?4:0);if(e.length=u,u===0)return;if(l===0){e.length=8,e[0]=e[6]=n+i,e[1]=e[3]=r+s,e[2]=e[4]=n-i,e[5]=e[7]=r-s;return}let c=0,h=l*4+(i?2:0)+2,d=h,f=u;{const p=i+o,m=s,g=n+p,v=n-p,y=r+m;if(e[c++]=g,e[c++]=y,e[--h]=y,e[--h]=v,s){const b=r-m;e[d++]=v,e[d++]=b,e[--f]=b,e[--f]=g}}for(let p=1;p<l;p++){const m=Math.PI/2*(p/l),g=i+Math.cos(m)*o,v=s+Math.sin(m)*a,y=n+g,b=n-g,x=r+v,E=r-v;e[c++]=y,e[c++]=x,e[--h]=x,e[--h]=b,e[d++]=b,e[d++]=E,e[--f]=E,e[--f]=y}{const p=i,m=s+a,g=n+p,v=n-p,y=r+m,b=r-m;e[c++]=g,e[c++]=y,e[--f]=b,e[--f]=g,i&&(e[c++]=v,e[c++]=y,e[--f]=b,e[--f]=v)}},triangulate(t,e){const n=t.points,r=e.points,i=e.indices;if(n.length===0)return;let s=r.length/2;const o=s;let a,l;if(t.type!==mt.RREC){const c=t.shape;a=c.x,l=c.y}else{const c=t.shape;a=c.x+c.width/2,l=c.y+c.height/2}const u=t.matrix;r.push(t.matrix?u.a*a+u.c*l+u.tx:a,t.matrix?u.b*a+u.d*l+u.ty:l),s++,r.push(n[0],n[1]);for(let c=2;c<n.length;c+=2)r.push(n[c],n[c+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function aE(t,e=!1){const n=t.length;if(n<6)return;let r=0;for(let i=0,s=t[n-2],o=t[n-1];i<n;i+=2){const a=t[i],l=t[i+1];r+=(a-s)*(l+o),s=a,o=l}if(!e&&r>0||e&&r<=0){const i=n/2;for(let s=i+i%2;s<n;s+=2){const o=n-s-2,a=n-s-1,l=s,u=s+1;[t[o],t[l]]=[t[l],t[o]],[t[a],t[u]]=[t[u],t[a]]}}}const qP={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let n=t.points;const r=t.holes,i=e.points,s=e.indices;if(n.length>=6){aE(n,!1);const o=[];for(let u=0;u<r.length;u++){const c=r[u];aE(c.points,!0),o.push(n.length/2),n=n.concat(c.points)}const a=Dh(n,o,2);if(!a)return;const l=i.length/2;for(let u=0;u<a.length;u+=3)s.push(a[u]+l),s.push(a[u+1]+l),s.push(a[u+2]+l);for(let u=0;u<n.length;u++)i.push(n[u])}}},ole={build(t){const e=t.shape,n=e.x,r=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(n,r,n+i,r,n+i,r+s,n,r+s)},triangulate(t,e){const n=t.points,r=e.points;if(n.length===0)return;const i=r.length/2;r.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},ale={build(t){Hh.build(t)},triangulate(t,e){Hh.triangulate(t,e)}};var kn=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(kn||{}),Ni=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Ni||{});const zo={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let n=Math.ceil(t/this.maxLength);return n<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n}};class lE{static curveTo(e,n,r,i,s,o){const a=o[o.length-2],u=o[o.length-1]-n,c=a-e,h=i-n,d=r-e,f=Math.abs(u*d-c*h);if(f<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==n)&&o.push(e,n),null;const p=u*u+c*c,m=h*h+d*d,g=u*h+c*d,v=s*Math.sqrt(p)/f,y=s*Math.sqrt(m)/f,b=v*g/p,x=y*g/m,E=v*d+y*c,T=v*h+y*u,C=c*(y+b),A=u*(y+b),k=d*(v+x),M=h*(v+x),$=Math.atan2(A-T,C-E),j=Math.atan2(M-T,k-E);return{cx:E+e,cy:T+n,radius:s,startAngle:$,endAngle:j,anticlockwise:c*h>d*u}}static arc(e,n,r,i,s,o,a,l,u){const c=a-o,h=zo._segmentsCount(Math.abs(c)*s,Math.ceil(Math.abs(c)/Nh)*40),d=c/(h*2),f=d*2,p=Math.cos(d),m=Math.sin(d),g=h-1,v=g%1/g;for(let y=0;y<=g;++y){const b=y+v*y,x=d+o+f*b,E=Math.cos(x),T=-Math.sin(x);u.push((p*E+m*T)*s+r,(p*-T+m*E)*s+i)}}}class lle{constructor(){this.reset()}begin(e,n,r){this.reset(),this.style=e,this.start=n,this.attribStart=r}end(e,n){this.attribSize=n-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class n1{static curveLength(e,n,r,i,s,o,a,l){let c=0,h=0,d=0,f=0,p=0,m=0,g=0,v=0,y=0,b=0,x=0,E=e,T=n;for(let C=1;C<=10;++C)h=C/10,d=h*h,f=d*h,p=1-h,m=p*p,g=m*p,v=g*e+3*m*h*r+3*p*d*s+f*a,y=g*n+3*m*h*i+3*p*d*o+f*l,b=E-v,x=T-y,E=v,T=y,c+=Math.sqrt(b*b+x*x);return c}static curveTo(e,n,r,i,s,o,a){const l=a[a.length-2],u=a[a.length-1];a.length-=2;const c=zo._segmentsCount(n1.curveLength(l,u,e,n,r,i,s,o));let h=0,d=0,f=0,p=0,m=0;a.push(l,u);for(let g=1,v=0;g<=c;++g)v=g/c,h=1-v,d=h*h,f=d*h,p=v*v,m=p*v,a.push(f*l+3*d*v*e+3*h*p*r+m*s,f*u+3*d*v*n+3*h*p*i+m*o)}}function uE(t,e,n,r,i,s,o,a){const l=t-n*i,u=e-r*i,c=t+n*s,h=e+r*s;let d,f;o?(d=r,f=-n):(d=-r,f=n);const p=l+d,m=u+f,g=c+d,v=h+f;return a.push(p,m,g,v),2}function Ci(t,e,n,r,i,s,o,a){const l=n-t,u=r-e;let c=Math.atan2(l,u),h=Math.atan2(i-t,s-e);a&&c<h?c+=Math.PI*2:!a&&c>h&&(h+=Math.PI*2);let d=c;const f=h-c,p=Math.abs(f),m=Math.sqrt(l*l+u*u),g=(15*p*Math.sqrt(m)/Math.PI>>0)+1,v=f/g;if(d+=v,a){o.push(t,e,n,r);for(let y=1,b=d;y<g;y++,b+=v)o.push(t,e,t+Math.sin(b)*m,e+Math.cos(b)*m);o.push(t,e,i,s)}else{o.push(n,r,t,e);for(let y=1,b=d;y<g;y++,b+=v)o.push(t+Math.sin(b)*m,e+Math.cos(b)*m,t,e);o.push(i,s,t,e)}return g*2}function ule(t,e){const n=t.shape;let r=t.points||n.points.slice();const i=e.closePointEps;if(r.length===0)return;const s=t.lineStyle,o=new re(r[0],r[1]),a=new re(r[r.length-2],r[r.length-1]),l=n.type!==mt.POLY||n.closeStroke,u=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(l){r=r.slice(),u&&(r.pop(),r.pop(),a.set(r[r.length-2],r[r.length-1]));const N=(o.x+a.x)*.5,D=(a.y+o.y)*.5;r.unshift(N,D),r.push(N,D)}const c=e.points,h=r.length/2;let d=r.length;const f=c.length/2,p=s.width/2,m=p*p,g=s.miterLimit*s.miterLimit;let v=r[0],y=r[1],b=r[2],x=r[3],E=0,T=0,C=-(y-x),A=v-b,k=0,M=0,$=Math.sqrt(C*C+A*A);C/=$,A/=$,C*=p,A*=p;const j=s.alignment,O=(1-j)*2,P=j*2;l||(s.cap===Ni.ROUND?d+=Ci(v-C*(O-P)*.5,y-A*(O-P)*.5,v-C*O,y-A*O,v+C*P,y+A*P,c,!0)+2:s.cap===Ni.SQUARE&&(d+=uE(v,y,C,A,O,P,!0,c))),c.push(v-C*O,y-A*O,v+C*P,y+A*P);for(let N=1;N<h-1;++N){v=r[(N-1)*2],y=r[(N-1)*2+1],b=r[N*2],x=r[N*2+1],E=r[(N+1)*2],T=r[(N+1)*2+1],C=-(y-x),A=v-b,$=Math.sqrt(C*C+A*A),C/=$,A/=$,C*=p,A*=p,k=-(x-T),M=b-E,$=Math.sqrt(k*k+M*M),k/=$,M/=$,k*=p,M*=p;const D=b-v,B=y-x,I=b-E,H=T-x,X=D*I+B*H,ie=B*I-H*D,oe=ie<0;if(Math.abs(ie)<.001*Math.abs(X)){c.push(b-C*O,x-A*O,b+C*P,x+A*P),X>=0&&(s.join===kn.ROUND?d+=Ci(b,x,b-C*O,x-A*O,b-k*O,x-M*O,c,!1)+4:d+=2,c.push(b-k*P,x-M*P,b+k*O,x+M*O));continue}const de=(-C+v)*(-A+x)-(-C+b)*(-A+y),ue=(-k+E)*(-M+x)-(-k+b)*(-M+T),me=(D*ue-I*de)/ie,Ge=(H*de-B*ue)/ie,at=(me-b)*(me-b)+(Ge-x)*(Ge-x),rt=b+(me-b)*O,Se=x+(Ge-x)*O,Be=b-(me-b)*P,Ze=x-(Ge-x)*P,Ht=Math.min(D*D+B*B,I*I+H*H),cn=oe?O:P,la=Ht+cn*cn*m,lO=at<=la;let pu=s.join;if(pu===kn.MITER&&at/m>g&&(pu=kn.BEVEL),lO)switch(pu){case kn.MITER:{c.push(rt,Se,Be,Ze);break}case kn.BEVEL:{oe?c.push(rt,Se,b+C*P,x+A*P,rt,Se,b+k*P,x+M*P):c.push(b-C*O,x-A*O,Be,Ze,b-k*O,x-M*O,Be,Ze),d+=2;break}case kn.ROUND:{oe?(c.push(rt,Se,b+C*P,x+A*P),d+=Ci(b,x,b+C*P,x+A*P,b+k*P,x+M*P,c,!0)+4,c.push(rt,Se,b+k*P,x+M*P)):(c.push(b-C*O,x-A*O,Be,Ze),d+=Ci(b,x,b-C*O,x-A*O,b-k*O,x-M*O,c,!1)+4,c.push(b-k*O,x-M*O,Be,Ze));break}}else{switch(c.push(b-C*O,x-A*O,b+C*P,x+A*P),pu){case kn.MITER:{oe?c.push(Be,Ze,Be,Ze):c.push(rt,Se,rt,Se),d+=2;break}case kn.ROUND:{oe?d+=Ci(b,x,b+C*P,x+A*P,b+k*P,x+M*P,c,!0)+2:d+=Ci(b,x,b-C*O,x-A*O,b-k*O,x-M*O,c,!1)+2;break}}c.push(b-k*O,x-M*O,b+k*P,x+M*P),d+=2}}v=r[(h-2)*2],y=r[(h-2)*2+1],b=r[(h-1)*2],x=r[(h-1)*2+1],C=-(y-x),A=v-b,$=Math.sqrt(C*C+A*A),C/=$,A/=$,C*=p,A*=p,c.push(b-C*O,x-A*O,b+C*P,x+A*P),l||(s.cap===Ni.ROUND?d+=Ci(b-C*(O-P)*.5,x-A*(O-P)*.5,b-C*O,x-A*O,b+C*P,x+A*P,c,!1)+2:s.cap===Ni.SQUARE&&(d+=uE(b,x,C,A,O,P,!1,c)));const F=e.indices,G=zo.epsilon*zo.epsilon;for(let N=f;N<d+f-2;++N)v=c[N*2],y=c[N*2+1],b=c[(N+1)*2],x=c[(N+1)*2+1],E=c[(N+2)*2],T=c[(N+2)*2+1],!(Math.abs(v*(x-T)+b*(T-y)+E*(y-x))<G)&&F.push(N,N+1,N+2)}function cle(t,e){let n=0;const r=t.shape,i=t.points||r.points,s=r.type!==mt.POLY||r.closeStroke;if(i.length===0)return;const o=e.points,a=e.indices,l=i.length/2,u=o.length/2;let c=u;for(o.push(i[0],i[1]),n=1;n<l;n++)o.push(i[n*2],i[n*2+1]),a.push(c,c+1),c++;s&&a.push(c,u)}function cE(t,e){t.lineStyle.native?cle(t,e):ule(t,e)}class r1{static curveLength(e,n,r,i,s,o){const a=e-2*r+s,l=n-2*i+o,u=2*r-2*e,c=2*i-2*n,h=4*(a*a+l*l),d=4*(a*u+l*c),f=u*u+c*c,p=2*Math.sqrt(h+d+f),m=Math.sqrt(h),g=2*h*m,v=2*Math.sqrt(f),y=d/m;return(g*p+m*d*(p-v)+(4*f*h-d*d)*Math.log((2*m+y+p)/(y+v)))/(4*g)}static curveTo(e,n,r,i,s){const o=s[s.length-2],a=s[s.length-1],l=zo._segmentsCount(r1.curveLength(o,a,e,n,r,i));let u=0,c=0;for(let h=1;h<=l;++h){const d=h/l;u=o+(e-o)*d,c=a+(n-a)*d,s.push(u+(e+(r-e)*d-u)*d,c+(n+(i-n)*d-c)*d)}}}const wp={[mt.POLY]:qP,[mt.CIRC]:Hh,[mt.ELIP]:Hh,[mt.RECT]:ole,[mt.RREC]:ale},hE=[],uc=[];class Gh{constructor(e,n=null,r=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=r,this.fillStyle=n,this.matrix=i,this.type=e.type}clone(){return new Gh(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Es=new re,KP=class extends JA{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Lh,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),uc.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),hE.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,n=null,r=null){const i=new Gh(t,e,n,r);return this.graphicsData.push(i),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const n=new Gh(t,null,null,e),r=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=r.lineStyle,r.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let n=0;n<e.length;++n){const r=e[n];if(r.fillStyle.visible&&r.shape&&(r.matrix?r.matrix.applyInverse(t,Es):Es.copyFrom(t),r.shape.contains(Es.x,Es.y))){let i=!1;if(r.holes){for(let s=0;s<r.holes.length;s++)if(r.holes[s].shape.contains(Es.x,Es.y)){i=!0;break}}if(!i)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let n=null,r=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],r=n.style);for(let a=this.shapeIndex;a<e.length;a++){this.shapeIndex++;const l=e[a],u=l.fillStyle,c=l.lineStyle;wp[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix),(u.visible||c.visible)&&this.processHoles(l.holes);for(let d=0;d<2;d++){const f=d===0?u:c;if(!f.visible)continue;const p=f.texture.baseTexture,m=this.indices.length,g=this.points.length/2;p.wrapMode=ui.REPEAT,d===0?this.processFill(l):this.processLine(l);const v=this.points.length/2-g;v!==0&&(n&&!this._compareStyles(r,f)&&(n.end(m,g),n=null),n||(n=hE.pop()||new lle,n.begin(f,m,g),this.batches.push(n),r=f),this.addUvs(this.points,t,f.texture,g,v,f.matrix))}}const i=this.indices.length,s=this.points.length/2;if(n&&n.end(i,s),this.batches.length===0){this.batchable=!0;return}const o=s>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&o===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=o?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const n=this.graphicsData[t],r=n.fillStyle,i=n.lineStyle;if(r&&!r.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,n=t.length;e<n;e++){const r=t[e];for(let i=0;i<r.size;i++){const s=r.start+i;this.indicesUint16[s]=this.indicesUint16[s]-r.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<KP.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++ce._globalBatch;for(let c=0;c<this.drawCalls.length;c++)this.drawCalls[c].texArray.clear(),uc.push(this.drawCalls[c]);this.drawCalls.length=0;const e=this.colors,n=this.textureIds;let r=uc.pop();r||(r=new zg,r.texArray=new Gg),r.texArray.count=0,r.start=0,r.size=0,r.type=or.TRIANGLES;let i=0,s=null,o=0,a=!1,l=or.TRIANGLES,u=0;this.drawCalls.push(r);for(let c=0;c<this.batches.length;c++){const h=this.batches[c],d=8,f=h.style,p=f.texture.baseTexture;a!==!!f.native&&(a=!!f.native,l=a?or.LINES:or.TRIANGLES,s=null,i=d,t++),s!==p&&(s=p,p._batchEnabled!==t&&(i===d&&(t++,i=0,r.size>0&&(r=uc.pop(),r||(r=new zg,r.texArray=new Gg),this.drawCalls.push(r)),r.start=u,r.size=0,r.texArray.count=0,r.type=l),p.touched=1,p._batchEnabled=t,p._batchLocation=i,p.wrapMode=ui.REPEAT,r.texArray.elements[r.texArray.count++]=p,i++)),r.size+=h.size,u+=h.size,o=p._batchLocation,this.addColors(e,f.color,f.alpha,h.attribSize,h.attribStart),this.addTextureIds(n,o,h.attribSize,h.attribStart)}ce._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,n=this.colors,r=this.textureIds,i=new ArrayBuffer(t.length*3*4),s=new Float32Array(i),o=new Uint32Array(i);let a=0;for(let l=0;l<t.length/2;l++)s[a++]=t[l*2],s[a++]=t[l*2+1],s[a++]=e[l*2],s[a++]=e[l*2+1],o[a++]=n[l],s[a++]=r[l];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?qP.triangulate(t,this):wp[t.type].triangulate(t,this)}processLine(t){cE(t,this);for(let e=0;e<t.holes.length;e++)cE(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const n=t[e];wp[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let n=0;n<t.length/2;n++){const r=t[n*2],i=t[n*2+1];t[n*2]=e.a*r+e.c*i+e.tx,t[n*2+1]=e.b*r+e.d*i+e.ty}}addColors(t,e,n,r,i=0){const s=(e>>16)+(e&65280)+((e&255)<<16),o=Zy(s,n);t.length=Math.max(t.length,i+r);for(let a=0;a<r;a++)t[i+a]=o}addTextureIds(t,e,n,r=0){t.length=Math.max(t.length,r+n);for(let i=0;i<n;i++)t[r+i]=e}addUvs(t,e,n,r,i,s=null){let o=0;const a=e.length,l=n.frame;for(;o<i;){let c=t[(r+o)*2],h=t[(r+o)*2+1];if(s){const d=s.a*c+s.c*h+s.tx;h=s.b*c+s.d*h+s.ty,c=d}o++,e.push(c/l.width,h/l.height)}const u=n.baseTexture;(l.width<u.width||l.height<u.height)&&this.adjustUvs(e,n,a,i)}adjustUvs(t,e,n,r){const i=e.baseTexture,s=1e-6,o=n+r*2,a=e.frame,l=a.width/i.width,u=a.height/i.height;let c=a.x/a.width,h=a.y/a.height,d=Math.floor(t[n]+s),f=Math.floor(t[n+1]+s);for(let p=n+2;p<o;p+=2)d=Math.min(d,Math.floor(t[p]+s)),f=Math.min(f,Math.floor(t[p+1]+s));c-=d,h-=f;for(let p=n;p<o;p+=2)t[p]=(t[p]+c)*l,t[p+1]=(t[p+1]+h)*u}};let ZP=KP;ZP.BATCHABLE_SIZE=100;class tf{constructor(){this.color=16777215,this.alpha=1,this.texture=J.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new tf;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=J.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class i1 extends tf{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Ni.BUTT,this.join=kn.MITER,this.miterLimit=10}clone(){const e=new i1;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const hle=new Float32Array(3),_p={},Lc=class extends on{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new tf,this._lineStyle=new i1,this._matrix=null,this._holeMode=!1,this.state=Lr.for2d(),this._geometry=t||new ZP,this._geometry.refCount++,this._transformID=-1,this.tint=16777215,this.blendMode=se.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Lc(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tint}set tint(t){this._tint=t}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,n=1,r=.5,i=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:n,alignment:r,native:i}),this.lineTextureStyle(t)}lineTextureStyle(t){t=Object.assign({width:0,texture:J.WHITE,color:t!=null&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Ni.BUTT,join:kn.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();const e=t.width>0&&t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:e},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new wo,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new wo,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,r=n[n.length-2],i=n[n.length-1];return(r!==t||i!==e)&&n.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,n,r){this._initCurve();const i=this.currentPath.points;return i.length===0&&this.moveTo(0,0),r1.curveTo(t,e,n,r,i),this}bezierCurveTo(t,e,n,r,i,s){return this._initCurve(),n1.curveTo(t,e,n,r,i,s,this.currentPath.points),this}arcTo(t,e,n,r,i){this._initCurve(t,e);const s=this.currentPath.points,o=lE.curveTo(t,e,n,r,i,s);if(o){const{cx:a,cy:l,radius:u,startAngle:c,endAngle:h,anticlockwise:d}=o;this.arc(a,l,u,c,h,d)}return this}arc(t,e,n,r,i,s=!1){if(r===i)return this;if(!s&&i<=r?i+=Nh:s&&r<=i&&(r+=Nh),i-r===0)return this;const a=t+Math.cos(r)*n,l=e+Math.sin(r)*n,u=this._geometry.closePointEps;let c=this.currentPath?this.currentPath.points:null;if(c){const h=Math.abs(c[c.length-2]-a),d=Math.abs(c[c.length-1]-l);h<u&&d<u||c.push(a,l)}else this.moveTo(a,l),c=this.currentPath.points;return lE.arc(a,l,t,e,n,r,i,s,c),this}beginFill(t=0,e=1){return this.beginTextureFill({texture:J.WHITE,color:t,alpha:e})}beginTextureFill(t){t=Object.assign({texture:J.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();const e=t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:e},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,n,r){return this.drawShape(new he(t,e,n,r))}drawRoundedRect(t,e,n,r,i){return this.drawShape(new Ll(t,e,n,r,i))}drawCircle(t,e,n){return this.drawShape(new Zd(t,e,n))}drawEllipse(t,e,n,r){return this.drawShape(new Qy(t,e,n,r))}drawPolygon(...t){let e,n=!0;const r=t[0];r.points?(n=r.closeStroke,e=r.points):Array.isArray(t[0])?e=t[0]:e=t;const i=new wo(e);return i.closeStroke=n,this.drawShape(i),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===mt.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,n=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(t.points);for(let r=0;r<n;r++){const i=t.batches[r],s=i.style.color,o=new Float32Array(this.vertexData.buffer,i.attribStart*4*2,i.attribSize*2),a=new Float32Array(t.uvsFloat32.buffer,i.attribStart*4*2,i.attribSize*2),l=new Uint16Array(t.indicesUint16.buffer,i.start*2,i.size),u={vertexData:o,blendMode:e,indices:l,uvs:a,_batchRGB:Bl(s),_tintRGB:s,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[r]=u}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,n=this.batches.length;e<n;e++){const r=this.batches[e];r.worldAlpha=this.worldAlpha*r.alpha,t.plugins[this.pluginName].render(r)}}}_renderDirect(t){const e=this._resolveDirectShader(t),n=this._geometry,r=this.tint,i=this.worldAlpha,s=e.uniforms,o=n.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(r>>16&255)/255*i,s.tint[1]=(r>>8&255)/255*i,s.tint[2]=(r&255)/255*i,s.tint[3]=i,t.shader.bind(e),t.geometry.bind(n,e),t.state.set(this.state);for(let a=0,l=o.length;a<l;a++)this._renderDrawCallDirect(t,n.drawCalls[a])}_renderDrawCallDirect(t,e){const{texArray:n,type:r,size:i,start:s}=e,o=n.count;for(let a=0;a<o;a++)t.texture.bind(n.elements[a],a);t.geometry.draw(r,i,s)}_resolveDirectShader(t){let e=this.shader;const n=this.pluginName;if(!e){if(!_p[n]){const{maxTextures:r}=t.plugins[n],i=new Int32Array(r);for(let a=0;a<r;a++)i[a]=a;const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new $e,default:Gn.from({uSamplers:i},!0)},o=t.plugins[n]._shader.program;_p[n]=new hr(o,s)}e=_p[n]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:n,maxX:r,maxY:i}=t.bounds;this._bounds.addFrame(this.transform,e,n,r,i)}containsPoint(t){return this.worldTransform.applyInverse(t,Lc._TEMP_POINT),this._geometry.containsPoint(Lc._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this.tint;const t=Bl(this.tint,hle);for(let e=0;e<this.batches.length;e++){const n=this.batches[e],r=n._batchRGB,i=t[0]*r[0]*255,s=t[1]*r[1]*255,o=t[2]*r[2]*255,a=(i<<16)+(s<<8)+(o|0);n._tintRGB=(a>>16)+(a&65280)+((a&255)<<16)}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,n=e.a,r=e.b,i=e.c,s=e.d,o=e.tx,a=e.ty,l=this._geometry.points,u=this.vertexData;let c=0;for(let h=0;h<l.length;h+=2){const d=l[h],f=l[h+1];u[c++]=n*d+i*f+o,u[c++]=s*f+r*d+a}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};let Wi=Lc;Wi.curves=zo;Wi._TEMP_POINT=new re;class dle{constructor(e,n){this.uvBuffer=e,this.uvMatrix=n,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const n=this.uvBuffer.data;(!this.data||this.data.length!==n.length)&&(this.data=new Float32Array(n.length)),this.uvMatrix.multiplyUvs(n,this.data),this._updateID++}}const Ep=new re,dE=new wo,QP=class extends on{constructor(t,e,n,r=or.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=n||Lr.for2d(),this.drawMode=r,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=q.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===or.TRIANGLES&&e.length<QP.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]),t.plugins[r].render(this)}calculateVertices(){const e=this.geometry.buffers[0],n=e.data,r=e._updateID;if(r===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==n.length&&(this.vertexData=new Float32Array(n.length));const i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,l=i.d,u=i.tx,c=i.ty,h=this.vertexData;for(let d=0;d<h.length/2;d++){const f=n[d*2],p=n[d*2+1];h[d*2]=s*f+a*p+u,h[d*2+1]=o*f+l*p+c}if(this._roundPixels){const d=q.RESOLUTION;for(let f=0;f<h.length;++f)h[f]=Math.round(h[f]*d)/d}this.vertexDirty=r}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new dle(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,Ep);const e=this.geometry.getBuffer("aVertexPosition").data,n=dE.points,r=this.geometry.getIndex().data,i=r.length,s=this.drawMode===4?3:1;for(let o=0;o+2<i;o+=s){const a=r[o]*2,l=r[o+1]*2,u=r[o+2]*2;if(n[0]=e[a],n[1]=e[a+1],n[2]=e[l],n[3]=e[l+1],n[4]=e[u],n[5]=e[u+1],dE.contains(Ep.x,Ep.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let n0=QP;n0.BATCHABLE_SIZE=100;class fle extends pi{constructor(e,n,r){super();const i=new Qe(e),s=new Qe(n,!0),o=new Qe(r,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,te.FLOAT).addAttribute("aTextureCoord",s,2,!1,te.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var ple=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,mle=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class fE extends hr{constructor(e,n){const r={uSampler:e,alpha:1,uTextureMatrix:$e.IDENTITY,uColor:new Float32Array([1,1,1,1])};n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(r,n.uniforms),super(n.program||Nn.from(mle,ple),r),this._colorDirty=!1,this.uvMatrix=new vP(e),this.batchable=n.program===void 0,this.pluginName=n.pluginName,this.tint=n.tint,this.alpha=n.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16),this._colorDirty=!0)}get tint(){return this._tint}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture;qA(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class pE{constructor(e,n,r){this.geometry=new pi,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||te.FLOAT,offset:s.offset},n[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let n=0;this.indexBuffer=new Qe(sse(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=n,n+=a.size,this.dynamicStride+=a.size}const r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new Qe(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new Qe(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===te.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===te.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,n,r){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,n,r,s.type===te.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,n,r){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,n,r,s.type===te.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var gle=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,vle=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class JP extends Qd{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new $e,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:te.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=hr.from(vle,gle,{}),this.state=Lr.for2d()}render(e){const n=e.children,r=e._maxSize,i=e._batchSize,s=this.renderer;let o=n.length;if(o===0)return;o>r&&!e.autoResize&&(o=r);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const l=n[0]._texture.baseTexture,u=l.alphaMode>0;this.state.blendMode=YA(e.blendMode,u),s.state.set(this.state);const c=s.gl,h=e.worldTransform.copyTo(this.tempMatrix);h.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=h.toArray(!0),this.shader.uniforms.uColor=ise(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,u),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);let d=!1;for(let f=0,p=0;f<o;f+=i,p+=1){let m=o-f;m>i&&(m=i),p>=a.length&&a.push(this._generateOneMoreBuffer(e));const g=a[p];g.uploadDynamic(n,f,m);const v=e._bufferUpdateIDs[p]||0;d=d||g._updateID<v,d&&(g._updateID=e._updateID,g.uploadStatic(n,f,m)),s.geometry.bind(g.geometry),c.drawElements(c.TRIANGLES,m*6,c.UNSIGNED_SHORT,0)}}generateBuffers(e){const n=[],r=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<r;o+=i)n.push(new pE(this.properties,s,i));return n}_generateOneMoreBuffer(e){const n=e._batchSize,r=e._properties;return new pE(this.properties,r,n)}uploadVertices(e,n,r,i,s,o){let a=0,l=0,u=0,c=0;for(let h=0;h<r;++h){const d=e[n+h],f=d._texture,p=d.scale.x,m=d.scale.y,g=f.trim,v=f.orig;g?(l=g.x-d.anchor.x*v.width,a=l+g.width,c=g.y-d.anchor.y*v.height,u=c+g.height):(a=v.width*(1-d.anchor.x),l=v.width*-d.anchor.x,u=v.height*(1-d.anchor.y),c=v.height*-d.anchor.y),i[o]=l*p,i[o+1]=c*m,i[o+s]=a*p,i[o+s+1]=c*m,i[o+s*2]=a*p,i[o+s*2+1]=u*m,i[o+s*3]=l*p,i[o+s*3+1]=u*m,o+=s*4}}uploadPosition(e,n,r,i,s,o){for(let a=0;a<r;a++){const l=e[n+a].position;i[o]=l.x,i[o+1]=l.y,i[o+s]=l.x,i[o+s+1]=l.y,i[o+s*2]=l.x,i[o+s*2+1]=l.y,i[o+s*3]=l.x,i[o+s*3+1]=l.y,o+=s*4}}uploadRotation(e,n,r,i,s,o){for(let a=0;a<r;a++){const l=e[n+a].rotation;i[o]=l,i[o+s]=l,i[o+s*2]=l,i[o+s*3]=l,o+=s*4}}uploadUvs(e,n,r,i,s,o){for(let a=0;a<r;++a){const l=e[n+a]._texture._uvs;l?(i[o]=l.x0,i[o+1]=l.y0,i[o+s]=l.x1,i[o+s+1]=l.y1,i[o+s*2]=l.x2,i[o+s*2+1]=l.y2,i[o+s*3]=l.x3,i[o+s*3+1]=l.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,n,r,i,s,o){for(let a=0;a<r;++a){const l=e[n+a],u=l._texture.baseTexture.alphaMode>0,c=l.alpha,h=c<1&&u?Zy(l._tintRGB,c):l._tintRGB+(c*255<<24);i[o]=h,i[o+s]=h,i[o+s*2]=h,i[o+s*3]=h,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}JP.extension={name:"particle",type:Y.RendererPlugin};ee.add(JP);var nf=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(nf||{});const cc={willReadFrequently:!0},Z=class{static get experimentalLetterSpacingSupported(){let t=Z._experimentalLetterSpacingSupported;if(t!==void 0){const e=q.ADAPTER.getCanvasRenderingContext2D().prototype;t=Z._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,n,r,i,s,o,a,l){this.text=t,this.style=e,this.width=n,this.height=r,this.lines=i,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=l}static measureText(t,e,n,r=Z._canvas){n=n??e.wordWrap;const i=e.toFontString(),s=Z.measureFont(i);s.fontSize===0&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);const o=r.getContext("2d",cc);o.font=i;const l=(n?Z.wordWrap(t,e,r):t).split(/(?:\r\n|\r|\n)/),u=new Array(l.length);let c=0;for(let p=0;p<l.length;p++){const m=Z._measureText(l[p],e.letterSpacing,o);u[p]=m,c=Math.max(c,m)}let h=c+e.strokeThickness;e.dropShadow&&(h+=e.dropShadowDistance);const d=e.lineHeight||s.fontSize+e.strokeThickness;let f=Math.max(d,s.fontSize+e.strokeThickness*2)+(l.length-1)*(d+e.leading);return e.dropShadow&&(f+=e.dropShadowDistance),new Z(t,e,h,f,l,u,d+e.leading,c,s)}static _measureText(t,e,n){let r=!1;Z.experimentalLetterSpacingSupported&&(Z.experimentalLetterSpacing?(n.letterSpacing=`${e}px`,n.textLetterSpacing=`${e}px`,r=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let i=n.measureText(t).width;return i>0&&(r?i-=e:i+=(Z.graphemeSegmenter(t).length-1)*e),i}static wordWrap(t,e,n=Z._canvas){const r=n.getContext("2d",cc);let i=0,s="",o="";const a=Object.create(null),{letterSpacing:l,whiteSpace:u}=e,c=Z.collapseSpaces(u),h=Z.collapseNewlines(u);let d=!c;const f=e.wordWrapWidth+l,p=Z.tokenize(t);for(let m=0;m<p.length;m++){let g=p[m];if(Z.isNewline(g)){if(!h){o+=Z.addLine(s),d=!c,s="",i=0;continue}g=" "}if(c){const y=Z.isBreakingSpace(g),b=Z.isBreakingSpace(s[s.length-1]);if(y&&b)continue}const v=Z.getFromCache(g,l,a,r);if(v>f)if(s!==""&&(o+=Z.addLine(s),s="",i=0),Z.canBreakWords(g,e.breakWords)){const y=Z.wordWrapSplit(g);for(let b=0;b<y.length;b++){let x=y[b],E=x,T=1;for(;y[b+T];){const A=y[b+T];if(!Z.canBreakChars(E,A,g,b,e.breakWords))x+=A;else break;E=A,T++}b+=T-1;const C=Z.getFromCache(x,l,a,r);C+i>f&&(o+=Z.addLine(s),d=!1,s="",i=0),s+=x,i+=C}}else{s.length>0&&(o+=Z.addLine(s),s="",i=0);const y=m===p.length-1;o+=Z.addLine(g,!y),d=!1,s="",i=0}else v+i>f&&(d=!1,o+=Z.addLine(s),s="",i=0),(s.length>0||!Z.isBreakingSpace(g)||d)&&(s+=g,i+=v)}return o+=Z.addLine(s,!1),o}static addLine(t,e=!0){return t=Z.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,n,r){let i=n[t];return typeof i!="number"&&(i=Z._measureText(t,e,r)+e,n[t]=i),i}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const n=t[e];if(!Z.isBreakingSpace(n))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:Z._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:Z._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let n="";if(typeof t!="string")return e;for(let r=0;r<t.length;r++){const i=t[r],s=t[r+1];if(Z.isBreakingSpace(i,s)||Z.isNewline(i)){n!==""&&(e.push(n),n=""),e.push(i);continue}n+=i}return n!==""&&e.push(n),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,n,r,i){return!0}static wordWrapSplit(t){return Z.graphemeSegmenter(t)}static measureFont(t){if(Z._fonts[t])return Z._fonts[t];const e={ascent:0,descent:0,fontSize:0},n=Z._canvas,r=Z._context;r.font=t;const i=Z.METRICS_STRING+Z.BASELINE_SYMBOL,s=Math.ceil(r.measureText(i).width);let o=Math.ceil(r.measureText(Z.BASELINE_SYMBOL).width);const a=Math.ceil(Z.HEIGHT_MULTIPLIER*o);if(o=o*Z.BASELINE_MULTIPLIER|0,s===0||a===0)return Z._fonts[t]=e,e;n.width=s,n.height=a,r.fillStyle="#f00",r.fillRect(0,0,s,a),r.font=t,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(i,0,o);const l=r.getImageData(0,0,s,a).data,u=l.length,c=s*4;let h=0,d=0,f=!1;for(h=0;h<o;++h){for(let p=0;p<c;p+=4)if(l[d+p]!==255){f=!0;break}if(!f)d+=c;else break}for(e.ascent=o-h,d=u-c,f=!1,h=a;h>o;--h){for(let p=0;p<c;p+=4)if(l[d+p]!==255){f=!0;break}if(!f)d-=c;else break}return e.descent=h-o,e.fontSize=e.ascent+e.descent,Z._fonts[t]=e,e}static clearMetrics(t=""){t?delete Z._fonts[t]:Z._fonts={}}static get _canvas(){if(!Z.__canvas){let t;try{const e=new OffscreenCanvas(0,0),n=e.getContext("2d",cc);if(n!=null&&n.measureText)return Z.__canvas=e,e;t=q.ADAPTER.createCanvas()}catch{t=q.ADAPTER.createCanvas()}t.width=t.height=10,Z.__canvas=t}return Z.__canvas}static get _context(){return Z.__context||(Z.__context=Z._canvas.getContext("2d",cc)),Z.__context}};let pt=Z;pt.METRICS_STRING="|q";pt.BASELINE_SYMBOL="M";pt.BASELINE_MULTIPLIER=1.4;pt.HEIGHT_MULTIPLIER=2;pt.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(n=>n.segment)}return t=>[...t]})();pt.experimentalLetterSpacing=!1;pt._fonts={};pt._newlines=[10,13];pt._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const yle=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Va=class{constructor(t){this.styleID=0,this.reset(),Cp(this,t,t)}clone(){const t={};return Cp(t,this,Va.defaultStyle),new Va(t)}reset(){Cp(this,Va.defaultStyle,Va.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=Sp(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=Sp(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){ble(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=Sp(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let n=e.length-1;n>=0;n--){let r=e[n].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&!yle.includes(r)&&(r=`"${r}"`),e[n]=r}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};let is=Va;is.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:nf.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};function mE(t){return typeof t=="number"?VA(t):(typeof t=="string"&&t.startsWith("0x")&&(t=t.replace("0x","#")),t)}function Sp(t){if(Array.isArray(t)){for(let e=0;e<t.length;++e)t[e]=mE(t[e]);return t}else return mE(t)}function ble(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}function Cp(t,e,n){for(const r in n)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}const xle={texture:!0,children:!1,baseTexture:!0},r0=class extends du{constructor(t,e,n){let r=!1;n||(n=q.ADAPTER.createCanvas(),r=!0),n.width=3,n.height=3;const i=J.from(n);i.orig=new he,i.trim=new he,super(i),this._ownCanvas=r,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=r0.defaultResolution??q.RESOLUTION,this._autoResolution=r0.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return pt.experimentalLetterSpacing}static set experimentalLetterSpacing(t){ve("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),pt.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const n=this.context,r=pt.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=r.width,s=r.height,o=r.lines,a=r.lineHeight,l=r.lineWidths,u=r.maxLineWidth,c=r.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,i)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+e.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;let h,d;const f=e.dropShadow?2:1;for(let p=0;p<f;++p){const m=e.dropShadow&&p===0,g=m?Math.ceil(Math.max(1,s)+e.padding*2):0,v=g*this._resolution;if(m){n.fillStyle="black",n.strokeStyle="black";const b=e.dropShadowColor,x=Bl(typeof b=="number"?b:Ky(b)),E=e.dropShadowBlur*this._resolution,T=e.dropShadowDistance*this._resolution;n.shadowColor=`rgba(${x[0]*255},${x[1]*255},${x[2]*255},${e.dropShadowAlpha})`,n.shadowBlur=E,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*T,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*T+v}else n.fillStyle=this._generateFillStyle(e,o,r),n.strokeStyle=e.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let y=(a-c.fontSize)/2;a-c.fontSize<0&&(y=0);for(let b=0;b<o.length;b++)h=e.strokeThickness/2,d=e.strokeThickness/2+b*a+c.ascent+y,e.align==="right"?h+=u-l[b]:e.align==="center"&&(h+=(u-l[b])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(o[b],h+e.padding,d+e.padding-g,!0),e.fill&&this.drawLetterSpacing(o[b],h+e.padding,d+e.padding-g)}this.updateTexture()}drawLetterSpacing(t,e,n,r=!1){const s=this._style.letterSpacing;let o=!1;if(pt.experimentalLetterSpacingSupported&&(pt.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){r?this.context.strokeText(t,e,n):this.context.fillText(t,e,n);return}let a=e;const l=pt.graphemeSegmenter(t);let u=this.context.measureText(t).width,c=0;for(let h=0;h<l.length;++h){const d=l[h];r?this.context.strokeText(d,a,n):this.context.fillText(d,a,n);let f="";for(let p=h+1;p<l.length;++p)f+=l[p];c=this.context.measureText(f).width,a+=u-c+s,u=c}}updateTexture(){const t=this.canvas;if(this._style.trim){const s=lse(t);s.data&&(t.width=s.width,t.height=s.height,this.context.putImageData(s.data,0,0))}const e=this._texture,n=this._style,r=n.trim?0:n.padding,i=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-r,e.trim.y=-r,e.orig.width=e._frame.width-r*2,e.orig.height=e._frame.height-r*2,this._onTextureUpdate(),i.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,n){const r=t.fill;if(Array.isArray(r)){if(r.length===1)return r[0]}else return r;let i;const s=t.dropShadow?t.dropShadowDistance:0,o=t.padding||0,a=this.canvas.width/this._resolution-s-o*2,l=this.canvas.height/this._resolution-s-o*2,u=r.slice(),c=t.fillGradientStops.slice();if(!c.length){const h=u.length+1;for(let d=1;d<h;++d)c.push(d/h)}if(u.unshift(r[0]),c.unshift(0),u.push(r[r.length-1]),c.push(1),t.fillGradientType===nf.LINEAR_VERTICAL){i=this.context.createLinearGradient(a/2,o,a/2,l+o);const h=n.fontProperties.fontSize+t.strokeThickness;for(let d=0;d<e.length;d++){const f=n.lineHeight*(d-1)+h,p=n.lineHeight*d;let m=p;d>0&&f>p&&(m=(p+f)/2);const g=p+h,v=n.lineHeight*(d+1);let y=g;d+1<e.length&&v<g&&(y=(g+v)/2);const b=(y-m)/l;for(let x=0;x<u.length;x++){let E=0;typeof c[x]=="number"?E=c[x]:E=x/u.length;let T=Math.min(1,Math.max(0,m/l+E*b));T=Number(T.toFixed(5)),i.addColorStop(T,u[x])}}}else{i=this.context.createLinearGradient(o,l/2,a+o,l/2);const h=u.length+1;let d=1;for(let f=0;f<u.length;f++){let p;typeof c[f]=="number"?p=c[f]:p=d/h,i.addColorStop(p,u[f]),d++}}return i}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},xle,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=io(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=io(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof is?this._style=t:this._style=new is(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};let Eo=r0;Eo.defaultAutoResolution=!0;class wle{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function _le(t,e){var r;let n=!1;if((r=t==null?void 0:t._textures)!=null&&r.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof J){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),n=!0)}}return n}function Ele(t,e){if(t.baseTexture instanceof ce){const n=t.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function Sle(t,e){if(t._texture&&t._texture instanceof J){const n=t._texture.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function Cle(t,e){return e instanceof Eo?(e.updateText(!0),!0):!1}function Tle(t,e){if(e instanceof is){const n=e.toFontString();return pt.measureFont(n),!0}return!1}function Ale(t,e){if(t instanceof Eo){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const n=t._texture.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function Ple(t,e){return t instanceof is?(e.includes(t)||e.push(t),!0):!1}const eO=class{constructor(t){this.limiter=new wle(eO.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(Ale),this.registerFindHook(Ple),this.registerFindHook(_le),this.registerFindHook(Ele),this.registerFindHook(Sle),this.registerUploadHook(Cle),this.registerUploadHook(Tle)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,Tt.system.addOnce(this.tick,this,Uo.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed){for(let n=0,r=this.uploadHooks.length;n<r;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)Tt.system.addOnce(this.tick,this,Uo.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,n=t.length;e<n;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,n=this.addHooks.length;e<n&&!this.addHooks[e](t,this.queue);e++);if(t instanceof on)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&Tt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let Wh=eO;Wh.uploadsPerFrame=4;Object.defineProperties(q,{UPLOADS_PER_FRAME:{get(){return Wh.uploadsPerFrame},set(t){ve("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),Wh.uploadsPerFrame=t}}});function tO(t,e){return e instanceof ce?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function Ole(t,e){if(!(e instanceof Wi))return!1;const{geometry:n}=e;e.finishPoly(),n.updateBatches();const{batches:r}=n;for(let i=0;i<r.length;i++){const{texture:s}=r[i].style;s&&tO(t,s.baseTexture)}return n.batchable||t.geometry.bind(n,e._resolveDirectShader(t)),!0}function Rle(t,e){return t instanceof Wi?(e.push(t),!0):!1}class nO extends Wh{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(Rle),this.registerUploadHook(tO),this.registerUploadHook(Ole)}}nO.extension={name:"prepare",type:Y.RendererSystem};ee.add(nO);var Ile=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,kle=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Mle=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,gE=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Dle=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const hc=new $e;class rO extends Qd{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new fP,this.state=Lr.for2d()}contextChange(){const e=this.renderer,n={globals:e.globalUniforms};this.simpleShader=hr.from(gE,Dle,n),this.shader=e.context.webGLVersion>1?hr.from(kle,Ile,n):hr.from(gE,Mle,n)}render(e){const n=this.renderer,r=this.quad;let i=r.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=r.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,r.invalidate();const a=e._texture,l=a.baseTexture,u=l.alphaMode>0,c=e.tileTransform.localTransform,h=e.uvMatrix;let d=l.isPowerOfTwo&&a.frame.width===l.width&&a.frame.height===l.height;d&&(l._glTextures[n.CONTEXT_UID]?d=l.wrapMode!==ui.CLAMP:l.wrapMode===ui.CLAMP&&(l.wrapMode=ui.REPEAT));const f=d?this.simpleShader:this.shader,p=a.width,m=a.height,g=e._width,v=e._height;hc.set(c.a*p/g,c.b*p/v,c.c*m/g,c.d*m/v,c.tx/g,c.ty/v),hc.invert(),d?hc.prepend(h.mapCoord):(f.uniforms.uMapCoord=h.mapCoord.toArray(!0),f.uniforms.uClampFrame=h.uClampFrame,f.uniforms.uClampOffset=h.uClampOffset),f.uniforms.uTransform=hc.toArray(!0),f.uniforms.uColor=qA(e.tint,e.worldAlpha,f.uniforms.uColor,u),f.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),f.uniforms.uSampler=a,n.shader.bind(f),n.geometry.bind(r),this.state.blendMode=YA(e.blendMode,u),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}rO.extension={name:"tilingSprite",type:Y.RendererPlugin};ee.add(rO);const Xa=class{constructor(t,e,n=null){this.linkedSheets=[],this._texture=t instanceof J?t:null,this.baseTexture=t instanceof ce?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const r=this.baseTexture.resource;this.resolution=this._updateResolution(n||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let n=fi(t,null);return n===null&&(n=parseFloat(e??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=Xa.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const n=Xa.BATCH_SIZE;for(;e-t<n&&e<this._frameKeys.length;){const r=this._frameKeys[e],i=this._frames[r],s=i.frame;if(s){let o=null,a=null;const l=i.trimmed!==!1&&i.sourceSize?i.sourceSize:i.frame,u=new he(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);i.rotated?o=new he(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):o=new he(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),i.trimmed!==!1&&i.spriteSourceSize&&(a=new he(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[r]=new J(this.baseTexture,o,u,a,i.rotated?2:0,i.anchor),J.addToCache(this.textures[r],r)}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let n=0;n<t[e].length;n++){const r=t[e][n];this.animations[e].push(this.textures[r])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Xa.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Xa.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var e;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)==null||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let i0=Xa;i0.BATCH_SIZE=1e3;const Fle=["jpg","png","jpeg","avif","webp"];function iO(t,e,n){const r={};if(t.forEach(i=>{r[i]=e}),Object.keys(e.textures).forEach(i=>{r[i]=e.textures[i]}),!n){const i=yt.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const a=iO([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(r,a)})}return r}const $le={extension:Y.Asset,cache:{test:t=>t instanceof i0,getCacheableAssets:(t,e)=>iO(t,e,!1)},resolver:{test:t=>{const n=t.split("?")[0].split("."),r=n.pop(),i=n.pop();return r==="json"&&Fle.includes(i)},parse:t=>{var n;const e=t.split(".");return{resolution:parseFloat(((n=q.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:e[e.length-2],src:t}}},loader:{extension:{type:Y.LoadParser,priority:pr.Normal},async testParse(t,e){return yt.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,n){var u,c;let r=yt.dirname(e.src);r&&r.lastIndexOf("/")!==r.length-1&&(r+="/");let i=r+t.meta.image;i=Jg(i,e.src);const o=(await n.load([i]))[i],a=new i0(o.baseTexture,t,e.src);await a.parse();const l=(u=t==null?void 0:t.meta)==null?void 0:u.related_multi_packs;if(Array.isArray(l)){const h=[];for(const f of l){if(typeof f!="string")continue;let p=r+f;(c=e.data)!=null&&c.ignoreMultiPack||(p=Jg(p,e.src),h.push(n.load({src:p,data:{ignoreMultiPack:!0}})))}const d=await Promise.all(h);a.linkedSheets=d,d.forEach(f=>{f.linkedSheets=[a].concat(a.linkedSheets.filter(p=>p!==f))})}return a},unload(t){t.destroy(!0)}}};ee.add($le);class Vh{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Uc{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const n=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in n){const o=n[s].match(/^[a-z]+/gm)[0],a=n[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),l={};for(const u in a){const c=a[u].split("="),h=c[0],d=c[1].replace(/"/gm,""),f=parseFloat(d),p=isNaN(f)?d:f;l[h]=p}r[o].push(l)}const i=new Vh;return r.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),r.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),r.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),r.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),r.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),r.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class s0{static test(e){const n=e;return"getElementsByTagName"in n&&n.getElementsByTagName("page").length&&n.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const n=new Vh,r=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField");for(let u=0;u<r.length;u++)n.info.push({face:r[u].getAttribute("face"),size:parseInt(r[u].getAttribute("size"),10)});for(let u=0;u<i.length;u++)n.common.push({lineHeight:parseInt(i[u].getAttribute("lineHeight"),10)});for(let u=0;u<s.length;u++)n.page.push({id:parseInt(s[u].getAttribute("id"),10)||0,file:s[u].getAttribute("file")});for(let u=0;u<o.length;u++){const c=o[u];n.char.push({id:parseInt(c.getAttribute("id"),10),page:parseInt(c.getAttribute("page"),10)||0,x:parseInt(c.getAttribute("x"),10),y:parseInt(c.getAttribute("y"),10),width:parseInt(c.getAttribute("width"),10),height:parseInt(c.getAttribute("height"),10),xoffset:parseInt(c.getAttribute("xoffset"),10),yoffset:parseInt(c.getAttribute("yoffset"),10),xadvance:parseInt(c.getAttribute("xadvance"),10)})}for(let u=0;u<a.length;u++)n.kerning.push({first:parseInt(a[u].getAttribute("first"),10),second:parseInt(a[u].getAttribute("second"),10),amount:parseInt(a[u].getAttribute("amount"),10)});for(let u=0;u<l.length;u++)n.distanceField.push({fieldType:l[u].getAttribute("fieldType"),distanceRange:parseInt(l[u].getAttribute("distanceRange"),10)});return n}}class o0{static test(e){return typeof e=="string"&&e.includes("<font>")?s0.test(q.ADAPTER.parseXML(e)):!1}static parse(e){return s0.parse(q.ADAPTER.parseXML(e))}}const Tp=[Uc,s0,o0];function Ble(t){for(let e=0;e<Tp.length;e++)if(Tp[e].test(t))return Tp[e];return null}function Nle(t,e,n,r,i,s){const o=n.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const l=n.dropShadow?n.dropShadowDistance:0,u=n.padding||0,c=t.width/r-l-u*2,h=t.height/r-l-u*2,d=o.slice(),f=n.fillGradientStops.slice();if(!f.length){const p=d.length+1;for(let m=1;m<p;++m)f.push(m/p)}if(d.unshift(o[0]),f.unshift(0),d.push(o[o.length-1]),f.push(1),n.fillGradientType===nf.LINEAR_VERTICAL){a=e.createLinearGradient(c/2,u,c/2,h+u);let p=0;const g=(s.fontProperties.fontSize+n.strokeThickness)/h;for(let v=0;v<i.length;v++){const y=s.lineHeight*v;for(let b=0;b<d.length;b++){let x=0;typeof f[b]=="number"?x=f[b]:x=b/d.length;const E=y/h+x*g;let T=Math.max(p,E);T=Math.min(T,1),a.addColorStop(T,d[b]),p=T}}}else{a=e.createLinearGradient(u,h/2,c+u,h/2);const p=d.length+1;let m=1;for(let g=0;g<d.length;g++){let v;typeof f[g]=="number"?v=f[g]:v=m/p,a.addColorStop(v,d[g]),m++}}return a}function Lle(t,e,n,r,i,s,o){const a=n.text,l=n.fontProperties;e.translate(r,i),e.scale(s,s);const u=o.strokeThickness/2,c=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=Nle(t,e,o,s,[a],n),e.strokeStyle=o.stroke,o.dropShadow){const h=o.dropShadowColor,d=Bl(typeof h=="number"?h:Ky(h)),f=o.dropShadowBlur*s,p=o.dropShadowDistance*s;e.shadowColor=`rgba(${d[0]*255},${d[1]*255},${d[2]*255},${o.dropShadowAlpha})`,e.shadowBlur=f,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*p,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*p}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,u,c+n.lineHeight-l.descent),o.fill&&e.fillText(a,u,c+n.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function jc(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function sO(t){return Array.from?Array.from(t):t.split("")}function Ule(t){typeof t=="string"&&(t=[t]);const e=[];for(let n=0,r=t.length;n<r;n++){const i=t[n];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,l=o;a<=l;a++)e.push(String.fromCharCode(a))}else e.push(...sO(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const Rn=class{constructor(t,e,n){var u;const[r]=t.info,[i]=t.common,[s]=t.page,[o]=t.distanceField,a=fi(s.file),l={};this._ownsTextures=n,this.font=r.face,this.size=r.size,this.lineHeight=i.lineHeight/a,this.chars={},this.pageTextures=l;for(let c=0;c<t.page.length;c++){const{id:h,file:d}=t.page[c];l[h]=e instanceof Array?e[c]:e[d],o!=null&&o.fieldType&&o.fieldType!=="none"&&(l[h].baseTexture.alphaMode=Yn.NO_PREMULTIPLIED_ALPHA,l[h].baseTexture.mipmap=dr.OFF)}for(let c=0;c<t.char.length;c++){const{id:h,page:d}=t.char[c];let{x:f,y:p,width:m,height:g,xoffset:v,yoffset:y,xadvance:b}=t.char[c];f/=a,p/=a,m/=a,g/=a,v/=a,y/=a,b/=a;const x=new he(f+l[d].frame.x/a,p+l[d].frame.y/a,m,g);this.chars[h]={xOffset:v,yOffset:y,xAdvance:b,kerning:{},texture:new J(l[d].baseTexture,x),page:d}}for(let c=0;c<t.kerning.length;c++){let{first:h,second:d,amount:f}=t.kerning[c];h/=a,d/=a,f/=a,this.chars[d]&&(this.chars[d].kerning[h]=f)}this.distanceFieldRange=o==null?void 0:o.distanceRange,this.distanceFieldType=((u=o==null?void 0:o.fieldType)==null?void 0:u.toLowerCase())??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,n){let r;if(t instanceof Vh)r=t;else{const s=Ble(t);if(!s)throw new Error("Unrecognized data format for font.");r=s.parse(t)}e instanceof J&&(e=[e]);const i=new Rn(r,e,n);return Rn.available[i.font]=i,i}static uninstall(t){const e=Rn.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete Rn.available[t]}static from(t,e,n){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:r,padding:i,resolution:s,textureWidth:o,textureHeight:a,...l}=Object.assign({},Rn.defaultOptions,n),u=Ule(r),c=e instanceof is?e:new is(e),h=o,d=new Vh;d.info[0]={face:c.fontFamily,size:c.fontSize},d.common[0]={lineHeight:c.fontSize};let f=0,p=0,m,g,v,y=0;const b=[];for(let E=0;E<u.length;E++){m||(m=q.ADAPTER.createCanvas(),m.width=o,m.height=a,g=m.getContext("2d"),v=new ce(m,{resolution:s,...l}),b.push(new J(v)),d.page.push({id:b.length-1,file:""}));const T=u[E],C=pt.measureText(T,c,!1,m),A=C.width,k=Math.ceil(C.height),M=Math.ceil((c.fontStyle==="italic"?2:1)*A);if(p>=a-k*s){if(p===0)throw new Error(`[BitmapFont] textureHeight ${a}px is too small (fontFamily: '${c.fontFamily}', fontSize: ${c.fontSize}px, char: '${T}')`);--E,m=null,g=null,v=null,p=0,f=0,y=0;continue}if(y=Math.max(k+C.fontProperties.descent,y),M*s+f>=h){if(f===0)throw new Error(`[BitmapFont] textureWidth ${o}px is too small (fontFamily: '${c.fontFamily}', fontSize: ${c.fontSize}px, char: '${T}')`);--E,p+=y*s,p=Math.ceil(p),f=0,y=0;continue}Lle(m,g,C,f,p,s,c);const $=jc(C.text);d.char.push({id:$,page:b.length-1,x:f/s,y:p/s,width:M,height:k,xoffset:0,yoffset:0,xadvance:A-(c.dropShadow?c.dropShadowDistance:0)-(c.stroke?c.strokeThickness:0)}),f+=(M+2*i)*s,f=Math.ceil(f)}for(let E=0,T=u.length;E<T;E++){const C=u[E];for(let A=0;A<T;A++){const k=u[A],M=g.measureText(C).width,$=g.measureText(k).width,O=g.measureText(C+k).width-(M+$);O&&d.kerning.push({first:jc(C),second:jc(k),amount:O})}}const x=new Rn(d,b,!0);return Rn.available[t]!==void 0&&Rn.uninstall(t),Rn.available[t]=x,x}};let Mt=Rn;Mt.ALPHA=[["a","z"],["A","Z"]," "];Mt.NUMERIC=[["0","9"]];Mt.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];Mt.ASCII=[[" ","~"]];Mt.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Rn.ALPHANUMERIC};Mt.available={};var jle=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,zle=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const vE=[],yE=[],bE=[],oO=class extends on{constructor(t,e={}){super(),this._tint=16777215;const{align:n,tint:r,maxWidth:i,letterSpacing:s,fontName:o,fontSize:a}=Object.assign({},oO.styleDefaults,e);if(!Mt.available[o])throw new Error(`Missing BitmapFont "${o}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tint=r,this._font=void 0,this._fontName=o,this._fontSize=a,this.text=t,this._maxWidth=i,this._maxLineHeight=0,this._letterSpacing=s,this._anchor=new Qr(()=>{this.dirty=!0},this,0,0),this._roundPixels=q.ROUND_PIXELS,this.dirty=!0,this._resolution=q.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var M;const t=Mt.available[this._fontName],e=this.fontSize,n=e/t.size,r=new re,i=[],s=[],o=[],a=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",l=sO(a),u=this._maxWidth*t.size/e,c=t.distanceFieldType==="none"?vE:yE;let h=null,d=0,f=0,p=0,m=-1,g=0,v=0,y=0,b=0;for(let $=0;$<l.length;$++){const j=l[$],O=jc(j);if(/(?:\s)/.test(j)&&(m=$,g=d,b++),j==="\r"||j===`
`){s.push(d),o.push(-1),f=Math.max(f,d),++p,++v,r.x=0,r.y+=t.lineHeight,h=null,b=0;continue}const P=t.chars[O];if(!P)continue;h&&P.kerning[h]&&(r.x+=P.kerning[h]);const F=bE.pop()||{texture:J.EMPTY,line:0,charCode:0,prevSpaces:0,position:new re};F.texture=P.texture,F.line=p,F.charCode=O,F.position.x=Math.round(r.x+P.xOffset+this._letterSpacing/2),F.position.y=Math.round(r.y+P.yOffset),F.prevSpaces=b,i.push(F),d=F.position.x+Math.max(P.xAdvance-P.xOffset,P.texture.orig.width),r.x+=P.xAdvance+this._letterSpacing,y=Math.max(y,P.yOffset+P.texture.height),h=O,m!==-1&&u>0&&r.x>u&&(++v,xo(i,1+m-v,1+$-m),$=m,m=-1,s.push(g),o.push(i.length>0?i[i.length-1].prevSpaces:0),f=Math.max(f,g),p++,r.x=0,r.y+=t.lineHeight,h=null,b=0)}const x=l[l.length-1];x!=="\r"&&x!==`
`&&(/(?:\s)/.test(x)&&(d=g),s.push(d),f=Math.max(f,d),o.push(-1));const E=[];for(let $=0;$<=p;$++){let j=0;this._align==="right"?j=f-s[$]:this._align==="center"?j=(f-s[$])/2:this._align==="justify"&&(j=o[$]<0?0:(f-s[$])/o[$]),E.push(j)}const T=i.length,C={},A=[],k=this._activePagesMeshData;c.push(...k);for(let $=0;$<T;$++){const j=i[$].texture,O=j.baseTexture.uid;if(!C[O]){let P=c.pop();if(!P){const G=new fle;let N,D;t.distanceFieldType==="none"?(N=new fE(J.EMPTY),D=se.NORMAL):(N=new fE(J.EMPTY,{program:Nn.from(zle,jle),uniforms:{uFWidth:0}}),D=se.NORMAL_NPM);const B=new n0(G,N);B.blendMode=D,P={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:B,vertices:null,uvs:null,indices:null}}P.index=0,P.indexCount=0,P.vertexCount=0,P.uvsCount=0,P.total=0;const{_textureCache:F}=this;F[O]=F[O]||new J(j.baseTexture),P.mesh.texture=F[O],P.mesh.tint=this._tint,A.push(P),C[O]=P}C[O].total++}for(let $=0;$<k.length;$++)A.includes(k[$])||this.removeChild(k[$].mesh);for(let $=0;$<A.length;$++)A[$].mesh.parent!==this&&this.addChild(A[$].mesh);this._activePagesMeshData=A;for(const $ in C){const j=C[$],O=j.total;if(!(((M=j.indices)==null?void 0:M.length)>6*O)||j.vertices.length<n0.BATCHABLE_SIZE*2)j.vertices=new Float32Array(4*2*O),j.uvs=new Float32Array(4*2*O),j.indices=new Uint16Array(6*O);else{const P=j.total,F=j.vertices;for(let G=P*4*2;G<F.length;G++)F[G]=0}j.mesh.size=6*O}for(let $=0;$<T;$++){const j=i[$];let O=j.position.x+E[j.line]*(this._align==="justify"?j.prevSpaces:1);this._roundPixels&&(O=Math.round(O));const P=O*n,F=j.position.y*n,G=j.texture,N=C[G.baseTexture.uid],D=G.frame,B=G._uvs,I=N.index++;N.indices[I*6+0]=0+I*4,N.indices[I*6+1]=1+I*4,N.indices[I*6+2]=2+I*4,N.indices[I*6+3]=0+I*4,N.indices[I*6+4]=2+I*4,N.indices[I*6+5]=3+I*4,N.vertices[I*8+0]=P,N.vertices[I*8+1]=F,N.vertices[I*8+2]=P+D.width*n,N.vertices[I*8+3]=F,N.vertices[I*8+4]=P+D.width*n,N.vertices[I*8+5]=F+D.height*n,N.vertices[I*8+6]=P,N.vertices[I*8+7]=F+D.height*n,N.uvs[I*8+0]=B.x0,N.uvs[I*8+1]=B.y0,N.uvs[I*8+2]=B.x1,N.uvs[I*8+3]=B.y1,N.uvs[I*8+4]=B.x2,N.uvs[I*8+5]=B.y2,N.uvs[I*8+6]=B.x3,N.uvs[I*8+7]=B.y3}this._textWidth=f*n,this._textHeight=(r.y+t.lineHeight)*n;for(const $ in C){const j=C[$];if(this.anchor.x!==0||this.anchor.y!==0){let G=0;const N=this._textWidth*this.anchor.x,D=this._textHeight*this.anchor.y;for(let B=0;B<j.total;B++)j.vertices[G++]-=N,j.vertices[G++]-=D,j.vertices[G++]-=N,j.vertices[G++]-=D,j.vertices[G++]-=N,j.vertices[G++]-=D,j.vertices[G++]-=N,j.vertices[G++]-=D}this._maxLineHeight=y*n;const O=j.mesh.geometry.getBuffer("aVertexPosition"),P=j.mesh.geometry.getBuffer("aTextureCoord"),F=j.mesh.geometry.getIndex();O.data=j.vertices,P.data=j.uvs,F.data=j.indices,O.update(),P.update(),F.update()}for(let $=0;$<i.length;$++)bE.push(i[$]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:n,size:r}=Mt.available[this._fontName];if(n!=="none"){const{a:i,b:s,c:o,d:a}=this.worldTransform,l=Math.sqrt(i*i+s*s),u=Math.sqrt(o*o+a*a),c=(Math.abs(l)+Math.abs(u))/2,h=this.fontSize/r,d=t._view.resolution;for(const f of this._activePagesMeshData)f.mesh.shader.uniforms.uFWidth=c*e*h*d}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=Mt.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tint}set tint(t){if(this._tint!==t){this._tint=t;for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!Mt.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??Mt.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,r=Mt.available[this._fontName].distanceFieldType==="none"?vE:yE;r.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],r.filter(i=>e[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=J.EMPTY});for(const i in e)e[i].destroy(),delete e[i];this._font=null,this._textureCache=null,super.destroy(t)}};let Hle=oO;Hle.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const Gle=[".xml",".fnt"],Wle={extension:{type:Y.LoadParser,priority:pr.Normal},test(t){return Gle.includes(yt.extname(t).toLowerCase())},async testParse(t){return Uc.test(t)||o0.test(t)},async parse(t,e,n){const r=Uc.test(t)?Uc.parse(t):o0.parse(t),{src:i}=e,{page:s}=r,o=[];for(let u=0;u<s.length;++u){const c=s[u].file;let h=yt.join(yt.dirname(i),c);h=Jg(h,i),o.push(h)}const a=await n.load(o),l=o.map(u=>a[u]);return Mt.install(r,l,!0)},async load(t,e){return(await q.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};ee.add(Wle);var Vle=Object.defineProperty,Xle=(t,e,n)=>e in t?Vle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,L=(t,e,n)=>(Xle(t,typeof e!="symbol"?e+"":e,n),n);class En{constructor(e){L(this,"parent"),L(this,"paused"),this.parent=e,this.paused=!1}destroy(){}down(e){return!1}move(e){return!1}up(e){return!1}wheel(e){return!1}update(e){}resize(){}reset(){}pause(){this.paused=!0}resume(){this.paused=!1}}var Yle=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},aO={exports:{}};(function(t,e){(function(){var n,r;r=function(i){return t.exports=i},n={linear:function(i,s,o,a){return o*i/a+s},easeInQuad:function(i,s,o,a){return o*(i/=a)*i+s},easeOutQuad:function(i,s,o,a){return-o*(i/=a)*(i-2)+s},easeInOutQuad:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i+s:-o/2*(--i*(i-2)-1)+s},easeInCubic:function(i,s,o,a){return o*(i/=a)*i*i+s},easeOutCubic:function(i,s,o,a){return o*((i=i/a-1)*i*i+1)+s},easeInOutCubic:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i+s:o/2*((i-=2)*i*i+2)+s},easeInQuart:function(i,s,o,a){return o*(i/=a)*i*i*i+s},easeOutQuart:function(i,s,o,a){return-o*((i=i/a-1)*i*i*i-1)+s},easeInOutQuart:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i*i+s:-o/2*((i-=2)*i*i*i-2)+s},easeInQuint:function(i,s,o,a){return o*(i/=a)*i*i*i*i+s},easeOutQuint:function(i,s,o,a){return o*((i=i/a-1)*i*i*i*i+1)+s},easeInOutQuint:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i*i*i+s:o/2*((i-=2)*i*i*i*i+2)+s},easeInSine:function(i,s,o,a){return-o*Math.cos(i/a*(Math.PI/2))+o+s},easeOutSine:function(i,s,o,a){return o*Math.sin(i/a*(Math.PI/2))+s},easeInOutSine:function(i,s,o,a){return-o/2*(Math.cos(Math.PI*i/a)-1)+s},easeInExpo:function(i,s,o,a){return i===0?s:o*Math.pow(2,10*(i/a-1))+s},easeOutExpo:function(i,s,o,a){return i===a?s+o:o*(-Math.pow(2,-10*i/a)+1)+s},easeInOutExpo:function(i,s,o,a){return(i/=a/2)<1?o/2*Math.pow(2,10*(i-1))+s:o/2*(-Math.pow(2,-10*--i)+2)+s},easeInCirc:function(i,s,o,a){return-o*(Math.sqrt(1-(i/=a)*i)-1)+s},easeOutCirc:function(i,s,o,a){return o*Math.sqrt(1-(i=i/a-1)*i)+s},easeInOutCirc:function(i,s,o,a){return(i/=a/2)<1?-o/2*(Math.sqrt(1-i*i)-1)+s:o/2*(Math.sqrt(1-(i-=2)*i)+1)+s},easeInElastic:function(i,s,o,a){var l,u,c;return c=1.70158,u=0,l=o,i===0||(i/=a),u||(u=a*.3),l<Math.abs(o)?(l=o,c=u/4):c=u/(2*Math.PI)*Math.asin(o/l),-(l*Math.pow(2,10*(i-=1))*Math.sin((i*a-c)*(2*Math.PI)/u))+s},easeOutElastic:function(i,s,o,a){var l,u,c;return c=1.70158,u=0,l=o,i===0||(i/=a),u||(u=a*.3),l<Math.abs(o)?(l=o,c=u/4):c=u/(2*Math.PI)*Math.asin(o/l),l*Math.pow(2,-10*i)*Math.sin((i*a-c)*(2*Math.PI)/u)+o+s},easeInOutElastic:function(i,s,o,a){var l,u,c;return c=1.70158,u=0,l=o,i===0||(i/=a/2),u||(u=a*(.3*1.5)),l<Math.abs(o)?(l=o,c=u/4):c=u/(2*Math.PI)*Math.asin(o/l),i<1?-.5*(l*Math.pow(2,10*(i-=1))*Math.sin((i*a-c)*(2*Math.PI)/u))+s:l*Math.pow(2,-10*(i-=1))*Math.sin((i*a-c)*(2*Math.PI)/u)*.5+o+s},easeInBack:function(i,s,o,a,l){return l===void 0&&(l=1.70158),o*(i/=a)*i*((l+1)*i-l)+s},easeOutBack:function(i,s,o,a,l){return l===void 0&&(l=1.70158),o*((i=i/a-1)*i*((l+1)*i+l)+1)+s},easeInOutBack:function(i,s,o,a,l){return l===void 0&&(l=1.70158),(i/=a/2)<1?o/2*(i*i*(((l*=1.525)+1)*i-l))+s:o/2*((i-=2)*i*(((l*=1.525)+1)*i+l)+2)+s},easeInBounce:function(i,s,o,a){var l;return l=n.easeOutBounce(a-i,0,o,a),o-l+s},easeOutBounce:function(i,s,o,a){return(i/=a)<1/2.75?o*(7.5625*i*i)+s:i<2/2.75?o*(7.5625*(i-=1.5/2.75)*i+.75)+s:i<2.5/2.75?o*(7.5625*(i-=2.25/2.75)*i+.9375)+s:o*(7.5625*(i-=2.625/2.75)*i+.984375)+s},easeInOutBounce:function(i,s,o,a){var l;return i<a/2?(l=n.easeInBounce(i*2,0,o,a),l*.5+s):(l=n.easeOutBounce(i*2-a,0,o,a),l*.5+o*.5+s)}},r(n)}).call(Yle)})(aO);const xE=aO.exports;function rf(t,e){if(t){if(typeof t=="function")return t;if(typeof t=="string")return xE[t]}else return xE[e]}const qle={removeOnInterrupt:!1,ease:"linear",time:1e3};class Kle extends En{constructor(e,n={}){super(e),L(this,"options"),L(this,"startX"),L(this,"startY"),L(this,"deltaX"),L(this,"deltaY"),L(this,"keepCenter"),L(this,"startWidth",null),L(this,"startHeight",null),L(this,"deltaWidth",null),L(this,"deltaHeight",null),L(this,"width",null),L(this,"height",null),L(this,"time",0),this.options=Object.assign({},qle,n),this.options.ease=rf(this.options.ease),this.setupPosition(),this.setupZoom(),this.time=0}setupPosition(){typeof this.options.position<"u"?(this.startX=this.parent.center.x,this.startY=this.parent.center.y,this.deltaX=this.options.position.x-this.parent.center.x,this.deltaY=this.options.position.y-this.parent.center.y,this.keepCenter=!1):this.keepCenter=!0}setupZoom(){this.width=null,this.height=null,typeof this.options.scale<"u"?this.width=this.parent.screenWidth/this.options.scale:typeof this.options.scaleX<"u"||typeof this.options.scaleY<"u"?(typeof this.options.scaleX<"u"&&(this.width=this.parent.screenWidth/this.options.scaleX),typeof this.options.scaleY<"u"&&(this.height=this.parent.screenHeight/this.options.scaleY)):(typeof this.options.width<"u"&&(this.width=this.options.width),typeof this.options.height<"u"&&(this.height=this.options.height)),this.width!==null&&(this.startWidth=this.parent.screenWidthInWorldPixels,this.deltaWidth=this.width-this.startWidth),this.height!==null&&(this.startHeight=this.parent.screenHeightInWorldPixels,this.deltaHeight=this.height-this.startHeight)}down(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("animate"),!1}complete(){this.parent.plugins.remove("animate"),this.width!==null&&this.parent.fitWidth(this.width,this.keepCenter,this.height===null),this.height!==null&&this.parent.fitHeight(this.height,this.keepCenter,this.width===null),!this.keepCenter&&this.options.position&&this.parent.moveCenter(this.options.position),this.parent.emit("animate-end",this.parent),this.options.callbackOnComplete&&this.options.callbackOnComplete(this.parent)}update(e){if(this.paused)return;this.time+=e;const n=new re(this.parent.scale.x,this.parent.scale.y);if(this.time>=this.options.time){const r=this.parent.width,i=this.parent.height;this.complete(),(r!==this.parent.width||i!==this.parent.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:n,type:"animate"})}else{const r=this.options.ease(this.time,0,1,this.options.time);if(this.width!==null){const i=this.startWidth,s=this.deltaWidth;this.parent.fitWidth(i+s*r,this.keepCenter,this.height===null)}if(this.height!==null){const i=this.startHeight,s=this.deltaHeight;this.parent.fitHeight(i+s*r,this.keepCenter,this.width===null)}if(this.width===null?this.parent.scale.x=this.parent.scale.y:this.height===null&&(this.parent.scale.y=this.parent.scale.x),!this.keepCenter){const i=this.startX,s=this.startY,o=this.deltaX,a=this.deltaY,l=new re(this.parent.x,this.parent.y);this.parent.moveCenter(i+o*r,s+a*r),this.parent.emit("moved",{viewport:this.parent,original:l,type:"animate"})}(this.width||this.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:n,type:"animate"})}}}const Zle={sides:"all",friction:.5,time:150,ease:"easeInOutSine",underflow:"center",bounceBox:null};class Qle extends En{constructor(e,n={}){super(e),L(this,"options"),L(this,"left"),L(this,"top"),L(this,"right"),L(this,"bottom"),L(this,"underflowX"),L(this,"underflowY"),L(this,"ease"),L(this,"toX"),L(this,"toY"),this.options=Object.assign({},Zle,n),this.ease=rf(this.options.ease,"easeInOutSine"),this.options.sides?this.options.sides==="all"?this.top=this.bottom=this.left=this.right=!0:this.options.sides==="horizontal"?(this.right=this.left=!0,this.top=this.bottom=!1):this.options.sides==="vertical"?(this.left=this.right=!1,this.top=this.bottom=!0):(this.top=this.options.sides.indexOf("top")!==-1,this.bottom=this.options.sides.indexOf("bottom")!==-1,this.left=this.options.sides.indexOf("left")!==-1,this.right=this.options.sides.indexOf("right")!==-1):this.left=this.top=this.right=this.bottom=!1;const r=this.options.underflow.toLowerCase();r==="center"?(this.underflowX=0,this.underflowY=0):(this.underflowX=r.indexOf("left")!==-1?-1:r.indexOf("right")!==-1?1:0,this.underflowY=r.indexOf("top")!==-1?-1:r.indexOf("bottom")!==-1?1:0),this.reset()}isActive(){return this.toX!==null||this.toY!==null}down(){return this.toX=this.toY=null,!1}up(){return this.bounce(),!1}update(e){if(!this.paused){if(this.bounce(),this.toX){const n=this.toX;n.time+=e,this.parent.emit("moved",{viewport:this.parent,type:"bounce-x"}),n.time>=this.options.time?(this.parent.x=n.end,this.toX=null,this.parent.emit("bounce-x-end",this.parent)):this.parent.x=this.ease(n.time,n.start,n.delta,this.options.time)}if(this.toY){const n=this.toY;n.time+=e,this.parent.emit("moved",{viewport:this.parent,type:"bounce-y"}),n.time>=this.options.time?(this.parent.y=n.end,this.toY=null,this.parent.emit("bounce-y-end",this.parent)):this.parent.y=this.ease(n.time,n.start,n.delta,this.options.time)}}}calcUnderflowX(){let e;switch(this.underflowX){case-1:e=0;break;case 1:e=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:e=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}return e}calcUnderflowY(){let e;switch(this.underflowY){case-1:e=0;break;case 1:e=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:e=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}return e}oob(){const e=this.options.bounceBox;if(e){const n=typeof e.x>"u"?0:e.x,r=typeof e.y>"u"?0:e.y,i=typeof e.width>"u"?this.parent.worldWidth:e.width,s=typeof e.height>"u"?this.parent.worldHeight:e.height;return{left:this.parent.left<n,right:this.parent.right>i,top:this.parent.top<r,bottom:this.parent.bottom>s,topLeft:new re(n*this.parent.scale.x,r*this.parent.scale.y),bottomRight:new re(i*this.parent.scale.x-this.parent.screenWidth,s*this.parent.scale.y-this.parent.screenHeight)}}return{left:this.parent.left<0,right:this.parent.right>this.parent.worldWidth,top:this.parent.top<0,bottom:this.parent.bottom>this.parent.worldHeight,topLeft:new re(0,0),bottomRight:new re(this.parent.worldWidth*this.parent.scale.x-this.parent.screenWidth,this.parent.worldHeight*this.parent.scale.y-this.parent.screenHeight)}}bounce(){var e,n;if(this.paused)return;let r,i=this.parent.plugins.get("decelerate",!0);i&&(i.x||i.y)&&(i.x&&i.percentChangeX===((e=i.options)==null?void 0:e.friction)||i.y&&i.percentChangeY===((n=i.options)==null?void 0:n.friction))&&(r=this.oob(),(r.left&&this.left||r.right&&this.right)&&(i.percentChangeX=this.options.friction),(r.top&&this.top||r.bottom&&this.bottom)&&(i.percentChangeY=this.options.friction));const s=this.parent.plugins.get("drag",!0)||{},o=this.parent.plugins.get("pinch",!0)||{};if(i=i||{},!(s!=null&&s.active)&&!(o!=null&&o.active)&&(!this.toX||!this.toY)&&(!i.x||!i.y)){r=r||this.oob();const a=r.topLeft,l=r.bottomRight;if(!this.toX&&!i.x){let u=null;r.left&&this.left?u=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-a.x:r.right&&this.right&&(u=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-l.x),u!==null&&this.parent.x!==u&&(this.toX={time:0,start:this.parent.x,delta:u-this.parent.x,end:u},this.parent.emit("bounce-x-start",this.parent))}if(!this.toY&&!i.y){let u=null;r.top&&this.top?u=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-a.y:r.bottom&&this.bottom&&(u=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-l.y),u!==null&&this.parent.y!==u&&(this.toY={time:0,start:this.parent.y,delta:u-this.parent.y,end:u},this.parent.emit("bounce-y-start",this.parent))}}}reset(){this.toX=this.toY=null,this.bounce()}}const Jle={left:!1,right:!1,top:!1,bottom:!1,direction:null,underflow:"center"};class eue extends En{constructor(e,n={}){super(e),L(this,"options"),L(this,"last"),L(this,"noUnderflow"),L(this,"underflowX"),L(this,"underflowY"),this.options=Object.assign({},Jle,n),this.options.direction&&(this.options.left=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.right=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.top=this.options.direction==="y"||this.options.direction==="all"?!0:null,this.options.bottom=this.options.direction==="y"||this.options.direction==="all"?!0:null),this.parseUnderflow(),this.last={x:null,y:null,scaleX:null,scaleY:null},this.update()}parseUnderflow(){const e=this.options.underflow.toLowerCase();e==="none"?this.noUnderflow=!0:e==="center"?(this.underflowX=this.underflowY=0,this.noUnderflow=!1):(this.underflowX=e.indexOf("left")!==-1?-1:e.indexOf("right")!==-1?1:0,this.underflowY=e.indexOf("top")!==-1?-1:e.indexOf("bottom")!==-1?1:0,this.noUnderflow=!1)}move(){return this.update(),!1}update(){if(this.paused||this.parent.x===this.last.x&&this.parent.y===this.last.y&&this.parent.scale.x===this.last.scaleX&&this.parent.scale.y===this.last.scaleY)return;const e=new re(this.parent.x,this.parent.y),n=this.parent.plugins.decelerate||{};if(this.options.left!==null||this.options.right!==null){let r=!1;if(!this.noUnderflow&&this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x!==0&&(this.parent.x=0,r=!0);break;case 1:this.parent.x!==this.parent.screenWidth-this.parent.screenWorldWidth&&(this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth,r=!0);break;default:this.parent.x!==(this.parent.screenWidth-this.parent.screenWorldWidth)/2&&(this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2,r=!0)}else this.options.left!==null&&this.parent.left<(this.options.left===!0?0:this.options.left)&&(this.parent.x=-(this.options.left===!0?0:this.options.left)*this.parent.scale.x,n.x=0,r=!0),this.options.right!==null&&this.parent.right>(this.options.right===!0?this.parent.worldWidth:this.options.right)&&(this.parent.x=-(this.options.right===!0?this.parent.worldWidth:this.options.right)*this.parent.scale.x+this.parent.screenWidth,n.x=0,r=!0);r&&this.parent.emit("moved",{viewport:this.parent,original:e,type:"clamp-x"})}if(this.options.top!==null||this.options.bottom!==null){let r=!1;if(!this.noUnderflow&&this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y!==0&&(this.parent.y=0,r=!0);break;case 1:this.parent.y!==this.parent.screenHeight-this.parent.screenWorldHeight&&(this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight,r=!0);break;default:this.parent.y!==(this.parent.screenHeight-this.parent.screenWorldHeight)/2&&(this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2,r=!0)}else this.options.top!==null&&this.parent.top<(this.options.top===!0?0:this.options.top)&&(this.parent.y=-(this.options.top===!0?0:this.options.top)*this.parent.scale.y,n.y=0,r=!0),this.options.bottom!==null&&this.parent.bottom>(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)&&(this.parent.y=-(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)*this.parent.scale.y+this.parent.screenHeight,n.y=0,r=!0);r&&this.parent.emit("moved",{viewport:this.parent,original:e,type:"clamp-y"})}this.last.x=this.parent.x,this.last.y=this.parent.y,this.last.scaleX=this.parent.scale.x,this.last.scaleY=this.parent.scale.y}reset(){this.update()}}const tue={minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,minScale:null,maxScale:null};class nue extends En{constructor(e,n={}){super(e),L(this,"options"),this.options=Object.assign({},tue,n),this.clamp()}resize(){this.clamp()}clamp(){if(!this.paused){if(this.options.minWidth||this.options.minHeight||this.options.maxWidth||this.options.maxHeight){let e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight;if(this.options.minWidth!==null&&e<this.options.minWidth){const r=this.parent.scale.x;this.parent.fitWidth(this.options.minWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/r,e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxWidth!==null&&e>this.options.maxWidth){const r=this.parent.scale.x;this.parent.fitWidth(this.options.maxWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/r,e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.minHeight!==null&&n<this.options.minHeight){const r=this.parent.scale.y;this.parent.fitHeight(this.options.minHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/r,e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxHeight!==null&&n>this.options.maxHeight){const r=this.parent.scale.y;this.parent.fitHeight(this.options.maxHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/r,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}}else if(this.options.minScale||this.options.maxScale){const e={x:null,y:null},n={x:null,y:null};if(typeof this.options.minScale=="number")e.x=this.options.minScale,e.y=this.options.minScale;else if(this.options.minScale!==null){const s=this.options.minScale;e.x=typeof s.x>"u"?null:s.x,e.y=typeof s.y>"u"?null:s.y}if(typeof this.options.maxScale=="number")n.x=this.options.maxScale,n.y=this.options.maxScale;else if(this.options.maxScale!==null){const s=this.options.maxScale;n.x=typeof s.x>"u"?null:s.x,n.y=typeof s.y>"u"?null:s.y}let r=this.parent.scale.x,i=this.parent.scale.y;e.x!==null&&r<e.x&&(r=e.x),n.x!==null&&r>n.x&&(r=n.x),e.y!==null&&i<e.y&&(i=e.y),n.y!==null&&i>n.y&&(i=n.y),(r!==this.parent.scale.x||i!==this.parent.scale.y)&&(this.parent.scale.set(r,i),this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"}))}}}reset(){this.clamp()}}const rue={friction:.98,bounce:.8,minSpeed:.01},zr=16;class iue extends En{constructor(e,n={}){super(e),L(this,"options"),L(this,"x"),L(this,"y"),L(this,"percentChangeX"),L(this,"percentChangeY"),L(this,"saved"),L(this,"timeSinceRelease"),this.options=Object.assign({},rue,n),this.saved=[],this.timeSinceRelease=0,this.reset(),this.parent.on("moved",r=>this.handleMoved(r))}down(){return this.saved=[],this.x=this.y=null,!1}isActive(){return!!(this.x||this.y)}move(){if(this.paused)return!1;const e=this.parent.input.count();return(e===1||e>1&&!this.parent.plugins.get("pinch",!0))&&(this.saved.push({x:this.parent.x,y:this.parent.y,time:performance.now()}),this.saved.length>60&&this.saved.splice(0,30)),!1}handleMoved(e){if(this.saved.length){const n=this.saved[this.saved.length-1];e.type==="clamp-x"&&e.original?n.x===e.original.x&&(n.x=this.parent.x):e.type==="clamp-y"&&e.original&&n.y===e.original.y&&(n.y=this.parent.y)}}up(){if(this.parent.input.count()===0&&this.saved.length){const e=performance.now();for(const n of this.saved)if(n.time>=e-100){const r=e-n.time;this.x=(this.parent.x-n.x)/r,this.y=(this.parent.y-n.y)/r,this.percentChangeX=this.percentChangeY=this.options.friction,this.timeSinceRelease=0;break}}return!1}activate(e){e=e||{},typeof e.x<"u"&&(this.x=e.x,this.percentChangeX=this.options.friction),typeof e.y<"u"&&(this.y=e.y,this.percentChangeY=this.options.friction)}update(e){if(this.paused)return;const n=this.x||this.y,r=this.timeSinceRelease,i=this.timeSinceRelease+e;if(this.x){const s=this.percentChangeX,o=Math.log(s);this.parent.x+=this.x*zr/o*(Math.pow(s,i/zr)-Math.pow(s,r/zr)),this.x*=Math.pow(this.percentChangeX,e/zr)}if(this.y){const s=this.percentChangeY,o=Math.log(s);this.parent.y+=this.y*zr/o*(Math.pow(s,i/zr)-Math.pow(s,r/zr)),this.y*=Math.pow(this.percentChangeY,e/zr)}this.timeSinceRelease+=e,this.x&&this.y?Math.abs(this.x)<this.options.minSpeed&&Math.abs(this.y)<this.options.minSpeed&&(this.x=0,this.y=0):(Math.abs(this.x||0)<this.options.minSpeed&&(this.x=0),Math.abs(this.y||0)<this.options.minSpeed&&(this.y=0)),n&&this.parent.emit("moved",{viewport:this.parent,type:"decelerate"})}reset(){this.x=this.y=null}}const sue={direction:"all",pressDrag:!0,wheel:!0,wheelScroll:1,reverse:!1,clampWheel:!1,underflow:"center",factor:1,mouseButtons:"all",keyToPress:null,ignoreKeyToPressOnTouch:!1,lineHeight:20,wheelSwapAxes:!1};class oue extends En{constructor(e,n={}){super(e),L(this,"options"),L(this,"moved"),L(this,"reverse"),L(this,"xDirection"),L(this,"yDirection"),L(this,"keyIsPressed"),L(this,"mouse"),L(this,"underflowX"),L(this,"underflowY"),L(this,"last"),L(this,"current"),L(this,"windowEventHandlers",[]),this.options=Object.assign({},sue,n),this.moved=!1,this.reverse=this.options.reverse?1:-1,this.xDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="x",this.yDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="y",this.keyIsPressed=!1,this.parseUnderflow(),this.mouseButtons(this.options.mouseButtons),this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(e){const n=i=>{e.includes(i.code)&&(this.keyIsPressed=!0)},r=i=>{e.includes(i.code)&&(this.keyIsPressed=!1)};this.addWindowEventHandler("keyup",r),this.addWindowEventHandler("keydown",n)}addWindowEventHandler(e,n){window.addEventListener(e,n),this.windowEventHandlers.push({event:e,handler:n})}destroy(){this.windowEventHandlers.forEach(({event:e,handler:n})=>{window.removeEventListener(e,n)})}mouseButtons(e){!e||e==="all"?this.mouse=[!0,!0,!0]:this.mouse=[e.indexOf("left")!==-1,e.indexOf("middle")!==-1,e.indexOf("right")!==-1]}parseUnderflow(){const e=this.options.underflow.toLowerCase();e==="center"?(this.underflowX=0,this.underflowY=0):(e.includes("left")?this.underflowX=-1:e.includes("right")?this.underflowX=1:this.underflowX=0,e.includes("top")?this.underflowY=-1:e.includes("bottom")?this.underflowY=1:this.underflowY=0)}checkButtons(e){const n=e.pointerType==="mouse",r=this.parent.input.count();return!!((r===1||r>1&&!this.parent.plugins.get("pinch",!0))&&(!n||this.mouse[e.button]))}checkKeyPress(e){return!this.options.keyToPress||this.keyIsPressed||this.options.ignoreKeyToPressOnTouch&&e.data.pointerType==="touch"}down(e){return this.paused||!this.options.pressDrag?!1:this.checkButtons(e)&&this.checkKeyPress(e)?(this.last={x:e.global.x,y:e.global.y},this.current=e.pointerId,!0):(this.last=null,!1)}get active(){return this.moved}move(e){if(this.paused||!this.options.pressDrag)return!1;if(this.last&&this.current===e.data.pointerId){const n=e.global.x,r=e.global.y,i=this.parent.input.count();if(i===1||i>1&&!this.parent.plugins.get("pinch",!0)){const s=n-this.last.x,o=r-this.last.y;if(this.moved||this.xDirection&&this.parent.input.checkThreshold(s)||this.yDirection&&this.parent.input.checkThreshold(o)){const a={x:n,y:r};return this.xDirection&&(this.parent.x+=(a.x-this.last.x)*this.options.factor),this.yDirection&&(this.parent.y+=(a.y-this.last.y)*this.options.factor),this.last=a,this.moved||this.parent.emit("drag-start",{event:e,screen:new re(this.last.x,this.last.y),world:this.parent.toWorld(new re(this.last.x,this.last.y)),viewport:this.parent}),this.moved=!0,this.parent.emit("moved",{viewport:this.parent,type:"drag"}),!0}}else this.moved=!1}return!1}up(e){if(this.paused)return!1;const n=this.parent.input.touches;if(n.length===1){const r=n[0];return r.last&&(this.last={x:r.last.x,y:r.last.y},this.current=r.id),this.moved=!1,!0}else if(this.last&&this.moved){const r=new re(this.last.x,this.last.y);return this.parent.emit("drag-end",{event:e,screen:r,world:this.parent.toWorld(r),viewport:this.parent}),this.last=null,this.moved=!1,!0}return!1}wheel(e){if(this.paused)return!1;if(this.options.wheel){const n=this.parent.plugins.get("wheel",!0);if(!n||!n.options.wheelZoom&&!e.ctrlKey){const r=e.deltaMode?this.options.lineHeight:1,i=[e.deltaX,e.deltaY],[s,o]=this.options.wheelSwapAxes?i.reverse():i;return this.xDirection&&(this.parent.x+=s*r*this.options.wheelScroll*this.reverse),this.yDirection&&(this.parent.y+=o*r*this.options.wheelScroll*this.reverse),this.options.clampWheel&&this.clamp(),this.parent.emit("wheel-scroll",this.parent),this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.options.passiveWheel||e.preventDefault(),this.parent.options.stopPropagation&&e.stopPropagation(),!0}}return!1}resume(){this.last=null,this.paused=!1}clamp(){const e=this.parent.plugins.get("decelerate",!0)||{};if(this.options.clampWheel!=="y")if(this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x=0;break;case 1:this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}else this.parent.left<0?(this.parent.x=0,e.x=0):this.parent.right>this.parent.worldWidth&&(this.parent.x=-this.parent.worldWidth*this.parent.scale.x+this.parent.screenWidth,e.x=0);if(this.options.clampWheel!=="x")if(this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y=0;break;case 1:this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}else this.parent.top<0&&(this.parent.y=0,e.y=0),this.parent.bottom>this.parent.worldHeight&&(this.parent.y=-this.parent.worldHeight*this.parent.scale.y+this.parent.screenHeight,e.y=0)}}const aue={speed:0,acceleration:null,radius:null};class lue extends En{constructor(e,n,r={}){super(e),L(this,"options"),L(this,"target"),L(this,"velocity"),this.target=n,this.options=Object.assign({},aue,r),this.velocity={x:0,y:0}}update(e){if(this.paused)return;const n=this.parent.center;let r=this.target.x,i=this.target.y;if(this.options.radius)if(Math.sqrt(Math.pow(this.target.y-n.y,2)+Math.pow(this.target.x-n.x,2))>this.options.radius){const a=Math.atan2(this.target.y-n.y,this.target.x-n.x);r=this.target.x-Math.cos(a)*this.options.radius,i=this.target.y-Math.sin(a)*this.options.radius}else return;const s=r-n.x,o=i-n.y;if(s||o)if(this.options.speed)if(this.options.acceleration){const a=Math.atan2(i-n.y,r-n.x),l=Math.sqrt(Math.pow(s,2)+Math.pow(o,2));if(l){const u=(Math.pow(this.velocity.x,2)+Math.pow(this.velocity.y,2))/(2*this.options.acceleration);l>u?this.velocity={x:Math.min(this.velocity.x+(this.options.acceleration*e,this.options.speed)),y:Math.min(this.velocity.y+(this.options.acceleration*e,this.options.speed))}:this.velocity={x:Math.max(this.velocity.x-this.options.acceleration*this.options.speed,0),y:Math.max(this.velocity.y-this.options.acceleration*this.options.speed,0)};const c=Math.cos(a)*this.velocity.x,h=Math.sin(a)*this.velocity.y,d=Math.abs(c)>Math.abs(s)?r:n.x+c,f=Math.abs(h)>Math.abs(o)?i:n.y+h;this.parent.moveCenter(d,f),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}else{const a=Math.atan2(i-n.y,r-n.x),l=Math.cos(a)*this.options.speed,u=Math.sin(a)*this.options.speed,c=Math.abs(l)>Math.abs(s)?r:n.x+l,h=Math.abs(u)>Math.abs(o)?i:n.y+u;this.parent.moveCenter(c,h),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}else this.parent.moveCenter(r,i),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}const uue={radius:null,distance:null,top:null,bottom:null,left:null,right:null,speed:8,reverse:!1,noDecelerate:!1,linear:!1,allowButtons:!1};class cue extends En{constructor(e,n={}){super(e),L(this,"options"),L(this,"reverse"),L(this,"radiusSquared"),L(this,"left"),L(this,"top"),L(this,"right"),L(this,"bottom"),L(this,"horizontal"),L(this,"vertical"),this.options=Object.assign({},uue,n),this.reverse=this.options.reverse?1:-1,this.radiusSquared=typeof this.options.radius=="number"?Math.pow(this.options.radius,2):null,this.resize()}resize(){const e=this.options.distance;e!==null?(this.left=e,this.top=e,this.right=this.parent.screenWidth-e,this.bottom=this.parent.screenHeight-e):this.options.radius||(this.left=this.options.left,this.top=this.options.top,this.right=this.options.right===null?null:this.parent.screenWidth-this.options.right,this.bottom=this.options.bottom===null?null:this.parent.screenHeight-this.options.bottom)}down(){return this.paused||this.options.allowButtons||(this.horizontal=this.vertical=null),!1}move(e){if(this.paused||e.pointerType!=="mouse"&&e.pointerId!==1||!this.options.allowButtons&&e.buttons!==0)return!1;const n=e.global.x,r=e.global.y;if(this.radiusSquared){const i=this.parent.toScreen(this.parent.center);if(Math.pow(i.x-n,2)+Math.pow(i.y-r,2)>=this.radiusSquared){const s=Math.atan2(i.y-r,i.x-n);this.options.linear?(this.horizontal=Math.round(Math.cos(s))*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.round(Math.sin(s))*this.options.speed*this.reverse*(60/1e3)):(this.horizontal=Math.cos(s)*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.sin(s)*this.options.speed*this.reverse*(60/1e3))}else this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=0}else this.left!==null&&n<this.left?this.horizontal=Number(this.reverse)*this.options.speed*(60/1e3):this.right!==null&&n>this.right?this.horizontal=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateHorizontal(),this.horizontal=0),this.top!==null&&r<this.top?this.vertical=Number(this.reverse)*this.options.speed*(60/1e3):this.bottom!==null&&r>this.bottom?this.vertical=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateVertical(),this.vertical=0);return!1}decelerateHorizontal(){const e=this.parent.plugins.get("decelerate",!0);this.horizontal&&e&&!this.options.noDecelerate&&e.activate({x:this.horizontal*this.options.speed*this.reverse/(1e3/60)})}decelerateVertical(){const e=this.parent.plugins.get("decelerate",!0);this.vertical&&e&&!this.options.noDecelerate&&e.activate({y:this.vertical*this.options.speed*this.reverse/(1e3/60)})}up(){return this.paused||(this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=null),!1}update(){if(!this.paused&&(this.horizontal||this.vertical)){const e=this.parent.center;this.horizontal&&(e.x+=this.horizontal*this.options.speed),this.vertical&&(e.y+=this.vertical*this.options.speed),this.parent.moveCenter(e),this.parent.emit("moved",{viewport:this.parent,type:"mouse-edges"})}}}const hue={noDrag:!1,percent:1,center:null,factor:1,axis:"all"};class due extends En{constructor(e,n={}){super(e),L(this,"options"),L(this,"active",!1),L(this,"pinching",!1),L(this,"moved",!1),L(this,"lastCenter"),this.options=Object.assign({},hue,n)}down(){return this.parent.input.count()>=2?(this.active=!0,!0):!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}move(e){if(this.paused||!this.active)return!1;const n=e.global.x,r=e.global.y,i=this.parent.input.touches;if(i.length>=2){const s=i[0],o=i[1],a=s.last&&o.last?Math.sqrt(Math.pow(o.last.x-s.last.x,2)+Math.pow(o.last.y-s.last.y,2)):null;if(s.id===e.pointerId?s.last={x:n,y:r,data:e}:o.id===e.pointerId&&(o.last={x:n,y:r,data:e}),a){let l;const u=new re(s.last.x+(o.last.x-s.last.x)/2,s.last.y+(o.last.y-s.last.y)/2);this.options.center||(l=this.parent.toLocal(u));let c=Math.sqrt(Math.pow(o.last.x-s.last.x,2)+Math.pow(o.last.y-s.last.y,2));c=c===0?c=1e-10:c;const h=(1-a/c)*this.options.percent*(this.isAxisX()?this.parent.scale.x:this.parent.scale.y);this.isAxisX()&&(this.parent.scale.x+=h),this.isAxisY()&&(this.parent.scale.y+=h),this.parent.emit("zoomed",{viewport:this.parent,type:"pinch",center:u});const d=this.parent.plugins.get("clamp-zoom",!0);if(d&&d.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const f=this.parent.toGlobal(l);this.parent.x+=(u.x-f.x)*this.options.factor,this.parent.y+=(u.y-f.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})}!this.options.noDrag&&this.lastCenter&&(this.parent.x+=(u.x-this.lastCenter.x)*this.options.factor,this.parent.y+=(u.y-this.lastCenter.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})),this.lastCenter=u,this.moved=!0}else this.pinching||(this.parent.emit("pinch-start",this.parent),this.pinching=!0);return!0}return!1}up(){return this.pinching&&this.parent.input.touches.length<=1?(this.active=!1,this.lastCenter=null,this.pinching=!1,this.moved=!1,this.parent.emit("pinch-end",this.parent),!0):!1}}const fue={topLeft:!1,friction:.8,time:1e3,ease:"easeInOutSine",interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1};class pue extends En{constructor(e,n,r,i={}){super(e),L(this,"options"),L(this,"ease"),L(this,"x"),L(this,"y"),L(this,"percent"),L(this,"snapping"),L(this,"deltaX"),L(this,"deltaY"),L(this,"startX"),L(this,"startY"),this.options=Object.assign({},fue,i),this.ease=rf(i.ease,"easeInOutSine"),this.x=n,this.y=r,this.options.forceStart&&this.snapStart()}snapStart(){this.percent=0,this.snapping={time:0};const e=this.options.topLeft?this.parent.corner:this.parent.center;this.deltaX=this.x-e.x,this.deltaY=this.y-e.y,this.startX=e.x,this.startY=e.y,this.parent.emit("snap-start",this.parent)}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap"):this.options.interrupt&&(this.snapping=null),!1}up(){if(this.parent.input.count()===0){const e=this.parent.plugins.get("decelerate",!0);e&&(e.x||e.y)&&(e.percentChangeX=e.percentChangeY=this.options.friction)}return!1}update(e){if(!this.paused&&!(this.options.interrupt&&this.parent.input.count()!==0))if(this.snapping){const n=this.snapping;n.time+=e;let r,i,s;const o=this.startX,a=this.startY,l=this.deltaX,u=this.deltaY;if(n.time>this.options.time)r=!0,i=o+l,s=a+u;else{const c=this.ease(n.time,0,1,this.options.time);i=o+l*c,s=a+u*c}this.options.topLeft?this.parent.moveCorner(i,s):this.parent.moveCenter(i,s),this.parent.emit("moved",{viewport:this.parent,type:"snap"}),r&&(this.options.removeOnComplete&&this.parent.plugins.remove("snap"),this.parent.emit("snap-end",this.parent),this.snapping=null)}else{const n=this.options.topLeft?this.parent.corner:this.parent.center;(n.x!==this.x||n.y!==this.y)&&this.snapStart()}}}const mue={width:0,height:0,time:1e3,ease:"easeInOutSine",center:null,interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1,noMove:!1};class gue extends En{constructor(e,n={}){super(e),L(this,"options"),L(this,"ease"),L(this,"xScale"),L(this,"yScale"),L(this,"xIndependent"),L(this,"yIndependent"),L(this,"snapping"),this.options=Object.assign({},mue,n),this.ease=rf(this.options.ease),this.xIndependent=!1,this.yIndependent=!1,this.xScale=0,this.yScale=0,this.options.width>0&&(this.xScale=e.screenWidth/this.options.width,this.xIndependent=!0),this.options.height>0&&(this.yScale=e.screenHeight/this.options.height,this.yIndependent=!0),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale,this.options.time===0?(e.container.scale.x=this.xScale,e.container.scale.y=this.yScale,this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom")):n.forceStart&&this.createSnapping()}createSnapping(){const e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,r=this.parent.screenWidth/this.xScale,i=this.parent.screenHeight/this.yScale;this.snapping={time:0,startX:e,startY:n,deltaX:r-e,deltaY:i-n},this.parent.emit("snap-zoom-start",this.parent)}resize(){this.snapping=null,this.options.width>0&&(this.xScale=this.parent.screenWidth/this.options.width),this.options.height>0&&(this.yScale=this.parent.screenHeight/this.options.height),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap-zoom"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap-zoom"):this.options.interrupt&&(this.snapping=null),!1}update(e){if(this.paused||this.options.interrupt&&this.parent.input.count()!==0)return;let n;if(!this.options.center&&!this.options.noMove&&(n=this.parent.center),!this.snapping)(this.parent.scale.x!==this.xScale||this.parent.scale.y!==this.yScale)&&this.createSnapping();else if(this.snapping){const r=this.snapping;if(r.time+=e,r.time>=this.options.time)this.parent.scale.set(this.xScale,this.yScale),this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom"),this.parent.emit("snap-zoom-end",this.parent),this.snapping=null;else{const s=this.snapping,o=this.ease(s.time,s.startX,s.deltaX,this.options.time),a=this.ease(s.time,s.startY,s.deltaY,this.options.time);this.parent.scale.x=this.parent.screenWidth/o,this.parent.scale.y=this.parent.screenHeight/a}const i=this.parent.plugins.get("clamp-zoom",!0);i&&i.clamp(),this.options.noMove||(this.options.center?this.parent.moveCenter(this.options.center):this.parent.moveCenter(n))}}resume(){this.snapping=null,super.resume()}}const vue={percent:.1,smooth:!1,interrupt:!0,reverse:!1,center:null,lineHeight:20,axis:"all",keyToPress:null,trackpadPinch:!1,wheelZoom:!0};class yue extends En{constructor(e,n={}){super(e),L(this,"options"),L(this,"smoothing"),L(this,"smoothingCenter"),L(this,"smoothingCount"),L(this,"keyIsPressed"),this.options=Object.assign({},vue,n),this.keyIsPressed=!1,this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(e){window.addEventListener("keydown",n=>{e.includes(n.code)&&(this.keyIsPressed=!0)}),window.addEventListener("keyup",n=>{e.includes(n.code)&&(this.keyIsPressed=!1)})}checkKeyPress(){return!this.options.keyToPress||this.keyIsPressed}down(){return this.options.interrupt&&(this.smoothing=null),!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}update(){if(this.smoothing){const e=this.smoothingCenter,n=this.smoothing;let r;this.options.center||(r=this.parent.toLocal(e)),this.isAxisX()&&(this.parent.scale.x+=n.x),this.isAxisY()&&(this.parent.scale.y+=n.y),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const i=this.parent.plugins.get("clamp-zoom",!0);if(i&&i.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const s=this.parent.toGlobal(r);this.parent.x+=e.x-s.x,this.parent.y+=e.y-s.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.smoothingCount++,this.smoothingCount>=this.options.smooth&&(this.smoothing=null)}}pinch(e){if(this.paused)return;const n=this.parent.input.getPointerPosition(e),r=-e.deltaY*(e.deltaMode?this.options.lineHeight:1)/200,i=Math.pow(2,(1+this.options.percent)*r);let s;this.options.center||(s=this.parent.toLocal(n)),this.isAxisX()&&(this.parent.scale.x*=i),this.isAxisY()&&(this.parent.scale.y*=i),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const o=this.parent.plugins.get("clamp-zoom",!0);if(o&&o.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const a=this.parent.toGlobal(s);this.parent.x+=n.x-a.x,this.parent.y+=n.y-a.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:e,viewport:this.parent})}wheel(e){if(this.paused||!this.checkKeyPress())return!1;if(e.ctrlKey&&this.options.trackpadPinch)this.pinch(e);else if(this.options.wheelZoom){const n=this.parent.input.getPointerPosition(e),r=(this.options.reverse?-1:1)*-e.deltaY*(e.deltaMode?this.options.lineHeight:1)/500,i=Math.pow(2,(1+this.options.percent)*r);if(this.options.smooth){const s={x:this.smoothing?this.smoothing.x*(this.options.smooth-this.smoothingCount):0,y:this.smoothing?this.smoothing.y*(this.options.smooth-this.smoothingCount):0};this.smoothing={x:((this.parent.scale.x+s.x)*i-this.parent.scale.x)/this.options.smooth,y:((this.parent.scale.y+s.y)*i-this.parent.scale.y)/this.options.smooth},this.smoothingCount=0,this.smoothingCenter=n}else{let s;this.options.center||(s=this.parent.toLocal(n)),this.isAxisX()&&(this.parent.scale.x*=i),this.isAxisY()&&(this.parent.scale.y*=i),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const o=this.parent.plugins.get("clamp-zoom",!0);if(o&&o.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const a=this.parent.toGlobal(s);this.parent.x+=n.x-a.x,this.parent.y+=n.y-a.y}}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:e,viewport:this.parent})}return!this.parent.options.passiveWheel}}class bue{constructor(e){L(this,"viewport"),L(this,"clickedAvailable"),L(this,"isMouseDown"),L(this,"last"),L(this,"wheelFunction"),L(this,"touches"),this.viewport=e,this.touches=[],this.addListeners()}addListeners(){this.viewport.interactive=!0,this.viewport.forceHitArea||(this.viewport.hitArea=new he(0,0,this.viewport.worldWidth,this.viewport.worldHeight)),this.viewport.on("pointerdown",this.down,this),this.viewport.options.allowPreserveDragOutside?this.viewport.on("globalpointermove",this.move,this):this.viewport.on("pointermove",this.move,this),this.viewport.on("pointerup",this.up,this),this.viewport.on("pointerupoutside",this.up,this),this.viewport.on("pointercancel",this.up,this),this.viewport.options.allowPreserveDragOutside||this.viewport.on("pointerleave",this.up,this),this.wheelFunction=e=>this.handleWheel(e),this.viewport.options.events.domElement.addEventListener("wheel",this.wheelFunction,{passive:this.viewport.options.passiveWheel}),this.isMouseDown=!1}destroy(){this.viewport.options.events.domElement.removeEventListener("wheel",this.wheelFunction)}down(e){if(!(this.viewport.pause||!this.viewport.worldVisible)){if(e.pointerType==="mouse"?this.isMouseDown=!0:this.get(e.pointerId)||this.touches.push({id:e.pointerId,last:null}),this.count()===1){this.last=e.global.clone();const n=this.viewport.plugins.get("decelerate",!0),r=this.viewport.plugins.get("bounce",!0);(!n||!n.isActive())&&(!r||!r.isActive())?this.clickedAvailable=!0:this.clickedAvailable=!1}else this.clickedAvailable=!1;this.viewport.plugins.down(e)&&this.viewport.options.stopPropagation&&e.stopPropagation()}}clear(){this.isMouseDown=!1,this.touches=[],this.last=null}checkThreshold(e){return Math.abs(e)>=this.viewport.threshold}move(e){if(this.viewport.pause||!this.viewport.worldVisible)return;const n=this.viewport.plugins.move(e);if(this.clickedAvailable&&this.last){const r=e.global.x-this.last.x,i=e.global.y-this.last.y;(this.checkThreshold(r)||this.checkThreshold(i))&&(this.clickedAvailable=!1)}n&&this.viewport.options.stopPropagation&&e.stopPropagation()}up(e){if(this.viewport.pause||!this.viewport.worldVisible)return;e.pointerType==="mouse"&&(this.isMouseDown=!1),e.pointerType!=="mouse"&&this.remove(e.pointerId);const n=this.viewport.plugins.up(e);this.clickedAvailable&&this.count()===0&&this.last&&(this.viewport.emit("clicked",{event:e,screen:this.last,world:this.viewport.toWorld(this.last),viewport:this.viewport}),this.clickedAvailable=!1),n&&this.viewport.options.stopPropagation&&e.stopPropagation()}getPointerPosition(e){const n=new re;return this.viewport.options.events.mapPositionToPoint(n,e.clientX,e.clientY),n}handleWheel(e){if(this.viewport.pause||!this.viewport.worldVisible)return;const n=this.viewport.toLocal(this.getPointerPosition(e));this.viewport.left<=n.x&&n.x<=this.viewport.right&&this.viewport.top<=n.y&&n.y<=this.viewport.bottom&&this.viewport.plugins.wheel(e)&&!this.viewport.options.passiveWheel&&e.preventDefault()}pause(){this.touches=[],this.isMouseDown=!1}get(e){for(const n of this.touches)if(n.id===e)return n;return null}remove(e){for(let n=0;n<this.touches.length;n++)if(this.touches[n].id===e){this.touches.splice(n,1);return}}count(){return(this.isMouseDown?1:0)+this.touches.length}}const ka=["drag","pinch","wheel","follow","mouse-edges","decelerate","animate","bounce","snap-zoom","clamp-zoom","snap","clamp"];class xue{constructor(e){L(this,"plugins"),L(this,"list"),L(this,"viewport"),this.viewport=e,this.list=[],this.plugins={}}add(e,n,r=ka.length){const i=this.plugins[e];i&&i.destroy(),this.plugins[e]=n;const s=ka.indexOf(e);s!==-1&&ka.splice(s,1),ka.splice(r,0,e),this.sort()}get(e,n){var r;return n&&(r=this.plugins[e])!=null&&r.paused?null:this.plugins[e]}update(e){for(const n of this.list)n.update(e)}resize(){for(const e of this.list)e.resize()}reset(){for(const e of this.list)e.reset()}removeAll(){this.list.forEach(e=>{e.destroy()}),this.plugins={},this.sort()}remove(e){var n;this.plugins[e]&&((n=this.plugins[e])==null||n.destroy(),delete this.plugins[e],this.viewport.emit("plugin-remove",e),this.sort())}pause(e){var n;(n=this.plugins[e])==null||n.pause()}resume(e){var n;(n=this.plugins[e])==null||n.resume()}sort(){this.list=[];for(const e of ka)this.plugins[e]&&this.list.push(this.plugins[e])}down(e){let n=!1;for(const r of this.list)r.down(e)&&(n=!0);return n}move(e){let n=!1;for(const r of this.viewport.plugins.list)r.move(e)&&(n=!0);return n}up(e){let n=!1;for(const r of this.list)r.up(e)&&(n=!0);return n}wheel(e){let n=!1;for(const r of this.list)r.wheel(e)&&(n=!0);return n}}const wue={screenWidth:window.innerWidth,screenHeight:window.innerHeight,worldWidth:null,worldHeight:null,threshold:5,passiveWheel:!0,stopPropagation:!1,forceHitArea:null,noTicker:!1,disableOnContextMenu:!1,ticker:Tt.shared,allowPreserveDragOutside:!1};class _ue extends on{constructor(e){super(),L(this,"moving"),L(this,"screenWidth"),L(this,"screenHeight"),L(this,"threshold"),L(this,"input"),L(this,"plugins"),L(this,"zooming"),L(this,"lastViewport"),L(this,"options"),L(this,"_dirty"),L(this,"_forceHitArea"),L(this,"_hitAreaDefault"),L(this,"_pause"),L(this,"tickerFunction"),L(this,"_worldWidth"),L(this,"_worldHeight"),L(this,"_disableOnContextMenu",n=>n.preventDefault()),this.options={...wue,...e},this.screenWidth=this.options.screenWidth,this.screenHeight=this.options.screenHeight,this._worldWidth=this.options.worldWidth,this._worldHeight=this.options.worldHeight,this.forceHitArea=this.options.forceHitArea,this.threshold=this.options.threshold,this.options.disableOnContextMenu&&this.options.events.domElement.addEventListener("contextmenu",this._disableOnContextMenu),this.options.noTicker||(this.tickerFunction=()=>this.update(this.options.ticker.elapsedMS),this.options.ticker.add(this.tickerFunction)),this.input=new bue(this),this.plugins=new xue(this)}destroy(e){!this.options.noTicker&&this.tickerFunction&&this.options.ticker.remove(this.tickerFunction),this.options.disableOnContextMenu&&this.options.events.domElement.removeEventListener("contextmenu",this._disableOnContextMenu),this.input.destroy(),super.destroy(e)}update(e){this.pause||(this.plugins.update(e),this.lastViewport&&(this.lastViewport.x!==this.x||this.lastViewport.y!==this.y?this.moving=!0:this.moving&&(this.emit("moved-end",this),this.moving=!1),this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y?this.zooming=!0:this.zooming&&(this.emit("zoomed-end",this),this.zooming=!1)),this.forceHitArea||(this._hitAreaDefault=new he(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight),this.hitArea=this._hitAreaDefault),this._dirty=this._dirty||!this.lastViewport||this.lastViewport.x!==this.x||this.lastViewport.y!==this.y||this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y,this.lastViewport={x:this.x,y:this.y,scaleX:this.scale.x,scaleY:this.scale.y},this.emit("frame-end",this))}resize(e=window.innerWidth,n=window.innerHeight,r,i){this.screenWidth=e,this.screenHeight=n,typeof r<"u"&&(this._worldWidth=r),typeof i<"u"&&(this._worldHeight=i),this.plugins.resize(),this.dirty=!0}get worldWidth(){return this._worldWidth?this._worldWidth:this.width/this.scale.x}set worldWidth(e){this._worldWidth=e,this.plugins.resize()}get worldHeight(){return this._worldHeight?this._worldHeight:this.height/this.scale.y}set worldHeight(e){this._worldHeight=e,this.plugins.resize()}getVisibleBounds(){return new he(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight)}toWorld(e,n){return arguments.length===2?this.toLocal(new re(e,n)):this.toLocal(e)}toScreen(e,n){return arguments.length===2?this.toGlobal(new re(e,n)):this.toGlobal(e)}get worldScreenWidth(){return this.screenWidth/this.scale.x}get worldScreenHeight(){return this.screenHeight/this.scale.y}get screenWorldWidth(){return this.worldWidth*this.scale.x}get screenWorldHeight(){return this.worldHeight*this.scale.y}get center(){return new re(this.worldScreenWidth/2-this.x/this.scale.x,this.worldScreenHeight/2-this.y/this.scale.y)}set center(e){this.moveCenter(e)}moveCenter(...e){let n,r;typeof e[0]=="number"?(n=e[0],r=e[1]):(n=e[0].x,r=e[0].y);const i=(this.worldScreenWidth/2-n)*this.scale.x,s=(this.worldScreenHeight/2-r)*this.scale.y;return(this.x!==i||this.y!==s)&&(this.position.set(i,s),this.plugins.reset(),this.dirty=!0),this}get corner(){return new re(-this.x/this.scale.x,-this.y/this.scale.y)}set corner(e){this.moveCorner(e)}moveCorner(...e){let n,r;return e.length===1?(n=-e[0].x*this.scale.x,r=-e[0].y*this.scale.y):(n=-e[0]*this.scale.x,r=-e[1]*this.scale.y),(n!==this.x||r!==this.y)&&(this.position.set(n,r),this.plugins.reset(),this.dirty=!0),this}get screenWidthInWorldPixels(){return this.screenWidth/this.scale.x}get screenHeightInWorldPixels(){return this.screenHeight/this.scale.y}findFitWidth(e){return this.screenWidth/e}findFitHeight(e){return this.screenHeight/e}findFit(e,n){const r=this.screenWidth/e,i=this.screenHeight/n;return Math.min(r,i)}findCover(e,n){const r=this.screenWidth/e,i=this.screenHeight/n;return Math.max(r,i)}fitWidth(e=this.worldWidth,n,r=!0,i){let s;n&&(s=this.center),this.scale.x=this.screenWidth/e,r&&(this.scale.y=this.scale.x);const o=this.plugins.get("clamp-zoom",!0);return!i&&o&&o.clamp(),n&&s&&this.moveCenter(s),this}fitHeight(e=this.worldHeight,n,r=!0,i){let s;n&&(s=this.center),this.scale.y=this.screenHeight/e,r&&(this.scale.x=this.scale.y);const o=this.plugins.get("clamp-zoom",!0);return!i&&o&&o.clamp(),n&&s&&this.moveCenter(s),this}fitWorld(e){let n;e&&(n=this.center),this.scale.x=this.screenWidth/this.worldWidth,this.scale.y=this.screenHeight/this.worldHeight,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const r=this.plugins.get("clamp-zoom",!0);return r&&r.clamp(),e&&n&&this.moveCenter(n),this}fit(e,n=this.worldWidth,r=this.worldHeight){let i;e&&(i=this.center),this.scale.x=this.screenWidth/n,this.scale.y=this.screenHeight/r,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const s=this.plugins.get("clamp-zoom",!0);return s&&s.clamp(),e&&i&&this.moveCenter(i),this}setZoom(e,n){let r;n&&(r=this.center),this.scale.set(e);const i=this.plugins.get("clamp-zoom",!0);return i&&i.clamp(),n&&r&&this.moveCenter(r),this}zoomPercent(e,n){return this.setZoom(this.scale.x+this.scale.x*e,n)}zoom(e,n){return this.fitWidth(e+this.worldScreenWidth,n),this}get scaled(){return this.scale.x}set scaled(e){this.setZoom(e,!0)}snapZoom(e){return this.plugins.add("snap-zoom",new gue(this,e)),this}OOB(){return{left:this.left<0,right:this.right>this.worldWidth,top:this.top<0,bottom:this.bottom>this.worldHeight,cornerPoint:new re(this.worldWidth*this.scale.x-this.screenWidth,this.worldHeight*this.scale.y-this.screenHeight)}}get right(){return-this.x/this.scale.x+this.worldScreenWidth}set right(e){this.x=-e*this.scale.x+this.screenWidth,this.plugins.reset()}get left(){return-this.x/this.scale.x}set left(e){this.x=-e*this.scale.x,this.plugins.reset()}get top(){return-this.y/this.scale.y}set top(e){this.y=-e*this.scale.y,this.plugins.reset()}get bottom(){return-this.y/this.scale.y+this.worldScreenHeight}set bottom(e){this.y=-e*this.scale.y+this.screenHeight,this.plugins.reset()}get dirty(){return!!this._dirty}set dirty(e){this._dirty=e}get forceHitArea(){return this._forceHitArea}set forceHitArea(e){e?(this._forceHitArea=e,this.hitArea=e):(this._forceHitArea=null,this.hitArea=new he(0,0,this.worldWidth,this.worldHeight))}drag(e){return this.plugins.add("drag",new oue(this,e)),this}clamp(e){return this.plugins.add("clamp",new eue(this,e)),this}decelerate(e){return this.plugins.add("decelerate",new iue(this,e)),this}bounce(e){return this.plugins.add("bounce",new Qle(this,e)),this}pinch(e){return this.plugins.add("pinch",new due(this,e)),this}snap(e,n,r){return this.plugins.add("snap",new pue(this,e,n,r)),this}follow(e,n){return this.plugins.add("follow",new lue(this,e,n)),this}wheel(e){return this.plugins.add("wheel",new yue(this,e)),this}animate(e){return this.plugins.add("animate",new Kle(this,e)),this}clampZoom(e){return this.plugins.add("clamp-zoom",new nue(this,e)),this}mouseEdges(e){return this.plugins.add("mouse-edges",new cue(this,e)),this}get pause(){return!!this._pause}set pause(e){this._pause=e,this.lastViewport=null,this.moving=!1,this.zooming=!1,e&&this.input.pause()}ensureVisible(e,n,r,i,s){s&&(r>this.worldScreenWidth||i>this.worldScreenHeight)&&(this.fit(!0,r,i),this.emit("zoomed",{viewport:this,type:"ensureVisible"}));let o=!1;e<this.left?(this.left=e,o=!0):e+r>this.right&&(this.right=e+r,o=!0),n<this.top?(this.top=n,o=!0):n+i>this.bottom&&(this.bottom=n+i,o=!0),o&&this.emit("moved",{viewport:this,type:"ensureVisible"})}}const kt=(t,e)=>t.levels?e.acquired[t.id]>0:e.selected[t.id],zc=(t,e)=>e.available[t.id],Eue=(t,e,n,r)=>{let i=n;return i.available[t.id]&&(t.levels?(i.acquired[t.id]||(i.acquired[t.id]=0),r&&i.acquired[t.id]>0?i.acquired[t.id]--:i.acquired[t.id]<t.levels&&i.acquired[t.id]++):i.selected[t.id]=!i.selected[t.id]),i=Sue(e,t,i),i=Cue(e,n),i},Sue=(t,e,n)=>{const r=i=>{const s=vn(t,{requires:i.id});s&&ut(s,o=>{e.levels?(o.levelsRequired||e.levels)>n.acquired[e.id]&&(n.selected[o.id]=!1,n.acquired[o.id]=0,r(o)):(n.selected[o.id]=!1,n.acquired[o.id]=0,r(o))})};return r(e),n},Cue=(t,e)=>(ut(t,n=>{if(n.requires){const r=Ie(t,{id:n.requires});if(r.levels){const i=n.levelsRequired||r.levels,s=e.acquired[r.id];e.available[n.id]=s>=i}else e.available[n.id]=e.selected[n.requires]}}),e),Hr=(t,e,n,r)=>{var i;r.next({node:{...t,acquired:e.acquired[t.id],selected:e.selected[t.id],available:e.available[t.id],requiredName:(i=Ie(n,{id:t.requires}))==null?void 0:i.name}})},dc=t=>typeof t=="string"?parseInt(t.replace("#",""),16):0,fc=(t,e,n)=>n?dc(t.colors[n]):zc(t,e)?kt(t,e)?dc(t.colors.selected):dc(t.colors.inactive):dc(t.colors.unavailable),Ap=(t,e)=>{e.next({event:"nodesChanged",data:{nodes:ye(t,n=>({colors:n.colors,id:n.id,requires:n.requires,name:n.name,description:n.description,cost:n.cost,levels:n.levels,levelCost:n.levelCost,levelsRequired:n.levelsRequired,providedStats:n.providedStats,providedAbilities:n.providedAbilities}))}})};XP.load("https://fonts.googleapis.com/css2?family=Inter:wght@100;400;500;700&display=swap");function Tue(t,e,n={},r,i,s){let o=s.subscribe({next:O=>{switch(O.event){case"forcesUpdated":y=O.data.forces,k();break;case"modeChanged":C(O.data.mode);break;case"nodeAdded":T(O.data.node);break;case"nodeDeleted":x(O.data.id);break;case"nodeEdited":E(O.data.id,O.data.node);break}}}),a,l,u={selected:{},acquired:{},available:{}},c=m_(),h,d,f,p,m,g="build",v,y={f1:20,f2:25,f3:70,f4:20};function b(){u={selected:{},acquired:{},available:{}},ut(l,O=>{u.selected[O.id]=n[O.id]===!0,u.acquired[O.id]=qD(n[O.id])?n[O.id]:!1}),ut(l,O=>{if(O.requires){const P=Ie(l,{id:O.requires});u.available[O.id]=!O.requires||kt(P,u),d.push({source:O.id,target:P.id})}else u.available[O.id]=!0}),r.next({nodes:ye(l,O=>({...O,selected:kt(O,u),acquired:u.acquired[O.id]}))})}function x(O){if(O==="basic")return;const P=Ie(l,{id:O});P==null||P.gfx.removeChildren(),P==null||P.gfx.clear(),l=ye(vn(l,G=>G.id!==O),G=>{let N=G.requires;return G.requires===O&&(N=P==null?void 0:P.requires),{...G,requires:N}}),d=vn(ye(l,G=>({source:G,target:Ie(l,{id:G==null?void 0:G.requires})})),"target");const F=Ie(l,{id:P==null?void 0:P.requires});v=F==null?void 0:F.id,Hr(F,u,l,i),$(),M(),Ap(l,s)}function E(O,P){let F=Ie(l,{id:O});F.name=P.name,F.id=P.id,F.description=P.description,F.levels=P.levels,F.cost=P.cost,F.levelCost=P.levelCost,F.levelsRequired=P.levelsRequired,F.providedStats=P.providedStats,F.providedAbilities=P.providedAbilities,F.colors=P.colors,u.acquired[O]&&u.acquired[O]>P.levels&&(u.acquired[O]=P.levels),F==null||F.gfx.removeChildren();const G=new Eo(P.name,{fontFamily:"Inter",fontSize:12,fill:"#fff",align:"center"});G.anchor.set(.5,-.75),G.resolution=12,F==null||F.gfx.addChild(G),l=ye(l,N=>{if(N.id===O)return F;{let D=N;return N.requires===O&&(D.requires=F.id),D}}),$(),M(),k(),Hr(F,u,l,i),r.next({nodes:ye(l,N=>({...N,selected:kt(N,u),acquired:u.acquired[N.id]}))}),Ap(l,s)}function T(O){var I,H;const P=(I=vn(l,{requires:O.requires}))==null?void 0:I.length;Ie(l,{id:O.requires});let F={...O,name:"NEW NODE",id:`${O.requires}-${P+1}`,colors:(H=Ie(l,{id:O.requires}))==null?void 0:H.colors};const G=A.bind(F);let{name:N}=F,D=!1;F.gfx=new Wi,F.gfx.on("touchstart",X=>{D=!0,setTimeout(()=>{D&&A(X,F)},100)}),F.gfx.on("touchend",X=>{D=!1}),F.gfx.on("click",X=>G(X,F)),m.addChild(F.gfx),F.gfx.on("mouseover",X=>{g==="build"&&(v=F.id,Hr(F,u,l,i))});const B=new Eo(N,{fontFamily:"Inter",fontSize:12,fill:"#fff",align:"center"});B.anchor.set(.5,-.75),B.resolution=12,F.gfx.addChild(B),v=F.id,l=[...l,F],d.push({source:F,target:Ie(l,{id:F.requires})}),$(),M(),k(),Ap(l,s),Hr(F,u,l,i)}function C(O){let P=g;g=O,P!==O&&($(),M())}function A(O,P){if(g==="build"){const F=kt(P,u);u=Eue(P,l,u,O.nativeEvent.shiftKey),r.next({nodes:ye(l,N=>({...N,selected:kt(N,u),acquired:u.acquired[N.id]}))}),Hr(P,u,l,i);const G=kt(P,u)!==F;$(G?P.id:null),M()}else g==="edit"&&(v=P.id,Hr(P,u,l,i),$())}function k(){y&&(c.nodes(l).force("link",f_(d).strength(O=>kt(O.target,u)?y.f2*.025:y.f2*.01).id(O=>O.id).distance(O=>kt(O.source,u)?y.f1+5:y.f1+10)).force("charge",g_().strength(-(y.f3*6))).force("center",u_(f/4,p/4)).force("collision",h_().radius(O=>y.f3).iterations(12)).velocityDecay(y.f4*.01),c.alpha(1).restart()),M(),$()}function M(){for(let O=h.children.length-1;O>=0;O--)h.children[O].destroy();h.clear(),h.removeChildren(),h.alpha=.8,d.forEach(O=>{let{source:P,target:F}=O,G=10198691,N=1;F.id&&(G=fc(P,u,g==="edit"?"selected":null),N=kt(F,u)&&kt(P,u)?2:.5),h.lineStyle(N,G),h.moveTo(P.x,P.y),h.lineTo(F.x,F.y)}),h.endFill()}function $(O){l.forEach(P=>{const F=v===P.id,G=kt(P,u);zc(P,u),P.gfx.clear();let N=P.cost||1;if(g==="build"?P.gfx.cursor=zc(P,u)?"pointer":"default":P.gfx.cursor="pointer",!O||P.id!==O||P.levels)if(P.levels&&P.levels>1){const D=P.levels*14,B=u.acquired[P.id];F&&g==="edit"&&(P.gfx.beginFill(16777215),P.gfx.drawShape(new Ll(-14,-8,D+4,20,6)),P.gfx.endFill()),P.gfx.beginFill(fc(P,u,g==="edit"?"selected":null)),P.gfx.drawShape(new Ll(-12,-6,D,16,4)),P.gfx.endFill(),P.gfx.beginFill(16777215),Jl(B,I=>{P.gfx.drawCircle(-4+I*12,2,4)}),P.gfx.endFill(),P.gfx.hitArea=new he(-10,-6,D,16)}else{let D;g==="edit"?D=8:D=G?N*2+6:N*2+2,F&&g==="edit"&&(P.gfx.beginFill(16777215),P.gfx.drawCircle(0,0,D+2),P.gfx.endFill()),P.gfx.beginFill(fc(P,u,g==="edit"?"selected":null)),P.gfx.drawCircle(0,0,D),P.gfx.hitArea=new Zd(0,0,D+10),P.gfx.endFill()}else if(P.id===O){const D=Ie(l,{id:O});let B=G?N*2+6:N*2+2,I=G?N*2+2:N*2+6,H=0;const X=setInterval(()=>{H++,G?I+=H*.4:I-=H*.4,D==null||D.gfx.clear(),D==null||D.gfx.beginFill(fc(D,u)),D==null||D.gfx.drawCircle(0,0,I),D==null||D.gfx.endFill(),G?I>=B&&clearInterval(X):I<=B&&clearInterval(X)},5)}P.gfx.interactive=!0})}function j(){e.length?l=ye(e,F=>({...F})):l=[{id:"start-here",name:"Start here",colors:{selected:"#fff",unavailable:"#fff",inactive:"#fff"}}],d=[],b();const O=t.getBoundingClientRect();p=O.height,f=O.width,t.innerHTML="",a=new t1({width:f,height:p,antialias:!0,autoDensity:!0,resizeTo:window,backgroundColor:"#13131a",backgroundAlpha:1}),t.appendChild(a.view),m=new _ue({screenWidth:f,screenHeight:p,worldWidth:f*4,worldHeight:p*4,passiveWheel:!1,events:a.renderer.plugins.interaction}),a.stage.addChild(m),m.drag().pinch().wheel().decelerate().clampZoom({minWidth:f/4,minHeight:p/4}),c=m_(l).force("link",f_(d).strength(F=>kt(F.target,u)?.8:.7).id(F=>F.id).distance(F=>kt(F.source,u)?20:30)).force("charge",g_().strength(-600)).force("center",u_(f/4,p/4)).force("collision",h_().radius(F=>F.radius).iterations(12)).velocityDecay(.6),h=new Wi,m.addChild(h),l.forEach(F=>{zc(F,u);const G=A.bind(F);let{name:N}=F,D=!1;F.gfx=new Wi,F.gfx.on("touchstart",I=>{D=!0,Hr(F,u,l,i),setTimeout(()=>{D&&A(I,F)},100)}),F.gfx.on("touchend",I=>{D=!1}),F.gfx.on("click",I=>G(I,F)),m.addChild(F.gfx),F.gfx.on("mouseover",I=>{g==="build"&&Hr(F,u,l,i)});const B=new Eo(N,{fontFamily:"Inter",fontSize:12,fill:"#fff",align:"center"});B.anchor.set(.5,-.75),B.resolution=12,F.gfx.addChild(B)}),$();const P=()=>{l.forEach(F=>{let{x:G,y:N,gfx:D}=F;D.position=new re(G,N)}),M()};c.on("tick",P)}return j(),{destroy:()=>{c.stop(),l.forEach(O=>{O.gfx.clear(),O.gfx.removeChildren(),O.gfx.destroy()}),h.clear(),o.unsubscribe()}}}const Aue="_container_1up64_1",Pue="_node_1up64_15",Oue="_tooltip_1up64_19",Rue="_contextMenu_1up64_32",Iue="_menuEntry_1up64_37",kue={container:Aue,node:Pue,tooltip:Oue,contextMenu:Rue,menuEntry:Iue},Mue=(t,e)=>{const n={lockedStats:{},stats:{},abilities:{},pointsInvested:0,exportableBuild:{}},r=(a,l,u,c)=>{if(Tr(n.stats[l])&&(n.stats[l]=0),!n.lockedStats[l]||c&&u&&n.lockedStats[l]<u)if(c)n.stats[l]=u,n.lockedStats[l]=u;else if(a.levels){const h=a.acquired||0;u=u||0,n.stats[l]+=u*h}else n.stats[l]+=u},i=(a,l)=>{const u=Ie(e,{id:a});Tr(n.abilities[a])&&(n.abilities[a]=qe(u)||{},n.abilities[a].modifiers={}),n.abilities[a].learned=n.abilities[a].learned||l},s=a=>{const l=Ie(e,{id:a});l&&(i(l.id),n.abilities[a].replaced=!0)},o=(a,l,u={},c)=>{const h=Ie(e,{id:a});i(a,l),h!=null&&h.replaces&&n.abilities[a].learned&&s(h==null?void 0:h.replaces),u&&ut(u,d=>{let f=d.modifier;c.levels&&(f=c.acquired*d.modifier),Tr(n.abilities[a].modifiers[d.id])&&(n.abilities[a].modifiers[d.id]=0),n.abilities[a].modifiers[d.id]+=f})};return ut(t,a=>{if(a.levels){const l=a.acquired||0;n.exportableBuild[a.id]=a.acquired||0,a.levelCost?Array.isArray(a.levelCost)?Jl(l,u=>{n.pointsInvested+=a.levelCost[u]}):n.pointsInvested+=l*a.levelCost:n.pointsInvested+=a.acquired||0}else n.exportableBuild[a.id]=!0,n.pointsInvested+=a.cost||1;a.providedStats&&ut(a.providedStats,l=>{r(a,l.id,l.modifier,l.set)}),a.providedAbilities&&ut(a.providedAbilities,l=>{o(l.id,l.gain,l.modifiers,a)})}),n};function Due({trees:t,infoUpdated:e,graphEvents:n}){const r=_.useRef(null),{abilities:i}=_.useContext(Lt),s=new gh,o=new gh,{savedBuild:a,setBuild:l}=_.useContext(qo);return _.useEffect(()=>{let u;if(n.subscribe({next:c=>{}}),s.subscribe({next:c=>{console.log("data");const h=vn(c.nodes,d=>d.selected||d.acquired);l({type:"set",build:Mue(h,i)})}}),o.subscribe({next:c=>{e(c)}}),r.current){const{destroy:c}=Tue(r.current,t,a,s,o,n);u=c}return e({}),u},[a]),S("div",{ref:r,className:kue.container})}function Fue(){const t=localStorage.getItem("dragon-nodes");let e;if(t)try{e=JSON.parse(t)}catch(n){console.log(n)}return e||{}}const Pp=new gh;function $ue(t){localStorage.setItem("dragon-nodes",JSON.stringify(t))}function Bue(){const{build:t,setSavedBuild:e}=_.useContext(qo),{setTagColors:n}=_.useContext(Yo),{setStats:r}=_.useContext(Xo),{setAbilityTypes:i,setAbilities:s}=_.useContext(Lt),[o,a]=_.useState({}),[l,u]=_.useState(()=>Fue());_.useEffect(()=>{$ue(l)},[l]),_.useEffect(()=>{Pp.subscribe({next:d=>{d.event==="nodesChanged"&&u(d.data.nodes)}})},[]);const c=d=>{if(d.type==="build")JSON.parse(d.data)&&e({type:"imported",build:JSON.parse(d.data)});else if(d.type==="trees"){const f=JSON.parse(d.data);e({type:"imported",build:{}}),f&&(f.nodes&&u(f.nodes),f.abilities&&s({type:"set",abilities:f.abilities}),f.tagColors&&n({type:"set",colors:f.tagColors}),f.stats&&r({type:"set",stats:f.stats}),f.abilityTypes&&i({type:"set",abilityTypes:f.abilityTypes}))}else if(d.type==="reset")u([{id:"start here",name:"Start Here",colors:{}}]),s({type:"set",abilities:[]}),i({type:"set",abilityTypes:[]}),n({type:"set",tagColors:[]}),r({type:"set",stats:[]}),e({type:"imported",build:{}});else if(d.type==="default"){const f=IF;u(f.nodes),r({type:"set",stats:f.stats}),i({type:"set",abilityTypes:f.abilityTypes}),s({type:"set",abilities:f.abilities}),n({type:"set",colors:f.tagColors}),e({type:"imported",build:{}})}},h=d=>{a(d.node)};return U("div",{className:"App",children:[U("div",{className:"appLeft",children:[S(qZ,{selectedNode:o,graphEvents$:Pp}),S(Vee,{pointsSpent:t.pointsInvested})]}),S("div",{className:"appRight",children:S(Wee,{nodes:l,importAttempted:c})}),S("div",{className:"skill-panel",children:S(Due,{trees:l,infoUpdated:h,graphEvents:Pp})})]})}function Nue(){return S(FF,{children:S(CF,{children:S(vF,{children:S(xF,{children:S(Bue,{})})})})})}Op.createRoot(document.getElementById("root")).render(S(Nue,{}))});export default Lue();
