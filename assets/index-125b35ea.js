var uH=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var zOe=uH((Nr,$r)=>{function cH(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var hr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function U3(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function hH(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Gm={},dH={get exports(){return Gm},set exports(t){Gm=t}},rv={},T={},fH={get exports(){return T},set exports(t){T=t}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gd=Symbol.for("react.element"),pH=Symbol.for("react.portal"),mH=Symbol.for("react.fragment"),gH=Symbol.for("react.strict_mode"),vH=Symbol.for("react.profiler"),yH=Symbol.for("react.provider"),bH=Symbol.for("react.context"),xH=Symbol.for("react.forward_ref"),wH=Symbol.for("react.suspense"),_H=Symbol.for("react.memo"),SH=Symbol.for("react.lazy"),VA=Symbol.iterator;function EH(t){return t===null||typeof t!="object"?null:(t=VA&&t[VA]||t["@@iterator"],typeof t=="function"?t:null)}var z3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H3=Object.assign,j3={};function mc(t,e,n){this.props=t,this.context=e,this.refs=j3,this.updater=n||z3}mc.prototype.isReactComponent={};mc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};mc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function W3(){}W3.prototype=mc.prototype;function x_(t,e,n){this.props=t,this.context=e,this.refs=j3,this.updater=n||z3}var w_=x_.prototype=new W3;w_.constructor=x_;H3(w_,mc.prototype);w_.isPureReactComponent=!0;var qA=Array.isArray,G3=Object.prototype.hasOwnProperty,__={current:null},V3={key:!0,ref:!0,__self:!0,__source:!0};function q3(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)G3.call(e,r)&&!V3.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Gd,type:t,key:s,ref:o,props:i,_owner:__.current}}function CH(t,e){return{$$typeof:Gd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function S_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gd}function TH(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var XA=/\/+/g;function Vy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?TH(""+t.key):e.toString(36)}function mm(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Gd:case pH:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Vy(o,0):r,qA(i)?(n="",t!=null&&(n=t.replace(XA,"$&/")+"/"),mm(i,e,n,"",function(c){return c})):i!=null&&(S_(i)&&(i=CH(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(XA,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",qA(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Vy(s,a);o+=mm(s,e,n,l,i)}else if(l=EH(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Vy(s,a++),o+=mm(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function gp(t,e,n){if(t==null)return t;var r=[],i=0;return mm(t,r,"","",function(s){return e.call(n,s,i++)}),r}function AH(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var tr={current:null},gm={transition:null},PH={ReactCurrentDispatcher:tr,ReactCurrentBatchConfig:gm,ReactCurrentOwner:__};st.Children={map:gp,forEach:function(t,e,n){gp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gp(t,function(){e++}),e},toArray:function(t){return gp(t,function(e){return e})||[]},only:function(t){if(!S_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};st.Component=mc;st.Fragment=mH;st.Profiler=vH;st.PureComponent=x_;st.StrictMode=gH;st.Suspense=wH;st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PH;st.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=H3({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=__.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)G3.call(e,l)&&!V3.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Gd,type:t.type,key:i,ref:s,props:r,_owner:o}};st.createContext=function(t){return t={$$typeof:bH,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:yH,_context:t},t.Consumer=t};st.createElement=q3;st.createFactory=function(t){var e=q3.bind(null,t);return e.type=t,e};st.createRef=function(){return{current:null}};st.forwardRef=function(t){return{$$typeof:xH,render:t}};st.isValidElement=S_;st.lazy=function(t){return{$$typeof:SH,_payload:{_status:-1,_result:t},_init:AH}};st.memo=function(t,e){return{$$typeof:_H,type:t,compare:e===void 0?null:e}};st.startTransition=function(t){var e=gm.transition;gm.transition={};try{t()}finally{gm.transition=e}};st.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};st.useCallback=function(t,e){return tr.current.useCallback(t,e)};st.useContext=function(t){return tr.current.useContext(t)};st.useDebugValue=function(){};st.useDeferredValue=function(t){return tr.current.useDeferredValue(t)};st.useEffect=function(t,e){return tr.current.useEffect(t,e)};st.useId=function(){return tr.current.useId()};st.useImperativeHandle=function(t,e,n){return tr.current.useImperativeHandle(t,e,n)};st.useInsertionEffect=function(t,e){return tr.current.useInsertionEffect(t,e)};st.useLayoutEffect=function(t,e){return tr.current.useLayoutEffect(t,e)};st.useMemo=function(t,e){return tr.current.useMemo(t,e)};st.useReducer=function(t,e,n){return tr.current.useReducer(t,e,n)};st.useRef=function(t){return tr.current.useRef(t)};st.useState=function(t){return tr.current.useState(t)};st.useSyncExternalStore=function(t,e,n){return tr.current.useSyncExternalStore(t,e,n)};st.useTransition=function(){return tr.current.useTransition()};st.version="18.2.0";(function(t){t.exports=st})(fH);const P=U3(T),YA=cH({__proto__:null,default:P},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kH=T,OH=Symbol.for("react.element"),IH=Symbol.for("react.fragment"),RH=Object.prototype.hasOwnProperty,MH=kH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FH={key:!0,ref:!0,__self:!0,__source:!0};function X3(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)RH.call(e,r)&&!FH.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:OH,type:t,key:s,ref:o,props:i,_owner:MH.current}}rv.Fragment=IH;rv.jsx=X3;rv.jsxs=X3;(function(t){t.exports=rv})(dH);const k=Gm.jsx,ee=Gm.jsxs;var kb={},Qh={},DH={get exports(){return Qh},set exports(t){Qh=t}},qr={},Ob={},LH={get exports(){return Ob},set exports(t){Ob=t}},Y3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Z,le){var G=Z.length;Z.push(le);e:for(;0<G;){var R=G-1>>>1,D=Z[R];if(0<i(D,le))Z[R]=le,Z[G]=D,G=R;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var le=Z[0],G=Z.pop();if(G!==le){Z[0]=G;e:for(var R=0,D=Z.length,Q=D>>>1;R<Q;){var K=2*(R+1)-1,$=Z[K],ne=K+1,me=Z[ne];if(0>i($,G))ne<D&&0>i(me,$)?(Z[R]=me,Z[ne]=G,R=ne):(Z[R]=$,Z[K]=G,R=K);else if(ne<D&&0>i(me,G))Z[R]=me,Z[ne]=G,R=ne;else break e}}return le}function i(Z,le){var G=Z.sortIndex-le.sortIndex;return G!==0?G:Z.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,f=null,p=3,m=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(Z){for(var le=n(c);le!==null;){if(le.callback===null)r(c);else if(le.startTime<=Z)r(c),le.sortIndex=le.expirationTime,e(l,le);else break;le=n(c)}}function E(Z){if(y=!1,w(Z),!v)if(n(l)!==null)v=!0,ce(O);else{var le=n(c);le!==null&&te(E,le.startTime-Z)}}function O(Z,le){v=!1,y&&(y=!1,b(L),L=-1),m=!0;var G=p;try{for(w(le),f=n(l);f!==null&&(!(f.expirationTime>le)||Z&&!z());){var R=f.callback;if(typeof R=="function"){f.callback=null,p=f.priorityLevel;var D=R(f.expirationTime<=le);le=t.unstable_now(),typeof D=="function"?f.callback=D:f===n(l)&&r(l),w(le)}else r(l);f=n(l)}if(f!==null)var Q=!0;else{var K=n(c);K!==null&&te(E,K.startTime-le),Q=!1}return Q}finally{f=null,p=G,m=!1}}var A=!1,F=null,L=-1,H=5,j=-1;function z(){return!(t.unstable_now()-j<H)}function W(){if(F!==null){var Z=t.unstable_now();j=Z;var le=!0;try{le=F(!0,Z)}finally{le?q():(A=!1,F=null)}}else A=!1}var q;if(typeof _=="function")q=function(){_(W)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,de=Y.port2;Y.port1.onmessage=W,q=function(){de.postMessage(null)}}else q=function(){x(W,0)};function ce(Z){F=Z,A||(A=!0,q())}function te(Z,le){L=x(function(){Z(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,ce(O))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Z){switch(p){case 1:case 2:case 3:var le=3;break;default:le=p}var G=p;p=le;try{return Z()}finally{p=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,le){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var G=p;p=Z;try{return le()}finally{p=G}},t.unstable_scheduleCallback=function(Z,le,G){var R=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?R+G:R):G=R,Z){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=G+D,Z={id:h++,callback:le,priorityLevel:Z,startTime:G,expirationTime:D,sortIndex:-1},G>R?(Z.sortIndex=G,e(c,Z),n(l)===null&&Z===n(c)&&(y?(b(L),L=-1):y=!0,te(E,G-R))):(Z.sortIndex=D,e(l,Z),v||m||(v=!0,ce(O))),Z},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(Z){var le=p;return function(){var G=p;p=le;try{return Z.apply(this,arguments)}finally{p=G}}}})(Y3);(function(t){t.exports=Y3})(LH);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K3=T,Gr=Ob;function he(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Z3=new Set,Jh={};function ml(t,e){Gu(t,e),Gu(t+"Capture",e)}function Gu(t,e){for(Jh[t]=e,t=0;t<e.length;t++)Z3.add(e[t])}var oo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ib=Object.prototype.hasOwnProperty,BH=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,KA={},ZA={};function NH(t){return Ib.call(ZA,t)?!0:Ib.call(KA,t)?!1:BH.test(t)?ZA[t]=!0:(KA[t]=!0,!1)}function $H(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function UH(t,e,n,r){if(e===null||typeof e>"u"||$H(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Fn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Fn[t]=new nr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Fn[e]=new nr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Fn[t]=new nr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Fn[t]=new nr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Fn[t]=new nr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Fn[t]=new nr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Fn[t]=new nr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Fn[t]=new nr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Fn[t]=new nr(t,5,!1,t.toLowerCase(),null,!1,!1)});var E_=/[\-:]([a-z])/g;function C_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(E_,C_);Fn[e]=new nr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(E_,C_);Fn[e]=new nr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(E_,C_);Fn[e]=new nr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Fn[t]=new nr(t,1,!1,t.toLowerCase(),null,!1,!1)});Fn.xlinkHref=new nr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Fn[t]=new nr(t,1,!1,t.toLowerCase(),null,!0,!0)});function T_(t,e,n,r){var i=Fn.hasOwnProperty(e)?Fn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(UH(e,n,i,r)&&(n=null),r||i===null?NH(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var go=K3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vp=Symbol.for("react.element"),yu=Symbol.for("react.portal"),bu=Symbol.for("react.fragment"),A_=Symbol.for("react.strict_mode"),Rb=Symbol.for("react.profiler"),Q3=Symbol.for("react.provider"),J3=Symbol.for("react.context"),P_=Symbol.for("react.forward_ref"),Mb=Symbol.for("react.suspense"),Fb=Symbol.for("react.suspense_list"),k_=Symbol.for("react.memo"),Do=Symbol.for("react.lazy"),eM=Symbol.for("react.offscreen"),QA=Symbol.iterator;function Zc(t){return t===null||typeof t!="object"?null:(t=QA&&t[QA]||t["@@iterator"],typeof t=="function"?t:null)}var Kt=Object.assign,qy;function _h(t){if(qy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);qy=e&&e[1]||""}return`
`+qy+t}var Xy=!1;function Yy(t,e){if(!t||Xy)return"";Xy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Xy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?_h(t):""}function zH(t){switch(t.tag){case 5:return _h(t.type);case 16:return _h("Lazy");case 13:return _h("Suspense");case 19:return _h("SuspenseList");case 0:case 2:case 15:return t=Yy(t.type,!1),t;case 11:return t=Yy(t.type.render,!1),t;case 1:return t=Yy(t.type,!0),t;default:return""}}function Db(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case bu:return"Fragment";case yu:return"Portal";case Rb:return"Profiler";case A_:return"StrictMode";case Mb:return"Suspense";case Fb:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case J3:return(t.displayName||"Context")+".Consumer";case Q3:return(t._context.displayName||"Context")+".Provider";case P_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case k_:return e=t.displayName||null,e!==null?e:Db(t.type)||"Memo";case Do:e=t._payload,t=t._init;try{return Db(t(e))}catch{}}return null}function HH(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Db(e);case 8:return e===A_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ea(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tM(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jH(t){var e=tM(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yp(t){t._valueTracker||(t._valueTracker=jH(t))}function nM(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=tM(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Vm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Lb(t,e){var n=e.checked;return Kt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function JA(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ea(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function rM(t,e){e=e.checked,e!=null&&T_(t,"checked",e,!1)}function Bb(t,e){rM(t,e);var n=ea(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Nb(t,e.type,n):e.hasOwnProperty("defaultValue")&&Nb(t,e.type,ea(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function eP(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Nb(t,e,n){(e!=="number"||Vm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Sh=Array.isArray;function Iu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ea(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function $b(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(he(91));return Kt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function tP(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(he(92));if(Sh(n)){if(1<n.length)throw Error(he(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ea(n)}}function iM(t,e){var n=ea(e.value),r=ea(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function nP(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sM(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ub(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sM(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bp,oM=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bp=bp||document.createElement("div"),bp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ed(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Nh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WH=["Webkit","ms","Moz","O"];Object.keys(Nh).forEach(function(t){WH.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nh[e]=Nh[t]})});function aM(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Nh.hasOwnProperty(t)&&Nh[t]?(""+e).trim():e+"px"}function lM(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=aM(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var GH=Kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zb(t,e){if(e){if(GH[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(he(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(he(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(he(61))}if(e.style!=null&&typeof e.style!="object")throw Error(he(62))}}function Hb(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jb=null;function O_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wb=null,Ru=null,Mu=null;function rP(t){if(t=Xd(t)){if(typeof Wb!="function")throw Error(he(280));var e=t.stateNode;e&&(e=lv(e),Wb(t.stateNode,t.type,e))}}function uM(t){Ru?Mu?Mu.push(t):Mu=[t]:Ru=t}function cM(){if(Ru){var t=Ru,e=Mu;if(Mu=Ru=null,rP(t),e)for(t=0;t<e.length;t++)rP(e[t])}}function hM(t,e){return t(e)}function dM(){}var Ky=!1;function fM(t,e,n){if(Ky)return t(e,n);Ky=!0;try{return hM(t,e,n)}finally{Ky=!1,(Ru!==null||Mu!==null)&&(dM(),cM())}}function td(t,e){var n=t.stateNode;if(n===null)return null;var r=lv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(he(231,e,typeof n));return n}var Gb=!1;if(oo)try{var Qc={};Object.defineProperty(Qc,"passive",{get:function(){Gb=!0}}),window.addEventListener("test",Qc,Qc),window.removeEventListener("test",Qc,Qc)}catch{Gb=!1}function VH(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var $h=!1,qm=null,Xm=!1,Vb=null,qH={onError:function(t){$h=!0,qm=t}};function XH(t,e,n,r,i,s,o,a,l){$h=!1,qm=null,VH.apply(qH,arguments)}function YH(t,e,n,r,i,s,o,a,l){if(XH.apply(this,arguments),$h){if($h){var c=qm;$h=!1,qm=null}else throw Error(he(198));Xm||(Xm=!0,Vb=c)}}function gl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function pM(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function iP(t){if(gl(t)!==t)throw Error(he(188))}function KH(t){var e=t.alternate;if(!e){if(e=gl(t),e===null)throw Error(he(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return iP(i),t;if(s===r)return iP(i),e;s=s.sibling}throw Error(he(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(he(189))}}if(n.alternate!==r)throw Error(he(190))}if(n.tag!==3)throw Error(he(188));return n.stateNode.current===n?t:e}function mM(t){return t=KH(t),t!==null?gM(t):null}function gM(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=gM(t);if(e!==null)return e;t=t.sibling}return null}var vM=Gr.unstable_scheduleCallback,sP=Gr.unstable_cancelCallback,ZH=Gr.unstable_shouldYield,QH=Gr.unstable_requestPaint,on=Gr.unstable_now,JH=Gr.unstable_getCurrentPriorityLevel,I_=Gr.unstable_ImmediatePriority,yM=Gr.unstable_UserBlockingPriority,Ym=Gr.unstable_NormalPriority,ej=Gr.unstable_LowPriority,bM=Gr.unstable_IdlePriority,iv=null,Ps=null;function tj(t){if(Ps&&typeof Ps.onCommitFiberRoot=="function")try{Ps.onCommitFiberRoot(iv,t,void 0,(t.current.flags&128)===128)}catch{}}var Yi=Math.clz32?Math.clz32:ij,nj=Math.log,rj=Math.LN2;function ij(t){return t>>>=0,t===0?32:31-(nj(t)/rj|0)|0}var xp=64,wp=4194304;function Eh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Km(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Eh(a):(s&=o,s!==0&&(r=Eh(s)))}else o=n&~i,o!==0?r=Eh(o):s!==0&&(r=Eh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Yi(e),i=1<<n,r|=t[n],e&=~i;return r}function sj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oj(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Yi(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=sj(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function qb(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xM(){var t=xp;return xp<<=1,!(xp&4194240)&&(xp=64),t}function Zy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yi(e),t[e]=n}function aj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Yi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function R_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var xt=0;function wM(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _M,M_,SM,EM,CM,Xb=!1,_p=[],Wo=null,Go=null,Vo=null,nd=new Map,rd=new Map,No=[],lj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oP(t,e){switch(t){case"focusin":case"focusout":Wo=null;break;case"dragenter":case"dragleave":Go=null;break;case"mouseover":case"mouseout":Vo=null;break;case"pointerover":case"pointerout":nd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rd.delete(e.pointerId)}}function Jc(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Xd(e),e!==null&&M_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function uj(t,e,n,r,i){switch(e){case"focusin":return Wo=Jc(Wo,t,e,n,r,i),!0;case"dragenter":return Go=Jc(Go,t,e,n,r,i),!0;case"mouseover":return Vo=Jc(Vo,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return nd.set(s,Jc(nd.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,rd.set(s,Jc(rd.get(s)||null,t,e,n,r,i)),!0}return!1}function TM(t){var e=Ua(t.target);if(e!==null){var n=gl(e);if(n!==null){if(e=n.tag,e===13){if(e=pM(n),e!==null){t.blockedOn=e,CM(t.priority,function(){SM(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Yb(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);jb=r,n.target.dispatchEvent(r),jb=null}else return e=Xd(n),e!==null&&M_(e),t.blockedOn=n,!1;e.shift()}return!0}function aP(t,e,n){vm(t)&&n.delete(e)}function cj(){Xb=!1,Wo!==null&&vm(Wo)&&(Wo=null),Go!==null&&vm(Go)&&(Go=null),Vo!==null&&vm(Vo)&&(Vo=null),nd.forEach(aP),rd.forEach(aP)}function eh(t,e){t.blockedOn===e&&(t.blockedOn=null,Xb||(Xb=!0,Gr.unstable_scheduleCallback(Gr.unstable_NormalPriority,cj)))}function id(t){function e(i){return eh(i,t)}if(0<_p.length){eh(_p[0],t);for(var n=1;n<_p.length;n++){var r=_p[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Wo!==null&&eh(Wo,t),Go!==null&&eh(Go,t),Vo!==null&&eh(Vo,t),nd.forEach(e),rd.forEach(e),n=0;n<No.length;n++)r=No[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<No.length&&(n=No[0],n.blockedOn===null);)TM(n),n.blockedOn===null&&No.shift()}var Fu=go.ReactCurrentBatchConfig,Zm=!0;function hj(t,e,n,r){var i=xt,s=Fu.transition;Fu.transition=null;try{xt=1,F_(t,e,n,r)}finally{xt=i,Fu.transition=s}}function dj(t,e,n,r){var i=xt,s=Fu.transition;Fu.transition=null;try{xt=4,F_(t,e,n,r)}finally{xt=i,Fu.transition=s}}function F_(t,e,n,r){if(Zm){var i=Yb(t,e,n,r);if(i===null)a1(t,e,r,Qm,n),oP(t,r);else if(uj(i,t,e,n,r))r.stopPropagation();else if(oP(t,r),e&4&&-1<lj.indexOf(t)){for(;i!==null;){var s=Xd(i);if(s!==null&&_M(s),s=Yb(t,e,n,r),s===null&&a1(t,e,r,Qm,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else a1(t,e,r,null,n)}}var Qm=null;function Yb(t,e,n,r){if(Qm=null,t=O_(r),t=Ua(t),t!==null)if(e=gl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=pM(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qm=t,null}function AM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JH()){case I_:return 1;case yM:return 4;case Ym:case ej:return 16;case bM:return 536870912;default:return 16}default:return 16}}var Uo=null,D_=null,ym=null;function PM(){if(ym)return ym;var t,e=D_,n=e.length,r,i="value"in Uo?Uo.value:Uo.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ym=i.slice(t,1<r?1-r:void 0)}function bm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Sp(){return!0}function lP(){return!1}function Xr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Sp:lP,this.isPropagationStopped=lP,this}return Kt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sp)},persist:function(){},isPersistent:Sp}),e}var gc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},L_=Xr(gc),qd=Kt({},gc,{view:0,detail:0}),fj=Xr(qd),Qy,Jy,th,sv=Kt({},qd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:B_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==th&&(th&&t.type==="mousemove"?(Qy=t.screenX-th.screenX,Jy=t.screenY-th.screenY):Jy=Qy=0,th=t),Qy)},movementY:function(t){return"movementY"in t?t.movementY:Jy}}),uP=Xr(sv),pj=Kt({},sv,{dataTransfer:0}),mj=Xr(pj),gj=Kt({},qd,{relatedTarget:0}),e1=Xr(gj),vj=Kt({},gc,{animationName:0,elapsedTime:0,pseudoElement:0}),yj=Xr(vj),bj=Kt({},gc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xj=Xr(bj),wj=Kt({},gc,{data:0}),cP=Xr(wj),_j={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ej={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ej[t])?!!e[t]:!1}function B_(){return Cj}var Tj=Kt({},qd,{key:function(t){if(t.key){var e=_j[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=bm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Sj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:B_,charCode:function(t){return t.type==="keypress"?bm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Aj=Xr(Tj),Pj=Kt({},sv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hP=Xr(Pj),kj=Kt({},qd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:B_}),Oj=Xr(kj),Ij=Kt({},gc,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rj=Xr(Ij),Mj=Kt({},sv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Fj=Xr(Mj),Dj=[9,13,27,32],N_=oo&&"CompositionEvent"in window,Uh=null;oo&&"documentMode"in document&&(Uh=document.documentMode);var Lj=oo&&"TextEvent"in window&&!Uh,kM=oo&&(!N_||Uh&&8<Uh&&11>=Uh),dP=String.fromCharCode(32),fP=!1;function OM(t,e){switch(t){case"keyup":return Dj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xu=!1;function Bj(t,e){switch(t){case"compositionend":return IM(e);case"keypress":return e.which!==32?null:(fP=!0,dP);case"textInput":return t=e.data,t===dP&&fP?null:t;default:return null}}function Nj(t,e){if(xu)return t==="compositionend"||!N_&&OM(t,e)?(t=PM(),ym=D_=Uo=null,xu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kM&&e.locale!=="ko"?null:e.data;default:return null}}var $j={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$j[t.type]:e==="textarea"}function RM(t,e,n,r){uM(r),e=Jm(e,"onChange"),0<e.length&&(n=new L_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var zh=null,sd=null;function Uj(t){jM(t,0)}function ov(t){var e=Su(t);if(nM(e))return t}function zj(t,e){if(t==="change")return e}var MM=!1;if(oo){var t1;if(oo){var n1="oninput"in document;if(!n1){var mP=document.createElement("div");mP.setAttribute("oninput","return;"),n1=typeof mP.oninput=="function"}t1=n1}else t1=!1;MM=t1&&(!document.documentMode||9<document.documentMode)}function gP(){zh&&(zh.detachEvent("onpropertychange",FM),sd=zh=null)}function FM(t){if(t.propertyName==="value"&&ov(sd)){var e=[];RM(e,sd,t,O_(t)),fM(Uj,e)}}function Hj(t,e,n){t==="focusin"?(gP(),zh=e,sd=n,zh.attachEvent("onpropertychange",FM)):t==="focusout"&&gP()}function jj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ov(sd)}function Wj(t,e){if(t==="click")return ov(e)}function Gj(t,e){if(t==="input"||t==="change")return ov(e)}function Vj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ns=typeof Object.is=="function"?Object.is:Vj;function od(t,e){if(ns(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ib.call(e,i)||!ns(t[i],e[i]))return!1}return!0}function vP(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yP(t,e){var n=vP(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vP(n)}}function DM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?DM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function LM(){for(var t=window,e=Vm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Vm(t.document)}return e}function $_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function qj(t){var e=LM(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&DM(n.ownerDocument.documentElement,n)){if(r!==null&&$_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=yP(n,s);var o=yP(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Xj=oo&&"documentMode"in document&&11>=document.documentMode,wu=null,Kb=null,Hh=null,Zb=!1;function bP(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zb||wu==null||wu!==Vm(r)||(r=wu,"selectionStart"in r&&$_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hh&&od(Hh,r)||(Hh=r,r=Jm(Kb,"onSelect"),0<r.length&&(e=new L_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=wu)))}function Ep(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _u={animationend:Ep("Animation","AnimationEnd"),animationiteration:Ep("Animation","AnimationIteration"),animationstart:Ep("Animation","AnimationStart"),transitionend:Ep("Transition","TransitionEnd")},r1={},BM={};oo&&(BM=document.createElement("div").style,"AnimationEvent"in window||(delete _u.animationend.animation,delete _u.animationiteration.animation,delete _u.animationstart.animation),"TransitionEvent"in window||delete _u.transitionend.transition);function av(t){if(r1[t])return r1[t];if(!_u[t])return t;var e=_u[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in BM)return r1[t]=e[n];return t}var NM=av("animationend"),$M=av("animationiteration"),UM=av("animationstart"),zM=av("transitionend"),HM=new Map,xP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function aa(t,e){HM.set(t,e),ml(e,[t])}for(var i1=0;i1<xP.length;i1++){var s1=xP[i1],Yj=s1.toLowerCase(),Kj=s1[0].toUpperCase()+s1.slice(1);aa(Yj,"on"+Kj)}aa(NM,"onAnimationEnd");aa($M,"onAnimationIteration");aa(UM,"onAnimationStart");aa("dblclick","onDoubleClick");aa("focusin","onFocus");aa("focusout","onBlur");aa(zM,"onTransitionEnd");Gu("onMouseEnter",["mouseout","mouseover"]);Gu("onMouseLeave",["mouseout","mouseover"]);Gu("onPointerEnter",["pointerout","pointerover"]);Gu("onPointerLeave",["pointerout","pointerover"]);ml("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ml("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ml("onBeforeInput",["compositionend","keypress","textInput","paste"]);ml("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ml("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ml("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ch="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ch));function wP(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,YH(r,e,void 0,t),t.currentTarget=null}function jM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;wP(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;wP(i,a,c),s=l}}}if(Xm)throw t=Vb,Xm=!1,Vb=null,t}function Mt(t,e){var n=e[nx];n===void 0&&(n=e[nx]=new Set);var r=t+"__bubble";n.has(r)||(WM(e,t,2,!1),n.add(r))}function o1(t,e,n){var r=0;e&&(r|=4),WM(n,t,r,e)}var Cp="_reactListening"+Math.random().toString(36).slice(2);function ad(t){if(!t[Cp]){t[Cp]=!0,Z3.forEach(function(n){n!=="selectionchange"&&(Zj.has(n)||o1(n,!1,t),o1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Cp]||(e[Cp]=!0,o1("selectionchange",!1,e))}}function WM(t,e,n,r){switch(AM(e)){case 1:var i=hj;break;case 4:i=dj;break;default:i=F_}n=i.bind(null,e,n,t),i=void 0,!Gb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function a1(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ua(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}fM(function(){var c=s,h=O_(n),f=[];e:{var p=HM.get(t);if(p!==void 0){var m=L_,v=t;switch(t){case"keypress":if(bm(n)===0)break e;case"keydown":case"keyup":m=Aj;break;case"focusin":v="focus",m=e1;break;case"focusout":v="blur",m=e1;break;case"beforeblur":case"afterblur":m=e1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=uP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=mj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Oj;break;case NM:case $M:case UM:m=yj;break;case zM:m=Rj;break;case"scroll":m=fj;break;case"wheel":m=Fj;break;case"copy":case"cut":case"paste":m=xj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=hP}var y=(e&4)!==0,x=!y&&t==="scroll",b=y?p!==null?p+"Capture":null:p;y=[];for(var _=c,w;_!==null;){w=_;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,b!==null&&(E=td(_,b),E!=null&&y.push(ld(_,E,w)))),x)break;_=_.return}0<y.length&&(p=new m(p,v,null,n,h),f.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==jb&&(v=n.relatedTarget||n.fromElement)&&(Ua(v)||v[ao]))break e;if((m||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?Ua(v):null,v!==null&&(x=gl(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(y=uP,E="onMouseLeave",b="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(y=hP,E="onPointerLeave",b="onPointerEnter",_="pointer"),x=m==null?p:Su(m),w=v==null?p:Su(v),p=new y(E,_+"leave",m,n,h),p.target=x,p.relatedTarget=w,E=null,Ua(h)===c&&(y=new y(b,_+"enter",v,n,h),y.target=w,y.relatedTarget=x,E=y),x=E,m&&v)t:{for(y=m,b=v,_=0,w=y;w;w=Ul(w))_++;for(w=0,E=b;E;E=Ul(E))w++;for(;0<_-w;)y=Ul(y),_--;for(;0<w-_;)b=Ul(b),w--;for(;_--;){if(y===b||b!==null&&y===b.alternate)break t;y=Ul(y),b=Ul(b)}y=null}else y=null;m!==null&&_P(f,p,m,y,!1),v!==null&&x!==null&&_P(f,x,v,y,!0)}}e:{if(p=c?Su(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var O=zj;else if(pP(p))if(MM)O=Gj;else{O=jj;var A=Hj}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=Wj);if(O&&(O=O(t,c))){RM(f,O,n,h);break e}A&&A(t,p,c),t==="focusout"&&(A=p._wrapperState)&&A.controlled&&p.type==="number"&&Nb(p,"number",p.value)}switch(A=c?Su(c):window,t){case"focusin":(pP(A)||A.contentEditable==="true")&&(wu=A,Kb=c,Hh=null);break;case"focusout":Hh=Kb=wu=null;break;case"mousedown":Zb=!0;break;case"contextmenu":case"mouseup":case"dragend":Zb=!1,bP(f,n,h);break;case"selectionchange":if(Xj)break;case"keydown":case"keyup":bP(f,n,h)}var F;if(N_)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else xu?OM(t,n)&&(L="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(kM&&n.locale!=="ko"&&(xu||L!=="onCompositionStart"?L==="onCompositionEnd"&&xu&&(F=PM()):(Uo=h,D_="value"in Uo?Uo.value:Uo.textContent,xu=!0)),A=Jm(c,L),0<A.length&&(L=new cP(L,t,null,n,h),f.push({event:L,listeners:A}),F?L.data=F:(F=IM(n),F!==null&&(L.data=F)))),(F=Lj?Bj(t,n):Nj(t,n))&&(c=Jm(c,"onBeforeInput"),0<c.length&&(h=new cP("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=F))}jM(f,e)})}function ld(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Jm(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=td(t,n),s!=null&&r.unshift(ld(t,s,i)),s=td(t,e),s!=null&&r.push(ld(t,s,i))),t=t.return}return r}function Ul(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _P(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=td(n,s),l!=null&&o.unshift(ld(n,l,a))):i||(l=td(n,s),l!=null&&o.push(ld(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Qj=/\r\n?/g,Jj=/\u0000|\uFFFD/g;function SP(t){return(typeof t=="string"?t:""+t).replace(Qj,`
`).replace(Jj,"")}function Tp(t,e,n){if(e=SP(e),SP(t)!==e&&n)throw Error(he(425))}function eg(){}var Qb=null,Jb=null;function ex(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tx=typeof setTimeout=="function"?setTimeout:void 0,eW=typeof clearTimeout=="function"?clearTimeout:void 0,EP=typeof Promise=="function"?Promise:void 0,tW=typeof queueMicrotask=="function"?queueMicrotask:typeof EP<"u"?function(t){return EP.resolve(null).then(t).catch(nW)}:tx;function nW(t){setTimeout(function(){throw t})}function l1(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),id(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);id(e)}function qo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function CP(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var vc=Math.random().toString(36).slice(2),_s="__reactFiber$"+vc,ud="__reactProps$"+vc,ao="__reactContainer$"+vc,nx="__reactEvents$"+vc,rW="__reactListeners$"+vc,iW="__reactHandles$"+vc;function Ua(t){var e=t[_s];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ao]||n[_s]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=CP(t);t!==null;){if(n=t[_s])return n;t=CP(t)}return e}t=n,n=t.parentNode}return null}function Xd(t){return t=t[_s]||t[ao],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Su(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(he(33))}function lv(t){return t[ud]||null}var rx=[],Eu=-1;function la(t){return{current:t}}function Bt(t){0>Eu||(t.current=rx[Eu],rx[Eu]=null,Eu--)}function kt(t,e){Eu++,rx[Eu]=t.current,t.current=e}var ta={},jn=la(ta),fr=la(!1),tl=ta;function Vu(t,e){var n=t.type.contextTypes;if(!n)return ta;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function pr(t){return t=t.childContextTypes,t!=null}function tg(){Bt(fr),Bt(jn)}function TP(t,e,n){if(jn.current!==ta)throw Error(he(168));kt(jn,e),kt(fr,n)}function GM(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(he(108,HH(t)||"Unknown",i));return Kt({},n,r)}function ng(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ta,tl=jn.current,kt(jn,t),kt(fr,fr.current),!0}function AP(t,e,n){var r=t.stateNode;if(!r)throw Error(he(169));n?(t=GM(t,e,tl),r.__reactInternalMemoizedMergedChildContext=t,Bt(fr),Bt(jn),kt(jn,t)):Bt(fr),kt(fr,n)}var Qs=null,uv=!1,u1=!1;function VM(t){Qs===null?Qs=[t]:Qs.push(t)}function sW(t){uv=!0,VM(t)}function ua(){if(!u1&&Qs!==null){u1=!0;var t=0,e=xt;try{var n=Qs;for(xt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qs=null,uv=!1}catch(i){throw Qs!==null&&(Qs=Qs.slice(t+1)),vM(I_,ua),i}finally{xt=e,u1=!1}}return null}var Cu=[],Tu=0,rg=null,ig=0,li=[],ui=0,nl=null,eo=1,to="";function Ia(t,e){Cu[Tu++]=ig,Cu[Tu++]=rg,rg=t,ig=e}function qM(t,e,n){li[ui++]=eo,li[ui++]=to,li[ui++]=nl,nl=t;var r=eo;t=to;var i=32-Yi(r)-1;r&=~(1<<i),n+=1;var s=32-Yi(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,eo=1<<32-Yi(e)+i|n<<i|r,to=s+t}else eo=1<<s|n<<i|r,to=t}function U_(t){t.return!==null&&(Ia(t,1),qM(t,1,0))}function z_(t){for(;t===rg;)rg=Cu[--Tu],Cu[Tu]=null,ig=Cu[--Tu],Cu[Tu]=null;for(;t===nl;)nl=li[--ui],li[ui]=null,to=li[--ui],li[ui]=null,eo=li[--ui],li[ui]=null}var Ur=null,Dr=null,jt=!1,Wi=null;function XM(t,e){var n=pi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function PP(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ur=t,Dr=qo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ur=t,Dr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=nl!==null?{id:eo,overflow:to}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=pi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ur=t,Dr=null,!0):!1;default:return!1}}function ix(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sx(t){if(jt){var e=Dr;if(e){var n=e;if(!PP(t,e)){if(ix(t))throw Error(he(418));e=qo(n.nextSibling);var r=Ur;e&&PP(t,e)?XM(r,n):(t.flags=t.flags&-4097|2,jt=!1,Ur=t)}}else{if(ix(t))throw Error(he(418));t.flags=t.flags&-4097|2,jt=!1,Ur=t}}}function kP(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ur=t}function Ap(t){if(t!==Ur)return!1;if(!jt)return kP(t),jt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ex(t.type,t.memoizedProps)),e&&(e=Dr)){if(ix(t))throw YM(),Error(he(418));for(;e;)XM(t,e),e=qo(e.nextSibling)}if(kP(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(he(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dr=qo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dr=null}}else Dr=Ur?qo(t.stateNode.nextSibling):null;return!0}function YM(){for(var t=Dr;t;)t=qo(t.nextSibling)}function qu(){Dr=Ur=null,jt=!1}function H_(t){Wi===null?Wi=[t]:Wi.push(t)}var oW=go.ReactCurrentBatchConfig;function Hi(t,e){if(t&&t.defaultProps){e=Kt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var sg=la(null),og=null,Au=null,j_=null;function W_(){j_=Au=og=null}function G_(t){var e=sg.current;Bt(sg),t._currentValue=e}function ox(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Du(t,e){og=t,j_=Au=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dr=!0),t.firstContext=null)}function xi(t){var e=t._currentValue;if(j_!==t)if(t={context:t,memoizedValue:e,next:null},Au===null){if(og===null)throw Error(he(308));Au=t,og.dependencies={lanes:0,firstContext:t}}else Au=Au.next=t;return e}var za=null;function V_(t){za===null?za=[t]:za.push(t)}function KM(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,V_(e)):(n.next=i.next,i.next=n),e.interleaved=n,lo(t,r)}function lo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Lo=!1;function q_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ro(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ct&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,lo(t,n)}return i=r.interleaved,i===null?(e.next=e,V_(r)):(e.next=i.next,i.next=e),r.interleaved=e,lo(t,n)}function xm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,R_(t,n)}}function OP(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ag(t,e,n,r){var i=t.updateQueue;Lo=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,h=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,y=a;switch(p=e,m=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(m,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,p=typeof v=="function"?v.call(m,f,p):v,p==null)break e;f=Kt({},f,p);break e;case 2:Lo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=m,l=f):h=h.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);il|=o,t.lanes=o,t.memoizedState=f}}function IP(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(he(191,i));i.call(r)}}}var QM=new K3.Component().refs;function ax(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Kt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var cv={isMounted:function(t){return(t=t._reactInternals)?gl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qn(),i=Ko(t),s=ro(r,i);s.payload=e,n!=null&&(s.callback=n),e=Xo(t,s,i),e!==null&&(Ki(e,t,i,r),xm(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qn(),i=Ko(t),s=ro(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Xo(t,s,i),e!==null&&(Ki(e,t,i,r),xm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qn(),r=Ko(t),i=ro(n,r);i.tag=2,e!=null&&(i.callback=e),e=Xo(t,i,r),e!==null&&(Ki(e,t,r,n),xm(e,t,r))}};function RP(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!od(n,r)||!od(i,s):!0}function JM(t,e,n){var r=!1,i=ta,s=e.contextType;return typeof s=="object"&&s!==null?s=xi(s):(i=pr(e)?tl:jn.current,r=e.contextTypes,s=(r=r!=null)?Vu(t,i):ta),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=cv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function MP(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&cv.enqueueReplaceState(e,e.state,null)}function lx(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=QM,q_(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=xi(s):(s=pr(e)?tl:jn.current,i.context=Vu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ax(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&cv.enqueueReplaceState(i,i.state,null),ag(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function nh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(he(309));var r=n.stateNode}if(!r)throw Error(he(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===QM&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(he(284));if(!n._owner)throw Error(he(290,t))}return t}function Pp(t,e){throw t=Object.prototype.toString.call(e),Error(he(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function FP(t){var e=t._init;return e(t._payload)}function eF(t){function e(b,_){if(t){var w=b.deletions;w===null?(b.deletions=[_],b.flags|=16):w.push(_)}}function n(b,_){if(!t)return null;for(;_!==null;)e(b,_),_=_.sibling;return null}function r(b,_){for(b=new Map;_!==null;)_.key!==null?b.set(_.key,_):b.set(_.index,_),_=_.sibling;return b}function i(b,_){return b=Zo(b,_),b.index=0,b.sibling=null,b}function s(b,_,w){return b.index=w,t?(w=b.alternate,w!==null?(w=w.index,w<_?(b.flags|=2,_):w):(b.flags|=2,_)):(b.flags|=1048576,_)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,_,w,E){return _===null||_.tag!==6?(_=g1(w,b.mode,E),_.return=b,_):(_=i(_,w),_.return=b,_)}function l(b,_,w,E){var O=w.type;return O===bu?h(b,_,w.props.children,E,w.key):_!==null&&(_.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Do&&FP(O)===_.type)?(E=i(_,w.props),E.ref=nh(b,_,w),E.return=b,E):(E=Tm(w.type,w.key,w.props,null,b.mode,E),E.ref=nh(b,_,w),E.return=b,E)}function c(b,_,w,E){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=v1(w,b.mode,E),_.return=b,_):(_=i(_,w.children||[]),_.return=b,_)}function h(b,_,w,E,O){return _===null||_.tag!==7?(_=Xa(w,b.mode,E,O),_.return=b,_):(_=i(_,w),_.return=b,_)}function f(b,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=g1(""+_,b.mode,w),_.return=b,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case vp:return w=Tm(_.type,_.key,_.props,null,b.mode,w),w.ref=nh(b,null,_),w.return=b,w;case yu:return _=v1(_,b.mode,w),_.return=b,_;case Do:var E=_._init;return f(b,E(_._payload),w)}if(Sh(_)||Zc(_))return _=Xa(_,b.mode,w,null),_.return=b,_;Pp(b,_)}return null}function p(b,_,w,E){var O=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return O!==null?null:a(b,_,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case vp:return w.key===O?l(b,_,w,E):null;case yu:return w.key===O?c(b,_,w,E):null;case Do:return O=w._init,p(b,_,O(w._payload),E)}if(Sh(w)||Zc(w))return O!==null?null:h(b,_,w,E,null);Pp(b,w)}return null}function m(b,_,w,E,O){if(typeof E=="string"&&E!==""||typeof E=="number")return b=b.get(w)||null,a(_,b,""+E,O);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case vp:return b=b.get(E.key===null?w:E.key)||null,l(_,b,E,O);case yu:return b=b.get(E.key===null?w:E.key)||null,c(_,b,E,O);case Do:var A=E._init;return m(b,_,w,A(E._payload),O)}if(Sh(E)||Zc(E))return b=b.get(w)||null,h(_,b,E,O,null);Pp(_,E)}return null}function v(b,_,w,E){for(var O=null,A=null,F=_,L=_=0,H=null;F!==null&&L<w.length;L++){F.index>L?(H=F,F=null):H=F.sibling;var j=p(b,F,w[L],E);if(j===null){F===null&&(F=H);break}t&&F&&j.alternate===null&&e(b,F),_=s(j,_,L),A===null?O=j:A.sibling=j,A=j,F=H}if(L===w.length)return n(b,F),jt&&Ia(b,L),O;if(F===null){for(;L<w.length;L++)F=f(b,w[L],E),F!==null&&(_=s(F,_,L),A===null?O=F:A.sibling=F,A=F);return jt&&Ia(b,L),O}for(F=r(b,F);L<w.length;L++)H=m(F,b,L,w[L],E),H!==null&&(t&&H.alternate!==null&&F.delete(H.key===null?L:H.key),_=s(H,_,L),A===null?O=H:A.sibling=H,A=H);return t&&F.forEach(function(z){return e(b,z)}),jt&&Ia(b,L),O}function y(b,_,w,E){var O=Zc(w);if(typeof O!="function")throw Error(he(150));if(w=O.call(w),w==null)throw Error(he(151));for(var A=O=null,F=_,L=_=0,H=null,j=w.next();F!==null&&!j.done;L++,j=w.next()){F.index>L?(H=F,F=null):H=F.sibling;var z=p(b,F,j.value,E);if(z===null){F===null&&(F=H);break}t&&F&&z.alternate===null&&e(b,F),_=s(z,_,L),A===null?O=z:A.sibling=z,A=z,F=H}if(j.done)return n(b,F),jt&&Ia(b,L),O;if(F===null){for(;!j.done;L++,j=w.next())j=f(b,j.value,E),j!==null&&(_=s(j,_,L),A===null?O=j:A.sibling=j,A=j);return jt&&Ia(b,L),O}for(F=r(b,F);!j.done;L++,j=w.next())j=m(F,b,L,j.value,E),j!==null&&(t&&j.alternate!==null&&F.delete(j.key===null?L:j.key),_=s(j,_,L),A===null?O=j:A.sibling=j,A=j);return t&&F.forEach(function(W){return e(b,W)}),jt&&Ia(b,L),O}function x(b,_,w,E){if(typeof w=="object"&&w!==null&&w.type===bu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case vp:e:{for(var O=w.key,A=_;A!==null;){if(A.key===O){if(O=w.type,O===bu){if(A.tag===7){n(b,A.sibling),_=i(A,w.props.children),_.return=b,b=_;break e}}else if(A.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Do&&FP(O)===A.type){n(b,A.sibling),_=i(A,w.props),_.ref=nh(b,A,w),_.return=b,b=_;break e}n(b,A);break}else e(b,A);A=A.sibling}w.type===bu?(_=Xa(w.props.children,b.mode,E,w.key),_.return=b,b=_):(E=Tm(w.type,w.key,w.props,null,b.mode,E),E.ref=nh(b,_,w),E.return=b,b=E)}return o(b);case yu:e:{for(A=w.key;_!==null;){if(_.key===A)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){n(b,_.sibling),_=i(_,w.children||[]),_.return=b,b=_;break e}else{n(b,_);break}else e(b,_);_=_.sibling}_=v1(w,b.mode,E),_.return=b,b=_}return o(b);case Do:return A=w._init,x(b,_,A(w._payload),E)}if(Sh(w))return v(b,_,w,E);if(Zc(w))return y(b,_,w,E);Pp(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(n(b,_.sibling),_=i(_,w),_.return=b,b=_):(n(b,_),_=g1(w,b.mode,E),_.return=b,b=_),o(b)):n(b,_)}return x}var Xu=eF(!0),tF=eF(!1),Yd={},ks=la(Yd),cd=la(Yd),hd=la(Yd);function Ha(t){if(t===Yd)throw Error(he(174));return t}function X_(t,e){switch(kt(hd,e),kt(cd,t),kt(ks,Yd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ub(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ub(e,t)}Bt(ks),kt(ks,e)}function Yu(){Bt(ks),Bt(cd),Bt(hd)}function nF(t){Ha(hd.current);var e=Ha(ks.current),n=Ub(e,t.type);e!==n&&(kt(cd,t),kt(ks,n))}function Y_(t){cd.current===t&&(Bt(ks),Bt(cd))}var Vt=la(0);function lg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var c1=[];function K_(){for(var t=0;t<c1.length;t++)c1[t]._workInProgressVersionPrimary=null;c1.length=0}var wm=go.ReactCurrentDispatcher,h1=go.ReactCurrentBatchConfig,rl=0,Yt=null,gn=null,xn=null,ug=!1,jh=!1,dd=0,aW=0;function Nn(){throw Error(he(321))}function Z_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ns(t[n],e[n]))return!1;return!0}function Q_(t,e,n,r,i,s){if(rl=s,Yt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wm.current=t===null||t.memoizedState===null?hW:dW,t=n(r,i),jh){s=0;do{if(jh=!1,dd=0,25<=s)throw Error(he(301));s+=1,xn=gn=null,e.updateQueue=null,wm.current=fW,t=n(r,i)}while(jh)}if(wm.current=cg,e=gn!==null&&gn.next!==null,rl=0,xn=gn=Yt=null,ug=!1,e)throw Error(he(300));return t}function J_(){var t=dd!==0;return dd=0,t}function vs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?Yt.memoizedState=xn=t:xn=xn.next=t,xn}function wi(){if(gn===null){var t=Yt.alternate;t=t!==null?t.memoizedState:null}else t=gn.next;var e=xn===null?Yt.memoizedState:xn.next;if(e!==null)xn=e,gn=t;else{if(t===null)throw Error(he(310));gn=t,t={memoizedState:gn.memoizedState,baseState:gn.baseState,baseQueue:gn.baseQueue,queue:gn.queue,next:null},xn===null?Yt.memoizedState=xn=t:xn=xn.next=t}return xn}function fd(t,e){return typeof e=="function"?e(t):e}function d1(t){var e=wi(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var r=gn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((rl&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Yt.lanes|=h,il|=h}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,ns(r,e.memoizedState)||(dr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Yt.lanes|=s,il|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function f1(t){var e=wi(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ns(s,e.memoizedState)||(dr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function rF(){}function iF(t,e){var n=Yt,r=wi(),i=e(),s=!ns(r.memoizedState,i);if(s&&(r.memoizedState=i,dr=!0),r=r.queue,eS(aF.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||xn!==null&&xn.memoizedState.tag&1){if(n.flags|=2048,pd(9,oF.bind(null,n,r,i,e),void 0,null),En===null)throw Error(he(349));rl&30||sF(n,e,i)}return i}function sF(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Yt.updateQueue,e===null?(e={lastEffect:null,stores:null},Yt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function oF(t,e,n,r){e.value=n,e.getSnapshot=r,lF(e)&&uF(t)}function aF(t,e,n){return n(function(){lF(e)&&uF(t)})}function lF(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ns(t,n)}catch{return!0}}function uF(t){var e=lo(t,1);e!==null&&Ki(e,t,1,-1)}function DP(t){var e=vs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fd,lastRenderedState:t},e.queue=t,t=t.dispatch=cW.bind(null,Yt,t),[e.memoizedState,t]}function pd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Yt.updateQueue,e===null?(e={lastEffect:null,stores:null},Yt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function cF(){return wi().memoizedState}function _m(t,e,n,r){var i=vs();Yt.flags|=t,i.memoizedState=pd(1|e,n,void 0,r===void 0?null:r)}function hv(t,e,n,r){var i=wi();r=r===void 0?null:r;var s=void 0;if(gn!==null){var o=gn.memoizedState;if(s=o.destroy,r!==null&&Z_(r,o.deps)){i.memoizedState=pd(e,n,s,r);return}}Yt.flags|=t,i.memoizedState=pd(1|e,n,s,r)}function LP(t,e){return _m(8390656,8,t,e)}function eS(t,e){return hv(2048,8,t,e)}function hF(t,e){return hv(4,2,t,e)}function dF(t,e){return hv(4,4,t,e)}function fF(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function pF(t,e,n){return n=n!=null?n.concat([t]):null,hv(4,4,fF.bind(null,e,t),n)}function tS(){}function mF(t,e){var n=wi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Z_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function gF(t,e){var n=wi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Z_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function vF(t,e,n){return rl&21?(ns(n,e)||(n=xM(),Yt.lanes|=n,il|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dr=!0),t.memoizedState=n)}function lW(t,e){var n=xt;xt=n!==0&&4>n?n:4,t(!0);var r=h1.transition;h1.transition={};try{t(!1),e()}finally{xt=n,h1.transition=r}}function yF(){return wi().memoizedState}function uW(t,e,n){var r=Ko(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bF(t))xF(e,n);else if(n=KM(t,e,n,r),n!==null){var i=Qn();Ki(n,t,r,i),wF(n,e,r)}}function cW(t,e,n){var r=Ko(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bF(t))xF(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ns(a,o)){var l=e.interleaved;l===null?(i.next=i,V_(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=KM(t,e,i,r),n!==null&&(i=Qn(),Ki(n,t,r,i),wF(n,e,r))}}function bF(t){var e=t.alternate;return t===Yt||e!==null&&e===Yt}function xF(t,e){jh=ug=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function wF(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,R_(t,n)}}var cg={readContext:xi,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useInsertionEffect:Nn,useLayoutEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useDeferredValue:Nn,useTransition:Nn,useMutableSource:Nn,useSyncExternalStore:Nn,useId:Nn,unstable_isNewReconciler:!1},hW={readContext:xi,useCallback:function(t,e){return vs().memoizedState=[t,e===void 0?null:e],t},useContext:xi,useEffect:LP,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_m(4194308,4,fF.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _m(4194308,4,t,e)},useInsertionEffect:function(t,e){return _m(4,2,t,e)},useMemo:function(t,e){var n=vs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=vs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=uW.bind(null,Yt,t),[r.memoizedState,t]},useRef:function(t){var e=vs();return t={current:t},e.memoizedState=t},useState:DP,useDebugValue:tS,useDeferredValue:function(t){return vs().memoizedState=t},useTransition:function(){var t=DP(!1),e=t[0];return t=lW.bind(null,t[1]),vs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Yt,i=vs();if(jt){if(n===void 0)throw Error(he(407));n=n()}else{if(n=e(),En===null)throw Error(he(349));rl&30||sF(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,LP(aF.bind(null,r,s,t),[t]),r.flags|=2048,pd(9,oF.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=vs(),e=En.identifierPrefix;if(jt){var n=to,r=eo;n=(r&~(1<<32-Yi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=dd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=aW++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},dW={readContext:xi,useCallback:mF,useContext:xi,useEffect:eS,useImperativeHandle:pF,useInsertionEffect:hF,useLayoutEffect:dF,useMemo:gF,useReducer:d1,useRef:cF,useState:function(){return d1(fd)},useDebugValue:tS,useDeferredValue:function(t){var e=wi();return vF(e,gn.memoizedState,t)},useTransition:function(){var t=d1(fd)[0],e=wi().memoizedState;return[t,e]},useMutableSource:rF,useSyncExternalStore:iF,useId:yF,unstable_isNewReconciler:!1},fW={readContext:xi,useCallback:mF,useContext:xi,useEffect:eS,useImperativeHandle:pF,useInsertionEffect:hF,useLayoutEffect:dF,useMemo:gF,useReducer:f1,useRef:cF,useState:function(){return f1(fd)},useDebugValue:tS,useDeferredValue:function(t){var e=wi();return gn===null?e.memoizedState=t:vF(e,gn.memoizedState,t)},useTransition:function(){var t=f1(fd)[0],e=wi().memoizedState;return[t,e]},useMutableSource:rF,useSyncExternalStore:iF,useId:yF,unstable_isNewReconciler:!1};function Ku(t,e){try{var n="",r=e;do n+=zH(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function p1(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ux(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var pW=typeof WeakMap=="function"?WeakMap:Map;function _F(t,e,n){n=ro(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){dg||(dg=!0,bx=r),ux(t,e)},n}function SF(t,e,n){n=ro(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ux(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ux(t,e),typeof r!="function"&&(Yo===null?Yo=new Set([this]):Yo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function BP(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new pW;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=PW.bind(null,t,e,n),e.then(t,t))}function NP(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $P(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ro(-1,1),e.tag=2,Xo(n,e,1))),n.lanes|=1),t)}var mW=go.ReactCurrentOwner,dr=!1;function Xn(t,e,n,r){e.child=t===null?tF(e,null,n,r):Xu(e,t.child,n,r)}function UP(t,e,n,r,i){n=n.render;var s=e.ref;return Du(e,i),r=Q_(t,e,n,r,s,i),n=J_(),t!==null&&!dr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,uo(t,e,i)):(jt&&n&&U_(e),e.flags|=1,Xn(t,e,r,i),e.child)}function zP(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!uS(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,EF(t,e,s,r,i)):(t=Tm(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:od,n(o,r)&&t.ref===e.ref)return uo(t,e,i)}return e.flags|=1,t=Zo(s,r),t.ref=e.ref,t.return=e,e.child=t}function EF(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(od(s,r)&&t.ref===e.ref)if(dr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(dr=!0);else return e.lanes=t.lanes,uo(t,e,i)}return cx(t,e,n,r,i)}function CF(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(ku,Ir),Ir|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,kt(ku,Ir),Ir|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,kt(ku,Ir),Ir|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,kt(ku,Ir),Ir|=r;return Xn(t,e,i,n),e.child}function TF(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function cx(t,e,n,r,i){var s=pr(n)?tl:jn.current;return s=Vu(e,s),Du(e,i),n=Q_(t,e,n,r,s,i),r=J_(),t!==null&&!dr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,uo(t,e,i)):(jt&&r&&U_(e),e.flags|=1,Xn(t,e,n,i),e.child)}function HP(t,e,n,r,i){if(pr(n)){var s=!0;ng(e)}else s=!1;if(Du(e,i),e.stateNode===null)Sm(t,e),JM(e,n,r),lx(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=xi(c):(c=pr(n)?tl:jn.current,c=Vu(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&MP(e,o,r,c),Lo=!1;var p=e.memoizedState;o.state=p,ag(e,r,o,i),l=e.memoizedState,a!==r||p!==l||fr.current||Lo?(typeof h=="function"&&(ax(e,n,h,r),l=e.memoizedState),(a=Lo||RP(e,n,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ZM(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Hi(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=xi(l):(l=pr(n)?tl:jn.current,l=Vu(e,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&MP(e,o,r,l),Lo=!1,p=e.memoizedState,o.state=p,ag(e,r,o,i);var v=e.memoizedState;a!==f||p!==v||fr.current||Lo?(typeof m=="function"&&(ax(e,n,m,r),v=e.memoizedState),(c=Lo||RP(e,n,c,r,p,v,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return hx(t,e,n,r,s,i)}function hx(t,e,n,r,i,s){TF(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&AP(e,n,!1),uo(t,e,s);r=e.stateNode,mW.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Xu(e,t.child,null,s),e.child=Xu(e,null,a,s)):Xn(t,e,a,s),e.memoizedState=r.state,i&&AP(e,n,!0),e.child}function AF(t){var e=t.stateNode;e.pendingContext?TP(t,e.pendingContext,e.pendingContext!==e.context):e.context&&TP(t,e.context,!1),X_(t,e.containerInfo)}function jP(t,e,n,r,i){return qu(),H_(i),e.flags|=256,Xn(t,e,n,r),e.child}var dx={dehydrated:null,treeContext:null,retryLane:0};function fx(t){return{baseLanes:t,cachePool:null,transitions:null}}function PF(t,e,n){var r=e.pendingProps,i=Vt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),kt(Vt,i&1),t===null)return sx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=pv(o,r,0,null),t=Xa(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=fx(n),e.memoizedState=dx,t):nS(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return gW(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Zo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Zo(a,s):(s=Xa(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?fx(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=dx,r}return s=t.child,t=s.sibling,r=Zo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function nS(t,e){return e=pv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function kp(t,e,n,r){return r!==null&&H_(r),Xu(e,t.child,null,n),t=nS(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function gW(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=p1(Error(he(422))),kp(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=pv({mode:"visible",children:r.children},i,0,null),s=Xa(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Xu(e,t.child,null,o),e.child.memoizedState=fx(o),e.memoizedState=dx,s);if(!(e.mode&1))return kp(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(he(419)),r=p1(s,r,void 0),kp(t,e,o,r)}if(a=(o&t.childLanes)!==0,dr||a){if(r=En,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,lo(t,i),Ki(r,t,i,-1))}return lS(),r=p1(Error(he(421))),kp(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=kW.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Dr=qo(i.nextSibling),Ur=e,jt=!0,Wi=null,t!==null&&(li[ui++]=eo,li[ui++]=to,li[ui++]=nl,eo=t.id,to=t.overflow,nl=e),e=nS(e,r.children),e.flags|=4096,e)}function WP(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ox(t.return,e,n)}function m1(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function kF(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Xn(t,e,r.children,n),r=Vt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&WP(t,n,e);else if(t.tag===19)WP(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(kt(Vt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&lg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),m1(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&lg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}m1(e,!0,n,null,s);break;case"together":m1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Sm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function uo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),il|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(he(153));if(e.child!==null){for(t=e.child,n=Zo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Zo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function vW(t,e,n){switch(e.tag){case 3:AF(e),qu();break;case 5:nF(e);break;case 1:pr(e.type)&&ng(e);break;case 4:X_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;kt(sg,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(kt(Vt,Vt.current&1),e.flags|=128,null):n&e.child.childLanes?PF(t,e,n):(kt(Vt,Vt.current&1),t=uo(t,e,n),t!==null?t.sibling:null);kt(Vt,Vt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return kF(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),kt(Vt,Vt.current),r)break;return null;case 22:case 23:return e.lanes=0,CF(t,e,n)}return uo(t,e,n)}var OF,px,IF,RF;OF=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};px=function(){};IF=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ha(ks.current);var s=null;switch(n){case"input":i=Lb(t,i),r=Lb(t,r),s=[];break;case"select":i=Kt({},i,{value:void 0}),r=Kt({},r,{value:void 0}),s=[];break;case"textarea":i=$b(t,i),r=$b(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=eg)}zb(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Jh.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Jh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Mt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};RF=function(t,e,n,r){n!==r&&(e.flags|=4)};function rh(t,e){if(!jt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $n(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function yW(t,e,n){var r=e.pendingProps;switch(z_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $n(e),null;case 1:return pr(e.type)&&tg(),$n(e),null;case 3:return r=e.stateNode,Yu(),Bt(fr),Bt(jn),K_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ap(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Wi!==null&&(_x(Wi),Wi=null))),px(t,e),$n(e),null;case 5:Y_(e);var i=Ha(hd.current);if(n=e.type,t!==null&&e.stateNode!=null)IF(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(he(166));return $n(e),null}if(t=Ha(ks.current),Ap(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[_s]=e,r[ud]=s,t=(e.mode&1)!==0,n){case"dialog":Mt("cancel",r),Mt("close",r);break;case"iframe":case"object":case"embed":Mt("load",r);break;case"video":case"audio":for(i=0;i<Ch.length;i++)Mt(Ch[i],r);break;case"source":Mt("error",r);break;case"img":case"image":case"link":Mt("error",r),Mt("load",r);break;case"details":Mt("toggle",r);break;case"input":JA(r,s),Mt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Mt("invalid",r);break;case"textarea":tP(r,s),Mt("invalid",r)}zb(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Tp(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Tp(r.textContent,a,t),i=["children",""+a]):Jh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Mt("scroll",r)}switch(n){case"input":yp(r),eP(r,s,!0);break;case"textarea":yp(r),nP(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=eg)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sM(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[_s]=e,t[ud]=r,OF(t,e,!1,!1),e.stateNode=t;e:{switch(o=Hb(n,r),n){case"dialog":Mt("cancel",t),Mt("close",t),i=r;break;case"iframe":case"object":case"embed":Mt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ch.length;i++)Mt(Ch[i],t);i=r;break;case"source":Mt("error",t),i=r;break;case"img":case"image":case"link":Mt("error",t),Mt("load",t),i=r;break;case"details":Mt("toggle",t),i=r;break;case"input":JA(t,r),i=Lb(t,r),Mt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Kt({},r,{value:void 0}),Mt("invalid",t);break;case"textarea":tP(t,r),i=$b(t,r),Mt("invalid",t);break;default:i=r}zb(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?lM(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&oM(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ed(t,l):typeof l=="number"&&ed(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Jh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Mt("scroll",t):l!=null&&T_(t,s,l,o))}switch(n){case"input":yp(t),eP(t,r,!1);break;case"textarea":yp(t),nP(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ea(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Iu(t,!!r.multiple,s,!1):r.defaultValue!=null&&Iu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=eg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $n(e),null;case 6:if(t&&e.stateNode!=null)RF(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(he(166));if(n=Ha(hd.current),Ha(ks.current),Ap(e)){if(r=e.stateNode,n=e.memoizedProps,r[_s]=e,(s=r.nodeValue!==n)&&(t=Ur,t!==null))switch(t.tag){case 3:Tp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Tp(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_s]=e,e.stateNode=r}return $n(e),null;case 13:if(Bt(Vt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(jt&&Dr!==null&&e.mode&1&&!(e.flags&128))YM(),qu(),e.flags|=98560,s=!1;else if(s=Ap(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(he(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(he(317));s[_s]=e}else qu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$n(e),s=!1}else Wi!==null&&(_x(Wi),Wi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Vt.current&1?yn===0&&(yn=3):lS())),e.updateQueue!==null&&(e.flags|=4),$n(e),null);case 4:return Yu(),px(t,e),t===null&&ad(e.stateNode.containerInfo),$n(e),null;case 10:return G_(e.type._context),$n(e),null;case 17:return pr(e.type)&&tg(),$n(e),null;case 19:if(Bt(Vt),s=e.memoizedState,s===null)return $n(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)rh(s,!1);else{if(yn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=lg(t),o!==null){for(e.flags|=128,rh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return kt(Vt,Vt.current&1|2),e.child}t=t.sibling}s.tail!==null&&on()>Zu&&(e.flags|=128,r=!0,rh(s,!1),e.lanes=4194304)}else{if(!r)if(t=lg(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),rh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!jt)return $n(e),null}else 2*on()-s.renderingStartTime>Zu&&n!==1073741824&&(e.flags|=128,r=!0,rh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=on(),e.sibling=null,n=Vt.current,kt(Vt,r?n&1|2:n&1),e):($n(e),null);case 22:case 23:return aS(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ir&1073741824&&($n(e),e.subtreeFlags&6&&(e.flags|=8192)):$n(e),null;case 24:return null;case 25:return null}throw Error(he(156,e.tag))}function bW(t,e){switch(z_(e),e.tag){case 1:return pr(e.type)&&tg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yu(),Bt(fr),Bt(jn),K_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Y_(e),null;case 13:if(Bt(Vt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(he(340));qu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Bt(Vt),null;case 4:return Yu(),null;case 10:return G_(e.type._context),null;case 22:case 23:return aS(),null;case 24:return null;default:return null}}var Op=!1,Hn=!1,xW=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Pu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){en(t,e,r)}else n.current=null}function mx(t,e,n){try{n()}catch(r){en(t,e,r)}}var GP=!1;function wW(t,e){if(Qb=Zm,t=LM(),$_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,f=t,p=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++h===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jb={focusedElem:t,selectionRange:n},Zm=!1,Ee=e;Ee!==null;)if(e=Ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ee=t;else for(;Ee!==null;){e=Ee;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,x=v.memoizedState,b=e.stateNode,_=b.getSnapshotBeforeUpdate(e.elementType===e.type?y:Hi(e.type,y),x);b.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(E){en(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Ee=t;break}Ee=e.return}return v=GP,GP=!1,v}function Wh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&mx(e,n,s)}i=i.next}while(i!==r)}}function dv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function gx(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function MF(t){var e=t.alternate;e!==null&&(t.alternate=null,MF(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_s],delete e[ud],delete e[nx],delete e[rW],delete e[iW])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function FF(t){return t.tag===5||t.tag===3||t.tag===4}function VP(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||FF(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=eg));else if(r!==4&&(t=t.child,t!==null))for(vx(t,e,n),t=t.sibling;t!==null;)vx(t,e,n),t=t.sibling}function yx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(yx(t,e,n),t=t.sibling;t!==null;)yx(t,e,n),t=t.sibling}var In=null,ji=!1;function Ro(t,e,n){for(n=n.child;n!==null;)DF(t,e,n),n=n.sibling}function DF(t,e,n){if(Ps&&typeof Ps.onCommitFiberUnmount=="function")try{Ps.onCommitFiberUnmount(iv,n)}catch{}switch(n.tag){case 5:Hn||Pu(n,e);case 6:var r=In,i=ji;In=null,Ro(t,e,n),In=r,ji=i,In!==null&&(ji?(t=In,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):In.removeChild(n.stateNode));break;case 18:In!==null&&(ji?(t=In,n=n.stateNode,t.nodeType===8?l1(t.parentNode,n):t.nodeType===1&&l1(t,n),id(t)):l1(In,n.stateNode));break;case 4:r=In,i=ji,In=n.stateNode.containerInfo,ji=!0,Ro(t,e,n),In=r,ji=i;break;case 0:case 11:case 14:case 15:if(!Hn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&mx(n,e,o),i=i.next}while(i!==r)}Ro(t,e,n);break;case 1:if(!Hn&&(Pu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){en(n,e,a)}Ro(t,e,n);break;case 21:Ro(t,e,n);break;case 22:n.mode&1?(Hn=(r=Hn)||n.memoizedState!==null,Ro(t,e,n),Hn=r):Ro(t,e,n);break;default:Ro(t,e,n)}}function qP(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new xW),e.forEach(function(r){var i=OW.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Di(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:In=a.stateNode,ji=!1;break e;case 3:In=a.stateNode.containerInfo,ji=!0;break e;case 4:In=a.stateNode.containerInfo,ji=!0;break e}a=a.return}if(In===null)throw Error(he(160));DF(s,o,i),In=null,ji=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){en(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)LF(e,t),e=e.sibling}function LF(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Di(e,t),ms(t),r&4){try{Wh(3,t,t.return),dv(3,t)}catch(y){en(t,t.return,y)}try{Wh(5,t,t.return)}catch(y){en(t,t.return,y)}}break;case 1:Di(e,t),ms(t),r&512&&n!==null&&Pu(n,n.return);break;case 5:if(Di(e,t),ms(t),r&512&&n!==null&&Pu(n,n.return),t.flags&32){var i=t.stateNode;try{ed(i,"")}catch(y){en(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&rM(i,s),Hb(a,o);var c=Hb(a,s);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?lM(i,f):h==="dangerouslySetInnerHTML"?oM(i,f):h==="children"?ed(i,f):T_(i,h,f,c)}switch(a){case"input":Bb(i,s);break;case"textarea":iM(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Iu(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Iu(i,!!s.multiple,s.defaultValue,!0):Iu(i,!!s.multiple,s.multiple?[]:"",!1))}i[ud]=s}catch(y){en(t,t.return,y)}}break;case 6:if(Di(e,t),ms(t),r&4){if(t.stateNode===null)throw Error(he(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){en(t,t.return,y)}}break;case 3:if(Di(e,t),ms(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{id(e.containerInfo)}catch(y){en(t,t.return,y)}break;case 4:Di(e,t),ms(t);break;case 13:Di(e,t),ms(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(sS=on())),r&4&&qP(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Hn=(c=Hn)||h,Di(e,t),Hn=c):Di(e,t),ms(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(Ee=t,h=t.child;h!==null;){for(f=Ee=h;Ee!==null;){switch(p=Ee,m=p.child,p.tag){case 0:case 11:case 14:case 15:Wh(4,p,p.return);break;case 1:Pu(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){en(r,n,y)}}break;case 5:Pu(p,p.return);break;case 22:if(p.memoizedState!==null){YP(f);continue}}m!==null?(m.return=p,Ee=m):YP(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=aM("display",o))}catch(y){en(t,t.return,y)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){en(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Di(e,t),ms(t),r&4&&qP(t);break;case 21:break;default:Di(e,t),ms(t)}}function ms(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(FF(n)){var r=n;break e}n=n.return}throw Error(he(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ed(i,""),r.flags&=-33);var s=VP(t);yx(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=VP(t);vx(t,a,o);break;default:throw Error(he(161))}}catch(l){en(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _W(t,e,n){Ee=t,BF(t)}function BF(t,e,n){for(var r=(t.mode&1)!==0;Ee!==null;){var i=Ee,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Op;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Hn;a=Op;var c=Hn;if(Op=o,(Hn=l)&&!c)for(Ee=i;Ee!==null;)o=Ee,l=o.child,o.tag===22&&o.memoizedState!==null?KP(i):l!==null?(l.return=o,Ee=l):KP(i);for(;s!==null;)Ee=s,BF(s),s=s.sibling;Ee=i,Op=a,Hn=c}XP(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ee=s):XP(t)}}function XP(t){for(;Ee!==null;){var e=Ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Hn||dv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Hn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Hi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&IP(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}IP(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&id(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}Hn||e.flags&512&&gx(e)}catch(p){en(e,e.return,p)}}if(e===t){Ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ee=n;break}Ee=e.return}}function YP(t){for(;Ee!==null;){var e=Ee;if(e===t){Ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ee=n;break}Ee=e.return}}function KP(t){for(;Ee!==null;){var e=Ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{dv(4,e)}catch(l){en(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){en(e,i,l)}}var s=e.return;try{gx(e)}catch(l){en(e,s,l)}break;case 5:var o=e.return;try{gx(e)}catch(l){en(e,o,l)}}}catch(l){en(e,e.return,l)}if(e===t){Ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ee=a;break}Ee=e.return}}var SW=Math.ceil,hg=go.ReactCurrentDispatcher,rS=go.ReactCurrentOwner,gi=go.ReactCurrentBatchConfig,ct=0,En=null,fn=null,Mn=0,Ir=0,ku=la(0),yn=0,md=null,il=0,fv=0,iS=0,Gh=null,cr=null,sS=0,Zu=1/0,Zs=null,dg=!1,bx=null,Yo=null,Ip=!1,zo=null,fg=0,Vh=0,xx=null,Em=-1,Cm=0;function Qn(){return ct&6?on():Em!==-1?Em:Em=on()}function Ko(t){return t.mode&1?ct&2&&Mn!==0?Mn&-Mn:oW.transition!==null?(Cm===0&&(Cm=xM()),Cm):(t=xt,t!==0||(t=window.event,t=t===void 0?16:AM(t.type)),t):1}function Ki(t,e,n,r){if(50<Vh)throw Vh=0,xx=null,Error(he(185));Vd(t,n,r),(!(ct&2)||t!==En)&&(t===En&&(!(ct&2)&&(fv|=n),yn===4&&$o(t,Mn)),mr(t,r),n===1&&ct===0&&!(e.mode&1)&&(Zu=on()+500,uv&&ua()))}function mr(t,e){var n=t.callbackNode;oj(t,e);var r=Km(t,t===En?Mn:0);if(r===0)n!==null&&sP(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&sP(n),e===1)t.tag===0?sW(ZP.bind(null,t)):VM(ZP.bind(null,t)),tW(function(){!(ct&6)&&ua()}),n=null;else{switch(wM(r)){case 1:n=I_;break;case 4:n=yM;break;case 16:n=Ym;break;case 536870912:n=bM;break;default:n=Ym}n=GF(n,NF.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function NF(t,e){if(Em=-1,Cm=0,ct&6)throw Error(he(327));var n=t.callbackNode;if(Lu()&&t.callbackNode!==n)return null;var r=Km(t,t===En?Mn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=pg(t,r);else{e=r;var i=ct;ct|=2;var s=UF();(En!==t||Mn!==e)&&(Zs=null,Zu=on()+500,qa(t,e));do try{TW();break}catch(a){$F(t,a)}while(1);W_(),hg.current=s,ct=i,fn!==null?e=0:(En=null,Mn=0,e=yn)}if(e!==0){if(e===2&&(i=qb(t),i!==0&&(r=i,e=wx(t,i))),e===1)throw n=md,qa(t,0),$o(t,r),mr(t,on()),n;if(e===6)$o(t,r);else{if(i=t.current.alternate,!(r&30)&&!EW(i)&&(e=pg(t,r),e===2&&(s=qb(t),s!==0&&(r=s,e=wx(t,s))),e===1))throw n=md,qa(t,0),$o(t,r),mr(t,on()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(he(345));case 2:Ra(t,cr,Zs);break;case 3:if($o(t,r),(r&130023424)===r&&(e=sS+500-on(),10<e)){if(Km(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Qn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=tx(Ra.bind(null,t,cr,Zs),e);break}Ra(t,cr,Zs);break;case 4:if($o(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Yi(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=on()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*SW(r/1960))-r,10<r){t.timeoutHandle=tx(Ra.bind(null,t,cr,Zs),r);break}Ra(t,cr,Zs);break;case 5:Ra(t,cr,Zs);break;default:throw Error(he(329))}}}return mr(t,on()),t.callbackNode===n?NF.bind(null,t):null}function wx(t,e){var n=Gh;return t.current.memoizedState.isDehydrated&&(qa(t,e).flags|=256),t=pg(t,e),t!==2&&(e=cr,cr=n,e!==null&&_x(e)),t}function _x(t){cr===null?cr=t:cr.push.apply(cr,t)}function EW(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ns(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $o(t,e){for(e&=~iS,e&=~fv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yi(e),r=1<<n;t[n]=-1,e&=~r}}function ZP(t){if(ct&6)throw Error(he(327));Lu();var e=Km(t,0);if(!(e&1))return mr(t,on()),null;var n=pg(t,e);if(t.tag!==0&&n===2){var r=qb(t);r!==0&&(e=r,n=wx(t,r))}if(n===1)throw n=md,qa(t,0),$o(t,e),mr(t,on()),n;if(n===6)throw Error(he(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ra(t,cr,Zs),mr(t,on()),null}function oS(t,e){var n=ct;ct|=1;try{return t(e)}finally{ct=n,ct===0&&(Zu=on()+500,uv&&ua())}}function sl(t){zo!==null&&zo.tag===0&&!(ct&6)&&Lu();var e=ct;ct|=1;var n=gi.transition,r=xt;try{if(gi.transition=null,xt=1,t)return t()}finally{xt=r,gi.transition=n,ct=e,!(ct&6)&&ua()}}function aS(){Ir=ku.current,Bt(ku)}function qa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,eW(n)),fn!==null)for(n=fn.return;n!==null;){var r=n;switch(z_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&tg();break;case 3:Yu(),Bt(fr),Bt(jn),K_();break;case 5:Y_(r);break;case 4:Yu();break;case 13:Bt(Vt);break;case 19:Bt(Vt);break;case 10:G_(r.type._context);break;case 22:case 23:aS()}n=n.return}if(En=t,fn=t=Zo(t.current,null),Mn=Ir=e,yn=0,md=null,iS=fv=il=0,cr=Gh=null,za!==null){for(e=0;e<za.length;e++)if(n=za[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}za=null}return t}function $F(t,e){do{var n=fn;try{if(W_(),wm.current=cg,ug){for(var r=Yt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ug=!1}if(rl=0,xn=gn=Yt=null,jh=!1,dd=0,rS.current=null,n===null||n.return===null){yn=1,md=e,fn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Mn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=NP(o);if(m!==null){m.flags&=-257,$P(m,o,a,s,e),m.mode&1&&BP(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){BP(s,c,e),lS();break e}l=Error(he(426))}}else if(jt&&a.mode&1){var x=NP(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),$P(x,o,a,s,e),H_(Ku(l,a));break e}}s=l=Ku(l,a),yn!==4&&(yn=2),Gh===null?Gh=[s]:Gh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=_F(s,l,e);OP(s,b);break e;case 1:a=l;var _=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Yo===null||!Yo.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=SF(s,a,e);OP(s,E);break e}}s=s.return}while(s!==null)}HF(n)}catch(O){e=O,fn===n&&n!==null&&(fn=n=n.return);continue}break}while(1)}function UF(){var t=hg.current;return hg.current=cg,t===null?cg:t}function lS(){(yn===0||yn===3||yn===2)&&(yn=4),En===null||!(il&268435455)&&!(fv&268435455)||$o(En,Mn)}function pg(t,e){var n=ct;ct|=2;var r=UF();(En!==t||Mn!==e)&&(Zs=null,qa(t,e));do try{CW();break}catch(i){$F(t,i)}while(1);if(W_(),ct=n,hg.current=r,fn!==null)throw Error(he(261));return En=null,Mn=0,yn}function CW(){for(;fn!==null;)zF(fn)}function TW(){for(;fn!==null&&!ZH();)zF(fn)}function zF(t){var e=WF(t.alternate,t,Ir);t.memoizedProps=t.pendingProps,e===null?HF(t):fn=e,rS.current=null}function HF(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=bW(n,e),n!==null){n.flags&=32767,fn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yn=6,fn=null;return}}else if(n=yW(n,e,Ir),n!==null){fn=n;return}if(e=e.sibling,e!==null){fn=e;return}fn=e=t}while(e!==null);yn===0&&(yn=5)}function Ra(t,e,n){var r=xt,i=gi.transition;try{gi.transition=null,xt=1,AW(t,e,n,r)}finally{gi.transition=i,xt=r}return null}function AW(t,e,n,r){do Lu();while(zo!==null);if(ct&6)throw Error(he(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(he(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(aj(t,s),t===En&&(fn=En=null,Mn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ip||(Ip=!0,GF(Ym,function(){return Lu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=gi.transition,gi.transition=null;var o=xt;xt=1;var a=ct;ct|=4,rS.current=null,wW(t,n),LF(n,t),qj(Jb),Zm=!!Qb,Jb=Qb=null,t.current=n,_W(n),QH(),ct=a,xt=o,gi.transition=s}else t.current=n;if(Ip&&(Ip=!1,zo=t,fg=i),s=t.pendingLanes,s===0&&(Yo=null),tj(n.stateNode),mr(t,on()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(dg)throw dg=!1,t=bx,bx=null,t;return fg&1&&t.tag!==0&&Lu(),s=t.pendingLanes,s&1?t===xx?Vh++:(Vh=0,xx=t):Vh=0,ua(),null}function Lu(){if(zo!==null){var t=wM(fg),e=gi.transition,n=xt;try{if(gi.transition=null,xt=16>t?16:t,zo===null)var r=!1;else{if(t=zo,zo=null,fg=0,ct&6)throw Error(he(331));var i=ct;for(ct|=4,Ee=t.current;Ee!==null;){var s=Ee,o=s.child;if(Ee.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Ee=c;Ee!==null;){var h=Ee;switch(h.tag){case 0:case 11:case 15:Wh(8,h,s)}var f=h.child;if(f!==null)f.return=h,Ee=f;else for(;Ee!==null;){h=Ee;var p=h.sibling,m=h.return;if(MF(h),h===c){Ee=null;break}if(p!==null){p.return=m,Ee=p;break}Ee=m}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}Ee=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ee=o;else e:for(;Ee!==null;){if(s=Ee,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Wh(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,Ee=b;break e}Ee=s.return}}var _=t.current;for(Ee=_;Ee!==null;){o=Ee;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Ee=w;else e:for(o=_;Ee!==null;){if(a=Ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:dv(9,a)}}catch(O){en(a,a.return,O)}if(a===o){Ee=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Ee=E;break e}Ee=a.return}}if(ct=i,ua(),Ps&&typeof Ps.onPostCommitFiberRoot=="function")try{Ps.onPostCommitFiberRoot(iv,t)}catch{}r=!0}return r}finally{xt=n,gi.transition=e}}return!1}function QP(t,e,n){e=Ku(n,e),e=_F(t,e,1),t=Xo(t,e,1),e=Qn(),t!==null&&(Vd(t,1,e),mr(t,e))}function en(t,e,n){if(t.tag===3)QP(t,t,n);else for(;e!==null;){if(e.tag===3){QP(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yo===null||!Yo.has(r))){t=Ku(n,t),t=SF(e,t,1),e=Xo(e,t,1),t=Qn(),e!==null&&(Vd(e,1,t),mr(e,t));break}}e=e.return}}function PW(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qn(),t.pingedLanes|=t.suspendedLanes&n,En===t&&(Mn&n)===n&&(yn===4||yn===3&&(Mn&130023424)===Mn&&500>on()-sS?qa(t,0):iS|=n),mr(t,e)}function jF(t,e){e===0&&(t.mode&1?(e=wp,wp<<=1,!(wp&130023424)&&(wp=4194304)):e=1);var n=Qn();t=lo(t,e),t!==null&&(Vd(t,e,n),mr(t,n))}function kW(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),jF(t,n)}function OW(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(he(314))}r!==null&&r.delete(e),jF(t,n)}var WF;WF=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fr.current)dr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return dr=!1,vW(t,e,n);dr=!!(t.flags&131072)}else dr=!1,jt&&e.flags&1048576&&qM(e,ig,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Sm(t,e),t=e.pendingProps;var i=Vu(e,jn.current);Du(e,n),i=Q_(null,e,r,t,i,n);var s=J_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pr(r)?(s=!0,ng(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,q_(e),i.updater=cv,e.stateNode=i,i._reactInternals=e,lx(e,r,t,n),e=hx(null,e,r,!0,s,n)):(e.tag=0,jt&&s&&U_(e),Xn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Sm(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=RW(r),t=Hi(r,t),i){case 0:e=cx(null,e,r,t,n);break e;case 1:e=HP(null,e,r,t,n);break e;case 11:e=UP(null,e,r,t,n);break e;case 14:e=zP(null,e,r,Hi(r.type,t),n);break e}throw Error(he(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hi(r,i),cx(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hi(r,i),HP(t,e,r,i,n);case 3:e:{if(AF(e),t===null)throw Error(he(387));r=e.pendingProps,s=e.memoizedState,i=s.element,ZM(t,e),ag(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ku(Error(he(423)),e),e=jP(t,e,r,n,i);break e}else if(r!==i){i=Ku(Error(he(424)),e),e=jP(t,e,r,n,i);break e}else for(Dr=qo(e.stateNode.containerInfo.firstChild),Ur=e,jt=!0,Wi=null,n=tF(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qu(),r===i){e=uo(t,e,n);break e}Xn(t,e,r,n)}e=e.child}return e;case 5:return nF(e),t===null&&sx(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,ex(r,i)?o=null:s!==null&&ex(r,s)&&(e.flags|=32),TF(t,e),Xn(t,e,o,n),e.child;case 6:return t===null&&sx(e),null;case 13:return PF(t,e,n);case 4:return X_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Xu(e,null,r,n):Xn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hi(r,i),UP(t,e,r,i,n);case 7:return Xn(t,e,e.pendingProps,n),e.child;case 8:return Xn(t,e,e.pendingProps.children,n),e.child;case 12:return Xn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,kt(sg,r._currentValue),r._currentValue=o,s!==null)if(ns(s.value,o)){if(s.children===i.children&&!fr.current){e=uo(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ro(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ox(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(he(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ox(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Xn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Du(e,n),i=xi(i),r=r(i),e.flags|=1,Xn(t,e,r,n),e.child;case 14:return r=e.type,i=Hi(r,e.pendingProps),i=Hi(r.type,i),zP(t,e,r,i,n);case 15:return EF(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hi(r,i),Sm(t,e),e.tag=1,pr(r)?(t=!0,ng(e)):t=!1,Du(e,n),JM(e,r,i),lx(e,r,i,n),hx(null,e,r,!0,t,n);case 19:return kF(t,e,n);case 22:return CF(t,e,n)}throw Error(he(156,e.tag))};function GF(t,e){return vM(t,e)}function IW(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pi(t,e,n,r){return new IW(t,e,n,r)}function uS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function RW(t){if(typeof t=="function")return uS(t)?1:0;if(t!=null){if(t=t.$$typeof,t===P_)return 11;if(t===k_)return 14}return 2}function Zo(t,e){var n=t.alternate;return n===null?(n=pi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Tm(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")uS(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case bu:return Xa(n.children,i,s,e);case A_:o=8,i|=8;break;case Rb:return t=pi(12,n,e,i|2),t.elementType=Rb,t.lanes=s,t;case Mb:return t=pi(13,n,e,i),t.elementType=Mb,t.lanes=s,t;case Fb:return t=pi(19,n,e,i),t.elementType=Fb,t.lanes=s,t;case eM:return pv(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q3:o=10;break e;case J3:o=9;break e;case P_:o=11;break e;case k_:o=14;break e;case Do:o=16,r=null;break e}throw Error(he(130,t==null?t:typeof t,""))}return e=pi(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Xa(t,e,n,r){return t=pi(7,t,r,e),t.lanes=n,t}function pv(t,e,n,r){return t=pi(22,t,r,e),t.elementType=eM,t.lanes=n,t.stateNode={isHidden:!1},t}function g1(t,e,n){return t=pi(6,t,null,e),t.lanes=n,t}function v1(t,e,n){return e=pi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function MW(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zy(0),this.expirationTimes=Zy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zy(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function cS(t,e,n,r,i,s,o,a,l){return t=new MW(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=pi(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},q_(s),t}function FW(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function VF(t){if(!t)return ta;t=t._reactInternals;e:{if(gl(t)!==t||t.tag!==1)throw Error(he(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(he(171))}if(t.tag===1){var n=t.type;if(pr(n))return GM(t,n,e)}return e}function qF(t,e,n,r,i,s,o,a,l){return t=cS(n,r,!0,t,i,s,o,a,l),t.context=VF(null),n=t.current,r=Qn(),i=Ko(n),s=ro(r,i),s.callback=e??null,Xo(n,s,i),t.current.lanes=i,Vd(t,i,r),mr(t,r),t}function mv(t,e,n,r){var i=e.current,s=Qn(),o=Ko(i);return n=VF(n),e.context===null?e.context=n:e.pendingContext=n,e=ro(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Xo(i,e,o),t!==null&&(Ki(t,i,o,s),xm(t,i,o)),o}function mg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function JP(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function hS(t,e){JP(t,e),(t=t.alternate)&&JP(t,e)}function DW(){return null}var XF=typeof reportError=="function"?reportError:function(t){console.error(t)};function dS(t){this._internalRoot=t}gv.prototype.render=dS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(he(409));mv(t,e,null,null)};gv.prototype.unmount=dS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sl(function(){mv(null,t,null,null)}),e[ao]=null}};function gv(t){this._internalRoot=t}gv.prototype.unstable_scheduleHydration=function(t){if(t){var e=EM();t={blockedOn:null,target:t,priority:e};for(var n=0;n<No.length&&e!==0&&e<No[n].priority;n++);No.splice(n,0,t),n===0&&TM(t)}};function fS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ek(){}function LW(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=mg(o);s.call(c)}}var o=qF(e,r,t,0,null,!1,!1,"",ek);return t._reactRootContainer=o,t[ao]=o.current,ad(t.nodeType===8?t.parentNode:t),sl(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=mg(l);a.call(c)}}var l=cS(t,0,!1,null,null,!1,!1,"",ek);return t._reactRootContainer=l,t[ao]=l.current,ad(t.nodeType===8?t.parentNode:t),sl(function(){mv(e,l,n,r)}),l}function yv(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=mg(o);a.call(l)}}mv(e,o,t,i)}else o=LW(n,e,t,i,r);return mg(o)}_M=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Eh(e.pendingLanes);n!==0&&(R_(e,n|1),mr(e,on()),!(ct&6)&&(Zu=on()+500,ua()))}break;case 13:sl(function(){var r=lo(t,1);if(r!==null){var i=Qn();Ki(r,t,1,i)}}),hS(t,1)}};M_=function(t){if(t.tag===13){var e=lo(t,134217728);if(e!==null){var n=Qn();Ki(e,t,134217728,n)}hS(t,134217728)}};SM=function(t){if(t.tag===13){var e=Ko(t),n=lo(t,e);if(n!==null){var r=Qn();Ki(n,t,e,r)}hS(t,e)}};EM=function(){return xt};CM=function(t,e){var n=xt;try{return xt=t,e()}finally{xt=n}};Wb=function(t,e,n){switch(e){case"input":if(Bb(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=lv(r);if(!i)throw Error(he(90));nM(r),Bb(r,i)}}}break;case"textarea":iM(t,n);break;case"select":e=n.value,e!=null&&Iu(t,!!n.multiple,e,!1)}};hM=oS;dM=sl;var BW={usingClientEntryPoint:!1,Events:[Xd,Su,lv,uM,cM,oS]},ih={findFiberByHostInstance:Ua,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},NW={bundleType:ih.bundleType,version:ih.version,rendererPackageName:ih.rendererPackageName,rendererConfig:ih.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:go.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=mM(t),t===null?null:t.stateNode},findFiberByHostInstance:ih.findFiberByHostInstance||DW,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rp.isDisabled&&Rp.supportsFiber)try{iv=Rp.inject(NW),Ps=Rp}catch{}}qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BW;qr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fS(e))throw Error(he(200));return FW(t,e,null,n)};qr.createRoot=function(t,e){if(!fS(t))throw Error(he(299));var n=!1,r="",i=XF;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=cS(t,1,!1,null,null,n,!1,r,i),t[ao]=e.current,ad(t.nodeType===8?t.parentNode:t),new dS(e)};qr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(he(188)):(t=Object.keys(t).join(","),Error(he(268,t)));return t=mM(e),t=t===null?null:t.stateNode,t};qr.flushSync=function(t){return sl(t)};qr.hydrate=function(t,e,n){if(!vv(e))throw Error(he(200));return yv(null,t,e,!0,n)};qr.hydrateRoot=function(t,e,n){if(!fS(t))throw Error(he(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=XF;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=qF(e,null,t,1,n??null,i,!1,s,o),t[ao]=e.current,ad(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new gv(e)};qr.render=function(t,e,n){if(!vv(e))throw Error(he(200));return yv(null,t,e,!1,n)};qr.unmountComponentAtNode=function(t){if(!vv(t))throw Error(he(40));return t._reactRootContainer?(sl(function(){yv(null,null,t,!1,function(){t._reactRootContainer=null,t[ao]=null})}),!0):!1};qr.unstable_batchedUpdates=oS;qr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!vv(n))throw Error(he(200));if(t==null||t._reactInternals===void 0)throw Error(he(38));return yv(t,e,n,!1,r)};qr.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=qr})(DH);var tk=Qh;kb.createRoot=tk.createRoot,kb.hydrateRoot=tk.hydrateRoot;var Sx=function(t,e){return Sx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Sx(t,e)};function bv(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Sx(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Ex(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function gg(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function vg(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function io(t){return typeof t=="function"}function YF(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var y1=YF(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function Cx(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var xv=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=Ex(o),l=a.next();!l.done;l=a.next()){var c=l.value;c.remove(this)}}catch(y){e={error:y}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}else o.remove(this);var h=this.initialTeardown;if(io(h))try{h()}catch(y){s=y instanceof y1?y.errors:[y]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var p=Ex(f),m=p.next();!m.done;m=p.next()){var v=m.value;try{nk(v)}catch(y){s=s??[],y instanceof y1?s=vg(vg([],gg(s)),gg(y.errors)):s.push(y)}}}catch(y){r={error:y}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}}if(s)throw new y1(s)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)nk(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&Cx(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&Cx(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),KF=xv.EMPTY;function ZF(t){return t instanceof xv||t&&"closed"in t&&io(t.remove)&&io(t.add)&&io(t.unsubscribe)}function nk(t){io(t)?t():t.unsubscribe()}var QF={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Tx={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=Tx.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,vg([t,e],gg(n))):setTimeout.apply(void 0,vg([t,e],gg(n)))},clearTimeout:function(t){var e=Tx.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function $W(t){Tx.setTimeout(function(){throw t})}function rk(){}function Am(t){t()}var JF=function(t){bv(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,ZF(n)&&n.add(r)):r.destination=jW,r}return e.create=function(n,r,i){return new Ax(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(xv),UW=Function.prototype.bind;function b1(t,e){return UW.call(t,e)}var zW=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){Mp(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){Mp(r)}else Mp(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){Mp(n)}},t}(),Ax=function(t){bv(e,t);function e(n,r,i){var s=t.call(this)||this,o;if(io(n)||!n)o={next:n??void 0,error:r??void 0,complete:i??void 0};else{var a;s&&QF.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return s.unsubscribe()},o={next:n.next&&b1(n.next,a),error:n.error&&b1(n.error,a),complete:n.complete&&b1(n.complete,a)}):o=n}return s.destination=new zW(o),s}return e}(JF);function Mp(t){$W(t)}function HW(t){throw t}var jW={closed:!0,next:rk,error:HW,complete:rk},WW=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function GW(t){return t}function VW(t){return t.length===0?GW:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var ik=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,s=XW(e)?e:new Ax(e,n,r);return Am(function(){var o=i,a=o.operator,l=o.source;s.add(a?a.call(s,l):l?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=sk(n),new n(function(i,s){var o=new Ax({next:function(a){try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[WW]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return VW(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=sk(e),new e(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},t.create=function(e){return new t(e)},t}();function sk(t){var e;return(e=t??QF.Promise)!==null&&e!==void 0?e:Promise}function qW(t){return t&&io(t.next)&&io(t.error)&&io(t.complete)}function XW(t){return t&&t instanceof JF||qW(t)&&ZF(t)}var YW=YF(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),yg=function(t){bv(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new ok(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new YW},e.prototype.next=function(n){var r=this;Am(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=Ex(r.currentObservers),a=o.next();!a.done;a=o.next()){var l=a.value;l.next(n)}}catch(c){i={error:c}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;Am(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;Am(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?KF:(this.currentObservers=null,a.push(n),new xv(function(){r.currentObservers=null,Cx(a,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,s=r.thrownError,o=r.isStopped;i?n.error(s):o&&n.complete()},e.prototype.asObservable=function(){var n=new ik;return n.source=this,n},e.create=function(n,r){return new ok(n,r)},e}(ik),ok=function(t){bv(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:KF},e}(yg),KW=typeof global=="object"&&global&&global.Object===Object&&global;const eD=KW;var ZW=typeof self=="object"&&self&&self.Object===Object&&self,QW=eD||ZW||Function("return this")();const os=QW;var JW=os.Symbol;const _i=JW;var tD=Object.prototype,eG=tD.hasOwnProperty,tG=tD.toString,sh=_i?_i.toStringTag:void 0;function nG(t){var e=eG.call(t,sh),n=t[sh];try{t[sh]=void 0;var r=!0}catch{}var i=tG.call(t);return r&&(e?t[sh]=n:delete t[sh]),i}var rG=Object.prototype,iG=rG.toString;function sG(t){return iG.call(t)}var oG="[object Null]",aG="[object Undefined]",ak=_i?_i.toStringTag:void 0;function vo(t){return t==null?t===void 0?aG:oG:ak&&ak in Object(t)?nG(t):sG(t)}function Si(t){return t!=null&&typeof t=="object"}var lG="[object Symbol]";function Qu(t){return typeof t=="symbol"||Si(t)&&vo(t)==lG}function Ya(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var uG=Array.isArray;const an=uG;var cG=1/0,lk=_i?_i.prototype:void 0,uk=lk?lk.toString:void 0;function pS(t){if(typeof t=="string")return t;if(an(t))return Ya(t,pS)+"";if(Qu(t))return uk?uk.call(t):"";var e=t+"";return e=="0"&&1/t==-cG?"-0":e}var hG=/\s/;function dG(t){for(var e=t.length;e--&&hG.test(t.charAt(e)););return e}var fG=/^\s+/;function pG(t){return t&&t.slice(0,dG(t)+1).replace(fG,"")}function Vr(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ck=0/0,mG=/^[-+]0x[0-9a-f]+$/i,gG=/^0b[01]+$/i,vG=/^0o[0-7]+$/i,yG=parseInt;function Px(t){if(typeof t=="number")return t;if(Qu(t))return ck;if(Vr(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Vr(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=pG(t);var n=gG.test(t);return n||vG.test(t)?yG(t.slice(2),n?2:8):mG.test(t)?ck:+t}var hk=1/0,bG=17976931348623157e292;function xG(t){if(!t)return t===0?t:0;if(t=Px(t),t===hk||t===-hk){var e=t<0?-1:1;return e*bG}return t===t?t:0}function wv(t){var e=xG(t),n=e%1;return e===e?n?e-n:e:0}function Kd(t){return t}var wG="[object AsyncFunction]",_G="[object Function]",SG="[object GeneratorFunction]",EG="[object Proxy]";function Cs(t){if(!Vr(t))return!1;var e=vo(t);return e==_G||e==SG||e==wG||e==EG}var CG=os["__core-js_shared__"];const x1=CG;var dk=function(){var t=/[^.]+$/.exec(x1&&x1.keys&&x1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function TG(t){return!!dk&&dk in t}var AG=Function.prototype,PG=AG.toString;function vl(t){if(t!=null){try{return PG.call(t)}catch{}try{return t+""}catch{}}return""}var kG=/[\\^$.*+?()[\]{}|]/g,OG=/^\[object .+?Constructor\]$/,IG=Function.prototype,RG=Object.prototype,MG=IG.toString,FG=RG.hasOwnProperty,DG=RegExp("^"+MG.call(FG).replace(kG,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function LG(t){if(!Vr(t)||TG(t))return!1;var e=Cs(t)?DG:OG;return e.test(vl(t))}function BG(t,e){return t==null?void 0:t[e]}function yl(t,e){var n=BG(t,e);return LG(n)?n:void 0}var NG=yl(os,"WeakMap");const kx=NG;var fk=Object.create,$G=function(){function t(){}return function(e){if(!Vr(e))return{};if(fk)return fk(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const UG=$G;function zG(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function HG(){}function nD(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var jG=800,WG=16,GG=Date.now;function VG(t){var e=0,n=0;return function(){var r=GG(),i=WG-(r-n);if(n=r,i>0){if(++e>=jG)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function qG(t){return function(){return t}}var XG=function(){try{var t=yl(Object,"defineProperty");return t({},"",{}),t}catch{}}();const bg=XG;var YG=bg?function(t,e){return bg(t,"toString",{configurable:!0,enumerable:!1,value:qG(e),writable:!0})}:Kd;const KG=YG;var ZG=VG(KG);const QG=ZG;function rD(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function iD(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function JG(t){return t!==t}function eV(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function sD(t,e,n){return e===e?eV(t,e,n):iD(t,JG,n)}function oD(t,e){var n=t==null?0:t.length;return!!n&&sD(t,e,0)>-1}var tV=9007199254740991,nV=/^(?:0|[1-9]\d*)$/;function mS(t,e){var n=typeof t;return e=e??tV,!!e&&(n=="number"||n!="symbol"&&nV.test(t))&&t>-1&&t%1==0&&t<e}function _v(t,e,n){e=="__proto__"&&bg?bg(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Zd(t,e){return t===e||t!==t&&e!==e}var rV=Object.prototype,iV=rV.hasOwnProperty;function aD(t,e,n){var r=t[e];(!(iV.call(t,e)&&Zd(r,n))||n===void 0&&!(e in t))&&_v(t,e,n)}function Qd(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?_v(n,a,l):aD(n,a,l)}return n}var pk=Math.max;function sV(t,e,n){return e=pk(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=pk(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),zG(t,this,a)}}function gS(t,e){return QG(sV(t,e,Kd),t+"")}var oV=9007199254740991;function vS(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=oV}function ca(t){return t!=null&&vS(t.length)&&!Cs(t)}function xg(t,e,n){if(!Vr(n))return!1;var r=typeof e;return(r=="number"?ca(n)&&mS(e,n.length):r=="string"&&e in n)?Zd(n[e],t):!1}function aV(t){return gS(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&xg(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var lV=Object.prototype;function yS(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||lV;return t===n}function lD(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var uV="[object Arguments]";function mk(t){return Si(t)&&vo(t)==uV}var uD=Object.prototype,cV=uD.hasOwnProperty,hV=uD.propertyIsEnumerable,dV=mk(function(){return arguments}())?mk:function(t){return Si(t)&&cV.call(t,"callee")&&!hV.call(t,"callee")};const gd=dV;function fV(){return!1}var cD=typeof Nr=="object"&&Nr&&!Nr.nodeType&&Nr,gk=cD&&typeof $r=="object"&&$r&&!$r.nodeType&&$r,pV=gk&&gk.exports===cD,vk=pV?os.Buffer:void 0,mV=vk?vk.isBuffer:void 0,gV=mV||fV;const vd=gV;var vV="[object Arguments]",yV="[object Array]",bV="[object Boolean]",xV="[object Date]",wV="[object Error]",_V="[object Function]",SV="[object Map]",EV="[object Number]",CV="[object Object]",TV="[object RegExp]",AV="[object Set]",PV="[object String]",kV="[object WeakMap]",OV="[object ArrayBuffer]",IV="[object DataView]",RV="[object Float32Array]",MV="[object Float64Array]",FV="[object Int8Array]",DV="[object Int16Array]",LV="[object Int32Array]",BV="[object Uint8Array]",NV="[object Uint8ClampedArray]",$V="[object Uint16Array]",UV="[object Uint32Array]",Ft={};Ft[RV]=Ft[MV]=Ft[FV]=Ft[DV]=Ft[LV]=Ft[BV]=Ft[NV]=Ft[$V]=Ft[UV]=!0;Ft[vV]=Ft[yV]=Ft[OV]=Ft[bV]=Ft[IV]=Ft[xV]=Ft[wV]=Ft[_V]=Ft[SV]=Ft[EV]=Ft[CV]=Ft[TV]=Ft[AV]=Ft[PV]=Ft[kV]=!1;function zV(t){return Si(t)&&vS(t.length)&&!!Ft[vo(t)]}function Jd(t){return function(e){return t(e)}}var hD=typeof Nr=="object"&&Nr&&!Nr.nodeType&&Nr,qh=hD&&typeof $r=="object"&&$r&&!$r.nodeType&&$r,HV=qh&&qh.exports===hD,w1=HV&&eD.process,jV=function(){try{var t=qh&&qh.require&&qh.require("util").types;return t||w1&&w1.binding&&w1.binding("util")}catch{}}();const Ju=jV;var yk=Ju&&Ju.isTypedArray,WV=yk?Jd(yk):zV;const bS=WV;var GV=Object.prototype,VV=GV.hasOwnProperty;function dD(t,e){var n=an(t),r=!n&&gd(t),i=!n&&!r&&vd(t),s=!n&&!r&&!i&&bS(t),o=n||r||i||s,a=o?lD(t.length,String):[],l=a.length;for(var c in t)(e||VV.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||mS(c,l)))&&a.push(c);return a}function fD(t,e){return function(n){return t(e(n))}}var qV=fD(Object.keys,Object);const XV=qV;var YV=Object.prototype,KV=YV.hasOwnProperty;function ZV(t){if(!yS(t))return XV(t);var e=[];for(var n in Object(t))KV.call(t,n)&&n!="constructor"&&e.push(n);return e}function bl(t){return ca(t)?dD(t):ZV(t)}function QV(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var JV=Object.prototype,eq=JV.hasOwnProperty;function tq(t){if(!Vr(t))return QV(t);var e=yS(t),n=[];for(var r in t)r=="constructor"&&(e||!eq.call(t,r))||n.push(r);return n}function ef(t){return ca(t)?dD(t,!0):tq(t)}var nq=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rq=/^\w*$/;function xS(t,e){if(an(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Qu(t)?!0:rq.test(t)||!nq.test(t)||e!=null&&t in Object(e)}var iq=yl(Object,"create");const yd=iq;function sq(){this.__data__=yd?yd(null):{},this.size=0}function oq(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var aq="__lodash_hash_undefined__",lq=Object.prototype,uq=lq.hasOwnProperty;function cq(t){var e=this.__data__;if(yd){var n=e[t];return n===aq?void 0:n}return uq.call(e,t)?e[t]:void 0}var hq=Object.prototype,dq=hq.hasOwnProperty;function fq(t){var e=this.__data__;return yd?e[t]!==void 0:dq.call(e,t)}var pq="__lodash_hash_undefined__";function mq(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=yd&&e===void 0?pq:e,this}function ol(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ol.prototype.clear=sq;ol.prototype.delete=oq;ol.prototype.get=cq;ol.prototype.has=fq;ol.prototype.set=mq;function gq(){this.__data__=[],this.size=0}function Sv(t,e){for(var n=t.length;n--;)if(Zd(t[n][0],e))return n;return-1}var vq=Array.prototype,yq=vq.splice;function bq(t){var e=this.__data__,n=Sv(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():yq.call(e,n,1),--this.size,!0}function xq(t){var e=this.__data__,n=Sv(e,t);return n<0?void 0:e[n][1]}function wq(t){return Sv(this.__data__,t)>-1}function _q(t,e){var n=this.__data__,r=Sv(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function yo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}yo.prototype.clear=gq;yo.prototype.delete=bq;yo.prototype.get=xq;yo.prototype.has=wq;yo.prototype.set=_q;var Sq=yl(os,"Map");const bd=Sq;function Eq(){this.size=0,this.__data__={hash:new ol,map:new(bd||yo),string:new ol}}function Cq(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Ev(t,e){var n=t.__data__;return Cq(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Tq(t){var e=Ev(this,t).delete(t);return this.size-=e?1:0,e}function Aq(t){return Ev(this,t).get(t)}function Pq(t){return Ev(this,t).has(t)}function kq(t,e){var n=Ev(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function bo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}bo.prototype.clear=Eq;bo.prototype.delete=Tq;bo.prototype.get=Aq;bo.prototype.has=Pq;bo.prototype.set=kq;var Oq="Expected a function";function wS(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Oq);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(wS.Cache||bo),n}wS.Cache=bo;var Iq=500;function Rq(t){var e=wS(t,function(r){return n.size===Iq&&n.clear(),r}),n=e.cache;return e}var Mq=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fq=/\\(\\)?/g,Dq=Rq(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Mq,function(n,r,i,s){e.push(i?s.replace(Fq,"$1"):r||n)}),e});const Lq=Dq;function pD(t){return t==null?"":pS(t)}function mD(t,e){return an(t)?t:xS(t,e)?[t]:Lq(pD(t))}var Bq=1/0;function Cv(t){if(typeof t=="string"||Qu(t))return t;var e=t+"";return e=="0"&&1/t==-Bq?"-0":e}function _S(t,e){e=mD(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Cv(e[n++])];return n&&n==r?t:void 0}function Nq(t,e,n){var r=t==null?void 0:_S(t,e);return r===void 0?n:r}function SS(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var bk=_i?_i.isConcatSpreadable:void 0;function $q(t){return an(t)||gd(t)||!!(bk&&t&&t[bk])}function ES(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=$q),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?ES(a,e-1,n,r,i):SS(i,a):r||(i[i.length]=a)}return i}var Uq=fD(Object.getPrototypeOf,Object);const CS=Uq;var zq="[object Object]",Hq=Function.prototype,jq=Object.prototype,gD=Hq.toString,Wq=jq.hasOwnProperty,Gq=gD.call(Object);function Vq(t){if(!Si(t)||vo(t)!=zq)return!1;var e=CS(t);if(e===null)return!0;var n=Wq.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&gD.call(n)==Gq}function qq(t,e,n,r){var i=-1,s=t==null?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}function Xq(t,e,n){return t===t&&(n!==void 0&&(t=t<=n?t:n),e!==void 0&&(t=t>=e?t:e)),t}function Yq(){this.__data__=new yo,this.size=0}function Kq(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Zq(t){return this.__data__.get(t)}function Qq(t){return this.__data__.has(t)}var Jq=200;function eX(t,e){var n=this.__data__;if(n instanceof yo){var r=n.__data__;if(!bd||r.length<Jq-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new bo(r)}return n.set(t,e),this.size=n.size,this}function Zi(t){var e=this.__data__=new yo(t);this.size=e.size}Zi.prototype.clear=Yq;Zi.prototype.delete=Kq;Zi.prototype.get=Zq;Zi.prototype.has=Qq;Zi.prototype.set=eX;function tX(t,e){return t&&Qd(e,bl(e),t)}function nX(t,e){return t&&Qd(e,ef(e),t)}var vD=typeof Nr=="object"&&Nr&&!Nr.nodeType&&Nr,xk=vD&&typeof $r=="object"&&$r&&!$r.nodeType&&$r,rX=xk&&xk.exports===vD,wk=rX?os.Buffer:void 0,_k=wk?wk.allocUnsafe:void 0;function yD(t,e){if(e)return t.slice();var n=t.length,r=_k?_k(n):new t.constructor(n);return t.copy(r),r}function bD(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function xD(){return[]}var iX=Object.prototype,sX=iX.propertyIsEnumerable,Sk=Object.getOwnPropertySymbols,oX=Sk?function(t){return t==null?[]:(t=Object(t),bD(Sk(t),function(e){return sX.call(t,e)}))}:xD;const TS=oX;function aX(t,e){return Qd(t,TS(t),e)}var lX=Object.getOwnPropertySymbols,uX=lX?function(t){for(var e=[];t;)SS(e,TS(t)),t=CS(t);return e}:xD;const wD=uX;function cX(t,e){return Qd(t,wD(t),e)}function _D(t,e,n){var r=e(t);return an(t)?r:SS(r,n(t))}function Ox(t){return _D(t,bl,TS)}function hX(t){return _D(t,ef,wD)}var dX=yl(os,"DataView");const Ix=dX;var fX=yl(os,"Promise");const Rx=fX;var pX=yl(os,"Set");const Bu=pX;var Ek="[object Map]",mX="[object Object]",Ck="[object Promise]",Tk="[object Set]",Ak="[object WeakMap]",Pk="[object DataView]",gX=vl(Ix),vX=vl(bd),yX=vl(Rx),bX=vl(Bu),xX=vl(kx),Ma=vo;(Ix&&Ma(new Ix(new ArrayBuffer(1)))!=Pk||bd&&Ma(new bd)!=Ek||Rx&&Ma(Rx.resolve())!=Ck||Bu&&Ma(new Bu)!=Tk||kx&&Ma(new kx)!=Ak)&&(Ma=function(t){var e=vo(t),n=e==mX?t.constructor:void 0,r=n?vl(n):"";if(r)switch(r){case gX:return Pk;case vX:return Ek;case yX:return Ck;case bX:return Tk;case xX:return Ak}return e});const xd=Ma;var wX=Object.prototype,_X=wX.hasOwnProperty;function SX(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&_X.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var EX=os.Uint8Array;const wg=EX;function AS(t){var e=new t.constructor(t.byteLength);return new wg(e).set(new wg(t)),e}function CX(t,e){var n=e?AS(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var TX=/\w*$/;function AX(t){var e=new t.constructor(t.source,TX.exec(t));return e.lastIndex=t.lastIndex,e}var kk=_i?_i.prototype:void 0,Ok=kk?kk.valueOf:void 0;function PX(t){return Ok?Object(Ok.call(t)):{}}function SD(t,e){var n=e?AS(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var kX="[object Boolean]",OX="[object Date]",IX="[object Map]",RX="[object Number]",MX="[object RegExp]",FX="[object Set]",DX="[object String]",LX="[object Symbol]",BX="[object ArrayBuffer]",NX="[object DataView]",$X="[object Float32Array]",UX="[object Float64Array]",zX="[object Int8Array]",HX="[object Int16Array]",jX="[object Int32Array]",WX="[object Uint8Array]",GX="[object Uint8ClampedArray]",VX="[object Uint16Array]",qX="[object Uint32Array]";function XX(t,e,n){var r=t.constructor;switch(e){case BX:return AS(t);case kX:case OX:return new r(+t);case NX:return CX(t,n);case $X:case UX:case zX:case HX:case jX:case WX:case GX:case VX:case qX:return SD(t,n);case IX:return new r;case RX:case DX:return new r(t);case MX:return AX(t);case FX:return new r;case LX:return PX(t)}}function ED(t){return typeof t.constructor=="function"&&!yS(t)?UG(CS(t)):{}}var YX="[object Map]";function KX(t){return Si(t)&&xd(t)==YX}var Ik=Ju&&Ju.isMap,ZX=Ik?Jd(Ik):KX;const QX=ZX;var JX="[object Set]";function eY(t){return Si(t)&&xd(t)==JX}var Rk=Ju&&Ju.isSet,tY=Rk?Jd(Rk):eY;const nY=tY;var rY=1,iY=2,sY=4,CD="[object Arguments]",oY="[object Array]",aY="[object Boolean]",lY="[object Date]",uY="[object Error]",TD="[object Function]",cY="[object GeneratorFunction]",hY="[object Map]",dY="[object Number]",AD="[object Object]",fY="[object RegExp]",pY="[object Set]",mY="[object String]",gY="[object Symbol]",vY="[object WeakMap]",yY="[object ArrayBuffer]",bY="[object DataView]",xY="[object Float32Array]",wY="[object Float64Array]",_Y="[object Int8Array]",SY="[object Int16Array]",EY="[object Int32Array]",CY="[object Uint8Array]",TY="[object Uint8ClampedArray]",AY="[object Uint16Array]",PY="[object Uint32Array]",At={};At[CD]=At[oY]=At[yY]=At[bY]=At[aY]=At[lY]=At[xY]=At[wY]=At[_Y]=At[SY]=At[EY]=At[hY]=At[dY]=At[AD]=At[fY]=At[pY]=At[mY]=At[gY]=At[CY]=At[TY]=At[AY]=At[PY]=!0;At[uY]=At[TD]=At[vY]=!1;function Pm(t,e,n,r,i,s){var o,a=e&rY,l=e&iY,c=e&sY;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!Vr(t))return t;var h=an(t);if(h){if(o=SX(t),!a)return nD(t,o)}else{var f=xd(t),p=f==TD||f==cY;if(vd(t))return yD(t,a);if(f==AD||f==CD||p&&!i){if(o=l||p?{}:ED(t),!a)return l?cX(t,nX(o,t)):aX(t,tX(o,t))}else{if(!At[f])return i?t:{};o=XX(t,f,a)}}s||(s=new Zi);var m=s.get(t);if(m)return m;s.set(t,o),nY(t)?t.forEach(function(x){o.add(Pm(x,e,n,x,t,s))}):QX(t)&&t.forEach(function(x,b){o.set(b,Pm(x,e,n,b,t,s))});var v=c?l?hX:Ox:l?ef:bl,y=h?void 0:v(t);return rD(y||t,function(x,b){y&&(b=x,x=t[b]),aD(o,b,Pm(x,e,n,b,t,s))}),o}var kY=4;function ut(t){return Pm(t,kY)}function Mk(t){for(var e=-1,n=t==null?0:t.length,r=0,i=[];++e<n;){var s=t[e];s&&(i[r++]=s)}return i}var OY="__lodash_hash_undefined__";function IY(t){return this.__data__.set(t,OY),this}function RY(t){return this.__data__.has(t)}function ec(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new bo;++e<n;)this.add(t[e])}ec.prototype.add=ec.prototype.push=IY;ec.prototype.has=RY;function PD(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function PS(t,e){return t.has(e)}var MY=1,FY=2;function kD(t,e,n,r,i,s){var o=n&MY,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),h=s.get(e);if(c&&h)return c==e&&h==t;var f=-1,p=!0,m=n&FY?new ec:void 0;for(s.set(t,e),s.set(e,t);++f<a;){var v=t[f],y=e[f];if(r)var x=o?r(y,v,f,e,t,s):r(v,y,f,t,e,s);if(x!==void 0){if(x)continue;p=!1;break}if(m){if(!PD(e,function(b,_){if(!PS(m,_)&&(v===b||i(v,b,n,r,s)))return m.push(_)})){p=!1;break}}else if(!(v===y||i(v,y,n,r,s))){p=!1;break}}return s.delete(t),s.delete(e),p}function DY(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function kS(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var LY=1,BY=2,NY="[object Boolean]",$Y="[object Date]",UY="[object Error]",zY="[object Map]",HY="[object Number]",jY="[object RegExp]",WY="[object Set]",GY="[object String]",VY="[object Symbol]",qY="[object ArrayBuffer]",XY="[object DataView]",Fk=_i?_i.prototype:void 0,_1=Fk?Fk.valueOf:void 0;function YY(t,e,n,r,i,s,o){switch(n){case XY:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case qY:return!(t.byteLength!=e.byteLength||!s(new wg(t),new wg(e)));case NY:case $Y:case HY:return Zd(+t,+e);case UY:return t.name==e.name&&t.message==e.message;case jY:case GY:return t==e+"";case zY:var a=DY;case WY:var l=r&LY;if(a||(a=kS),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=BY,o.set(t,e);var h=kD(a(t),a(e),r,i,s,o);return o.delete(t),h;case VY:if(_1)return _1.call(t)==_1.call(e)}return!1}var KY=1,ZY=Object.prototype,QY=ZY.hasOwnProperty;function JY(t,e,n,r,i,s){var o=n&KY,a=Ox(t),l=a.length,c=Ox(e),h=c.length;if(l!=h&&!o)return!1;for(var f=l;f--;){var p=a[f];if(!(o?p in e:QY.call(e,p)))return!1}var m=s.get(t),v=s.get(e);if(m&&v)return m==e&&v==t;var y=!0;s.set(t,e),s.set(e,t);for(var x=o;++f<l;){p=a[f];var b=t[p],_=e[p];if(r)var w=o?r(_,b,p,e,t,s):r(b,_,p,t,e,s);if(!(w===void 0?b===_||i(b,_,n,r,s):w)){y=!1;break}x||(x=p=="constructor")}if(y&&!x){var E=t.constructor,O=e.constructor;E!=O&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof O=="function"&&O instanceof O)&&(y=!1)}return s.delete(t),s.delete(e),y}var eK=1,Dk="[object Arguments]",Lk="[object Array]",Fp="[object Object]",tK=Object.prototype,Bk=tK.hasOwnProperty;function nK(t,e,n,r,i,s){var o=an(t),a=an(e),l=o?Lk:xd(t),c=a?Lk:xd(e);l=l==Dk?Fp:l,c=c==Dk?Fp:c;var h=l==Fp,f=c==Fp,p=l==c;if(p&&vd(t)){if(!vd(e))return!1;o=!0,h=!1}if(p&&!h)return s||(s=new Zi),o||bS(t)?kD(t,e,n,r,i,s):YY(t,e,l,n,r,i,s);if(!(n&eK)){var m=h&&Bk.call(t,"__wrapped__"),v=f&&Bk.call(e,"__wrapped__");if(m||v){var y=m?t.value():t,x=v?e.value():e;return s||(s=new Zi),i(y,x,n,r,s)}}return p?(s||(s=new Zi),JY(t,e,n,r,i,s)):!1}function OS(t,e,n,r,i){return t===e?!0:t==null||e==null||!Si(t)&&!Si(e)?t!==t&&e!==e:nK(t,e,n,r,OS,i)}var rK=1,iK=2;function sK(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],c=t[l],h=a[1];if(o&&a[2]){if(c===void 0&&!(l in t))return!1}else{var f=new Zi;if(r)var p=r(c,h,l,t,e,f);if(!(p===void 0?OS(h,c,rK|iK,r,f):p))return!1}}return!0}function OD(t){return t===t&&!Vr(t)}function oK(t){for(var e=bl(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,OD(i)]}return e}function ID(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function aK(t){var e=oK(t);return e.length==1&&e[0][2]?ID(e[0][0],e[0][1]):function(n){return n===t||sK(n,t,e)}}function lK(t,e){return t!=null&&e in Object(t)}function uK(t,e,n){e=mD(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=Cv(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&vS(i)&&mS(o,i)&&(an(t)||gd(t)))}function cK(t,e){return t!=null&&uK(t,e,lK)}var hK=1,dK=2;function fK(t,e){return xS(t)&&OD(e)?ID(Cv(t),e):function(n){var r=Nq(n,t);return r===void 0&&r===e?cK(n,t):OS(e,r,hK|dK)}}function pK(t){return function(e){return e==null?void 0:e[t]}}function mK(t){return function(e){return _S(e,t)}}function gK(t){return xS(t)?pK(Cv(t)):mK(t)}function ha(t){return typeof t=="function"?t:t==null?Kd:typeof t=="object"?an(t)?fK(t[0],t[1]):aK(t):gK(t)}function vK(t,e,n,r){for(var i=-1,s=t==null?0:t.length;++i<s;){var o=t[i];e(r,o,n(o),t)}return r}function yK(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var bK=yK();const RD=bK;function xK(t,e){return t&&RD(t,e,bl)}function wK(t,e){return function(n,r){if(n==null)return n;if(!ca(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var _K=wK(xK);const yc=_K;function SK(t,e,n,r){return yc(t,function(i,s,o){e(r,i,n(i),o)}),r}function EK(t,e){return function(n,r){var i=an(n)?vK:SK,s=e?e():{};return i(n,t,ha(r),s)}}var CK=function(){return os.Date.now()};const S1=CK;var TK="Expected a function",AK=Math.max,PK=Math.min;function MD(t,e,n){var r,i,s,o,a,l,c=0,h=!1,f=!1,p=!0;if(typeof t!="function")throw new TypeError(TK);e=Px(e)||0,Vr(n)&&(h=!!n.leading,f="maxWait"in n,s=f?AK(Px(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p);function m(A){var F=r,L=i;return r=i=void 0,c=A,o=t.apply(L,F),o}function v(A){return c=A,a=setTimeout(b,e),h?m(A):o}function y(A){var F=A-l,L=A-c,H=e-F;return f?PK(H,s-L):H}function x(A){var F=A-l,L=A-c;return l===void 0||F>=e||F<0||f&&L>=s}function b(){var A=S1();if(x(A))return _(A);a=setTimeout(b,y(A))}function _(A){return a=void 0,p&&r?m(A):(r=i=void 0,o)}function w(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function E(){return a===void 0?o:_(S1())}function O(){var A=S1(),F=x(A);if(r=arguments,i=this,l=A,F){if(a===void 0)return v(l);if(f)return clearTimeout(a),a=setTimeout(b,e),m(l)}return a===void 0&&(a=setTimeout(b,e)),o}return O.cancel=w,O.flush=E,O}function Mx(t,e,n){(n!==void 0&&!Zd(t[e],n)||n===void 0&&!(e in t))&&_v(t,e,n)}function Fx(t){return Si(t)&&ca(t)}function Dx(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function kK(t){return Qd(t,ef(t))}function OK(t,e,n,r,i,s,o){var a=Dx(t,n),l=Dx(e,n),c=o.get(l);if(c){Mx(t,n,c);return}var h=s?s(a,l,n+"",t,e,o):void 0,f=h===void 0;if(f){var p=an(l),m=!p&&vd(l),v=!p&&!m&&bS(l);h=l,p||m||v?an(a)?h=a:Fx(a)?h=nD(a):m?(f=!1,h=yD(l,!0)):v?(f=!1,h=SD(l,!0)):h=[]:Vq(l)||gd(l)?(h=a,gd(a)?h=kK(a):(!Vr(a)||Cs(a))&&(h=ED(l))):f=!1}f&&(o.set(l,h),i(h,l,r,s,o),o.delete(l)),Mx(t,n,h)}function FD(t,e,n,r,i){t!==e&&RD(e,function(s,o){if(i||(i=new Zi),Vr(s))OK(t,e,o,n,FD,r,i);else{var a=r?r(Dx(t,o),s,o+"",t,e,i):void 0;a===void 0&&(a=s),Mx(t,o,a)}},ef)}function DD(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var IK=200;function RK(t,e,n,r){var i=-1,s=oD,o=!0,a=t.length,l=[],c=e.length;if(!a)return l;n&&(e=Ya(e,Jd(n))),r?(s=DD,o=!1):e.length>=IK&&(s=PS,o=!1,e=new ec(e));e:for(;++i<a;){var h=t[i],f=n==null?h:n(h);if(h=r||h!==0?h:0,o&&f===f){for(var p=c;p--;)if(e[p]===f)continue e;l.push(h)}else s(e,f,r)||l.push(h)}return l}var MK=gS(function(t,e){return Fx(t)?RK(t,ES(e,1,Fx,!0)):[]});const LD=MK;function BD(t){return typeof t=="function"?t:Kd}function vt(t,e){var n=an(t)?rD:yc;return n(t,BD(e))}function FK(t,e){var n=[];return yc(t,function(r,i,s){e(r,i,s)&&n.push(r)}),n}function gr(t,e){var n=an(t)?bD:FK;return n(t,ha(e))}function DK(t){return function(e,n,r){var i=Object(e);if(!ca(e)){var s=ha(n);e=bl(e),n=function(a){return s(i[a],a,i)}}var o=t(e,n,r);return o>-1?i[s?e[o]:o]:void 0}}var LK=Math.max;function BK(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:wv(n);return i<0&&(i=LK(r+i,0)),iD(t,ha(e),i)}var NK=DK(BK);const Ve=NK;function ND(t,e){var n=-1,r=ca(t)?Array(t.length):[];return yc(t,function(i,s,o){r[++n]=e(i,s,o)}),r}function ze(t,e){var n=an(t)?Ya:ND;return n(t,ha(e))}var $K=Object.prototype,UK=$K.hasOwnProperty,zK=EK(function(t,e,n){UK.call(t,n)?t[n].push(e):_v(t,n,[e])});const HK=zK;var jK="[object String]";function $D(t){return typeof t=="string"||!an(t)&&Si(t)&&vo(t)==jK}function WK(t,e){return Ya(e,function(n){return t[n]})}function GK(t){return t==null?[]:WK(t,bl(t))}var VK=Math.max;function tf(t,e,n,r){t=ca(t)?t:GK(t),n=n&&!r?wv(n):0;var i=t.length;return n<0&&(n=VK(i+n,0)),$D(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&sD(t,e,n)>-1}var qK="[object Number]";function XK(t){return typeof t=="number"||Si(t)&&vo(t)==qK}function Mr(t){return t===void 0}var YK=aV(function(t,e,n){FD(t,e,n)});const yr=YK;function KK(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function ZK(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=Qu(t),o=e!==void 0,a=e===null,l=e===e,c=Qu(e);if(!a&&!c&&!s&&t>e||s&&o&&l&&!a&&!c||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!c&&t<e||c&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}function QK(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var l=ZK(i[r],s[r]);if(l){if(r>=a)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}function JK(t,e,n){e.length?e=Ya(e,function(s){return an(s)?function(o){return _S(o,s.length===1?s[0]:s)}:s}):e=[Kd];var r=-1;e=Ya(e,Jd(ha));var i=ND(t,function(s,o,a){var l=Ya(e,function(c){return c(s)});return{criteria:l,index:++r,value:s}});return KK(i,function(s,o){return QK(s,o,n)})}function eZ(t,e,n,r,i){return i(t,function(s,o,a){n=r?(r=!1,s):e(n,s,o,a)}),n}function UD(t,e,n){var r=an(t)?qq:eZ,i=arguments.length<3;return r(t,ha(e),n,i,yc)}function tZ(t,e){var n;return yc(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}function nf(t,e,n){var r=an(t)?PD:tZ;return n&&xg(t,e,n)&&(e=void 0),r(t,ha(e))}var nZ=gS(function(t,e){if(t==null)return[];var n=e.length;return n>1&&xg(t,e[0],e[1])?e=[]:n>2&&xg(e[0],e[1],e[2])&&(e=[e[0]]),JK(t,ES(e,1),[])});const da=nZ;function rZ(t,e,n){return t=pD(t),n=n==null?0:Xq(wv(n),0,t.length),e=pS(e),t.slice(n,n+e.length)==e}var iZ="Expected a function";function sZ(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(iZ);return Vr(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),MD(t,e,{leading:r,maxWait:e,trailing:i})}var oZ=9007199254740991,E1=4294967295,aZ=Math.min;function rf(t,e){if(t=wv(t),t<1||t>oZ)return[];var n=E1,r=aZ(t,E1);e=BD(e),t-=E1;for(var i=lD(r,e);++n<t;)e(n);return i}var lZ=1/0,uZ=Bu&&1/kS(new Bu([,-0]))[1]==lZ?function(t){return new Bu(t)}:HG;const cZ=uZ;var hZ=200;function dZ(t,e,n){var r=-1,i=oD,s=t.length,o=!0,a=[],l=a;if(n)o=!1,i=DD;else if(s>=hZ){var c=e?null:cZ(t);if(c)return kS(c);o=!1,i=PS,l=new ec}else l=e?[]:a;e:for(;++r<s;){var h=t[r],f=e?e(h):h;if(h=n||h!==0?h:0,o&&f===f){for(var p=l.length;p--;)if(l[p]===f)continue e;e&&l.push(f),a.push(h)}else i(l,f,n)||(l!==a&&l.push(f),a.push(h))}return a}function wd(t){return t&&t.length?dZ(t):[]}const as=T.createContext({});function fZ(){const t=window.localStorage.getItem("dragon-build");return t?JSON.parse(t):[]}function pZ(){const t=window.localStorage.getItem("dragon-custom-units");return t?JSON.parse(t):[]}function mZ(){const t=window.localStorage.getItem("dragon-default-units");if(t)try{return JSON.parse(t)}catch{return[]}else return[]}const gZ=(t,e)=>{const{index:n,unit:r,units:i,type:s}=e;let o=ut(t);if(s==="save")try{window.localStorage.setItem("dragon-default-units",JSON.stringify(o))}catch{}if(s==="add")return o=[...o,r],o;if(s==="set")return o=i,window.localStorage.setItem("dragon-default-units",JSON.stringify(o)),o;if(s==="update")return o=ze(o,a=>a.id===r.id?r:a),window.localStorage.setItem("dragon-default-units",JSON.stringify(o)),o;if(s==="remove"){const a=t.findIndex(c=>c.id===r.id);if(a<0)return t;const l=[...t];return l.splice(a,1),window.localStorage.setItem("dragon-default-units",JSON.stringify(l)),l}return t},vZ=(t,e)=>{const{index:n,unit:r,units:i,type:s}=e;let o=ut(t);if(s==="save")try{window.localStorage.setItem("dragon-custom-units",JSON.stringify(o))}catch{}if(s==="add")return o=[...o,r],o;if(s==="set")return o=i,window.localStorage.setItem("dragon-custom-units",JSON.stringify(o)),o;if(s==="update")return o=ze(o,a=>a.id===r.id?r:a),window.localStorage.setItem("dragon-custom-units",JSON.stringify(o)),o;if(s==="remove"){const a=t.findIndex(c=>c.id===r.id);if(a<0)return t;const l=[...t];return l.splice(a,1),window.localStorage.setItem("dragon-custom-units",JSON.stringify(l)),l}return t},yZ=(t,e)=>{const{build:n,type:r}=e;let i=ut(t);return r==="imported"?(i=n,i):t},bZ=(t,e)=>{const{build:n,type:r}=e;let i=ut(t);return r==="set"?(i=n,window.localStorage.setItem("dragon-build",JSON.stringify(i)),i):t},xZ=({children:t})=>{const[e,n]=T.useReducer(bZ,fZ()),[r,i]=T.useReducer(yZ,e==null?void 0:e.exportableBuild),[s,o]=T.useReducer(vZ,pZ()),[a,l]=T.useReducer(gZ,mZ()),[c,h]=T.useState({type:"custom",unit:null});return k(as.Provider,{value:{build:e,setBuild:n,savedBuild:r,setSavedBuild:i,customUnits:s,setCustomUnits:o,defaultUnits:a,setDefaultUnits:l,selectedUnit:c,setSelectedUnit:h},children:t})},ls=T.createContext({});function wZ(){const t=window.localStorage.getItem("dragon-config-version");if(t)try{return JSON.parse(t)}catch{return"0.0.0"}else return"0.0.0"}function _Z(){const t={code:"right",edit:"right",help:"right",info:"left",sheet:"right",settings:"left",theme:"left",units:"left",zap:"right"},e=window.localStorage.getItem("dragon-app-menu-config");if(e)try{return JSON.parse(e)}catch{return t}else return t}function SZ(t,e){const{type:n,version:r}=e;if(n==="set")return window.localStorage.setItem("dragon-config-version",JSON.stringify(r)),r}function EZ(t,e){const{type:n,config:r,item:i}=e;let s=ut(t);if(n==="setItem")return s={...s,...i},window.localStorage.setItem("dragon-app-menu-config",JSON.stringify(s)),s}const CZ=({children:t})=>{const[e,n]=T.useState("build-slow"),[r,i]=T.useState("build-slow"),[s,o]=T.useState(!1),[a,l]=T.useState(!0),[c,h]=T.useReducer(SZ,wZ()),[f,p]=T.useReducer(EZ,_Z()),[m,v]=T.useState({left:"info",right:"sheet"});return k(ls.Provider,{value:{appMode:e,setAppMode:n,rightExpanded:s,setRightExpanded:o,leftExpanded:a,setLeftExpanded:l,version:c,setVersion:h,buildMode:r,setBuildMode:i,appMenuConfig:f,setAppMenuConfig:p,selectedMenus:m,setSelectedMenus:v},children:t})};var B={},TZ={get exports(){return B},set exports(t){B=t}},AZ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",PZ=AZ,kZ=PZ;function zD(){}function HD(){}HD.resetWarningCache=zD;var OZ=function(){function t(r,i,s,o,a,l){if(l!==kZ){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:HD,resetWarningCache:zD};return n.PropTypes=n,n};TZ.exports=OZ();function Lx(){return Lx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lx.apply(this,arguments)}function IZ(t,e){if(t==null)return{};var n=RZ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function RZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var IS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=IZ(t,["color","size"]);return P.createElement("svg",Lx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),P.createElement("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"}))});IS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};IS.displayName="BookOpen";const MZ=IS;function Bx(){return Bx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bx.apply(this,arguments)}function FZ(t,e){if(t==null)return{};var n=DZ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var RS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=FZ(t,["color","size"]);return P.createElement("svg",Bx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),P.createElement("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"}))});RS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};RS.displayName="Book";const LZ=RS;function Nx(){return Nx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nx.apply(this,arguments)}function BZ(t,e){if(t==null)return{};var n=NZ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var MS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=BZ(t,["color","size"]);return P.createElement("svg",Nx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"20 6 9 17 4 12"}))});MS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};MS.displayName="Check";const $Z=MS;function $x(){return $x=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$x.apply(this,arguments)}function UZ(t,e){if(t==null)return{};var n=zZ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var FS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=UZ(t,["color","size"]);return P.createElement("svg",$x({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"6 9 12 15 18 9"}))});FS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};FS.displayName="ChevronDown";const jD=FS;function Ux(){return Ux=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ux.apply(this,arguments)}function HZ(t,e){if(t==null)return{};var n=jZ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var DS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=HZ(t,["color","size"]);return P.createElement("svg",Ux({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"18 15 12 9 6 15"}))});DS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};DS.displayName="ChevronUp";const WD=DS;function zx(){return zx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zx.apply(this,arguments)}function WZ(t,e){if(t==null)return{};var n=GZ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var LS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=WZ(t,["color","size"]);return P.createElement("svg",zx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"7 13 12 18 17 13"}),P.createElement("polyline",{points:"7 6 12 11 17 6"}))});LS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};LS.displayName="ChevronsDown";const GD=LS;function Hx(){return Hx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hx.apply(this,arguments)}function VZ(t,e){if(t==null)return{};var n=qZ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var BS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=VZ(t,["color","size"]);return P.createElement("svg",Hx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"11 17 6 12 11 7"}),P.createElement("polyline",{points:"18 17 13 12 18 7"}))});BS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};BS.displayName="ChevronsLeft";const XZ=BS;function jx(){return jx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jx.apply(this,arguments)}function YZ(t,e){if(t==null)return{};var n=KZ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function KZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var NS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=YZ(t,["color","size"]);return P.createElement("svg",jx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"13 17 18 12 13 7"}),P.createElement("polyline",{points:"6 17 11 12 6 7"}))});NS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};NS.displayName="ChevronsRight";const ZZ=NS;function Wx(){return Wx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wx.apply(this,arguments)}function QZ(t,e){if(t==null)return{};var n=JZ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var $S=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=QZ(t,["color","size"]);return P.createElement("svg",Wx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"17 11 12 6 7 11"}),P.createElement("polyline",{points:"17 18 12 13 7 18"}))});$S.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};$S.displayName="ChevronsUp";const VD=$S;function Gx(){return Gx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gx.apply(this,arguments)}function eQ(t,e){if(t==null)return{};var n=tQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var US=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=eQ(t,["color","size"]);return P.createElement("svg",Gx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("path",{d:"M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"}),P.createElement("polyline",{points:"13 11 9 17 15 17 11 23"}))});US.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};US.displayName="CloudLightning";const nQ=US;function Vx(){return Vx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vx.apply(this,arguments)}function rQ(t,e){if(t==null)return{};var n=iQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var zS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=rQ(t,["color","size"]);return P.createElement("svg",Vx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),P.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))});zS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};zS.displayName="Copy";const sQ=zS;function qx(){return qx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qx.apply(this,arguments)}function oQ(t,e){if(t==null)return{};var n=aQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var HS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=oQ(t,["color","size"]);return P.createElement("svg",qx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("circle",{cx:"12",cy:"12",r:"10"}),P.createElement("circle",{cx:"12",cy:"12",r:"3"}))});HS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};HS.displayName="Disc";const lQ=HS;function Xx(){return Xx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xx.apply(this,arguments)}function uQ(t,e){if(t==null)return{};var n=cQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var jS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=uQ(t,["color","size"]);return P.createElement("svg",Xx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),P.createElement("polyline",{points:"7 10 12 15 17 10"}),P.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"}))});jS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};jS.displayName="Download";const Yx=jS;function Kx(){return Kx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kx.apply(this,arguments)}function hQ(t,e){if(t==null)return{};var n=dQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var WS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=hQ(t,["color","size"]);return P.createElement("svg",Kx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),P.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))});WS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};WS.displayName="Edit";const GS=WS;function Zx(){return Zx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zx.apply(this,arguments)}function fQ(t,e){if(t==null)return{};var n=pQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var VS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=fQ(t,["color","size"]);return P.createElement("svg",Zx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("circle",{cx:"12",cy:"12",r:"10"}),P.createElement("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),P.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}))});VS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};VS.displayName="HelpCircle";const mQ=VS;function Qx(){return Qx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qx.apply(this,arguments)}function gQ(t,e){if(t==null)return{};var n=vQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var qS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=gQ(t,["color","size"]);return P.createElement("svg",Qx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),P.createElement("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}))});qS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};qS.displayName="Lock";const yQ=qS;function Jx(){return Jx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jx.apply(this,arguments)}function bQ(t,e){if(t==null)return{};var n=xQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var XS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=bQ(t,["color","size"]);return P.createElement("svg",Jx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),P.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))});XS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};XS.displayName="MinusSquare";const wQ=XS;function ew(){return ew=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ew.apply(this,arguments)}function _Q(t,e){if(t==null)return{};var n=SQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var YS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=_Q(t,["color","size"]);return P.createElement("svg",ew({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});YS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};YS.displayName="Minus";const EQ=YS;function tw(){return tw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tw.apply(this,arguments)}function CQ(t,e){if(t==null)return{};var n=TQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var KS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=CQ(t,["color","size"]);return P.createElement("svg",tw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}))});KS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};KS.displayName="Moon";const AQ=KS;function nw(){return nw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nw.apply(this,arguments)}function PQ(t,e){if(t==null)return{};var n=kQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var ZS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=PQ(t,["color","size"]);return P.createElement("svg",nw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),P.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),P.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))});ZS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};ZS.displayName="PlusSquare";const rs=ZS;function rw(){return rw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rw.apply(this,arguments)}function OQ(t,e){if(t==null)return{};var n=IQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var QS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=OQ(t,["color","size"]);return P.createElement("svg",rw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),P.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});QS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};QS.displayName="Plus";const _g=QS;function iw(){return iw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iw.apply(this,arguments)}function RQ(t,e){if(t==null)return{};var n=MQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var JS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=RQ(t,["color","size"]);return P.createElement("svg",iw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"1 4 1 10 7 10"}),P.createElement("polyline",{points:"23 20 23 14 17 14"}),P.createElement("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"}))});JS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};JS.displayName="RefreshCcw";const FQ=JS;function sw(){return sw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sw.apply(this,arguments)}function DQ(t,e){if(t==null)return{};var n=LQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var eE=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=DQ(t,["color","size"]);return P.createElement("svg",sw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"1 4 1 10 7 10"}),P.createElement("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"}))});eE.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};eE.displayName="RotateCcw";const tE=eE;function ow(){return ow=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ow.apply(this,arguments)}function BQ(t,e){if(t==null)return{};var n=NQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var nE=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=BQ(t,["color","size"]);return P.createElement("svg",ow({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),P.createElement("polyline",{points:"17 21 17 13 7 13 7 21"}),P.createElement("polyline",{points:"7 3 7 8 15 8"}))});nE.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};nE.displayName="Save";const al=nE;function aw(){return aw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aw.apply(this,arguments)}function $Q(t,e){if(t==null)return{};var n=UQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var rE=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=$Q(t,["color","size"]);return P.createElement("svg",aw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("line",{x1:"4",y1:"21",x2:"4",y2:"14"}),P.createElement("line",{x1:"4",y1:"10",x2:"4",y2:"3"}),P.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"12"}),P.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"3"}),P.createElement("line",{x1:"20",y1:"21",x2:"20",y2:"16"}),P.createElement("line",{x1:"20",y1:"12",x2:"20",y2:"3"}),P.createElement("line",{x1:"1",y1:"14",x2:"7",y2:"14"}),P.createElement("line",{x1:"9",y1:"8",x2:"15",y2:"8"}),P.createElement("line",{x1:"17",y1:"16",x2:"23",y2:"16"}))});rE.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};rE.displayName="Sliders";const zQ=rE;function lw(){return lw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lw.apply(this,arguments)}function HQ(t,e){if(t==null)return{};var n=jQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var iE=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=HQ(t,["color","size"]);return P.createElement("svg",lw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("circle",{cx:"12",cy:"12",r:"5"}),P.createElement("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),P.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),P.createElement("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),P.createElement("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),P.createElement("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),P.createElement("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),P.createElement("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),P.createElement("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"}))});iE.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};iE.displayName="Sun";const WQ=iE;function uw(){return uw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uw.apply(this,arguments)}function GQ(t,e){if(t==null)return{};var n=VQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var sE=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=GQ(t,["color","size"]);return P.createElement("svg",uw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"3 6 5 6 21 6"}),P.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),P.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),P.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}))});sE.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};sE.displayName="Trash2";const xo=sE;function cw(){return cw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cw.apply(this,arguments)}function qQ(t,e){if(t==null)return{};var n=XQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var oE=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=qQ(t,["color","size"]);return P.createElement("svg",cw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),P.createElement("circle",{cx:"9",cy:"7",r:"4"}),P.createElement("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),P.createElement("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}))});oE.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};oE.displayName="Users";const YQ=oE;function hw(){return hw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hw.apply(this,arguments)}function KQ(t,e){if(t==null)return{};var n=ZQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var aE=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=KQ(t,["color","size"]);return P.createElement("svg",hw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("circle",{cx:"12",cy:"12",r:"10"}),P.createElement("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),P.createElement("line",{x1:"9",y1:"9",x2:"15",y2:"15"}))});aE.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};aE.displayName="XCircle";const QQ=aE;function dw(){return dw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dw.apply(this,arguments)}function JQ(t,e){if(t==null)return{};var n=eJ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var lE=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=JQ(t,["color","size"]);return P.createElement("svg",dw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"}))});lE.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};lE.displayName="Zap";const tJ=lE,bc=T.createContext({}),Js={default:{"--themeColor":"#3bac99","--themeColorMod":"#2f808f","--themeColorText":"#a4dbe2","--panelColor":"#1b1b1d","--panelColor2":"#2e2e34","--panelColor3":"#25262c"},alt1:{"--themeColor":"#6d63f8","--themeColorMod":"#5557e0","--themeColorText":"#a08dcc","--panelColor":"#1b1b1d","--panelColor2":"#2e2e34","--panelColor3":"#25262c"},alt2:{"--themeColor":"#c155ac","--themeColorMod":"#9d4980","--themeColorText":"#df82d5","--panelColor":"#22262f","--panelColor2":"#2c3139","--panelColor3":"#2c353e"},autumn:{"--themeColor":"#e34841","--themeColorMod":"#bf342d","--themeColorText":"#fbb87e","--panelColor":"#22292f","--panelColor2":"#222224","--panelColor3":"#2b2c32"},steel:{"--themeColor":"#405185","--themeColorMod":"#313f68","--themeColorText":"#cd725a","--panelColor":"#1a1d26","--panelColor2":"#282d34","--panelColor3":"#2d3234"}};function nJ(){const t=window.localStorage.getItem("dragon-theme");return t?JSON.parse(t):"dark"}function rJ(){const t=window.localStorage.getItem("dragon-color-theme");if(t){const e=JSON.parse(t);return vt(Object.keys(Js[e]),n=>{document.documentElement.style.setProperty(n,Js[e][n])}),e}else return"default"}const iJ=(t,e)=>{const{theme:n,type:r}=e;let i=ut(t);return r==="set"?(i=n,window.localStorage.setItem("dragon-theme",JSON.stringify(i)),i):t},sJ=(t,e)=>{const{theme:n,type:r}=e;let i=ut(t);return r==="set"?(i=n,vt(Object.keys(Js[n]),s=>{document.documentElement.style.setProperty(s,Js[e.theme][s])}),window.localStorage.setItem("dragon-color-theme",JSON.stringify(i)),i):t},oJ=({children:t})=>{const[e,n]=T.useReducer(iJ,nJ()),[r,i]=T.useReducer(sJ,rJ());return k(bc.Provider,{value:{theme:e,setTheme:n,colorTheme:r,setColorTheme:i},children:t})};function St({type:t="default",color:e="white",children:n,clicked:r,noPadding:i=!1,disabled:s=!1}){const o=i?{padding:0}:{},a=l=>{l.stopPropagation(),r(l)};return k("button",{className:"smol-button "+t+" "+e+" "+(s?"disabled":""),onClick:a,style:o,children:n})}function Sg({side:t="left",changed:e}){const{theme:n,setTheme:r}=T.useContext(bc),{appMode:i,setAppMode:s,buildMode:o,setBuildMode:a,appMenuConfig:l,setAppMenuConfig:c,selectedMenus:h,setSelectedMenus:f,rightExpanded:p,leftExpanded:m}=T.useContext(ls),[v,y]=T.useState(!1);T.useEffect(()=>{y(t==="left"?!!m:!!p)},[p,m]);const x=_=>{c({type:"setItem",item:{[_]:t==="left"?"right":"left"}})},b=(_,w)=>{const E={...h};E[t]=w,_.shiftKey?x(w):w==="zap"?o==="build-fast"?(a("build-slow"),s("build-slow")):(s("build-fast"),a("build-fast")):w==="theme"?r({type:"set",theme:n==="light"?"dark":"light"}):w==="edit"?s(i==="edit"?o:"edit"):(e({newItem:w!==h[t]}),f(E))};return ee("div",{className:"app-menu",children:[l.info===t&&k("button",{type:"button",className:v&&h[t]==="info"?"selected":"",onClick:_=>b(_,"info"),children:k(lQ,{})}),l.sheet===t&&(i==="build-slow"||i==="build-fast"?k("button",{type:"button",className:v&&h[t]==="sheet"?"selected":"",onClick:_=>b(_,"sheet"),children:k(MZ,{})}):k("button",{type:"button",className:v&&h[t]==="sheet"?"selected":"",onClick:_=>b(_,"sheet"),children:k(LZ,{})})),l.units===t&&k("button",{type:"button",className:v&&h[t]==="units"?"selected":"",onClick:_=>b(_,"units"),children:k(YQ,{})}),l.settings===t&&k("button",{type:"button",className:v&&h[t]==="settings"?"selected":"",onClick:_=>b(_,"settings"),children:k(zQ,{})}),l.code===t&&k("button",{type:"button",className:v&&h[t]==="code"?"selected":"",onClick:_=>b(_,"code"),children:k(Yx,{})}),l.help===t&&k("button",{type:"button",className:v&&h[t]==="help"?"selected":"",onClick:_=>b(_,"help"),children:k(mQ,{})}),k("hr",{}),l.theme===t&&k(St,{color:"info",clicked:_=>b(_,"theme"),children:n==="light"?k(AQ,{}):k(WQ,{})}),l.zap===t&&k(St,{color:o==="build-fast"?"success":"mutedText",clicked:_=>b(_,"zap"),children:k(tJ,{})}),l.edit===t&&k(St,{color:i==="edit"?"success":"mutedText",clicked:_=>b(_,"edit"),children:k(GS,{})})]})}function aJ({children:t}){const{leftExpanded:e,setLeftExpanded:n}=T.useContext(ls),r=i=>{i.newItem?n(!0):n(!e)};return e?ee("div",{className:"sidebar-left",children:[k(Sg,{changed:r,side:"left"}),k("div",{className:"sidebar-left-panel",children:t})]}):k("div",{className:"sidebar-left",children:k(Sg,{changed:r,side:"left"})})}const wo=T.createContext({});function lJ(){const t=window.localStorage.getItem("dragon-nodes");if(t)try{return JSON.parse(t)}catch{return[{}]}else return qD()}function qD(){return[{id:"initial-node",name:"Example Node",description:"Press the Edit button on the left to edit this node. Press the edit button on the right to add stats and abilities.",colors:{selected:"#eee",unavailable:"aaa"}}]}const uJ=(t,e)=>{const{nodes:n,type:r}=e;let i=ut(t);return r==="imported"?(i=n,i):t},cJ=(t,e)=>{const{targetId:n,index:r,node:i,nodes:s,type:o}=e;let a=ut(t);if(o==="reset")return a=qD(),window.localStorage.setItem("dragon-nodes",JSON.stringify(a)),a;if(o==="save")try{window.localStorage.setItem("dragon-nodes",JSON.stringify(a))}catch{}if(o==="add")return a=[...a,i],a;if(o==="set")return a=s,window.localStorage.setItem("dragon-nodes",JSON.stringify(a)),a;if(o==="update")return a=ze(a,l=>l.id===n?i:l),window.localStorage.setItem("dragon-nodes",JSON.stringify(a)),a;if(o==="remove"){const l=t.findIndex(h=>h.id===i.id);if(l<0)return t;let c=[...t];return c.splice(l,1),c=ze(gr(c,h=>h.id!==i.id),h=>{let f=h.requires;return h.requires===i.id&&(f=i==null?void 0:i.requires),{...h,requires:f}}),window.localStorage.setItem("dragon-nodes",JSON.stringify(a)),c}return t},hJ=({children:t})=>{const[e,n]=T.useReducer(cJ,lJ()),[r,i]=T.useReducer(uJ,{}),[s,o]=T.useState(null),[a,l]=T.useState({acquired:{},selected:{},available:{}});return k(wo.Provider,{value:{nodes:e,setNodes:n,selectedNodeId:s,setSelectedNodeId:o,nodeMeta:a,setNodeMeta:l,savedNodes:r,setSavedNodes:i},children:t})};function zr(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ve(){return ve=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ve.apply(this,arguments)}function Kl(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function XD(t){if(!Kl(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=XD(t[n])}),e}function vi(t,e,n={clone:!0}){const r=n.clone?ve({},t):t;return Kl(t)&&Kl(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(Kl(e[i])&&i in t&&Kl(t[i])?r[i]=vi(t[i],e[i],n):n.clone?r[i]=Kl(e[i])?XD(e[i]):e[i]:r[i]=e[i])}),r}function tc(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}function Nu(t){if(typeof t!="string")throw new Error(tc(7));return t.charAt(0).toUpperCase()+t.slice(1)}function dJ(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function fJ(...t){return T.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{dJ(n,e)})},t)}function YD(t,e){const n=ve({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=ve({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=ve({},s),Object.keys(i).forEach(o=>{n[r][o]=YD(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function pJ(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const Nk=t=>t,mJ=()=>{let t=Nk;return{configure(e){t=e},generate(e){return t(e)},reset(){t=Nk}}},gJ=mJ(),vJ=gJ,yJ={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function KD(t,e,n="Mui"){const r=yJ[e];return r?`${n}-${r}`:`${vJ.generate(t)}-${e}`}function bJ(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=KD(t,i,n)}),r}function ZD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=ZD(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function xJ(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=ZD(t))&&(r&&(r+=" "),r+=e);return r}function QD(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var wJ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,_J=QD(function(t){return wJ.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function SJ(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function EJ(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var CJ=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(EJ(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=SJ(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),zn="-ms-",Eg="-moz-",pt="-webkit-",JD="comm",uE="rule",cE="decl",TJ="@import",e4="@keyframes",AJ=Math.abs,Tv=String.fromCharCode,PJ=Object.assign;function kJ(t,e){return Rn(t,0)^45?(((e<<2^Rn(t,0))<<2^Rn(t,1))<<2^Rn(t,2))<<2^Rn(t,3):0}function t4(t){return t.trim()}function OJ(t,e){return(t=e.exec(t))?t[0]:t}function gt(t,e,n){return t.replace(e,n)}function fw(t,e){return t.indexOf(e)}function Rn(t,e){return t.charCodeAt(e)|0}function _d(t,e,n){return t.slice(e,n)}function bs(t){return t.length}function hE(t){return t.length}function Dp(t,e){return e.push(t),t}function IJ(t,e){return t.map(e).join("")}var Av=1,nc=1,n4=0,vr=0,cn=0,xc="";function Pv(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Av,column:nc,length:o,return:""}}function oh(t,e){return PJ(Pv("",null,null,"",null,null,0),t,{length:-t.length},e)}function RJ(){return cn}function MJ(){return cn=vr>0?Rn(xc,--vr):0,nc--,cn===10&&(nc=1,Av--),cn}function Hr(){return cn=vr<n4?Rn(xc,vr++):0,nc++,cn===10&&(nc=1,Av++),cn}function Os(){return Rn(xc,vr)}function km(){return vr}function sf(t,e){return _d(xc,t,e)}function Sd(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function r4(t){return Av=nc=1,n4=bs(xc=t),vr=0,[]}function i4(t){return xc="",t}function Om(t){return t4(sf(vr-1,pw(t===91?t+2:t===40?t+1:t)))}function FJ(t){for(;(cn=Os())&&cn<33;)Hr();return Sd(t)>2||Sd(cn)>3?"":" "}function DJ(t,e){for(;--e&&Hr()&&!(cn<48||cn>102||cn>57&&cn<65||cn>70&&cn<97););return sf(t,km()+(e<6&&Os()==32&&Hr()==32))}function pw(t){for(;Hr();)switch(cn){case t:return vr;case 34:case 39:t!==34&&t!==39&&pw(cn);break;case 40:t===41&&pw(t);break;case 92:Hr();break}return vr}function LJ(t,e){for(;Hr()&&t+cn!==47+10;)if(t+cn===42+42&&Os()===47)break;return"/*"+sf(e,vr-1)+"*"+Tv(t===47?t:Hr())}function BJ(t){for(;!Sd(Os());)Hr();return sf(t,vr)}function NJ(t){return i4(Im("",null,null,null,[""],t=r4(t),0,[0],t))}function Im(t,e,n,r,i,s,o,a,l){for(var c=0,h=0,f=o,p=0,m=0,v=0,y=1,x=1,b=1,_=0,w="",E=i,O=s,A=r,F=w;x;)switch(v=_,_=Hr()){case 40:if(v!=108&&Rn(F,f-1)==58){fw(F+=gt(Om(_),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:F+=Om(_);break;case 9:case 10:case 13:case 32:F+=FJ(v);break;case 92:F+=DJ(km()-1,7);continue;case 47:switch(Os()){case 42:case 47:Dp($J(LJ(Hr(),km()),e,n),l);break;default:F+="/"}break;case 123*y:a[c++]=bs(F)*b;case 125*y:case 59:case 0:switch(_){case 0:case 125:x=0;case 59+h:m>0&&bs(F)-f&&Dp(m>32?Uk(F+";",r,n,f-1):Uk(gt(F," ","")+";",r,n,f-2),l);break;case 59:F+=";";default:if(Dp(A=$k(F,e,n,c,h,i,a,w,E=[],O=[],f),s),_===123)if(h===0)Im(F,e,A,A,E,s,f,a,O);else switch(p===99&&Rn(F,3)===110?100:p){case 100:case 109:case 115:Im(t,A,A,r&&Dp($k(t,A,A,0,0,i,a,w,i,E=[],f),O),i,O,f,a,r?E:O);break;default:Im(F,A,A,A,[""],O,0,a,O)}}c=h=m=0,y=b=1,w=F="",f=o;break;case 58:f=1+bs(F),m=v;default:if(y<1){if(_==123)--y;else if(_==125&&y++==0&&MJ()==125)continue}switch(F+=Tv(_),_*y){case 38:b=h>0?1:(F+="\f",-1);break;case 44:a[c++]=(bs(F)-1)*b,b=1;break;case 64:Os()===45&&(F+=Om(Hr())),p=Os(),h=f=bs(w=F+=BJ(km())),_++;break;case 45:v===45&&bs(F)==2&&(y=0)}}return s}function $k(t,e,n,r,i,s,o,a,l,c,h){for(var f=i-1,p=i===0?s:[""],m=hE(p),v=0,y=0,x=0;v<r;++v)for(var b=0,_=_d(t,f+1,f=AJ(y=o[v])),w=t;b<m;++b)(w=t4(y>0?p[b]+" "+_:gt(_,/&\f/g,p[b])))&&(l[x++]=w);return Pv(t,e,n,i===0?uE:a,l,c,h)}function $J(t,e,n){return Pv(t,e,n,JD,Tv(RJ()),_d(t,2,-2),0)}function Uk(t,e,n,r){return Pv(t,e,n,cE,_d(t,0,r),_d(t,r+1,-1),r)}function $u(t,e){for(var n="",r=hE(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function UJ(t,e,n,r){switch(t.type){case TJ:case cE:return t.return=t.return||t.value;case JD:return"";case e4:return t.return=t.value+"{"+$u(t.children,r)+"}";case uE:t.value=t.props.join(",")}return bs(n=$u(t.children,r))?t.return=t.value+"{"+n+"}":""}function zJ(t){var e=hE(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function HJ(t){return function(e){e.root||(e=e.return)&&t(e)}}var jJ=function(e,n,r){for(var i=0,s=0;i=s,s=Os(),i===38&&s===12&&(n[r]=1),!Sd(s);)Hr();return sf(e,vr)},WJ=function(e,n){var r=-1,i=44;do switch(Sd(i)){case 0:i===38&&Os()===12&&(n[r]=1),e[r]+=jJ(vr-1,n,r);break;case 2:e[r]+=Om(i);break;case 4:if(i===44){e[++r]=Os()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Tv(i)}while(i=Hr());return e},GJ=function(e,n){return i4(WJ(r4(e),n))},zk=new WeakMap,VJ=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!zk.get(r))&&!i){zk.set(e,!0);for(var s=[],o=GJ(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var h=0;h<a.length;h++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[h]):a[h]+" "+o[l]}}},qJ=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function s4(t,e){switch(kJ(t,e)){case 5103:return pt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return pt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return pt+t+Eg+t+zn+t+t;case 6828:case 4268:return pt+t+zn+t+t;case 6165:return pt+t+zn+"flex-"+t+t;case 5187:return pt+t+gt(t,/(\w+).+(:[^]+)/,pt+"box-$1$2"+zn+"flex-$1$2")+t;case 5443:return pt+t+zn+"flex-item-"+gt(t,/flex-|-self/,"")+t;case 4675:return pt+t+zn+"flex-line-pack"+gt(t,/align-content|flex-|-self/,"")+t;case 5548:return pt+t+zn+gt(t,"shrink","negative")+t;case 5292:return pt+t+zn+gt(t,"basis","preferred-size")+t;case 6060:return pt+"box-"+gt(t,"-grow","")+pt+t+zn+gt(t,"grow","positive")+t;case 4554:return pt+gt(t,/([^-])(transform)/g,"$1"+pt+"$2")+t;case 6187:return gt(gt(gt(t,/(zoom-|grab)/,pt+"$1"),/(image-set)/,pt+"$1"),t,"")+t;case 5495:case 3959:return gt(t,/(image-set\([^]*)/,pt+"$1$`$1");case 4968:return gt(gt(t,/(.+:)(flex-)?(.*)/,pt+"box-pack:$3"+zn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+pt+t+t;case 4095:case 3583:case 4068:case 2532:return gt(t,/(.+)-inline(.+)/,pt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(bs(t)-1-e>6)switch(Rn(t,e+1)){case 109:if(Rn(t,e+4)!==45)break;case 102:return gt(t,/(.+:)(.+)-([^]+)/,"$1"+pt+"$2-$3$1"+Eg+(Rn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~fw(t,"stretch")?s4(gt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Rn(t,e+1)!==115)break;case 6444:switch(Rn(t,bs(t)-3-(~fw(t,"!important")&&10))){case 107:return gt(t,":",":"+pt)+t;case 101:return gt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+pt+(Rn(t,14)===45?"inline-":"")+"box$3$1"+pt+"$2$3$1"+zn+"$2box$3")+t}break;case 5936:switch(Rn(t,e+11)){case 114:return pt+t+zn+gt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return pt+t+zn+gt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return pt+t+zn+gt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return pt+t+zn+t+t}return t}var XJ=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case cE:e.return=s4(e.value,e.length);break;case e4:return $u([oh(e,{value:gt(e.value,"@","@"+pt)})],i);case uE:if(e.length)return IJ(e.props,function(s){switch(OJ(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return $u([oh(e,{props:[gt(s,/:(read-\w+)/,":"+Eg+"$1")]})],i);case"::placeholder":return $u([oh(e,{props:[gt(s,/:(plac\w+)/,":"+pt+"input-$1")]}),oh(e,{props:[gt(s,/:(plac\w+)/,":"+Eg+"$1")]}),oh(e,{props:[gt(s,/:(plac\w+)/,zn+"input-$1")]})],i)}return""})}},YJ=[XJ],KJ=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var x=y.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||YJ,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var x=y.getAttribute("data-emotion").split(" "),b=1;b<x.length;b++)s[x[b]]=!0;a.push(y)});var l,c=[VJ,qJ];{var h,f=[UJ,HJ(function(y){h.insert(y)})],p=zJ(c.concat(i,f)),m=function(x){return $u(NJ(x),p)};l=function(x,b,_,w){h=_,m(x?x+"{"+b.styles+"}":b.styles),w&&(v.inserted[b.name]=!0)}}var v={key:n,sheet:new CJ({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return v.sheet.hydrate(a),v},mw={},ZJ={get exports(){return mw},set exports(t){mw=t}},wt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tn=typeof Symbol=="function"&&Symbol.for,dE=Tn?Symbol.for("react.element"):60103,fE=Tn?Symbol.for("react.portal"):60106,kv=Tn?Symbol.for("react.fragment"):60107,Ov=Tn?Symbol.for("react.strict_mode"):60108,Iv=Tn?Symbol.for("react.profiler"):60114,Rv=Tn?Symbol.for("react.provider"):60109,Mv=Tn?Symbol.for("react.context"):60110,pE=Tn?Symbol.for("react.async_mode"):60111,Fv=Tn?Symbol.for("react.concurrent_mode"):60111,Dv=Tn?Symbol.for("react.forward_ref"):60112,Lv=Tn?Symbol.for("react.suspense"):60113,QJ=Tn?Symbol.for("react.suspense_list"):60120,Bv=Tn?Symbol.for("react.memo"):60115,Nv=Tn?Symbol.for("react.lazy"):60116,JJ=Tn?Symbol.for("react.block"):60121,eee=Tn?Symbol.for("react.fundamental"):60117,tee=Tn?Symbol.for("react.responder"):60118,nee=Tn?Symbol.for("react.scope"):60119;function Yr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case dE:switch(t=t.type,t){case pE:case Fv:case kv:case Iv:case Ov:case Lv:return t;default:switch(t=t&&t.$$typeof,t){case Mv:case Dv:case Nv:case Bv:case Rv:return t;default:return e}}case fE:return e}}}function o4(t){return Yr(t)===Fv}wt.AsyncMode=pE;wt.ConcurrentMode=Fv;wt.ContextConsumer=Mv;wt.ContextProvider=Rv;wt.Element=dE;wt.ForwardRef=Dv;wt.Fragment=kv;wt.Lazy=Nv;wt.Memo=Bv;wt.Portal=fE;wt.Profiler=Iv;wt.StrictMode=Ov;wt.Suspense=Lv;wt.isAsyncMode=function(t){return o4(t)||Yr(t)===pE};wt.isConcurrentMode=o4;wt.isContextConsumer=function(t){return Yr(t)===Mv};wt.isContextProvider=function(t){return Yr(t)===Rv};wt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===dE};wt.isForwardRef=function(t){return Yr(t)===Dv};wt.isFragment=function(t){return Yr(t)===kv};wt.isLazy=function(t){return Yr(t)===Nv};wt.isMemo=function(t){return Yr(t)===Bv};wt.isPortal=function(t){return Yr(t)===fE};wt.isProfiler=function(t){return Yr(t)===Iv};wt.isStrictMode=function(t){return Yr(t)===Ov};wt.isSuspense=function(t){return Yr(t)===Lv};wt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===kv||t===Fv||t===Iv||t===Ov||t===Lv||t===QJ||typeof t=="object"&&t!==null&&(t.$$typeof===Nv||t.$$typeof===Bv||t.$$typeof===Rv||t.$$typeof===Mv||t.$$typeof===Dv||t.$$typeof===eee||t.$$typeof===tee||t.$$typeof===nee||t.$$typeof===JJ)};wt.typeOf=Yr;(function(t){t.exports=wt})(ZJ);var a4=mw,ree={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},iee={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l4={};l4[a4.ForwardRef]=ree;l4[a4.Memo]=iee;var see=!0;function u4(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var mE=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||see===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},c4=function(e,n,r){mE(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function oee(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var aee={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},lee=/[A-Z]|^ms/g,uee=/_EMO_([^_]+?)_([^]*?)_EMO_/g,h4=function(e){return e.charCodeAt(1)===45},Hk=function(e){return e!=null&&typeof e!="boolean"},C1=QD(function(t){return h4(t)?t:t.replace(lee,"-$&").toLowerCase()}),jk=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(uee,function(r,i,s){return xs={name:i,styles:s,next:xs},i})}return aee[e]!==1&&!h4(e)&&typeof n=="number"&&n!==0?n+"px":n};function Ed(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return xs={name:n.name,styles:n.styles,next:xs},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)xs={name:r.name,styles:r.styles,next:xs},r=r.next;var i=n.styles+";";return i}return cee(t,e,n)}case"function":{if(t!==void 0){var s=xs,o=n(t);return xs=s,Ed(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function cee(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ed(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":Hk(o)&&(r+=C1(s)+":"+jk(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)Hk(o[a])&&(r+=C1(s)+":"+jk(s,o[a])+";");else{var l=Ed(t,e,o);switch(s){case"animation":case"animationName":{r+=C1(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var Wk=/label:\s*([^\s;\n{]+)\s*(;|$)/g,xs,gE=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";xs=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Ed(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Ed(r,n,e[a]),i&&(s+=o[a]);Wk.lastIndex=0;for(var l="",c;(c=Wk.exec(s))!==null;)l+="-"+c[1];var h=oee(s)+l;return{name:h,styles:s,next:xs}},hee=function(e){return e()},dee=YA["useInsertionEffect"]?YA["useInsertionEffect"]:!1,d4=dee||hee,vE={}.hasOwnProperty,f4=T.createContext(typeof HTMLElement<"u"?KJ({key:"css"}):null);f4.Provider;var p4=function(e){return T.forwardRef(function(n,r){var i=T.useContext(f4);return e(n,i,r)})},m4=T.createContext({}),gw="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",fee=function(e,n){var r={};for(var i in n)vE.call(n,i)&&(r[i]=n[i]);return r[gw]=e,r},pee=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return mE(n,r,i),d4(function(){return c4(n,r,i)}),null},mee=p4(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[gw],s=[r],o="";typeof t.className=="string"?o=u4(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=gE(s,void 0,T.useContext(m4));o+=e.key+"-"+a.name;var l={};for(var c in t)vE.call(t,c)&&c!=="css"&&c!==gw&&(l[c]=t[c]);return l.ref=n,l.className=o,T.createElement(T.Fragment,null,T.createElement(pee,{cache:e,serialized:a,isStringTag:typeof i=="string"}),T.createElement(i,l))}),Le=function(e,n){var r=arguments;if(n==null||!vE.call(n,"css"))return T.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=mee,s[1]=fee(e,n);for(var o=2;o<i;o++)s[o]=r[o];return T.createElement.apply(null,s)};function yE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return gE(e)}var gee=function(){var e=yE.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},vee=_J,yee=function(e){return e!=="theme"},Gk=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?vee:yee},Vk=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},bee=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return mE(n,r,i),d4(function(){return c4(n,r,i)}),null},xee=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=Vk(e,n,r),l=a||Gk(i),c=!l("as");return function(){var h=arguments,f=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&f.push("label:"+s+";"),h[0]==null||h[0].raw===void 0)f.push.apply(f,h);else{f.push(h[0][0]);for(var p=h.length,m=1;m<p;m++)f.push(h[m],h[0][m])}var v=p4(function(y,x,b){var _=c&&y.as||i,w="",E=[],O=y;if(y.theme==null){O={};for(var A in y)O[A]=y[A];O.theme=T.useContext(m4)}typeof y.className=="string"?w=u4(x.registered,E,y.className):y.className!=null&&(w=y.className+" ");var F=gE(f.concat(E),x.registered,O);w+=x.key+"-"+F.name,o!==void 0&&(w+=" "+o);var L=c&&a===void 0?Gk(_):l,H={};for(var j in y)c&&j==="as"||L(j)&&(H[j]=y[j]);return H.className=w,H.ref=b,T.createElement(T.Fragment,null,T.createElement(bee,{cache:x,serialized:F,isStringTag:typeof _=="string"}),T.createElement(_,H))});return v.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",v.defaultProps=e.defaultProps,v.__emotion_real=v,v.__emotion_base=i,v.__emotion_styles=f,v.__emotion_forwardProp=a,Object.defineProperty(v,"toString",{value:function(){return"."+o}}),v.withComponent=function(y,x){return t(y,ve({},n,x,{shouldForwardProp:Vk(v,x,!0)})).apply(void 0,f)},v}};const wee=xee;var _ee=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],vw=wee.bind();_ee.forEach(function(t){vw[t]=vw(t)});const See=vw;/**
 * @mui/styled-engine v5.11.11
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Eee(t,e){return See(t,e)}const Cee=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))};function Xh(t,e){return e?vi(t,e,{clone:!1}):t}const bE={xs:0,sm:600,md:900,lg:1200,xl:1536},qk={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${bE[t]}px)`};function jr(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||qk;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||qk;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||bE).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function Tee(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function Aee(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Pee(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function Xk({values:t,breakpoints:e,base:n}){const r=n||Pee(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[s],s=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function $v(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Cg(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=$v(t,n)||r,e&&(i=e(i,r,t)),i}function yt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=$v(l,r)||{};return jr(o,a,f=>{let p=Cg(c,i,f);return f===p&&typeof f=="string"&&(p=Cg(c,i,`${e}${f==="default"?"":Nu(f)}`,f)),n===!1?p:{[n]:p}})};return s.propTypes={},s.filterProps=[e],s}function Uv(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?Xh(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function kee(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const Oee={m:"margin",p:"padding"},Iee={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Yk={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Ree=kee(t=>{if(t.length>2)if(Yk[t])t=Yk[t];else return[t];const[e,n]=t.split(""),r=Oee[e],i=Iee[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),xE=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],wE=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...xE,...wE];function of(t,e,n,r){var i;const s=(i=$v(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function _E(t){return of(t,"spacing",8)}function Qo(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function Mee(t,e){return n=>t.reduce((r,i)=>(r[i]=Qo(e,n),r),{})}function Fee(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=Ree(n),s=Mee(i,r),o=t[n];return jr(t,o,s)}function g4(t,e){const n=_E(t.theme);return Object.keys(t).map(r=>Fee(t,e,r,n)).reduce(Xh,{})}function Qt(t){return g4(t,xE)}Qt.propTypes={};Qt.filterProps=xE;function Jt(t){return g4(t,wE)}Jt.propTypes={};Jt.filterProps=wE;function Ss(t){return typeof t!="number"?t:`${t}px solid`}const Dee=yt({prop:"border",themeKey:"borders",transform:Ss}),Lee=yt({prop:"borderTop",themeKey:"borders",transform:Ss}),Bee=yt({prop:"borderRight",themeKey:"borders",transform:Ss}),Nee=yt({prop:"borderBottom",themeKey:"borders",transform:Ss}),$ee=yt({prop:"borderLeft",themeKey:"borders",transform:Ss}),Uee=yt({prop:"borderColor",themeKey:"palette"}),zee=yt({prop:"borderTopColor",themeKey:"palette"}),Hee=yt({prop:"borderRightColor",themeKey:"palette"}),jee=yt({prop:"borderBottomColor",themeKey:"palette"}),Wee=yt({prop:"borderLeftColor",themeKey:"palette"}),zv=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=of(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Qo(e,r)});return jr(t,t.borderRadius,n)}return null};zv.propTypes={};zv.filterProps=["borderRadius"];Uv(Dee,Lee,Bee,Nee,$ee,Uee,zee,Hee,jee,Wee,zv);const Hv=t=>{if(t.gap!==void 0&&t.gap!==null){const e=of(t.theme,"spacing",8),n=r=>({gap:Qo(e,r)});return jr(t,t.gap,n)}return null};Hv.propTypes={};Hv.filterProps=["gap"];const jv=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=of(t.theme,"spacing",8),n=r=>({columnGap:Qo(e,r)});return jr(t,t.columnGap,n)}return null};jv.propTypes={};jv.filterProps=["columnGap"];const Wv=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=of(t.theme,"spacing",8),n=r=>({rowGap:Qo(e,r)});return jr(t,t.rowGap,n)}return null};Wv.propTypes={};Wv.filterProps=["rowGap"];const Gee=yt({prop:"gridColumn"}),Vee=yt({prop:"gridRow"}),qee=yt({prop:"gridAutoFlow"}),Xee=yt({prop:"gridAutoColumns"}),Yee=yt({prop:"gridAutoRows"}),Kee=yt({prop:"gridTemplateColumns"}),Zee=yt({prop:"gridTemplateRows"}),Qee=yt({prop:"gridTemplateAreas"}),Jee=yt({prop:"gridArea"});Uv(Hv,jv,Wv,Gee,Vee,qee,Xee,Yee,Kee,Zee,Qee,Jee);function Uu(t,e){return e==="grey"?e:t}const ete=yt({prop:"color",themeKey:"palette",transform:Uu}),tte=yt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Uu}),nte=yt({prop:"backgroundColor",themeKey:"palette",transform:Uu});Uv(ete,tte,nte);function Fr(t){return t<=1&&t!==0?`${t*100}%`:t}const rte=yt({prop:"width",transform:Fr}),SE=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i,s;return{maxWidth:((r=t.theme)==null||(i=r.breakpoints)==null||(s=i.values)==null?void 0:s[n])||bE[n]||Fr(n)}};return jr(t,t.maxWidth,e)}return null};SE.filterProps=["maxWidth"];const ite=yt({prop:"minWidth",transform:Fr}),ste=yt({prop:"height",transform:Fr}),ote=yt({prop:"maxHeight",transform:Fr}),ate=yt({prop:"minHeight",transform:Fr});yt({prop:"size",cssProperty:"width",transform:Fr});yt({prop:"size",cssProperty:"height",transform:Fr});const lte=yt({prop:"boxSizing"});Uv(rte,SE,ite,ste,ote,ate,lte);const T1=t=>e=>{if(e[t]!==void 0&&e[t]!==null){const n=r=>{var i;let s=(i=e.theme.typography)==null?void 0:i[r];if(typeof s=="object"&&(s=null),!s){var o,a;s=(o=e.theme.typography)==null?void 0:o[`${t}${e[t]==="default"||e[t]===t?"":Nu((a=e[t])==null?void 0:a.toString())}`]}if(!s){var l,c,h;s=(l=(c=e.theme.typography)==null||(h=c[r])==null?void 0:h[t])!=null?l:r}return{[t]:s}};return jr(e,e[t],n)}return null},ute={border:{themeKey:"borders",transform:Ss},borderTop:{themeKey:"borders",transform:Ss},borderRight:{themeKey:"borders",transform:Ss},borderBottom:{themeKey:"borders",transform:Ss},borderLeft:{themeKey:"borders",transform:Ss},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:zv},color:{themeKey:"palette",transform:Uu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Uu},backgroundColor:{themeKey:"palette",transform:Uu},p:{style:Jt},pt:{style:Jt},pr:{style:Jt},pb:{style:Jt},pl:{style:Jt},px:{style:Jt},py:{style:Jt},padding:{style:Jt},paddingTop:{style:Jt},paddingRight:{style:Jt},paddingBottom:{style:Jt},paddingLeft:{style:Jt},paddingX:{style:Jt},paddingY:{style:Jt},paddingInline:{style:Jt},paddingInlineStart:{style:Jt},paddingInlineEnd:{style:Jt},paddingBlock:{style:Jt},paddingBlockStart:{style:Jt},paddingBlockEnd:{style:Jt},m:{style:Qt},mt:{style:Qt},mr:{style:Qt},mb:{style:Qt},ml:{style:Qt},mx:{style:Qt},my:{style:Qt},margin:{style:Qt},marginTop:{style:Qt},marginRight:{style:Qt},marginBottom:{style:Qt},marginLeft:{style:Qt},marginX:{style:Qt},marginY:{style:Qt},marginInline:{style:Qt},marginInlineStart:{style:Qt},marginInlineEnd:{style:Qt},marginBlock:{style:Qt},marginBlockStart:{style:Qt},marginBlockEnd:{style:Qt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Hv},rowGap:{style:Wv},columnGap:{style:jv},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Fr},maxWidth:{style:SE},minWidth:{transform:Fr},height:{transform:Fr},maxHeight:{transform:Fr},minHeight:{transform:Fr},boxSizing:{},fontFamily:{themeKey:"typography",style:T1("fontFamily")},fontSize:{themeKey:"typography",style:T1("fontSize")},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography",style:T1("fontWeight")},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},EE=ute;function cte(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function hte(t,e){return typeof t=="function"?t(e):t}function dte(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:h,style:f}=a;if(r==null)return null;const p=$v(i,c)||{};return f?f(o):jr(o,r,v=>{let y=Cg(p,h,v);return v===y&&typeof v=="string"&&(y=Cg(p,h,`${n}${v==="default"?"":Nu(v)}`,v)),l===!1?y:{[l]:y}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:EE;function a(l){let c=l;if(typeof l=="function")c=l(s);else if(typeof l!="object")return l;if(!c)return null;const h=Tee(s.breakpoints),f=Object.keys(h);let p=h;return Object.keys(c).forEach(m=>{const v=hte(c[m],s);if(v!=null)if(typeof v=="object")if(o[m])p=Xh(p,t(m,v,s,o));else{const y=jr({theme:s},v,x=>({[m]:x}));cte(y,v)?p[m]=e({sx:v,theme:s}):p=Xh(p,y)}else p=Xh(p,t(m,v,s,o))}),Aee(f,p)}return Array.isArray(i)?i.map(a):a(i)}return e}const v4=dte();v4.filterProps=["sx"];const CE=v4,fte=["values","unit","step"],pte=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>ve({},n,{[r.key]:r.val}),{})};function mte(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=zr(t,fte),s=pte(e),o=Object.keys(s);function a(p){return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${n})`}function l(p){return`@media (max-width:${(typeof e[p]=="number"?e[p]:p)-r/100}${n})`}function c(p,m){const v=o.indexOf(m);return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${n}) and (max-width:${(v!==-1&&typeof e[o[v]]=="number"?e[o[v]]:m)-r/100}${n})`}function h(p){return o.indexOf(p)+1<o.length?c(p,o[o.indexOf(p)+1]):a(p)}function f(p){const m=o.indexOf(p);return m===0?a(o[1]):m===o.length-1?l(o[m]):c(p,o[o.indexOf(p)+1]).replace("@media","@media not all and")}return ve({keys:o,values:s,up:a,down:l,between:c,only:h,not:f,unit:n},i)}const gte={borderRadius:4},vte=gte;function yte(t=8){if(t.mui)return t;const e=_E({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}const bte=["breakpoints","palette","spacing","shape"];function TE(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=zr(t,bte),a=mte(n),l=yte(i);let c=vi({breakpoints:a,direction:"ltr",components:{},palette:ve({mode:"light"},r),spacing:l,shape:ve({},vte,s)},o);return c=e.reduce((h,f)=>vi(h,f),c),c.unstable_sxConfig=ve({},EE,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(f){return CE({sx:f,theme:this})},c}const xte=T.createContext(null),wte=xte;function _te(){return T.useContext(wte)}function Ste(t){return Object.keys(t).length===0}function Ete(t=null){const e=_te();return!e||Ste(e)?t:e}const Cte=TE();function Tte(t=Cte){return Ete(t)}const Ate=["variant"];function Kk(t){return t.length===0}function y4(t){const{variant:e}=t,n=zr(t,Ate);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=Kk(r)?t[i]:Nu(t[i]):r+=`${Kk(r)?i:Nu(i)}${Nu(t[i].toString())}`}),r}const Pte=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],kte=["theme"],Ote=["theme"];function ah(t){return Object.keys(t).length===0}function Ite(t){return typeof t=="string"&&t.charCodeAt(0)>96}const Rte=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,Mte=(t,e)=>{let n=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants);const r={};return n.forEach(i=>{const s=y4(i.props);r[s]=i.style}),r},Fte=(t,e,n,r)=>{var i,s;const{ownerState:o={}}=t,a=[],l=n==null||(i=n.components)==null||(s=i[r])==null?void 0:s.variants;return l&&l.forEach(c=>{let h=!0;Object.keys(c.props).forEach(f=>{o[f]!==c.props[f]&&t[f]!==c.props[f]&&(h=!1)}),h&&a.push(e[y4(c.props)])}),a};function Rm(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Dte=TE();function Lte(t={}){const{defaultTheme:e=Dte,rootShouldForwardProp:n=Rm,slotShouldForwardProp:r=Rm}=t,i=s=>{const o=ah(s.theme)?e:s.theme;return CE(ve({},s,{theme:o}))};return i.__mui_systemSx=!0,(s,o={})=>{Cee(s,w=>w.filter(E=>!(E!=null&&E.__mui_systemSx)));const{name:a,slot:l,skipVariantsResolver:c,skipSx:h,overridesResolver:f}=o,p=zr(o,Pte),m=c!==void 0?c:l&&l!=="Root"||!1,v=h||!1;let y,x=Rm;l==="Root"?x=n:l?x=r:Ite(s)&&(x=void 0);const b=Eee(s,ve({shouldForwardProp:x,label:y},p)),_=(w,...E)=>{const O=E?E.map(H=>typeof H=="function"&&H.__emotion_real!==H?j=>{let{theme:z}=j,W=zr(j,kte);return H(ve({theme:ah(z)?e:z},W))}:H):[];let A=w;a&&f&&O.push(H=>{const j=ah(H.theme)?e:H.theme,z=Rte(a,j);if(z){const W={};return Object.entries(z).forEach(([q,Y])=>{W[q]=typeof Y=="function"?Y(ve({},H,{theme:j})):Y}),f(H,W)}return null}),a&&!m&&O.push(H=>{const j=ah(H.theme)?e:H.theme;return Fte(H,Mte(a,j),j,a)}),v||O.push(i);const F=O.length-E.length;if(Array.isArray(w)&&F>0){const H=new Array(F).fill("");A=[...w,...H],A.raw=[...w.raw,...H]}else typeof w=="function"&&w.__emotion_real!==w&&(A=H=>{let{theme:j}=H,z=zr(H,Ote);return w(ve({theme:ah(j)?e:j},z))});return b(A,...O)};return b.withConfig&&(_.withConfig=b.withConfig),_}}function Bte(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:YD(e.components[n].defaultProps,r)}function Nte({props:t,name:e,defaultTheme:n}){const r=Tte(n);return Bte({theme:r,name:e,props:t})}function b4(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function $te(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function rc(t){if(t.type)return t;if(t.charAt(0)==="#")return rc($te(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(tc(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(tc(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function AE(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function Ute(t){t=rc(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,h=(c+n/30)%12)=>i-s*Math.max(Math.min(h-3,9-h,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),AE({type:a,values:l})}function Zk(t){t=rc(t);let e=t.type==="hsl"||t.type==="hsla"?rc(Ute(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function zte(t,e){const n=Zk(t),r=Zk(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Hte(t,e){if(t=rc(t),e=b4(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return AE(t)}function jte(t,e){if(t=rc(t),e=b4(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return AE(t)}function Wte(t,e){return ve({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const Gte={black:"#000",white:"#fff"},Cd=Gte,Vte={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},qte=Vte,Xte={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},zl=Xte,Yte={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Hl=Yte,Kte={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},lh=Kte,Zte={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},jl=Zte,Qte={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Wl=Qte,Jte={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Gl=Jte,ene=["mode","contrastThreshold","tonalOffset"],Qk={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Cd.white,default:Cd.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},A1={text:{primary:Cd.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Cd.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Jk(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=jte(t.main,i):e==="dark"&&(t.dark=Hte(t.main,s)))}function tne(t="light"){return t==="dark"?{main:jl[200],light:jl[50],dark:jl[400]}:{main:jl[700],light:jl[400],dark:jl[800]}}function nne(t="light"){return t==="dark"?{main:zl[200],light:zl[50],dark:zl[400]}:{main:zl[500],light:zl[300],dark:zl[700]}}function rne(t="light"){return t==="dark"?{main:Hl[500],light:Hl[300],dark:Hl[700]}:{main:Hl[700],light:Hl[400],dark:Hl[800]}}function ine(t="light"){return t==="dark"?{main:Wl[400],light:Wl[300],dark:Wl[700]}:{main:Wl[700],light:Wl[500],dark:Wl[900]}}function sne(t="light"){return t==="dark"?{main:Gl[400],light:Gl[300],dark:Gl[700]}:{main:Gl[800],light:Gl[500],dark:Gl[900]}}function one(t="light"){return t==="dark"?{main:lh[400],light:lh[300],dark:lh[700]}:{main:"#ed6c02",light:lh[500],dark:lh[900]}}function ane(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=zr(t,ene),s=t.primary||tne(e),o=t.secondary||nne(e),a=t.error||rne(e),l=t.info||ine(e),c=t.success||sne(e),h=t.warning||one(e);function f(y){return zte(y,A1.text.primary)>=n?A1.text.primary:Qk.text.primary}const p=({color:y,name:x,mainShade:b=500,lightShade:_=300,darkShade:w=700})=>{if(y=ve({},y),!y.main&&y[b]&&(y.main=y[b]),!y.hasOwnProperty("main"))throw new Error(tc(11,x?` (${x})`:"",b));if(typeof y.main!="string")throw new Error(tc(12,x?` (${x})`:"",JSON.stringify(y.main)));return Jk(y,"light",_,r),Jk(y,"dark",w,r),y.contrastText||(y.contrastText=f(y.main)),y},m={dark:A1,light:Qk};return vi(ve({common:ve({},Cd),mode:e,primary:p({color:s,name:"primary"}),secondary:p({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:a,name:"error"}),warning:p({color:h,name:"warning"}),info:p({color:l,name:"info"}),success:p({color:c,name:"success"}),grey:qte,contrastThreshold:n,getContrastText:f,augmentColor:p,tonalOffset:r},m[e]),i)}const lne=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function une(t){return Math.round(t*1e5)/1e5}const eO={textTransform:"uppercase"},tO='"Roboto", "Helvetica", "Arial", sans-serif';function cne(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=tO,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:h,pxToRem:f}=n,p=zr(n,lne),m=i/14,v=f||(b=>`${b/c*m}rem`),y=(b,_,w,E,O)=>ve({fontFamily:r,fontWeight:b,fontSize:v(_),lineHeight:w},r===tO?{letterSpacing:`${une(E/_)}em`}:{},O,h),x={h1:y(s,96,1.167,-1.5),h2:y(s,60,1.2,-.5),h3:y(o,48,1.167,0),h4:y(o,34,1.235,.25),h5:y(o,24,1.334,0),h6:y(a,20,1.6,.15),subtitle1:y(o,16,1.75,.15),subtitle2:y(a,14,1.57,.1),body1:y(o,16,1.5,.15),body2:y(o,14,1.43,.15),button:y(a,14,1.75,.4,eO),caption:y(o,12,1.66,.4),overline:y(o,12,2.66,1,eO),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return vi(ve({htmlFontSize:c,pxToRem:v,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},x),p,{clone:!1})}const hne=.2,dne=.14,fne=.12;function Ut(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${hne})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${dne})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${fne})`].join(",")}const pne=["none",Ut(0,2,1,-1,0,1,1,0,0,1,3,0),Ut(0,3,1,-2,0,2,2,0,0,1,5,0),Ut(0,3,3,-2,0,3,4,0,0,1,8,0),Ut(0,2,4,-1,0,4,5,0,0,1,10,0),Ut(0,3,5,-1,0,5,8,0,0,1,14,0),Ut(0,3,5,-1,0,6,10,0,0,1,18,0),Ut(0,4,5,-2,0,7,10,1,0,2,16,1),Ut(0,5,5,-3,0,8,10,1,0,3,14,2),Ut(0,5,6,-3,0,9,12,1,0,3,16,2),Ut(0,6,6,-3,0,10,14,1,0,4,18,3),Ut(0,6,7,-4,0,11,15,1,0,4,20,3),Ut(0,7,8,-4,0,12,17,2,0,5,22,4),Ut(0,7,8,-4,0,13,19,2,0,5,24,4),Ut(0,7,9,-4,0,14,21,2,0,5,26,4),Ut(0,8,9,-5,0,15,22,2,0,6,28,5),Ut(0,8,10,-5,0,16,24,2,0,6,30,5),Ut(0,8,11,-5,0,17,26,2,0,6,32,5),Ut(0,9,11,-5,0,18,28,2,0,7,34,6),Ut(0,9,12,-6,0,19,29,2,0,7,36,6),Ut(0,10,13,-6,0,20,31,3,0,8,38,7),Ut(0,10,13,-6,0,21,33,3,0,8,40,7),Ut(0,10,14,-6,0,22,35,3,0,8,42,7),Ut(0,11,14,-7,0,23,36,3,0,9,44,8),Ut(0,11,15,-7,0,24,38,3,0,9,46,8)],mne=pne,gne=["duration","easing","delay"],vne={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},yne={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function nO(t){return`${Math.round(t)}ms`}function bne(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function xne(t){const e=ve({},vne,t.easing),n=ve({},yne,t.duration);return ve({getAutoHeightDuration:bne,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return zr(s,gne),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:nO(o)} ${a} ${typeof l=="string"?l:nO(l)}`).join(",")}},t,{easing:e,duration:n})}const wne={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},_ne=wne,Sne=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Ene(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=zr(t,Sne);if(t.vars)throw new Error(tc(18));const a=ane(r),l=TE(t);let c=vi(l,{mixins:Wte(l.breakpoints,n),palette:a,shadows:mne.slice(),typography:cne(a,s),transitions:xne(i),zIndex:ve({},_ne)});return c=vi(c,o),c=e.reduce((h,f)=>vi(h,f),c),c.unstable_sxConfig=ve({},EE,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(f){return CE({sx:f,theme:this})},c}const Cne=Ene(),x4=Cne;function Tne({props:t,name:e}){return Nte({props:t,name:e,defaultTheme:x4})}const Ane=t=>Rm(t)&&t!=="classes",Pne=Lte({defaultTheme:x4,rootShouldForwardProp:Ane}),kne=Pne;function One(t){return KD("MuiMasonry",t)}bJ("MuiMasonry",["root"]);const Ine=["children","className","component","columns","spacing","defaultColumns","defaultHeight","defaultSpacing"],Bo=t=>Number(t.replace("px","")),Rne={flexBasis:"100%",width:0,margin:0,padding:0},Mne=t=>{const{classes:e}=t;return pJ({root:["root"]},One,e)},Fne=({ownerState:t,theme:e})=>{let n={width:"100%",display:"flex",flexFlow:"column wrap",alignContent:"flex-start",boxSizing:"border-box","& > *":{boxSizing:"border-box"}};const r={};if(t.isSSR){const c={},h=Bo(e.spacing(t.defaultSpacing));for(let f=1;f<=t.defaultColumns;f+=1)c[`&:nth-of-type(${t.defaultColumns}n+${f%t.defaultColumns})`]={order:f};return r.height=t.defaultHeight,r.margin=-(h/2),r["& > *"]=ve({},n["& > *"],c,{margin:h/2,width:`calc(${(100/t.defaultColumns).toFixed(2)}% - ${h}px)`}),ve({},n,r)}const i=Xk({values:t.spacing,breakpoints:e.breakpoints.values}),s=_E(e);n=vi(n,jr({theme:e},i,c=>{let h;if(typeof c=="string"&&!Number.isNaN(Number(c))||typeof c=="number"){const f=Number(c);h=Qo(s,f)}else h=c;return ve({margin:`calc(0px - (${h} / 2))`,"& > *":{margin:`calc(${h} / 2)`}},t.maxColumnHeight&&{height:typeof h=="number"?Math.ceil(t.maxColumnHeight+Bo(h)):`calc(${t.maxColumnHeight}px + ${h})`})}));const a=Xk({values:t.columns,breakpoints:e.breakpoints.values});return n=vi(n,jr({theme:e},a,c=>{const f=`${(100/Number(c)).toFixed(2)}%`,p=typeof i=="string"&&!Number.isNaN(Number(i))||typeof i=="number"?Qo(s,Number(i)):"0px";return{"& > *":{width:`calc(${f} - ${p})`}}})),typeof i=="object"&&(n=vi(n,jr({theme:e},i,(c,h)=>{if(h){const f=Number(c),p=Object.keys(a).pop(),m=Qo(s,f);return{"& > *":{width:`calc(${`${(100/(typeof a=="object"?a[h]||a[p]:a)).toFixed(2)}%`} - ${m})`}}}return null}))),n},Dne=kne("div",{name:"MuiMasonry",slot:"Root",overridesResolver:(t,e)=>[e.root]})(Fne),Lne=T.forwardRef(function(e,n){const r=Tne({props:e,name:"MuiMasonry"}),{children:i,className:s,component:o="div",columns:a=4,spacing:l=1,defaultColumns:c,defaultHeight:h,defaultSpacing:f}=r,p=zr(r,Ine),m=T.useRef(),[v,y]=T.useState(),x=!v&&h&&c!==void 0&&f!==void 0,[b,_]=T.useState(x?c-1:0),w=ve({},r,{spacing:l,columns:a,maxColumnHeight:v,defaultColumns:c,defaultHeight:h,defaultSpacing:f,isSSR:x}),E=Mne(w),O=H=>{if(!m.current||!H||H.length===0)return;const j=m.current,z=m.current.firstChild,W=j.clientWidth,q=z.clientWidth;if(W===0||q===0)return;const Y=window.getComputedStyle(z),de=Bo(Y.marginLeft),ce=Bo(Y.marginRight),te=Math.round(W/(q+de+ce)),Z=new Array(te).fill(0);let le=!1;j.childNodes.forEach(G=>{if(G.nodeType!==Node.ELEMENT_NODE||G.dataset.class==="line-break"||le)return;const R=window.getComputedStyle(G),D=Bo(R.marginTop),Q=Bo(R.marginBottom),K=Bo(R.height)?Math.ceil(Bo(R.height))+D+Q:0;if(K===0){le=!0;return}for(let $=0;$<G.childNodes.length;$+=1){const ne=G.childNodes[$];if(ne.tagName==="IMG"&&ne.clientHeight===0){le=!0;break}}if(!le){const $=Z.indexOf(Math.min(...Z));Z[$]+=K;const ne=$+1;G.style.order=ne}}),le||Qh.flushSync(()=>{y(Math.max(...Z)),_(te>0?te-1:0)})},A=T.useRef(typeof ResizeObserver>"u"?void 0:new ResizeObserver(O));T.useEffect(()=>{const H=A.current;if(H!==void 0)return m.current&&m.current.childNodes.forEach(j=>{H.observe(j)}),()=>H?H.disconnect():{}},[a,l,i]);const F=fJ(n,m),L=new Array(b).fill("").map((H,j)=>k("span",{"data-class":"line-break",style:ve({},Rne,{order:j+1})},j));return ee(Dne,ve({as:o,className:xJ(E.root,s),ref:F,ownerState:w},p,{children:[i,L]}))}),yw=Lne,Jn=T.createContext({});function Bne(){const t=window.localStorage.getItem("dragon-abilities");return t?JSON.parse(t):[]}function Nne(){const t=window.localStorage.getItem("dragon-ability-types");return t?JSON.parse(t):[]}function $ne(){const t=window.localStorage.getItem("dragon-global-params");return t?JSON.parse(t):[]}const Une=(t,e)=>{const{targetId:n,index:r,param:i,params:s,type:o}=e;let a=ut(t);if(o==="save")try{window.localStorage.setItem("dragon-global-params",JSON.stringify(a))}catch{}if(o==="add")return a=[...a,i],a;if(o==="set")return a=s,window.localStorage.setItem("dragon-global-params",JSON.stringify(a)),a;if(o==="update")return a=ze(a,l=>l.id===n?i:l),a;if(o==="remove"){const l=t.findIndex(h=>h.id===i.id);if(l<0)return t;const c=[...t];return c.splice(l,1),c}return t},zne=(t,e)=>{const{targetId:n,index:r,ability:i,abilities:s,type:o}=e;let a=ut(t);if(o==="save")try{window.localStorage.setItem("dragon-abilities",JSON.stringify(a))}catch{}if(o==="add")return a=[...a,i],a;if(o==="set")return a=s,window.localStorage.setItem("dragon-abilities",JSON.stringify(a)),a;if(o==="update")return a=ze(a,l=>l.id===n?i:l),a;if(o==="remove"){const l=t.findIndex(h=>h.id===i.id);if(l<0)return t;const c=[...t];return c.splice(l,1),c}return t},Hne=(t,e)=>{const{index:n,abilityType:r,abilityTypes:i,type:s}=e;let o=ut(t);if(s==="save")try{window.localStorage.setItem("dragon-ability-types",JSON.stringify(o))}catch{}if(s==="add")return o=[...o,r],o;if(s==="set")return o=i,window.localStorage.setItem("dragon-ability-types",JSON.stringify(o)),o;if(s==="update")return o[n]=r,o;if(s==="remove"){const a=t.findIndex(c=>c.id===r.id);if(a<0)return t;const l=[...t];return l.splice(a,1),l}return t},jne=({children:t})=>{const[e,n]=T.useReducer(zne,Bne()),[r,i]=T.useReducer(Hne,Nne()),[s,o]=T.useReducer(Une,$ne());return k(Jn.Provider,{value:{abilities:e,setAbilities:n,abilityTypes:r,setAbilityTypes:i,globalParams:s,setGlobalParams:o},children:t})},af=T.createContext({});function Wne(){const t=window.localStorage.getItem("dragon-stats");return t?JSON.parse(t):[]}const Gne=(t,e)=>{const{index:n,stat:r,stats:i,type:s}=e;let o=ut(t);if(s==="save")try{window.localStorage.setItem("dragon-stats",JSON.stringify(o))}catch{}if(s==="add")return o=[...o,r],o;if(s==="set")return o=i,window.localStorage.setItem("dragon-stats",JSON.stringify(o)),o;if(s==="update")return o[n]=r,o;if(s==="remove"){const a=t.findIndex(c=>c.id===r.id);if(a<0)return t;const l=[...t];return l.splice(a,1),l}return t},Vne=({children:t})=>{const[e,n]=T.useReducer(Gne,Wne());return k(af.Provider,{value:{stats:e,setStats:n},children:t})};var bw={},qne={get exports(){return bw},set exports(t){bw=t}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(qne);const co=bw;function vn({children:t,name:e,startOpen:n,disabled:r=!1}){const[i,s]=T.useState(n),o=a=>{r||s(!i)};return i?ee("div",{className:co({accordion:!0,open:!0,disabled:r}),children:[ee("button",{className:"accordion-button",onClick:o,children:[e,k(WD,{})]}),k("div",{className:"container",children:t})]}):k("div",{className:co({accordion:!0,closed:!0,disabled:r}),children:ee("button",{className:"accordion-button",onClick:o,children:[e,k("span",{className:"icon",children:k(jD,{})})]})})}const rO=["http","https","mailto","tel"];function Xne(t){const e=(t||"").trim(),n=e.charAt(0);if(n==="#"||n==="/")return e;const r=e.indexOf(":");if(r===-1)return e;let i=-1;for(;++i<rO.length;){const s=rO[i];if(r===s.length&&e.slice(0,s.length).toLowerCase()===s)return e}return i=e.indexOf("?"),i!==-1&&r>i||(i=e.indexOf("#"),i!==-1&&r>i)?e:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Yne=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)};const w4=Yne;function Yh(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?iO(t.position):"start"in t||"end"in t?iO(t):"line"in t||"column"in t?xw(t):""}function xw(t){return sO(t&&t.line)+":"+sO(t&&t.column)}function iO(t){return xw(t&&t.start)+"-"+xw(t&&t.end)}function sO(t){return t&&typeof t=="number"?t:1}class Ei extends Error{constructor(e,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=Yh(n)||"1:1",this.message=typeof e=="object"?e.message:e,this.stack="",typeof e=="object"&&e.stack&&(this.stack=e.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}Ei.prototype.file="";Ei.prototype.name="";Ei.prototype.reason="";Ei.prototype.message="";Ei.prototype.stack="";Ei.prototype.fatal=null;Ei.prototype.column=null;Ei.prototype.line=null;Ei.prototype.source=null;Ei.prototype.ruleId=null;Ei.prototype.position=null;const ys={basename:Kne,dirname:Zne,extname:Qne,join:Jne,sep:"/"};function Kne(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');lf(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.charCodeAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.charCodeAt(i)===e.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function Zne(t){if(lf(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.charCodeAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.charCodeAt(0)===47?"/":".":e===1&&t.charCodeAt(0)===47?"//":t.slice(0,e)}function Qne(t){lf(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const a=t.charCodeAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function Jne(...t){let e=-1,n;for(;++e<t.length;)lf(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":ere(n)}function ere(t){lf(t);const e=t.charCodeAt(0)===47;let n=tre(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.charCodeAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function tre(t,e){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=t.length;){if(o<t.length)a=t.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function lf(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const nre={cwd:rre};function rre(){return"/"}function ww(t){return t!==null&&typeof t=="object"&&t.href&&t.origin}function ire(t){if(typeof t=="string")t=new URL(t);else if(!ww(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return sre(t)}function sre(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.charCodeAt(n)===37&&e.charCodeAt(n+1)===50){const r=e.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const P1=["history","path","basename","stem","extname","dirname"];class _4{constructor(e){let n;e?typeof e=="string"||ore(e)?n={value:e}:ww(e)?n={path:e}:n=e:n={},this.data={},this.messages=[],this.history=[],this.cwd=nre.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<P1.length;){const s=P1[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)P1.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(e){ww(e)&&(e=ire(e)),O1(e,"path"),this.path!==e&&this.history.push(e)}get dirname(){return typeof this.path=="string"?ys.dirname(this.path):void 0}set dirname(e){oO(this.basename,"dirname"),this.path=ys.join(e||"",this.basename)}get basename(){return typeof this.path=="string"?ys.basename(this.path):void 0}set basename(e){O1(e,"basename"),k1(e,"basename"),this.path=ys.join(this.dirname||"",e)}get extname(){return typeof this.path=="string"?ys.extname(this.path):void 0}set extname(e){if(k1(e,"extname"),oO(this.dirname,"extname"),e){if(e.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ys.join(this.dirname,this.stem+(e||""))}get stem(){return typeof this.path=="string"?ys.basename(this.path,this.extname):void 0}set stem(e){O1(e,"stem"),k1(e,"stem"),this.path=ys.join(this.dirname||"",e+(this.extname||""))}toString(e){return(this.value||"").toString(e||void 0)}message(e,n,r){const i=new Ei(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=null,i}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}}function k1(t,e){if(t&&t.includes(ys.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ys.sep+"`")}function O1(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function oO(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function ore(t){return w4(t)}function aO(t){if(t)throw t}var Mm=Object.prototype.hasOwnProperty,S4=Object.prototype.toString,lO=Object.defineProperty,uO=Object.getOwnPropertyDescriptor,cO=function(e){return typeof Array.isArray=="function"?Array.isArray(e):S4.call(e)==="[object Array]"},hO=function(e){if(!e||S4.call(e)!=="[object Object]")return!1;var n=Mm.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Mm.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||Mm.call(e,i)},dO=function(e,n){lO&&n.name==="__proto__"?lO(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},fO=function(e,n){if(n==="__proto__")if(Mm.call(e,n)){if(uO)return uO(e,n).value}else return;return e[n]},pO=function t(){var e,n,r,i,s,o,a=arguments[0],l=1,c=arguments.length,h=!1;for(typeof a=="boolean"&&(h=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<c;++l)if(e=arguments[l],e!=null)for(n in e)r=fO(a,n),i=fO(e,n),a!==i&&(h&&i&&(hO(i)||(s=cO(i)))?(s?(s=!1,o=r&&cO(r)?r:[]):o=r&&hO(r)?r:{},dO(a,{name:n,newValue:t(h,o,i)})):typeof i<"u"&&dO(a,{name:n,newValue:i}));return a};function _w(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function are(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...c){const h=t[++s];let f=-1;if(l){o(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,h?lre(h,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function lre(t,e){let n;return r;function r(...o){const a=t.length>o.length;let l;a&&o.push(i);try{l=t.apply(this,o)}catch(c){const h=c;if(a&&n)throw h;return i(h)}a||(l instanceof Promise?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,e(o,...a))}function s(o){i(null,o)}}const ure=C4().freeze(),E4={}.hasOwnProperty;function C4(){const t=are(),e=[];let n={},r,i=-1;return s.data=o,s.Parser=void 0,s.Compiler=void 0,s.freeze=a,s.attachers=e,s.use=l,s.parse=c,s.stringify=h,s.run=f,s.runSync=p,s.process=m,s.processSync=v,s;function s(){const y=C4();let x=-1;for(;++x<e.length;)y.use(...e[x]);return y.data(pO(!0,{},n)),y}function o(y,x){return typeof y=="string"?arguments.length===2?(M1("data",r),n[y]=x,s):E4.call(n,y)&&n[y]||null:y?(M1("data",r),n=y,s):n}function a(){if(r)return s;for(;++i<e.length;){const[y,...x]=e[i];if(x[0]===!1)continue;x[0]===!0&&(x[0]=void 0);const b=y.call(s,...x);typeof b=="function"&&t.use(b)}return r=!0,i=Number.POSITIVE_INFINITY,s}function l(y,...x){let b;if(M1("use",r),y!=null)if(typeof y=="function")O(y,...x);else if(typeof y=="object")Array.isArray(y)?E(y):w(y);else throw new TypeError("Expected usable value, not `"+y+"`");return b&&(n.settings=Object.assign(n.settings||{},b)),s;function _(A){if(typeof A=="function")O(A);else if(typeof A=="object")if(Array.isArray(A)){const[F,...L]=A;O(F,...L)}else w(A);else throw new TypeError("Expected usable value, not `"+A+"`")}function w(A){E(A.plugins),A.settings&&(b=Object.assign(b||{},A.settings))}function E(A){let F=-1;if(A!=null)if(Array.isArray(A))for(;++F<A.length;){const L=A[F];_(L)}else throw new TypeError("Expected a list of plugins, not `"+A+"`")}function O(A,F){let L=-1,H;for(;++L<e.length;)if(e[L][0]===A){H=e[L];break}H?(_w(H[1])&&_w(F)&&(F=pO(!0,H[1],F)),H[1]=F):e.push([...arguments])}}function c(y){s.freeze();const x=uh(y),b=s.Parser;return I1("parse",b),mO(b,"parse")?new b(String(x),x).parse():b(String(x),x)}function h(y,x){s.freeze();const b=uh(x),_=s.Compiler;return R1("stringify",_),gO(y),mO(_,"compile")?new _(y,b).compile():_(y,b)}function f(y,x,b){if(gO(y),s.freeze(),!b&&typeof x=="function"&&(b=x,x=void 0),!b)return new Promise(_);_(null,b);function _(w,E){t.run(y,uh(x),O);function O(A,F,L){F=F||y,A?E(A):w?w(F):b(null,F,L)}}}function p(y,x){let b,_;return s.run(y,x,w),vO("runSync","run",_),b;function w(E,O){aO(E),b=O,_=!0}}function m(y,x){if(s.freeze(),I1("process",s.Parser),R1("process",s.Compiler),!x)return new Promise(b);b(null,x);function b(_,w){const E=uh(y);s.run(s.parse(E),E,(A,F,L)=>{if(A||!F||!L)O(A);else{const H=s.stringify(F,L);H==null||(dre(H)?L.value=H:L.result=H),O(A,L)}});function O(A,F){A||!F?w(A):_?_(F):x(null,F)}}}function v(y){let x;s.freeze(),I1("processSync",s.Parser),R1("processSync",s.Compiler);const b=uh(y);return s.process(b,_),vO("processSync","process",x),b;function _(w){x=!0,aO(w)}}}function mO(t,e){return typeof t=="function"&&t.prototype&&(cre(t.prototype)||e in t.prototype)}function cre(t){let e;for(e in t)if(E4.call(t,e))return!0;return!1}function I1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `Parser`")}function R1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `Compiler`")}function M1(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function gO(t){if(!_w(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function vO(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function uh(t){return hre(t)?t:new _4(t)}function hre(t){return Boolean(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function dre(t){return typeof t=="string"||w4(t)}function fre(t,e){const n=(e||{}).includeImageAlt;return T4(t,typeof n=="boolean"?n:!0)}function T4(t,e){return pre(t)&&("value"in t&&t.value||e&&"alt"in t&&t.alt||"children"in t&&yO(t.children,e))||Array.isArray(t)&&yO(t,e)||""}function yO(t,e){const n=[];let r=-1;for(;++r<t.length;)n[r]=T4(t[r],e);return n.join("")}function pre(t){return Boolean(t&&typeof t=="object")}function Ms(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),[].splice.apply(t,o);else for(n&&[].splice.apply(t,[e,n]);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),[].splice.apply(t,o),s+=1e4,e+=1e4}function ci(t,e){return t.length>0?(Ms(t,t.length,0,e),t):e}const bO={}.hasOwnProperty;function mre(t){const e={};let n=-1;for(;++n<t.length;)gre(e,t[n]);return e}function gre(t,e){let n;for(n in e){const i=(bO.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;for(o in s){bO.call(i,o)||(i[o]=[]);const a=s[o];vre(i[o],Array.isArray(a)?a:a?[a]:[])}}}function vre(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Ms(t,0,0,r)}const yre=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Es=fa(/[A-Za-z]/),Sw=fa(/\d/),bre=fa(/[\dA-Fa-f]/),Lr=fa(/[\dA-Za-z]/),xre=fa(/[!-/:-@[-`{-~]/),xO=fa(/[#-'*+\--9=?A-Z^-~]/);function Ew(t){return t!==null&&(t<32||t===127)}function yi(t){return t!==null&&(t<0||t===32)}function je(t){return t!==null&&t<-2}function hn(t){return t===-2||t===-1||t===32}const wre=fa(/\s/),_re=fa(yre);function fa(t){return e;function e(n){return n!==null&&t.test(String.fromCharCode(n))}}function Ct(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return hn(l)?(t.enter(n),a(l)):e(l)}function a(l){return hn(l)&&s++<i?(t.consume(l),a):(t.exit(n),e(l))}}const Sre={tokenize:Ere};function Ere(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Ct(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return je(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const Cre={tokenize:Tre},wO={tokenize:Are};function Tre(t){const e=this,n=[];let r=0,i,s,o;return a;function a(w){if(r<n.length){const E=n[r];return e.containerState=E[1],t.attempt(E[0].continuation,l,c)(w)}return c(w)}function l(w){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&_();const E=e.events.length;let O=E,A;for(;O--;)if(e.events[O][0]==="exit"&&e.events[O][1].type==="chunkFlow"){A=e.events[O][1].end;break}b(r);let F=E;for(;F<e.events.length;)e.events[F][1].end=Object.assign({},A),F++;return Ms(e.events,O+1,0,e.events.slice(E)),e.events.length=F,c(w)}return a(w)}function c(w){if(r===n.length){if(!i)return p(w);if(i.currentConstruct&&i.currentConstruct.concrete)return v(w);e.interrupt=Boolean(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(wO,h,f)(w)}function h(w){return i&&_(),b(r),p(w)}function f(w){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,v(w)}function p(w){return e.containerState={},t.attempt(wO,m,v)(w)}function m(w){return r++,n.push([e.currentConstruct,e.containerState]),p(w)}function v(w){if(w===null){i&&_(),b(0),t.consume(w);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),y(w)}function y(w){if(w===null){x(t.exit("chunkFlow"),!0),b(0),t.consume(w);return}return je(w)?(t.consume(w),x(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(w),y)}function x(w,E){const O=e.sliceStream(w);if(E&&O.push(null),w.previous=s,s&&(s.next=w),s=w,i.defineSkip(w.start),i.write(O),e.parser.lazy[w.start.line]){let A=i.events.length;for(;A--;)if(i.events[A][1].start.offset<o&&(!i.events[A][1].end||i.events[A][1].end.offset>o))return;const F=e.events.length;let L=F,H,j;for(;L--;)if(e.events[L][0]==="exit"&&e.events[L][1].type==="chunkFlow"){if(H){j=e.events[L][1].end;break}H=!0}for(b(r),A=F;A<e.events.length;)e.events[A][1].end=Object.assign({},j),A++;Ms(e.events,L+1,0,e.events.slice(F)),e.events.length=A}}function b(w){let E=n.length;for(;E-- >w;){const O=n[E];e.containerState=O[1],O[0].exit.call(e,t)}n.length=w}function _(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function Are(t,e,n){return Ct(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function _O(t){if(t===null||yi(t)||wre(t))return 1;if(_re(t))return 2}function PE(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const Cw={name:"attention",tokenize:kre,resolveAll:Pre};function Pre(t,e){let n=-1,r,i,s,o,a,l,c,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f=Object.assign({},t[r][1].end),p=Object.assign({},t[n][1].start);SO(f,-l),SO(p,l),o={type:l>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},t[r][1].end)},a={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:p},s={type:l>1?"strongText":"emphasisText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},t[r][1].end=Object.assign({},o.start),t[n][1].start=Object.assign({},a.end),c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=ci(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=ci(c,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),c=ci(c,PE(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=ci(c,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,c=ci(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,Ms(t,r-1,n-r+3,c),n=r+c.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function kre(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=_O(r);let s;return o;function o(l){return t.enter("attentionSequence"),s=l,a(l)}function a(l){if(l===s)return t.consume(l),a;const c=t.exit("attentionSequence"),h=_O(l),f=!h||h===2&&i||n.includes(l),p=!i||i===2&&h||n.includes(r);return c._open=Boolean(s===42?f:f&&(i||!p)),c._close=Boolean(s===42?p:p&&(h||!f)),e(l)}}function SO(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Ore={name:"autolink",tokenize:Ire};function Ire(t,e,n){let r=1;return i;function i(v){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(v){return Es(v)?(t.consume(v),o):xO(v)?c(v):n(v)}function o(v){return v===43||v===45||v===46||Lr(v)?a(v):c(v)}function a(v){return v===58?(t.consume(v),l):(v===43||v===45||v===46||Lr(v))&&r++<32?(t.consume(v),a):c(v)}function l(v){return v===62?(t.exit("autolinkProtocol"),m(v)):v===null||v===32||v===60||Ew(v)?n(v):(t.consume(v),l)}function c(v){return v===64?(t.consume(v),r=0,h):xO(v)?(t.consume(v),c):n(v)}function h(v){return Lr(v)?f(v):n(v)}function f(v){return v===46?(t.consume(v),r=0,h):v===62?(t.exit("autolinkProtocol").type="autolinkEmail",m(v)):p(v)}function p(v){return(v===45||Lr(v))&&r++<63?(t.consume(v),v===45?p:f):n(v)}function m(v){return t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),e}}const Gv={tokenize:Rre,partial:!0};function Rre(t,e,n){return Ct(t,r,"linePrefix");function r(i){return i===null||je(i)?e(i):n(i)}}const A4={name:"blockQuote",tokenize:Mre,continuation:{tokenize:Fre},exit:Dre};function Mre(t,e,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return hn(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function Fre(t,e,n){return Ct(t,t.attempt(A4,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Dre(t){t.exit("blockQuote")}const P4={name:"characterEscape",tokenize:Lre};function Lre(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return xre(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const EO=document.createElement("i");function kE(t){const e="&"+t+";";EO.innerHTML=e;const n=EO.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}const k4={name:"characterReference",tokenize:Bre};function Bre(t,e,n){const r=this;let i=0,s,o;return a;function a(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),l}function l(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),s=31,o=Lr,h(f))}function c(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=bre,h):(t.enter("characterReferenceValue"),s=7,o=Sw,h(f))}function h(f){let p;return f===59&&i?(p=t.exit("characterReferenceValue"),o===Lr&&!kE(r.sliceSerialize(p))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)):o(f)&&i++<s?(t.consume(f),h):n(f)}}const CO={name:"codeFenced",tokenize:Nre,concrete:!0};function Nre(t,e,n){const r=this,i={tokenize:O,partial:!0},s={tokenize:E,partial:!0},o=this.events[this.events.length-1],a=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0;let l=0,c;return h;function h(A){return t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),c=A,f(A)}function f(A){return A===c?(t.consume(A),l++,f):(t.exit("codeFencedFenceSequence"),l<3?n(A):Ct(t,p,"whitespace")(A))}function p(A){return A===null||je(A)?x(A):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),m(A))}function m(A){return A===null||yi(A)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Ct(t,v,"whitespace")(A)):A===96&&A===c?n(A):(t.consume(A),m)}function v(A){return A===null||je(A)?x(A):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),y(A))}function y(A){return A===null||je(A)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),x(A)):A===96&&A===c?n(A):(t.consume(A),y)}function x(A){return t.exit("codeFencedFence"),r.interrupt?e(A):b(A)}function b(A){return A===null?w(A):je(A)?t.attempt(s,t.attempt(i,w,a?Ct(t,b,"linePrefix",a+1):b),w)(A):(t.enter("codeFlowValue"),_(A))}function _(A){return A===null||je(A)?(t.exit("codeFlowValue"),b(A)):(t.consume(A),_)}function w(A){return t.exit("codeFenced"),e(A)}function E(A,F,L){const H=this;return j;function j(W){return A.enter("lineEnding"),A.consume(W),A.exit("lineEnding"),z}function z(W){return H.parser.lazy[H.now().line]?L(W):F(W)}}function O(A,F,L){let H=0;return Ct(A,j,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function j(q){return A.enter("codeFencedFence"),A.enter("codeFencedFenceSequence"),z(q)}function z(q){return q===c?(A.consume(q),H++,z):H<l?L(q):(A.exit("codeFencedFenceSequence"),Ct(A,W,"whitespace")(q))}function W(q){return q===null||je(q)?(A.exit("codeFencedFence"),F(q)):L(q)}}}const F1={name:"codeIndented",tokenize:Ure},$re={tokenize:zre,partial:!0};function Ure(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),Ct(t,s,"linePrefix",4+1)(c)}function s(c){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):je(c)?t.attempt($re,o,l)(c):(t.enter("codeFlowValue"),a(c))}function a(c){return c===null||je(c)?(t.exit("codeFlowValue"),o(c)):(t.consume(c),a)}function l(c){return t.exit("codeIndented"),e(c)}}function zre(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):je(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):Ct(t,s,"linePrefix",4+1)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):je(o)?i(o):n(o)}}const Hre={name:"codeText",tokenize:Gre,resolve:jre,previous:Wre};function jre(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function Wre(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Gre(t,e,n){let r=0,i,s;return o;function o(f){return t.enter("codeText"),t.enter("codeTextSequence"),a(f)}function a(f){return f===96?(t.consume(f),r++,a):(t.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===96?(s=t.enter("codeTextSequence"),i=0,h(f)):f===32?(t.enter("space"),t.consume(f),t.exit("space"),l):je(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||je(f)?(t.exit("codeTextData"),l(f)):(t.consume(f),c)}function h(f){return f===96?(t.consume(f),i++,h):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(s.type="codeTextData",c(f))}}function O4(t){const e={};let n=-1,r,i,s,o,a,l,c;for(;++n<t.length;){for(;n in e;)n=e[n];if(r=t[n],n&&r[1].type==="chunkFlow"&&t[n-1][1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Vre(t,n)),n=e[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=t[s],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(t[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},t[i][1].start),a=t.slice(i,n),a.unshift(r),Ms(t,i,n-i+1,a))}}return!c}function Vre(t,e){const n=t[e][1],r=t[e][2];let i=e-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,l=[],c={};let h,f,p=-1,m=n,v=0,y=0;const x=[y];for(;m;){for(;t[++i][1]!==m;);s.push(i),m._tokenizer||(h=r.sliceStream(m),m.next||h.push(null),f&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(h),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++p<a.length;)a[p][0]==="exit"&&a[p-1][0]==="enter"&&a[p][1].type===a[p-1][1].type&&a[p][1].start.line!==a[p][1].end.line&&(y=p+1,x.push(y),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):x.pop(),p=x.length;p--;){const b=a.slice(x[p],x[p+1]),_=s.pop();l.unshift([_,_+b.length-1]),Ms(t,_,2,b)}for(p=-1;++p<l.length;)c[v+l[p][0]]=v+l[p][1],v+=l[p][1]-l[p][0]-1;return c}const qre={tokenize:Kre,resolve:Yre},Xre={tokenize:Zre,partial:!0};function Yre(t){return O4(t),t}function Kre(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):je(a)?t.check(Xre,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Zre(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Ct(t,s,"linePrefix")}function s(o){if(o===null||je(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function I4(t,e,n,r,i,s,o,a,l){const c=l||Number.POSITIVE_INFINITY;let h=0;return f;function f(b){return b===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(b),t.exit(s),p):b===null||b===41||Ew(b)?n(b):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),y(b))}function p(b){return b===62?(t.enter(s),t.consume(b),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),m(b))}function m(b){return b===62?(t.exit("chunkString"),t.exit(a),p(b)):b===null||b===60||je(b)?n(b):(t.consume(b),b===92?v:m)}function v(b){return b===60||b===62||b===92?(t.consume(b),m):m(b)}function y(b){return b===40?++h>c?n(b):(t.consume(b),y):b===41?h--?(t.consume(b),y):(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(b)):b===null||yi(b)?h?n(b):(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(b)):Ew(b)?n(b):(t.consume(b),b===92?x:y)}function x(b){return b===40||b===41||b===92?(t.consume(b),y):y(b)}}function R4(t,e,n,r,i,s){const o=this;let a=0,l;return c;function c(m){return t.enter(r),t.enter(i),t.consume(m),t.exit(i),t.enter(s),h}function h(m){return m===null||m===91||m===93&&!l||m===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs||a>999?n(m):m===93?(t.exit(s),t.enter(i),t.consume(m),t.exit(i),t.exit(r),e):je(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||je(m)||a++>999?(t.exit("chunkString"),h(m)):(t.consume(m),l=l||!hn(m),m===92?p:f)}function p(m){return m===91||m===92||m===93?(t.consume(m),a++,f):f(m)}}function M4(t,e,n,r,i,s){let o;return a;function a(p){return t.enter(r),t.enter(i),t.consume(p),t.exit(i),o=p===40?41:p,l}function l(p){return p===o?(t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):(t.enter(s),c(p))}function c(p){return p===o?(t.exit(s),l(o)):p===null?n(p):je(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),Ct(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(p))}function h(p){return p===o||p===null||je(p)?(t.exit("chunkString"),c(p)):(t.consume(p),p===92?f:h)}function f(p){return p===o||p===92?(t.consume(p),h):h(p)}}function Kh(t,e){let n;return r;function r(i){return je(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):hn(i)?Ct(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}function zu(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Qre={name:"definition",tokenize:eie},Jre={tokenize:tie,partial:!0};function eie(t,e,n){const r=this;let i;return s;function s(l){return t.enter("definition"),R4.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(l)}function o(l){return i=zu(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),l===58?(t.enter("definitionMarker"),t.consume(l),t.exit("definitionMarker"),Kh(t,I4(t,t.attempt(Jre,Ct(t,a,"whitespace"),Ct(t,a,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(l)}function a(l){return l===null||je(l)?(t.exit("definition"),r.parser.defined.includes(i)||r.parser.defined.push(i),e(l)):n(l)}}function tie(t,e,n){return r;function r(o){return yi(o)?Kh(t,i)(o):n(o)}function i(o){return o===34||o===39||o===40?M4(t,Ct(t,s,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o):n(o)}function s(o){return o===null||je(o)?e(o):n(o)}}const nie={name:"hardBreakEscape",tokenize:rie};function rie(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.enter("escapeMarker"),t.consume(s),i}function i(s){return je(s)?(t.exit("escapeMarker"),t.exit("hardBreakEscape"),e(s)):n(s)}}const iie={name:"headingAtx",tokenize:oie,resolve:sie};function sie(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Ms(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function oie(t,e,n){const r=this;let i=0;return s;function s(h){return t.enter("atxHeading"),t.enter("atxHeadingSequence"),o(h)}function o(h){return h===35&&i++<6?(t.consume(h),o):h===null||yi(h)?(t.exit("atxHeadingSequence"),r.interrupt?e(h):a(h)):n(h)}function a(h){return h===35?(t.enter("atxHeadingSequence"),l(h)):h===null||je(h)?(t.exit("atxHeading"),e(h)):hn(h)?Ct(t,a,"whitespace")(h):(t.enter("atxHeadingText"),c(h))}function l(h){return h===35?(t.consume(h),l):(t.exit("atxHeadingSequence"),a(h))}function c(h){return h===null||h===35||yi(h)?(t.exit("atxHeadingText"),a(h)):(t.consume(h),c)}}const aie=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],TO=["pre","script","style","textarea"],lie={name:"htmlFlow",tokenize:hie,resolveTo:cie,concrete:!0},uie={tokenize:die,partial:!0};function cie(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function hie(t,e,n){const r=this;let i,s,o,a,l;return c;function c(D){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(D),h}function h(D){return D===33?(t.consume(D),f):D===47?(t.consume(D),v):D===63?(t.consume(D),i=3,r.interrupt?e:le):Es(D)?(t.consume(D),o=String.fromCharCode(D),s=!0,y):n(D)}function f(D){return D===45?(t.consume(D),i=2,p):D===91?(t.consume(D),i=5,o="CDATA[",a=0,m):Es(D)?(t.consume(D),i=4,r.interrupt?e:le):n(D)}function p(D){return D===45?(t.consume(D),r.interrupt?e:le):n(D)}function m(D){return D===o.charCodeAt(a++)?(t.consume(D),a===o.length?r.interrupt?e:z:m):n(D)}function v(D){return Es(D)?(t.consume(D),o=String.fromCharCode(D),y):n(D)}function y(D){return D===null||D===47||D===62||yi(D)?D!==47&&s&&TO.includes(o.toLowerCase())?(i=1,r.interrupt?e(D):z(D)):aie.includes(o.toLowerCase())?(i=6,D===47?(t.consume(D),x):r.interrupt?e(D):z(D)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(D):s?_(D):b(D)):D===45||Lr(D)?(t.consume(D),o+=String.fromCharCode(D),y):n(D)}function x(D){return D===62?(t.consume(D),r.interrupt?e:z):n(D)}function b(D){return hn(D)?(t.consume(D),b):H(D)}function _(D){return D===47?(t.consume(D),H):D===58||D===95||Es(D)?(t.consume(D),w):hn(D)?(t.consume(D),_):H(D)}function w(D){return D===45||D===46||D===58||D===95||Lr(D)?(t.consume(D),w):E(D)}function E(D){return D===61?(t.consume(D),O):hn(D)?(t.consume(D),E):_(D)}function O(D){return D===null||D===60||D===61||D===62||D===96?n(D):D===34||D===39?(t.consume(D),l=D,A):hn(D)?(t.consume(D),O):(l=null,F(D))}function A(D){return D===null||je(D)?n(D):D===l?(t.consume(D),L):(t.consume(D),A)}function F(D){return D===null||D===34||D===39||D===60||D===61||D===62||D===96||yi(D)?E(D):(t.consume(D),F)}function L(D){return D===47||D===62||hn(D)?_(D):n(D)}function H(D){return D===62?(t.consume(D),j):n(D)}function j(D){return hn(D)?(t.consume(D),j):D===null||je(D)?z(D):n(D)}function z(D){return D===45&&i===2?(t.consume(D),de):D===60&&i===1?(t.consume(D),ce):D===62&&i===4?(t.consume(D),G):D===63&&i===3?(t.consume(D),le):D===93&&i===5?(t.consume(D),Z):je(D)&&(i===6||i===7)?t.check(uie,G,W)(D):D===null||je(D)?W(D):(t.consume(D),z)}function W(D){return t.exit("htmlFlowData"),q(D)}function q(D){return D===null?R(D):je(D)?t.attempt({tokenize:Y,partial:!0},q,R)(D):(t.enter("htmlFlowData"),z(D))}function Y(D,Q,K){return $;function $(me){return D.enter("lineEnding"),D.consume(me),D.exit("lineEnding"),ne}function ne(me){return r.parser.lazy[r.now().line]?K(me):Q(me)}}function de(D){return D===45?(t.consume(D),le):z(D)}function ce(D){return D===47?(t.consume(D),o="",te):z(D)}function te(D){return D===62&&TO.includes(o.toLowerCase())?(t.consume(D),G):Es(D)&&o.length<8?(t.consume(D),o+=String.fromCharCode(D),te):z(D)}function Z(D){return D===93?(t.consume(D),le):z(D)}function le(D){return D===62?(t.consume(D),G):D===45&&i===2?(t.consume(D),le):z(D)}function G(D){return D===null||je(D)?(t.exit("htmlFlowData"),R(D)):(t.consume(D),G)}function R(D){return t.exit("htmlFlow"),e(D)}}function die(t,e,n){return r;function r(i){return t.exit("htmlFlowData"),t.enter("lineEndingBlank"),t.consume(i),t.exit("lineEndingBlank"),t.attempt(Gv,e,n)}}const fie={name:"htmlText",tokenize:pie};function pie(t,e,n){const r=this;let i,s,o,a;return l;function l(R){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(R),c}function c(R){return R===33?(t.consume(R),h):R===47?(t.consume(R),F):R===63?(t.consume(R),O):Es(R)?(t.consume(R),j):n(R)}function h(R){return R===45?(t.consume(R),f):R===91?(t.consume(R),s="CDATA[",o=0,x):Es(R)?(t.consume(R),E):n(R)}function f(R){return R===45?(t.consume(R),p):n(R)}function p(R){return R===null||R===62?n(R):R===45?(t.consume(R),m):v(R)}function m(R){return R===null||R===62?n(R):v(R)}function v(R){return R===null?n(R):R===45?(t.consume(R),y):je(R)?(a=v,Z(R)):(t.consume(R),v)}function y(R){return R===45?(t.consume(R),G):v(R)}function x(R){return R===s.charCodeAt(o++)?(t.consume(R),o===s.length?b:x):n(R)}function b(R){return R===null?n(R):R===93?(t.consume(R),_):je(R)?(a=b,Z(R)):(t.consume(R),b)}function _(R){return R===93?(t.consume(R),w):b(R)}function w(R){return R===62?G(R):R===93?(t.consume(R),w):b(R)}function E(R){return R===null||R===62?G(R):je(R)?(a=E,Z(R)):(t.consume(R),E)}function O(R){return R===null?n(R):R===63?(t.consume(R),A):je(R)?(a=O,Z(R)):(t.consume(R),O)}function A(R){return R===62?G(R):O(R)}function F(R){return Es(R)?(t.consume(R),L):n(R)}function L(R){return R===45||Lr(R)?(t.consume(R),L):H(R)}function H(R){return je(R)?(a=H,Z(R)):hn(R)?(t.consume(R),H):G(R)}function j(R){return R===45||Lr(R)?(t.consume(R),j):R===47||R===62||yi(R)?z(R):n(R)}function z(R){return R===47?(t.consume(R),G):R===58||R===95||Es(R)?(t.consume(R),W):je(R)?(a=z,Z(R)):hn(R)?(t.consume(R),z):G(R)}function W(R){return R===45||R===46||R===58||R===95||Lr(R)?(t.consume(R),W):q(R)}function q(R){return R===61?(t.consume(R),Y):je(R)?(a=q,Z(R)):hn(R)?(t.consume(R),q):z(R)}function Y(R){return R===null||R===60||R===61||R===62||R===96?n(R):R===34||R===39?(t.consume(R),i=R,de):je(R)?(a=Y,Z(R)):hn(R)?(t.consume(R),Y):(t.consume(R),i=void 0,te)}function de(R){return R===i?(t.consume(R),ce):R===null?n(R):je(R)?(a=de,Z(R)):(t.consume(R),de)}function ce(R){return R===62||R===47||yi(R)?z(R):n(R)}function te(R){return R===null||R===34||R===39||R===60||R===61||R===96?n(R):R===62||yi(R)?z(R):(t.consume(R),te)}function Z(R){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(R),t.exit("lineEnding"),Ct(t,le,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function le(R){return t.enter("htmlTextData"),a(R)}function G(R){return R===62?(t.consume(R),t.exit("htmlTextData"),t.exit("htmlText"),e):n(R)}}const OE={name:"labelEnd",tokenize:xie,resolveTo:bie,resolveAll:yie},mie={tokenize:wie},gie={tokenize:_ie},vie={tokenize:Sie};function yie(t){let e=-1,n;for(;++e<t.length;)n=t[e][1],(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(e+1,n.type==="labelImage"?4:2),n.type="data",e++);return t}function bie(t,e){let n=t.length,r=0,i,s,o,a;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:Object.assign({},t[s][1].start),end:Object.assign({},t[t.length-1][1].end)},c={type:"label",start:Object.assign({},t[s][1].start),end:Object.assign({},t[o][1].end)},h={type:"labelText",start:Object.assign({},t[s+r+2][1].end),end:Object.assign({},t[o-2][1].start)};return a=[["enter",l,e],["enter",c,e]],a=ci(a,t.slice(s+1,s+r+3)),a=ci(a,[["enter",h,e]]),a=ci(a,PE(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),a=ci(a,[["exit",h,e],t[o-2],t[o-1],["exit",c,e]]),a=ci(a,t.slice(o+1)),a=ci(a,[["exit",l,e]]),Ms(t,s,t.length,a),t}function xie(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(h){return s?s._inactive?c(h):(o=r.parser.defined.includes(zu(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelEnd"),l):n(h)}function l(h){return h===40?t.attempt(mie,e,o?e:c)(h):h===91?t.attempt(gie,e,o?t.attempt(vie,e,c):c)(h):o?e(h):c(h)}function c(h){return s._balanced=!0,n(h)}}function wie(t,e,n){return r;function r(l){return t.enter("resource"),t.enter("resourceMarker"),t.consume(l),t.exit("resourceMarker"),Kh(t,i)}function i(l){return l===41?a(l):I4(t,s,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(l)}function s(l){return yi(l)?Kh(t,o)(l):a(l)}function o(l){return l===34||l===39||l===40?M4(t,Kh(t,a),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(l):a(l)}function a(l){return l===41?(t.enter("resourceMarker"),t.consume(l),t.exit("resourceMarker"),t.exit("resource"),e):n(l)}}function _ie(t,e,n){const r=this;return i;function i(o){return R4.call(r,t,s,n,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(zu(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):n(o)}}function Sie(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const Eie={name:"labelStartImage",tokenize:Cie,resolveAll:OE.resolveAll};function Cie(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const Tie={name:"labelStartLink",tokenize:Aie,resolveAll:OE.resolveAll};function Aie(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const D1={name:"lineEnding",tokenize:Pie};function Pie(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Ct(t,e,"linePrefix")}}const Fm={name:"thematicBreak",tokenize:kie};function kie(t,e,n){let r=0,i;return s;function s(l){return t.enter("thematicBreak"),i=l,o(l)}function o(l){return l===i?(t.enter("thematicBreakSequence"),a(l)):hn(l)?Ct(t,o,"whitespace")(l):r<3||l!==null&&!je(l)?n(l):(t.exit("thematicBreak"),e(l))}function a(l){return l===i?(t.consume(l),r++,a):(t.exit("thematicBreakSequence"),o(l))}}const lr={name:"list",tokenize:Rie,continuation:{tokenize:Mie},exit:Die},Oie={tokenize:Lie,partial:!0},Iie={tokenize:Fie,partial:!0};function Rie(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(m){const v=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:Sw(m)){if(r.containerState.type||(r.containerState.type=v,t.enter(v,{_container:!0})),v==="listUnordered")return t.enter("listItemPrefix"),m===42||m===45?t.check(Fm,n,c)(m):c(m);if(!r.interrupt||m===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(m)}return n(m)}function l(m){return Sw(m)&&++o<10?(t.consume(m),l):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(t.exit("listItemValue"),c(m)):n(m)}function c(m){return t.enter("listItemMarker"),t.consume(m),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,t.check(Gv,r.interrupt?n:h,t.attempt(Oie,p,f))}function h(m){return r.containerState.initialBlankLine=!0,s++,p(m)}function f(m){return hn(m)?(t.enter("listItemPrefixWhitespace"),t.consume(m),t.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(m)}}function Mie(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Gv,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ct(t,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!hn(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(Iie,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ct(t,t.attempt(lr,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function Fie(t,e,n){const r=this;return Ct(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function Die(t){t.exit(this.containerState.type)}function Lie(t,e,n){const r=this;return Ct(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(s){const o=r.events[r.events.length-1];return!hn(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const AO={name:"setextUnderline",tokenize:Nie,resolveTo:Bie};function Bie(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:Object.assign({},t[i][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end=Object.assign({},t[s][1].end)):t[r][1]=o,t.push(["exit",o,e]),t}function Nie(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if(r.events[i][1].type!=="lineEnding"&&r.events[i][1].type!=="linePrefix"&&r.events[i][1].type!=="content"){o=r.events[i][1].type==="paragraph";break}return a;function a(h){return!r.parser.lazy[r.now().line]&&(r.interrupt||o)?(t.enter("setextHeadingLine"),t.enter("setextHeadingLineSequence"),s=h,l(h)):n(h)}function l(h){return h===s?(t.consume(h),l):(t.exit("setextHeadingLineSequence"),Ct(t,c,"lineSuffix")(h))}function c(h){return h===null||je(h)?(t.exit("setextHeadingLine"),e(h)):n(h)}}const $ie={tokenize:Uie};function Uie(t){const e=this,n=t.attempt(Gv,r,t.attempt(this.parser.constructs.flowInitial,i,Ct(t,t.attempt(this.parser.constructs.flow,i,t.attempt(qre,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const zie={resolveAll:D4()},Hie=F4("string"),jie=F4("text");function F4(t){return{tokenize:e,resolveAll:D4(t==="text"?Wie:void 0)};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,a);return o;function o(h){return c(h)?s(h):a(h)}function a(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),l}function l(h){return c(h)?(n.exit("data"),s(h)):(n.consume(h),l)}function c(h){if(h===null)return!0;const f=i[h];let p=-1;if(f)for(;++p<f.length;){const m=f[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function D4(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function Wie(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)l=!0,a++;else if(c!==-1){s++;break}}if(a){const c={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},c.start),r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}function Gie(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let o=[],a=[];const l={consume:_,enter:w,exit:E,attempt:F(O),check:F(A),interrupt:F(A,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:m,sliceSerialize:p,now:v,defineSkip:y,write:f};let h=e.tokenize.call(c,l);return e.resolveAll&&s.push(e),c;function f(z){return o=ci(o,z),x(),o[o.length-1]!==null?[]:(L(e,0),c.events=PE(s,c.events,c),c.events)}function p(z,W){return qie(m(z),W)}function m(z){return Vie(o,z)}function v(){return Object.assign({},r)}function y(z){i[z.line]=z.column,j()}function x(){let z;for(;r._index<o.length;){const W=o[r._index];if(typeof W=="string")for(z=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===z&&r._bufferIndex<W.length;)b(W.charCodeAt(r._bufferIndex));else b(W)}}function b(z){h=h(z)}function _(z){je(z)?(r.line++,r.column=1,r.offset+=z===-3?2:1,j()):z!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=z}function w(z,W){const q=W||{};return q.type=z,q.start=v(),c.events.push(["enter",q,c]),a.push(q),q}function E(z){const W=a.pop();return W.end=v(),c.events.push(["exit",W,c]),W}function O(z,W){L(z,W.from)}function A(z,W){W.restore()}function F(z,W){return q;function q(Y,de,ce){let te,Z,le,G;return Array.isArray(Y)?D(Y):"tokenize"in Y?D([Y]):R(Y);function R(ne){return me;function me(Ie){const Re=Ie!==null&&ne[Ie],Ye=Ie!==null&&ne.null,Se=[...Array.isArray(Re)?Re:Re?[Re]:[],...Array.isArray(Ye)?Ye:Ye?[Ye]:[]];return D(Se)(Ie)}}function D(ne){return te=ne,Z=0,ne.length===0?ce:Q(ne[Z])}function Q(ne){return me;function me(Ie){return G=H(),le=ne,ne.partial||(c.currentConstruct=ne),ne.name&&c.parser.constructs.disable.null.includes(ne.name)?$():ne.tokenize.call(W?Object.assign(Object.create(c),W):c,l,K,$)(Ie)}}function K(ne){return z(le,G),de}function $(ne){return G.restore(),++Z<te.length?Q(te[Z]):ce}}}function L(z,W){z.resolveAll&&!s.includes(z)&&s.push(z),z.resolve&&Ms(c.events,W,c.events.length-W,z.resolve(c.events.slice(W),c)),z.resolveTo&&(c.events=z.resolveTo(c.events,c))}function H(){const z=v(),W=c.previous,q=c.currentConstruct,Y=c.events.length,de=Array.from(a);return{restore:ce,from:Y};function ce(){r=z,c.previous=W,c.currentConstruct=q,c.events.length=Y,a=de,j()}}function j(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Vie(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;return n===i?o=[t[n].slice(r,s)]:(o=t.slice(n,i),r>-1&&(o[0]=o[0].slice(r)),s>0&&o.push(t[i].slice(0,s))),o}function qie(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}const Xie={[42]:lr,[43]:lr,[45]:lr,[48]:lr,[49]:lr,[50]:lr,[51]:lr,[52]:lr,[53]:lr,[54]:lr,[55]:lr,[56]:lr,[57]:lr,[62]:A4},Yie={[91]:Qre},Kie={[-2]:F1,[-1]:F1,[32]:F1},Zie={[35]:iie,[42]:Fm,[45]:[AO,Fm],[60]:lie,[61]:AO,[95]:Fm,[96]:CO,[126]:CO},Qie={[38]:k4,[92]:P4},Jie={[-5]:D1,[-4]:D1,[-3]:D1,[33]:Eie,[38]:k4,[42]:Cw,[60]:[Ore,fie],[91]:Tie,[92]:[nie,P4],[93]:OE,[95]:Cw,[96]:Hre},ese={null:[Cw,zie]},tse={null:[42,95]},nse={null:[]},rse=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:tse,contentInitial:Yie,disable:nse,document:Xie,flow:Zie,flowInitial:Kie,insideSpan:ese,string:Qie,text:Jie},Symbol.toStringTag,{value:"Module"}));function ise(t={}){const e=mre([rse].concat(t.extensions||[])),n={defined:[],lazy:{},constructs:e,content:r(Sre),document:r(Cre),flow:r($ie),string:r(Hie),text:r(jie)};return n;function r(i){return s;function s(o){return Gie(n,i,o)}}}const PO=/[\0\t\n\r]/g;function sse(){let t=1,e="",n=!0,r;return i;function i(s,o,a){const l=[];let c,h,f,p,m;for(s=e+s.toString(o),f=0,e="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(PO.lastIndex=f,c=PO.exec(s),p=c&&c.index!==void 0?c.index:s.length,m=s.charCodeAt(p),!c){e=s.slice(f);break}if(m===10&&f===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<p&&(l.push(s.slice(f,p)),t+=p-f),m){case 0:{l.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,l.push(-2);t++<h;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}f=p+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}function ose(t){for(;!O4(t););return t}function L4(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCharCode(n)}const ase=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function lse(t){return t.replace(ase,use)}function use(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return L4(n.slice(s?2:1),s?16:10)}return kE(n)||t}const B4={}.hasOwnProperty,cse=function(t,e,n){return typeof e!="string"&&(n=e,e=void 0),hse(n)(ose(ise(n).document().write(sse()(t,e,!0))))};function hse(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(ki),autolinkProtocol:z,autolinkEmail:z,atxHeading:a(Kr),blockQuote:a(Se),characterEscape:z,characterReference:z,codeFenced:a(et),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:a(et,l),codeText:a(tt,l),codeTextData:z,data:z,codeFlowValue:z,definition:a(rt),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:a(Ot),hardBreakEscape:a(Dn),hardBreakTrailing:a(Dn),htmlFlow:a(Ke,l),htmlFlowData:z,htmlText:a(Ke,l),htmlTextData:z,image:a(An),label:l,link:a(ki),listItem:a(hs),listItemValue:v,listOrdered:a(Pn,m),listUnordered:a(Pn),paragraph:a(Cl),reference:$,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:a(Kr),strong:a(R0),thematicBreak:a(M0)},exit:{atxHeading:h(),atxHeadingSequence:F,autolink:h(),autolinkEmail:Ye,autolinkProtocol:Re,blockQuote:h(),characterEscapeValue:W,characterReferenceMarkerHexadecimal:me,characterReferenceMarkerNumeric:me,characterReferenceValue:Ie,codeFenced:h(_),codeFencedFence:b,codeFencedFenceInfo:y,codeFencedFenceMeta:x,codeFlowValue:W,codeIndented:h(w),codeText:h(te),codeTextData:W,data:W,definition:h(),definitionDestinationString:A,definitionLabelString:E,definitionTitleString:O,emphasis:h(),hardBreakEscape:h(Y),hardBreakTrailing:h(Y),htmlFlow:h(de),htmlFlowData:W,htmlText:h(ce),htmlTextData:W,image:h(le),label:R,labelText:G,lineEnding:q,link:h(Z),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:ne,resourceDestinationString:D,resourceTitleString:Q,resource:K,setextHeading:h(j),setextHeadingLineSequence:H,setextHeadingText:L,strong:h(),thematicBreak:h()}};N4(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(re){let pe={type:"root",children:[]};const Fe={stack:[pe],tokenStack:[],config:e,enter:c,exit:f,buffer:l,resume:p,setData:s,getData:o},ht=[];let dt=-1;for(;++dt<re.length;)if(re[dt][1].type==="listOrdered"||re[dt][1].type==="listUnordered")if(re[dt][0]==="enter")ht.push(dt);else{const Wn=ht.pop();dt=i(re,Wn,dt)}for(dt=-1;++dt<re.length;){const Wn=e[re[dt][0]];B4.call(Wn,re[dt][1].type)&&Wn[re[dt][1].type].call(Object.assign({sliceSerialize:re[dt][2].sliceSerialize},Fe),re[dt][1])}if(Fe.tokenStack.length>0){const Wn=Fe.tokenStack[Fe.tokenStack.length-1];(Wn[1]||kO).call(Fe,void 0,Wn[0])}for(pe.position={start:Mo(re.length>0?re[0][1].start:{line:1,column:1,offset:0}),end:Mo(re.length>0?re[re.length-2][1].end:{line:1,column:1,offset:0})},dt=-1;++dt<e.transforms.length;)pe=e.transforms[dt](pe)||pe;return pe}function i(re,pe,Fe){let ht=pe-1,dt=-1,Wn=!1,Zr,xr,Ls,Bs;for(;++ht<=Fe;){const It=re[ht];if(It[1].type==="listUnordered"||It[1].type==="listOrdered"||It[1].type==="blockQuote"?(It[0]==="enter"?dt++:dt--,Bs=void 0):It[1].type==="lineEndingBlank"?It[0]==="enter"&&(Zr&&!Bs&&!dt&&!Ls&&(Ls=ht),Bs=void 0):It[1].type==="linePrefix"||It[1].type==="listItemValue"||It[1].type==="listItemMarker"||It[1].type==="listItemPrefix"||It[1].type==="listItemPrefixWhitespace"||(Bs=void 0),!dt&&It[0]==="enter"&&It[1].type==="listItemPrefix"||dt===-1&&It[0]==="exit"&&(It[1].type==="listUnordered"||It[1].type==="listOrdered")){if(Zr){let Dc=ht;for(xr=void 0;Dc--;){const Oi=re[Dc];if(Oi[1].type==="lineEnding"||Oi[1].type==="lineEndingBlank"){if(Oi[0]==="exit")continue;xr&&(re[xr][1].type="lineEndingBlank",Wn=!0),Oi[1].type="lineEnding",xr=Dc}else if(!(Oi[1].type==="linePrefix"||Oi[1].type==="blockQuotePrefix"||Oi[1].type==="blockQuotePrefixWhitespace"||Oi[1].type==="blockQuoteMarker"||Oi[1].type==="listItemIndent"))break}Ls&&(!xr||Ls<xr)&&(Zr._spread=!0),Zr.end=Object.assign({},xr?re[xr][1].start:It[1].end),re.splice(xr||ht,0,["exit",Zr,It[2]]),ht++,Fe++}It[1].type==="listItemPrefix"&&(Zr={type:"listItem",_spread:!1,start:Object.assign({},It[1].start)},re.splice(ht,0,["enter",Zr,It[2]]),ht++,Fe++,Ls=void 0,Bs=!0)}}return re[pe][1]._spread=Wn,Fe}function s(re,pe){n[re]=pe}function o(re){return n[re]}function a(re,pe){return Fe;function Fe(ht){c.call(this,re(ht),ht),pe&&pe.call(this,ht)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(re,pe,Fe){return this.stack[this.stack.length-1].children.push(re),this.stack.push(re),this.tokenStack.push([pe,Fe]),re.position={start:Mo(pe.start)},re}function h(re){return pe;function pe(Fe){re&&re.call(this,Fe),f.call(this,Fe)}}function f(re,pe){const Fe=this.stack.pop(),ht=this.tokenStack.pop();if(ht)ht[0].type!==re.type&&(pe?pe.call(this,re,ht[0]):(ht[1]||kO).call(this,re,ht[0]));else throw new Error("Cannot close `"+re.type+"` ("+Yh({start:re.start,end:re.end})+"): its not open");return Fe.position.end=Mo(re.end),Fe}function p(){return fre(this.stack.pop())}function m(){s("expectingFirstListItemValue",!0)}function v(re){if(o("expectingFirstListItemValue")){const pe=this.stack[this.stack.length-2];pe.start=Number.parseInt(this.sliceSerialize(re),10),s("expectingFirstListItemValue")}}function y(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.lang=re}function x(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.meta=re}function b(){o("flowCodeInside")||(this.buffer(),s("flowCodeInside",!0))}function _(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.value=re.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s("flowCodeInside")}function w(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.value=re.replace(/(\r?\n|\r)$/g,"")}function E(re){const pe=this.resume(),Fe=this.stack[this.stack.length-1];Fe.label=pe,Fe.identifier=zu(this.sliceSerialize(re)).toLowerCase()}function O(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.title=re}function A(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.url=re}function F(re){const pe=this.stack[this.stack.length-1];if(!pe.depth){const Fe=this.sliceSerialize(re).length;pe.depth=Fe}}function L(){s("setextHeadingSlurpLineEnding",!0)}function H(re){const pe=this.stack[this.stack.length-1];pe.depth=this.sliceSerialize(re).charCodeAt(0)===61?1:2}function j(){s("setextHeadingSlurpLineEnding")}function z(re){const pe=this.stack[this.stack.length-1];let Fe=pe.children[pe.children.length-1];(!Fe||Fe.type!=="text")&&(Fe=va(),Fe.position={start:Mo(re.start)},pe.children.push(Fe)),this.stack.push(Fe)}function W(re){const pe=this.stack.pop();pe.value+=this.sliceSerialize(re),pe.position.end=Mo(re.end)}function q(re){const pe=this.stack[this.stack.length-1];if(o("atHardBreak")){const Fe=pe.children[pe.children.length-1];Fe.position.end=Mo(re.end),s("atHardBreak");return}!o("setextHeadingSlurpLineEnding")&&e.canContainEols.includes(pe.type)&&(z.call(this,re),W.call(this,re))}function Y(){s("atHardBreak",!0)}function de(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.value=re}function ce(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.value=re}function te(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.value=re}function Z(){const re=this.stack[this.stack.length-1];if(o("inReference")){const pe=o("referenceType")||"shortcut";re.type+="Reference",re.referenceType=pe,delete re.url,delete re.title}else delete re.identifier,delete re.label;s("referenceType")}function le(){const re=this.stack[this.stack.length-1];if(o("inReference")){const pe=o("referenceType")||"shortcut";re.type+="Reference",re.referenceType=pe,delete re.url,delete re.title}else delete re.identifier,delete re.label;s("referenceType")}function G(re){const pe=this.sliceSerialize(re),Fe=this.stack[this.stack.length-2];Fe.label=lse(pe),Fe.identifier=zu(pe).toLowerCase()}function R(){const re=this.stack[this.stack.length-1],pe=this.resume(),Fe=this.stack[this.stack.length-1];if(s("inReference",!0),Fe.type==="link"){const ht=re.children;Fe.children=ht}else Fe.alt=pe}function D(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.url=re}function Q(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.title=re}function K(){s("inReference")}function $(){s("referenceType","collapsed")}function ne(re){const pe=this.resume(),Fe=this.stack[this.stack.length-1];Fe.label=pe,Fe.identifier=zu(this.sliceSerialize(re)).toLowerCase(),s("referenceType","full")}function me(re){s("characterReferenceType",re.type)}function Ie(re){const pe=this.sliceSerialize(re),Fe=o("characterReferenceType");let ht;Fe?(ht=L4(pe,Fe==="characterReferenceMarkerNumeric"?10:16),s("characterReferenceType")):ht=kE(pe);const dt=this.stack.pop();dt.value+=ht,dt.position.end=Mo(re.end)}function Re(re){W.call(this,re);const pe=this.stack[this.stack.length-1];pe.url=this.sliceSerialize(re)}function Ye(re){W.call(this,re);const pe=this.stack[this.stack.length-1];pe.url="mailto:"+this.sliceSerialize(re)}function Se(){return{type:"blockquote",children:[]}}function et(){return{type:"code",lang:null,meta:null,value:""}}function tt(){return{type:"inlineCode",value:""}}function rt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ot(){return{type:"emphasis",children:[]}}function Kr(){return{type:"heading",depth:void 0,children:[]}}function Dn(){return{type:"break"}}function Ke(){return{type:"html",value:""}}function An(){return{type:"image",title:null,url:"",alt:null}}function ki(){return{type:"link",title:null,url:"",children:[]}}function Pn(re){return{type:"list",ordered:re.type==="listOrdered",start:null,spread:re._spread,children:[]}}function hs(re){return{type:"listItem",spread:re._spread,checked:null,children:[]}}function Cl(){return{type:"paragraph",children:[]}}function R0(){return{type:"strong",children:[]}}function va(){return{type:"text",value:""}}function M0(){return{type:"thematicBreak"}}}function Mo(t){return{line:t.line,column:t.column,offset:t.offset}}function N4(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?N4(t,r):dse(t,r)}}function dse(t,e){let n;for(n in e)if(B4.call(e,n)){if(n==="canContainEols"){const r=e[n];r&&t[n].push(...r)}else if(n==="transforms"){const r=e[n];r&&t[n].push(...r)}else if(n==="enter"||n==="exit"){const r=e[n];r&&Object.assign(t[n],r)}}}function kO(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Yh({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Yh({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Yh({start:e.start,end:e.end})+") is still open")}function fse(t){Object.assign(this,{Parser:n=>{const r=this.data("settings");return cse(n,Object.assign({},r,t,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function pse(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function mse(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function gse(t,e){const n=e.value?e.value+`
`:"",r=e.lang?e.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,i={};r&&(i.className=["language-"+r]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function vse(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function yse(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function wc(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&Lr(t.charCodeAt(n+1))&&Lr(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function $4(t,e){const n=String(e.identifier).toUpperCase(),r=wc(n.toLowerCase()),i=t.footnoteOrder.indexOf(n);let s;i===-1?(t.footnoteOrder.push(n),t.footnoteCounts[n]=1,s=t.footnoteOrder.length):(t.footnoteCounts[n]++,s=i+1);const o=t.footnoteCounts[n],a={type:"element",tagName:"a",properties:{href:"#"+t.clobberPrefix+"fn-"+r,id:t.clobberPrefix+"fnref-"+r+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,a);const l={type:"element",tagName:"sup",properties:{},children:[a]};return t.patch(e,l),t.applyData(e,l)}function bse(t,e){const n=t.footnoteById;let r=1;for(;r in n;)r++;const i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:e.children}],position:e.position},$4(t,{type:"footnoteReference",identifier:i,position:e.position})}function xse(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function wse(t,e){if(t.dangerous){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}return null}function U4(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return{type:"text",value:"!["+e.alt+r};const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function _se(t,e){const n=t.definition(e.identifier);if(!n)return U4(t,e);const r={src:wc(n.url||""),alt:e.alt};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"img",properties:r,children:[]};return t.patch(e,i),t.applyData(e,i)}function Sse(t,e){const n={src:wc(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function Ese(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function Cse(t,e){const n=t.definition(e.identifier);if(!n)return U4(t,e);const r={href:wc(n.url||"")};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"a",properties:r,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function Tse(t,e){const n={href:wc(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Ase(t,e,n){const r=t.all(e),i=n?Pse(n):z4(e),s={},o=[];if(typeof e.checked=="boolean"){const h=r[0];let f;h&&h.type==="element"&&h.tagName==="p"?f=h:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const h=r[a];(i||a!==0||h.type!=="element"||h.tagName!=="p")&&o.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?o.push(...h.children):o.push(h)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,c),t.applyData(e,c)}function Pse(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=z4(n[r])}return e}function z4(t){const e=t.spread;return e??t.children.length>1}function kse(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function Ose(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Ise(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function Rse(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const IE=H4("start"),RE=H4("end");function Mse(t){return{start:IE(t),end:RE(t)}}function H4(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function Fse(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=IE(e.children[1]),l=RE(e.children[e.children.length-1]);a.line&&l.line&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function Dse(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let l=-1;const c=[];for(;++l<a;){const f=e.children[l],p={},m=o?o[l]:void 0;m&&(p.align=m);let v={type:"element",tagName:s,properties:p,children:[]};f&&(v.children=t.all(f),t.patch(f,v),v=t.applyData(e,v)),c.push(v)}const h={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,h),t.applyData(e,h)}function Lse(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const OO=9,IO=32;function Bse(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(RO(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(RO(e.slice(i),i>0,!1)),s.join("")}function RO(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===OO||s===IO;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===OO||s===IO;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function Nse(t,e){const n={type:"text",value:Bse(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function $se(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const Use={blockquote:pse,break:mse,code:gse,delete:vse,emphasis:yse,footnoteReference:$4,footnote:bse,heading:xse,html:wse,imageReference:_se,image:Sse,inlineCode:Ese,linkReference:Cse,link:Tse,listItem:Ase,list:kse,paragraph:Ose,root:Ise,strong:Rse,table:Fse,tableCell:Lse,tableRow:Dse,text:Nse,thematicBreak:$se,toml:Lp,yaml:Lp,definition:Lp,footnoteDefinition:Lp};function Lp(){return null}const j4=function(t){if(t==null)return Wse;if(typeof t=="string")return jse(t);if(typeof t=="object")return Array.isArray(t)?zse(t):Hse(t);if(typeof t=="function")return Vv(t);throw new Error("Expected function, string, or object as test")};function zse(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=j4(t[n]);return Vv(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].call(this,...i))return!0;return!1}}function Hse(t){return Vv(e);function e(n){let r;for(r in t)if(n[r]!==t[r])return!1;return!0}}function jse(t){return Vv(e);function e(n){return n&&n.type===t}}function Vv(t){return e;function e(n,...r){return Boolean(n&&typeof n=="object"&&"type"in n&&Boolean(t.call(this,n,...r)))}}function Wse(){return!0}const Gse=!0,MO=!1,Vse="skip",qse=function(t,e,n,r){typeof e=="function"&&typeof n!="function"&&(r=n,n=e,e=null);const i=j4(e),s=r?-1:1;o(t,void 0,[])();function o(a,l,c){const h=a&&typeof a=="object"?a:{};if(typeof h.type=="string"){const p=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(a.type+(p?"<"+p+">":""))+")"})}return f;function f(){let p=[],m,v,y;if((!e||i(a,l,c[c.length-1]||null))&&(p=Xse(n(a,c)),p[0]===MO))return p;if(a.children&&p[0]!==Vse)for(v=(r?a.children.length:-1)+s,y=c.concat(a);v>-1&&v<a.children.length;){if(m=o(a.children[v],v,y)(),m[0]===MO)return m;v=typeof m[1]=="number"?m[1]:v+s}return p}}};function Xse(t){return Array.isArray(t)?t:typeof t=="number"?[Gse,t]:[t]}const ME=function(t,e,n,r){typeof e=="function"&&typeof n!="function"&&(r=n,n=e,e=null),qse(t,e,i,r);function i(s,o){const a=o[o.length-1];return n(s,a?a.children.indexOf(s):null,a)}};function Yse(t){return!t||!t.position||!t.position.start||!t.position.start.line||!t.position.start.column||!t.position.end||!t.position.end.line||!t.position.end.column}const FO={}.hasOwnProperty;function Kse(t){const e=Object.create(null);if(!t||!t.type)throw new Error("mdast-util-definitions expected node");return ME(t,"definition",r=>{const i=DO(r.identifier);i&&!FO.call(e,i)&&(e[i]=r)}),n;function n(r){const i=DO(r);return i&&FO.call(e,i)?e[i]:null}}function DO(t){return String(t||"").toUpperCase()}const Tg={}.hasOwnProperty;function Zse(t,e){const n=e||{},r=n.allowDangerousHtml||!1,i={};return o.dangerous=r,o.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,o.footnoteLabel=n.footnoteLabel||"Footnotes",o.footnoteLabelTagName=n.footnoteLabelTagName||"h2",o.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},o.footnoteBackLabel=n.footnoteBackLabel||"Back to content",o.unknownHandler=n.unknownHandler,o.passThrough=n.passThrough,o.handlers={...Use,...n.handlers},o.definition=Kse(t),o.footnoteById=i,o.footnoteOrder=[],o.footnoteCounts={},o.patch=Qse,o.applyData=Jse,o.one=a,o.all=l,o.wrap=toe,o.augment=s,ME(t,"footnoteDefinition",c=>{const h=String(c.identifier).toUpperCase();Tg.call(i,h)||(i[h]=c)}),o;function s(c,h){if(c&&"data"in c&&c.data){const f=c.data;f.hName&&(h.type!=="element"&&(h={type:"element",tagName:"",properties:{},children:[]}),h.tagName=f.hName),h.type==="element"&&f.hProperties&&(h.properties={...h.properties,...f.hProperties}),"children"in h&&h.children&&f.hChildren&&(h.children=f.hChildren)}if(c){const f="type"in c?c:{position:c};Yse(f)||(h.position={start:IE(f),end:RE(f)})}return h}function o(c,h,f,p){return Array.isArray(f)&&(p=f,f={}),s(c,{type:"element",tagName:h,properties:f||{},children:p||[]})}function a(c,h){return W4(o,c,h)}function l(c){return FE(o,c)}}function Qse(t,e){t.position&&(e.position=Mse(t))}function Jse(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;typeof r=="string"&&(n.type==="element"?n.tagName=r:n={type:"element",tagName:r,properties:{},children:[]}),n.type==="element"&&s&&(n.properties={...n.properties,...s}),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function W4(t,e,n){const r=e&&e.type;if(!r)throw new Error("Expected node, got `"+e+"`");return Tg.call(t.handlers,r)?t.handlers[r](t,e,n):t.passThrough&&t.passThrough.includes(r)?"children"in e?{...e,children:FE(t,e)}:e:t.unknownHandler?t.unknownHandler(t,e,n):eoe(t,e)}function FE(t,e){const n=[];if("children"in e){const r=e.children;let i=-1;for(;++i<r.length;){const s=W4(t,r[i],e);if(s){if(i&&r[i-1].type==="break"&&(!Array.isArray(s)&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,"")),!Array.isArray(s)&&s.type==="element")){const o=s.children[0];o&&o.type==="text"&&(o.value=o.value.replace(/^\s+/,""))}Array.isArray(s)?n.push(...s):n.push(s)}}}return n}function eoe(t,e){const n=e.data||{},r="value"in e&&!(Tg.call(n,"hProperties")||Tg.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:FE(t,e)};return t.patch(e,r),t.applyData(e,r)}function toe(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function noe(t){const e=[];let n=-1;for(;++n<t.footnoteOrder.length;){const r=t.footnoteById[t.footnoteOrder[n]];if(!r)continue;const i=t.all(r),s=String(r.identifier).toUpperCase(),o=wc(s.toLowerCase());let a=0;const l=[];for(;++a<=t.footnoteCounts[s];){const f={type:"element",tagName:"a",properties:{href:"#"+t.clobberPrefix+"fnref-"+o+(a>1?"-"+a:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:t.footnoteBackLabel},children:[{type:"text",value:""}]};a>1&&f.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(a)}]}),l.length>0&&l.push({type:"text",value:" "}),l.push(f)}const c=i[i.length-1];if(c&&c.type==="element"&&c.tagName==="p"){const f=c.children[c.children.length-1];f&&f.type==="text"?f.value+=" ":c.children.push({type:"text",value:" "}),c.children.push(...l)}else i.push(...l);const h={type:"element",tagName:"li",properties:{id:t.clobberPrefix+"fn-"+o},children:t.wrap(i,!0)};t.patch(r,h),e.push(h)}if(e.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:t.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(t.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:t.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(e,!0)},{type:"text",value:`
`}]}}function G4(t,e){const n=Zse(t,e),r=n.one(t,null),i=noe(n);return i&&r.children.push({type:"text",value:`
`},i),Array.isArray(r)?{type:"root",children:r}:r}const roe=function(t,e){return t&&"run"in t?soe(t,e):ooe(t||e)},ioe=roe;function soe(t,e){return(n,r,i)=>{t.run(G4(n,e),r,s=>{i(s)})}}function ooe(t){return e=>G4(e,t)}class uf{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}uf.prototype.property={};uf.prototype.normal={};uf.prototype.space=null;function V4(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new uf(n,r,e)}function Tw(t){return t.toLowerCase()}class Ci{constructor(e,n){this.property=e,this.attribute=n}}Ci.prototype.space=null;Ci.prototype.boolean=!1;Ci.prototype.booleanish=!1;Ci.prototype.overloadedBoolean=!1;Ci.prototype.number=!1;Ci.prototype.commaSeparated=!1;Ci.prototype.spaceSeparated=!1;Ci.prototype.commaOrSpaceSeparated=!1;Ci.prototype.mustUseProperty=!1;Ci.prototype.defined=!1;let aoe=0;const Qe=xl(),un=xl(),q4=xl(),fe=xl(),Dt=xl(),Hu=xl(),Pr=xl();function xl(){return 2**++aoe}const Aw=Object.freeze(Object.defineProperty({__proto__:null,boolean:Qe,booleanish:un,commaOrSpaceSeparated:Pr,commaSeparated:Hu,number:fe,overloadedBoolean:q4,spaceSeparated:Dt},Symbol.toStringTag,{value:"Module"})),L1=Object.keys(Aw);class DE extends Ci{constructor(e,n,r,i){let s=-1;if(super(e,n),LO(this,"space",i),typeof r=="number")for(;++s<L1.length;){const o=L1[s];LO(this,L1[s],(r&Aw[o])===Aw[o])}}}DE.prototype.defined=!0;function LO(t,e,n){n&&(t[e]=n)}const loe={}.hasOwnProperty;function _c(t){const e={},n={};let r;for(r in t.properties)if(loe.call(t.properties,r)){const i=t.properties[r],s=new DE(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[Tw(r)]=r,n[Tw(s.attribute)]=r}return new uf(e,n,t.space)}const X4=_c({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),Y4=_c({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function K4(t,e){return e in t?t[e]:e}function Z4(t,e){return K4(t,e.toLowerCase())}const Q4=_c({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Z4,properties:{xmlns:null,xmlnsXLink:null}}),J4=_c({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:un,ariaAutoComplete:null,ariaBusy:un,ariaChecked:un,ariaColCount:fe,ariaColIndex:fe,ariaColSpan:fe,ariaControls:Dt,ariaCurrent:null,ariaDescribedBy:Dt,ariaDetails:null,ariaDisabled:un,ariaDropEffect:Dt,ariaErrorMessage:null,ariaExpanded:un,ariaFlowTo:Dt,ariaGrabbed:un,ariaHasPopup:null,ariaHidden:un,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Dt,ariaLevel:fe,ariaLive:null,ariaModal:un,ariaMultiLine:un,ariaMultiSelectable:un,ariaOrientation:null,ariaOwns:Dt,ariaPlaceholder:null,ariaPosInSet:fe,ariaPressed:un,ariaReadOnly:un,ariaRelevant:null,ariaRequired:un,ariaRoleDescription:Dt,ariaRowCount:fe,ariaRowIndex:fe,ariaRowSpan:fe,ariaSelected:un,ariaSetSize:fe,ariaSort:null,ariaValueMax:fe,ariaValueMin:fe,ariaValueNow:fe,ariaValueText:null,role:null}}),uoe=_c({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Z4,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Hu,acceptCharset:Dt,accessKey:Dt,action:null,allow:null,allowFullScreen:Qe,allowPaymentRequest:Qe,allowUserMedia:Qe,alt:null,as:null,async:Qe,autoCapitalize:null,autoComplete:Dt,autoFocus:Qe,autoPlay:Qe,capture:Qe,charSet:null,checked:Qe,cite:null,className:Dt,cols:fe,colSpan:null,content:null,contentEditable:un,controls:Qe,controlsList:Dt,coords:fe|Hu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Qe,defer:Qe,dir:null,dirName:null,disabled:Qe,download:q4,draggable:un,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Qe,formTarget:null,headers:Dt,height:fe,hidden:Qe,high:fe,href:null,hrefLang:null,htmlFor:Dt,httpEquiv:Dt,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:Qe,itemId:null,itemProp:Dt,itemRef:Dt,itemScope:Qe,itemType:Dt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Qe,low:fe,manifest:null,max:null,maxLength:fe,media:null,method:null,min:null,minLength:fe,multiple:Qe,muted:Qe,name:null,nonce:null,noModule:Qe,noValidate:Qe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Qe,optimum:fe,pattern:null,ping:Dt,placeholder:null,playsInline:Qe,poster:null,preload:null,readOnly:Qe,referrerPolicy:null,rel:Dt,required:Qe,reversed:Qe,rows:fe,rowSpan:fe,sandbox:Dt,scope:null,scoped:Qe,seamless:Qe,selected:Qe,shape:null,size:fe,sizes:null,slot:null,span:fe,spellCheck:un,src:null,srcDoc:null,srcLang:null,srcSet:null,start:fe,step:null,style:null,tabIndex:fe,target:null,title:null,translate:null,type:null,typeMustMatch:Qe,useMap:null,value:un,width:fe,wrap:null,align:null,aLink:null,archive:Dt,axis:null,background:null,bgColor:null,border:fe,borderColor:null,bottomMargin:fe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Qe,declare:Qe,event:null,face:null,frame:null,frameBorder:null,hSpace:fe,leftMargin:fe,link:null,longDesc:null,lowSrc:null,marginHeight:fe,marginWidth:fe,noResize:Qe,noHref:Qe,noShade:Qe,noWrap:Qe,object:null,profile:null,prompt:null,rev:null,rightMargin:fe,rules:null,scheme:null,scrolling:un,standby:null,summary:null,text:null,topMargin:fe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:fe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Qe,disableRemotePlayback:Qe,prefix:null,property:null,results:fe,security:null,unselectable:null}}),coe=_c({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:K4,properties:{about:Pr,accentHeight:fe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:fe,amplitude:fe,arabicForm:null,ascent:fe,attributeName:null,attributeType:null,azimuth:fe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:fe,by:null,calcMode:null,capHeight:fe,className:Dt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:fe,diffuseConstant:fe,direction:null,display:null,dur:null,divisor:fe,dominantBaseline:null,download:Qe,dx:null,dy:null,edgeMode:null,editable:null,elevation:fe,enableBackground:null,end:null,event:null,exponent:fe,externalResourcesRequired:null,fill:null,fillOpacity:fe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Hu,g2:Hu,glyphName:Hu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:fe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:fe,horizOriginX:fe,horizOriginY:fe,id:null,ideographic:fe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:fe,k:fe,k1:fe,k2:fe,k3:fe,k4:fe,kernelMatrix:Pr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:fe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:fe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:fe,overlineThickness:fe,paintOrder:null,panose1:null,path:null,pathLength:fe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Dt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:fe,pointsAtY:fe,pointsAtZ:fe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Pr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Pr,rev:Pr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Pr,requiredFeatures:Pr,requiredFonts:Pr,requiredFormats:Pr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:fe,specularExponent:fe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:fe,strikethroughThickness:fe,string:null,stroke:null,strokeDashArray:Pr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:fe,strokeOpacity:fe,strokeWidth:null,style:null,surfaceScale:fe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Pr,tabIndex:fe,tableValues:null,target:null,targetX:fe,targetY:fe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Pr,to:null,transform:null,u1:null,u2:null,underlinePosition:fe,underlineThickness:fe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:fe,values:null,vAlphabetic:fe,vMathematical:fe,vectorEffect:null,vHanging:fe,vIdeographic:fe,version:null,vertAdvY:fe,vertOriginX:fe,vertOriginY:fe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:fe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),hoe=/^data[-\w.:]+$/i,BO=/-[a-z]/g,doe=/[A-Z]/g;function foe(t,e){const n=Tw(e);let r=e,i=Ci;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&hoe.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(BO,moe);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!BO.test(s)){let o=s.replace(doe,poe);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=DE}return new i(r,e)}function poe(t){return"-"+t.toLowerCase()}function moe(t){return t.charAt(1).toUpperCase()}const NO={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},goe=V4([Y4,X4,Q4,J4,uoe],"html"),voe=V4([Y4,X4,Q4,J4,coe],"svg");function yoe(t){if(t.allowedElements&&t.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(t.allowedElements||t.disallowedElements||t.allowElement)return e=>{ME(e,"element",(n,r,i)=>{const s=i;let o;if(t.allowedElements?o=!t.allowedElements.includes(n.tagName):t.disallowedElements&&(o=t.disallowedElements.includes(n.tagName)),!o&&t.allowElement&&typeof r=="number"&&(o=!t.allowElement(n,r,s)),o&&typeof r=="number")return t.unwrapDisallowed&&n.children?s.children.splice(r,1,...n.children):s.children.splice(r,1),r})}}var Pw={},boe={get exports(){return Pw},set exports(t){Pw=t}},_t={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LE=Symbol.for("react.element"),BE=Symbol.for("react.portal"),qv=Symbol.for("react.fragment"),Xv=Symbol.for("react.strict_mode"),Yv=Symbol.for("react.profiler"),Kv=Symbol.for("react.provider"),Zv=Symbol.for("react.context"),xoe=Symbol.for("react.server_context"),Qv=Symbol.for("react.forward_ref"),Jv=Symbol.for("react.suspense"),e0=Symbol.for("react.suspense_list"),t0=Symbol.for("react.memo"),n0=Symbol.for("react.lazy"),woe=Symbol.for("react.offscreen"),e5;e5=Symbol.for("react.module.reference");function Ti(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case LE:switch(t=t.type,t){case qv:case Yv:case Xv:case Jv:case e0:return t;default:switch(t=t&&t.$$typeof,t){case xoe:case Zv:case Qv:case n0:case t0:case Kv:return t;default:return e}}case BE:return e}}}_t.ContextConsumer=Zv;_t.ContextProvider=Kv;_t.Element=LE;_t.ForwardRef=Qv;_t.Fragment=qv;_t.Lazy=n0;_t.Memo=t0;_t.Portal=BE;_t.Profiler=Yv;_t.StrictMode=Xv;_t.Suspense=Jv;_t.SuspenseList=e0;_t.isAsyncMode=function(){return!1};_t.isConcurrentMode=function(){return!1};_t.isContextConsumer=function(t){return Ti(t)===Zv};_t.isContextProvider=function(t){return Ti(t)===Kv};_t.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===LE};_t.isForwardRef=function(t){return Ti(t)===Qv};_t.isFragment=function(t){return Ti(t)===qv};_t.isLazy=function(t){return Ti(t)===n0};_t.isMemo=function(t){return Ti(t)===t0};_t.isPortal=function(t){return Ti(t)===BE};_t.isProfiler=function(t){return Ti(t)===Yv};_t.isStrictMode=function(t){return Ti(t)===Xv};_t.isSuspense=function(t){return Ti(t)===Jv};_t.isSuspenseList=function(t){return Ti(t)===e0};_t.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===qv||t===Yv||t===Xv||t===Jv||t===e0||t===woe||typeof t=="object"&&t!==null&&(t.$$typeof===n0||t.$$typeof===t0||t.$$typeof===Kv||t.$$typeof===Zv||t.$$typeof===Qv||t.$$typeof===e5||t.getModuleId!==void 0)};_t.typeOf=Ti;(function(t){t.exports=_t})(boe);const _oe=U3(Pw);function Soe(t){const e=t&&typeof t=="object"&&t.type==="text"?t.value||"":t;return typeof e=="string"&&e.replace(/[ \t\n\f\r]/g,"")===""}function Eoe(t){return t.join(" ").trim()}function Coe(t,e){const n=e||{};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var Ag={},Toe={get exports(){return Ag},set exports(t){Ag=t}},$O=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Aoe=/\n/g,Poe=/^\s*/,koe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Ooe=/^:\s*/,Ioe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Roe=/^[;\s]*/,Moe=/^\s+|\s+$/g,Foe=`
`,UO="/",zO="*",$a="",Doe="comment",Loe="declaration",Boe=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(v){var y=v.match(Aoe);y&&(n+=y.length);var x=v.lastIndexOf(Foe);r=~x?v.length-x:r+v.length}function s(){var v={line:n,column:r};return function(y){return y.position=new o(v),c(),y}}function o(v){this.start=v,this.end={line:n,column:r},this.source=e.source}o.prototype.content=t;function a(v){var y=new Error(e.source+":"+n+":"+r+": "+v);if(y.reason=v,y.filename=e.source,y.line=n,y.column=r,y.source=t,!e.silent)throw y}function l(v){var y=v.exec(t);if(y){var x=y[0];return i(x),t=t.slice(x.length),y}}function c(){l(Poe)}function h(v){var y;for(v=v||[];y=f();)y!==!1&&v.push(y);return v}function f(){var v=s();if(!(UO!=t.charAt(0)||zO!=t.charAt(1))){for(var y=2;$a!=t.charAt(y)&&(zO!=t.charAt(y)||UO!=t.charAt(y+1));)++y;if(y+=2,$a===t.charAt(y-1))return a("End of comment missing");var x=t.slice(2,y-2);return r+=2,i(x),t=t.slice(y),r+=2,v({type:Doe,comment:x})}}function p(){var v=s(),y=l(koe);if(y){if(f(),!l(Ooe))return a("property missing ':'");var x=l(Ioe),b=v({type:Loe,property:HO(y[0].replace($O,$a)),value:x?HO(x[0].replace($O,$a)):$a});return l(Roe),b}}function m(){var v=[];h(v);for(var y;y=p();)y!==!1&&(v.push(y),h(v));return v}return c(),m()};function HO(t){return t?t.replace(Moe,$a):$a}var Noe=Boe;function t5(t,e){var n=null;if(!t||typeof t!="string")return n;for(var r,i=Noe(t),s=typeof e=="function",o,a,l=0,c=i.length;l<c;l++)r=i[l],o=r.property,a=r.value,s?e(o,a,r):a&&(n||(n={}),n[o]=a);return n}Toe.exports=t5;Ag.default=t5;const $oe=Ag,kw={}.hasOwnProperty,Uoe=new Set(["table","thead","tbody","tfoot","tr"]);function n5(t,e){const n=[];let r=-1,i;for(;++r<e.children.length;)i=e.children[r],i.type==="element"?n.push(zoe(t,i,r,e)):i.type==="text"?(e.type!=="element"||!Uoe.has(e.tagName)||!Soe(i))&&n.push(i.value):i.type==="raw"&&!t.options.skipHtml&&n.push(i.value);return n}function zoe(t,e,n,r){const i=t.options,s=i.transformLinkUri===void 0?Xne:i.transformLinkUri,o=t.schema,a=e.tagName,l={};let c=o,h;if(o.space==="html"&&a==="svg"&&(c=voe,t.schema=c),e.properties)for(h in e.properties)kw.call(e.properties,h)&&joe(l,h,e.properties[h],t);(a==="ol"||a==="ul")&&t.listDepth++;const f=n5(t,e);(a==="ol"||a==="ul")&&t.listDepth--,t.schema=o;const p=e.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},m=i.components&&kw.call(i.components,a)?i.components[a]:a,v=typeof m=="string"||m===P.Fragment;if(!_oe.isValidElementType(m))throw new TypeError(`Component for name \`${a}\` not defined or is not renderable`);if(l.key=[a,p.start.line,p.start.column,n].join("-"),a==="a"&&i.linkTarget&&(l.target=typeof i.linkTarget=="function"?i.linkTarget(String(l.href||""),e.children,typeof l.title=="string"?l.title:null):i.linkTarget),a==="a"&&s&&(l.href=s(String(l.href||""),e.children,typeof l.title=="string"?l.title:null)),!v&&a==="code"&&r.type==="element"&&r.tagName!=="pre"&&(l.inline=!0),!v&&(a==="h1"||a==="h2"||a==="h3"||a==="h4"||a==="h5"||a==="h6")&&(l.level=Number.parseInt(a.charAt(1),10)),a==="img"&&i.transformImageUri&&(l.src=i.transformImageUri(String(l.src||""),String(l.alt||""),typeof l.title=="string"?l.title:null)),!v&&a==="li"&&r.type==="element"){const y=Hoe(e);l.checked=y&&y.properties?Boolean(y.properties.checked):null,l.index=B1(r,e),l.ordered=r.tagName==="ol"}return!v&&(a==="ol"||a==="ul")&&(l.ordered=a==="ol",l.depth=t.listDepth),(a==="td"||a==="th")&&(l.align&&(l.style||(l.style={}),l.style.textAlign=l.align,delete l.align),v||(l.isHeader=a==="th")),!v&&a==="tr"&&r.type==="element"&&(l.isHeader=Boolean(r.tagName==="thead")),i.sourcePos&&(l["data-sourcepos"]=Voe(p)),!v&&i.rawSourcePos&&(l.sourcePosition=e.position),!v&&i.includeElementIndex&&(l.index=B1(r,e),l.siblingCount=B1(r)),v||(l.node=e),f.length>0?P.createElement(m,l,f):P.createElement(m,l)}function Hoe(t){let e=-1;for(;++e<t.children.length;){const n=t.children[e];if(n.type==="element"&&n.tagName==="input")return n}return null}function B1(t,e){let n=-1,r=0;for(;++n<t.children.length&&t.children[n]!==e;)t.children[n].type==="element"&&r++;return r}function joe(t,e,n,r){const i=foe(r.schema,e);let s=n;s==null||s!==s||(Array.isArray(s)&&(s=i.commaSeparated?Coe(s):Eoe(s)),i.property==="style"&&typeof s=="string"&&(s=Woe(s)),i.space&&i.property?t[kw.call(NO,i.property)?NO[i.property]:i.property]=s:i.attribute&&(t[i.attribute]=s))}function Woe(t){const e={};try{$oe(t,n)}catch{}return e;function n(r,i){const s=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;e[s.replace(/-([a-z])/g,Goe)]=i}}function Goe(t,e){return e.toUpperCase()}function Voe(t){return[t.start.line,":",t.start.column,"-",t.end.line,":",t.end.column].map(String).join("")}const jO={}.hasOwnProperty,qoe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Bp={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function r5(t){for(const s in Bp)if(jO.call(Bp,s)&&jO.call(t,s)){const o=Bp[s];console.warn(`[react-markdown] Warning: please ${o.to?`use \`${o.to}\` instead of`:"remove"} \`${s}\` (see <${qoe}#${o.id}> for more info)`),delete Bp[s]}const e=ure().use(fse).use(t.remarkPlugins||[]).use(ioe,{...t.remarkRehypeOptions,allowDangerousHtml:!0}).use(t.rehypePlugins||[]).use(yoe,t),n=new _4;typeof t.children=="string"?n.value=t.children:t.children!==void 0&&t.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${t.children}\`)`);const r=e.runSync(e.parse(n),n);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=P.createElement(P.Fragment,{},n5({options:t,schema:goe,listDepth:0},r));return t.className&&(i=P.createElement("div",{className:t.className},i)),i}r5.propTypes={children:B.string,className:B.string,allowElement:B.func,allowedElements:B.arrayOf(B.string),disallowedElements:B.arrayOf(B.string),unwrapDisallowed:B.bool,remarkPlugins:B.arrayOf(B.oneOfType([B.object,B.func,B.arrayOf(B.oneOfType([B.bool,B.string,B.object,B.func,B.arrayOf(B.any)]))])),rehypePlugins:B.arrayOf(B.oneOfType([B.object,B.func,B.arrayOf(B.oneOfType([B.bool,B.string,B.object,B.func,B.arrayOf(B.any)]))])),sourcePos:B.bool,rawSourcePos:B.bool,skipHtml:B.bool,includeElementIndex:B.bool,transformLinkUri:B.oneOfType([B.func,B.bool]),linkTarget:B.oneOfType([B.func,B.string]),transformImageUri:B.func,components:B.object};const cf=T.createContext({});function Xoe(){const t=window.localStorage.getItem("dragon-tagColors");if(t)try{return JSON.parse(t)}catch{return{}}else return{}}const Yoe=(t,e)=>{const{tag:n,color:r,type:i,colors:s}=e;let o=ut(t);return i==="add"?(o[n]=r,o):i==="set"?(o=s||{},window.localStorage.setItem("dragon-tagColors",JSON.stringify(o)),s):(i==="save"&&window.localStorage.setItem("dragon-tagColors",JSON.stringify(o)),t)},Koe=({children:t})=>{const[e,n]=T.useReducer(Yoe,Xoe());return k(cf.Provider,{value:{tagColors:e,setTagColors:n},children:t})};function Zoe(t,e,n,r,i,s){let o={};const a=i||n;return o.borderColor=a,e&&(o.backgroundColor=a,o.fontWeight=500),r&&(o.borderColor="transparent",o.backgroundColor=a,o.color="#222",o.fontWeight=600,o.borderRadius=12),Cs(t)&&(o.cursor="pointer",o.paddingRight="32px"),s==="light"&&(o.borderWidth=2,o.color="#333"),o}function Ow({label:t,clicked:e,selected:n,children:r,emphasize:i,color:s}){const{tagColors:o}=T.useContext(cf),{theme:a}=T.useContext(bc);return ee("span",{onClick:c=>{Cs(e)&&e(t)},className:"stat-tag",style:Zoe(e,n,o&&o[t]||"#fff",i,s,a),children:[t," ",e&&k("div",{className:"check",children:n?k($Z,{size:14}):""}),r&&r]})}function Qi({type:t="default",color:e="white",children:n,clicked:r,disabled:i=!1}){return k("button",{className:"big-button "+t+" "+e+" "+(i?"disabled":""),onClick:i?()=>{}:r,children:n})}function r0({value:t,valueChanged:e,className:n="",minWidth:r=48,min:i=void 0,max:s=void 0}){const[o,a]=T.useState(+t),[l,c]=T.useState(r),h=T.useRef({offsetWidth:0});T.useEffect(()=>{var m;const p=((m=h==null?void 0:h.current)==null?void 0:m.offsetWidth)+24;c(p>r?p:r)},[o]);const f=p=>{a(+p.target.value),e(+p.target.value)};return ee("div",{className:"fancy-text-input form-control "+n,children:[k("span",{className:"hidden-text",ref:h,children:o}),k("input",{min:i,max:s,value:o,type:"number",style:{width:l},onChange:f})]})}function is({value:t,valueChanged:e,className:n,blur:r,minWidth:i=48,placeholder:s="",fullWidth:o=!1,autoFocus:a=void 0,unsavedData:l=!1}){const[c,h]=T.useState(t),[f,p]=T.useState(o?"100%":i),m=T.useRef({offsetWidth:0}),v=T.useRef(null);T.useEffect(()=>{var x;if(!Mr(c)&&!o){const b=((x=m==null?void 0:m.current)==null?void 0:x.clientWidth)+24;p(b>i?b:i)}},[c]),T.useEffect(()=>{h(t)},[t]),T.useEffect(()=>{var x;!Mr(a)&&a&&((x=v.current)==null||x.focus())},[a]);const y=x=>{e(x.target.value)};return ee("div",{className:"fancy-text-input form-control "+n,children:[k("span",{className:"hidden-text",ref:m,children:c}),k("input",{className:co({unsavedData:l}),ref:v,placeholder:s,onBlur:r,value:c,type:"text",style:{width:f},onChange:y})]})}function Qoe({params:t,paramsChanged:e}){const[n,r]=T.useState(t);T.useEffect(()=>{r(t)},[t]);const i=(l,c)=>{let h=ut(n);h[c].name=l,e(h)},s=(l,c)=>{let h=ut(n);h[c].value=l,e(h)},o=()=>{e([...t,{name:"",value:0}])},a=l=>{let c=ut(n);c.splice(l,1),e(c)};return ee("div",{className:"param-editor",children:[n&&ze(n,(l,c)=>ee("div",{className:"param-line",children:[k(St,{color:"danger",clicked:()=>a(c),children:k(xo,{size:"18"})}),k(is,{minWidth:120,placeholder:"name",className:"param-input",value:l.name,valueChanged:h=>i(h,c)}),k(r0,{className:"param-input",value:l.value,valueChanged:h=>s(h,c)})]})),k("div",{className:"add-button",children:ee(Qi,{disabled:nf(n,{name:""}),color:"theme",clicked:o,children:["Add Param ",k(rs,{size:20})]})})]})}var fi={},hf={},Joe=typeof hr=="object"&&hr&&hr.Object===Object&&hr,i5=Joe,eae=i5,tae=typeof self=="object"&&self&&self.Object===Object&&self,nae=eae||tae||Function("return this")(),Fs=nae,rae=Fs,iae=rae.Symbol,df=iae,WO=df,s5=Object.prototype,sae=s5.hasOwnProperty,oae=s5.toString,ch=WO?WO.toStringTag:void 0;function aae(t){var e=sae.call(t,ch),n=t[ch];try{t[ch]=void 0;var r=!0}catch{}var i=oae.call(t);return r&&(e?t[ch]=n:delete t[ch]),i}var lae=aae,uae=Object.prototype,cae=uae.toString;function hae(t){return cae.call(t)}var dae=hae,GO=df,fae=lae,pae=dae,mae="[object Null]",gae="[object Undefined]",VO=GO?GO.toStringTag:void 0;function vae(t){return t==null?t===void 0?gae:mae:VO&&VO in Object(t)?fae(t):pae(t)}var wl=vae,yae=Array.isArray,us=yae;function bae(t){return t!=null&&typeof t=="object"}var _o=bae,xae=wl,wae=us,_ae=_o,Sae="[object String]";function Eae(t){return typeof t=="string"||!wae(t)&&_ae(t)&&xae(t)==Sae}var Cae=Eae;function Tae(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var Aae=Tae,Pae=Aae,kae=Pae(),Oae=kae;function Iae(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Rae=Iae,Mae=wl,Fae=_o,Dae="[object Arguments]";function Lae(t){return Fae(t)&&Mae(t)==Dae}var Bae=Lae,qO=Bae,Nae=_o,o5=Object.prototype,$ae=o5.hasOwnProperty,Uae=o5.propertyIsEnumerable,zae=qO(function(){return arguments}())?qO:function(t){return Nae(t)&&$ae.call(t,"callee")&&!Uae.call(t,"callee")},a5=zae,ic={},Hae={get exports(){return ic},set exports(t){ic=t}};function jae(){return!1}var Wae=jae;(function(t,e){var n=Fs,r=Wae,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(Hae,ic);var Gae=9007199254740991,Vae=/^(?:0|[1-9]\d*)$/;function qae(t,e){var n=typeof t;return e=e??Gae,!!e&&(n=="number"||n!="symbol"&&Vae.test(t))&&t>-1&&t%1==0&&t<e}var l5=qae,Xae=9007199254740991;function Yae(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Xae}var NE=Yae,Kae=wl,Zae=NE,Qae=_o,Jae="[object Arguments]",ele="[object Array]",tle="[object Boolean]",nle="[object Date]",rle="[object Error]",ile="[object Function]",sle="[object Map]",ole="[object Number]",ale="[object Object]",lle="[object RegExp]",ule="[object Set]",cle="[object String]",hle="[object WeakMap]",dle="[object ArrayBuffer]",fle="[object DataView]",ple="[object Float32Array]",mle="[object Float64Array]",gle="[object Int8Array]",vle="[object Int16Array]",yle="[object Int32Array]",ble="[object Uint8Array]",xle="[object Uint8ClampedArray]",wle="[object Uint16Array]",_le="[object Uint32Array]",Lt={};Lt[ple]=Lt[mle]=Lt[gle]=Lt[vle]=Lt[yle]=Lt[ble]=Lt[xle]=Lt[wle]=Lt[_le]=!0;Lt[Jae]=Lt[ele]=Lt[dle]=Lt[tle]=Lt[fle]=Lt[nle]=Lt[rle]=Lt[ile]=Lt[sle]=Lt[ole]=Lt[ale]=Lt[lle]=Lt[ule]=Lt[cle]=Lt[hle]=!1;function Sle(t){return Qae(t)&&Zae(t.length)&&!!Lt[Kae(t)]}var Ele=Sle;function Cle(t){return function(e){return t(e)}}var $E=Cle,sc={},Tle={get exports(){return sc},set exports(t){sc=t}};(function(t,e){var n=i5,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(Tle,sc);var Ale=Ele,Ple=$E,XO=sc,YO=XO&&XO.isTypedArray,kle=YO?Ple(YO):Ale,u5=kle,Ole=Rae,Ile=a5,Rle=us,Mle=ic,Fle=l5,Dle=u5,Lle=Object.prototype,Ble=Lle.hasOwnProperty;function Nle(t,e){var n=Rle(t),r=!n&&Ile(t),i=!n&&!r&&Mle(t),s=!n&&!r&&!i&&Dle(t),o=n||r||i||s,a=o?Ole(t.length,String):[],l=a.length;for(var c in t)(e||Ble.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Fle(c,l)))&&a.push(c);return a}var c5=Nle,$le=Object.prototype;function Ule(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||$le;return t===n}var UE=Ule;function zle(t,e){return function(n){return t(e(n))}}var h5=zle,Hle=h5,jle=Hle(Object.keys,Object),Wle=jle,Gle=UE,Vle=Wle,qle=Object.prototype,Xle=qle.hasOwnProperty;function Yle(t){if(!Gle(t))return Vle(t);var e=[];for(var n in Object(t))Xle.call(t,n)&&n!="constructor"&&e.push(n);return e}var Kle=Yle;function Zle(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Sc=Zle,Qle=wl,Jle=Sc,eue="[object AsyncFunction]",tue="[object Function]",nue="[object GeneratorFunction]",rue="[object Proxy]";function iue(t){if(!Jle(t))return!1;var e=Qle(t);return e==tue||e==nue||e==eue||e==rue}var d5=iue,sue=d5,oue=NE;function aue(t){return t!=null&&oue(t.length)&&!sue(t)}var i0=aue,lue=c5,uue=Kle,cue=i0;function hue(t){return cue(t)?lue(t):uue(t)}var ff=hue,due=Oae,fue=ff;function pue(t,e){return t&&due(t,e,fue)}var f5=pue;function mue(t){return t}var p5=mue,gue=p5;function vue(t){return typeof t=="function"?t:gue}var yue=vue,bue=f5,xue=yue;function wue(t,e){return t&&bue(t,xue(e))}var zE=wue,_ue=h5,Sue=_ue(Object.getPrototypeOf,Object),HE=Sue,Eue=wl,Cue=HE,Tue=_o,Aue="[object Object]",Pue=Function.prototype,kue=Object.prototype,m5=Pue.toString,Oue=kue.hasOwnProperty,Iue=m5.call(Object);function Rue(t){if(!Tue(t)||Eue(t)!=Aue)return!1;var e=Cue(t);if(e===null)return!0;var n=Oue.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&m5.call(n)==Iue}var Mue=Rue;function Fue(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var g5=Fue;function Due(){this.__data__=[],this.size=0}var Lue=Due;function Bue(t,e){return t===e||t!==t&&e!==e}var jE=Bue,Nue=jE;function $ue(t,e){for(var n=t.length;n--;)if(Nue(t[n][0],e))return n;return-1}var s0=$ue,Uue=s0,zue=Array.prototype,Hue=zue.splice;function jue(t){var e=this.__data__,n=Uue(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Hue.call(e,n,1),--this.size,!0}var Wue=jue,Gue=s0;function Vue(t){var e=this.__data__,n=Gue(e,t);return n<0?void 0:e[n][1]}var que=Vue,Xue=s0;function Yue(t){return Xue(this.__data__,t)>-1}var Kue=Yue,Zue=s0;function Que(t,e){var n=this.__data__,r=Zue(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Jue=Que,ece=Lue,tce=Wue,nce=que,rce=Kue,ice=Jue;function Ec(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ec.prototype.clear=ece;Ec.prototype.delete=tce;Ec.prototype.get=nce;Ec.prototype.has=rce;Ec.prototype.set=ice;var o0=Ec,sce=o0;function oce(){this.__data__=new sce,this.size=0}var ace=oce;function lce(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var uce=lce;function cce(t){return this.__data__.get(t)}var hce=cce;function dce(t){return this.__data__.has(t)}var fce=dce,pce=Fs,mce=pce["__core-js_shared__"],gce=mce,N1=gce,KO=function(){var t=/[^.]+$/.exec(N1&&N1.keys&&N1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function vce(t){return!!KO&&KO in t}var yce=vce,bce=Function.prototype,xce=bce.toString;function wce(t){if(t!=null){try{return xce.call(t)}catch{}try{return t+""}catch{}}return""}var v5=wce,_ce=d5,Sce=yce,Ece=Sc,Cce=v5,Tce=/[\\^$.*+?()[\]{}|]/g,Ace=/^\[object .+?Constructor\]$/,Pce=Function.prototype,kce=Object.prototype,Oce=Pce.toString,Ice=kce.hasOwnProperty,Rce=RegExp("^"+Oce.call(Ice).replace(Tce,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Mce(t){if(!Ece(t)||Sce(t))return!1;var e=_ce(t)?Rce:Ace;return e.test(Cce(t))}var Fce=Mce;function Dce(t,e){return t==null?void 0:t[e]}var Lce=Dce,Bce=Fce,Nce=Lce;function $ce(t,e){var n=Nce(t,e);return Bce(n)?n:void 0}var _l=$ce,Uce=_l,zce=Fs,Hce=Uce(zce,"Map"),WE=Hce,jce=_l,Wce=jce(Object,"create"),a0=Wce,ZO=a0;function Gce(){this.__data__=ZO?ZO(null):{},this.size=0}var Vce=Gce;function qce(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Xce=qce,Yce=a0,Kce="__lodash_hash_undefined__",Zce=Object.prototype,Qce=Zce.hasOwnProperty;function Jce(t){var e=this.__data__;if(Yce){var n=e[t];return n===Kce?void 0:n}return Qce.call(e,t)?e[t]:void 0}var ehe=Jce,the=a0,nhe=Object.prototype,rhe=nhe.hasOwnProperty;function ihe(t){var e=this.__data__;return the?e[t]!==void 0:rhe.call(e,t)}var she=ihe,ohe=a0,ahe="__lodash_hash_undefined__";function lhe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ohe&&e===void 0?ahe:e,this}var uhe=lhe,che=Vce,hhe=Xce,dhe=ehe,fhe=she,phe=uhe;function Cc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Cc.prototype.clear=che;Cc.prototype.delete=hhe;Cc.prototype.get=dhe;Cc.prototype.has=fhe;Cc.prototype.set=phe;var mhe=Cc,QO=mhe,ghe=o0,vhe=WE;function yhe(){this.size=0,this.__data__={hash:new QO,map:new(vhe||ghe),string:new QO}}var bhe=yhe;function xhe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var whe=xhe,_he=whe;function She(t,e){var n=t.__data__;return _he(e)?n[typeof e=="string"?"string":"hash"]:n.map}var l0=She,Ehe=l0;function Che(t){var e=Ehe(this,t).delete(t);return this.size-=e?1:0,e}var The=Che,Ahe=l0;function Phe(t){return Ahe(this,t).get(t)}var khe=Phe,Ohe=l0;function Ihe(t){return Ohe(this,t).has(t)}var Rhe=Ihe,Mhe=l0;function Fhe(t,e){var n=Mhe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Dhe=Fhe,Lhe=bhe,Bhe=The,Nhe=khe,$he=Rhe,Uhe=Dhe;function Tc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Tc.prototype.clear=Lhe;Tc.prototype.delete=Bhe;Tc.prototype.get=Nhe;Tc.prototype.has=$he;Tc.prototype.set=Uhe;var GE=Tc,zhe=o0,Hhe=WE,jhe=GE,Whe=200;function Ghe(t,e){var n=this.__data__;if(n instanceof zhe){var r=n.__data__;if(!Hhe||r.length<Whe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new jhe(r)}return n.set(t,e),this.size=n.size,this}var Vhe=Ghe,qhe=o0,Xhe=ace,Yhe=uce,Khe=hce,Zhe=fce,Qhe=Vhe;function Ac(t){var e=this.__data__=new qhe(t);this.size=e.size}Ac.prototype.clear=Xhe;Ac.prototype.delete=Yhe;Ac.prototype.get=Khe;Ac.prototype.has=Zhe;Ac.prototype.set=Qhe;var VE=Ac,Jhe="__lodash_hash_undefined__";function ede(t){return this.__data__.set(t,Jhe),this}var tde=ede;function nde(t){return this.__data__.has(t)}var rde=nde,ide=GE,sde=tde,ode=rde;function Pg(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ide;++e<n;)this.add(t[e])}Pg.prototype.add=Pg.prototype.push=sde;Pg.prototype.has=ode;var ade=Pg;function lde(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var ude=lde;function cde(t,e){return t.has(e)}var hde=cde,dde=ade,fde=ude,pde=hde,mde=1,gde=2;function vde(t,e,n,r,i,s){var o=n&mde,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),h=s.get(e);if(c&&h)return c==e&&h==t;var f=-1,p=!0,m=n&gde?new dde:void 0;for(s.set(t,e),s.set(e,t);++f<a;){var v=t[f],y=e[f];if(r)var x=o?r(y,v,f,e,t,s):r(v,y,f,t,e,s);if(x!==void 0){if(x)continue;p=!1;break}if(m){if(!fde(e,function(b,_){if(!pde(m,_)&&(v===b||i(v,b,n,r,s)))return m.push(_)})){p=!1;break}}else if(!(v===y||i(v,y,n,r,s))){p=!1;break}}return s.delete(t),s.delete(e),p}var y5=vde,yde=Fs,bde=yde.Uint8Array,b5=bde;function xde(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var wde=xde;function _de(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Sde=_de,JO=df,eI=b5,Ede=jE,Cde=y5,Tde=wde,Ade=Sde,Pde=1,kde=2,Ode="[object Boolean]",Ide="[object Date]",Rde="[object Error]",Mde="[object Map]",Fde="[object Number]",Dde="[object RegExp]",Lde="[object Set]",Bde="[object String]",Nde="[object Symbol]",$de="[object ArrayBuffer]",Ude="[object DataView]",tI=JO?JO.prototype:void 0,$1=tI?tI.valueOf:void 0;function zde(t,e,n,r,i,s,o){switch(n){case Ude:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case $de:return!(t.byteLength!=e.byteLength||!s(new eI(t),new eI(e)));case Ode:case Ide:case Fde:return Ede(+t,+e);case Rde:return t.name==e.name&&t.message==e.message;case Dde:case Bde:return t==e+"";case Mde:var a=Tde;case Lde:var l=r&Pde;if(a||(a=Ade),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=kde,o.set(t,e);var h=Cde(a(t),a(e),r,i,s,o);return o.delete(t),h;case Nde:if($1)return $1.call(t)==$1.call(e)}return!1}var Hde=zde;function jde(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var x5=jde,Wde=x5,Gde=us;function Vde(t,e,n){var r=e(t);return Gde(t)?r:Wde(r,n(t))}var w5=Vde;function qde(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var Xde=qde;function Yde(){return[]}var _5=Yde,Kde=Xde,Zde=_5,Qde=Object.prototype,Jde=Qde.propertyIsEnumerable,nI=Object.getOwnPropertySymbols,efe=nI?function(t){return t==null?[]:(t=Object(t),Kde(nI(t),function(e){return Jde.call(t,e)}))}:Zde,qE=efe,tfe=w5,nfe=qE,rfe=ff;function ife(t){return tfe(t,rfe,nfe)}var S5=ife,rI=S5,sfe=1,ofe=Object.prototype,afe=ofe.hasOwnProperty;function lfe(t,e,n,r,i,s){var o=n&sfe,a=rI(t),l=a.length,c=rI(e),h=c.length;if(l!=h&&!o)return!1;for(var f=l;f--;){var p=a[f];if(!(o?p in e:afe.call(e,p)))return!1}var m=s.get(t),v=s.get(e);if(m&&v)return m==e&&v==t;var y=!0;s.set(t,e),s.set(e,t);for(var x=o;++f<l;){p=a[f];var b=t[p],_=e[p];if(r)var w=o?r(_,b,p,e,t,s):r(b,_,p,t,e,s);if(!(w===void 0?b===_||i(b,_,n,r,s):w)){y=!1;break}x||(x=p=="constructor")}if(y&&!x){var E=t.constructor,O=e.constructor;E!=O&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof O=="function"&&O instanceof O)&&(y=!1)}return s.delete(t),s.delete(e),y}var ufe=lfe,cfe=_l,hfe=Fs,dfe=cfe(hfe,"DataView"),ffe=dfe,pfe=_l,mfe=Fs,gfe=pfe(mfe,"Promise"),vfe=gfe,yfe=_l,bfe=Fs,xfe=yfe(bfe,"Set"),wfe=xfe,_fe=_l,Sfe=Fs,Efe=_fe(Sfe,"WeakMap"),Cfe=Efe,Iw=ffe,Rw=WE,Mw=vfe,Fw=wfe,Dw=Cfe,E5=wl,Pc=v5,iI="[object Map]",Tfe="[object Object]",sI="[object Promise]",oI="[object Set]",aI="[object WeakMap]",lI="[object DataView]",Afe=Pc(Iw),Pfe=Pc(Rw),kfe=Pc(Mw),Ofe=Pc(Fw),Ife=Pc(Dw),Fa=E5;(Iw&&Fa(new Iw(new ArrayBuffer(1)))!=lI||Rw&&Fa(new Rw)!=iI||Mw&&Fa(Mw.resolve())!=sI||Fw&&Fa(new Fw)!=oI||Dw&&Fa(new Dw)!=aI)&&(Fa=function(t){var e=E5(t),n=e==Tfe?t.constructor:void 0,r=n?Pc(n):"";if(r)switch(r){case Afe:return lI;case Pfe:return iI;case kfe:return sI;case Ofe:return oI;case Ife:return aI}return e});var u0=Fa,U1=VE,Rfe=y5,Mfe=Hde,Ffe=ufe,uI=u0,cI=us,hI=ic,Dfe=u5,Lfe=1,dI="[object Arguments]",fI="[object Array]",Np="[object Object]",Bfe=Object.prototype,pI=Bfe.hasOwnProperty;function Nfe(t,e,n,r,i,s){var o=cI(t),a=cI(e),l=o?fI:uI(t),c=a?fI:uI(e);l=l==dI?Np:l,c=c==dI?Np:c;var h=l==Np,f=c==Np,p=l==c;if(p&&hI(t)){if(!hI(e))return!1;o=!0,h=!1}if(p&&!h)return s||(s=new U1),o||Dfe(t)?Rfe(t,e,n,r,i,s):Mfe(t,e,l,n,r,i,s);if(!(n&Lfe)){var m=h&&pI.call(t,"__wrapped__"),v=f&&pI.call(e,"__wrapped__");if(m||v){var y=m?t.value():t,x=v?e.value():e;return s||(s=new U1),i(y,x,n,r,s)}}return p?(s||(s=new U1),Ffe(t,e,n,r,i,s)):!1}var $fe=Nfe,Ufe=$fe,mI=_o;function C5(t,e,n,r,i){return t===e?!0:t==null||e==null||!mI(t)&&!mI(e)?t!==t&&e!==e:Ufe(t,e,n,r,C5,i)}var T5=C5,zfe=VE,Hfe=T5,jfe=1,Wfe=2;function Gfe(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],c=t[l],h=a[1];if(o&&a[2]){if(c===void 0&&!(l in t))return!1}else{var f=new zfe;if(r)var p=r(c,h,l,t,e,f);if(!(p===void 0?Hfe(h,c,jfe|Wfe,r,f):p))return!1}}return!0}var Vfe=Gfe,qfe=Sc;function Xfe(t){return t===t&&!qfe(t)}var A5=Xfe,Yfe=A5,Kfe=ff;function Zfe(t){for(var e=Kfe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Yfe(i)]}return e}var Qfe=Zfe;function Jfe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var P5=Jfe,epe=Vfe,tpe=Qfe,npe=P5;function rpe(t){var e=tpe(t);return e.length==1&&e[0][2]?npe(e[0][0],e[0][1]):function(n){return n===t||epe(n,t,e)}}var ipe=rpe,spe=wl,ope=_o,ape="[object Symbol]";function lpe(t){return typeof t=="symbol"||ope(t)&&spe(t)==ape}var XE=lpe,upe=us,cpe=XE,hpe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dpe=/^\w*$/;function fpe(t,e){if(upe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||cpe(t)?!0:dpe.test(t)||!hpe.test(t)||e!=null&&t in Object(e)}var YE=fpe,k5=GE,ppe="Expected a function";function KE(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(ppe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(KE.Cache||k5),n}KE.Cache=k5;var mpe=KE,gpe=mpe,vpe=500;function ype(t){var e=gpe(t,function(r){return n.size===vpe&&n.clear(),r}),n=e.cache;return e}var bpe=ype,xpe=bpe,wpe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_pe=/\\(\\)?/g,Spe=xpe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(wpe,function(n,r,i,s){e.push(i?s.replace(_pe,"$1"):r||n)}),e}),Epe=Spe,gI=df,Cpe=g5,Tpe=us,Ape=XE,Ppe=1/0,vI=gI?gI.prototype:void 0,yI=vI?vI.toString:void 0;function O5(t){if(typeof t=="string")return t;if(Tpe(t))return Cpe(t,O5)+"";if(Ape(t))return yI?yI.call(t):"";var e=t+"";return e=="0"&&1/t==-Ppe?"-0":e}var kpe=O5,Ope=kpe;function Ipe(t){return t==null?"":Ope(t)}var Rpe=Ipe,Mpe=us,Fpe=YE,Dpe=Epe,Lpe=Rpe;function Bpe(t,e){return Mpe(t)?t:Fpe(t,e)?[t]:Dpe(Lpe(t))}var I5=Bpe,Npe=XE,$pe=1/0;function Upe(t){if(typeof t=="string"||Npe(t))return t;var e=t+"";return e=="0"&&1/t==-$pe?"-0":e}var c0=Upe,zpe=I5,Hpe=c0;function jpe(t,e){e=zpe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Hpe(e[n++])];return n&&n==r?t:void 0}var R5=jpe,Wpe=R5;function Gpe(t,e,n){var r=t==null?void 0:Wpe(t,e);return r===void 0?n:r}var Vpe=Gpe;function qpe(t,e){return t!=null&&e in Object(t)}var Xpe=qpe,Ype=I5,Kpe=a5,Zpe=us,Qpe=l5,Jpe=NE,eme=c0;function tme(t,e,n){e=Ype(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=eme(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&Jpe(i)&&Qpe(o,i)&&(Zpe(t)||Kpe(t)))}var nme=tme,rme=Xpe,ime=nme;function sme(t,e){return t!=null&&ime(t,e,rme)}var ome=sme,ame=T5,lme=Vpe,ume=ome,cme=YE,hme=A5,dme=P5,fme=c0,pme=1,mme=2;function gme(t,e){return cme(t)&&hme(e)?dme(fme(t),e):function(n){var r=lme(n,t);return r===void 0&&r===e?ume(n,t):ame(e,r,pme|mme)}}var vme=gme;function yme(t){return function(e){return e==null?void 0:e[t]}}var bme=yme,xme=R5;function wme(t){return function(e){return xme(e,t)}}var _me=wme,Sme=bme,Eme=_me,Cme=YE,Tme=c0;function Ame(t){return Cme(t)?Sme(Tme(t)):Eme(t)}var Pme=Ame,kme=ipe,Ome=vme,Ime=p5,Rme=us,Mme=Pme;function Fme(t){return typeof t=="function"?t:t==null?Ime:typeof t=="object"?Rme(t)?Ome(t[0],t[1]):kme(t):Mme(t)}var Dme=Fme,Lme=i0;function Bme(t,e){return function(n,r){if(n==null)return n;if(!Lme(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var Nme=Bme,$me=f5,Ume=Nme,zme=Ume($me),Hme=zme,jme=Hme,Wme=i0;function Gme(t,e){var n=-1,r=Wme(t)?Array(t.length):[];return jme(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var Vme=Gme,qme=g5,Xme=Dme,Yme=Vme,Kme=us;function Zme(t,e){var n=Kme(t)?qme:Yme;return n(t,Xme(e))}var Qme=Zme;Object.defineProperty(hf,"__esModule",{value:!0});hf.flattenNames=void 0;var Jme=Cae,ege=h0(Jme),tge=zE,nge=h0(tge),rge=Mue,ige=h0(rge),sge=Qme,oge=h0(sge);function h0(t){return t&&t.__esModule?t:{default:t}}var age=hf.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,oge.default)(e,function(r){Array.isArray(r)?t(r).map(function(i){return n.push(i)}):(0,ige.default)(r)?(0,nge.default)(r,function(i,s){i===!0&&n.push(s),n.push(s+"-"+i)}):(0,ege.default)(r)&&n.push(r)}),n};hf.default=age;var pf={};function lge(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var uge=lge,cge=_l,hge=function(){try{var t=cge(Object,"defineProperty");return t({},"",{}),t}catch{}}(),dge=hge,bI=dge;function fge(t,e,n){e=="__proto__"&&bI?bI(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var M5=fge,pge=M5,mge=jE,gge=Object.prototype,vge=gge.hasOwnProperty;function yge(t,e,n){var r=t[e];(!(vge.call(t,e)&&mge(r,n))||n===void 0&&!(e in t))&&pge(t,e,n)}var F5=yge,bge=F5,xge=M5;function wge(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?xge(n,a,l):bge(n,a,l)}return n}var d0=wge,_ge=d0,Sge=ff;function Ege(t,e){return t&&_ge(e,Sge(e),t)}var Cge=Ege;function Tge(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Age=Tge,Pge=Sc,kge=UE,Oge=Age,Ige=Object.prototype,Rge=Ige.hasOwnProperty;function Mge(t){if(!Pge(t))return Oge(t);var e=kge(t),n=[];for(var r in t)r=="constructor"&&(e||!Rge.call(t,r))||n.push(r);return n}var Fge=Mge,Dge=c5,Lge=Fge,Bge=i0;function Nge(t){return Bge(t)?Dge(t,!0):Lge(t)}var ZE=Nge,$ge=d0,Uge=ZE;function zge(t,e){return t&&$ge(e,Uge(e),t)}var Hge=zge,kg={},jge={get exports(){return kg},set exports(t){kg=t}};(function(t,e){var n=Fs,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(c,h){if(h)return c.slice();var f=c.length,p=a?a(f):new c.constructor(f);return c.copy(p),p}t.exports=l})(jge,kg);function Wge(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var Gge=Wge,Vge=d0,qge=qE;function Xge(t,e){return Vge(t,qge(t),e)}var Yge=Xge,Kge=x5,Zge=HE,Qge=qE,Jge=_5,eve=Object.getOwnPropertySymbols,tve=eve?function(t){for(var e=[];t;)Kge(e,Qge(t)),t=Zge(t);return e}:Jge,D5=tve,nve=d0,rve=D5;function ive(t,e){return nve(t,rve(t),e)}var sve=ive,ove=w5,ave=D5,lve=ZE;function uve(t){return ove(t,lve,ave)}var cve=uve,hve=Object.prototype,dve=hve.hasOwnProperty;function fve(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&dve.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var pve=fve,xI=b5;function mve(t){var e=new t.constructor(t.byteLength);return new xI(e).set(new xI(t)),e}var QE=mve,gve=QE;function vve(t,e){var n=e?gve(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var yve=vve,bve=/\w*$/;function xve(t){var e=new t.constructor(t.source,bve.exec(t));return e.lastIndex=t.lastIndex,e}var wve=xve,wI=df,_I=wI?wI.prototype:void 0,SI=_I?_I.valueOf:void 0;function _ve(t){return SI?Object(SI.call(t)):{}}var Sve=_ve,Eve=QE;function Cve(t,e){var n=e?Eve(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Tve=Cve,Ave=QE,Pve=yve,kve=wve,Ove=Sve,Ive=Tve,Rve="[object Boolean]",Mve="[object Date]",Fve="[object Map]",Dve="[object Number]",Lve="[object RegExp]",Bve="[object Set]",Nve="[object String]",$ve="[object Symbol]",Uve="[object ArrayBuffer]",zve="[object DataView]",Hve="[object Float32Array]",jve="[object Float64Array]",Wve="[object Int8Array]",Gve="[object Int16Array]",Vve="[object Int32Array]",qve="[object Uint8Array]",Xve="[object Uint8ClampedArray]",Yve="[object Uint16Array]",Kve="[object Uint32Array]";function Zve(t,e,n){var r=t.constructor;switch(e){case Uve:return Ave(t);case Rve:case Mve:return new r(+t);case zve:return Pve(t,n);case Hve:case jve:case Wve:case Gve:case Vve:case qve:case Xve:case Yve:case Kve:return Ive(t,n);case Fve:return new r;case Dve:case Nve:return new r(t);case Lve:return kve(t);case Bve:return new r;case $ve:return Ove(t)}}var Qve=Zve,Jve=Sc,EI=Object.create,e0e=function(){function t(){}return function(e){if(!Jve(e))return{};if(EI)return EI(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),t0e=e0e,n0e=t0e,r0e=HE,i0e=UE;function s0e(t){return typeof t.constructor=="function"&&!i0e(t)?n0e(r0e(t)):{}}var o0e=s0e,a0e=u0,l0e=_o,u0e="[object Map]";function c0e(t){return l0e(t)&&a0e(t)==u0e}var h0e=c0e,d0e=h0e,f0e=$E,CI=sc,TI=CI&&CI.isMap,p0e=TI?f0e(TI):d0e,m0e=p0e,g0e=u0,v0e=_o,y0e="[object Set]";function b0e(t){return v0e(t)&&g0e(t)==y0e}var x0e=b0e,w0e=x0e,_0e=$E,AI=sc,PI=AI&&AI.isSet,S0e=PI?_0e(PI):w0e,E0e=S0e,C0e=VE,T0e=uge,A0e=F5,P0e=Cge,k0e=Hge,O0e=kg,I0e=Gge,R0e=Yge,M0e=sve,F0e=S5,D0e=cve,L0e=u0,B0e=pve,N0e=Qve,$0e=o0e,U0e=us,z0e=ic,H0e=m0e,j0e=Sc,W0e=E0e,G0e=ff,V0e=ZE,q0e=1,X0e=2,Y0e=4,L5="[object Arguments]",K0e="[object Array]",Z0e="[object Boolean]",Q0e="[object Date]",J0e="[object Error]",B5="[object Function]",eye="[object GeneratorFunction]",tye="[object Map]",nye="[object Number]",N5="[object Object]",rye="[object RegExp]",iye="[object Set]",sye="[object String]",oye="[object Symbol]",aye="[object WeakMap]",lye="[object ArrayBuffer]",uye="[object DataView]",cye="[object Float32Array]",hye="[object Float64Array]",dye="[object Int8Array]",fye="[object Int16Array]",pye="[object Int32Array]",mye="[object Uint8Array]",gye="[object Uint8ClampedArray]",vye="[object Uint16Array]",yye="[object Uint32Array]",Pt={};Pt[L5]=Pt[K0e]=Pt[lye]=Pt[uye]=Pt[Z0e]=Pt[Q0e]=Pt[cye]=Pt[hye]=Pt[dye]=Pt[fye]=Pt[pye]=Pt[tye]=Pt[nye]=Pt[N5]=Pt[rye]=Pt[iye]=Pt[sye]=Pt[oye]=Pt[mye]=Pt[gye]=Pt[vye]=Pt[yye]=!0;Pt[J0e]=Pt[B5]=Pt[aye]=!1;function Dm(t,e,n,r,i,s){var o,a=e&q0e,l=e&X0e,c=e&Y0e;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!j0e(t))return t;var h=U0e(t);if(h){if(o=B0e(t),!a)return I0e(t,o)}else{var f=L0e(t),p=f==B5||f==eye;if(z0e(t))return O0e(t,a);if(f==N5||f==L5||p&&!i){if(o=l||p?{}:$0e(t),!a)return l?M0e(t,k0e(o,t)):R0e(t,P0e(o,t))}else{if(!Pt[f])return i?t:{};o=N0e(t,f,a)}}s||(s=new C0e);var m=s.get(t);if(m)return m;s.set(t,o),W0e(t)?t.forEach(function(x){o.add(Dm(x,e,n,x,t,s))}):H0e(t)&&t.forEach(function(x,b){o.set(b,Dm(x,e,n,b,t,s))});var v=c?l?D0e:F0e:l?V0e:G0e,y=h?void 0:v(t);return T0e(y||t,function(x,b){y&&(b=x,x=t[b]),A0e(o,b,Dm(x,e,n,b,t,s))}),o}var bye=Dm,xye=bye,wye=1,_ye=4;function Sye(t){return xye(t,wye|_ye)}var Eye=Sye;Object.defineProperty(pf,"__esModule",{value:!0});pf.mergeClasses=void 0;var Cye=zE,Tye=$5(Cye),Aye=Eye,Pye=$5(Aye),kye=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function $5(t){return t&&t.__esModule?t:{default:t}}var Oye=pf.mergeClasses=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,Pye.default)(e.default)||{};return n.map(function(i){var s=e[i];return s&&(0,Tye.default)(s,function(o,a){r[a]||(r[a]={}),r[a]=kye({},r[a],s[a])}),i}),r};pf.default=Oye;var mf={};Object.defineProperty(mf,"__esModule",{value:!0});mf.autoprefix=void 0;var Iye=zE,kI=Mye(Iye),Rye=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function Mye(t){return t&&t.__esModule?t:{default:t}}var Fye={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var n=e&&e.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(e,n){var r=n[e];return r||{extend:e}}},Dye=mf.autoprefix=function(e){var n={};return(0,kI.default)(e,function(r,i){var s={};(0,kI.default)(r,function(o,a){var l=Fye[a];l?s=Rye({},s,l(o)):s[a]=o}),n[i]=s}),n};mf.default=Dye;var gf={};Object.defineProperty(gf,"__esModule",{value:!0});gf.hover=void 0;var Lye=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bye=T,z1=Nye(Bye);function Nye(t){return t&&t.__esModule?t:{default:t}}function $ye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OI(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Uye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var zye=gf.hover=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){Uye(i,r);function i(){var s,o,a,l;$ye(this,i);for(var c=arguments.length,h=Array(c),f=0;f<c;f++)h[f]=arguments[f];return l=(o=(a=OI(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(h))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return z1.default.createElement(n,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},z1.default.createElement(e,Lye({},a.props,a.state)))},o),OI(a,l)}return i}(z1.default.Component)};gf.default=zye;var vf={};Object.defineProperty(vf,"__esModule",{value:!0});vf.active=void 0;var Hye=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jye=T,H1=Wye(jye);function Wye(t){return t&&t.__esModule?t:{default:t}}function Gye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function II(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Vye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var qye=vf.active=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){Vye(i,r);function i(){var s,o,a,l;Gye(this,i);for(var c=arguments.length,h=Array(c),f=0;f<c;f++)h[f]=arguments[f];return l=(o=(a=II(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(h))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return H1.default.createElement(n,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},H1.default.createElement(e,Hye({},a.props,a.state)))},o),II(a,l)}return i}(H1.default.Component)};vf.default=qye;var JE={};Object.defineProperty(JE,"__esModule",{value:!0});var Xye=function(e,n){var r={},i=function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[o]=a};return e===0&&i("first-child"),e===n-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),r};JE.default=Xye;Object.defineProperty(fi,"__esModule",{value:!0});fi.ReactCSS=fi.loop=fi.handleActive=e2=fi.handleHover=fi.hover=void 0;var Yye=hf,Kye=kc(Yye),Zye=pf,Qye=kc(Zye),Jye=mf,e1e=kc(Jye),t1e=gf,U5=kc(t1e),n1e=vf,r1e=kc(n1e),i1e=JE,s1e=kc(i1e);function kc(t){return t&&t.__esModule?t:{default:t}}fi.hover=U5.default;var e2=fi.handleHover=U5.default;fi.handleActive=r1e.default;fi.loop=s1e.default;var o1e=fi.ReactCSS=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=(0,Kye.default)(r),o=(0,Qye.default)(e,s);return(0,e1e.default)(o)},$e=fi.default=o1e,a1e=function(e,n,r,i,s){var o=s.clientWidth,a=s.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,c=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,h=l-(s.getBoundingClientRect().left+window.pageXOffset),f=c-(s.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var p=void 0;if(f<0?p=0:f>a?p=1:p=Math.round(f*100/a)/100,n.a!==p)return{h:n.h,s:n.s,l:n.l,a:p,source:"rgb"}}else{var m=void 0;if(h<0?m=0:h>o?m=1:m=Math.round(h*100/o)/100,i!==m)return{h:n.h,s:n.s,l:n.l,a:m,source:"rgb"}}return null},j1={},l1e=function(e,n,r,i){if(typeof document>"u"&&!i)return null;var s=i?new i:document.createElement("canvas");s.width=r*2,s.height=r*2;var o=s.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,s.width,s.height),o.fillStyle=n,o.fillRect(0,0,r,r),o.translate(r,r),o.fillRect(0,0,r,r),s.toDataURL()):null},u1e=function(e,n,r,i){var s=e+"-"+n+"-"+r+(i?"-server":"");if(j1[s])return j1[s];var o=l1e(e,n,r,i);return j1[s]=o,o},RI=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oc=function(e){var n=e.white,r=e.grey,i=e.size,s=e.renderers,o=e.borderRadius,a=e.boxShadow,l=e.children,c=$e({default:{grid:{borderRadius:o,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+u1e(n,r,i,s.canvas)+") center left"}}});return T.isValidElement(l)?P.cloneElement(l,RI({},l.props,{style:RI({},l.props.style,c.grid)})):P.createElement("div",{style:c.grid})};Oc.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var c1e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h1e=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function d1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MI(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function f1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var t2=function(t){f1e(e,t);function e(){var n,r,i,s;d1e(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=MI(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(c){var h=a1e(c,i.props.hsl,i.props.direction,i.props.a,i.container);h&&typeof i.props.onChange=="function"&&i.props.onChange(h,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),MI(i,s)}return h1e(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,s=$e({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:c1e({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return P.createElement("div",{style:s.alpha},P.createElement("div",{style:s.checkboard},P.createElement(Oc,{renderers:this.props.renderers})),P.createElement("div",{style:s.gradient}),P.createElement("div",{style:s.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},P.createElement("div",{style:s.pointer},this.props.pointer?P.createElement(this.props.pointer,this.props):P.createElement("div",{style:s.slider}))))}}]),e}(T.PureComponent||T.Component),p1e=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function m1e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v1e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function y1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var b1e=1,z5=38,x1e=40,w1e=[z5,x1e],_1e=function(e){return w1e.indexOf(e)>-1},S1e=function(e){return Number(String(e).replace(/%/g,""))},E1e=1,lt=function(t){y1e(e,t);function e(n){g1e(this,e);var r=v1e(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var s=S1e(i.target.value);if(!isNaN(s)&&_1e(i.keyCode)){var o=r.getArrowOffset(),a=i.keyCode===z5?s+o:s-o;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var s=Math.round(r.props.value+i.movementX);s>=0&&s<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(s),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+E1e++,r}return p1e(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return m1e({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||b1e}},{key:"setUpdatedValue",value:function(r,i){var s=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(s,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=$e({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return P.createElement("div",{style:i.wrap},P.createElement("input",{id:this.inputId,style:i.input,ref:function(o){return r.input=o},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?P.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(T.PureComponent||T.Component),C1e=function(e,n,r,i){var s=i.clientWidth,o=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=a-(i.getBoundingClientRect().left+window.pageXOffset),h=l-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var f=void 0;if(h<0)f=359;else if(h>o)f=0;else{var p=-(h*100/o)+100;f=360*p/100}if(r.h!==f)return{h:f,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var m=void 0;if(c<0)m=0;else if(c>s)m=359;else{var v=c*100/s;m=360*v/100}if(r.h!==m)return{h:m,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},T1e=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function A1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FI(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function P1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ic=function(t){P1e(e,t);function e(){var n,r,i,s;A1e(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=FI(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(c){var h=C1e(c,i.props.direction,i.props.hsl,i.container);h&&typeof i.props.onChange=="function"&&i.props.onChange(h,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),FI(i,s)}return T1e(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,s=i===void 0?"horizontal":i,o=$e({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:s==="vertical"});return P.createElement("div",{style:o.hue},P.createElement("div",{className:"hue-"+s,style:o.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},P.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),P.createElement("div",{style:o.pointer},this.props.pointer?P.createElement(this.props.pointer,this.props):P.createElement("div",{style:o.slider}))))}}]),e}(T.PureComponent||T.Component),yf=function(e){var n=e.zDepth,r=e.radius,i=e.background,s=e.children,o=e.styles,a=o===void 0?{}:o,l=$e(yr({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":n===1});return P.createElement("div",{style:l.wrap},P.createElement("div",{style:l.bg}),P.createElement("div",{style:l.content},s))};yf.propTypes={background:B.string,zDepth:B.oneOf([0,1,2,3,4,5]),radius:B.number,styles:B.object};yf.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var k1e=function(e,n,r){var i=r.getBoundingClientRect(),s=i.width,o=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=a-(r.getBoundingClientRect().left+window.pageXOffset),h=l-(r.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>s&&(c=s),h<0?h=0:h>o&&(h=o);var f=c/s,p=1-h/o;return{h:n.h,s:f,v:p,a:n.a,source:"hsv"}},O1e=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function I1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R1e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function M1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f0=function(t){M1e(e,t);function e(n){I1e(this,e);var r=R1e(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,k1e(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var s=r.getContainerRenderWindow();s.addEventListener("mousemove",r.handleChange),s.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=sZ(function(i,s,o){i(s,o)},50),r}return O1e(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},s=i.color,o=i.white,a=i.black,l=i.pointer,c=i.circle,h=$e({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:s,white:o,black:a,pointer:l,circle:c}},{custom:!!this.props.style});return P.createElement("div",{style:h.color,ref:function(p){return r.container=p},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},P.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),P.createElement("div",{style:h.white,className:"saturation-white"},P.createElement("div",{style:h.black,className:"saturation-black"}),P.createElement("div",{style:h.pointer},this.props.pointer?P.createElement(this.props.pointer,this.props):P.createElement("div",{style:h.circle}))))}}]),e}(T.PureComponent||T.Component);function Og(t){return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Og(t)}var F1e=/^\s+/,D1e=/\s+$/;function Ae(t,e){if(t=t||"",e=e||{},t instanceof Ae)return t;if(!(this instanceof Ae))return new Ae(t,e);var n=L1e(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}Ae.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,s,o,a;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(e){return this._a=H5(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=LI(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=LI(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=DI(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=DI(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return BI(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return U1e(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Ht(this._r,255)*100)+"%",g:Math.round(Ht(this._g,255)*100)+"%",b:Math.round(Ht(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Ht(this._r,255)*100)+"%, "+Math.round(Ht(this._g,255)*100)+"%, "+Math.round(Ht(this._b,255)*100)+"%)":"rgba("+Math.round(Ht(this._r,255)*100)+"%, "+Math.round(Ht(this._g,255)*100)+"%, "+Math.round(Ht(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Q1e[BI(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+NI(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=Ae(e);r="#"+NI(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Ae(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(W1e,arguments)},brighten:function(){return this._applyModification(G1e,arguments)},darken:function(){return this._applyModification(V1e,arguments)},desaturate:function(){return this._applyModification(z1e,arguments)},saturate:function(){return this._applyModification(H1e,arguments)},greyscale:function(){return this._applyModification(j1e,arguments)},spin:function(){return this._applyModification(q1e,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(K1e,arguments)},complement:function(){return this._applyCombination(X1e,arguments)},monochromatic:function(){return this._applyCombination(Z1e,arguments)},splitcomplement:function(){return this._applyCombination(Y1e,arguments)},triad:function(){return this._applyCombination($I,[3])},tetrad:function(){return this._applyCombination($I,[4])}};Ae.fromRatio=function(t,e){if(Og(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=Th(t[r]));t=n}return Ae(t,e)};function L1e(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,o=!1,a=!1;return typeof t=="string"&&(t=nbe(t)),Og(t)=="object"&&(qs(t.r)&&qs(t.g)&&qs(t.b)?(e=B1e(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):qs(t.h)&&qs(t.s)&&qs(t.v)?(r=Th(t.s),i=Th(t.v),e=$1e(t.h,r,i),o=!0,a="hsv"):qs(t.h)&&qs(t.s)&&qs(t.l)&&(r=Th(t.s),s=Th(t.l),e=N1e(t.h,r,s),o=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=H5(n),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function B1e(t,e,n){return{r:Ht(t,255)*255,g:Ht(e,255)*255,b:Ht(n,255)*255}}function DI(t,e,n){t=Ht(t,255),e=Ht(e,255),n=Ht(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=(r+i)/2;if(r==i)s=o=0;else{var l=r-i;switch(o=a>.5?l/(2-r-i):l/(r+i),r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,l:a}}function N1e(t,e,n){var r,i,s;t=Ht(t,360),e=Ht(e,100),n=Ht(n,100);function o(c,h,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?c+(h-c)*6*f:f<1/2?h:f<2/3?c+(h-c)*(2/3-f)*6:c}if(e===0)r=i=s=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=o(l,a,t+1/3),i=o(l,a,t),s=o(l,a,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function LI(t,e,n){t=Ht(t,255),e=Ht(e,255),n=Ht(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=r,l=r-i;if(o=r===0?0:l/r,r==i)s=0;else{switch(r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,v:a}}function $1e(t,e,n){t=Ht(t,360)*6,e=Ht(e,100),n=Ht(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),o=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,c=[n,o,s,s,a,n][l],h=[a,n,n,o,s,s][l],f=[s,s,a,n,n,o][l];return{r:c*255,g:h*255,b:f*255}}function BI(t,e,n,r){var i=[Vi(Math.round(t).toString(16)),Vi(Math.round(e).toString(16)),Vi(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function U1e(t,e,n,r,i){var s=[Vi(Math.round(t).toString(16)),Vi(Math.round(e).toString(16)),Vi(Math.round(n).toString(16)),Vi(j5(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function NI(t,e,n,r){var i=[Vi(j5(r)),Vi(Math.round(t).toString(16)),Vi(Math.round(e).toString(16)),Vi(Math.round(n).toString(16))];return i.join("")}Ae.equals=function(t,e){return!t||!e?!1:Ae(t).toRgbString()==Ae(e).toRgbString()};Ae.random=function(){return Ae.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function z1e(t,e){e=e===0?0:e||10;var n=Ae(t).toHsl();return n.s-=e/100,n.s=p0(n.s),Ae(n)}function H1e(t,e){e=e===0?0:e||10;var n=Ae(t).toHsl();return n.s+=e/100,n.s=p0(n.s),Ae(n)}function j1e(t){return Ae(t).desaturate(100)}function W1e(t,e){e=e===0?0:e||10;var n=Ae(t).toHsl();return n.l+=e/100,n.l=p0(n.l),Ae(n)}function G1e(t,e){e=e===0?0:e||10;var n=Ae(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),Ae(n)}function V1e(t,e){e=e===0?0:e||10;var n=Ae(t).toHsl();return n.l-=e/100,n.l=p0(n.l),Ae(n)}function q1e(t,e){var n=Ae(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,Ae(n)}function X1e(t){var e=Ae(t).toHsl();return e.h=(e.h+180)%360,Ae(e)}function $I(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Ae(t).toHsl(),r=[Ae(t)],i=360/e,s=1;s<e;s++)r.push(Ae({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function Y1e(t){var e=Ae(t).toHsl(),n=e.h;return[Ae(t),Ae({h:(n+72)%360,s:e.s,l:e.l}),Ae({h:(n+216)%360,s:e.s,l:e.l})]}function K1e(t,e,n){e=e||6,n=n||30;var r=Ae(t).toHsl(),i=360/n,s=[Ae(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(Ae(r));return s}function Z1e(t,e){e=e||6;for(var n=Ae(t).toHsv(),r=n.h,i=n.s,s=n.v,o=[],a=1/e;e--;)o.push(Ae({h:r,s:i,v:s})),s=(s+a)%1;return o}Ae.mix=function(t,e,n){n=n===0?0:n||50;var r=Ae(t).toRgb(),i=Ae(e).toRgb(),s=n/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return Ae(o)};Ae.readability=function(t,e){var n=Ae(t),r=Ae(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};Ae.isReadable=function(t,e,n){var r=Ae.readability(t,e),i,s;switch(s=!1,i=rbe(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};Ae.mostReadable=function(t,e,n){var r=null,i=0,s,o,a,l;n=n||{},o=n.includeFallbackColors,a=n.level,l=n.size;for(var c=0;c<e.length;c++)s=Ae.readability(t,e[c]),s>i&&(i=s,r=Ae(e[c]));return Ae.isReadable(t,r,{level:a,size:l})||!o?r:(n.includeFallbackColors=!1,Ae.mostReadable(t,["#fff","#000"],n))};var Lw=Ae.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Q1e=Ae.hexNames=J1e(Lw);function J1e(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function H5(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Ht(t,e){ebe(t)&&(t="100%");var n=tbe(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function p0(t){return Math.min(1,Math.max(0,t))}function kr(t){return parseInt(t,16)}function ebe(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function tbe(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Vi(t){return t.length==1?"0"+t:""+t}function Th(t){return t<=1&&(t=t*100+"%"),t}function j5(t){return Math.round(parseFloat(t)*255).toString(16)}function UI(t){return kr(t)/255}var $i=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function qs(t){return!!$i.CSS_UNIT.exec(t)}function nbe(t){t=t.replace(F1e,"").replace(D1e,"").toLowerCase();var e=!1;if(Lw[t])t=Lw[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=$i.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=$i.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=$i.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=$i.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=$i.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=$i.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=$i.hex8.exec(t))?{r:kr(n[1]),g:kr(n[2]),b:kr(n[3]),a:UI(n[4]),format:e?"name":"hex8"}:(n=$i.hex6.exec(t))?{r:kr(n[1]),g:kr(n[2]),b:kr(n[3]),format:e?"name":"hex"}:(n=$i.hex4.exec(t))?{r:kr(n[1]+""+n[1]),g:kr(n[2]+""+n[2]),b:kr(n[3]+""+n[3]),a:UI(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=$i.hex3.exec(t))?{r:kr(n[1]+""+n[1]),g:kr(n[2]+""+n[2]),b:kr(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function rbe(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var zI=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return vt(n,function(s){if(e[s]&&(r+=1,isNaN(e[s])||(i+=1),s==="s"||s==="l")){var o=/^\d+%$/;o.test(e[s])&&(i+=1)}}),r===i?e:!1},Ah=function(e,n){var r=e.hex?Ae(e.hex):Ae(e),i=r.toHsl(),s=r.toHsv(),o=r.toRgb(),a=r.toHex();i.s===0&&(i.h=n||0,s.h=n||0);var l=a==="000000"&&o.a===0;return{hsl:i,hex:l?"transparent":"#"+a,rgb:o,hsv:s,oldHue:e.h||n||i.h,source:e.source}},pa=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&Ae(e).isValid()},n2=function(e){if(!e)return"#fff";var n=Ah(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},W1=function(e,n){var r=e.replace("","");return Ae(n+" ("+r+")")._ok},hh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ibe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function sbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function obe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function abe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var br=function(e){var n=function(r){abe(i,r);function i(s){sbe(this,i);var o=obe(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return o.handleChange=function(a,l){var c=zI(a);if(c){var h=Ah(a,a.h||o.state.oldHue);o.setState(h),o.props.onChangeComplete&&o.debounce(o.props.onChangeComplete,h,l),o.props.onChange&&o.props.onChange(h,l)}},o.handleSwatchHover=function(a,l){var c=zI(a);if(c){var h=Ah(a,a.h||o.state.oldHue);o.props.onSwatchHover&&o.props.onSwatchHover(h,l)}},o.state=hh({},Ah(s.color,0)),o.debounce=MD(function(a,l,c){a(l,c)},100),o}return ibe(i,[{key:"render",value:function(){var o={};return this.props.onSwatchHover&&(o.onSwatchHover=this.handleSwatchHover),P.createElement(e,hh({},this.props,this.state,{onChange:this.handleChange},o))}}],[{key:"getDerivedStateFromProps",value:function(o,a){return hh({},Ah(o.color,a.oldHue))}}]),i}(T.PureComponent||T.Component);return n.propTypes=hh({},e.propTypes),n.defaultProps=hh({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},lbe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ube=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function cbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HI(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function hbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var dbe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){hbe(i,r);function i(){var s,o,a,l;cbe(this,i);for(var c=arguments.length,h=Array(c),f=0;f<c;f++)h[f]=arguments[f];return l=(o=(a=HI(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(h))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},o),HI(a,l)}return ube(i,[{key:"render",value:function(){return P.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},P.createElement(e,lbe({},this.props,this.state)))}}]),i}(P.Component)},jI=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fbe=13,pbe=function(e){var n=e.color,r=e.style,i=e.onClick,s=i===void 0?function(){}:i,o=e.onHover,a=e.title,l=a===void 0?n:a,c=e.children,h=e.focus,f=e.focusStyle,p=f===void 0?{}:f,m=n==="transparent",v=$e({default:{swatch:jI({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,h?p:{})}}),y=function(E){return s(n,E)},x=function(E){return E.keyCode===fbe&&s(n,E)},b=function(E){return o(n,E)},_={};return o&&(_.onMouseOver=b),P.createElement("div",jI({style:v.swatch,onClick:y,title:l,tabIndex:0,onKeyDown:x},_),c,m&&P.createElement(Oc,{borderRadius:v.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const Sl=dbe(pbe);var mbe=function(e){var n=e.direction,r=$e({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return P.createElement("div",{style:r.picker})},gbe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W5=function(e){var n=e.rgb,r=e.hsl,i=e.width,s=e.height,o=e.onChange,a=e.direction,l=e.style,c=e.renderers,h=e.pointer,f=e.className,p=f===void 0?"":f,m=$e({default:{picker:{position:"relative",width:i,height:s},alpha:{radius:"2px",style:l}}});return P.createElement("div",{style:m.picker,className:"alpha-picker "+p},P.createElement(t2,gbe({},m.alpha,{rgb:n,hsl:r,pointer:h,renderers:c,onChange:o,direction:a})))};W5.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:mbe};br(W5);var vbe=function(e){var n=e.colors,r=e.onClick,i=e.onSwatchHover,s=$e({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return P.createElement("div",{style:s.swatches},ze(n,function(o){return P.createElement(Sl,{key:o,color:o,style:s.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+o}})}),P.createElement("div",{style:s.clear}))},r2=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,c=l===void 0?{}:l,h=e.className,f=h===void 0?"":h,p=i==="transparent",m=function(x,b){pa(x)&&n({hex:x,source:"hex"},b)},v=$e(yr({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:n2(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},c),{"hide-triangle":a==="hide"});return P.createElement("div",{style:v.card,className:"block-picker "+f},P.createElement("div",{style:v.triangle}),P.createElement("div",{style:v.head},p&&P.createElement(Oc,{borderRadius:"6px 6px 0 0"}),P.createElement("div",{style:v.label},i)),P.createElement("div",{style:v.body},P.createElement(vbe,{colors:s,onClick:m,onSwatchHover:r}),P.createElement(lt,{style:{input:v.input},value:i,onChange:m})))};r2.propTypes={width:B.oneOfType([B.string,B.number]),colors:B.arrayOf(B.string),triangle:B.oneOf(["top","hide"]),styles:B.object};r2.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};br(r2);var Zl={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},Ql={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},Jl={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},eu={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},tu={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},nu={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},ru={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},iu={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},su={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},Ph={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},ou={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},au={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},lu={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},uu={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},cu={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},hu={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},du={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},fu={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},G5=function(e){var n=e.color,r=e.onClick,i=e.onSwatchHover,s=e.hover,o=e.active,a=e.circleSize,l=e.circleSpacing,c=$e({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:s,active:o});return P.createElement("div",{style:c.swatch},P.createElement(Sl,{style:c.Swatch,color:n,onClick:r,onHover:i,focusStyle:{boxShadow:c.Swatch.boxShadow+", 0 0 5px "+n}}))};G5.defaultProps={circleSize:28,circleSpacing:14};const ybe=e2(G5);var i2=function(e){var n=e.width,r=e.onChange,i=e.onSwatchHover,s=e.colors,o=e.hex,a=e.circleSize,l=e.styles,c=l===void 0?{}:l,h=e.circleSpacing,f=e.className,p=f===void 0?"":f,m=$e(yr({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-h,marginBottom:-h}}},c)),v=function(x,b){return r({hex:x,source:"hex"},b)};return P.createElement("div",{style:m.card,className:"circle-picker "+p},ze(s,function(y){return P.createElement(ybe,{key:y,color:y,onClick:v,onSwatchHover:i,active:o===y.toLowerCase(),circleSize:a,circleSpacing:h})}))};i2.propTypes={width:B.oneOfType([B.string,B.number]),circleSize:B.number,circleSpacing:B.number,styles:B.object};i2.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Zl[500],Ql[500],Jl[500],eu[500],tu[500],nu[500],ru[500],iu[500],su[500],Ph[500],ou[500],au[500],lu[500],uu[500],cu[500],hu[500],du[500],fu[500]],styles:{}};const bbe=br(i2);var V5={};Object.defineProperty(V5,"__esModule",{value:!0});var WI=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xbe=T,GI=wbe(xbe);function wbe(t){return t&&t.__esModule?t:{default:t}}function _be(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var $p=24,Sbe=V5.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?$p:r,s=t.height,o=s===void 0?$p:s,a=t.style,l=a===void 0?{}:a,c=_be(t,["fill","width","height","style"]);return GI.default.createElement("svg",WI({viewBox:"0 0 "+$p+" "+$p,style:WI({fill:n,width:i,height:o},l)},c),GI.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},Ebe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Cbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tbe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Abe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var q5=function(t){Abe(e,t);function e(n){Cbe(this,e);var r=Tbe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,s){i.hex?pa(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},s):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},s):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},s)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(Mr(i.s)?r.props.hsl.s:i.s),l:Number(Mr(i.l)?r.props.hsl.l:i.l),source:"hsl"},s))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return Ebe(e,[{key:"render",value:function(){var r=this,i=$e({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),s=void 0;return this.state.view==="hex"?s=P.createElement("div",{style:i.fields,className:"flexbox-fix"},P.createElement("div",{style:i.field},P.createElement(lt,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?s=P.createElement("div",{style:i.fields,className:"flexbox-fix"},P.createElement("div",{style:i.field},P.createElement(lt,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),P.createElement("div",{style:i.field},P.createElement(lt,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),P.createElement("div",{style:i.field},P.createElement(lt,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),P.createElement("div",{style:i.alpha},P.createElement(lt,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(s=P.createElement("div",{style:i.fields,className:"flexbox-fix"},P.createElement("div",{style:i.field},P.createElement(lt,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),P.createElement("div",{style:i.field},P.createElement(lt,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),P.createElement("div",{style:i.field},P.createElement(lt,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),P.createElement("div",{style:i.alpha},P.createElement(lt,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),P.createElement("div",{style:i.wrap,className:"flexbox-fix"},s,P.createElement("div",{style:i.toggle},P.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},P.createElement(Sbe,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(P.Component);q5.defaultProps={view:"hex"};var VI=function(){var e=$e({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return P.createElement("div",{style:e.picker})},Pbe=function(){var e=$e({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return P.createElement("div",{style:e.picker})},s2=function(e){var n=e.width,r=e.onChange,i=e.disableAlpha,s=e.rgb,o=e.hsl,a=e.hsv,l=e.hex,c=e.renderers,h=e.styles,f=h===void 0?{}:h,p=e.className,m=p===void 0?"":p,v=e.defaultView,y=$e(yr({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+s.r+", "+s.g+", "+s.b+", "+s.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},f),{disableAlpha:i});return P.createElement("div",{style:y.picker,className:"chrome-picker "+m},P.createElement("div",{style:y.saturation},P.createElement(f0,{style:y.Saturation,hsl:o,hsv:a,pointer:Pbe,onChange:r})),P.createElement("div",{style:y.body},P.createElement("div",{style:y.controls,className:"flexbox-fix"},P.createElement("div",{style:y.color},P.createElement("div",{style:y.swatch},P.createElement("div",{style:y.active}),P.createElement(Oc,{renderers:c}))),P.createElement("div",{style:y.toggles},P.createElement("div",{style:y.hue},P.createElement(Ic,{style:y.Hue,hsl:o,pointer:VI,onChange:r})),P.createElement("div",{style:y.alpha},P.createElement(t2,{style:y.Alpha,rgb:s,hsl:o,pointer:VI,renderers:c,onChange:r})))),P.createElement(q5,{rgb:s,hsl:o,hex:l,view:v,onChange:r,disableAlpha:i})))};s2.propTypes={width:B.oneOfType([B.string,B.number]),disableAlpha:B.bool,styles:B.object,defaultView:B.oneOf(["hex","rgb","hsl"])};s2.defaultProps={width:225,disableAlpha:!1,styles:{}};const kbe=br(s2);var Obe=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.active,a=$e({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:n2(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return P.createElement(Sl,{style:a.color,color:n,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n}},P.createElement("div",{style:a.dot}))},Ibe=function(e){var n=e.hex,r=e.rgb,i=e.onChange,s=$e({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(l,c){l.r||l.g||l.b?i({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},c):i({hex:l.hex,source:"hex"},c)};return P.createElement("div",{style:s.fields,className:"flexbox-fix"},P.createElement("div",{style:s.active}),P.createElement(lt,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:n,onChange:o}),P.createElement(lt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:o}),P.createElement(lt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:o}),P.createElement(lt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:o}))},o2=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.colors,s=e.hex,o=e.rgb,a=e.styles,l=a===void 0?{}:a,c=e.className,h=c===void 0?"":c,f=$e(yr({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),p=function(v,y){v.hex?pa(v.hex)&&n({hex:v.hex,source:"hex"},y):n(v,y)};return P.createElement(yf,{style:f.Compact,styles:l},P.createElement("div",{style:f.compact,className:"compact-picker "+h},P.createElement("div",null,ze(i,function(m){return P.createElement(Obe,{key:m,color:m,active:m.toLowerCase()===s,onClick:p,onSwatchHover:r})}),P.createElement("div",{style:f.clear})),P.createElement(Ibe,{hex:s,rgb:o,onChange:p})))};o2.propTypes={colors:B.arrayOf(B.string),styles:B.object};o2.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};br(o2);var Rbe=function(e){var n=e.hover,r=e.color,i=e.onClick,s=e.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=$e({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:n});return P.createElement("div",{style:a.swatch},P.createElement(Sl,{color:r,onClick:i,onHover:s,focusStyle:o}))};const Mbe=e2(Rbe);var a2=function(e){var n=e.width,r=e.colors,i=e.onChange,s=e.onSwatchHover,o=e.triangle,a=e.styles,l=a===void 0?{}:a,c=e.className,h=c===void 0?"":c,f=$e(yr({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":o==="hide","top-left-triangle":o==="top-left","top-right-triangle":o==="top-right","bottom-left-triangle":o==="bottom-left","bottom-right-triangle":o==="bottom-right"}),p=function(v,y){return i({hex:v,source:"hex"},y)};return P.createElement("div",{style:f.card,className:"github-picker "+h},P.createElement("div",{style:f.triangleShadow}),P.createElement("div",{style:f.triangle}),ze(r,function(m){return P.createElement(Mbe,{color:m,key:m,onClick:p,onSwatchHover:s})}))};a2.propTypes={width:B.oneOfType([B.string,B.number]),colors:B.arrayOf(B.string),triangle:B.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:B.object};a2.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};br(a2);var Fbe=function(e){var n=e.direction,r=$e({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return P.createElement("div",{style:r.picker})},Dbe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l2=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.hsl,o=e.direction,a=e.pointer,l=e.styles,c=l===void 0?{}:l,h=e.className,f=h===void 0?"":h,p=$e(yr({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},c)),m=function(y){return i({a:1,h:y.h,l:.5,s:1})};return P.createElement("div",{style:p.picker,className:"hue-picker "+f},P.createElement(Ic,Dbe({},p.hue,{hsl:s,pointer:a,onChange:m,direction:o})))};l2.propTypes={styles:B.object};l2.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:Fbe,styles:{}};br(l2);var Lbe=function(e){var n=e.onChange,r=e.hex,i=e.rgb,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,c=$e(yr({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},o)),h=function(p,m){p.hex?pa(p.hex)&&n({hex:p.hex,source:"hex"},m):(p.r||p.g||p.b)&&n({r:p.r||i.r,g:p.g||i.g,b:p.b||i.b,source:"rgb"},m)};return P.createElement(yf,{styles:o},P.createElement("div",{style:c.material,className:"material-picker "+l},P.createElement(lt,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"hex",value:r,onChange:h}),P.createElement("div",{style:c.split,className:"flexbox-fix"},P.createElement("div",{style:c.third},P.createElement(lt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:i.r,onChange:h})),P.createElement("div",{style:c.third},P.createElement(lt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:i.g,onChange:h})),P.createElement("div",{style:c.third},P.createElement(lt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:i.b,onChange:h})))))};br(Lbe);var Bbe=function(e){var n=e.onChange,r=e.rgb,i=e.hsv,s=e.hex,o=$e({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(c,h){c["#"]?pa(c["#"])&&n({hex:c["#"],source:"hex"},h):c.r||c.g||c.b?n({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,source:"rgb"},h):(c.h||c.s||c.v)&&n({h:c.h||i.h,s:c.s||i.s,v:c.v||i.v,source:"hsv"},h)};return P.createElement("div",{style:o.fields},P.createElement(lt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(i.h),onChange:a}),P.createElement(lt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:a}),P.createElement(lt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:a}),P.createElement("div",{style:o.divider}),P.createElement(lt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:a}),P.createElement(lt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:a}),P.createElement(lt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:a}),P.createElement("div",{style:o.divider}),P.createElement(lt,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:s.replace("#",""),onChange:a}),P.createElement("div",{style:o.fieldSymbols},P.createElement("div",{style:o.symbol},""),P.createElement("div",{style:o.symbol},"%"),P.createElement("div",{style:o.symbol},"%")))},Nbe=function(e){var n=e.hsl,r=$e({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return P.createElement("div",{style:r.picker})},$be=function(){var e=$e({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return P.createElement("div",{style:e.pointer},P.createElement("div",{style:e.left},P.createElement("div",{style:e.leftInside})),P.createElement("div",{style:e.right},P.createElement("div",{style:e.rightInside})))},qI=function(e){var n=e.onClick,r=e.label,i=e.children,s=e.active,o=$e({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:s});return P.createElement("div",{style:o.button,onClick:n},r||i)},Ube=function(e){var n=e.rgb,r=e.currentColor,i=$e({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return P.createElement("div",null,P.createElement("div",{style:i.label},"new"),P.createElement("div",{style:i.swatches},P.createElement("div",{style:i.new}),P.createElement("div",{style:i.current})),P.createElement("div",{style:i.label},"current"))},zbe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Hbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jbe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Wbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u2=function(t){Wbe(e,t);function e(n){Hbe(this,e);var r=jbe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:n.hex},r}return zbe(e,[{key:"render",value:function(){var r=this.props,i=r.styles,s=i===void 0?{}:i,o=r.className,a=o===void 0?"":o,l=$e(yr({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},s));return P.createElement("div",{style:l.picker,className:"photoshop-picker "+a},P.createElement("div",{style:l.head},this.props.header),P.createElement("div",{style:l.body,className:"flexbox-fix"},P.createElement("div",{style:l.saturation},P.createElement(f0,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:Nbe,onChange:this.props.onChange})),P.createElement("div",{style:l.hue},P.createElement(Ic,{direction:"vertical",hsl:this.props.hsl,pointer:$be,onChange:this.props.onChange})),P.createElement("div",{style:l.controls},P.createElement("div",{style:l.top,className:"flexbox-fix"},P.createElement("div",{style:l.previews},P.createElement(Ube,{rgb:this.props.rgb,currentColor:this.state.currentColor})),P.createElement("div",{style:l.actions},P.createElement(qI,{label:"OK",onClick:this.props.onAccept,active:!0}),P.createElement(qI,{label:"Cancel",onClick:this.props.onCancel}),P.createElement(Bbe,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(P.Component);u2.propTypes={header:B.string,styles:B.object};u2.defaultProps={header:"Color Picker",styles:{}};br(u2);var Gbe=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.disableAlpha,a=$e({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),l=function(h,f){h.hex?pa(h.hex)&&n({hex:h.hex,source:"hex"},f):h.r||h.g||h.b?n({r:h.r||r.r,g:h.g||r.g,b:h.b||r.b,a:r.a,source:"rgb"},f):h.a&&(h.a<0?h.a=0:h.a>100&&(h.a=100),h.a/=100,n({h:i.h,s:i.s,l:i.l,a:h.a,source:"rgb"},f))};return P.createElement("div",{style:a.fields,className:"flexbox-fix"},P.createElement("div",{style:a.double},P.createElement(lt,{style:{input:a.input,label:a.label},label:"hex",value:s.replace("#",""),onChange:l})),P.createElement("div",{style:a.single},P.createElement(lt,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),P.createElement("div",{style:a.single},P.createElement(lt,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),P.createElement("div",{style:a.single},P.createElement(lt,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),P.createElement("div",{style:a.alpha},P.createElement(lt,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},Vbe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X5=function(e){var n=e.colors,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=$e({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),a=function(c,h){i({hex:c,source:"hex"},h)};return P.createElement("div",{style:o.colors,className:"flexbox-fix"},n.map(function(l){var c=typeof l=="string"?{color:l}:l,h=""+c.color+(c.title||"");return P.createElement("div",{key:h,style:o.swatchWrap},P.createElement(Sl,Vbe({},c,{style:o.swatch,onClick:a,onHover:s,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+c.color}})))}))};X5.propTypes={colors:B.arrayOf(B.oneOfType([B.string,B.shape({color:B.string,title:B.string})])).isRequired};var qbe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c2=function(e){var n=e.width,r=e.rgb,i=e.hex,s=e.hsv,o=e.hsl,a=e.onChange,l=e.onSwatchHover,c=e.disableAlpha,h=e.presetColors,f=e.renderers,p=e.styles,m=p===void 0?{}:p,v=e.className,y=v===void 0?"":v,x=$e(yr({default:qbe({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},m),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},m),{disableAlpha:c});return P.createElement("div",{style:x.picker,className:"sketch-picker "+y},P.createElement("div",{style:x.saturation},P.createElement(f0,{style:x.Saturation,hsl:o,hsv:s,onChange:a})),P.createElement("div",{style:x.controls,className:"flexbox-fix"},P.createElement("div",{style:x.sliders},P.createElement("div",{style:x.hue},P.createElement(Ic,{style:x.Hue,hsl:o,onChange:a})),P.createElement("div",{style:x.alpha},P.createElement(t2,{style:x.Alpha,rgb:r,hsl:o,renderers:f,onChange:a}))),P.createElement("div",{style:x.color},P.createElement(Oc,null),P.createElement("div",{style:x.activeColor}))),P.createElement(Gbe,{rgb:r,hsl:o,hex:i,onChange:a,disableAlpha:c}),P.createElement(X5,{colors:h,onClick:a,onSwatchHover:l}))};c2.propTypes={disableAlpha:B.bool,width:B.oneOfType([B.string,B.number]),styles:B.object};c2.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};br(c2);var dh=function(e){var n=e.hsl,r=e.offset,i=e.onClick,s=i===void 0?function(){}:i,o=e.active,a=e.first,l=e.last,c=$e({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:a,last:l}),h=function(p){return s({h:n.h,s:.5,l:r,source:"hsl"},p)};return P.createElement("div",{style:c.swatch,onClick:h})},Xbe=function(e){var n=e.onClick,r=e.hsl,i=$e({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),s=.1;return P.createElement("div",{style:i.swatches},P.createElement("div",{style:i.swatch},P.createElement(dh,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<s&&Math.abs(r.s-.5)<s,onClick:n,first:!0})),P.createElement("div",{style:i.swatch},P.createElement(dh,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<s&&Math.abs(r.s-.5)<s,onClick:n})),P.createElement("div",{style:i.swatch},P.createElement(dh,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<s&&Math.abs(r.s-.5)<s,onClick:n})),P.createElement("div",{style:i.swatch},P.createElement(dh,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<s&&Math.abs(r.s-.5)<s,onClick:n})),P.createElement("div",{style:i.swatch},P.createElement(dh,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<s&&Math.abs(r.s-.5)<s,onClick:n,last:!0})),P.createElement("div",{style:i.clear}))},Ybe=function(){var e=$e({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return P.createElement("div",{style:e.picker})},h2=function(e){var n=e.hsl,r=e.onChange,i=e.pointer,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,c=$e(yr({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},o));return P.createElement("div",{style:c.wrap||{},className:"slider-picker "+l},P.createElement("div",{style:c.hue},P.createElement(Ic,{style:c.Hue,hsl:n,pointer:i,onChange:r})),P.createElement("div",{style:c.swatches},P.createElement(Xbe,{hsl:n,onClick:r})))};h2.propTypes={styles:B.object};h2.defaultProps={pointer:Ybe,styles:{}};br(h2);var Y5={};Object.defineProperty(Y5,"__esModule",{value:!0});var XI=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kbe=T,YI=Zbe(Kbe);function Zbe(t){return t&&t.__esModule?t:{default:t}}function Qbe(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var Up=24,Jbe=Y5.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?Up:r,s=t.height,o=s===void 0?Up:s,a=t.style,l=a===void 0?{}:a,c=Qbe(t,["fill","width","height","style"]);return YI.default.createElement("svg",XI({viewBox:"0 0 "+Up+" "+Up,style:XI({fill:n,width:i,height:o},l)},c),YI.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},exe=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.first,a=e.last,l=e.active,c=$e({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:n2(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:o,last:a,active:l,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return P.createElement(Sl,{color:n,style:c.color,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n}},P.createElement("div",{style:c.check},P.createElement(Jbe,null)))},txe=function(e){var n=e.onClick,r=e.onSwatchHover,i=e.group,s=e.active,o=$e({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return P.createElement("div",{style:o.group},ze(i,function(a,l){return P.createElement(exe,{key:a,color:a,active:a.toLowerCase()===s,first:l===0,last:l===i.length-1,onClick:n,onSwatchHover:r})}))},d2=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.onSwatchHover,o=e.colors,a=e.hex,l=e.styles,c=l===void 0?{}:l,h=e.className,f=h===void 0?"":h,p=$e(yr({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},c)),m=function(y,x){return i({hex:y,source:"hex"},x)};return P.createElement("div",{style:p.picker,className:"swatches-picker "+f},P.createElement(yf,null,P.createElement("div",{style:p.overflow},P.createElement("div",{style:p.body},ze(o,function(v){return P.createElement(txe,{key:v.toString(),group:v,active:a,onClick:m,onSwatchHover:s})}),P.createElement("div",{style:p.clear})))))};d2.propTypes={width:B.oneOfType([B.string,B.number]),height:B.oneOfType([B.string,B.number]),colors:B.arrayOf(B.arrayOf(B.string)),styles:B.object};d2.defaultProps={width:320,height:240,colors:[[Zl[900],Zl[700],Zl[500],Zl[300],Zl[100]],[Ql[900],Ql[700],Ql[500],Ql[300],Ql[100]],[Jl[900],Jl[700],Jl[500],Jl[300],Jl[100]],[eu[900],eu[700],eu[500],eu[300],eu[100]],[tu[900],tu[700],tu[500],tu[300],tu[100]],[nu[900],nu[700],nu[500],nu[300],nu[100]],[ru[900],ru[700],ru[500],ru[300],ru[100]],[iu[900],iu[700],iu[500],iu[300],iu[100]],[su[900],su[700],su[500],su[300],su[100]],["#194D33",Ph[700],Ph[500],Ph[300],Ph[100]],[ou[900],ou[700],ou[500],ou[300],ou[100]],[au[900],au[700],au[500],au[300],au[100]],[lu[900],lu[700],lu[500],lu[300],lu[100]],[uu[900],uu[700],uu[500],uu[300],uu[100]],[cu[900],cu[700],cu[500],cu[300],cu[100]],[hu[900],hu[700],hu[500],hu[300],hu[100]],[du[900],du[700],du[500],du[300],du[100]],[fu[900],fu[700],fu[500],fu[300],fu[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};br(d2);var f2=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,c=l===void 0?{}:l,h=e.className,f=h===void 0?"":h,p=$e(yr({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},c),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),m=function(y,x){pa(y)&&n({hex:y,source:"hex"},x)};return P.createElement("div",{style:p.card,className:"twitter-picker "+f},P.createElement("div",{style:p.triangleShadow}),P.createElement("div",{style:p.triangle}),P.createElement("div",{style:p.body},ze(s,function(v,y){return P.createElement(Sl,{key:y,color:v,hex:v,style:p.swatch,onClick:m,onHover:r,focusStyle:{boxShadow:"0 0 4px "+v}})}),P.createElement("div",{style:p.hash},"#"),P.createElement(lt,{label:null,style:{input:p.input},value:i.replace("#",""),onChange:m}),P.createElement("div",{style:p.clear})))};f2.propTypes={width:B.oneOfType([B.string,B.number]),triangle:B.oneOf(["hide","top-left","top-right"]),colors:B.arrayOf(B.string),styles:B.object};f2.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};br(f2);var p2=function(e){var n=$e({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return P.createElement("div",{style:n.picker})};p2.propTypes={hsl:B.shape({h:B.number,s:B.number,l:B.number,a:B.number})};p2.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var m2=function(e){var n=$e({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return P.createElement("div",{style:n.picker})};m2.propTypes={hsl:B.shape({h:B.number,s:B.number,l:B.number,a:B.number})};m2.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var nxe=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.hsv,a=function(m,v){if(m.hex)pa(m.hex)&&n({hex:m.hex,source:"hex"},v);else if(m.rgb){var y=m.rgb.split(",");W1(m.rgb,"rgb")&&n({r:y[0],g:y[1],b:y[2],a:1,source:"rgb"},v)}else if(m.hsv){var x=m.hsv.split(",");W1(m.hsv,"hsv")&&(x[2]=x[2].replace("%",""),x[1]=x[1].replace("%",""),x[0]=x[0].replace("",""),x[1]==1?x[1]=.01:x[2]==1&&(x[2]=.01),n({h:Number(x[0]),s:Number(x[1]),v:Number(x[2]),source:"hsv"},v))}else if(m.hsl){var b=m.hsl.split(",");W1(m.hsl,"hsl")&&(b[2]=b[2].replace("%",""),b[1]=b[1].replace("%",""),b[0]=b[0].replace("",""),f[1]==1?f[1]=.01:f[2]==1&&(f[2]=.01),n({h:Number(b[0]),s:Number(b[1]),v:Number(b[2]),source:"hsl"},v))}},l=$e({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),c=r.r+", "+r.g+", "+r.b,h=Math.round(i.h)+", "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",f=Math.round(o.h)+", "+Math.round(o.s*100)+"%, "+Math.round(o.v*100)+"%";return P.createElement("div",{style:l.wrap,className:"flexbox-fix"},P.createElement("div",{style:l.fields},P.createElement("div",{style:l.double},P.createElement(lt,{style:{input:l.input,label:l.label},label:"hex",value:s,onChange:a})),P.createElement("div",{style:l.column},P.createElement("div",{style:l.single},P.createElement(lt,{style:{input:l.input2,label:l.label2},label:"rgb",value:c,onChange:a})),P.createElement("div",{style:l.single},P.createElement(lt,{style:{input:l.input2,label:l.label2},label:"hsv",value:f,onChange:a})),P.createElement("div",{style:l.single},P.createElement(lt,{style:{input:l.input2,label:l.label2},label:"hsl",value:h,onChange:a})))))},g2=function(e){var n=e.width,r=e.onChange,i=e.rgb,s=e.hsl,o=e.hsv,a=e.hex,l=e.header,c=e.styles,h=c===void 0?{}:c,f=e.className,p=f===void 0?"":f,m=$e(yr({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},h));return P.createElement("div",{style:m.picker,className:"google-picker "+p},P.createElement("div",{style:m.head},l),P.createElement("div",{style:m.swatch}),P.createElement("div",{style:m.saturation},P.createElement(f0,{hsl:s,hsv:o,pointer:p2,onChange:r})),P.createElement("div",{style:m.body},P.createElement("div",{style:m.controls,className:"flexbox-fix"},P.createElement("div",{style:m.hue},P.createElement(Ic,{style:m.Hue,hsl:s,radius:"4px",pointer:m2,onChange:r}))),P.createElement(nxe,{rgb:i,hsl:s,hex:a,hsv:o,onChange:r})))};g2.propTypes={width:B.oneOfType([B.string,B.number]),styles:B.object,header:B.string};g2.defaultProps={width:652,styles:{},header:"Color picker"};br(g2);function rxe(t,e){T.useEffect(()=>{function n(r){t.current&&!t.current.contains(r.target)&&e()}return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[t])}function oc({color:t,colorChanged:e,type:n="chrome",colorOptions:r=["#3bac99"]}){const[i,s]=T.useState(!1),[o,a]=T.useState(t||"#ffffff"),l=T.useRef(null);rxe(l,()=>{s(!1)}),T.useEffect(()=>{a(t||"#fff")},[t]);const c=()=>{s(!i)},h=p=>{a(p.hex),e(p.hex)},f=$e({default:{color:{background:o},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return ee("div",{className:"color-picker",ref:l,children:[k("div",{className:"swatch",style:f.color,onClick:c}),i?ee("div",{style:f.popover,children:[n==="chrome"&&k(kbe,{color:o,onChange:h,disableAlpha:!0}),n==="circle"&&k(bbe,{colors:r,onChange:h})]}):null]})}function ll(t){return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ll(t)}function ixe(t,e){if(ll(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ll(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function K5(t){var e=ixe(t,"string");return ll(e)==="symbol"?e:String(e)}function kh(t,e,n){return e=K5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(n),!0).forEach(function(r){kh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sxe(t){if(Array.isArray(t))return t}function oxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function Bw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Z5(t,e){if(t){if(typeof t=="string")return Bw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bw(t,e)}}function axe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function so(t,e){return sxe(t)||oxe(t,e)||Z5(t,e)||axe()}function Rc(t,e){if(t==null)return{};var n=zr(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var lxe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function uxe(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,s=t.defaultValue,o=s===void 0?null:s,a=t.inputValue,l=t.menuIsOpen,c=t.onChange,h=t.onInputChange,f=t.onMenuClose,p=t.onMenuOpen,m=t.value,v=Rc(t,lxe),y=T.useState(a!==void 0?a:n),x=so(y,2),b=x[0],_=x[1],w=T.useState(l!==void 0?l:i),E=so(w,2),O=E[0],A=E[1],F=T.useState(m!==void 0?m:o),L=so(F,2),H=L[0],j=L[1],z=T.useCallback(function(Z,le){typeof c=="function"&&c(Z,le),j(Z)},[c]),W=T.useCallback(function(Z,le){var G;typeof h=="function"&&(G=h(Z,le)),_(G!==void 0?G:Z)},[h]),q=T.useCallback(function(){typeof p=="function"&&p(),A(!0)},[p]),Y=T.useCallback(function(){typeof f=="function"&&f(),A(!1)},[f]),de=a!==void 0?a:b,ce=l!==void 0?l:O,te=m!==void 0?m:H;return Ue(Ue({},v),{},{inputValue:de,menuIsOpen:ce,onChange:z,onInputChange:W,onMenuClose:Y,onMenuOpen:q,value:te})}function cxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K5(r.key),r)}}function hxe(t,e,n){return e&&ZI(t.prototype,e),n&&ZI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ig(t,e){return Ig=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ig(t,e)}function dxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ig(t,e)}function Rg(t){return Rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rg(t)}function fxe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mxe(t,e){if(e&&(ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pxe(t)}function gxe(t){var e=fxe();return function(){var r=Rg(t),i;if(e){var s=Rg(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return mxe(this,i)}}function vxe(t){if(Array.isArray(t))return Bw(t)}function yxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q5(t){return vxe(t)||yxe(t)||Z5(t)||bxe()}function xxe(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function wxe(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}const _xe=["top","right","bottom","left"];_xe.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);function Ts(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function J5(t){return Ts(t).getComputedStyle(t)}function eL(t){return t instanceof Ts(t).Node}function tL(t){return eL(t)?(t.nodeName||"").toLowerCase():""}let zp;function Sxe(){if(zp)return zp;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(zp=t.brands.map(e=>e.brand+"/"+e.version).join(" "),zp):navigator.userAgent}function v2(t){return t instanceof Ts(t).HTMLElement}function ju(t){return t instanceof Ts(t).Element}function QI(t){return typeof ShadowRoot>"u"?!1:t instanceof Ts(t).ShadowRoot||t instanceof ShadowRoot}function nL(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=J5(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Exe(){return/^((?!chrome|android).)*safari/i.test(Sxe())}function Cxe(t){return["html","body","#document"].includes(tL(t))}const Mg=Math.round;function Txe(t){const e=J5(t);let n=parseFloat(e.width),r=parseFloat(e.height);const i=v2(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Mg(n)!==s||Mg(r)!==o;return a&&(n=s,r=o),{width:n,height:r,fallback:a}}function rL(t){return ju(t)?t:t.contextElement}const iL={x:1,y:1};function G1(t){const e=rL(t);if(!v2(e))return iL;const n=e.getBoundingClientRect(),{width:r,height:i,fallback:s}=Txe(e);let o=(s?Mg(n.width):n.width)/r,a=(s?Mg(n.height):n.height)/i;return o&&Number.isFinite(o)||(o=1),a&&Number.isFinite(a)||(a=1),{x:o,y:a}}function JI(t,e,n,r){var i,s;e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),a=rL(t);let l=iL;e&&(r?ju(r)&&(l=G1(r)):l=G1(t));const c=a?Ts(a):window,h=Exe()&&n;let f=(o.left+(h&&((i=c.visualViewport)==null?void 0:i.offsetLeft)||0))/l.x,p=(o.top+(h&&((s=c.visualViewport)==null?void 0:s.offsetTop)||0))/l.y,m=o.width/l.x,v=o.height/l.y;if(a){const y=Ts(a),x=r&&ju(r)?Ts(r):r;let b=y.frameElement;for(;b&&r&&x!==y;){const _=G1(b),w=b.getBoundingClientRect(),E=getComputedStyle(b);w.x+=(b.clientLeft+parseFloat(E.paddingLeft))*_.x,w.y+=(b.clientTop+parseFloat(E.paddingTop))*_.y,f*=_.x,p*=_.y,m*=_.x,v*=_.y,f+=w.x,p+=w.y,b=Ts(b).frameElement}}return wxe({width:m,height:v,x:f,y:p})}function Axe(t){return((eL(t)?t.ownerDocument:t.document)||window.document).documentElement}function Pxe(t){if(tL(t)==="html")return t;const e=t.assignedSlot||t.parentNode||QI(t)&&t.host||Axe(t);return QI(e)?e.host:e}function sL(t){const e=Pxe(t);return Cxe(e)?e.ownerDocument.body:v2(e)&&nL(e)?e:sL(e)}function Lm(t,e){var n;e===void 0&&(e=[]);const r=sL(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Ts(r);return i?e.concat(s,s.visualViewport||[],nL(r)?r:[]):e.concat(r,Lm(r))}function kxe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=!0,animationFrame:a=!1}=r,l=i&&!a,c=l||s?[...ju(t)?Lm(t):t.contextElement?Lm(t.contextElement):[],...Lm(e)]:[];c.forEach(m=>{l&&m.addEventListener("scroll",n,{passive:!0}),s&&m.addEventListener("resize",n)});let h,f=null;if(o){let m=!0;f=new ResizeObserver(()=>{m||n(),m=!1}),ju(t)&&!a&&f.observe(t),ju(t)||!t.contextElement||a||f.observe(t.contextElement),f.observe(e)}let p=a?JI(t):null;return a&&function m(){const v=JI(t);!p||v.x===p.x&&v.y===p.y&&v.width===p.width&&v.height===p.height||n(),p=v,h=requestAnimationFrame(m)}(),n(),()=>{var m;c.forEach(v=>{l&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),(m=f)==null||m.disconnect(),f=null,a&&cancelAnimationFrame(h)}}var Fg=T.useLayoutEffect,Oxe=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Dg=function(){};function Ixe(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function Rxe(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&s.push("".concat(Ixe(t,o)));return s.filter(function(a){return a}).map(function(a){return String(a).trim()}).join(" ")}var eR=function(e){return zxe(e)?e.filter(Boolean):ll(e)==="object"&&e!==null?[e]:[]},oL=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=Rc(e,Oxe);return Ue({},n)},nn=function(e,n,r){var i=e.cx,s=e.getStyles,o=e.getClassNames,a=e.className;return{css:s(n,e),className:i(r??{},o(n,e),a)}};function m0(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function Mxe(t){return m0(t)?window.innerHeight:t.clientHeight}function aL(t){return m0(t)?window.pageYOffset:t.scrollTop}function Lg(t,e){if(m0(t)){window.scrollTo(0,e);return}t.scrollTop=e}function Fxe(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function Dxe(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function Hp(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Dg,i=aL(t),s=e-i,o=10,a=0;function l(){a+=o;var c=Dxe(a,i,s,n);Lg(t,c),a<n?window.requestAnimationFrame(l):r(t)}l()}function tR(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?Lg(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&Lg(t,Math.max(e.offsetTop-i,0))}function Lxe(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function nR(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Bxe(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var lL=!1,Nxe={get passive(){return lL=!0}},jp=typeof window<"u"?window:{};jp.addEventListener&&jp.removeEventListener&&(jp.addEventListener("p",Dg,Nxe),jp.removeEventListener("p",Dg,!1));var $xe=lL;function Uxe(t){return t!=null}function zxe(t){return Array.isArray(t)}function Wp(t,e,n){return t?e:n}var Hxe=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(o){var a=so(o,1),l=a[0];return!r.includes(l)});return s.reduce(function(o,a){var l=so(a,2),c=l[0],h=l[1];return o[c]=h,o},{})};function jxe(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,s=t.shouldScroll,o=t.isFixedPosition,a=t.controlHeight,l=Fxe(n),c={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return c;var h=l.getBoundingClientRect(),f=h.height,p=n.getBoundingClientRect(),m=p.bottom,v=p.height,y=p.top,x=n.offsetParent.getBoundingClientRect(),b=x.top,_=o?window.innerHeight:Mxe(l),w=aL(l),E=parseInt(getComputedStyle(n).marginBottom,10),O=parseInt(getComputedStyle(n).marginTop,10),A=b-O,F=_-y,L=A+w,H=f-w-y,j=m-_+w+E,z=w+y-O,W=160;switch(i){case"auto":case"bottom":if(F>=v)return{placement:"bottom",maxHeight:e};if(H>=v&&!o)return s&&Hp(l,j,W),{placement:"bottom",maxHeight:e};if(!o&&H>=r||o&&F>=r){s&&Hp(l,j,W);var q=o?F-E:H-E;return{placement:"bottom",maxHeight:q}}if(i==="auto"||o){var Y=e,de=o?A:L;return de>=r&&(Y=Math.min(de-E-a,e)),{placement:"top",maxHeight:Y}}if(i==="bottom")return s&&Lg(l,j),{placement:"bottom",maxHeight:e};break;case"top":if(A>=v)return{placement:"top",maxHeight:e};if(L>=v&&!o)return s&&Hp(l,z,W),{placement:"top",maxHeight:e};if(!o&&L>=r||o&&A>=r){var ce=e;return(!o&&L>=r||o&&A>=r)&&(ce=o?A-O:L-O),s&&Hp(l,z,W),{placement:"top",maxHeight:ce}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}function Wxe(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var uL=function(e){return e==="auto"?"bottom":e},Gxe=function(e,n){var r,i=e.placement,s=e.theme,o=s.borderRadius,a=s.spacing,l=s.colors;return Ue((r={label:"menu"},kh(r,Wxe(i),"100%"),kh(r,"position","absolute"),kh(r,"width","100%"),kh(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},cL=T.createContext(null),Vxe=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,o=e.menuPosition,a=e.menuShouldScrollIntoView,l=e.theme,c=T.useContext(cL)||{},h=c.setPortalPlacement,f=T.useRef(null),p=T.useState(i),m=so(p,2),v=m[0],y=m[1],x=T.useState(null),b=so(x,2),_=b[0],w=b[1],E=l.spacing.controlHeight;return Fg(function(){var O=f.current;if(O){var A=o==="fixed",F=a&&!A,L=jxe({maxHeight:i,menuEl:O,minHeight:r,placement:s,shouldScroll:F,isFixedPosition:A,controlHeight:E});y(L.maxHeight),w(L.placement),h==null||h(L.placement)}},[i,s,o,a,r,h,E]),n({ref:f,placerProps:Ue(Ue({},e),{},{placement:_||uL(s),maxHeight:v})})},qxe=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return Le("div",ve({},nn(e,"menu",{menu:!0}),{ref:r},i),n)},Xxe=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return Ue({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},Yxe=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return Le("div",ve({},nn(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),n)},hL=function(e,n){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return Ue({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},Kxe=hL,Zxe=hL,dL=function(e){var n=e.children,r=e.innerProps;return Le("div",ve({},nn(e,"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)};dL.defaultProps={children:"No options"};var fL=function(e){var n=e.children,r=e.innerProps;return Le("div",ve({},nn(e,"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)};fL.defaultProps={children:"Loading..."};var Qxe=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},Jxe=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,o=e.menuPlacement,a=e.menuPosition,l=T.useRef(null),c=T.useRef(null),h=T.useState(uL(o)),f=so(h,2),p=f[0],m=f[1],v=T.useMemo(function(){return{setPortalPlacement:m}},[]),y=T.useState(null),x=so(y,2),b=x[0],_=x[1],w=T.useCallback(function(){if(i){var F=Lxe(i),L=a==="fixed"?0:window.pageYOffset,H=F[p]+L;(H!==(b==null?void 0:b.offset)||F.left!==(b==null?void 0:b.rect.left)||F.width!==(b==null?void 0:b.rect.width))&&_({offset:H,rect:F})}},[i,a,p,b==null?void 0:b.offset,b==null?void 0:b.rect.left,b==null?void 0:b.rect.width]);Fg(function(){w()},[w]);var E=T.useCallback(function(){typeof c.current=="function"&&(c.current(),c.current=null),i&&l.current&&(c.current=kxe(i,l.current,w,{elementResize:"ResizeObserver"in window}))},[i,w]);Fg(function(){E()},[E]);var O=T.useCallback(function(F){l.current=F,E()},[E]);if(!n&&a!=="fixed"||!b)return null;var A=Le("div",ve({ref:O},nn(Ue(Ue({},e),{},{offset:b.offset,position:a,rect:b.rect}),"menuPortal",{"menu-portal":!0}),s),r);return Le(cL.Provider,{value:v},n?Qh.createPortal(A,n):A)},ewe=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},twe=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return Le("div",ve({},nn(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),n)},nwe=function(e,n){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,o=e.selectProps.controlShouldRenderValue;return Ue({alignItems:"center",display:i&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},rwe=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return Le("div",ve({},nn(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),n)},iwe=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},swe=function(e){var n=e.children,r=e.innerProps;return Le("div",ve({},nn(e,"indicatorsContainer",{indicators:!0}),r),n)},rR,owe=["size"],awe={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},pL=function(e){var n=e.size,r=Rc(e,owe);return Le("svg",ve({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:awe},r))},y2=function(e){return Le(pL,ve({size:20},e),Le("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},mL=function(e){return Le(pL,ve({size:20},e),Le("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},gL=function(e,n){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return Ue({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?o.neutral60:o.neutral20,padding:s*2,":hover":{color:r?o.neutral80:o.neutral40}})},lwe=gL,uwe=function(e){var n=e.children,r=e.innerProps;return Le("div",ve({},nn(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||Le(mL,null))},cwe=gL,hwe=function(e){var n=e.children,r=e.innerProps;return Le("div",ve({},nn(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||Le(y2,null))},dwe=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return Ue({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},fwe=function(e){var n=e.innerProps;return Le("span",ve({},n,nn(e,"indicatorSeparator",{"indicator-separator":!0})))},pwe=gee(rR||(rR=xxe([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),mwe=function(e,n){var r=e.isFocused,i=e.size,s=e.theme,o=s.colors,a=s.spacing.baseUnit;return Ue({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?o.neutral60:o.neutral20,padding:a*2})},V1=function(e){var n=e.delay,r=e.offset;return Le("span",{css:yE({animation:"".concat(pwe," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},vL=function(e){var n=e.innerProps,r=e.isRtl;return Le("div",ve({},nn(e,"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),Le(V1,{delay:0,offset:r}),Le(V1,{delay:160,offset:!0}),Le(V1,{delay:320,offset:!r}))};vL.defaultProps={size:4};var gwe=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.theme,o=s.colors,a=s.borderRadius,l=s.spacing;return Ue({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:i?o.primary:o.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},vwe=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,o=e.innerProps,a=e.menuIsOpen;return Le("div",ve({ref:s},nn(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":a}),o),n)},ywe=["data"],bwe=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},xwe=function(e){var n=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,o=e.Heading,a=e.headingProps,l=e.innerProps,c=e.label,h=e.theme,f=e.selectProps;return Le("div",ve({},nn(e,"group",{group:!0}),l),Le(o,ve({},a,{selectProps:f,theme:h,getStyles:i,getClassNames:s,cx:r}),c),Le("div",null,n))},wwe=function(e,n){var r=e.theme,i=r.colors,s=r.spacing;return Ue({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},_we=function(e){var n=oL(e);n.data;var r=Rc(n,ywe);return Le("div",ve({},nn(e,"groupHeading",{"group-heading":!0}),r))},Swe=["innerRef","isDisabled","isHidden","inputClassName"],Ewe=function(e,n){var r=e.isDisabled,i=e.value,s=e.theme,o=s.spacing,a=s.colors;return Ue(Ue({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},Cwe),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:a.neutral80})},yL={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Cwe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Ue({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},yL)},Twe=function(e){return Ue({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},yL)},Awe=function(e){var n=e.cx,r=e.value,i=oL(e),s=i.innerRef,o=i.isDisabled,a=i.isHidden,l=i.inputClassName,c=Rc(i,Swe);return Le("div",ve({},nn(e,"input",{"input-container":!0}),{"data-value":r||""}),Le("input",ve({className:n({input:!0},l),ref:s,style:Twe(a),disabled:o},c)))},Pwe=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors;return Ue({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},kwe=function(e,n){var r=e.theme,i=r.borderRadius,s=r.colors,o=e.cropWithEllipsis;return Ue({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Owe=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors,a=e.isFocused;return Ue({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:a?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},bL=function(e){var n=e.children,r=e.innerProps;return Le("div",r,n)},Iwe=bL,Rwe=bL;function Mwe(t){var e=t.children,n=t.innerProps;return Le("div",ve({role:"button"},n),e||Le(y2,{size:14}))}var Fwe=function(e){var n=e.children,r=e.components,i=e.data,s=e.innerProps,o=e.isDisabled,a=e.removeProps,l=e.selectProps,c=r.Container,h=r.Label,f=r.Remove;return Le(c,{data:i,innerProps:Ue(Ue({},nn(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:l},Le(h,{data:i,innerProps:Ue({},nn(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),Le(f,{data:i,innerProps:Ue(Ue({},nn(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},a),selectProps:l}))},Dwe=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.theme,a=o.spacing,l=o.colors;return Ue({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:s?l.neutral0:"inherit",padding:"".concat(a.baseUnit*2,"px ").concat(a.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?l.primary:l.primary50}})},Lwe=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.innerRef,a=e.innerProps;return Le("div",ve({},nn(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:o,"aria-disabled":r},a),n)},Bwe=function(e,n){var r=e.theme,i=r.spacing,s=r.colors;return Ue({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},Nwe=function(e){var n=e.children,r=e.innerProps;return Le("div",ve({},nn(e,"placeholder",{placeholder:!0}),r),n)},$we=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing,o=i.colors;return Ue({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},Uwe=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return Le("div",ve({},nn(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},zwe={ClearIndicator:hwe,Control:vwe,DropdownIndicator:uwe,DownChevron:mL,CrossIcon:y2,Group:xwe,GroupHeading:_we,IndicatorsContainer:swe,IndicatorSeparator:fwe,Input:Awe,LoadingIndicator:vL,Menu:qxe,MenuList:Yxe,MenuPortal:Jxe,LoadingMessage:fL,NoOptionsMessage:dL,MultiValue:Fwe,MultiValueContainer:Iwe,MultiValueLabel:Rwe,MultiValueRemove:Mwe,Option:Lwe,Placeholder:Nwe,SelectContainer:twe,SingleValue:Uwe,ValueContainer:rwe},Hwe=function(e){return Ue(Ue({},zwe),e.components)},iR=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function jwe(t,e){return!!(t===e||iR(t)&&iR(e))}function Wwe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!jwe(t[n],e[n]))return!1;return!0}function Gwe(t,e){e===void 0&&(e=Wwe);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var Vwe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},sR=function(e){return Le("span",ve({css:Vwe},e))},qwe={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.isDisabled,s=e.tabSelectsValue,o=e.context;switch(o){case"menu":return"Use Up and Down to choose options".concat(i?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,o=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,s=e.label,o=s===void 0?"":s,a=e.selectValue,l=e.isDisabled,c=e.isSelected,h=function(v,y){return v&&v.length?"".concat(v.indexOf(y)+1," of ").concat(v.length):""};if(n==="value"&&a)return"value ".concat(o," focused, ").concat(h(a,r),".");if(n==="menu"){var f=l?" disabled":"",p="".concat(c?"selected":"focused").concat(f);return"option ".concat(o," ").concat(p,", ").concat(h(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},Xwe=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,o=e.isFocused,a=e.selectValue,l=e.selectProps,c=e.id,h=l.ariaLiveMessages,f=l.getOptionLabel,p=l.inputValue,m=l.isMulti,v=l.isOptionDisabled,y=l.isSearchable,x=l.menuIsOpen,b=l.options,_=l.screenReaderStatus,w=l.tabSelectsValue,E=l["aria-label"],O=l["aria-live"],A=T.useMemo(function(){return Ue(Ue({},qwe),h||{})},[h]),F=T.useMemo(function(){var Y="";if(n&&A.onChange){var de=n.option,ce=n.options,te=n.removedValue,Z=n.removedValues,le=n.value,G=function(me){return Array.isArray(me)?null:me},R=te||de||G(le),D=R?f(R):"",Q=ce||Z||void 0,K=Q?Q.map(f):[],$=Ue({isDisabled:R&&v(R,a),label:D,labels:K},n);Y=A.onChange($)}return Y},[n,A,v,a,f]),L=T.useMemo(function(){var Y="",de=r||i,ce=!!(r&&a&&a.includes(r));if(de&&A.onFocus){var te={focused:de,label:f(de),isDisabled:v(de,a),isSelected:ce,options:s,context:de===r?"menu":"value",selectValue:a};Y=A.onFocus(te)}return Y},[r,i,f,v,A,s,a]),H=T.useMemo(function(){var Y="";if(x&&b.length&&A.onFilter){var de=_({count:s.length});Y=A.onFilter({inputValue:p,resultsMessage:de})}return Y},[s,p,x,A,b,_]),j=T.useMemo(function(){var Y="";if(A.guidance){var de=i?"value":x?"menu":"input";Y=A.guidance({"aria-label":E,context:de,isDisabled:r&&v(r,a),isMulti:m,isSearchable:y,tabSelectsValue:w})}return Y},[E,r,i,m,v,y,x,A,a,w]),z="".concat(L," ").concat(H," ").concat(j),W=Le(T.Fragment,null,Le("span",{id:"aria-selection"},F),Le("span",{id:"aria-context"},z)),q=(n==null?void 0:n.action)==="initial-input-focus";return Le(T.Fragment,null,Le(sR,{id:c},q&&W),Le(sR,{"aria-live":O,"aria-atomic":"false","aria-relevant":"additions text"},o&&!q&&W))},Nw=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],Ywe=new RegExp("["+Nw.map(function(t){return t.letters}).join("")+"]","g"),xL={};for(var q1=0;q1<Nw.length;q1++)for(var X1=Nw[q1],Y1=0;Y1<X1.letters.length;Y1++)xL[X1.letters[Y1]]=X1.base;var wL=function(e){return e.replace(Ywe,function(n){return xL[n]})},Kwe=Gwe(wL),oR=function(e){return e.replace(/^\s+|\s+$/g,"")},Zwe=function(e){return"".concat(e.label," ").concat(e.value)},Qwe=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=Ue({ignoreCase:!0,ignoreAccents:!0,stringify:Zwe,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,o=i.ignoreAccents,a=i.stringify,l=i.trim,c=i.matchFrom,h=l?oR(r):r,f=l?oR(a(n)):a(n);return s&&(h=h.toLowerCase(),f=f.toLowerCase()),o&&(h=Kwe(h),f=wL(f)),c==="start"?f.substr(0,h.length)===h:f.indexOf(h)>-1}},Jwe=["innerRef"];function e_e(t){var e=t.innerRef,n=Rc(t,Jwe),r=Hxe(n,"onExited","in","enter","exit","appear");return Le("input",ve({ref:e},r,{css:yE({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var t_e=function(e){e.preventDefault(),e.stopPropagation()};function n_e(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,o=T.useRef(!1),a=T.useRef(!1),l=T.useRef(0),c=T.useRef(null),h=T.useCallback(function(x,b){if(c.current!==null){var _=c.current,w=_.scrollTop,E=_.scrollHeight,O=_.clientHeight,A=c.current,F=b>0,L=E-O-w,H=!1;L>b&&o.current&&(r&&r(x),o.current=!1),F&&a.current&&(s&&s(x),a.current=!1),F&&b>L?(n&&!o.current&&n(x),A.scrollTop=E,H=!0,o.current=!0):!F&&-b>w&&(i&&!a.current&&i(x),A.scrollTop=0,H=!0,a.current=!0),H&&t_e(x)}},[n,r,i,s]),f=T.useCallback(function(x){h(x,x.deltaY)},[h]),p=T.useCallback(function(x){l.current=x.changedTouches[0].clientY},[]),m=T.useCallback(function(x){var b=l.current-x.changedTouches[0].clientY;h(x,b)},[h]),v=T.useCallback(function(x){if(x){var b=$xe?{passive:!1}:!1;x.addEventListener("wheel",f,b),x.addEventListener("touchstart",p,b),x.addEventListener("touchmove",m,b)}},[m,p,f]),y=T.useCallback(function(x){x&&(x.removeEventListener("wheel",f,!1),x.removeEventListener("touchstart",p,!1),x.removeEventListener("touchmove",m,!1))},[m,p,f]);return T.useEffect(function(){if(e){var x=c.current;return v(x),function(){y(x)}}},[e,v,y]),function(x){c.current=x}}var aR=["boxSizing","height","overflow","paddingRight","position"],lR={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function uR(t){t.preventDefault()}function cR(t){t.stopPropagation()}function hR(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function dR(){return"ontouchstart"in window||navigator.maxTouchPoints}var fR=!!(typeof window<"u"&&window.document&&window.document.createElement),fh=0,Vl={capture:!1,passive:!1};function r_e(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=T.useRef({}),s=T.useRef(null),o=T.useCallback(function(l){if(fR){var c=document.body,h=c&&c.style;if(r&&aR.forEach(function(v){var y=h&&h[v];i.current[v]=y}),r&&fh<1){var f=parseInt(i.current.paddingRight,10)||0,p=document.body?document.body.clientWidth:0,m=window.innerWidth-p+f||0;Object.keys(lR).forEach(function(v){var y=lR[v];h&&(h[v]=y)}),h&&(h.paddingRight="".concat(m,"px"))}c&&dR()&&(c.addEventListener("touchmove",uR,Vl),l&&(l.addEventListener("touchstart",hR,Vl),l.addEventListener("touchmove",cR,Vl))),fh+=1}},[r]),a=T.useCallback(function(l){if(fR){var c=document.body,h=c&&c.style;fh=Math.max(fh-1,0),r&&fh<1&&aR.forEach(function(f){var p=i.current[f];h&&(h[f]=p)}),c&&dR()&&(c.removeEventListener("touchmove",uR,Vl),l&&(l.removeEventListener("touchstart",hR,Vl),l.removeEventListener("touchmove",cR,Vl)))}},[r]);return T.useEffect(function(){if(e){var l=s.current;return o(l),function(){a(l)}}},[e,o,a]),function(l){s.current=l}}var i_e=function(){return document.activeElement&&document.activeElement.blur()},s_e={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function o_e(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,s=t.onBottomArrive,o=t.onBottomLeave,a=t.onTopArrive,l=t.onTopLeave,c=n_e({isEnabled:i,onBottomArrive:s,onBottomLeave:o,onTopArrive:a,onTopLeave:l}),h=r_e({isEnabled:n}),f=function(m){c(m),h(m)};return Le(T.Fragment,null,n&&Le("div",{onClick:i_e,css:s_e}),e(f))}var a_e={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},l_e=function(e){var n=e.name,r=e.onFocus;return Le("input",{required:!0,name:n,tabIndex:-1,onFocus:r,css:a_e,value:"",onChange:function(){}})},u_e=function(e){return e.label},c_e=function(e){return e.label},h_e=function(e){return e.value},d_e=function(e){return!!e.isDisabled},f_e={clearIndicator:cwe,container:ewe,control:gwe,dropdownIndicator:lwe,group:bwe,groupHeading:wwe,indicatorsContainer:iwe,indicatorSeparator:dwe,input:Ewe,loadingIndicator:mwe,loadingMessage:Zxe,menu:Gxe,menuList:Xxe,menuPortal:Qxe,multiValue:Pwe,multiValueLabel:kwe,multiValueRemove:Owe,noOptionsMessage:Kxe,option:Dwe,placeholder:Bwe,singleValue:$we,valueContainer:nwe},p_e={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},m_e=4,_L=4,g_e=38,v_e=_L*2,y_e={baseUnit:_L,controlHeight:g_e,menuGutter:v_e},K1={borderRadius:m_e,colors:p_e,spacing:y_e},b_e={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:nR(),captureMenuScroll:!nR(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Qwe(),formatGroupLabel:u_e,getOptionLabel:c_e,getOptionValue:h_e,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:d_e,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Bxe(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function pR(t,e,n,r){var i=TL(t,e,n),s=AL(t,e,n),o=CL(t,e),a=Bg(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:o,value:a,index:r}}function SL(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(o,a){return pR(t,o,e,a)}).filter(function(o){return mR(t,o)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=pR(t,n,e,r);return mR(t,s)?s:void 0}).filter(Uxe)}function EL(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,Q5(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function x_e(t,e){return EL(SL(t,e))}function mR(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,s=e.isSelected,o=e.label,a=e.value;return(!kL(t)||!s)&&PL(t,{label:o,value:a,data:i},r)}function w_e(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var s=e.indexOf(n);if(s>-1)return n;if(i<e.length)return e[i]}return null}function __e(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var CL=function(e,n){return e.getOptionLabel(n)},Bg=function(e,n){return e.getOptionValue(n)};function TL(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function AL(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=Bg(t,e);return n.some(function(i){return Bg(t,i)===r})}function PL(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var kL=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},S_e=1,OL=function(t){dxe(n,t);var e=gxe(n);function n(r){var i;if(cxe(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.instancePrefix="",i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.controlRef=null,i.getControlRef=function(a){i.controlRef=a},i.focusedOptionRef=null,i.getFocusedOptionRef=function(a){i.focusedOptionRef=a},i.menuListRef=null,i.getMenuListRef=function(a){i.menuListRef=a},i.inputRef=null,i.getInputRef=function(a){i.inputRef=a},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(a,l){var c=i.props,h=c.onChange,f=c.name;l.name=f,i.ariaOnChange(a,l),h(a,l)},i.setValue=function(a,l,c){var h=i.props,f=h.closeMenuOnSelect,p=h.isMulti,m=h.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:m}),f&&(i.setState({inputIsHiddenAfterUpdate:!p}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(a,{action:l,option:c})},i.selectOption=function(a){var l=i.props,c=l.blurInputOnSelect,h=l.isMulti,f=l.name,p=i.state.selectValue,m=h&&i.isOptionSelected(a,p),v=i.isOptionDisabled(a,p);if(m){var y=i.getOptionValue(a);i.setValue(p.filter(function(x){return i.getOptionValue(x)!==y}),"deselect-option",a)}else if(!v)h?i.setValue([].concat(Q5(p),[a]),"select-option",a):i.setValue(a,"select-option");else{i.ariaOnChange(a,{action:"select-option",option:a,name:f});return}c&&i.blurInput()},i.removeValue=function(a){var l=i.props.isMulti,c=i.state.selectValue,h=i.getOptionValue(a),f=c.filter(function(m){return i.getOptionValue(m)!==h}),p=Wp(l,f,f[0]||null);i.onChange(p,{action:"remove-value",removedValue:a}),i.focusInput()},i.clearValue=function(){var a=i.state.selectValue;i.onChange(Wp(i.props.isMulti,[],null),{action:"clear",removedValues:a})},i.popValue=function(){var a=i.props.isMulti,l=i.state.selectValue,c=l[l.length-1],h=l.slice(0,l.length-1),f=Wp(a,h,h[0]||null);i.onChange(f,{action:"pop-value",removedValue:c})},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return Rxe.apply(void 0,[i.props.classNamePrefix].concat(l))},i.getOptionLabel=function(a){return CL(i.props,a)},i.getOptionValue=function(a){return Bg(i.props,a)},i.getStyles=function(a,l){var c=i.props.unstyled,h=f_e[a](l,c);h.boxSizing="border-box";var f=i.props.styles[a];return f?f(h,l):h},i.getClassNames=function(a,l){var c,h;return(c=(h=i.props.classNames)[a])===null||c===void 0?void 0:c.call(h,l)},i.getElementId=function(a){return"".concat(i.instancePrefix,"-").concat(a)},i.getComponents=function(){return Hwe(i.props)},i.buildCategorizedOptions=function(){return SL(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return EL(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(a,l){i.setState({ariaSelection:Ue({value:a},l)})},i.onMenuMouseDown=function(a){a.button===0&&(a.stopPropagation(),a.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(a){i.blockOptionHover=!1},i.onControlMouseDown=function(a){if(!a.defaultPrevented){var l=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&i.onMenuClose():l&&i.openMenu("first"):(l&&(i.openAfterFocus=!0),i.focusInput()),a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&a.preventDefault()}},i.onDropdownIndicatorMouseDown=function(a){if(!(a&&a.type==="mousedown"&&a.button!==0)&&!i.props.isDisabled){var l=i.props,c=l.isMulti,h=l.menuIsOpen;i.focusInput(),h?(i.setState({inputIsHiddenAfterUpdate:!c}),i.onMenuClose()):i.openMenu("first"),a.preventDefault()}},i.onClearIndicatorMouseDown=function(a){a&&a.type==="mousedown"&&a.button!==0||(i.clearValue(),a.preventDefault(),i.openAfterFocus=!1,a.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(a){typeof i.props.closeMenuOnScroll=="boolean"?a.target instanceof HTMLElement&&m0(a.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(a)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(a){var l=a.touches,c=l&&l.item(0);c&&(i.initialTouchX=c.clientX,i.initialTouchY=c.clientY,i.userIsDragging=!1)},i.onTouchMove=function(a){var l=a.touches,c=l&&l.item(0);if(c){var h=Math.abs(c.clientX-i.initialTouchX),f=Math.abs(c.clientY-i.initialTouchY),p=5;i.userIsDragging=h>p||f>p}},i.onTouchEnd=function(a){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(a.target)&&i.menuListRef&&!i.menuListRef.contains(a.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(a){i.userIsDragging||i.onControlMouseDown(a)},i.onClearIndicatorTouchEnd=function(a){i.userIsDragging||i.onClearIndicatorMouseDown(a)},i.onDropdownIndicatorTouchEnd=function(a){i.userIsDragging||i.onDropdownIndicatorMouseDown(a)},i.handleInputChange=function(a){var l=i.props.inputValue,c=a.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(c,{action:"input-change",prevInputValue:l}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(a){i.props.onFocus&&i.props.onFocus(a),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(a){var l=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(a),i.onInputChange("",{action:"input-blur",prevInputValue:l}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(a){i.blockOptionHover||i.state.focusedOption===a||i.setState({focusedOption:a})},i.shouldHideSelectedOptions=function(){return kL(i.props)},i.onValueInputFocus=function(a){a.preventDefault(),a.stopPropagation(),i.focus()},i.onKeyDown=function(a){var l=i.props,c=l.isMulti,h=l.backspaceRemovesValue,f=l.escapeClearsValue,p=l.inputValue,m=l.isClearable,v=l.isDisabled,y=l.menuIsOpen,x=l.onKeyDown,b=l.tabSelectsValue,_=l.openMenuOnFocus,w=i.state,E=w.focusedOption,O=w.focusedValue,A=w.selectValue;if(!v&&!(typeof x=="function"&&(x(a),a.defaultPrevented))){switch(i.blockOptionHover=!0,a.key){case"ArrowLeft":if(!c||p)return;i.focusValue("previous");break;case"ArrowRight":if(!c||p)return;i.focusValue("next");break;case"Delete":case"Backspace":if(p)return;if(O)i.removeValue(O);else{if(!h)return;c?i.popValue():m&&i.clearValue()}break;case"Tab":if(i.isComposing||a.shiftKey||!y||!b||!E||_&&i.isOptionSelected(E,A))return;i.selectOption(E);break;case"Enter":if(a.keyCode===229)break;if(y){if(!E||i.isComposing)return;i.selectOption(E);break}return;case"Escape":y?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:p}),i.onMenuClose()):m&&f&&i.clearValue();break;case" ":if(p)return;if(!y){i.openMenu("first");break}if(!E)return;i.selectOption(E);break;case"ArrowUp":y?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":y?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!y)return;i.focusOption("pageup");break;case"PageDown":if(!y)return;i.focusOption("pagedown");break;case"Home":if(!y)return;i.focusOption("first");break;case"End":if(!y)return;i.focusOption("last");break;default:return}a.preventDefault()}},i.instancePrefix="react-select-"+(i.props.instanceId||++S_e),i.state.selectValue=eR(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.buildFocusableOptions(),o=s.indexOf(i.state.selectValue[0]);i.state.focusedOption=s[o]}return i}return hxe(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&tR(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isDisabled,a=s.menuIsOpen,l=this.state.isFocused;(l&&!o&&i.isDisabled||l&&a&&!i.menuIsOpen)&&this.focusInput(),l&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(tR(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,o=this.state,a=o.selectValue,l=o.isFocused,c=this.buildFocusableOptions(),h=i==="first"?0:c.length-1;if(!this.props.isMulti){var f=c.indexOf(a[0]);f>-1&&(h=f)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:c[h]},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,o=s.selectValue,a=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=o.indexOf(a);a||(l=-1);var c=o.length-1,h=-1;if(o.length){switch(i){case"previous":l===0?h=0:l===-1?h=c:h=l-1;break;case"next":l>-1&&l<c&&(h=l+1);break}this.setState({inputIsHidden:h!==-1,focusedValue:o[h]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var l=0,c=a.indexOf(o);o||(c=-1),i==="up"?l=c>0?c-1:a.length-1:i==="down"?l=(c+1)%a.length:i==="pageup"?(l=c-s,l<0&&(l=0)):i==="pagedown"?(l=c+s,l>a.length-1&&(l=a.length-1)):i==="last"&&(l=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[l],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(K1):Ue(Ue({},K1),this.props.theme):K1}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,o=this.getStyles,a=this.getClassNames,l=this.getValue,c=this.selectOption,h=this.setValue,f=this.props,p=f.isMulti,m=f.isRtl,v=f.options,y=this.hasValue();return{clearValue:i,cx:s,getStyles:o,getClassNames:a,getValue:l,hasValue:y,isMulti:p,isRtl:m,options:v,selectOption:c,selectProps:f,setValue:h,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,o=i.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(i,s){return TL(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return AL(this.props,i,s)}},{key:"filterOption",value:function(i,s){return PL(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:o,selectValue:a})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,o=i.isSearchable,a=i.inputId,l=i.inputValue,c=i.tabIndex,h=i.form,f=i.menuIsOpen,p=i.required,m=this.getComponents(),v=m.Input,y=this.state,x=y.inputIsHidden,b=y.ariaSelection,_=this.commonProps,w=a||this.getElementId("input"),E=Ue(Ue(Ue({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":p,role:"combobox"},f&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(b==null?void 0:b.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?T.createElement(v,ve({},_,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:w,innerRef:this.getInputRef,isDisabled:s,isHidden:x,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:c,form:h,type:"text",value:l},E)):T.createElement(e_e,ve({id:w,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Dg,onFocus:this.onInputFocus,disabled:s,tabIndex:c,inputMode:"none",form:h,value:""},E))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),o=s.MultiValue,a=s.MultiValueContainer,l=s.MultiValueLabel,c=s.MultiValueRemove,h=s.SingleValue,f=s.Placeholder,p=this.commonProps,m=this.props,v=m.controlShouldRenderValue,y=m.isDisabled,x=m.isMulti,b=m.inputValue,_=m.placeholder,w=this.state,E=w.selectValue,O=w.focusedValue,A=w.isFocused;if(!this.hasValue()||!v)return b?null:T.createElement(f,ve({},p,{key:"placeholder",isDisabled:y,isFocused:A,innerProps:{id:this.getElementId("placeholder")}}),_);if(x)return E.map(function(L,H){var j=L===O,z="".concat(i.getOptionLabel(L),"-").concat(i.getOptionValue(L));return T.createElement(o,ve({},p,{components:{Container:a,Label:l,Remove:c},isFocused:j,isDisabled:y,key:z,index:H,removeProps:{onClick:function(){return i.removeValue(L)},onTouchEnd:function(){return i.removeValue(L)},onMouseDown:function(q){q.preventDefault()}},data:L}),i.formatOptionLabel(L,"value"))});if(b)return null;var F=E[0];return T.createElement(h,ve({},p,{data:F,isDisabled:y}),this.formatOptionLabel(F,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,c=a.isLoading,h=this.state.isFocused;if(!this.isClearable()||!s||l||!this.hasValue()||c)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return T.createElement(s,ve({},o,{innerProps:f,isFocused:h}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,c=a.isLoading,h=this.state.isFocused;if(!s||!c)return null;var f={"aria-hidden":"true"};return T.createElement(s,ve({},o,{innerProps:f,isDisabled:l,isFocused:h}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,o=i.IndicatorSeparator;if(!s||!o)return null;var a=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused;return T.createElement(o,ve({},a,{isDisabled:l,isFocused:c}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var o=this.commonProps,a=this.props.isDisabled,l=this.state.isFocused,c={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return T.createElement(s,ve({},o,{innerProps:c,isDisabled:a,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),o=s.Group,a=s.GroupHeading,l=s.Menu,c=s.MenuList,h=s.MenuPortal,f=s.LoadingMessage,p=s.NoOptionsMessage,m=s.Option,v=this.commonProps,y=this.state.focusedOption,x=this.props,b=x.captureMenuScroll,_=x.inputValue,w=x.isLoading,E=x.loadingMessage,O=x.minMenuHeight,A=x.maxMenuHeight,F=x.menuIsOpen,L=x.menuPlacement,H=x.menuPosition,j=x.menuPortalTarget,z=x.menuShouldBlockScroll,W=x.menuShouldScrollIntoView,q=x.noOptionsMessage,Y=x.onMenuScrollToTop,de=x.onMenuScrollToBottom;if(!F)return null;var ce=function(Q,K){var $=Q.type,ne=Q.data,me=Q.isDisabled,Ie=Q.isSelected,Re=Q.label,Ye=Q.value,Se=y===ne,et=me?void 0:function(){return i.onOptionHover(ne)},tt=me?void 0:function(){return i.selectOption(ne)},rt="".concat(i.getElementId("option"),"-").concat(K),Ot={id:rt,onClick:tt,onMouseMove:et,onMouseOver:et,tabIndex:-1};return T.createElement(m,ve({},v,{innerProps:Ot,data:ne,isDisabled:me,isSelected:Ie,key:rt,label:Re,type:$,value:Ye,isFocused:Se,innerRef:Se?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(Q.data,"menu"))},te;if(this.hasOptions())te=this.getCategorizedOptions().map(function(D){if(D.type==="group"){var Q=D.data,K=D.options,$=D.index,ne="".concat(i.getElementId("group"),"-").concat($),me="".concat(ne,"-heading");return T.createElement(o,ve({},v,{key:ne,data:Q,options:K,Heading:a,headingProps:{id:me,data:D.data},label:i.formatGroupLabel(D.data)}),D.options.map(function(Ie){return ce(Ie,"".concat($,"-").concat(Ie.index))}))}else if(D.type==="option")return ce(D,"".concat(D.index))});else if(w){var Z=E({inputValue:_});if(Z===null)return null;te=T.createElement(f,v,Z)}else{var le=q({inputValue:_});if(le===null)return null;te=T.createElement(p,v,le)}var G={minMenuHeight:O,maxMenuHeight:A,menuPlacement:L,menuPosition:H,menuShouldScrollIntoView:W},R=T.createElement(Vxe,ve({},v,G),function(D){var Q=D.ref,K=D.placerProps,$=K.placement,ne=K.maxHeight;return T.createElement(l,ve({},v,G,{innerRef:Q,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove,id:i.getElementId("listbox")},isLoading:w,placement:$}),T.createElement(o_e,{captureEnabled:b,onTopArrive:Y,onBottomArrive:de,lockEnabled:z},function(me){return T.createElement(c,ve({},v,{innerRef:function(Re){i.getMenuListRef(Re),me(Re)},isLoading:w,maxHeight:ne,focusedOption:y}),te)}))});return j||H==="fixed"?T.createElement(h,ve({},v,{appendTo:j,controlElement:this.controlRef,menuPlacement:L,menuPosition:H}),R):R}},{key:"renderFormField",value:function(){var i=this,s=this.props,o=s.delimiter,a=s.isDisabled,l=s.isMulti,c=s.name,h=s.required,f=this.state.selectValue;if(!(!c||a)){if(h&&!this.hasValue())return T.createElement(l_e,{name:c,onFocus:this.onValueInputFocus});if(l)if(o){var p=f.map(function(y){return i.getOptionValue(y)}).join(o);return T.createElement("input",{name:c,type:"hidden",value:p})}else{var m=f.length>0?f.map(function(y,x){return T.createElement("input",{key:"i-".concat(x),name:c,type:"hidden",value:i.getOptionValue(y)})}):T.createElement("input",{name:c,type:"hidden",value:""});return T.createElement("div",null,m)}else{var v=f[0]?this.getOptionValue(f[0]):"";return T.createElement("input",{name:c,type:"hidden",value:v})}}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,o=s.ariaSelection,a=s.focusedOption,l=s.focusedValue,c=s.isFocused,h=s.selectValue,f=this.getFocusableOptions();return T.createElement(Xwe,ve({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:a,focusedValue:l,isFocused:c,selectValue:h,focusableOptions:f}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,o=i.IndicatorsContainer,a=i.SelectContainer,l=i.ValueContainer,c=this.props,h=c.className,f=c.id,p=c.isDisabled,m=c.menuIsOpen,v=this.state.isFocused,y=this.commonProps=this.getCommonProps();return T.createElement(a,ve({},y,{className:h,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:p,isFocused:v}),this.renderLiveRegion(),T.createElement(s,ve({},y,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:p,isFocused:v,menuIsOpen:m}),T.createElement(l,ve({},y,{isDisabled:p}),this.renderPlaceholderOrValue(),this.renderInput()),T.createElement(o,ve({},y,{isDisabled:p}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var o=s.prevProps,a=s.clearFocusValueOnUpdate,l=s.inputIsHiddenAfterUpdate,c=s.ariaSelection,h=s.isFocused,f=s.prevWasFocused,p=i.options,m=i.value,v=i.menuIsOpen,y=i.inputValue,x=i.isMulti,b=eR(m),_={};if(o&&(m!==o.value||p!==o.options||v!==o.menuIsOpen||y!==o.inputValue)){var w=v?x_e(i,b):[],E=a?w_e(s,b):null,O=__e(s,w);_={selectValue:b,focusedOption:O,focusedValue:E,clearFocusValueOnUpdate:!1}}var A=l!=null&&i!==o?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},F=c,L=h&&f;return h&&!L&&(F={value:Wp(x,b,b[0]||null),options:b,action:"initial-input-focus"},L=!f),(c==null?void 0:c.action)==="initial-input-focus"&&(F=null),Ue(Ue(Ue({},_),A),{},{prevProps:i,ariaSelection:F,prevWasFocused:L})}}]),n}(T.Component);OL.defaultProps=b_e;var E_e=T.forwardRef(function(t,e){var n=uxe(t);return T.createElement(OL,ve({ref:e},n))});const bf=E_e,Z1=(t="transparent")=>({alignItems:"center",display:"flex",":before":{backgroundColor:t,borderRadius:10,content:'" "',display:"block",marginRight:8,height:10,width:10}}),Aa={color:"var(--textColor)"},C_e={backgroundColor:"var(--panelColor2)"},xf=t=>({menu:e=>({...e,...Aa,...C_e}),valueContainer:e=>({...e,backgroundColor:"transparent",...Aa}),indicatorSeparator:e=>({...e,backgroundColor:"var(--supermutedText)"}),control:e=>({...e,...Aa,backgroundColor:"transparent",borderColor:"var(--supermutedText)"}),option:(e,{data:n,isDisabled:r,isFocused:i,isSelected:s})=>({...e,...Aa,backgroundColor:s?"var(--panelColor)":"var(--panelColor2)",":hover":{backgroundColor:"var(--panelColor)"},":focus":{backgroundColor:"var(--panelColor)"},...(t==null?void 0:t.dot)&&Z1(n[t==null?void 0:t.colorProp])}),input:e=>({...e,...Aa,...(t==null?void 0:t.dot)&&Z1()}),placeholder:e=>({...e,...Aa}),singleValue:(e,{data:n})=>({...e,...Aa,...(t==null?void 0:t.dot)&&Z1(n[t==null?void 0:t.colorProp])})});function gR(t,e){return Ve(t,{value:e})}function T_e(t){return ze(t,e=>({value:e.id,label:e.name}))}function A_e({valueChanged:t,defaultValue:e}){const{abilityTypes:n}=T.useContext(Jn),[r,i]=T.useState(T_e(n));return k(bf,{className:"ability-select",styles:xf(),options:r,onChange:s=>t(s==null?void 0:s.value),defaultValue:e?gR(r,e):null,value:gR(r,e)})}function vR(t,e){t&&e&&vt(Object.keys(t),n=>{e[n]&&e[n]})}function P_e({tags:t,type:e,tagsChanged:n,typeChanged:r}){const{tagColors:i,setTagColors:s}=T.useContext(cf),[o,a]=T.useState(t||[]),[l,c]=T.useState(e),[h,f]=T.useState(vR(t,i)||{}),[p,m]=T.useState(null);T.useEffect(()=>{f(vR(t,i)||{})},[i]);const v=(w,E)=>{let O=[...o];O[E]=w,a(O),n(O)},y=()=>{a([...o,""]),n([...o,""]),m(t==null?void 0:t.length)},x=w=>{let E=[...o];E.splice(w,1),a(E),n(E)},b=w=>{c(w),r(w)},_=(w,E)=>{s({type:"add",color:w,tag:E})};return ee("div",{className:"tag-select",children:[k(A_e,{defaultValue:e,valueChanged:b}),o==null?void 0:o.map((w,E)=>ee("span",{className:"stat-tag form-control",style:{borderColor:i[w]},children:[k("div",{className:"tag-color",children:k(oc,{color:i[w],colorChanged:O=>_(O,w)})}),k(is,{autoFocus:p===E,value:w,valueChanged:O=>v(O,E)}),k(St,{clicked:()=>x(E),children:"x"})]},E)),k("button",{className:"add-tag",onClick:y,children:k(_g,{size:18})})]})}var k_e=function(e){var n=T.useRef(e);return Fg(function(){n.current=e}),n},yR=function(e,n){if(typeof e=="function"){e(n);return}e.current=n},O_e=function(e,n){var r=T.useRef();return T.useCallback(function(i){e.current=i,r.current&&yR(r.current,null),r.current=n,n&&yR(n,i)},[n])},bR={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},xR=function(e){Object.keys(bR).forEach(function(n){e.style.setProperty(n,bR[n],"important")})},Ar=null,I_e=function(e,n){var r=e.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function R_e(t,e,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),Ar||(Ar=document.createElement("textarea"),Ar.setAttribute("tabindex","-1"),Ar.setAttribute("aria-hidden","true"),xR(Ar)),Ar.parentNode===null&&document.body.appendChild(Ar);var i=t.paddingSize,s=t.borderSize,o=t.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(p){var m=p;Ar.style[m]=o[m]}),xR(Ar),Ar.value=e;var l=I_e(Ar,t);Ar.value="x";var c=Ar.scrollHeight-i,h=c*n;a==="border-box"&&(h=h+i+s),l=Math.max(h,l);var f=c*r;return a==="border-box"&&(f=f+i+s),l=Math.min(f,l),[l,c]}var wR=function(){},M_e=function(e,n){return e.reduce(function(r,i){return r[i]=n[i],r},{})},F_e=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],D_e=!!document.documentElement.currentStyle,L_e=function(e){var n=window.getComputedStyle(e);if(n===null)return null;var r=M_e(F_e,n),i=r.boxSizing;if(i==="")return null;D_e&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},B_e=function(e){var n=k_e(e);T.useLayoutEffect(function(){var r=function(s){n.current(s)};return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}},[])},N_e=function(e,n){var r=e.cacheMeasurements,i=e.maxRows,s=e.minRows,o=e.onChange,a=o===void 0?wR:o,l=e.onHeightChange,c=l===void 0?wR:l,h=zr(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),f=h.value!==void 0,p=T.useRef(null),m=O_e(p,n),v=T.useRef(0),y=T.useRef(),x=function(){var w=p.current,E=r&&y.current?y.current:L_e(w);if(E){y.current=E;var O=R_e(E,w.value||w.placeholder||"x",s,i),A=O[0],F=O[1];v.current!==A&&(v.current=A,w.style.setProperty("height",A+"px","important"),c(A,{rowHeight:F}))}},b=function(w){f||x(),a(w)};return T.useLayoutEffect(x),B_e(x),T.createElement("textarea",ve({},h,{onChange:b,ref:m}))},$_e=T.forwardRef(N_e);const IL=$_e;function _R(t,e){return Ve(t,{value:e})}function U_e(t,e){return ze(t,r=>{var i;return{value:r.id,label:r.name,typeColor:((i=Ve(e,{id:r.type}))==null?void 0:i.color)||"#ffffff"}})}function SR(t,e,n,r){const i=da(gr(U_e(e,r),s=>!tf(t,s.value)),"label");return n?[{value:null,label:"(None)"},...i]:i}function RL({usedOptions:t,valueChanged:e,defaultValue:n,showEmptyOption:r=!1}){const{abilities:i,abilityTypes:s}=T.useContext(Jn),[o,a]=T.useState(SR(t,i,r,s));return k(bf,{className:"ability-select",styles:xf({dot:!0,colorProp:"typeColor"}),options:SR(t,i,r,s),onChange:l=>e(l==null?void 0:l.value),defaultValue:n?_R(o,n):null,value:_R(o,n)})}function ER(t={}){return t?ze(Object.keys(t),e=>({name:e,value:t[e]})):[]}function CR(t){let e={};return vt(t,n=>{e[n.name]=n.value}),e}function z_e({ability:t,abilityChanged:e,editingCanceled:n,abilityRemoved:r,abilityCopied:i}){const{setAbilities:s}=T.useContext(Jn),[o,a]=T.useState(t.id),[l,c]=T.useState(t),[h,f]=T.useState(ER(t.params)),p=T.useRef(null);T.useEffect(()=>{var E;(E=p.current)==null||E.focus(),setTimeout(()=>{var O;(O=p.current)==null||O.scrollIntoView({block:"start"})})},[]),T.useEffect(()=>{f(ER(t.params))},[t]);const m=(E,O)=>{c({...l,[E]:O})},v=E=>{c({...l,tags:E})},y=E=>{c({...l,type:E})},x=E=>{f(E)},b=()=>{Cs(e)&&e({ability:{...l,params:CR(h)},id:t.id}),s({type:"update",ability:{...l,params:CR(h),tags:Mk(l.tags)},targetId:o}),s({type:"save"})},_=()=>{Cs(r)&&r(t.id)},w=()=>{const E=`${t.id}-copy`;b(),s({type:"add",ability:{...l,tags:Mk(l.tags),id:E,name:`${t.name} Copy`}}),Cs(i)&&i({id:E})};return ee("div",{className:"ability-card editable",children:[ee("div",{className:"name",children:[k(St,{color:"info",clicked:()=>{Cs(n)&&n()},children:k(tE,{})}),k("div",{className:"form-control",children:k("input",{ref:p,type:"text",value:l.name,onChange:E=>m("name",E.target.value)})})]}),ee("div",{className:"replaces",children:[k("div",{className:"replaces-name",children:"Replaces"}),k(RL,{usedOptions:[l.id],defaultValue:l.replaces,valueChanged:E=>m("replaces",E),showEmptyOption:!0})]}),ee("p",{className:"description form-control",children:[" ",k(IL,{placeholder:"Description",rows:10,value:l.description||"",onChange:E=>m("description",E.target.value)})]}),ee("div",{className:"accordions",children:[k(vn,{name:"Tags",startOpen:!0,children:k("div",{className:"tags",children:k(P_e,{tags:l.tags,type:l.type,tagsChanged:v,typeChanged:y})})}),k(vn,{name:"Params",startOpen:!0,children:k("div",{className:"params",children:k(Qoe,{params:h,paramsChanged:x})})})]}),ee("div",{className:"buttons",children:[ee(Qi,{type:"outline",color:"success",clicked:b,children:["Save ",k(al,{})]}),ee(Qi,{type:"outline",color:"theme",clicked:w,children:["Save & Copy ",k(sQ,{})]}),ee(Qi,{type:"outline",color:"danger",clicked:_,children:["Delete ",k(xo,{})]})]})]})}function H_e(t){let e={};vt(t,n=>{e[n.id]=n.modifier})}function j_e(t,e,n){let r=t;return vt(Object.keys(e),i=>{let s=e[i];e[i]&&e[i]>0?r=r.replace(new RegExp(`{\\b${i}\\b}([^*]+)\\{/\\b${i}\\b}`),"$1"):r=r.replace(new RegExp(`{\\b${i}\\b}([^*]+)\\{/\\b${i}\\b}`),""),r=r.replace(new RegExp("%"+i+"%","g"),s)}),n&&vt(Object.keys(n),i=>{let s=n[i];n[i]&&n[i]>0?r=r.replace(new RegExp(`{@\\b${i}\\b}([^*]+)\\{/\\b${i}\\b}`),"$1"):r=r.replace(new RegExp(`{@\\b${i}\\b}([^*]+)\\{/\\b${i}\\b}`),""),r=r.replace(new RegExp(`%@${i}%`,"g"),s)}),r}function TR(t,e,n){let r,i=ut(t.params);return i&&e&&vt(Object.keys(i),s=>{e[s]&&(i[s]=i[s]+e[s])}),t.params?r=j_e(t.description,i,n):Cs(t.description)?r=t.description({}):r=t.description,r}function Td({ability:t,modifiers:e,tags:n,startOpen:r=!0,editable:i=!1,abilityCopied:s,abilityRemoved:o,forceIsEditing:a=!1,isExpanded:l}){var W,q,Y,de,ce;const{abilityTypes:c,globalParams:h}=T.useContext(Jn),{build:f}=T.useContext(as),{abilities:p}=T.useContext(Jn),{tagColors:m,setTagColors:v}=T.useContext(cf),[y,x]=T.useState(Mr(f==null?void 0:f.globalParams)?H_e(h):f.globalParams),[b,_]=T.useState(TR(t,e,y)),[w,E]=T.useState(r),[O,A]=T.useState(!1),[F,L]=T.useState((W=Ve(c,{id:t.type}))==null?void 0:W.color);T.useEffect(()=>{x(f.globalParams)},[f]),T.useEffect(()=>{Mr(l)||E(!!l)},[l]),T.useEffect(()=>{a&&A(!0)},[a]);const H=te=>{A(!1),v({type:"save"})},j=te=>{s(te)},z=te=>{A(!1),o(te)};return T.useEffect(()=>{_(TR(t,e,y))},[t,e]),O?k(z_e,{ability:t,abilityChanged:H,editingCanceled:()=>A(!1),abilityCopied:j,abilityRemoved:z}):ee("div",{className:"ability-card",style:{borderColor:F},children:[ee("div",{className:"name",children:[i&&k(St,{color:"mutedText",clicked:()=>A(!O),children:k(GS,{})}),ee("button",{className:"card-title",onClick:()=>E(!w),children:[ee("div",{className:"left",children:[t.name,k("div",{className:"dots",children:!w&&ze(t.tags,te=>k("span",{className:"dot",style:{backgroundColor:m[te]}},te))})]}),k("div",{className:"chevron",children:w?k(WD,{}):k(jD,{})})]})]}),w?ee("div",{className:"collapsible-content",children:[ee("div",{className:"top",children:[t.replaces&&ee("div",{className:"replaces",children:["Replaces"," ",k("span",{children:(q=Ve(p,{id:t.replaces}))==null?void 0:q.name})]}),k(r5,{className:"description",components:{code:({node:te,...Z})=>k("span",{style:{color:"var(--themeColorText)",fontWeight:500},...Z}),ol:({node:te,...Z})=>k("ol",{style:{margin:"0"},...Z}),p:({node:te,...Z})=>k("p",{style:{margin:"0"},...Z}),strong:({node:te,...Z})=>k("strong",{style:{color:"var(--textColor)",fontWeight:700},...Z}),em:({node:te,...Z})=>k("i",{style:{color:"var(--infoColor)",fontWeight:400},...Z})},children:b})]}),k("div",{className:"bottom",children:ee("div",{className:"tags",children:[k(Ow,{color:((Y=Ve(c,{id:t.type}))==null?void 0:Y.color)||"#ffffff",label:(de=Ve(c,{id:t.type}))==null?void 0:de.name,emphasize:!0}),(ce=da(wd([...t.tags||[],...n||[]])))==null?void 0:ce.map(te=>k(Ow,{label:te},te))]})})]}):""]})}function AR({label:t,value:e}){return ee("div",{className:"stat-line",children:[ee("span",{className:"label",children:[t,": "]}),k("span",{className:"value",children:e})]})}function $w(){return $w=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$w.apply(this,arguments)}var W_e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?T.useLayoutEffect:T.useEffect;function Uw(t){var e=t.breakpoints,n=t.ignoreDimensions,r=n===void 0?!0:n,i=Object.keys(e)[0],s=T.useState({activeBreakpoint:i,width:0}),o=s[0],a=s[1],l=T.useRef(null),c=T.useRef(null),h=T.useCallback(function(m,v){for(var y,x=0,b=Object.entries(e);x<b.length;x++){var _=b[x],w=_[0],E=_[1],O=E[0],A=E[1];if(v>=O){if(A===void 0){y=w;break}else if(v<=A){y=w;break}}}return{activeBreakpoint:y||m,width:v}},[e]),f=T.useCallback(function(m){var v=m[0],y;if(v.borderBoxSize?y=Math.round(Array.isArray(v.borderBoxSize)?v.borderBoxSize[0].inlineSize:v.borderBoxSize.inlineSize):y=Math.round(v.contentRect.width),r){var x=h(o.activeBreakpoint,y),b=x.activeBreakpoint;b!==o.activeBreakpoint&&a(function(_){return $w({},_,{activeBreakpoint:b})})}else a(h(o.activeBreakpoint,y))},[o.activeBreakpoint,r,h]);W_e(function(){return l.current||(l.current=new ResizeObserver(f)),c.current&&l.current.observe(c.current,{box:"border-box"}),function(){var m;(m=l.current)==null||m.disconnect(),l.current=null}},[f]);var p=T.useCallback(function(m){if(c.current){var v;(v=l.current)==null||v.unobserve(c.current)}if(c.current=m,m){var y;(y=l.current)==null||y.observe(m)}},[]);return{ref:p,width:o.width,active:o.activeBreakpoint}}const b2=T.createContext({}),zw=({children:t})=>{const[e,n]=T.useState({textFilter:"",tags:[]});return k(b2.Provider,{value:{filters:e,setFilters:n},children:t})};function G_e({tags:t}){const{filters:e,setFilters:n}=T.useContext(b2),r=i=>{e.tags.includes(i)?n({...e,tags:e.tags.filter(s=>s!==i)}):n({...e,tags:[...e.tags,i]})};return t?k("div",{className:"tag-filters",children:t.map(i=>k(Ow,{label:i,clicked:r,selected:tf(e.tags,i)},i))}):k("div",{})}function Hw({tags:t,expanded:e,filtersUpdated:n,name:r="filters"}){const{filters:i,setFilters:s}=T.useContext(b2),[o,a]=T.useState(e),l=()=>{s({tags:[],textFilter:""})};return T.useEffect(()=>{n(i)},[i]),o?ee("div",{className:"ability-filters open",children:[k(is,{fullWidth:!0,placeholder:"Filter by name",minWidth:200,className:"text-filter",value:i==null?void 0:i.textFilter,valueChanged:c=>s({...i,textFilter:c})}),k("div",{className:"tag-filters",children:k(G_e,{tags:t})}),ee("div",{className:"controls",children:[ee(St,{color:"theme",noPadding:!0,clicked:l,disabled:!i.tags.length&&!i.textFilter.length,children:[k(tE,{size:18}),"reset"]}),k(St,{color:"mutedText",clicked:()=>a(!o),children:k(EQ,{size:18})})]})]}):k("div",{className:"ability-filters closed",children:ee("button",{onClick:()=>a(!o),className:"controls",children:[r,k(_g,{size:18})]})})}function V_e(t){return ze(gr(t.abilities,e=>!e.replaced&&e.learned),e=>({...e}))}function PR(t,e){let n=t;return e?n=gr(t,r=>{var s,o;let i=!0;return(s=e.tags)!=null&&s.length&&(i=LD(e.tags,r.tags).length===0),(o=e.textFilter)!=null&&o.length&&(i=i&&r.name.toLowerCase().includes(e.textFilter.toLowerCase())),i}):n=t,da(n,"name")}const kR={small:[0,600],med:[600,900],large:[901,1150],xl:[1151,1400],xxl:[1401,1600],xxxl:[1601,2e3]};function OR(t){return{small:1,med:2,large:3,xl:4,xxl:5,xxxl:6}[t]}function q_e(t,e){let n=V_e(t),r=HK(n,"type"),i={},s=[];return vt(n,o=>{i[o.name]=o.tags}),vt(Object.keys(r),o=>{let a=[];vt(r[o],l=>{const c=l.id;l.ability=Ve(e,{id:c}),l.tags&&(a=wd([...a,...l.tags]))}),s=wd([...s,...a]),i[o]=da(a)}),{abilityTags:i,knownAbilities:n,knownAbilitiesByType:r,allAbilityTags:s}}function X_e(){var z;const{build:t}=T.useContext(as),{abilityTypes:e,abilities:n}=T.useContext(Jn),[r,i]=T.useState({}),[s,o]=T.useState({}),[a,l]=T.useState({}),[c,h]=T.useState([]),{stats:f}=T.useContext(af),[p,m]=T.useState({}),[v,y]=T.useState({}),{ref:x,active:b,width:_}=Uw({breakpoints:kR}),{ref:w,active:E}=Uw({breakpoints:kR}),[O,A]=T.useState({}),[F,L]=T.useState(!1),H=W=>{A({...O,[W]:!O[W]})},j=W=>{L(W.tags.length||W.textFilter.length),y(W)};return T.useEffect(()=>{const W=q_e(t,n);i(W.knownAbilities),o(W.knownAbilitiesByType),l(W.abilityTags),h(W.allAbilityTags)},[t,n]),ee("div",{className:"character-sheet",children:[ee("div",{className:"stats",children:[k("div",{className:"title",children:"Stats"}),k(AR,{label:" Skill Points Spent",value:t.pointsInvested}),ze(f,(W,q)=>k(AR,{label:W.name,value:t.stats[W.id]||0},q))]}),ee("div",{className:"abilities",children:[k("div",{className:"title",children:"Abilities"}),k(zw,{children:k(Hw,{name:"filter all",tags:c,expanded:!0,filtersUpdated:j})}),!F&&k("div",{className:"accordions",children:da(e,"name").map((W,q)=>{var Y,de;return ee(vn,{startOpen:!1,name:W.name,disabled:!((Y=s[W.id])!=null&&Y.length),children:[k(zw,{children:k(Hw,{name:"filter "+W.name+" abilities",expanded:!1,tags:a[W.id]||[],filtersUpdated:ce=>m({...p,[W.id]:ce})})}),ee("div",{ref:x,className:"ability-cards",children:[k("div",{className:"expand-button",children:k(St,{color:"theme",clicked:()=>H(W.id),children:O[W.id]?k(VD,{size:30}):k(GD,{size:30})})}),k(yw,{columns:OR(b),spacing:2,children:(de=PR(s[W.id],p[W.id]))==null?void 0:de.map((ce,te)=>k("div",{children:(ce==null?void 0:ce.ability)&&k(Td,{ability:ce.ability,isPlayerAbility:!0,modifiers:ce.modifiers,tags:ce.tags,startOpen:!1,isExpanded:!!O[W.id]})},te))})]})]},q)})}),!!F&&k("div",{ref:w,className:"ability-cards",children:k(yw,{columns:OR(E),spacing:1.5,children:(z=PR(r,v))==null?void 0:z.map((W,q)=>k("div",{children:(W==null?void 0:W.ability)&&k(Td,{ability:W.ability,isPlayerAbility:!0,modifiers:W.modifiers,tags:W.tags,startOpen:!0})},q))})})]})]})}const Y_e="0.0.18",K_e=[{id:"advanced-flying",name:"Advanced Flying",description:`This unit can fly. It now can exist on three different battlefield planes. The ground, and the air level 1, and air level 2, and air level 3. It costs 1 hex of movement to move upward but not downward.

Additionally, you are immune to environmental effects.`,type:"passive",tags:["flying"],replaces:"flying",params:{}},{id:"aerial-combat",name:"Aerial Combat",type:"passive",description:"Gains __+1__ on attacks made against flying units.",tags:["flying"]},{id:"aerial-evasion",name:"Aerial Evasion",type:"passive",description:"Gains **+1** to _AC_ while in the air.",tags:["flying","defense"],params:{}},{id:"alert",name:"Alert",type:"movement",description:"This unit always musters and can muster **1** adjacent unit (during movement).",replaces:"attentive",tags:["defense","mustering"],params:{}},{name:"Alter Emotions",id:"alter-emotions",description:"Increase or decrease the `organization` (HP) of any `non-elite` group of soldiers by __%amt%__. {sooth-amt} Non-elites can instead gain __%amt%+%sooth-amt%__ `hp`.{/sooth-amt}  {riot} Non-elites now lose __%amt%+%riot-amt%__ `hp`. {/riot}\n{spread-ae} Units with an adjacency of __%spread-ae%__ to the target are also affected in the same way {/spread-ae}",tags:["enchantment","spell"],type:"action",params:{amt:1,"sooth-amt":0,"riot-amt":0,"spread-ae":0,riot:0}},{id:"aquatic-combat",name:"Aquatic Attack",description:"Add **+1** to any attack made from the _water_.",type:"passive",tags:["aquatic","attack"],params:{}},{id:"attack-from-the-deep",name:"Attack from the Deeps",description:"Gain **+2** damage on attacks made against other targets in the water that are at ground level.",type:"passive",tags:["aquatic","attack"],params:{}},{id:"attentive",name:"Attentive",type:"movement",description:"This unit always musters",tags:["defense","mustering"]},{id:"basic-attack",name:"Basic Attack",description:"You make **1** melee attack against an adjacent enemy. Roll __1d6{dmg}+%dmg%{/dmg}__ and do that much damage.",type:"action",params:{dmg:-1},tags:["attack"]},{name:"Beguile",id:"beguile",description:`Beguile __%be-units%__ unit(s) into one of the following:

_Frightened of you_ - the unit cannot move towards you on its turn.

{compelled}_Compelled_ -  The unit MUST move at least __2__ hexes toward you (if it can/it has to try to){/compelled}

{charmed}_Charmed_ - the unit makes __%numAttacks%__ less attack(s) against you{/charmed}`,tags:["enchantment","spell"],type:"action",params:{frightened:1,compelled:0,charmed:0,numAttacks:1,"be-units":1}},{id:"bless",name:"Bless",description:"Buff up **%bless_tars%** ally(s) within range, granting them **+1** on their first attack/cantrip strike of their turn.",type:"action",tags:["holy","spell"],params:{bless_tars:1}},{id:"cantrip-barrage",name:"Cantrip Strike",description:`Deal **1d6+%can_dmg%** damage to an enemy.

{can_pierce} This attack always does %can_dmg% {/can_pierce}`,type:"action",tags:["evocation"],params:{can_dmg:0,can_pierce:0,"tag-piercing":0}},{id:"charge",name:"Charge",type:"movement",description:`If this unit moves 4 hexes in a straight line before becoming adjacent to an enemy they automatically do +%dmg% damage on first melee attack. The movement for the rest of the turn becomes 0. 
        {breakthrough}
          If after a charge, this unit still has remaining movement, it can use that movement to continue on its charge-line through enemy units.
        {/breakthrough}`,params:{dmg:1,breakthrough:0}},{id:"dash",name:"Dash",type:"action",description:"Move %movement% hexes.",params:{movement:2},tags:["movement","fast"]},{id:"dash-expert",name:"Dash Expert",type:"passive",description:"Once per turn, you can replace any one of your attacks with movement up to your speed.",tags:["movement"]},{id:"death-bomb",name:"Death Bomb",type:"action",description:"This unit can dive bomb and forcefully smash itself into enemy units. This kills this unit. It does 2 damage to a target's HP.",tags:["undead","flying"]},{id:"death-ward",name:"Death Ward",description:"Place a ward against death on a unit. If that unit is reduced to 0 HP it instead goes to %hp% HP. When this happens the spell is used up and you lose concentration on it.",type:"action",tags:["concentration","holy","spell"],params:{hp:2}},{id:"defend",name:"Defend",description:`Gain    **%hp%** _hp_.

{def_regen} You can regain up to __%def_regen%__ hp per day.
{/def_regen}

{brace}For this turn, gain the following effects:

1. You are Immune to Charge effects.
2. Enemies that move adjacent to you take 1 damage.
{/brace}`,type:"action",params:{brace:0,hp:1,def_regen:5},tags:["healing"]},{id:"deflect",name:"Deflect",type:"reaction",description:`Block %deflect% ranged attack that is made at you. Declare before the attack is rolled. 

For magic attacks, deflect on a roll of %lowerRange% or higher.`,tags:["defense"],params:{lowerRange:4,deflect:1}},{id:"dive-bomb",name:"Dive Bomb",type:"passive",tags:["flying"],description:"When this unit moves from a higher elevation to a lower elevation it gains +1 damage for each air level it decends through for its next attack."},{id:"diving",name:"Diving",description:"This unit can swim under water. Gain access to a -1 vertical space in water. Gain +3 to AC from units that are ground or above. You get a -2 dice roll on all attacks on units that are at ground or above.",type:"movement",tags:["aquatic"]},{name:"Dominate",id:"dominate",description:"{base} Take control of `non-elite` units (so common soliders and such). The unit is under your control until the battle ends or it loses half its current health. Can only have __%units%__ unit(s) dominated at a time. {/base} {elite} Take control of any unit. The unit is under your control until the battle ends or it loses half its current health. Can only have __%unit%__ unit(s) dominated at a time.{/elite}",tags:["enchantment","spell"],type:"action",params:{units:1,elite:0,base:1}},{id:"extra-versatile",name:"Extra Versatile",description:"You can choose to take actions before or after each unit of movement.",type:"passive",replaces:"versatile"},{id:"ferry",name:"Ferry",description:"This unit can carry other units on water. It takes 1 action to load an ally (action used during movement). No action required to disembark.",type:"passive",tags:["aquatic","movement"]},{id:"flying",name:"Flying",description:`This unit can fly. It now can exist on two different battlefield planes. The ground, and the air level 1. It costs 1 hex of movement to move upward but not downward.

Additionally, you are immune to environmental effects.`,type:"passive",tags:["flying"],params:{}},{id:"greater-knitting",name:"Greater Knitting",description:"Restore %hp% HP to all adjacent undead units",type:"action",replaces:"knit-flesh",tags:["undead","healing","necromancy"],params:{hp:1}},{id:"guardian",name:"Guardian",type:"reaction",description:"As a reaction, can intercept %attacks% attack(s) going towards an adjacent ally. You now take that attack - also take 1 damage.",tags:["defense"],params:{attacks:1}},{id:"guiding-bolt",name:"Guiding Bolt",description:"You hit an enemy with a blast of light, dealing %dmg% nonabsorbable damage. Next round, allies have +%roll% on all attacks/cantrip strikes against this target.",type:"action",tags:["holy","piercing","spell"],params:{roll:1,dmg:1}},{id:"knit-flesh",name:"Knit Flesh",description:"Restore %hp% HP to an adjacent undead unit",type:"action",params:{hp:1},tags:["undead","healing","necromancy"]},{id:"mass-knitting",name:"Mass Knitting",description:"Restore %hp% HP to all undead units within 2 hexes (100m area)",type:"action",replaces:"greater-knitting",tags:["undead","healing","necromancy"],params:{hp:1}},{id:"multi-attack",name:"Multi Attack",description:`You make %numatks% melee attack against an adjacent enemy.
      
Each Attack: 1d6{dmg}+%dmg%{/dmg}  

{dmg2} This attack always does at least %dmg2% damage {/dmg2}
 `,type:"action",replaces:"Attack_norm",params:{dmg2:0,dmg:0,numatks:1},tags:["attack"]},{id:"reactive-armor",name:"Reactive Armor",description:"When an enemy attacks you, gain 1 AC. Lose 1 AC at the start of each turn.",type:"passive",tags:["defense"]},{id:"restoration",name:"Restoration",description:`Heal a unit %hp%+%@holyheal% HP within spell range.{divine}

Restoration can now be cast for 2 spell slots and heals 10 HP if done this way.{/divine}`,type:"action",tags:["holy","spell","healing"],params:{hp:3,divine:0}},{id:"smite",name:"Smite",description:`When an attack hits (does damage to HP), you may spend 1 spell slot to make that attack do +%dmg%
      damage`,type:"bonus action",tags:["holy","spell"],params:{dmg:3}},{id:"spellcasting",name:"Spellcasting",description:`You can now cast _spells_ and _cantrips_. Casting a spell requires **1** spell slot of the corresponding school of magic.

_Range: **%range%**_
_Contentration Bonus: **%concentration%**_`,type:"school",tags:[],params:{range:1,concentration:1}},{id:"spirit-guardians",name:"Spirit Guardians",description:"Call upon spiritual guardians to protect you. You gain %ac% AC and adjacent enemies take %dmg% unabsorbable damage at the start of your turn. {armor_debuff} Enemies within the zone also have their armor reduced by %armor_debuff% {/armor_debuff}",type:"action",tags:["concentration","holy","piercing","spell"],params:{dmg:1,ac:1,armor_debuff:0}},{id:"strafing-run",name:"Strafing Run",type:"passive",tags:["flying"],description:"As part of movement can make a breath attack against up to %targets% target(s) (adjacent to each) that you fly over in a straight line. This costs 1 breath attack use and does half breath damage (but full effect). Costs 1 movement to initiate for each targeted hex."},{id:"submarine-transportation",name:"Submarine Transportation",description:"This unit can carry other units on water and underwater. It takes 1 action to load an ally (action used during movement). No action required to disembark.",type:"passive",tags:["aquatic","movement"],replaces:"ferry"},{id:"swarm",name:"Swarm",type:"action",tags:["flying"],description:"Swarm around an adjacent enemy unit, co-existing in their hex, and blocking ranged attacks against targets other than itself. This unit can now move 3 hexes as a reaction to stay with its swarmed unit, any more movement breaks the swarm. In addition it can choose to be hit by ranged attacks that would pass through its hex."},{id:"swimming",name:"Swimming",description:"If this unit can move up to %movement% hexes in the water. If the unit's speed is less than %movement% it can move up to its speed.",type:"movement",tags:["aquatic"]},{id:"turn-undead",name:"Turn Undead",description:"Force undead on their turn to move at least %range% hex away from you and get no closer for %rounds% round.",type:"action",tags:["holy","spell"],params:{dmg:1,range:1,rounds:1}},{id:"versatile",name:"Versatile",description:"You can choose to take actions prior to movement.",type:"passive"},{name:"Command",id:"command",description:"Gain a command aura of %commandRadius% m radius (every adjacent hex)",tags:["command"],type:"passive",params:{commandRadius:50}},{name:"Rally",id:"rally",description:`As an action, allied units in your command aura regain %hp% HP.

{bonus}
1 unit within your command aura can make an attack.
{/bonus}`,tags:["command"],type:"action",params:{bonus:0,hp:1}},{name:"Aggressive Commander",id:"aggro-command",description:"Allied units adjacent to this unit can make 1 extra attack, unmodified.",tags:[],type:"action"},{name:"Energetic Commander",id:"energetic-commander",description:"Allied units in this units command aura can move 1 extra hex.",tags:[],type:"action"},{name:"Rally+",id:"rally-2",description:`As an action, allied units in your command aura regain %hp% HP.

2 units within your command aura can make 1 attack 
OR
1 unit within your command aura can make 2 attacks`,tags:["command"],type:"action",params:{hp:1},replaces:"rally"},{name:"Attack of Opportunity",id:"attack-of-opportunity",description:"This unit can make a single melee attack (with modified damage) against any enemy that moves out of adjacency with it. The attack takes place immediately.",tags:["defense","attack"],type:"reaction"},{name:"Professionals",id:"professionals",description:"This unit is always active (doesnt count to active unit count).",tags:["mustering"],type:"movement"},{name:"Raise Dead",id:"raise-dead",description:"Raise a deceased unit as a zombie horde with %raiseHp%% health.",tags:["necromancy","spell"],type:"action",params:{raiseHp:25}},{name:"Life Drain",id:"raise-dead-copy",description:`Create a link between you and a target within range. Each turn as a bonus action you can tap that link (including turn 1) . Tapping the link deals 1 damage to the target's HP and gives that HP to you. 

 This spell lasts as long as the target remains within 6 hexes of the caster.`,tags:["necromancy","spell","healing","concentration"],type:"action"},{name:"Wither",id:"wither",description:`curse a target within range with:
   
-1 armor
   -1 attack 
   -1 movement

Lasts 2 turns. This spell lasts as long as the target remains within 6 hexes of the caster.`,tags:["spell","necromancy"],type:"action"},{name:"Unrelenting Horde",id:"unrelenting-horde",description:"If this unit kills an adjacent unit. It spawns a new zombie unit from the dead unit. The new zombie has %hpPercent%% health",tags:["undead","necromancy"],type:"passive",params:{hpPercent:50}},{name:"Necromancy",id:"necromancy",description:`You can cast Necromancy spells.

Spell Slots: %slots%
Spells Per action: %spellsPerAction%`,tags:["necromancy"],type:"school",params:{slots:1,spellsPerAction:1}},{name:"Holy Casting",id:"holy-casting",description:`You can cast holy spells.

_Spell Slots: **%slots%**_
_Spells Per action: **%spells%**_`,tags:["holy"],type:"school",params:{spells:1,slots:2}},{id:"Attack_norm",name:"Melee Attack",description:`You make 1 melee attack against an adjacent enemy. Roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.

{dmg2} This attack always does at least %dmg2% damage {/dmg2}`,type:"action",params:{dmg2:0,dmg:-1},tags:["attack"],replaces:"basic-attack"},{name:"Ranged Attack",id:"ranged-attack",description:`You make 1 ranged attack against an enemy. First roll 1d6{range}+%range%{/range} against the number of hexes between you and the target. Must beat this distance. For each success now roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.

{dmg2} This attack always does at least %dmg2% damage {/dmg2}`,tags:[],type:"action",params:{dmg2:0,dmg:0,range:0}},{name:"Tie Down",id:"tie_down_001",description:"The unit can spend an attack to tie down an adjacent enemy, restricting their movement by %spd_down% hexes.",tags:[],type:"action",params:{spd_down:0}},{name:"Seige Attack",id:"seige-id-8",description:`This unit can attack walls/towers and gains a bonus to attack gates.

Do %seige_atk% more damage against all buildings.`,tags:[],type:"action",params:{seige_atk:1}},{name:"Massive",id:"anti-air-180",description:"This unit can attack airborne target or targets on walls with no penalty.",tags:["attack"],type:"passive",params:{}},{name:"Hurl",id:"hurl",description:"This unit can now throw entities from adjacent units at targets within %hurl_range% hexes. This attack does %hurl_dmg% of which 1 is piercing.",tags:["attack","ranged"],type:"action",params:{hurl_range:6,hurl_dmg:5}},{name:"Critical Strike",id:"critical-id-98",description:`{base}When you roll a 1 on an attack you may reroll that die once and add the 1 to the result.{/base}
{explode} Explode on 1s.{/explode}`,tags:["attack"],type:"passive",params:{base:1,explode:0}},{name:"Evocation Casting",id:"evocation-casting",description:`You can cast \`evocation\` spells.

_Spell Slots: **%evo_slots%**_
_Spells Per action: **%evo_spells%**_`,tags:["evocation"],type:"school",params:{evo_slots:2,evo_spells:1}},{name:"Magical Barrage",id:"magic-barrageid-22",description:`You unleash a magical barrage against a unit within range. This attack deals **%mb_dmg%** absorbable damage. {mb_con}
 
Or, when you cast \`Magical Barrage\` you can choose to instead {mb_con2} take no action and {/mb_con2} deal no damage but cause the enemy to be unable to move on their next turn. {/mb_con}
{mb_effect} 
When you cast the \`Magical Barrage\` you can add one of the following effects to the target unit:
1. _Frostbite_ - units loses %mb_effect%  movement
1. _Burning_ - unit loses %mb_effect% hp
1. _Weakened_ - minus %mb_effect% damage
1. _Armor Sundered_ - loses %mb_effect% armor
{/mb_effect}`,tags:["spell","evocation"],type:"action",params:{mb_dmg:3,mb_con:0,mb_con2:-1,mb_effect:0}},{name:"Shield",id:"shield-id-152",description:"As a reaction, cast shield on an ally that is within your spell casting range. They gain %shield_armor% armor against the %shield_count% attack. {shield_dmg} If an attack fails to do damage, the absorbed damage is done to the attacker's hp pool. {/shield_dmg}",tags:["abjuration","defense","spell"],type:"reaction",params:{shield_armor:1,shield_count:1,shield_dmg:0}},{name:"Abjuration Casting",id:"abjuration-id-11",description:`You can cast abjuration spells.

_Spell Slots: **%abju_slots%**_
_Spells Per action: **%abju_spells%**_`,tags:["abjuration"],type:"school",params:{abju_slots:2,abju_spells:1}},{name:"Armor of Agathys",id:"armor-of-agathys",description:"As an action, cast Armor of Agathys on an ally (or self). That entity gains %temp_hp% temp HP and when hit by another creature (and still has at least 1 temp HP) it does damge to the attacker equal to the current (pre-hit) temp hp. {Aga_effect} Enemies that take damage by this effect gain the frostbite effect (lose 1 movement) {/aga_effect}",tags:["abjuration","spell","defense"],type:"action",params:{temp_hp:2,aga_effect:0}},{name:"Mage Armor",id:"Mage-armor-id-92",description:"As an action, cast Mage armor on self. Gains %m_armor% armor for %m-armor-turns% turns.",tags:["abjuration","spell","defense"],type:"action",params:{m_armor:1,"m-armor-turns":3}},{name:"Magical Deflection",id:"Magical-Deflection-id-57",description:`As a reaction in response to projectiles or spells targeting you. You create a magical shield that deflects projectiles.  This causes %mdef_count% ranged attack(s) made against you to miss.
{redirect} Any deflected attack can be redirected, use the original attack's stats {/redirect}`,tags:["abjuration","spell","defense"],type:"reaction",params:{mdef_count:1,redirect:0}},{name:"Divination Casting",id:"divination-casting",description:`You can cast \`divination\` spells.

_Spell Slots: **%div_slots%**_
_Spells Per action: **%div_spells%**_`,tags:["divination"],type:"school",params:{div_slots:2,div_spells:1}},{name:"Gift of Foresight",id:"Gift-fore-id-135",description:"Choose __%gof_num%__ ally within spell range and grant them __%gof_ac%__ `AC`. {gof_atk} Also give them __+1__ on their dice rolls. {/gof_atk} {gof_react} A unit with the `Gift of Forsight` on them can, as a _reaction_ to another unit becoming adjacent, move __%gof_react%__ hex(es) away. They can only do this once. This movement would never provoke an _attack of oppourtunity_. {/gof_react}",tags:["divination","concentration","spell"],type:"action",params:{gof_ac:1,gof_atk:0,gof_num:1,gof_react:0}},{name:"Portent",id:"Portent-id-145",description:"Before a battle, roll __%Port_num%x1d6__ and save that roll. You can replace any attack roll within spell range by yourself, an ally, or enemy with this number. Uses a _reaction_ if used to replace an enemy roll. Within magical range.",tags:["divination","spell"],type:"action",params:{Port_num:1}},{name:"Phantom Sight",id:"Phan-sight-id-124",description:"Choose __%ps-num%__  enemy unit(s). {base1}The DM will tell you what _action_ they will use on their next turn. {/base1} {ps-adv} The DM will tell you what _movement_ and _action_ they will use on their next turn. {/ps-adv} {base2} Only effective on `non-command` units {/base2} {ps-comm} Effective on `all` unit types. {/ps-comm}",tags:["divination","spell"],type:"bonus action",params:{base1:1,base2:1,"ps-num":1,"ps-comm":0,"ps-adv":0}},{name:"Enchantment Casting",id:"Enchan-casting-id-26",description:`You can cast \`enchantment\` spells.

_Spell slots: **%enc-slots%**_
_Spells per action: **%enc-spells%**_`,tags:["enchantment"],type:"school",params:{"enc-slots":2,"enc-spells":0}},{name:"Portal",id:"Por-id-110",description:`As an action, choose a hex within range. You create a portal there. Choose where the portal connects to. 
This portal lasts for your next %port-dur% turns.  Only %port-use% unit can enter/exit the portal per turn. {dev-por} Low mass units adjacent to the portal can on their movement phase choose, lose %dev-por% hp or enter the portal. {/dev-por}

{por1} %por1% reinforcements come out of the portal, %por1-num% unit(s) per turn. They exit during allied movement. {/por1}
{hell-por} You can unlock a portal to hell, causing %hell-por% devils to pour out, 2 per turn. {/hell-por}
{hev-por}You can unlock a portal to a friendly place, causing %hev-por% allies to pour out, 2 per turn. {/hev-por} `,tags:["conjuration","spell"],type:"action",params:{"port-use":1,"port-dur":2,por1:0,"por1-num":0,"hell-por":0,"hev-por":0,"dev-por":0}},{name:"Entangling Ground",id:"entangling-ground",description:`As an action, you can choose %eg-hex% hexes of ground and {base} make it difficult terrain.{/base}  {eg-imm} impassible terrain, units can move it it but to move out requires them to spend %eg-imm% actions to free themselves.{/eg-imm}. {eg-dmg}Units that end their turn within this area take %eg-dmg%.{/eg-dmg}Hex must be within casting range.{eg-cree}Now requires concentration. Entangling ground grows by %eg-cree% hex(s) per turn.{/eg-cree}
`,tags:["conjuration","spell","movement"],type:"action",params:{"eg-hex":1,base:1,"eg-imm":0,"eg-dmg":0,"tag-concentration":0,"eg-cree":0}},{name:"Storm",id:"storm",description:"As an action, you unleash a magical storm. This storm occupies %storm-size% hex and travels %storm-mve% hex per turn around the map.{sto-high}The storm hits %sto-high% hex(s) above the ground hex. {/sto-high} It moves after your team's action phase is over. It moves again at the end of the other team's action phase. {sto-base} For each movement, roll 1d6, it moves to that adjacent hex. {/sto-base} {sto-ride} You can now control the storm. The storm moves %storm-mve% hex(s). The storm now moves during your movement phase. {/sto-ride}The storm does %storm-dmg% nonabsorbable damage to any unit it passes over / that moves through it. It only does 1 damage to units at the start of their turn. {sto-mas} You gain %sto-mas% armor while in the storm, and your regular attacks do +%sto-mas% damage. {/sto-mas} {sto-wall}The storm now cannot be moved through, and any unit that starts their turn in the storm cannot move this turn. {/sto-wall} ",tags:["conjuration","spell"],type:"action",params:{"storm-dmg":1,"storm-size":1,"storm-mve":1,"sto-base":1,"sto-ride":0,"sto-mas":0,"sto-wall":0,"sto-high":0}},{name:"Conjure Entites",id:"conjure-entities",description:`As an action you summon %sum-num% unit of wild beasts. Summon these entities within spell range.

{sum1} You can now summon %sum-num% unit of x {/sum1}

{sum2} You can now summon %sum-num% unit of x {/sum2}

{sum3} You can now summon %sum-num% unit of x {/sum3}

{sum4} You can now summon %sum-num% unit of x {/sum4}

{sum5} You can now summon %sum-num% unit of x {/sum5}`,tags:["conjuration"],type:"action",params:{"sum-num":1,sum1:-1,sum2:-2,sum3:-3,sum4:-4,sum5:-5}},{name:"Conjuration Casting",id:"conjuration-casting",description:`You can now cast conjuration spells. 
You can cast %con-num% spells per day.`,tags:["conjuration"],type:"action",params:{"con-num":2}},{name:"Dragon Breath",id:"Drag-breath-001",description:`Your dragon unleashes its breath attack on a unit within %bw-rng% hexes. That unit takes %bw-dmg% points of absorbable damage. {bw-eff} It takes two actions to remove this lasting effect.{/bw-eff} 

{bw-burn} Target units begin burning for %bw-burn% hp (not absorbable) per turn.{/bw-burn}

{bw-bite} Target units lose  %bw-bite% speed.{/bw-bite}

{bw-weak} Target units do %bw-weak% less damage per attack.{/bw-weak}

{bw-sund} Target units lose %bw-sund% armor.{/bw-sund}`,tags:["Dragon Breath"],type:"action",params:{"bw-rng":1,"bw-dmg":3,"bw-eff":0,"bw-burn":0,"bw-bite":0,"bw-weak":0,"bw-sund":0}},{name:"Breath Attacks",id:"breath-attacks",description:`Can use Dragon Breath %bw-use% times per day.{bw-rchrg} Can spend 1 action to recharge %bw-rchrg% breath attack use. {/bw-rchrg}{bw-cat} Bonus action: Can spend 3 hp to regain %bw-cat% breath attack uses.{/bw-cat}{bw-ann} Bonus action: Can spend 1  breath attack uses to regain  %bw-ann% hp.{/bw-cat}
`,tags:["Dragon Breath"],type:"passive",params:{"bw-use":1,"bw-rchrg":0,"bw-cat":0,"bw-ann":0,"bw-resist":0}},{name:"Draconic Bombardment",id:"draconic-bombardment",description:"You can now target an unoccupied hex with your breath weapon attack. Deal %bw2-dmg% damage (absorbable) to that hex or a unit on that hex.{bw-block}The hex targeted by your draconic attack becomes impassible. It can however be destroyed. It has %bw-block% hp. If used on a unit, the blocker is not created.{/bw-block}",tags:["Dragon Breath"],type:"action",replaces:"Drag-breath-001",params:{"bw2-dmg":3,"bw-block":0}}],Z_e=[{id:"action",name:"Action",color:"#8eb0ff"},{id:"movement",name:"Movement",color:"#c7f8af"},{id:"passive",name:"Passive",color:"#cabfbf"},{id:"reaction",name:"Reaction",color:"#ffb0fc"},{id:"bonus action",name:"Bonus Action",color:"#a887ff"},{id:"school",name:"Magic Proficiency",color:"#5ec5e1"}],Q_e=[{id:"holyheal",value:2},{id:"holy-damage",value:0}],J_e=[{id:"basic",name:"Basic",requires:[],requirementType:"and",description:"Congrats! You are a unit.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#121212",selected:"#d2d2d2"},cost:1,providedStats:[{id:"hp",modifier:5},{id:"armor",modifier:2},{id:"movement",modifier:1,set:!1}],providedAbilities:[{id:"basic-attack",modifier:1,modifiers:[],gain:!0}]},{id:"basic-magic",name:"Spellcasting",requires:[{id:"basic",levels:1}],requirementType:"and",description:"Grants your unit the ability to cast spells",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"cantrip-barrage",gain:!0},{id:"spellcasting",gain:!0}]},{id:"speed",name:"Speed",requires:[{id:"basic",levels:1}],description:"Allows you to move one additional hex per turn",colors:{unavailable:"#648264",selected:"#51db53"},levels:8,providedStats:[{id:"movement",modifier:1}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"versatile",requires:[{id:"speed",levels:4}],name:"Versatile",description:"Grants the Versatile ability",cost:1,providedAbilities:[{id:"versatile",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"extra-versatile",requires:[{id:"versatile",levels:1}],name:"Extra Versatile",description:"Grants the Extra Versatile ability",cost:1,providedAbilities:[{id:"extra-versatile",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"dash",requires:[{id:"speed",levels:2}],name:"Dash",description:"Grants the Dash ability",cost:1,providedAbilities:[{id:"dash",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"advanced-dash",requires:[{id:"charge",levels:1}],name:"Dash+",description:"Increases the movement of Dash by 2",cost:1,levels:2,providedAbilities:[{id:"dash",modifiers:[{id:"movement",modifier:2}]}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"dash-expert",requires:[{id:"advanced-dash",levels:2}],name:"Dash Expert",description:"Grants the Dash Expert ability",cost:1,providedAbilities:[{id:"dash-expert",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"charge",requires:[{id:"dash",levels:1}],name:"Charge",description:"Grants the Charge ability",cost:1,providedAbilities:[{id:"charge",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"breakthrough",requires:[{id:"charge",levels:1}],name:"Breakthrough",description:"Grants you the ability to continue moving through units after a charge.",cost:1,providedAbilities:[{id:"charge",modifiers:[{id:"breakthrough",modifer:1,modifier:1}]}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"advanced-charge",requires:[{id:"charge",levels:1}],name:"Charge+",description:"Increases the movement of Charge by 2",cost:1,providedAbilities:[{id:"charge",modifiers:[{id:"dmg",modifer:1}]}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"flying",requires:[{id:"speed",levels:4}],name:"Flying",description:"Grants you the ability to fly",cost:1,providedAbilities:[{id:"flying",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"death-bomb",requires:[{id:"flying",levels:1}],name:"Death Bomb",description:"Grants you the Death Bomb ability. Must be undead to use.",cost:1,providedAbilities:[{id:"death-bomb",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"swarm",requires:[{id:"flying",levels:1}],name:"Swarm",description:"Grants you the Swarm ability.",cost:1,providedAbilities:[{id:"swarm",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"strafing-run",requires:[{id:"flying",levels:1}],name:"Strafing Run",description:"Grants you the Strafing Run ability.",cost:1,providedAbilities:[{id:"strafing-run",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"advanced-strafing-run",requires:[{id:"strafing-run",levels:1}],name:"Strafing Run+",description:"Increases the number of targets by 3.",levels:2,providedAbilities:[{id:"strafing-run",modifiers:{targets:3}}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"advanced-flying",requires:[{id:"flying",levels:1}],name:"Advanced Flying",description:"Increases the number of targets by 3.",cost:1,providedAbilities:[{id:"advanced-flying",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"dive-bomb",requires:[{id:"advanced-flying",levels:1}],name:"Dive Bomb",description:"Grants you the Dive Bomb ability.",cost:1,providedAbilities:[{id:"dive-bomb",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"aerial-combat",requires:[{id:"advanced-flying",levels:1},{id:"dive-bomb",levels:1}],name:"Aerial Combat",description:"Grants you the Aerial Combat ability.",cost:1,providedAbilities:[{id:"aerial-combat",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"aerial-evasion",requires:[{id:"aerial-combat",levels:1}],name:"Aerial Evasion",description:"Grants you the Aerial Evasion ability.",cost:1,providedAbilities:[{id:"aerial-evasion",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"armor",requires:[{id:"basic",levels:1}],name:"Armor",description:"Adds 1 Armor",levels:7,levelCost:[1,1,2,2,3,4,4],providedStats:[{id:"armor",modifier:1}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"attentive",requires:[{id:"armor",levels:2}],name:"Attentive",description:"Grants the Attentive ability",providedAbilities:[{id:"attentive",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"alert",requires:[{id:"attentive",levels:1}],name:"Alert",description:"Grants the Alert ability",providedAbilities:[{id:"alert",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8550"},id:"reactive-armor",requires:[{id:"armor",levels:5}],name:"Reactive Armor",description:"Sets your AC to 1 and grants Reactive Armor.",cost:1,providedStats:[{id:"armor",set:1,modifier:1}],providedAbilities:[{id:"reactive-armor",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"reactive-armor-2",requires:[{id:"reactive-armor",levels:1}],name:"Reactive Armor 2",description:"Increases your base AC to 2",cost:1,providedStats:[{id:"armor",set:2,modifier:2}]},{id:"defend-1",name:"Defend 1",requires:[{id:"armor",levels:1}],requirementType:"and",description:"Grants the ability to defend and adds 1 HP. You can regain half of your HP this way, per day.",globalParams:[],colors:{unavailable:"#403c3a",selected:"#cd8150"},levels:4,levelCost:[1,2,3,4],providedAbilities:[{id:"defend",gain:!0,modifiers:[{id:"hp",modifier:1,set:!1}]}]},{id:"deflect-1",name:"Deflection",requires:[{id:"defend-1",levels:1}],requirementType:"and",description:"Grants the Deflect ability.",globalParams:[],colors:{unavailable:"#403c3a",selected:"#cd8150"},cost:1,providedAbilities:[{id:"deflect",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"deflect-2",requires:[{id:"deflect-1",levels:1}],name:"Deflection+",description:"Makes it easier to deflect magic attacks.",cost:1,providedAbilities:[{id:"deflect",modifiers:[{id:"lowerRange",modifier:-1,set:!1}]}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"guardian-1",requires:[{id:"defend-1",levels:1}],name:"Guardian",description:"Grants the Guardian ability",cost:1,providedAbilities:[{id:"guardian",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"guardian-2",requires:[{id:"guardian-1",levels:1}],name:"Guardian+",description:"Allows you guard an additional attack",cost:1,providedAbilities:[{id:"guardian",modifiers:[{id:"attacks",modifier:1,set:!1}]}]},{colors:{unavailable:"#65748f",selected:"#7391c9"},id:"magic-range-1",requires:[{id:"basic-magic",levels:1}],name:"Spell Range",description:"Increases the range of your magic.",levels:3,providedAbilities:[{id:"spellcasting",modifiers:[{id:"range",modifier:1}]}]},{colors:{unavailable:"#65748f",selected:"#7391c9"},id:"concentration-1",requires:[{id:"basic-magic",levels:1}],name:"Concentration+",description:"Add +1 to concentration checks.",levels:2,providedAbilities:[{id:"spellcasting",modifiers:[{id:"concentration",modifier:1}]}]},{id:"holy-casting",name:"Holy-Divine Casting",requires:[{id:"basic-magic",levels:1}],requirementType:"and",description:"Grants you the ability to cast Holy/Divine Spells.",globalParams:[],colors:{unavailable:"#C5B986",selected:"#e2c846"},cost:1,providedAbilities:[{id:"smite",gain:!0},{id:"guiding-bolt",gain:!0},{id:"death-ward",gain:!0},{id:"restoration",gain:!0},{id:"turn-undead",gain:!0},{id:"bless",gain:!0},{id:"spirit-guardians",gain:!0},{id:"holy-casting",modifier:1,modifiers:[],gain:!0}]},{id:"holy-power",name:"Holy Power",requires:[{id:"holy-casting",levels:1}],description:"Increases the damage of Smite and Guiding Bolt by 1",colors:{unavailable:"#C5B986",selected:"#948540"},cost:1,providedAbilities:[{id:"smite",modifiers:[{id:"dmg",modifier:1}]},{id:"guiding-bolt",modifiers:[{id:"dmg",modifier:1}]}]},{colors:{unavailable:"#C5B986",selected:"#e6c11d"},id:"advanced-guiding-bolt",requires:[{id:"holy-power",levels:1}],name:"Advanced Guiding Bolt",description:"Guiding bolt now gives allies +2 to hit the target next round.",cost:1,providedAbilities:[{id:"guiding-bolt",modifiers:{hit:1}}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"swimming",requires:[{id:"speed",levels:1}],name:"Swimming",description:"Congrats! You are a unit.",cost:1,providedAbilities:[{id:"swimming",gain:!0}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"advanced-swimming",requires:[{id:"swimming",levels:1}],name:"Advanded Swimming",description:"Increases potential water speed by 3.",cost:1,providedAbilities:[{id:"swimming",modifiers:{movement:3}}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"ferry",requires:[{id:"advanced-swimming",levels:1}],name:"Ferry",description:"Grants the Ferry ability",cost:1,providedAbilities:[{id:"ferry",gain:!0}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"diving",requires:[{id:"advanced-swimming",levels:1}],name:"Diving",description:"Grants the Diving ability",cost:2,providedAbilities:[{id:"diving",gain:!0}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"submarine-transportation",requires:[{id:"diving",levels:1}],name:"Submarine Transportation",description:"Grants the Submarine Transportation ability",cost:1,providedAbilities:[{id:"submarine-transportation",gain:!0}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"attack-from-the-deep",requires:[{id:"diving",levels:1}],name:"Attack From The Deep",description:"Grants the Attack From The Deep ability",cost:2,providedAbilities:[{id:"attack-from-the-deep",gain:!0}]},{id:"191",name:"Enchantment",requires:[{id:"basic-magic",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[],gain:!0},{id:"beguile",modifier:1,modifiers:[],gain:!0},{id:"dominate",modifier:1,modifiers:[],gain:!0},{id:"Enchan-casting-id-26",modifier:1,modifiers:[],gain:!0}]},{id:"180",name:"Compelling Beguile",requires:[{id:"alter-emotions-1",levels:1}],requirementType:"and",description:"Beguiled opponents can now be Compelled and Charmed.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"beguile",modifier:1,modifiers:[{id:"compelled",modifier:1,set:!1},{id:"charmed",modifier:1,set:!1}]}]},{id:"beguile-3",name:"Weakining beguile",requires:[{id:"alter-emotions-1",levels:1}],requirementType:"and",description:"Charmed opponents make 1 fewer attack against you.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"beguile",modifier:1,modifiers:[{id:"numAttacks",modifier:1,set:!1}]}]},{id:"alter-emotions-1",name:"Manipulator",requires:[{id:"191",levels:1}],requirementType:"and",description:"You are better at altering emotions and beguiling.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[{id:"amt",modifier:1,set:!1}]},{id:"beguile",modifier:1,modifiers:[{id:"be-units",modifier:1,set:!1}]}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command",requires:[{id:"basic",levels:1}],name:"Command",cost:1,providedAbilities:[{id:"command",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-plus",requires:[{id:"command",levels:1}],name:"Command+",levels:3,levelCost:[1,1,1],providedAbilities:[{id:"command",modifier:1,modifiers:[{id:"commandRadius",modifier:50,set:!1}]}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"aggro-command",requires:[{id:"command-plus",levels:1}],name:"Aggressive Commander",cost:1,providedAbilities:[{id:"aggro-command",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-plus-2",requires:[{id:"command-plus",levels:2}],name:"Energetic Commander",cost:1,providedAbilities:[{id:"energetic-commander",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-2",requires:[{id:"command",levels:1}],name:"Rally",cost:1,providedAbilities:[{id:"rally",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"rally+",requires:[{id:"command-2",levels:1}],name:"Rally+",cost:1,providedAbilities:[{id:"rally",modifier:1,modifiers:[{id:"hp",modifier:2,set:!1}]},{id:"rally-2",modifiers:[{id:"hp",modifier:2,set:!1}],gain:!1}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-2-2",requires:[{id:"command-2",levels:1}],name:"Ordered Strike",cost:1,providedAbilities:[{id:"rally",modifiers:[{id:"bonus",modifier:1,set:!1}]}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-2-2-1",requires:[{id:"command-2-2",levels:1}],name:"Ordered Strike 2",cost:1,providedAbilities:[{id:"rally-2",modifier:1,modifiers:[],gain:!0}]},{id:"brace",name:"Brace",requires:[{id:"defend-1",levels:1}],requirementType:"and",description:"Brace for attacks while defending, negating charge effects and damaging nearby enemies.",globalParams:[],colors:{unavailable:"#bd7859",selected:"#d48630"},cost:1,providedAbilities:[{id:"defend",modifier:1,modifiers:[{id:"brace",modifier:1,set:!1}]}]},{id:"defend-2-3",name:"Attack of Opportunity",requires:[{id:"defend-1",levels:2}],requirementType:"and",globalParams:[],colors:{unavailable:"#d3976b",selected:"#d46430"},cost:1,providedAbilities:[{id:"attack-of-opportunity",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"professionals",requires:[{id:"armor",levels:3}],name:"Professionals",description:'Grants the "Professionals" ability.',cost:1,providedAbilities:[{id:"professionals",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"basic-magic-5",requires:[{id:"basic-magic",levels:1}],name:"Necromancy",description:"Cast Necromancer spells.",cost:1,providedAbilities:[{id:"necromancy",modifier:1,modifiers:[],gain:!0},{id:"raise-dead-copy",modifier:1,modifiers:[],gain:!0},{id:"raise-dead",modifier:1,modifiers:[],gain:!0},{id:"knit-flesh",modifier:1,modifiers:[],gain:!0},{id:"wither",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necromancy-raise-dead",requires:[{id:"basic-magic-5",levels:1}],name:"Raise Dead+",description:"Increases the health of raised units.",cost:1,providedAbilities:[{id:"raise-dead",modifier:1,modifiers:[{id:"raiseHp",modifier:25,set:!1}]}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necromancy-raise-dead-1",requires:[{id:"necromancy-raise-dead",levels:1}],name:"Raise Dead++",description:"Raise units to full health.",cost:1,providedAbilities:[{id:"raise-dead",modifier:1,modifiers:[{id:"raiseHp",modifier:50,set:!1}]}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necro-prof",requires:[{id:"basic-magic-5",levels:1}],name:"Necromantic Profiency",description:"Increases the number of necromancy spells you can cast",levels:2,levelCost:[1,1],providedAbilities:[{id:"necromancy",modifier:1,modifiers:[{id:"slots",modifier:2,set:!1}]}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necro-prof-1",requires:[{id:"necro-prof",levels:1}],name:"Necromantic Mastery",description:"Further increases the number of spells you can cast",cost:1,providedAbilities:[{id:"necromancy",modifier:1,modifiers:[{id:"slots",modifier:1,set:!1}]}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necro-prof-2",requires:[{id:"necro-prof",levels:1}],name:"Necromancer",description:"You can now cast 2 necromancy spells per action.",cost:1,providedAbilities:[{id:"necromancy",modifier:1,modifiers:[{id:"spellsPerAction",modifier:1,set:!1}]}]},{id:"greater-restoration",name:"Greater Restoration",requires:[{id:"holy-casting",levels:1}],description:`Restoration now heals 5 HP.

Death Ward restores units to 3 HP.`,colors:{unavailable:"#C5B986",selected:"#bda841"},cost:1,providedAbilities:[{id:"restoration",modifier:1,modifiers:[{id:"hp",modifier:2,set:!1}]},{id:"death-ward",modifier:1,modifiers:[{id:"hp",modifier:1,set:!1}]}]},{id:"divine-restoration",name:"Divine Restoration",requires:[{id:"greater-restoration",levels:1}],description:"Restoration can now be cast for 2 spell slots and heals 10 HP if done this way.",colors:{unavailable:"#C5B986",selected:"#bda841"},cost:1,providedAbilities:[{id:"restoration",modifier:1,modifiers:[{id:"divine",modifier:1,set:!1}]}]},{id:"holy-avenger",name:"Holy Avenger",requires:[{id:"holy-power",levels:1}],colors:{unavailable:"#C5B986",selected:"#948540"},cost:1},{id:"undead-scourge",name:"Undead Scourge",requires:[{id:"holy-power",levels:1},{levels:"1",id:"paragon-of-divintiy"}],requirementType:"and",globalParams:[],colors:{unavailable:"#C5B986",selected:"#948540"},levels:2,levelCost:[1,1],providedAbilities:[{id:"turn-undead",modifier:1,modifiers:[{id:"range",modifier:1,set:!1}]}]},{id:"paragon-of-divintiy",name:"Paragon of Divinity",requires:[{id:"holy-casting",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#C5B986",selected:"#e2c846"},cost:1,providedAbilities:[{id:"bless",modifier:1,modifiers:[{id:"bless_tars",modifier:1,set:!1}]},{id:"spirit-guardians",modifier:1,modifiers:[{id:"armor_debuff",modifier:1,set:!1}]}]},{id:"divine-prof",name:"Divine Proficiency",requires:[{id:"holy-casting",levels:1}],colors:{unavailable:"#C5B986",selected:"#e2c846"},levels:3,levelCost:[2,2,2],providedAbilities:[{id:"holy-casting",modifier:1,modifiers:[{id:"slots",modifier:2,set:!1}]}]},{id:"cleric",name:"Cleric",requires:[{id:"divine-prof",levels:2}],requirementType:"and",description:"Holy spells heal for 1 additional HP.",globalParams:[{id:"holyheal",modifier:1,set:!1}],exclusiveWith:["paladin"],colors:{unavailable:"#C5B986",selected:"#e2c846"},cost:1,providedAbilities:[{id:"restoration",modifier:1,modifiers:[{id:"hp",modifier:1,set:!1}]},{id:"death-ward",modifier:1,modifiers:[{id:"hp",modifier:1,set:!1}]}]},{id:"paladin",name:"Paladin",requires:[{id:"divine-prof",levels:2}],requirementType:"and",description:"Holy spells deal +1 damage",globalParams:[],exclusiveWith:["cleric"],colors:{unavailable:"#C5B986",selected:"#e2c846"},cost:1,providedAbilities:[{id:"smite",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]},{id:"turn-undead",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]},{id:"spirit-guardians",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]},{id:"guiding-bolt",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]}]},{id:"attack-node",name:"Melee Attack",requires:[{id:"basic",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:4,levelCost:[1,3,4,5],providedAbilities:[{id:"Attack_norm",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}],gain:!0},{id:"multi-attack",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]}]},{id:"Multi_attack-1-dz",name:"Multistrike",requires:[{id:"attack-node",levels:1}],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:2,levelCost:[3,4],providedAbilities:[{id:"multi-attack",modifier:1,modifiers:[{id:"numatks",modifier:1,set:!1}],gain:!0}]},{id:"attack-node-1-dv",name:"Piercing attack",requires:[{id:"attack-node",levels:1}],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:2,levelCost:[1,3],providedAbilities:[{id:"Attack_norm",modifier:1,modifiers:[{id:"dmg2",modifier:1,set:!1}]},{id:"multi-attack",modifier:1,modifiers:[{id:"dmg2",modifier:1,set:!1}]}]},{id:"basic-1-ay",name:"Ranged Attack",requires:[{id:"basic",levels:1}],colors:{unavailable:"#9A5C82",selected:"#831256"},levels:4,levelCost:[1,3,4,5],providedAbilities:[{id:"ranged-attack",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}],gain:!0}]},{id:"basic-1-ay-1-ed",name:"Marksman",requires:[{id:"basic-1-ay",levels:1}],colors:{unavailable:"#9A5C82",selected:"#831256"},levels:5,levelCost:[1,2,3,4,5],providedAbilities:[{id:"ranged-attack",modifier:1,modifiers:[{id:"range",modifier:1,set:!1}]}]},{id:"ranged-piercing-001",name:"Advanced Arrowheads",requires:[{id:"basic-1-ay",levels:1}],colors:{unavailable:"#9A5C82",selected:"#831256"},cost:1,providedAbilities:[{id:"ranged-attack",modifier:1,modifiers:[{id:"dmg2",modifier:1,set:!1}]}]},{id:"attack-node-1-bv",name:"Tie Down",requires:[{id:"attack-node",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:7,levelCost:[1,1,1,1,1,1,1],providedAbilities:[{id:"tie_down_001",modifier:1,modifiers:[{id:"spd_down",modifier:2,set:!1}],gain:!0}]},{id:"Seige-attacker",name:"Seige Attacker",requires:[{id:"attack-node",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"seige-id-8",modifier:1,modifiers:[{id:"seige_atk",modifier:1,set:!1}],gain:!0}]},{id:"Massive-1-dx",name:"Massive",requires:[{id:"Seige-attacker",levels:1}],requirementType:"and",description:"This unit has learned how to project its enormity across the battlefield.",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},cost:1,providedAbilities:[{id:"anti-air-180",modifier:1,modifiers:[]}]},{id:"Hurler-1-dx-1-bv",name:"Hurler",requires:[{id:"Massive-1-dx",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:3,levelCost:[1,2,3],providedAbilities:[{id:"hurl",modifier:1,modifiers:[{id:"hurl_range",modifier:1,set:!1},{id:"hurl_dmg",modifier:2,set:!1}],gain:!0}]},{id:"deflect-1-1-ev",name:"Deflecter",requires:[{id:"deflect-1",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#403c3a",selected:"#cd8150"},levels:2,levelCost:[1,1],providedAbilities:[{id:"deflect",modifier:1,modifiers:[{id:"deflect",modifier:1,set:!1}]}]},{id:"attack-node-1-cy",name:"Critical Strike",requires:[{id:"attack-node",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},cost:1,providedAbilities:[{id:"critical-id-98",modifier:1,modifiers:[],gain:!0}]},{id:"attack-node-1-cy-1-ez",name:"Exploding Critical Strike",requires:[{id:"attack-node-1-cy",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},cost:1,providedAbilities:[{id:"critical-id-98",modifier:1,modifiers:[{id:"base",modifier:-1,set:!1},{id:"explode",modifier:1,set:!1}]}]},{id:"basic-magic-1-ev",name:"Evocation",requires:[{id:"basic-magic",levels:1}],requirementType:"and",description:"Grants you the ability to cast Evocation spells.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},cost:1,providedAbilities:[{id:"evocation-casting",modifier:1,modifiers:[],gain:!0},{id:"magic-barrageid-22",modifier:1,modifiers:[],gain:!0}]},{id:"basic-magic-1-ev-1-dd",name:"Concussive Barrage",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"When you cast Magical Barrage you can choose to instead deal no damage but cause the enemy to be unable to move on their next turn.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:2,levelCost:[1,1],providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_con",modifier:1,set:!1},{id:"mb_con2",modifier:1,set:!1}]}]},{id:"basic-magic-1-ev-1-dz",name:"Barrage Effect",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"When you cast the Magical Barrage Spell you can add an effect on the target.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:2,levelCost:[1,1],providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_effect",modifier:1,set:!1}]}]},{id:"basic-magic-1-ev-1-dv",name:"Enhanced Barrage",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"Magical barrage now does more damage.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:3,levelCost:[1,2,3],providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_dmg",modifier:2,set:!1}]}]},{id:"basic-magic-1-ev-1-cd",name:"Evocation Proficiency",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"You can cast more evocation spells",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"evocation-casting",modifier:1,modifiers:[{id:"evo_slots",modifier:2,set:!1}]}]},{id:"basic-magic-1-ev-1-dv-1-bz",name:"Lasting magics",requires:[{id:"basic-magic-1-ev-1-cd",levels:4}],requirementType:"and",description:"Trade damage now for damage later.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},cost:1,providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_effect",modifier:2,set:!1},{id:"mb_dmg",modifier:-1,set:!1}]}]},{id:"basic-magic-1-ev-1-cd-1-ez",name:"Powerful Magics",requires:[{id:"basic-magic-1-ev-1-cd",levels:4}],requirementType:"and",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},cost:1,providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_dmg",modifier:2,set:!1}]}]},{id:"basic-magic-1-ev-1-az",name:"Enhanced Cantrip Strike",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"Increases the potency of Cantrip Strike.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"cantrip-barrage",modifier:1,modifiers:[{id:"can_dmg",modifier:1,set:!1}]}]},{id:"basic-magic-1-ev-1-az-1-dy",name:"Piercing Cantrip Strike",requires:[{id:"basic-magic-1-ev-1-az",levels:1}],requirementType:"and",description:"Cantrip strike now does piercing damage.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#850202",selected:"#ff0004"},cost:1,providedAbilities:[{id:"cantrip-barrage",modifier:1,modifiers:[{id:"can_pierce",modifier:1,set:!1},{id:"tag-piercing",modifier:1,set:!1}]}]},{id:"basic-magic-1-by",name:"Abjuration",requires:[{id:"basic-magic",levels:1}],requirementType:"and",description:"You can now cast abjuration spells.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},cost:1,providedAbilities:[{id:"abjuration-id-11",modifier:1,modifiers:[{id:"",modifier:1,set:!1}],gain:!0},{id:"shield-id-152",modifier:1,modifiers:[],gain:!0},{id:"Magical-Deflection-id-57",modifier:1,modifiers:[],gain:!0},{id:"armor-of-agathys",modifier:1,modifiers:[],gain:!0},{id:"Mage-armor-id-92",modifier:1,modifiers:[],gain:!0}]},{id:"basic-magic-1-by-1-ex",name:"Abjuration Proficiency",requires:[{id:"basic-magic-1-by",levels:1}],requirementType:"and",description:"You can cast more abjuration spells.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"abjuration-id-11",modifier:1,modifiers:[{id:"abju_slots",modifier:2,set:!1}]}]},{id:"basic-magic-1-by-1-ey",name:"Magical Shielding",requires:[{id:"basic-magic-1-by",levels:1}],requirementType:"and",description:"Shield and magical deflection are upgraded.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},levels:2,levelCost:[2,3],providedAbilities:[{id:"shield-id-152",modifier:1,modifiers:[{id:"shield_armor",modifier:1,set:!1},{id:"shield_count",modifier:1,set:!1}]},{id:"Magical-Deflection-id-57",modifier:1,modifiers:[{id:"mdef_count",modifier:2,set:!1}]}]},{id:"basic-magic-1-by-1-ey-1-ey",name:"Magical redirection",requires:[{id:"basic-magic-1-by-1-ey",levels:1}],requirementType:"and",description:"Ranged returned to sender.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},cost:1,providedAbilities:[{id:"Magical-Deflection-id-57",modifier:1,modifiers:[{id:"redirect",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-ey-1-ez",name:"Volitile Shield",requires:[{id:"basic-magic-1-by-1-ey",levels:1}],requirementType:"and",description:"Attacks fully absorbed by shield (reg. armor + shield armor) hurt the attacker.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},cost:1,providedAbilities:[{id:"shield-id-152",modifier:1,modifiers:[{id:"shield_dmg",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-by",name:"Magical Armor",requires:[{id:"basic-magic-1-by",levels:1}],requirementType:"and",description:"Upgrade your magical armor.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},levels:2,levelCost:[2,2],providedAbilities:[{id:"armor-of-agathys",modifier:1,modifiers:[{id:"temp_hp",modifier:1,set:!1}]},{id:"Mage-armor-id-92",modifier:1,modifiers:[{id:"m_armor",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-by-1-cd",name:"Lasting Armor",requires:[{id:"basic-magic-1-by-1-by",levels:1}],requirementType:"and",description:"Mage armor lasts longer",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"Mage-armor-id-92",modifier:1,modifiers:[{id:"m-armor-turns",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-by-1-ex",name:"Subzero Armor",requires:[{id:"basic-magic-1-by-1-by",levels:1}],requirementType:"and",description:"Armor of agathys is more effective.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},levels:2,levelCost:[1,2],providedAbilities:[{id:"armor-of-agathys",modifier:1,modifiers:[{id:"temp_hp",modifier:1,set:!1},{id:"aga_effect",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-ex-1-dy",name:"Reactive Abjurer",requires:[{id:"basic-magic-1-by-1-ex",levels:2}],requirementType:"and",description:"Makes shield and magical deflection at the cost of mage armor and armor of agathys.",globalParams:[],exclusiveWith:["basic-magic-1-by-1-ex-1-ey"],colors:{unavailable:"#5F5F90",selected:"#5082EF"},cost:1,providedAbilities:[{id:"Mage-armor-id-92",modifier:1,modifiers:[{id:"m_armor",modifier:-1,set:!1}]},{id:"armor-of-agathys",modifier:1,modifiers:[{id:"temp_hp",modifier:-2,set:!1}]},{id:"shield-id-152",modifier:1,modifiers:[{id:"shield_armor",modifier:3,set:!1}]},{id:"Magical-Deflection-id-57",modifier:1,modifiers:[{id:"mdef_count",modifier:3,set:!1}]}]},{id:"basic-magic-1-by-1-ex-1-ey",name:"Prepared Abjurer",requires:[{id:"basic-magic-1-by-1-ex",levels:2}],requirementType:"and",description:"Improve Mage armor and armor of agathys at the cost of reactive shielding.",globalParams:[],exclusiveWith:["basic-magic-1-by-1-ex-1-dy"],colors:{unavailable:"#5F5F90",selected:"#5082EF"},cost:1,providedAbilities:[{id:"armor-of-agathys",modifier:1,modifiers:[{id:"temp_hp",modifier:2,set:!1}]},{id:"Mage-armor-id-92",modifier:1,modifiers:[{id:"m_armor",modifier:1,set:!1},{id:"m-armor-turns",modifier:1,set:!1}]},{id:"shield-id-152",modifier:1,modifiers:[{id:"shield_armor",modifier:-1,set:!1}]},{id:"Magical-Deflection-id-57",modifier:1,modifiers:[{id:"mdef_count",modifier:-1,set:!1}]}]},{id:"basic-magic-1-av",name:"Divination",requires:[{id:"basic-magic",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"divination-casting",modifier:1,modifiers:[],gain:!0},{id:"Gift-fore-id-135",modifier:1,modifiers:[],gain:!0},{id:"Portent-id-145",modifier:1,modifiers:[],gain:!0},{id:"Phan-sight-id-124",modifier:1,modifiers:[],gain:!0}]},{id:"basic-magic-1-av-1-dd",name:"Divination Proficiency",requires:[{id:"basic-magic-1-av",levels:1}],requirementType:"and",description:"You can cast more divination spells.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"divination-casting",modifier:1,modifiers:[{id:"div_slots",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-ad",name:"Gift of Foresight",requires:[{id:"basic-magic-1-av",levels:1}],requirementType:"and",description:"Improved gift of foresight.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_ac",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-ad-1-ed",name:"Advantage of Foresight",requires:[{id:"basic-magic-1-av-1-ad",levels:1}],requirementType:"and",description:"Gift of foresight now grains bonuses to attacking.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_atk",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-ad-1-az",name:"Multiple foresight",requires:[{id:"basic-magic-1-av-1-ad",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_num",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-ad-1-az-1-bz",name:"Gift of reaction",requires:[{id:"basic-magic-1-av-1-ad-1-az",levels:1},{levels:"1",id:"basic-magic-1-av-1-ad-1-ed"}],requirementType:"or",description:"Gift of foresight now allows a unit to move away from an enemy.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_react",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-cy",name:"Deep Portent",requires:[{id:"basic-magic-1-av",levels:1}],requirementType:"and",description:"Reroll more dice from portent.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},levels:2,levelCost:[1,1],providedAbilities:[{id:"Portent-id-145",modifier:1,modifiers:[{id:"Port_num",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-ez",name:"Spectre Sight",requires:[{id:"basic-magic-1-av",levels:1}],requirementType:"and",description:"Improved Phantom sight.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Phan-sight-id-124",modifier:1,modifiers:[{id:"ps-num",modifier:1,set:!1},{id:"base1",modifier:-1,set:!1},{id:"ps-adv",modifier:1,set:!1}],gain:!0}]},{id:"basic-magic-1-av-1-ez-1-ax",name:"Command Sight",requires:[{id:"basic-magic-1-av-1-ez",levels:1}],requirementType:"and",description:"Improved phantom sight for command units.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Phan-sight-id-124",modifier:1,modifiers:[{id:"base2",modifier:-1,set:!1},{id:"ps-comm",modifier:1,set:!1},{id:"ps-num",modifier:1,set:!1}],gain:!1}]},{id:"basic-magic-1-av-1-dd-1-bx",name:"Precognitist",requires:[{id:"basic-magic-1-av-1-dd",levels:1}],requirementType:"and",description:"Improves gift of foresight and phantom sight at the cost of portent.",globalParams:[],exclusiveWith:["basic-magic-1-av-1-dd-1-av"],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_atk",modifier:1,set:!1},{id:"gof_num",modifier:1,set:!1},{id:"gof_ac",modifier:1,set:!1}]},{id:"Phan-sight-id-124",modifier:1,modifiers:[{id:"ps-num",modifier:1,set:!1}]},{id:"Portent-id-145",modifier:1,modifiers:[{id:"Port_num",modifier:-1,set:!1}]}]},{id:"basic-magic-1-av-1-dd-1-av",name:"Tea reader",requires:[{id:"basic-magic-1-av-1-dd",levels:1}],requirementType:"and",description:"Greatly improves portent at the cost of gift of foresight and spectre sight.",globalParams:[],exclusiveWith:["basic-magic-1-av-1-dd-1-bx"],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Portent-id-145",modifier:1,modifiers:[{id:"Port_num",modifier:5,set:!1}]},{id:"Phan-sight-id-124",modifier:1,modifiers:[{id:"ps-num",modifier:-1,set:!1}]},{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_ac",modifier:-1,set:!1},{id:"gof_atk",modifier:-1,set:!1}]}]},{id:"enc-prof-191-1-az",name:"Enchantment Proficiency",requires:[{id:"191",levels:1}],requirementType:"and",description:"You can cast more enchantment spells.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"Enchan-casting-id-26",modifier:1,modifiers:[{id:"enc-slots",modifier:2,set:!1}]}]},{id:"alter-emotions-1-1-az",name:"Soother",requires:[{id:"alter-emotions-1",levels:1}],requirementType:"and",description:"Alter emotions increase a units hp significantly.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[{id:"amt",modifier:1,set:!1}]}]},{id:"alter-emotions-1-1-bx",name:"Rioter",requires:[{id:"alter-emotions-1",levels:1}],requirementType:"and",description:"Alter emotions does more damage.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[{id:"riot-amt",modifier:1,set:!1}]}]},{id:"alter-emotions-1-1-bx-1-ez",name:"Mass manipulation",requires:[{id:"alter-emotions-1-1-bx",levels:1},{levels:"1",id:"alter-emotions-1-1-az"}],requirementType:"or",description:"Alter emotions now spreads through the ranks.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[{id:"spread-ae",modifier:1,set:!1}]}]},{id:"beguile-3-1-dd",name:"Mass beguiling",requires:[{id:"beguile-3",levels:1},{levels:"1",id:"180"}],requirementType:"or",description:"Beguile now hits more targets.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"beguile",modifier:1,modifiers:[{id:"be-units",modifier:1,set:!1}]}]},{id:"191-1-ey",name:"Controlling",requires:[{id:"191",levels:1}],requirementType:"and",description:"You can dominate more units",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},levels:2,levelCost:[1,1],providedAbilities:[{id:"dominate",modifier:1,modifiers:[{id:"units",modifier:1,set:!1}]}]},{id:"dominant-191-1-ey-1-ev",name:"Dominant",requires:[{id:"191-1-ey",levels:1}],requirementType:"and",description:"You can control elite units.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"dominate",modifier:1,modifiers:[{id:"base",modifier:-1,set:!1},{id:"elite",modifier:1,set:!1}]}]},{id:"enc-prof-191-1-az-1-dy",name:"Master Manipulator",requires:[{id:"enc-prof-191-1-az",levels:1}],requirementType:"and",description:"You are even better at manipulation.",globalParams:[],exclusiveWith:["enc-prof-191-1-az-1-ex"],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"beguile",modifier:1,modifiers:[{id:"frightened",modifier:2,set:!1}]},{id:"alter-emotions",modifier:1,modifiers:[{id:"amt",modifier:2,set:!1}]}]},{id:"enc-prof-191-1-az-1-ex",name:"Iron will",requires:[{id:"enc-prof-191-1-az",levels:1}],requirementType:"and",description:"Greatly increases domination.",globalParams:[],exclusiveWith:["enc-prof-191-1-az-1-dy"],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"dominate",modifier:1,modifiers:[{id:"units",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd",name:"Conjuration",requires:[{id:"basic-magic",levels:1}],requirementType:"and",description:"You can now cast conjuration spells.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"conjuration-casting",modifier:1,modifiers:[],gain:!0},{id:"conjure-entities",modifier:1,modifiers:[],gain:!0},{id:"Por-id-110",modifier:1,modifiers:[],gain:!0},{id:"storm",modifier:1,modifiers:[],gain:!0}]},{id:"Conjuration-magic-1-cd-1-ax",name:"Conjuration Proficiency",requires:[{id:"Conjuration-magic-1-cd",levels:1}],requirementType:"and",description:"Cast more conjuration spells",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"conjuration-casting",modifier:1,modifiers:[{id:"con-num",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-ey",name:"Rapid Response Unit",requires:[{id:"Conjuration-magic-1-cd-1-av",levels:2}],requirementType:"and",description:"You prepare units to aid you in battle.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"Por-id-110",modifier:1,modifiers:[{id:"por1",modifier:1,set:!1},{id:"por1-num",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-av",name:"Large Portal",requires:[{id:"Conjuration-magic-1-cd",levels:1}],requirementType:"and",description:"More stable portals.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[1,1],providedAbilities:[{id:"Por-id-110",modifier:1,modifiers:[{id:"port-use",modifier:1,set:!1},{id:"port-dur",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-av-1-dy",name:"Gateway",requires:[{id:"Conjuration-magic-1-cd-1-av",levels:1}],requirementType:"and",description:"A stable rift between two locations.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"Por-id-110",modifier:1,modifiers:[{id:"port-use",modifier:3,set:!1},{id:"port-dur",modifier:3,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd",name:"Tempest",requires:[{id:"Conjuration-magic-1-cd",levels:1}],requirementType:"and",description:"A more devastating storm.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[2,2],providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-dmg",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-by",name:"Storm Rider",requires:[{id:"Conjuration-magic-1-cd-1-dd",levels:1}],requirementType:"and",description:"Move with the storm.",globalParams:[],exclusiveWith:["Conjuration-magic-1-cd-1-dd-1-dz"],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"sto-ride",modifier:2,set:!1},{id:"sto-base",modifier:-1,set:!1},{id:"storm-dmg",modifier:-2,set:!1},{id:"storm-mve",modifier:-1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-ax",name:"Superstorm",requires:[{id:"Conjuration-magic-1-cd-1-dd",levels:1}],requirementType:"and",description:"Larger storm.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:3,levelCost:[1,2,2],providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-size",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-ay",name:"Cloudburst",requires:[{id:"Conjuration-magic-1-cd-1-dd",levels:1}],requirementType:"and",description:"Storm moves faster.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-mve",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-by-1-cd",name:"Storm King",requires:[{id:"Conjuration-magic-1-cd-1-dd-1-by",levels:1},{levels:2,id:"Conjuration-magic-1-cd-1-dd-1-ay"},{levels:"1",id:"Conjuration-magic-1-cd-1-dd-1-ax"}],requirementType:"and",description:"You are the master of storms.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedStats:[{id:"",modifier:1,set:!1}],providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-dmg",modifier:-1,set:!1},{id:"storm-mve",modifier:-1,set:!1},{id:"sto-mas",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-cx",name:"Summoner",requires:[{id:"Conjuration-magic-1-cd",levels:1}],requirementType:"and",description:"You can summon stronger entities.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:5,levelCost:[1,1,1,1,1],providedAbilities:[{id:"conjure-entities",modifier:1,modifiers:[{id:"sum1",modifier:1,set:!1},{id:"sum2",modifier:1,set:!1},{id:"sum3",modifier:1,set:!1},{id:"sum4",modifier:1,set:!1},{id:"sum5",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-cx-1-cz",name:"Mass summoning",requires:[{id:"Conjuration-magic-1-cd-1-cx",levels:2}],requirementType:"and",description:"You summon more entities.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[1,1],providedAbilities:[{id:"conjure-entities",modifier:1,modifiers:[{id:"sum-num",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-dx",name:"Storm wall",requires:[{id:"Conjuration-magic-1-cd-1-dd",levels:1}],requirementType:"and",description:"Units get trapped within the storm.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"sto-wall",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-dz",name:"Chaos storm",requires:[{id:"Conjuration-magic-1-cd-1-dd",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:["Conjuration-magic-1-cd-1-dd-1-by"],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-dmg",modifier:1,set:!1}],gain:!1}]},{id:"Conjuration-magic-1-cd-1-dd-1-dz-1-dz",name:"Hyper Storm",requires:[{id:"Conjuration-magic-1-cd-1-dd-1-dz",levels:1},{levels:2,id:"Conjuration-magic-1-cd-1-dd-1-ay"},{levels:3,id:"Conjuration-magic-1-cd-1-dd-1-ax"}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:2,providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-dmg",modifier:3,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-ay-1-ex",name:"Highstorm",requires:[{id:"Conjuration-magic-1-cd-1-dd",levels:1}],requirementType:"and",description:"Storm goes up.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[1,1],providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"sto-high",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-by-1-cd-1-cz",name:"Hurricane",requires:[{id:"Conjuration-magic-1-cd-1-dd-1-by-1-cd",levels:1},{levels:"1",id:"Conjuration-magic-1-cd-1-dd-1-dz-1-dz"}],requirementType:"or",description:"Storm does more damage.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:3,providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-dmg",modifier:3,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-av-1-dy-1-ev",name:"Hellgate",requires:[{id:"Conjuration-magic-1-cd-1-av-1-dy",levels:1}],requirementType:"and",description:"Open a stable portal to somewhere aweful.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[2,2],providedAbilities:[{id:"Por-id-110",modifier:1,modifiers:[{id:"hell-por",modifier:3,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-av-1-dy-1-az",name:"Divine Portal",requires:[{id:"Conjuration-magic-1-cd-1-av-1-dy",levels:1}],requirementType:"and",description:"Call in powerful allies.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[2,2],providedAbilities:[{id:"Por-id-110",modifier:1,modifiers:[{id:"hev-por",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-av-1-bd",name:"Devouring Portal",requires:[{id:"Conjuration-magic-1-cd-1-av",levels:1}],requirementType:"and",description:"Portal pulls low mass units into it.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"Por-id-110",modifier:1,modifiers:[{id:"dev-por",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-bz",name:"Massive Entanglement",requires:[{id:"Conjuration-magic-1-cd",levels:1}],requirementType:"and",description:"Entangle a larger area.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"entangling-ground",modifier:1,modifiers:[{id:"eg-hex",modifier:1,set:!1}]}]},{id:"immentangle",name:"Immobilizing Entanglement",requires:[{id:"Conjuration-magic-1-cd-1-bz",levels:1}],requirementType:"and",description:"Entanglement traps units.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"entangling-ground",modifier:1,modifiers:[{id:"eg-imm",modifier:1,set:!1},{id:"base",modifier:-1,set:!1}]}]},{id:"dming-entangle",name:"Damaging Entanglement",requires:[{id:"Conjuration-magic-1-cd-1-bz",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[1,1],providedAbilities:[{id:"entangling-ground",modifier:1,modifiers:[{id:"eg-dmg",modifier:2,set:!1}]}]},{id:"creeping-entangle",name:"Creeping Entanglement",requires:[{id:"dming-entangle",levels:1},{levels:"1",id:"immentangle"}],requirementType:"or",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[2,2],providedAbilities:[{id:"entangling-ground",modifier:1,modifiers:[{id:"eg-cree",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad",name:"Dragon Breath",requires:[{id:"basic",levels:1}],requirementType:"and",description:"You have a dragon!",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},levels:2,levelCost:[1,2],providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-dmg",modifier:1,set:!1}],gain:!0},{id:"draconic-bombardment",modifier:1,modifiers:[],gain:!1}]},{id:"Dragon-bw--1-ad-1-dy",name:"Enlarged Glands",requires:[{id:"Dragon-bw--1-ad",levels:1}],requirementType:"and",description:"Your dragon can use its breath attack more often.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"breath-attacks",modifier:1,modifiers:[{id:"bw-use",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-dy-1-dx",name:"Fast Metabolism",requires:[{id:"Dragon-bw--1-ad-1-dy",levels:1}],requirementType:"and",description:"Your dragon can recharges its breath weapon.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},cost:1,providedAbilities:[{id:"breath-attacks",modifier:1,modifiers:[{id:"bw-rchrg",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-dy-1-dx-1-ez",name:"Draconic Catabolism",requires:[{id:"Dragon-bw--1-ad-1-dy-1-dx",levels:1}],requirementType:"and",description:"Can spend health to get breath weapon charges back.",globalParams:[],exclusiveWith:["Dragon-bw--1-ad-1-dy-1-dx-1-az"],colors:{unavailable:"#752223",selected:"#ec2c2c"},cost:1,providedAbilities:[{id:"breath-attacks",modifier:1,modifiers:[{id:"bw-cat",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-dy-1-dx-1-az",name:"Draconic Annabolism",requires:[{id:"Dragon-bw--1-ad-1-dy-1-dx",levels:1}],requirementType:"and",description:"Can spend breath attacks to regain health.",globalParams:[],exclusiveWith:["Dragon-bw--1-ad-1-dy-1-dx-1-ez"],colors:{unavailable:"#752223",selected:"#ec2c2c"},cost:1,providedAbilities:[{id:"breath-attacks",modifier:1,modifiers:[{id:"bw-ann",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-dx",name:"Burning Breath",requires:[{id:"lasting-effect-001",levels:1}],requirementType:"and",description:"Breath weapons cause a lasting negative effect on enemies.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},levels:2,levelCost:[1,2],providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-burn",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-az",name:"Weakening Breath",requires:[{id:"lasting-effect-001",levels:1}],requirementType:"and",description:"Dragon fire weakens units.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-weak",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-bd",name:"Slowing Breath",requires:[{id:"lasting-effect-001",levels:1}],requirementType:"and",description:"Dragon fire slows enemy units.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-bite",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-dv",name:"Sundering Breath",requires:[{id:"lasting-effect-001",levels:1}],requirementType:"and",description:"Dragonfire reduces enemy armor.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-sund",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-dv-1-by",name:"Resistant Effect",requires:[{id:"Dragon-bw--1-ad-1-dv",levels:1},{levels:"1",id:"Dragon-bw--1-ad-1-bd"},{levels:"1",id:"Dragon-bw--1-ad-1-az"},{levels:"1",id:"Dragon-bw--1-ad-1-dx"}],requirementType:"or",description:"Breath weapon effects are harder to remove.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},cost:2,providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-eff",modifier:1,set:!1}]}]},{id:"lasting-effect-001",name:"Lasting Effect",requires:[{id:"Dragon-bw--1-ad",levels:1}],requirementType:"and",description:"Dragonfire does more damage.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},cost:1,providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-dmg",modifier:1,set:!1}]}]},{id:"Dragon-bw-environ-1-ad-1-cx",name:"Environmental Devestation",requires:[{id:"Dragon-bw--1-ad",levels:1}],requirementType:"and",description:"Dragonfire does more damage.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},cost:1,providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-dmg",modifier:1,set:!1}]}]},{id:"Dragon-bw-environ-1-ad-1-cx-1-ad",name:"Field of Fire",requires:[{id:"Dragon-bw-environ-1-ad-1-cx",levels:1}],requirementType:"and",description:"Units cannot walk through a hex hit by your draconic attack.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"draconic-bombardment",modifier:1,modifiers:[{id:"bw-block",modifier:1,set:!1}]}]}],eSe={attack:"#d92a2d",tag:"#c74141",holy:"#d7a435",enchantment:"#ab38d9",defense:"#bb864c",flying:"#6dcb20",aquatic:"#2698a8",magic:"#5269bd",movement:"#459068",undead:"#849064",concentration:"#e28baf",piercing:"#ec9569",command:"#46ddcb",healing:"#e15fab",mustering:"#dca542",necromancy:"#aded23",spell:"#3579cf",evocation:"#ff0000",abjuration:"#08084c",divination:"#05def7",conjuration:"#f06602","Dragon Breath":"#fb0000"},tSe=[{id:"armor",name:"Armor"},{id:"hp",name:"Hit Points"},{id:"movement",name:"Movement"}],nSe=[{id:"base-dragon",name:"Base Dragon",build:{basic:!0,speed:2,armor:3,professionals:!0,"Dragon-bw--1-ad":1}},{id:"unit-6185",name:"Skellington",build:{basic:!0,speed:1,armor:1,"attack-node":1,"attack-node-1-dv":1}},{id:"unit-11232",name:"Archers",build:{basic:!0,"basic-1-ay":1,"basic-1-ay-1-ed":1}},{id:"unit-1709",name:"Sea Snake",build:{basic:!0,speed:3,dash:!0,charge:!0,swimming:!0,"advanced-swimming":!0,ferry:!0,diving:!0,"attack-from-the-deep":!0}},{id:"unit-12053",name:"Paladin",build:{basic:!0,"basic-magic":!0,speed:2,dash:!0,charge:!0,armor:4,"defend-1":1,"guardian-1":!0,"guardian-2":!0,"holy-casting":!0,"holy-power":!0,"holy-avenger":!0,"undead-scourge":2,"paragon-of-divintiy":!0,"divine-prof":2,paladin:!0,"attack-node":2,"Multi_attack-1-dz":1}},{id:"unit-7407",name:"Cleric",build:{basic:!0,"basic-magic":!0,speed:2,dash:!0,armor:1,"holy-casting":!0,"holy-power":!0,"advanced-guiding-bolt":!0,"greater-restoration":!0,"divine-restoration":!0,"paragon-of-divintiy":!0,"divine-prof":3,cleric:!0,"basic-1-ay":1}}],Gp={version:Y_e,abilities:K_e,abilityTypes:Z_e,globalParams:Q_e,nodes:J_e,tagColors:eSe,stats:tSe,defaultUnits:nSe};function rSe({graphEvents$:t}){const{build:e,setSavedBuild:n,defaultUnits:r,setDefaultUnits:i,setSelectedUnit:s,selectedUnit:o}=T.useContext(as),{tagColors:a,setTagColors:l}=T.useContext(cf),{stats:c,setStats:h}=T.useContext(af),{abilityTypes:f,abilities:p,setAbilities:m,setAbilityTypes:v,globalParams:y,setGlobalParams:x}=T.useContext(Jn),{nodes:b,setNodes:_,setSavedNodes:w}=T.useContext(wo),{version:E,setVersion:O}=T.useContext(ls),[A,F]=T.useState(""),[L,H]=T.useState(""),[j,z]=T.useState(`dragon-build-${new Date().toDateString()}`),[W,q]=T.useState(`dragon-trees-${new Date().toDateString()}`),Y=(G,R)=>{const D=G.target.files,Q=new FileReader;Q.onload=K=>{var $,ne,me;$D(($=K.target)==null?void 0:$.result)&&(R==="build"?F(((ne=K.target)==null?void 0:ne.result)||""):R==="tree"&&H(((me=K.target)==null?void 0:me.result)||""))},Q.readAsText(D[0])},de=G=>{let R={},D="";if(G==="build")R=e==null?void 0:e.exportableBuild,D=`${j||"dragon-build"}.json`;else if(G==="trees"){const Q=W||"dragon-trees";R={version:E,abilities:p,abilityTypes:f,globalParams:y,nodes:b,tagColors:a,stats:c,defaultUnits:r},D=`${Q}.json`}if(D.length&&R){const Q=JSON.stringify(R,null,2),K=new Blob([Q],{type:"application/json"}),$=URL.createObjectURL(K),ne=document.createElement("a");ne.href=$,ne.download=D,document.body.appendChild(ne),ne.click(),document.body.removeChild(ne),URL.revokeObjectURL($)}},ce=G=>{A.length;const R=JSON.parse(A);R&&n({type:"imported",build:R})},te=G=>{if(L.length){const R=JSON.parse(L);n({type:"imported",build:{}}),R&&(R.defaultUnits&&i({type:"set",nodes:R.defaultUnits}),R.nodes&&_({type:"set",nodes:R.nodes}),R.abilities&&m({type:"set",abilities:R.abilities}),R.tagColors&&l({type:"set",colors:R.tagColors}),R.stats&&h({type:"set",stats:R.stats}),R.globalParams&&x({type:"set",params:R.globalParams}),R.abilityTypes&&v({type:"set",abilityTypes:R.abilityTypes}))}w({type:"imported",nodes:Math.random()})},Z=G=>{_({type:"reset"}),O({type:"set",version:"0.0.0"}),m({type:"set",abilities:[]}),v({type:"set",abilityTypes:[]}),l({type:"set",tagColors:{}}),h({type:"set",stats:[]}),x({type:"set",params:[]}),n({type:"imported",build:{}}),w({type:"imported",nodes:Math.random()})};return ee("div",{className:"code-panel",children:[k(vn,{name:"Character Build",startOpen:!1,children:ee("div",{className:"section",children:[ee("div",{className:"uploader",children:[k("input",{type:"file",id:"1",onChange:G=>Y(G,"build")}),ee(St,{disabled:!A,clicked:ce,children:["Import Build ",k(Yx,{})]})]}),ee("div",{className:"downloader",children:[ee("div",{children:["Save as:",k(is,{value:j,valueChanged:G=>z(G)})]}),ee(St,{type:"outline",color:"success",clicked:()=>de("build"),children:["Save Build ",k(al,{})]})]})]})}),k(vn,{name:"Trees, Abilities, Etc",startOpen:!1,children:ee("div",{className:"section",children:[ee("div",{className:"uploader",children:[k("input",{type:"file",id:"1",onChange:G=>Y(G,"tree")}),ee(St,{disabled:!L,clicked:te,children:["Import Trees/Abilities ",k(Yx,{})]})]}),ee("div",{className:"downloader",children:[ee("div",{children:["Save as:",k(is,{value:W,valueChanged:G=>q(G)})]}),ee(St,{color:"success",clicked:()=>de("trees"),children:["Save Current Trees/Abilities ",k(al,{})]})]})]})}),ee(vn,{name:"Presets",startOpen:!0,children:[ee("div",{className:"reset",children:[ee(St,{color:"info",clicked:G=>{const R=Gp;s({}),n({type:"imported",build:{}}),O({type:"set",version:R.version}),i({type:"set",units:R.defaultUnits}),_({type:"set",nodes:R.nodes}),h({type:"set",stats:R.stats}),v({type:"set",abilityTypes:R.abilityTypes}),m({type:"set",abilities:R.abilities}),l({type:"set",colors:R.tagColors}),x({type:"set",params:R.globalParams}),w({type:"imported",nodes:Math.random()})},children:[k(nQ,{}),"Load Ed's Latest Build"]}),k("br",{})]}),ee("div",{className:"version",children:[ee("span",{children:["Ed's latest version:"," ",k("span",{className:"version-number",children:Gp.version})]}),ee("span",{children:["Your Version:"," ",k("span",{className:co({"version-number":!0,success:E===Gp.version,outdated:E!==Gp.version}),children:E})," "]})]}),k("div",{}),k("div",{className:"reset",children:ee(St,{color:"danger",clicked:Z,children:[k(FQ,{}),"Start from Scratch"]})})]})]})}function IR(t,e){const n=ze(t,r=>r.id);return gr(e,r=>!tf(n,r.value))}function jw({providedStats:t=[],providedStatsChanged:e,options:n,name:r}){const i=(c,h)=>{const f=ut(t);f[h].id=c.value,e(f)},s=(c,h)=>{const f=ut(t);f[h].modifier=parseInt(c.target.value,10),e(f)},o=(c,h)=>{let f=ut(t);f=gr(f,(p,m)=>h!==m),e(f)},a=()=>{let c=ut(t);c.push({id:"",modifier:1,set:!1}),e(c)},l=c=>{const h=ut(t);h[c].set=!h[c].set,e(h)};return ee("div",{className:"stats-panel",children:[t!=null&&t.length?ze(t,(c,h)=>ee("div",{className:"stat-edit-line",children:[ee("div",{className:"left",children:[k(bf,{className:"stat-select",styles:xf(),options:IR(t,n),onChange:f=>i(f,h),value:Ve(n,{value:c.id})}),k(r0,{value:c==null?void 0:c.modifier,valueChanged:f=>s(f,h)})]}),ee("div",{className:"right",children:[k(St,{clicked:f=>l(h),color:c!=null&&c.set?"white":"mutedText",children:k(yQ,{})}),k(St,{color:"danger",clicked:f=>o(f,h),children:k(xo,{})})]})]},h)):"",k("div",{children:ee(St,{disabled:IR(t,n).length===0,type:"outline",color:"info",clicked:a,children:[k(rs,{}),"Add ",r]})})]})}function iSe(t,e){const n=Ve(e,{id:t});return n!=null&&n.params?ze(Object.keys(n.params),r=>({label:r,value:r})):[]}function sSe(t){let e={};return vt(t,n=>{e[n.id]=n.modifier}),e}function oSe({providedAbilities:t,providedAbilitiesChanged:e}){const n=T.useContext(Jn).abilities,[r,i]=T.useState(t),s=(h,f)=>{const p=ut(r);p[f].id=h,p[f].modifiers=[],e(p)},o=(h,f)=>{let p=ut(r);p=gr(p,(m,v)=>f!==v),e(p)},a=()=>{let h=ut(r);h.push({id:"",modifier:1}),e(h)},l=(h,f)=>{const p=ut(r);p[f].modifiers=h,e(p)},c=(h,f)=>{const p=ut(r);p[f].gain=!p[f].gain,e(p)};return T.useEffect(()=>{i(()=>t)},[t]),ee("div",{className:"abilities-panel",children:[r.length?ze(r,(h,f)=>{var p;return ee("div",{className:"ability-line",children:[ee("div",{className:"ability-select",children:[k("button",{className:"remove-ability-button",onClick:m=>o(m,f),children:k(QQ,{})}),k(RL,{usedOptions:h.id?ze(gr(r,{id:!h.id}),"id"):ze(r,"id"),defaultValue:h.id,valueChanged:m=>s(m,f)})]}),h.id?ee("div",{className:"ability-options",children:[Ve(n,{id:h==null?void 0:h.id})&&k(Td,{ability:Ve(n,{id:h==null?void 0:h.id}),modifiers:sSe(h.modifiers),isPlayerAbility:!1,editable:!0,startOpen:!1}),k("div",{className:"grant",children:ee("label",{className:"checkbox",children:["Grant",k("input",{type:"checkbox",checked:h.gain,onChange:m=>c(m,f)})]})}),(p=Ve(n,{id:h==null?void 0:h.id}))!=null&&p.params?k(jw,{providedStats:h.modifiers,providedStatsChanged:m=>l(m,f),options:iSe(h.id,n),name:"Modifier"}):""]}):""]},f)}):"",k("div",{className:"padding-md",children:ee(Qi,{type:"outline",color:"info",clicked:a,children:["Add Related Ability",k(rs,{})]})})]})}function RR(t,e,n){if(e){if(t!=null&&t.length)return t;{const r=[];return rf(e,()=>r.push(t||n||1)),r}}else return[n||1]}function Q1(t,e,n){n({levels:t,levelCost:e})}function aSe({levels:t,levelCost:e,cost:n,color:r,levelsChanged:i}){const[s,o]=T.useState(t||1),[a,l]=T.useState(RR(e,t||1,n||1));T.useEffect(()=>{o(t||1),l(RR(e,t,n))},[t,e,n]);const c=p=>{let m=s+1,v=a;v.length&&(v=[...v,1]),Q1(m,v,i)},h=p=>{let m=t,v=e;t>1&&(m=t-1,v.length&&(v=v.slice(0,v.length-1))),Q1(m,v,i)},f=(p,m)=>{let v=ut(a);p.shiftKey?v[m]>1&&(v[m]-=1):v[m]+=1,Q1(s,v,i)};return ee("div",{className:"cost-panel",children:[k("button",{onClick:h,children:k(wQ,{})}),k("div",{className:"levels",children:rf(s,p=>k("span",{onClick:m=>f(m,p),className:"level-points",children:k("span",{className:"level-dot",style:{background:r},children:a.length?a[p]:a})},p))}),k("button",{onClick:c,children:k(rs,{})})]})}function MR(t,e,n){return n?ze(e,r=>Ve(t,{value:r})):Ve(t,{value:e})}function lSe(t){return ze(t,e=>({value:e.id,label:e.name,color:e.colors.selected}))}function J1(t,e,n){const r=da(gr(lSe(e),i=>!tf(t,i.value)),"label");return n?[{value:null,label:"(None)"},...r]:r}function ML({usedOptions:t,valueChanged:e,defaultValue:n,showEmptyOption:r=!1,isMulti:i=!1}){const{nodes:s}=T.useContext(wo),[o,a]=T.useState(J1(t,s,r)),[l,c]=T.useState(MR(o,n,i));T.useEffect(()=>{a(J1(t,s,r))},[s]),T.useEffect(()=>{a(J1(t,s,r))},[n]),T.useEffect(()=>{c(MR(o,n,i))},[o]);const h=f=>{e(i?ze(f,"value"):f.value)};return k(bf,{isMulti:i,className:"node-select",styles:xf({dot:!0,colorProp:"color"}),options:o,onChange:h,defaultValue:l,value:l})}function uSe({value:t,requirementType:e,valueChanged:n,nodeId:r}){const[i,s]=T.useState(t),[o,a]=T.useState(e==="or"),{nodes:l}=T.useContext(wo);T.useEffect(()=>{s(t),a(e==="or")},[t,e]);const c=(m,v,y)=>{let x=[...i];x[v][y]=m,n({requires:x,requirementType:o?"or":"and"})},h=m=>{let v=[...i];v.splice(m,1),n({requires:v,requirementType:o?"or":"and"})},f=()=>{let m=[...i];m.push({levels:"1"}),n({requires:m,requirementType:o?"or":"and"})},p=()=>{n({requires:i,requirementType:o?"and":"or"})};return ee("div",{className:"require-select",children:[ze(i,(m,v)=>{var y;return ee("div",{className:"requirement",children:[ee("div",{className:"select",children:[k(ML,{defaultValue:m.id,usedOptions:[r],valueChanged:x=>c(x,v,"id")}),((y=Ve(l,{id:m.id}))==null?void 0:y.levels)>1?k(r0,{value:m.levels,valueChanged:x=>c(x,v,"levels"),min:1,max:Ve(l,{id:m.id}).levels||1}):k("span",{})]}),k(St,{clicked:x=>h(v),color:"danger",children:k(xo,{})})]},v)}),i.length>1&&k("div",{className:"requirementType",children:ee("label",{className:"checkbox",children:[k("input",{type:"checkbox",checked:o,onChange:p}),"Requires only one"]})}),ee(St,{color:"info",clicked:f,children:[k(rs,{})," Add requirement"]})]})}function cSe({value:t,valueChanged:e,nodeId:n}){const[r,i]=T.useState(t);return T.useEffect(()=>{i(t)},[t]),k("div",{className:"excludes-select",children:k(ML,{defaultValue:r,usedOptions:[n],valueChanged:o=>{let a=[...r];a=o,e(a)},isMulti:!0})})}function hSe(t){return ze(t,e=>({value:e.id,label:e.name}))}function dSe(t){return ze(t,e=>({value:e.id,label:e.id}))}function fSe({graphEvents$:t}){const{selectedNodeId:e,nodes:n,setNodes:r}=T.useContext(wo),{stats:i}=T.useContext(af),[s,o]=T.useState(Ve(n,{id:e})||{}),[a,l]=T.useState(s.id),[c,h]=T.useState(s.name),[f,p]=T.useState(s.description),[m,v]=T.useState(s.levels),[y,x]=T.useState(s.levelCost),[b,_]=T.useState(s.cost),[w,E]=T.useState(s.providedStats||[]),[O,A]=T.useState(s.providedAbilities||[]),[F,L]=T.useState(s.colors||{}),[H,j]=T.useState(s.id),[z,W]=T.useState(s.requires||[]),[q,Y]=T.useState(s.requirementType||"and"),[de,ce]=T.useState(!1),{globalParams:te,setGlobalParams:Z}=T.useContext(Jn),[le,G]=T.useState(s.globalParams||[]),R=T.useRef(null),D=T.useRef(s.id),[Q,K]=T.useState(s.exclusiveWith||[]);T.useEffect(()=>{o(Ve(n,{id:e})||{}),ce(!1)},[e]);const $=Ke=>{l(Ke.target.value),D.current=Ke.target.value,ce(!0)},ne=Ke=>{h(Ke.target.value),ce(!0)},me=Ke=>{p(Ke.target.value),ce(!0)},Ie=Ke=>{var ki,Pn;Ye(),(ki=gr(n,hs=>nf(hs.requires,{id:hs.id})))==null||ki.length;let An={name:"NEW NODE",requires:[{id:D.current,levels:1}],id:`node-${Math.floor(Math.random()*6e5)}`,colors:F};r({type:"add",node:An}),t.next({event:"nodeAdded",data:{node:An}}),(Pn=R.current)==null||Pn.focus()},Re=Ke=>{t.next({event:"nodeDeleted",data:{id:a}}),r({type:"remove",node:s})},Ye=Ke=>{const An={id:a,name:c,requires:z,requirementType:z.length<2?"and":q,description:f,globalParams:le,exclusiveWith:Q,colors:F};m===1?y!=null&&y.length?An.cost=y[0]:An.cost=1:(An.levels=m,An.levelCost=y),w.length&&(An.providedStats=w),O.length&&(An.providedAbilities=O),t.next({event:"nodeEdited",data:{id:H,node:An}}),ce(!1),r({type:"update",node:An,targetId:H})},Se=Ke=>{E(Ke),ce(!0)},et=Ke=>{A(Ke),ce(!0)},tt=Ke=>{x(Ke.levelCost),v(Ke.levels),ce(!0)},rt=(Ke,An)=>{L({...F,[An]:Ke}),ce(!0)},Ot=Ke=>{W(Ke.requires),Y(Ke.requirementType),ce(!0)},Kr=Ke=>{G(Ke),ce(!0)},Dn=Ke=>{K(Ke),ce(!0)};return P.useEffect(()=>{L(s.colors||{}),l(s.id),D.current=s.id,h(s.name),p(s.description),v(s.levels||1),x(s.levelCost),_(s.cost),E(s.providedStats||[]),A(s.providedAbilities||[]),j(s.id),W(s.requires||[]),Y(s.requirementType||"and"),G(s.globalParams||[]),K(s.exclusiveWith||[])},[s]),s.id?ee("div",{className:"edit-panel",children:[k("div",{className:"edit-panel-top",children:k(aSe,{levels:m,levelCost:y,cost:b,color:F.selected,levelsChanged:tt})}),k("div",{className:"form-control name",children:k("input",{type:"text",ref:R,onChange:ne,value:c||""})}),k("div",{className:"form-control id",children:k("input",{type:"text",onChange:$,value:a||""})}),ee("div",{className:"colors",children:[k("div",{className:"color-item",children:k(oc,{color:F.unavailable,colorChanged:Ke=>rt(Ke,"unavailable")})}),k("div",{className:"color-item",children:k(oc,{color:F.selected,colorChanged:Ke=>rt(Ke,"selected")})})]}),k("div",{className:"form-control node-description",children:k(IL,{rows:6,onChange:me,value:f||""})}),ee("div",{className:"edit-panel-accordions",children:[k(vn,{name:"Requires",startOpen:!1,children:k("div",{className:"edit-panel-accordion-container",children:k(uSe,{requirementType:q,value:z,valueChanged:Ot,nodeId:a})})}),k(vn,{name:"Excludes",startOpen:!1,children:k("div",{className:"edit-panel-accordion-container",children:k(cSe,{value:Q,valueChanged:Dn,nodeId:a})})}),k(vn,{name:"Stats",startOpen:!1,children:k("div",{className:"edit-panel-accordion-container",children:k(jw,{providedStats:w,providedStatsChanged:Se,options:hSe(i),name:"Stat"})})}),k(vn,{name:"Abilities",startOpen:!1,children:k("div",{className:"edit-panel-accordion-container",children:k(oSe,{providedAbilities:O,providedAbilitiesChanged:et})})}),k(vn,{name:"Global Params",startOpen:!1,children:k("div",{className:"edit-panel-accordion-container",children:k(jw,{providedStats:le,providedStatsChanged:Kr,options:dSe(te),name:"Global Param"})})})]}),ee("div",{className:"buttons",children:[ee(Qi,{disabled:!de,type:"outline",color:"success",clicked:Ye,children:[k(al,{}),de?"Save Node":"Node Saved"]}),ee(Qi,{type:"outline",color:"success",clicked:Ie,children:[ee("span",{children:[k(al,{}),k(rs,{})]}),"Save and Add Child Node"]}),ee(Qi,{type:"outline",clicked:Re,color:"danger",children:[k(xo,{}),"Delete Node"]})]})]}):k("div",{className:"edit-panel",children:"Select a Node"})}function eb(t,e){return t?t.levels&&t.levels>1?e==null?void 0:e.acquired[t.id]:e!=null&&e.selected[t.id]?1:0:[]}function FR(t,e){return ze(t==null?void 0:t.providedAbilities,n=>({...Ve(e,{id:n.id}),modifiers:{}}))}function tb(t,e,n,r){let i={};return vt(t,s=>{var a;let o={...(a=e==null?void 0:e.abilities[s==null?void 0:s.id])==null?void 0:a.modifiers};vt(s.modifiers,l=>{n.levels&&n.levels>1?r.acquired[n.id]||(Mr(o[l.id])?o[l.id]=l.modifier:o[l.id]+=l.modifier*r.acquired[n.id]):r.selected[n.id]||(Mr(o[l.id])?o[l.id]=l.modifier:o[l.id]+=l.modifier)}),i[s.id]=o}),i}function nb(t,e){var r;let n="";return(r=t==null?void 0:t.requires)!=null&&r.length&&(n=UD(t.requires,(i,s)=>{const o=Ve(e,{id:s.id});let a;return s.levels&&s.levels>1?a=`${o==null?void 0:o.name} (${s.levels})`:a=o==null?void 0:o.name,[...i,`${a}`]},[]).join(t.requirementType==="or"?" or ":" and ")),`${n}`}function pSe({graphEvents$:t}){var E;const{selectedNodeId:e,nodes:n,nodeMeta:r}=T.useContext(wo),{build:i}=T.useContext(as),{abilities:s}=T.useContext(Jn),[o,a]=T.useState(Ve(n,{id:e})),[l,c]=T.useState(FR(o,s)),[h,f]=T.useState(o?tb(o==null?void 0:o.providedAbilities,i,o,r):{}),[p,m]=T.useState(nb(o,n)),[v,y]=T.useState(eb(o,r)),x=T.useRef(p);let b=(E=o==null?void 0:o.colors)==null?void 0:E.selected;const _=T.useRef(o);T.useEffect(()=>{t.subscribe({next:O=>{O.event==="nodeMetaUpdated"&&y(eb(_.current,O.data.nodeMeta))}})},[]),T.useEffect(()=>{var O;f(tb((O=_.current)==null?void 0:O.providedAbilities,i,_.current,r))},[i]),T.useEffect(()=>{a(Ve(n,{id:e})),_.current=Ve(n,{id:e})},[e]),T.useEffect(()=>{var O;o&&(y(eb(o,r)),b=(O=o==null?void 0:o.colors)==null?void 0:O.selected,c(FR(o,s)),f(tb(o==null?void 0:o.providedAbilities,i,o,r)),m(nb(o,o)),x.current=nb(o,n))},[o]);const w=O=>{if(r.available[e]){let A=v;o.levels&&o.levels>1?v===O+1?A=O:A=O+1:A=!A,y(A),t.next({event:"nodeAcquisitionChanged",data:{id:e,acquired:A}})}};return o?ee("div",{className:"info-panel",children:[k("div",{children:o!=null&&o.levels?k("span",{className:"cost",children:rf(o==null?void 0:o.levels,O=>{var A;return k("span",{onClick:()=>w(O),className:co({unavailable:!r.available[e],"level-points":!0,"not-acquired":v<O+1}),style:v>O?{background:b}:{},children:(A=o==null?void 0:o.levelCost)!=null&&A.length?o==null?void 0:o.levelCost[O]:o==null?void 0:o.levelCost},O)})}):k("span",{className:"cost",children:k("span",{onClick:()=>w(),className:co({unavailable:!r.available[e],"level-points":!0,"not-acquired":!v}),style:v?{background:b}:{},children:(o==null?void 0:o.cost)>1?o==null?void 0:o.cost:""})})}),ee("div",{className:"title",children:[o==null?void 0:o.name," "]}),k("div",{className:"divider",style:{backgroundColor:b}}),r!=null&&r.available[o==null?void 0:o.id]?null:ee("div",{className:"requires",children:["Requires ",k("span",{className:"skill",children:x.current})]}),k("div",{className:"info-description",children:o==null?void 0:o.description}),l.length>0&&ee("div",{className:"abilities",children:[k("div",{className:"title",children:"Related Abilities:"}),l&&l.map(O=>k(Td,{ability:O,modifiers:h[O.id]},O.id))]})]}):k("div",{className:"info-panel",children:"Select a Node "})}var Ad={},mSe={get exports(){return Ad},set exports(t){Ad=t}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,h="__lodash_placeholder__",f=1,p=2,m=4,v=1,y=2,x=1,b=2,_=4,w=8,E=16,O=32,A=64,F=128,L=256,H=512,j=30,z="...",W=800,q=16,Y=1,de=2,ce=3,te=1/0,Z=9007199254740991,le=17976931348623157e292,G=0/0,R=4294967295,D=R-1,Q=R>>>1,K=[["ary",F],["bind",x],["bindKey",b],["curry",w],["curryRight",E],["flip",H],["partial",O],["partialRight",A],["rearg",L]],$="[object Arguments]",ne="[object Array]",me="[object AsyncFunction]",Ie="[object Boolean]",Re="[object Date]",Ye="[object DOMException]",Se="[object Error]",et="[object Function]",tt="[object GeneratorFunction]",rt="[object Map]",Ot="[object Number]",Kr="[object Null]",Dn="[object Object]",Ke="[object Promise]",An="[object Proxy]",ki="[object RegExp]",Pn="[object Set]",hs="[object String]",Cl="[object Symbol]",R0="[object Undefined]",va="[object WeakMap]",M0="[object WeakSet]",re="[object ArrayBuffer]",pe="[object DataView]",Fe="[object Float32Array]",ht="[object Float64Array]",dt="[object Int8Array]",Wn="[object Int16Array]",Zr="[object Int32Array]",xr="[object Uint8Array]",Ls="[object Uint8ClampedArray]",Bs="[object Uint16Array]",It="[object Uint32Array]",Dc=/\b__p \+= '';/g,Oi=/\b(__p \+=) '' \+/g,RN=/(__e\(.*?\)|\b__t\)) \+\n'';/g,vC=/&(?:amp|lt|gt|quot|#39);/g,yC=/[&<>"']/g,MN=RegExp(vC.source),FN=RegExp(yC.source),DN=/<%-([\s\S]+?)%>/g,LN=/<%([\s\S]+?)%>/g,bC=/<%=([\s\S]+?)%>/g,BN=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,NN=/^\w*$/,$N=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,F0=/[\\^$.*+?()[\]{}|]/g,UN=RegExp(F0.source),D0=/^\s+/,zN=/\s/,HN=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,jN=/\{\n\/\* \[wrapped with (.+)\] \*/,WN=/,? & /,GN=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,VN=/[()=,{}\[\]\/\s]/,qN=/\\(\\)?/g,XN=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,xC=/\w*$/,YN=/^[-+]0x[0-9a-f]+$/i,KN=/^0b[01]+$/i,ZN=/^\[object .+?Constructor\]$/,QN=/^0o[0-7]+$/i,JN=/^(?:0|[1-9]\d*)$/,e$=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Pf=/($^)/,t$=/['\n\r\u2028\u2029\\]/g,kf="\\ud800-\\udfff",n$="\\u0300-\\u036f",r$="\\ufe20-\\ufe2f",i$="\\u20d0-\\u20ff",wC=n$+r$+i$,_C="\\u2700-\\u27bf",SC="a-z\\xdf-\\xf6\\xf8-\\xff",s$="\\xac\\xb1\\xd7\\xf7",o$="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",a$="\\u2000-\\u206f",l$=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",EC="A-Z\\xc0-\\xd6\\xd8-\\xde",CC="\\ufe0e\\ufe0f",TC=s$+o$+a$+l$,L0="[']",u$="["+kf+"]",AC="["+TC+"]",Of="["+wC+"]",PC="\\d+",c$="["+_C+"]",kC="["+SC+"]",OC="[^"+kf+TC+PC+_C+SC+EC+"]",B0="\\ud83c[\\udffb-\\udfff]",h$="(?:"+Of+"|"+B0+")",IC="[^"+kf+"]",N0="(?:\\ud83c[\\udde6-\\uddff]){2}",$0="[\\ud800-\\udbff][\\udc00-\\udfff]",Tl="["+EC+"]",RC="\\u200d",MC="(?:"+kC+"|"+OC+")",d$="(?:"+Tl+"|"+OC+")",FC="(?:"+L0+"(?:d|ll|m|re|s|t|ve))?",DC="(?:"+L0+"(?:D|LL|M|RE|S|T|VE))?",LC=h$+"?",BC="["+CC+"]?",f$="(?:"+RC+"(?:"+[IC,N0,$0].join("|")+")"+BC+LC+")*",p$="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",m$="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",NC=BC+LC+f$,g$="(?:"+[c$,N0,$0].join("|")+")"+NC,v$="(?:"+[IC+Of+"?",Of,N0,$0,u$].join("|")+")",y$=RegExp(L0,"g"),b$=RegExp(Of,"g"),U0=RegExp(B0+"(?="+B0+")|"+v$+NC,"g"),x$=RegExp([Tl+"?"+kC+"+"+FC+"(?="+[AC,Tl,"$"].join("|")+")",d$+"+"+DC+"(?="+[AC,Tl+MC,"$"].join("|")+")",Tl+"?"+MC+"+"+FC,Tl+"+"+DC,m$,p$,PC,g$].join("|"),"g"),w$=RegExp("["+RC+kf+wC+CC+"]"),_$=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,S$=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],E$=-1,Rt={};Rt[Fe]=Rt[ht]=Rt[dt]=Rt[Wn]=Rt[Zr]=Rt[xr]=Rt[Ls]=Rt[Bs]=Rt[It]=!0,Rt[$]=Rt[ne]=Rt[re]=Rt[Ie]=Rt[pe]=Rt[Re]=Rt[Se]=Rt[et]=Rt[rt]=Rt[Ot]=Rt[Dn]=Rt[ki]=Rt[Pn]=Rt[hs]=Rt[va]=!1;var Tt={};Tt[$]=Tt[ne]=Tt[re]=Tt[pe]=Tt[Ie]=Tt[Re]=Tt[Fe]=Tt[ht]=Tt[dt]=Tt[Wn]=Tt[Zr]=Tt[rt]=Tt[Ot]=Tt[Dn]=Tt[ki]=Tt[Pn]=Tt[hs]=Tt[Cl]=Tt[xr]=Tt[Ls]=Tt[Bs]=Tt[It]=!0,Tt[Se]=Tt[et]=Tt[va]=!1;var C$={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},T$={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},A$={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},P$={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},k$=parseFloat,O$=parseInt,$C=typeof hr=="object"&&hr&&hr.Object===Object&&hr,I$=typeof self=="object"&&self&&self.Object===Object&&self,kn=$C||I$||Function("return this")(),z0=e&&!e.nodeType&&e,ya=z0&&!0&&t&&!t.nodeType&&t,UC=ya&&ya.exports===z0,H0=UC&&$C.process,Qr=function(){try{var V=ya&&ya.require&&ya.require("util").types;return V||H0&&H0.binding&&H0.binding("util")}catch{}}(),zC=Qr&&Qr.isArrayBuffer,HC=Qr&&Qr.isDate,jC=Qr&&Qr.isMap,WC=Qr&&Qr.isRegExp,GC=Qr&&Qr.isSet,VC=Qr&&Qr.isTypedArray;function wr(V,ie,J){switch(J.length){case 0:return V.call(ie);case 1:return V.call(ie,J[0]);case 2:return V.call(ie,J[0],J[1]);case 3:return V.call(ie,J[0],J[1],J[2])}return V.apply(ie,J)}function R$(V,ie,J,_e){for(var We=-1,ft=V==null?0:V.length;++We<ft;){var pn=V[We];ie(_e,pn,J(pn),V)}return _e}function Jr(V,ie){for(var J=-1,_e=V==null?0:V.length;++J<_e&&ie(V[J],J,V)!==!1;);return V}function M$(V,ie){for(var J=V==null?0:V.length;J--&&ie(V[J],J,V)!==!1;);return V}function qC(V,ie){for(var J=-1,_e=V==null?0:V.length;++J<_e;)if(!ie(V[J],J,V))return!1;return!0}function So(V,ie){for(var J=-1,_e=V==null?0:V.length,We=0,ft=[];++J<_e;){var pn=V[J];ie(pn,J,V)&&(ft[We++]=pn)}return ft}function If(V,ie){var J=V==null?0:V.length;return!!J&&Al(V,ie,0)>-1}function j0(V,ie,J){for(var _e=-1,We=V==null?0:V.length;++_e<We;)if(J(ie,V[_e]))return!0;return!1}function $t(V,ie){for(var J=-1,_e=V==null?0:V.length,We=Array(_e);++J<_e;)We[J]=ie(V[J],J,V);return We}function Eo(V,ie){for(var J=-1,_e=ie.length,We=V.length;++J<_e;)V[We+J]=ie[J];return V}function W0(V,ie,J,_e){var We=-1,ft=V==null?0:V.length;for(_e&&ft&&(J=V[++We]);++We<ft;)J=ie(J,V[We],We,V);return J}function F$(V,ie,J,_e){var We=V==null?0:V.length;for(_e&&We&&(J=V[--We]);We--;)J=ie(J,V[We],We,V);return J}function G0(V,ie){for(var J=-1,_e=V==null?0:V.length;++J<_e;)if(ie(V[J],J,V))return!0;return!1}var D$=V0("length");function L$(V){return V.split("")}function B$(V){return V.match(GN)||[]}function XC(V,ie,J){var _e;return J(V,function(We,ft,pn){if(ie(We,ft,pn))return _e=ft,!1}),_e}function Rf(V,ie,J,_e){for(var We=V.length,ft=J+(_e?1:-1);_e?ft--:++ft<We;)if(ie(V[ft],ft,V))return ft;return-1}function Al(V,ie,J){return ie===ie?Y$(V,ie,J):Rf(V,YC,J)}function N$(V,ie,J,_e){for(var We=J-1,ft=V.length;++We<ft;)if(_e(V[We],ie))return We;return-1}function YC(V){return V!==V}function KC(V,ie){var J=V==null?0:V.length;return J?X0(V,ie)/J:G}function V0(V){return function(ie){return ie==null?n:ie[V]}}function q0(V){return function(ie){return V==null?n:V[ie]}}function ZC(V,ie,J,_e,We){return We(V,function(ft,pn,Et){J=_e?(_e=!1,ft):ie(J,ft,pn,Et)}),J}function $$(V,ie){var J=V.length;for(V.sort(ie);J--;)V[J]=V[J].value;return V}function X0(V,ie){for(var J,_e=-1,We=V.length;++_e<We;){var ft=ie(V[_e]);ft!==n&&(J=J===n?ft:J+ft)}return J}function Y0(V,ie){for(var J=-1,_e=Array(V);++J<V;)_e[J]=ie(J);return _e}function U$(V,ie){return $t(ie,function(J){return[J,V[J]]})}function QC(V){return V&&V.slice(0,nT(V)+1).replace(D0,"")}function _r(V){return function(ie){return V(ie)}}function K0(V,ie){return $t(ie,function(J){return V[J]})}function Lc(V,ie){return V.has(ie)}function JC(V,ie){for(var J=-1,_e=V.length;++J<_e&&Al(ie,V[J],0)>-1;);return J}function eT(V,ie){for(var J=V.length;J--&&Al(ie,V[J],0)>-1;);return J}function z$(V,ie){for(var J=V.length,_e=0;J--;)V[J]===ie&&++_e;return _e}var H$=q0(C$),j$=q0(T$);function W$(V){return"\\"+P$[V]}function G$(V,ie){return V==null?n:V[ie]}function Pl(V){return w$.test(V)}function V$(V){return _$.test(V)}function q$(V){for(var ie,J=[];!(ie=V.next()).done;)J.push(ie.value);return J}function Z0(V){var ie=-1,J=Array(V.size);return V.forEach(function(_e,We){J[++ie]=[We,_e]}),J}function tT(V,ie){return function(J){return V(ie(J))}}function Co(V,ie){for(var J=-1,_e=V.length,We=0,ft=[];++J<_e;){var pn=V[J];(pn===ie||pn===h)&&(V[J]=h,ft[We++]=J)}return ft}function Mf(V){var ie=-1,J=Array(V.size);return V.forEach(function(_e){J[++ie]=_e}),J}function X$(V){var ie=-1,J=Array(V.size);return V.forEach(function(_e){J[++ie]=[_e,_e]}),J}function Y$(V,ie,J){for(var _e=J-1,We=V.length;++_e<We;)if(V[_e]===ie)return _e;return-1}function K$(V,ie,J){for(var _e=J+1;_e--;)if(V[_e]===ie)return _e;return _e}function kl(V){return Pl(V)?Q$(V):D$(V)}function Ii(V){return Pl(V)?J$(V):L$(V)}function nT(V){for(var ie=V.length;ie--&&zN.test(V.charAt(ie)););return ie}var Z$=q0(A$);function Q$(V){for(var ie=U0.lastIndex=0;U0.test(V);)++ie;return ie}function J$(V){return V.match(U0)||[]}function e6(V){return V.match(x$)||[]}var t6=function V(ie){ie=ie==null?kn:Ol.defaults(kn.Object(),ie,Ol.pick(kn,S$));var J=ie.Array,_e=ie.Date,We=ie.Error,ft=ie.Function,pn=ie.Math,Et=ie.Object,Q0=ie.RegExp,n6=ie.String,ei=ie.TypeError,Ff=J.prototype,r6=ft.prototype,Il=Et.prototype,Df=ie["__core-js_shared__"],Lf=r6.toString,bt=Il.hasOwnProperty,i6=0,rT=function(){var u=/[^.]+$/.exec(Df&&Df.keys&&Df.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),Bf=Il.toString,s6=Lf.call(Et),o6=kn._,a6=Q0("^"+Lf.call(bt).replace(F0,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Nf=UC?ie.Buffer:n,To=ie.Symbol,$f=ie.Uint8Array,iT=Nf?Nf.allocUnsafe:n,Uf=tT(Et.getPrototypeOf,Et),sT=Et.create,oT=Il.propertyIsEnumerable,zf=Ff.splice,aT=To?To.isConcatSpreadable:n,Bc=To?To.iterator:n,ba=To?To.toStringTag:n,Hf=function(){try{var u=Ea(Et,"defineProperty");return u({},"",{}),u}catch{}}(),l6=ie.clearTimeout!==kn.clearTimeout&&ie.clearTimeout,u6=_e&&_e.now!==kn.Date.now&&_e.now,c6=ie.setTimeout!==kn.setTimeout&&ie.setTimeout,jf=pn.ceil,Wf=pn.floor,J0=Et.getOwnPropertySymbols,h6=Nf?Nf.isBuffer:n,lT=ie.isFinite,d6=Ff.join,f6=tT(Et.keys,Et),mn=pn.max,Ln=pn.min,p6=_e.now,m6=ie.parseInt,uT=pn.random,g6=Ff.reverse,ey=Ea(ie,"DataView"),Nc=Ea(ie,"Map"),ty=Ea(ie,"Promise"),Rl=Ea(ie,"Set"),$c=Ea(ie,"WeakMap"),Uc=Ea(Et,"create"),Gf=$c&&new $c,Ml={},v6=Ca(ey),y6=Ca(Nc),b6=Ca(ty),x6=Ca(Rl),w6=Ca($c),Vf=To?To.prototype:n,zc=Vf?Vf.valueOf:n,cT=Vf?Vf.toString:n;function I(u){if(Zt(u)&&!Ge(u)&&!(u instanceof it)){if(u instanceof ti)return u;if(bt.call(u,"__wrapped__"))return hA(u)}return new ti(u)}var Fl=function(){function u(){}return function(d){if(!Gt(d))return{};if(sT)return sT(d);u.prototype=d;var g=new u;return u.prototype=n,g}}();function qf(){}function ti(u,d){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=n}I.templateSettings={escape:DN,evaluate:LN,interpolate:bC,variable:"",imports:{_:I}},I.prototype=qf.prototype,I.prototype.constructor=I,ti.prototype=Fl(qf.prototype),ti.prototype.constructor=ti;function it(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=R,this.__views__=[]}function _6(){var u=new it(this.__wrapped__);return u.__actions__=ir(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=ir(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=ir(this.__views__),u}function S6(){if(this.__filtered__){var u=new it(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function E6(){var u=this.__wrapped__.value(),d=this.__dir__,g=Ge(u),S=d<0,C=g?u.length:0,M=L8(0,C,this.__views__),N=M.start,U=M.end,X=U-N,se=S?U:N-1,ae=this.__iteratees__,ue=ae.length,ye=0,Ce=Ln(X,this.__takeCount__);if(!g||!S&&C==X&&Ce==X)return FT(u,this.__actions__);var Be=[];e:for(;X--&&ye<Ce;){se+=d;for(var Ze=-1,Ne=u[se];++Ze<ue;){var nt=ae[Ze],ot=nt.iteratee,Cr=nt.type,qn=ot(Ne);if(Cr==de)Ne=qn;else if(!qn){if(Cr==Y)continue e;break e}}Be[ye++]=Ne}return Be}it.prototype=Fl(qf.prototype),it.prototype.constructor=it;function xa(u){var d=-1,g=u==null?0:u.length;for(this.clear();++d<g;){var S=u[d];this.set(S[0],S[1])}}function C6(){this.__data__=Uc?Uc(null):{},this.size=0}function T6(u){var d=this.has(u)&&delete this.__data__[u];return this.size-=d?1:0,d}function A6(u){var d=this.__data__;if(Uc){var g=d[u];return g===l?n:g}return bt.call(d,u)?d[u]:n}function P6(u){var d=this.__data__;return Uc?d[u]!==n:bt.call(d,u)}function k6(u,d){var g=this.__data__;return this.size+=this.has(u)?0:1,g[u]=Uc&&d===n?l:d,this}xa.prototype.clear=C6,xa.prototype.delete=T6,xa.prototype.get=A6,xa.prototype.has=P6,xa.prototype.set=k6;function Ns(u){var d=-1,g=u==null?0:u.length;for(this.clear();++d<g;){var S=u[d];this.set(S[0],S[1])}}function O6(){this.__data__=[],this.size=0}function I6(u){var d=this.__data__,g=Xf(d,u);if(g<0)return!1;var S=d.length-1;return g==S?d.pop():zf.call(d,g,1),--this.size,!0}function R6(u){var d=this.__data__,g=Xf(d,u);return g<0?n:d[g][1]}function M6(u){return Xf(this.__data__,u)>-1}function F6(u,d){var g=this.__data__,S=Xf(g,u);return S<0?(++this.size,g.push([u,d])):g[S][1]=d,this}Ns.prototype.clear=O6,Ns.prototype.delete=I6,Ns.prototype.get=R6,Ns.prototype.has=M6,Ns.prototype.set=F6;function $s(u){var d=-1,g=u==null?0:u.length;for(this.clear();++d<g;){var S=u[d];this.set(S[0],S[1])}}function D6(){this.size=0,this.__data__={hash:new xa,map:new(Nc||Ns),string:new xa}}function L6(u){var d=op(this,u).delete(u);return this.size-=d?1:0,d}function B6(u){return op(this,u).get(u)}function N6(u){return op(this,u).has(u)}function $6(u,d){var g=op(this,u),S=g.size;return g.set(u,d),this.size+=g.size==S?0:1,this}$s.prototype.clear=D6,$s.prototype.delete=L6,$s.prototype.get=B6,$s.prototype.has=N6,$s.prototype.set=$6;function wa(u){var d=-1,g=u==null?0:u.length;for(this.__data__=new $s;++d<g;)this.add(u[d])}function U6(u){return this.__data__.set(u,l),this}function z6(u){return this.__data__.has(u)}wa.prototype.add=wa.prototype.push=U6,wa.prototype.has=z6;function Ri(u){var d=this.__data__=new Ns(u);this.size=d.size}function H6(){this.__data__=new Ns,this.size=0}function j6(u){var d=this.__data__,g=d.delete(u);return this.size=d.size,g}function W6(u){return this.__data__.get(u)}function G6(u){return this.__data__.has(u)}function V6(u,d){var g=this.__data__;if(g instanceof Ns){var S=g.__data__;if(!Nc||S.length<i-1)return S.push([u,d]),this.size=++g.size,this;g=this.__data__=new $s(S)}return g.set(u,d),this.size=g.size,this}Ri.prototype.clear=H6,Ri.prototype.delete=j6,Ri.prototype.get=W6,Ri.prototype.has=G6,Ri.prototype.set=V6;function hT(u,d){var g=Ge(u),S=!g&&Ta(u),C=!g&&!S&&Io(u),M=!g&&!S&&!C&&Nl(u),N=g||S||C||M,U=N?Y0(u.length,n6):[],X=U.length;for(var se in u)(d||bt.call(u,se))&&!(N&&(se=="length"||C&&(se=="offset"||se=="parent")||M&&(se=="buffer"||se=="byteLength"||se=="byteOffset")||js(se,X)))&&U.push(se);return U}function dT(u){var d=u.length;return d?u[dy(0,d-1)]:n}function q6(u,d){return ap(ir(u),_a(d,0,u.length))}function X6(u){return ap(ir(u))}function ny(u,d,g){(g!==n&&!Mi(u[d],g)||g===n&&!(d in u))&&Us(u,d,g)}function Hc(u,d,g){var S=u[d];(!(bt.call(u,d)&&Mi(S,g))||g===n&&!(d in u))&&Us(u,d,g)}function Xf(u,d){for(var g=u.length;g--;)if(Mi(u[g][0],d))return g;return-1}function Y6(u,d,g,S){return Ao(u,function(C,M,N){d(S,C,g(C),N)}),S}function fT(u,d){return u&&fs(d,bn(d),u)}function K6(u,d){return u&&fs(d,or(d),u)}function Us(u,d,g){d=="__proto__"&&Hf?Hf(u,d,{configurable:!0,enumerable:!0,value:g,writable:!0}):u[d]=g}function ry(u,d){for(var g=-1,S=d.length,C=J(S),M=u==null;++g<S;)C[g]=M?n:By(u,d[g]);return C}function _a(u,d,g){return u===u&&(g!==n&&(u=u<=g?u:g),d!==n&&(u=u>=d?u:d)),u}function ni(u,d,g,S,C,M){var N,U=d&f,X=d&p,se=d&m;if(g&&(N=C?g(u,S,C,M):g(u)),N!==n)return N;if(!Gt(u))return u;var ae=Ge(u);if(ae){if(N=N8(u),!U)return ir(u,N)}else{var ue=Bn(u),ye=ue==et||ue==tt;if(Io(u))return BT(u,U);if(ue==Dn||ue==$||ye&&!C){if(N=X||ye?{}:nA(u),!U)return X?A8(u,K6(N,u)):T8(u,fT(N,u))}else{if(!Tt[ue])return C?u:{};N=$8(u,ue,U)}}M||(M=new Ri);var Ce=M.get(u);if(Ce)return Ce;M.set(u,N),IA(u)?u.forEach(function(Ne){N.add(ni(Ne,d,g,Ne,u,M))}):kA(u)&&u.forEach(function(Ne,nt){N.set(nt,ni(Ne,d,g,nt,u,M))});var Be=se?X?Sy:_y:X?or:bn,Ze=ae?n:Be(u);return Jr(Ze||u,function(Ne,nt){Ze&&(nt=Ne,Ne=u[nt]),Hc(N,nt,ni(Ne,d,g,nt,u,M))}),N}function Z6(u){var d=bn(u);return function(g){return pT(g,u,d)}}function pT(u,d,g){var S=g.length;if(u==null)return!S;for(u=Et(u);S--;){var C=g[S],M=d[C],N=u[C];if(N===n&&!(C in u)||!M(N))return!1}return!0}function mT(u,d,g){if(typeof u!="function")throw new ei(o);return Yc(function(){u.apply(n,g)},d)}function jc(u,d,g,S){var C=-1,M=If,N=!0,U=u.length,X=[],se=d.length;if(!U)return X;g&&(d=$t(d,_r(g))),S?(M=j0,N=!1):d.length>=i&&(M=Lc,N=!1,d=new wa(d));e:for(;++C<U;){var ae=u[C],ue=g==null?ae:g(ae);if(ae=S||ae!==0?ae:0,N&&ue===ue){for(var ye=se;ye--;)if(d[ye]===ue)continue e;X.push(ae)}else M(d,ue,S)||X.push(ae)}return X}var Ao=HT(ds),gT=HT(sy,!0);function Q6(u,d){var g=!0;return Ao(u,function(S,C,M){return g=!!d(S,C,M),g}),g}function Yf(u,d,g){for(var S=-1,C=u.length;++S<C;){var M=u[S],N=d(M);if(N!=null&&(U===n?N===N&&!Er(N):g(N,U)))var U=N,X=M}return X}function J6(u,d,g,S){var C=u.length;for(g=Xe(g),g<0&&(g=-g>C?0:C+g),S=S===n||S>C?C:Xe(S),S<0&&(S+=C),S=g>S?0:MA(S);g<S;)u[g++]=d;return u}function vT(u,d){var g=[];return Ao(u,function(S,C,M){d(S,C,M)&&g.push(S)}),g}function On(u,d,g,S,C){var M=-1,N=u.length;for(g||(g=z8),C||(C=[]);++M<N;){var U=u[M];d>0&&g(U)?d>1?On(U,d-1,g,S,C):Eo(C,U):S||(C[C.length]=U)}return C}var iy=jT(),yT=jT(!0);function ds(u,d){return u&&iy(u,d,bn)}function sy(u,d){return u&&yT(u,d,bn)}function Kf(u,d){return So(d,function(g){return Ws(u[g])})}function Sa(u,d){d=ko(d,u);for(var g=0,S=d.length;u!=null&&g<S;)u=u[ps(d[g++])];return g&&g==S?u:n}function bT(u,d,g){var S=d(u);return Ge(u)?S:Eo(S,g(u))}function Gn(u){return u==null?u===n?R0:Kr:ba&&ba in Et(u)?D8(u):X8(u)}function oy(u,d){return u>d}function e8(u,d){return u!=null&&bt.call(u,d)}function t8(u,d){return u!=null&&d in Et(u)}function n8(u,d,g){return u>=Ln(d,g)&&u<mn(d,g)}function ay(u,d,g){for(var S=g?j0:If,C=u[0].length,M=u.length,N=M,U=J(M),X=1/0,se=[];N--;){var ae=u[N];N&&d&&(ae=$t(ae,_r(d))),X=Ln(ae.length,X),U[N]=!g&&(d||C>=120&&ae.length>=120)?new wa(N&&ae):n}ae=u[0];var ue=-1,ye=U[0];e:for(;++ue<C&&se.length<X;){var Ce=ae[ue],Be=d?d(Ce):Ce;if(Ce=g||Ce!==0?Ce:0,!(ye?Lc(ye,Be):S(se,Be,g))){for(N=M;--N;){var Ze=U[N];if(!(Ze?Lc(Ze,Be):S(u[N],Be,g)))continue e}ye&&ye.push(Be),se.push(Ce)}}return se}function r8(u,d,g,S){return ds(u,function(C,M,N){d(S,g(C),M,N)}),S}function Wc(u,d,g){d=ko(d,u),u=oA(u,d);var S=u==null?u:u[ps(ii(d))];return S==null?n:wr(S,u,g)}function xT(u){return Zt(u)&&Gn(u)==$}function i8(u){return Zt(u)&&Gn(u)==re}function s8(u){return Zt(u)&&Gn(u)==Re}function Gc(u,d,g,S,C){return u===d?!0:u==null||d==null||!Zt(u)&&!Zt(d)?u!==u&&d!==d:o8(u,d,g,S,Gc,C)}function o8(u,d,g,S,C,M){var N=Ge(u),U=Ge(d),X=N?ne:Bn(u),se=U?ne:Bn(d);X=X==$?Dn:X,se=se==$?Dn:se;var ae=X==Dn,ue=se==Dn,ye=X==se;if(ye&&Io(u)){if(!Io(d))return!1;N=!0,ae=!1}if(ye&&!ae)return M||(M=new Ri),N||Nl(u)?JT(u,d,g,S,C,M):M8(u,d,X,g,S,C,M);if(!(g&v)){var Ce=ae&&bt.call(u,"__wrapped__"),Be=ue&&bt.call(d,"__wrapped__");if(Ce||Be){var Ze=Ce?u.value():u,Ne=Be?d.value():d;return M||(M=new Ri),C(Ze,Ne,g,S,M)}}return ye?(M||(M=new Ri),F8(u,d,g,S,C,M)):!1}function a8(u){return Zt(u)&&Bn(u)==rt}function ly(u,d,g,S){var C=g.length,M=C,N=!S;if(u==null)return!M;for(u=Et(u);C--;){var U=g[C];if(N&&U[2]?U[1]!==u[U[0]]:!(U[0]in u))return!1}for(;++C<M;){U=g[C];var X=U[0],se=u[X],ae=U[1];if(N&&U[2]){if(se===n&&!(X in u))return!1}else{var ue=new Ri;if(S)var ye=S(se,ae,X,u,d,ue);if(!(ye===n?Gc(ae,se,v|y,S,ue):ye))return!1}}return!0}function wT(u){if(!Gt(u)||j8(u))return!1;var d=Ws(u)?a6:ZN;return d.test(Ca(u))}function l8(u){return Zt(u)&&Gn(u)==ki}function u8(u){return Zt(u)&&Bn(u)==Pn}function c8(u){return Zt(u)&&fp(u.length)&&!!Rt[Gn(u)]}function _T(u){return typeof u=="function"?u:u==null?ar:typeof u=="object"?Ge(u)?CT(u[0],u[1]):ET(u):WA(u)}function uy(u){if(!Xc(u))return f6(u);var d=[];for(var g in Et(u))bt.call(u,g)&&g!="constructor"&&d.push(g);return d}function h8(u){if(!Gt(u))return q8(u);var d=Xc(u),g=[];for(var S in u)S=="constructor"&&(d||!bt.call(u,S))||g.push(S);return g}function cy(u,d){return u<d}function ST(u,d){var g=-1,S=sr(u)?J(u.length):[];return Ao(u,function(C,M,N){S[++g]=d(C,M,N)}),S}function ET(u){var d=Cy(u);return d.length==1&&d[0][2]?iA(d[0][0],d[0][1]):function(g){return g===u||ly(g,u,d)}}function CT(u,d){return Ay(u)&&rA(d)?iA(ps(u),d):function(g){var S=By(g,u);return S===n&&S===d?Ny(g,u):Gc(d,S,v|y)}}function Zf(u,d,g,S,C){u!==d&&iy(d,function(M,N){if(C||(C=new Ri),Gt(M))d8(u,d,N,g,Zf,S,C);else{var U=S?S(ky(u,N),M,N+"",u,d,C):n;U===n&&(U=M),ny(u,N,U)}},or)}function d8(u,d,g,S,C,M,N){var U=ky(u,g),X=ky(d,g),se=N.get(X);if(se){ny(u,g,se);return}var ae=M?M(U,X,g+"",u,d,N):n,ue=ae===n;if(ue){var ye=Ge(X),Ce=!ye&&Io(X),Be=!ye&&!Ce&&Nl(X);ae=X,ye||Ce||Be?Ge(U)?ae=U:rn(U)?ae=ir(U):Ce?(ue=!1,ae=BT(X,!0)):Be?(ue=!1,ae=NT(X,!0)):ae=[]:Kc(X)||Ta(X)?(ae=U,Ta(U)?ae=FA(U):(!Gt(U)||Ws(U))&&(ae=nA(X))):ue=!1}ue&&(N.set(X,ae),C(ae,X,S,M,N),N.delete(X)),ny(u,g,ae)}function TT(u,d){var g=u.length;if(g)return d+=d<0?g:0,js(d,g)?u[d]:n}function AT(u,d,g){d.length?d=$t(d,function(M){return Ge(M)?function(N){return Sa(N,M.length===1?M[0]:M)}:M}):d=[ar];var S=-1;d=$t(d,_r(De()));var C=ST(u,function(M,N,U){var X=$t(d,function(se){return se(M)});return{criteria:X,index:++S,value:M}});return $$(C,function(M,N){return C8(M,N,g)})}function f8(u,d){return PT(u,d,function(g,S){return Ny(u,S)})}function PT(u,d,g){for(var S=-1,C=d.length,M={};++S<C;){var N=d[S],U=Sa(u,N);g(U,N)&&Vc(M,ko(N,u),U)}return M}function p8(u){return function(d){return Sa(d,u)}}function hy(u,d,g,S){var C=S?N$:Al,M=-1,N=d.length,U=u;for(u===d&&(d=ir(d)),g&&(U=$t(u,_r(g)));++M<N;)for(var X=0,se=d[M],ae=g?g(se):se;(X=C(U,ae,X,S))>-1;)U!==u&&zf.call(U,X,1),zf.call(u,X,1);return u}function kT(u,d){for(var g=u?d.length:0,S=g-1;g--;){var C=d[g];if(g==S||C!==M){var M=C;js(C)?zf.call(u,C,1):my(u,C)}}return u}function dy(u,d){return u+Wf(uT()*(d-u+1))}function m8(u,d,g,S){for(var C=-1,M=mn(jf((d-u)/(g||1)),0),N=J(M);M--;)N[S?M:++C]=u,u+=g;return N}function fy(u,d){var g="";if(!u||d<1||d>Z)return g;do d%2&&(g+=u),d=Wf(d/2),d&&(u+=u);while(d);return g}function Je(u,d){return Oy(sA(u,d,ar),u+"")}function g8(u){return dT($l(u))}function v8(u,d){var g=$l(u);return ap(g,_a(d,0,g.length))}function Vc(u,d,g,S){if(!Gt(u))return u;d=ko(d,u);for(var C=-1,M=d.length,N=M-1,U=u;U!=null&&++C<M;){var X=ps(d[C]),se=g;if(X==="__proto__"||X==="constructor"||X==="prototype")return u;if(C!=N){var ae=U[X];se=S?S(ae,X,U):n,se===n&&(se=Gt(ae)?ae:js(d[C+1])?[]:{})}Hc(U,X,se),U=U[X]}return u}var OT=Gf?function(u,d){return Gf.set(u,d),u}:ar,y8=Hf?function(u,d){return Hf(u,"toString",{configurable:!0,enumerable:!1,value:Uy(d),writable:!0})}:ar;function b8(u){return ap($l(u))}function ri(u,d,g){var S=-1,C=u.length;d<0&&(d=-d>C?0:C+d),g=g>C?C:g,g<0&&(g+=C),C=d>g?0:g-d>>>0,d>>>=0;for(var M=J(C);++S<C;)M[S]=u[S+d];return M}function x8(u,d){var g;return Ao(u,function(S,C,M){return g=d(S,C,M),!g}),!!g}function Qf(u,d,g){var S=0,C=u==null?S:u.length;if(typeof d=="number"&&d===d&&C<=Q){for(;S<C;){var M=S+C>>>1,N=u[M];N!==null&&!Er(N)&&(g?N<=d:N<d)?S=M+1:C=M}return C}return py(u,d,ar,g)}function py(u,d,g,S){var C=0,M=u==null?0:u.length;if(M===0)return 0;d=g(d);for(var N=d!==d,U=d===null,X=Er(d),se=d===n;C<M;){var ae=Wf((C+M)/2),ue=g(u[ae]),ye=ue!==n,Ce=ue===null,Be=ue===ue,Ze=Er(ue);if(N)var Ne=S||Be;else se?Ne=Be&&(S||ye):U?Ne=Be&&ye&&(S||!Ce):X?Ne=Be&&ye&&!Ce&&(S||!Ze):Ce||Ze?Ne=!1:Ne=S?ue<=d:ue<d;Ne?C=ae+1:M=ae}return Ln(M,D)}function IT(u,d){for(var g=-1,S=u.length,C=0,M=[];++g<S;){var N=u[g],U=d?d(N):N;if(!g||!Mi(U,X)){var X=U;M[C++]=N===0?0:N}}return M}function RT(u){return typeof u=="number"?u:Er(u)?G:+u}function Sr(u){if(typeof u=="string")return u;if(Ge(u))return $t(u,Sr)+"";if(Er(u))return cT?cT.call(u):"";var d=u+"";return d=="0"&&1/u==-te?"-0":d}function Po(u,d,g){var S=-1,C=If,M=u.length,N=!0,U=[],X=U;if(g)N=!1,C=j0;else if(M>=i){var se=d?null:I8(u);if(se)return Mf(se);N=!1,C=Lc,X=new wa}else X=d?[]:U;e:for(;++S<M;){var ae=u[S],ue=d?d(ae):ae;if(ae=g||ae!==0?ae:0,N&&ue===ue){for(var ye=X.length;ye--;)if(X[ye]===ue)continue e;d&&X.push(ue),U.push(ae)}else C(X,ue,g)||(X!==U&&X.push(ue),U.push(ae))}return U}function my(u,d){return d=ko(d,u),u=oA(u,d),u==null||delete u[ps(ii(d))]}function MT(u,d,g,S){return Vc(u,d,g(Sa(u,d)),S)}function Jf(u,d,g,S){for(var C=u.length,M=S?C:-1;(S?M--:++M<C)&&d(u[M],M,u););return g?ri(u,S?0:M,S?M+1:C):ri(u,S?M+1:0,S?C:M)}function FT(u,d){var g=u;return g instanceof it&&(g=g.value()),W0(d,function(S,C){return C.func.apply(C.thisArg,Eo([S],C.args))},g)}function gy(u,d,g){var S=u.length;if(S<2)return S?Po(u[0]):[];for(var C=-1,M=J(S);++C<S;)for(var N=u[C],U=-1;++U<S;)U!=C&&(M[C]=jc(M[C]||N,u[U],d,g));return Po(On(M,1),d,g)}function DT(u,d,g){for(var S=-1,C=u.length,M=d.length,N={};++S<C;){var U=S<M?d[S]:n;g(N,u[S],U)}return N}function vy(u){return rn(u)?u:[]}function yy(u){return typeof u=="function"?u:ar}function ko(u,d){return Ge(u)?u:Ay(u,d)?[u]:cA(mt(u))}var w8=Je;function Oo(u,d,g){var S=u.length;return g=g===n?S:g,!d&&g>=S?u:ri(u,d,g)}var LT=l6||function(u){return kn.clearTimeout(u)};function BT(u,d){if(d)return u.slice();var g=u.length,S=iT?iT(g):new u.constructor(g);return u.copy(S),S}function by(u){var d=new u.constructor(u.byteLength);return new $f(d).set(new $f(u)),d}function _8(u,d){var g=d?by(u.buffer):u.buffer;return new u.constructor(g,u.byteOffset,u.byteLength)}function S8(u){var d=new u.constructor(u.source,xC.exec(u));return d.lastIndex=u.lastIndex,d}function E8(u){return zc?Et(zc.call(u)):{}}function NT(u,d){var g=d?by(u.buffer):u.buffer;return new u.constructor(g,u.byteOffset,u.length)}function $T(u,d){if(u!==d){var g=u!==n,S=u===null,C=u===u,M=Er(u),N=d!==n,U=d===null,X=d===d,se=Er(d);if(!U&&!se&&!M&&u>d||M&&N&&X&&!U&&!se||S&&N&&X||!g&&X||!C)return 1;if(!S&&!M&&!se&&u<d||se&&g&&C&&!S&&!M||U&&g&&C||!N&&C||!X)return-1}return 0}function C8(u,d,g){for(var S=-1,C=u.criteria,M=d.criteria,N=C.length,U=g.length;++S<N;){var X=$T(C[S],M[S]);if(X){if(S>=U)return X;var se=g[S];return X*(se=="desc"?-1:1)}}return u.index-d.index}function UT(u,d,g,S){for(var C=-1,M=u.length,N=g.length,U=-1,X=d.length,se=mn(M-N,0),ae=J(X+se),ue=!S;++U<X;)ae[U]=d[U];for(;++C<N;)(ue||C<M)&&(ae[g[C]]=u[C]);for(;se--;)ae[U++]=u[C++];return ae}function zT(u,d,g,S){for(var C=-1,M=u.length,N=-1,U=g.length,X=-1,se=d.length,ae=mn(M-U,0),ue=J(ae+se),ye=!S;++C<ae;)ue[C]=u[C];for(var Ce=C;++X<se;)ue[Ce+X]=d[X];for(;++N<U;)(ye||C<M)&&(ue[Ce+g[N]]=u[C++]);return ue}function ir(u,d){var g=-1,S=u.length;for(d||(d=J(S));++g<S;)d[g]=u[g];return d}function fs(u,d,g,S){var C=!g;g||(g={});for(var M=-1,N=d.length;++M<N;){var U=d[M],X=S?S(g[U],u[U],U,g,u):n;X===n&&(X=u[U]),C?Us(g,U,X):Hc(g,U,X)}return g}function T8(u,d){return fs(u,Ty(u),d)}function A8(u,d){return fs(u,eA(u),d)}function ep(u,d){return function(g,S){var C=Ge(g)?R$:Y6,M=d?d():{};return C(g,u,De(S,2),M)}}function Dl(u){return Je(function(d,g){var S=-1,C=g.length,M=C>1?g[C-1]:n,N=C>2?g[2]:n;for(M=u.length>3&&typeof M=="function"?(C--,M):n,N&&Vn(g[0],g[1],N)&&(M=C<3?n:M,C=1),d=Et(d);++S<C;){var U=g[S];U&&u(d,U,S,M)}return d})}function HT(u,d){return function(g,S){if(g==null)return g;if(!sr(g))return u(g,S);for(var C=g.length,M=d?C:-1,N=Et(g);(d?M--:++M<C)&&S(N[M],M,N)!==!1;);return g}}function jT(u){return function(d,g,S){for(var C=-1,M=Et(d),N=S(d),U=N.length;U--;){var X=N[u?U:++C];if(g(M[X],X,M)===!1)break}return d}}function P8(u,d,g){var S=d&x,C=qc(u);function M(){var N=this&&this!==kn&&this instanceof M?C:u;return N.apply(S?g:this,arguments)}return M}function WT(u){return function(d){d=mt(d);var g=Pl(d)?Ii(d):n,S=g?g[0]:d.charAt(0),C=g?Oo(g,1).join(""):d.slice(1);return S[u]()+C}}function Ll(u){return function(d){return W0(HA(zA(d).replace(y$,"")),u,"")}}function qc(u){return function(){var d=arguments;switch(d.length){case 0:return new u;case 1:return new u(d[0]);case 2:return new u(d[0],d[1]);case 3:return new u(d[0],d[1],d[2]);case 4:return new u(d[0],d[1],d[2],d[3]);case 5:return new u(d[0],d[1],d[2],d[3],d[4]);case 6:return new u(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new u(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var g=Fl(u.prototype),S=u.apply(g,d);return Gt(S)?S:g}}function k8(u,d,g){var S=qc(u);function C(){for(var M=arguments.length,N=J(M),U=M,X=Bl(C);U--;)N[U]=arguments[U];var se=M<3&&N[0]!==X&&N[M-1]!==X?[]:Co(N,X);if(M-=se.length,M<g)return YT(u,d,tp,C.placeholder,n,N,se,n,n,g-M);var ae=this&&this!==kn&&this instanceof C?S:u;return wr(ae,this,N)}return C}function GT(u){return function(d,g,S){var C=Et(d);if(!sr(d)){var M=De(g,3);d=bn(d),g=function(U){return M(C[U],U,C)}}var N=u(d,g,S);return N>-1?C[M?d[N]:N]:n}}function VT(u){return Hs(function(d){var g=d.length,S=g,C=ti.prototype.thru;for(u&&d.reverse();S--;){var M=d[S];if(typeof M!="function")throw new ei(o);if(C&&!N&&sp(M)=="wrapper")var N=new ti([],!0)}for(S=N?S:g;++S<g;){M=d[S];var U=sp(M),X=U=="wrapper"?Ey(M):n;X&&Py(X[0])&&X[1]==(F|w|O|L)&&!X[4].length&&X[9]==1?N=N[sp(X[0])].apply(N,X[3]):N=M.length==1&&Py(M)?N[U]():N.thru(M)}return function(){var se=arguments,ae=se[0];if(N&&se.length==1&&Ge(ae))return N.plant(ae).value();for(var ue=0,ye=g?d[ue].apply(this,se):ae;++ue<g;)ye=d[ue].call(this,ye);return ye}})}function tp(u,d,g,S,C,M,N,U,X,se){var ae=d&F,ue=d&x,ye=d&b,Ce=d&(w|E),Be=d&H,Ze=ye?n:qc(u);function Ne(){for(var nt=arguments.length,ot=J(nt),Cr=nt;Cr--;)ot[Cr]=arguments[Cr];if(Ce)var qn=Bl(Ne),Tr=z$(ot,qn);if(S&&(ot=UT(ot,S,C,Ce)),M&&(ot=zT(ot,M,N,Ce)),nt-=Tr,Ce&&nt<se){var sn=Co(ot,qn);return YT(u,d,tp,Ne.placeholder,g,ot,sn,U,X,se-nt)}var Fi=ue?g:this,Vs=ye?Fi[u]:u;return nt=ot.length,U?ot=Y8(ot,U):Be&&nt>1&&ot.reverse(),ae&&X<nt&&(ot.length=X),this&&this!==kn&&this instanceof Ne&&(Vs=Ze||qc(Vs)),Vs.apply(Fi,ot)}return Ne}function qT(u,d){return function(g,S){return r8(g,u,d(S),{})}}function np(u,d){return function(g,S){var C;if(g===n&&S===n)return d;if(g!==n&&(C=g),S!==n){if(C===n)return S;typeof g=="string"||typeof S=="string"?(g=Sr(g),S=Sr(S)):(g=RT(g),S=RT(S)),C=u(g,S)}return C}}function xy(u){return Hs(function(d){return d=$t(d,_r(De())),Je(function(g){var S=this;return u(d,function(C){return wr(C,S,g)})})})}function rp(u,d){d=d===n?" ":Sr(d);var g=d.length;if(g<2)return g?fy(d,u):d;var S=fy(d,jf(u/kl(d)));return Pl(d)?Oo(Ii(S),0,u).join(""):S.slice(0,u)}function O8(u,d,g,S){var C=d&x,M=qc(u);function N(){for(var U=-1,X=arguments.length,se=-1,ae=S.length,ue=J(ae+X),ye=this&&this!==kn&&this instanceof N?M:u;++se<ae;)ue[se]=S[se];for(;X--;)ue[se++]=arguments[++U];return wr(ye,C?g:this,ue)}return N}function XT(u){return function(d,g,S){return S&&typeof S!="number"&&Vn(d,g,S)&&(g=S=n),d=Gs(d),g===n?(g=d,d=0):g=Gs(g),S=S===n?d<g?1:-1:Gs(S),m8(d,g,S,u)}}function ip(u){return function(d,g){return typeof d=="string"&&typeof g=="string"||(d=si(d),g=si(g)),u(d,g)}}function YT(u,d,g,S,C,M,N,U,X,se){var ae=d&w,ue=ae?N:n,ye=ae?n:N,Ce=ae?M:n,Be=ae?n:M;d|=ae?O:A,d&=~(ae?A:O),d&_||(d&=~(x|b));var Ze=[u,d,C,Ce,ue,Be,ye,U,X,se],Ne=g.apply(n,Ze);return Py(u)&&aA(Ne,Ze),Ne.placeholder=S,lA(Ne,u,d)}function wy(u){var d=pn[u];return function(g,S){if(g=si(g),S=S==null?0:Ln(Xe(S),292),S&&lT(g)){var C=(mt(g)+"e").split("e"),M=d(C[0]+"e"+(+C[1]+S));return C=(mt(M)+"e").split("e"),+(C[0]+"e"+(+C[1]-S))}return d(g)}}var I8=Rl&&1/Mf(new Rl([,-0]))[1]==te?function(u){return new Rl(u)}:jy;function KT(u){return function(d){var g=Bn(d);return g==rt?Z0(d):g==Pn?X$(d):U$(d,u(d))}}function zs(u,d,g,S,C,M,N,U){var X=d&b;if(!X&&typeof u!="function")throw new ei(o);var se=S?S.length:0;if(se||(d&=~(O|A),S=C=n),N=N===n?N:mn(Xe(N),0),U=U===n?U:Xe(U),se-=C?C.length:0,d&A){var ae=S,ue=C;S=C=n}var ye=X?n:Ey(u),Ce=[u,d,g,S,C,ae,ue,M,N,U];if(ye&&V8(Ce,ye),u=Ce[0],d=Ce[1],g=Ce[2],S=Ce[3],C=Ce[4],U=Ce[9]=Ce[9]===n?X?0:u.length:mn(Ce[9]-se,0),!U&&d&(w|E)&&(d&=~(w|E)),!d||d==x)var Be=P8(u,d,g);else d==w||d==E?Be=k8(u,d,U):(d==O||d==(x|O))&&!C.length?Be=O8(u,d,g,S):Be=tp.apply(n,Ce);var Ze=ye?OT:aA;return lA(Ze(Be,Ce),u,d)}function ZT(u,d,g,S){return u===n||Mi(u,Il[g])&&!bt.call(S,g)?d:u}function QT(u,d,g,S,C,M){return Gt(u)&&Gt(d)&&(M.set(d,u),Zf(u,d,n,QT,M),M.delete(d)),u}function R8(u){return Kc(u)?n:u}function JT(u,d,g,S,C,M){var N=g&v,U=u.length,X=d.length;if(U!=X&&!(N&&X>U))return!1;var se=M.get(u),ae=M.get(d);if(se&&ae)return se==d&&ae==u;var ue=-1,ye=!0,Ce=g&y?new wa:n;for(M.set(u,d),M.set(d,u);++ue<U;){var Be=u[ue],Ze=d[ue];if(S)var Ne=N?S(Ze,Be,ue,d,u,M):S(Be,Ze,ue,u,d,M);if(Ne!==n){if(Ne)continue;ye=!1;break}if(Ce){if(!G0(d,function(nt,ot){if(!Lc(Ce,ot)&&(Be===nt||C(Be,nt,g,S,M)))return Ce.push(ot)})){ye=!1;break}}else if(!(Be===Ze||C(Be,Ze,g,S,M))){ye=!1;break}}return M.delete(u),M.delete(d),ye}function M8(u,d,g,S,C,M,N){switch(g){case pe:if(u.byteLength!=d.byteLength||u.byteOffset!=d.byteOffset)return!1;u=u.buffer,d=d.buffer;case re:return!(u.byteLength!=d.byteLength||!M(new $f(u),new $f(d)));case Ie:case Re:case Ot:return Mi(+u,+d);case Se:return u.name==d.name&&u.message==d.message;case ki:case hs:return u==d+"";case rt:var U=Z0;case Pn:var X=S&v;if(U||(U=Mf),u.size!=d.size&&!X)return!1;var se=N.get(u);if(se)return se==d;S|=y,N.set(u,d);var ae=JT(U(u),U(d),S,C,M,N);return N.delete(u),ae;case Cl:if(zc)return zc.call(u)==zc.call(d)}return!1}function F8(u,d,g,S,C,M){var N=g&v,U=_y(u),X=U.length,se=_y(d),ae=se.length;if(X!=ae&&!N)return!1;for(var ue=X;ue--;){var ye=U[ue];if(!(N?ye in d:bt.call(d,ye)))return!1}var Ce=M.get(u),Be=M.get(d);if(Ce&&Be)return Ce==d&&Be==u;var Ze=!0;M.set(u,d),M.set(d,u);for(var Ne=N;++ue<X;){ye=U[ue];var nt=u[ye],ot=d[ye];if(S)var Cr=N?S(ot,nt,ye,d,u,M):S(nt,ot,ye,u,d,M);if(!(Cr===n?nt===ot||C(nt,ot,g,S,M):Cr)){Ze=!1;break}Ne||(Ne=ye=="constructor")}if(Ze&&!Ne){var qn=u.constructor,Tr=d.constructor;qn!=Tr&&"constructor"in u&&"constructor"in d&&!(typeof qn=="function"&&qn instanceof qn&&typeof Tr=="function"&&Tr instanceof Tr)&&(Ze=!1)}return M.delete(u),M.delete(d),Ze}function Hs(u){return Oy(sA(u,n,pA),u+"")}function _y(u){return bT(u,bn,Ty)}function Sy(u){return bT(u,or,eA)}var Ey=Gf?function(u){return Gf.get(u)}:jy;function sp(u){for(var d=u.name+"",g=Ml[d],S=bt.call(Ml,d)?g.length:0;S--;){var C=g[S],M=C.func;if(M==null||M==u)return C.name}return d}function Bl(u){var d=bt.call(I,"placeholder")?I:u;return d.placeholder}function De(){var u=I.iteratee||zy;return u=u===zy?_T:u,arguments.length?u(arguments[0],arguments[1]):u}function op(u,d){var g=u.__data__;return H8(d)?g[typeof d=="string"?"string":"hash"]:g.map}function Cy(u){for(var d=bn(u),g=d.length;g--;){var S=d[g],C=u[S];d[g]=[S,C,rA(C)]}return d}function Ea(u,d){var g=G$(u,d);return wT(g)?g:n}function D8(u){var d=bt.call(u,ba),g=u[ba];try{u[ba]=n;var S=!0}catch{}var C=Bf.call(u);return S&&(d?u[ba]=g:delete u[ba]),C}var Ty=J0?function(u){return u==null?[]:(u=Et(u),So(J0(u),function(d){return oT.call(u,d)}))}:Wy,eA=J0?function(u){for(var d=[];u;)Eo(d,Ty(u)),u=Uf(u);return d}:Wy,Bn=Gn;(ey&&Bn(new ey(new ArrayBuffer(1)))!=pe||Nc&&Bn(new Nc)!=rt||ty&&Bn(ty.resolve())!=Ke||Rl&&Bn(new Rl)!=Pn||$c&&Bn(new $c)!=va)&&(Bn=function(u){var d=Gn(u),g=d==Dn?u.constructor:n,S=g?Ca(g):"";if(S)switch(S){case v6:return pe;case y6:return rt;case b6:return Ke;case x6:return Pn;case w6:return va}return d});function L8(u,d,g){for(var S=-1,C=g.length;++S<C;){var M=g[S],N=M.size;switch(M.type){case"drop":u+=N;break;case"dropRight":d-=N;break;case"take":d=Ln(d,u+N);break;case"takeRight":u=mn(u,d-N);break}}return{start:u,end:d}}function B8(u){var d=u.match(jN);return d?d[1].split(WN):[]}function tA(u,d,g){d=ko(d,u);for(var S=-1,C=d.length,M=!1;++S<C;){var N=ps(d[S]);if(!(M=u!=null&&g(u,N)))break;u=u[N]}return M||++S!=C?M:(C=u==null?0:u.length,!!C&&fp(C)&&js(N,C)&&(Ge(u)||Ta(u)))}function N8(u){var d=u.length,g=new u.constructor(d);return d&&typeof u[0]=="string"&&bt.call(u,"index")&&(g.index=u.index,g.input=u.input),g}function nA(u){return typeof u.constructor=="function"&&!Xc(u)?Fl(Uf(u)):{}}function $8(u,d,g){var S=u.constructor;switch(d){case re:return by(u);case Ie:case Re:return new S(+u);case pe:return _8(u,g);case Fe:case ht:case dt:case Wn:case Zr:case xr:case Ls:case Bs:case It:return NT(u,g);case rt:return new S;case Ot:case hs:return new S(u);case ki:return S8(u);case Pn:return new S;case Cl:return E8(u)}}function U8(u,d){var g=d.length;if(!g)return u;var S=g-1;return d[S]=(g>1?"& ":"")+d[S],d=d.join(g>2?", ":" "),u.replace(HN,`{
/* [wrapped with `+d+`] */
`)}function z8(u){return Ge(u)||Ta(u)||!!(aT&&u&&u[aT])}function js(u,d){var g=typeof u;return d=d??Z,!!d&&(g=="number"||g!="symbol"&&JN.test(u))&&u>-1&&u%1==0&&u<d}function Vn(u,d,g){if(!Gt(g))return!1;var S=typeof d;return(S=="number"?sr(g)&&js(d,g.length):S=="string"&&d in g)?Mi(g[d],u):!1}function Ay(u,d){if(Ge(u))return!1;var g=typeof u;return g=="number"||g=="symbol"||g=="boolean"||u==null||Er(u)?!0:NN.test(u)||!BN.test(u)||d!=null&&u in Et(d)}function H8(u){var d=typeof u;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?u!=="__proto__":u===null}function Py(u){var d=sp(u),g=I[d];if(typeof g!="function"||!(d in it.prototype))return!1;if(u===g)return!0;var S=Ey(g);return!!S&&u===S[0]}function j8(u){return!!rT&&rT in u}var W8=Df?Ws:Gy;function Xc(u){var d=u&&u.constructor,g=typeof d=="function"&&d.prototype||Il;return u===g}function rA(u){return u===u&&!Gt(u)}function iA(u,d){return function(g){return g==null?!1:g[u]===d&&(d!==n||u in Et(g))}}function G8(u){var d=hp(u,function(S){return g.size===c&&g.clear(),S}),g=d.cache;return d}function V8(u,d){var g=u[1],S=d[1],C=g|S,M=C<(x|b|F),N=S==F&&g==w||S==F&&g==L&&u[7].length<=d[8]||S==(F|L)&&d[7].length<=d[8]&&g==w;if(!(M||N))return u;S&x&&(u[2]=d[2],C|=g&x?0:_);var U=d[3];if(U){var X=u[3];u[3]=X?UT(X,U,d[4]):U,u[4]=X?Co(u[3],h):d[4]}return U=d[5],U&&(X=u[5],u[5]=X?zT(X,U,d[6]):U,u[6]=X?Co(u[5],h):d[6]),U=d[7],U&&(u[7]=U),S&F&&(u[8]=u[8]==null?d[8]:Ln(u[8],d[8])),u[9]==null&&(u[9]=d[9]),u[0]=d[0],u[1]=C,u}function q8(u){var d=[];if(u!=null)for(var g in Et(u))d.push(g);return d}function X8(u){return Bf.call(u)}function sA(u,d,g){return d=mn(d===n?u.length-1:d,0),function(){for(var S=arguments,C=-1,M=mn(S.length-d,0),N=J(M);++C<M;)N[C]=S[d+C];C=-1;for(var U=J(d+1);++C<d;)U[C]=S[C];return U[d]=g(N),wr(u,this,U)}}function oA(u,d){return d.length<2?u:Sa(u,ri(d,0,-1))}function Y8(u,d){for(var g=u.length,S=Ln(d.length,g),C=ir(u);S--;){var M=d[S];u[S]=js(M,g)?C[M]:n}return u}function ky(u,d){if(!(d==="constructor"&&typeof u[d]=="function")&&d!="__proto__")return u[d]}var aA=uA(OT),Yc=c6||function(u,d){return kn.setTimeout(u,d)},Oy=uA(y8);function lA(u,d,g){var S=d+"";return Oy(u,U8(S,K8(B8(S),g)))}function uA(u){var d=0,g=0;return function(){var S=p6(),C=q-(S-g);if(g=S,C>0){if(++d>=W)return arguments[0]}else d=0;return u.apply(n,arguments)}}function ap(u,d){var g=-1,S=u.length,C=S-1;for(d=d===n?S:d;++g<d;){var M=dy(g,C),N=u[M];u[M]=u[g],u[g]=N}return u.length=d,u}var cA=G8(function(u){var d=[];return u.charCodeAt(0)===46&&d.push(""),u.replace($N,function(g,S,C,M){d.push(C?M.replace(qN,"$1"):S||g)}),d});function ps(u){if(typeof u=="string"||Er(u))return u;var d=u+"";return d=="0"&&1/u==-te?"-0":d}function Ca(u){if(u!=null){try{return Lf.call(u)}catch{}try{return u+""}catch{}}return""}function K8(u,d){return Jr(K,function(g){var S="_."+g[0];d&g[1]&&!If(u,S)&&u.push(S)}),u.sort()}function hA(u){if(u instanceof it)return u.clone();var d=new ti(u.__wrapped__,u.__chain__);return d.__actions__=ir(u.__actions__),d.__index__=u.__index__,d.__values__=u.__values__,d}function Z8(u,d,g){(g?Vn(u,d,g):d===n)?d=1:d=mn(Xe(d),0);var S=u==null?0:u.length;if(!S||d<1)return[];for(var C=0,M=0,N=J(jf(S/d));C<S;)N[M++]=ri(u,C,C+=d);return N}function Q8(u){for(var d=-1,g=u==null?0:u.length,S=0,C=[];++d<g;){var M=u[d];M&&(C[S++]=M)}return C}function J8(){var u=arguments.length;if(!u)return[];for(var d=J(u-1),g=arguments[0],S=u;S--;)d[S-1]=arguments[S];return Eo(Ge(g)?ir(g):[g],On(d,1))}var eU=Je(function(u,d){return rn(u)?jc(u,On(d,1,rn,!0)):[]}),tU=Je(function(u,d){var g=ii(d);return rn(g)&&(g=n),rn(u)?jc(u,On(d,1,rn,!0),De(g,2)):[]}),nU=Je(function(u,d){var g=ii(d);return rn(g)&&(g=n),rn(u)?jc(u,On(d,1,rn,!0),n,g):[]});function rU(u,d,g){var S=u==null?0:u.length;return S?(d=g||d===n?1:Xe(d),ri(u,d<0?0:d,S)):[]}function iU(u,d,g){var S=u==null?0:u.length;return S?(d=g||d===n?1:Xe(d),d=S-d,ri(u,0,d<0?0:d)):[]}function sU(u,d){return u&&u.length?Jf(u,De(d,3),!0,!0):[]}function oU(u,d){return u&&u.length?Jf(u,De(d,3),!0):[]}function aU(u,d,g,S){var C=u==null?0:u.length;return C?(g&&typeof g!="number"&&Vn(u,d,g)&&(g=0,S=C),J6(u,d,g,S)):[]}function dA(u,d,g){var S=u==null?0:u.length;if(!S)return-1;var C=g==null?0:Xe(g);return C<0&&(C=mn(S+C,0)),Rf(u,De(d,3),C)}function fA(u,d,g){var S=u==null?0:u.length;if(!S)return-1;var C=S-1;return g!==n&&(C=Xe(g),C=g<0?mn(S+C,0):Ln(C,S-1)),Rf(u,De(d,3),C,!0)}function pA(u){var d=u==null?0:u.length;return d?On(u,1):[]}function lU(u){var d=u==null?0:u.length;return d?On(u,te):[]}function uU(u,d){var g=u==null?0:u.length;return g?(d=d===n?1:Xe(d),On(u,d)):[]}function cU(u){for(var d=-1,g=u==null?0:u.length,S={};++d<g;){var C=u[d];S[C[0]]=C[1]}return S}function mA(u){return u&&u.length?u[0]:n}function hU(u,d,g){var S=u==null?0:u.length;if(!S)return-1;var C=g==null?0:Xe(g);return C<0&&(C=mn(S+C,0)),Al(u,d,C)}function dU(u){var d=u==null?0:u.length;return d?ri(u,0,-1):[]}var fU=Je(function(u){var d=$t(u,vy);return d.length&&d[0]===u[0]?ay(d):[]}),pU=Je(function(u){var d=ii(u),g=$t(u,vy);return d===ii(g)?d=n:g.pop(),g.length&&g[0]===u[0]?ay(g,De(d,2)):[]}),mU=Je(function(u){var d=ii(u),g=$t(u,vy);return d=typeof d=="function"?d:n,d&&g.pop(),g.length&&g[0]===u[0]?ay(g,n,d):[]});function gU(u,d){return u==null?"":d6.call(u,d)}function ii(u){var d=u==null?0:u.length;return d?u[d-1]:n}function vU(u,d,g){var S=u==null?0:u.length;if(!S)return-1;var C=S;return g!==n&&(C=Xe(g),C=C<0?mn(S+C,0):Ln(C,S-1)),d===d?K$(u,d,C):Rf(u,YC,C,!0)}function yU(u,d){return u&&u.length?TT(u,Xe(d)):n}var bU=Je(gA);function gA(u,d){return u&&u.length&&d&&d.length?hy(u,d):u}function xU(u,d,g){return u&&u.length&&d&&d.length?hy(u,d,De(g,2)):u}function wU(u,d,g){return u&&u.length&&d&&d.length?hy(u,d,n,g):u}var _U=Hs(function(u,d){var g=u==null?0:u.length,S=ry(u,d);return kT(u,$t(d,function(C){return js(C,g)?+C:C}).sort($T)),S});function SU(u,d){var g=[];if(!(u&&u.length))return g;var S=-1,C=[],M=u.length;for(d=De(d,3);++S<M;){var N=u[S];d(N,S,u)&&(g.push(N),C.push(S))}return kT(u,C),g}function Iy(u){return u==null?u:g6.call(u)}function EU(u,d,g){var S=u==null?0:u.length;return S?(g&&typeof g!="number"&&Vn(u,d,g)?(d=0,g=S):(d=d==null?0:Xe(d),g=g===n?S:Xe(g)),ri(u,d,g)):[]}function CU(u,d){return Qf(u,d)}function TU(u,d,g){return py(u,d,De(g,2))}function AU(u,d){var g=u==null?0:u.length;if(g){var S=Qf(u,d);if(S<g&&Mi(u[S],d))return S}return-1}function PU(u,d){return Qf(u,d,!0)}function kU(u,d,g){return py(u,d,De(g,2),!0)}function OU(u,d){var g=u==null?0:u.length;if(g){var S=Qf(u,d,!0)-1;if(Mi(u[S],d))return S}return-1}function IU(u){return u&&u.length?IT(u):[]}function RU(u,d){return u&&u.length?IT(u,De(d,2)):[]}function MU(u){var d=u==null?0:u.length;return d?ri(u,1,d):[]}function FU(u,d,g){return u&&u.length?(d=g||d===n?1:Xe(d),ri(u,0,d<0?0:d)):[]}function DU(u,d,g){var S=u==null?0:u.length;return S?(d=g||d===n?1:Xe(d),d=S-d,ri(u,d<0?0:d,S)):[]}function LU(u,d){return u&&u.length?Jf(u,De(d,3),!1,!0):[]}function BU(u,d){return u&&u.length?Jf(u,De(d,3)):[]}var NU=Je(function(u){return Po(On(u,1,rn,!0))}),$U=Je(function(u){var d=ii(u);return rn(d)&&(d=n),Po(On(u,1,rn,!0),De(d,2))}),UU=Je(function(u){var d=ii(u);return d=typeof d=="function"?d:n,Po(On(u,1,rn,!0),n,d)});function zU(u){return u&&u.length?Po(u):[]}function HU(u,d){return u&&u.length?Po(u,De(d,2)):[]}function jU(u,d){return d=typeof d=="function"?d:n,u&&u.length?Po(u,n,d):[]}function Ry(u){if(!(u&&u.length))return[];var d=0;return u=So(u,function(g){if(rn(g))return d=mn(g.length,d),!0}),Y0(d,function(g){return $t(u,V0(g))})}function vA(u,d){if(!(u&&u.length))return[];var g=Ry(u);return d==null?g:$t(g,function(S){return wr(d,n,S)})}var WU=Je(function(u,d){return rn(u)?jc(u,d):[]}),GU=Je(function(u){return gy(So(u,rn))}),VU=Je(function(u){var d=ii(u);return rn(d)&&(d=n),gy(So(u,rn),De(d,2))}),qU=Je(function(u){var d=ii(u);return d=typeof d=="function"?d:n,gy(So(u,rn),n,d)}),XU=Je(Ry);function YU(u,d){return DT(u||[],d||[],Hc)}function KU(u,d){return DT(u||[],d||[],Vc)}var ZU=Je(function(u){var d=u.length,g=d>1?u[d-1]:n;return g=typeof g=="function"?(u.pop(),g):n,vA(u,g)});function yA(u){var d=I(u);return d.__chain__=!0,d}function QU(u,d){return d(u),u}function lp(u,d){return d(u)}var JU=Hs(function(u){var d=u.length,g=d?u[0]:0,S=this.__wrapped__,C=function(M){return ry(M,u)};return d>1||this.__actions__.length||!(S instanceof it)||!js(g)?this.thru(C):(S=S.slice(g,+g+(d?1:0)),S.__actions__.push({func:lp,args:[C],thisArg:n}),new ti(S,this.__chain__).thru(function(M){return d&&!M.length&&M.push(n),M}))});function e7(){return yA(this)}function t7(){return new ti(this.value(),this.__chain__)}function n7(){this.__values__===n&&(this.__values__=RA(this.value()));var u=this.__index__>=this.__values__.length,d=u?n:this.__values__[this.__index__++];return{done:u,value:d}}function r7(){return this}function i7(u){for(var d,g=this;g instanceof qf;){var S=hA(g);S.__index__=0,S.__values__=n,d?C.__wrapped__=S:d=S;var C=S;g=g.__wrapped__}return C.__wrapped__=u,d}function s7(){var u=this.__wrapped__;if(u instanceof it){var d=u;return this.__actions__.length&&(d=new it(this)),d=d.reverse(),d.__actions__.push({func:lp,args:[Iy],thisArg:n}),new ti(d,this.__chain__)}return this.thru(Iy)}function o7(){return FT(this.__wrapped__,this.__actions__)}var a7=ep(function(u,d,g){bt.call(u,g)?++u[g]:Us(u,g,1)});function l7(u,d,g){var S=Ge(u)?qC:Q6;return g&&Vn(u,d,g)&&(d=n),S(u,De(d,3))}function u7(u,d){var g=Ge(u)?So:vT;return g(u,De(d,3))}var c7=GT(dA),h7=GT(fA);function d7(u,d){return On(up(u,d),1)}function f7(u,d){return On(up(u,d),te)}function p7(u,d,g){return g=g===n?1:Xe(g),On(up(u,d),g)}function bA(u,d){var g=Ge(u)?Jr:Ao;return g(u,De(d,3))}function xA(u,d){var g=Ge(u)?M$:gT;return g(u,De(d,3))}var m7=ep(function(u,d,g){bt.call(u,g)?u[g].push(d):Us(u,g,[d])});function g7(u,d,g,S){u=sr(u)?u:$l(u),g=g&&!S?Xe(g):0;var C=u.length;return g<0&&(g=mn(C+g,0)),pp(u)?g<=C&&u.indexOf(d,g)>-1:!!C&&Al(u,d,g)>-1}var v7=Je(function(u,d,g){var S=-1,C=typeof d=="function",M=sr(u)?J(u.length):[];return Ao(u,function(N){M[++S]=C?wr(d,N,g):Wc(N,d,g)}),M}),y7=ep(function(u,d,g){Us(u,g,d)});function up(u,d){var g=Ge(u)?$t:ST;return g(u,De(d,3))}function b7(u,d,g,S){return u==null?[]:(Ge(d)||(d=d==null?[]:[d]),g=S?n:g,Ge(g)||(g=g==null?[]:[g]),AT(u,d,g))}var x7=ep(function(u,d,g){u[g?0:1].push(d)},function(){return[[],[]]});function w7(u,d,g){var S=Ge(u)?W0:ZC,C=arguments.length<3;return S(u,De(d,4),g,C,Ao)}function _7(u,d,g){var S=Ge(u)?F$:ZC,C=arguments.length<3;return S(u,De(d,4),g,C,gT)}function S7(u,d){var g=Ge(u)?So:vT;return g(u,dp(De(d,3)))}function E7(u){var d=Ge(u)?dT:g8;return d(u)}function C7(u,d,g){(g?Vn(u,d,g):d===n)?d=1:d=Xe(d);var S=Ge(u)?q6:v8;return S(u,d)}function T7(u){var d=Ge(u)?X6:b8;return d(u)}function A7(u){if(u==null)return 0;if(sr(u))return pp(u)?kl(u):u.length;var d=Bn(u);return d==rt||d==Pn?u.size:uy(u).length}function P7(u,d,g){var S=Ge(u)?G0:x8;return g&&Vn(u,d,g)&&(d=n),S(u,De(d,3))}var k7=Je(function(u,d){if(u==null)return[];var g=d.length;return g>1&&Vn(u,d[0],d[1])?d=[]:g>2&&Vn(d[0],d[1],d[2])&&(d=[d[0]]),AT(u,On(d,1),[])}),cp=u6||function(){return kn.Date.now()};function O7(u,d){if(typeof d!="function")throw new ei(o);return u=Xe(u),function(){if(--u<1)return d.apply(this,arguments)}}function wA(u,d,g){return d=g?n:d,d=u&&d==null?u.length:d,zs(u,F,n,n,n,n,d)}function _A(u,d){var g;if(typeof d!="function")throw new ei(o);return u=Xe(u),function(){return--u>0&&(g=d.apply(this,arguments)),u<=1&&(d=n),g}}var My=Je(function(u,d,g){var S=x;if(g.length){var C=Co(g,Bl(My));S|=O}return zs(u,S,d,g,C)}),SA=Je(function(u,d,g){var S=x|b;if(g.length){var C=Co(g,Bl(SA));S|=O}return zs(d,S,u,g,C)});function EA(u,d,g){d=g?n:d;var S=zs(u,w,n,n,n,n,n,d);return S.placeholder=EA.placeholder,S}function CA(u,d,g){d=g?n:d;var S=zs(u,E,n,n,n,n,n,d);return S.placeholder=CA.placeholder,S}function TA(u,d,g){var S,C,M,N,U,X,se=0,ae=!1,ue=!1,ye=!0;if(typeof u!="function")throw new ei(o);d=si(d)||0,Gt(g)&&(ae=!!g.leading,ue="maxWait"in g,M=ue?mn(si(g.maxWait)||0,d):M,ye="trailing"in g?!!g.trailing:ye);function Ce(sn){var Fi=S,Vs=C;return S=C=n,se=sn,N=u.apply(Vs,Fi),N}function Be(sn){return se=sn,U=Yc(nt,d),ae?Ce(sn):N}function Ze(sn){var Fi=sn-X,Vs=sn-se,GA=d-Fi;return ue?Ln(GA,M-Vs):GA}function Ne(sn){var Fi=sn-X,Vs=sn-se;return X===n||Fi>=d||Fi<0||ue&&Vs>=M}function nt(){var sn=cp();if(Ne(sn))return ot(sn);U=Yc(nt,Ze(sn))}function ot(sn){return U=n,ye&&S?Ce(sn):(S=C=n,N)}function Cr(){U!==n&&LT(U),se=0,S=X=C=U=n}function qn(){return U===n?N:ot(cp())}function Tr(){var sn=cp(),Fi=Ne(sn);if(S=arguments,C=this,X=sn,Fi){if(U===n)return Be(X);if(ue)return LT(U),U=Yc(nt,d),Ce(X)}return U===n&&(U=Yc(nt,d)),N}return Tr.cancel=Cr,Tr.flush=qn,Tr}var I7=Je(function(u,d){return mT(u,1,d)}),R7=Je(function(u,d,g){return mT(u,si(d)||0,g)});function M7(u){return zs(u,H)}function hp(u,d){if(typeof u!="function"||d!=null&&typeof d!="function")throw new ei(o);var g=function(){var S=arguments,C=d?d.apply(this,S):S[0],M=g.cache;if(M.has(C))return M.get(C);var N=u.apply(this,S);return g.cache=M.set(C,N)||M,N};return g.cache=new(hp.Cache||$s),g}hp.Cache=$s;function dp(u){if(typeof u!="function")throw new ei(o);return function(){var d=arguments;switch(d.length){case 0:return!u.call(this);case 1:return!u.call(this,d[0]);case 2:return!u.call(this,d[0],d[1]);case 3:return!u.call(this,d[0],d[1],d[2])}return!u.apply(this,d)}}function F7(u){return _A(2,u)}var D7=w8(function(u,d){d=d.length==1&&Ge(d[0])?$t(d[0],_r(De())):$t(On(d,1),_r(De()));var g=d.length;return Je(function(S){for(var C=-1,M=Ln(S.length,g);++C<M;)S[C]=d[C].call(this,S[C]);return wr(u,this,S)})}),Fy=Je(function(u,d){var g=Co(d,Bl(Fy));return zs(u,O,n,d,g)}),AA=Je(function(u,d){var g=Co(d,Bl(AA));return zs(u,A,n,d,g)}),L7=Hs(function(u,d){return zs(u,L,n,n,n,d)});function B7(u,d){if(typeof u!="function")throw new ei(o);return d=d===n?d:Xe(d),Je(u,d)}function N7(u,d){if(typeof u!="function")throw new ei(o);return d=d==null?0:mn(Xe(d),0),Je(function(g){var S=g[d],C=Oo(g,0,d);return S&&Eo(C,S),wr(u,this,C)})}function $7(u,d,g){var S=!0,C=!0;if(typeof u!="function")throw new ei(o);return Gt(g)&&(S="leading"in g?!!g.leading:S,C="trailing"in g?!!g.trailing:C),TA(u,d,{leading:S,maxWait:d,trailing:C})}function U7(u){return wA(u,1)}function z7(u,d){return Fy(yy(d),u)}function H7(){if(!arguments.length)return[];var u=arguments[0];return Ge(u)?u:[u]}function j7(u){return ni(u,m)}function W7(u,d){return d=typeof d=="function"?d:n,ni(u,m,d)}function G7(u){return ni(u,f|m)}function V7(u,d){return d=typeof d=="function"?d:n,ni(u,f|m,d)}function q7(u,d){return d==null||pT(u,d,bn(d))}function Mi(u,d){return u===d||u!==u&&d!==d}var X7=ip(oy),Y7=ip(function(u,d){return u>=d}),Ta=xT(function(){return arguments}())?xT:function(u){return Zt(u)&&bt.call(u,"callee")&&!oT.call(u,"callee")},Ge=J.isArray,K7=zC?_r(zC):i8;function sr(u){return u!=null&&fp(u.length)&&!Ws(u)}function rn(u){return Zt(u)&&sr(u)}function Z7(u){return u===!0||u===!1||Zt(u)&&Gn(u)==Ie}var Io=h6||Gy,Q7=HC?_r(HC):s8;function J7(u){return Zt(u)&&u.nodeType===1&&!Kc(u)}function ez(u){if(u==null)return!0;if(sr(u)&&(Ge(u)||typeof u=="string"||typeof u.splice=="function"||Io(u)||Nl(u)||Ta(u)))return!u.length;var d=Bn(u);if(d==rt||d==Pn)return!u.size;if(Xc(u))return!uy(u).length;for(var g in u)if(bt.call(u,g))return!1;return!0}function tz(u,d){return Gc(u,d)}function nz(u,d,g){g=typeof g=="function"?g:n;var S=g?g(u,d):n;return S===n?Gc(u,d,n,g):!!S}function Dy(u){if(!Zt(u))return!1;var d=Gn(u);return d==Se||d==Ye||typeof u.message=="string"&&typeof u.name=="string"&&!Kc(u)}function rz(u){return typeof u=="number"&&lT(u)}function Ws(u){if(!Gt(u))return!1;var d=Gn(u);return d==et||d==tt||d==me||d==An}function PA(u){return typeof u=="number"&&u==Xe(u)}function fp(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=Z}function Gt(u){var d=typeof u;return u!=null&&(d=="object"||d=="function")}function Zt(u){return u!=null&&typeof u=="object"}var kA=jC?_r(jC):a8;function iz(u,d){return u===d||ly(u,d,Cy(d))}function sz(u,d,g){return g=typeof g=="function"?g:n,ly(u,d,Cy(d),g)}function oz(u){return OA(u)&&u!=+u}function az(u){if(W8(u))throw new We(s);return wT(u)}function lz(u){return u===null}function uz(u){return u==null}function OA(u){return typeof u=="number"||Zt(u)&&Gn(u)==Ot}function Kc(u){if(!Zt(u)||Gn(u)!=Dn)return!1;var d=Uf(u);if(d===null)return!0;var g=bt.call(d,"constructor")&&d.constructor;return typeof g=="function"&&g instanceof g&&Lf.call(g)==s6}var Ly=WC?_r(WC):l8;function cz(u){return PA(u)&&u>=-Z&&u<=Z}var IA=GC?_r(GC):u8;function pp(u){return typeof u=="string"||!Ge(u)&&Zt(u)&&Gn(u)==hs}function Er(u){return typeof u=="symbol"||Zt(u)&&Gn(u)==Cl}var Nl=VC?_r(VC):c8;function hz(u){return u===n}function dz(u){return Zt(u)&&Bn(u)==va}function fz(u){return Zt(u)&&Gn(u)==M0}var pz=ip(cy),mz=ip(function(u,d){return u<=d});function RA(u){if(!u)return[];if(sr(u))return pp(u)?Ii(u):ir(u);if(Bc&&u[Bc])return q$(u[Bc]());var d=Bn(u),g=d==rt?Z0:d==Pn?Mf:$l;return g(u)}function Gs(u){if(!u)return u===0?u:0;if(u=si(u),u===te||u===-te){var d=u<0?-1:1;return d*le}return u===u?u:0}function Xe(u){var d=Gs(u),g=d%1;return d===d?g?d-g:d:0}function MA(u){return u?_a(Xe(u),0,R):0}function si(u){if(typeof u=="number")return u;if(Er(u))return G;if(Gt(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=Gt(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=QC(u);var g=KN.test(u);return g||QN.test(u)?O$(u.slice(2),g?2:8):YN.test(u)?G:+u}function FA(u){return fs(u,or(u))}function gz(u){return u?_a(Xe(u),-Z,Z):u===0?u:0}function mt(u){return u==null?"":Sr(u)}var vz=Dl(function(u,d){if(Xc(d)||sr(d)){fs(d,bn(d),u);return}for(var g in d)bt.call(d,g)&&Hc(u,g,d[g])}),DA=Dl(function(u,d){fs(d,or(d),u)}),mp=Dl(function(u,d,g,S){fs(d,or(d),u,S)}),yz=Dl(function(u,d,g,S){fs(d,bn(d),u,S)}),bz=Hs(ry);function xz(u,d){var g=Fl(u);return d==null?g:fT(g,d)}var wz=Je(function(u,d){u=Et(u);var g=-1,S=d.length,C=S>2?d[2]:n;for(C&&Vn(d[0],d[1],C)&&(S=1);++g<S;)for(var M=d[g],N=or(M),U=-1,X=N.length;++U<X;){var se=N[U],ae=u[se];(ae===n||Mi(ae,Il[se])&&!bt.call(u,se))&&(u[se]=M[se])}return u}),_z=Je(function(u){return u.push(n,QT),wr(LA,n,u)});function Sz(u,d){return XC(u,De(d,3),ds)}function Ez(u,d){return XC(u,De(d,3),sy)}function Cz(u,d){return u==null?u:iy(u,De(d,3),or)}function Tz(u,d){return u==null?u:yT(u,De(d,3),or)}function Az(u,d){return u&&ds(u,De(d,3))}function Pz(u,d){return u&&sy(u,De(d,3))}function kz(u){return u==null?[]:Kf(u,bn(u))}function Oz(u){return u==null?[]:Kf(u,or(u))}function By(u,d,g){var S=u==null?n:Sa(u,d);return S===n?g:S}function Iz(u,d){return u!=null&&tA(u,d,e8)}function Ny(u,d){return u!=null&&tA(u,d,t8)}var Rz=qT(function(u,d,g){d!=null&&typeof d.toString!="function"&&(d=Bf.call(d)),u[d]=g},Uy(ar)),Mz=qT(function(u,d,g){d!=null&&typeof d.toString!="function"&&(d=Bf.call(d)),bt.call(u,d)?u[d].push(g):u[d]=[g]},De),Fz=Je(Wc);function bn(u){return sr(u)?hT(u):uy(u)}function or(u){return sr(u)?hT(u,!0):h8(u)}function Dz(u,d){var g={};return d=De(d,3),ds(u,function(S,C,M){Us(g,d(S,C,M),S)}),g}function Lz(u,d){var g={};return d=De(d,3),ds(u,function(S,C,M){Us(g,C,d(S,C,M))}),g}var Bz=Dl(function(u,d,g){Zf(u,d,g)}),LA=Dl(function(u,d,g,S){Zf(u,d,g,S)}),Nz=Hs(function(u,d){var g={};if(u==null)return g;var S=!1;d=$t(d,function(M){return M=ko(M,u),S||(S=M.length>1),M}),fs(u,Sy(u),g),S&&(g=ni(g,f|p|m,R8));for(var C=d.length;C--;)my(g,d[C]);return g});function $z(u,d){return BA(u,dp(De(d)))}var Uz=Hs(function(u,d){return u==null?{}:f8(u,d)});function BA(u,d){if(u==null)return{};var g=$t(Sy(u),function(S){return[S]});return d=De(d),PT(u,g,function(S,C){return d(S,C[0])})}function zz(u,d,g){d=ko(d,u);var S=-1,C=d.length;for(C||(C=1,u=n);++S<C;){var M=u==null?n:u[ps(d[S])];M===n&&(S=C,M=g),u=Ws(M)?M.call(u):M}return u}function Hz(u,d,g){return u==null?u:Vc(u,d,g)}function jz(u,d,g,S){return S=typeof S=="function"?S:n,u==null?u:Vc(u,d,g,S)}var NA=KT(bn),$A=KT(or);function Wz(u,d,g){var S=Ge(u),C=S||Io(u)||Nl(u);if(d=De(d,4),g==null){var M=u&&u.constructor;C?g=S?new M:[]:Gt(u)?g=Ws(M)?Fl(Uf(u)):{}:g={}}return(C?Jr:ds)(u,function(N,U,X){return d(g,N,U,X)}),g}function Gz(u,d){return u==null?!0:my(u,d)}function Vz(u,d,g){return u==null?u:MT(u,d,yy(g))}function qz(u,d,g,S){return S=typeof S=="function"?S:n,u==null?u:MT(u,d,yy(g),S)}function $l(u){return u==null?[]:K0(u,bn(u))}function Xz(u){return u==null?[]:K0(u,or(u))}function Yz(u,d,g){return g===n&&(g=d,d=n),g!==n&&(g=si(g),g=g===g?g:0),d!==n&&(d=si(d),d=d===d?d:0),_a(si(u),d,g)}function Kz(u,d,g){return d=Gs(d),g===n?(g=d,d=0):g=Gs(g),u=si(u),n8(u,d,g)}function Zz(u,d,g){if(g&&typeof g!="boolean"&&Vn(u,d,g)&&(d=g=n),g===n&&(typeof d=="boolean"?(g=d,d=n):typeof u=="boolean"&&(g=u,u=n)),u===n&&d===n?(u=0,d=1):(u=Gs(u),d===n?(d=u,u=0):d=Gs(d)),u>d){var S=u;u=d,d=S}if(g||u%1||d%1){var C=uT();return Ln(u+C*(d-u+k$("1e-"+((C+"").length-1))),d)}return dy(u,d)}var Qz=Ll(function(u,d,g){return d=d.toLowerCase(),u+(g?UA(d):d)});function UA(u){return $y(mt(u).toLowerCase())}function zA(u){return u=mt(u),u&&u.replace(e$,H$).replace(b$,"")}function Jz(u,d,g){u=mt(u),d=Sr(d);var S=u.length;g=g===n?S:_a(Xe(g),0,S);var C=g;return g-=d.length,g>=0&&u.slice(g,C)==d}function e9(u){return u=mt(u),u&&FN.test(u)?u.replace(yC,j$):u}function t9(u){return u=mt(u),u&&UN.test(u)?u.replace(F0,"\\$&"):u}var n9=Ll(function(u,d,g){return u+(g?"-":"")+d.toLowerCase()}),r9=Ll(function(u,d,g){return u+(g?" ":"")+d.toLowerCase()}),i9=WT("toLowerCase");function s9(u,d,g){u=mt(u),d=Xe(d);var S=d?kl(u):0;if(!d||S>=d)return u;var C=(d-S)/2;return rp(Wf(C),g)+u+rp(jf(C),g)}function o9(u,d,g){u=mt(u),d=Xe(d);var S=d?kl(u):0;return d&&S<d?u+rp(d-S,g):u}function a9(u,d,g){u=mt(u),d=Xe(d);var S=d?kl(u):0;return d&&S<d?rp(d-S,g)+u:u}function l9(u,d,g){return g||d==null?d=0:d&&(d=+d),m6(mt(u).replace(D0,""),d||0)}function u9(u,d,g){return(g?Vn(u,d,g):d===n)?d=1:d=Xe(d),fy(mt(u),d)}function c9(){var u=arguments,d=mt(u[0]);return u.length<3?d:d.replace(u[1],u[2])}var h9=Ll(function(u,d,g){return u+(g?"_":"")+d.toLowerCase()});function d9(u,d,g){return g&&typeof g!="number"&&Vn(u,d,g)&&(d=g=n),g=g===n?R:g>>>0,g?(u=mt(u),u&&(typeof d=="string"||d!=null&&!Ly(d))&&(d=Sr(d),!d&&Pl(u))?Oo(Ii(u),0,g):u.split(d,g)):[]}var f9=Ll(function(u,d,g){return u+(g?" ":"")+$y(d)});function p9(u,d,g){return u=mt(u),g=g==null?0:_a(Xe(g),0,u.length),d=Sr(d),u.slice(g,g+d.length)==d}function m9(u,d,g){var S=I.templateSettings;g&&Vn(u,d,g)&&(d=n),u=mt(u),d=mp({},d,S,ZT);var C=mp({},d.imports,S.imports,ZT),M=bn(C),N=K0(C,M),U,X,se=0,ae=d.interpolate||Pf,ue="__p += '",ye=Q0((d.escape||Pf).source+"|"+ae.source+"|"+(ae===bC?XN:Pf).source+"|"+(d.evaluate||Pf).source+"|$","g"),Ce="//# sourceURL="+(bt.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++E$+"]")+`
`;u.replace(ye,function(Ne,nt,ot,Cr,qn,Tr){return ot||(ot=Cr),ue+=u.slice(se,Tr).replace(t$,W$),nt&&(U=!0,ue+=`' +
__e(`+nt+`) +
'`),qn&&(X=!0,ue+=`';
`+qn+`;
__p += '`),ot&&(ue+=`' +
((__t = (`+ot+`)) == null ? '' : __t) +
'`),se=Tr+Ne.length,Ne}),ue+=`';
`;var Be=bt.call(d,"variable")&&d.variable;if(!Be)ue=`with (obj) {
`+ue+`
}
`;else if(VN.test(Be))throw new We(a);ue=(X?ue.replace(Dc,""):ue).replace(Oi,"$1").replace(RN,"$1;"),ue="function("+(Be||"obj")+`) {
`+(Be?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(U?", __e = _.escape":"")+(X?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ue+`return __p
}`;var Ze=jA(function(){return ft(M,Ce+"return "+ue).apply(n,N)});if(Ze.source=ue,Dy(Ze))throw Ze;return Ze}function g9(u){return mt(u).toLowerCase()}function v9(u){return mt(u).toUpperCase()}function y9(u,d,g){if(u=mt(u),u&&(g||d===n))return QC(u);if(!u||!(d=Sr(d)))return u;var S=Ii(u),C=Ii(d),M=JC(S,C),N=eT(S,C)+1;return Oo(S,M,N).join("")}function b9(u,d,g){if(u=mt(u),u&&(g||d===n))return u.slice(0,nT(u)+1);if(!u||!(d=Sr(d)))return u;var S=Ii(u),C=eT(S,Ii(d))+1;return Oo(S,0,C).join("")}function x9(u,d,g){if(u=mt(u),u&&(g||d===n))return u.replace(D0,"");if(!u||!(d=Sr(d)))return u;var S=Ii(u),C=JC(S,Ii(d));return Oo(S,C).join("")}function w9(u,d){var g=j,S=z;if(Gt(d)){var C="separator"in d?d.separator:C;g="length"in d?Xe(d.length):g,S="omission"in d?Sr(d.omission):S}u=mt(u);var M=u.length;if(Pl(u)){var N=Ii(u);M=N.length}if(g>=M)return u;var U=g-kl(S);if(U<1)return S;var X=N?Oo(N,0,U).join(""):u.slice(0,U);if(C===n)return X+S;if(N&&(U+=X.length-U),Ly(C)){if(u.slice(U).search(C)){var se,ae=X;for(C.global||(C=Q0(C.source,mt(xC.exec(C))+"g")),C.lastIndex=0;se=C.exec(ae);)var ue=se.index;X=X.slice(0,ue===n?U:ue)}}else if(u.indexOf(Sr(C),U)!=U){var ye=X.lastIndexOf(C);ye>-1&&(X=X.slice(0,ye))}return X+S}function _9(u){return u=mt(u),u&&MN.test(u)?u.replace(vC,Z$):u}var S9=Ll(function(u,d,g){return u+(g?" ":"")+d.toUpperCase()}),$y=WT("toUpperCase");function HA(u,d,g){return u=mt(u),d=g?n:d,d===n?V$(u)?e6(u):B$(u):u.match(d)||[]}var jA=Je(function(u,d){try{return wr(u,n,d)}catch(g){return Dy(g)?g:new We(g)}}),E9=Hs(function(u,d){return Jr(d,function(g){g=ps(g),Us(u,g,My(u[g],u))}),u});function C9(u){var d=u==null?0:u.length,g=De();return u=d?$t(u,function(S){if(typeof S[1]!="function")throw new ei(o);return[g(S[0]),S[1]]}):[],Je(function(S){for(var C=-1;++C<d;){var M=u[C];if(wr(M[0],this,S))return wr(M[1],this,S)}})}function T9(u){return Z6(ni(u,f))}function Uy(u){return function(){return u}}function A9(u,d){return u==null||u!==u?d:u}var P9=VT(),k9=VT(!0);function ar(u){return u}function zy(u){return _T(typeof u=="function"?u:ni(u,f))}function O9(u){return ET(ni(u,f))}function I9(u,d){return CT(u,ni(d,f))}var R9=Je(function(u,d){return function(g){return Wc(g,u,d)}}),M9=Je(function(u,d){return function(g){return Wc(u,g,d)}});function Hy(u,d,g){var S=bn(d),C=Kf(d,S);g==null&&!(Gt(d)&&(C.length||!S.length))&&(g=d,d=u,u=this,C=Kf(d,bn(d)));var M=!(Gt(g)&&"chain"in g)||!!g.chain,N=Ws(u);return Jr(C,function(U){var X=d[U];u[U]=X,N&&(u.prototype[U]=function(){var se=this.__chain__;if(M||se){var ae=u(this.__wrapped__),ue=ae.__actions__=ir(this.__actions__);return ue.push({func:X,args:arguments,thisArg:u}),ae.__chain__=se,ae}return X.apply(u,Eo([this.value()],arguments))})}),u}function F9(){return kn._===this&&(kn._=o6),this}function jy(){}function D9(u){return u=Xe(u),Je(function(d){return TT(d,u)})}var L9=xy($t),B9=xy(qC),N9=xy(G0);function WA(u){return Ay(u)?V0(ps(u)):p8(u)}function $9(u){return function(d){return u==null?n:Sa(u,d)}}var U9=XT(),z9=XT(!0);function Wy(){return[]}function Gy(){return!1}function H9(){return{}}function j9(){return""}function W9(){return!0}function G9(u,d){if(u=Xe(u),u<1||u>Z)return[];var g=R,S=Ln(u,R);d=De(d),u-=R;for(var C=Y0(S,d);++g<u;)d(g);return C}function V9(u){return Ge(u)?$t(u,ps):Er(u)?[u]:ir(cA(mt(u)))}function q9(u){var d=++i6;return mt(u)+d}var X9=np(function(u,d){return u+d},0),Y9=wy("ceil"),K9=np(function(u,d){return u/d},1),Z9=wy("floor");function Q9(u){return u&&u.length?Yf(u,ar,oy):n}function J9(u,d){return u&&u.length?Yf(u,De(d,2),oy):n}function eH(u){return KC(u,ar)}function tH(u,d){return KC(u,De(d,2))}function nH(u){return u&&u.length?Yf(u,ar,cy):n}function rH(u,d){return u&&u.length?Yf(u,De(d,2),cy):n}var iH=np(function(u,d){return u*d},1),sH=wy("round"),oH=np(function(u,d){return u-d},0);function aH(u){return u&&u.length?X0(u,ar):0}function lH(u,d){return u&&u.length?X0(u,De(d,2)):0}return I.after=O7,I.ary=wA,I.assign=vz,I.assignIn=DA,I.assignInWith=mp,I.assignWith=yz,I.at=bz,I.before=_A,I.bind=My,I.bindAll=E9,I.bindKey=SA,I.castArray=H7,I.chain=yA,I.chunk=Z8,I.compact=Q8,I.concat=J8,I.cond=C9,I.conforms=T9,I.constant=Uy,I.countBy=a7,I.create=xz,I.curry=EA,I.curryRight=CA,I.debounce=TA,I.defaults=wz,I.defaultsDeep=_z,I.defer=I7,I.delay=R7,I.difference=eU,I.differenceBy=tU,I.differenceWith=nU,I.drop=rU,I.dropRight=iU,I.dropRightWhile=sU,I.dropWhile=oU,I.fill=aU,I.filter=u7,I.flatMap=d7,I.flatMapDeep=f7,I.flatMapDepth=p7,I.flatten=pA,I.flattenDeep=lU,I.flattenDepth=uU,I.flip=M7,I.flow=P9,I.flowRight=k9,I.fromPairs=cU,I.functions=kz,I.functionsIn=Oz,I.groupBy=m7,I.initial=dU,I.intersection=fU,I.intersectionBy=pU,I.intersectionWith=mU,I.invert=Rz,I.invertBy=Mz,I.invokeMap=v7,I.iteratee=zy,I.keyBy=y7,I.keys=bn,I.keysIn=or,I.map=up,I.mapKeys=Dz,I.mapValues=Lz,I.matches=O9,I.matchesProperty=I9,I.memoize=hp,I.merge=Bz,I.mergeWith=LA,I.method=R9,I.methodOf=M9,I.mixin=Hy,I.negate=dp,I.nthArg=D9,I.omit=Nz,I.omitBy=$z,I.once=F7,I.orderBy=b7,I.over=L9,I.overArgs=D7,I.overEvery=B9,I.overSome=N9,I.partial=Fy,I.partialRight=AA,I.partition=x7,I.pick=Uz,I.pickBy=BA,I.property=WA,I.propertyOf=$9,I.pull=bU,I.pullAll=gA,I.pullAllBy=xU,I.pullAllWith=wU,I.pullAt=_U,I.range=U9,I.rangeRight=z9,I.rearg=L7,I.reject=S7,I.remove=SU,I.rest=B7,I.reverse=Iy,I.sampleSize=C7,I.set=Hz,I.setWith=jz,I.shuffle=T7,I.slice=EU,I.sortBy=k7,I.sortedUniq=IU,I.sortedUniqBy=RU,I.split=d9,I.spread=N7,I.tail=MU,I.take=FU,I.takeRight=DU,I.takeRightWhile=LU,I.takeWhile=BU,I.tap=QU,I.throttle=$7,I.thru=lp,I.toArray=RA,I.toPairs=NA,I.toPairsIn=$A,I.toPath=V9,I.toPlainObject=FA,I.transform=Wz,I.unary=U7,I.union=NU,I.unionBy=$U,I.unionWith=UU,I.uniq=zU,I.uniqBy=HU,I.uniqWith=jU,I.unset=Gz,I.unzip=Ry,I.unzipWith=vA,I.update=Vz,I.updateWith=qz,I.values=$l,I.valuesIn=Xz,I.without=WU,I.words=HA,I.wrap=z7,I.xor=GU,I.xorBy=VU,I.xorWith=qU,I.zip=XU,I.zipObject=YU,I.zipObjectDeep=KU,I.zipWith=ZU,I.entries=NA,I.entriesIn=$A,I.extend=DA,I.extendWith=mp,Hy(I,I),I.add=X9,I.attempt=jA,I.camelCase=Qz,I.capitalize=UA,I.ceil=Y9,I.clamp=Yz,I.clone=j7,I.cloneDeep=G7,I.cloneDeepWith=V7,I.cloneWith=W7,I.conformsTo=q7,I.deburr=zA,I.defaultTo=A9,I.divide=K9,I.endsWith=Jz,I.eq=Mi,I.escape=e9,I.escapeRegExp=t9,I.every=l7,I.find=c7,I.findIndex=dA,I.findKey=Sz,I.findLast=h7,I.findLastIndex=fA,I.findLastKey=Ez,I.floor=Z9,I.forEach=bA,I.forEachRight=xA,I.forIn=Cz,I.forInRight=Tz,I.forOwn=Az,I.forOwnRight=Pz,I.get=By,I.gt=X7,I.gte=Y7,I.has=Iz,I.hasIn=Ny,I.head=mA,I.identity=ar,I.includes=g7,I.indexOf=hU,I.inRange=Kz,I.invoke=Fz,I.isArguments=Ta,I.isArray=Ge,I.isArrayBuffer=K7,I.isArrayLike=sr,I.isArrayLikeObject=rn,I.isBoolean=Z7,I.isBuffer=Io,I.isDate=Q7,I.isElement=J7,I.isEmpty=ez,I.isEqual=tz,I.isEqualWith=nz,I.isError=Dy,I.isFinite=rz,I.isFunction=Ws,I.isInteger=PA,I.isLength=fp,I.isMap=kA,I.isMatch=iz,I.isMatchWith=sz,I.isNaN=oz,I.isNative=az,I.isNil=uz,I.isNull=lz,I.isNumber=OA,I.isObject=Gt,I.isObjectLike=Zt,I.isPlainObject=Kc,I.isRegExp=Ly,I.isSafeInteger=cz,I.isSet=IA,I.isString=pp,I.isSymbol=Er,I.isTypedArray=Nl,I.isUndefined=hz,I.isWeakMap=dz,I.isWeakSet=fz,I.join=gU,I.kebabCase=n9,I.last=ii,I.lastIndexOf=vU,I.lowerCase=r9,I.lowerFirst=i9,I.lt=pz,I.lte=mz,I.max=Q9,I.maxBy=J9,I.mean=eH,I.meanBy=tH,I.min=nH,I.minBy=rH,I.stubArray=Wy,I.stubFalse=Gy,I.stubObject=H9,I.stubString=j9,I.stubTrue=W9,I.multiply=iH,I.nth=yU,I.noConflict=F9,I.noop=jy,I.now=cp,I.pad=s9,I.padEnd=o9,I.padStart=a9,I.parseInt=l9,I.random=Zz,I.reduce=w7,I.reduceRight=_7,I.repeat=u9,I.replace=c9,I.result=zz,I.round=sH,I.runInContext=V,I.sample=E7,I.size=A7,I.snakeCase=h9,I.some=P7,I.sortedIndex=CU,I.sortedIndexBy=TU,I.sortedIndexOf=AU,I.sortedLastIndex=PU,I.sortedLastIndexBy=kU,I.sortedLastIndexOf=OU,I.startCase=f9,I.startsWith=p9,I.subtract=oH,I.sum=aH,I.sumBy=lH,I.template=m9,I.times=G9,I.toFinite=Gs,I.toInteger=Xe,I.toLength=MA,I.toLower=g9,I.toNumber=si,I.toSafeInteger=gz,I.toString=mt,I.toUpper=v9,I.trim=y9,I.trimEnd=b9,I.trimStart=x9,I.truncate=w9,I.unescape=_9,I.uniqueId=q9,I.upperCase=S9,I.upperFirst=$y,I.each=bA,I.eachRight=xA,I.first=mA,Hy(I,function(){var u={};return ds(I,function(d,g){bt.call(I.prototype,g)||(u[g]=d)}),u}(),{chain:!1}),I.VERSION=r,Jr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){I[u].placeholder=I}),Jr(["drop","take"],function(u,d){it.prototype[u]=function(g){g=g===n?1:mn(Xe(g),0);var S=this.__filtered__&&!d?new it(this):this.clone();return S.__filtered__?S.__takeCount__=Ln(g,S.__takeCount__):S.__views__.push({size:Ln(g,R),type:u+(S.__dir__<0?"Right":"")}),S},it.prototype[u+"Right"]=function(g){return this.reverse()[u](g).reverse()}}),Jr(["filter","map","takeWhile"],function(u,d){var g=d+1,S=g==Y||g==ce;it.prototype[u]=function(C){var M=this.clone();return M.__iteratees__.push({iteratee:De(C,3),type:g}),M.__filtered__=M.__filtered__||S,M}}),Jr(["head","last"],function(u,d){var g="take"+(d?"Right":"");it.prototype[u]=function(){return this[g](1).value()[0]}}),Jr(["initial","tail"],function(u,d){var g="drop"+(d?"":"Right");it.prototype[u]=function(){return this.__filtered__?new it(this):this[g](1)}}),it.prototype.compact=function(){return this.filter(ar)},it.prototype.find=function(u){return this.filter(u).head()},it.prototype.findLast=function(u){return this.reverse().find(u)},it.prototype.invokeMap=Je(function(u,d){return typeof u=="function"?new it(this):this.map(function(g){return Wc(g,u,d)})}),it.prototype.reject=function(u){return this.filter(dp(De(u)))},it.prototype.slice=function(u,d){u=Xe(u);var g=this;return g.__filtered__&&(u>0||d<0)?new it(g):(u<0?g=g.takeRight(-u):u&&(g=g.drop(u)),d!==n&&(d=Xe(d),g=d<0?g.dropRight(-d):g.take(d-u)),g)},it.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},it.prototype.toArray=function(){return this.take(R)},ds(it.prototype,function(u,d){var g=/^(?:filter|find|map|reject)|While$/.test(d),S=/^(?:head|last)$/.test(d),C=I[S?"take"+(d=="last"?"Right":""):d],M=S||/^find/.test(d);C&&(I.prototype[d]=function(){var N=this.__wrapped__,U=S?[1]:arguments,X=N instanceof it,se=U[0],ae=X||Ge(N),ue=function(nt){var ot=C.apply(I,Eo([nt],U));return S&&ye?ot[0]:ot};ae&&g&&typeof se=="function"&&se.length!=1&&(X=ae=!1);var ye=this.__chain__,Ce=!!this.__actions__.length,Be=M&&!ye,Ze=X&&!Ce;if(!M&&ae){N=Ze?N:new it(this);var Ne=u.apply(N,U);return Ne.__actions__.push({func:lp,args:[ue],thisArg:n}),new ti(Ne,ye)}return Be&&Ze?u.apply(this,U):(Ne=this.thru(ue),Be?S?Ne.value()[0]:Ne.value():Ne)})}),Jr(["pop","push","shift","sort","splice","unshift"],function(u){var d=Ff[u],g=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",S=/^(?:pop|shift)$/.test(u);I.prototype[u]=function(){var C=arguments;if(S&&!this.__chain__){var M=this.value();return d.apply(Ge(M)?M:[],C)}return this[g](function(N){return d.apply(Ge(N)?N:[],C)})}}),ds(it.prototype,function(u,d){var g=I[d];if(g){var S=g.name+"";bt.call(Ml,S)||(Ml[S]=[]),Ml[S].push({name:d,func:g})}}),Ml[tp(n,b).name]=[{name:"wrapper",func:n}],it.prototype.clone=_6,it.prototype.reverse=S6,it.prototype.value=E6,I.prototype.at=JU,I.prototype.chain=e7,I.prototype.commit=t7,I.prototype.next=n7,I.prototype.plant=i7,I.prototype.reverse=s7,I.prototype.toJSON=I.prototype.valueOf=I.prototype.value=o7,I.prototype.first=I.prototype.head,Bc&&(I.prototype[Bc]=r7),I},Ol=t6();ya?((ya.exports=Ol)._=Ol,z0._=Ol):kn._=Ol}).call(hr)})(mSe,Ad);function gSe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Ig(t,e)}function rb(t){return t&&t.stopPropagation&&t.stopPropagation(),t&&t.preventDefault&&t.preventDefault(),!1}function ib(t){return t==null?[]:Array.isArray(t)?t.slice():[t]}function Vp(t){return t!==null&&t.length===1?t[0]:t.slice()}function qp(t){Object.keys(t).forEach(e=>{typeof document<"u"&&document.addEventListener(e,t[e],!1)})}function Pa(t,e){return Ww(function(n,r){let i=n;return i<=r.min&&(i=r.min),i>=r.max&&(i=r.max),i}(t,e),e)}function Ww(t,e){const n=(t-e.min)%e.step;let r=t-n;return 2*Math.abs(n)>=e.step&&(r+=n>0?e.step:-e.step),parseFloat(r.toFixed(5))}let Gw=function(t){function e(r){var i;(i=t.call(this,r)||this).onKeyUp=()=>{i.onEnd()},i.onMouseUp=()=>{i.onEnd(i.getMouseEventMap())},i.onTouchEnd=()=>{i.onEnd(i.getTouchEventMap())},i.onBlur=()=>{i.setState({index:-1},i.onEnd(i.getKeyDownEventMap()))},i.onMouseMove=a=>{i.setState({pending:!0});const l=i.getMousePosition(a),c=i.getDiffPosition(l[0]),h=i.getValueFromPosition(c);i.move(h)},i.onTouchMove=a=>{if(a.touches.length>1)return;i.setState({pending:!0});const l=i.getTouchPosition(a);if(i.isScrolling===void 0){const f=l[0]-i.startPosition[0],p=l[1]-i.startPosition[1];i.isScrolling=Math.abs(p)>Math.abs(f)}if(i.isScrolling)return void i.setState({index:-1});const c=i.getDiffPosition(l[0]),h=i.getValueFromPosition(c);i.move(h)},i.onKeyDown=a=>{if(!(a.ctrlKey||a.shiftKey||a.altKey||a.metaKey))switch(i.setState({pending:!0}),a.key){case"ArrowLeft":case"ArrowDown":case"Left":case"Down":a.preventDefault(),i.moveDownByStep();break;case"ArrowRight":case"ArrowUp":case"Right":case"Up":a.preventDefault(),i.moveUpByStep();break;case"Home":a.preventDefault(),i.move(i.props.min);break;case"End":a.preventDefault(),i.move(i.props.max);break;case"PageDown":a.preventDefault(),i.moveDownByStep(i.props.pageFn(i.props.step));break;case"PageUp":a.preventDefault(),i.moveUpByStep(i.props.pageFn(i.props.step))}},i.onSliderMouseDown=a=>{if(!i.props.disabled&&a.button!==2){if(i.setState({pending:!0}),!i.props.snapDragDisabled){const l=i.getMousePosition(a);i.forceValueFromPosition(l[0],c=>{i.start(c,l[0]),qp(i.getMouseEventMap())})}rb(a)}},i.onSliderClick=a=>{if(!i.props.disabled&&i.props.onSliderClick&&!i.hasMoved){const l=i.getMousePosition(a),c=Pa(i.calcValue(i.calcOffsetFromPosition(l[0])),i.props);i.props.onSliderClick(c)}},i.createOnKeyDown=a=>l=>{i.props.disabled||(i.start(a),qp(i.getKeyDownEventMap()),rb(l))},i.createOnMouseDown=a=>l=>{if(i.props.disabled||l.button===2)return;i.setState({pending:!0});const c=i.getMousePosition(l);i.start(a,c[0]),qp(i.getMouseEventMap()),rb(l)},i.createOnTouchStart=a=>l=>{if(i.props.disabled||l.touches.length>1)return;i.setState({pending:!0});const c=i.getTouchPosition(l);i.startPosition=c,i.isScrolling=void 0,i.start(a,c[0]),qp(i.getTouchEventMap()),function(h){h.stopPropagation&&h.stopPropagation()}(l)},i.handleResize=()=>{const a=window.setTimeout(()=>{i.pendingResizeTimeouts.shift(),i.resize()},0);i.pendingResizeTimeouts.push(a)},i.renderThumb=(a,l)=>{const c=i.props.thumbClassName+" "+i.props.thumbClassName+"-"+l+" "+(i.state.index===l?i.props.thumbActiveClassName:""),h={ref:p=>{i["thumb"+l]=p},key:i.props.thumbClassName+"-"+l,className:c,style:a,onMouseDown:i.createOnMouseDown(l),onTouchStart:i.createOnTouchStart(l),onFocus:i.createOnKeyDown(l),tabIndex:0,role:"slider","aria-orientation":i.props.orientation,"aria-valuenow":i.state.value[l],"aria-valuemin":i.props.min,"aria-valuemax":i.props.max,"aria-label":Array.isArray(i.props.ariaLabel)?i.props.ariaLabel[l]:i.props.ariaLabel,"aria-labelledby":Array.isArray(i.props.ariaLabelledby)?i.props.ariaLabelledby[l]:i.props.ariaLabelledby},f={index:l,value:Vp(i.state.value),valueNow:i.state.value[l]};return i.props.ariaValuetext&&(h["aria-valuetext"]=typeof i.props.ariaValuetext=="string"?i.props.ariaValuetext:i.props.ariaValuetext(f)),i.props.renderThumb(h,f)},i.renderTrack=(a,l,c)=>{const h={key:i.props.trackClassName+"-"+a,className:i.props.trackClassName+" "+i.props.trackClassName+"-"+a,style:i.buildTrackStyle(l,i.state.upperBound-c)},f={index:a,value:Vp(i.state.value)};return i.props.renderTrack(h,f)};let s=ib(r.value);s.length||(s=ib(r.defaultValue)),i.pendingResizeTimeouts=[];const o=[];for(let a=0;a<s.length;a+=1)s[a]=Pa(s[a],r),o.push(a);return i.resizeObserver=null,i.resizeElementRef=P.createRef(),i.state={index:-1,upperBound:0,sliderLength:0,value:s,zIndices:o},i}gSe(e,t);var n=e.prototype;return n.componentDidMount=function(){typeof window<"u"&&(this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.resizeElementRef.current),this.resize())},e.getDerivedStateFromProps=function(r,i){const s=ib(r.value);return s.length?i.pending?null:{value:s.map(o=>Pa(o,r))}:null},n.componentDidUpdate=function(){this.state.upperBound===0&&this.resize()},n.componentWillUnmount=function(){this.clearPendingResizeTimeouts(),this.resizeObserver&&this.resizeObserver.disconnect()},n.onEnd=function(r){r&&function(i){Object.keys(i).forEach(s=>{typeof document<"u"&&document.removeEventListener(s,i[s],!1)})}(r),this.hasMoved&&this.fireChangeEvent("onAfterChange"),this.setState({pending:!1}),this.hasMoved=!1},n.getValue=function(){return Vp(this.state.value)},n.getClosestIndex=function(r){let i=Number.MAX_VALUE,s=-1;const{value:o}=this.state,a=o.length;for(let l=0;l<a;l+=1){const c=this.calcOffset(o[l]),h=Math.abs(r-c);h<i&&(i=h,s=l)}return s},n.getMousePosition=function(r){return[r["page"+this.axisKey()],r["page"+this.orthogonalAxisKey()]]},n.getTouchPosition=function(r){const i=r.touches[0];return[i["page"+this.axisKey()],i["page"+this.orthogonalAxisKey()]]},n.getKeyDownEventMap=function(){return{keydown:this.onKeyDown,keyup:this.onKeyUp,focusout:this.onBlur}},n.getMouseEventMap=function(){return{mousemove:this.onMouseMove,mouseup:this.onMouseUp}},n.getTouchEventMap=function(){return{touchmove:this.onTouchMove,touchend:this.onTouchEnd}},n.getValueFromPosition=function(r){const i=r/(this.state.sliderLength-this.state.thumbSize)*(this.props.max-this.props.min);return Pa(this.state.startValue+i,this.props)},n.getDiffPosition=function(r){let i=r-this.state.startPosition;return this.props.invert&&(i*=-1),i},n.resize=function(){const{slider:r,thumb0:i}=this;if(!r||!i)return;const s=this.sizeKey(),o=r.getBoundingClientRect(),a=r[s],l=o[this.posMaxKey()],c=o[this.posMinKey()],h=i.getBoundingClientRect()[s.replace("client","").toLowerCase()],f=a-h,p=Math.abs(l-c);this.state.upperBound===f&&this.state.sliderLength===p&&this.state.thumbSize===h||this.setState({upperBound:f,sliderLength:p,thumbSize:h})},n.calcOffset=function(r){const i=this.props.max-this.props.min;return i===0?0:(r-this.props.min)/i*this.state.upperBound},n.calcValue=function(r){return r/this.state.upperBound*(this.props.max-this.props.min)+this.props.min},n.calcOffsetFromPosition=function(r){const{slider:i}=this,s=i.getBoundingClientRect(),o=s[this.posMaxKey()],a=s[this.posMinKey()];let l=r-(window["page"+this.axisKey()+"Offset"]+(this.props.invert?o:a));return this.props.invert&&(l=this.state.sliderLength-l),l-=this.state.thumbSize/2,l},n.forceValueFromPosition=function(r,i){const s=this.calcOffsetFromPosition(r),o=this.getClosestIndex(s),a=Pa(this.calcValue(s),this.props),l=this.state.value.slice();l[o]=a;for(let c=0;c<l.length-1;c+=1)if(l[c+1]-l[c]<this.props.minDistance)return;this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0,this.setState({value:l},()=>{i(o),this.fireChangeEvent("onChange")})},n.clearPendingResizeTimeouts=function(){do{const r=this.pendingResizeTimeouts.shift();clearTimeout(r)}while(this.pendingResizeTimeouts.length)},n.start=function(r,i){const s=this["thumb"+r];s&&s.focus();const{zIndices:o}=this.state;o.splice(o.indexOf(r),1),o.push(r),this.setState(a=>({startValue:a.value[r],startPosition:i!==void 0?i:a.startPosition,index:r,zIndices:o}))},n.moveUpByStep=function(r){r===void 0&&(r=this.props.step);const i=Pa(this.state.value[this.state.index]+r,this.props);this.move(Math.min(i,this.props.max))},n.moveDownByStep=function(r){r===void 0&&(r=this.props.step);const i=Pa(this.state.value[this.state.index]-r,this.props);this.move(Math.max(i,this.props.min))},n.move=function(r){const{index:i,value:s}=this.state,{length:o}=s,a=s[i];if(r===a)return;this.hasMoved||this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0;const{pearling:l,max:c,min:h,minDistance:f}=this.props;if(!l){if(i>0){const p=s[i-1];r<p+f&&(r=p+f)}if(i<o-1){const p=s[i+1];r>p-f&&(r=p-f)}}s[i]=r,l&&o>1&&(r>a?(this.pushSucceeding(s,f,i),function(p,m,v,y){for(let x=0;x<p;x+=1){const b=y-x*v;m[p-1-x]>b&&(m[p-1-x]=b)}}(o,s,f,c)):r<a&&(this.pushPreceding(s,f,i),function(p,m,v,y){for(let x=0;x<p;x+=1){const b=y+x*v;m[x]<b&&(m[x]=b)}}(o,s,f,h))),this.setState({value:s},this.fireChangeEvent.bind(this,"onChange"))},n.pushSucceeding=function(r,i,s){let o,a;for(o=s,a=r[o]+i;r[o+1]!==null&&a>r[o+1];o+=1,a=r[o]+i)r[o+1]=Ww(a,this.props)},n.pushPreceding=function(r,i,s){for(let o=s,a=r[o]-i;r[o-1]!==null&&a<r[o-1];o-=1,a=r[o]-i)r[o-1]=Ww(a,this.props)},n.axisKey=function(){return this.props.orientation==="vertical"?"Y":"X"},n.orthogonalAxisKey=function(){return this.props.orientation==="vertical"?"X":"Y"},n.posMinKey=function(){return this.props.orientation==="vertical"?this.props.invert?"bottom":"top":this.props.invert?"right":"left"},n.posMaxKey=function(){return this.props.orientation==="vertical"?this.props.invert?"top":"bottom":this.props.invert?"left":"right"},n.sizeKey=function(){return this.props.orientation==="vertical"?"clientHeight":"clientWidth"},n.fireChangeEvent=function(r){this.props[r]&&this.props[r](Vp(this.state.value),this.state.index)},n.buildThumbStyle=function(r,i){const s={position:"absolute",touchAction:"none",willChange:this.state.index>=0?this.posMinKey():void 0,zIndex:this.state.zIndices.indexOf(i)+1};return s[this.posMinKey()]=r+"px",s},n.buildTrackStyle=function(r,i){const s={position:"absolute",willChange:this.state.index>=0?this.posMinKey()+","+this.posMaxKey():void 0};return s[this.posMinKey()]=r,s[this.posMaxKey()]=i,s},n.buildMarkStyle=function(r){var i;return(i={position:"absolute"})[this.posMinKey()]=r,i},n.renderThumbs=function(r){const{length:i}=r,s=[];for(let a=0;a<i;a+=1)s[a]=this.buildThumbStyle(r[a],a);const o=[];for(let a=0;a<i;a+=1)o[a]=this.renderThumb(s[a],a);return o},n.renderTracks=function(r){const i=[],s=r.length-1;i.push(this.renderTrack(0,0,r[0]));for(let o=0;o<s;o+=1)i.push(this.renderTrack(o+1,r[o],r[o+1]));return i.push(this.renderTrack(s+1,r[s],this.state.upperBound)),i},n.renderMarks=function(){let{marks:r}=this.props;const i=this.props.max-this.props.min+1;return typeof r=="boolean"?r=Array.from({length:i}).map((s,o)=>o):typeof r=="number"&&(r=Array.from({length:i}).map((s,o)=>o).filter(s=>s%r==0)),r.map(parseFloat).sort((s,o)=>s-o).map(s=>{const o=this.calcOffset(s),a={key:s,className:this.props.markClassName,style:this.buildMarkStyle(o)};return this.props.renderMark(a)})},n.render=function(){const r=[],{value:i}=this.state,s=i.length;for(let c=0;c<s;c+=1)r[c]=this.calcOffset(i[c],c);const o=this.props.withTracks?this.renderTracks(r):null,a=this.renderThumbs(r),l=this.props.marks?this.renderMarks():null;return P.createElement("div",{ref:c=>{this.slider=c,this.resizeElementRef.current=c},style:{position:"relative"},className:this.props.className+(this.props.disabled?" disabled":""),onMouseDown:this.onSliderMouseDown,onClick:this.onSliderClick},o,a,l)},e}(P.Component);Gw.displayName="ReactSlider",Gw.defaultProps={min:0,max:100,step:1,pageFn:t=>10*t,minDistance:0,defaultValue:0,orientation:"horizontal",className:"slider",thumbClassName:"thumb",thumbActiveClassName:"active",trackClassName:"track",markClassName:"mark",withTracks:!0,pearling:!1,disabled:!1,snapDragDisabled:!1,invert:!1,marks:[],renderThumb:t=>P.createElement("div",t),renderTrack:t=>P.createElement("div",t),renderMark:t=>P.createElement("span",t)};var Xp=Gw;function vSe({graphEvents$:t}){const[e,n]=T.useState(50),[r,i]=T.useState(50),[s,o]=T.useState(50),[a,l]=T.useState(50),[c,h]=T.useState({}),{setColorTheme:f,colorTheme:p}=T.useContext(bc);T.useEffect(()=>{},[c]);const m=w=>{n(w),b()},v=w=>{i(w),b()},y=w=>{o(w),b()},x=w=>{l(w),b()},b=()=>{t.next({event:"forcesUpdated",data:{forces:{f1:e,f2:r,f3:s,f4:a}}})},_=w=>{Ad.each(Object.keys(Js),E=>{w===Js[E]["--themeColor"]&&f({type:"set",theme:E})})};return ee("div",{className:"settings-panel",children:[ee("div",{className:"sliders",children:[k("div",{className:"padding-sm",children:"Force Graph Settings"}),k("div",{className:"slider",children:k(Xp,{min:0,max:100,defaultValue:[25],className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:m,renderThumb:(w,E)=>k("div",{...w,children:E.valueNow})})}),k("div",{className:"slider",children:k(Xp,{min:0,max:50,defaultValue:[25],className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:v,renderThumb:(w,E)=>k("div",{...w,children:E.valueNow})})}),k("div",{className:"slider",children:k(Xp,{defaultValue:[70],className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:y,renderThumb:(w,E)=>k("div",{...w,children:E.valueNow})})}),k("div",{className:"slider",children:k(Xp,{className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:x,renderThumb:(w,E)=>k("div",{...w,children:E.valueNow})})})]}),ee("div",{className:"theme-panel",children:["Theme",k("div",{className:"colorpicker",children:k(oc,{type:"circle",color:Js[p]["--themeColor"],colorChanged:_,colorOptions:Ad.map(Object.keys(Js),w=>Js[w]["--themeColor"])})})]})]})}const ySe={small:[0,600],med:[600,900],large:[901,1150],xl:[1151,1400],xxl:[1401,1600],xxxl:[1601,2e3]};function bSe(t){return{small:1,med:2,large:3,xl:4,xxl:5,xxxl:6}[t]}function DR(t,e){return gr(t,n=>{var i,s;let r=!0;return(i=e.tags)!=null&&i.length&&(r=LD(e.tags,n.tags).length===0),(s=e.textFilter)!=null&&s.length&&(r=r&&n.name.toLowerCase().includes(e.textFilter.toLowerCase())),r})}function xSe(t){const e=UD(t,(n,r)=>{var i;return(i=r==null?void 0:r.tags)!=null&&i.length?[...n,...r.tags]:n},[]);return da(wd(e))}function wSe(){const{abilities:t,setAbilities:e}=T.useContext(Jn),[n,r]=T.useState({tags:[],textFilter:""}),[i,s]=T.useState(!1),[o,a]=T.useState(""),{ref:l,active:c,width:h}=Uw({breakpoints:ySe}),f=b=>{},p=b=>{a(b.id)},m=b=>{e({type:"remove",ability:{id:b}}),e({type:"save"})},v=b=>{r(b)},y=()=>{const b=`abl-${Math.floor(Math.random()*7e5)}`;e({type:"add",ability:{name:n.textFilter||"New Ability",id:b,description:"",tags:n.tags,type:"action"}}),a(b)},x=()=>{s(!i)};return ee("div",{className:"ability-editor",children:[k(zw,{children:k(Hw,{expanded:!0,tags:xSe(t),filtersUpdated:v})}),ee("div",{className:"expand-button",children:["Abilities",k(St,{color:"theme",clicked:x,children:i?k(VD,{size:30}):k(GD,{size:30})})]}),k("div",{ref:l,className:"ability-cards",children:ee(yw,{columns:bSe(c),spacing:2,children:[k("div",{className:"card-wrapper new-button",children:ee("button",{onClick:y,children:[k(rs,{})," New Ability"]})}),DR(t,n).map((b,_)=>k("div",{className:"card-wrapper",children:k(Td,{ability:b,isPlayerAbility:!0,modifiers:b.modifiers,startOpen:!1,isExpanded:i,editable:!0,forceIsEditing:b.id===o,abilityEdited:f,abilityCopied:p,abilityRemoved:m},_)},_)),DR(t,n).length>10&&k("div",{className:"card-wrapper new-button",children:ee("button",{onClick:y,children:[k(rs,{})," New Ability"]})})]})})]})}function _Se(){const{abilityTypes:t,setAbilityTypes:e}=T.useContext(Jn),n=o=>{e({type:"add",abilityType:{id:"new-abilityType-type",name:"New Ability Type"}})},r=o=>{e({type:"remove",abilityType:{id:o}})},i=(o,a,l)=>{e({type:"update",index:a,abilityType:{...t[a],[l]:o}})},s=()=>{e({type:"save"})};return k("div",{className:"abilityType-editor",children:ee("div",{className:"abilityTypes",children:[ze(t,(o,a)=>ee("div",{className:"abilityType-instance",children:[k("div",{className:"color",children:k(oc,{color:o.color||"#ffffff",colorChanged:l=>i(l,a,"color")})}),ee("div",{className:"top",children:[k("div",{className:"name",children:k(is,{blur:s,value:o.name,valueChanged:l=>i(l,a,"name")})}),k("button",{className:"remove-button",onClick:l=>r(o.id),children:k(xo,{})})]}),k("div",{className:"bottom",children:k("div",{className:"id",children:k(is,{blur:s,value:o.id,valueChanged:l=>i(l,a,"id")})})})]},a)),ee("button",{className:"new-button",onClick:n,children:["Add Type ",k(rs,{})]})]})})}function SSe(){const{globalParams:t,setGlobalParams:e}=T.useContext(Jn),[n,r]=T.useState(!1),[i,s]=T.useState(t);T.useEffect(()=>{s(t)},[t]);const o=(f,p)=>{let m=ut(i);m[p].id=f,s(m),r(!0)},a=(f,p)=>{let m=ut(i);m[p].value=f,s(m),r(!0)},l=()=>{let f=[...i,{id:"",value:0}];s(f),r(!0)},c=f=>{let p=ut(i);p.splice(f,1),e(p)},h=()=>{e({type:"set",params:ut(i)}),e({type:"save"}),r(!1)};return ee("div",{className:"param-editor",children:[i&&ze(i,(f,p)=>ee("div",{className:"param-line",children:[k(St,{color:"danger",clicked:()=>c(p),children:k(xo,{size:"18"})}),k(is,{minWidth:120,placeholder:"name",className:"param-input",value:f.id,valueChanged:m=>o(m,p)}),k(r0,{className:"param-input",value:f.value,valueChanged:m=>a(m,p)})]},p)),ee("div",{className:"add-button",children:[k("div",{children:ee(St,{disabled:nf(i,{name:""}),color:"theme",clicked:l,children:[k(rs,{size:20})," Add Param"]})}),ee(St,{disabled:!n,color:"success",clicked:h,children:[k(al,{size:20})," Save Changes"]})]})]})}const ESe="{myParam}This only appears when 'myParam' is at least 1{/myParam}",CSe="%myParam% will be replaced with the value of 'myParam'",TSe="You make 1 melee attack against an adjacent enemy. Roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.",ASe="{@myParam}This only appears when 'myParam' is at least 1{/myParam}",PSe="%@myParam% will be replaced with the value of 'myParam'",kSe="You make 1 melee attack against an adjacent enemy. Roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.";function OSe(){return ee("div",{className:"help",children:[k(vn,{name:"Description Syntax",startOpen:!1,children:ee("div",{className:"padding-md",style:{textAlign:"left"},children:[k("h2",{className:"text-info book",children:"Ability Params:"}),k("h3",{children:"Condition"}),k("p",{children:ESe}),k("h3",{children:"Value"}),k("p",{children:CSe}),k("h3",{children:"Example"}),k("p",{children:TSe}),k("h2",{className:"text-info book",children:"Global Params:"}),k("h3",{children:"Condition"}),k("p",{children:ASe}),k("h3",{children:"Value"}),k("p",{children:PSe}),k("h3",{children:"Example"}),k("p",{children:kSe})]})}),k(vn,{name:"Hotkeys",startOpen:!0,children:k("div",{className:"padding-md",style:{textAlign:"left"},children:ee("ul",{children:[ee("li",{children:[k("span",{className:"bold",children:"Shift + E"})," - Toggle Edit Mode"]}),ee("li",{children:[k("span",{className:"bold",children:"Shift + F"})," - Toggle Fast Build Mode"]})]})})})]})}function LR(){const{stats:t,setStats:e}=T.useContext(af),n=o=>{e({type:"add",stat:{id:"new-stat",name:"New Stat",color:"#fff"}})},r=o=>{e({type:"remove",stat:{id:o}})},i=(o,a,l)=>{e({type:"update",index:a,stat:{...t[a],[l]:o}})},s=()=>{e({type:"save"})};return k("div",{className:"stat-editor",children:ee("div",{className:"stats",children:[ze(t,(o,a)=>ee("div",{className:"stat-instance",children:[k("div",{className:"color",children:k(oc,{color:o.color||"#ffffff",colorChanged:l=>i(l,a,"color")})}),ee("div",{className:"top",children:[k("div",{className:"name",children:k(is,{blur:s,value:o.name,valueChanged:l=>i(l,a,"name")})}),k("button",{className:"remove-button",onClick:l=>r(o.id),children:k(xo,{})})]}),k("div",{className:"bottom",children:k("div",{className:"id",children:k(is,{blur:s,value:o.id,valueChanged:l=>i(l,a,"id")})})})]},a)),ee("button",{className:"new-button",onClick:n,children:["Add Stat ",k(rs,{})]})]})})}function BR(t,e){return Ve(t,{value:e})}function ISe(t,e){return ze([...t,...e],r=>({value:r.id,label:r.name}))}function RSe(t,e){return da(ISe(t,e),"label")}function MSe({valueChanged:t,defaultValue:e}){const{customUnits:n,defaultUnits:r}=T.useContext(as),[i,s]=T.useState(RSe(n,r));return k(bf,{className:"unit-select",styles:xf(),options:i,onChange:o=>t(o==null?void 0:o.value),defaultValue:e?BR(i,e):null,value:BR(i,e)})}function NR({unit:t,startEditable:e=!1,unitType:n="custom"}){var H;const{customUnits:r,defaultUnits:i,setCustomUnits:s,setDefaultUnits:o,selectedUnit:a,setSelectedUnit:l,setSavedBuild:c}=T.useContext(as),{appMode:h}=T.useContext(ls),[f,p]=T.useState(e),[m,v]=T.useState(t.name),[y,x]=T.useState(!1),[b,_]=T.useState(t.build||{});T.useEffect(()=>{t.name||p(!0)},[]);const w=()=>{n==="custom"?s({type:"update",unit:{...t,name:m,build:b}}):o({type:"update",unit:{...t,name:m,build:b}}),x(!1),p(!1)},E=()=>{n==="custom"?s({type:"remove",unit:t}):o({type:"remove",unit:t})},O=j=>{v(j),x(!0)},A=()=>{let j;n==="custom"?j=Ve(r,{id:t.id}):j=Ve(i,{id:t.id}),j.build?c({type:"imported",build:j.build}):c({type:"imported",build:{}}),l({type:n,unit:t})},F=j=>{const z=Ve([...r,...i],{id:j});_(z.build||{}),x(!0)},L=()=>{t.name?p(!1):E()};return f?ee("div",{className:"unit-card",children:[k("div",{className:"unit-card-row"}),ee("div",{className:"unit-card-row",children:[k(St,{color:"info",clicked:L,children:k(tE,{})}),k(is,{fullWidth:!0,autoFocus:!0,placeholder:"Name...",value:m,valueChanged:O}),k(St,{color:"danger",clicked:E,children:k(xo,{})})]}),ee("div",{className:"unit-card-row",children:["Copy from:",k(MSe,{defaultValue:void 0,valueChanged:F})]}),k("div",{className:"padding-sm-vertical",children:ee(Qi,{disabled:!y,type:"outline",color:"success",clicked:w,children:[k(al,{})," Save Unit"]})})]}):k("div",{onClick:A,className:co({"unit-card":!0,selectable:!0,selected:((H=a==null?void 0:a.unit)==null?void 0:H.id)===t.id}),children:ee("div",{className:"unit-card-row",children:[(n==="custom"||h==="edit")&&k(St,{color:"info",clicked:j=>p(!0),children:k(GS,{})}),k("div",{className:"unit-card-name",children:t.name})]})})}function FSe(){const{customUnits:t,setCustomUnits:e,defaultUnits:n,setDefaultUnits:r}=T.useContext(as),{appMode:i}=T.useContext(ls),s=()=>{e({type:"add",unit:{id:`unit-${Math.floor(Math.random()*2e4)}`}})},o=()=>{r({type:"add",unit:{id:`unit-${Math.floor(Math.random()*2e4)}`}})};return ee("div",{className:"units-panel",children:[k(vn,{name:"My Units",startOpen:!0,children:ee("div",{className:"padding-md",children:[k("div",{className:"unit-cards",children:t.map((a,l)=>k(NR,{unit:a,unitType:"custom"},a.id))}),k("div",{className:"padding-md-vertical",children:ee(Qi,{color:"info",type:"outline",clicked:s,children:["New Custom Unit ",k(_g,{})]})})]})}),k(vn,{name:"Standard Units",startOpen:!0,children:ee("div",{className:"padding-md",children:[k("div",{className:"unit-cards",children:n.map(a=>k(NR,{unit:a,unitType:"default"},a.id))}),i==="edit"&&k("div",{className:"padding-md-vertical",children:ee(Qi,{color:"info",type:"outline",clicked:o,children:["New Default Unit ",k(_g,{})]})})]})})]})}function FL({graphEvents$:t,side:e="left"}){const{appMode:n,selectedMenus:r,setSelectedMenus:i}=T.useContext(ls);return T.useState(r[e]),T.useState("info"),ee("div",{children:[r[e]==="sheet"&&k("div",{children:n==="build-slow"||n==="build-fast"?k(X_e,{}):ee("div",{children:[k(vn,{name:"Abilities",startOpen:!1,children:k(wSe,{})}),k(vn,{name:"Ability Types",startOpen:!1,children:k(_Se,{})}),k(vn,{name:"Global Params",startOpen:!1,children:k("div",{className:"padding-md",children:k(SSe,{})})}),k(vn,{name:"Stats",startOpen:!1,children:k(LR,{})})]})}),r[e]==="units"&&k(FSe,{}),r[e]==="code"&&k(rSe,{graphEvents$:t}),r[e]==="help"&&k(OSe,{}),r[e]==="stats"&&k(LR,{}),r[e]==="info"&&(n==="edit"?k(fSe,{graphEvents$:t}):k(pSe,{graphEvents$:t})),r[e]==="settings"&&k(vSe,{graphEvents$:t})]})}function DSe({graphEvents$:t}){const{node:e,selectedNodeId:n}=T.useContext(wo);return T.useContext(ls),T.useState("info"),T.useState(!!e),k(aJ,{children:k(FL,{graphEvents$:t,side:"left"})})}const LSe={sheet:"Character Sheet",code:"Save/Import",help:"Reference",units:"Units"},BSe={sheet:"Edit Items",code:"Save/Import",help:"Reference",units:"Units"};function NSe({children:t}){const{leftExpanded:e,rightExpanded:n,setRightExpanded:r,selectedMenus:i,appMode:s}=T.useContext(ls),[o,a]=T.useState(!1),[l,c]=T.useState("Character Sheet");let h;T.useEffect(()=>{c(s==="edit"?BSe[i.right]:LSe[i.right])},[i,s]);const f=m=>{m.newItem?r(!0):r(!n)},p=m=>{a(!o)};return h=o?k(ZZ,{}):k(XZ,{}),n?ee("div",{className:"sidebar-right expanded",children:[ee("div",{className:co({"sidebar-right-panel":!0,full:o,partial:n,"minus-right":e}),children:[ee("div",{onClick:p,className:"sidebar-right-panel-heading",children:[k("button",{className:"expander",children:h}),l]}),k("div",{className:"sidebar-right-panel-content",children:t})]}),k(Sg,{changed:f,side:"right"})]}):k("div",{className:"sidebar-right",children:k(Sg,{changed:f,side:"right"})})}function $Se({graphEvents$:t}){return k(NSe,{children:k(FL,{graphEvents$:t,side:"right"})})}function $R(t,e,n){return Ve([...t,...e],{id:n})}function USe({pointsSpent:t}){var o;const{customUnits:e,defaultUnits:n,selectedUnit:r}=T.useContext(as),[i,s]=T.useState($R(n,e,(o=r==null?void 0:r.unit)==null?void 0:o.id));return T.useEffect(()=>{var a;s($R(n,e,(a=r==null?void 0:r.unit)==null?void 0:a.id))},[r]),ee("div",{className:"point-counter",children:[i&&ee("div",{children:["Unit: ",i==null?void 0:i.name]}),ee("div",{children:["Spent: ",t]})]})}var zSe={value:()=>{}};function DL(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Bm(n)}function Bm(t){this._=t}function HSe(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Bm.prototype=DL.prototype={constructor:Bm,on:function(t,e){var n=this._,r=HSe(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=jSe(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=UR(n[i],t.name,e);else if(e==null)for(i in n)n[i]=UR(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Bm(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function jSe(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function UR(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=zSe,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var ac=0,Oh=0,ph=0,LL=1e3,Ng,Ih,$g=0,ul=0,g0=0,Pd=typeof performance=="object"&&performance.now?performance:Date,BL=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function NL(){return ul||(BL(WSe),ul=Pd.now()+g0)}function WSe(){ul=0}function Vw(){this._call=this._time=this._next=null}Vw.prototype=$L.prototype={constructor:Vw,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?NL():+n)+(e==null?0:+e),!this._next&&Ih!==this&&(Ih?Ih._next=this:Ng=this,Ih=this),this._call=t,this._time=n,qw()},stop:function(){this._call&&(this._call=null,this._time=1/0,qw())}};function $L(t,e,n){var r=new Vw;return r.restart(t,e,n),r}function GSe(){NL(),++ac;for(var t=Ng,e;t;)(e=ul-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ac}function zR(){ul=($g=Pd.now())+g0,ac=Oh=0;try{GSe()}finally{ac=0,qSe(),ul=0}}function VSe(){var t=Pd.now(),e=t-$g;e>LL&&(g0-=e,$g=t)}function qSe(){for(var t,e=Ng,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Ng=n);Ih=t,qw(r)}function qw(t){if(!ac){Oh&&(Oh=clearTimeout(Oh));var e=t-ul;e>24?(t<1/0&&(Oh=setTimeout(zR,t-Pd.now()-g0)),ph&&(ph=clearInterval(ph))):(ph||($g=Pd.now(),ph=setInterval(VSe,LL)),ac=1,BL(zR))}}function XSe(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function i(){var s,o=n.length,a,l=0,c=0;for(s=0;s<o;++s)a=n[s],l+=a.x,c+=a.y;for(l=(l/o-t)*r,c=(c/o-e)*r,s=0;s<o;++s)a=n[s],a.x-=l,a.y-=c}return i.initialize=function(s){n=s},i.x=function(s){return arguments.length?(t=+s,i):t},i.y=function(s){return arguments.length?(e=+s,i):e},i.strength=function(s){return arguments.length?(r=+s,i):r},i}function YSe(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return UL(this.cover(e,n),e,n,t)}function UL(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,s=t._root,o={data:r},a=t._x0,l=t._y0,c=t._x1,h=t._y1,f,p,m,v,y,x,b,_;if(!s)return t._root=o,t;for(;s.length;)if((y=e>=(f=(a+c)/2))?a=f:c=f,(x=n>=(p=(l+h)/2))?l=p:h=p,i=s,!(s=s[b=x<<1|y]))return i[b]=o,t;if(m=+t._x.call(null,s.data),v=+t._y.call(null,s.data),e===m&&n===v)return o.next=s,i?i[b]=o:t._root=o,t;do i=i?i[b]=new Array(4):t._root=new Array(4),(y=e>=(f=(a+c)/2))?a=f:c=f,(x=n>=(p=(l+h)/2))?l=p:h=p;while((b=x<<1|y)===(_=(v>=p)<<1|m>=f));return i[_]=s,i[b]=o,t}function KSe(t){var e,n,r=t.length,i,s,o=new Array(r),a=new Array(r),l=1/0,c=1/0,h=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(s=+this._y.call(null,e))||(o[n]=i,a[n]=s,i<l&&(l=i),i>h&&(h=i),s<c&&(c=s),s>f&&(f=s));if(l>h||c>f)return this;for(this.cover(l,c).cover(h,f),n=0;n<r;++n)UL(this,o[n],a[n],t[n]);return this}function ZSe(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,s=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,s=(r=Math.floor(e))+1;else{for(var o=i-n||1,a=this._root,l,c;n>t||t>=i||r>e||e>=s;)switch(c=(e<r)<<1|t<n,l=new Array(4),l[c]=a,a=l,o*=2,c){case 0:i=n+o,s=r+o;break;case 1:n=i-o,s=r+o;break;case 2:i=n+o,r=s-o;break;case 3:n=i-o,r=s-o;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=s,this}function QSe(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function JSe(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Zn(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function eEe(t,e,n){var r,i=this._x0,s=this._y0,o,a,l,c,h=this._x1,f=this._y1,p=[],m=this._root,v,y;for(m&&p.push(new Zn(m,i,s,h,f)),n==null?n=1/0:(i=t-n,s=e-n,h=t+n,f=e+n,n*=n);v=p.pop();)if(!(!(m=v.node)||(o=v.x0)>h||(a=v.y0)>f||(l=v.x1)<i||(c=v.y1)<s))if(m.length){var x=(o+l)/2,b=(a+c)/2;p.push(new Zn(m[3],x,b,l,c),new Zn(m[2],o,b,x,c),new Zn(m[1],x,a,l,b),new Zn(m[0],o,a,x,b)),(y=(e>=b)<<1|t>=x)&&(v=p[p.length-1],p[p.length-1]=p[p.length-1-y],p[p.length-1-y]=v)}else{var _=t-+this._x.call(null,m.data),w=e-+this._y.call(null,m.data),E=_*_+w*w;if(E<n){var O=Math.sqrt(n=E);i=t-O,s=e-O,h=t+O,f=e+O,r=m.data}}return r}function tEe(t){if(isNaN(h=+this._x.call(null,t))||isNaN(f=+this._y.call(null,t)))return this;var e,n=this._root,r,i,s,o=this._x0,a=this._y0,l=this._x1,c=this._y1,h,f,p,m,v,y,x,b;if(!n)return this;if(n.length)for(;;){if((v=h>=(p=(o+l)/2))?o=p:l=p,(y=f>=(m=(a+c)/2))?a=m:c=m,e=n,!(n=n[x=y<<1|v]))return this;if(!n.length)break;(e[x+1&3]||e[x+2&3]||e[x+3&3])&&(r=e,b=x)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(s=n.next)&&delete n.next,i?(s?i.next=s:delete i.next,this):e?(s?e[x]=s:delete e[x],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[b]=n:this._root=n),this):(this._root=s,this)}function nEe(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function rEe(){return this._root}function iEe(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function sEe(t){var e=[],n,r=this._root,i,s,o,a,l;for(r&&e.push(new Zn(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,s=n.x0,o=n.y0,a=n.x1,l=n.y1)&&r.length){var c=(s+a)/2,h=(o+l)/2;(i=r[3])&&e.push(new Zn(i,c,h,a,l)),(i=r[2])&&e.push(new Zn(i,s,h,c,l)),(i=r[1])&&e.push(new Zn(i,c,o,a,h)),(i=r[0])&&e.push(new Zn(i,s,o,c,h))}return this}function oEe(t){var e=[],n=[],r;for(this._root&&e.push(new Zn(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var s,o=r.x0,a=r.y0,l=r.x1,c=r.y1,h=(o+l)/2,f=(a+c)/2;(s=i[0])&&e.push(new Zn(s,o,a,h,f)),(s=i[1])&&e.push(new Zn(s,h,a,l,f)),(s=i[2])&&e.push(new Zn(s,o,f,h,c)),(s=i[3])&&e.push(new Zn(s,h,f,l,c))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function aEe(t){return t[0]}function lEe(t){return arguments.length?(this._x=t,this):this._x}function uEe(t){return t[1]}function cEe(t){return arguments.length?(this._y=t,this):this._y}function x2(t,e,n){var r=new w2(e??aEe,n??uEe,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function w2(t,e,n,r,i,s){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=s,this._root=void 0}function HR(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var rr=x2.prototype=w2.prototype;rr.copy=function(){var t=new w2(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=HR(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=HR(r));return t};rr.add=YSe;rr.addAll=KSe;rr.cover=ZSe;rr.data=QSe;rr.extent=JSe;rr.find=eEe;rr.remove=tEe;rr.removeAll=nEe;rr.root=rEe;rr.size=iEe;rr.visit=sEe;rr.visitAfter=oEe;rr.x=lEe;rr.y=cEe;function Ka(t){return function(){return t}}function Ho(t){return(t()-.5)*1e-6}function hEe(t){return t.x+t.vx}function dEe(t){return t.y+t.vy}function fEe(t){var e,n,r,i=1,s=1;typeof t!="function"&&(t=Ka(t==null?1:+t));function o(){for(var c,h=e.length,f,p,m,v,y,x,b=0;b<s;++b)for(f=x2(e,hEe,dEe).visitAfter(a),c=0;c<h;++c)p=e[c],y=n[p.index],x=y*y,m=p.x+p.vx,v=p.y+p.vy,f.visit(_);function _(w,E,O,A,F){var L=w.data,H=w.r,j=y+H;if(L){if(L.index>p.index){var z=m-L.x-L.vx,W=v-L.y-L.vy,q=z*z+W*W;q<j*j&&(z===0&&(z=Ho(r),q+=z*z),W===0&&(W=Ho(r),q+=W*W),q=(j-(q=Math.sqrt(q)))/q*i,p.vx+=(z*=q)*(j=(H*=H)/(x+H)),p.vy+=(W*=q)*j,L.vx-=z*(j=1-j),L.vy-=W*j)}return}return E>m+j||A<m-j||O>v+j||F<v-j}}function a(c){if(c.data)return c.r=n[c.data.index];for(var h=c.r=0;h<4;++h)c[h]&&c[h].r>c.r&&(c.r=c[h].r)}function l(){if(e){var c,h=e.length,f;for(n=new Array(h),c=0;c<h;++c)f=e[c],n[f.index]=+t(f,c,e)}}return o.initialize=function(c,h){e=c,r=h,l()},o.iterations=function(c){return arguments.length?(s=+c,o):s},o.strength=function(c){return arguments.length?(i=+c,o):i},o.radius=function(c){return arguments.length?(t=typeof c=="function"?c:Ka(+c),l(),o):t},o}function pEe(t){return t.index}function jR(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function mEe(t){var e=pEe,n=f,r,i=Ka(30),s,o,a,l,c,h=1;t==null&&(t=[]);function f(x){return 1/Math.min(a[x.source.index],a[x.target.index])}function p(x){for(var b=0,_=t.length;b<h;++b)for(var w=0,E,O,A,F,L,H,j;w<_;++w)E=t[w],O=E.source,A=E.target,F=A.x+A.vx-O.x-O.vx||Ho(c),L=A.y+A.vy-O.y-O.vy||Ho(c),H=Math.sqrt(F*F+L*L),H=(H-s[w])/H*x*r[w],F*=H,L*=H,A.vx-=F*(j=l[w]),A.vy-=L*j,O.vx+=F*(j=1-j),O.vy+=L*j}function m(){if(o){var x,b=o.length,_=t.length,w=new Map(o.map((O,A)=>[e(O,A,o),O])),E;for(x=0,a=new Array(b);x<_;++x)E=t[x],E.index=x,typeof E.source!="object"&&(E.source=jR(w,E.source)),typeof E.target!="object"&&(E.target=jR(w,E.target)),a[E.source.index]=(a[E.source.index]||0)+1,a[E.target.index]=(a[E.target.index]||0)+1;for(x=0,l=new Array(_);x<_;++x)E=t[x],l[x]=a[E.source.index]/(a[E.source.index]+a[E.target.index]);r=new Array(_),v(),s=new Array(_),y()}}function v(){if(o)for(var x=0,b=t.length;x<b;++x)r[x]=+n(t[x],x,t)}function y(){if(o)for(var x=0,b=t.length;x<b;++x)s[x]=+i(t[x],x,t)}return p.initialize=function(x,b){o=x,c=b,m()},p.links=function(x){return arguments.length?(t=x,m(),p):t},p.id=function(x){return arguments.length?(e=x,p):e},p.iterations=function(x){return arguments.length?(h=+x,p):h},p.strength=function(x){return arguments.length?(n=typeof x=="function"?x:Ka(+x),v(),p):n},p.distance=function(x){return arguments.length?(i=typeof x=="function"?x:Ka(+x),y(),p):i},p}const gEe=1664525,vEe=1013904223,WR=4294967296;function yEe(){let t=1;return()=>(t=(gEe*t+vEe)%WR)/WR}function bEe(t){return t.x}function xEe(t){return t.y}var wEe=10,_Ee=Math.PI*(3-Math.sqrt(5));function GR(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),s=0,o=.6,a=new Map,l=$L(f),c=DL("tick","end"),h=yEe();t==null&&(t=[]);function f(){p(),c.call("tick",e),n<r&&(l.stop(),c.call("end",e))}function p(y){var x,b=t.length,_;y===void 0&&(y=1);for(var w=0;w<y;++w)for(n+=(s-n)*i,a.forEach(function(E){E(n)}),x=0;x<b;++x)_=t[x],_.fx==null?_.x+=_.vx*=o:(_.x=_.fx,_.vx=0),_.fy==null?_.y+=_.vy*=o:(_.y=_.fy,_.vy=0);return e}function m(){for(var y=0,x=t.length,b;y<x;++y){if(b=t[y],b.index=y,b.fx!=null&&(b.x=b.fx),b.fy!=null&&(b.y=b.fy),isNaN(b.x)||isNaN(b.y)){var _=wEe*Math.sqrt(.5+y),w=y*_Ee;b.x=_*Math.cos(w),b.y=_*Math.sin(w)}(isNaN(b.vx)||isNaN(b.vy))&&(b.vx=b.vy=0)}}function v(y){return y.initialize&&y.initialize(t,h),y}return m(),e={tick:p,restart:function(){return l.restart(f),e},stop:function(){return l.stop(),e},nodes:function(y){return arguments.length?(t=y,m(),a.forEach(v),e):t},alpha:function(y){return arguments.length?(n=+y,e):n},alphaMin:function(y){return arguments.length?(r=+y,e):r},alphaDecay:function(y){return arguments.length?(i=+y,e):+i},alphaTarget:function(y){return arguments.length?(s=+y,e):s},velocityDecay:function(y){return arguments.length?(o=1-y,e):1-o},randomSource:function(y){return arguments.length?(h=y,a.forEach(v),e):h},force:function(y,x){return arguments.length>1?(x==null?a.delete(y):a.set(y,v(x)),e):a.get(y)},find:function(y,x,b){var _=0,w=t.length,E,O,A,F,L;for(b==null?b=1/0:b*=b,_=0;_<w;++_)F=t[_],E=y-F.x,O=x-F.y,A=E*E+O*O,A<b&&(L=F,b=A);return L},on:function(y,x){return arguments.length>1?(c.on(y,x),e):c.on(y)}}}function SEe(){var t,e,n,r,i=Ka(-30),s,o=1,a=1/0,l=.81;function c(m){var v,y=t.length,x=x2(t,bEe,xEe).visitAfter(f);for(r=m,v=0;v<y;++v)e=t[v],x.visit(p)}function h(){if(t){var m,v=t.length,y;for(s=new Array(v),m=0;m<v;++m)y=t[m],s[y.index]=+i(y,m,t)}}function f(m){var v=0,y,x,b=0,_,w,E;if(m.length){for(_=w=E=0;E<4;++E)(y=m[E])&&(x=Math.abs(y.value))&&(v+=y.value,b+=x,_+=x*y.x,w+=x*y.y);m.x=_/b,m.y=w/b}else{y=m,y.x=y.data.x,y.y=y.data.y;do v+=s[y.data.index];while(y=y.next)}m.value=v}function p(m,v,y,x){if(!m.value)return!0;var b=m.x-e.x,_=m.y-e.y,w=x-v,E=b*b+_*_;if(w*w/l<E)return E<a&&(b===0&&(b=Ho(n),E+=b*b),_===0&&(_=Ho(n),E+=_*_),E<o&&(E=Math.sqrt(o*E)),e.vx+=b*m.value*r/E,e.vy+=_*m.value*r/E),!0;if(m.length||E>=a)return;(m.data!==e||m.next)&&(b===0&&(b=Ho(n),E+=b*b),_===0&&(_=Ho(n),E+=_*_),E<o&&(E=Math.sqrt(o*E)));do m.data!==e&&(w=s[m.data.index]*r/E,e.vx+=b*w,e.vy+=_*w);while(m=m.next)}return c.initialize=function(m,v){t=m,n=v,h()},c.strength=function(m){return arguments.length?(i=typeof m=="function"?m:Ka(+m),h(),c):i},c.distanceMin=function(m){return arguments.length?(o=m*m,c):Math.sqrt(o)},c.distanceMax=function(m){return arguments.length?(a=m*m,c):Math.sqrt(a)},c.theta=function(m){return arguments.length?(l=m*m,c):Math.sqrt(l)},c}function Rh(t,e,n){this.k=t,this.x=e,this.y=n}Rh.prototype={constructor:Rh,scale:function(t){return t===1?this:new Rh(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Rh(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Rh.prototype;var ma=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(ma||{}),_2=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(_2||{}),Ug=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(Ug||{}),Me=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(Me||{}),qi=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(qi||{}),ge=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(ge||{}),Za=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(Za||{}),ke=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(ke||{}),zg=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(zg||{}),As=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(As||{}),Is=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(Is||{}),ss=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(ss||{}),Ai=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(Ai||{}),Gi=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(Gi||{}),v0=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(v0||{}),Br=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(Br||{}),ln=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(ln||{}),zL=(t=>(t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA",t))(zL||{}),qt=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(qt||{}),Ji=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(Ji||{});const HL={createCanvas:(t,e)=>{const n=document.createElement("canvas");return n.width=t,n.height=e,n},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},we={ADAPTER:HL,RESOLUTION:1,RENDER_OPTIONS:{view:null,width:800,height:600,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,clearBeforeRender:!0,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,hello:!1},CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var sb=/iPhone/i,VR=/iPod/i,qR=/iPad/i,XR=/\biOS-universal(?:.+)Mac\b/i,ob=/\bAndroid(?:.+)Mobile\b/i,YR=/Android/i,ql=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Yp=/Silk/i,Xs=/Windows Phone/i,KR=/\bWindows(?:.+)ARM\b/i,ZR=/BlackBerry/i,QR=/BB10/i,JR=/Opera Mini/i,e3=/\b(CriOS|Chrome)(?:.+)Mobile/i,t3=/Mobile(?:.+)Firefox\b/i,n3=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function EEe(t){return function(e){return e.test(t)}}function CEe(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var n=e.userAgent,r=n.split("[FBAN");typeof r[1]<"u"&&(n=r[0]),r=n.split("Twitter"),typeof r[1]<"u"&&(n=r[0]);var i=EEe(n),s={apple:{phone:i(sb)&&!i(Xs),ipod:i(VR),tablet:!i(sb)&&(i(qR)||n3(e))&&!i(Xs),universal:i(XR),device:(i(sb)||i(VR)||i(qR)||i(XR)||n3(e))&&!i(Xs)},amazon:{phone:i(ql),tablet:!i(ql)&&i(Yp),device:i(ql)||i(Yp)},android:{phone:!i(Xs)&&i(ql)||!i(Xs)&&i(ob),tablet:!i(Xs)&&!i(ql)&&!i(ob)&&(i(Yp)||i(YR)),device:!i(Xs)&&(i(ql)||i(Yp)||i(ob)||i(YR))||i(/\bokhttp\b/i)},windows:{phone:i(Xs),tablet:i(KR),device:i(Xs)||i(KR)},other:{blackberry:i(ZR),blackberry10:i(QR),opera:i(JR),firefox:i(t3),chrome:i(e3),device:i(ZR)||i(QR)||i(JR)||i(t3)||i(e3)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const Xi=CEe(globalThis.navigator);we.RETINA_PREFIX=/@([0-9\.]+)x/;we.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var na={},TEe={get exports(){return na},set exports(t){na=t}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,h){this.fn=l,this.context=c,this.once=h||!1}function s(l,c,h,f,p){if(typeof h!="function")throw new TypeError("The listener must be a function");var m=new i(h,f||l,p),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],h,f;if(this._eventsCount===0)return c;for(f in h=this._events)e.call(h,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},a.prototype.listeners=function(c){var h=n?n+c:c,f=this._events[h];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,v=new Array(m);p<m;p++)v[p]=f[p].fn;return v},a.prototype.listenerCount=function(c){var h=n?n+c:c,f=this._events[h];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,h,f,p,m,v){var y=n?n+c:c;if(!this._events[y])return!1;var x=this._events[y],b=arguments.length,_,w;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,h),!0;case 3:return x.fn.call(x.context,h,f),!0;case 4:return x.fn.call(x.context,h,f,p),!0;case 5:return x.fn.call(x.context,h,f,p,m),!0;case 6:return x.fn.call(x.context,h,f,p,m,v),!0}for(w=1,_=new Array(b-1);w<b;w++)_[w-1]=arguments[w];x.fn.apply(x.context,_)}else{var E=x.length,O;for(w=0;w<E;w++)switch(x[w].once&&this.removeListener(c,x[w].fn,void 0,!0),b){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,h);break;case 3:x[w].fn.call(x[w].context,h,f);break;case 4:x[w].fn.call(x[w].context,h,f,p);break;default:if(!_)for(O=1,_=new Array(b-1);O<b;O++)_[O-1]=arguments[O];x[w].fn.apply(x[w].context,_)}}return!0},a.prototype.on=function(c,h,f){return s(this,c,h,f,!1)},a.prototype.once=function(c,h,f){return s(this,c,h,f,!0)},a.prototype.removeListener=function(c,h,f,p){var m=n?n+c:c;if(!this._events[m])return this;if(!h)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===h&&(!p||v.once)&&(!f||v.context===f)&&o(this,m);else{for(var y=0,x=[],b=v.length;y<b;y++)(v[y].fn!==h||p&&!v[y].once||f&&v[y].context!==f)&&x.push(v[y]);x.length?this._events[m]=x.length===1?x[0]:x:o(this,m)}return this},a.prototype.removeAllListeners=function(c){var h;return c?(h=n?n+c:c,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(TEe);var kd={},AEe={get exports(){return kd},set exports(t){kd=t}};AEe.exports=y0;kd.default=y0;function y0(t,e,n){n=n||2;var r=e&&e.length,i=r?e[0]*n:t.length,s=jL(t,0,i,n,!0),o=[];if(!s||s.next===s.prev)return o;var a,l,c,h,f,p,m;if(r&&(s=REe(t,e,s,n)),t.length>80*n){a=c=t[0],l=h=t[1];for(var v=n;v<i;v+=n)f=t[v],p=t[v+1],f<a&&(a=f),p<l&&(l=p),f>c&&(c=f),p>h&&(h=p);m=Math.max(c-a,h-l),m=m!==0?32767/m:0}return Od(s,o,n,a,l,m,0),o}function jL(t,e,n,r,i){var s,o;if(i===Kw(t,e,n,r)>0)for(s=e;s<n;s+=r)o=r3(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=r3(s,t[s],t[s+1],o);return o&&b0(o,o.next)&&(Rd(o),o=o.next),o}function cl(t,e){if(!t)return t;e||(e=t);var n=t,r;do if(r=!1,!n.steiner&&(b0(n,n.next)||Xt(n.prev,n,n.next)===0)){if(Rd(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Od(t,e,n,r,i,s,o){if(t){!o&&s&&BEe(t,r,i,s);for(var a=t,l,c;t.prev!==t.next;){if(l=t.prev,c=t.next,s?kEe(t,r,i,s):PEe(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),Rd(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=OEe(cl(t),e,n),Od(t,e,n,r,i,s,2)):o===2&&IEe(t,e,n,r,i,s):Od(cl(t),e,n,r,i,s,1);break}}}}function PEe(t){var e=t.prev,n=t,r=t.next;if(Xt(e,n,r)>=0)return!1;for(var i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,c=r.y,h=i<s?i<o?i:o:s<o?s:o,f=a<l?a<c?a:c:l<c?l:c,p=i>s?i>o?i:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c,v=r.next;v!==e;){if(v.x>=h&&v.x<=p&&v.y>=f&&v.y<=m&&Ou(i,a,s,l,o,c,v.x,v.y)&&Xt(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function kEe(t,e,n,r){var i=t.prev,s=t,o=t.next;if(Xt(i,s,o)>=0)return!1;for(var a=i.x,l=s.x,c=o.x,h=i.y,f=s.y,p=o.y,m=a<l?a<c?a:c:l<c?l:c,v=h<f?h<p?h:p:f<p?f:p,y=a>l?a>c?a:c:l>c?l:c,x=h>f?h>p?h:p:f>p?f:p,b=Xw(m,v,e,n,r),_=Xw(y,x,e,n,r),w=t.prevZ,E=t.nextZ;w&&w.z>=b&&E&&E.z<=_;){if(w.x>=m&&w.x<=y&&w.y>=v&&w.y<=x&&w!==i&&w!==o&&Ou(a,h,l,f,c,p,w.x,w.y)&&Xt(w.prev,w,w.next)>=0||(w=w.prevZ,E.x>=m&&E.x<=y&&E.y>=v&&E.y<=x&&E!==i&&E!==o&&Ou(a,h,l,f,c,p,E.x,E.y)&&Xt(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;w&&w.z>=b;){if(w.x>=m&&w.x<=y&&w.y>=v&&w.y<=x&&w!==i&&w!==o&&Ou(a,h,l,f,c,p,w.x,w.y)&&Xt(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;E&&E.z<=_;){if(E.x>=m&&E.x<=y&&E.y>=v&&E.y<=x&&E!==i&&E!==o&&Ou(a,h,l,f,c,p,E.x,E.y)&&Xt(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function OEe(t,e,n){var r=t;do{var i=r.prev,s=r.next.next;!b0(i,s)&&WL(i,r,r.next,s)&&Id(i,s)&&Id(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),Rd(r),Rd(r.next),r=t=s),r=r.next}while(r!==t);return cl(r)}function IEe(t,e,n,r,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&UEe(o,a)){var l=GL(o,a);o=cl(o,o.next),l=cl(l,l.next),Od(o,e,n,r,i,s,0),Od(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function REe(t,e,n,r){var i=[],s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,c=jL(t,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push($Ee(c));for(i.sort(MEe),s=0;s<i.length;s++)n=FEe(i[s],n);return n}function MEe(t,e){return t.x-e.x}function FEe(t,e){var n=DEe(t,e);if(!n)return e;var r=GL(n,t);return cl(r,r.next),cl(n,n.next)}function DEe(t,e){var n=e,r=t.x,i=t.y,s=-1/0,o;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var a=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=r&&a>s&&(s=a,o=n.x<n.next.x?n:n.next,a===r))return o}n=n.next}while(n!==e);if(!o)return null;var l=o,c=o.x,h=o.y,f=1/0,p;n=o;do r>=n.x&&n.x>=c&&r!==n.x&&Ou(i<h?r:s,i,c,h,i<h?s:r,i,n.x,n.y)&&(p=Math.abs(i-n.y)/(r-n.x),Id(n,t)&&(p<f||p===f&&(n.x>o.x||n.x===o.x&&LEe(o,n)))&&(o=n,f=p)),n=n.next;while(n!==l);return o}function LEe(t,e){return Xt(t.prev,t,e.prev)<0&&Xt(e.next,t,t.next)<0}function BEe(t,e,n,r){var i=t;do i.z===0&&(i.z=Xw(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,NEe(i)}function NEe(t){var e,n,r,i,s,o,a,l,c=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,c*=2}while(o>1);return t}function Xw(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function $Ee(t){var e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Ou(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function UEe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!zEe(t,e)&&(Id(t,e)&&Id(e,t)&&HEe(t,e)&&(Xt(t.prev,t,e.prev)||Xt(t,e.prev,e))||b0(t,e)&&Xt(t.prev,t,t.next)>0&&Xt(e.prev,e,e.next)>0)}function Xt(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function b0(t,e){return t.x===e.x&&t.y===e.y}function WL(t,e,n,r){var i=Zp(Xt(t,e,n)),s=Zp(Xt(t,e,r)),o=Zp(Xt(n,r,t)),a=Zp(Xt(n,r,e));return!!(i!==s&&o!==a||i===0&&Kp(t,n,e)||s===0&&Kp(t,r,e)||o===0&&Kp(n,t,r)||a===0&&Kp(n,e,r))}function Kp(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Zp(t){return t>0?1:t<0?-1:0}function zEe(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&WL(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Id(t,e){return Xt(t.prev,t,t.next)<0?Xt(t,e,t.next)>=0&&Xt(t,t.prev,e)>=0:Xt(t,e,t.prev)<0||Xt(t,t.next,e)<0}function HEe(t,e){var n=t,r=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function GL(t,e){var n=new Yw(t.i,t.x,t.y),r=new Yw(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function r3(t,e,n,r){var i=new Yw(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Rd(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Yw(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}y0.deviation=function(t,e,n,r){var i=e&&e.length,s=i?e[0]*n:t.length,o=Math.abs(Kw(t,0,s,n));if(i)for(var a=0,l=e.length;a<l;a++){var c=e[a]*n,h=a<l-1?e[a+1]*n:t.length;o-=Math.abs(Kw(t,c,h,n))}var f=0;for(a=0;a<r.length;a+=3){var p=r[a]*n,m=r[a+1]*n,v=r[a+2]*n;f+=Math.abs((t[p]-t[v])*(t[m+1]-t[p+1])-(t[p]-t[m])*(t[v+1]-t[p+1]))}return o===0&&f===0?0:Math.abs((f-o)/o)};function Kw(t,e,n,r){for(var i=0,s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}y0.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)n.vertices.push(t[i][s][o]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n};var Hg={},jEe={get exports(){return Hg},set exports(t){Hg=t}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(t,e){(function(n){var r=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof hr=="object"&&hr;(s.global===s||s.window===s||s.self===s)&&(n=s);var o,a=2147483647,l=36,c=1,h=26,f=38,p=700,m=72,v=128,y="-",x=/^xn--/,b=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},E=l-c,O=Math.floor,A=String.fromCharCode,F;function L(G){throw RangeError(w[G])}function H(G,R){for(var D=G.length,Q=[];D--;)Q[D]=R(G[D]);return Q}function j(G,R){var D=G.split("@"),Q="";D.length>1&&(Q=D[0]+"@",G=D[1]),G=G.replace(_,".");var K=G.split("."),$=H(K,R).join(".");return Q+$}function z(G){for(var R=[],D=0,Q=G.length,K,$;D<Q;)K=G.charCodeAt(D++),K>=55296&&K<=56319&&D<Q?($=G.charCodeAt(D++),($&64512)==56320?R.push(((K&1023)<<10)+($&1023)+65536):(R.push(K),D--)):R.push(K);return R}function W(G){return H(G,function(R){var D="";return R>65535&&(R-=65536,D+=A(R>>>10&1023|55296),R=56320|R&1023),D+=A(R),D}).join("")}function q(G){return G-48<10?G-22:G-65<26?G-65:G-97<26?G-97:l}function Y(G,R){return G+22+75*(G<26)-((R!=0)<<5)}function de(G,R,D){var Q=0;for(G=D?O(G/p):G>>1,G+=O(G/R);G>E*h>>1;Q+=l)G=O(G/E);return O(Q+(E+1)*G/(G+f))}function ce(G){var R=[],D=G.length,Q,K=0,$=v,ne=m,me,Ie,Re,Ye,Se,et,tt,rt,Ot;for(me=G.lastIndexOf(y),me<0&&(me=0),Ie=0;Ie<me;++Ie)G.charCodeAt(Ie)>=128&&L("not-basic"),R.push(G.charCodeAt(Ie));for(Re=me>0?me+1:0;Re<D;){for(Ye=K,Se=1,et=l;Re>=D&&L("invalid-input"),tt=q(G.charCodeAt(Re++)),(tt>=l||tt>O((a-K)/Se))&&L("overflow"),K+=tt*Se,rt=et<=ne?c:et>=ne+h?h:et-ne,!(tt<rt);et+=l)Ot=l-rt,Se>O(a/Ot)&&L("overflow"),Se*=Ot;Q=R.length+1,ne=de(K-Ye,Q,Ye==0),O(K/Q)>a-$&&L("overflow"),$+=O(K/Q),K%=Q,R.splice(K++,0,$)}return W(R)}function te(G){var R,D,Q,K,$,ne,me,Ie,Re,Ye,Se,et=[],tt,rt,Ot,Kr;for(G=z(G),tt=G.length,R=v,D=0,$=m,ne=0;ne<tt;++ne)Se=G[ne],Se<128&&et.push(A(Se));for(Q=K=et.length,K&&et.push(y);Q<tt;){for(me=a,ne=0;ne<tt;++ne)Se=G[ne],Se>=R&&Se<me&&(me=Se);for(rt=Q+1,me-R>O((a-D)/rt)&&L("overflow"),D+=(me-R)*rt,R=me,ne=0;ne<tt;++ne)if(Se=G[ne],Se<R&&++D>a&&L("overflow"),Se==R){for(Ie=D,Re=l;Ye=Re<=$?c:Re>=$+h?h:Re-$,!(Ie<Ye);Re+=l)Kr=Ie-Ye,Ot=l-Ye,et.push(A(Y(Ye+Kr%Ot,0))),Ie=O(Kr/Ot);et.push(A(Y(Ie,0))),$=de(D,rt,Q==K),D=0,++Q}++D,++R}return et.join("")}function Z(G){return j(G,function(R){return x.test(R)?ce(R.slice(4).toLowerCase()):R})}function le(G){return j(G,function(R){return b.test(R)?"xn--"+te(R):R})}if(o={version:"1.3.2",ucs2:{decode:z,encode:W},decode:ce,encode:te,toASCII:le,toUnicode:Z},r&&i)if(t.exports==r)i.exports=o;else for(F in o)o.hasOwnProperty(F)&&(r[F]=o[F]);else n.punycode=o})(hr)})(jEe,Hg);var WEe={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},Md={};function GEe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var VEe=function(t,e,n,r){e=e||"&",n=n||"=";var i={};if(typeof t!="string"||t.length===0)return i;var s=/\+/g;t=t.split(e);var o=1e3;r&&typeof r.maxKeys=="number"&&(o=r.maxKeys);var a=t.length;o>0&&a>o&&(a=o);for(var l=0;l<a;++l){var c=t[l].replace(s,"%20"),h=c.indexOf(n),f,p,m,v;h>=0?(f=c.substr(0,h),p=c.substr(h+1)):(f=c,p=""),m=decodeURIComponent(f),v=decodeURIComponent(p),GEe(i,m)?Array.isArray(i[m])?i[m].push(v):i[m]=[i[m],v]:i[m]=v}return i},mh=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},qEe=function(t,e,n,r){return e=e||"&",n=n||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(i){var s=encodeURIComponent(mh(i))+n;return Array.isArray(t[i])?t[i].map(function(o){return s+encodeURIComponent(mh(o))}).join(e):s+encodeURIComponent(mh(t[i]))}).join(e):r?encodeURIComponent(mh(r))+n+encodeURIComponent(mh(t)):""};Md.decode=Md.parse=VEe;Md.encode=Md.stringify=qEe;var XEe=Hg,ws=WEe,YEe=x0,KEe=a2e,ZEe=o2e;function es(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var QEe=/^([a-z0-9.+-]+:)/i,JEe=/:[0-9]*$/,e2e=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,t2e=["<",">",'"',"`"," ","\r",`
`,"	"],n2e=["{","}","|","\\","^","`"].concat(t2e),Zw=["'"].concat(n2e),i3=["%","/","?",";","#"].concat(Zw),s3=["/","?","#"],r2e=255,o3=/^[+a-z0-9A-Z_-]{0,63}$/,i2e=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,s2e={javascript:!0,"javascript:":!0},Qw={javascript:!0,"javascript:":!0},Wu={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Jw=Md;function x0(t,e,n){if(t&&ws.isObject(t)&&t instanceof es)return t;var r=new es;return r.parse(t,e,n),r}es.prototype.parse=function(t,e,n){if(!ws.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),i=r!==-1&&r<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!n&&t.split("#").length===1){var l=e2e.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=Jw.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var c=QEe.exec(a);if(c){c=c[0];var h=c.toLowerCase();this.protocol=h,a=a.substr(c.length)}if(n||c||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var f=a.substr(0,2)==="//";f&&!(c&&Qw[c])&&(a=a.substr(2),this.slashes=!0)}if(!Qw[c]&&(f||c&&!Wu[c])){for(var p=-1,m=0;m<s3.length;m++){var v=a.indexOf(s3[m]);v!==-1&&(p===-1||v<p)&&(p=v)}var y,x;p===-1?x=a.lastIndexOf("@"):x=a.lastIndexOf("@",p),x!==-1&&(y=a.slice(0,x),a=a.slice(x+1),this.auth=decodeURIComponent(y)),p=-1;for(var m=0;m<i3.length;m++){var v=a.indexOf(i3[m]);v!==-1&&(p===-1||v<p)&&(p=v)}p===-1&&(p=a.length),this.host=a.slice(0,p),a=a.slice(p),this.parseHost(),this.hostname=this.hostname||"";var b=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!b)for(var _=this.hostname.split(/\./),m=0,w=_.length;m<w;m++){var E=_[m];if(E&&!E.match(o3)){for(var O="",A=0,F=E.length;A<F;A++)E.charCodeAt(A)>127?O+="x":O+=E[A];if(!O.match(o3)){var L=_.slice(0,m),H=_.slice(m+1),j=E.match(i2e);j&&(L.push(j[1]),H.unshift(j[2])),H.length&&(a="/"+H.join(".")+a),this.hostname=L.join(".");break}}}this.hostname.length>r2e?this.hostname="":this.hostname=this.hostname.toLowerCase(),b||(this.hostname=XEe.toASCII(this.hostname));var z=this.port?":"+this.port:"",W=this.hostname||"";this.host=W+z,this.href+=this.host,b&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!s2e[h])for(var m=0,w=Zw.length;m<w;m++){var q=Zw[m];if(a.indexOf(q)!==-1){var Y=encodeURIComponent(q);Y===q&&(Y=escape(q)),a=a.split(q).join(Y)}}var de=a.indexOf("#");de!==-1&&(this.hash=a.substr(de),a=a.slice(0,de));var ce=a.indexOf("?");if(ce!==-1?(this.search=a.substr(ce),this.query=a.substr(ce+1),e&&(this.query=Jw.parse(this.query)),a=a.slice(0,ce)):e&&(this.search="",this.query={}),a&&(this.pathname=a),Wu[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var z=this.pathname||"",te=this.search||"";this.path=z+te}return this.href=this.format(),this};function o2e(t){return ws.isString(t)&&(t=x0(t)),t instanceof es?t.format():es.prototype.format.call(t)}es.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&ws.isObject(this.query)&&Object.keys(this.query).length&&(s=Jw.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Wu[e])&&i!==!1?(i="//"+(i||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),o&&o.charAt(0)!=="?"&&(o="?"+o),n=n.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+n+o+r};function a2e(t,e){return x0(t,!1,!0).resolve(e)}es.prototype.resolve=function(t){return this.resolveObject(x0(t,!1,!0)).format()};es.prototype.resolveObject=function(t){if(ws.isString(t)){var e=new es;e.parse(t,!1,!0),t=e}for(var n=new es,r=Object.keys(this),i=0;i<r.length;i++){var s=r[i];n[s]=this[s]}if(n.hash=t.hash,t.href==="")return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var l=o[a];l!=="protocol"&&(n[l]=t[l])}return Wu[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!Wu[t.protocol]){for(var c=Object.keys(t),h=0;h<c.length;h++){var f=c[h];n[f]=t[f]}return n.href=n.format(),n}if(n.protocol=t.protocol,!t.host&&!Qw[t.protocol]){for(var w=(t.pathname||"").split("/");w.length&&!(t.host=w.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),w[0]!==""&&w.unshift(""),w.length<2&&w.unshift(""),n.pathname=w.join("/")}else n.pathname=t.pathname;if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var p=n.pathname||"",m=n.search||"";n.path=p+m}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var v=n.pathname&&n.pathname.charAt(0)==="/",y=t.host||t.pathname&&t.pathname.charAt(0)==="/",x=y||v||n.host&&t.pathname,b=x,_=n.pathname&&n.pathname.split("/")||[],w=t.pathname&&t.pathname.split("/")||[],E=n.protocol&&!Wu[n.protocol];if(E&&(n.hostname="",n.port=null,n.host&&(_[0]===""?_[0]=n.host:_.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(w[0]===""?w[0]=t.host:w.unshift(t.host)),t.host=null),x=x&&(w[0]===""||_[0]==="")),y)n.host=t.host||t.host===""?t.host:n.host,n.hostname=t.hostname||t.hostname===""?t.hostname:n.hostname,n.search=t.search,n.query=t.query,_=w;else if(w.length)_||(_=[]),_.pop(),_=_.concat(w),n.search=t.search,n.query=t.query;else if(!ws.isNullOrUndefined(t.search)){if(E){n.hostname=n.host=_.shift();var O=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;O&&(n.auth=O.shift(),n.host=n.hostname=O.shift())}return n.search=t.search,n.query=t.query,(!ws.isNull(n.pathname)||!ws.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!_.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var A=_.slice(-1)[0],F=(n.host||t.host||_.length>1)&&(A==="."||A==="..")||A==="",L=0,H=_.length;H>=0;H--)A=_[H],A==="."?_.splice(H,1):A===".."?(_.splice(H,1),L++):L&&(_.splice(H,1),L--);if(!x&&!b)for(;L--;L)_.unshift("..");x&&_[0]!==""&&(!_[0]||_[0].charAt(0)!=="/")&&_.unshift(""),F&&_.join("/").substr(-1)!=="/"&&_.push("");var j=_[0]===""||_[0]&&_[0].charAt(0)==="/";if(E){n.hostname=n.host=j?"":_.length?_.shift():"";var O=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;O&&(n.auth=O.shift(),n.host=n.hostname=O.shift())}return x=x||n.host&&_.length,x&&!j&&_.unshift(""),_.length?n.pathname=_.join("/"):(n.pathname=null,n.path=null),(!ws.isNull(n.pathname)||!ws.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n};es.prototype.parseHost=function(){var t=this.host,e=JEe.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const VL={parse:YEe,format:ZEe,resolve:KEe};function Li(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function gh(t){return t.split("?")[0].split("#")[0]}function l2e(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function u2e(t,e,n){return t.replace(new RegExp(l2e(e),"g"),n)}function c2e(t,e){let n="",r=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){const l=n.lastIndexOf("/");if(l!==n.length-1){l===-1?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length===2||n.length===1){n="",r=0,i=a,s=0;continue}}e&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+=`/${t.slice(i+1,a)}`:n=t.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return n}const Cn={toPosix(t){return u2e(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol(t){Li(t),t=this.toPosix(t);let e="";const n=/^file:\/\/\//.exec(t),r=/^[^/:]+:\/\//.exec(t),i=/^[^/:]+:\//.exec(t);if(n||r||i){const s=(n==null?void 0:n[0])||(r==null?void 0:r[0])||(i==null?void 0:i[0]);e=s,t=t.slice(s.length)}return e},toAbsolute(t,e,n){if(this.isDataUrl(t))return t;const r=gh(this.toPosix(e??we.ADAPTER.getBaseUrl())),i=gh(this.toPosix(n??this.rootname(r)));return Li(t),t=this.toPosix(t),t.startsWith("/")?Cn.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(r,t)},normalize(t){if(t=this.toPosix(t),Li(t),t.length===0)return".";let e="";const n=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const r=t.endsWith("/");return t=c2e(t,!1),t.length>0&&r&&(t+="/"),n?`/${t}`:e+t},isAbsolute(t){return Li(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let n=0;n<t.length;++n){const r=t[n];if(Li(r),r.length>0)if(e===void 0)e=r;else{const i=t[n-1]??"";this.extname(i)?e+=`/../${r}`:e+=`/${r}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(Li(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const n=e===47;let r=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){r=a;break}}else i=!1;return r===-1?n?"/":this.isUrl(o)?s+t:s:n&&r===1?"//":s+t.slice(0,r)},rootname(t){Li(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const n=t.indexOf("/",e.length);n!==-1?e=t.slice(0,n):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Li(t),e&&Li(e),t=gh(this.toPosix(t));let n=0,r=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const l=t.charCodeAt(s);if(l===47){if(!i){n=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(r=s):(o=-1,r=a))}return n===r?r=a:r===-1&&(r=t.length),t.slice(n,r)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){n=s+1;break}}else r===-1&&(i=!1,r=s+1);return r===-1?"":t.slice(n,r)},extname(t){Li(t),t=gh(this.toPosix(t));let e=-1,n=0,r=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){n=o+1;break}continue}r===-1&&(i=!1,r=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||r===-1||s===0||s===1&&e===r-1&&e===n+1?"":t.slice(e,r)},parse(t){Li(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=gh(this.toPosix(t));let n=t.charCodeAt(0);const r=this.isAbsolute(t);let i;e.root=this.rootname(t),r||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,l=!0,c=t.length-1,h=0;for(;c>=i;--c){if(n=t.charCodeAt(c),n===47){if(!l){o=c+1;break}continue}a===-1&&(l=!1,a=c+1),n===46?s===-1?s=c:h!==1&&(h=1):s!==-1&&(h=-1)}return s===-1||a===-1||h===0||h===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&r?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&r?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"},a3={};function at(t,e,n=3){if(a3[e])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(r=r.split(`
`).splice(n).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(r))),a3[e]=!0}function h2e(){at("7.0.0","skipHello is deprecated, please use settings.RENDER_OPTIONS.hello")}function d2e(){at("7.0.0",`sayHello is deprecated, please use Renderer's "hello" option`)}let ab;function qL(){return typeof ab>"u"&&(ab=function(){var n;const e={stencil:!0,failIfMajorPerformanceCaveat:we.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!we.ADAPTER.getWebGLRenderingContext())return!1;const r=we.ADAPTER.createCanvas();let i=r.getContext("webgl",e)||r.getContext("experimental-webgl",e);const s=!!((n=i==null?void 0:i.getContextAttributes())!=null&&n.stencil);if(i){const o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,s}catch{return!1}}()),ab}var f2e="#f0f8ff",p2e="#faebd7",m2e="#00ffff",g2e="#7fffd4",v2e="#f0ffff",y2e="#f5f5dc",b2e="#ffe4c4",x2e="#000000",w2e="#ffebcd",_2e="#0000ff",S2e="#8a2be2",E2e="#a52a2a",C2e="#deb887",T2e="#5f9ea0",A2e="#7fff00",P2e="#d2691e",k2e="#ff7f50",O2e="#6495ed",I2e="#fff8dc",R2e="#dc143c",M2e="#00ffff",F2e="#00008b",D2e="#008b8b",L2e="#b8860b",B2e="#a9a9a9",N2e="#006400",$2e="#a9a9a9",U2e="#bdb76b",z2e="#8b008b",H2e="#556b2f",j2e="#ff8c00",W2e="#9932cc",G2e="#8b0000",V2e="#e9967a",q2e="#8fbc8f",X2e="#483d8b",Y2e="#2f4f4f",K2e="#2f4f4f",Z2e="#00ced1",Q2e="#9400d3",J2e="#ff1493",eCe="#00bfff",tCe="#696969",nCe="#696969",rCe="#1e90ff",iCe="#b22222",sCe="#fffaf0",oCe="#228b22",aCe="#ff00ff",lCe="#dcdcdc",uCe="#f8f8ff",cCe="#daa520",hCe="#ffd700",dCe="#808080",fCe="#008000",pCe="#adff2f",mCe="#808080",gCe="#f0fff0",vCe="#ff69b4",yCe="#cd5c5c",bCe="#4b0082",xCe="#fffff0",wCe="#f0e68c",_Ce="#fff0f5",SCe="#e6e6fa",ECe="#7cfc00",CCe="#fffacd",TCe="#add8e6",ACe="#f08080",PCe="#e0ffff",kCe="#fafad2",OCe="#d3d3d3",ICe="#90ee90",RCe="#d3d3d3",MCe="#ffb6c1",FCe="#ffa07a",DCe="#20b2aa",LCe="#87cefa",BCe="#778899",NCe="#778899",$Ce="#b0c4de",UCe="#ffffe0",zCe="#00ff00",HCe="#32cd32",jCe="#faf0e6",WCe="#ff00ff",GCe="#800000",VCe="#66cdaa",qCe="#0000cd",XCe="#ba55d3",YCe="#9370db",KCe="#3cb371",ZCe="#7b68ee",QCe="#00fa9a",JCe="#48d1cc",eTe="#c71585",tTe="#191970",nTe="#f5fffa",rTe="#ffe4e1",iTe="#ffe4b5",sTe="#ffdead",oTe="#000080",aTe="#fdf5e6",lTe="#808000",uTe="#6b8e23",cTe="#ffa500",hTe="#ff4500",dTe="#da70d6",fTe="#eee8aa",pTe="#98fb98",mTe="#afeeee",gTe="#db7093",vTe="#ffefd5",yTe="#ffdab9",bTe="#cd853f",xTe="#ffc0cb",wTe="#dda0dd",_Te="#b0e0e6",STe="#800080",ETe="#663399",CTe="#ff0000",TTe="#bc8f8f",ATe="#4169e1",PTe="#8b4513",kTe="#fa8072",OTe="#f4a460",ITe="#2e8b57",RTe="#fff5ee",MTe="#a0522d",FTe="#c0c0c0",DTe="#87ceeb",LTe="#6a5acd",BTe="#708090",NTe="#708090",$Te="#fffafa",UTe="#00ff7f",zTe="#4682b4",HTe="#d2b48c",jTe="#008080",WTe="#d8bfd8",GTe="#ff6347",VTe="#40e0d0",qTe="#ee82ee",XTe="#f5deb3",YTe="#ffffff",KTe="#f5f5f5",ZTe="#ffff00",QTe="#9acd32",JTe={aliceblue:f2e,antiquewhite:p2e,aqua:m2e,aquamarine:g2e,azure:v2e,beige:y2e,bisque:b2e,black:x2e,blanchedalmond:w2e,blue:_2e,blueviolet:S2e,brown:E2e,burlywood:C2e,cadetblue:T2e,chartreuse:A2e,chocolate:P2e,coral:k2e,cornflowerblue:O2e,cornsilk:I2e,crimson:R2e,cyan:M2e,darkblue:F2e,darkcyan:D2e,darkgoldenrod:L2e,darkgray:B2e,darkgreen:N2e,darkgrey:$2e,darkkhaki:U2e,darkmagenta:z2e,darkolivegreen:H2e,darkorange:j2e,darkorchid:W2e,darkred:G2e,darksalmon:V2e,darkseagreen:q2e,darkslateblue:X2e,darkslategray:Y2e,darkslategrey:K2e,darkturquoise:Z2e,darkviolet:Q2e,deeppink:J2e,deepskyblue:eCe,dimgray:tCe,dimgrey:nCe,dodgerblue:rCe,firebrick:iCe,floralwhite:sCe,forestgreen:oCe,fuchsia:aCe,gainsboro:lCe,ghostwhite:uCe,goldenrod:cCe,gold:hCe,gray:dCe,green:fCe,greenyellow:pCe,grey:mCe,honeydew:gCe,hotpink:vCe,indianred:yCe,indigo:bCe,ivory:xCe,khaki:wCe,lavenderblush:_Ce,lavender:SCe,lawngreen:ECe,lemonchiffon:CCe,lightblue:TCe,lightcoral:ACe,lightcyan:PCe,lightgoldenrodyellow:kCe,lightgray:OCe,lightgreen:ICe,lightgrey:RCe,lightpink:MCe,lightsalmon:FCe,lightseagreen:DCe,lightskyblue:LCe,lightslategray:BCe,lightslategrey:NCe,lightsteelblue:$Ce,lightyellow:UCe,lime:zCe,limegreen:HCe,linen:jCe,magenta:WCe,maroon:GCe,mediumaquamarine:VCe,mediumblue:qCe,mediumorchid:XCe,mediumpurple:YCe,mediumseagreen:KCe,mediumslateblue:ZCe,mediumspringgreen:QCe,mediumturquoise:JCe,mediumvioletred:eTe,midnightblue:tTe,mintcream:nTe,mistyrose:rTe,moccasin:iTe,navajowhite:sTe,navy:oTe,oldlace:aTe,olive:lTe,olivedrab:uTe,orange:cTe,orangered:hTe,orchid:dTe,palegoldenrod:fTe,palegreen:pTe,paleturquoise:mTe,palevioletred:gTe,papayawhip:vTe,peachpuff:yTe,peru:bTe,pink:xTe,plum:wTe,powderblue:_Te,purple:STe,rebeccapurple:ETe,red:CTe,rosybrown:TTe,royalblue:ATe,saddlebrown:PTe,salmon:kTe,sandybrown:OTe,seagreen:ITe,seashell:RTe,sienna:MTe,silver:FTe,skyblue:DTe,slateblue:LTe,slategray:BTe,slategrey:NTe,snow:$Te,springgreen:UTe,steelblue:zTe,tan:HTe,teal:jTe,thistle:WTe,tomato:GTe,turquoise:VTe,violet:qTe,wheat:XTe,white:YTe,whitesmoke:KTe,yellow:ZTe,yellowgreen:QTe};function hl(t,e=[]){return e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function S2(t){let e=t.toString(16);return e="000000".substring(0,6-e.length)+e,`#${e}`}function w0(t){if(typeof t=="string"&&(t=JTe[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1)),t.length===3)){const[e,n,r]=t;t=e+e+n+n+r+r}return parseInt(t,16)}function eAe(t){return(t[0]*255<<16)+(t[1]*255<<8)+(t[2]*255|0)}function tAe(){const t=[],e=[];for(let r=0;r<32;r++)t[r]=r,e[r]=r;t[Me.NORMAL_NPM]=Me.NORMAL,t[Me.ADD_NPM]=Me.ADD,t[Me.SCREEN_NPM]=Me.SCREEN,e[Me.NORMAL]=Me.NORMAL_NPM,e[Me.ADD]=Me.ADD_NPM,e[Me.SCREEN]=Me.SCREEN_NPM;const n=[];return n.push(e),n.push(t),n}const E2=tAe();function C2(t,e){return E2[e?1:0][t]}function XL(t,e,n,r){return n=n||new Float32Array(4),r||r===void 0?(n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e):(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=e,n}function _0(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;let n=t>>16&255,r=t>>8&255,i=t&255;return n=n*e+.5|0,r=r*e+.5|0,i=i*e+.5|0,(e*255<<24)+(n<<16)+(r<<8)+i}function T2(t,e,n,r){return n=n||new Float32Array(4),n[0]=(t>>16&255)/255,n[1]=(t>>8&255)/255,n[2]=(t&255)/255,(r||r===void 0)&&(n[0]*=e,n[1]*=e,n[2]*=e),n[3]=e,n}const YL=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function KL(t,e=null){const n=t*6;if(e=e||new Uint16Array(n),e.length!==n)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${n}`);for(let r=0,i=0;r<n;r+=6,i+=4)e[r+0]=i+0,e[r+1]=i+1,e[r+2]=i+2,e[r+3]=i+0,e[r+4]=i+2,e[r+5]=i+3;return e}function S0(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}const nAe={Float32Array,Uint32Array,Int32Array,Uint8Array};function rAe(t,e){let n=0,r=0;const i={};for(let l=0;l<t.length;l++)r+=e[l],n+=t[l].length;const s=new ArrayBuffer(n*4);let o=null,a=0;for(let l=0;l<t.length;l++){const c=e[l],h=t[l],f=S0(h);i[f]||(i[f]=new nAe[f](s)),o=i[f];for(let p=0;p<h.length;p++){const m=(p/c|0)*r+a,v=p%c;o[m+v]=h[p]}a+=c}return new Float32Array(s)}function Fd(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function e_(t){return!(t&t-1)&&!!t}function t_(t){let e=(t>65535?1:0)<<4;t>>>=e;let n=(t>255?1:0)<<3;return t>>>=n,e|=n,n=(t>15?1:0)<<2,t>>>=n,e|=n,n=(t>3?1:0)<<1,t>>>=n,e|=n,e|t>>1}function Qa(t,e,n){const r=t.length;let i;if(e>=r||n===0)return;n=e+n>r?r-e:n;const s=r-n;for(i=e;i<s;++i)t[i]=t[i+n];t.length=s}function ja(t){return t===0?0:t<0?-1:1}let iAe=0;function ra(){return++iAe}const ZL=class{constructor(t,e,n,r){this.left=t,this.top=e,this.right=n,this.bottom=r}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let jg=ZL;jg.EMPTY=new ZL(0,0,0,0);const n_={},Yn=Object.create(null),Rr=Object.create(null);function sAe(){let t;for(t in Yn)Yn[t].destroy();for(t in Rr)Rr[t].destroy()}function oAe(){let t;for(t in Yn)delete Yn[t];for(t in Rr)delete Rr[t]}class r_{constructor(e,n,r){this._canvas=we.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=r||we.RESOLUTION,this.resize(e,n)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,n){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(n*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function l3(t,e,n){for(let r=0,i=4*n*e;r<e;++r,i+=4)if(t[i+3]!==0)return!1;return!0}function u3(t,e,n,r,i){const s=4*e;for(let o=r,a=r*s+4*n;o<=i;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function QL(t){const{width:e,height:n}=t,r=t.getContext("2d",{willReadFrequently:!0});if(r===null)throw new TypeError("Failed to get canvas 2D context");const s=r.getImageData(0,0,e,n).data;let o=0,a=0,l=e-1,c=n-1;for(;a<n&&l3(s,e,a);)++a;if(a===n)return jg.EMPTY;for(;l3(s,e,c);)--c;for(;u3(s,e,o,a,c);)++o;for(;u3(s,e,l,a,c);)--l;return++l,++c,new jg(o,a,l,c)}function JL(t){const e=QL(t),{width:n,height:r}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,n,r)}return{width:n,height:r,data:i}}function aAe(t){const e=YL.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}let Qp;function eB(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location,Qp||(Qp=document.createElement("a")),Qp.href=t;const n=VL.parse(Qp.href),r=!n.port&&e.port===""||n.port===e.port;return n.hostname!==e.hostname||!r||n.protocol!==e.protocol?"anonymous":""}function ho(t,e=1){var r;const n=(r=we.RETINA_PREFIX)==null?void 0:r.exec(t);return n?parseFloat(n[1]):e}const lAe=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:Rr,BoundingBox:jg,CanvasRenderTarget:r_,DATA_URI:YL,EventEmitter:na,ProgramCache:n_,TextureCache:Yn,clearTextureCache:oAe,correctBlendMode:C2,createIndicesForQuads:KL,decomposeDataUri:aAe,deprecation:at,destroyTextureCache:sAe,determineCrossOrigin:eB,get earcut(){return kd},getBufferType:S0,getCanvasBoundingBox:QL,getResolutionOfUrl:ho,hex2rgb:hl,hex2string:S2,interleaveTypedArrays:rAe,isMobile:Xi,isPow2:e_,isWebGLSupported:qL,log2:t_,nextPow2:Fd,path:Cn,premultiplyBlendMode:E2,premultiplyRgba:XL,premultiplyTint:_0,premultiplyTintToRgba:T2,removeItems:Qa,rgb2hex:eAe,sayHello:d2e,sign:ja,skipHello:h2e,string2hex:w0,trimCanvas:JL,uid:ra,url:VL},Symbol.toStringTag,{value:"Module"}));var be=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(be||{});const i_=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},c3=(t,e)=>i_(t).priority??e,Pe={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(i_).forEach(e=>{e.type.forEach(n=>{var r,i;return(i=(r=this._removeHandlers)[n])==null?void 0:i.call(r,e)})}),this},add(...t){return t.map(i_).forEach(e=>{e.type.forEach(n=>{const r=this._addHandlers,i=this._queue;r[n]?r[n](e):(i[n]=i[n]||[],i[n].push(e))})}),this},handle(t,e,n){const r=this._addHandlers,i=this._removeHandlers;if(r[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);r[t]=e,i[t]=n;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,n=>{e[n.name]=n.ref},n=>{delete e[n.name]})},handleByList(t,e,n=-1){return this.handle(t,r=>{e.includes(r.ref)||(e.push(r.ref),e.sort((i,s)=>c3(s,n)-c3(i,n)))},r=>{const i=e.indexOf(r.ref);i!==-1&&e.splice(i,1)})}};class Wg{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const uAe=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function cAe(t){let e="";for(let n=0;n<t;++n)n>0&&(e+=`
else `),n<t-1&&(e+=`if(test == ${n}.0){}`);return e}function tB(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const n=e.createShader(e.FRAGMENT_SHADER);for(;;){const r=uAe.replace(/%forloop%/gi,cAe(t));if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))t=t/2|0;else break}return t}const lb=0,ub=1,cb=2,hb=3,db=4,fb=5;class Ds{constructor(){this.data=0,this.blendMode=Me.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<lb)}set blend(e){!!(this.data&1<<lb)!==e&&(this.data^=1<<lb)}get offsets(){return!!(this.data&1<<ub)}set offsets(e){!!(this.data&1<<ub)!==e&&(this.data^=1<<ub)}get culling(){return!!(this.data&1<<cb)}set culling(e){!!(this.data&1<<cb)!==e&&(this.data^=1<<cb)}get depthTest(){return!!(this.data&1<<hb)}set depthTest(e){!!(this.data&1<<hb)!==e&&(this.data^=1<<hb)}get depthMask(){return!!(this.data&1<<fb)}set depthMask(e){!!(this.data&1<<fb)!==e&&(this.data^=1<<fb)}get clockwiseFrontFace(){return!!(this.data&1<<db)}set clockwiseFrontFace(e){!!(this.data&1<<db)!==e&&(this.data^=1<<db)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==Me.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new Ds;return e.depthTest=!1,e.blend=!0,e}}const Gg=[];function A2(t,e){if(!t)return null;let n="";if(typeof t=="string"){const r=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);r&&(n=r[1].toLowerCase())}for(let r=Gg.length-1;r>=0;--r){const i=Gg[r];if(i.test&&i.test(t,n))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Wr{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,n,r,i,s,o,a,l){if(arguments.length>8)throw new Error("max arguments reached");const{name:c,items:h}=this;this._aliasCount++;for(let f=0,p=h.length;f<p;f++)h[f][c](e,n,r,i,s,o,a,l);return h===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const n=this.items.indexOf(e);return n!==-1&&(this.ensureNonAliasedItems(),this.items.splice(n,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Wr.prototype,{dispatch:{value:Wr.prototype.emit},run:{value:Wr.prototype.emit}});class lc{constructor(e=0,n=0){this._width=e,this._height=n,this.destroyed=!1,this.internal=!1,this.onResize=new Wr("setRealSize"),this.onUpdate=new Wr("update"),this.onError=new Wr("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,n){(e!==this._width||n!==this._height)&&(this._width=e,this._height=n,this.onResize.emit(e,n))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,n,r){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,n){return!1}}class Mc extends lc{constructor(e,n){const{width:r,height:i}=n||{};if(!r||!i)throw new Error("BufferResource width or height invalid");super(r,i),this.data=e}upload(e,n,r){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Ai.UNPACK);const s=n.realWidth,o=n.realHeight;return r.width===s&&r.height===o?i.texSubImage2D(n.target,0,0,0,s,o,n.format,r.type,this.data):(r.width=s,r.height=o,i.texImage2D(n.target,0,r.internalFormat,s,o,0,n.format,r.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const hAe={scaleMode:As.NEAREST,format:ge.RGBA,alphaMode:Ai.NPM},pu=class extends na{constructor(t=null,e=null){super(),e=Object.assign({},pu.defaultOptions,e);const{alphaMode:n,mipmap:r,anisotropicLevel:i,scaleMode:s,width:o,height:a,wrapMode:l,format:c,type:h,target:f,resolution:p,resourceOptions:m}=e;t&&!(t instanceof lc)&&(t=A2(t,m),t.internal=!0),this.resolution=p||we.RESOLUTION,this.width=Math.round((o||0)*this.resolution)/this.resolution,this.height=Math.round((a||0)*this.resolution)/this.resolution,this._mipmap=r,this.anisotropicLevel=i,this._wrapMode=l,this._scaleMode=s,this.format=c,this.type=h,this.target=f,this.alphaMode=n,this.uid=ra(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&a>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let n;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,n=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,n=!0),n&&this.dirtyStyleId++,this}setSize(t,e,n){return n=n||this.resolution,this.setRealSize(t*n,e*n,n)}setRealSize(t,e,n){return this.resolution=n||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=e_(this.realWidth)&&e_(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Rr[this.cacheId],delete Yn[this.cacheId],this.cacheId=null),this.dispose(),pu.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,n=we.STRICT_TEXTURE_CACHE){const r=typeof t=="string";let i=null;if(r)i=t;else{if(!t._pixiId){const o=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${o}_${ra()}`}i=t._pixiId}let s=Rr[i];if(r&&n&&!s)throw new Error(`The cacheId "${i}" does not exist in BaseTextureCache.`);return s||(s=new pu(t,e),s.cacheId=i,pu.addToCache(s,i)),s}static fromBuffer(t,e,n,r){t=t||new Float32Array(e*n*4);const i=new Mc(t,{width:e,height:n}),s=t instanceof Float32Array?ke.FLOAT:ke.UNSIGNED_BYTE;return new pu(i,Object.assign({},hAe,r||{width:e,height:n,type:s}))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),Rr[e]&&Rr[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),Rr[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=Rr[t];if(e){const n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete Rr[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete Rr[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};let He=pu;He.defaultOptions={mipmap:ss.POW2,anisotropicLevel:0,scaleMode:As.LINEAR,wrapMode:Is.CLAMP,alphaMode:Ai.UNPACK,target:Za.TEXTURE_2D,format:ge.RGBA,type:ke.UNSIGNED_BYTE};He._globalBatch=0;class Vg{constructor(){this.texArray=null,this.blend=0,this.type=qi.TRIANGLES,this.start=0,this.size=0,this.data=null}}let dAe=0;class tn{constructor(e,n=!0,r=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=n,this.id=dAe++,this.disposeRunner=new Wr("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Ji.ELEMENT_ARRAY_BUFFER:Ji.ARRAY_BUFFER}get index(){return this.type===Ji.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new tn(e)}}class Dd{constructor(e,n=0,r=!1,i=ke.FLOAT,s,o,a,l=1){this.buffer=e,this.size=n,this.normalized=r,this.type=i,this.stride=s,this.start=o,this.instance=a,this.divisor=l}destroy(){this.buffer=null}static from(e,n,r,i,s){return new Dd(e,n,r,i,s)}}const fAe={Float32Array,Uint32Array,Int32Array,Uint8Array};function pAe(t,e){let n=0,r=0;const i={};for(let l=0;l<t.length;l++)r+=e[l],n+=t[l].length;const s=new ArrayBuffer(n*4);let o=null,a=0;for(let l=0;l<t.length;l++){const c=e[l],h=t[l],f=S0(h);i[f]||(i[f]=new fAe[f](s)),o=i[f];for(let p=0;p<h.length;p++){const m=(p/c|0)*r+a,v=p%c;o[m+v]=h[p]}a+=c}return new Float32Array(s)}const h3={5126:4,5123:2,5121:1};let mAe=0;const gAe={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class fo{constructor(e=[],n={}){this.buffers=e,this.indexBuffer=null,this.attributes=n,this.glVertexArrayObjects={},this.id=mAe++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Wr("disposeGeometry"),this.refCount=0}addAttribute(e,n,r=0,i=!1,s,o,a,l=!1){if(!n)throw new Error("You must pass a buffer when creating an attribute");n instanceof tn||(n instanceof Array&&(n=new Float32Array(n)),n=new tn(n));const c=e.split("|");if(c.length>1){for(let f=0;f<c.length;f++)this.addAttribute(c[f],n,r,i,s);return this}let h=this.buffers.indexOf(n);return h===-1&&(this.buffers.push(n),h=this.buffers.length-1),this.attributes[e]=new Dd(h,r,i,s,o,a,l),this.instanced=this.instanced||l,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof tn||(e instanceof Array&&(e=new Uint16Array(e)),e=new tn(e)),e.type=Ji.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],n=[],r=new tn;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),n.push(s.size*h3[s.type]/4),s.buffer=0}for(r.data=pAe(e,n),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const n=this.attributes[e];return this.buffers[n.buffer].data.length/(n.stride/4||n.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new fo;for(let n=0;n<this.buffers.length;n++)e.buffers[n]=new tn(this.buffers[n].data.slice(0));for(const n in this.attributes){const r=this.attributes[n];e.attributes[n]=new Dd(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Ji.ELEMENT_ARRAY_BUFFER),e}static merge(e){const n=new fo,r=[],i=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)i[l]=i[l]||0,i[l]+=o.buffers[l].data.length,s[l]=0}for(let a=0;a<o.buffers.length;a++)r[a]=new gAe[S0(o.buffers[a].data)](i[a]),n.buffers[a]=new tn(r[a]);for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)r[l].set(o.buffers[l].data,s[l]),s[l]+=o.buffers[l].data.length}if(n.attributes=o.attributes,o.indexBuffer){n.indexBuffer=n.buffers[o.buffers.indexOf(o.indexBuffer)],n.indexBuffer.type=Ji.ELEMENT_ARRAY_BUFFER;let a=0,l=0,c=0,h=0;for(let f=0;f<o.buffers.length;f++)if(o.buffers[f]!==o.indexBuffer){h=f;break}for(const f in o.attributes){const p=o.attributes[f];(p.buffer|0)===h&&(l+=p.size*h3[p.type]/4)}for(let f=0;f<e.length;f++){const p=e[f].indexBuffer.data;for(let m=0;m<p.length;m++)n.indexBuffer.data[m+c]+=a;a+=e[f].buffers[h].data.length/l,c+=p.length}}return n}}class P2 extends fo{constructor(e=!1){super(),this._buffer=new tn(null,e,!1),this._indexBuffer=new tn(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,ke.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,ke.FLOAT).addAttribute("aColor",this._buffer,4,!0,ke.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,ke.FLOAT).addIndex(this._indexBuffer)}}const Ld=Math.PI*2,nB=180/Math.PI,rB=Math.PI/180;var _n=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(_n||{});class Oe{constructor(e=0,n=0){this.x=0,this.y=0,this.x=e,this.y=n}clone(){return new Oe(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,n=e){return this.x=e,this.y=n,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const Jp=[new Oe,new Oe,new Oe,new Oe];class qe{constructor(e=0,n=0,r=0,i=0){this.x=Number(e),this.y=Number(n),this.width=Number(r),this.height=Number(i),this.type=_n.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new qe(0,0,0,0)}clone(){return new qe(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,n){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&n>=this.y&&n<this.y+this.height}intersects(e,n){if(!n){const L=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=L)return!1;const j=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>j}const r=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=r||o<=s)return!1;const a=Jp[0].set(e.left,e.top),l=Jp[1].set(e.left,e.bottom),c=Jp[2].set(e.right,e.top),h=Jp[3].set(e.right,e.bottom);if(c.x<=a.x||l.y<=a.y)return!1;const f=Math.sign(n.a*n.d-n.b*n.c);if(f===0||(n.apply(a,a),n.apply(l,l),n.apply(c,c),n.apply(h,h),Math.max(a.x,l.x,c.x,h.x)<=r||Math.min(a.x,l.x,c.x,h.x)>=i||Math.max(a.y,l.y,c.y,h.y)<=s||Math.min(a.y,l.y,c.y,h.y)>=o))return!1;const p=f*(l.y-a.y),m=f*(a.x-l.x),v=p*r+m*s,y=p*i+m*s,x=p*r+m*o,b=p*i+m*o;if(Math.max(v,y,x,b)<=p*a.x+m*a.y||Math.min(v,y,x,b)>=p*h.x+m*h.y)return!1;const _=f*(a.y-c.y),w=f*(c.x-a.x),E=_*r+w*s,O=_*i+w*s,A=_*r+w*o,F=_*i+w*o;return!(Math.max(E,O,A,F)<=_*a.x+w*a.y||Math.min(E,O,A,F)>=_*h.x+w*h.y)}pad(e=0,n=e){return this.x-=e,this.y-=n,this.width+=e*2,this.height+=n*2,this}fit(e){const n=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=n,this.width=Math.max(r-n,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,n=.001){const r=Math.ceil((this.x+this.width-n)*e)/e,i=Math.ceil((this.y+this.height-n)*e)/e;return this.x=Math.floor((this.x+n)*e)/e,this.y=Math.floor((this.y+n)*e)/e,this.width=r-this.x,this.height=i-this.y,this}enlarge(e){const n=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=n,this.width=r-n,this.y=i,this.height=s-i,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class uc{constructor(e=0,n=0,r=0){this.x=e,this.y=n,this.radius=r,this.type=_n.CIRC}clone(){return new uc(this.x,this.y,this.radius)}contains(e,n){if(this.radius<=0)return!1;const r=this.radius*this.radius;let i=this.x-e,s=this.y-n;return i*=i,s*=s,i+s<=r}getBounds(){return new qe(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class E0{constructor(e=0,n=0,r=0,i=0){this.x=e,this.y=n,this.width=r,this.height=i,this.type=_n.ELIP}clone(){return new E0(this.x,this.y,this.width,this.height)}contains(e,n){if(this.width<=0||this.height<=0)return!1;let r=(e-this.x)/this.width,i=(n-this.y)/this.height;return r*=r,i*=i,r+i<=1}getBounds(){return new qe(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class Ja{constructor(...e){let n=Array.isArray(e[0])?e[0]:e;if(typeof n[0]!="number"){const r=[];for(let i=0,s=n.length;i<s;i++)r.push(n[i].x,n[i].y);n=r}this.points=n,this.type=_n.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),n=new Ja(e);return n.closeStroke=this.closeStroke,n}contains(e,n){let r=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],l=this.points[s*2+1],c=this.points[o*2],h=this.points[o*2+1];l>n!=h>n&&e<(c-a)*((n-l)/(h-l))+a&&(r=!r)}return r}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,n)=>`${e}, ${n}`,"")}]`}}class cc{constructor(e=0,n=0,r=0,i=0,s=20){this.x=e,this.y=n,this.width=r,this.height=i,this.radius=s,this.type=_n.RREC}clone(){return new cc(this.x,this.y,this.width,this.height,this.radius)}contains(e,n){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(n>=this.y+r&&n<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;let i=e-(this.x+r),s=n-(this.y+r);const o=r*r;if(i*i+s*s<=o||(i=e-(this.x+this.width-r),i*i+s*s<=o)||(s=n-(this.y+this.height-r),i*i+s*s<=o)||(i=e-(this.x+r),i*i+s*s<=o))return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}class Nt{constructor(e=1,n=0,r=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,n,r,i,s,o){return this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=o,this}toArray(e,n){this.array||(this.array=new Float32Array(9));const r=n||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(e,n){n=n||new Oe;const r=e.x,i=e.y;return n.x=this.a*r+this.c*i+this.tx,n.y=this.b*r+this.d*i+this.ty,n}applyInverse(e,n){n=n||new Oe;const r=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return n.x=this.d*r*i+-this.c*r*s+(this.ty*this.c-this.tx*this.d)*r,n.y=this.a*r*s+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,n}translate(e,n){return this.tx+=e,this.ty+=n,this}scale(e,n){return this.a*=e,this.d*=n,this.c*=e,this.b*=n,this.tx*=e,this.ty*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*n-this.b*r,this.b=i*r+this.b*n,this.c=s*n-this.d*r,this.d=s*r+this.d*n,this.tx=o*n-this.ty*r,this.ty=o*r+this.ty*n,this}append(e){const n=this.a,r=this.b,i=this.c,s=this.d;return this.a=e.a*n+e.b*i,this.b=e.a*r+e.b*s,this.c=e.c*n+e.d*i,this.d=e.c*r+e.d*s,this.tx=e.tx*n+e.ty*i+this.tx,this.ty=e.tx*r+e.ty*s+this.ty,this}setTransform(e,n,r,i,s,o,a,l,c){return this.a=Math.cos(a+c)*s,this.b=Math.sin(a+c)*s,this.c=-Math.sin(a-l)*o,this.d=Math.cos(a-l)*o,this.tx=e-(r*this.a+i*this.c),this.ty=n-(r*this.b+i*this.d),this}prepend(e){const n=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const r=this.a,i=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=n*e.a+this.ty*e.c+e.tx,this.ty=n*e.b+this.ty*e.d+e.ty,this}decompose(e){const n=this.a,r=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),l=Math.atan2(r,n),c=Math.abs(a+l);return c<1e-5||Math.abs(Ld-c)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(n*n+r*r),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*n+o.y*i),e.position.y=this.ty+(o.x*r+o.y*s),e}invert(){const e=this.a,n=this.b,r=this.c,i=this.d,s=this.tx,o=e*i-n*r;return this.a=i/o,this.b=-n/o,this.c=-r/o,this.d=e/o,this.tx=(r*this.ty-i*s)/o,this.ty=-(e*this.ty-n*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Nt;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new Nt}static get TEMP_MATRIX(){return new Nt}}const Da=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],La=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Ba=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Na=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],s_=[],iB=[],em=Math.sign;function vAe(){for(let t=0;t<16;t++){const e=[];s_.push(e);for(let n=0;n<16;n++){const r=em(Da[t]*Da[n]+Ba[t]*La[n]),i=em(La[t]*Da[n]+Na[t]*La[n]),s=em(Da[t]*Ba[n]+Ba[t]*Na[n]),o=em(La[t]*Ba[n]+Na[t]*Na[n]);for(let a=0;a<16;a++)if(Da[a]===r&&La[a]===i&&Ba[a]===s&&Na[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new Nt;e.set(Da[t],La[t],Ba[t],Na[t],0,0),iB.push(e)}}vAe();const zt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Da[t],uY:t=>La[t],vX:t=>Ba[t],vY:t=>Na[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>s_[t][e],sub:(t,e)=>s_[t][zt.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?zt.S:zt.N:Math.abs(e)*2<=Math.abs(t)?t>0?zt.E:zt.W:e>0?t>0?zt.SE:zt.SW:t>0?zt.NE:zt.NW,matrixAppendRotationInv:(t,e,n=0,r=0)=>{const i=iB[zt.inv(e)];i.tx=n,i.ty=r,t.append(i)}};class no{constructor(e,n,r=0,i=0){this._x=r,this._y=i,this.cb=e,this.scope=n}clone(e=this.cb,n=this.scope){return new no(e,n,this._x,this._y)}set(e=0,n=e){return(this._x!==e||this._y!==n)&&(this._x=e,this._y=n,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=${0} y=${0} scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}const sB=class{constructor(){this.worldTransform=new Nt,this.localTransform=new Nt,this.position=new no(this.onChange,this,0,0),this.scale=new no(this.onChange,this,1,1),this.pivot=new no(this.onChange,this,0,0),this.skew=new no(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const n=t.worldTransform,r=this.worldTransform;r.a=e.a*n.a+e.b*n.c,r.b=e.a*n.b+e.b*n.d,r.c=e.c*n.a+e.d*n.c,r.d=e.c*n.b+e.d*n.d,r.tx=e.tx*n.a+e.ty*n.c+n.tx,r.ty=e.tx*n.b+e.ty*n.d+n.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};let wf=sB;wf.IDENTITY=new sB;var yAe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,bAe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function d3(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}function pb(t){const e=new Array(t);for(let n=0;n<e.length;n++)e[n]=!1;return e}function oB(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return pb(2*e);case"bvec3":return pb(3*e);case"bvec4":return pb(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const el=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],xAe={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},wAe={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function _Ae(t,e){var r;const n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){(r=t.uniforms[i])!=null&&r.group&&(t.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let a=!1;for(let l=0;l<el.length;l++)if(el[l].test(s,o)){n.push(el[l].code(i,o)),a=!0;break}if(!a){const c=(s.size===1&&!s.isArray?xAe:wAe)[s.type].replace("location",`ud["${i}"].location`);n.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${c};`)}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}const aB={};let Xl=aB;function lB(){if(Xl===aB||Xl!=null&&Xl.isContextLost()){const t=we.ADAPTER.createCanvas();let e;we.PREFER_ENV>=ma.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Xl=e}return Xl}let tm;function SAe(){if(!tm){tm=Br.MEDIUM;const t=lB();t&&t.getShaderPrecisionFormat&&(tm=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?Br.HIGH:Br.MEDIUM)}return tm}function f3(t,e){const n=t.getShaderSource(e).split(`
`).map((c,h)=>`${h}: ${c}`),r=t.getShaderInfoLog(e),i=r.split(`
`),s={},o=i.map(c=>parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(c=>c&&!s[c]?(s[c]=!0,!0):!1),a=[""];o.forEach(c=>{n[c-1]=`%c${n[c-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=n.join(`
`);a[0]=l,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function EAe(t,e,n,r){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(n,t.COMPILE_STATUS)||f3(t,n),t.getShaderParameter(r,t.COMPILE_STATUS)||f3(t,r),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const CAe={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function uB(t){return CAe[t]}let nm=null;const p3={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function cB(t,e){if(!nm){const n=Object.keys(p3);nm={};for(let r=0;r<n.length;++r){const i=n[r];nm[t[i]]=p3[i]}}return nm[e]}function m3(t,e,n){if(t.substring(0,9)!=="precision"){let r=e;return e===Br.HIGH&&n!==Br.HIGH&&(r=Br.MEDIUM),`precision ${r} float;
${t}`}else if(n!==Br.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let vh;function hB(){if(typeof vh=="boolean")return vh;try{vh=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{vh=!1}return vh}let TAe=0;const rm={},mu=class{constructor(t,e,n="pixi-shader",r={}){this.extra={},this.id=TAe++,this.vertexSrc=t||mu.defaultVertexSrc,this.fragmentSrc=e||mu.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=r,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),rm[n]?(rm[n]++,n+=`-${rm[n]}`):rm[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=m3(this.vertexSrc,mu.defaultVertexPrecision,Br.HIGH),this.fragmentSrc=m3(this.fragmentSrc,mu.defaultFragmentPrecision,SAe())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return bAe}static get defaultFragmentSrc(){return yAe}static from(t,e,n){const r=t+e;let i=n_[r];return i||(n_[r]=i=new mu(t,e,n)),i}};let mi=mu;mi.defaultVertexPrecision=Br.HIGH;mi.defaultFragmentPrecision=Xi.apple.device?Br.HIGH:Br.MEDIUM;let AAe=0;class bi{constructor(e,n,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=AAe++,this.static=!!n,this.ubo=!!r,e instanceof tn?(this.buffer=e,this.buffer.type=Ji.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new tn(new Float32Array(1)),this.buffer.type=Ji.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,n,r){if(!this.ubo)this.uniforms[e]=new bi(n,r);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,n,r){return new bi(e,n,r)}static uboFrom(e,n){return new bi(e,n??!0,!0)}}class ts{constructor(e,n){this.uniformBindCount=0,this.program=e,n?n instanceof bi?this.uniformGroup=n:this.uniformGroup=new bi(n):this.uniformGroup=new bi({}),this.disposeRunner=new Wr("disposeShader")}checkUniformExists(e,n){if(n.uniforms[e])return!0;for(const r in n.uniforms){const i=n.uniforms[r];if(i.group&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,n,r){const i=mi.from(e,n);return new ts(i,r)}}class dB{constructor(e,n){if(this.vertexSrc=e,this.fragTemplate=n,this.programCache={},this.defaultGroupCache={},!n.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!n.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const r=new Int32Array(e);for(let s=0;s<e;s++)r[s]=s;this.defaultGroupCache[e]=bi.from({uSamplers:r},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new mi(this.vertexSrc,i)}const n={tint:new Float32Array([1,1,1,1]),translationMatrix:new Nt,default:this.defaultGroupCache[e]};return new ts(this.programCache[e],n)}generateSampleSrc(e){let n="";n+=`
`,n+=`
`;for(let r=0;r<e;r++)r>0&&(n+=`
else `),r<e-1&&(n+=`if(vTextureId < ${r}.5)`),n+=`
{`,n+=`
	color = texture2D(uSamplers[${r}], vTextureCoord);`,n+=`
}`;return n+=`
`,n+=`
`,n}}class qg{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function PAe(){return!Xi.apple.device}function kAe(t){let e=!0;const n=we.ADAPTER.getNavigator();if(Xi.tablet||Xi.phone){if(Xi.apple.device){const r=n.userAgent.match(/OS (\d+)_(\d+)?/);r&&parseInt(r[1],10)<11&&(e=!1)}if(Xi.android.device){const r=n.userAgent.match(/Android\s([0-9.]*)/);r&&parseInt(r[1],10)<7&&(e=!1)}}return e?t:4}class _f{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var OAe=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,IAe=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const Ui=class extends _f{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=P2,this.vertexSize=6,this.state=Ds.for2d(),this.size=Ui.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??kAe(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??PAe(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return at("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return IAe}static get defaultFragmentTemplate(){return OAe}setShaderGenerator({vertex:t=Ui.defaultVertexSrc,fragment:e=Ui.defaultFragmentTemplate}={}){this.shaderGenerator=new dB(t,e)}contextChange(){const t=this.renderer.gl;we.PREFER_ENV===ma.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Ui.defaultMaxTextures),this.maxTextures=tB(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=Ui,n=this.size/4,r=Math.floor(n/this.maxTextures)+1;for(;t.length<n;)t.push(new Vg);for(;e.length<r;)e.push(new qg);for(let i=0;i<this.maxTextures;i++)this._tempBoundTextures[i]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,n=Ui._textureArrayPool,r=this.renderer.batch,i=this._tempBoundTextures,s=this.renderer.textureGC.count;let o=++He._globalBatch,a=0,l=n[0],c=0;r.copyBoundTextures(i,e);for(let h=0;h<this._bufferSize;++h){const f=t[h];t[h]=null,f._batchEnabled!==o&&(l.count>=e&&(r.boundArray(l,i,o,e),this.buildDrawCalls(l,c,h),c=h,l=n[++a],++o),f._batchEnabled=o,f.touched=s,l.elements[l.count++]=f)}l.count>0&&(r.boundArray(l,i,o,e),this.buildDrawCalls(l,c,this._bufferSize),++a,++o);for(let h=0;h<i.length;h++)i[h]=null;He._globalBatch=o}buildDrawCalls(t,e,n){const{_bufferedElements:r,_attributeBuffer:i,_indexBuffer:s,vertexSize:o}=this,a=Ui._drawCallPool;let l=this._dcIndex,c=this._aIndex,h=this._iIndex,f=a[l];f.start=this._iIndex,f.texArray=t;for(let p=e;p<n;++p){const m=r[p],v=m._texture.baseTexture,y=E2[v.alphaMode?1:0][m.blendMode];r[p]=null,e<p&&f.blend!==y&&(f.size=h-f.start,e=p,f=a[++l],f.texArray=t,f.start=h),this.packInterleavedGeometry(m,i,s,c,h),c+=m.vertexData.length/2*o,h+=m.indices.length,f.blend=y}e<n&&(f.size=h-f.start,++l),this._dcIndex=l,this._aIndex=c,this._iIndex=h}bindAndClearTexArray(t){const e=this.renderer.texture;for(let n=0;n<t.count;n++)e.bind(t.elements[n],t.ids[n]),t.elements[n]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:n}=this;Ui.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:n}=this.renderer,r=Ui._drawCallPool;let i=null;for(let s=0;s<t;s++){const{texArray:o,type:a,size:l,start:c,blend:h}=r[s];i!==o&&(i=o,this.bindAndClearTexArray(o)),this.state.blendMode=h,n.set(this.state),e.drawElements(a,l,e.UNSIGNED_SHORT,c*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Ui.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=Fd(Math.ceil(t/8)),n=t_(e),r=e*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let i=this._aBuffers[r];return i||(this._aBuffers[r]=i=new Wg(r*this.vertexSize*4)),i}getIndexBuffer(t){const e=Fd(Math.ceil(t/12)),n=t_(e),r=e*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let i=this._iBuffers[n];return i||(this._iBuffers[n]=i=new Uint16Array(r)),i}packInterleavedGeometry(t,e,n,r,i){const{uint32View:s,float32View:o}=e,a=r/this.vertexSize,l=t.uvs,c=t.indices,h=t.vertexData,f=t._texture.baseTexture._batchLocation,p=Math.min(t.worldAlpha,1),m=p<1&&t._texture.baseTexture.alphaMode?_0(t._tintRGB,p):t._tintRGB+(p*255<<24);for(let v=0;v<h.length;v+=2)o[r++]=h[v],o[r++]=h[v+1],o[r++]=l[v],o[r++]=l[v+1],s[r++]=m,o[r++]=f;for(let v=0;v<c.length;v++)n[i++]=a+c[v]}};let hi=Ui;hi.defaultBatchSize=4096;hi.extension={name:"batch",type:be.RendererPlugin};hi._drawCallPool=[];hi._textureArrayPool=[];Pe.add(hi);var RAe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,MAe=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const Mh=class extends ts{constructor(t,e,n){const r=mi.from(t||Mh.defaultVertexSrc,e||Mh.defaultFragmentSrc);super(r,n),this.padding=0,this.resolution=Mh.defaultResolution,this.multisample=Mh.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Ds}apply(t,e,n,r,i){t.applyFilter(this,e,n,r)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return MAe}static get defaultFragmentSrc(){return RAe}};let Sn=Mh;Sn.defaultResolution=1;Sn.defaultMultisample=qt.NONE;class k2{constructor(){this.clearBeforeRender=!0,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,1],this._backgroundColorString="#000000",this.color=this._backgroundColor,this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender,e.color&&(this.color=typeof e.color=="string"?w0(e.color):e.color),this.alpha=e.alpha}get color(){return this._backgroundColor}set color(e){this._backgroundColor=e,this._backgroundColorString=S2(e),hl(e,this._backgroundColorRgba)}get alpha(){return this._backgroundColorRgba[3]}set alpha(e){this._backgroundColorRgba[3]=e}get colorRgba(){return this._backgroundColorRgba}get colorString(){return this._backgroundColorString}destroy(){}}k2.extension={type:[be.RendererSystem,be.CanvasRendererSystem],name:"background"};Pe.add(k2);class O2{constructor(e){this.renderer=e,this.emptyRenderer=new _f(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,n){const{boundTextures:r}=this.renderer.texture;for(let i=n-1;i>=0;--i)e[i]=r[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,n,r,i){const{elements:s,ids:o,count:a}=e;let l=0;for(let c=0;c<a;c++){const h=s[c],f=h._batchLocation;if(f>=0&&f<i&&n[f]===h){o[c]=f;continue}for(;l<i;){const p=n[l];if(p&&p._batchEnabled===r&&p._batchLocation===l){l++;continue}o[c]=l,h._batchLocation=l,n[l]=h;break}}}destroy(){this.renderer=null}}O2.extension={type:be.RendererSystem,name:"batch"};Pe.add(O2);let g3=0;class I2{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=g3++}init(e){if(e.context)this.initFromContext(e.context);else{const n=this.renderer.background.alpha<1,r=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:n,premultipliedAlpha:r,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=g3++,this.renderer.runners.contextChange.emit(e);const n=this.renderer.view;n.addEventListener!==void 0&&(n.addEventListener("webglcontextlost",this.handleContextLost,!1),n.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const n=this.createContext(this.renderer.view,e);this.initFromContext(n)}createContext(e,n){let r;if(we.PREFER_ENV>=ma.WEBGL2&&(r=e.getContext("webgl2",n)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=e.getContext("webgl",n)||e.getContext("experimental-webgl",n),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,n={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,n,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,n,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const n=e.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),n&&!n.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}I2.extension={type:be.RendererSystem,name:"context"};Pe.add(I2);class FAe extends Mc{upload(e,n,r){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Ai.UNPACK);const s=n.realWidth,o=n.realHeight;return r.width===s&&r.height===o?i.texSubImage2D(n.target,0,0,0,s,o,n.format,r.type,this.data):(r.width=s,r.height=o,i.texImage2D(n.target,0,r.internalFormat,s,o,0,n.format,r.type,this.data)),!0}}class Xg{constructor(e,n){this.width=Math.round(e||100),this.height=Math.round(n||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Wr("disposeFramebuffer"),this.multisample=qt.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,n){return this.colorTextures[e]=n||new He(null,{scaleMode:As.NEAREST,resolution:1,mipmap:ss.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new He(new FAe(null,{width:this.width,height:this.height}),{scaleMode:As.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:ss.OFF,format:ge.DEPTH_COMPONENT,type:ke.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,n){if(e=Math.round(e),n=Math.round(n),!(e===this.width&&n===this.height)){this.width=e,this.height=n,this.dirtyId++,this.dirtySize++;for(let r=0;r<this.colorTextures.length;r++){const i=this.colorTextures[r],s=i.resolution;i.setSize(e/s,n/s)}if(this.depthTexture){const r=this.depthTexture.resolution;this.depthTexture.setSize(e/r,n/r)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class R2 extends He{constructor(e={}){if(typeof e=="number"){const n=arguments[0],r=arguments[1],i=arguments[2],s=arguments[3];e={width:n,height:r,scaleMode:i,resolution:s}}e.width=e.width||100,e.height=e.height||100,e.multisample??(e.multisample=qt.NONE),super(null,e),this.mipmap=ss.OFF,this.valid=!0,this.clearColor=[0,0,0,0],this.framebuffer=new Xg(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}resize(e,n){this.framebuffer.resize(e*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class po extends lc{constructor(e){const n=e,r=n.naturalWidth||n.videoWidth||n.width,i=n.naturalHeight||n.videoHeight||n.height;super(r,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,n,r){r===void 0&&!n.startsWith("data:")?e.crossOrigin=eB(n):r!==!1&&(e.crossOrigin=typeof r=="string"?r:"anonymous")}upload(e,n,r,i){const s=e.gl,o=n.realWidth,a=n.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1&&i.buffered.length===0)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Ai.UNPACK),!this.noSubImage&&n.target===s.TEXTURE_2D&&r.width===o&&r.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,n.format,r.type,i):(r.width=o,r.height=a,s.texImage2D(n.target,0,r.internalFormat,n.format,r.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,n=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(n,r),super.update()}dispose(){this.source=null}}class M2 extends po{constructor(e,n){if(n=n||{},typeof e=="string"){const r=new Image;po.crossOrigin(r,e,n.crossorigin),r.src=e,e=r}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(n.createBitmap??we.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,this.bitmap=null,this._load=null,n.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((n,r)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.resize(i.width,i.height),this._load=null,this.createBitmap?n(this.process()):n(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{r(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const n=globalThis.createImageBitmap,r=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:r?"cors":"no-cors"}).then(i=>i.blob()).then(i=>n(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Ai.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,n,r){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,n,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,n,r,this.bitmap),!this.preserveBitmap){let i=!0;const s=n._glTextures;for(const o in s){const a=s[o];if(a!==r&&a.dirtyId!==n.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class F2{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,n,r){const i=n.width,s=n.height;if(r){const o=e.width/2/i,a=e.height/2/s,l=e.x/i+o,c=e.y/s+a;r=zt.add(r,zt.NW),this.x0=l+o*zt.uX(r),this.y0=c+a*zt.uY(r),r=zt.add(r,2),this.x1=l+o*zt.uX(r),this.y1=c+a*zt.uY(r),r=zt.add(r,2),this.x2=l+o*zt.uX(r),this.y2=c+a*zt.uY(r),r=zt.add(r,2),this.x3=l+o*zt.uX(r),this.y3=c+a*zt.uY(r)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const v3=new F2;function im(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class xe extends na{constructor(e,n,r,i,s,o){if(super(),this.noFrame=!1,n||(this.noFrame=!0,n=new qe(0,0,1,1)),e instanceof xe&&(e=e.baseTexture),this.baseTexture=e,this._frame=n,this.trim=i,this.valid=!1,this._uvs=v3,this.uvMatrix=null,this.orig=r||n,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new Oe(o.x,o.y):new Oe(0,0),this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=n:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:n}=this.baseTexture;n!=null&&n.url&&Yn[n.url]&&xe.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,xe.removeFromCache(this),this.textureCacheIds=null}clone(){var i;const e=this._frame.clone(),n=this._frame===this.orig?e:this.orig.clone(),r=new xe(this.baseTexture,!this.noFrame&&e,n,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(r._frame=e),r}updateUvs(){this._uvs===v3&&(this._uvs=new F2),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,n={},r=we.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof He){if(!e.cacheId){const a=(n==null?void 0:n.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${ra()}`,He.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(n==null?void 0:n.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${ra()}`}s=e._pixiId}let o=Yn[s];if(i&&r&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof He)?(n.resolution||(n.resolution=ho(e)),o=new xe(new He(e,n)),o.baseTexture.cacheId=s,He.addToCache(o.baseTexture,s),xe.addToCache(o,s)):!o&&e instanceof He&&(o=new xe(e),xe.addToCache(o,s)),o}static fromURL(e,n){const r=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),i=xe.from(e,Object.assign({resourceOptions:r},n),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,n,r,i){return new xe(He.fromBuffer(e,n,r,i))}static fromLoader(e,n,r,i){const s=new He(e,Object.assign({scaleMode:He.defaultOptions.scaleMode,resolution:ho(n)},i)),{resource:o}=s;o instanceof M2&&(o.url=n);const a=new xe(s);return r||(r=n),He.addToCache(a.baseTexture,r),xe.addToCache(a,r),r!==n&&(He.addToCache(a.baseTexture,n),xe.addToCache(a,n)),a.baseTexture.valid?Promise.resolve(a):new Promise(l=>{a.baseTexture.once("loaded",()=>l(a))})}static addToCache(e,n){n&&(e.textureCacheIds.includes(n)||e.textureCacheIds.push(n),Yn[n]&&Yn[n]!==e&&console.warn(`Texture added to the cache with an id [${n}] that already had an entry`),Yn[n]=e)}static removeFromCache(e){if(typeof e=="string"){const n=Yn[e];if(n){const r=n.textureCacheIds.indexOf(e);return r>-1&&n.textureCacheIds.splice(r,1),delete Yn[e],n}}else if(e!=null&&e.textureCacheIds){for(let n=0;n<e.textureCacheIds.length;++n)Yn[e.textureCacheIds[n]]===e&&delete Yn[e.textureCacheIds[n]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:n,y:r,width:i,height:s}=e,o=n+i>this.baseTexture.width,a=r+s>this.baseTexture.height;if(o||a){const l=o&&a?"and":"or",c=`X: ${n} + ${i} = ${n+i} > ${this.baseTexture.width}`,h=`Y: ${r} + ${s} = ${r+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${c} ${l} ${h}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return xe._EMPTY||(xe._EMPTY=new xe(new He),im(xe._EMPTY),im(xe._EMPTY.baseTexture)),xe._EMPTY}static get WHITE(){if(!xe._WHITE){const e=we.ADAPTER.createCanvas(16,16),n=e.getContext("2d");e.width=16,e.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),xe._WHITE=new xe(He.from(e)),im(xe._WHITE),im(xe._WHITE.baseTexture)}return xe._WHITE}}class mo extends xe{constructor(e,n){super(e,n),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,n,r=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(n*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,r&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:n}=this;n.resolution!==e&&(n.setResolution(e),this.resize(n.width,n.height,!1))}static create(e){return new mo(new R2(e))}}class D2{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,n,r=qt.NONE){const i=new R2(Object.assign({width:e,height:n,resolution:1,multisample:r},this.textureOptions));return new mo(i)}getOptimalTexture(e,n,r=1,i=qt.NONE){let s;e=Math.ceil(e*r-1e-6),n=Math.ceil(n*r-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||n!==this._pixelsHeight?(e=Fd(e),n=Fd(n),s=((e&65535)<<16|n&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,n,i)),o.filterPoolKey=s,o.setResolution(r),o}getFilterTexture(e,n,r){const i=this.getOptimalTexture(e.width,e.height,n||e.resolution,r||qt.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const n=e.filterPoolKey;e.filterFrame=null,this.texturePool[n].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const n in this.texturePool){const r=this.texturePool[n];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const n in this.texturePool){if(!(Number(n)<0))continue;const r=this.texturePool[n];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[n]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}D2.SCREEN_KEY=-1;class fB extends fo{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class L2 extends fo{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new tn(this.vertices),this.uvBuffer=new tn(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,n){let r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+n.width/e.width,this.uvs[3]=i,this.uvs[4]=r+n.width/e.width,this.uvs[5]=i+n.height/e.height,this.uvs[6]=r,this.uvs[7]=i+n.height/e.height,r=n.x,i=n.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+n.width,this.vertices[3]=i,this.vertices[4]=r+n.width,this.vertices[5]=i+n.height,this.vertices[6]=r,this.vertices[7]=i+n.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class pB{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=qt.NONE,this.sourceFrame=new qe,this.destinationFrame=new qe,this.bindingSourceFrame=new qe,this.bindingDestinationFrame=new qe,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const sm=[new Oe,new Oe,new Oe,new Oe],mb=new Nt;class B2{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new D2,this.statePool=[],this.quad=new fB,this.quadUv=new L2,this.tempRect=new qe,this.activeState={},this.globalUniforms=new bi({outputFrame:new qe,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,n){const r=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new pB,o=this.renderer.renderTexture;let a=n[0].resolution,l=n[0].multisample,c=n[0].padding,h=n[0].autoFit,f=n[0].legacy??!0;for(let v=1;v<n.length;v++){const y=n[v];a=Math.min(a,y.resolution),l=Math.min(l,y.multisample),c=this.useMaxPadding?Math.max(c,y.padding):c+y.padding,h=h&&y.autoFit,f=f||(y.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=a,s.multisample=l,s.legacy=f,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(c);const p=this.tempRect.copyFrom(o.sourceFrame);r.projection.transform&&this.transformAABB(mb.copyFrom(r.projection.transform).invert(),p),h?(s.sourceFrame.fit(p),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(p)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:r.resolution,o.sourceFrame,o.destinationFrame,r.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,a,l),s.filters=n,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const m=this.tempRect;m.x=0,m.y=0,m.width=s.sourceFrame.width,m.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=r.projection.transform,r.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,m),r.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,n=e.pop(),r=n.filters;this.activeState=n;const i=this.globalUniforms.uniforms;i.outputFrame=n.sourceFrame,i.resolution=n.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=n.destinationFrame.width,s[1]=n.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*n.resolution),o[1]=Math.round(s[1]*n.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=n.sourceFrame.width*s[2]-.5*o[2],a[3]=n.sourceFrame.height*s[3]-.5*o[3],n.legacy){const c=i.filterArea;c[0]=n.destinationFrame.width,c[1]=n.destinationFrame.height,c[2]=n.sourceFrame.x,c[3]=n.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const l=e[e.length-1];if(this.renderer.framebuffer.blit(),r.length===1)r[0].apply(this,n.renderTexture,l.renderTexture,Gi.BLEND,n),this.returnFilterTexture(n.renderTexture);else{let c=n.renderTexture,h=this.getOptimalFilterTexture(c.width,c.height,n.resolution);h.filterFrame=c.filterFrame;let f=0;for(f=0;f<r.length-1;++f){f===1&&n.multisample>1&&(h=this.getOptimalFilterTexture(c.width,c.height,n.resolution),h.filterFrame=c.filterFrame),r[f].apply(this,c,h,Gi.CLEAR,n);const p=c;c=h,h=p}r[f].apply(this,c,l.renderTexture,Gi.BLEND,n),f>1&&n.multisample>1&&this.returnFilterTexture(n.renderTexture),this.returnFilterTexture(c),this.returnFilterTexture(h)}n.clear(),this.statePool.push(n)}bindAndClear(e,n=Gi.CLEAR){const{renderTexture:r,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e!=null&&e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,r.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(n===Gi.CLEAR||n===Gi.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,n,r,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(r,i),e.uniforms.uSampler=n,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(n._frame,n.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(qi.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(qi.TRIANGLE_STRIP))}calculateSpriteMatrix(e,n){const{sourceFrame:r,destinationFrame:i}=this.activeState,{orig:s}=n._texture,o=e.set(i.width,0,0,i.height,r.x,r.y),a=n.worldTransform.copyTo(Nt.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(n.anchor.x,n.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,n,r=1,i=qt.NONE){return this.texturePool.getOptimalTexture(e,n,r,i)}getFilterTexture(e,n,r){if(typeof e=="number"){const s=e;e=n,n=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,n||e.resolution,r||qt.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,n){const r=sm[0],i=sm[1],s=sm[2],o=sm[3];r.set(n.left,n.top),i.set(n.left,n.bottom),s.set(n.right,n.top),o.set(n.right,n.bottom),e.apply(r,r),e.apply(i,i),e.apply(s,s),e.apply(o,o);const a=Math.min(r.x,i.x,s.x,o.x),l=Math.min(r.y,i.y,s.y,o.y),c=Math.max(r.x,i.x,s.x,o.x),h=Math.max(r.y,i.y,s.y,o.y);n.x=a,n.y=l,n.width=c-a,n.height=h-l}roundFrame(e,n,r,i,s){if(!(e.width<=0||e.height<=0||r.width<=0||r.height<=0)){if(s){const{a:o,b:a,c:l,d:c}=s;if((Math.abs(a)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(c)>1e-4))return}s=s?mb.copyFrom(s):mb.identity(),s.translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(n),this.transformAABB(s.invert(),e)}}}B2.extension={type:be.RendererSystem,name:"filter"};Pe.add(B2);class mB{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=qt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const DAe=new qe;class N2{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new Xg(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new qe,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let n=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;we.PREFER_ENV===ma.WEBGL_LEGACY&&(n=null,r=null),n?e.drawBuffers=i=>n.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,n,r=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==r&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=r),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,r)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),n){const o=n.width>>r,a=n.height>>r,l=o/n.width;this.setViewport(n.x*l,n.y*l,o,a)}else{const o=e.width>>r,a=e.height>>r;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),n?this.setViewport(n.x,n.y,n.width,n.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,n,r,i){const s=this.viewport;e=Math.round(e),n=Math.round(n),r=Math.round(r),i=Math.round(i),(s.width!==r||s.height!==i||s.x!==e||s.y!==n)&&(s.x=e,s.y=n,s.width=r,s.height=i,this.gl.viewport(e,n,r,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,n,r,i,s=Ug.COLOR|Ug.DEPTH){const{gl:o}=this;o.clearColor(e,n,r,i),o.clear(s)}initFramebuffer(e){const{gl:n}=this,r=new mB(n.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r}resizeFramebuffer(e){const{gl:n}=this,r=e.glFramebuffers[this.CONTEXT_UID];r.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,r.stencil),r.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height));const i=e.colorTextures;let s=i.length;n.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],l=a.parentTextureArray||a;this.renderer.texture.bind(l,0),o===0&&r.msaaBuffer&&(n.bindRenderbuffer(n.RENDERBUFFER,r.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,n){const{gl:r}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;r.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||r.createRenderbuffer():i.msaaBuffer&&(r.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let l=0;l<o;l++){const c=s[l],h=c.parentTextureArray||c;this.renderer.texture.bind(h,0),l===0&&i.msaaBuffer?(r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,h._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,i.msaaBuffer)):(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+l,c.target,h._glTextures[this.CONTEXT_UID].texture,n),a.push(r.COLOR_ATTACHMENT0+l))}if(a.length>1&&r.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const c=e.depthTexture;this.renderer.texture.bind(c,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,c._glTextures[this.CONTEXT_UID].texture,n)}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.stencil),i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,i.stencil)):i.stencil&&(r.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:n}=this;let r=qt.NONE;if(e<=1||n===null)return r;for(let i=0;i<n.length;i++)if(n[i]<=e){r=n[i];break}return r===1&&(r=qt.NONE),r}blit(e,n,r){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const l=i.glFramebuffers[a];if(!l)return;if(!e){if(!l.msaaBuffer)return;const h=i.colorTextures[0];if(!h)return;l.blitFramebuffer||(l.blitFramebuffer=new Xg(i.width,i.height),l.blitFramebuffer.addColorTexture(0,h)),e=l.blitFramebuffer,e.colorTextures[0]!==h&&(e.colorTextures[0]=h,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}n||(n=DAe,n.width=i.width,n.height=i.height),r||(r=n);const c=n.width===r.width&&n.height===r.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,l.framebuffer),o.blitFramebuffer(n.left,n.top,n.right,n.bottom,r.left,r.top,r.right,r.bottom,o.COLOR_BUFFER_BIT,c?o.NEAREST:o.LINEAR)}disposeFramebuffer(e,n){const r=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!r)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),n||(i.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&i.deleteRenderbuffer(r.msaaBuffer),r.stencil&&i.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&r.blitFramebuffer.dispose()}disposeAll(e){const n=this.managedFramebuffers;this.managedFramebuffers=[];for(let r=0;r<n.length;r++)this.disposeFramebuffer(n[r],e)}forceStencil(){const e=this.current;if(!e)return;const n=e.glFramebuffers[this.CONTEXT_UID];if(!n||n.stencil)return;e.stencil=!0;const r=e.width,i=e.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),n.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,n.multisample,s.DEPTH24_STENCIL8,r,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,r,i),n.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new qe}destroy(){this.renderer=null}}N2.extension={type:be.RendererSystem,name:"framebuffer"};Pe.add(N2);const gb={5126:4,5123:2,5121:1};class $2{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,n=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,n.webGLVersion!==2){let r=this.renderer.context.extensions.vertexArrayObject;we.PREFER_ENV===ma.WEBGL_LEGACY&&(r=null),r?(e.createVertexArray=()=>r.createVertexArrayOES(),e.bindVertexArray=i=>r.bindVertexArrayOES(i),e.deleteVertexArray=i=>r.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(n.webGLVersion!==2){const r=e.getExtension("ANGLE_instanced_arrays");r?(e.vertexAttribDivisor=(i,s)=>r.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,a,l)=>r.drawElementsInstancedANGLE(i,s,o,a,l),e.drawArraysInstanced=(i,s,o,a)=>r.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=n.webGLVersion===2||!!n.extensions.uint32ElementIndex}bind(e,n){n=n||this.renderer.shader.shader;const{gl:r}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[n.program.id]||this.initGeometryVao(e,n,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?r.bindVertexArray(o):this.activateVao(e,n.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,n=this.renderer.buffer;for(let r=0;r<e.buffers.length;r++){const i=e.buffers[r];n.update(i)}}checkCompatibility(e,n){const r=e.attributes,i=n.attributeData;for(const s in i)if(!r[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,n){const r=e.attributes,i=n.attributeData,s=["g",e.id];for(const o in r)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,n,r=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=n.program;a.glPrograms[s]||this.renderer.shader.generateProgram(n),this.checkCompatibility(e,a);const l=this.getSignature(e,a),c=e.glVertexArrayObjects[this.CONTEXT_UID];let h=c[l];if(h)return c[a.id]=h,h;const f=e.buffers,p=e.attributes,m={},v={};for(const y in f)m[y]=0,v[y]=0;for(const y in p)!p[y].size&&a.attributeData[y]?p[y].size=a.attributeData[y].size:p[y].size||console.warn(`PIXI Geometry attribute '${y}' size cannot be determined (likely the bound shader does not have the attribute)`),m[p[y].buffer]+=p[y].size*gb[p[y].type];for(const y in p){const x=p[y],b=x.size;x.stride===void 0&&(m[x.buffer]===b*gb[x.type]?x.stride=0:x.stride=m[x.buffer]),x.start===void 0&&(x.start=v[x.buffer],v[x.buffer]+=b*gb[x.type])}h=i.createVertexArray(),i.bindVertexArray(h);for(let y=0;y<f.length;y++){const x=f[y];o.bind(x),r&&x._glBuffers[s].refCount++}return this.activateVao(e,a),c[a.id]=h,c[l]=h,i.bindVertexArray(null),o.unbind(Ji.ARRAY_BUFFER),h}disposeGeometry(e,n){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const r=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!r){if(o)for(let l=0;l<s.length;l++){const c=s[l]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!n&&o.dispose(s[l],n))}if(!n){for(const l in r)if(l[0]==="g"){const c=r[l];this._activeVao===c&&this.unbind(),i.deleteVertexArray(c)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const n=Object.keys(this.managedGeometries);for(let r=0;r<n.length;r++)this.disposeGeometry(this.managedGeometries[n[r]],e)}activateVao(e,n){const r=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let l=null;for(const c in a){const h=a[c],f=o[h.buffer],p=f._glBuffers[i];if(n.attributeData[c]){l!==p&&(s.bind(f),l=p);const m=n.attributeData[c].location;if(r.enableVertexAttribArray(m),r.vertexAttribPointer(m,h.size,h.type||r.FLOAT,h.normalized,h.stride,h.start),h.instance)if(this.hasInstance)r.vertexAttribDivisor(m,h.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,n,r,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,l=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,n||o.indexBuffer.data.length,l,(r||0)*a,i||1):s.drawElements(e,n||o.indexBuffer.data.length,l,(r||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,r,n||o.getSize(),i||1):s.drawArrays(e,r,n||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}$2.extension={type:be.RendererSystem,name:"geometry"};Pe.add($2);const y3=new Nt;class C0{constructor(e,n){this._texture=e,this.mapCoord=new Nt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof n>"u"?.5:n,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,n){n===void 0&&(n=e);const r=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];n[i]=s*r.a+o*r.c+r.tx,n[i+1]=s*r.b+o*r.d+r.ty}return n}update(e){const n=this._texture;if(!n||!n.valid||!e&&this._textureID===n._updateID)return!1;this._textureID=n._updateID,this._updateID++;const r=n._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const i=n.orig,s=n.trim;s&&(y3.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(y3));const o=n.baseTexture,a=this.uClampFrame,l=this.clampMargin/o.resolution,c=this.clampOffset;return a[0]=(n._frame.x+l+c)/o.width,a[1]=(n._frame.y+l+c)/o.height,a[2]=(n._frame.x+n._frame.width-l+c)/o.width,a[3]=(n._frame.y+n._frame.height-l+c)/o.height,this.uClampOffset[0]=c/o.realWidth,this.uClampOffset[1]=c/o.realHeight,this.isSimple=n._frame.width===o.width&&n._frame.height===o.height&&n.rotate===0,!0}}var LAe=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,BAe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class gB extends Sn{constructor(e,n,r){let i=null;typeof e!="string"&&n===void 0&&r===void 0&&(i=e,e=void 0,n=void 0,r=void 0),super(e||BAe,n||LAe,r),this.maskSprite=i,this.maskMatrix=new Nt}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,n,r,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new C0(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,n,r,i))}}class vB{constructor(e=null){this.type=ln.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Sn.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=ln.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class U2{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,n){let r=n;if(!r.isMaskData){const s=this.maskDataPool.pop()||new vB;s.pooled=!0,s.maskObject=n,r=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(i),r._colorMask=i?i._colorMask:15,r.autoDetect&&this.detect(r),r._target=e,r.type!==ln.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case ln.SCISSOR:this.renderer.scissor.push(r);break;case ln.STENCIL:this.renderer.stencil.push(r);break;case ln.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case ln.COLOR:this.pushColorMask(r);break}r.type===ln.SPRITE&&this.maskStack.push(r)}pop(e){const n=this.maskStack.pop();if(!(!n||n._target!==e)){if(n.enabled)switch(n.type){case ln.SCISSOR:this.renderer.scissor.pop(n);break;case ln.STENCIL:this.renderer.stencil.pop(n.maskObject);break;case ln.SPRITE:this.popSpriteMask(n);break;case ln.COLOR:this.popColorMask(n);break}if(n.reset(),n.pooled&&this.maskDataPool.push(n),this.maskStack.length!==0){const r=this.maskStack[this.maskStack.length-1];r.type===ln.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}}detect(e){const n=e.maskObject;n?n.isSprite?e.type=ln.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=ln.SCISSOR:e.type=ln.STENCIL:e.type=ln.COLOR}pushSpriteMask(e){const{maskObject:n}=e,r=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new gB]));const s=this.renderer,o=s.renderTexture;let a,l;if(o.current){const h=o.current;a=e.resolution||h.resolution,l=e.multisample??h.multisample}else a=e.resolution||s.resolution,l=e.multisample??s.multisample;i[0].resolution=a,i[0].multisample=l,i[0].maskSprite=n;const c=r.filterArea;r.filterArea=n.getBounds(!0),s.filter.push(r,i),r.filterArea=c,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const n=e._colorMask,r=e._colorMask=n&e.colorMask;r!==n&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}popColorMask(e){const n=e._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==n&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}destroy(){this.renderer=null}}U2.extension={type:be.RendererSystem,name:"mask"};Pe.add(U2);class yB{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:n}=this.renderer,r=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==r&&(i===0?n.disable(this.glConst):(n.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const b3=new Nt,x3=[],Nm=class extends yB{constructor(t){super(t),this.glConst=we.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:n}=t,{renderer:r}=this,i=r.renderTexture,s=n.getBounds(!0,x3.pop()??new qe);this.roundFrameToPixels(s,i.current?i.current.resolution:r.resolution,i.sourceFrame,i.destinationFrame,r.projection.transform),e&&s.fit(e),t._scissorRectLocal=s}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:n,c:r,d:i}=t;return(Math.abs(n)>1e-4||Math.abs(r)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||Nm.isMatrixRotated(e.worldTransform)||Nm.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const n=t._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(t,e,n,r,i){Nm.isMatrixRotated(i)||(i=i?b3.copyFrom(i):b3.identity(),i.translate(-n.x,-n.y).scale(r.width/n.width,r.height/n.height).translate(r.x,r.y),this.renderer.filter.transformAABB(i,t),t.fit(r),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&x3.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};let z2=Nm;z2.extension={type:be.RendererSystem,name:"scissor"};Pe.add(z2);class H2 extends yB{constructor(e){super(e),this.glConst=we.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const n=e.maskObject,{gl:r}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,i,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,s!==0&&(e._colorMask=s,r.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const n=this.renderer.gl;if(this.getStackLength()===0)n.disable(n.STENCIL_TEST);else{const r=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=r?r._colorMask:15;i!==0&&(r._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilOp(n.KEEP,n.KEEP,n.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(r._colorMask=i,n.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}H2.extension={type:be.RendererSystem,name:"stencil"};Pe.add(H2);class j2{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return at("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return at("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return at("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(e){for(const n in e)this.plugins[n]=new e[n](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}j2.extension={type:[be.RendererSystem,be.CanvasRendererSystem],name:"_plugin"};Pe.add(j2);class W2{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Nt,this.transform=null}update(e,n,r,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=n||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,n,r,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/n.width*2,s.d=o*(1/n.height*2),s.tx=-1-n.x*s.a,s.ty=-o-n.y*s.d}setTransform(e){}destroy(){this.renderer=null}}W2.extension={type:be.RendererSystem,name:"projection"};Pe.add(W2);const NAe=new wf;class G2{constructor(e){this.renderer=e,this._tempMatrix=new Nt}generateTexture(e,n){const{region:r,...i}=n||{},s=r||e.getLocalBounds(null,!0);s.width===0&&(s.width=1),s.height===0&&(s.height=1);const o=mo.create({width:s.width,height:s.height,...i});this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const a=e.transform;return e.transform=NAe,this.renderer.render(e,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=a,o}destroy(){}}G2.extension={type:[be.RendererSystem,be.CanvasRendererSystem],name:"textureGenerator"};Pe.add(G2);const ka=new qe,yh=new qe;class V2{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new qe,this.destinationFrame=new qe,this.viewportFrame=new qe}bind(e=null,n,r){const i=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,n||(ka.width=e.frame.width,ka.height=e.frame.height,n=ka),r||(yh.x=e.frame.x,yh.y=e.frame.y,yh.width=n.width,yh.height=n.height,r=yh),o=s.framebuffer):(a=i.resolution,n||(ka.width=i._view.screen.width,ka.height=i._view.screen.height,n=ka),r||(r=ka,r.width=n.width,r.height=n.height));const l=this.viewportFrame;l.x=r.x*a,l.y=r.y*a,l.width=r.width*a,l.height=r.height*a,e||(l.y=i.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(o,l),this.renderer.projection.update(r,n,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(n),this.destinationFrame.copyFrom(r)}clear(e,n){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.renderer.background.colorRgba;const r=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer._view.screen,s=r.width!==i.width||r.height!==i.height;if(s){let{x:o,y:a,width:l,height:c}=this.viewportFrame;o=Math.round(o),a=Math.round(a),l=Math.round(l),c=Math.round(c),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(o,a,l,c)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],n),s&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}V2.extension={type:be.RendererSystem,name:"renderTexture"};Pe.add(V2);class $Ae{}class bB{constructor(e,n){this.program=e,this.uniformData=n,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function UAe(t,e){const n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=cB(e,s.type),a={type:o,name:s.name,size:uB(o),location:e.getAttribLocation(t,s.name)};n[s.name]=a}return n}function zAe(t,e){const n={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),l=cB(e,s.type);n[o]={name:o,index:i,type:l,size:s.size,isArray:a,value:oB(l,s.size)}}return n}function xB(t,e){var l;const n=d3(t,t.VERTEX_SHADER,e.vertexSrc),r=d3(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,n),t.attachShader(i,r);const s=(l=e.extra)==null?void 0:l.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||EAe(t,i,n,r),e.attributeData=UAe(i,t),e.uniformData=zAe(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const c=Object.keys(e.attributeData);c.sort((h,f)=>h>f?1:-1);for(let h=0;h<c.length;h++)e.attributeData[c[h]].location=h,t.bindAttribLocation(i,h,c[h]);t.linkProgram(i)}t.deleteShader(n),t.deleteShader(r);const o={};for(const c in e.uniformData){const h=e.uniformData[c];o[c]={location:t.getUniformLocation(i,c),value:oB(h.type,h.size)}}return new bB(i,o)}function HAe(t,e,n,r,i){n.buffer.update(i)}const jAe={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},wB={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function _B(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let n=0,r=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(n=wB[o.data.type],o.data.size>1&&(n=Math.max(n,16)*o.data.size),o.dataLen=n,r%n!==0&&r<16){const a=r%n%16;r+=a,i+=a}r+n>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=n,r=n):(o.offset=i,r+=n,i+=n)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function SB(t,e){const n=[];for(const r in t)e[r]&&n.push(e[r]);return n.sort((r,i)=>r.index-i.index),n}function EB(t,e){if(!t.autoManage)return{size:0,syncFunc:HAe};const n=SB(t.uniforms,e),{uboElements:r,size:i}=_B(n),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<r.length;o++){const a=r[o],l=t.uniforms[a.data.name],c=a.data.name;let h=!1;for(let f=0;f<el.length;f++){const p=el[f];if(p.codeUbo&&p.test(a.data,l)){s.push(`offset = ${a.offset/4};`,el[f].codeUbo(a.data.name,l)),h=!0;break}}if(!h)if(a.data.size>1){const f=uB(a.data.type),p=Math.max(wB[a.data.type]/16,1),m=f/p,v=(4-m%4)%4;s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*p}; i++)
                {
                    for(var j = 0; j < ${m}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${v};
                }

                `)}else{const f=jAe[a.data.type];s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${a.offset/4};
                ${f};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let WAe=0;const om={textureCount:0,uboCount:0};class q2{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=WAe++}systemCheck(){if(!hB())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,n){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const r=e.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),n||(om.textureCount=0,om.uboCount=0,this.syncUniformGroup(e.uniformGroup,om)),i}setUniforms(e){const n=this.shader.program,r=n.glPrograms[this.renderer.CONTEXT_UID];n.syncUniforms(r.uniformData,e,this.renderer)}syncUniformGroup(e,n){const r=this.getGlProgram();(!e.static||e.dirtyId!==r.uniformDirtyGroups[e.id])&&(r.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,n))}syncUniforms(e,n,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(n.uniformData,e.uniforms,this.renderer,r)}createSyncGroups(e){const n=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[n]||(this.cache[n]=_Ae(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[n],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,n){const r=this.getGlProgram();if(!e.static||e.dirtyId!==0||!r.uniformGroups[e.id]){e.dirtyId=0;const i=r.uniformGroups[e.id]||this.createSyncBufferGroup(e,r,n);e.buffer.update(),i(r.uniformData,e.uniforms,this.renderer,om,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,r.uniformBufferBindings[n])}createSyncBufferGroup(e,n,r){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(n.program,r);n.uniformBufferBindings[r]=this.shader.uniformBindCount,i.uniformBlockBinding(n.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=EB(e,this.shader.program.uniformData)),e.autoManage){const l=new Float32Array(a.size/4);e.buffer.update(l)}return n.uniformGroups[e.id]=a.syncFunc,n.uniformGroups[e.id]}getSignature(e,n,r){const i=e.uniforms,s=[`${r}-`];for(const o in i)s.push(o),n[o]&&s.push(n[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const n=this.gl,r=e.program,i=xB(n,r);return r.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}q2.extension={type:be.RendererSystem,name:"shader"};Pe.add(q2);class X2{constructor(e){this.renderer=e}run(e){const n=this.renderer;n.emitWithCustomOptions(n.runners.init,e),e.hello&&console.log(`PixiJS 7.1.4 - ${n.rendererLogId} - https://pixijs.com`),n.resize(this.renderer.screen.width,this.renderer.screen.height)}destroy(){}}X2.extension={type:[be.RendererSystem,be.CanvasRendererSystem],name:"startup"};Pe.add(X2);function GAe(t,e=[]){return e[Me.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.ADD]=[t.ONE,t.ONE],e[Me.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.NONE]=[0,0],e[Me.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[Me.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[Me.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[Me.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Me.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[Me.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[Me.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[Me.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[Me.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Me.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const VAe=0,qAe=1,XAe=2,YAe=3,KAe=4,ZAe=5,o_=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Me.NONE,this._blendEq=!1,this.map=[],this.map[VAe]=this.setBlend,this.map[qAe]=this.setOffset,this.map[XAe]=this.setCullFace,this.map[YAe]=this.setDepthTest,this.map[KAe]=this.setFrontFace,this.map[ZAe]=this.setDepthMask,this.checks=[],this.defaultState=new Ds,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=GAe(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,n=0;for(;e;)e&1&&this.map[n].call(this,!!(t.data&1<<n)),e=e>>1,n++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(o_.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(o_.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],n=this.gl;e.length===2?n.blendFunc(e[0],e[1]):n.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,n.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const n=this.checks.indexOf(t);e&&n===-1?this.checks.push(t):!e&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let Y2=o_;Y2.extension={type:be.RendererSystem,name:"state"};Pe.add(Y2);class CB extends na{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const n=(e.priority??[]).filter(i=>e.systems[i]),r=[...n,...Object.keys(e.systems).filter(i=>!n.includes(i))];for(const i of r)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(n=>{this.runners[n]=new Wr(n)})}addSystem(e,n){const r=new e(this);if(this[n])throw new Error(`Whoops! The name "${n}" is already in use`);this[n]=r,this._systemsHash[n]=r;for(const i in this.runners)this.runners[i].add(r);return this}emitWithCustomOptions(e,n){const r=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=r.find(o=>this._systemsHash[o]===i);i[e.name](n[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const $m=class{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=$m.defaultMaxIdle,this.checkCountMax=$m.defaultCheckCountMax,this.mode=$m.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==v0.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let n=!1;for(let r=0;r<e.length;r++){const i=e[r];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[r]=null,n=!0)}if(n){let r=0;for(let i=0;i<e.length;i++)e[i]!==null&&(e[r++]=e[i]);e.length=r}}unload(t){const e=this.renderer.texture,n=t._texture;n&&!n.framebuffer&&e.destroyTexture(n);for(let r=t.children.length-1;r>=0;r--)this.unload(t.children[r])}destroy(){this.renderer=null}};let di=$m;di.defaultMode=v0.AUTO;di.defaultMaxIdle=60*60;di.defaultCheckCountMax=60*10;di.extension={type:be.RendererSystem,name:"textureGC"};Pe.add(di);class Um{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=ke.UNSIGNED_BYTE,this.internalFormat=ge.RGBA,this.samplerType=0}}function QAe(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[ke.UNSIGNED_BYTE]:{[ge.RGBA]:t.RGBA8,[ge.RGB]:t.RGB8,[ge.RG]:t.RG8,[ge.RED]:t.R8,[ge.RGBA_INTEGER]:t.RGBA8UI,[ge.RGB_INTEGER]:t.RGB8UI,[ge.RG_INTEGER]:t.RG8UI,[ge.RED_INTEGER]:t.R8UI,[ge.ALPHA]:t.ALPHA,[ge.LUMINANCE]:t.LUMINANCE,[ge.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ke.BYTE]:{[ge.RGBA]:t.RGBA8_SNORM,[ge.RGB]:t.RGB8_SNORM,[ge.RG]:t.RG8_SNORM,[ge.RED]:t.R8_SNORM,[ge.RGBA_INTEGER]:t.RGBA8I,[ge.RGB_INTEGER]:t.RGB8I,[ge.RG_INTEGER]:t.RG8I,[ge.RED_INTEGER]:t.R8I},[ke.UNSIGNED_SHORT]:{[ge.RGBA_INTEGER]:t.RGBA16UI,[ge.RGB_INTEGER]:t.RGB16UI,[ge.RG_INTEGER]:t.RG16UI,[ge.RED_INTEGER]:t.R16UI,[ge.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[ke.SHORT]:{[ge.RGBA_INTEGER]:t.RGBA16I,[ge.RGB_INTEGER]:t.RGB16I,[ge.RG_INTEGER]:t.RG16I,[ge.RED_INTEGER]:t.R16I},[ke.UNSIGNED_INT]:{[ge.RGBA_INTEGER]:t.RGBA32UI,[ge.RGB_INTEGER]:t.RGB32UI,[ge.RG_INTEGER]:t.RG32UI,[ge.RED_INTEGER]:t.R32UI,[ge.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[ke.INT]:{[ge.RGBA_INTEGER]:t.RGBA32I,[ge.RGB_INTEGER]:t.RGB32I,[ge.RG_INTEGER]:t.RG32I,[ge.RED_INTEGER]:t.R32I},[ke.FLOAT]:{[ge.RGBA]:t.RGBA32F,[ge.RGB]:t.RGB32F,[ge.RG]:t.RG32F,[ge.RED]:t.R32F,[ge.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[ke.HALF_FLOAT]:{[ge.RGBA]:t.RGBA16F,[ge.RGB]:t.RGB16F,[ge.RG]:t.RG16F,[ge.RED]:t.R16F},[ke.UNSIGNED_SHORT_5_6_5]:{[ge.RGB]:t.RGB565},[ke.UNSIGNED_SHORT_4_4_4_4]:{[ge.RGBA]:t.RGBA4},[ke.UNSIGNED_SHORT_5_5_5_1]:{[ge.RGBA]:t.RGB5_A1},[ke.UNSIGNED_INT_2_10_10_10_REV]:{[ge.RGBA]:t.RGB10_A2,[ge.RGBA_INTEGER]:t.RGB10_A2UI},[ke.UNSIGNED_INT_10F_11F_11F_REV]:{[ge.RGB]:t.R11F_G11F_B10F},[ke.UNSIGNED_INT_5_9_9_9_REV]:{[ge.RGB]:t.RGB9_E5},[ke.UNSIGNED_INT_24_8]:{[ge.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[ke.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[ge.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[ke.UNSIGNED_BYTE]:{[ge.RGBA]:t.RGBA,[ge.RGB]:t.RGB,[ge.ALPHA]:t.ALPHA,[ge.LUMINANCE]:t.LUMINANCE,[ge.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ke.UNSIGNED_SHORT_5_6_5]:{[ge.RGB]:t.RGB},[ke.UNSIGNED_SHORT_4_4_4_4]:{[ge.RGBA]:t.RGBA},[ke.UNSIGNED_SHORT_5_5_5_1]:{[ge.RGBA]:t.RGBA}},e}class K2{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new He,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=QAe(e);const n=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=n;for(let i=0;i<n;i++)this.boundTextures[i]=null;this.emptyTextures={};const r=new Um(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Um(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,n=0){const{gl:r}=this;if(e=e==null?void 0:e.castToBaseTexture(),e!=null&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[n]!==e&&(this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),r.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[n]=e}else this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[n]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:n,boundTextures:r}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<r.length;i++)r[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<r.length;i++)r[i]===e&&(this.currentLocation!==i&&(n.activeTexture(n.TEXTURE0+i),this.currentLocation=i),n.bindTexture(e.target,this.emptyTextures[e.target].texture),r[i]=null)}ensureSamplerType(e){const{boundTextures:n,hasIntegerTextures:r,CONTEXT_UID:i}=this;if(r)for(let s=e-1;s>=0;--s){const o=n[s];o&&o._glTextures[i].samplerType!==zg.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const n=new Um(this.gl.createTexture());return n.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=n,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),n}initTextureType(e,n){var r;n.internalFormat=((r=this.internalFormats[e.type])==null?void 0:r[e.format])??e.format,this.webGLVersion===2&&e.type===ke.HALF_FLOAT?n.type=this.gl.HALF_FLOAT:n.type=e.type}updateTexture(e){var i;const n=e._glTextures[this.CONTEXT_UID];if(!n)return;const r=this.renderer;if(this.initTextureType(e,n),(i=e.resource)!=null&&i.upload(r,e,n))n.samplerType!==zg.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=r.gl;(n.width!==s||n.height!==o||n.dirtyId<0)&&(n.width=s,n.height=o,a.texImage2D(e.target,0,n.internalFormat,s,o,0,e.format,n.type,null))}e.dirtyStyleId!==n.dirtyStyleId&&this.updateTextureStyle(e),n.dirtyId=e.dirtyId}destroyTexture(e,n){const{gl:r}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!n)){const i=this.managedTextures.indexOf(e);i!==-1&&Qa(this.managedTextures,i,1)}}updateTextureStyle(e){var r;const n=e._glTextures[this.CONTEXT_UID];n&&((e.mipmap===ss.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?n.mipmap=!1:n.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?n.wrapMode=Is.CLAMP:n.wrapMode=e.wrapMode,(r=e.resource)!=null&&r.style(this.renderer,e,n)||this.setStyle(e,n),n.dirtyStyleId=e.dirtyStyleId)}setStyle(e,n){const r=this.gl;if(n.mipmap&&e.mipmap!==ss.ON_MANUAL&&r.generateMipmap(e.target),r.texParameteri(e.target,r.TEXTURE_WRAP_S,n.wrapMode),r.texParameteri(e.target,r.TEXTURE_WRAP_T,n.wrapMode),n.mipmap){r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===As.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===As.LINEAR){const s=Math.min(e.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===As.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(e.target,r.TEXTURE_MAG_FILTER,e.scaleMode===As.LINEAR?r.LINEAR:r.NEAREST)}destroy(){this.renderer=null}}K2.extension={type:be.RendererSystem,name:"texture"};Pe.add(K2);class Z2{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glTransformFeedbacks[r]||this.createGLTransformFeedback(e);n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,n){const{gl:r,renderer:i}=this;n&&i.shader.bind(n),r.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:n,renderer:r,CONTEXT_UID:i}=this,s=n.createTransformFeedback();e._glTransformFeedbacks[i]=s,n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(r.buffer.update(a),a._glBuffers[i].refCount++,n.bindBufferBase(n.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,n){const r=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const l=a._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!n&&s.dispose(a,n))}r&&(n||i.deleteTransformFeedback(r),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}Z2.extension={type:be.RendererSystem,name:"transformFeedback"};Pe.add(Z2);class Q2{constructor(e){this.renderer=e}init(e){this.screen=new qe(0,0,e.width,e.height),this.element=e.view||we.ADAPTER.createCanvas(),this.resolution=e.resolution||we.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,n){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(n*this.resolution);const r=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=r,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${r}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",r,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var n;e&&((n=this.element.parentNode)==null||n.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}Q2.extension={type:[be.RendererSystem,be.CanvasRendererSystem],name:"_view"};Pe.add(Q2);we.PREFER_ENV=ma.WEBGL2;we.STRICT_TEXTURE_CACHE=!1;Object.defineProperties(we,{WRAP_MODE:{get(){return He.defaultOptions.wrapMode},set(t){at("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),He.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return He.defaultOptions.scaleMode},set(t){at("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),He.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return He.defaultOptions.mipmap},set(t){at("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),He.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return He.defaultOptions.anisotropicLevel},set(t){at("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),He.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return at("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Sn.defaultResolution},set(t){Sn.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return at("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Sn.defaultMultisample},set(t){Sn.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return hi.defaultMaxTextures},set(t){at("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),hi.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return hi.defaultBatchSize},set(t){at("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),hi.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return hi.canUploadSameBuffer},set(t){at("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),hi.canUploadSameBuffer=t}},GC_MODE:{get(){return di.defaultMode},set(t){at("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),di.defaultMode=t}},GC_MAX_IDLE:{get(){return di.defaultMaxIdle},set(t){at("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),di.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return di.defaultCheckCountMax},set(t){at("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),di.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return mi.defaultVertexPrecision},set(t){at("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),mi.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return mi.defaultFragmentPrecision},set(t){at("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),mi.defaultFragmentPrecision=t}}});var ia=(t=>(t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(ia||{});class vb{constructor(e,n=null,r=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=n,this.priority=r,this.once=i}match(e,n=null){return this.fn===e&&this.context===n}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const n=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),n}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const n=this.next;return this.next=e?null:n,this.previous=null,n}}const Or=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new vb(null,null,1/0),this.deltaMS=1/Or.targetFPMS,this.elapsedMS=1/Or.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,n=ia.NORMAL){return this._addListener(new vb(t,e,n))}addOnce(t,e,n=ia.NORMAL){return this._addListener(new vb(t,e,n,!0))}_addListener(t){let e=this._head.next,n=this._head;if(!e)t.connect(n);else{for(;e;){if(t.priority>e.priority){t.connect(n);break}n=e,e=e.next}t.previous||t.connect(n)}return this._startIfPossible(),this}remove(t,e){let n=this._head.next;for(;n;)n.match(t,e)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*Or.targetFPMS;const n=this._head;let r=n.next;for(;r;)r=r.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,e)/1e3,Or.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!Or._shared){const t=Or._shared=new Or;t.autoStart=!0,t._protected=!0}return Or._shared}static get system(){if(!Or._system){const t=Or._system=new Or;t.autoStart=!0,t._protected=!0}return Or._system}};let dn=Or;dn.targetFPMS=.06;Object.defineProperties(we,{TARGET_FPMS:{get(){return dn.targetFPMS},set(t){at("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),dn.targetFPMS=t}}});class J2{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,ia.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?dn.shared:new dn,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}J2.extension=be.Application;Pe.add(J2);const TB=[];Pe.handleByList(be.Renderer,TB);function AB(t){for(const e of TB)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var JAe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,ePe=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const PB=JAe,eC=ePe;class tC{constructor(e){this.renderer=e}contextChange(e){let n;if(this.renderer.context.webGLVersion===1){const r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else{const r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r)}n>=qt.HIGH?this.multisample=qt.HIGH:n>=qt.MEDIUM?this.multisample=qt.MEDIUM:n>=qt.LOW?this.multisample=qt.LOW:this.multisample=qt.NONE}destroy(){}}tC.extension={type:be.RendererSystem,name:"_multisample"};Pe.add(tC);class tPe{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class nC{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);n.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:n}=this;n.bindBuffer(e,null)}bindBufferBase(e,n){const{gl:r,CONTEXT_UID:i}=this;if(this.boundBufferBases[n]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[n]=e,r.bindBufferBase(r.UNIFORM_BUFFER,n,s.buffer)}}bindBufferRange(e,n,r){const{gl:i,CONTEXT_UID:s}=this;r=r||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,n||0,o.buffer,r*256,256)}update(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,n.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)n.bufferSubData(e.type,0,e.data);else{const s=e.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,n.bufferData(e.type,e.data,s)}}dispose(e,n){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const r=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),r&&(n||i.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const n=Object.keys(this.managedBuffers);for(let r=0;r<n.length;r++)this.dispose(this.managedBuffers[n[r]],e)}createGLBuffer(e){const{CONTEXT_UID:n,gl:r}=this;return e._glBuffers[n]=new tPe(r.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[n]}}nC.extension={type:be.RendererSystem,name:"buffer"};Pe.add(nC);class rC{constructor(e){this.renderer=e}render(e,n){const r=this.renderer;let i,s,o,a;if(n&&(i=n.renderTexture,s=n.clear,o=n.transform,a=n.skipUpdateTransform),this.renderingToScreen=!i,r.runners.prerender.emit(),r.emit("prerender"),r.projection.transform=o,!r.context.isLost){if(i||(this.lastObjectRendered=e),!a){const l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}r.renderTexture.bind(i),r.batch.currentRenderer.start(),(s??r.background.clearBeforeRender)&&r.renderTexture.clear(),e.render(r),r.batch.currentRenderer.flush(),i&&(n.blit&&r.framebuffer.blit(),i.baseTexture.update()),r.runners.postrender.emit(),r.projection.transform=null,r.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}rC.extension={type:be.RendererSystem,name:"objectRenderer"};Pe.add(rC);const a_=class extends CB{constructor(t){super(),this.type=_2.WEBGL,t=Object.assign({},we.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new bi({projectionMatrix:new Nt},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:a_.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(at("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha);const n={hello:t.hello,_plugin:a_.__plugins,background:{alpha:t.backgroundAlpha,color:t.background??t.backgroundColor,clearBeforeRender:t.clearBeforeRender},_view:{height:t.height,width:t.width,autoDensity:t.autoDensity,resolution:t.resolution,view:t.view},context:{antialias:t.antialias,context:t.context,powerPreference:t.powerPreference,premultipliedAlpha:t.premultipliedAlpha,preserveDrawingBuffer:t.preserveDrawingBuffer}};this.options=t,this.startup.run(n)}static test(t){return t!=null&&t.forceCanvas?!1:qL()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return at("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return at("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return at("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return at("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){at("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return at("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.color}set backgroundAlpha(t){at("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return at("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};let El=a_;El.extension={type:be.Renderer,priority:1};El.__plugins={};El.__systems={};Pe.handleByMap(be.RendererPlugin,El.__plugins);Pe.handleByMap(be.RendererSystem,El.__systems);Pe.add(El);class iC extends lc{constructor(e,n){const{width:r,height:i}=n||{};super(r,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new He;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,n){for(let r=0;r<this.length;r++)e[r]&&(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof lc?this.addResourceAt(e[r],r):this.addResourceAt(A2(e[r],n),r))}dispose(){for(let e=0,n=this.length;e<n;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,n){if(!this.items[n])throw new Error(`Index ${n} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[n].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let n=0;n<this.length;n++)this.items[n].parentTextureArray=e,this.items[n].on("update",e.update,e)}unbind(e){super.unbind(e);for(let n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",e.update,e)}load(){if(this._load)return this._load;const n=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(n).then(()=>{const{realWidth:r,realHeight:i}=this.items[0];return this.resize(r,i),Promise.resolve(this)}),this._load}}class kB extends iC{constructor(e,n){const{width:r,height:i}=n||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:r,height:i}),s&&this.initFromArray(s,n)}addBaseTextureAt(e,n){if(e.resource)this.addResourceAt(e.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=Za.TEXTURE_2D_ARRAY}upload(e,n,r){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=e;r.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,i,0,n.format,r.type,null);for(let l=0;l<i;l++){const c=o[l];s[l]<c.dirtyId&&(s[l]=c.dirtyId,c.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,l,c.resource.width,c.resource.height,1,n.format,r.type,c.resource.source))}return!0}}class OB extends po{constructor(e){super(e)}static test(e){const{OffscreenCanvas:n}=globalThis;return n&&e instanceof n?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const Fh=class extends iC{constructor(t,e){const{width:n,height:r,autoLoad:i,linkBaseTexture:s}=e||{};if(t&&t.length!==Fh.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:n,height:r});for(let o=0;o<Fh.SIDES;o++)this.items[o].target=Za.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=s!==!1,t&&this.initFromArray(t,e),i!==!1&&this.load()}bind(t){super.bind(t),t.target=Za.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=Za.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,n){const r=this.itemDirtyIds;for(let i=0;i<Fh.SIDES;i++){const s=this.items[i];(r[i]<s.dirtyId||n.dirtyId<e.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(t,s,n),r[i]=s.dirtyId):r[i]<-1&&(t.gl.texImage2D(s.target,0,n.internalFormat,e.realWidth,e.realHeight,0,e.format,n.type,null),r[i]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===Fh.SIDES}};let sC=Fh;sC.SIDES=6;class Wa extends po{constructor(e,n){n=n||{};let r,i;typeof e=="string"?(r=Wa.EMPTY,i=e):(r=e,i=null),super(r),this.url=i,this.crossOrigin=n.crossOrigin??!0,this.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,this._load=null,n.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,n)=>{if(this.url===null){e(this);return}try{const r=await we.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await r.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Ai.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),e(this)}catch(r){if(this.destroyed)return;n(r),this.onError.emit(r)}}),this._load)}upload(e,n,r){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),super.upload(e,n,r)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return Wa._EMPTY=Wa._EMPTY??we.ADAPTER.createCanvas(0,0),Wa._EMPTY}}const zm=class extends po{constructor(t,e){e=e||{},super(we.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),t(this)},zm.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;po.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,n=t.height;if(!e||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let r=e*this.scale,i=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(r=this._overrideWidth||this._overrideHeight/n*e,i=this._overrideHeight||this._overrideWidth/e*n),r=Math.round(r),i=Math.round(i);const s=this.source;s.width=r,s.height=i,s._pixiId=`canvas_${ra()}`,s.getContext("2d").drawImage(t,0,0,e,n,0,0,r,i),this._resolve(),this._resolve=null}}static getSize(t){const e=zm.SVG_SIZE.exec(t),n={};return e&&(n[e[1]]=Math.round(parseFloat(e[3])),n[e[5]]=Math.round(parseFloat(e[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&zm.SVG_XML.test(t)}};let hc=zm;hc.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;hc.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const l_=class extends po{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const n=document.createElement("video");n.setAttribute("preload","auto"),n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);const r=t[0].src||t[0];po.crossOrigin(n,r,e.crossorigin);for(let i=0;i<t.length;++i){const s=document.createElement("source");let{src:o,mime:a}=t[i];o=o||t[i];const l=o.split("?").shift().toLowerCase(),c=l.slice(l.lastIndexOf(".")+1);a=a||l_.MIME_TYPES[c]||`video/${c}`,s.src=o,s.type=a,n.appendChild(s)}t=n}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){const e=dn.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(dn.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(dn.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._isConnectedToTicker&&(dn.shared.remove(this.update,this),this._isConnectedToTicker=!1);const t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(dn.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(dn.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t)}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||l_.TYPES.includes(e)}};let T0=l_;T0.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];T0.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};Gg.push(Wa,M2,OB,T0,hc,Mc,sC,kB);class nPe{constructor(){this._glTransformFeedbacks={},this.buffers=[],this.disposeRunner=new Wr("disposeTransformFeedback")}bindBuffer(e,n){this.buffers[e]=n}destroy(){this.disposeRunner.emit(this,!1)}}const rPe="7.1.4";class Bd{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?qe.EMPTY:(e=e||new qe(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,n){const{a:r,b:i,c:s,d:o,tx:a,ty:l}=e,c=r*n.x+s*n.y+a,h=i*n.x+o*n.y+l;this.minX=Math.min(this.minX,c),this.maxX=Math.max(this.maxX,c),this.minY=Math.min(this.minY,h),this.maxY=Math.max(this.maxY,h)}addQuad(e){let n=this.minX,r=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,this.minX=n,this.minY=r,this.maxX=i,this.maxY=s}addFrame(e,n,r,i,s){this.addFrameMatrix(e.worldTransform,n,r,i,s)}addFrameMatrix(e,n,r,i,s){const o=e.a,a=e.b,l=e.c,c=e.d,h=e.tx,f=e.ty;let p=this.minX,m=this.minY,v=this.maxX,y=this.maxY,x=o*n+l*r+h,b=a*n+c*r+f;p=x<p?x:p,m=b<m?b:m,v=x>v?x:v,y=b>y?b:y,x=o*i+l*r+h,b=a*i+c*r+f,p=x<p?x:p,m=b<m?b:m,v=x>v?x:v,y=b>y?b:y,x=o*n+l*s+h,b=a*n+c*s+f,p=x<p?x:p,m=b<m?b:m,v=x>v?x:v,y=b>y?b:y,x=o*i+l*s+h,b=a*i+c*s+f,p=x<p?x:p,m=b<m?b:m,v=x>v?x:v,y=b>y?b:y,this.minX=p,this.minY=m,this.maxX=v,this.maxY=y}addVertexData(e,n,r){let i=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let l=n;l<r;l+=2){const c=e[l],h=e[l+1];i=c<i?c:i,s=h<s?h:s,o=c>o?c:o,a=h>a?h:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,n,r,i){this.addVerticesMatrix(e.worldTransform,n,r,i)}addVerticesMatrix(e,n,r,i,s=0,o=s){const a=e.a,l=e.b,c=e.c,h=e.d,f=e.tx,p=e.ty;let m=this.minX,v=this.minY,y=this.maxX,x=this.maxY;for(let b=r;b<i;b+=2){const _=n[b],w=n[b+1],E=a*_+c*w+f,O=h*w+l*_+p;m=Math.min(m,E-s),y=Math.max(y,E+s),v=Math.min(v,O-o),x=Math.max(x,O+o)}this.minX=m,this.minY=v,this.maxX=y,this.maxY=x}addBounds(e){const n=this.minX,r=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<n?e.minX:n,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,n){const r=e.minX>n.minX?e.minX:n.minX,i=e.minY>n.minY?e.minY:n.minY,s=e.maxX<n.maxX?e.maxX:n.maxX,o=e.maxY<n.maxY?e.maxY:n.maxY;if(r<=s&&i<=o){const a=this.minX,l=this.minY,c=this.maxX,h=this.maxY;this.minX=r<a?r:a,this.minY=i<l?i:l,this.maxX=s>c?s:c,this.maxY=o>h?o:h}}addBoundsMatrix(e,n){this.addFrameMatrix(n,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,n){const r=e.minX>n.x?e.minX:n.x,i=e.minY>n.y?e.minY:n.y,s=e.maxX<n.x+n.width?e.maxX:n.x+n.width,o=e.maxY<n.y+n.height?e.maxY:n.y+n.height;if(r<=s&&i<=o){const a=this.minX,l=this.minY,c=this.maxX,h=this.maxY;this.minX=r<a?r:a,this.minY=i<l?i:l,this.maxX=s>c?s:c,this.maxY=o>h?o:h}}pad(e=0,n=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=n,this.maxY+=n)}addFramePad(e,n,r,i,s,o){e-=s,n-=o,r+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<n?this.minY:n,this.maxY=this.maxY>i?this.maxY:i}}class Wt extends na{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new wf,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Bd,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const n=Object.keys(e);for(let r=0;r<n.length;++r){const i=n[r];Object.defineProperty(Wt.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,n){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new qe),n=this._boundsRect),this._bounds.getRectangle(n)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new qe),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Bd);const n=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=r,this.transform=n,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,n,r=!1){return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,n)}toLocal(e,n,r,i){return n&&(e=n.toGlobal(e,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,n=0,r=1,i=1,s=0,o=0,a=0,l=0,c=0){return this.position.x=e,this.position.y=n,this.scale.x=r||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=l,this.pivot.y=c,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new IB),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*nB}set angle(e){this.transform.rotation=e*rB}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1))}if(this._mask=e,this._mask){const n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++)}}}}class IB extends Wt{constructor(){super(...arguments),this.sortDirty=null}}Wt.prototype.displayObjectUpdateTransform=Wt.prototype.updateTransform;const iPe=new Nt;function sPe(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const u_=class extends Wt{constructor(){super(),this.children=[],this.sortableChildren=u_.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const n=this.getChildIndex(t),r=this.getChildIndex(e);this.children[n]=e,this.children[r]=t,this.onChildrenChange(n<r?n:r)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(t);Qa(this.children,n,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],n=this.children.indexOf(e);if(n===-1)return null;e.parent=null,e.transform._parentID=-1,Qa(this.children,n,1),this._boundsID++,this.onChildrenChange(n),e.emit("removed",this),this.emit("childRemoved",e,this,n)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,Qa(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const n=t,r=e,i=r-n;let s;if(i>0&&i<=r){s=this.children.splice(n,i);for(let o=0;o<s.length;++o)s[o].parent=null,s[o].transform&&(s[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let o=0;o<s.length;++o)s[o].emit("removed",this),this.emit("childRemoved",s[o],this,o);return s}else if(i===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,n=this.children.length;e<n;++e){const r=this.children[e];r._lastSortedIndex=e,!t&&r.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(sPe),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const n=this.children[t];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const n=e._mask.isMaskData?e._mask.maskObject:e._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(e._bounds,n._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const n=super.getLocalBounds(t);if(!e)for(let r=0,i=this.children.length;r<i;++r){const s=this.children[r];s.visible&&s.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let n,r;this.cullArea?(n=this.cullArea,r=this.worldTransform):this._render!==u_.prototype._render&&(n=this.getBounds(!0));const i=t.projection.transform;if(i&&(r?(r=iPe.copyFrom(r),r.prepend(i)):r=i),n&&e.intersects(n,r))this._render(t);else if(this.cullArea)return;for(let s=0,o=this.children.length;s<o;++s){const a=this.children[s],l=a.cullable;a.cullable=l||!this.cullArea,a.render(t),a.cullable=l}}render(t){var e;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(e=this.filters)!=null&&e.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let n=0,r=this.children.length;n<r;++n)this.children[n].render(t)}}renderAdvanced(t){var i,s,o;const e=this.filters,n=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let a=0;a<e.length;a++)e[a].enabled&&this._enabledFilters.push(e[a])}const r=e&&((i=this._enabledFilters)==null?void 0:i.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==ln.NONE));if(r&&t.batch.flush(),e&&((s=this._enabledFilters)!=null&&s.length)&&t.filter.push(this,this._enabledFilters),n&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let a=0,l=this.children.length;a<l;++a)this.children[a].render(t)}r&&t.batch.flush(),n&&t.mask.pop(this),e&&((o=this._enabledFilters)!=null&&o.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t==null?void 0:t.children,n=this.removeChildren(0,this.children.length);if(e)for(let r=0;r<n.length;++r)n[r].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};let er=u_;er.defaultSortableChildren=!1;er.prototype.containerUpdateTransform=er.prototype.updateTransform;Object.defineProperties(we,{SORTABLE_CHILDREN:{get(){return er.defaultSortableChildren},set(t){at("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),er.defaultSortableChildren=t}}});const bh=new Oe,oPe=new Uint16Array([0,1,2,0,2,3]);class ga extends er{constructor(e){super(),this._anchor=new no(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=Me.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||xe.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=oPe,this.pluginName="batch",this.isSprite=!0,this._roundPixels=we.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=ja(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=ja(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const n=this.transform.worldTransform,r=n.a,i=n.b,s=n.c,o=n.d,a=n.tx,l=n.ty,c=this.vertexData,h=e.trim,f=e.orig,p=this._anchor;let m=0,v=0,y=0,x=0;if(h?(v=h.x-p._x*f.width,m=v+h.width,x=h.y-p._y*f.height,y=x+h.height):(v=-p._x*f.width,m=v+f.width,x=-p._y*f.height,y=x+f.height),c[0]=r*v+s*x+a,c[1]=o*x+i*v+l,c[2]=r*m+s*x+a,c[3]=o*x+i*m+l,c[4]=r*m+s*y+a,c[5]=o*y+i*m+l,c[6]=r*v+s*y+a,c[7]=o*y+i*v+l,this._roundPixels){const b=we.RESOLUTION;for(let _=0;_<c.length;++_)c[_]=Math.round(c[_]*b)/b}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,n=this.vertexTrimmedData,r=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,l=s.c,c=s.d,h=s.tx,f=s.ty,p=-i._x*r.width,m=p+r.width,v=-i._y*r.height,y=v+r.height;n[0]=o*p+l*v+h,n[1]=c*v+a*p+f,n[2]=o*m+l*v+h,n[3]=c*v+a*m+f,n[4]=o*m+l*y+h,n[5]=c*y+a*m+f,n[6]=o*p+l*y+h,n[7]=c*y+a*p+f}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,n=this._texture.orig;!e||e.width===n.width&&e.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new Bd),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new qe),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,bh);const n=this._texture.orig.width,r=this._texture.orig.height,i=-n*this.anchor.x;let s=0;return bh.x>=i&&bh.x<i+n&&(s=-r*this.anchor.y,bh.y>=s&&bh.y<s+r)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,n){const r=e instanceof xe?e:xe.from(e,n);return new ga(r)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const n=ja(this.scale.x)||1;this.scale.x=n*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const n=ja(this.scale.y)||1;this.scale.y=n*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tint}set tint(e){this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16)}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||xe.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const RB=new Nt;Wt.prototype._cacheAsBitmap=!1;Wt.prototype._cacheData=null;Wt.prototype._cacheAsBitmapResolution=null;Wt.prototype._cacheAsBitmapMultisample=null;class aPe{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Wt.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new aPe),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});Wt.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};Wt.prototype._initCachedDisplayObject=function(e){var p,m;if((p=this._cacheData)!=null&&p.sprite)return;const n=this.alpha;this.alpha=1,e.batch.flush();const r=this.getLocalBounds(null,!0).clone();if((m=this.filters)!=null&&m.length){const v=this.filters[0].padding;r.pad(v)}r.ceil(we.RESOLUTION);const i=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),o=e.renderTexture.destinationFrame.clone(),a=e.projection.transform,l=mo.create({width:r.width,height:r.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:this.cacheAsBitmapMultisample??e.multisample}),c=`cacheAsBitmap_${ra()}`;this._cacheData.textureCacheId=c,He.addToCache(l.baseTexture,c),xe.addToCache(l,c);const h=this.transform.localTransform.copyTo(RB).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:l,clear:!0,transform:h,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=a,e.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;const f=new ga(l);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-(r.x/r.width),f.anchor.y=-(r.y/r.height),f.alpha=n,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=f.containsPoint.bind(f)};Wt.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};Wt.prototype._initCachedDisplayObjectCanvas=function(e){var h;if((h=this._cacheData)!=null&&h.sprite)return;const n=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;const i=e.canvasContext.activeContext,s=e._projTransform;n.ceil(we.RESOLUTION);const o=mo.create({width:n.width,height:n.height}),a=`cacheAsBitmap_${ra()}`;this._cacheData.textureCacheId=a,He.addToCache(o.baseTexture,a),xe.addToCache(o,a);const l=RB;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=n.x,l.ty-=n.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:l,skipUpdateTransform:!1}),e.canvasContext.activeContext=i,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const c=new ga(o);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(n.x/n.width),c.anchor.y=-(n.y/n.height),c.alpha=r,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=c.containsPoint.bind(c)};Wt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Wt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Wt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,He.removeFromCache(this._cacheData.textureCacheId),xe.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Wt.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};Wt.prototype.name=null;er.prototype.getChildByName=function(e,n){for(let r=0,i=this.children.length;r<i;r++)if(this.children[r].name===e)return this.children[r];if(n)for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r];if(!s.getChildByName)continue;const o=s.getChildByName(e,!0);if(o)return o}return null};Wt.prototype.getGlobalPosition=function(e=new Oe,n=!1){return this.parent?this.parent.toGlobal(this.position,e,n):(e.x=this.position.x,e.y=this.position.y),e};var lPe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class MB extends Sn{constructor(e=1){super(PB,lPe,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const uPe={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},cPe=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function hPe(t){const e=uPe[t],n=e.length;let r=cPe,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let l=s.replace("%index%",a.toString());o=a,a>=n&&(o=t-a-1),l=l.replace("%value%",e[o].toString()),i+=l,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",t.toString()),r}const dPe=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function fPe(t,e){const n=Math.ceil(t/2);let r=dPe,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(n-1)}.0`),i+=a,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",t.toString()),r}class Yg extends Sn{constructor(e,n=8,r=4,i=Sn.defaultResolution,s=5){const o=fPe(s,e),a=hPe(s);super(o,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=r,this.blur=n}apply(e,n,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/n.width):this.uniforms.strength=1/r.height*(r.height/n.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/n.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,n,r,i);else{const s=e.getFilterTexture(),o=e.renderer;let a=n,l=s;this.state.blend=!1,e.applyFilter(this,a,l,Gi.CLEAR);for(let c=1;c<this.passes-1;c++){e.bindAndClear(a,Gi.BLIT),this.uniforms.uSampler=l;const h=l;l=a,a=h,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,l,r,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class FB extends Sn{constructor(e=8,n=4,r=Sn.defaultResolution,i=5){super(),this.blurXFilter=new Yg(!0,e,n,r,i),this.blurYFilter=new Yg(!1,e,n,r,i),this.resolution=r,this.quality=n,this.blur=e,this.repeatEdgePixels=!1}apply(e,n,r,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,n,a,Gi.CLEAR),this.blurYFilter.apply(e,a,r,i),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,n,r,i):this.blurXFilter.apply(e,n,r,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var pPe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class Kg extends Sn{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(eC,pPe,e),this.alpha=1}_loadMatrix(e,n=!1){let r=e;n&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r}_multiply(e,n,r){return e[0]=n[0]*r[0]+n[1]*r[5]+n[2]*r[10]+n[3]*r[15],e[1]=n[0]*r[1]+n[1]*r[6]+n[2]*r[11]+n[3]*r[16],e[2]=n[0]*r[2]+n[1]*r[7]+n[2]*r[12]+n[3]*r[17],e[3]=n[0]*r[3]+n[1]*r[8]+n[2]*r[13]+n[3]*r[18],e[4]=n[0]*r[4]+n[1]*r[9]+n[2]*r[14]+n[3]*r[19]+n[4],e[5]=n[5]*r[0]+n[6]*r[5]+n[7]*r[10]+n[8]*r[15],e[6]=n[5]*r[1]+n[6]*r[6]+n[7]*r[11]+n[8]*r[16],e[7]=n[5]*r[2]+n[6]*r[7]+n[7]*r[12]+n[8]*r[17],e[8]=n[5]*r[3]+n[6]*r[8]+n[7]*r[13]+n[8]*r[18],e[9]=n[5]*r[4]+n[6]*r[9]+n[7]*r[14]+n[8]*r[19]+n[9],e[10]=n[10]*r[0]+n[11]*r[5]+n[12]*r[10]+n[13]*r[15],e[11]=n[10]*r[1]+n[11]*r[6]+n[12]*r[11]+n[13]*r[16],e[12]=n[10]*r[2]+n[11]*r[7]+n[12]*r[12]+n[13]*r[17],e[13]=n[10]*r[3]+n[11]*r[8]+n[12]*r[13]+n[13]*r[18],e[14]=n[10]*r[4]+n[11]*r[9]+n[12]*r[14]+n[13]*r[19]+n[14],e[15]=n[15]*r[0]+n[16]*r[5]+n[17]*r[10]+n[18]*r[15],e[16]=n[15]*r[1]+n[16]*r[6]+n[17]*r[11]+n[18]*r[16],e[17]=n[15]*r[2]+n[16]*r[7]+n[17]*r[12]+n[18]*r[17],e[18]=n[15]*r[3]+n[16]*r[8]+n[17]*r[13]+n[18]*r[18],e[19]=n[15]*r[4]+n[16]*r[9]+n[17]*r[14]+n[18]*r[19]+n[19],e}_colorMatrix(e){const n=new Float32Array(e);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n}brightness(e,n){const r=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(r,n)}tint(e,n){const r=e>>16&255,i=e>>8&255,s=e&255,o=[r/255,0,0,0,0,0,i/255,0,0,0,0,0,s/255,0,0,0,0,0,1,0];this._loadMatrix(o,n)}greyscale(e,n){const r=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(r,n)}blackAndWhite(e){const n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,e)}hue(e,n){e=(e||0)/180*Math.PI;const r=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),l=r+(1-r)*o,c=o*(1-r)-a*i,h=o*(1-r)+a*i,f=o*(1-r)+a*i,p=r+o*(1-r),m=o*(1-r)-a*i,v=o*(1-r)-a*i,y=o*(1-r)+a*i,x=r+o*(1-r),b=[l,c,h,0,0,f,p,m,0,0,v,y,x,0,0,0,0,0,1,0];this._loadMatrix(b,n)}contrast(e,n){const r=(e||0)+1,i=-.5*(r-1),s=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(s,n)}saturate(e=0,n){const r=e*2/3+1,i=(r-1)*-.5,s=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(s,n)}desaturate(){this.saturate(-1)}negative(e){const n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,e)}sepia(e){const n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,e)}technicolor(e){const n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,e)}polaroid(e){const n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,e)}toBGR(e){const n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,e)}kodachrome(e){const n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,e)}browni(e){const n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,e)}vintage(e){const n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,e)}colorTone(e,n,r,i,s){e=e||.2,n=n||.15,r=r||16770432,i=i||3375104;const o=(r>>16&255)/255,a=(r>>8&255)/255,l=(r&255)/255,c=(i>>16&255)/255,h=(i>>8&255)/255,f=(i&255)/255,p=[.3,.59,.11,0,0,o,a,l,e,0,c,h,f,n,0,o-c,a-h,l-f,0,0];this._loadMatrix(p,s)}night(e,n){e=e||.1;const r=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(r,n)}predator(e,n){const r=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(r,n)}lsd(e){const n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}Kg.prototype.grayscale=Kg.prototype.greyscale;var mPe=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,gPe=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class DB extends Sn{constructor(e,n){const r=new Nt;e.renderable=!1,super(gPe,mPe,{mapSampler:e._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=r,n==null&&(n=20),this.scale=new Oe(n,n)}apply(e,n,r,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,n,r,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var vPe=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,yPe=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class LB extends Sn{constructor(){super(yPe,vPe)}}var bPe=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class BB extends Sn{constructor(e=.5,n=Math.random()){super(eC,bPe,{uNoise:0,uSeed:0}),this.noise=e,this.seed=n}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const c_={AlphaFilter:MB,BlurFilter:FB,BlurFilterPass:Yg,ColorMatrixFilter:Kg,DisplacementFilter:DB,FXAAFilter:LB,NoiseFilter:BB};Object.entries(c_).forEach(([t,e])=>{Object.defineProperty(c_,t,{get(){return at("7.1.0",`filters.${t} has moved to ${t}`),e}})});class Fc{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Fc.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Oe,this.page=new Oe,this.AT_TARGET=1,this.BUBBLING_PHASE=2,this.CAPTURING_PHASE=3,this.NONE=0,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,n,r){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,n,r,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class Nd extends Fc{constructor(){super(...arguments),this.client=new Oe,this.movement=new Oe,this.offset=new Oe,this.global=new Oe,this.screen=new Oe}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,n,r,i,s,o,a,l,c,h,f,p,m,v,y){throw new Error("Method not implemented.")}}class oi extends Nd{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class dl extends Nd{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}dl.DOM_DELTA_PIXEL=0;dl.DOM_DELTA_LINE=1;dl.DOM_DELTA_PAGE=2;const xPe=2048,wPe=new Oe,yb=new Oe;class NB{constructor(e){this.dispatch=new na,this.moveOnAll=!1,this.mappingState={trackingData:{}},this.eventPool=new Map,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,n){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:n,priority:0}),this.mappingTable[e].sort((r,i)=>r.priority-i.priority)}dispatchEvent(e,n){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,n),this.dispatch.emit(n||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const n=this.mappingTable[e.type];if(n)for(let r=0,i=n.length;r<i;r++)n[r].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,n){const r=this.hitTestRecursive(this.rootTarget,this.rootTarget.interactive,wPe.set(e,n),this.hitTestFn,this.hitPruneFn);return r&&r[0]}propagate(e,n){if(!e.target)return;const r=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=r.length-1;i<s;i++)if(e.currentTarget=r[i],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,n),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=r.length-2;i>=0;i--)if(e.currentTarget=r[i],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,n,r=this.rootTarget){e.eventPhase=e.BUBBLING_PHASE;const i=r.children;if(i)for(let s=0;s<i.length;s++)this.all(e,n,i[s]);e.currentTarget=r,this.notifyTarget(e,n)}propagationPath(e){const n=[e];for(let r=0;r<xPe&&e!==this.rootTarget;r++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");n.push(e.parent),e=e.parent}return n.reverse(),n}hitTestRecursive(e,n,r,i,s){if(!e||!e.visible||s(e,r))return null;if(e.interactiveChildren&&e.children){const o=e.children;for(let a=o.length-1;a>=0;a--){const l=o[a],c=this.hitTestRecursive(l,n||l.interactive,r,i,s);if(c){if(c.length>0&&!c[c.length-1].parent)continue;return(c.length>0||e.interactive)&&c.push(e),c}}}return n&&i(e,r)?e.interactive?[e]:[]:null}hitPruneFn(e,n){var r;if(e.hitArea&&(e.worldTransform.applyInverse(n,yb),!e.hitArea.contains(yb.x,yb.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((r=i.containsPoint)!=null&&r.call(i,n)))return!0}return!1}hitTestFn(e,n){return e.hitArea?!0:e.containsPoint?e.containsPoint(n):!1}notifyTarget(e,n){var s,o;n=n??e.type;const r=`on${n}`;(o=(s=e.currentTarget)[r])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${n}capture`:n;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,n)}mapPointerDown(e){if(!(e instanceof oi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerdown"),n.pointerType==="touch")this.dispatchEvent(n,"touchstart");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const i=n.button===2;this.dispatchEvent(n,i?"rightdown":"mousedown")}const r=this.trackingData(e.pointerId);r.pressTargetsByButton[e.button]=n.composedPath(),this.freeEvent(n)}mapPointerMove(e){var a,l;if(!(e instanceof oi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.createPointerEvent(e),r=n.pointerType==="mouse"||n.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((a=i.overTargets)==null?void 0:a.length)>0&&s!==n.target){const c=e.type==="mousemove"?"mouseout":"pointerout",h=this.createPointerEvent(e,c,s);if(this.dispatchEvent(h,"pointerout"),r&&this.dispatchEvent(h,"mouseout"),!n.composedPath().includes(s)){const f=this.createPointerEvent(e,"pointerleave",s);for(f.eventPhase=f.AT_TARGET;f.target&&!n.composedPath().includes(f.target);)f.currentTarget=f.target,this.notifyTarget(f),r&&this.notifyTarget(f,"mouseleave"),f.target=f.target.parent;this.freeEvent(f)}this.freeEvent(h)}if(s!==n.target){const c=e.type==="mousemove"?"mouseover":"pointerover",h=this.clonePointerEvent(n,c);this.dispatchEvent(h,"pointerover"),r&&this.dispatchEvent(h,"mouseover");let f=s==null?void 0:s.parent;for(;f&&f!==this.rootTarget.parent&&f!==n.target;)f=f.parent;if(!f||f===this.rootTarget.parent){const m=this.clonePointerEvent(n,"pointerenter");for(m.eventPhase=m.AT_TARGET;m.target&&m.target!==s&&m.target!==this.rootTarget.parent;)m.currentTarget=m.target,this.notifyTarget(m),r&&this.notifyTarget(m,"mouseenter"),m.target=m.target.parent;this.freeEvent(m)}this.freeEvent(h)}const o=this.moveOnAll?"all":"dispatchEvent";this[o](n,"pointermove"),this.all(n,"globalpointermove"),n.pointerType==="touch"&&(this[o](n,"touchmove"),this.all(n,"globaltouchmove")),r&&(this[o](n,"mousemove"),this.all(n,"globalmousemove"),this.cursor=(l=n.target)==null?void 0:l.cursor),i.overTargets=n.composedPath(),this.freeEvent(n)}mapPointerOver(e){var o;if(!(e instanceof oi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId),r=this.createPointerEvent(e),i=r.pointerType==="mouse"||r.pointerType==="pen";this.dispatchEvent(r,"pointerover"),i&&this.dispatchEvent(r,"mouseover"),r.pointerType==="mouse"&&(this.cursor=(o=r.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(r,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;n.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof oi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId);if(n.overTargets){const r=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(n.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),r&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),r&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;n.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof oi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=performance.now(),r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerup"),r.pointerType==="touch")this.dispatchEvent(r,"touchend");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const a=r.button===2;this.dispatchEvent(r,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!r.composedPath().includes(s)){let a=s;for(;a&&!r.composedPath().includes(a);){if(r.currentTarget=a,this.notifyTarget(r,"pointerupoutside"),r.pointerType==="touch")this.notifyTarget(r,"touchendoutside");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const l=r.button===2;this.notifyTarget(r,l?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(r,"click");a.target=o,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:n});const l=i.clicksByButton[e.button];if(l.target===a.target&&n-l.timeStamp<200?++l.clickCount:l.clickCount=1,l.target=a.target,l.timeStamp=n,a.detail=l.clickCount,a.pointerType==="mouse"){const c=a.button===2;this.dispatchEvent(a,c?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(r)}mapPointerUpOutside(e){if(!(e instanceof oi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId),r=this.findMountedTarget(n.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(r){let s=r;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete n.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof dl)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const n=this.createWheelEvent(e);this.dispatchEvent(n),this.freeEvent(n)}findMountedTarget(e){if(!e)return null;let n=e[0];for(let r=1;r<e.length&&e[r].parent===n;r++)n=e[r];return n}createPointerEvent(e,n,r){const i=this.allocateEvent(oi);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=r??this.hitTest(i.global.x,i.global.y),typeof n=="string"&&(i.type=n),i}createWheelEvent(e){const n=this.allocateEvent(dl);return this.copyWheelData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.nativeEvent=e.nativeEvent,n.originalEvent=e,n.target=this.hitTest(n.global.x,n.global.y),n}clonePointerEvent(e,n){const r=this.allocateEvent(oi);return r.nativeEvent=e.nativeEvent,r.originalEvent=e.originalEvent,this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.target=e.target,r.path=e.composedPath().slice(),r.type=n??r.type,r}copyWheelData(e,n){n.deltaMode=e.deltaMode,n.deltaX=e.deltaX,n.deltaY=e.deltaY,n.deltaZ=e.deltaZ}copyPointerData(e,n){e instanceof oi&&n instanceof oi&&(n.pointerId=e.pointerId,n.width=e.width,n.height=e.height,n.isPrimary=e.isPrimary,n.pointerType=e.pointerType,n.pressure=e.pressure,n.tangentialPressure=e.tangentialPressure,n.tiltX=e.tiltX,n.tiltY=e.tiltY,n.twist=e.twist)}copyMouseData(e,n){e instanceof Nd&&n instanceof Nd&&(n.altKey=e.altKey,n.button=e.button,n.buttons=e.buttons,n.client.copyFrom(e.client),n.ctrlKey=e.ctrlKey,n.metaKey=e.metaKey,n.movement.copyFrom(e.movement),n.screen.copyFrom(e.screen),n.global.copyFrom(e.global))}copyData(e,n){n.isTrusted=e.isTrusted,n.srcElement=e.srcElement,n.timeStamp=performance.now(),n.type=e.type,n.detail=e.detail,n.view=e.view,n.which=e.which,n.layer.copyFrom(e.layer),n.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const n=this.eventPool.get(e).pop()||new e(this);return n.eventPhase=n.NONE,n.currentTarget=null,n.path=null,n.target=null,n}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const n=e.constructor;this.eventPool.has(n)||this.eventPool.set(n,[]),this.eventPool.get(n).push(e)}notifyListeners(e,n){const r=e.currentTarget._events[n];if(r)if("fn"in r)r.once&&e.currentTarget.removeListener(n,r.fn,void 0,!0),r.fn.call(r.context,e);else for(let i=0,s=r.length;i<s&&!e.propagationImmediatelyStopped;i++)r[i].once&&e.currentTarget.removeListener(n,r[i].fn,void 0,!0),r[i].fn.call(r[i].context,e)}}const _Pe=1,SPe={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"};class oC{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new NB(null),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new oi(null),this.rootWheelEvent=new dl(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}init(){const{view:e,resolution:n}=this.renderer;this.setTargetElement(e),this.resolution=n}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let n=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(n=!1),this.currentCursor===e)return;this.currentCursor=e;const r=this.cursorStyles[e];if(r)switch(typeof r){case"string":n&&(this.domElement.style.cursor=r);break;case"function":r(e);break;case"object":n&&Object.assign(this.domElement.style,r);break}else n&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}onPointerDown(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);this.autoPreventDefault&&n[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let r=0,i=n.length;r<i;r++){const s=n[r],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);for(let r=0,i=n.length;r<i;r++){const s=this.bootstrapEvent(this.rootPointerEvent,n[r]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;let n=e.target;e.composedPath&&e.composedPath().length>0&&(n=e.composedPath()[0]);const r=n!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let s=0,o=i.length;s<o;s++){const a=this.bootstrapEvent(this.rootPointerEvent,i[s]);a.type+=r,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);for(let r=0,i=n.length;r<i;r++){const s=this.bootstrapEvent(this.rootPointerEvent,n[r]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){const n=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(n)}setTargetElement(e){this.removeEvents(),this.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,n,r){let i;this.domElement.parentElement?i=this.domElement.getBoundingClientRect():i={x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const s=1/this.resolution;e.x=(n-i.left)*(this.domElement.width/i.width)*s,e.y=(r-i.top)*(this.domElement.height/i.height)*s}normalizeToPointerData(e){const n=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let r=0,i=e.changedTouches.length;r<i;r++){const s=e.changedTouches[r];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,n.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const r=e;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=_Pe),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,n.push(r)}else n.push(e);return n}normalizeWheelEvent(e){const n=this.rootWheelEvent;return this.transferMouseData(n,e),n.deltaX=e.deltaX,n.deltaY=e.deltaY,n.deltaZ=e.deltaZ,n.deltaMode=e.deltaMode,this.mapPositionToPoint(n.screen,e.clientX,e.clientY),n.global.copyFrom(n.screen),n.offset.copyFrom(n.screen),n.nativeEvent=e,n.type=e.type,n}bootstrapEvent(e,n){return e.originalEvent=null,e.nativeEvent=n,e.pointerId=n.pointerId,e.width=n.width,e.height=n.height,e.isPrimary=n.isPrimary,e.pointerType=n.pointerType,e.pressure=n.pressure,e.tangentialPressure=n.tangentialPressure,e.tiltX=n.tiltX,e.tiltY=n.tiltY,e.twist=n.twist,this.transferMouseData(e,n),this.mapPositionToPoint(e.screen,n.clientX,n.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=n.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=SPe[e.type]||e.type),e}transferMouseData(e,n){e.isTrusted=n.isTrusted,e.srcElement=n.srcElement,e.timeStamp=performance.now(),e.type=n.type,e.altKey=n.altKey,e.button=n.button,e.buttons=n.buttons,e.client.x=n.clientX,e.client.y=n.clientY,e.ctrlKey=n.ctrlKey,e.metaKey=n.metaKey,e.movement.x=n.movementX,e.movement.y=n.movementY,e.page.x=n.pageX,e.page.y=n.pageY,e.relatedTarget=null,e.shiftKey=n.shiftKey}}oC.extension={name:"events",type:[be.RendererSystem,be.CanvasRendererSystem]};Pe.add(oC);const $B={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,interactive:!1,interactiveChildren:!0,hitArea:null,addEventListener(t,e,n){const r=typeof n=="boolean"&&n||typeof n=="object"&&n.capture,i=typeof e=="function"?void 0:e;t=r?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,n){const r=typeof n=="boolean"&&n||typeof n=="object"&&n.capture,i=typeof e=="function"?void 0:e;t=r?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof Fc))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};Wt.mixin($B);const UB={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Wt.mixin(UB);const EPe=9,am=100,CPe=0,TPe=0,w3=2,_3=1,APe=-1e3,PPe=-1e3,kPe=2;class aC{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Xi.tablet||Xi.phone)&&this.createTouchHook();const n=document.createElement("div");n.style.width=`${am}px`,n.style.height=`${am}px`,n.style.position="absolute",n.style.top=`${CPe}px`,n.style.left=`${TPe}px`,n.style.zIndex=w3.toString(),this.div=n,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${_3}px`,e.style.height=`${_3}px`,e.style.position="absolute",e.style.top=`${APe}px`,e.style.left=`${PPe}px`,e.style.zIndex=kPe.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const n=e.children;if(n)for(let r=0;r<n.length;r++)this.updateAccessibleObjects(n[r])}update(){const e=performance.now();if(Xi.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:n,y:r,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:l}=this.renderer,c=i/o*l,h=s/a*l;let f=this.div;f.style.left=`${n}px`,f.style.top=`${r}px`,f.style.width=`${o}px`,f.style.height=`${a}px`;for(let p=0;p<this.children.length;p++){const m=this.children[p];if(m.renderId!==this.renderId)m._accessibleActive=!1,Qa(this.children,p,1),this.div.removeChild(m._accessibleDiv),this.pool.push(m._accessibleDiv),m._accessibleDiv=null,p--;else{f=m._accessibleDiv;let v=m.hitArea;const y=m.worldTransform;m.hitArea?(f.style.left=`${(y.tx+v.x*y.a)*c}px`,f.style.top=`${(y.ty+v.y*y.d)*h}px`,f.style.width=`${v.width*y.a*c}px`,f.style.height=`${v.height*y.d*h}px`):(v=m.getBounds(),this.capHitArea(v),f.style.left=`${v.x*c}px`,f.style.top=`${v.y*h}px`,f.style.width=`${v.width*c}px`,f.style.height=`${v.height*h}px`,f.title!==m.accessibleTitle&&m.accessibleTitle!==null&&(f.title=m.accessibleTitle),f.getAttribute("aria-label")!==m.accessibleHint&&m.accessibleHint!==null&&f.setAttribute("aria-label",m.accessibleHint)),(m.accessibleTitle!==f.title||m.tabIndex!==f.tabIndex)&&(f.title=m.accessibleTitle,f.tabIndex=m.tabIndex,this.debug&&this.updateDebugHTML(f))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:n,height:r}=this.renderer;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>r&&(e.height=r-e.y)}addChild(e){let n=this.pool.pop();n||(n=document.createElement("button"),n.style.width=`${am}px`,n.style.height=`${am}px`,n.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",n.style.position="absolute",n.style.zIndex=w3.toString(),n.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?n.setAttribute("aria-live","off"):n.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?n.setAttribute("aria-relevant","additions"):n.setAttribute("aria-relevant","text"),n.addEventListener("click",this._onClick.bind(this)),n.addEventListener("focus",this._onFocus.bind(this)),n.addEventListener("focusout",this._onFocusOut.bind(this))),n.style.pointerEvents=e.accessiblePointerEvents,n.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?n.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(n.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&n.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(n),e._accessibleActive=!0,e._accessibleDiv=n,n.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,n){const{displayObject:r}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new Fc(i),{target:r});i.rootTarget=this.renderer.lastObjectRendered,n.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===EPe&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}aC.extension={name:"accessibility",type:[be.RendererPlugin,be.CanvasRendererPlugin]};Pe.add(aC);const h_=class{constructor(t){this.stage=new er,t=Object.assign({forceCanvas:!1},t),this.renderer=AB(t),h_._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(t,e){const n=h_._plugins.slice(0);n.reverse(),n.forEach(r=>{r.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};let A0=h_;A0._plugins=[];Pe.handleByList(be.Application,A0._plugins);class lC{static init(e){Object.defineProperty(this,"resizeTo",{set(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let n,r;if(this._resizeTo===globalThis.window)n=globalThis.innerWidth,r=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;n=i,r=s}this.renderer.resize(n,r),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}lC.extension=be.Application;Pe.add(lC);const S3={loader:be.LoadParser,resolver:be.ResolveParser,cache:be.CacheParser,detection:be.DetectionParser};Pe.handle(be.Asset,t=>{const e=t.ref;Object.entries(S3).filter(([n])=>!!e[n]).forEach(([n,r])=>Pe.add(Object.assign(e[n],{extension:e[n].extension??r})))},t=>{const e=t.ref;Object.keys(S3).filter(n=>!!e[n]).forEach(n=>Pe.remove(e[n]))});class OPe{constructor(e,n=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=n}add(e){e.forEach(n=>{this._assetList.push(n)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],n=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<n;r++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function uC(t,e){if(Array.isArray(e)){for(const n of e)if(t.startsWith(`data:${n}`))return!0;return!1}return t.startsWith(`data:${e}`)}function Sf(t,e){const n=t.split("?")[0],r=Cn.extname(n).toLowerCase();return Array.isArray(e)?e.includes(r):r===e}const Rs=(t,e)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"?e(n):n):t),Zg=(t,e)=>{const n=e.split("?")[1];return n&&(t+=`?${n}`),t};function zB(t,e,n,r,i){const s=e[n];for(let o=0;o<s.length;o++){const a=s[o];n<e.length-1?zB(t.replace(r[n],a),e,n+1,r,i):i.push(t.replace(r[n],a))}}function HB(t){const e=/\{(.*?)\}/g,n=t.match(e),r=[];if(n){const i=[];n.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),zB(t,i,0,n,r)}else r.push(t);return r}const $d=t=>!Array.isArray(t);class IPe{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const n=this._cache.get(e);return n||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),n}set(e,n){const r=Rs(e);let i;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.test(n)){i=l.getCacheableAssets(r,n);break}}i||(i={},r.forEach(a=>{i[a]=n}));const s=Object.keys(i),o={cacheKeys:s,keys:r};if(r.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==n&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),n instanceof xe){const a=n;r.forEach(l=>{a.baseTexture!==xe.EMPTY.baseTexture&&He.addToCache(a.baseTexture,l),xe.addToCache(a,l)})}}remove(e){if(this._cacheMap.get(e),!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const n=this._cacheMap.get(e);n.cacheKeys.forEach(i=>{this._cache.delete(i)}),n.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const gu=new IPe;class RPe{constructor(){this._parsers=[],this.promiseCache={}}reset(){this.promiseCache={}}_getLoadPromiseAndParser(e,n){const r={promise:null,parser:null};return r.promise=(async()=>{var s,o;let i=null;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.load&&((s=l.test)!=null&&s.call(l,e,n,this))){i=await l.load(e,n,this),r.parser=l;break}}if(!r.parser)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has being added`),null;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];l.parse&&l.parse&&await((o=l.testParse)==null?void 0:o.call(l,i,n,this))&&(i=await l.parse(i,n,this)||i,r.parser=l)}return i})(),r}async load(e,n){let r=0;const i={},s=$d(e),o=Rs(e,c=>({src:c})),a=o.length,l=o.map(async c=>{const h=Cn.toAbsolute(c.src);if(!i[c.src])try{this.promiseCache[h]||(this.promiseCache[h]=this._getLoadPromiseAndParser(h,c)),i[c.src]=await this.promiseCache[h].promise,n&&n(++r/a)}catch(f){throw delete this.promiseCache[h],delete i[c.src],new Error(`[Loader.load] Failed to load ${h}.
${f}`)}});return await Promise.all(l),s?i[o[0].src]:i}async unload(e){const r=Rs(e,i=>({src:i})).map(async i=>{var a,l;const s=Cn.toAbsolute(i.src),o=this.promiseCache[s];if(o){const c=await o.promise;(l=(a=o.parser)==null?void 0:a.unload)==null||l.call(a,c,i,this),delete this.promiseCache[s]}});await Promise.all(r)}get parsers(){return this._parsers}}var cs=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(cs||{});const jB={extension:{type:be.LoadParser,priority:cs.Low},test(t){return Cn.extname(t).toLowerCase()===".json"},async load(t){return await(await we.ADAPTER.fetch(t)).json()}};Pe.add(jB);const WB={extension:{type:be.LoadParser,priority:cs.Low},test(t){return Cn.extname(t).toLowerCase()===".txt"},async load(t){return await(await we.ADAPTER.fetch(t)).text()}};Pe.add(WB);const MPe=["normal","bold","100","200","300","400","500","600","700","800","900"],FPe=[".ttf",".otf",".woff",".woff2"],DPe=["font/ttf","font/otf","font/woff","font/woff2"];function GB(t){const e=Cn.extname(t);return Cn.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ")}const VB={extension:{type:be.LoadParser,priority:cs.Low},test(t){return uC(t,DPe)||Sf(t,FPe)},async load(t,e){var r,i,s;const n=we.ADAPTER.getFontFaceSet();if(n){const o=[],a=((r=e.data)==null?void 0:r.family)??GB(t),l=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(h=>MPe.includes(h)))??["normal"],c=e.data??{};for(let h=0;h<l.length;h++){const f=l[h],p=new FontFace(a,`url(${encodeURI(t)})`,{...c,weight:f});await p.load(),n.add(p),o.push(p)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>we.ADAPTER.getFontFaceSet().delete(e))}};Pe.add(VB);let E3=0,bb;const LPe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",BPe={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${LPe}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},NPe={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let xb;class $Pe{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const n=URL.createObjectURL(new Blob([BPe.code],{type:"application/javascript"})),r=new Worker(n);r.addEventListener("message",i=>{r.terminate(),URL.revokeObjectURL(n),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){bb===void 0&&(bb=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<bb&&(xb||(xb=URL.createObjectURL(new Blob([NPe.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(xb),e.addEventListener("message",n=>{this.complete(n.data),this.returnWorker(n.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,n){await this._initWorkers();const r=new Promise((i,s)=>{this.queue.push({id:e,arguments:n,resolve:i,reject:s})});return this.next(),r}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const n=this.queue.pop(),r=n.id;this.resolveHash[E3]={resolve:n.resolve,reject:n.reject},e.postMessage({data:n.arguments,uuid:E3++,id:r})}}const C3=new $Pe;function Ef(t,e,n){const r=new xe(t);return r.baseTexture.on("dispose",()=>{delete e.promiseCache[n]}),r}const UPe=[".jpeg",".jpg",".png",".webp",".avif"],zPe=["image/jpeg","image/png","image/webp","image/avif"];async function qB(t){const e=await we.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const n=await e.blob();return await createImageBitmap(n)}const dc={extension:{type:be.LoadParser,priority:cs.High},config:{preferWorkers:!0},test(t){return uC(t,zPe)||Sf(t,UPe)},async load(t,e,n){let r=null;globalThis.createImageBitmap?this.config.preferWorkers&&await C3.isImageBitmapSupported()?r=await C3.loadImageBitmap(t):r=await qB(t):r=await new Promise(s=>{r=new Image,r.crossOrigin="anonymous",r.src=t,r.complete?s(r):r.onload=()=>{s(r)}});const i=new He(r,{resolution:ho(t),...e.data});return i.resource.src=t,Ef(i,n,t)},unload(t){t.destroy(!0)}};Pe.add(dc);const XB={extension:{type:be.LoadParser,priority:cs.High},test(t){return Cn.extname(t).toLowerCase()===".svg"},async testParse(t){return hc.test(t)},async parse(t,e,n){var o,a,l;const r=new hc(t,(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions),i=new He(r,{resolution:ho(t),...e==null?void 0:e.data});i.resource.src=t;const s=Ef(i,n,t);return(l=(a=e==null?void 0:e.data)==null?void 0:a.resourceOptions)!=null&&l.autoLoad||await r.load(),s},async load(t,e){return(await we.ADAPTER.fetch(t)).text()},unload:dc.unload};Pe.add(XB);class HPe{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,n)=>`${e}${this._bundleIdConnector}${n}`,extractAssetIdFromBundle:(e,n)=>n.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(n=>{this._preferredOrder.push(n),n.priority||(n.priority=Object.keys(n.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const n=e;this._defaultSearchParams=Object.keys(n).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(n[r])}`).join("&")}}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(n=>{this.addBundle(n.name,n.assets)})}addBundle(e,n){const r=[];Array.isArray(n)?n.forEach(i=>{if(typeof i.name=="string"){const s=this._createBundleAssetId(e,i.name);r.push(s),this.add([i.name,s],i.srcs,i.data)}else{const s=i.name.map(o=>this._createBundleAssetId(e,o));s.forEach(o=>{r.push(o)}),this.add([...i.name,...s],i.srcs)}}):Object.keys(n).forEach(i=>{r.push(this._createBundleAssetId(e,i)),this.add([i,this._createBundleAssetId(e,i)],n[i])}),this._bundles[e]=r}add(e,n,r){const i=Rs(e);i.forEach(o=>{this.hasKey(o)&&console.warn(`[Resolver] already has key: ${o} overwriting`)}),Array.isArray(n)||(typeof n=="string"?n=HB(n):n=[n]);const s=n.map(o=>{let a=o;if(typeof o=="string"){let l=!1;for(let c=0;c<this._parsers.length;c++){const h=this._parsers[c];if(h.test(o)){a=h.parse(o),l=!0;break}}l||(a={src:o})}return a.format||(a.format=a.src.split(".").pop()),a.alias||(a.alias=i),(this._basePath||this._rootPath)&&(a.src=Cn.toAbsolute(a.src,this._basePath,this._rootPath)),a.src=this._appendDefaultSearchParams(a.src),a.data=a.data??r,a});i.forEach(o=>{this._assetMap[o]=s})}resolveBundle(e){const n=$d(e);e=Rs(e);const r={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const l in o){const c=o[l];a[this._extractAssetIdFromBundle(i,l)]=c}r[i]=a}}),n?r[e[0]]:r}resolveUrl(e){const n=this.resolve(e);if(typeof e!="string"){const r={};for(const i in n)r[i]=n[i].src;return r}return n.src}resolve(e){const n=$d(e);e=Rs(e);const r={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=this._getPreferredOrder(s),a=s[0];o==null||o.priority.forEach(l=>{o.params[l].forEach(c=>{const h=s.filter(f=>f[l]?f[l]===c:!1);h.length&&(s=h)})}),this._resolverHash[i]=s[0]??a}else{let s=i;(this._basePath||this._rootPath)&&(s=Cn.toAbsolute(s,this._basePath,this._rootPath)),s=this._appendDefaultSearchParams(s),this._resolverHash[i]={src:s}}r[i]=this._resolverHash[i]}),n?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let n=0;n<e.length;n++){const r=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(r.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const n=/\?/.test(e)?"&":"?";return`${e}${n}${this._defaultSearchParams}`}}class YB{constructor(){this._detections=[],this._initialized=!1,this.resolver=new HPe,this.loader=new RPe,this.cache=gu,this._backgroundLoader=new OPe(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o,a;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let l=e.manifest;typeof l=="string"&&(l=await this.load(l)),this.resolver.addManifest(l)}const n=((s=e.texturePreference)==null?void 0:s.resolution)??1,r=typeof n=="number"?[n]:n;let i=[];if((o=e.texturePreference)!=null&&o.format){const l=(a=e.texturePreference)==null?void 0:a.format;i=typeof l=="string"?[l]:l;for(const c of this._detections)await c.test()||(i=await c.remove(i))}else for(const l of this._detections)await l.test()&&(i=await l.add(i));this.resolver.prefer({params:{format:i,resolution:r}})}add(e,n,r){this.resolver.add(e,n,r)}async load(e,n){this._initialized||await this.init();const r=$d(e),i=Rs(e).map(a=>typeof a!="string"?(this.resolver.add(a.src,a),a.src):(this.resolver.hasKey(a)||this.resolver.add(a,a),a)),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,n);return r?o[i[0]]:o}addBundle(e,n){this.resolver.addBundle(e,n)}async loadBundle(e,n){this._initialized||await this.init();let r=!1;typeof e=="string"&&(r=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0,l=0;const c=()=>{n==null||n(++a/l)},h=o.map(f=>{const p=i[f];return l+=Object.keys(p).length,this._mapLoadToResolve(p,c).then(m=>{s[f]=m})});return await Promise.all(h),r?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(n))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolveBundle(e);Object.values(n).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return gu.get(e);const n={};for(let r=0;r<e.length;r++)n[r]=gu.get(e[r]);return n}async _mapLoadToResolve(e,n){const r=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(r,n);this._backgroundLoader.active=!0;const o={};return r.forEach((a,l)=>{const c=s[a.src],h=[a.src];a.alias&&h.push(...a.alias),o[i[l]]=c,gu.set(h,c)}),o}async unload(e){this._initialized||await this.init();const n=Rs(e).map(i=>typeof i!="string"?i.src:i),r=this.resolver.resolve(n);await this._unloadFromResolved(r)}async unloadBundle(e){this._initialized||await this.init(),e=Rs(e);const n=this.resolver.resolveBundle(e),r=Object.keys(n).map(i=>this._unloadFromResolved(n[i]));await Promise.all(r)}async _unloadFromResolved(e){const n=Object.values(e);n.forEach(r=>{gu.remove(r.src)}),await this.loader.unload(n)}get detections(){return this._detections}get preferWorkers(){return dc.config.preferWorkers}set preferWorkers(e){dc.config.preferWorkers=e}}const Ga=new YB;Pe.handleByList(be.LoadParser,Ga.loader.parsers).handleByList(be.ResolveParser,Ga.resolver.parsers).handleByList(be.CacheParser,Ga.cache.parsers).handleByList(be.DetectionParser,Ga.detections);const KB={extension:be.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof xe),getCacheableAssets:(t,e)=>{const n={};return t.forEach(r=>{e.forEach((i,s)=>{n[r+(s===0?"":s+1)]=i})}),n}};Pe.add(KB);const ZB={extension:{type:be.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",e=await we.ADAPTER.fetch(t).then(n=>n.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};Pe.add(ZB);const QB={extension:{type:be.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",e=await we.ADAPTER.fetch(t).then(n=>n.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};Pe.add(QB);const T3=["png","jpg","jpeg"],JB={extension:{type:be.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...T3],remove:async t=>t.filter(e=>!T3.includes(e))};Pe.add(JB);const eN={extension:be.ResolveParser,test:dc.test,parse:t=>{var e;return{resolution:parseFloat(((e=we.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}};Pe.add(eN);var ur=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(ur||{});const Ud={[33776]:.5,[33777]:.5,[33778]:1,[33779]:1,[35916]:.5,[35917]:.5,[35918]:1,[35919]:1,[37488]:.5,[37489]:.5,[37490]:1,[37491]:1,[37492]:.5,[37496]:1,[37493]:.5,[37497]:1,[37494]:.5,[37495]:.5,[35840]:.5,[35842]:.5,[35841]:.25,[35843]:.25,[36196]:.5,[35986]:.5,[35986]:1,[34798]:1,[37808]:1};let Ks,vu;function A3(){vu={s3tc:Ks.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:Ks.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:Ks.getExtension("WEBGL_compressed_texture_etc"),etc1:Ks.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:Ks.getExtension("WEBGL_compressed_texture_pvrtc")||Ks.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:Ks.getExtension("WEBGL_compressed_texture_atc"),astc:Ks.getExtension("WEBGL_compressed_texture_astc")}}const tN={extension:{type:be.DetectionParser,priority:2},test:async()=>{const e=we.ADAPTER.createCanvas().getContext("webgl");return e?(Ks=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{vu||A3();const e=[];for(const n in vu)vu[n]&&e.push(n);return[...e,...t]},remove:async t=>(vu||A3(),t.filter(e=>!(e in vu)))};Pe.add(tN);class nN extends Mc{constructor(e,n={width:1,height:1,autoLoad:!0}){let r,i;typeof e=="string"?(r=e,i=new Uint8Array):(r=null,i=e),super(i,n),this.origin=r,this.buffer=i?new Wg(i):null,this.origin&&n.autoLoad!==!1&&this.load(),i!=null&&i.length&&(this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}async load(){const r=await(await(await fetch(this.origin)).blob()).arrayBuffer();return this.data=new Uint32Array(r),this.buffer=new Wg(r),this.loaded=!0,this.onBlobLoaded(r),this.update(),this}}class Jo extends nN{constructor(e,n){super(e,n),this.format=n.format,this.levels=n.levels||1,this._width=n.width,this._height=n.height,this._extension=Jo._formatToExtension(this.format),(n.levelBuffers||this.buffer)&&(this._levelBuffers=n.levelBuffers||Jo._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,n,r){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let o=0,a=this.levels;o<a;o++){const{levelID:l,levelWidth:c,levelHeight:h,levelBuffer:f}=this._levelBuffers[o];i.compressedTexImage2D(i.TEXTURE_2D,l,this.format,c,h,0,f)}return!0}onBlobLoaded(){this._levelBuffers=Jo._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,n,r,i,s,o,a){const l=new Array(r);let c=e.byteOffset,h=o,f=a,p=h+i-1&~(i-1),m=f+s-1&~(s-1),v=p*m*Ud[n];for(let y=0;y<r;y++)l[y]={levelID:y,levelWidth:r>1?h:p,levelHeight:r>1?f:m,levelBuffer:new Uint8Array(e.buffer,c,v)},c+=v,h=h>>1||1,f=f>>1||1,p=h+i-1&~(i-1),m=f+s-1&~(s-1),v=p*m*Ud[n];return l}}const wb=4,lm=124,jPe=32,P3=20,WPe=542327876,um={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},GPe={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},cm={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},VPe=1,qPe=2,XPe=4,YPe=64,KPe=512,ZPe=131072,QPe=827611204,JPe=861165636,eke=894720068,tke=808540228,nke=4,rke={[QPe]:ur.COMPRESSED_RGBA_S3TC_DXT1_EXT,[JPe]:ur.COMPRESSED_RGBA_S3TC_DXT3_EXT,[eke]:ur.COMPRESSED_RGBA_S3TC_DXT5_EXT},ike={[70]:ur.COMPRESSED_RGBA_S3TC_DXT1_EXT,[71]:ur.COMPRESSED_RGBA_S3TC_DXT1_EXT,[73]:ur.COMPRESSED_RGBA_S3TC_DXT3_EXT,[74]:ur.COMPRESSED_RGBA_S3TC_DXT3_EXT,[76]:ur.COMPRESSED_RGBA_S3TC_DXT5_EXT,[77]:ur.COMPRESSED_RGBA_S3TC_DXT5_EXT,[72]:ur.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,[75]:ur.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,[78]:ur.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function rN(t){const e=new Uint32Array(t);if(e[0]!==WPe)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,lm/Uint32Array.BYTES_PER_ELEMENT),i=r[um.HEIGHT],s=r[um.WIDTH],o=r[um.MIPMAP_COUNT],a=new Uint32Array(t,um.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,jPe/Uint32Array.BYTES_PER_ELEMENT),l=a[VPe];if(l&XPe){const c=a[GPe.FOURCC];if(c!==tke){const w=rke[c],E=wb+lm,O=new Uint8Array(t,E);return[new Jo(O,{format:w,width:s,height:i,levels:o})]}const h=wb+lm,f=new Uint32Array(e.buffer,h,P3/Uint32Array.BYTES_PER_ELEMENT),p=f[cm.DXGI_FORMAT],m=f[cm.RESOURCE_DIMENSION],v=f[cm.MISC_FLAG],y=f[cm.ARRAY_SIZE],x=ike[p];if(x===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${p}`);if(v===nke)throw new Error("DDSParser does not support cubemap textures");if(m===6)throw new Error("DDSParser does not supported 3D texture data");const b=new Array,_=wb+lm+P3;if(y===1)b.push(new Uint8Array(t,_));else{const w=Ud[x];let E=0,O=s,A=i;for(let L=0;L<o;L++){const H=Math.max(1,O+3&-4),j=Math.max(1,A+3&-4),z=H*j*w;E+=z,O=O>>>1,A=A>>>1}let F=_;for(let L=0;L<y;L++)b.push(new Uint8Array(t,F,E)),F+=E}return b.map(w=>new Jo(w,{format:x,width:s,height:i,levels:o}))}throw l&YPe?new Error("DDSParser does not support uncompressed texture data."):l&KPe?new Error("DDSParser does not supported YUV uncompressed texture data."):l&ZPe?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&qPe?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const k3=[171,75,84,88,32,49,49,187,13,10,26,10],ske=67305985,Bi={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},d_=64,f_={[ke.UNSIGNED_BYTE]:1,[ke.UNSIGNED_SHORT]:2,[ke.INT]:4,[ke.UNSIGNED_INT]:4,[ke.FLOAT]:4,[ke.HALF_FLOAT]:8},iN={[ge.RGBA]:4,[ge.RGB]:3,[ge.RG]:2,[ge.RED]:1,[ge.LUMINANCE]:1,[ge.LUMINANCE_ALPHA]:2,[ge.ALPHA]:1},sN={[ke.UNSIGNED_SHORT_4_4_4_4]:2,[ke.UNSIGNED_SHORT_5_5_5_1]:2,[ke.UNSIGNED_SHORT_5_6_5]:2};function oN(t,e,n=!1){const r=new DataView(e);if(!oke(t,r))return null;const i=r.getUint32(Bi.ENDIANNESS,!0)===ske,s=r.getUint32(Bi.GL_TYPE,i),o=r.getUint32(Bi.GL_FORMAT,i),a=r.getUint32(Bi.GL_INTERNAL_FORMAT,i),l=r.getUint32(Bi.PIXEL_WIDTH,i),c=r.getUint32(Bi.PIXEL_HEIGHT,i)||1,h=r.getUint32(Bi.PIXEL_DEPTH,i)||1,f=r.getUint32(Bi.NUMBER_OF_ARRAY_ELEMENTS,i)||1,p=r.getUint32(Bi.NUMBER_OF_FACES,i),m=r.getUint32(Bi.NUMBER_OF_MIPMAP_LEVELS,i),v=r.getUint32(Bi.BYTES_OF_KEY_VALUE_DATA,i);if(c===0||h!==1)throw new Error("Only 2D textures are supported");if(p!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(f!==1)throw new Error("WebGL does not support array textures");const y=4,x=4,b=l+3&-4,_=c+3&-4,w=new Array(f);let E=l*c;s===0&&(E=b*_);let O;if(s!==0?f_[s]?O=f_[s]*iN[o]:O=sN[s]:O=Ud[a],O===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const A=n?lke(r,v,i):null;let L=E*O,H=l,j=c,z=b,W=_,q=d_+v;for(let Y=0;Y<m;Y++){const de=r.getUint32(q,i);let ce=q+4;for(let te=0;te<f;te++){let Z=w[te];Z||(Z=w[te]=new Array(m)),Z[Y]={levelID:Y,levelWidth:m>1||s!==0?H:z,levelHeight:m>1||s!==0?j:W,levelBuffer:new Uint8Array(e,ce,L)},ce+=L}q+=de+4,q=q%4!==0?q+4-q%4:q,H=H>>1||1,j=j>>1||1,z=H+y-1&~(y-1),W=j+x-1&~(x-1),L=z*W*O}return s!==0?{uncompressed:w.map(Y=>{let de=Y[0].levelBuffer,ce=!1;return s===ke.FLOAT?de=new Float32Array(Y[0].levelBuffer.buffer,Y[0].levelBuffer.byteOffset,Y[0].levelBuffer.byteLength/4):s===ke.UNSIGNED_INT?(ce=!0,de=new Uint32Array(Y[0].levelBuffer.buffer,Y[0].levelBuffer.byteOffset,Y[0].levelBuffer.byteLength/4)):s===ke.INT&&(ce=!0,de=new Int32Array(Y[0].levelBuffer.buffer,Y[0].levelBuffer.byteOffset,Y[0].levelBuffer.byteLength/4)),{resource:new Mc(de,{width:Y[0].levelWidth,height:Y[0].levelHeight}),type:s,format:ce?ake(o):o}}),kvData:A}:{compressed:w.map(Y=>new Jo(null,{format:a,width:l,height:c,levels:m,levelBuffers:Y})),kvData:A}}function oke(t,e){for(let n=0;n<k3.length;n++)if(e.getUint8(n)!==k3[n])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function ake(t){switch(t){case ge.RGBA:return ge.RGBA_INTEGER;case ge.RGB:return ge.RGB_INTEGER;case ge.RG:return ge.RG_INTEGER;case ge.RED:return ge.RED_INTEGER;default:return t}}function lke(t,e,n){const r=new Map;let i=0;for(;i<e;){const s=t.getUint32(d_+i,n),o=d_+i+4,a=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<s&&t.getUint8(o+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const c=new TextDecoder().decode(new Uint8Array(t.buffer,o,l)),h=new DataView(t.buffer,o+l+1,s-l-1);r.set(c,h),i+=4+s+a}return r}const aN={extension:{type:be.LoadParser,priority:cs.High},test(t){return Sf(t,".dds")},async load(t,e,n){const i=await(await we.ADAPTER.fetch(t)).arrayBuffer(),o=rN(i).map(a=>{const l=new He(a,{mipmap:ss.OFF,alphaMode:Ai.NO_PREMULTIPLIED_ALPHA,resolution:ho(t),...e.data});return Ef(l,n,t)});return o.length===1?o[0]:o},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};Pe.add(aN);const lN={extension:{type:be.LoadParser,priority:cs.High},test(t){return Sf(t,".ktx")},async load(t,e,n){const i=await(await we.ADAPTER.fetch(t)).arrayBuffer(),{compressed:s,uncompressed:o,kvData:a}=oN(t,i),l=s??o,c={mipmap:ss.OFF,alphaMode:Ai.NO_PREMULTIPLIED_ALPHA,resolution:ho(t),...e.data},h=l.map(f=>{l===o&&Object.assign(c,{type:f.type,format:f.format});const p=new He(f,c);return p.ktxKeyValueData=a,Ef(p,n,t)});return h.length===1?h[0]:h},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};Pe.add(lN);const uN={extension:be.ResolveParser,test:t=>{const n=t.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(n)},parse:t=>{var r,i;if(t.split("?")[0].split(".").pop()==="ktx"){const s=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(s.some(o=>t.endsWith(o)))return{resolution:parseFloat(((r=we.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:s.find(o=>t.endsWith(o)),src:t}}return{resolution:parseFloat(((i=we.RETINA_PREFIX.exec(t))==null?void 0:i[1])??"1"),format:t.split(".").pop(),src:t}}};Pe.add(uN);const uke=new qe,cke=4,p_=class{constructor(t){this.renderer=t}async image(t,e,n){const r=new Image;return r.src=await this.base64(t,e,n),r}async base64(t,e,n){const r=this.canvas(t);if(r.toDataURL!==void 0)return r.toDataURL(e,n);if(r.convertToBlob!==void 0){const i=await r.convertToBlob({type:e,quality:n});return await new Promise(s=>{const o=new FileReader;o.onload=()=>s(o.result),o.readAsDataURL(i)})}throw new Error("Extract.base64() requires ICanvas.toDataURL or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:n,width:r,height:i,flipY:s}=this._rawPixels(t,e);let o=new r_(r,i,1);const a=o.context.getImageData(0,0,r,i);if(p_.arrayPostDivide(n,a.data),o.context.putImageData(a,0,0),s){const l=new r_(o.width,o.height,1);l.context.scale(1,-1),l.context.drawImage(o.canvas,0,-i),o.destroy(),o=l}return o.canvas}pixels(t,e){const{pixels:n}=this._rawPixels(t,e);return p_.arrayPostDivide(n,n),n}_rawPixels(t,e){const n=this.renderer;let r,i=!1,s,o=!1;if(t)if(t instanceof mo)s=t;else{const f=n.context.webGLVersion>=2?n.multisample:qt.NONE;if(s=this.renderer.generateTexture(t,{multisample:f}),f!==qt.NONE){const p=mo.create({width:s.width,height:s.height});n.framebuffer.bind(s.framebuffer),n.framebuffer.blit(p.framebuffer),n.framebuffer.bind(null),s.destroy(!0),s=p}o=!0}s?(r=s.baseTexture.resolution,e=e??s.frame,i=!1,n.renderTexture.bind(s)):(r=n.resolution,e||(e=uke,e.width=n.width,e.height=n.height),i=!0,n.renderTexture.bind(null));const a=Math.round(e.width*r),l=Math.round(e.height*r),c=new Uint8Array(cke*a*l),h=n.gl;return h.readPixels(Math.round(e.x*r),Math.round(e.y*r),a,l,h.RGBA,h.UNSIGNED_BYTE,c),o&&s.destroy(!0),{pixels:c,width:a,height:l,flipY:i}}destroy(){this.renderer=null}static arrayPostDivide(t,e){for(let n=0;n<t.length;n+=4){const r=e[n+3]=t[n+3];r!==0?(e[n]=Math.round(Math.min(t[n]*255/r,255)),e[n+1]=Math.round(Math.min(t[n+1]*255/r,255)),e[n+2]=Math.round(Math.min(t[n+2]*255/r,255))):(e[n]=t[n],e[n+1]=t[n+1],e[n+2]=t[n+2])}}};let cC=p_;cC.extension={name:"extract",type:be.RendererSystem};Pe.add(cC);const zd={build(t){const e=t.points;let n,r,i,s,o,a;if(t.type===_n.CIRC){const v=t.shape;n=v.x,r=v.y,o=a=v.radius,i=s=0}else if(t.type===_n.ELIP){const v=t.shape;n=v.x,r=v.y,o=v.width,a=v.height,i=s=0}else{const v=t.shape,y=v.width/2,x=v.height/2;n=v.x+y,r=v.y+x,o=a=Math.max(0,Math.min(v.radius,Math.min(y,x))),i=y-o,s=x-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}const l=Math.ceil(2.3*Math.sqrt(o+a)),c=l*8+(i?4:0)+(s?4:0);if(e.length=c,c===0)return;if(l===0){e.length=8,e[0]=e[6]=n+i,e[1]=e[3]=r+s,e[2]=e[4]=n-i,e[5]=e[7]=r-s;return}let h=0,f=l*4+(i?2:0)+2,p=f,m=c;{const v=i+o,y=s,x=n+v,b=n-v,_=r+y;if(e[h++]=x,e[h++]=_,e[--f]=_,e[--f]=b,s){const w=r-y;e[p++]=b,e[p++]=w,e[--m]=w,e[--m]=x}}for(let v=1;v<l;v++){const y=Math.PI/2*(v/l),x=i+Math.cos(y)*o,b=s+Math.sin(y)*a,_=n+x,w=n-x,E=r+b,O=r-b;e[h++]=_,e[h++]=E,e[--f]=E,e[--f]=w,e[p++]=w,e[p++]=O,e[--m]=O,e[--m]=_}{const v=i,y=s+a,x=n+v,b=n-v,_=r+y,w=r-y;e[h++]=x,e[h++]=_,e[--m]=w,e[--m]=x,i&&(e[h++]=b,e[h++]=_,e[--m]=w,e[--m]=b)}},triangulate(t,e){const n=t.points,r=e.points,i=e.indices;if(n.length===0)return;let s=r.length/2;const o=s;let a,l;if(t.type!==_n.RREC){const h=t.shape;a=h.x,l=h.y}else{const h=t.shape;a=h.x+h.width/2,l=h.y+h.height/2}const c=t.matrix;r.push(t.matrix?c.a*a+c.c*l+c.tx:a,t.matrix?c.b*a+c.d*l+c.ty:l),s++,r.push(n[0],n[1]);for(let h=2;h<n.length;h+=2)r.push(n[h],n[h+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function O3(t,e=!1){const n=t.length;if(n<6)return;let r=0;for(let i=0,s=t[n-2],o=t[n-1];i<n;i+=2){const a=t[i],l=t[i+1];r+=(a-s)*(l+o),s=a,o=l}if(!e&&r>0||e&&r<=0){const i=n/2;for(let s=i+i%2;s<n;s+=2){const o=n-s-2,a=n-s-1,l=s,c=s+1;[t[o],t[l]]=[t[l],t[o]],[t[a],t[c]]=[t[c],t[a]]}}}const hC={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let n=t.points;const r=t.holes,i=e.points,s=e.indices;if(n.length>=6){O3(n,!1);const o=[];for(let c=0;c<r.length;c++){const h=r[c];O3(h.points,!0),o.push(n.length/2),n=n.concat(h.points)}const a=kd(n,o,2);if(!a)return;const l=i.length/2;for(let c=0;c<a.length;c+=3)s.push(a[c]+l),s.push(a[c+1]+l),s.push(a[c+2]+l);for(let c=0;c<n.length;c++)i.push(n[c])}}},cN={build(t){const e=t.shape,n=e.x,r=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(n,r,n+i,r,n+i,r+s,n,r+s)},triangulate(t,e){const n=t.points,r=e.points;if(n.length===0)return;const i=r.length/2;r.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},hN={build(t){zd.build(t)},triangulate(t,e){zd.triangulate(t,e)}};var ai=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(ai||{}),jo=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(jo||{});const sa={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let n=Math.ceil(t/this.maxLength);return n<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n}},hke=sa;class m_{static curveTo(e,n,r,i,s,o){const a=o[o.length-2],c=o[o.length-1]-n,h=a-e,f=i-n,p=r-e,m=Math.abs(c*p-h*f);if(m<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==n)&&o.push(e,n),null;const v=c*c+h*h,y=f*f+p*p,x=c*f+h*p,b=s*Math.sqrt(v)/m,_=s*Math.sqrt(y)/m,w=b*x/v,E=_*x/y,O=b*p+_*h,A=b*f+_*c,F=h*(_+w),L=c*(_+w),H=p*(b+E),j=f*(b+E),z=Math.atan2(L-A,F-O),W=Math.atan2(j-A,H-O);return{cx:O+e,cy:A+n,radius:s,startAngle:z,endAngle:W,anticlockwise:h*f>p*c}}static arc(e,n,r,i,s,o,a,l,c){const h=a-o,f=sa._segmentsCount(Math.abs(h)*s,Math.ceil(Math.abs(h)/Ld)*40),p=h/(f*2),m=p*2,v=Math.cos(p),y=Math.sin(p),x=f-1,b=x%1/x;for(let _=0;_<=x;++_){const w=_+b*_,E=p+o+m*w,O=Math.cos(E),A=-Math.sin(E);c.push((v*O+y*A)*s+r,(v*-A+y*O)*s+i)}}}class dN{constructor(){this.reset()}begin(e,n,r){this.reset(),this.style=e,this.start=n,this.attribStart=r}end(e,n){this.attribSize=n-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class P0{static curveLength(e,n,r,i,s,o,a,l){let h=0,f=0,p=0,m=0,v=0,y=0,x=0,b=0,_=0,w=0,E=0,O=e,A=n;for(let F=1;F<=10;++F)f=F/10,p=f*f,m=p*f,v=1-f,y=v*v,x=y*v,b=x*e+3*y*f*r+3*v*p*s+m*a,_=x*n+3*y*f*i+3*v*p*o+m*l,w=O-b,E=A-_,O=b,A=_,h+=Math.sqrt(w*w+E*E);return h}static curveTo(e,n,r,i,s,o,a){const l=a[a.length-2],c=a[a.length-1];a.length-=2;const h=sa._segmentsCount(P0.curveLength(l,c,e,n,r,i,s,o));let f=0,p=0,m=0,v=0,y=0;a.push(l,c);for(let x=1,b=0;x<=h;++x)b=x/h,f=1-b,p=f*f,m=p*f,v=b*b,y=v*b,a.push(m*l+3*p*b*e+3*f*v*r+y*s,m*c+3*p*b*n+3*f*v*i+y*o)}}function I3(t,e,n,r,i,s,o,a){const l=t-n*i,c=e-r*i,h=t+n*s,f=e+r*s;let p,m;o?(p=r,m=-n):(p=-r,m=n);const v=l+p,y=c+m,x=h+p,b=f+m;return a.push(v,y,x,b),2}function Oa(t,e,n,r,i,s,o,a){const l=n-t,c=r-e;let h=Math.atan2(l,c),f=Math.atan2(i-t,s-e);a&&h<f?h+=Math.PI*2:!a&&h>f&&(f+=Math.PI*2);let p=h;const m=f-h,v=Math.abs(m),y=Math.sqrt(l*l+c*c),x=(15*v*Math.sqrt(y)/Math.PI>>0)+1,b=m/x;if(p+=b,a){o.push(t,e,n,r);for(let _=1,w=p;_<x;_++,w+=b)o.push(t,e,t+Math.sin(w)*y,e+Math.cos(w)*y);o.push(t,e,i,s)}else{o.push(n,r,t,e);for(let _=1,w=p;_<x;_++,w+=b)o.push(t+Math.sin(w)*y,e+Math.cos(w)*y,t,e);o.push(i,s,t,e)}return x*2}function dke(t,e){const n=t.shape;let r=t.points||n.points.slice();const i=e.closePointEps;if(r.length===0)return;const s=t.lineStyle,o=new Oe(r[0],r[1]),a=new Oe(r[r.length-2],r[r.length-1]),l=n.type!==_n.POLY||n.closeStroke,c=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(l){r=r.slice(),c&&(r.pop(),r.pop(),a.set(r[r.length-2],r[r.length-1]));const te=(o.x+a.x)*.5,Z=(a.y+o.y)*.5;r.unshift(te,Z),r.push(te,Z)}const h=e.points,f=r.length/2;let p=r.length;const m=h.length/2,v=s.width/2,y=v*v,x=s.miterLimit*s.miterLimit;let b=r[0],_=r[1],w=r[2],E=r[3],O=0,A=0,F=-(_-E),L=b-w,H=0,j=0,z=Math.sqrt(F*F+L*L);F/=z,L/=z,F*=v,L*=v;const W=s.alignment,q=(1-W)*2,Y=W*2;l||(s.cap===jo.ROUND?p+=Oa(b-F*(q-Y)*.5,_-L*(q-Y)*.5,b-F*q,_-L*q,b+F*Y,_+L*Y,h,!0)+2:s.cap===jo.SQUARE&&(p+=I3(b,_,F,L,q,Y,!0,h))),h.push(b-F*q,_-L*q,b+F*Y,_+L*Y);for(let te=1;te<f-1;++te){b=r[(te-1)*2],_=r[(te-1)*2+1],w=r[te*2],E=r[te*2+1],O=r[(te+1)*2],A=r[(te+1)*2+1],F=-(_-E),L=b-w,z=Math.sqrt(F*F+L*L),F/=z,L/=z,F*=v,L*=v,H=-(E-A),j=w-O,z=Math.sqrt(H*H+j*j),H/=z,j/=z,H*=v,j*=v;const Z=w-b,le=_-E,G=w-O,R=A-E,D=Z*G+le*R,Q=le*G-R*Z,K=Q<0;if(Math.abs(Q)<.001*Math.abs(D)){h.push(w-F*q,E-L*q,w+F*Y,E+L*Y),D>=0&&(s.join===ai.ROUND?p+=Oa(w,E,w-F*q,E-L*q,w-H*q,E-j*q,h,!1)+4:p+=2,h.push(w-H*Y,E-j*Y,w+H*q,E+j*q));continue}const $=(-F+b)*(-L+E)-(-F+w)*(-L+_),ne=(-H+O)*(-j+E)-(-H+w)*(-j+A),me=(Z*ne-G*$)/Q,Ie=(R*$-le*ne)/Q,Re=(me-w)*(me-w)+(Ie-E)*(Ie-E),Ye=w+(me-w)*q,Se=E+(Ie-E)*q,et=w-(me-w)*Y,tt=E-(Ie-E)*Y,rt=Math.min(Z*Z+le*le,G*G+R*R),Ot=K?q:Y,Kr=rt+Ot*Ot*y,Dn=Re<=Kr;let Ke=s.join;if(Ke===ai.MITER&&Re/y>x&&(Ke=ai.BEVEL),Dn)switch(Ke){case ai.MITER:{h.push(Ye,Se,et,tt);break}case ai.BEVEL:{K?h.push(Ye,Se,w+F*Y,E+L*Y,Ye,Se,w+H*Y,E+j*Y):h.push(w-F*q,E-L*q,et,tt,w-H*q,E-j*q,et,tt),p+=2;break}case ai.ROUND:{K?(h.push(Ye,Se,w+F*Y,E+L*Y),p+=Oa(w,E,w+F*Y,E+L*Y,w+H*Y,E+j*Y,h,!0)+4,h.push(Ye,Se,w+H*Y,E+j*Y)):(h.push(w-F*q,E-L*q,et,tt),p+=Oa(w,E,w-F*q,E-L*q,w-H*q,E-j*q,h,!1)+4,h.push(w-H*q,E-j*q,et,tt));break}}else{switch(h.push(w-F*q,E-L*q,w+F*Y,E+L*Y),Ke){case ai.MITER:{K?h.push(et,tt,et,tt):h.push(Ye,Se,Ye,Se),p+=2;break}case ai.ROUND:{K?p+=Oa(w,E,w+F*Y,E+L*Y,w+H*Y,E+j*Y,h,!0)+2:p+=Oa(w,E,w-F*q,E-L*q,w-H*q,E-j*q,h,!1)+2;break}}h.push(w-H*q,E-j*q,w+H*Y,E+j*Y),p+=2}}b=r[(f-2)*2],_=r[(f-2)*2+1],w=r[(f-1)*2],E=r[(f-1)*2+1],F=-(_-E),L=b-w,z=Math.sqrt(F*F+L*L),F/=z,L/=z,F*=v,L*=v,h.push(w-F*q,E-L*q,w+F*Y,E+L*Y),l||(s.cap===jo.ROUND?p+=Oa(w-F*(q-Y)*.5,E-L*(q-Y)*.5,w-F*q,E-L*q,w+F*Y,E+L*Y,h,!1)+2:s.cap===jo.SQUARE&&(p+=I3(w,E,F,L,q,Y,!1,h)));const de=e.indices,ce=sa.epsilon*sa.epsilon;for(let te=m;te<p+m-2;++te)b=h[te*2],_=h[te*2+1],w=h[(te+1)*2],E=h[(te+1)*2+1],O=h[(te+2)*2],A=h[(te+2)*2+1],!(Math.abs(b*(E-A)+w*(A-_)+O*(_-E))<ce)&&de.push(te,te+1,te+2)}function fke(t,e){let n=0;const r=t.shape,i=t.points||r.points,s=r.type!==_n.POLY||r.closeStroke;if(i.length===0)return;const o=e.points,a=e.indices,l=i.length/2,c=o.length/2;let h=c;for(o.push(i[0],i[1]),n=1;n<l;n++)o.push(i[n*2],i[n*2+1]),a.push(h,h+1),h++;s&&a.push(h,c)}function g_(t,e){t.lineStyle.native?fke(t,e):dke(t,e)}class k0{static curveLength(e,n,r,i,s,o){const a=e-2*r+s,l=n-2*i+o,c=2*r-2*e,h=2*i-2*n,f=4*(a*a+l*l),p=4*(a*c+l*h),m=c*c+h*h,v=2*Math.sqrt(f+p+m),y=Math.sqrt(f),x=2*f*y,b=2*Math.sqrt(m),_=p/y;return(x*v+y*p*(v-b)+(4*m*f-p*p)*Math.log((2*y+_+v)/(_+b)))/(4*x)}static curveTo(e,n,r,i,s){const o=s[s.length-2],a=s[s.length-1],l=sa._segmentsCount(k0.curveLength(o,a,e,n,r,i));let c=0,h=0;for(let f=1;f<=l;++f){const p=f/l;c=o+(e-o)*p,h=a+(n-a)*p,s.push(c+(e+(r-e)*p-c)*p,h+(n+(i-n)*p-h)*p)}}}const Hm={[_n.POLY]:hC,[_n.CIRC]:zd,[_n.ELIP]:zd,[_n.RECT]:cN,[_n.RREC]:hN},v_=[],Dh=[];class Hd{constructor(e,n=null,r=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=r,this.fillStyle=n,this.matrix=i,this.type=e.type}clone(){return new Hd(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Yl=new Oe,fN=class extends P2{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Bd,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),Dh.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),v_.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,n=null,r=null){const i=new Hd(t,e,n,r);return this.graphicsData.push(i),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const n=new Hd(t,null,null,e),r=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=r.lineStyle,r.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let n=0;n<e.length;++n){const r=e[n];if(r.fillStyle.visible&&r.shape&&(r.matrix?r.matrix.applyInverse(t,Yl):Yl.copyFrom(t),r.shape.contains(Yl.x,Yl.y))){let i=!1;if(r.holes){for(let s=0;s<r.holes.length;s++)if(r.holes[s].shape.contains(Yl.x,Yl.y)){i=!0;break}}if(!i)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let n=null,r=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],r=n.style);for(let a=this.shapeIndex;a<e.length;a++){this.shapeIndex++;const l=e[a],c=l.fillStyle,h=l.lineStyle;Hm[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix),(c.visible||h.visible)&&this.processHoles(l.holes);for(let p=0;p<2;p++){const m=p===0?c:h;if(!m.visible)continue;const v=m.texture.baseTexture,y=this.indices.length,x=this.points.length/2;v.wrapMode=Is.REPEAT,p===0?this.processFill(l):this.processLine(l);const b=this.points.length/2-x;b!==0&&(n&&!this._compareStyles(r,m)&&(n.end(y,x),n=null),n||(n=v_.pop()||new dN,n.begin(m,y,x),this.batches.push(n),r=m),this.addUvs(this.points,t,m.texture,x,b,m.matrix))}}const i=this.indices.length,s=this.points.length/2;if(n&&n.end(i,s),this.batches.length===0){this.batchable=!0;return}const o=s>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&o===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=o?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const n=this.graphicsData[t],r=n.fillStyle,i=n.lineStyle;if(r&&!r.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,n=t.length;e<n;e++){const r=t[e];for(let i=0;i<r.size;i++){const s=r.start+i;this.indicesUint16[s]=this.indicesUint16[s]-r.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<fN.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++He._globalBatch;for(let h=0;h<this.drawCalls.length;h++)this.drawCalls[h].texArray.clear(),Dh.push(this.drawCalls[h]);this.drawCalls.length=0;const e=this.colors,n=this.textureIds;let r=Dh.pop();r||(r=new Vg,r.texArray=new qg),r.texArray.count=0,r.start=0,r.size=0,r.type=qi.TRIANGLES;let i=0,s=null,o=0,a=!1,l=qi.TRIANGLES,c=0;this.drawCalls.push(r);for(let h=0;h<this.batches.length;h++){const f=this.batches[h],p=8,m=f.style,v=m.texture.baseTexture;a!==!!m.native&&(a=!!m.native,l=a?qi.LINES:qi.TRIANGLES,s=null,i=p,t++),s!==v&&(s=v,v._batchEnabled!==t&&(i===p&&(t++,i=0,r.size>0&&(r=Dh.pop(),r||(r=new Vg,r.texArray=new qg),this.drawCalls.push(r)),r.start=c,r.size=0,r.texArray.count=0,r.type=l),v.touched=1,v._batchEnabled=t,v._batchLocation=i,v.wrapMode=Is.REPEAT,r.texArray.elements[r.texArray.count++]=v,i++)),r.size+=f.size,c+=f.size,o=v._batchLocation,this.addColors(e,m.color,m.alpha,f.attribSize,f.attribStart),this.addTextureIds(n,o,f.attribSize,f.attribStart)}He._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,n=this.colors,r=this.textureIds,i=new ArrayBuffer(t.length*3*4),s=new Float32Array(i),o=new Uint32Array(i);let a=0;for(let l=0;l<t.length/2;l++)s[a++]=t[l*2],s[a++]=t[l*2+1],s[a++]=e[l*2],s[a++]=e[l*2+1],o[a++]=n[l],s[a++]=r[l];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?hC.triangulate(t,this):Hm[t.type].triangulate(t,this)}processLine(t){g_(t,this);for(let e=0;e<t.holes.length;e++)g_(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const n=t[e];Hm[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let n=0;n<t.length/2;n++){const r=t[n*2],i=t[n*2+1];t[n*2]=e.a*r+e.c*i+e.tx,t[n*2+1]=e.b*r+e.d*i+e.ty}}addColors(t,e,n,r,i=0){const s=(e>>16)+(e&65280)+((e&255)<<16),o=_0(s,n);t.length=Math.max(t.length,i+r);for(let a=0;a<r;a++)t[i+a]=o}addTextureIds(t,e,n,r=0){t.length=Math.max(t.length,r+n);for(let i=0;i<n;i++)t[r+i]=e}addUvs(t,e,n,r,i,s=null){let o=0;const a=e.length,l=n.frame;for(;o<i;){let h=t[(r+o)*2],f=t[(r+o)*2+1];if(s){const p=s.a*h+s.c*f+s.tx;f=s.b*h+s.d*f+s.ty,h=p}o++,e.push(h/l.width,f/l.height)}const c=n.baseTexture;(l.width<c.width||l.height<c.height)&&this.adjustUvs(e,n,a,i)}adjustUvs(t,e,n,r){const i=e.baseTexture,s=1e-6,o=n+r*2,a=e.frame,l=a.width/i.width,c=a.height/i.height;let h=a.x/a.width,f=a.y/a.height,p=Math.floor(t[n]+s),m=Math.floor(t[n+1]+s);for(let v=n+2;v<o;v+=2)p=Math.min(p,Math.floor(t[v]+s)),m=Math.min(m,Math.floor(t[v+1]+s));h-=p,f-=m;for(let v=n;v<o;v+=2)t[v]=(t[v]+h)*l,t[v+1]=(t[v+1]+f)*c}};let dC=fN;dC.BATCHABLE_SIZE=100;class Cf{constructor(){this.color=16777215,this.alpha=1,this.texture=xe.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Cf;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=xe.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class O0 extends Cf{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=jo.BUTT,this.join=ai.MITER,this.miterLimit=10}clone(){const e=new O0;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const pke=new Float32Array(3),_b={},jm=class extends er{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Cf,this._lineStyle=new O0,this._matrix=null,this._holeMode=!1,this.state=Ds.for2d(),this._geometry=t||new dC,this._geometry.refCount++,this._transformID=-1,this.tint=16777215,this.blendMode=Me.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new jm(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tint}set tint(t){this._tint=t}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,n=1,r=.5,i=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:n,alignment:r,native:i}),this.lineTextureStyle(t)}lineTextureStyle(t){t=Object.assign({width:0,texture:xe.WHITE,color:t!=null&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:jo.BUTT,join:ai.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();const e=t.width>0&&t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:e},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new Ja,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new Ja,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,r=n[n.length-2],i=n[n.length-1];return(r!==t||i!==e)&&n.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,n,r){this._initCurve();const i=this.currentPath.points;return i.length===0&&this.moveTo(0,0),k0.curveTo(t,e,n,r,i),this}bezierCurveTo(t,e,n,r,i,s){return this._initCurve(),P0.curveTo(t,e,n,r,i,s,this.currentPath.points),this}arcTo(t,e,n,r,i){this._initCurve(t,e);const s=this.currentPath.points,o=m_.curveTo(t,e,n,r,i,s);if(o){const{cx:a,cy:l,radius:c,startAngle:h,endAngle:f,anticlockwise:p}=o;this.arc(a,l,c,h,f,p)}return this}arc(t,e,n,r,i,s=!1){if(r===i)return this;if(!s&&i<=r?i+=Ld:s&&r<=i&&(r+=Ld),i-r===0)return this;const a=t+Math.cos(r)*n,l=e+Math.sin(r)*n,c=this._geometry.closePointEps;let h=this.currentPath?this.currentPath.points:null;if(h){const f=Math.abs(h[h.length-2]-a),p=Math.abs(h[h.length-1]-l);f<c&&p<c||h.push(a,l)}else this.moveTo(a,l),h=this.currentPath.points;return m_.arc(a,l,t,e,n,r,i,s,h),this}beginFill(t=0,e=1){return this.beginTextureFill({texture:xe.WHITE,color:t,alpha:e})}beginTextureFill(t){t=Object.assign({texture:xe.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();const e=t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:e},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,n,r){return this.drawShape(new qe(t,e,n,r))}drawRoundedRect(t,e,n,r,i){return this.drawShape(new cc(t,e,n,r,i))}drawCircle(t,e,n){return this.drawShape(new uc(t,e,n))}drawEllipse(t,e,n,r){return this.drawShape(new E0(t,e,n,r))}drawPolygon(...t){let e,n=!0;const r=t[0];r.points?(n=r.closeStroke,e=r.points):Array.isArray(t[0])?e=t[0]:e=t;const i=new Ja(e);return i.closeStroke=n,this.drawShape(i),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===_n.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,n=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(t.points);for(let r=0;r<n;r++){const i=t.batches[r],s=i.style.color,o=new Float32Array(this.vertexData.buffer,i.attribStart*4*2,i.attribSize*2),a=new Float32Array(t.uvsFloat32.buffer,i.attribStart*4*2,i.attribSize*2),l=new Uint16Array(t.indicesUint16.buffer,i.start*2,i.size),c={vertexData:o,blendMode:e,indices:l,uvs:a,_batchRGB:hl(s),_tintRGB:s,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[r]=c}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,n=this.batches.length;e<n;e++){const r=this.batches[e];r.worldAlpha=this.worldAlpha*r.alpha,t.plugins[this.pluginName].render(r)}}}_renderDirect(t){const e=this._resolveDirectShader(t),n=this._geometry,r=this.tint,i=this.worldAlpha,s=e.uniforms,o=n.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(r>>16&255)/255*i,s.tint[1]=(r>>8&255)/255*i,s.tint[2]=(r&255)/255*i,s.tint[3]=i,t.shader.bind(e),t.geometry.bind(n,e),t.state.set(this.state);for(let a=0,l=o.length;a<l;a++)this._renderDrawCallDirect(t,n.drawCalls[a])}_renderDrawCallDirect(t,e){const{texArray:n,type:r,size:i,start:s}=e,o=n.count;for(let a=0;a<o;a++)t.texture.bind(n.elements[a],a);t.geometry.draw(r,i,s)}_resolveDirectShader(t){let e=this.shader;const n=this.pluginName;if(!e){if(!_b[n]){const{maxTextures:r}=t.plugins[n],i=new Int32Array(r);for(let a=0;a<r;a++)i[a]=a;const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new Nt,default:bi.from({uSamplers:i},!0)},o=t.plugins[n]._shader.program;_b[n]=new ts(o,s)}e=_b[n]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:n,maxX:r,maxY:i}=t.bounds;this._bounds.addFrame(this.transform,e,n,r,i)}containsPoint(t){return this.worldTransform.applyInverse(t,jm._TEMP_POINT),this._geometry.containsPoint(jm._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this.tint;const t=hl(this.tint,pke);for(let e=0;e<this.batches.length;e++){const n=this.batches[e],r=n._batchRGB,i=t[0]*r[0]*255,s=t[1]*r[1]*255,o=t[2]*r[2]*255,a=(i<<16)+(s<<8)+(o|0);n._tintRGB=(a>>16)+(a&65280)+((a&255)<<16)}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,n=e.a,r=e.b,i=e.c,s=e.d,o=e.tx,a=e.ty,l=this._geometry.points,c=this.vertexData;let h=0;for(let f=0;f<l.length;f+=2){const p=l[f],m=l[f+1];c[h++]=n*p+i*m+o,c[h++]=s*m+r*p+a}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};let fl=jm;fl.curves=sa;fl._TEMP_POINT=new Oe;const mke={buildPoly:hC,buildCircle:zd,buildRectangle:cN,buildRoundedRectangle:hN,buildLine:g_,ArcUtils:m_,BezierUtils:P0,QuadraticUtils:k0,BatchPart:dN,FILL_COMMANDS:Hm,BATCH_POOL:v_,DRAW_CALL_POOL:Dh};class pN{constructor(e,n){this.uvBuffer=e,this.uvMatrix=n,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const n=this.uvBuffer.data;(!this.data||this.data.length!==n.length)&&(this.data=new Float32Array(n.length)),this.uvMatrix.multiplyUvs(n,this.data),this._updateID++}}const Sb=new Oe,R3=new Ja,mN=class extends er{constructor(t,e,n,r=qi.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=n||Ds.for2d(),this.drawMode=r,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=we.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===qi.TRIANGLES&&e.length<mN.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]),t.plugins[r].render(this)}calculateVertices(){const e=this.geometry.buffers[0],n=e.data,r=e._updateID;if(r===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==n.length&&(this.vertexData=new Float32Array(n.length));const i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,l=i.d,c=i.tx,h=i.ty,f=this.vertexData;for(let p=0;p<f.length/2;p++){const m=n[p*2],v=n[p*2+1];f[p*2]=s*m+a*v+c,f[p*2+1]=o*m+l*v+h}if(this._roundPixels){const p=we.RESOLUTION;for(let m=0;m<f.length;++m)f[m]=Math.round(f[m]*p)/p}this.vertexDirty=r}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new pN(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,Sb);const e=this.geometry.getBuffer("aVertexPosition").data,n=R3.points,r=this.geometry.getIndex().data,i=r.length,s=this.drawMode===4?3:1;for(let o=0;o+2<i;o+=s){const a=r[o]*2,l=r[o+1]*2,c=r[o+2]*2;if(n[0]=e[a],n[1]=e[a+1],n[2]=e[l],n[3]=e[l+1],n[4]=e[c],n[5]=e[c+1],R3.contains(Sb.x,Sb.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let pl=mN;pl.BATCHABLE_SIZE=100;class Tf extends fo{constructor(e,n,r){super();const i=new tn(e),s=new tn(n,!0),o=new tn(r,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,ke.FLOAT).addAttribute("aTextureCoord",s,2,!1,ke.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var gke=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,vke=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class fc extends ts{constructor(e,n){const r={uSampler:e,alpha:1,uTextureMatrix:Nt.IDENTITY,uColor:new Float32Array([1,1,1,1])};n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(r,n.uniforms),super(n.program||mi.from(vke,gke),r),this._colorDirty=!1,this.uvMatrix=new C0(e),this.batchable=n.program===void 0,this.pluginName=n.pluginName,this.tint=n.tint,this.alpha=n.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16),this._colorDirty=!0)}get tint(){return this._tint}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture;T2(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class gN extends Tf{constructor(e=100,n=100,r=10,i=10){super(),this.segWidth=r,this.segHeight=i,this.width=e,this.height=n,this.build()}build(){const e=this.segWidth*this.segHeight,n=[],r=[],i=[],s=this.segWidth-1,o=this.segHeight-1,a=this.width/s,l=this.height/o;for(let h=0;h<e;h++){const f=h%this.segWidth,p=h/this.segWidth|0;n.push(f*a,p*l),r.push(f/s,p/o)}const c=s*o;for(let h=0;h<c;h++){const f=h%s,p=h/s|0,m=p*this.segWidth+f,v=p*this.segWidth+f+1,y=(p+1)*this.segWidth+f,x=(p+1)*this.segWidth+f+1;i.push(m,v,y,v,x,y)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class vN extends Tf{constructor(e=200,n,r=0){super(new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6)),this.points=n,this._width=e,this.textureScale=r,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const n=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;n.data.length/4!==e.length&&(n.data=new Float32Array(e.length*4),r.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=r.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let a=0,l=e[0];const c=this._width*this.textureScale,h=e.length;for(let p=0;p<h;p++){const m=p*4;if(this.textureScale>0){const v=l.x-e[p].x,y=l.y-e[p].y,x=Math.sqrt(v*v+y*y);l=e[p],a+=x/c}else a=p/(h-1);s[m]=a,s[m+1]=0,s[m+2]=a,s[m+3]=1}let f=0;for(let p=0;p<h-1;p++){const m=p*2;o[f++]=m,o[f++]=m+1,o[f++]=m+2,o[f++]=m+2,o[f++]=m+1,o[f++]=m+3}r.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let n=e[0],r,i=0,s=0;const o=this.buffers[0].data,a=e.length,l=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let c=0;c<a;c++){const h=e[c],f=c*4;c<e.length-1?r=e[c+1]:r=h,s=-(r.x-n.x),i=r.y-n.y;const p=Math.sqrt(i*i+s*s);p<1e-6?(i=0,s=0):(i/=p,s/=p,i*=l,s*=l),o[f]=h.x+i,o[f+1]=h.y+s,o[f+2]=h.x-i,o[f+3]=h.y-s,n=h}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class yN extends pl{constructor(e,n,r){const i=new gN(e.width,e.height,n,r),s=new fc(xe.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:n,height:r}=this.shader.texture;this.autoResize&&(e.width!==n||e.height!==r)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const hm=10;class yke extends yN{constructor(e,n=hm,r=hm,i=hm,s=hm){super(xe.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=n,this._rightWidth=i,this._topHeight=r,this._bottomHeight=s,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,n=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*n,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*n,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,n=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*n,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*n,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,n=this._width>e?1:this._width/e,r=this._topHeight+this._bottomHeight,i=this._height>r?1:this._height/r;return Math.min(n,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,n=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const r=1/this._origWidth,i=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=r*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-r*this._rightWidth,n[9]=n[11]=n[13]=n[15]=i*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class bke extends pl{constructor(e=xe.EMPTY,n,r,i,s){const o=new Tf(n,r,i);o.getBuffer("aVertexPosition").static=!1;const a=new fc(e);super(o,a,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class xke extends pl{constructor(e,n,r=0){const i=new vN(e.height,n,r),s=new fc(e);r>0&&(e.baseTexture.wrapMode=Is.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),super._render(e)}}class wke extends er{constructor(e=1500,n,r=16384,i=!1){super();const s=16384;r>s&&(r=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=r,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=Me.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(n),this._tint=0,this.tintRgb=new Float32Array(4),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tint}set tint(e){this._tint=e,hl(e,this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const n=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class M3{constructor(e,n,r){this.geometry=new fo,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||ke.FLOAT,offset:s.offset},n[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let n=0;this.indexBuffer=new tn(KL(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=n,n+=a.size,this.dynamicStride+=a.size}const r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new tn(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new tn(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===ke.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===ke.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,n,r){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,n,r,s.type===ke.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,n,r){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,n,r,s.type===ke.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var _ke=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,Ske=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class fC extends _f{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Nt,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:ke.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=ts.from(Ske,_ke,{}),this.state=Ds.for2d()}render(e){const n=e.children,r=e._maxSize,i=e._batchSize,s=this.renderer;let o=n.length;if(o===0)return;o>r&&!e.autoResize&&(o=r);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const l=n[0]._texture.baseTexture,c=l.alphaMode>0;this.state.blendMode=C2(e.blendMode,c),s.state.set(this.state);const h=s.gl,f=e.worldTransform.copyTo(this.tempMatrix);f.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=f.toArray(!0),this.shader.uniforms.uColor=XL(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,c),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);let p=!1;for(let m=0,v=0;m<o;m+=i,v+=1){let y=o-m;y>i&&(y=i),v>=a.length&&a.push(this._generateOneMoreBuffer(e));const x=a[v];x.uploadDynamic(n,m,y);const b=e._bufferUpdateIDs[v]||0;p=p||x._updateID<b,p&&(x._updateID=e._updateID,x.uploadStatic(n,m,y)),s.geometry.bind(x.geometry),h.drawElements(h.TRIANGLES,y*6,h.UNSIGNED_SHORT,0)}}generateBuffers(e){const n=[],r=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<r;o+=i)n.push(new M3(this.properties,s,i));return n}_generateOneMoreBuffer(e){const n=e._batchSize,r=e._properties;return new M3(this.properties,r,n)}uploadVertices(e,n,r,i,s,o){let a=0,l=0,c=0,h=0;for(let f=0;f<r;++f){const p=e[n+f],m=p._texture,v=p.scale.x,y=p.scale.y,x=m.trim,b=m.orig;x?(l=x.x-p.anchor.x*b.width,a=l+x.width,h=x.y-p.anchor.y*b.height,c=h+x.height):(a=b.width*(1-p.anchor.x),l=b.width*-p.anchor.x,c=b.height*(1-p.anchor.y),h=b.height*-p.anchor.y),i[o]=l*v,i[o+1]=h*y,i[o+s]=a*v,i[o+s+1]=h*y,i[o+s*2]=a*v,i[o+s*2+1]=c*y,i[o+s*3]=l*v,i[o+s*3+1]=c*y,o+=s*4}}uploadPosition(e,n,r,i,s,o){for(let a=0;a<r;a++){const l=e[n+a].position;i[o]=l.x,i[o+1]=l.y,i[o+s]=l.x,i[o+s+1]=l.y,i[o+s*2]=l.x,i[o+s*2+1]=l.y,i[o+s*3]=l.x,i[o+s*3+1]=l.y,o+=s*4}}uploadRotation(e,n,r,i,s,o){for(let a=0;a<r;a++){const l=e[n+a].rotation;i[o]=l,i[o+s]=l,i[o+s*2]=l,i[o+s*3]=l,o+=s*4}}uploadUvs(e,n,r,i,s,o){for(let a=0;a<r;++a){const l=e[n+a]._texture._uvs;l?(i[o]=l.x0,i[o+1]=l.y0,i[o+s]=l.x1,i[o+s+1]=l.y1,i[o+s*2]=l.x2,i[o+s*2+1]=l.y2,i[o+s*3]=l.x3,i[o+s*3+1]=l.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,n,r,i,s,o){for(let a=0;a<r;++a){const l=e[n+a],c=l._texture.baseTexture.alphaMode>0,h=l.alpha,f=h<1&&c?_0(l._tintRGB,h):l._tintRGB+(h*255<<24);i[o]=f,i[o+s]=f,i[o+s*2]=f,i[o+s*3]=f,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}fC.extension={name:"particle",type:be.RendererPlugin};Pe.add(fC);var Af=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Af||{});const dm={willReadFrequently:!0},Te=class{static get experimentalLetterSpacingSupported(){let t=Te._experimentalLetterSpacingSupported;if(t!==void 0){const e=we.ADAPTER.getCanvasRenderingContext2D().prototype;t=Te._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,n,r,i,s,o,a,l){this.text=t,this.style=e,this.width=n,this.height=r,this.lines=i,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=l}static measureText(t,e,n,r=Te._canvas){n=n??e.wordWrap;const i=e.toFontString(),s=Te.measureFont(i);s.fontSize===0&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);const o=r.getContext("2d",dm);o.font=i;const l=(n?Te.wordWrap(t,e,r):t).split(/(?:\r\n|\r|\n)/),c=new Array(l.length);let h=0;for(let v=0;v<l.length;v++){const y=Te._measureText(l[v],e.letterSpacing,o);c[v]=y,h=Math.max(h,y)}let f=h+e.strokeThickness;e.dropShadow&&(f+=e.dropShadowDistance);const p=e.lineHeight||s.fontSize+e.strokeThickness;let m=Math.max(p,s.fontSize+e.strokeThickness*2)+(l.length-1)*(p+e.leading);return e.dropShadow&&(m+=e.dropShadowDistance),new Te(t,e,f,m,l,c,p+e.leading,h,s)}static _measureText(t,e,n){let r=!1;Te.experimentalLetterSpacingSupported&&(Te.experimentalLetterSpacing?(n.letterSpacing=`${e}px`,n.textLetterSpacing=`${e}px`,r=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let i=n.measureText(t).width;return i>0&&(r?i-=e:i+=(Te.graphemeSegmenter(t).length-1)*e),i}static wordWrap(t,e,n=Te._canvas){const r=n.getContext("2d",dm);let i=0,s="",o="";const a=Object.create(null),{letterSpacing:l,whiteSpace:c}=e,h=Te.collapseSpaces(c),f=Te.collapseNewlines(c);let p=!h;const m=e.wordWrapWidth+l,v=Te.tokenize(t);for(let y=0;y<v.length;y++){let x=v[y];if(Te.isNewline(x)){if(!f){o+=Te.addLine(s),p=!h,s="",i=0;continue}x=" "}if(h){const _=Te.isBreakingSpace(x),w=Te.isBreakingSpace(s[s.length-1]);if(_&&w)continue}const b=Te.getFromCache(x,l,a,r);if(b>m)if(s!==""&&(o+=Te.addLine(s),s="",i=0),Te.canBreakWords(x,e.breakWords)){const _=Te.wordWrapSplit(x);for(let w=0;w<_.length;w++){let E=_[w],O=E,A=1;for(;_[w+A];){const L=_[w+A];if(!Te.canBreakChars(O,L,x,w,e.breakWords))E+=L;else break;O=L,A++}w+=A-1;const F=Te.getFromCache(E,l,a,r);F+i>m&&(o+=Te.addLine(s),p=!1,s="",i=0),s+=E,i+=F}}else{s.length>0&&(o+=Te.addLine(s),s="",i=0);const _=y===v.length-1;o+=Te.addLine(x,!_),p=!1,s="",i=0}else b+i>m&&(p=!1,o+=Te.addLine(s),s="",i=0),(s.length>0||!Te.isBreakingSpace(x)||p)&&(s+=x,i+=b)}return o+=Te.addLine(s,!1),o}static addLine(t,e=!0){return t=Te.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,n,r){let i=n[t];return typeof i!="number"&&(i=Te._measureText(t,e,r)+e,n[t]=i),i}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const n=t[e];if(!Te.isBreakingSpace(n))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:Te._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:Te._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let n="";if(typeof t!="string")return e;for(let r=0;r<t.length;r++){const i=t[r],s=t[r+1];if(Te.isBreakingSpace(i,s)||Te.isNewline(i)){n!==""&&(e.push(n),n=""),e.push(i);continue}n+=i}return n!==""&&e.push(n),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,n,r,i){return!0}static wordWrapSplit(t){return Te.graphemeSegmenter(t)}static measureFont(t){if(Te._fonts[t])return Te._fonts[t];const e={ascent:0,descent:0,fontSize:0},n=Te._canvas,r=Te._context;r.font=t;const i=Te.METRICS_STRING+Te.BASELINE_SYMBOL,s=Math.ceil(r.measureText(i).width);let o=Math.ceil(r.measureText(Te.BASELINE_SYMBOL).width);const a=Math.ceil(Te.HEIGHT_MULTIPLIER*o);if(o=o*Te.BASELINE_MULTIPLIER|0,s===0||a===0)return Te._fonts[t]=e,e;n.width=s,n.height=a,r.fillStyle="#f00",r.fillRect(0,0,s,a),r.font=t,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(i,0,o);const l=r.getImageData(0,0,s,a).data,c=l.length,h=s*4;let f=0,p=0,m=!1;for(f=0;f<o;++f){for(let v=0;v<h;v+=4)if(l[p+v]!==255){m=!0;break}if(!m)p+=h;else break}for(e.ascent=o-f,p=c-h,m=!1,f=a;f>o;--f){for(let v=0;v<h;v+=4)if(l[p+v]!==255){m=!0;break}if(!m)p-=h;else break}return e.descent=f-o,e.fontSize=e.ascent+e.descent,Te._fonts[t]=e,e}static clearMetrics(t=""){t?delete Te._fonts[t]:Te._fonts={}}static get _canvas(){if(!Te.__canvas){let t;try{const e=new OffscreenCanvas(0,0),n=e.getContext("2d",dm);if(n!=null&&n.measureText)return Te.__canvas=e,e;t=we.ADAPTER.createCanvas()}catch{t=we.ADAPTER.createCanvas()}t.width=t.height=10,Te.__canvas=t}return Te.__canvas}static get _context(){return Te.__context||(Te.__context=Te._canvas.getContext("2d",dm)),Te.__context}};let wn=Te;wn.METRICS_STRING="|q";wn.BASELINE_SYMBOL="M";wn.BASELINE_MULTIPLIER=1.4;wn.HEIGHT_MULTIPLIER=2;wn.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(n=>n.segment)}return t=>[...t]})();wn.experimentalLetterSpacing=!1;wn._fonts={};wn._newlines=[10,13];wn._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const Eke=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Lh=class{constructor(t){this.styleID=0,this.reset(),Cb(this,t,t)}clone(){const t={};return Cb(t,this,Lh.defaultStyle),new Lh(t)}reset(){Cb(this,Lh.defaultStyle,Lh.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=Eb(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=Eb(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){Cke(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=Eb(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let n=e.length-1;n>=0;n--){let r=e[n].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&!Eke.includes(r)&&(r=`"${r}"`),e[n]=r}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};let oa=Lh;oa.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Af.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};function F3(t){return typeof t=="number"?S2(t):(typeof t=="string"&&t.startsWith("0x")&&(t=t.replace("0x","#")),t)}function Eb(t){if(Array.isArray(t)){for(let e=0;e<t.length;++e)t[e]=F3(t[e]);return t}else return F3(t)}function Cke(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}function Cb(t,e,n){for(const r in n)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}const Tke={texture:!0,children:!1,baseTexture:!0},y_=class extends ga{constructor(t,e,n){let r=!1;n||(n=we.ADAPTER.createCanvas(),r=!0),n.width=3,n.height=3;const i=xe.from(n);i.orig=new qe,i.trim=new qe,super(i),this._ownCanvas=r,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=y_.defaultResolution??we.RESOLUTION,this._autoResolution=y_.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return wn.experimentalLetterSpacing}static set experimentalLetterSpacing(t){at("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),wn.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const n=this.context,r=wn.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=r.width,s=r.height,o=r.lines,a=r.lineHeight,l=r.lineWidths,c=r.maxLineWidth,h=r.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,i)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+e.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;let f,p;const m=e.dropShadow?2:1;for(let v=0;v<m;++v){const y=e.dropShadow&&v===0,x=y?Math.ceil(Math.max(1,s)+e.padding*2):0,b=x*this._resolution;if(y){n.fillStyle="black",n.strokeStyle="black";const w=e.dropShadowColor,E=hl(typeof w=="number"?w:w0(w)),O=e.dropShadowBlur*this._resolution,A=e.dropShadowDistance*this._resolution;n.shadowColor=`rgba(${E[0]*255},${E[1]*255},${E[2]*255},${e.dropShadowAlpha})`,n.shadowBlur=O,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*A,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*A+b}else n.fillStyle=this._generateFillStyle(e,o,r),n.strokeStyle=e.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let _=(a-h.fontSize)/2;a-h.fontSize<0&&(_=0);for(let w=0;w<o.length;w++)f=e.strokeThickness/2,p=e.strokeThickness/2+w*a+h.ascent+_,e.align==="right"?f+=c-l[w]:e.align==="center"&&(f+=(c-l[w])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(o[w],f+e.padding,p+e.padding-x,!0),e.fill&&this.drawLetterSpacing(o[w],f+e.padding,p+e.padding-x)}this.updateTexture()}drawLetterSpacing(t,e,n,r=!1){const s=this._style.letterSpacing;let o=!1;if(wn.experimentalLetterSpacingSupported&&(wn.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){r?this.context.strokeText(t,e,n):this.context.fillText(t,e,n);return}let a=e;const l=wn.graphemeSegmenter(t);let c=this.context.measureText(t).width,h=0;for(let f=0;f<l.length;++f){const p=l[f];r?this.context.strokeText(p,a,n):this.context.fillText(p,a,n);let m="";for(let v=f+1;v<l.length;++v)m+=l[v];h=this.context.measureText(m).width,a+=c-h+s,c=h}}updateTexture(){const t=this.canvas;if(this._style.trim){const s=JL(t);s.data&&(t.width=s.width,t.height=s.height,this.context.putImageData(s.data,0,0))}const e=this._texture,n=this._style,r=n.trim?0:n.padding,i=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-r,e.trim.y=-r,e.orig.width=e._frame.width-r*2,e.orig.height=e._frame.height-r*2,this._onTextureUpdate(),i.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,n){const r=t.fill;if(Array.isArray(r)){if(r.length===1)return r[0]}else return r;let i;const s=t.dropShadow?t.dropShadowDistance:0,o=t.padding||0,a=this.canvas.width/this._resolution-s-o*2,l=this.canvas.height/this._resolution-s-o*2,c=r.slice(),h=t.fillGradientStops.slice();if(!h.length){const f=c.length+1;for(let p=1;p<f;++p)h.push(p/f)}if(c.unshift(r[0]),h.unshift(0),c.push(r[r.length-1]),h.push(1),t.fillGradientType===Af.LINEAR_VERTICAL){i=this.context.createLinearGradient(a/2,o,a/2,l+o);const f=n.fontProperties.fontSize+t.strokeThickness;for(let p=0;p<e.length;p++){const m=n.lineHeight*(p-1)+f,v=n.lineHeight*p;let y=v;p>0&&m>v&&(y=(v+m)/2);const x=v+f,b=n.lineHeight*(p+1);let _=x;p+1<e.length&&b<x&&(_=(x+b)/2);const w=(_-y)/l;for(let E=0;E<c.length;E++){let O=0;typeof h[E]=="number"?O=h[E]:O=E/c.length;let A=Math.min(1,Math.max(0,y/l+O*w));A=Number(A.toFixed(5)),i.addColorStop(A,c[E])}}}else{i=this.context.createLinearGradient(o,l/2,a+o,l/2);const f=c.length+1;let p=1;for(let m=0;m<c.length;m++){let v;typeof h[m]=="number"?v=h[m]:v=p/f,i.addColorStop(v,c[m]),p++}}return i}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},Tke,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=ja(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=ja(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof oa?this._style=t:this._style=new oa(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};let pc=y_;pc.defaultAutoResolution=!0;class bN{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function Ake(t,e){var r;let n=!1;if((r=t==null?void 0:t._textures)!=null&&r.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof xe){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),n=!0)}}return n}function Pke(t,e){if(t.baseTexture instanceof He){const n=t.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function kke(t,e){if(t._texture&&t._texture instanceof xe){const n=t._texture.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function Oke(t,e){return e instanceof pc?(e.updateText(!0),!0):!1}function Ike(t,e){if(e instanceof oa){const n=e.toFontString();return wn.measureFont(n),!0}return!1}function Rke(t,e){if(t instanceof pc){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const n=t._texture.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function Mke(t,e){return t instanceof oa?(e.includes(t)||e.push(t),!0):!1}const xN=class{constructor(t){this.limiter=new bN(xN.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(Rke),this.registerFindHook(Mke),this.registerFindHook(Ake),this.registerFindHook(Pke),this.registerFindHook(kke),this.registerUploadHook(Oke),this.registerUploadHook(Ike)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,dn.system.addOnce(this.tick,this,ia.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed){for(let n=0,r=this.uploadHooks.length;n<r;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)dn.system.addOnce(this.tick,this,ia.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,n=t.length;e<n;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,n=this.addHooks.length;e<n&&!this.addHooks[e](t,this.queue);e++);if(t instanceof er)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&dn.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let jd=xN;jd.uploadsPerFrame=4;Object.defineProperties(we,{UPLOADS_PER_FRAME:{get(){return jd.uploadsPerFrame},set(t){at("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),jd.uploadsPerFrame=t}}});function wN(t,e){return e instanceof He?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function Fke(t,e){if(!(e instanceof fl))return!1;const{geometry:n}=e;e.finishPoly(),n.updateBatches();const{batches:r}=n;for(let i=0;i<r.length;i++){const{texture:s}=r[i].style;s&&wN(t,s.baseTexture)}return n.batchable||t.geometry.bind(n,e._resolveDirectShader(t)),!0}function Dke(t,e){return t instanceof fl?(e.push(t),!0):!1}class pC extends jd{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(Dke),this.registerUploadHook(wN),this.registerUploadHook(Fke)}}pC.extension={name:"prepare",type:be.RendererSystem};Pe.add(pC);class Lke{constructor(e){this.maxMilliseconds=e,this.frameStart=0}beginFrame(){this.frameStart=Date.now()}allowedToUpload(){return Date.now()-this.frameStart<this.maxMilliseconds}}class Qg extends ga{constructor(e,n=!0){super(e[0]instanceof xe?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=n,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(dn.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(dn.shared.add(this.update,this,ia.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const n=this.animationSpeed*e,r=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=n/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const n=[];for(let r=0;r<e.length;++r)n.push(xe.from(e[r]));return new Qg(n)}static fromImages(e){const n=[];for(let r=0;r<e.length;++r)n.push(xe.from(e[r]));return new Qg(n)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof xe)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let n=0;n<e.length;n++)this._textures.push(e[n].texture),this._durations.push(e[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const n=this.currentFrame;this._currentTime=e,n!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(dn.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(dn.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const xh=new Oe;class mC extends ga{constructor(e,n=100,r=100){super(e),this.tileTransform=new wf,this._width=n,this._height=r,this.uvMatrix=this.texture.uvMatrix||new C0(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,n=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,n,r,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new qe),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,xh);const n=this._width,r=this._height,i=-n*this.anchor._x;if(xh.x>=i&&xh.x<i+n){const s=-r*this.anchor._y;if(xh.y>=s&&xh.y<s+r)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,n){const r=e instanceof xe?e:xe.from(e,n);return new mC(r,n.width,n.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var Bke=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,Nke=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,$ke=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,D3=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Uke=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const fm=new Nt;class gC extends _f{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new L2,this.state=Ds.for2d()}contextChange(){const e=this.renderer,n={globals:e.globalUniforms};this.simpleShader=ts.from(D3,Uke,n),this.shader=e.context.webGLVersion>1?ts.from(Nke,Bke,n):ts.from(D3,$ke,n)}render(e){const n=this.renderer,r=this.quad;let i=r.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=r.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,r.invalidate();const a=e._texture,l=a.baseTexture,c=l.alphaMode>0,h=e.tileTransform.localTransform,f=e.uvMatrix;let p=l.isPowerOfTwo&&a.frame.width===l.width&&a.frame.height===l.height;p&&(l._glTextures[n.CONTEXT_UID]?p=l.wrapMode!==Is.CLAMP:l.wrapMode===Is.CLAMP&&(l.wrapMode=Is.REPEAT));const m=p?this.simpleShader:this.shader,v=a.width,y=a.height,x=e._width,b=e._height;fm.set(h.a*v/x,h.b*v/b,h.c*y/x,h.d*y/b,h.tx/x,h.ty/b),fm.invert(),p?fm.prepend(f.mapCoord):(m.uniforms.uMapCoord=f.mapCoord.toArray(!0),m.uniforms.uClampFrame=f.uClampFrame,m.uniforms.uClampOffset=f.uClampOffset),m.uniforms.uTransform=fm.toArray(!0),m.uniforms.uColor=T2(e.tint,e.worldAlpha,m.uniforms.uColor,c),m.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),m.uniforms.uSampler=a,n.shader.bind(m),n.geometry.bind(r),this.state.blendMode=C2(e.blendMode,c),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}gC.extension={name:"tilingSprite",type:be.RendererPlugin};Pe.add(gC);const Bh=class{constructor(t,e,n=null){this.linkedSheets=[],this._texture=t instanceof xe?t:null,this.baseTexture=t instanceof He?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const r=this.baseTexture.resource;this.resolution=this._updateResolution(n||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let n=ho(t,null);return n===null&&(n=parseFloat(e??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=Bh.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const n=Bh.BATCH_SIZE;for(;e-t<n&&e<this._frameKeys.length;){const r=this._frameKeys[e],i=this._frames[r],s=i.frame;if(s){let o=null,a=null;const l=i.trimmed!==!1&&i.sourceSize?i.sourceSize:i.frame,c=new qe(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);i.rotated?o=new qe(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):o=new qe(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),i.trimmed!==!1&&i.spriteSourceSize&&(a=new qe(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[r]=new xe(this.baseTexture,o,c,a,i.rotated?2:0,i.anchor),xe.addToCache(this.textures[r],r)}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let n=0;n<t[e].length;n++){const r=t[e][n];this.animations[e].push(this.textures[r])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Bh.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Bh.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var e;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)==null||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let Jg=Bh;Jg.BATCH_SIZE=1e3;const zke=["jpg","png","jpeg","avif","webp"];function _N(t,e,n){const r={};if(t.forEach(i=>{r[i]=e}),Object.keys(e.textures).forEach(i=>{r[i]=e.textures[i]}),!n){const i=Cn.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const a=_N([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(r,a)})}return r}const SN={extension:be.Asset,cache:{test:t=>t instanceof Jg,getCacheableAssets:(t,e)=>_N(t,e,!1)},resolver:{test:t=>{const n=t.split("?")[0].split("."),r=n.pop(),i=n.pop();return r==="json"&&zke.includes(i)},parse:t=>{var n;const e=t.split(".");return{resolution:parseFloat(((n=we.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:e[e.length-2],src:t}}},loader:{extension:{type:be.LoadParser,priority:cs.Normal},async testParse(t,e){return Cn.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,n){var c,h;let r=Cn.dirname(e.src);r&&r.lastIndexOf("/")!==r.length-1&&(r+="/");let i=r+t.meta.image;i=Zg(i,e.src);const o=(await n.load([i]))[i],a=new Jg(o.baseTexture,t,e.src);await a.parse();const l=(c=t==null?void 0:t.meta)==null?void 0:c.related_multi_packs;if(Array.isArray(l)){const f=[];for(const m of l){if(typeof m!="string")continue;let v=r+m;(h=e.data)!=null&&h.ignoreMultiPack||(v=Zg(v,e.src),f.push(n.load({src:v,data:{ignoreMultiPack:!0}})))}const p=await Promise.all(f);a.linkedSheets=p,p.forEach(m=>{m.linkedSheets=[a].concat(a.linkedSheets.filter(v=>v!==m))})}return a},unload(t){t.destroy(!0)}}};Pe.add(SN);class Wd{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Zh{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const n=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in n){const o=n[s].match(/^[a-z]+/gm)[0],a=n[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),l={};for(const c in a){const h=a[c].split("="),f=h[0],p=h[1].replace(/"/gm,""),m=parseFloat(p),v=isNaN(m)?p:m;l[f]=v}r[o].push(l)}const i=new Wd;return r.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),r.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),r.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),r.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),r.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),r.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class ev{static test(e){const n=e;return"getElementsByTagName"in n&&n.getElementsByTagName("page").length&&n.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const n=new Wd,r=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField");for(let c=0;c<r.length;c++)n.info.push({face:r[c].getAttribute("face"),size:parseInt(r[c].getAttribute("size"),10)});for(let c=0;c<i.length;c++)n.common.push({lineHeight:parseInt(i[c].getAttribute("lineHeight"),10)});for(let c=0;c<s.length;c++)n.page.push({id:parseInt(s[c].getAttribute("id"),10)||0,file:s[c].getAttribute("file")});for(let c=0;c<o.length;c++){const h=o[c];n.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(let c=0;c<a.length;c++)n.kerning.push({first:parseInt(a[c].getAttribute("first"),10),second:parseInt(a[c].getAttribute("second"),10),amount:parseInt(a[c].getAttribute("amount"),10)});for(let c=0;c<l.length;c++)n.distanceField.push({fieldType:l[c].getAttribute("fieldType"),distanceRange:parseInt(l[c].getAttribute("distanceRange"),10)});return n}}class tv{static test(e){return typeof e=="string"&&e.includes("<font>")?ev.test(we.ADAPTER.parseXML(e)):!1}static parse(e){return ev.parse(we.ADAPTER.parseXML(e))}}const Tb=[Zh,ev,tv];function EN(t){for(let e=0;e<Tb.length;e++)if(Tb[e].test(t))return Tb[e];return null}function Hke(t,e,n,r,i,s){const o=n.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const l=n.dropShadow?n.dropShadowDistance:0,c=n.padding||0,h=t.width/r-l-c*2,f=t.height/r-l-c*2,p=o.slice(),m=n.fillGradientStops.slice();if(!m.length){const v=p.length+1;for(let y=1;y<v;++y)m.push(y/v)}if(p.unshift(o[0]),m.unshift(0),p.push(o[o.length-1]),m.push(1),n.fillGradientType===Af.LINEAR_VERTICAL){a=e.createLinearGradient(h/2,c,h/2,f+c);let v=0;const x=(s.fontProperties.fontSize+n.strokeThickness)/f;for(let b=0;b<i.length;b++){const _=s.lineHeight*b;for(let w=0;w<p.length;w++){let E=0;typeof m[w]=="number"?E=m[w]:E=w/p.length;const O=_/f+E*x;let A=Math.max(v,O);A=Math.min(A,1),a.addColorStop(A,p[w]),v=A}}}else{a=e.createLinearGradient(c,f/2,h+c,f/2);const v=p.length+1;let y=1;for(let x=0;x<p.length;x++){let b;typeof m[x]=="number"?b=m[x]:b=y/v,a.addColorStop(b,p[x]),y++}}return a}function jke(t,e,n,r,i,s,o){const a=n.text,l=n.fontProperties;e.translate(r,i),e.scale(s,s);const c=o.strokeThickness/2,h=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=Hke(t,e,o,s,[a],n),e.strokeStyle=o.stroke,o.dropShadow){const f=o.dropShadowColor,p=hl(typeof f=="number"?f:w0(f)),m=o.dropShadowBlur*s,v=o.dropShadowDistance*s;e.shadowColor=`rgba(${p[0]*255},${p[1]*255},${p[2]*255},${o.dropShadowAlpha})`,e.shadowBlur=m,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*v,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*v}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,c,h+n.lineHeight-l.descent),o.fill&&e.fillText(a,c,h+n.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Wm(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function CN(t){return Array.from?Array.from(t):t.split("")}function Wke(t){typeof t=="string"&&(t=[t]);const e=[];for(let n=0,r=t.length;n<r;n++){const i=t[n];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,l=o;a<=l;a++)e.push(String.fromCharCode(a))}else e.push(...CN(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const zi=class{constructor(t,e,n){var c;const[r]=t.info,[i]=t.common,[s]=t.page,[o]=t.distanceField,a=ho(s.file),l={};this._ownsTextures=n,this.font=r.face,this.size=r.size,this.lineHeight=i.lineHeight/a,this.chars={},this.pageTextures=l;for(let h=0;h<t.page.length;h++){const{id:f,file:p}=t.page[h];l[f]=e instanceof Array?e[h]:e[p],o!=null&&o.fieldType&&o.fieldType!=="none"&&(l[f].baseTexture.alphaMode=Ai.NO_PREMULTIPLIED_ALPHA,l[f].baseTexture.mipmap=ss.OFF)}for(let h=0;h<t.char.length;h++){const{id:f,page:p}=t.char[h];let{x:m,y:v,width:y,height:x,xoffset:b,yoffset:_,xadvance:w}=t.char[h];m/=a,v/=a,y/=a,x/=a,b/=a,_/=a,w/=a;const E=new qe(m+l[p].frame.x/a,v+l[p].frame.y/a,y,x);this.chars[f]={xOffset:b,yOffset:_,xAdvance:w,kerning:{},texture:new xe(l[p].baseTexture,E),page:p}}for(let h=0;h<t.kerning.length;h++){let{first:f,second:p,amount:m}=t.kerning[h];f/=a,p/=a,m/=a,this.chars[p]&&(this.chars[p].kerning[f]=m)}this.distanceFieldRange=o==null?void 0:o.distanceRange,this.distanceFieldType=((c=o==null?void 0:o.fieldType)==null?void 0:c.toLowerCase())??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,n){let r;if(t instanceof Wd)r=t;else{const s=EN(t);if(!s)throw new Error("Unrecognized data format for font.");r=s.parse(t)}e instanceof xe&&(e=[e]);const i=new zi(r,e,n);return zi.available[i.font]=i,i}static uninstall(t){const e=zi.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete zi.available[t]}static from(t,e,n){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:r,padding:i,resolution:s,textureWidth:o,textureHeight:a,...l}=Object.assign({},zi.defaultOptions,n),c=Wke(r),h=e instanceof oa?e:new oa(e),f=o,p=new Wd;p.info[0]={face:h.fontFamily,size:h.fontSize},p.common[0]={lineHeight:h.fontSize};let m=0,v=0,y,x,b,_=0;const w=[];for(let O=0;O<c.length;O++){y||(y=we.ADAPTER.createCanvas(),y.width=o,y.height=a,x=y.getContext("2d"),b=new He(y,{resolution:s,...l}),w.push(new xe(b)),p.page.push({id:w.length-1,file:""}));const A=c[O],F=wn.measureText(A,h,!1,y),L=F.width,H=Math.ceil(F.height),j=Math.ceil((h.fontStyle==="italic"?2:1)*L);if(v>=a-H*s){if(v===0)throw new Error(`[BitmapFont] textureHeight ${a}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${A}')`);--O,y=null,x=null,b=null,v=0,m=0,_=0;continue}if(_=Math.max(H+F.fontProperties.descent,_),j*s+m>=f){if(m===0)throw new Error(`[BitmapFont] textureWidth ${o}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${A}')`);--O,v+=_*s,v=Math.ceil(v),m=0,_=0;continue}jke(y,x,F,m,v,s,h);const z=Wm(F.text);p.char.push({id:z,page:w.length-1,x:m/s,y:v/s,width:j,height:H,xoffset:0,yoffset:0,xadvance:L-(h.dropShadow?h.dropShadowDistance:0)-(h.stroke?h.strokeThickness:0)}),m+=(j+2*i)*s,m=Math.ceil(m)}for(let O=0,A=c.length;O<A;O++){const F=c[O];for(let L=0;L<A;L++){const H=c[L],j=x.measureText(F).width,z=x.measureText(H).width,q=x.measureText(F+H).width-(j+z);q&&p.kerning.push({first:Wm(F),second:Wm(H),amount:q})}}const E=new zi(p,w,!0);return zi.available[t]!==void 0&&zi.uninstall(t),zi.available[t]=E,E}};let Kn=zi;Kn.ALPHA=[["a","z"],["A","Z"]," "];Kn.NUMERIC=[["0","9"]];Kn.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];Kn.ASCII=[[" ","~"]];Kn.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:zi.ALPHANUMERIC};Kn.available={};var Gke=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,Vke=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const L3=[],B3=[],N3=[],TN=class extends er{constructor(t,e={}){super(),this._tint=16777215;const{align:n,tint:r,maxWidth:i,letterSpacing:s,fontName:o,fontSize:a}=Object.assign({},TN.styleDefaults,e);if(!Kn.available[o])throw new Error(`Missing BitmapFont "${o}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tint=r,this._font=void 0,this._fontName=o,this._fontSize=a,this.text=t,this._maxWidth=i,this._maxLineHeight=0,this._letterSpacing=s,this._anchor=new no(()=>{this.dirty=!0},this,0,0),this._roundPixels=we.ROUND_PIXELS,this.dirty=!0,this._resolution=we.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var j;const t=Kn.available[this._fontName],e=this.fontSize,n=e/t.size,r=new Oe,i=[],s=[],o=[],a=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",l=CN(a),c=this._maxWidth*t.size/e,h=t.distanceFieldType==="none"?L3:B3;let f=null,p=0,m=0,v=0,y=-1,x=0,b=0,_=0,w=0;for(let z=0;z<l.length;z++){const W=l[z],q=Wm(W);if(/(?:\s)/.test(W)&&(y=z,x=p,w++),W==="\r"||W===`
`){s.push(p),o.push(-1),m=Math.max(m,p),++v,++b,r.x=0,r.y+=t.lineHeight,f=null,w=0;continue}const Y=t.chars[q];if(!Y)continue;f&&Y.kerning[f]&&(r.x+=Y.kerning[f]);const de=N3.pop()||{texture:xe.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Oe};de.texture=Y.texture,de.line=v,de.charCode=q,de.position.x=Math.round(r.x+Y.xOffset+this._letterSpacing/2),de.position.y=Math.round(r.y+Y.yOffset),de.prevSpaces=w,i.push(de),p=de.position.x+Math.max(Y.xAdvance-Y.xOffset,Y.texture.orig.width),r.x+=Y.xAdvance+this._letterSpacing,_=Math.max(_,Y.yOffset+Y.texture.height),f=q,y!==-1&&c>0&&r.x>c&&(++b,Qa(i,1+y-b,1+z-y),z=y,y=-1,s.push(x),o.push(i.length>0?i[i.length-1].prevSpaces:0),m=Math.max(m,x),v++,r.x=0,r.y+=t.lineHeight,f=null,w=0)}const E=l[l.length-1];E!=="\r"&&E!==`
`&&(/(?:\s)/.test(E)&&(p=x),s.push(p),m=Math.max(m,p),o.push(-1));const O=[];for(let z=0;z<=v;z++){let W=0;this._align==="right"?W=m-s[z]:this._align==="center"?W=(m-s[z])/2:this._align==="justify"&&(W=o[z]<0?0:(m-s[z])/o[z]),O.push(W)}const A=i.length,F={},L=[],H=this._activePagesMeshData;h.push(...H);for(let z=0;z<A;z++){const W=i[z].texture,q=W.baseTexture.uid;if(!F[q]){let Y=h.pop();if(!Y){const ce=new Tf;let te,Z;t.distanceFieldType==="none"?(te=new fc(xe.EMPTY),Z=Me.NORMAL):(te=new fc(xe.EMPTY,{program:mi.from(Vke,Gke),uniforms:{uFWidth:0}}),Z=Me.NORMAL_NPM);const le=new pl(ce,te);le.blendMode=Z,Y={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:le,vertices:null,uvs:null,indices:null}}Y.index=0,Y.indexCount=0,Y.vertexCount=0,Y.uvsCount=0,Y.total=0;const{_textureCache:de}=this;de[q]=de[q]||new xe(W.baseTexture),Y.mesh.texture=de[q],Y.mesh.tint=this._tint,L.push(Y),F[q]=Y}F[q].total++}for(let z=0;z<H.length;z++)L.includes(H[z])||this.removeChild(H[z].mesh);for(let z=0;z<L.length;z++)L[z].mesh.parent!==this&&this.addChild(L[z].mesh);this._activePagesMeshData=L;for(const z in F){const W=F[z],q=W.total;if(!(((j=W.indices)==null?void 0:j.length)>6*q)||W.vertices.length<pl.BATCHABLE_SIZE*2)W.vertices=new Float32Array(4*2*q),W.uvs=new Float32Array(4*2*q),W.indices=new Uint16Array(6*q);else{const Y=W.total,de=W.vertices;for(let ce=Y*4*2;ce<de.length;ce++)de[ce]=0}W.mesh.size=6*q}for(let z=0;z<A;z++){const W=i[z];let q=W.position.x+O[W.line]*(this._align==="justify"?W.prevSpaces:1);this._roundPixels&&(q=Math.round(q));const Y=q*n,de=W.position.y*n,ce=W.texture,te=F[ce.baseTexture.uid],Z=ce.frame,le=ce._uvs,G=te.index++;te.indices[G*6+0]=0+G*4,te.indices[G*6+1]=1+G*4,te.indices[G*6+2]=2+G*4,te.indices[G*6+3]=0+G*4,te.indices[G*6+4]=2+G*4,te.indices[G*6+5]=3+G*4,te.vertices[G*8+0]=Y,te.vertices[G*8+1]=de,te.vertices[G*8+2]=Y+Z.width*n,te.vertices[G*8+3]=de,te.vertices[G*8+4]=Y+Z.width*n,te.vertices[G*8+5]=de+Z.height*n,te.vertices[G*8+6]=Y,te.vertices[G*8+7]=de+Z.height*n,te.uvs[G*8+0]=le.x0,te.uvs[G*8+1]=le.y0,te.uvs[G*8+2]=le.x1,te.uvs[G*8+3]=le.y1,te.uvs[G*8+4]=le.x2,te.uvs[G*8+5]=le.y2,te.uvs[G*8+6]=le.x3,te.uvs[G*8+7]=le.y3}this._textWidth=m*n,this._textHeight=(r.y+t.lineHeight)*n;for(const z in F){const W=F[z];if(this.anchor.x!==0||this.anchor.y!==0){let ce=0;const te=this._textWidth*this.anchor.x,Z=this._textHeight*this.anchor.y;for(let le=0;le<W.total;le++)W.vertices[ce++]-=te,W.vertices[ce++]-=Z,W.vertices[ce++]-=te,W.vertices[ce++]-=Z,W.vertices[ce++]-=te,W.vertices[ce++]-=Z,W.vertices[ce++]-=te,W.vertices[ce++]-=Z}this._maxLineHeight=_*n;const q=W.mesh.geometry.getBuffer("aVertexPosition"),Y=W.mesh.geometry.getBuffer("aTextureCoord"),de=W.mesh.geometry.getIndex();q.data=W.vertices,Y.data=W.uvs,de.data=W.indices,q.update(),Y.update(),de.update()}for(let z=0;z<i.length;z++)N3.push(i[z]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:n,size:r}=Kn.available[this._fontName];if(n!=="none"){const{a:i,b:s,c:o,d:a}=this.worldTransform,l=Math.sqrt(i*i+s*s),c=Math.sqrt(o*o+a*a),h=(Math.abs(l)+Math.abs(c))/2,f=this.fontSize/r,p=t._view.resolution;for(const m of this._activePagesMeshData)m.mesh.shader.uniforms.uFWidth=h*e*f*p}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=Kn.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tint}set tint(t){if(this._tint!==t){this._tint=t;for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!Kn.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??Kn.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,r=Kn.available[this._fontName].distanceFieldType==="none"?L3:B3;r.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],r.filter(i=>e[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=xe.EMPTY});for(const i in e)e[i].destroy(),delete e[i];this._font=null,this._textureCache=null,super.destroy(t)}};let AN=TN;AN.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const qke=[".xml",".fnt"],PN={extension:{type:be.LoadParser,priority:cs.Normal},test(t){return qke.includes(Cn.extname(t).toLowerCase())},async testParse(t){return Zh.test(t)||tv.test(t)},async parse(t,e,n){const r=Zh.test(t)?Zh.parse(t):tv.parse(t),{src:i}=e,{page:s}=r,o=[];for(let c=0;c<s.length;++c){const h=s[c].file;let f=Cn.join(Cn.dirname(i),h);f=Zg(f,i),o.push(f)}const a=await n.load(o),l=o.map(c=>a[c]);return Kn.install(r,l,!0)},async load(t,e){return(await we.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};Pe.add(PN);const Xke=Object.freeze(Object.defineProperty({__proto__:null,ALPHA_MODES:Ai,AbstractMultiResource:iC,AccessibilityManager:aC,AlphaFilter:MB,AnimatedSprite:Qg,Application:A0,ArrayResource:kB,Assets:Ga,AssetsClass:YB,Attribute:Dd,BLEND_MODES:Me,BUFFER_BITS:Ug,BUFFER_TYPE:Ji,BackgroundSystem:k2,BaseImageResource:po,BasePrepare:jd,BaseRenderTexture:R2,BaseTexture:He,BatchDrawCall:Vg,BatchGeometry:P2,BatchRenderer:hi,BatchShaderGenerator:dB,BatchSystem:O2,BatchTextureArray:qg,BitmapFont:Kn,BitmapFontData:Wd,BitmapText:AN,BlobResource:nN,BlurFilter:FB,BlurFilterPass:Yg,Bounds:Bd,BrowserAdapter:HL,Buffer:tn,BufferResource:Mc,BufferSystem:nC,CLEAR_MODES:Gi,COLOR_MASK_BITS:zL,Cache:gu,CanvasResource:OB,Circle:uc,ColorMatrixFilter:Kg,CompressedTextureResource:Jo,Container:er,ContextSystem:I2,CountLimiter:bN,CubeResource:sC,DEG_TO_RAD:rB,DRAW_MODES:qi,DisplacementFilter:DB,DisplayObject:Wt,ENV:ma,Ellipse:E0,EventBoundary:NB,EventSystem:oC,ExtensionType:be,Extract:cC,FORMATS:ge,FORMATS_TO_COMPONENTS:iN,FXAAFilter:LB,FederatedDisplayObject:$B,FederatedEvent:Fc,FederatedMouseEvent:Nd,FederatedPointerEvent:oi,FederatedWheelEvent:dl,FillStyle:Cf,Filter:Sn,FilterState:pB,FilterSystem:B2,Framebuffer:Xg,FramebufferSystem:N2,GC_MODES:v0,GLFramebuffer:mB,GLProgram:bB,GLTexture:Um,GRAPHICS_CURVES:hke,GenerateTextureSystem:G2,Geometry:fo,GeometrySystem:$2,Graphics:fl,GraphicsData:Hd,GraphicsGeometry:dC,IGLUniformData:$Ae,INSTALLED:Gg,INTERNAL_FORMATS:ur,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:Ud,ImageBitmapResource:Wa,ImageResource:M2,LINE_CAP:jo,LINE_JOIN:ai,LineStyle:O0,LoaderParserPriority:cs,MASK_TYPES:ln,MIPMAP_MODES:ss,MSAA_QUALITY:qt,MaskData:vB,MaskSystem:U2,Matrix:Nt,Mesh:pl,MeshBatchUvs:pN,MeshGeometry:Tf,MeshMaterial:fc,MultisampleSystem:tC,NineSlicePlane:yke,NoiseFilter:BB,ObjectRenderer:_f,ObjectRendererSystem:rC,ObservablePoint:no,PI_2:Ld,PRECISION:Br,ParticleContainer:wke,ParticleRenderer:fC,PlaneGeometry:gN,PluginSystem:j2,Point:Oe,Polygon:Ja,Prepare:pC,Program:mi,ProjectionSystem:W2,Quad:fB,QuadUv:L2,RAD_TO_DEG:nB,RENDERER_TYPE:_2,Rectangle:qe,RenderTexture:mo,RenderTexturePool:D2,RenderTextureSystem:V2,Renderer:El,ResizePlugin:lC,Resource:lc,RopeGeometry:vN,RoundedRectangle:cc,Runner:Wr,SAMPLER_TYPES:zg,SCALE_MODES:As,SHAPES:_n,SVGResource:hc,ScissorSystem:z2,Shader:ts,ShaderSystem:q2,SimpleMesh:bke,SimplePlane:yN,SimpleRope:xke,Sprite:ga,SpriteMaskFilter:gB,Spritesheet:Jg,StartupSystem:X2,State:Ds,StateSystem:Y2,StencilSystem:H2,SystemManager:CB,TARGETS:Za,TEXT_GRADIENT:Af,TYPES:ke,TYPES_TO_BYTES_PER_COMPONENT:f_,TYPES_TO_BYTES_PER_PIXEL:sN,TemporaryDisplayObject:IB,Text:pc,TextFormat:Zh,TextMetrics:wn,TextStyle:oa,Texture:xe,TextureGCSystem:di,TextureMatrix:C0,TextureSystem:K2,TextureUvs:F2,Ticker:dn,TickerPlugin:J2,TilingSprite:mC,TilingSpriteRenderer:gC,TimeLimiter:Lke,Transform:wf,TransformFeedback:nPe,TransformFeedbackSystem:Z2,UPDATE_PRIORITY:ia,UniformGroup:bi,VERSION:rPe,VideoResource:T0,ViewSystem:Q2,ViewableBuffer:Wg,WRAP_MODES:Is,XMLFormat:ev,XMLStringFormat:tv,accessibleTarget:UB,autoDetectFormat:EN,autoDetectRenderer:AB,autoDetectResource:A2,cacheTextureArray:KB,checkDataUrl:uC,checkExtension:Sf,checkMaxIfStatementsInShader:tB,convertToList:Rs,copySearchParams:Zg,createStringVariations:HB,createTexture:Ef,createUBOElements:_B,curves:sa,defaultFilterVertex:eC,defaultVertex:PB,detectAvif:ZB,detectCompressedTextures:tN,detectDefaults:JB,detectWebp:QB,extensions:Pe,filters:c_,generateProgram:xB,generateUniformBufferSync:EB,getFontFamilyName:GB,getTestContext:lB,getUBOData:SB,graphicsUtils:mke,groupD8:zt,isMobile:Xi,isSingleItem:$d,loadBitmapFont:PN,loadDDS:aN,loadImageBitmap:qB,loadJson:jB,loadKTX:lN,loadSVG:XB,loadTextures:dc,loadTxt:WB,loadWebFont:VB,parseDDS:rN,parseKTX:oN,resolveCompressedTextureUrl:uN,resolveTextureUrl:eN,settings:we,spritesheetAsset:SN,uniformParsers:el,unsafeEvalSupported:hB,utils:lAe},Symbol.toStringTag,{value:"Module"})),Yke=hH(Xke);var nv=hr&&hr.__assign||function(){return nv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},nv.apply(this,arguments)},kN=void 0,gs=Yke,Kke={dash:[10,5],width:1,color:16777215,alpha:1,scale:1,useTexture:!1,alignment:.5},Zke=function(){function t(e,n){n===void 0&&(n={}),this.cursor=new gs.Point,this.scale=1,this.graphics=e,n=nv(nv({},Kke),n),this.dash=n.dash,this.dashSize=this.dash.reduce(function(r,i){return r+i}),this.useTexture=n.useTexture,this.options=n,this.setLineStyle()}return t.prototype.setLineStyle=function(){var e=this.options;if(this.useTexture){var n=t.getTexture(e,this.dashSize);this.graphics.lineTextureStyle({width:e.width*e.scale,color:e.color,alpha:e.alpha,texture:n,alignment:e.alignment}),this.activeTexture=n}else this.graphics.lineStyle({width:e.width*e.scale,color:e.color,alpha:e.alpha,cap:e.cap,join:e.join,alignment:e.alignment});this.scale=e.scale},t.distance=function(e,n,r,i){return Math.sqrt(Math.pow(r-e,2)+Math.pow(i-n,2))},t.prototype.moveTo=function(e,n){return this.lineLength=0,this.cursor.set(e,n),this.start=new gs.Point(e,n),this.graphics.moveTo(this.cursor.x,this.cursor.y),this},t.prototype.lineTo=function(e,n,r){typeof this.lineLength===void 0&&this.moveTo(0,0);var i=t.distance(this.cursor.x,this.cursor.y,e,n),s=Math.atan2(n-this.cursor.y,e-this.cursor.x),o=r&&e===this.start.x&&n===this.start.y;if(this.useTexture)if(this.graphics.moveTo(this.cursor.x,this.cursor.y),this.adjustLineStyle(s),o&&this.dash.length%2===0){var a=Math.min(this.dash[this.dash.length-1],i);this.graphics.lineTo(e-Math.cos(s)*a,n-Math.sin(s)*a),this.graphics.closePath()}else this.graphics.lineTo(e,n);else{for(var l=Math.cos(s),c=Math.sin(s),h=this.cursor.x,f=this.cursor.y,p=this.lineLength%(this.dashSize*this.scale),m=0,v=0,y=0,x=0;x<this.dash.length;x++){var b=this.dash[x]*this.scale;if(p<y+b){m=x,v=p-y;break}else y+=b}for(var _=i;_>0;){var b=this.dash[m]*this.scale-v,w=_>b?b:_;if(o){var E=t.distance(h+l*w,f+c*w,this.start.x,this.start.y);if(E<=w){if(m%2===0){var O=t.distance(h,f,this.start.x,this.start.y)-this.dash[this.dash.length-1]*this.scale;h+=l*O,f+=c*O,this.graphics.lineTo(h,f)}break}}h+=l*w,f+=c*w,m%2?this.graphics.moveTo(h,f):this.graphics.lineTo(h,f),_-=w,m++,m=m===this.dash.length?0:m,v=0}}return this.lineLength+=i,this.cursor.set(e,n),this},t.prototype.closePath=function(){this.lineTo(this.start.x,this.start.y,!0)},t.prototype.drawCircle=function(e,n,r,i,s){i===void 0&&(i=80);var o=Math.PI*2/i,a=0,l;s?(l=new gs.Point(e+Math.cos(a)*r,n+Math.sin(a)*r),s.apply(l,l),this.moveTo(l[0],l[1])):(l=new gs.Point(e+Math.cos(a)*r,n+Math.sin(a)*r),this.moveTo(l.x,l.y)),a+=o;for(var c=1;c<i+1;c++){var h=c===i?l:[e+Math.cos(a)*r,n+Math.sin(a)*r];this.lineTo(h[0],h[1]),a+=o}return this},t.prototype.drawEllipse=function(e,n,r,i,s,o){s===void 0&&(s=80);for(var a=Math.PI*2/s,l,c=new gs.Point,h=0;h<Math.PI*2;h+=a){var f=e-r*Math.sin(h),p=n-i*Math.cos(h);o&&(c.set(f,p),o.apply(c,c),f=c.x,p=c.y),h===0?(this.moveTo(f,p),l={x:f,y:p}):this.lineTo(f,p)}return this.lineTo(l.x,l.y,!0),this},t.prototype.drawPolygon=function(e,n){var r=new gs.Point;if(typeof e[0]=="number")if(n){r.set(e[0],e[1]),n.apply(r,r),this.moveTo(r.x,r.y);for(var i=2;i<e.length;i+=2)r.set(e[i],e[i+1]),n.apply(r,r),this.lineTo(r.x,r.y,i===e.length-2)}else{this.moveTo(e[0],e[1]);for(var i=2;i<e.length;i+=2)this.lineTo(e[i],e[i+1],i===e.length-2)}else if(n){var s=e[0];r.copyFrom(s),n.apply(r,r),this.moveTo(r.x,r.y);for(var i=1;i<e.length;i++){var o=e[i];r.copyFrom(o),n.apply(r,r),this.lineTo(r.x,r.y,i===e.length-1)}}else{var s=e[0];this.moveTo(s.x,s.y);for(var i=1;i<e.length;i++){var a=e[i];this.lineTo(a.x,a.y,i===e.length-1)}}return this},t.prototype.drawRect=function(e,n,r,i,s){if(s){var o=new gs.Point;o.set(e,n),s.apply(o,o),this.moveTo(o.x,o.y),o.set(e+r,n),s.apply(o,o),this.lineTo(o.x,o.y),o.set(e+r,n+i),s.apply(o,o),this.lineTo(o.x,o.y),o.set(e,n+i),s.apply(o,o),this.lineTo(o.x,o.y),o.set(e,n),s.apply(o,o),this.lineTo(o.x,o.y,!0)}else this.moveTo(e,n).lineTo(e+r,n).lineTo(e+r,n+i).lineTo(e,n+i).lineTo(e,n,!0);return this},t.prototype.adjustLineStyle=function(e){var n=this.graphics.line;n.matrix=new gs.Matrix,e&&n.matrix.rotate(e),this.scale!==1&&n.matrix.scale(this.scale,this.scale);var r=-this.lineLength;n.matrix.translate(this.cursor.x+r*Math.cos(e),this.cursor.y+r*Math.sin(e)),this.graphics.lineStyle(n)},t.getTexture=function(e,n){var r=e.dash.toString();if(t.dashTextureCache[r])return t.dashTextureCache[r];var i=document.createElement("canvas");i.width=n,i.height=Math.ceil(e.width);var s=i.getContext("2d");if(!s){console.warn("Did not get context from canvas");return}s.strokeStyle="white",s.globalAlpha=e.alpha,s.lineWidth=e.width;var o=0,a=e.width/2;s.moveTo(o,a);for(var l=0;l<e.dash.length;l+=2)o+=e.dash[l],s.lineTo(o,a),e.dash.length!==l+1&&(o+=e.dash[l+1],s.moveTo(o,a));s.stroke();var c=t.dashTextureCache[r]=gs.Texture.from(i);return c.baseTexture.scaleMode=gs.SCALE_MODES.NEAREST,c},t.dashTextureCache={},t}();kN=Zke;var Qke=Object.defineProperty,Jke=(t,e,n)=>e in t?Qke(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,oe=(t,e,n)=>(Jke(t,typeof e!="symbol"?e+"":e,n),n);class Pi{constructor(e){oe(this,"parent"),oe(this,"paused"),this.parent=e,this.paused=!1}destroy(){}down(e){return!1}move(e){return!1}up(e){return!1}wheel(e){return!1}update(e){}resize(){}reset(){}pause(){this.paused=!0}resume(){this.paused=!1}}var eOe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ON={exports:{}};(function(t,e){(function(){var n,r;r=function(i){return t.exports=i},n={linear:function(i,s,o,a){return o*i/a+s},easeInQuad:function(i,s,o,a){return o*(i/=a)*i+s},easeOutQuad:function(i,s,o,a){return-o*(i/=a)*(i-2)+s},easeInOutQuad:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i+s:-o/2*(--i*(i-2)-1)+s},easeInCubic:function(i,s,o,a){return o*(i/=a)*i*i+s},easeOutCubic:function(i,s,o,a){return o*((i=i/a-1)*i*i+1)+s},easeInOutCubic:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i+s:o/2*((i-=2)*i*i+2)+s},easeInQuart:function(i,s,o,a){return o*(i/=a)*i*i*i+s},easeOutQuart:function(i,s,o,a){return-o*((i=i/a-1)*i*i*i-1)+s},easeInOutQuart:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i*i+s:-o/2*((i-=2)*i*i*i-2)+s},easeInQuint:function(i,s,o,a){return o*(i/=a)*i*i*i*i+s},easeOutQuint:function(i,s,o,a){return o*((i=i/a-1)*i*i*i*i+1)+s},easeInOutQuint:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i*i*i+s:o/2*((i-=2)*i*i*i*i+2)+s},easeInSine:function(i,s,o,a){return-o*Math.cos(i/a*(Math.PI/2))+o+s},easeOutSine:function(i,s,o,a){return o*Math.sin(i/a*(Math.PI/2))+s},easeInOutSine:function(i,s,o,a){return-o/2*(Math.cos(Math.PI*i/a)-1)+s},easeInExpo:function(i,s,o,a){return i===0?s:o*Math.pow(2,10*(i/a-1))+s},easeOutExpo:function(i,s,o,a){return i===a?s+o:o*(-Math.pow(2,-10*i/a)+1)+s},easeInOutExpo:function(i,s,o,a){return(i/=a/2)<1?o/2*Math.pow(2,10*(i-1))+s:o/2*(-Math.pow(2,-10*--i)+2)+s},easeInCirc:function(i,s,o,a){return-o*(Math.sqrt(1-(i/=a)*i)-1)+s},easeOutCirc:function(i,s,o,a){return o*Math.sqrt(1-(i=i/a-1)*i)+s},easeInOutCirc:function(i,s,o,a){return(i/=a/2)<1?-o/2*(Math.sqrt(1-i*i)-1)+s:o/2*(Math.sqrt(1-(i-=2)*i)+1)+s},easeInElastic:function(i,s,o,a){var l,c,h;return h=1.70158,c=0,l=o,i===0||(i/=a),c||(c=a*.3),l<Math.abs(o)?(l=o,h=c/4):h=c/(2*Math.PI)*Math.asin(o/l),-(l*Math.pow(2,10*(i-=1))*Math.sin((i*a-h)*(2*Math.PI)/c))+s},easeOutElastic:function(i,s,o,a){var l,c,h;return h=1.70158,c=0,l=o,i===0||(i/=a),c||(c=a*.3),l<Math.abs(o)?(l=o,h=c/4):h=c/(2*Math.PI)*Math.asin(o/l),l*Math.pow(2,-10*i)*Math.sin((i*a-h)*(2*Math.PI)/c)+o+s},easeInOutElastic:function(i,s,o,a){var l,c,h;return h=1.70158,c=0,l=o,i===0||(i/=a/2),c||(c=a*(.3*1.5)),l<Math.abs(o)?(l=o,h=c/4):h=c/(2*Math.PI)*Math.asin(o/l),i<1?-.5*(l*Math.pow(2,10*(i-=1))*Math.sin((i*a-h)*(2*Math.PI)/c))+s:l*Math.pow(2,-10*(i-=1))*Math.sin((i*a-h)*(2*Math.PI)/c)*.5+o+s},easeInBack:function(i,s,o,a,l){return l===void 0&&(l=1.70158),o*(i/=a)*i*((l+1)*i-l)+s},easeOutBack:function(i,s,o,a,l){return l===void 0&&(l=1.70158),o*((i=i/a-1)*i*((l+1)*i+l)+1)+s},easeInOutBack:function(i,s,o,a,l){return l===void 0&&(l=1.70158),(i/=a/2)<1?o/2*(i*i*(((l*=1.525)+1)*i-l))+s:o/2*((i-=2)*i*(((l*=1.525)+1)*i+l)+2)+s},easeInBounce:function(i,s,o,a){var l;return l=n.easeOutBounce(a-i,0,o,a),o-l+s},easeOutBounce:function(i,s,o,a){return(i/=a)<1/2.75?o*(7.5625*i*i)+s:i<2/2.75?o*(7.5625*(i-=1.5/2.75)*i+.75)+s:i<2.5/2.75?o*(7.5625*(i-=2.25/2.75)*i+.9375)+s:o*(7.5625*(i-=2.625/2.75)*i+.984375)+s},easeInOutBounce:function(i,s,o,a){var l;return i<a/2?(l=n.easeInBounce(i*2,0,o,a),l*.5+s):(l=n.easeOutBounce(i*2-a,0,o,a),l*.5+o*.5+s)}},r(n)}).call(eOe)})(ON);const $3=ON.exports;function I0(t,e){if(t){if(typeof t=="function")return t;if(typeof t=="string")return $3[t]}else return $3[e]}const tOe={removeOnInterrupt:!1,ease:"linear",time:1e3};class nOe extends Pi{constructor(e,n={}){super(e),oe(this,"options"),oe(this,"startX"),oe(this,"startY"),oe(this,"deltaX"),oe(this,"deltaY"),oe(this,"keepCenter"),oe(this,"startWidth",null),oe(this,"startHeight",null),oe(this,"deltaWidth",null),oe(this,"deltaHeight",null),oe(this,"width",null),oe(this,"height",null),oe(this,"time",0),this.options=Object.assign({},tOe,n),this.options.ease=I0(this.options.ease),this.setupPosition(),this.setupZoom(),this.time=0}setupPosition(){typeof this.options.position<"u"?(this.startX=this.parent.center.x,this.startY=this.parent.center.y,this.deltaX=this.options.position.x-this.parent.center.x,this.deltaY=this.options.position.y-this.parent.center.y,this.keepCenter=!1):this.keepCenter=!0}setupZoom(){this.width=null,this.height=null,typeof this.options.scale<"u"?this.width=this.parent.screenWidth/this.options.scale:typeof this.options.scaleX<"u"||typeof this.options.scaleY<"u"?(typeof this.options.scaleX<"u"&&(this.width=this.parent.screenWidth/this.options.scaleX),typeof this.options.scaleY<"u"&&(this.height=this.parent.screenHeight/this.options.scaleY)):(typeof this.options.width<"u"&&(this.width=this.options.width),typeof this.options.height<"u"&&(this.height=this.options.height)),this.width!==null&&(this.startWidth=this.parent.screenWidthInWorldPixels,this.deltaWidth=this.width-this.startWidth),this.height!==null&&(this.startHeight=this.parent.screenHeightInWorldPixels,this.deltaHeight=this.height-this.startHeight)}down(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("animate"),!1}complete(){this.parent.plugins.remove("animate"),this.width!==null&&this.parent.fitWidth(this.width,this.keepCenter,this.height===null),this.height!==null&&this.parent.fitHeight(this.height,this.keepCenter,this.width===null),!this.keepCenter&&this.options.position&&this.parent.moveCenter(this.options.position),this.parent.emit("animate-end",this.parent),this.options.callbackOnComplete&&this.options.callbackOnComplete(this.parent)}update(e){if(this.paused)return;this.time+=e;const n=new Oe(this.parent.scale.x,this.parent.scale.y);if(this.time>=this.options.time){const r=this.parent.width,i=this.parent.height;this.complete(),(r!==this.parent.width||i!==this.parent.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:n,type:"animate"})}else{const r=this.options.ease(this.time,0,1,this.options.time);if(this.width!==null){const i=this.startWidth,s=this.deltaWidth;this.parent.fitWidth(i+s*r,this.keepCenter,this.height===null)}if(this.height!==null){const i=this.startHeight,s=this.deltaHeight;this.parent.fitHeight(i+s*r,this.keepCenter,this.width===null)}if(this.width===null?this.parent.scale.x=this.parent.scale.y:this.height===null&&(this.parent.scale.y=this.parent.scale.x),!this.keepCenter){const i=this.startX,s=this.startY,o=this.deltaX,a=this.deltaY,l=new Oe(this.parent.x,this.parent.y);this.parent.moveCenter(i+o*r,s+a*r),this.parent.emit("moved",{viewport:this.parent,original:l,type:"animate"})}(this.width||this.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:n,type:"animate"})}}}const rOe={sides:"all",friction:.5,time:150,ease:"easeInOutSine",underflow:"center",bounceBox:null};class iOe extends Pi{constructor(e,n={}){super(e),oe(this,"options"),oe(this,"left"),oe(this,"top"),oe(this,"right"),oe(this,"bottom"),oe(this,"underflowX"),oe(this,"underflowY"),oe(this,"ease"),oe(this,"toX"),oe(this,"toY"),this.options=Object.assign({},rOe,n),this.ease=I0(this.options.ease,"easeInOutSine"),this.options.sides?this.options.sides==="all"?this.top=this.bottom=this.left=this.right=!0:this.options.sides==="horizontal"?(this.right=this.left=!0,this.top=this.bottom=!1):this.options.sides==="vertical"?(this.left=this.right=!1,this.top=this.bottom=!0):(this.top=this.options.sides.indexOf("top")!==-1,this.bottom=this.options.sides.indexOf("bottom")!==-1,this.left=this.options.sides.indexOf("left")!==-1,this.right=this.options.sides.indexOf("right")!==-1):this.left=this.top=this.right=this.bottom=!1;const r=this.options.underflow.toLowerCase();r==="center"?(this.underflowX=0,this.underflowY=0):(this.underflowX=r.indexOf("left")!==-1?-1:r.indexOf("right")!==-1?1:0,this.underflowY=r.indexOf("top")!==-1?-1:r.indexOf("bottom")!==-1?1:0),this.reset()}isActive(){return this.toX!==null||this.toY!==null}down(){return this.toX=this.toY=null,!1}up(){return this.bounce(),!1}update(e){if(!this.paused){if(this.bounce(),this.toX){const n=this.toX;n.time+=e,this.parent.emit("moved",{viewport:this.parent,type:"bounce-x"}),n.time>=this.options.time?(this.parent.x=n.end,this.toX=null,this.parent.emit("bounce-x-end",this.parent)):this.parent.x=this.ease(n.time,n.start,n.delta,this.options.time)}if(this.toY){const n=this.toY;n.time+=e,this.parent.emit("moved",{viewport:this.parent,type:"bounce-y"}),n.time>=this.options.time?(this.parent.y=n.end,this.toY=null,this.parent.emit("bounce-y-end",this.parent)):this.parent.y=this.ease(n.time,n.start,n.delta,this.options.time)}}}calcUnderflowX(){let e;switch(this.underflowX){case-1:e=0;break;case 1:e=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:e=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}return e}calcUnderflowY(){let e;switch(this.underflowY){case-1:e=0;break;case 1:e=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:e=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}return e}oob(){const e=this.options.bounceBox;if(e){const n=typeof e.x>"u"?0:e.x,r=typeof e.y>"u"?0:e.y,i=typeof e.width>"u"?this.parent.worldWidth:e.width,s=typeof e.height>"u"?this.parent.worldHeight:e.height;return{left:this.parent.left<n,right:this.parent.right>i,top:this.parent.top<r,bottom:this.parent.bottom>s,topLeft:new Oe(n*this.parent.scale.x,r*this.parent.scale.y),bottomRight:new Oe(i*this.parent.scale.x-this.parent.screenWidth,s*this.parent.scale.y-this.parent.screenHeight)}}return{left:this.parent.left<0,right:this.parent.right>this.parent.worldWidth,top:this.parent.top<0,bottom:this.parent.bottom>this.parent.worldHeight,topLeft:new Oe(0,0),bottomRight:new Oe(this.parent.worldWidth*this.parent.scale.x-this.parent.screenWidth,this.parent.worldHeight*this.parent.scale.y-this.parent.screenHeight)}}bounce(){var e,n;if(this.paused)return;let r,i=this.parent.plugins.get("decelerate",!0);i&&(i.x||i.y)&&(i.x&&i.percentChangeX===((e=i.options)==null?void 0:e.friction)||i.y&&i.percentChangeY===((n=i.options)==null?void 0:n.friction))&&(r=this.oob(),(r.left&&this.left||r.right&&this.right)&&(i.percentChangeX=this.options.friction),(r.top&&this.top||r.bottom&&this.bottom)&&(i.percentChangeY=this.options.friction));const s=this.parent.plugins.get("drag",!0)||{},o=this.parent.plugins.get("pinch",!0)||{};if(i=i||{},!(s!=null&&s.active)&&!(o!=null&&o.active)&&(!this.toX||!this.toY)&&(!i.x||!i.y)){r=r||this.oob();const a=r.topLeft,l=r.bottomRight;if(!this.toX&&!i.x){let c=null;r.left&&this.left?c=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-a.x:r.right&&this.right&&(c=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-l.x),c!==null&&this.parent.x!==c&&(this.toX={time:0,start:this.parent.x,delta:c-this.parent.x,end:c},this.parent.emit("bounce-x-start",this.parent))}if(!this.toY&&!i.y){let c=null;r.top&&this.top?c=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-a.y:r.bottom&&this.bottom&&(c=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-l.y),c!==null&&this.parent.y!==c&&(this.toY={time:0,start:this.parent.y,delta:c-this.parent.y,end:c},this.parent.emit("bounce-y-start",this.parent))}}}reset(){this.toX=this.toY=null,this.bounce()}}const sOe={left:!1,right:!1,top:!1,bottom:!1,direction:null,underflow:"center"};class oOe extends Pi{constructor(e,n={}){super(e),oe(this,"options"),oe(this,"last"),oe(this,"noUnderflow"),oe(this,"underflowX"),oe(this,"underflowY"),this.options=Object.assign({},sOe,n),this.options.direction&&(this.options.left=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.right=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.top=this.options.direction==="y"||this.options.direction==="all"?!0:null,this.options.bottom=this.options.direction==="y"||this.options.direction==="all"?!0:null),this.parseUnderflow(),this.last={x:null,y:null,scaleX:null,scaleY:null},this.update()}parseUnderflow(){const e=this.options.underflow.toLowerCase();e==="none"?this.noUnderflow=!0:e==="center"?(this.underflowX=this.underflowY=0,this.noUnderflow=!1):(this.underflowX=e.indexOf("left")!==-1?-1:e.indexOf("right")!==-1?1:0,this.underflowY=e.indexOf("top")!==-1?-1:e.indexOf("bottom")!==-1?1:0,this.noUnderflow=!1)}move(){return this.update(),!1}update(){if(this.paused||this.parent.x===this.last.x&&this.parent.y===this.last.y&&this.parent.scale.x===this.last.scaleX&&this.parent.scale.y===this.last.scaleY)return;const e=new Oe(this.parent.x,this.parent.y),n=this.parent.plugins.decelerate||{};if(this.options.left!==null||this.options.right!==null){let r=!1;if(!this.noUnderflow&&this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x!==0&&(this.parent.x=0,r=!0);break;case 1:this.parent.x!==this.parent.screenWidth-this.parent.screenWorldWidth&&(this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth,r=!0);break;default:this.parent.x!==(this.parent.screenWidth-this.parent.screenWorldWidth)/2&&(this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2,r=!0)}else this.options.left!==null&&this.parent.left<(this.options.left===!0?0:this.options.left)&&(this.parent.x=-(this.options.left===!0?0:this.options.left)*this.parent.scale.x,n.x=0,r=!0),this.options.right!==null&&this.parent.right>(this.options.right===!0?this.parent.worldWidth:this.options.right)&&(this.parent.x=-(this.options.right===!0?this.parent.worldWidth:this.options.right)*this.parent.scale.x+this.parent.screenWidth,n.x=0,r=!0);r&&this.parent.emit("moved",{viewport:this.parent,original:e,type:"clamp-x"})}if(this.options.top!==null||this.options.bottom!==null){let r=!1;if(!this.noUnderflow&&this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y!==0&&(this.parent.y=0,r=!0);break;case 1:this.parent.y!==this.parent.screenHeight-this.parent.screenWorldHeight&&(this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight,r=!0);break;default:this.parent.y!==(this.parent.screenHeight-this.parent.screenWorldHeight)/2&&(this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2,r=!0)}else this.options.top!==null&&this.parent.top<(this.options.top===!0?0:this.options.top)&&(this.parent.y=-(this.options.top===!0?0:this.options.top)*this.parent.scale.y,n.y=0,r=!0),this.options.bottom!==null&&this.parent.bottom>(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)&&(this.parent.y=-(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)*this.parent.scale.y+this.parent.screenHeight,n.y=0,r=!0);r&&this.parent.emit("moved",{viewport:this.parent,original:e,type:"clamp-y"})}this.last.x=this.parent.x,this.last.y=this.parent.y,this.last.scaleX=this.parent.scale.x,this.last.scaleY=this.parent.scale.y}reset(){this.update()}}const aOe={minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,minScale:null,maxScale:null};class lOe extends Pi{constructor(e,n={}){super(e),oe(this,"options"),this.options=Object.assign({},aOe,n),this.clamp()}resize(){this.clamp()}clamp(){if(!this.paused){if(this.options.minWidth||this.options.minHeight||this.options.maxWidth||this.options.maxHeight){let e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight;if(this.options.minWidth!==null&&e<this.options.minWidth){const r=this.parent.scale.x;this.parent.fitWidth(this.options.minWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/r,e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxWidth!==null&&e>this.options.maxWidth){const r=this.parent.scale.x;this.parent.fitWidth(this.options.maxWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/r,e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.minHeight!==null&&n<this.options.minHeight){const r=this.parent.scale.y;this.parent.fitHeight(this.options.minHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/r,e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxHeight!==null&&n>this.options.maxHeight){const r=this.parent.scale.y;this.parent.fitHeight(this.options.maxHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/r,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}}else if(this.options.minScale||this.options.maxScale){const e={x:null,y:null},n={x:null,y:null};if(typeof this.options.minScale=="number")e.x=this.options.minScale,e.y=this.options.minScale;else if(this.options.minScale!==null){const s=this.options.minScale;e.x=typeof s.x>"u"?null:s.x,e.y=typeof s.y>"u"?null:s.y}if(typeof this.options.maxScale=="number")n.x=this.options.maxScale,n.y=this.options.maxScale;else if(this.options.maxScale!==null){const s=this.options.maxScale;n.x=typeof s.x>"u"?null:s.x,n.y=typeof s.y>"u"?null:s.y}let r=this.parent.scale.x,i=this.parent.scale.y;e.x!==null&&r<e.x&&(r=e.x),n.x!==null&&r>n.x&&(r=n.x),e.y!==null&&i<e.y&&(i=e.y),n.y!==null&&i>n.y&&(i=n.y),(r!==this.parent.scale.x||i!==this.parent.scale.y)&&(this.parent.scale.set(r,i),this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"}))}}}reset(){this.clamp()}}const uOe={friction:.98,bounce:.8,minSpeed:.01},Fo=16;class cOe extends Pi{constructor(e,n={}){super(e),oe(this,"options"),oe(this,"x"),oe(this,"y"),oe(this,"percentChangeX"),oe(this,"percentChangeY"),oe(this,"saved"),oe(this,"timeSinceRelease"),this.options=Object.assign({},uOe,n),this.saved=[],this.timeSinceRelease=0,this.reset(),this.parent.on("moved",r=>this.handleMoved(r))}down(){return this.saved=[],this.x=this.y=null,!1}isActive(){return!!(this.x||this.y)}move(){if(this.paused)return!1;const e=this.parent.input.count();return(e===1||e>1&&!this.parent.plugins.get("pinch",!0))&&(this.saved.push({x:this.parent.x,y:this.parent.y,time:performance.now()}),this.saved.length>60&&this.saved.splice(0,30)),!1}handleMoved(e){if(this.saved.length){const n=this.saved[this.saved.length-1];e.type==="clamp-x"&&e.original?n.x===e.original.x&&(n.x=this.parent.x):e.type==="clamp-y"&&e.original&&n.y===e.original.y&&(n.y=this.parent.y)}}up(){if(this.parent.input.count()===0&&this.saved.length){const e=performance.now();for(const n of this.saved)if(n.time>=e-100){const r=e-n.time;this.x=(this.parent.x-n.x)/r,this.y=(this.parent.y-n.y)/r,this.percentChangeX=this.percentChangeY=this.options.friction,this.timeSinceRelease=0;break}}return!1}activate(e){e=e||{},typeof e.x<"u"&&(this.x=e.x,this.percentChangeX=this.options.friction),typeof e.y<"u"&&(this.y=e.y,this.percentChangeY=this.options.friction)}update(e){if(this.paused)return;const n=this.x||this.y,r=this.timeSinceRelease,i=this.timeSinceRelease+e;if(this.x){const s=this.percentChangeX,o=Math.log(s);this.parent.x+=this.x*Fo/o*(Math.pow(s,i/Fo)-Math.pow(s,r/Fo)),this.x*=Math.pow(this.percentChangeX,e/Fo)}if(this.y){const s=this.percentChangeY,o=Math.log(s);this.parent.y+=this.y*Fo/o*(Math.pow(s,i/Fo)-Math.pow(s,r/Fo)),this.y*=Math.pow(this.percentChangeY,e/Fo)}this.timeSinceRelease+=e,this.x&&this.y?Math.abs(this.x)<this.options.minSpeed&&Math.abs(this.y)<this.options.minSpeed&&(this.x=0,this.y=0):(Math.abs(this.x||0)<this.options.minSpeed&&(this.x=0),Math.abs(this.y||0)<this.options.minSpeed&&(this.y=0)),n&&this.parent.emit("moved",{viewport:this.parent,type:"decelerate"})}reset(){this.x=this.y=null}}const hOe={direction:"all",pressDrag:!0,wheel:!0,wheelScroll:1,reverse:!1,clampWheel:!1,underflow:"center",factor:1,mouseButtons:"all",keyToPress:null,ignoreKeyToPressOnTouch:!1,lineHeight:20,wheelSwapAxes:!1};class dOe extends Pi{constructor(e,n={}){super(e),oe(this,"options"),oe(this,"moved"),oe(this,"reverse"),oe(this,"xDirection"),oe(this,"yDirection"),oe(this,"keyIsPressed"),oe(this,"mouse"),oe(this,"underflowX"),oe(this,"underflowY"),oe(this,"last"),oe(this,"current"),oe(this,"windowEventHandlers",[]),this.options=Object.assign({},hOe,n),this.moved=!1,this.reverse=this.options.reverse?1:-1,this.xDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="x",this.yDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="y",this.keyIsPressed=!1,this.parseUnderflow(),this.mouseButtons(this.options.mouseButtons),this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(e){const n=i=>{e.includes(i.code)&&(this.keyIsPressed=!0)},r=i=>{e.includes(i.code)&&(this.keyIsPressed=!1)};this.addWindowEventHandler("keyup",r),this.addWindowEventHandler("keydown",n)}addWindowEventHandler(e,n){window.addEventListener(e,n),this.windowEventHandlers.push({event:e,handler:n})}destroy(){this.windowEventHandlers.forEach(({event:e,handler:n})=>{window.removeEventListener(e,n)})}mouseButtons(e){!e||e==="all"?this.mouse=[!0,!0,!0]:this.mouse=[e.indexOf("left")!==-1,e.indexOf("middle")!==-1,e.indexOf("right")!==-1]}parseUnderflow(){const e=this.options.underflow.toLowerCase();e==="center"?(this.underflowX=0,this.underflowY=0):(e.includes("left")?this.underflowX=-1:e.includes("right")?this.underflowX=1:this.underflowX=0,e.includes("top")?this.underflowY=-1:e.includes("bottom")?this.underflowY=1:this.underflowY=0)}checkButtons(e){const n=e.pointerType==="mouse",r=this.parent.input.count();return!!((r===1||r>1&&!this.parent.plugins.get("pinch",!0))&&(!n||this.mouse[e.button]))}checkKeyPress(e){return!this.options.keyToPress||this.keyIsPressed||this.options.ignoreKeyToPressOnTouch&&e.data.pointerType==="touch"}down(e){return this.paused||!this.options.pressDrag?!1:this.checkButtons(e)&&this.checkKeyPress(e)?(this.last={x:e.global.x,y:e.global.y},this.current=e.pointerId,!0):(this.last=null,!1)}get active(){return this.moved}move(e){if(this.paused||!this.options.pressDrag)return!1;if(this.last&&this.current===e.data.pointerId){const n=e.global.x,r=e.global.y,i=this.parent.input.count();if(i===1||i>1&&!this.parent.plugins.get("pinch",!0)){const s=n-this.last.x,o=r-this.last.y;if(this.moved||this.xDirection&&this.parent.input.checkThreshold(s)||this.yDirection&&this.parent.input.checkThreshold(o)){const a={x:n,y:r};return this.xDirection&&(this.parent.x+=(a.x-this.last.x)*this.options.factor),this.yDirection&&(this.parent.y+=(a.y-this.last.y)*this.options.factor),this.last=a,this.moved||this.parent.emit("drag-start",{event:e,screen:new Oe(this.last.x,this.last.y),world:this.parent.toWorld(new Oe(this.last.x,this.last.y)),viewport:this.parent}),this.moved=!0,this.parent.emit("moved",{viewport:this.parent,type:"drag"}),!0}}else this.moved=!1}return!1}up(e){if(this.paused)return!1;const n=this.parent.input.touches;if(n.length===1){const r=n[0];return r.last&&(this.last={x:r.last.x,y:r.last.y},this.current=r.id),this.moved=!1,!0}else if(this.last&&this.moved){const r=new Oe(this.last.x,this.last.y);return this.parent.emit("drag-end",{event:e,screen:r,world:this.parent.toWorld(r),viewport:this.parent}),this.last=null,this.moved=!1,!0}return!1}wheel(e){if(this.paused)return!1;if(this.options.wheel){const n=this.parent.plugins.get("wheel",!0);if(!n||!n.options.wheelZoom&&!e.ctrlKey){const r=e.deltaMode?this.options.lineHeight:1,i=[e.deltaX,e.deltaY],[s,o]=this.options.wheelSwapAxes?i.reverse():i;return this.xDirection&&(this.parent.x+=s*r*this.options.wheelScroll*this.reverse),this.yDirection&&(this.parent.y+=o*r*this.options.wheelScroll*this.reverse),this.options.clampWheel&&this.clamp(),this.parent.emit("wheel-scroll",this.parent),this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.options.passiveWheel||e.preventDefault(),this.parent.options.stopPropagation&&e.stopPropagation(),!0}}return!1}resume(){this.last=null,this.paused=!1}clamp(){const e=this.parent.plugins.get("decelerate",!0)||{};if(this.options.clampWheel!=="y")if(this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x=0;break;case 1:this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}else this.parent.left<0?(this.parent.x=0,e.x=0):this.parent.right>this.parent.worldWidth&&(this.parent.x=-this.parent.worldWidth*this.parent.scale.x+this.parent.screenWidth,e.x=0);if(this.options.clampWheel!=="x")if(this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y=0;break;case 1:this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}else this.parent.top<0&&(this.parent.y=0,e.y=0),this.parent.bottom>this.parent.worldHeight&&(this.parent.y=-this.parent.worldHeight*this.parent.scale.y+this.parent.screenHeight,e.y=0)}}const fOe={speed:0,acceleration:null,radius:null};class pOe extends Pi{constructor(e,n,r={}){super(e),oe(this,"options"),oe(this,"target"),oe(this,"velocity"),this.target=n,this.options=Object.assign({},fOe,r),this.velocity={x:0,y:0}}update(e){if(this.paused)return;const n=this.parent.center;let r=this.target.x,i=this.target.y;if(this.options.radius)if(Math.sqrt(Math.pow(this.target.y-n.y,2)+Math.pow(this.target.x-n.x,2))>this.options.radius){const a=Math.atan2(this.target.y-n.y,this.target.x-n.x);r=this.target.x-Math.cos(a)*this.options.radius,i=this.target.y-Math.sin(a)*this.options.radius}else return;const s=r-n.x,o=i-n.y;if(s||o)if(this.options.speed)if(this.options.acceleration){const a=Math.atan2(i-n.y,r-n.x),l=Math.sqrt(Math.pow(s,2)+Math.pow(o,2));if(l){const c=(Math.pow(this.velocity.x,2)+Math.pow(this.velocity.y,2))/(2*this.options.acceleration);l>c?this.velocity={x:Math.min(this.velocity.x+(this.options.acceleration*e,this.options.speed)),y:Math.min(this.velocity.y+(this.options.acceleration*e,this.options.speed))}:this.velocity={x:Math.max(this.velocity.x-this.options.acceleration*this.options.speed,0),y:Math.max(this.velocity.y-this.options.acceleration*this.options.speed,0)};const h=Math.cos(a)*this.velocity.x,f=Math.sin(a)*this.velocity.y,p=Math.abs(h)>Math.abs(s)?r:n.x+h,m=Math.abs(f)>Math.abs(o)?i:n.y+f;this.parent.moveCenter(p,m),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}else{const a=Math.atan2(i-n.y,r-n.x),l=Math.cos(a)*this.options.speed,c=Math.sin(a)*this.options.speed,h=Math.abs(l)>Math.abs(s)?r:n.x+l,f=Math.abs(c)>Math.abs(o)?i:n.y+c;this.parent.moveCenter(h,f),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}else this.parent.moveCenter(r,i),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}const mOe={radius:null,distance:null,top:null,bottom:null,left:null,right:null,speed:8,reverse:!1,noDecelerate:!1,linear:!1,allowButtons:!1};class gOe extends Pi{constructor(e,n={}){super(e),oe(this,"options"),oe(this,"reverse"),oe(this,"radiusSquared"),oe(this,"left"),oe(this,"top"),oe(this,"right"),oe(this,"bottom"),oe(this,"horizontal"),oe(this,"vertical"),this.options=Object.assign({},mOe,n),this.reverse=this.options.reverse?1:-1,this.radiusSquared=typeof this.options.radius=="number"?Math.pow(this.options.radius,2):null,this.resize()}resize(){const e=this.options.distance;e!==null?(this.left=e,this.top=e,this.right=this.parent.screenWidth-e,this.bottom=this.parent.screenHeight-e):this.options.radius||(this.left=this.options.left,this.top=this.options.top,this.right=this.options.right===null?null:this.parent.screenWidth-this.options.right,this.bottom=this.options.bottom===null?null:this.parent.screenHeight-this.options.bottom)}down(){return this.paused||this.options.allowButtons||(this.horizontal=this.vertical=null),!1}move(e){if(this.paused||e.pointerType!=="mouse"&&e.pointerId!==1||!this.options.allowButtons&&e.buttons!==0)return!1;const n=e.global.x,r=e.global.y;if(this.radiusSquared){const i=this.parent.toScreen(this.parent.center);if(Math.pow(i.x-n,2)+Math.pow(i.y-r,2)>=this.radiusSquared){const s=Math.atan2(i.y-r,i.x-n);this.options.linear?(this.horizontal=Math.round(Math.cos(s))*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.round(Math.sin(s))*this.options.speed*this.reverse*(60/1e3)):(this.horizontal=Math.cos(s)*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.sin(s)*this.options.speed*this.reverse*(60/1e3))}else this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=0}else this.left!==null&&n<this.left?this.horizontal=Number(this.reverse)*this.options.speed*(60/1e3):this.right!==null&&n>this.right?this.horizontal=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateHorizontal(),this.horizontal=0),this.top!==null&&r<this.top?this.vertical=Number(this.reverse)*this.options.speed*(60/1e3):this.bottom!==null&&r>this.bottom?this.vertical=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateVertical(),this.vertical=0);return!1}decelerateHorizontal(){const e=this.parent.plugins.get("decelerate",!0);this.horizontal&&e&&!this.options.noDecelerate&&e.activate({x:this.horizontal*this.options.speed*this.reverse/(1e3/60)})}decelerateVertical(){const e=this.parent.plugins.get("decelerate",!0);this.vertical&&e&&!this.options.noDecelerate&&e.activate({y:this.vertical*this.options.speed*this.reverse/(1e3/60)})}up(){return this.paused||(this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=null),!1}update(){if(!this.paused&&(this.horizontal||this.vertical)){const e=this.parent.center;this.horizontal&&(e.x+=this.horizontal*this.options.speed),this.vertical&&(e.y+=this.vertical*this.options.speed),this.parent.moveCenter(e),this.parent.emit("moved",{viewport:this.parent,type:"mouse-edges"})}}}const vOe={noDrag:!1,percent:1,center:null,factor:1,axis:"all"};class yOe extends Pi{constructor(e,n={}){super(e),oe(this,"options"),oe(this,"active",!1),oe(this,"pinching",!1),oe(this,"moved",!1),oe(this,"lastCenter"),this.options=Object.assign({},vOe,n)}down(){return this.parent.input.count()>=2?(this.active=!0,!0):!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}move(e){if(this.paused||!this.active)return!1;const n=e.global.x,r=e.global.y,i=this.parent.input.touches;if(i.length>=2){const s=i[0],o=i[1],a=s.last&&o.last?Math.sqrt(Math.pow(o.last.x-s.last.x,2)+Math.pow(o.last.y-s.last.y,2)):null;if(s.id===e.pointerId?s.last={x:n,y:r,data:e}:o.id===e.pointerId&&(o.last={x:n,y:r,data:e}),a){let l;const c=new Oe(s.last.x+(o.last.x-s.last.x)/2,s.last.y+(o.last.y-s.last.y)/2);this.options.center||(l=this.parent.toLocal(c));let h=Math.sqrt(Math.pow(o.last.x-s.last.x,2)+Math.pow(o.last.y-s.last.y,2));h=h===0?h=1e-10:h;const f=(1-a/h)*this.options.percent*(this.isAxisX()?this.parent.scale.x:this.parent.scale.y);this.isAxisX()&&(this.parent.scale.x+=f),this.isAxisY()&&(this.parent.scale.y+=f),this.parent.emit("zoomed",{viewport:this.parent,type:"pinch",center:c});const p=this.parent.plugins.get("clamp-zoom",!0);if(p&&p.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const m=this.parent.toGlobal(l);this.parent.x+=(c.x-m.x)*this.options.factor,this.parent.y+=(c.y-m.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})}!this.options.noDrag&&this.lastCenter&&(this.parent.x+=(c.x-this.lastCenter.x)*this.options.factor,this.parent.y+=(c.y-this.lastCenter.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})),this.lastCenter=c,this.moved=!0}else this.pinching||(this.parent.emit("pinch-start",this.parent),this.pinching=!0);return!0}return!1}up(){return this.pinching&&this.parent.input.touches.length<=1?(this.active=!1,this.lastCenter=null,this.pinching=!1,this.moved=!1,this.parent.emit("pinch-end",this.parent),!0):!1}}const bOe={topLeft:!1,friction:.8,time:1e3,ease:"easeInOutSine",interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1};class xOe extends Pi{constructor(e,n,r,i={}){super(e),oe(this,"options"),oe(this,"ease"),oe(this,"x"),oe(this,"y"),oe(this,"percent"),oe(this,"snapping"),oe(this,"deltaX"),oe(this,"deltaY"),oe(this,"startX"),oe(this,"startY"),this.options=Object.assign({},bOe,i),this.ease=I0(i.ease,"easeInOutSine"),this.x=n,this.y=r,this.options.forceStart&&this.snapStart()}snapStart(){this.percent=0,this.snapping={time:0};const e=this.options.topLeft?this.parent.corner:this.parent.center;this.deltaX=this.x-e.x,this.deltaY=this.y-e.y,this.startX=e.x,this.startY=e.y,this.parent.emit("snap-start",this.parent)}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap"):this.options.interrupt&&(this.snapping=null),!1}up(){if(this.parent.input.count()===0){const e=this.parent.plugins.get("decelerate",!0);e&&(e.x||e.y)&&(e.percentChangeX=e.percentChangeY=this.options.friction)}return!1}update(e){if(!this.paused&&!(this.options.interrupt&&this.parent.input.count()!==0))if(this.snapping){const n=this.snapping;n.time+=e;let r,i,s;const o=this.startX,a=this.startY,l=this.deltaX,c=this.deltaY;if(n.time>this.options.time)r=!0,i=o+l,s=a+c;else{const h=this.ease(n.time,0,1,this.options.time);i=o+l*h,s=a+c*h}this.options.topLeft?this.parent.moveCorner(i,s):this.parent.moveCenter(i,s),this.parent.emit("moved",{viewport:this.parent,type:"snap"}),r&&(this.options.removeOnComplete&&this.parent.plugins.remove("snap"),this.parent.emit("snap-end",this.parent),this.snapping=null)}else{const n=this.options.topLeft?this.parent.corner:this.parent.center;(n.x!==this.x||n.y!==this.y)&&this.snapStart()}}}const wOe={width:0,height:0,time:1e3,ease:"easeInOutSine",center:null,interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1,noMove:!1};class _Oe extends Pi{constructor(e,n={}){super(e),oe(this,"options"),oe(this,"ease"),oe(this,"xScale"),oe(this,"yScale"),oe(this,"xIndependent"),oe(this,"yIndependent"),oe(this,"snapping"),this.options=Object.assign({},wOe,n),this.ease=I0(this.options.ease),this.xIndependent=!1,this.yIndependent=!1,this.xScale=0,this.yScale=0,this.options.width>0&&(this.xScale=e.screenWidth/this.options.width,this.xIndependent=!0),this.options.height>0&&(this.yScale=e.screenHeight/this.options.height,this.yIndependent=!0),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale,this.options.time===0?(e.container.scale.x=this.xScale,e.container.scale.y=this.yScale,this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom")):n.forceStart&&this.createSnapping()}createSnapping(){const e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,r=this.parent.screenWidth/this.xScale,i=this.parent.screenHeight/this.yScale;this.snapping={time:0,startX:e,startY:n,deltaX:r-e,deltaY:i-n},this.parent.emit("snap-zoom-start",this.parent)}resize(){this.snapping=null,this.options.width>0&&(this.xScale=this.parent.screenWidth/this.options.width),this.options.height>0&&(this.yScale=this.parent.screenHeight/this.options.height),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap-zoom"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap-zoom"):this.options.interrupt&&(this.snapping=null),!1}update(e){if(this.paused||this.options.interrupt&&this.parent.input.count()!==0)return;let n;if(!this.options.center&&!this.options.noMove&&(n=this.parent.center),!this.snapping)(this.parent.scale.x!==this.xScale||this.parent.scale.y!==this.yScale)&&this.createSnapping();else if(this.snapping){const r=this.snapping;if(r.time+=e,r.time>=this.options.time)this.parent.scale.set(this.xScale,this.yScale),this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom"),this.parent.emit("snap-zoom-end",this.parent),this.snapping=null;else{const s=this.snapping,o=this.ease(s.time,s.startX,s.deltaX,this.options.time),a=this.ease(s.time,s.startY,s.deltaY,this.options.time);this.parent.scale.x=this.parent.screenWidth/o,this.parent.scale.y=this.parent.screenHeight/a}const i=this.parent.plugins.get("clamp-zoom",!0);i&&i.clamp(),this.options.noMove||(this.options.center?this.parent.moveCenter(this.options.center):this.parent.moveCenter(n))}}resume(){this.snapping=null,super.resume()}}const SOe={percent:.1,smooth:!1,interrupt:!0,reverse:!1,center:null,lineHeight:20,axis:"all",keyToPress:null,trackpadPinch:!1,wheelZoom:!0};class EOe extends Pi{constructor(e,n={}){super(e),oe(this,"options"),oe(this,"smoothing"),oe(this,"smoothingCenter"),oe(this,"smoothingCount"),oe(this,"keyIsPressed"),this.options=Object.assign({},SOe,n),this.keyIsPressed=!1,this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(e){window.addEventListener("keydown",n=>{e.includes(n.code)&&(this.keyIsPressed=!0)}),window.addEventListener("keyup",n=>{e.includes(n.code)&&(this.keyIsPressed=!1)})}checkKeyPress(){return!this.options.keyToPress||this.keyIsPressed}down(){return this.options.interrupt&&(this.smoothing=null),!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}update(){if(this.smoothing){const e=this.smoothingCenter,n=this.smoothing;let r;this.options.center||(r=this.parent.toLocal(e)),this.isAxisX()&&(this.parent.scale.x+=n.x),this.isAxisY()&&(this.parent.scale.y+=n.y),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const i=this.parent.plugins.get("clamp-zoom",!0);if(i&&i.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const s=this.parent.toGlobal(r);this.parent.x+=e.x-s.x,this.parent.y+=e.y-s.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.smoothingCount++,this.smoothingCount>=this.options.smooth&&(this.smoothing=null)}}pinch(e){if(this.paused)return;const n=this.parent.input.getPointerPosition(e),r=-e.deltaY*(e.deltaMode?this.options.lineHeight:1)/200,i=Math.pow(2,(1+this.options.percent)*r);let s;this.options.center||(s=this.parent.toLocal(n)),this.isAxisX()&&(this.parent.scale.x*=i),this.isAxisY()&&(this.parent.scale.y*=i),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const o=this.parent.plugins.get("clamp-zoom",!0);if(o&&o.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const a=this.parent.toGlobal(s);this.parent.x+=n.x-a.x,this.parent.y+=n.y-a.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:e,viewport:this.parent})}wheel(e){if(this.paused||!this.checkKeyPress())return!1;if(e.ctrlKey&&this.options.trackpadPinch)this.pinch(e);else if(this.options.wheelZoom){const n=this.parent.input.getPointerPosition(e),r=(this.options.reverse?-1:1)*-e.deltaY*(e.deltaMode?this.options.lineHeight:1)/500,i=Math.pow(2,(1+this.options.percent)*r);if(this.options.smooth){const s={x:this.smoothing?this.smoothing.x*(this.options.smooth-this.smoothingCount):0,y:this.smoothing?this.smoothing.y*(this.options.smooth-this.smoothingCount):0};this.smoothing={x:((this.parent.scale.x+s.x)*i-this.parent.scale.x)/this.options.smooth,y:((this.parent.scale.y+s.y)*i-this.parent.scale.y)/this.options.smooth},this.smoothingCount=0,this.smoothingCenter=n}else{let s;this.options.center||(s=this.parent.toLocal(n)),this.isAxisX()&&(this.parent.scale.x*=i),this.isAxisY()&&(this.parent.scale.y*=i),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const o=this.parent.plugins.get("clamp-zoom",!0);if(o&&o.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const a=this.parent.toGlobal(s);this.parent.x+=n.x-a.x,this.parent.y+=n.y-a.y}}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:e,viewport:this.parent})}return!this.parent.options.passiveWheel}}class COe{constructor(e){oe(this,"viewport"),oe(this,"clickedAvailable"),oe(this,"isMouseDown"),oe(this,"last"),oe(this,"wheelFunction"),oe(this,"touches"),this.viewport=e,this.touches=[],this.addListeners()}addListeners(){this.viewport.interactive=!0,this.viewport.forceHitArea||(this.viewport.hitArea=new qe(0,0,this.viewport.worldWidth,this.viewport.worldHeight)),this.viewport.on("pointerdown",this.down,this),this.viewport.options.allowPreserveDragOutside?this.viewport.on("globalpointermove",this.move,this):this.viewport.on("pointermove",this.move,this),this.viewport.on("pointerup",this.up,this),this.viewport.on("pointerupoutside",this.up,this),this.viewport.on("pointercancel",this.up,this),this.viewport.options.allowPreserveDragOutside||this.viewport.on("pointerleave",this.up,this),this.wheelFunction=e=>this.handleWheel(e),this.viewport.options.events.domElement.addEventListener("wheel",this.wheelFunction,{passive:this.viewport.options.passiveWheel}),this.isMouseDown=!1}destroy(){this.viewport.options.events.domElement.removeEventListener("wheel",this.wheelFunction)}down(e){if(!(this.viewport.pause||!this.viewport.worldVisible)){if(e.pointerType==="mouse"?this.isMouseDown=!0:this.get(e.pointerId)||this.touches.push({id:e.pointerId,last:null}),this.count()===1){this.last=e.global.clone();const n=this.viewport.plugins.get("decelerate",!0),r=this.viewport.plugins.get("bounce",!0);(!n||!n.isActive())&&(!r||!r.isActive())?this.clickedAvailable=!0:this.clickedAvailable=!1}else this.clickedAvailable=!1;this.viewport.plugins.down(e)&&this.viewport.options.stopPropagation&&e.stopPropagation()}}clear(){this.isMouseDown=!1,this.touches=[],this.last=null}checkThreshold(e){return Math.abs(e)>=this.viewport.threshold}move(e){if(this.viewport.pause||!this.viewport.worldVisible)return;const n=this.viewport.plugins.move(e);if(this.clickedAvailable&&this.last){const r=e.global.x-this.last.x,i=e.global.y-this.last.y;(this.checkThreshold(r)||this.checkThreshold(i))&&(this.clickedAvailable=!1)}n&&this.viewport.options.stopPropagation&&e.stopPropagation()}up(e){if(this.viewport.pause||!this.viewport.worldVisible)return;e.pointerType==="mouse"&&(this.isMouseDown=!1),e.pointerType!=="mouse"&&this.remove(e.pointerId);const n=this.viewport.plugins.up(e);this.clickedAvailable&&this.count()===0&&this.last&&(this.viewport.emit("clicked",{event:e,screen:this.last,world:this.viewport.toWorld(this.last),viewport:this.viewport}),this.clickedAvailable=!1),n&&this.viewport.options.stopPropagation&&e.stopPropagation()}getPointerPosition(e){const n=new Oe;return this.viewport.options.events.mapPositionToPoint(n,e.clientX,e.clientY),n}handleWheel(e){if(this.viewport.pause||!this.viewport.worldVisible)return;const n=this.viewport.toLocal(this.getPointerPosition(e));this.viewport.left<=n.x&&n.x<=this.viewport.right&&this.viewport.top<=n.y&&n.y<=this.viewport.bottom&&this.viewport.plugins.wheel(e)&&!this.viewport.options.passiveWheel&&e.preventDefault()}pause(){this.touches=[],this.isMouseDown=!1}get(e){for(const n of this.touches)if(n.id===e)return n;return null}remove(e){for(let n=0;n<this.touches.length;n++)if(this.touches[n].id===e){this.touches.splice(n,1);return}}count(){return(this.isMouseDown?1:0)+this.touches.length}}const wh=["drag","pinch","wheel","follow","mouse-edges","decelerate","animate","bounce","snap-zoom","clamp-zoom","snap","clamp"];class TOe{constructor(e){oe(this,"plugins"),oe(this,"list"),oe(this,"viewport"),this.viewport=e,this.list=[],this.plugins={}}add(e,n,r=wh.length){const i=this.plugins[e];i&&i.destroy(),this.plugins[e]=n;const s=wh.indexOf(e);s!==-1&&wh.splice(s,1),wh.splice(r,0,e),this.sort()}get(e,n){var r;return n&&(r=this.plugins[e])!=null&&r.paused?null:this.plugins[e]}update(e){for(const n of this.list)n.update(e)}resize(){for(const e of this.list)e.resize()}reset(){for(const e of this.list)e.reset()}removeAll(){this.list.forEach(e=>{e.destroy()}),this.plugins={},this.sort()}remove(e){var n;this.plugins[e]&&((n=this.plugins[e])==null||n.destroy(),delete this.plugins[e],this.viewport.emit("plugin-remove",e),this.sort())}pause(e){var n;(n=this.plugins[e])==null||n.pause()}resume(e){var n;(n=this.plugins[e])==null||n.resume()}sort(){this.list=[];for(const e of wh)this.plugins[e]&&this.list.push(this.plugins[e])}down(e){let n=!1;for(const r of this.list)r.down(e)&&(n=!0);return n}move(e){let n=!1;for(const r of this.viewport.plugins.list)r.move(e)&&(n=!0);return n}up(e){let n=!1;for(const r of this.list)r.up(e)&&(n=!0);return n}wheel(e){let n=!1;for(const r of this.list)r.wheel(e)&&(n=!0);return n}}const AOe={screenWidth:window.innerWidth,screenHeight:window.innerHeight,worldWidth:null,worldHeight:null,threshold:5,passiveWheel:!0,stopPropagation:!1,forceHitArea:null,noTicker:!1,disableOnContextMenu:!1,ticker:dn.shared,allowPreserveDragOutside:!1};class POe extends er{constructor(e){super(),oe(this,"moving"),oe(this,"screenWidth"),oe(this,"screenHeight"),oe(this,"threshold"),oe(this,"input"),oe(this,"plugins"),oe(this,"zooming"),oe(this,"lastViewport"),oe(this,"options"),oe(this,"_dirty"),oe(this,"_forceHitArea"),oe(this,"_hitAreaDefault"),oe(this,"_pause"),oe(this,"tickerFunction"),oe(this,"_worldWidth"),oe(this,"_worldHeight"),oe(this,"_disableOnContextMenu",n=>n.preventDefault()),this.options={...AOe,...e},this.screenWidth=this.options.screenWidth,this.screenHeight=this.options.screenHeight,this._worldWidth=this.options.worldWidth,this._worldHeight=this.options.worldHeight,this.forceHitArea=this.options.forceHitArea,this.threshold=this.options.threshold,this.options.disableOnContextMenu&&this.options.events.domElement.addEventListener("contextmenu",this._disableOnContextMenu),this.options.noTicker||(this.tickerFunction=()=>this.update(this.options.ticker.elapsedMS),this.options.ticker.add(this.tickerFunction)),this.input=new COe(this),this.plugins=new TOe(this)}destroy(e){!this.options.noTicker&&this.tickerFunction&&this.options.ticker.remove(this.tickerFunction),this.options.disableOnContextMenu&&this.options.events.domElement.removeEventListener("contextmenu",this._disableOnContextMenu),this.input.destroy(),super.destroy(e)}update(e){this.pause||(this.plugins.update(e),this.lastViewport&&(this.lastViewport.x!==this.x||this.lastViewport.y!==this.y?this.moving=!0:this.moving&&(this.emit("moved-end",this),this.moving=!1),this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y?this.zooming=!0:this.zooming&&(this.emit("zoomed-end",this),this.zooming=!1)),this.forceHitArea||(this._hitAreaDefault=new qe(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight),this.hitArea=this._hitAreaDefault),this._dirty=this._dirty||!this.lastViewport||this.lastViewport.x!==this.x||this.lastViewport.y!==this.y||this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y,this.lastViewport={x:this.x,y:this.y,scaleX:this.scale.x,scaleY:this.scale.y},this.emit("frame-end",this))}resize(e=window.innerWidth,n=window.innerHeight,r,i){this.screenWidth=e,this.screenHeight=n,typeof r<"u"&&(this._worldWidth=r),typeof i<"u"&&(this._worldHeight=i),this.plugins.resize(),this.dirty=!0}get worldWidth(){return this._worldWidth?this._worldWidth:this.width/this.scale.x}set worldWidth(e){this._worldWidth=e,this.plugins.resize()}get worldHeight(){return this._worldHeight?this._worldHeight:this.height/this.scale.y}set worldHeight(e){this._worldHeight=e,this.plugins.resize()}getVisibleBounds(){return new qe(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight)}toWorld(e,n){return arguments.length===2?this.toLocal(new Oe(e,n)):this.toLocal(e)}toScreen(e,n){return arguments.length===2?this.toGlobal(new Oe(e,n)):this.toGlobal(e)}get worldScreenWidth(){return this.screenWidth/this.scale.x}get worldScreenHeight(){return this.screenHeight/this.scale.y}get screenWorldWidth(){return this.worldWidth*this.scale.x}get screenWorldHeight(){return this.worldHeight*this.scale.y}get center(){return new Oe(this.worldScreenWidth/2-this.x/this.scale.x,this.worldScreenHeight/2-this.y/this.scale.y)}set center(e){this.moveCenter(e)}moveCenter(...e){let n,r;typeof e[0]=="number"?(n=e[0],r=e[1]):(n=e[0].x,r=e[0].y);const i=(this.worldScreenWidth/2-n)*this.scale.x,s=(this.worldScreenHeight/2-r)*this.scale.y;return(this.x!==i||this.y!==s)&&(this.position.set(i,s),this.plugins.reset(),this.dirty=!0),this}get corner(){return new Oe(-this.x/this.scale.x,-this.y/this.scale.y)}set corner(e){this.moveCorner(e)}moveCorner(...e){let n,r;return e.length===1?(n=-e[0].x*this.scale.x,r=-e[0].y*this.scale.y):(n=-e[0]*this.scale.x,r=-e[1]*this.scale.y),(n!==this.x||r!==this.y)&&(this.position.set(n,r),this.plugins.reset(),this.dirty=!0),this}get screenWidthInWorldPixels(){return this.screenWidth/this.scale.x}get screenHeightInWorldPixels(){return this.screenHeight/this.scale.y}findFitWidth(e){return this.screenWidth/e}findFitHeight(e){return this.screenHeight/e}findFit(e,n){const r=this.screenWidth/e,i=this.screenHeight/n;return Math.min(r,i)}findCover(e,n){const r=this.screenWidth/e,i=this.screenHeight/n;return Math.max(r,i)}fitWidth(e=this.worldWidth,n,r=!0,i){let s;n&&(s=this.center),this.scale.x=this.screenWidth/e,r&&(this.scale.y=this.scale.x);const o=this.plugins.get("clamp-zoom",!0);return!i&&o&&o.clamp(),n&&s&&this.moveCenter(s),this}fitHeight(e=this.worldHeight,n,r=!0,i){let s;n&&(s=this.center),this.scale.y=this.screenHeight/e,r&&(this.scale.x=this.scale.y);const o=this.plugins.get("clamp-zoom",!0);return!i&&o&&o.clamp(),n&&s&&this.moveCenter(s),this}fitWorld(e){let n;e&&(n=this.center),this.scale.x=this.screenWidth/this.worldWidth,this.scale.y=this.screenHeight/this.worldHeight,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const r=this.plugins.get("clamp-zoom",!0);return r&&r.clamp(),e&&n&&this.moveCenter(n),this}fit(e,n=this.worldWidth,r=this.worldHeight){let i;e&&(i=this.center),this.scale.x=this.screenWidth/n,this.scale.y=this.screenHeight/r,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const s=this.plugins.get("clamp-zoom",!0);return s&&s.clamp(),e&&i&&this.moveCenter(i),this}setZoom(e,n){let r;n&&(r=this.center),this.scale.set(e);const i=this.plugins.get("clamp-zoom",!0);return i&&i.clamp(),n&&r&&this.moveCenter(r),this}zoomPercent(e,n){return this.setZoom(this.scale.x+this.scale.x*e,n)}zoom(e,n){return this.fitWidth(e+this.worldScreenWidth,n),this}get scaled(){return this.scale.x}set scaled(e){this.setZoom(e,!0)}snapZoom(e){return this.plugins.add("snap-zoom",new _Oe(this,e)),this}OOB(){return{left:this.left<0,right:this.right>this.worldWidth,top:this.top<0,bottom:this.bottom>this.worldHeight,cornerPoint:new Oe(this.worldWidth*this.scale.x-this.screenWidth,this.worldHeight*this.scale.y-this.screenHeight)}}get right(){return-this.x/this.scale.x+this.worldScreenWidth}set right(e){this.x=-e*this.scale.x+this.screenWidth,this.plugins.reset()}get left(){return-this.x/this.scale.x}set left(e){this.x=-e*this.scale.x,this.plugins.reset()}get top(){return-this.y/this.scale.y}set top(e){this.y=-e*this.scale.y,this.plugins.reset()}get bottom(){return-this.y/this.scale.y+this.worldScreenHeight}set bottom(e){this.y=-e*this.scale.y+this.screenHeight,this.plugins.reset()}get dirty(){return!!this._dirty}set dirty(e){this._dirty=e}get forceHitArea(){return this._forceHitArea}set forceHitArea(e){e?(this._forceHitArea=e,this.hitArea=e):(this._forceHitArea=null,this.hitArea=new qe(0,0,this.worldWidth,this.worldHeight))}drag(e){return this.plugins.add("drag",new dOe(this,e)),this}clamp(e){return this.plugins.add("clamp",new oOe(this,e)),this}decelerate(e){return this.plugins.add("decelerate",new cOe(this,e)),this}bounce(e){return this.plugins.add("bounce",new iOe(this,e)),this}pinch(e){return this.plugins.add("pinch",new yOe(this,e)),this}snap(e,n,r){return this.plugins.add("snap",new xOe(this,e,n,r)),this}follow(e,n){return this.plugins.add("follow",new pOe(this,e,n)),this}wheel(e){return this.plugins.add("wheel",new EOe(this,e)),this}animate(e){return this.plugins.add("animate",new nOe(this,e)),this}clampZoom(e){return this.plugins.add("clamp-zoom",new lOe(this,e)),this}mouseEdges(e){return this.plugins.add("mouse-edges",new gOe(this,e)),this}get pause(){return!!this._pause}set pause(e){this._pause=e,this.lastViewport=null,this.moving=!1,this.zooming=!1,e&&this.input.pause()}ensureVisible(e,n,r,i,s){s&&(r>this.worldScreenWidth||i>this.worldScreenHeight)&&(this.fit(!0,r,i),this.emit("zoomed",{viewport:this,type:"ensureVisible"}));let o=!1;e<this.left?(this.left=e,o=!0):e+r>this.right&&(this.right=e+r,o=!0),n<this.top?(this.top=n,o=!0):n+i>this.bottom&&(this.bottom=n+i,o=!0),o&&this.emit("moved",{viewport:this,type:"ensureVisible"})}}const Un=(t,e)=>t!=null&&t.levels?e.acquired[t==null?void 0:t.id]>0:e.selected[t==null?void 0:t.id],IN=(t,e)=>e.available[t.id],pm=(t,e,n,r=1)=>{let i=n;return i.available[t.id]&&(t.levels?(i.acquired[t.id]||(i.acquired[t.id]=0),r>=0&&r<=t.levels&&(i.acquired[t.id]=r)):i.selected[t.id]=!i.selected[t.id]),i=kOe(e,t,i),i=b_(e,n),i},kOe=(t,e,n)=>{let r={...n};const i=s=>{const o=gr(t,a=>nf(a.requires,{id:s.id}));r=b_(t,n),o&&vt(o,a=>{n.available[a.id]||(n.selected[a.id]=!1,n.acquired[a.id]=0,r=b_(t,n),i(a))})};return i(e),r},b_=(t,e)=>(vt(t,n=>{var r;if(n.requires){let i=n.requirementType||"and",s=i==="and";vt(n.requires,o=>{const a=Ve(t,{id:o.id});if(a.levels){const l=o.levels||a.levels,c=e.acquired[a.id];i==="and"?s=s&&c>=l:i==="or"&&(s=s||c>=l)}else i==="and"?s=s&&e.selected[o.id]:i==="or"&&(s=s||e.selected[o.id])}),e.available[n.id]=s}if((r=n.exclusiveWith)!=null&&r.length){let i=!0;vt(n.exclusiveWith,s=>{i=!e.selected[s]&&!e.acquired[s]}),e.available[n.id]=i&&e.available[n.id]}}),e),Ys=(t,e,n,r)=>{var i;r.next({node:{...t,acquired:e.acquired[t.id],selected:e.selected[t.id],available:e.available[t.id],requiredName:(i=Ve(n,{id:t.requires}))==null?void 0:i.name}})},Va=t=>typeof t=="string"?parseInt(t.replace("#",""),16):0,Ni=(t,e,n)=>n?Va(t.colors[n]):IN(t,e)?Va(t.colors.selected):Va(t.colors.unavailable),Ab=(t,e)=>{e.next({event:"nodesChanged",data:{nodes:ze(t,n=>({colors:n.colors,id:n.id,requires:n.requires,name:n.name,description:n.description,cost:n.cost,levels:n.levels,levelCost:n.levelCost,providedStats:n.providedStats,providedAbilities:n.providedAbilities}))}})};function OOe(t,e,n={},r,i,s,o){let a=s.subscribe({next:Q=>{switch(Q.event){case"buildChanged":L(Q.data.build),le(),Z();break;case"forcesUpdated":O=Q.data.forces,te();break;case"modeChanged":Y(Q.data.mode);break;case"nodeAdded":q(Q.data.node);break;case"nodeDeleted":H(Q.data.id);break;case"nodeAcquisitionChanged":z(Q.data.id,Q.data.acquired);break;case"nodeEdited":W(Q.data.id,Q.data.node);break;case"themeChanged":A(Q.data);break}}}),l="#1d1b21",c="#ddd",h,f,p={selected:{},acquired:{},available:{}},m=GR(),v,y,x,b,_,w="build-slow",E,O={f1:20,f2:18,f3:50,f4:7};function A(Q){Q==="light"?(l="#ffffff",c="#666666"):(l="#1d1b21",c="#dddddd"),h.renderer.backgroundColor=Va(l),le()}function F(Q,K){Q.children.length>0&&Q.children[0].destroy();const $=new pc(K,{fontFamily:"Inter",fontSize:14,fill:c,align:"center"});$.anchor.set(.5,-.75),$.resolution=12,Q.addChild($)}function L(Q){p={selected:{},acquired:{},available:{}},vt(f,K=>{p.selected[K.id]=Q[K.id]===!0,p.acquired[K.id]=XK(Q[K.id])?Q[K.id]:!1}),j(),r.next({nodes:ze(f,K=>({...K,selected:Un(K,p),acquired:p.acquired[K.id]})),nodeMeta:p,ignoreSave:!0})}function H(Q){if(Q==="basic")return;const K=Ve(f,{id:Q});if(K){K==null||K.gfx.removeChildren(),K==null||K.gfx.clear(),f=ze(gr(f,ne=>ne.id!==Q),ne=>{let me=ne.requires;return nf(ne.requires,{id:K==null?void 0:K.id})&&(me=K==null?void 0:K.requires),{...ne,requires:me}});const $=Ve(f,{id:(K==null?void 0:K.requires)&&(K==null?void 0:K.requires[0].id)});j(),E=$==null?void 0:$.id,Ys($,p,f,i),le(),te(),Z(),Ab(f,s)}}function j(){y=[],vt(f,Q=>{var K;if((K=Q==null?void 0:Q.requires)!=null&&K.length){let $=!0;vt(Q.requires,ne=>{const me=Ve(f,{id:ne==null?void 0:ne.id});$=$&&Un(me,p),y.push({source:Q,target:me})}),p.available[Q.id]=$}else p.available[Q.id]=!0})}function z(Q,K){let $=Ve(f,{id:Q});$.levels&&$.levels>1?p=pm($,f,p,K):p=pm($,f,p),r.next({nodes:ze(f,ne=>({...ne,selected:Un(ne,p),acquired:p.acquired[ne.id]})),nodeMeta:p}),Ys($,p,f,i),le(),Z()}function W(Q,K){let $=Ve(f,{id:Q}),ne=$.requires,me=$.requirementType;$.name=K.name,$.id=K.id,$.description=K.description,$.levels=K.levels,$.cost=K.cost,$.levelCost=K.levelCost,$.providedStats=K.providedStats,$.providedAbilities=K.providedAbilities,$.colors=K.colors,$.requires=K.requires,$.requirementType=K.requirementType,(ne!==K.requires||me!==K.requirementType)&&j(),p.acquired[Q]&&p.acquired[Q]>K.levels&&(p.acquired[Q]=K.levels),$==null||$.gfx.removeChildren();const Ie=new pc(K.name,{fontFamily:"Inter",fontSize:12,fontWeight:"500",fill:"#fff",align:"center"});Ie.anchor.set(.5,-.75),Ie.resolution=12,$==null||$.gfx.addChild(Ie),f=ze(f,Re=>{if(Re.id===Q)return $;{let Ye=Re;return Re.requires===Q&&(Ye.requires=[{id:$.id,levels:1}]),Ye}}),le(),Z(),te(),Ys($,p,f,i),r.next({nodes:ze(f,Re=>({...Re,selected:Un(Re,p),acquired:p.acquired[Re.id]})),nodeMeta:p}),Ab(f,s)}function q(Q){let K={...Q};K.colors||(K.colors={}),R(K),E=K.id,f=[...f,K],vt(K.requires,$=>{y.push({source:K,target:Ve(f,{id:$.id})})}),le(),Z(),ce(),Ab(f,s),Ys(K,p,f,i),setTimeout(()=>{_.follow(K,{acceleration:.4}),_.setZoom(1.4),setTimeout(()=>{_.plugins.remove("follow")},200)},100)}function Y(Q){let K=w;w=Q,K!==Q&&((w==="build-slow"||w==="build-fast")&&(E=null),le(),Z())}function de(Q,K){if(w==="build-fast"||Q.ctrlKey){const $=Un(K,p);K.levels&&K.levels>1?p=pm(K,f,p,Q.nativeEvent.shiftKey?p.acquired[K.id]-1:p.acquired[K.id]+1):p=pm(K,f,p),r.next({nodes:ze(f,me=>({...me,selected:Un(me,p),acquired:p.acquired[me.id]})),nodeMeta:p}),Ys(K,p,f,i),s.next({event:"nodeMetaUpdated",data:{nodeMeta:p}});const ne=Un(K,p)!==$;le(ne?K.id:null),Z()}else w==="build-slow"?(Ys(K,p,f,i),Z()):w==="edit"&&(E=K.id,Ys(K,p,f,i),le())}function ce(){te(4,.7)}function te(Q,K){O&&(m.nodes(f).force("link",mEe(y).strength($=>{const ne=$.source.requires.length?.1:-.2;return Un($.target,p)?O.f2*.015+ne:O.f2*.013+ne}).id($=>$.id).distance($=>{let ne=$.source.requires.length?1:6;return $.target.requires.length||(ne+=10),$.source.levels||$.target.levels?Un($.source,p)?O.f1+18+ne:O.f1+20+ne:Un($.source,p)?O.f1+10+ne:O.f1+14+ne})).force("charge",SEe().strength(-(O.f3*6))).force("center",XSe(x/3,b/2)).force("collision",fEe().radius($=>O.f3).iterations(Q||1)).velocityDecay(K||O.f4*.01),m.alpha(1).restart()),Z(),le()}function Z(){for(let Q=v.children.length-1;Q>=0;Q--)v.children[Q].destroy();v.clear(),v.removeChildren(),v.alpha=.8,y.forEach((Q,K)=>{let{source:$,target:ne}=Q,me=4473924,Ie=2,Re=$&&Un($,p)&&Un(ne,p);if(ne.id&&$&&(Re||w==="edit"?me=Ni($,p,"selected"):me=10198691,Ie=Un(ne,p)&&Un($,p)?2:1),v.lineStyle(Ie,me,Re?1:.2),$.requirementType==="or"&&!Re){const Ye=new kN(v,{dash:[5,5],width:1,color:me});Ye.moveTo($.x,$.y),Ye.lineTo(ne.x,ne.y)}else v.moveTo($.x,$.y),v.lineTo(ne.x,ne.y)}),v.endFill()}function le(Q){const K=($,ne)=>{$.moveTo(ne,-(ne/2)),$.lineTo(0,ne*1.5),$.lineTo(-ne,-(ne/2)),$.lineTo(ne,-(ne/2))};f.forEach($=>{var Ye;const ne=E===$.id,me=Un($,p),Ie=IN($,p);$.gfx.clear();let Re=$.cost||1;if(w==="build-fast"?$.gfx.cursor=Ie?"pointer":"default":$.gfx.cursor="pointer",((Ye=$.exclusiveWith)==null?void 0:Ye.length)>0)ne&&w==="edit"?($.gfx.beginFill(Ni($,p,"selected")),K($.gfx,8),$.gfx.endFill()):me?($.gfx.beginFill(Ni($,p)),K($.gfx,8),$.gfx.endFill()):Ie?($.gfx.lineStyle(1,Ni($,p),1),K($.gfx,8),$.gfx.endFill(),$.gfx.beginFill(16777215),$.gfx.lineStyle(),K($.gfx,4),$.gfx.endFill()):($.gfx.beginFill(Ni($,p)),K($.gfx,6),$.gfx.endFill()),$.gfx.hitArea=new uc(0,0,12+10);else if(!Q||$.id!==Q||$.levels||!me)if($.levels&&$.levels>1){const Se=4+$.levels*15,et=p.acquired[$.id];let tt=-(Se/2);$.gfx.lineStyle(2,ne&&w==="edit"?Va("#ffffff"):Ni($,p)),$.gfx.beginFill(Va(l)),$.gfx.drawShape(new cc(tt,-6,Se,16,4)),$.gfx.endFill(),$.gfx.beginFill(Va(c)),$.gfx.lineStyle(),rf(et,rt=>{$.gfx.drawCircle(tt+11+rt*14,2,4)}),$.gfx.endFill(),$.gfx.hitArea=new cc(tt,-6,Se,16,4)}else{let Se;w==="edit"?Se=8:Se=me?Re*2+6:Re*2+2,ne&&w==="edit"?($.gfx.beginFill(16777215),$.gfx.drawCircle(0,0,Se+2),$.gfx.endFill(),$.gfx.beginFill(Ni($,p,"selected")),$.gfx.drawCircle(0,0,Se),$.gfx.endFill()):me?($.gfx.beginFill(Ni($,p)),$.gfx.drawCircle(0,0,Se),$.gfx.endFill()):Ie?($.gfx.lineStyle(1,Ni($,p),1),$.gfx.drawCircle(0,0,Se+4),$.gfx.endFill(),$.gfx.beginFill(14540253),$.gfx.lineStyle(),$.gfx.drawCircle(0,0,Se),$.gfx.endFill()):($.gfx.beginFill(Ni($,p)),$.gfx.drawCircle(0,0,Se),$.gfx.endFill()),$.gfx.hitArea=new uc(0,0,Se+10)}else if($.id===Q&&me){const Se=Ve(f,{id:Q});let et=me?Re*2+6:Re*2+2,tt=me?Re*2+2:Re*2+6,rt=0;const Ot=setInterval(()=>{rt++,me?tt+=rt*.4:tt-=rt*.4,Se==null||Se.gfx.clear(),Se==null||Se.gfx.beginFill(Ni(Se,p)),Se==null||Se.gfx.drawCircle(0,0,tt),Se==null||Se.gfx.endFill(),me?tt>=et&&clearInterval(Ot):tt<=et&&clearInterval(Ot)},5)}F($.gfx,$.name),$.gfx.interactive=!0})}function G(){e.length?f=ze(e,$=>({...$})):f=[{id:"reset",name:"Info",description:"Press the Reset Button to start",colors:{selected:"#fff",unavailable:"#fff"}}],y=[],L(n);const Q=t.getBoundingClientRect();b=Q.height,x=Q.width,t.innerHTML="",h=new A0({width:x,height:b,antialias:!0,autoDensity:!0,resizeTo:window,backgroundColor:l,backgroundAlpha:1,resolution:2}),t.appendChild(h.view),_=new POe({screenWidth:x,screenHeight:b,worldWidth:x*4,worldHeight:b*4,passiveWheel:!1,events:h.renderer.plugins.interaction}),_.setZoom(.6,!0),h.stage.addChild(_),_.drag().pinch().wheel().decelerate().clampZoom({minWidth:x/4,minHeight:b/4}),m=GR(f),v=new fl,_.addChild(v),f.forEach($=>{R($)}),le(),te();const K=()=>{f.forEach($=>{let{x:ne,y:me,gfx:Ie}=$;Ie.position=new Oe(ne,me)}),Z()};m.on("tick",K),r.next({nodes:ze(f,$=>({...$,selected:Un($,p),acquired:p.acquired[$.id]})),nodeMeta:p,ignoreSave:!0}),A(o),setTimeout(()=>{_.follow(f[0],{acceleration:.4}),setTimeout(()=>{_.plugins.remove("follow")},1e3)},10)}function R(Q){let K=new fl;const $=de.bind(Q);let ne=!1;K.on("touchstart",me=>{ne=!0,Ys(Q,p,f,i),setTimeout(()=>{ne&&de(me,Q)},100)}),K.on("touchend",me=>{ne=!1}),K.on("click",me=>$(me,Q)),K.on("mouseover",me=>{w==="build-fast"&&Ys(Q,p,f,i)}),Q.gfx=K,_.addChild(K),F(Q.gfx,Q.name)}const D={Inter:"https://fonts.googleapis.com/css2?family=Inter:wght@100;400;500;700&display=swap"};return Ga.add("font-Inter",D.Inter),Ga.load(D.Inter).then(()=>{G()}),{destroy:()=>{m.stop(),f.forEach(Q=>{Q.gfx&&(Q.gfx.clear(),Q.gfx.removeChildren(),Q.gfx.destroy())}),v.clear(),v.clear(),a.unsubscribe(),h.destroy()}}}const IOe="_container_1up64_1",ROe="_node_1up64_15",MOe="_tooltip_1up64_19",FOe="_contextMenu_1up64_32",DOe="_menuEntry_1up64_37",LOe={container:IOe,node:ROe,tooltip:MOe,contextMenu:FOe,menuEntry:DOe},BOe=(t,e,n)=>{let r={};const i={globalParams:{},lockedStats:{},stats:{},abilities:{},pointsInvested:0,exportableBuild:{}},s=(c,h,f,p)=>{if(Mr(i.stats[h])&&(i.stats[h]=0),!i.lockedStats[h]||p&&f&&i.lockedStats[h]<f)if(p)i.stats[h]=f,i.lockedStats[h]=f;else if(c.levels){const m=c.acquired||0;f=f||0,i.stats[h]+=f*m}else i.stats[h]+=f},o=(c,h)=>{const f=Ve(e,{id:c});Mr(i.abilities[c])&&(i.abilities[c]=ut(f)||{},i.abilities[c].modifiers={}),i.abilities[c].learned=i.abilities[c].learned||h},a=c=>{const h=Ve(e,{id:c});h&&(o(h.id),i.abilities[c].replaced=!0)},l=(c,h,f={},p)=>{const m=Ve(e,{id:c});o(c,h),m!=null&&m.replaces&&i.abilities[c].learned&&a(m==null?void 0:m.replaces),f&&vt(f,v=>{if(rZ(v.id,"tag-")){Mr(i.abilities[c].tags)&&(i.abilities[c].tags=[]);const x=v.id.substring(4);i.abilities[c].tags=wd([...i.abilities[c].tags,x])}let y=v.modifier;p.levels&&(y=p.acquired*v.modifier),Mr(i.abilities[c].modifiers[v.id])&&(i.abilities[c].modifiers[v.id]=0),i.abilities[c].modifiers[v.id]+=y})};return vt(n,c=>{i.globalParams[c.id]=c.value}),vt(t,c=>{c.globalParams&&vt(c.globalParams,h=>{Mr(i.globalParams[h.id])&&(i.globalParams[h.id]=0),h.set?(!r[h.id]||h.modifier>r[h.id])&&(r[h.id]=h.modifier):i.globalParams[h.id]+=h.modifier})}),vt(t,c=>{if(c.levels){const h=c.acquired||0;i.exportableBuild[c.id]=c.acquired||0,c.levelCost?Array.isArray(c.levelCost)?rf(h,f=>{i.pointsInvested+=c.levelCost[f]}):i.pointsInvested+=h*c.levelCost:i.pointsInvested+=c.acquired||0}else i.exportableBuild[c.id]=!0,i.pointsInvested+=c.cost||1;c.providedStats&&vt(c.providedStats,h=>{s(c,h.id,h.modifier,h.set)}),c.providedAbilities&&vt(c.providedAbilities,h=>{l(h.id,h.gain,h.modifiers,c)})}),i};function NOe({infoUpdated:t,graphEvents:e}){const n=T.useRef(null),{abilities:r,globalParams:i}=T.useContext(Jn),{nodes:s,setNodeMeta:o,savedNodes:a}=T.useContext(wo),l=new yg,c=new yg,{savedBuild:h,setBuild:f,selectedUnit:p,defaultUnits:m,setDefaultUnits:v,customUnits:y,setCustomUnits:x}=T.useContext(as),{theme:b}=T.useContext(bc),{appMode:_,version:w}=T.useContext(ls),E=T.useRef(r),O=T.useRef(i),A=T.useRef(p),F=T.useRef(y),L=T.useRef(m);return T.useEffect(()=>{e.next({event:"modeChanged",data:{mode:_}})},[_]),T.useEffect(()=>{E.current=r},[r]),T.useEffect(()=>{O.current=i},[i]),T.useEffect(()=>{A.current=p,F.current=y,L.current=m},[p,y,m]),T.useEffect(()=>{e.next({event:"themeChanged",data:b})},[b]),T.useEffect(()=>{e.next({event:"buildChanged",data:{build:h}})},[h]),T.useEffect(()=>{let H;if(e.subscribe({next:j=>{}}),l.subscribe({next:j=>{const z=gr(j.nodes,q=>q.selected||q.acquired),W=BOe(z,E.current,O.current);if(!j.ignoreSave&&A.current)if(A.current.type==="custom"){const q=Ve(F.current,{id:A.current.unit.id});x({type:"update",unit:{...q,build:W.exportableBuild}})}else{const q=Ve(L.current,{id:A.current.unit.id});v({type:"update",unit:{...q,build:W.exportableBuild}})}f({type:"set",build:W}),j.nodeMeta&&o(j.nodeMeta)}}),c.subscribe({next:j=>{t(j)}}),n.current){const{destroy:j}=OOe(n.current,s,h,l,c,e,b);H=j}return t({}),H},[a,w]),k("div",{ref:n,className:LOe.container})}const Pb=new yg;function $Oe(){const{setSelectedNodeId:t}=T.useContext(wo),{build:e}=T.useContext(as),{theme:n}=T.useContext(bc),{appMode:r,setAppMode:i,buildMode:s,setBuildMode:o}=T.useContext(ls),a=T.useRef(r),l=T.useRef(s);T.useEffect(()=>{a.current=r},[r]),T.useEffect(()=>{l.current=s},[s]);const c=T.useCallback(f=>{var m;const p=["INPUT","SELECT","TEXTAREA"];f.shiftKey&&!tf(p,(m=document.activeElement)==null?void 0:m.tagName)&&(f.key==="E"?i(a.current==="edit"?s:"edit"):f.key==="F"&&(l.current==="build-slow"?(i("build-fast"),o("build-fast")):(i("build-slow"),o("build-slow"))))},[]);T.useEffect(()=>(document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}),[c]);const h=f=>{var p;t((p=f.node)==null?void 0:p.id)};return ee("div",{className:co({App:!0,light:n==="light"}),children:[ee("div",{className:"appLeft",children:[k(DSe,{graphEvents$:Pb}),k(USe,{pointsSpent:e.pointsInvested})]}),k("div",{className:"appRight",children:k($Se,{graphEvents$:Pb})}),k("div",{className:"skill-panel",children:k(NOe,{infoUpdated:h,graphEvents:Pb})})]})}function UOe(){return k(CZ,{children:k(oJ,{children:k(hJ,{children:k(xZ,{children:k(jne,{children:k(Vne,{children:k(Koe,{children:k($Oe,{})})})})})})})})}kb.createRoot(document.getElementById("root")).render(k(UOe,{}))});export default zOe();
