var dH=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var DOe=dH((Nr,$r)=>{function fH(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var hr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function W3(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function pH(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Gm={},mH={get exports(){return Gm},set exports(t){Gm=t}},nv={},T={},gH={get exports(){return T},set exports(t){T=t}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gd=Symbol.for("react.element"),vH=Symbol.for("react.portal"),yH=Symbol.for("react.fragment"),bH=Symbol.for("react.strict_mode"),xH=Symbol.for("react.profiler"),wH=Symbol.for("react.provider"),_H=Symbol.for("react.context"),SH=Symbol.for("react.forward_ref"),EH=Symbol.for("react.suspense"),CH=Symbol.for("react.memo"),TH=Symbol.for("react.lazy"),WA=Symbol.iterator;function AH(t){return t===null||typeof t!="object"?null:(t=WA&&t[WA]||t["@@iterator"],typeof t=="function"?t:null)}var G3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V3=Object.assign,q3={};function mc(t,e,n){this.props=t,this.context=e,this.refs=q3,this.updater=n||G3}mc.prototype.isReactComponent={};mc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};mc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function X3(){}X3.prototype=mc.prototype;function y_(t,e,n){this.props=t,this.context=e,this.refs=q3,this.updater=n||G3}var b_=y_.prototype=new X3;b_.constructor=y_;V3(b_,mc.prototype);b_.isPureReactComponent=!0;var GA=Array.isArray,Y3=Object.prototype.hasOwnProperty,x_={current:null},K3={key:!0,ref:!0,__self:!0,__source:!0};function Z3(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Y3.call(e,r)&&!K3.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Gd,type:t,key:s,ref:o,props:i,_owner:x_.current}}function PH(t,e){return{$$typeof:Gd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function w_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gd}function kH(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var VA=/\/+/g;function Gy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?kH(""+t.key):e.toString(36)}function mm(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Gd:case vH:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Gy(o,0):r,GA(i)?(n="",t!=null&&(n=t.replace(VA,"$&/")+"/"),mm(i,e,n,"",function(c){return c})):i!=null&&(w_(i)&&(i=PH(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(VA,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",GA(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Gy(s,a);o+=mm(s,e,n,l,i)}else if(l=AH(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Gy(s,a++),o+=mm(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function gp(t,e,n){if(t==null)return t;var r=[],i=0;return mm(t,r,"","",function(s){return e.call(n,s,i++)}),r}function OH(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var tr={current:null},gm={transition:null},IH={ReactCurrentDispatcher:tr,ReactCurrentBatchConfig:gm,ReactCurrentOwner:x_};st.Children={map:gp,forEach:function(t,e,n){gp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gp(t,function(){e++}),e},toArray:function(t){return gp(t,function(e){return e})||[]},only:function(t){if(!w_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};st.Component=mc;st.Fragment=yH;st.Profiler=xH;st.PureComponent=y_;st.StrictMode=bH;st.Suspense=EH;st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IH;st.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=V3({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=x_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Y3.call(e,l)&&!K3.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Gd,type:t.type,key:i,ref:s,props:r,_owner:o}};st.createContext=function(t){return t={$$typeof:_H,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wH,_context:t},t.Consumer=t};st.createElement=Z3;st.createFactory=function(t){var e=Z3.bind(null,t);return e.type=t,e};st.createRef=function(){return{current:null}};st.forwardRef=function(t){return{$$typeof:SH,render:t}};st.isValidElement=w_;st.lazy=function(t){return{$$typeof:TH,_payload:{_status:-1,_result:t},_init:OH}};st.memo=function(t,e){return{$$typeof:CH,type:t,compare:e===void 0?null:e}};st.startTransition=function(t){var e=gm.transition;gm.transition={};try{t()}finally{gm.transition=e}};st.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};st.useCallback=function(t,e){return tr.current.useCallback(t,e)};st.useContext=function(t){return tr.current.useContext(t)};st.useDebugValue=function(){};st.useDeferredValue=function(t){return tr.current.useDeferredValue(t)};st.useEffect=function(t,e){return tr.current.useEffect(t,e)};st.useId=function(){return tr.current.useId()};st.useImperativeHandle=function(t,e,n){return tr.current.useImperativeHandle(t,e,n)};st.useInsertionEffect=function(t,e){return tr.current.useInsertionEffect(t,e)};st.useLayoutEffect=function(t,e){return tr.current.useLayoutEffect(t,e)};st.useMemo=function(t,e){return tr.current.useMemo(t,e)};st.useReducer=function(t,e,n){return tr.current.useReducer(t,e,n)};st.useRef=function(t){return tr.current.useRef(t)};st.useState=function(t){return tr.current.useState(t)};st.useSyncExternalStore=function(t,e,n){return tr.current.useSyncExternalStore(t,e,n)};st.useTransition=function(){return tr.current.useTransition()};st.version="18.2.0";(function(t){t.exports=st})(gH);const P=W3(T),qA=fH({__proto__:null,default:P},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RH=T,MH=Symbol.for("react.element"),FH=Symbol.for("react.fragment"),DH=Object.prototype.hasOwnProperty,LH=RH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BH={key:!0,ref:!0,__self:!0,__source:!0};function Q3(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)DH.call(e,r)&&!BH.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:MH,type:t,key:s,ref:o,props:i,_owner:LH.current}}nv.Fragment=FH;nv.jsx=Q3;nv.jsxs=Q3;(function(t){t.exports=nv})(mH);const k=Gm.jsx,te=Gm.jsxs;var Ab={},Qh={},NH={get exports(){return Qh},set exports(t){Qh=t}},qr={},Pb={},$H={get exports(){return Pb},set exports(t){Pb=t}},J3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Z,se){var G=Z.length;Z.push(se);e:for(;0<G;){var M=G-1>>>1,D=Z[M];if(0<i(D,se))Z[M]=se,Z[G]=D,G=M;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var se=Z[0],G=Z.pop();if(G!==se){Z[0]=G;e:for(var M=0,D=Z.length,Q=D>>>1;M<Q;){var J=2*(M+1)-1,$=Z[J],re=J+1,me=Z[re];if(0>i($,G))re<D&&0>i(me,$)?(Z[M]=me,Z[re]=G,M=re):(Z[M]=$,Z[J]=G,M=J);else if(re<D&&0>i(me,G))Z[M]=me,Z[re]=G,M=re;else break e}}return se}function i(Z,se){var G=Z.sortIndex-se.sortIndex;return G!==0?G:Z.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,f=null,p=3,m=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(Z){for(var se=n(c);se!==null;){if(se.callback===null)r(c);else if(se.startTime<=Z)r(c),se.sortIndex=se.expirationTime,e(l,se);else break;se=n(c)}}function E(Z){if(y=!1,w(Z),!v)if(n(l)!==null)v=!0,ue(O);else{var se=n(c);se!==null&&Y(E,se.startTime-Z)}}function O(Z,se){v=!1,y&&(y=!1,b(L),L=-1),m=!0;var G=p;try{for(w(se),f=n(l);f!==null&&(!(f.expirationTime>se)||Z&&!z());){var M=f.callback;if(typeof M=="function"){f.callback=null,p=f.priorityLevel;var D=M(f.expirationTime<=se);se=t.unstable_now(),typeof D=="function"?f.callback=D:f===n(l)&&r(l),w(se)}else r(l);f=n(l)}if(f!==null)var Q=!0;else{var J=n(c);J!==null&&Y(E,J.startTime-se),Q=!1}return Q}finally{f=null,p=G,m=!1}}var A=!1,F=null,L=-1,H=5,V=-1;function z(){return!(t.unstable_now()-V<H)}function j(){if(F!==null){var Z=t.unstable_now();V=Z;var se=!0;try{se=F(!0,Z)}finally{se?X():(A=!1,F=null)}}else A=!1}var X;if(typeof S=="function")X=function(){S(j)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,fe=K.port2;K.port1.onmessage=j,X=function(){fe.postMessage(null)}}else X=function(){x(j,0)};function ue(Z){F=Z,A||(A=!0,X())}function Y(Z,se){L=x(function(){Z(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,ue(O))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Z){switch(p){case 1:case 2:case 3:var se=3;break;default:se=p}var G=p;p=se;try{return Z()}finally{p=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,se){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var G=p;p=Z;try{return se()}finally{p=G}},t.unstable_scheduleCallback=function(Z,se,G){var M=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?M+G:M):G=M,Z){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=G+D,Z={id:h++,callback:se,priorityLevel:Z,startTime:G,expirationTime:D,sortIndex:-1},G>M?(Z.sortIndex=G,e(c,Z),n(l)===null&&Z===n(c)&&(y?(b(L),L=-1):y=!0,Y(E,G-M))):(Z.sortIndex=D,e(l,Z),v||m||(v=!0,ue(O))),Z},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(Z){var se=p;return function(){var G=p;p=se;try{return Z.apply(this,arguments)}finally{p=G}}}})(J3);(function(t){t.exports=J3})($H);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eM=T,Gr=Pb;function he(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tM=new Set,Jh={};function ml(t,e){Gu(t,e),Gu(t+"Capture",e)}function Gu(t,e){for(Jh[t]=e,t=0;t<e.length;t++)tM.add(e[t])}var so=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kb=Object.prototype.hasOwnProperty,UH=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,XA={},YA={};function zH(t){return kb.call(YA,t)?!0:kb.call(XA,t)?!1:UH.test(t)?YA[t]=!0:(XA[t]=!0,!1)}function HH(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jH(t,e,n,r){if(e===null||typeof e>"u"||HH(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Dn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dn[t]=new nr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dn[e]=new nr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dn[t]=new nr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dn[t]=new nr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dn[t]=new nr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dn[t]=new nr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dn[t]=new nr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dn[t]=new nr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dn[t]=new nr(t,5,!1,t.toLowerCase(),null,!1,!1)});var __=/[\-:]([a-z])/g;function S_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(__,S_);Dn[e]=new nr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(__,S_);Dn[e]=new nr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(__,S_);Dn[e]=new nr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dn[t]=new nr(t,1,!1,t.toLowerCase(),null,!1,!1)});Dn.xlinkHref=new nr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dn[t]=new nr(t,1,!1,t.toLowerCase(),null,!0,!0)});function E_(t,e,n,r){var i=Dn.hasOwnProperty(e)?Dn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jH(e,n,i,r)&&(n=null),r||i===null?zH(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var mo=eM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vp=Symbol.for("react.element"),yu=Symbol.for("react.portal"),bu=Symbol.for("react.fragment"),C_=Symbol.for("react.strict_mode"),Ob=Symbol.for("react.profiler"),nM=Symbol.for("react.provider"),rM=Symbol.for("react.context"),T_=Symbol.for("react.forward_ref"),Ib=Symbol.for("react.suspense"),Rb=Symbol.for("react.suspense_list"),A_=Symbol.for("react.memo"),Do=Symbol.for("react.lazy"),iM=Symbol.for("react.offscreen"),KA=Symbol.iterator;function Zc(t){return t===null||typeof t!="object"?null:(t=KA&&t[KA]||t["@@iterator"],typeof t=="function"?t:null)}var Kt=Object.assign,Vy;function _h(t){if(Vy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Vy=e&&e[1]||""}return`
`+Vy+t}var qy=!1;function Xy(t,e){if(!t||qy)return"";qy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{qy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?_h(t):""}function WH(t){switch(t.tag){case 5:return _h(t.type);case 16:return _h("Lazy");case 13:return _h("Suspense");case 19:return _h("SuspenseList");case 0:case 2:case 15:return t=Xy(t.type,!1),t;case 11:return t=Xy(t.type.render,!1),t;case 1:return t=Xy(t.type,!0),t;default:return""}}function Mb(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case bu:return"Fragment";case yu:return"Portal";case Ob:return"Profiler";case C_:return"StrictMode";case Ib:return"Suspense";case Rb:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case rM:return(t.displayName||"Context")+".Consumer";case nM:return(t._context.displayName||"Context")+".Provider";case T_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case A_:return e=t.displayName||null,e!==null?e:Mb(t.type)||"Memo";case Do:e=t._payload,t=t._init;try{return Mb(t(e))}catch{}}return null}function GH(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mb(e);case 8:return e===C_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ea(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sM(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function VH(t){var e=sM(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yp(t){t._valueTracker||(t._valueTracker=VH(t))}function oM(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=sM(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Vm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fb(t,e){var n=e.checked;return Kt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ZA(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ea(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function aM(t,e){e=e.checked,e!=null&&E_(t,"checked",e,!1)}function Db(t,e){aM(t,e);var n=ea(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Lb(t,e.type,n):e.hasOwnProperty("defaultValue")&&Lb(t,e.type,ea(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function QA(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Lb(t,e,n){(e!=="number"||Vm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Sh=Array.isArray;function Iu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ea(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Bb(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(he(91));return Kt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function JA(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(he(92));if(Sh(n)){if(1<n.length)throw Error(he(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ea(n)}}function lM(t,e){var n=ea(e.value),r=ea(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function eP(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function uM(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nb(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?uM(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bp,cM=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bp=bp||document.createElement("div"),bp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ed(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Nh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qH=["Webkit","ms","Moz","O"];Object.keys(Nh).forEach(function(t){qH.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nh[e]=Nh[t]})});function hM(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Nh.hasOwnProperty(t)&&Nh[t]?(""+e).trim():e+"px"}function dM(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=hM(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var XH=Kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $b(t,e){if(e){if(XH[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(he(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(he(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(he(61))}if(e.style!=null&&typeof e.style!="object")throw Error(he(62))}}function Ub(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zb=null;function P_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hb=null,Ru=null,Mu=null;function tP(t){if(t=Xd(t)){if(typeof Hb!="function")throw Error(he(280));var e=t.stateNode;e&&(e=av(e),Hb(t.stateNode,t.type,e))}}function fM(t){Ru?Mu?Mu.push(t):Mu=[t]:Ru=t}function pM(){if(Ru){var t=Ru,e=Mu;if(Mu=Ru=null,tP(t),e)for(t=0;t<e.length;t++)tP(e[t])}}function mM(t,e){return t(e)}function gM(){}var Yy=!1;function vM(t,e,n){if(Yy)return t(e,n);Yy=!0;try{return mM(t,e,n)}finally{Yy=!1,(Ru!==null||Mu!==null)&&(gM(),pM())}}function td(t,e){var n=t.stateNode;if(n===null)return null;var r=av(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(he(231,e,typeof n));return n}var jb=!1;if(so)try{var Qc={};Object.defineProperty(Qc,"passive",{get:function(){jb=!0}}),window.addEventListener("test",Qc,Qc),window.removeEventListener("test",Qc,Qc)}catch{jb=!1}function YH(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var $h=!1,qm=null,Xm=!1,Wb=null,KH={onError:function(t){$h=!0,qm=t}};function ZH(t,e,n,r,i,s,o,a,l){$h=!1,qm=null,YH.apply(KH,arguments)}function QH(t,e,n,r,i,s,o,a,l){if(ZH.apply(this,arguments),$h){if($h){var c=qm;$h=!1,qm=null}else throw Error(he(198));Xm||(Xm=!0,Wb=c)}}function gl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function yM(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nP(t){if(gl(t)!==t)throw Error(he(188))}function JH(t){var e=t.alternate;if(!e){if(e=gl(t),e===null)throw Error(he(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return nP(i),t;if(s===r)return nP(i),e;s=s.sibling}throw Error(he(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(he(189))}}if(n.alternate!==r)throw Error(he(190))}if(n.tag!==3)throw Error(he(188));return n.stateNode.current===n?t:e}function bM(t){return t=JH(t),t!==null?xM(t):null}function xM(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=xM(t);if(e!==null)return e;t=t.sibling}return null}var wM=Gr.unstable_scheduleCallback,rP=Gr.unstable_cancelCallback,ej=Gr.unstable_shouldYield,tj=Gr.unstable_requestPaint,on=Gr.unstable_now,nj=Gr.unstable_getCurrentPriorityLevel,k_=Gr.unstable_ImmediatePriority,_M=Gr.unstable_UserBlockingPriority,Ym=Gr.unstable_NormalPriority,rj=Gr.unstable_LowPriority,SM=Gr.unstable_IdlePriority,rv=null,Ts=null;function ij(t){if(Ts&&typeof Ts.onCommitFiberRoot=="function")try{Ts.onCommitFiberRoot(rv,t,void 0,(t.current.flags&128)===128)}catch{}}var Yi=Math.clz32?Math.clz32:aj,sj=Math.log,oj=Math.LN2;function aj(t){return t>>>=0,t===0?32:31-(sj(t)/oj|0)|0}var xp=64,wp=4194304;function Eh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Km(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Eh(a):(s&=o,s!==0&&(r=Eh(s)))}else o=n&~i,o!==0?r=Eh(o):s!==0&&(r=Eh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Yi(e),i=1<<n,r|=t[n],e&=~i;return r}function lj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uj(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Yi(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=lj(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Gb(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function EM(){var t=xp;return xp<<=1,!(xp&4194240)&&(xp=64),t}function Ky(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yi(e),t[e]=n}function cj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Yi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function O_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var xt=0;function CM(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var TM,I_,AM,PM,kM,Vb=!1,_p=[],Wo=null,Go=null,Vo=null,nd=new Map,rd=new Map,No=[],hj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iP(t,e){switch(t){case"focusin":case"focusout":Wo=null;break;case"dragenter":case"dragleave":Go=null;break;case"mouseover":case"mouseout":Vo=null;break;case"pointerover":case"pointerout":nd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rd.delete(e.pointerId)}}function Jc(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Xd(e),e!==null&&I_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function dj(t,e,n,r,i){switch(e){case"focusin":return Wo=Jc(Wo,t,e,n,r,i),!0;case"dragenter":return Go=Jc(Go,t,e,n,r,i),!0;case"mouseover":return Vo=Jc(Vo,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return nd.set(s,Jc(nd.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,rd.set(s,Jc(rd.get(s)||null,t,e,n,r,i)),!0}return!1}function OM(t){var e=Ua(t.target);if(e!==null){var n=gl(e);if(n!==null){if(e=n.tag,e===13){if(e=yM(n),e!==null){t.blockedOn=e,kM(t.priority,function(){AM(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=qb(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);zb=r,n.target.dispatchEvent(r),zb=null}else return e=Xd(n),e!==null&&I_(e),t.blockedOn=n,!1;e.shift()}return!0}function sP(t,e,n){vm(t)&&n.delete(e)}function fj(){Vb=!1,Wo!==null&&vm(Wo)&&(Wo=null),Go!==null&&vm(Go)&&(Go=null),Vo!==null&&vm(Vo)&&(Vo=null),nd.forEach(sP),rd.forEach(sP)}function eh(t,e){t.blockedOn===e&&(t.blockedOn=null,Vb||(Vb=!0,Gr.unstable_scheduleCallback(Gr.unstable_NormalPriority,fj)))}function id(t){function e(i){return eh(i,t)}if(0<_p.length){eh(_p[0],t);for(var n=1;n<_p.length;n++){var r=_p[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Wo!==null&&eh(Wo,t),Go!==null&&eh(Go,t),Vo!==null&&eh(Vo,t),nd.forEach(e),rd.forEach(e),n=0;n<No.length;n++)r=No[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<No.length&&(n=No[0],n.blockedOn===null);)OM(n),n.blockedOn===null&&No.shift()}var Fu=mo.ReactCurrentBatchConfig,Zm=!0;function pj(t,e,n,r){var i=xt,s=Fu.transition;Fu.transition=null;try{xt=1,R_(t,e,n,r)}finally{xt=i,Fu.transition=s}}function mj(t,e,n,r){var i=xt,s=Fu.transition;Fu.transition=null;try{xt=4,R_(t,e,n,r)}finally{xt=i,Fu.transition=s}}function R_(t,e,n,r){if(Zm){var i=qb(t,e,n,r);if(i===null)o1(t,e,r,Qm,n),iP(t,r);else if(dj(i,t,e,n,r))r.stopPropagation();else if(iP(t,r),e&4&&-1<hj.indexOf(t)){for(;i!==null;){var s=Xd(i);if(s!==null&&TM(s),s=qb(t,e,n,r),s===null&&o1(t,e,r,Qm,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else o1(t,e,r,null,n)}}var Qm=null;function qb(t,e,n,r){if(Qm=null,t=P_(r),t=Ua(t),t!==null)if(e=gl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=yM(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qm=t,null}function IM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nj()){case k_:return 1;case _M:return 4;case Ym:case rj:return 16;case SM:return 536870912;default:return 16}default:return 16}}var Uo=null,M_=null,ym=null;function RM(){if(ym)return ym;var t,e=M_,n=e.length,r,i="value"in Uo?Uo.value:Uo.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ym=i.slice(t,1<r?1-r:void 0)}function bm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Sp(){return!0}function oP(){return!1}function Xr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Sp:oP,this.isPropagationStopped=oP,this}return Kt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sp)},persist:function(){},isPersistent:Sp}),e}var gc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},F_=Xr(gc),qd=Kt({},gc,{view:0,detail:0}),gj=Xr(qd),Zy,Qy,th,iv=Kt({},qd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:D_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==th&&(th&&t.type==="mousemove"?(Zy=t.screenX-th.screenX,Qy=t.screenY-th.screenY):Qy=Zy=0,th=t),Zy)},movementY:function(t){return"movementY"in t?t.movementY:Qy}}),aP=Xr(iv),vj=Kt({},iv,{dataTransfer:0}),yj=Xr(vj),bj=Kt({},qd,{relatedTarget:0}),Jy=Xr(bj),xj=Kt({},gc,{animationName:0,elapsedTime:0,pseudoElement:0}),wj=Xr(xj),_j=Kt({},gc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Sj=Xr(_j),Ej=Kt({},gc,{data:0}),lP=Xr(Ej),Cj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Aj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Aj[t])?!!e[t]:!1}function D_(){return Pj}var kj=Kt({},qd,{key:function(t){if(t.key){var e=Cj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=bm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Tj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:D_,charCode:function(t){return t.type==="keypress"?bm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Oj=Xr(kj),Ij=Kt({},iv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uP=Xr(Ij),Rj=Kt({},qd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:D_}),Mj=Xr(Rj),Fj=Kt({},gc,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dj=Xr(Fj),Lj=Kt({},iv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Bj=Xr(Lj),Nj=[9,13,27,32],L_=so&&"CompositionEvent"in window,Uh=null;so&&"documentMode"in document&&(Uh=document.documentMode);var $j=so&&"TextEvent"in window&&!Uh,MM=so&&(!L_||Uh&&8<Uh&&11>=Uh),cP=String.fromCharCode(32),hP=!1;function FM(t,e){switch(t){case"keyup":return Nj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xu=!1;function Uj(t,e){switch(t){case"compositionend":return DM(e);case"keypress":return e.which!==32?null:(hP=!0,cP);case"textInput":return t=e.data,t===cP&&hP?null:t;default:return null}}function zj(t,e){if(xu)return t==="compositionend"||!L_&&FM(t,e)?(t=RM(),ym=M_=Uo=null,xu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return MM&&e.locale!=="ko"?null:e.data;default:return null}}var Hj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Hj[t.type]:e==="textarea"}function LM(t,e,n,r){fM(r),e=Jm(e,"onChange"),0<e.length&&(n=new F_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var zh=null,sd=null;function jj(t){qM(t,0)}function sv(t){var e=Su(t);if(oM(e))return t}function Wj(t,e){if(t==="change")return e}var BM=!1;if(so){var e1;if(so){var t1="oninput"in document;if(!t1){var fP=document.createElement("div");fP.setAttribute("oninput","return;"),t1=typeof fP.oninput=="function"}e1=t1}else e1=!1;BM=e1&&(!document.documentMode||9<document.documentMode)}function pP(){zh&&(zh.detachEvent("onpropertychange",NM),sd=zh=null)}function NM(t){if(t.propertyName==="value"&&sv(sd)){var e=[];LM(e,sd,t,P_(t)),vM(jj,e)}}function Gj(t,e,n){t==="focusin"?(pP(),zh=e,sd=n,zh.attachEvent("onpropertychange",NM)):t==="focusout"&&pP()}function Vj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return sv(sd)}function qj(t,e){if(t==="click")return sv(e)}function Xj(t,e){if(t==="input"||t==="change")return sv(e)}function Yj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ns=typeof Object.is=="function"?Object.is:Yj;function od(t,e){if(ns(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!kb.call(e,i)||!ns(t[i],e[i]))return!1}return!0}function mP(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gP(t,e){var n=mP(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mP(n)}}function $M(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$M(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function UM(){for(var t=window,e=Vm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Vm(t.document)}return e}function B_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Kj(t){var e=UM(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&$M(n.ownerDocument.documentElement,n)){if(r!==null&&B_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=gP(n,s);var o=gP(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Zj=so&&"documentMode"in document&&11>=document.documentMode,wu=null,Xb=null,Hh=null,Yb=!1;function vP(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yb||wu==null||wu!==Vm(r)||(r=wu,"selectionStart"in r&&B_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hh&&od(Hh,r)||(Hh=r,r=Jm(Xb,"onSelect"),0<r.length&&(e=new F_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=wu)))}function Ep(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _u={animationend:Ep("Animation","AnimationEnd"),animationiteration:Ep("Animation","AnimationIteration"),animationstart:Ep("Animation","AnimationStart"),transitionend:Ep("Transition","TransitionEnd")},n1={},zM={};so&&(zM=document.createElement("div").style,"AnimationEvent"in window||(delete _u.animationend.animation,delete _u.animationiteration.animation,delete _u.animationstart.animation),"TransitionEvent"in window||delete _u.transitionend.transition);function ov(t){if(n1[t])return n1[t];if(!_u[t])return t;var e=_u[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in zM)return n1[t]=e[n];return t}var HM=ov("animationend"),jM=ov("animationiteration"),WM=ov("animationstart"),GM=ov("transitionend"),VM=new Map,yP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function aa(t,e){VM.set(t,e),ml(e,[t])}for(var r1=0;r1<yP.length;r1++){var i1=yP[r1],Qj=i1.toLowerCase(),Jj=i1[0].toUpperCase()+i1.slice(1);aa(Qj,"on"+Jj)}aa(HM,"onAnimationEnd");aa(jM,"onAnimationIteration");aa(WM,"onAnimationStart");aa("dblclick","onDoubleClick");aa("focusin","onFocus");aa("focusout","onBlur");aa(GM,"onTransitionEnd");Gu("onMouseEnter",["mouseout","mouseover"]);Gu("onMouseLeave",["mouseout","mouseover"]);Gu("onPointerEnter",["pointerout","pointerover"]);Gu("onPointerLeave",["pointerout","pointerover"]);ml("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ml("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ml("onBeforeInput",["compositionend","keypress","textInput","paste"]);ml("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ml("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ml("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ch="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eW=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ch));function bP(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,QH(r,e,void 0,t),t.currentTarget=null}function qM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;bP(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;bP(i,a,c),s=l}}}if(Xm)throw t=Wb,Xm=!1,Wb=null,t}function Mt(t,e){var n=e[ex];n===void 0&&(n=e[ex]=new Set);var r=t+"__bubble";n.has(r)||(XM(e,t,2,!1),n.add(r))}function s1(t,e,n){var r=0;e&&(r|=4),XM(n,t,r,e)}var Cp="_reactListening"+Math.random().toString(36).slice(2);function ad(t){if(!t[Cp]){t[Cp]=!0,tM.forEach(function(n){n!=="selectionchange"&&(eW.has(n)||s1(n,!1,t),s1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Cp]||(e[Cp]=!0,s1("selectionchange",!1,e))}}function XM(t,e,n,r){switch(IM(e)){case 1:var i=pj;break;case 4:i=mj;break;default:i=R_}n=i.bind(null,e,n,t),i=void 0,!jb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function o1(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ua(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}vM(function(){var c=s,h=P_(n),f=[];e:{var p=VM.get(t);if(p!==void 0){var m=F_,v=t;switch(t){case"keypress":if(bm(n)===0)break e;case"keydown":case"keyup":m=Oj;break;case"focusin":v="focus",m=Jy;break;case"focusout":v="blur",m=Jy;break;case"beforeblur":case"afterblur":m=Jy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=aP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=yj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Mj;break;case HM:case jM:case WM:m=wj;break;case GM:m=Dj;break;case"scroll":m=gj;break;case"wheel":m=Bj;break;case"copy":case"cut":case"paste":m=Sj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=uP}var y=(e&4)!==0,x=!y&&t==="scroll",b=y?p!==null?p+"Capture":null:p;y=[];for(var S=c,w;S!==null;){w=S;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,b!==null&&(E=td(S,b),E!=null&&y.push(ld(S,E,w)))),x)break;S=S.return}0<y.length&&(p=new m(p,v,null,n,h),f.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==zb&&(v=n.relatedTarget||n.fromElement)&&(Ua(v)||v[oo]))break e;if((m||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?Ua(v):null,v!==null&&(x=gl(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(y=aP,E="onMouseLeave",b="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(y=uP,E="onPointerLeave",b="onPointerEnter",S="pointer"),x=m==null?p:Su(m),w=v==null?p:Su(v),p=new y(E,S+"leave",m,n,h),p.target=x,p.relatedTarget=w,E=null,Ua(h)===c&&(y=new y(b,S+"enter",v,n,h),y.target=w,y.relatedTarget=x,E=y),x=E,m&&v)t:{for(y=m,b=v,S=0,w=y;w;w=Ul(w))S++;for(w=0,E=b;E;E=Ul(E))w++;for(;0<S-w;)y=Ul(y),S--;for(;0<w-S;)b=Ul(b),w--;for(;S--;){if(y===b||b!==null&&y===b.alternate)break t;y=Ul(y),b=Ul(b)}y=null}else y=null;m!==null&&xP(f,p,m,y,!1),v!==null&&x!==null&&xP(f,x,v,y,!0)}}e:{if(p=c?Su(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var O=Wj;else if(dP(p))if(BM)O=Xj;else{O=Vj;var A=Gj}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=qj);if(O&&(O=O(t,c))){LM(f,O,n,h);break e}A&&A(t,p,c),t==="focusout"&&(A=p._wrapperState)&&A.controlled&&p.type==="number"&&Lb(p,"number",p.value)}switch(A=c?Su(c):window,t){case"focusin":(dP(A)||A.contentEditable==="true")&&(wu=A,Xb=c,Hh=null);break;case"focusout":Hh=Xb=wu=null;break;case"mousedown":Yb=!0;break;case"contextmenu":case"mouseup":case"dragend":Yb=!1,vP(f,n,h);break;case"selectionchange":if(Zj)break;case"keydown":case"keyup":vP(f,n,h)}var F;if(L_)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else xu?FM(t,n)&&(L="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(MM&&n.locale!=="ko"&&(xu||L!=="onCompositionStart"?L==="onCompositionEnd"&&xu&&(F=RM()):(Uo=h,M_="value"in Uo?Uo.value:Uo.textContent,xu=!0)),A=Jm(c,L),0<A.length&&(L=new lP(L,t,null,n,h),f.push({event:L,listeners:A}),F?L.data=F:(F=DM(n),F!==null&&(L.data=F)))),(F=$j?Uj(t,n):zj(t,n))&&(c=Jm(c,"onBeforeInput"),0<c.length&&(h=new lP("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=F))}qM(f,e)})}function ld(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Jm(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=td(t,n),s!=null&&r.unshift(ld(t,s,i)),s=td(t,e),s!=null&&r.push(ld(t,s,i))),t=t.return}return r}function Ul(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function xP(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=td(n,s),l!=null&&o.unshift(ld(n,l,a))):i||(l=td(n,s),l!=null&&o.push(ld(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var tW=/\r\n?/g,nW=/\u0000|\uFFFD/g;function wP(t){return(typeof t=="string"?t:""+t).replace(tW,`
`).replace(nW,"")}function Tp(t,e,n){if(e=wP(e),wP(t)!==e&&n)throw Error(he(425))}function eg(){}var Kb=null,Zb=null;function Qb(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Jb=typeof setTimeout=="function"?setTimeout:void 0,rW=typeof clearTimeout=="function"?clearTimeout:void 0,_P=typeof Promise=="function"?Promise:void 0,iW=typeof queueMicrotask=="function"?queueMicrotask:typeof _P<"u"?function(t){return _P.resolve(null).then(t).catch(sW)}:Jb;function sW(t){setTimeout(function(){throw t})}function a1(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),id(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);id(e)}function qo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function SP(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var vc=Math.random().toString(36).slice(2),xs="__reactFiber$"+vc,ud="__reactProps$"+vc,oo="__reactContainer$"+vc,ex="__reactEvents$"+vc,oW="__reactListeners$"+vc,aW="__reactHandles$"+vc;function Ua(t){var e=t[xs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[oo]||n[xs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=SP(t);t!==null;){if(n=t[xs])return n;t=SP(t)}return e}t=n,n=t.parentNode}return null}function Xd(t){return t=t[xs]||t[oo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Su(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(he(33))}function av(t){return t[ud]||null}var tx=[],Eu=-1;function la(t){return{current:t}}function Bt(t){0>Eu||(t.current=tx[Eu],tx[Eu]=null,Eu--)}function kt(t,e){Eu++,tx[Eu]=t.current,t.current=e}var ta={},jn=la(ta),fr=la(!1),tl=ta;function Vu(t,e){var n=t.type.contextTypes;if(!n)return ta;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function pr(t){return t=t.childContextTypes,t!=null}function tg(){Bt(fr),Bt(jn)}function EP(t,e,n){if(jn.current!==ta)throw Error(he(168));kt(jn,e),kt(fr,n)}function YM(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(he(108,GH(t)||"Unknown",i));return Kt({},n,r)}function ng(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ta,tl=jn.current,kt(jn,t),kt(fr,fr.current),!0}function CP(t,e,n){var r=t.stateNode;if(!r)throw Error(he(169));n?(t=YM(t,e,tl),r.__reactInternalMemoizedMergedChildContext=t,Bt(fr),Bt(jn),kt(jn,t)):Bt(fr),kt(fr,n)}var Zs=null,lv=!1,l1=!1;function KM(t){Zs===null?Zs=[t]:Zs.push(t)}function lW(t){lv=!0,KM(t)}function ua(){if(!l1&&Zs!==null){l1=!0;var t=0,e=xt;try{var n=Zs;for(xt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Zs=null,lv=!1}catch(i){throw Zs!==null&&(Zs=Zs.slice(t+1)),wM(k_,ua),i}finally{xt=e,l1=!1}}return null}var Cu=[],Tu=0,rg=null,ig=0,li=[],ui=0,nl=null,Js=1,eo="";function Ia(t,e){Cu[Tu++]=ig,Cu[Tu++]=rg,rg=t,ig=e}function ZM(t,e,n){li[ui++]=Js,li[ui++]=eo,li[ui++]=nl,nl=t;var r=Js;t=eo;var i=32-Yi(r)-1;r&=~(1<<i),n+=1;var s=32-Yi(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Js=1<<32-Yi(e)+i|n<<i|r,eo=s+t}else Js=1<<s|n<<i|r,eo=t}function N_(t){t.return!==null&&(Ia(t,1),ZM(t,1,0))}function $_(t){for(;t===rg;)rg=Cu[--Tu],Cu[Tu]=null,ig=Cu[--Tu],Cu[Tu]=null;for(;t===nl;)nl=li[--ui],li[ui]=null,eo=li[--ui],li[ui]=null,Js=li[--ui],li[ui]=null}var Ur=null,Dr=null,jt=!1,Wi=null;function QM(t,e){var n=pi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function TP(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ur=t,Dr=qo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ur=t,Dr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=nl!==null?{id:Js,overflow:eo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=pi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ur=t,Dr=null,!0):!1;default:return!1}}function nx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function rx(t){if(jt){var e=Dr;if(e){var n=e;if(!TP(t,e)){if(nx(t))throw Error(he(418));e=qo(n.nextSibling);var r=Ur;e&&TP(t,e)?QM(r,n):(t.flags=t.flags&-4097|2,jt=!1,Ur=t)}}else{if(nx(t))throw Error(he(418));t.flags=t.flags&-4097|2,jt=!1,Ur=t}}}function AP(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ur=t}function Ap(t){if(t!==Ur)return!1;if(!jt)return AP(t),jt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Qb(t.type,t.memoizedProps)),e&&(e=Dr)){if(nx(t))throw JM(),Error(he(418));for(;e;)QM(t,e),e=qo(e.nextSibling)}if(AP(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(he(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dr=qo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dr=null}}else Dr=Ur?qo(t.stateNode.nextSibling):null;return!0}function JM(){for(var t=Dr;t;)t=qo(t.nextSibling)}function qu(){Dr=Ur=null,jt=!1}function U_(t){Wi===null?Wi=[t]:Wi.push(t)}var uW=mo.ReactCurrentBatchConfig;function Hi(t,e){if(t&&t.defaultProps){e=Kt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var sg=la(null),og=null,Au=null,z_=null;function H_(){z_=Au=og=null}function j_(t){var e=sg.current;Bt(sg),t._currentValue=e}function ix(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Du(t,e){og=t,z_=Au=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dr=!0),t.firstContext=null)}function xi(t){var e=t._currentValue;if(z_!==t)if(t={context:t,memoizedValue:e,next:null},Au===null){if(og===null)throw Error(he(308));Au=t,og.dependencies={lanes:0,firstContext:t}}else Au=Au.next=t;return e}var za=null;function W_(t){za===null?za=[t]:za.push(t)}function eF(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,W_(e)):(n.next=i.next,i.next=n),e.interleaved=n,ao(t,r)}function ao(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Lo=!1;function G_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tF(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function no(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ut&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ao(t,n)}return i=r.interleaved,i===null?(e.next=e,W_(r)):(e.next=i.next,i.next=e),r.interleaved=e,ao(t,n)}function xm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,O_(t,n)}}function PP(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ag(t,e,n,r){var i=t.updateQueue;Lo=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,h=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,y=a;switch(p=e,m=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(m,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,p=typeof v=="function"?v.call(m,f,p):v,p==null)break e;f=Kt({},f,p);break e;case 2:Lo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=m,l=f):h=h.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);il|=o,t.lanes=o,t.memoizedState=f}}function kP(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(he(191,i));i.call(r)}}}var nF=new eM.Component().refs;function sx(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Kt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var uv={isMounted:function(t){return(t=t._reactInternals)?gl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qn(),i=Ko(t),s=no(r,i);s.payload=e,n!=null&&(s.callback=n),e=Xo(t,s,i),e!==null&&(Ki(e,t,i,r),xm(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qn(),i=Ko(t),s=no(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Xo(t,s,i),e!==null&&(Ki(e,t,i,r),xm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qn(),r=Ko(t),i=no(n,r);i.tag=2,e!=null&&(i.callback=e),e=Xo(t,i,r),e!==null&&(Ki(e,t,r,n),xm(e,t,r))}};function OP(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!od(n,r)||!od(i,s):!0}function rF(t,e,n){var r=!1,i=ta,s=e.contextType;return typeof s=="object"&&s!==null?s=xi(s):(i=pr(e)?tl:jn.current,r=e.contextTypes,s=(r=r!=null)?Vu(t,i):ta),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=uv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function IP(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&uv.enqueueReplaceState(e,e.state,null)}function ox(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=nF,G_(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=xi(s):(s=pr(e)?tl:jn.current,i.context=Vu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(sx(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&uv.enqueueReplaceState(i,i.state,null),ag(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function nh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(he(309));var r=n.stateNode}if(!r)throw Error(he(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===nF&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(he(284));if(!n._owner)throw Error(he(290,t))}return t}function Pp(t,e){throw t=Object.prototype.toString.call(e),Error(he(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function RP(t){var e=t._init;return e(t._payload)}function iF(t){function e(b,S){if(t){var w=b.deletions;w===null?(b.deletions=[S],b.flags|=16):w.push(S)}}function n(b,S){if(!t)return null;for(;S!==null;)e(b,S),S=S.sibling;return null}function r(b,S){for(b=new Map;S!==null;)S.key!==null?b.set(S.key,S):b.set(S.index,S),S=S.sibling;return b}function i(b,S){return b=Zo(b,S),b.index=0,b.sibling=null,b}function s(b,S,w){return b.index=w,t?(w=b.alternate,w!==null?(w=w.index,w<S?(b.flags|=2,S):w):(b.flags|=2,S)):(b.flags|=1048576,S)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,S,w,E){return S===null||S.tag!==6?(S=m1(w,b.mode,E),S.return=b,S):(S=i(S,w),S.return=b,S)}function l(b,S,w,E){var O=w.type;return O===bu?h(b,S,w.props.children,E,w.key):S!==null&&(S.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Do&&RP(O)===S.type)?(E=i(S,w.props),E.ref=nh(b,S,w),E.return=b,E):(E=Tm(w.type,w.key,w.props,null,b.mode,E),E.ref=nh(b,S,w),E.return=b,E)}function c(b,S,w,E){return S===null||S.tag!==4||S.stateNode.containerInfo!==w.containerInfo||S.stateNode.implementation!==w.implementation?(S=g1(w,b.mode,E),S.return=b,S):(S=i(S,w.children||[]),S.return=b,S)}function h(b,S,w,E,O){return S===null||S.tag!==7?(S=Xa(w,b.mode,E,O),S.return=b,S):(S=i(S,w),S.return=b,S)}function f(b,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return S=m1(""+S,b.mode,w),S.return=b,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case vp:return w=Tm(S.type,S.key,S.props,null,b.mode,w),w.ref=nh(b,null,S),w.return=b,w;case yu:return S=g1(S,b.mode,w),S.return=b,S;case Do:var E=S._init;return f(b,E(S._payload),w)}if(Sh(S)||Zc(S))return S=Xa(S,b.mode,w,null),S.return=b,S;Pp(b,S)}return null}function p(b,S,w,E){var O=S!==null?S.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return O!==null?null:a(b,S,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case vp:return w.key===O?l(b,S,w,E):null;case yu:return w.key===O?c(b,S,w,E):null;case Do:return O=w._init,p(b,S,O(w._payload),E)}if(Sh(w)||Zc(w))return O!==null?null:h(b,S,w,E,null);Pp(b,w)}return null}function m(b,S,w,E,O){if(typeof E=="string"&&E!==""||typeof E=="number")return b=b.get(w)||null,a(S,b,""+E,O);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case vp:return b=b.get(E.key===null?w:E.key)||null,l(S,b,E,O);case yu:return b=b.get(E.key===null?w:E.key)||null,c(S,b,E,O);case Do:var A=E._init;return m(b,S,w,A(E._payload),O)}if(Sh(E)||Zc(E))return b=b.get(w)||null,h(S,b,E,O,null);Pp(S,E)}return null}function v(b,S,w,E){for(var O=null,A=null,F=S,L=S=0,H=null;F!==null&&L<w.length;L++){F.index>L?(H=F,F=null):H=F.sibling;var V=p(b,F,w[L],E);if(V===null){F===null&&(F=H);break}t&&F&&V.alternate===null&&e(b,F),S=s(V,S,L),A===null?O=V:A.sibling=V,A=V,F=H}if(L===w.length)return n(b,F),jt&&Ia(b,L),O;if(F===null){for(;L<w.length;L++)F=f(b,w[L],E),F!==null&&(S=s(F,S,L),A===null?O=F:A.sibling=F,A=F);return jt&&Ia(b,L),O}for(F=r(b,F);L<w.length;L++)H=m(F,b,L,w[L],E),H!==null&&(t&&H.alternate!==null&&F.delete(H.key===null?L:H.key),S=s(H,S,L),A===null?O=H:A.sibling=H,A=H);return t&&F.forEach(function(z){return e(b,z)}),jt&&Ia(b,L),O}function y(b,S,w,E){var O=Zc(w);if(typeof O!="function")throw Error(he(150));if(w=O.call(w),w==null)throw Error(he(151));for(var A=O=null,F=S,L=S=0,H=null,V=w.next();F!==null&&!V.done;L++,V=w.next()){F.index>L?(H=F,F=null):H=F.sibling;var z=p(b,F,V.value,E);if(z===null){F===null&&(F=H);break}t&&F&&z.alternate===null&&e(b,F),S=s(z,S,L),A===null?O=z:A.sibling=z,A=z,F=H}if(V.done)return n(b,F),jt&&Ia(b,L),O;if(F===null){for(;!V.done;L++,V=w.next())V=f(b,V.value,E),V!==null&&(S=s(V,S,L),A===null?O=V:A.sibling=V,A=V);return jt&&Ia(b,L),O}for(F=r(b,F);!V.done;L++,V=w.next())V=m(F,b,L,V.value,E),V!==null&&(t&&V.alternate!==null&&F.delete(V.key===null?L:V.key),S=s(V,S,L),A===null?O=V:A.sibling=V,A=V);return t&&F.forEach(function(j){return e(b,j)}),jt&&Ia(b,L),O}function x(b,S,w,E){if(typeof w=="object"&&w!==null&&w.type===bu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case vp:e:{for(var O=w.key,A=S;A!==null;){if(A.key===O){if(O=w.type,O===bu){if(A.tag===7){n(b,A.sibling),S=i(A,w.props.children),S.return=b,b=S;break e}}else if(A.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Do&&RP(O)===A.type){n(b,A.sibling),S=i(A,w.props),S.ref=nh(b,A,w),S.return=b,b=S;break e}n(b,A);break}else e(b,A);A=A.sibling}w.type===bu?(S=Xa(w.props.children,b.mode,E,w.key),S.return=b,b=S):(E=Tm(w.type,w.key,w.props,null,b.mode,E),E.ref=nh(b,S,w),E.return=b,b=E)}return o(b);case yu:e:{for(A=w.key;S!==null;){if(S.key===A)if(S.tag===4&&S.stateNode.containerInfo===w.containerInfo&&S.stateNode.implementation===w.implementation){n(b,S.sibling),S=i(S,w.children||[]),S.return=b,b=S;break e}else{n(b,S);break}else e(b,S);S=S.sibling}S=g1(w,b.mode,E),S.return=b,b=S}return o(b);case Do:return A=w._init,x(b,S,A(w._payload),E)}if(Sh(w))return v(b,S,w,E);if(Zc(w))return y(b,S,w,E);Pp(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,S!==null&&S.tag===6?(n(b,S.sibling),S=i(S,w),S.return=b,b=S):(n(b,S),S=m1(w,b.mode,E),S.return=b,b=S),o(b)):n(b,S)}return x}var Xu=iF(!0),sF=iF(!1),Yd={},As=la(Yd),cd=la(Yd),hd=la(Yd);function Ha(t){if(t===Yd)throw Error(he(174));return t}function V_(t,e){switch(kt(hd,e),kt(cd,t),kt(As,Yd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Nb(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Nb(e,t)}Bt(As),kt(As,e)}function Yu(){Bt(As),Bt(cd),Bt(hd)}function oF(t){Ha(hd.current);var e=Ha(As.current),n=Nb(e,t.type);e!==n&&(kt(cd,t),kt(As,n))}function q_(t){cd.current===t&&(Bt(As),Bt(cd))}var Vt=la(0);function lg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var u1=[];function X_(){for(var t=0;t<u1.length;t++)u1[t]._workInProgressVersionPrimary=null;u1.length=0}var wm=mo.ReactCurrentDispatcher,c1=mo.ReactCurrentBatchConfig,rl=0,Yt=null,gn=null,wn=null,ug=!1,jh=!1,dd=0,cW=0;function $n(){throw Error(he(321))}function Y_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ns(t[n],e[n]))return!1;return!0}function K_(t,e,n,r,i,s){if(rl=s,Yt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wm.current=t===null||t.memoizedState===null?pW:mW,t=n(r,i),jh){s=0;do{if(jh=!1,dd=0,25<=s)throw Error(he(301));s+=1,wn=gn=null,e.updateQueue=null,wm.current=gW,t=n(r,i)}while(jh)}if(wm.current=cg,e=gn!==null&&gn.next!==null,rl=0,wn=gn=Yt=null,ug=!1,e)throw Error(he(300));return t}function Z_(){var t=dd!==0;return dd=0,t}function ms(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?Yt.memoizedState=wn=t:wn=wn.next=t,wn}function wi(){if(gn===null){var t=Yt.alternate;t=t!==null?t.memoizedState:null}else t=gn.next;var e=wn===null?Yt.memoizedState:wn.next;if(e!==null)wn=e,gn=t;else{if(t===null)throw Error(he(310));gn=t,t={memoizedState:gn.memoizedState,baseState:gn.baseState,baseQueue:gn.baseQueue,queue:gn.queue,next:null},wn===null?Yt.memoizedState=wn=t:wn=wn.next=t}return wn}function fd(t,e){return typeof e=="function"?e(t):e}function h1(t){var e=wi(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var r=gn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((rl&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Yt.lanes|=h,il|=h}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,ns(r,e.memoizedState)||(dr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Yt.lanes|=s,il|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function d1(t){var e=wi(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ns(s,e.memoizedState)||(dr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function aF(){}function lF(t,e){var n=Yt,r=wi(),i=e(),s=!ns(r.memoizedState,i);if(s&&(r.memoizedState=i,dr=!0),r=r.queue,Q_(hF.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||wn!==null&&wn.memoizedState.tag&1){if(n.flags|=2048,pd(9,cF.bind(null,n,r,i,e),void 0,null),Cn===null)throw Error(he(349));rl&30||uF(n,e,i)}return i}function uF(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Yt.updateQueue,e===null?(e={lastEffect:null,stores:null},Yt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function cF(t,e,n,r){e.value=n,e.getSnapshot=r,dF(e)&&fF(t)}function hF(t,e,n){return n(function(){dF(e)&&fF(t)})}function dF(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ns(t,n)}catch{return!0}}function fF(t){var e=ao(t,1);e!==null&&Ki(e,t,1,-1)}function MP(t){var e=ms();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fd,lastRenderedState:t},e.queue=t,t=t.dispatch=fW.bind(null,Yt,t),[e.memoizedState,t]}function pd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Yt.updateQueue,e===null?(e={lastEffect:null,stores:null},Yt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function pF(){return wi().memoizedState}function _m(t,e,n,r){var i=ms();Yt.flags|=t,i.memoizedState=pd(1|e,n,void 0,r===void 0?null:r)}function cv(t,e,n,r){var i=wi();r=r===void 0?null:r;var s=void 0;if(gn!==null){var o=gn.memoizedState;if(s=o.destroy,r!==null&&Y_(r,o.deps)){i.memoizedState=pd(e,n,s,r);return}}Yt.flags|=t,i.memoizedState=pd(1|e,n,s,r)}function FP(t,e){return _m(8390656,8,t,e)}function Q_(t,e){return cv(2048,8,t,e)}function mF(t,e){return cv(4,2,t,e)}function gF(t,e){return cv(4,4,t,e)}function vF(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function yF(t,e,n){return n=n!=null?n.concat([t]):null,cv(4,4,vF.bind(null,e,t),n)}function J_(){}function bF(t,e){var n=wi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Y_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function xF(t,e){var n=wi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Y_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function wF(t,e,n){return rl&21?(ns(n,e)||(n=EM(),Yt.lanes|=n,il|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dr=!0),t.memoizedState=n)}function hW(t,e){var n=xt;xt=n!==0&&4>n?n:4,t(!0);var r=c1.transition;c1.transition={};try{t(!1),e()}finally{xt=n,c1.transition=r}}function _F(){return wi().memoizedState}function dW(t,e,n){var r=Ko(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},SF(t))EF(e,n);else if(n=eF(t,e,n,r),n!==null){var i=Qn();Ki(n,t,r,i),CF(n,e,r)}}function fW(t,e,n){var r=Ko(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(SF(t))EF(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ns(a,o)){var l=e.interleaved;l===null?(i.next=i,W_(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=eF(t,e,i,r),n!==null&&(i=Qn(),Ki(n,t,r,i),CF(n,e,r))}}function SF(t){var e=t.alternate;return t===Yt||e!==null&&e===Yt}function EF(t,e){jh=ug=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function CF(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,O_(t,n)}}var cg={readContext:xi,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useInsertionEffect:$n,useLayoutEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useMutableSource:$n,useSyncExternalStore:$n,useId:$n,unstable_isNewReconciler:!1},pW={readContext:xi,useCallback:function(t,e){return ms().memoizedState=[t,e===void 0?null:e],t},useContext:xi,useEffect:FP,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_m(4194308,4,vF.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _m(4194308,4,t,e)},useInsertionEffect:function(t,e){return _m(4,2,t,e)},useMemo:function(t,e){var n=ms();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ms();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=dW.bind(null,Yt,t),[r.memoizedState,t]},useRef:function(t){var e=ms();return t={current:t},e.memoizedState=t},useState:MP,useDebugValue:J_,useDeferredValue:function(t){return ms().memoizedState=t},useTransition:function(){var t=MP(!1),e=t[0];return t=hW.bind(null,t[1]),ms().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Yt,i=ms();if(jt){if(n===void 0)throw Error(he(407));n=n()}else{if(n=e(),Cn===null)throw Error(he(349));rl&30||uF(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,FP(hF.bind(null,r,s,t),[t]),r.flags|=2048,pd(9,cF.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ms(),e=Cn.identifierPrefix;if(jt){var n=eo,r=Js;n=(r&~(1<<32-Yi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=dd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=cW++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},mW={readContext:xi,useCallback:bF,useContext:xi,useEffect:Q_,useImperativeHandle:yF,useInsertionEffect:mF,useLayoutEffect:gF,useMemo:xF,useReducer:h1,useRef:pF,useState:function(){return h1(fd)},useDebugValue:J_,useDeferredValue:function(t){var e=wi();return wF(e,gn.memoizedState,t)},useTransition:function(){var t=h1(fd)[0],e=wi().memoizedState;return[t,e]},useMutableSource:aF,useSyncExternalStore:lF,useId:_F,unstable_isNewReconciler:!1},gW={readContext:xi,useCallback:bF,useContext:xi,useEffect:Q_,useImperativeHandle:yF,useInsertionEffect:mF,useLayoutEffect:gF,useMemo:xF,useReducer:d1,useRef:pF,useState:function(){return d1(fd)},useDebugValue:J_,useDeferredValue:function(t){var e=wi();return gn===null?e.memoizedState=t:wF(e,gn.memoizedState,t)},useTransition:function(){var t=d1(fd)[0],e=wi().memoizedState;return[t,e]},useMutableSource:aF,useSyncExternalStore:lF,useId:_F,unstable_isNewReconciler:!1};function Ku(t,e){try{var n="",r=e;do n+=WH(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function f1(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ax(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var vW=typeof WeakMap=="function"?WeakMap:Map;function TF(t,e,n){n=no(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){dg||(dg=!0,vx=r),ax(t,e)},n}function AF(t,e,n){n=no(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ax(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ax(t,e),typeof r!="function"&&(Yo===null?Yo=new Set([this]):Yo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function DP(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new vW;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=IW.bind(null,t,e,n),e.then(t,t))}function LP(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function BP(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=no(-1,1),e.tag=2,Xo(n,e,1))),n.lanes|=1),t)}var yW=mo.ReactCurrentOwner,dr=!1;function Xn(t,e,n,r){e.child=t===null?sF(e,null,n,r):Xu(e,t.child,n,r)}function NP(t,e,n,r,i){n=n.render;var s=e.ref;return Du(e,i),r=K_(t,e,n,r,s,i),n=Z_(),t!==null&&!dr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,lo(t,e,i)):(jt&&n&&N_(e),e.flags|=1,Xn(t,e,r,i),e.child)}function $P(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!aS(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,PF(t,e,s,r,i)):(t=Tm(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:od,n(o,r)&&t.ref===e.ref)return lo(t,e,i)}return e.flags|=1,t=Zo(s,r),t.ref=e.ref,t.return=e,e.child=t}function PF(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(od(s,r)&&t.ref===e.ref)if(dr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(dr=!0);else return e.lanes=t.lanes,lo(t,e,i)}return lx(t,e,n,r,i)}function kF(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(ku,Ir),Ir|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,kt(ku,Ir),Ir|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,kt(ku,Ir),Ir|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,kt(ku,Ir),Ir|=r;return Xn(t,e,i,n),e.child}function OF(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function lx(t,e,n,r,i){var s=pr(n)?tl:jn.current;return s=Vu(e,s),Du(e,i),n=K_(t,e,n,r,s,i),r=Z_(),t!==null&&!dr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,lo(t,e,i)):(jt&&r&&N_(e),e.flags|=1,Xn(t,e,n,i),e.child)}function UP(t,e,n,r,i){if(pr(n)){var s=!0;ng(e)}else s=!1;if(Du(e,i),e.stateNode===null)Sm(t,e),rF(e,n,r),ox(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=xi(c):(c=pr(n)?tl:jn.current,c=Vu(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&IP(e,o,r,c),Lo=!1;var p=e.memoizedState;o.state=p,ag(e,r,o,i),l=e.memoizedState,a!==r||p!==l||fr.current||Lo?(typeof h=="function"&&(sx(e,n,h,r),l=e.memoizedState),(a=Lo||OP(e,n,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,tF(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Hi(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=xi(l):(l=pr(n)?tl:jn.current,l=Vu(e,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&IP(e,o,r,l),Lo=!1,p=e.memoizedState,o.state=p,ag(e,r,o,i);var v=e.memoizedState;a!==f||p!==v||fr.current||Lo?(typeof m=="function"&&(sx(e,n,m,r),v=e.memoizedState),(c=Lo||OP(e,n,c,r,p,v,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return ux(t,e,n,r,s,i)}function ux(t,e,n,r,i,s){OF(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&CP(e,n,!1),lo(t,e,s);r=e.stateNode,yW.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Xu(e,t.child,null,s),e.child=Xu(e,null,a,s)):Xn(t,e,a,s),e.memoizedState=r.state,i&&CP(e,n,!0),e.child}function IF(t){var e=t.stateNode;e.pendingContext?EP(t,e.pendingContext,e.pendingContext!==e.context):e.context&&EP(t,e.context,!1),V_(t,e.containerInfo)}function zP(t,e,n,r,i){return qu(),U_(i),e.flags|=256,Xn(t,e,n,r),e.child}var cx={dehydrated:null,treeContext:null,retryLane:0};function hx(t){return{baseLanes:t,cachePool:null,transitions:null}}function RF(t,e,n){var r=e.pendingProps,i=Vt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),kt(Vt,i&1),t===null)return rx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=fv(o,r,0,null),t=Xa(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=hx(n),e.memoizedState=cx,t):eS(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return bW(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Zo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Zo(a,s):(s=Xa(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?hx(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=cx,r}return s=t.child,t=s.sibling,r=Zo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function eS(t,e){return e=fv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function kp(t,e,n,r){return r!==null&&U_(r),Xu(e,t.child,null,n),t=eS(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bW(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=f1(Error(he(422))),kp(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=fv({mode:"visible",children:r.children},i,0,null),s=Xa(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Xu(e,t.child,null,o),e.child.memoizedState=hx(o),e.memoizedState=cx,s);if(!(e.mode&1))return kp(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(he(419)),r=f1(s,r,void 0),kp(t,e,o,r)}if(a=(o&t.childLanes)!==0,dr||a){if(r=Cn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ao(t,i),Ki(r,t,i,-1))}return oS(),r=f1(Error(he(421))),kp(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=RW.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Dr=qo(i.nextSibling),Ur=e,jt=!0,Wi=null,t!==null&&(li[ui++]=Js,li[ui++]=eo,li[ui++]=nl,Js=t.id,eo=t.overflow,nl=e),e=eS(e,r.children),e.flags|=4096,e)}function HP(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ix(t.return,e,n)}function p1(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function MF(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Xn(t,e,r.children,n),r=Vt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&HP(t,n,e);else if(t.tag===19)HP(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(kt(Vt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&lg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),p1(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&lg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}p1(e,!0,n,null,s);break;case"together":p1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Sm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function lo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),il|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(he(153));if(e.child!==null){for(t=e.child,n=Zo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Zo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function xW(t,e,n){switch(e.tag){case 3:IF(e),qu();break;case 5:oF(e);break;case 1:pr(e.type)&&ng(e);break;case 4:V_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;kt(sg,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(kt(Vt,Vt.current&1),e.flags|=128,null):n&e.child.childLanes?RF(t,e,n):(kt(Vt,Vt.current&1),t=lo(t,e,n),t!==null?t.sibling:null);kt(Vt,Vt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return MF(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),kt(Vt,Vt.current),r)break;return null;case 22:case 23:return e.lanes=0,kF(t,e,n)}return lo(t,e,n)}var FF,dx,DF,LF;FF=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dx=function(){};DF=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ha(As.current);var s=null;switch(n){case"input":i=Fb(t,i),r=Fb(t,r),s=[];break;case"select":i=Kt({},i,{value:void 0}),r=Kt({},r,{value:void 0}),s=[];break;case"textarea":i=Bb(t,i),r=Bb(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=eg)}$b(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Jh.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Jh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Mt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};LF=function(t,e,n,r){n!==r&&(e.flags|=4)};function rh(t,e){if(!jt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Un(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function wW(t,e,n){var r=e.pendingProps;switch($_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Un(e),null;case 1:return pr(e.type)&&tg(),Un(e),null;case 3:return r=e.stateNode,Yu(),Bt(fr),Bt(jn),X_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ap(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Wi!==null&&(xx(Wi),Wi=null))),dx(t,e),Un(e),null;case 5:q_(e);var i=Ha(hd.current);if(n=e.type,t!==null&&e.stateNode!=null)DF(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(he(166));return Un(e),null}if(t=Ha(As.current),Ap(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[xs]=e,r[ud]=s,t=(e.mode&1)!==0,n){case"dialog":Mt("cancel",r),Mt("close",r);break;case"iframe":case"object":case"embed":Mt("load",r);break;case"video":case"audio":for(i=0;i<Ch.length;i++)Mt(Ch[i],r);break;case"source":Mt("error",r);break;case"img":case"image":case"link":Mt("error",r),Mt("load",r);break;case"details":Mt("toggle",r);break;case"input":ZA(r,s),Mt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Mt("invalid",r);break;case"textarea":JA(r,s),Mt("invalid",r)}$b(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Tp(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Tp(r.textContent,a,t),i=["children",""+a]):Jh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Mt("scroll",r)}switch(n){case"input":yp(r),QA(r,s,!0);break;case"textarea":yp(r),eP(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=eg)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=uM(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[xs]=e,t[ud]=r,FF(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ub(n,r),n){case"dialog":Mt("cancel",t),Mt("close",t),i=r;break;case"iframe":case"object":case"embed":Mt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ch.length;i++)Mt(Ch[i],t);i=r;break;case"source":Mt("error",t),i=r;break;case"img":case"image":case"link":Mt("error",t),Mt("load",t),i=r;break;case"details":Mt("toggle",t),i=r;break;case"input":ZA(t,r),i=Fb(t,r),Mt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Kt({},r,{value:void 0}),Mt("invalid",t);break;case"textarea":JA(t,r),i=Bb(t,r),Mt("invalid",t);break;default:i=r}$b(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?dM(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&cM(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ed(t,l):typeof l=="number"&&ed(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Jh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Mt("scroll",t):l!=null&&E_(t,s,l,o))}switch(n){case"input":yp(t),QA(t,r,!1);break;case"textarea":yp(t),eP(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ea(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Iu(t,!!r.multiple,s,!1):r.defaultValue!=null&&Iu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=eg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Un(e),null;case 6:if(t&&e.stateNode!=null)LF(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(he(166));if(n=Ha(hd.current),Ha(As.current),Ap(e)){if(r=e.stateNode,n=e.memoizedProps,r[xs]=e,(s=r.nodeValue!==n)&&(t=Ur,t!==null))switch(t.tag){case 3:Tp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Tp(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xs]=e,e.stateNode=r}return Un(e),null;case 13:if(Bt(Vt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(jt&&Dr!==null&&e.mode&1&&!(e.flags&128))JM(),qu(),e.flags|=98560,s=!1;else if(s=Ap(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(he(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(he(317));s[xs]=e}else qu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Un(e),s=!1}else Wi!==null&&(xx(Wi),Wi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Vt.current&1?yn===0&&(yn=3):oS())),e.updateQueue!==null&&(e.flags|=4),Un(e),null);case 4:return Yu(),dx(t,e),t===null&&ad(e.stateNode.containerInfo),Un(e),null;case 10:return j_(e.type._context),Un(e),null;case 17:return pr(e.type)&&tg(),Un(e),null;case 19:if(Bt(Vt),s=e.memoizedState,s===null)return Un(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)rh(s,!1);else{if(yn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=lg(t),o!==null){for(e.flags|=128,rh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return kt(Vt,Vt.current&1|2),e.child}t=t.sibling}s.tail!==null&&on()>Zu&&(e.flags|=128,r=!0,rh(s,!1),e.lanes=4194304)}else{if(!r)if(t=lg(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),rh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!jt)return Un(e),null}else 2*on()-s.renderingStartTime>Zu&&n!==1073741824&&(e.flags|=128,r=!0,rh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=on(),e.sibling=null,n=Vt.current,kt(Vt,r?n&1|2:n&1),e):(Un(e),null);case 22:case 23:return sS(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ir&1073741824&&(Un(e),e.subtreeFlags&6&&(e.flags|=8192)):Un(e),null;case 24:return null;case 25:return null}throw Error(he(156,e.tag))}function _W(t,e){switch($_(e),e.tag){case 1:return pr(e.type)&&tg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yu(),Bt(fr),Bt(jn),X_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return q_(e),null;case 13:if(Bt(Vt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(he(340));qu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Bt(Vt),null;case 4:return Yu(),null;case 10:return j_(e.type._context),null;case 22:case 23:return sS(),null;case 24:return null;default:return null}}var Op=!1,Hn=!1,SW=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Pu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){en(t,e,r)}else n.current=null}function fx(t,e,n){try{n()}catch(r){en(t,e,r)}}var jP=!1;function EW(t,e){if(Kb=Zm,t=UM(),B_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,f=t,p=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++h===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zb={focusedElem:t,selectionRange:n},Zm=!1,Ee=e;Ee!==null;)if(e=Ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ee=t;else for(;Ee!==null;){e=Ee;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,x=v.memoizedState,b=e.stateNode,S=b.getSnapshotBeforeUpdate(e.elementType===e.type?y:Hi(e.type,y),x);b.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(E){en(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Ee=t;break}Ee=e.return}return v=jP,jP=!1,v}function Wh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&fx(e,n,s)}i=i.next}while(i!==r)}}function hv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function px(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function BF(t){var e=t.alternate;e!==null&&(t.alternate=null,BF(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xs],delete e[ud],delete e[ex],delete e[oW],delete e[aW])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function NF(t){return t.tag===5||t.tag===3||t.tag===4}function WP(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||NF(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=eg));else if(r!==4&&(t=t.child,t!==null))for(mx(t,e,n),t=t.sibling;t!==null;)mx(t,e,n),t=t.sibling}function gx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(gx(t,e,n),t=t.sibling;t!==null;)gx(t,e,n),t=t.sibling}var Rn=null,ji=!1;function Ro(t,e,n){for(n=n.child;n!==null;)$F(t,e,n),n=n.sibling}function $F(t,e,n){if(Ts&&typeof Ts.onCommitFiberUnmount=="function")try{Ts.onCommitFiberUnmount(rv,n)}catch{}switch(n.tag){case 5:Hn||Pu(n,e);case 6:var r=Rn,i=ji;Rn=null,Ro(t,e,n),Rn=r,ji=i,Rn!==null&&(ji?(t=Rn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Rn.removeChild(n.stateNode));break;case 18:Rn!==null&&(ji?(t=Rn,n=n.stateNode,t.nodeType===8?a1(t.parentNode,n):t.nodeType===1&&a1(t,n),id(t)):a1(Rn,n.stateNode));break;case 4:r=Rn,i=ji,Rn=n.stateNode.containerInfo,ji=!0,Ro(t,e,n),Rn=r,ji=i;break;case 0:case 11:case 14:case 15:if(!Hn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&fx(n,e,o),i=i.next}while(i!==r)}Ro(t,e,n);break;case 1:if(!Hn&&(Pu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){en(n,e,a)}Ro(t,e,n);break;case 21:Ro(t,e,n);break;case 22:n.mode&1?(Hn=(r=Hn)||n.memoizedState!==null,Ro(t,e,n),Hn=r):Ro(t,e,n);break;default:Ro(t,e,n)}}function GP(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new SW),e.forEach(function(r){var i=MW.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Di(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Rn=a.stateNode,ji=!1;break e;case 3:Rn=a.stateNode.containerInfo,ji=!0;break e;case 4:Rn=a.stateNode.containerInfo,ji=!0;break e}a=a.return}if(Rn===null)throw Error(he(160));$F(s,o,i),Rn=null,ji=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){en(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)UF(e,t),e=e.sibling}function UF(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Di(e,t),fs(t),r&4){try{Wh(3,t,t.return),hv(3,t)}catch(y){en(t,t.return,y)}try{Wh(5,t,t.return)}catch(y){en(t,t.return,y)}}break;case 1:Di(e,t),fs(t),r&512&&n!==null&&Pu(n,n.return);break;case 5:if(Di(e,t),fs(t),r&512&&n!==null&&Pu(n,n.return),t.flags&32){var i=t.stateNode;try{ed(i,"")}catch(y){en(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&aM(i,s),Ub(a,o);var c=Ub(a,s);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?dM(i,f):h==="dangerouslySetInnerHTML"?cM(i,f):h==="children"?ed(i,f):E_(i,h,f,c)}switch(a){case"input":Db(i,s);break;case"textarea":lM(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Iu(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Iu(i,!!s.multiple,s.defaultValue,!0):Iu(i,!!s.multiple,s.multiple?[]:"",!1))}i[ud]=s}catch(y){en(t,t.return,y)}}break;case 6:if(Di(e,t),fs(t),r&4){if(t.stateNode===null)throw Error(he(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){en(t,t.return,y)}}break;case 3:if(Di(e,t),fs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{id(e.containerInfo)}catch(y){en(t,t.return,y)}break;case 4:Di(e,t),fs(t);break;case 13:Di(e,t),fs(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(rS=on())),r&4&&GP(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Hn=(c=Hn)||h,Di(e,t),Hn=c):Di(e,t),fs(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(Ee=t,h=t.child;h!==null;){for(f=Ee=h;Ee!==null;){switch(p=Ee,m=p.child,p.tag){case 0:case 11:case 14:case 15:Wh(4,p,p.return);break;case 1:Pu(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){en(r,n,y)}}break;case 5:Pu(p,p.return);break;case 22:if(p.memoizedState!==null){qP(f);continue}}m!==null?(m.return=p,Ee=m):qP(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=hM("display",o))}catch(y){en(t,t.return,y)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){en(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Di(e,t),fs(t),r&4&&GP(t);break;case 21:break;default:Di(e,t),fs(t)}}function fs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(NF(n)){var r=n;break e}n=n.return}throw Error(he(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ed(i,""),r.flags&=-33);var s=WP(t);gx(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=WP(t);mx(t,a,o);break;default:throw Error(he(161))}}catch(l){en(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function CW(t,e,n){Ee=t,zF(t)}function zF(t,e,n){for(var r=(t.mode&1)!==0;Ee!==null;){var i=Ee,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Op;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Hn;a=Op;var c=Hn;if(Op=o,(Hn=l)&&!c)for(Ee=i;Ee!==null;)o=Ee,l=o.child,o.tag===22&&o.memoizedState!==null?XP(i):l!==null?(l.return=o,Ee=l):XP(i);for(;s!==null;)Ee=s,zF(s),s=s.sibling;Ee=i,Op=a,Hn=c}VP(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ee=s):VP(t)}}function VP(t){for(;Ee!==null;){var e=Ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Hn||hv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Hn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Hi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&kP(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}kP(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&id(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}Hn||e.flags&512&&px(e)}catch(p){en(e,e.return,p)}}if(e===t){Ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ee=n;break}Ee=e.return}}function qP(t){for(;Ee!==null;){var e=Ee;if(e===t){Ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ee=n;break}Ee=e.return}}function XP(t){for(;Ee!==null;){var e=Ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{hv(4,e)}catch(l){en(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){en(e,i,l)}}var s=e.return;try{px(e)}catch(l){en(e,s,l)}break;case 5:var o=e.return;try{px(e)}catch(l){en(e,o,l)}}}catch(l){en(e,e.return,l)}if(e===t){Ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ee=a;break}Ee=e.return}}var TW=Math.ceil,hg=mo.ReactCurrentDispatcher,tS=mo.ReactCurrentOwner,gi=mo.ReactCurrentBatchConfig,ut=0,Cn=null,fn=null,Fn=0,Ir=0,ku=la(0),yn=0,md=null,il=0,dv=0,nS=0,Gh=null,cr=null,rS=0,Zu=1/0,Ks=null,dg=!1,vx=null,Yo=null,Ip=!1,zo=null,fg=0,Vh=0,yx=null,Em=-1,Cm=0;function Qn(){return ut&6?on():Em!==-1?Em:Em=on()}function Ko(t){return t.mode&1?ut&2&&Fn!==0?Fn&-Fn:uW.transition!==null?(Cm===0&&(Cm=EM()),Cm):(t=xt,t!==0||(t=window.event,t=t===void 0?16:IM(t.type)),t):1}function Ki(t,e,n,r){if(50<Vh)throw Vh=0,yx=null,Error(he(185));Vd(t,n,r),(!(ut&2)||t!==Cn)&&(t===Cn&&(!(ut&2)&&(dv|=n),yn===4&&$o(t,Fn)),mr(t,r),n===1&&ut===0&&!(e.mode&1)&&(Zu=on()+500,lv&&ua()))}function mr(t,e){var n=t.callbackNode;uj(t,e);var r=Km(t,t===Cn?Fn:0);if(r===0)n!==null&&rP(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&rP(n),e===1)t.tag===0?lW(YP.bind(null,t)):KM(YP.bind(null,t)),iW(function(){!(ut&6)&&ua()}),n=null;else{switch(CM(r)){case 1:n=k_;break;case 4:n=_M;break;case 16:n=Ym;break;case 536870912:n=SM;break;default:n=Ym}n=YF(n,HF.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function HF(t,e){if(Em=-1,Cm=0,ut&6)throw Error(he(327));var n=t.callbackNode;if(Lu()&&t.callbackNode!==n)return null;var r=Km(t,t===Cn?Fn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=pg(t,r);else{e=r;var i=ut;ut|=2;var s=WF();(Cn!==t||Fn!==e)&&(Ks=null,Zu=on()+500,qa(t,e));do try{kW();break}catch(a){jF(t,a)}while(1);H_(),hg.current=s,ut=i,fn!==null?e=0:(Cn=null,Fn=0,e=yn)}if(e!==0){if(e===2&&(i=Gb(t),i!==0&&(r=i,e=bx(t,i))),e===1)throw n=md,qa(t,0),$o(t,r),mr(t,on()),n;if(e===6)$o(t,r);else{if(i=t.current.alternate,!(r&30)&&!AW(i)&&(e=pg(t,r),e===2&&(s=Gb(t),s!==0&&(r=s,e=bx(t,s))),e===1))throw n=md,qa(t,0),$o(t,r),mr(t,on()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(he(345));case 2:Ra(t,cr,Ks);break;case 3:if($o(t,r),(r&130023424)===r&&(e=rS+500-on(),10<e)){if(Km(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Qn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Jb(Ra.bind(null,t,cr,Ks),e);break}Ra(t,cr,Ks);break;case 4:if($o(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Yi(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=on()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*TW(r/1960))-r,10<r){t.timeoutHandle=Jb(Ra.bind(null,t,cr,Ks),r);break}Ra(t,cr,Ks);break;case 5:Ra(t,cr,Ks);break;default:throw Error(he(329))}}}return mr(t,on()),t.callbackNode===n?HF.bind(null,t):null}function bx(t,e){var n=Gh;return t.current.memoizedState.isDehydrated&&(qa(t,e).flags|=256),t=pg(t,e),t!==2&&(e=cr,cr=n,e!==null&&xx(e)),t}function xx(t){cr===null?cr=t:cr.push.apply(cr,t)}function AW(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ns(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $o(t,e){for(e&=~nS,e&=~dv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yi(e),r=1<<n;t[n]=-1,e&=~r}}function YP(t){if(ut&6)throw Error(he(327));Lu();var e=Km(t,0);if(!(e&1))return mr(t,on()),null;var n=pg(t,e);if(t.tag!==0&&n===2){var r=Gb(t);r!==0&&(e=r,n=bx(t,r))}if(n===1)throw n=md,qa(t,0),$o(t,e),mr(t,on()),n;if(n===6)throw Error(he(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ra(t,cr,Ks),mr(t,on()),null}function iS(t,e){var n=ut;ut|=1;try{return t(e)}finally{ut=n,ut===0&&(Zu=on()+500,lv&&ua())}}function sl(t){zo!==null&&zo.tag===0&&!(ut&6)&&Lu();var e=ut;ut|=1;var n=gi.transition,r=xt;try{if(gi.transition=null,xt=1,t)return t()}finally{xt=r,gi.transition=n,ut=e,!(ut&6)&&ua()}}function sS(){Ir=ku.current,Bt(ku)}function qa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,rW(n)),fn!==null)for(n=fn.return;n!==null;){var r=n;switch($_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&tg();break;case 3:Yu(),Bt(fr),Bt(jn),X_();break;case 5:q_(r);break;case 4:Yu();break;case 13:Bt(Vt);break;case 19:Bt(Vt);break;case 10:j_(r.type._context);break;case 22:case 23:sS()}n=n.return}if(Cn=t,fn=t=Zo(t.current,null),Fn=Ir=e,yn=0,md=null,nS=dv=il=0,cr=Gh=null,za!==null){for(e=0;e<za.length;e++)if(n=za[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}za=null}return t}function jF(t,e){do{var n=fn;try{if(H_(),wm.current=cg,ug){for(var r=Yt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ug=!1}if(rl=0,wn=gn=Yt=null,jh=!1,dd=0,tS.current=null,n===null||n.return===null){yn=1,md=e,fn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Fn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=LP(o);if(m!==null){m.flags&=-257,BP(m,o,a,s,e),m.mode&1&&DP(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){DP(s,c,e),oS();break e}l=Error(he(426))}}else if(jt&&a.mode&1){var x=LP(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),BP(x,o,a,s,e),U_(Ku(l,a));break e}}s=l=Ku(l,a),yn!==4&&(yn=2),Gh===null?Gh=[s]:Gh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=TF(s,l,e);PP(s,b);break e;case 1:a=l;var S=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Yo===null||!Yo.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=AF(s,a,e);PP(s,E);break e}}s=s.return}while(s!==null)}VF(n)}catch(O){e=O,fn===n&&n!==null&&(fn=n=n.return);continue}break}while(1)}function WF(){var t=hg.current;return hg.current=cg,t===null?cg:t}function oS(){(yn===0||yn===3||yn===2)&&(yn=4),Cn===null||!(il&268435455)&&!(dv&268435455)||$o(Cn,Fn)}function pg(t,e){var n=ut;ut|=2;var r=WF();(Cn!==t||Fn!==e)&&(Ks=null,qa(t,e));do try{PW();break}catch(i){jF(t,i)}while(1);if(H_(),ut=n,hg.current=r,fn!==null)throw Error(he(261));return Cn=null,Fn=0,yn}function PW(){for(;fn!==null;)GF(fn)}function kW(){for(;fn!==null&&!ej();)GF(fn)}function GF(t){var e=XF(t.alternate,t,Ir);t.memoizedProps=t.pendingProps,e===null?VF(t):fn=e,tS.current=null}function VF(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=_W(n,e),n!==null){n.flags&=32767,fn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yn=6,fn=null;return}}else if(n=wW(n,e,Ir),n!==null){fn=n;return}if(e=e.sibling,e!==null){fn=e;return}fn=e=t}while(e!==null);yn===0&&(yn=5)}function Ra(t,e,n){var r=xt,i=gi.transition;try{gi.transition=null,xt=1,OW(t,e,n,r)}finally{gi.transition=i,xt=r}return null}function OW(t,e,n,r){do Lu();while(zo!==null);if(ut&6)throw Error(he(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(he(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(cj(t,s),t===Cn&&(fn=Cn=null,Fn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ip||(Ip=!0,YF(Ym,function(){return Lu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=gi.transition,gi.transition=null;var o=xt;xt=1;var a=ut;ut|=4,tS.current=null,EW(t,n),UF(n,t),Kj(Zb),Zm=!!Kb,Zb=Kb=null,t.current=n,CW(n),tj(),ut=a,xt=o,gi.transition=s}else t.current=n;if(Ip&&(Ip=!1,zo=t,fg=i),s=t.pendingLanes,s===0&&(Yo=null),ij(n.stateNode),mr(t,on()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(dg)throw dg=!1,t=vx,vx=null,t;return fg&1&&t.tag!==0&&Lu(),s=t.pendingLanes,s&1?t===yx?Vh++:(Vh=0,yx=t):Vh=0,ua(),null}function Lu(){if(zo!==null){var t=CM(fg),e=gi.transition,n=xt;try{if(gi.transition=null,xt=16>t?16:t,zo===null)var r=!1;else{if(t=zo,zo=null,fg=0,ut&6)throw Error(he(331));var i=ut;for(ut|=4,Ee=t.current;Ee!==null;){var s=Ee,o=s.child;if(Ee.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Ee=c;Ee!==null;){var h=Ee;switch(h.tag){case 0:case 11:case 15:Wh(8,h,s)}var f=h.child;if(f!==null)f.return=h,Ee=f;else for(;Ee!==null;){h=Ee;var p=h.sibling,m=h.return;if(BF(h),h===c){Ee=null;break}if(p!==null){p.return=m,Ee=p;break}Ee=m}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}Ee=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ee=o;else e:for(;Ee!==null;){if(s=Ee,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Wh(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,Ee=b;break e}Ee=s.return}}var S=t.current;for(Ee=S;Ee!==null;){o=Ee;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Ee=w;else e:for(o=S;Ee!==null;){if(a=Ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:hv(9,a)}}catch(O){en(a,a.return,O)}if(a===o){Ee=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Ee=E;break e}Ee=a.return}}if(ut=i,ua(),Ts&&typeof Ts.onPostCommitFiberRoot=="function")try{Ts.onPostCommitFiberRoot(rv,t)}catch{}r=!0}return r}finally{xt=n,gi.transition=e}}return!1}function KP(t,e,n){e=Ku(n,e),e=TF(t,e,1),t=Xo(t,e,1),e=Qn(),t!==null&&(Vd(t,1,e),mr(t,e))}function en(t,e,n){if(t.tag===3)KP(t,t,n);else for(;e!==null;){if(e.tag===3){KP(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yo===null||!Yo.has(r))){t=Ku(n,t),t=AF(e,t,1),e=Xo(e,t,1),t=Qn(),e!==null&&(Vd(e,1,t),mr(e,t));break}}e=e.return}}function IW(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qn(),t.pingedLanes|=t.suspendedLanes&n,Cn===t&&(Fn&n)===n&&(yn===4||yn===3&&(Fn&130023424)===Fn&&500>on()-rS?qa(t,0):nS|=n),mr(t,e)}function qF(t,e){e===0&&(t.mode&1?(e=wp,wp<<=1,!(wp&130023424)&&(wp=4194304)):e=1);var n=Qn();t=ao(t,e),t!==null&&(Vd(t,e,n),mr(t,n))}function RW(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qF(t,n)}function MW(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(he(314))}r!==null&&r.delete(e),qF(t,n)}var XF;XF=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fr.current)dr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return dr=!1,xW(t,e,n);dr=!!(t.flags&131072)}else dr=!1,jt&&e.flags&1048576&&ZM(e,ig,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Sm(t,e),t=e.pendingProps;var i=Vu(e,jn.current);Du(e,n),i=K_(null,e,r,t,i,n);var s=Z_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pr(r)?(s=!0,ng(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,G_(e),i.updater=uv,e.stateNode=i,i._reactInternals=e,ox(e,r,t,n),e=ux(null,e,r,!0,s,n)):(e.tag=0,jt&&s&&N_(e),Xn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Sm(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=DW(r),t=Hi(r,t),i){case 0:e=lx(null,e,r,t,n);break e;case 1:e=UP(null,e,r,t,n);break e;case 11:e=NP(null,e,r,t,n);break e;case 14:e=$P(null,e,r,Hi(r.type,t),n);break e}throw Error(he(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hi(r,i),lx(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hi(r,i),UP(t,e,r,i,n);case 3:e:{if(IF(e),t===null)throw Error(he(387));r=e.pendingProps,s=e.memoizedState,i=s.element,tF(t,e),ag(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ku(Error(he(423)),e),e=zP(t,e,r,n,i);break e}else if(r!==i){i=Ku(Error(he(424)),e),e=zP(t,e,r,n,i);break e}else for(Dr=qo(e.stateNode.containerInfo.firstChild),Ur=e,jt=!0,Wi=null,n=sF(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qu(),r===i){e=lo(t,e,n);break e}Xn(t,e,r,n)}e=e.child}return e;case 5:return oF(e),t===null&&rx(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Qb(r,i)?o=null:s!==null&&Qb(r,s)&&(e.flags|=32),OF(t,e),Xn(t,e,o,n),e.child;case 6:return t===null&&rx(e),null;case 13:return RF(t,e,n);case 4:return V_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Xu(e,null,r,n):Xn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hi(r,i),NP(t,e,r,i,n);case 7:return Xn(t,e,e.pendingProps,n),e.child;case 8:return Xn(t,e,e.pendingProps.children,n),e.child;case 12:return Xn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,kt(sg,r._currentValue),r._currentValue=o,s!==null)if(ns(s.value,o)){if(s.children===i.children&&!fr.current){e=lo(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=no(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ix(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(he(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ix(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Xn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Du(e,n),i=xi(i),r=r(i),e.flags|=1,Xn(t,e,r,n),e.child;case 14:return r=e.type,i=Hi(r,e.pendingProps),i=Hi(r.type,i),$P(t,e,r,i,n);case 15:return PF(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hi(r,i),Sm(t,e),e.tag=1,pr(r)?(t=!0,ng(e)):t=!1,Du(e,n),rF(e,r,i),ox(e,r,i,n),ux(null,e,r,!0,t,n);case 19:return MF(t,e,n);case 22:return kF(t,e,n)}throw Error(he(156,e.tag))};function YF(t,e){return wM(t,e)}function FW(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pi(t,e,n,r){return new FW(t,e,n,r)}function aS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function DW(t){if(typeof t=="function")return aS(t)?1:0;if(t!=null){if(t=t.$$typeof,t===T_)return 11;if(t===A_)return 14}return 2}function Zo(t,e){var n=t.alternate;return n===null?(n=pi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Tm(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")aS(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case bu:return Xa(n.children,i,s,e);case C_:o=8,i|=8;break;case Ob:return t=pi(12,n,e,i|2),t.elementType=Ob,t.lanes=s,t;case Ib:return t=pi(13,n,e,i),t.elementType=Ib,t.lanes=s,t;case Rb:return t=pi(19,n,e,i),t.elementType=Rb,t.lanes=s,t;case iM:return fv(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nM:o=10;break e;case rM:o=9;break e;case T_:o=11;break e;case A_:o=14;break e;case Do:o=16,r=null;break e}throw Error(he(130,t==null?t:typeof t,""))}return e=pi(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Xa(t,e,n,r){return t=pi(7,t,r,e),t.lanes=n,t}function fv(t,e,n,r){return t=pi(22,t,r,e),t.elementType=iM,t.lanes=n,t.stateNode={isHidden:!1},t}function m1(t,e,n){return t=pi(6,t,null,e),t.lanes=n,t}function g1(t,e,n){return e=pi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function LW(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ky(0),this.expirationTimes=Ky(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ky(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function lS(t,e,n,r,i,s,o,a,l){return t=new LW(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=pi(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},G_(s),t}function BW(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function KF(t){if(!t)return ta;t=t._reactInternals;e:{if(gl(t)!==t||t.tag!==1)throw Error(he(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(he(171))}if(t.tag===1){var n=t.type;if(pr(n))return YM(t,n,e)}return e}function ZF(t,e,n,r,i,s,o,a,l){return t=lS(n,r,!0,t,i,s,o,a,l),t.context=KF(null),n=t.current,r=Qn(),i=Ko(n),s=no(r,i),s.callback=e??null,Xo(n,s,i),t.current.lanes=i,Vd(t,i,r),mr(t,r),t}function pv(t,e,n,r){var i=e.current,s=Qn(),o=Ko(i);return n=KF(n),e.context===null?e.context=n:e.pendingContext=n,e=no(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Xo(i,e,o),t!==null&&(Ki(t,i,o,s),xm(t,i,o)),o}function mg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ZP(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function uS(t,e){ZP(t,e),(t=t.alternate)&&ZP(t,e)}function NW(){return null}var QF=typeof reportError=="function"?reportError:function(t){console.error(t)};function cS(t){this._internalRoot=t}mv.prototype.render=cS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(he(409));pv(t,e,null,null)};mv.prototype.unmount=cS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sl(function(){pv(null,t,null,null)}),e[oo]=null}};function mv(t){this._internalRoot=t}mv.prototype.unstable_scheduleHydration=function(t){if(t){var e=PM();t={blockedOn:null,target:t,priority:e};for(var n=0;n<No.length&&e!==0&&e<No[n].priority;n++);No.splice(n,0,t),n===0&&OM(t)}};function hS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function QP(){}function $W(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=mg(o);s.call(c)}}var o=ZF(e,r,t,0,null,!1,!1,"",QP);return t._reactRootContainer=o,t[oo]=o.current,ad(t.nodeType===8?t.parentNode:t),sl(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=mg(l);a.call(c)}}var l=lS(t,0,!1,null,null,!1,!1,"",QP);return t._reactRootContainer=l,t[oo]=l.current,ad(t.nodeType===8?t.parentNode:t),sl(function(){pv(e,l,n,r)}),l}function vv(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=mg(o);a.call(l)}}pv(e,o,t,i)}else o=$W(n,e,t,i,r);return mg(o)}TM=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Eh(e.pendingLanes);n!==0&&(O_(e,n|1),mr(e,on()),!(ut&6)&&(Zu=on()+500,ua()))}break;case 13:sl(function(){var r=ao(t,1);if(r!==null){var i=Qn();Ki(r,t,1,i)}}),uS(t,1)}};I_=function(t){if(t.tag===13){var e=ao(t,134217728);if(e!==null){var n=Qn();Ki(e,t,134217728,n)}uS(t,134217728)}};AM=function(t){if(t.tag===13){var e=Ko(t),n=ao(t,e);if(n!==null){var r=Qn();Ki(n,t,e,r)}uS(t,e)}};PM=function(){return xt};kM=function(t,e){var n=xt;try{return xt=t,e()}finally{xt=n}};Hb=function(t,e,n){switch(e){case"input":if(Db(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=av(r);if(!i)throw Error(he(90));oM(r),Db(r,i)}}}break;case"textarea":lM(t,n);break;case"select":e=n.value,e!=null&&Iu(t,!!n.multiple,e,!1)}};mM=iS;gM=sl;var UW={usingClientEntryPoint:!1,Events:[Xd,Su,av,fM,pM,iS]},ih={findFiberByHostInstance:Ua,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},zW={bundleType:ih.bundleType,version:ih.version,rendererPackageName:ih.rendererPackageName,rendererConfig:ih.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=bM(t),t===null?null:t.stateNode},findFiberByHostInstance:ih.findFiberByHostInstance||NW,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rp.isDisabled&&Rp.supportsFiber)try{rv=Rp.inject(zW),Ts=Rp}catch{}}qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UW;qr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hS(e))throw Error(he(200));return BW(t,e,null,n)};qr.createRoot=function(t,e){if(!hS(t))throw Error(he(299));var n=!1,r="",i=QF;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=lS(t,1,!1,null,null,n,!1,r,i),t[oo]=e.current,ad(t.nodeType===8?t.parentNode:t),new cS(e)};qr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(he(188)):(t=Object.keys(t).join(","),Error(he(268,t)));return t=bM(e),t=t===null?null:t.stateNode,t};qr.flushSync=function(t){return sl(t)};qr.hydrate=function(t,e,n){if(!gv(e))throw Error(he(200));return vv(null,t,e,!0,n)};qr.hydrateRoot=function(t,e,n){if(!hS(t))throw Error(he(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=QF;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ZF(e,null,t,1,n??null,i,!1,s,o),t[oo]=e.current,ad(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new mv(e)};qr.render=function(t,e,n){if(!gv(e))throw Error(he(200));return vv(null,t,e,!1,n)};qr.unmountComponentAtNode=function(t){if(!gv(t))throw Error(he(40));return t._reactRootContainer?(sl(function(){vv(null,null,t,!1,function(){t._reactRootContainer=null,t[oo]=null})}),!0):!1};qr.unstable_batchedUpdates=iS;qr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!gv(n))throw Error(he(200));if(t==null||t._reactInternals===void 0)throw Error(he(38));return vv(t,e,n,!1,r)};qr.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=qr})(NH);var JP=Qh;Ab.createRoot=JP.createRoot,Ab.hydrateRoot=JP.hydrateRoot;var wx=function(t,e){return wx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},wx(t,e)};function yv(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");wx(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function _x(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function gg(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function vg(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function ro(t){return typeof t=="function"}function JF(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var v1=JF(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function Sx(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var bv=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=_x(o),l=a.next();!l.done;l=a.next()){var c=l.value;c.remove(this)}}catch(y){e={error:y}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}else o.remove(this);var h=this.initialTeardown;if(ro(h))try{h()}catch(y){s=y instanceof v1?y.errors:[y]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var p=_x(f),m=p.next();!m.done;m=p.next()){var v=m.value;try{ek(v)}catch(y){s=s??[],y instanceof v1?s=vg(vg([],gg(s)),gg(y.errors)):s.push(y)}}}catch(y){r={error:y}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}}if(s)throw new v1(s)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)ek(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&Sx(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&Sx(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),eD=bv.EMPTY;function tD(t){return t instanceof bv||t&&"closed"in t&&ro(t.remove)&&ro(t.add)&&ro(t.unsubscribe)}function ek(t){ro(t)?t():t.unsubscribe()}var nD={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ex={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=Ex.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,vg([t,e],gg(n))):setTimeout.apply(void 0,vg([t,e],gg(n)))},clearTimeout:function(t){var e=Ex.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function HW(t){Ex.setTimeout(function(){throw t})}function tk(){}function Am(t){t()}var rD=function(t){yv(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,tD(n)&&n.add(r)):r.destination=VW,r}return e.create=function(n,r,i){return new Cx(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(bv),jW=Function.prototype.bind;function y1(t,e){return jW.call(t,e)}var WW=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){Mp(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){Mp(r)}else Mp(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){Mp(n)}},t}(),Cx=function(t){yv(e,t);function e(n,r,i){var s=t.call(this)||this,o;if(ro(n)||!n)o={next:n??void 0,error:r??void 0,complete:i??void 0};else{var a;s&&nD.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return s.unsubscribe()},o={next:n.next&&y1(n.next,a),error:n.error&&y1(n.error,a),complete:n.complete&&y1(n.complete,a)}):o=n}return s.destination=new WW(o),s}return e}(rD);function Mp(t){HW(t)}function GW(t){throw t}var VW={closed:!0,next:tk,error:GW,complete:tk},qW=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function XW(t){return t}function YW(t){return t.length===0?XW:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var nk=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,s=ZW(e)?e:new Cx(e,n,r);return Am(function(){var o=i,a=o.operator,l=o.source;s.add(a?a.call(s,l):l?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=rk(n),new n(function(i,s){var o=new Cx({next:function(a){try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[qW]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return YW(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=rk(e),new e(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},t.create=function(e){return new t(e)},t}();function rk(t){var e;return(e=t??nD.Promise)!==null&&e!==void 0?e:Promise}function KW(t){return t&&ro(t.next)&&ro(t.error)&&ro(t.complete)}function ZW(t){return t&&t instanceof rD||KW(t)&&tD(t)}var QW=JF(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),yg=function(t){yv(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new ik(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new QW},e.prototype.next=function(n){var r=this;Am(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=_x(r.currentObservers),a=o.next();!a.done;a=o.next()){var l=a.value;l.next(n)}}catch(c){i={error:c}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;Am(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;Am(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?eD:(this.currentObservers=null,a.push(n),new bv(function(){r.currentObservers=null,Sx(a,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,s=r.thrownError,o=r.isStopped;i?n.error(s):o&&n.complete()},e.prototype.asObservable=function(){var n=new nk;return n.source=this,n},e.create=function(n,r){return new ik(n,r)},e}(nk),ik=function(t){yv(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:eD},e}(yg),JW=typeof global=="object"&&global&&global.Object===Object&&global;const iD=JW;var eG=typeof self=="object"&&self&&self.Object===Object&&self,tG=iD||eG||Function("return this")();const os=tG;var nG=os.Symbol;const _i=nG;var sD=Object.prototype,rG=sD.hasOwnProperty,iG=sD.toString,sh=_i?_i.toStringTag:void 0;function sG(t){var e=rG.call(t,sh),n=t[sh];try{t[sh]=void 0;var r=!0}catch{}var i=iG.call(t);return r&&(e?t[sh]=n:delete t[sh]),i}var oG=Object.prototype,aG=oG.toString;function lG(t){return aG.call(t)}var uG="[object Null]",cG="[object Undefined]",sk=_i?_i.toStringTag:void 0;function go(t){return t==null?t===void 0?cG:uG:sk&&sk in Object(t)?sG(t):lG(t)}function Si(t){return t!=null&&typeof t=="object"}var hG="[object Symbol]";function Qu(t){return typeof t=="symbol"||Si(t)&&go(t)==hG}function Ya(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var dG=Array.isArray;const an=dG;var fG=1/0,ok=_i?_i.prototype:void 0,ak=ok?ok.toString:void 0;function dS(t){if(typeof t=="string")return t;if(an(t))return Ya(t,dS)+"";if(Qu(t))return ak?ak.call(t):"";var e=t+"";return e=="0"&&1/t==-fG?"-0":e}var pG=/\s/;function mG(t){for(var e=t.length;e--&&pG.test(t.charAt(e)););return e}var gG=/^\s+/;function vG(t){return t&&t.slice(0,mG(t)+1).replace(gG,"")}function Vr(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var lk=0/0,yG=/^[-+]0x[0-9a-f]+$/i,bG=/^0b[01]+$/i,xG=/^0o[0-7]+$/i,wG=parseInt;function Tx(t){if(typeof t=="number")return t;if(Qu(t))return lk;if(Vr(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Vr(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=vG(t);var n=bG.test(t);return n||xG.test(t)?wG(t.slice(2),n?2:8):yG.test(t)?lk:+t}var uk=1/0,_G=17976931348623157e292;function SG(t){if(!t)return t===0?t:0;if(t=Tx(t),t===uk||t===-uk){var e=t<0?-1:1;return e*_G}return t===t?t:0}function xv(t){var e=SG(t),n=e%1;return e===e?n?e-n:e:0}function Kd(t){return t}var EG="[object AsyncFunction]",CG="[object Function]",TG="[object GeneratorFunction]",AG="[object Proxy]";function Ss(t){if(!Vr(t))return!1;var e=go(t);return e==CG||e==TG||e==EG||e==AG}var PG=os["__core-js_shared__"];const b1=PG;var ck=function(){var t=/[^.]+$/.exec(b1&&b1.keys&&b1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function kG(t){return!!ck&&ck in t}var OG=Function.prototype,IG=OG.toString;function vl(t){if(t!=null){try{return IG.call(t)}catch{}try{return t+""}catch{}}return""}var RG=/[\\^$.*+?()[\]{}|]/g,MG=/^\[object .+?Constructor\]$/,FG=Function.prototype,DG=Object.prototype,LG=FG.toString,BG=DG.hasOwnProperty,NG=RegExp("^"+LG.call(BG).replace(RG,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $G(t){if(!Vr(t)||kG(t))return!1;var e=Ss(t)?NG:MG;return e.test(vl(t))}function UG(t,e){return t==null?void 0:t[e]}function yl(t,e){var n=UG(t,e);return $G(n)?n:void 0}var zG=yl(os,"WeakMap");const Ax=zG;var hk=Object.create,HG=function(){function t(){}return function(e){if(!Vr(e))return{};if(hk)return hk(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const jG=HG;function WG(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function GG(){}function oD(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var VG=800,qG=16,XG=Date.now;function YG(t){var e=0,n=0;return function(){var r=XG(),i=qG-(r-n);if(n=r,i>0){if(++e>=VG)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function KG(t){return function(){return t}}var ZG=function(){try{var t=yl(Object,"defineProperty");return t({},"",{}),t}catch{}}();const bg=ZG;var QG=bg?function(t,e){return bg(t,"toString",{configurable:!0,enumerable:!1,value:KG(e),writable:!0})}:Kd;const JG=QG;var eV=YG(JG);const tV=eV;function aD(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function lD(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function nV(t){return t!==t}function rV(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function uD(t,e,n){return e===e?rV(t,e,n):lD(t,nV,n)}function cD(t,e){var n=t==null?0:t.length;return!!n&&uD(t,e,0)>-1}var iV=9007199254740991,sV=/^(?:0|[1-9]\d*)$/;function fS(t,e){var n=typeof t;return e=e??iV,!!e&&(n=="number"||n!="symbol"&&sV.test(t))&&t>-1&&t%1==0&&t<e}function wv(t,e,n){e=="__proto__"&&bg?bg(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Zd(t,e){return t===e||t!==t&&e!==e}var oV=Object.prototype,aV=oV.hasOwnProperty;function hD(t,e,n){var r=t[e];(!(aV.call(t,e)&&Zd(r,n))||n===void 0&&!(e in t))&&wv(t,e,n)}function Qd(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?wv(n,a,l):hD(n,a,l)}return n}var dk=Math.max;function lV(t,e,n){return e=dk(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=dk(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),WG(t,this,a)}}function pS(t,e){return tV(lV(t,e,Kd),t+"")}var uV=9007199254740991;function mS(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=uV}function ca(t){return t!=null&&mS(t.length)&&!Ss(t)}function xg(t,e,n){if(!Vr(n))return!1;var r=typeof e;return(r=="number"?ca(n)&&fS(e,n.length):r=="string"&&e in n)?Zd(n[e],t):!1}function cV(t){return pS(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&xg(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var hV=Object.prototype;function gS(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||hV;return t===n}function dD(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var dV="[object Arguments]";function fk(t){return Si(t)&&go(t)==dV}var fD=Object.prototype,fV=fD.hasOwnProperty,pV=fD.propertyIsEnumerable,mV=fk(function(){return arguments}())?fk:function(t){return Si(t)&&fV.call(t,"callee")&&!pV.call(t,"callee")};const gd=mV;function gV(){return!1}var pD=typeof Nr=="object"&&Nr&&!Nr.nodeType&&Nr,pk=pD&&typeof $r=="object"&&$r&&!$r.nodeType&&$r,vV=pk&&pk.exports===pD,mk=vV?os.Buffer:void 0,yV=mk?mk.isBuffer:void 0,bV=yV||gV;const vd=bV;var xV="[object Arguments]",wV="[object Array]",_V="[object Boolean]",SV="[object Date]",EV="[object Error]",CV="[object Function]",TV="[object Map]",AV="[object Number]",PV="[object Object]",kV="[object RegExp]",OV="[object Set]",IV="[object String]",RV="[object WeakMap]",MV="[object ArrayBuffer]",FV="[object DataView]",DV="[object Float32Array]",LV="[object Float64Array]",BV="[object Int8Array]",NV="[object Int16Array]",$V="[object Int32Array]",UV="[object Uint8Array]",zV="[object Uint8ClampedArray]",HV="[object Uint16Array]",jV="[object Uint32Array]",Ft={};Ft[DV]=Ft[LV]=Ft[BV]=Ft[NV]=Ft[$V]=Ft[UV]=Ft[zV]=Ft[HV]=Ft[jV]=!0;Ft[xV]=Ft[wV]=Ft[MV]=Ft[_V]=Ft[FV]=Ft[SV]=Ft[EV]=Ft[CV]=Ft[TV]=Ft[AV]=Ft[PV]=Ft[kV]=Ft[OV]=Ft[IV]=Ft[RV]=!1;function WV(t){return Si(t)&&mS(t.length)&&!!Ft[go(t)]}function Jd(t){return function(e){return t(e)}}var mD=typeof Nr=="object"&&Nr&&!Nr.nodeType&&Nr,qh=mD&&typeof $r=="object"&&$r&&!$r.nodeType&&$r,GV=qh&&qh.exports===mD,x1=GV&&iD.process,VV=function(){try{var t=qh&&qh.require&&qh.require("util").types;return t||x1&&x1.binding&&x1.binding("util")}catch{}}();const Ju=VV;var gk=Ju&&Ju.isTypedArray,qV=gk?Jd(gk):WV;const vS=qV;var XV=Object.prototype,YV=XV.hasOwnProperty;function gD(t,e){var n=an(t),r=!n&&gd(t),i=!n&&!r&&vd(t),s=!n&&!r&&!i&&vS(t),o=n||r||i||s,a=o?dD(t.length,String):[],l=a.length;for(var c in t)(e||YV.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||fS(c,l)))&&a.push(c);return a}function vD(t,e){return function(n){return t(e(n))}}var KV=vD(Object.keys,Object);const ZV=KV;var QV=Object.prototype,JV=QV.hasOwnProperty;function eq(t){if(!gS(t))return ZV(t);var e=[];for(var n in Object(t))JV.call(t,n)&&n!="constructor"&&e.push(n);return e}function bl(t){return ca(t)?gD(t):eq(t)}function tq(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var nq=Object.prototype,rq=nq.hasOwnProperty;function iq(t){if(!Vr(t))return tq(t);var e=gS(t),n=[];for(var r in t)r=="constructor"&&(e||!rq.call(t,r))||n.push(r);return n}function ef(t){return ca(t)?gD(t,!0):iq(t)}var sq=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,oq=/^\w*$/;function yS(t,e){if(an(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Qu(t)?!0:oq.test(t)||!sq.test(t)||e!=null&&t in Object(e)}var aq=yl(Object,"create");const yd=aq;function lq(){this.__data__=yd?yd(null):{},this.size=0}function uq(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var cq="__lodash_hash_undefined__",hq=Object.prototype,dq=hq.hasOwnProperty;function fq(t){var e=this.__data__;if(yd){var n=e[t];return n===cq?void 0:n}return dq.call(e,t)?e[t]:void 0}var pq=Object.prototype,mq=pq.hasOwnProperty;function gq(t){var e=this.__data__;return yd?e[t]!==void 0:mq.call(e,t)}var vq="__lodash_hash_undefined__";function yq(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=yd&&e===void 0?vq:e,this}function ol(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ol.prototype.clear=lq;ol.prototype.delete=uq;ol.prototype.get=fq;ol.prototype.has=gq;ol.prototype.set=yq;function bq(){this.__data__=[],this.size=0}function _v(t,e){for(var n=t.length;n--;)if(Zd(t[n][0],e))return n;return-1}var xq=Array.prototype,wq=xq.splice;function _q(t){var e=this.__data__,n=_v(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():wq.call(e,n,1),--this.size,!0}function Sq(t){var e=this.__data__,n=_v(e,t);return n<0?void 0:e[n][1]}function Eq(t){return _v(this.__data__,t)>-1}function Cq(t,e){var n=this.__data__,r=_v(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function vo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}vo.prototype.clear=bq;vo.prototype.delete=_q;vo.prototype.get=Sq;vo.prototype.has=Eq;vo.prototype.set=Cq;var Tq=yl(os,"Map");const bd=Tq;function Aq(){this.size=0,this.__data__={hash:new ol,map:new(bd||vo),string:new ol}}function Pq(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Sv(t,e){var n=t.__data__;return Pq(e)?n[typeof e=="string"?"string":"hash"]:n.map}function kq(t){var e=Sv(this,t).delete(t);return this.size-=e?1:0,e}function Oq(t){return Sv(this,t).get(t)}function Iq(t){return Sv(this,t).has(t)}function Rq(t,e){var n=Sv(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function yo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}yo.prototype.clear=Aq;yo.prototype.delete=kq;yo.prototype.get=Oq;yo.prototype.has=Iq;yo.prototype.set=Rq;var Mq="Expected a function";function bS(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Mq);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(bS.Cache||yo),n}bS.Cache=yo;var Fq=500;function Dq(t){var e=bS(t,function(r){return n.size===Fq&&n.clear(),r}),n=e.cache;return e}var Lq=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Bq=/\\(\\)?/g,Nq=Dq(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Lq,function(n,r,i,s){e.push(i?s.replace(Bq,"$1"):r||n)}),e});const $q=Nq;function yD(t){return t==null?"":dS(t)}function bD(t,e){return an(t)?t:yS(t,e)?[t]:$q(yD(t))}var Uq=1/0;function Ev(t){if(typeof t=="string"||Qu(t))return t;var e=t+"";return e=="0"&&1/t==-Uq?"-0":e}function xS(t,e){e=bD(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Ev(e[n++])];return n&&n==r?t:void 0}function zq(t,e,n){var r=t==null?void 0:xS(t,e);return r===void 0?n:r}function wS(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var vk=_i?_i.isConcatSpreadable:void 0;function Hq(t){return an(t)||gd(t)||!!(vk&&t&&t[vk])}function _S(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=Hq),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?_S(a,e-1,n,r,i):wS(i,a):r||(i[i.length]=a)}return i}var jq=vD(Object.getPrototypeOf,Object);const SS=jq;var Wq="[object Object]",Gq=Function.prototype,Vq=Object.prototype,xD=Gq.toString,qq=Vq.hasOwnProperty,Xq=xD.call(Object);function Yq(t){if(!Si(t)||go(t)!=Wq)return!1;var e=SS(t);if(e===null)return!0;var n=qq.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&xD.call(n)==Xq}function Kq(t,e,n,r){var i=-1,s=t==null?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}function Zq(t,e,n){return t===t&&(n!==void 0&&(t=t<=n?t:n),e!==void 0&&(t=t>=e?t:e)),t}function Qq(){this.__data__=new vo,this.size=0}function Jq(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function eX(t){return this.__data__.get(t)}function tX(t){return this.__data__.has(t)}var nX=200;function rX(t,e){var n=this.__data__;if(n instanceof vo){var r=n.__data__;if(!bd||r.length<nX-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new yo(r)}return n.set(t,e),this.size=n.size,this}function Zi(t){var e=this.__data__=new vo(t);this.size=e.size}Zi.prototype.clear=Qq;Zi.prototype.delete=Jq;Zi.prototype.get=eX;Zi.prototype.has=tX;Zi.prototype.set=rX;function iX(t,e){return t&&Qd(e,bl(e),t)}function sX(t,e){return t&&Qd(e,ef(e),t)}var wD=typeof Nr=="object"&&Nr&&!Nr.nodeType&&Nr,yk=wD&&typeof $r=="object"&&$r&&!$r.nodeType&&$r,oX=yk&&yk.exports===wD,bk=oX?os.Buffer:void 0,xk=bk?bk.allocUnsafe:void 0;function _D(t,e){if(e)return t.slice();var n=t.length,r=xk?xk(n):new t.constructor(n);return t.copy(r),r}function SD(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function ED(){return[]}var aX=Object.prototype,lX=aX.propertyIsEnumerable,wk=Object.getOwnPropertySymbols,uX=wk?function(t){return t==null?[]:(t=Object(t),SD(wk(t),function(e){return lX.call(t,e)}))}:ED;const ES=uX;function cX(t,e){return Qd(t,ES(t),e)}var hX=Object.getOwnPropertySymbols,dX=hX?function(t){for(var e=[];t;)wS(e,ES(t)),t=SS(t);return e}:ED;const CD=dX;function fX(t,e){return Qd(t,CD(t),e)}function TD(t,e,n){var r=e(t);return an(t)?r:wS(r,n(t))}function Px(t){return TD(t,bl,ES)}function pX(t){return TD(t,ef,CD)}var mX=yl(os,"DataView");const kx=mX;var gX=yl(os,"Promise");const Ox=gX;var vX=yl(os,"Set");const Bu=vX;var _k="[object Map]",yX="[object Object]",Sk="[object Promise]",Ek="[object Set]",Ck="[object WeakMap]",Tk="[object DataView]",bX=vl(kx),xX=vl(bd),wX=vl(Ox),_X=vl(Bu),SX=vl(Ax),Ma=go;(kx&&Ma(new kx(new ArrayBuffer(1)))!=Tk||bd&&Ma(new bd)!=_k||Ox&&Ma(Ox.resolve())!=Sk||Bu&&Ma(new Bu)!=Ek||Ax&&Ma(new Ax)!=Ck)&&(Ma=function(t){var e=go(t),n=e==yX?t.constructor:void 0,r=n?vl(n):"";if(r)switch(r){case bX:return Tk;case xX:return _k;case wX:return Sk;case _X:return Ek;case SX:return Ck}return e});const xd=Ma;var EX=Object.prototype,CX=EX.hasOwnProperty;function TX(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&CX.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var AX=os.Uint8Array;const wg=AX;function CS(t){var e=new t.constructor(t.byteLength);return new wg(e).set(new wg(t)),e}function PX(t,e){var n=e?CS(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var kX=/\w*$/;function OX(t){var e=new t.constructor(t.source,kX.exec(t));return e.lastIndex=t.lastIndex,e}var Ak=_i?_i.prototype:void 0,Pk=Ak?Ak.valueOf:void 0;function IX(t){return Pk?Object(Pk.call(t)):{}}function AD(t,e){var n=e?CS(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var RX="[object Boolean]",MX="[object Date]",FX="[object Map]",DX="[object Number]",LX="[object RegExp]",BX="[object Set]",NX="[object String]",$X="[object Symbol]",UX="[object ArrayBuffer]",zX="[object DataView]",HX="[object Float32Array]",jX="[object Float64Array]",WX="[object Int8Array]",GX="[object Int16Array]",VX="[object Int32Array]",qX="[object Uint8Array]",XX="[object Uint8ClampedArray]",YX="[object Uint16Array]",KX="[object Uint32Array]";function ZX(t,e,n){var r=t.constructor;switch(e){case UX:return CS(t);case RX:case MX:return new r(+t);case zX:return PX(t,n);case HX:case jX:case WX:case GX:case VX:case qX:case XX:case YX:case KX:return AD(t,n);case FX:return new r;case DX:case NX:return new r(t);case LX:return OX(t);case BX:return new r;case $X:return IX(t)}}function PD(t){return typeof t.constructor=="function"&&!gS(t)?jG(SS(t)):{}}var QX="[object Map]";function JX(t){return Si(t)&&xd(t)==QX}var kk=Ju&&Ju.isMap,eY=kk?Jd(kk):JX;const tY=eY;var nY="[object Set]";function rY(t){return Si(t)&&xd(t)==nY}var Ok=Ju&&Ju.isSet,iY=Ok?Jd(Ok):rY;const sY=iY;var oY=1,aY=2,lY=4,kD="[object Arguments]",uY="[object Array]",cY="[object Boolean]",hY="[object Date]",dY="[object Error]",OD="[object Function]",fY="[object GeneratorFunction]",pY="[object Map]",mY="[object Number]",ID="[object Object]",gY="[object RegExp]",vY="[object Set]",yY="[object String]",bY="[object Symbol]",xY="[object WeakMap]",wY="[object ArrayBuffer]",_Y="[object DataView]",SY="[object Float32Array]",EY="[object Float64Array]",CY="[object Int8Array]",TY="[object Int16Array]",AY="[object Int32Array]",PY="[object Uint8Array]",kY="[object Uint8ClampedArray]",OY="[object Uint16Array]",IY="[object Uint32Array]",At={};At[kD]=At[uY]=At[wY]=At[_Y]=At[cY]=At[hY]=At[SY]=At[EY]=At[CY]=At[TY]=At[AY]=At[pY]=At[mY]=At[ID]=At[gY]=At[vY]=At[yY]=At[bY]=At[PY]=At[kY]=At[OY]=At[IY]=!0;At[dY]=At[OD]=At[xY]=!1;function Pm(t,e,n,r,i,s){var o,a=e&oY,l=e&aY,c=e&lY;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!Vr(t))return t;var h=an(t);if(h){if(o=TX(t),!a)return oD(t,o)}else{var f=xd(t),p=f==OD||f==fY;if(vd(t))return _D(t,a);if(f==ID||f==kD||p&&!i){if(o=l||p?{}:PD(t),!a)return l?fX(t,sX(o,t)):cX(t,iX(o,t))}else{if(!At[f])return i?t:{};o=ZX(t,f,a)}}s||(s=new Zi);var m=s.get(t);if(m)return m;s.set(t,o),sY(t)?t.forEach(function(x){o.add(Pm(x,e,n,x,t,s))}):tY(t)&&t.forEach(function(x,b){o.set(b,Pm(x,e,n,b,t,s))});var v=c?l?pX:Px:l?ef:bl,y=h?void 0:v(t);return aD(y||t,function(x,b){y&&(b=x,x=t[b]),hD(o,b,Pm(x,e,n,b,t,s))}),o}var RY=4;function ht(t){return Pm(t,RY)}function Ik(t){for(var e=-1,n=t==null?0:t.length,r=0,i=[];++e<n;){var s=t[e];s&&(i[r++]=s)}return i}var MY="__lodash_hash_undefined__";function FY(t){return this.__data__.set(t,MY),this}function DY(t){return this.__data__.has(t)}function ec(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new yo;++e<n;)this.add(t[e])}ec.prototype.add=ec.prototype.push=FY;ec.prototype.has=DY;function RD(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function TS(t,e){return t.has(e)}var LY=1,BY=2;function MD(t,e,n,r,i,s){var o=n&LY,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),h=s.get(e);if(c&&h)return c==e&&h==t;var f=-1,p=!0,m=n&BY?new ec:void 0;for(s.set(t,e),s.set(e,t);++f<a;){var v=t[f],y=e[f];if(r)var x=o?r(y,v,f,e,t,s):r(v,y,f,t,e,s);if(x!==void 0){if(x)continue;p=!1;break}if(m){if(!RD(e,function(b,S){if(!TS(m,S)&&(v===b||i(v,b,n,r,s)))return m.push(S)})){p=!1;break}}else if(!(v===y||i(v,y,n,r,s))){p=!1;break}}return s.delete(t),s.delete(e),p}function NY(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function AS(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var $Y=1,UY=2,zY="[object Boolean]",HY="[object Date]",jY="[object Error]",WY="[object Map]",GY="[object Number]",VY="[object RegExp]",qY="[object Set]",XY="[object String]",YY="[object Symbol]",KY="[object ArrayBuffer]",ZY="[object DataView]",Rk=_i?_i.prototype:void 0,w1=Rk?Rk.valueOf:void 0;function QY(t,e,n,r,i,s,o){switch(n){case ZY:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case KY:return!(t.byteLength!=e.byteLength||!s(new wg(t),new wg(e)));case zY:case HY:case GY:return Zd(+t,+e);case jY:return t.name==e.name&&t.message==e.message;case VY:case XY:return t==e+"";case WY:var a=NY;case qY:var l=r&$Y;if(a||(a=AS),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=UY,o.set(t,e);var h=MD(a(t),a(e),r,i,s,o);return o.delete(t),h;case YY:if(w1)return w1.call(t)==w1.call(e)}return!1}var JY=1,eK=Object.prototype,tK=eK.hasOwnProperty;function nK(t,e,n,r,i,s){var o=n&JY,a=Px(t),l=a.length,c=Px(e),h=c.length;if(l!=h&&!o)return!1;for(var f=l;f--;){var p=a[f];if(!(o?p in e:tK.call(e,p)))return!1}var m=s.get(t),v=s.get(e);if(m&&v)return m==e&&v==t;var y=!0;s.set(t,e),s.set(e,t);for(var x=o;++f<l;){p=a[f];var b=t[p],S=e[p];if(r)var w=o?r(S,b,p,e,t,s):r(b,S,p,t,e,s);if(!(w===void 0?b===S||i(b,S,n,r,s):w)){y=!1;break}x||(x=p=="constructor")}if(y&&!x){var E=t.constructor,O=e.constructor;E!=O&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof O=="function"&&O instanceof O)&&(y=!1)}return s.delete(t),s.delete(e),y}var rK=1,Mk="[object Arguments]",Fk="[object Array]",Fp="[object Object]",iK=Object.prototype,Dk=iK.hasOwnProperty;function sK(t,e,n,r,i,s){var o=an(t),a=an(e),l=o?Fk:xd(t),c=a?Fk:xd(e);l=l==Mk?Fp:l,c=c==Mk?Fp:c;var h=l==Fp,f=c==Fp,p=l==c;if(p&&vd(t)){if(!vd(e))return!1;o=!0,h=!1}if(p&&!h)return s||(s=new Zi),o||vS(t)?MD(t,e,n,r,i,s):QY(t,e,l,n,r,i,s);if(!(n&rK)){var m=h&&Dk.call(t,"__wrapped__"),v=f&&Dk.call(e,"__wrapped__");if(m||v){var y=m?t.value():t,x=v?e.value():e;return s||(s=new Zi),i(y,x,n,r,s)}}return p?(s||(s=new Zi),nK(t,e,n,r,i,s)):!1}function PS(t,e,n,r,i){return t===e?!0:t==null||e==null||!Si(t)&&!Si(e)?t!==t&&e!==e:sK(t,e,n,r,PS,i)}var oK=1,aK=2;function lK(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],c=t[l],h=a[1];if(o&&a[2]){if(c===void 0&&!(l in t))return!1}else{var f=new Zi;if(r)var p=r(c,h,l,t,e,f);if(!(p===void 0?PS(h,c,oK|aK,r,f):p))return!1}}return!0}function FD(t){return t===t&&!Vr(t)}function uK(t){for(var e=bl(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,FD(i)]}return e}function DD(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function cK(t){var e=uK(t);return e.length==1&&e[0][2]?DD(e[0][0],e[0][1]):function(n){return n===t||lK(n,t,e)}}function hK(t,e){return t!=null&&e in Object(t)}function dK(t,e,n){e=bD(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=Ev(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&mS(i)&&fS(o,i)&&(an(t)||gd(t)))}function fK(t,e){return t!=null&&dK(t,e,hK)}var pK=1,mK=2;function gK(t,e){return yS(t)&&FD(e)?DD(Ev(t),e):function(n){var r=zq(n,t);return r===void 0&&r===e?fK(n,t):PS(e,r,pK|mK)}}function vK(t){return function(e){return e==null?void 0:e[t]}}function yK(t){return function(e){return xS(e,t)}}function bK(t){return yS(t)?vK(Ev(t)):yK(t)}function ha(t){return typeof t=="function"?t:t==null?Kd:typeof t=="object"?an(t)?gK(t[0],t[1]):cK(t):bK(t)}function xK(t,e,n,r){for(var i=-1,s=t==null?0:t.length;++i<s;){var o=t[i];e(r,o,n(o),t)}return r}function wK(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var _K=wK();const LD=_K;function SK(t,e){return t&&LD(t,e,bl)}function EK(t,e){return function(n,r){if(n==null)return n;if(!ca(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var CK=EK(SK);const yc=CK;function TK(t,e,n,r){return yc(t,function(i,s,o){e(r,i,n(i),o)}),r}function AK(t,e){return function(n,r){var i=an(n)?xK:TK,s=e?e():{};return i(n,t,ha(r),s)}}var PK=function(){return os.Date.now()};const _1=PK;var kK="Expected a function",OK=Math.max,IK=Math.min;function BD(t,e,n){var r,i,s,o,a,l,c=0,h=!1,f=!1,p=!0;if(typeof t!="function")throw new TypeError(kK);e=Tx(e)||0,Vr(n)&&(h=!!n.leading,f="maxWait"in n,s=f?OK(Tx(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p);function m(A){var F=r,L=i;return r=i=void 0,c=A,o=t.apply(L,F),o}function v(A){return c=A,a=setTimeout(b,e),h?m(A):o}function y(A){var F=A-l,L=A-c,H=e-F;return f?IK(H,s-L):H}function x(A){var F=A-l,L=A-c;return l===void 0||F>=e||F<0||f&&L>=s}function b(){var A=_1();if(x(A))return S(A);a=setTimeout(b,y(A))}function S(A){return a=void 0,p&&r?m(A):(r=i=void 0,o)}function w(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function E(){return a===void 0?o:S(_1())}function O(){var A=_1(),F=x(A);if(r=arguments,i=this,l=A,F){if(a===void 0)return v(l);if(f)return clearTimeout(a),a=setTimeout(b,e),m(l)}return a===void 0&&(a=setTimeout(b,e)),o}return O.cancel=w,O.flush=E,O}function Ix(t,e,n){(n!==void 0&&!Zd(t[e],n)||n===void 0&&!(e in t))&&wv(t,e,n)}function Rx(t){return Si(t)&&ca(t)}function Mx(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function RK(t){return Qd(t,ef(t))}function MK(t,e,n,r,i,s,o){var a=Mx(t,n),l=Mx(e,n),c=o.get(l);if(c){Ix(t,n,c);return}var h=s?s(a,l,n+"",t,e,o):void 0,f=h===void 0;if(f){var p=an(l),m=!p&&vd(l),v=!p&&!m&&vS(l);h=l,p||m||v?an(a)?h=a:Rx(a)?h=oD(a):m?(f=!1,h=_D(l,!0)):v?(f=!1,h=AD(l,!0)):h=[]:Yq(l)||gd(l)?(h=a,gd(a)?h=RK(a):(!Vr(a)||Ss(a))&&(h=PD(l))):f=!1}f&&(o.set(l,h),i(h,l,r,s,o),o.delete(l)),Ix(t,n,h)}function ND(t,e,n,r,i){t!==e&&LD(e,function(s,o){if(i||(i=new Zi),Vr(s))MK(t,e,o,n,ND,r,i);else{var a=r?r(Mx(t,o),s,o+"",t,e,i):void 0;a===void 0&&(a=s),Ix(t,o,a)}},ef)}function $D(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var FK=200;function DK(t,e,n,r){var i=-1,s=cD,o=!0,a=t.length,l=[],c=e.length;if(!a)return l;n&&(e=Ya(e,Jd(n))),r?(s=$D,o=!1):e.length>=FK&&(s=TS,o=!1,e=new ec(e));e:for(;++i<a;){var h=t[i],f=n==null?h:n(h);if(h=r||h!==0?h:0,o&&f===f){for(var p=c;p--;)if(e[p]===f)continue e;l.push(h)}else s(e,f,r)||l.push(h)}return l}var LK=pS(function(t,e){return Rx(t)?DK(t,_S(e,1,Rx,!0)):[]});const UD=LK;function zD(t){return typeof t=="function"?t:Kd}function vt(t,e){var n=an(t)?aD:yc;return n(t,zD(e))}function BK(t,e){var n=[];return yc(t,function(r,i,s){e(r,i,s)&&n.push(r)}),n}function gr(t,e){var n=an(t)?SD:BK;return n(t,ha(e))}function NK(t){return function(e,n,r){var i=Object(e);if(!ca(e)){var s=ha(n);e=bl(e),n=function(a){return s(i[a],a,i)}}var o=t(e,n,r);return o>-1?i[s?e[o]:o]:void 0}}var $K=Math.max;function UK(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:xv(n);return i<0&&(i=$K(r+i,0)),lD(t,ha(e),i)}var zK=NK(UK);const Qe=zK;function HD(t,e){var n=-1,r=ca(t)?Array(t.length):[];return yc(t,function(i,s,o){r[++n]=e(i,s,o)}),r}function ze(t,e){var n=an(t)?Ya:HD;return n(t,ha(e))}var HK=Object.prototype,jK=HK.hasOwnProperty,WK=AK(function(t,e,n){jK.call(t,n)?t[n].push(e):wv(t,n,[e])});const GK=WK;var VK="[object String]";function jD(t){return typeof t=="string"||!an(t)&&Si(t)&&go(t)==VK}function qK(t,e){return Ya(e,function(n){return t[n]})}function XK(t){return t==null?[]:qK(t,bl(t))}var YK=Math.max;function tf(t,e,n,r){t=ca(t)?t:XK(t),n=n&&!r?xv(n):0;var i=t.length;return n<0&&(n=YK(i+n,0)),jD(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&uD(t,e,n)>-1}var KK="[object Number]";function ZK(t){return typeof t=="number"||Si(t)&&go(t)==KK}function Mr(t){return t===void 0}var QK=cV(function(t,e,n){ND(t,e,n)});const yr=QK;function JK(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function eZ(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=Qu(t),o=e!==void 0,a=e===null,l=e===e,c=Qu(e);if(!a&&!c&&!s&&t>e||s&&o&&l&&!a&&!c||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!c&&t<e||c&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}function tZ(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var l=eZ(i[r],s[r]);if(l){if(r>=a)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}function nZ(t,e,n){e.length?e=Ya(e,function(s){return an(s)?function(o){return xS(o,s.length===1?s[0]:s)}:s}):e=[Kd];var r=-1;e=Ya(e,Jd(ha));var i=HD(t,function(s,o,a){var l=Ya(e,function(c){return c(s)});return{criteria:l,index:++r,value:s}});return JK(i,function(s,o){return tZ(s,o,n)})}function rZ(t,e,n,r,i){return i(t,function(s,o,a){n=r?(r=!1,s):e(n,s,o,a)}),n}function WD(t,e,n){var r=an(t)?Kq:rZ,i=arguments.length<3;return r(t,ha(e),n,i,yc)}function iZ(t,e){var n;return yc(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}function nf(t,e,n){var r=an(t)?RD:iZ;return n&&xg(t,e,n)&&(e=void 0),r(t,ha(e))}var sZ=pS(function(t,e){if(t==null)return[];var n=e.length;return n>1&&xg(t,e[0],e[1])?e=[]:n>2&&xg(e[0],e[1],e[2])&&(e=[e[0]]),nZ(t,_S(e,1),[])});const da=sZ;function oZ(t,e,n){return t=yD(t),n=n==null?0:Zq(xv(n),0,t.length),e=dS(e),t.slice(n,n+e.length)==e}var aZ="Expected a function";function lZ(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(aZ);return Vr(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),BD(t,e,{leading:r,maxWait:e,trailing:i})}var uZ=9007199254740991,S1=4294967295,cZ=Math.min;function rf(t,e){if(t=xv(t),t<1||t>uZ)return[];var n=S1,r=cZ(t,S1);e=zD(e),t-=S1;for(var i=dD(r,e);++n<t;)e(n);return i}var hZ=1/0,dZ=Bu&&1/AS(new Bu([,-0]))[1]==hZ?function(t){return new Bu(t)}:GG;const fZ=dZ;var pZ=200;function mZ(t,e,n){var r=-1,i=cD,s=t.length,o=!0,a=[],l=a;if(n)o=!1,i=$D;else if(s>=pZ){var c=e?null:fZ(t);if(c)return AS(c);o=!1,i=TS,l=new ec}else l=e?[]:a;e:for(;++r<s;){var h=t[r],f=e?e(h):h;if(h=n||h!==0?h:0,o&&f===f){for(var p=l.length;p--;)if(l[p]===f)continue e;e&&l.push(f),a.push(h)}else i(l,f,n)||(l!==a&&l.push(f),a.push(h))}return a}function wd(t){return t&&t.length?mZ(t):[]}const Rs=T.createContext({});function gZ(){const t=window.localStorage.getItem("dragon-build");return t?JSON.parse(t):[]}function vZ(){const t=window.localStorage.getItem("dragon-custom-units");return t?JSON.parse(t):[]}function yZ(){const t=window.localStorage.getItem("dragon-default-units");if(t)try{return JSON.parse(t)}catch{return[]}else return[]}const bZ=(t,e)=>{const{index:n,unit:r,units:i,type:s}=e;let o=ht(t);if(s==="save")try{window.localStorage.setItem("dragon-default-units",JSON.stringify(o))}catch{}if(s==="add")return o=[...o,r],o;if(s==="set")return o=i,window.localStorage.setItem("dragon-default-units",JSON.stringify(o)),o;if(s==="update")return o=ze(o,a=>a.id===r.id?r:a),window.localStorage.setItem("dragon-default-units",JSON.stringify(o)),o;if(s==="remove"){const a=t.findIndex(c=>c.id===r.id);if(a<0)return t;const l=[...t];return l.splice(a,1),window.localStorage.setItem("dragon-default-units",JSON.stringify(o)),l}return t},xZ=(t,e)=>{const{index:n,unit:r,units:i,type:s}=e;let o=ht(t);if(s==="save")try{window.localStorage.setItem("dragon-custom-units",JSON.stringify(o))}catch{}if(s==="add")return o=[...o,r],o;if(s==="set")return o=i,window.localStorage.setItem("dragon-custom-units",JSON.stringify(o)),o;if(s==="update")return o=ze(o,a=>a.id===r.id?r:a),window.localStorage.setItem("dragon-custom-units",JSON.stringify(o)),o;if(s==="remove"){const a=t.findIndex(c=>c.id===r.id);if(a<0)return t;const l=[...t];return l.splice(a,1),window.localStorage.setItem("dragon-custom-units",JSON.stringify(l)),l}return t},wZ=(t,e)=>{const{build:n,type:r}=e;let i=ht(t);return r==="imported"?(i=n,i):t},_Z=(t,e)=>{const{build:n,type:r}=e;let i=ht(t);return r==="set"?(i=n,window.localStorage.setItem("dragon-build",JSON.stringify(i)),i):t},SZ=({children:t})=>{var f;const[e,n]=T.useReducer(_Z,gZ()),[r,i]=T.useReducer(wZ,e==null?void 0:e.exportableBuild),[s,o]=T.useReducer(xZ,vZ()),[a,l]=T.useReducer(bZ,yZ()),[c,h]=T.useState((s==null?void 0:s.length)>1?(f=s[0])==null?void 0:f.id:null);return k(Rs.Provider,{value:{build:e,setBuild:n,savedBuild:r,setSavedBuild:i,customUnits:s,setCustomUnits:o,defaultUnits:a,setDefaultUnits:l,selectedUnitId:c,setSelectedUnitId:h},children:t})};var Fx={},EZ={get exports(){return Fx},set exports(t){Fx=t}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(EZ);const uo=Fx,Jn=T.createContext({});function CZ(){const t=window.localStorage.getItem("dragon-abilities");return t?JSON.parse(t):[]}function TZ(){const t=window.localStorage.getItem("dragon-ability-types");return t?JSON.parse(t):[]}function AZ(){const t=window.localStorage.getItem("dragon-global-params");return t?JSON.parse(t):[]}const PZ=(t,e)=>{const{targetId:n,index:r,param:i,params:s,type:o}=e;let a=ht(t);if(o==="save")try{window.localStorage.setItem("dragon-global-params",JSON.stringify(a))}catch{}if(o==="add")return a=[...a,i],a;if(o==="set")return a=s,window.localStorage.setItem("dragon-global-params",JSON.stringify(a)),a;if(o==="update")return a=ze(a,l=>l.id===n?i:l),a;if(o==="remove"){const l=t.findIndex(h=>h.id===i.id);if(l<0)return t;const c=[...t];return c.splice(l,1),c}return t},kZ=(t,e)=>{const{targetId:n,index:r,ability:i,abilities:s,type:o}=e;let a=ht(t);if(o==="save")try{window.localStorage.setItem("dragon-abilities",JSON.stringify(a))}catch{}if(o==="add")return a=[...a,i],a;if(o==="set")return a=s,window.localStorage.setItem("dragon-abilities",JSON.stringify(a)),a;if(o==="update")return a=ze(a,l=>l.id===n?i:l),a;if(o==="remove"){const l=t.findIndex(h=>h.id===i.id);if(l<0)return t;const c=[...t];return c.splice(l,1),c}return t},OZ=(t,e)=>{const{index:n,abilityType:r,abilityTypes:i,type:s}=e;let o=ht(t);if(s==="save")try{window.localStorage.setItem("dragon-ability-types",JSON.stringify(o))}catch{}if(s==="add")return o=[...o,r],o;if(s==="set")return o=i,window.localStorage.setItem("dragon-ability-types",JSON.stringify(o)),o;if(s==="update")return o[n]=r,o;if(s==="remove"){const a=t.findIndex(c=>c.id===r.id);if(a<0)return t;const l=[...t];return l.splice(a,1),l}return t},IZ=({children:t})=>{const[e,n]=T.useReducer(kZ,CZ()),[r,i]=T.useReducer(OZ,TZ()),[s,o]=T.useReducer(PZ,AZ());return k(Jn.Provider,{value:{abilities:e,setAbilities:n,abilityTypes:r,setAbilityTypes:i,globalParams:s,setGlobalParams:o},children:t})},bo=T.createContext({});function RZ(){const t=window.localStorage.getItem("dragon-nodes");if(t)try{return JSON.parse(t)}catch{return[{}]}else return GD()}function GD(){return[{id:"initial-node",name:"Example Node",description:"Press the Edit button on the left to edit this node. Press the edit button on the right to add stats and abilities.",colors:{selected:"#eee",unavailable:"aaa"}}]}const MZ=(t,e)=>{const{targetId:n,index:r,node:i,nodes:s,type:o}=e;let a=ht(t);if(o==="reset")return a=GD(),window.localStorage.setItem("dragon-nodes",JSON.stringify(a)),a;if(o==="save")try{window.localStorage.setItem("dragon-nodes",JSON.stringify(a))}catch{}if(o==="add")return a=[...a,i],a;if(o==="set")return a=s,window.localStorage.setItem("dragon-nodes",JSON.stringify(a)),a;if(o==="update")return a=ze(a,l=>l.id===n?i:l),window.localStorage.setItem("dragon-nodes",JSON.stringify(a)),a;if(o==="remove"){const l=t.findIndex(h=>h.id===i.id);if(l<0)return t;let c=[...t];return c.splice(l,1),c=ze(gr(c,h=>h.id!==i.id),h=>{let f=h.requires;return h.requires===i.id&&(f=i==null?void 0:i.requires),{...h,requires:f}}),window.localStorage.setItem("dragon-nodes",JSON.stringify(a)),c}return t},FZ=({children:t})=>{const[e,n]=T.useReducer(MZ,RZ()),[r,i]=T.useState(null),[s,o]=T.useState({acquired:{},selected:{},available:{}});return k(bo.Provider,{value:{nodes:e,setNodes:n,selectedNodeId:r,setSelectedNodeId:i,nodeMeta:s,setNodeMeta:o},children:t})};var B={},DZ={get exports(){return B},set exports(t){B=t}},LZ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",BZ=LZ,NZ=BZ;function VD(){}function qD(){}qD.resetWarningCache=VD;var $Z=function(){function t(r,i,s,o,a,l){if(l!==NZ){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:qD,resetWarningCache:VD};return n.PropTypes=n,n};DZ.exports=$Z();function Dx(){return Dx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dx.apply(this,arguments)}function UZ(t,e){if(t==null)return{};var n=zZ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var kS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=UZ(t,["color","size"]);return P.createElement("svg",Dx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),P.createElement("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"}))});kS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};kS.displayName="BookOpen";const HZ=kS;function Lx(){return Lx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lx.apply(this,arguments)}function jZ(t,e){if(t==null)return{};var n=WZ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var OS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=jZ(t,["color","size"]);return P.createElement("svg",Lx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),P.createElement("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"}))});OS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};OS.displayName="Book";const GZ=OS;function Bx(){return Bx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bx.apply(this,arguments)}function VZ(t,e){if(t==null)return{};var n=qZ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var IS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=VZ(t,["color","size"]);return P.createElement("svg",Bx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"20 6 9 17 4 12"}))});IS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};IS.displayName="Check";const XZ=IS;function Nx(){return Nx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nx.apply(this,arguments)}function YZ(t,e){if(t==null)return{};var n=KZ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function KZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var RS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=YZ(t,["color","size"]);return P.createElement("svg",Nx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"6 9 12 15 18 9"}))});RS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};RS.displayName="ChevronDown";const XD=RS;function $x(){return $x=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$x.apply(this,arguments)}function ZZ(t,e){if(t==null)return{};var n=QZ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var MS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=ZZ(t,["color","size"]);return P.createElement("svg",$x({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"18 15 12 9 6 15"}))});MS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};MS.displayName="ChevronUp";const YD=MS;function Ux(){return Ux=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ux.apply(this,arguments)}function JZ(t,e){if(t==null)return{};var n=eQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var FS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=JZ(t,["color","size"]);return P.createElement("svg",Ux({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"7 13 12 18 17 13"}),P.createElement("polyline",{points:"7 6 12 11 17 6"}))});FS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};FS.displayName="ChevronsDown";const KD=FS;function zx(){return zx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zx.apply(this,arguments)}function tQ(t,e){if(t==null)return{};var n=nQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var DS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=tQ(t,["color","size"]);return P.createElement("svg",zx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"11 17 6 12 11 7"}),P.createElement("polyline",{points:"18 17 13 12 18 7"}))});DS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};DS.displayName="ChevronsLeft";const rQ=DS;function Hx(){return Hx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hx.apply(this,arguments)}function iQ(t,e){if(t==null)return{};var n=sQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var LS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=iQ(t,["color","size"]);return P.createElement("svg",Hx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"13 17 18 12 13 7"}),P.createElement("polyline",{points:"6 17 11 12 6 7"}))});LS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};LS.displayName="ChevronsRight";const oQ=LS;function jx(){return jx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jx.apply(this,arguments)}function aQ(t,e){if(t==null)return{};var n=lQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var BS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=aQ(t,["color","size"]);return P.createElement("svg",jx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"17 11 12 6 7 11"}),P.createElement("polyline",{points:"17 18 12 13 7 18"}))});BS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};BS.displayName="ChevronsUp";const ZD=BS;function Wx(){return Wx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wx.apply(this,arguments)}function uQ(t,e){if(t==null)return{};var n=cQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var NS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=uQ(t,["color","size"]);return P.createElement("svg",Wx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("path",{d:"M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"}),P.createElement("polyline",{points:"13 11 9 17 15 17 11 23"}))});NS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};NS.displayName="CloudLightning";const hQ=NS;function Gx(){return Gx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gx.apply(this,arguments)}function dQ(t,e){if(t==null)return{};var n=fQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var $S=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=dQ(t,["color","size"]);return P.createElement("svg",Gx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),P.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))});$S.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};$S.displayName="Copy";const pQ=$S;function Vx(){return Vx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vx.apply(this,arguments)}function mQ(t,e){if(t==null)return{};var n=gQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var US=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=mQ(t,["color","size"]);return P.createElement("svg",Vx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("circle",{cx:"12",cy:"12",r:"10"}),P.createElement("circle",{cx:"12",cy:"12",r:"3"}))});US.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};US.displayName="Disc";const vQ=US;function qx(){return qx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qx.apply(this,arguments)}function yQ(t,e){if(t==null)return{};var n=bQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var zS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=yQ(t,["color","size"]);return P.createElement("svg",qx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),P.createElement("polyline",{points:"7 10 12 15 17 10"}),P.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"}))});zS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};zS.displayName="Download";const Xx=zS;function Yx(){return Yx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yx.apply(this,arguments)}function xQ(t,e){if(t==null)return{};var n=wQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var HS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=xQ(t,["color","size"]);return P.createElement("svg",Yx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),P.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))});HS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};HS.displayName="Edit";const jS=HS;function Kx(){return Kx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kx.apply(this,arguments)}function _Q(t,e){if(t==null)return{};var n=SQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var WS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=_Q(t,["color","size"]);return P.createElement("svg",Kx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("circle",{cx:"12",cy:"12",r:"10"}),P.createElement("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),P.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}))});WS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};WS.displayName="HelpCircle";const EQ=WS;function Zx(){return Zx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zx.apply(this,arguments)}function CQ(t,e){if(t==null)return{};var n=TQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var GS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=CQ(t,["color","size"]);return P.createElement("svg",Zx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),P.createElement("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}))});GS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};GS.displayName="Lock";const AQ=GS;function Qx(){return Qx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qx.apply(this,arguments)}function PQ(t,e){if(t==null)return{};var n=kQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var VS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=PQ(t,["color","size"]);return P.createElement("svg",Qx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),P.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))});VS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};VS.displayName="MinusSquare";const OQ=VS;function Jx(){return Jx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jx.apply(this,arguments)}function IQ(t,e){if(t==null)return{};var n=RQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function RQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var qS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=IQ(t,["color","size"]);return P.createElement("svg",Jx({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});qS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};qS.displayName="Minus";const MQ=qS;function ew(){return ew=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ew.apply(this,arguments)}function FQ(t,e){if(t==null)return{};var n=DQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var XS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=FQ(t,["color","size"]);return P.createElement("svg",ew({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}))});XS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};XS.displayName="Moon";const LQ=XS;function tw(){return tw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tw.apply(this,arguments)}function BQ(t,e){if(t==null)return{};var n=NQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var YS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=BQ(t,["color","size"]);return P.createElement("svg",tw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),P.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),P.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))});YS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};YS.displayName="PlusSquare";const rs=YS;function nw(){return nw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nw.apply(this,arguments)}function $Q(t,e){if(t==null)return{};var n=UQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var KS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=$Q(t,["color","size"]);return P.createElement("svg",nw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),P.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});KS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};KS.displayName="Plus";const _g=KS;function rw(){return rw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rw.apply(this,arguments)}function zQ(t,e){if(t==null)return{};var n=HQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function HQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var ZS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=zQ(t,["color","size"]);return P.createElement("svg",rw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"1 4 1 10 7 10"}),P.createElement("polyline",{points:"23 20 23 14 17 14"}),P.createElement("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"}))});ZS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};ZS.displayName="RefreshCcw";const jQ=ZS;function iw(){return iw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iw.apply(this,arguments)}function WQ(t,e){if(t==null)return{};var n=GQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var QS=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=WQ(t,["color","size"]);return P.createElement("svg",iw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"1 4 1 10 7 10"}),P.createElement("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"}))});QS.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};QS.displayName="RotateCcw";const JS=QS;function sw(){return sw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sw.apply(this,arguments)}function VQ(t,e){if(t==null)return{};var n=qQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var eE=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=VQ(t,["color","size"]);return P.createElement("svg",sw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),P.createElement("polyline",{points:"17 21 17 13 7 13 7 21"}),P.createElement("polyline",{points:"7 3 7 8 15 8"}))});eE.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};eE.displayName="Save";const al=eE;function ow(){return ow=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ow.apply(this,arguments)}function XQ(t,e){if(t==null)return{};var n=YQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var tE=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=XQ(t,["color","size"]);return P.createElement("svg",ow({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("line",{x1:"4",y1:"21",x2:"4",y2:"14"}),P.createElement("line",{x1:"4",y1:"10",x2:"4",y2:"3"}),P.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"12"}),P.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"3"}),P.createElement("line",{x1:"20",y1:"21",x2:"20",y2:"16"}),P.createElement("line",{x1:"20",y1:"12",x2:"20",y2:"3"}),P.createElement("line",{x1:"1",y1:"14",x2:"7",y2:"14"}),P.createElement("line",{x1:"9",y1:"8",x2:"15",y2:"8"}),P.createElement("line",{x1:"17",y1:"16",x2:"23",y2:"16"}))});tE.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};tE.displayName="Sliders";const KQ=tE;function aw(){return aw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aw.apply(this,arguments)}function ZQ(t,e){if(t==null)return{};var n=QQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var nE=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=ZQ(t,["color","size"]);return P.createElement("svg",aw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("circle",{cx:"12",cy:"12",r:"5"}),P.createElement("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),P.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),P.createElement("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),P.createElement("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),P.createElement("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),P.createElement("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),P.createElement("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),P.createElement("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"}))});nE.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};nE.displayName="Sun";const JQ=nE;function lw(){return lw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lw.apply(this,arguments)}function eJ(t,e){if(t==null)return{};var n=tJ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var rE=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=eJ(t,["color","size"]);return P.createElement("svg",lw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polyline",{points:"3 6 5 6 21 6"}),P.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),P.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),P.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}))});rE.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};rE.displayName="Trash2";const xo=rE;function uw(){return uw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uw.apply(this,arguments)}function nJ(t,e){if(t==null)return{};var n=rJ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var iE=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=nJ(t,["color","size"]);return P.createElement("svg",uw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),P.createElement("circle",{cx:"9",cy:"7",r:"4"}),P.createElement("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),P.createElement("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}))});iE.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};iE.displayName="Users";const iJ=iE;function cw(){return cw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cw.apply(this,arguments)}function sJ(t,e){if(t==null)return{};var n=oJ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var sE=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=sJ(t,["color","size"]);return P.createElement("svg",cw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("circle",{cx:"12",cy:"12",r:"10"}),P.createElement("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),P.createElement("line",{x1:"9",y1:"9",x2:"15",y2:"15"}))});sE.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};sE.displayName="XCircle";const aJ=sE;function hw(){return hw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hw.apply(this,arguments)}function lJ(t,e){if(t==null)return{};var n=uJ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var oE=T.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=lJ(t,["color","size"]);return P.createElement("svg",hw({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),P.createElement("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"}))});oE.propTypes={color:B.string,size:B.oneOfType([B.string,B.number])};oE.displayName="Zap";const cJ=oE,Lk=["http","https","mailto","tel"];function hJ(t){const e=(t||"").trim(),n=e.charAt(0);if(n==="#"||n==="/")return e;const r=e.indexOf(":");if(r===-1)return e;let i=-1;for(;++i<Lk.length;){const s=Lk[i];if(r===s.length&&e.slice(0,s.length).toLowerCase()===s)return e}return i=e.indexOf("?"),i!==-1&&r>i||(i=e.indexOf("#"),i!==-1&&r>i)?e:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var dJ=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)};const QD=dJ;function Xh(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Bk(t.position):"start"in t||"end"in t?Bk(t):"line"in t||"column"in t?dw(t):""}function dw(t){return Nk(t&&t.line)+":"+Nk(t&&t.column)}function Bk(t){return dw(t&&t.start)+"-"+dw(t&&t.end)}function Nk(t){return t&&typeof t=="number"?t:1}class Ei extends Error{constructor(e,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=Xh(n)||"1:1",this.message=typeof e=="object"?e.message:e,this.stack="",typeof e=="object"&&e.stack&&(this.stack=e.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}Ei.prototype.file="";Ei.prototype.name="";Ei.prototype.reason="";Ei.prototype.message="";Ei.prototype.stack="";Ei.prototype.fatal=null;Ei.prototype.column=null;Ei.prototype.line=null;Ei.prototype.source=null;Ei.prototype.ruleId=null;Ei.prototype.position=null;const gs={basename:fJ,dirname:pJ,extname:mJ,join:gJ,sep:"/"};function fJ(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');sf(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.charCodeAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.charCodeAt(i)===e.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function pJ(t){if(sf(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.charCodeAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.charCodeAt(0)===47?"/":".":e===1&&t.charCodeAt(0)===47?"//":t.slice(0,e)}function mJ(t){sf(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const a=t.charCodeAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function gJ(...t){let e=-1,n;for(;++e<t.length;)sf(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":vJ(n)}function vJ(t){sf(t);const e=t.charCodeAt(0)===47;let n=yJ(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.charCodeAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function yJ(t,e){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=t.length;){if(o<t.length)a=t.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function sf(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const bJ={cwd:xJ};function xJ(){return"/"}function fw(t){return t!==null&&typeof t=="object"&&t.href&&t.origin}function wJ(t){if(typeof t=="string")t=new URL(t);else if(!fw(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return _J(t)}function _J(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.charCodeAt(n)===37&&e.charCodeAt(n+1)===50){const r=e.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const E1=["history","path","basename","stem","extname","dirname"];class JD{constructor(e){let n;e?typeof e=="string"||SJ(e)?n={value:e}:fw(e)?n={path:e}:n=e:n={},this.data={},this.messages=[],this.history=[],this.cwd=bJ.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<E1.length;){const s=E1[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)E1.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(e){fw(e)&&(e=wJ(e)),T1(e,"path"),this.path!==e&&this.history.push(e)}get dirname(){return typeof this.path=="string"?gs.dirname(this.path):void 0}set dirname(e){$k(this.basename,"dirname"),this.path=gs.join(e||"",this.basename)}get basename(){return typeof this.path=="string"?gs.basename(this.path):void 0}set basename(e){T1(e,"basename"),C1(e,"basename"),this.path=gs.join(this.dirname||"",e)}get extname(){return typeof this.path=="string"?gs.extname(this.path):void 0}set extname(e){if(C1(e,"extname"),$k(this.dirname,"extname"),e){if(e.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=gs.join(this.dirname,this.stem+(e||""))}get stem(){return typeof this.path=="string"?gs.basename(this.path,this.extname):void 0}set stem(e){T1(e,"stem"),C1(e,"stem"),this.path=gs.join(this.dirname||"",e+(this.extname||""))}toString(e){return(this.value||"").toString(e||void 0)}message(e,n,r){const i=new Ei(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=null,i}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}}function C1(t,e){if(t&&t.includes(gs.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+gs.sep+"`")}function T1(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function $k(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function SJ(t){return QD(t)}function Uk(t){if(t)throw t}var km=Object.prototype.hasOwnProperty,e4=Object.prototype.toString,zk=Object.defineProperty,Hk=Object.getOwnPropertyDescriptor,jk=function(e){return typeof Array.isArray=="function"?Array.isArray(e):e4.call(e)==="[object Array]"},Wk=function(e){if(!e||e4.call(e)!=="[object Object]")return!1;var n=km.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&km.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||km.call(e,i)},Gk=function(e,n){zk&&n.name==="__proto__"?zk(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},Vk=function(e,n){if(n==="__proto__")if(km.call(e,n)){if(Hk)return Hk(e,n).value}else return;return e[n]},qk=function t(){var e,n,r,i,s,o,a=arguments[0],l=1,c=arguments.length,h=!1;for(typeof a=="boolean"&&(h=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<c;++l)if(e=arguments[l],e!=null)for(n in e)r=Vk(a,n),i=Vk(e,n),a!==i&&(h&&i&&(Wk(i)||(s=jk(i)))?(s?(s=!1,o=r&&jk(r)?r:[]):o=r&&Wk(r)?r:{},Gk(a,{name:n,newValue:t(h,o,i)})):typeof i<"u"&&Gk(a,{name:n,newValue:i}));return a};function pw(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function EJ(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...c){const h=t[++s];let f=-1;if(l){o(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,h?CJ(h,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function CJ(t,e){let n;return r;function r(...o){const a=t.length>o.length;let l;a&&o.push(i);try{l=t.apply(this,o)}catch(c){const h=c;if(a&&n)throw h;return i(h)}a||(l instanceof Promise?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,e(o,...a))}function s(o){i(null,o)}}const TJ=n4().freeze(),t4={}.hasOwnProperty;function n4(){const t=EJ(),e=[];let n={},r,i=-1;return s.data=o,s.Parser=void 0,s.Compiler=void 0,s.freeze=a,s.attachers=e,s.use=l,s.parse=c,s.stringify=h,s.run=f,s.runSync=p,s.process=m,s.processSync=v,s;function s(){const y=n4();let x=-1;for(;++x<e.length;)y.use(...e[x]);return y.data(qk(!0,{},n)),y}function o(y,x){return typeof y=="string"?arguments.length===2?(k1("data",r),n[y]=x,s):t4.call(n,y)&&n[y]||null:y?(k1("data",r),n=y,s):n}function a(){if(r)return s;for(;++i<e.length;){const[y,...x]=e[i];if(x[0]===!1)continue;x[0]===!0&&(x[0]=void 0);const b=y.call(s,...x);typeof b=="function"&&t.use(b)}return r=!0,i=Number.POSITIVE_INFINITY,s}function l(y,...x){let b;if(k1("use",r),y!=null)if(typeof y=="function")O(y,...x);else if(typeof y=="object")Array.isArray(y)?E(y):w(y);else throw new TypeError("Expected usable value, not `"+y+"`");return b&&(n.settings=Object.assign(n.settings||{},b)),s;function S(A){if(typeof A=="function")O(A);else if(typeof A=="object")if(Array.isArray(A)){const[F,...L]=A;O(F,...L)}else w(A);else throw new TypeError("Expected usable value, not `"+A+"`")}function w(A){E(A.plugins),A.settings&&(b=Object.assign(b||{},A.settings))}function E(A){let F=-1;if(A!=null)if(Array.isArray(A))for(;++F<A.length;){const L=A[F];S(L)}else throw new TypeError("Expected a list of plugins, not `"+A+"`")}function O(A,F){let L=-1,H;for(;++L<e.length;)if(e[L][0]===A){H=e[L];break}H?(pw(H[1])&&pw(F)&&(F=qk(!0,H[1],F)),H[1]=F):e.push([...arguments])}}function c(y){s.freeze();const x=oh(y),b=s.Parser;return A1("parse",b),Xk(b,"parse")?new b(String(x),x).parse():b(String(x),x)}function h(y,x){s.freeze();const b=oh(x),S=s.Compiler;return P1("stringify",S),Yk(y),Xk(S,"compile")?new S(y,b).compile():S(y,b)}function f(y,x,b){if(Yk(y),s.freeze(),!b&&typeof x=="function"&&(b=x,x=void 0),!b)return new Promise(S);S(null,b);function S(w,E){t.run(y,oh(x),O);function O(A,F,L){F=F||y,A?E(A):w?w(F):b(null,F,L)}}}function p(y,x){let b,S;return s.run(y,x,w),Kk("runSync","run",S),b;function w(E,O){Uk(E),b=O,S=!0}}function m(y,x){if(s.freeze(),A1("process",s.Parser),P1("process",s.Compiler),!x)return new Promise(b);b(null,x);function b(S,w){const E=oh(y);s.run(s.parse(E),E,(A,F,L)=>{if(A||!F||!L)O(A);else{const H=s.stringify(F,L);H==null||(kJ(H)?L.value=H:L.result=H),O(A,L)}});function O(A,F){A||!F?w(A):S?S(F):x(null,F)}}}function v(y){let x;s.freeze(),A1("processSync",s.Parser),P1("processSync",s.Compiler);const b=oh(y);return s.process(b,S),Kk("processSync","process",x),b;function S(w){x=!0,Uk(w)}}}function Xk(t,e){return typeof t=="function"&&t.prototype&&(AJ(t.prototype)||e in t.prototype)}function AJ(t){let e;for(e in t)if(t4.call(t,e))return!0;return!1}function A1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `Parser`")}function P1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `Compiler`")}function k1(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Yk(t){if(!pw(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Kk(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function oh(t){return PJ(t)?t:new JD(t)}function PJ(t){return Boolean(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function kJ(t){return typeof t=="string"||QD(t)}function OJ(t,e){const n=(e||{}).includeImageAlt;return r4(t,typeof n=="boolean"?n:!0)}function r4(t,e){return IJ(t)&&("value"in t&&t.value||e&&"alt"in t&&t.alt||"children"in t&&Zk(t.children,e))||Array.isArray(t)&&Zk(t,e)||""}function Zk(t,e){const n=[];let r=-1;for(;++r<t.length;)n[r]=r4(t[r],e);return n.join("")}function IJ(t){return Boolean(t&&typeof t=="object")}function Is(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),[].splice.apply(t,o);else for(n&&[].splice.apply(t,[e,n]);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),[].splice.apply(t,o),s+=1e4,e+=1e4}function ci(t,e){return t.length>0?(Is(t,t.length,0,e),t):e}const Qk={}.hasOwnProperty;function RJ(t){const e={};let n=-1;for(;++n<t.length;)MJ(e,t[n]);return e}function MJ(t,e){let n;for(n in e){const i=(Qk.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;for(o in s){Qk.call(i,o)||(i[o]=[]);const a=s[o];FJ(i[o],Array.isArray(a)?a:a?[a]:[])}}}function FJ(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Is(t,0,0,r)}const DJ=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,ws=fa(/[A-Za-z]/),mw=fa(/\d/),LJ=fa(/[\dA-Fa-f]/),Lr=fa(/[\dA-Za-z]/),BJ=fa(/[!-/:-@[-`{-~]/),Jk=fa(/[#-'*+\--9=?A-Z^-~]/);function gw(t){return t!==null&&(t<32||t===127)}function vi(t){return t!==null&&(t<0||t===32)}function je(t){return t!==null&&t<-2}function cn(t){return t===-2||t===-1||t===32}const NJ=fa(/\s/),$J=fa(DJ);function fa(t){return e;function e(n){return n!==null&&t.test(String.fromCharCode(n))}}function Ct(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return cn(l)?(t.enter(n),a(l)):e(l)}function a(l){return cn(l)&&s++<i?(t.consume(l),a):(t.exit(n),e(l))}}const UJ={tokenize:zJ};function zJ(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Ct(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return je(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const HJ={tokenize:jJ},eO={tokenize:WJ};function jJ(t){const e=this,n=[];let r=0,i,s,o;return a;function a(w){if(r<n.length){const E=n[r];return e.containerState=E[1],t.attempt(E[0].continuation,l,c)(w)}return c(w)}function l(w){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&S();const E=e.events.length;let O=E,A;for(;O--;)if(e.events[O][0]==="exit"&&e.events[O][1].type==="chunkFlow"){A=e.events[O][1].end;break}b(r);let F=E;for(;F<e.events.length;)e.events[F][1].end=Object.assign({},A),F++;return Is(e.events,O+1,0,e.events.slice(E)),e.events.length=F,c(w)}return a(w)}function c(w){if(r===n.length){if(!i)return p(w);if(i.currentConstruct&&i.currentConstruct.concrete)return v(w);e.interrupt=Boolean(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(eO,h,f)(w)}function h(w){return i&&S(),b(r),p(w)}function f(w){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,v(w)}function p(w){return e.containerState={},t.attempt(eO,m,v)(w)}function m(w){return r++,n.push([e.currentConstruct,e.containerState]),p(w)}function v(w){if(w===null){i&&S(),b(0),t.consume(w);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),y(w)}function y(w){if(w===null){x(t.exit("chunkFlow"),!0),b(0),t.consume(w);return}return je(w)?(t.consume(w),x(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(w),y)}function x(w,E){const O=e.sliceStream(w);if(E&&O.push(null),w.previous=s,s&&(s.next=w),s=w,i.defineSkip(w.start),i.write(O),e.parser.lazy[w.start.line]){let A=i.events.length;for(;A--;)if(i.events[A][1].start.offset<o&&(!i.events[A][1].end||i.events[A][1].end.offset>o))return;const F=e.events.length;let L=F,H,V;for(;L--;)if(e.events[L][0]==="exit"&&e.events[L][1].type==="chunkFlow"){if(H){V=e.events[L][1].end;break}H=!0}for(b(r),A=F;A<e.events.length;)e.events[A][1].end=Object.assign({},V),A++;Is(e.events,L+1,0,e.events.slice(F)),e.events.length=A}}function b(w){let E=n.length;for(;E-- >w;){const O=n[E];e.containerState=O[1],O[0].exit.call(e,t)}n.length=w}function S(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function WJ(t,e,n){return Ct(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function tO(t){if(t===null||vi(t)||NJ(t))return 1;if($J(t))return 2}function aE(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const vw={name:"attention",tokenize:VJ,resolveAll:GJ};function GJ(t,e){let n=-1,r,i,s,o,a,l,c,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f=Object.assign({},t[r][1].end),p=Object.assign({},t[n][1].start);nO(f,-l),nO(p,l),o={type:l>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},t[r][1].end)},a={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:p},s={type:l>1?"strongText":"emphasisText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},t[r][1].end=Object.assign({},o.start),t[n][1].start=Object.assign({},a.end),c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=ci(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=ci(c,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),c=ci(c,aE(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=ci(c,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,c=ci(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,Is(t,r-1,n-r+3,c),n=r+c.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function VJ(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=tO(r);let s;return o;function o(l){return t.enter("attentionSequence"),s=l,a(l)}function a(l){if(l===s)return t.consume(l),a;const c=t.exit("attentionSequence"),h=tO(l),f=!h||h===2&&i||n.includes(l),p=!i||i===2&&h||n.includes(r);return c._open=Boolean(s===42?f:f&&(i||!p)),c._close=Boolean(s===42?p:p&&(h||!f)),e(l)}}function nO(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const qJ={name:"autolink",tokenize:XJ};function XJ(t,e,n){let r=1;return i;function i(v){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(v){return ws(v)?(t.consume(v),o):Jk(v)?c(v):n(v)}function o(v){return v===43||v===45||v===46||Lr(v)?a(v):c(v)}function a(v){return v===58?(t.consume(v),l):(v===43||v===45||v===46||Lr(v))&&r++<32?(t.consume(v),a):c(v)}function l(v){return v===62?(t.exit("autolinkProtocol"),m(v)):v===null||v===32||v===60||gw(v)?n(v):(t.consume(v),l)}function c(v){return v===64?(t.consume(v),r=0,h):Jk(v)?(t.consume(v),c):n(v)}function h(v){return Lr(v)?f(v):n(v)}function f(v){return v===46?(t.consume(v),r=0,h):v===62?(t.exit("autolinkProtocol").type="autolinkEmail",m(v)):p(v)}function p(v){return(v===45||Lr(v))&&r++<63?(t.consume(v),v===45?p:f):n(v)}function m(v){return t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),e}}const Cv={tokenize:YJ,partial:!0};function YJ(t,e,n){return Ct(t,r,"linePrefix");function r(i){return i===null||je(i)?e(i):n(i)}}const i4={name:"blockQuote",tokenize:KJ,continuation:{tokenize:ZJ},exit:QJ};function KJ(t,e,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return cn(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function ZJ(t,e,n){return Ct(t,t.attempt(i4,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function QJ(t){t.exit("blockQuote")}const s4={name:"characterEscape",tokenize:JJ};function JJ(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return BJ(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const rO=document.createElement("i");function lE(t){const e="&"+t+";";rO.innerHTML=e;const n=rO.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}const o4={name:"characterReference",tokenize:eee};function eee(t,e,n){const r=this;let i=0,s,o;return a;function a(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),l}function l(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),s=31,o=Lr,h(f))}function c(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=LJ,h):(t.enter("characterReferenceValue"),s=7,o=mw,h(f))}function h(f){let p;return f===59&&i?(p=t.exit("characterReferenceValue"),o===Lr&&!lE(r.sliceSerialize(p))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)):o(f)&&i++<s?(t.consume(f),h):n(f)}}const iO={name:"codeFenced",tokenize:tee,concrete:!0};function tee(t,e,n){const r=this,i={tokenize:O,partial:!0},s={tokenize:E,partial:!0},o=this.events[this.events.length-1],a=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0;let l=0,c;return h;function h(A){return t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),c=A,f(A)}function f(A){return A===c?(t.consume(A),l++,f):(t.exit("codeFencedFenceSequence"),l<3?n(A):Ct(t,p,"whitespace")(A))}function p(A){return A===null||je(A)?x(A):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),m(A))}function m(A){return A===null||vi(A)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Ct(t,v,"whitespace")(A)):A===96&&A===c?n(A):(t.consume(A),m)}function v(A){return A===null||je(A)?x(A):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),y(A))}function y(A){return A===null||je(A)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),x(A)):A===96&&A===c?n(A):(t.consume(A),y)}function x(A){return t.exit("codeFencedFence"),r.interrupt?e(A):b(A)}function b(A){return A===null?w(A):je(A)?t.attempt(s,t.attempt(i,w,a?Ct(t,b,"linePrefix",a+1):b),w)(A):(t.enter("codeFlowValue"),S(A))}function S(A){return A===null||je(A)?(t.exit("codeFlowValue"),b(A)):(t.consume(A),S)}function w(A){return t.exit("codeFenced"),e(A)}function E(A,F,L){const H=this;return V;function V(j){return A.enter("lineEnding"),A.consume(j),A.exit("lineEnding"),z}function z(j){return H.parser.lazy[H.now().line]?L(j):F(j)}}function O(A,F,L){let H=0;return Ct(A,V,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function V(X){return A.enter("codeFencedFence"),A.enter("codeFencedFenceSequence"),z(X)}function z(X){return X===c?(A.consume(X),H++,z):H<l?L(X):(A.exit("codeFencedFenceSequence"),Ct(A,j,"whitespace")(X))}function j(X){return X===null||je(X)?(A.exit("codeFencedFence"),F(X)):L(X)}}}const O1={name:"codeIndented",tokenize:ree},nee={tokenize:iee,partial:!0};function ree(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),Ct(t,s,"linePrefix",4+1)(c)}function s(c){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):je(c)?t.attempt(nee,o,l)(c):(t.enter("codeFlowValue"),a(c))}function a(c){return c===null||je(c)?(t.exit("codeFlowValue"),o(c)):(t.consume(c),a)}function l(c){return t.exit("codeIndented"),e(c)}}function iee(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):je(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):Ct(t,s,"linePrefix",4+1)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):je(o)?i(o):n(o)}}const see={name:"codeText",tokenize:lee,resolve:oee,previous:aee};function oee(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function aee(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function lee(t,e,n){let r=0,i,s;return o;function o(f){return t.enter("codeText"),t.enter("codeTextSequence"),a(f)}function a(f){return f===96?(t.consume(f),r++,a):(t.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===96?(s=t.enter("codeTextSequence"),i=0,h(f)):f===32?(t.enter("space"),t.consume(f),t.exit("space"),l):je(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||je(f)?(t.exit("codeTextData"),l(f)):(t.consume(f),c)}function h(f){return f===96?(t.consume(f),i++,h):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(s.type="codeTextData",c(f))}}function a4(t){const e={};let n=-1,r,i,s,o,a,l,c;for(;++n<t.length;){for(;n in e;)n=e[n];if(r=t[n],n&&r[1].type==="chunkFlow"&&t[n-1][1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,uee(t,n)),n=e[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=t[s],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(t[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},t[i][1].start),a=t.slice(i,n),a.unshift(r),Is(t,i,n-i+1,a))}}return!c}function uee(t,e){const n=t[e][1],r=t[e][2];let i=e-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,l=[],c={};let h,f,p=-1,m=n,v=0,y=0;const x=[y];for(;m;){for(;t[++i][1]!==m;);s.push(i),m._tokenizer||(h=r.sliceStream(m),m.next||h.push(null),f&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(h),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++p<a.length;)a[p][0]==="exit"&&a[p-1][0]==="enter"&&a[p][1].type===a[p-1][1].type&&a[p][1].start.line!==a[p][1].end.line&&(y=p+1,x.push(y),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):x.pop(),p=x.length;p--;){const b=a.slice(x[p],x[p+1]),S=s.pop();l.unshift([S,S+b.length-1]),Is(t,S,2,b)}for(p=-1;++p<l.length;)c[v+l[p][0]]=v+l[p][1],v+=l[p][1]-l[p][0]-1;return c}const cee={tokenize:fee,resolve:dee},hee={tokenize:pee,partial:!0};function dee(t){return a4(t),t}function fee(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):je(a)?t.check(hee,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function pee(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Ct(t,s,"linePrefix")}function s(o){if(o===null||je(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function l4(t,e,n,r,i,s,o,a,l){const c=l||Number.POSITIVE_INFINITY;let h=0;return f;function f(b){return b===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(b),t.exit(s),p):b===null||b===41||gw(b)?n(b):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),y(b))}function p(b){return b===62?(t.enter(s),t.consume(b),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),m(b))}function m(b){return b===62?(t.exit("chunkString"),t.exit(a),p(b)):b===null||b===60||je(b)?n(b):(t.consume(b),b===92?v:m)}function v(b){return b===60||b===62||b===92?(t.consume(b),m):m(b)}function y(b){return b===40?++h>c?n(b):(t.consume(b),y):b===41?h--?(t.consume(b),y):(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(b)):b===null||vi(b)?h?n(b):(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(b)):gw(b)?n(b):(t.consume(b),b===92?x:y)}function x(b){return b===40||b===41||b===92?(t.consume(b),y):y(b)}}function u4(t,e,n,r,i,s){const o=this;let a=0,l;return c;function c(m){return t.enter(r),t.enter(i),t.consume(m),t.exit(i),t.enter(s),h}function h(m){return m===null||m===91||m===93&&!l||m===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs||a>999?n(m):m===93?(t.exit(s),t.enter(i),t.consume(m),t.exit(i),t.exit(r),e):je(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||je(m)||a++>999?(t.exit("chunkString"),h(m)):(t.consume(m),l=l||!cn(m),m===92?p:f)}function p(m){return m===91||m===92||m===93?(t.consume(m),a++,f):f(m)}}function c4(t,e,n,r,i,s){let o;return a;function a(p){return t.enter(r),t.enter(i),t.consume(p),t.exit(i),o=p===40?41:p,l}function l(p){return p===o?(t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):(t.enter(s),c(p))}function c(p){return p===o?(t.exit(s),l(o)):p===null?n(p):je(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),Ct(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(p))}function h(p){return p===o||p===null||je(p)?(t.exit("chunkString"),c(p)):(t.consume(p),p===92?f:h)}function f(p){return p===o||p===92?(t.consume(p),h):h(p)}}function Yh(t,e){let n;return r;function r(i){return je(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):cn(i)?Ct(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}function Nu(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const mee={name:"definition",tokenize:vee},gee={tokenize:yee,partial:!0};function vee(t,e,n){const r=this;let i;return s;function s(l){return t.enter("definition"),u4.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(l)}function o(l){return i=Nu(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),l===58?(t.enter("definitionMarker"),t.consume(l),t.exit("definitionMarker"),Yh(t,l4(t,t.attempt(gee,Ct(t,a,"whitespace"),Ct(t,a,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(l)}function a(l){return l===null||je(l)?(t.exit("definition"),r.parser.defined.includes(i)||r.parser.defined.push(i),e(l)):n(l)}}function yee(t,e,n){return r;function r(o){return vi(o)?Yh(t,i)(o):n(o)}function i(o){return o===34||o===39||o===40?c4(t,Ct(t,s,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o):n(o)}function s(o){return o===null||je(o)?e(o):n(o)}}const bee={name:"hardBreakEscape",tokenize:xee};function xee(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.enter("escapeMarker"),t.consume(s),i}function i(s){return je(s)?(t.exit("escapeMarker"),t.exit("hardBreakEscape"),e(s)):n(s)}}const wee={name:"headingAtx",tokenize:See,resolve:_ee};function _ee(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Is(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function See(t,e,n){const r=this;let i=0;return s;function s(h){return t.enter("atxHeading"),t.enter("atxHeadingSequence"),o(h)}function o(h){return h===35&&i++<6?(t.consume(h),o):h===null||vi(h)?(t.exit("atxHeadingSequence"),r.interrupt?e(h):a(h)):n(h)}function a(h){return h===35?(t.enter("atxHeadingSequence"),l(h)):h===null||je(h)?(t.exit("atxHeading"),e(h)):cn(h)?Ct(t,a,"whitespace")(h):(t.enter("atxHeadingText"),c(h))}function l(h){return h===35?(t.consume(h),l):(t.exit("atxHeadingSequence"),a(h))}function c(h){return h===null||h===35||vi(h)?(t.exit("atxHeadingText"),a(h)):(t.consume(h),c)}}const Eee=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],sO=["pre","script","style","textarea"],Cee={name:"htmlFlow",tokenize:Pee,resolveTo:Aee,concrete:!0},Tee={tokenize:kee,partial:!0};function Aee(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Pee(t,e,n){const r=this;let i,s,o,a,l;return c;function c(D){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(D),h}function h(D){return D===33?(t.consume(D),f):D===47?(t.consume(D),v):D===63?(t.consume(D),i=3,r.interrupt?e:se):ws(D)?(t.consume(D),o=String.fromCharCode(D),s=!0,y):n(D)}function f(D){return D===45?(t.consume(D),i=2,p):D===91?(t.consume(D),i=5,o="CDATA[",a=0,m):ws(D)?(t.consume(D),i=4,r.interrupt?e:se):n(D)}function p(D){return D===45?(t.consume(D),r.interrupt?e:se):n(D)}function m(D){return D===o.charCodeAt(a++)?(t.consume(D),a===o.length?r.interrupt?e:z:m):n(D)}function v(D){return ws(D)?(t.consume(D),o=String.fromCharCode(D),y):n(D)}function y(D){return D===null||D===47||D===62||vi(D)?D!==47&&s&&sO.includes(o.toLowerCase())?(i=1,r.interrupt?e(D):z(D)):Eee.includes(o.toLowerCase())?(i=6,D===47?(t.consume(D),x):r.interrupt?e(D):z(D)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(D):s?S(D):b(D)):D===45||Lr(D)?(t.consume(D),o+=String.fromCharCode(D),y):n(D)}function x(D){return D===62?(t.consume(D),r.interrupt?e:z):n(D)}function b(D){return cn(D)?(t.consume(D),b):H(D)}function S(D){return D===47?(t.consume(D),H):D===58||D===95||ws(D)?(t.consume(D),w):cn(D)?(t.consume(D),S):H(D)}function w(D){return D===45||D===46||D===58||D===95||Lr(D)?(t.consume(D),w):E(D)}function E(D){return D===61?(t.consume(D),O):cn(D)?(t.consume(D),E):S(D)}function O(D){return D===null||D===60||D===61||D===62||D===96?n(D):D===34||D===39?(t.consume(D),l=D,A):cn(D)?(t.consume(D),O):(l=null,F(D))}function A(D){return D===null||je(D)?n(D):D===l?(t.consume(D),L):(t.consume(D),A)}function F(D){return D===null||D===34||D===39||D===60||D===61||D===62||D===96||vi(D)?E(D):(t.consume(D),F)}function L(D){return D===47||D===62||cn(D)?S(D):n(D)}function H(D){return D===62?(t.consume(D),V):n(D)}function V(D){return cn(D)?(t.consume(D),V):D===null||je(D)?z(D):n(D)}function z(D){return D===45&&i===2?(t.consume(D),fe):D===60&&i===1?(t.consume(D),ue):D===62&&i===4?(t.consume(D),G):D===63&&i===3?(t.consume(D),se):D===93&&i===5?(t.consume(D),Z):je(D)&&(i===6||i===7)?t.check(Tee,G,j)(D):D===null||je(D)?j(D):(t.consume(D),z)}function j(D){return t.exit("htmlFlowData"),X(D)}function X(D){return D===null?M(D):je(D)?t.attempt({tokenize:K,partial:!0},X,M)(D):(t.enter("htmlFlowData"),z(D))}function K(D,Q,J){return $;function $(me){return D.enter("lineEnding"),D.consume(me),D.exit("lineEnding"),re}function re(me){return r.parser.lazy[r.now().line]?J(me):Q(me)}}function fe(D){return D===45?(t.consume(D),se):z(D)}function ue(D){return D===47?(t.consume(D),o="",Y):z(D)}function Y(D){return D===62&&sO.includes(o.toLowerCase())?(t.consume(D),G):ws(D)&&o.length<8?(t.consume(D),o+=String.fromCharCode(D),Y):z(D)}function Z(D){return D===93?(t.consume(D),se):z(D)}function se(D){return D===62?(t.consume(D),G):D===45&&i===2?(t.consume(D),se):z(D)}function G(D){return D===null||je(D)?(t.exit("htmlFlowData"),M(D)):(t.consume(D),G)}function M(D){return t.exit("htmlFlow"),e(D)}}function kee(t,e,n){return r;function r(i){return t.exit("htmlFlowData"),t.enter("lineEndingBlank"),t.consume(i),t.exit("lineEndingBlank"),t.attempt(Cv,e,n)}}const Oee={name:"htmlText",tokenize:Iee};function Iee(t,e,n){const r=this;let i,s,o,a;return l;function l(M){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(M),c}function c(M){return M===33?(t.consume(M),h):M===47?(t.consume(M),F):M===63?(t.consume(M),O):ws(M)?(t.consume(M),V):n(M)}function h(M){return M===45?(t.consume(M),f):M===91?(t.consume(M),s="CDATA[",o=0,x):ws(M)?(t.consume(M),E):n(M)}function f(M){return M===45?(t.consume(M),p):n(M)}function p(M){return M===null||M===62?n(M):M===45?(t.consume(M),m):v(M)}function m(M){return M===null||M===62?n(M):v(M)}function v(M){return M===null?n(M):M===45?(t.consume(M),y):je(M)?(a=v,Z(M)):(t.consume(M),v)}function y(M){return M===45?(t.consume(M),G):v(M)}function x(M){return M===s.charCodeAt(o++)?(t.consume(M),o===s.length?b:x):n(M)}function b(M){return M===null?n(M):M===93?(t.consume(M),S):je(M)?(a=b,Z(M)):(t.consume(M),b)}function S(M){return M===93?(t.consume(M),w):b(M)}function w(M){return M===62?G(M):M===93?(t.consume(M),w):b(M)}function E(M){return M===null||M===62?G(M):je(M)?(a=E,Z(M)):(t.consume(M),E)}function O(M){return M===null?n(M):M===63?(t.consume(M),A):je(M)?(a=O,Z(M)):(t.consume(M),O)}function A(M){return M===62?G(M):O(M)}function F(M){return ws(M)?(t.consume(M),L):n(M)}function L(M){return M===45||Lr(M)?(t.consume(M),L):H(M)}function H(M){return je(M)?(a=H,Z(M)):cn(M)?(t.consume(M),H):G(M)}function V(M){return M===45||Lr(M)?(t.consume(M),V):M===47||M===62||vi(M)?z(M):n(M)}function z(M){return M===47?(t.consume(M),G):M===58||M===95||ws(M)?(t.consume(M),j):je(M)?(a=z,Z(M)):cn(M)?(t.consume(M),z):G(M)}function j(M){return M===45||M===46||M===58||M===95||Lr(M)?(t.consume(M),j):X(M)}function X(M){return M===61?(t.consume(M),K):je(M)?(a=X,Z(M)):cn(M)?(t.consume(M),X):z(M)}function K(M){return M===null||M===60||M===61||M===62||M===96?n(M):M===34||M===39?(t.consume(M),i=M,fe):je(M)?(a=K,Z(M)):cn(M)?(t.consume(M),K):(t.consume(M),i=void 0,Y)}function fe(M){return M===i?(t.consume(M),ue):M===null?n(M):je(M)?(a=fe,Z(M)):(t.consume(M),fe)}function ue(M){return M===62||M===47||vi(M)?z(M):n(M)}function Y(M){return M===null||M===34||M===39||M===60||M===61||M===96?n(M):M===62||vi(M)?z(M):(t.consume(M),Y)}function Z(M){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),Ct(t,se,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function se(M){return t.enter("htmlTextData"),a(M)}function G(M){return M===62?(t.consume(M),t.exit("htmlTextData"),t.exit("htmlText"),e):n(M)}}const uE={name:"labelEnd",tokenize:Bee,resolveTo:Lee,resolveAll:Dee},Ree={tokenize:Nee},Mee={tokenize:$ee},Fee={tokenize:Uee};function Dee(t){let e=-1,n;for(;++e<t.length;)n=t[e][1],(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(e+1,n.type==="labelImage"?4:2),n.type="data",e++);return t}function Lee(t,e){let n=t.length,r=0,i,s,o,a;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:Object.assign({},t[s][1].start),end:Object.assign({},t[t.length-1][1].end)},c={type:"label",start:Object.assign({},t[s][1].start),end:Object.assign({},t[o][1].end)},h={type:"labelText",start:Object.assign({},t[s+r+2][1].end),end:Object.assign({},t[o-2][1].start)};return a=[["enter",l,e],["enter",c,e]],a=ci(a,t.slice(s+1,s+r+3)),a=ci(a,[["enter",h,e]]),a=ci(a,aE(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),a=ci(a,[["exit",h,e],t[o-2],t[o-1],["exit",c,e]]),a=ci(a,t.slice(o+1)),a=ci(a,[["exit",l,e]]),Is(t,s,t.length,a),t}function Bee(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(h){return s?s._inactive?c(h):(o=r.parser.defined.includes(Nu(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelEnd"),l):n(h)}function l(h){return h===40?t.attempt(Ree,e,o?e:c)(h):h===91?t.attempt(Mee,e,o?t.attempt(Fee,e,c):c)(h):o?e(h):c(h)}function c(h){return s._balanced=!0,n(h)}}function Nee(t,e,n){return r;function r(l){return t.enter("resource"),t.enter("resourceMarker"),t.consume(l),t.exit("resourceMarker"),Yh(t,i)}function i(l){return l===41?a(l):l4(t,s,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(l)}function s(l){return vi(l)?Yh(t,o)(l):a(l)}function o(l){return l===34||l===39||l===40?c4(t,Yh(t,a),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(l):a(l)}function a(l){return l===41?(t.enter("resourceMarker"),t.consume(l),t.exit("resourceMarker"),t.exit("resource"),e):n(l)}}function $ee(t,e,n){const r=this;return i;function i(o){return u4.call(r,t,s,n,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(Nu(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):n(o)}}function Uee(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const zee={name:"labelStartImage",tokenize:Hee,resolveAll:uE.resolveAll};function Hee(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const jee={name:"labelStartLink",tokenize:Wee,resolveAll:uE.resolveAll};function Wee(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const I1={name:"lineEnding",tokenize:Gee};function Gee(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Ct(t,e,"linePrefix")}}const Om={name:"thematicBreak",tokenize:Vee};function Vee(t,e,n){let r=0,i;return s;function s(l){return t.enter("thematicBreak"),i=l,o(l)}function o(l){return l===i?(t.enter("thematicBreakSequence"),a(l)):cn(l)?Ct(t,o,"whitespace")(l):r<3||l!==null&&!je(l)?n(l):(t.exit("thematicBreak"),e(l))}function a(l){return l===i?(t.consume(l),r++,a):(t.exit("thematicBreakSequence"),o(l))}}const lr={name:"list",tokenize:Yee,continuation:{tokenize:Kee},exit:Qee},qee={tokenize:Jee,partial:!0},Xee={tokenize:Zee,partial:!0};function Yee(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(m){const v=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:mw(m)){if(r.containerState.type||(r.containerState.type=v,t.enter(v,{_container:!0})),v==="listUnordered")return t.enter("listItemPrefix"),m===42||m===45?t.check(Om,n,c)(m):c(m);if(!r.interrupt||m===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(m)}return n(m)}function l(m){return mw(m)&&++o<10?(t.consume(m),l):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(t.exit("listItemValue"),c(m)):n(m)}function c(m){return t.enter("listItemMarker"),t.consume(m),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,t.check(Cv,r.interrupt?n:h,t.attempt(qee,p,f))}function h(m){return r.containerState.initialBlankLine=!0,s++,p(m)}function f(m){return cn(m)?(t.enter("listItemPrefixWhitespace"),t.consume(m),t.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(m)}}function Kee(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Cv,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ct(t,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!cn(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(Xee,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ct(t,t.attempt(lr,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function Zee(t,e,n){const r=this;return Ct(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function Qee(t){t.exit(this.containerState.type)}function Jee(t,e,n){const r=this;return Ct(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(s){const o=r.events[r.events.length-1];return!cn(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const oO={name:"setextUnderline",tokenize:tte,resolveTo:ete};function ete(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:Object.assign({},t[i][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end=Object.assign({},t[s][1].end)):t[r][1]=o,t.push(["exit",o,e]),t}function tte(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if(r.events[i][1].type!=="lineEnding"&&r.events[i][1].type!=="linePrefix"&&r.events[i][1].type!=="content"){o=r.events[i][1].type==="paragraph";break}return a;function a(h){return!r.parser.lazy[r.now().line]&&(r.interrupt||o)?(t.enter("setextHeadingLine"),t.enter("setextHeadingLineSequence"),s=h,l(h)):n(h)}function l(h){return h===s?(t.consume(h),l):(t.exit("setextHeadingLineSequence"),Ct(t,c,"lineSuffix")(h))}function c(h){return h===null||je(h)?(t.exit("setextHeadingLine"),e(h)):n(h)}}const nte={tokenize:rte};function rte(t){const e=this,n=t.attempt(Cv,r,t.attempt(this.parser.constructs.flowInitial,i,Ct(t,t.attempt(this.parser.constructs.flow,i,t.attempt(cee,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const ite={resolveAll:d4()},ste=h4("string"),ote=h4("text");function h4(t){return{tokenize:e,resolveAll:d4(t==="text"?ate:void 0)};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,a);return o;function o(h){return c(h)?s(h):a(h)}function a(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),l}function l(h){return c(h)?(n.exit("data"),s(h)):(n.consume(h),l)}function c(h){if(h===null)return!0;const f=i[h];let p=-1;if(f)for(;++p<f.length;){const m=f[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function d4(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function ate(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)l=!0,a++;else if(c!==-1){s++;break}}if(a){const c={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},c.start),r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}function lte(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let o=[],a=[];const l={consume:S,enter:w,exit:E,attempt:F(O),check:F(A),interrupt:F(A,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:m,sliceSerialize:p,now:v,defineSkip:y,write:f};let h=e.tokenize.call(c,l);return e.resolveAll&&s.push(e),c;function f(z){return o=ci(o,z),x(),o[o.length-1]!==null?[]:(L(e,0),c.events=aE(s,c.events,c),c.events)}function p(z,j){return cte(m(z),j)}function m(z){return ute(o,z)}function v(){return Object.assign({},r)}function y(z){i[z.line]=z.column,V()}function x(){let z;for(;r._index<o.length;){const j=o[r._index];if(typeof j=="string")for(z=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===z&&r._bufferIndex<j.length;)b(j.charCodeAt(r._bufferIndex));else b(j)}}function b(z){h=h(z)}function S(z){je(z)?(r.line++,r.column=1,r.offset+=z===-3?2:1,V()):z!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=z}function w(z,j){const X=j||{};return X.type=z,X.start=v(),c.events.push(["enter",X,c]),a.push(X),X}function E(z){const j=a.pop();return j.end=v(),c.events.push(["exit",j,c]),j}function O(z,j){L(z,j.from)}function A(z,j){j.restore()}function F(z,j){return X;function X(K,fe,ue){let Y,Z,se,G;return Array.isArray(K)?D(K):"tokenize"in K?D([K]):M(K);function M(re){return me;function me(Ie){const Re=Ie!==null&&re[Ie],Xe=Ie!==null&&re.null,Se=[...Array.isArray(Re)?Re:Re?[Re]:[],...Array.isArray(Xe)?Xe:Xe?[Xe]:[]];return D(Se)(Ie)}}function D(re){return Y=re,Z=0,re.length===0?ue:Q(re[Z])}function Q(re){return me;function me(Ie){return G=H(),se=re,re.partial||(c.currentConstruct=re),re.name&&c.parser.constructs.disable.null.includes(re.name)?$():re.tokenize.call(j?Object.assign(Object.create(c),j):c,l,J,$)(Ie)}}function J(re){return z(se,G),fe}function $(re){return G.restore(),++Z<Y.length?Q(Y[Z]):ue}}}function L(z,j){z.resolveAll&&!s.includes(z)&&s.push(z),z.resolve&&Is(c.events,j,c.events.length-j,z.resolve(c.events.slice(j),c)),z.resolveTo&&(c.events=z.resolveTo(c.events,c))}function H(){const z=v(),j=c.previous,X=c.currentConstruct,K=c.events.length,fe=Array.from(a);return{restore:ue,from:K};function ue(){r=z,c.previous=j,c.currentConstruct=X,c.events.length=K,a=fe,V()}}function V(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function ute(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;return n===i?o=[t[n].slice(r,s)]:(o=t.slice(n,i),r>-1&&(o[0]=o[0].slice(r)),s>0&&o.push(t[i].slice(0,s))),o}function cte(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}const hte={[42]:lr,[43]:lr,[45]:lr,[48]:lr,[49]:lr,[50]:lr,[51]:lr,[52]:lr,[53]:lr,[54]:lr,[55]:lr,[56]:lr,[57]:lr,[62]:i4},dte={[91]:mee},fte={[-2]:O1,[-1]:O1,[32]:O1},pte={[35]:wee,[42]:Om,[45]:[oO,Om],[60]:Cee,[61]:oO,[95]:Om,[96]:iO,[126]:iO},mte={[38]:o4,[92]:s4},gte={[-5]:I1,[-4]:I1,[-3]:I1,[33]:zee,[38]:o4,[42]:vw,[60]:[qJ,Oee],[91]:jee,[92]:[bee,s4],[93]:uE,[95]:vw,[96]:see},vte={null:[vw,ite]},yte={null:[42,95]},bte={null:[]},xte=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:yte,contentInitial:dte,disable:bte,document:hte,flow:pte,flowInitial:fte,insideSpan:vte,string:mte,text:gte},Symbol.toStringTag,{value:"Module"}));function wte(t={}){const e=RJ([xte].concat(t.extensions||[])),n={defined:[],lazy:{},constructs:e,content:r(UJ),document:r(HJ),flow:r(nte),string:r(ste),text:r(ote)};return n;function r(i){return s;function s(o){return lte(n,i,o)}}}const aO=/[\0\t\n\r]/g;function _te(){let t=1,e="",n=!0,r;return i;function i(s,o,a){const l=[];let c,h,f,p,m;for(s=e+s.toString(o),f=0,e="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(aO.lastIndex=f,c=aO.exec(s),p=c&&c.index!==void 0?c.index:s.length,m=s.charCodeAt(p),!c){e=s.slice(f);break}if(m===10&&f===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<p&&(l.push(s.slice(f,p)),t+=p-f),m){case 0:{l.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,l.push(-2);t++<h;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}f=p+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}function Ste(t){for(;!a4(t););return t}function f4(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCharCode(n)}const Ete=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Cte(t){return t.replace(Ete,Tte)}function Tte(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return f4(n.slice(s?2:1),s?16:10)}return lE(n)||t}const p4={}.hasOwnProperty,Ate=function(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Pte(n)(Ste(wte(n).document().write(_te()(t,e,!0))))};function Pte(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(ki),autolinkProtocol:z,autolinkEmail:z,atxHeading:a(Kr),blockQuote:a(Se),characterEscape:z,characterReference:z,codeFenced:a(et),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:a(et,l),codeText:a(tt,l),codeTextData:z,data:z,codeFlowValue:z,definition:a(rt),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:a(Ot),hardBreakEscape:a(Ln),hardBreakTrailing:a(Ln),htmlFlow:a(Ye,l),htmlFlowData:z,htmlText:a(Ye,l),htmlTextData:z,image:a(Pn),label:l,link:a(ki),listItem:a(us),listItemValue:v,listOrdered:a(kn,m),listUnordered:a(kn),paragraph:a(Cl),reference:$,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:a(Kr),strong:a(I0),thematicBreak:a(R0)},exit:{atxHeading:h(),atxHeadingSequence:F,autolink:h(),autolinkEmail:Xe,autolinkProtocol:Re,blockQuote:h(),characterEscapeValue:j,characterReferenceMarkerHexadecimal:me,characterReferenceMarkerNumeric:me,characterReferenceValue:Ie,codeFenced:h(S),codeFencedFence:b,codeFencedFenceInfo:y,codeFencedFenceMeta:x,codeFlowValue:j,codeIndented:h(w),codeText:h(Y),codeTextData:j,data:j,definition:h(),definitionDestinationString:A,definitionLabelString:E,definitionTitleString:O,emphasis:h(),hardBreakEscape:h(K),hardBreakTrailing:h(K),htmlFlow:h(fe),htmlFlowData:j,htmlText:h(ue),htmlTextData:j,image:h(se),label:M,labelText:G,lineEnding:X,link:h(Z),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:re,resourceDestinationString:D,resourceTitleString:Q,resource:J,setextHeading:h(V),setextHeadingLineSequence:H,setextHeadingText:L,strong:h(),thematicBreak:h()}};m4(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ne){let pe={type:"root",children:[]};const Fe={stack:[pe],tokenStack:[],config:e,enter:c,exit:f,buffer:l,resume:p,setData:s,getData:o},ct=[];let dt=-1;for(;++dt<ne.length;)if(ne[dt][1].type==="listOrdered"||ne[dt][1].type==="listUnordered")if(ne[dt][0]==="enter")ct.push(dt);else{const Wn=ct.pop();dt=i(ne,Wn,dt)}for(dt=-1;++dt<ne.length;){const Wn=e[ne[dt][0]];p4.call(Wn,ne[dt][1].type)&&Wn[ne[dt][1].type].call(Object.assign({sliceSerialize:ne[dt][2].sliceSerialize},Fe),ne[dt][1])}if(Fe.tokenStack.length>0){const Wn=Fe.tokenStack[Fe.tokenStack.length-1];(Wn[1]||lO).call(Fe,void 0,Wn[0])}for(pe.position={start:Mo(ne.length>0?ne[0][1].start:{line:1,column:1,offset:0}),end:Mo(ne.length>0?ne[ne.length-2][1].end:{line:1,column:1,offset:0})},dt=-1;++dt<e.transforms.length;)pe=e.transforms[dt](pe)||pe;return pe}function i(ne,pe,Fe){let ct=pe-1,dt=-1,Wn=!1,Zr,xr,Ds,Ls;for(;++ct<=Fe;){const It=ne[ct];if(It[1].type==="listUnordered"||It[1].type==="listOrdered"||It[1].type==="blockQuote"?(It[0]==="enter"?dt++:dt--,Ls=void 0):It[1].type==="lineEndingBlank"?It[0]==="enter"&&(Zr&&!Ls&&!dt&&!Ds&&(Ds=ct),Ls=void 0):It[1].type==="linePrefix"||It[1].type==="listItemValue"||It[1].type==="listItemMarker"||It[1].type==="listItemPrefix"||It[1].type==="listItemPrefixWhitespace"||(Ls=void 0),!dt&&It[0]==="enter"&&It[1].type==="listItemPrefix"||dt===-1&&It[0]==="exit"&&(It[1].type==="listUnordered"||It[1].type==="listOrdered")){if(Zr){let Dc=ct;for(xr=void 0;Dc--;){const Oi=ne[Dc];if(Oi[1].type==="lineEnding"||Oi[1].type==="lineEndingBlank"){if(Oi[0]==="exit")continue;xr&&(ne[xr][1].type="lineEndingBlank",Wn=!0),Oi[1].type="lineEnding",xr=Dc}else if(!(Oi[1].type==="linePrefix"||Oi[1].type==="blockQuotePrefix"||Oi[1].type==="blockQuotePrefixWhitespace"||Oi[1].type==="blockQuoteMarker"||Oi[1].type==="listItemIndent"))break}Ds&&(!xr||Ds<xr)&&(Zr._spread=!0),Zr.end=Object.assign({},xr?ne[xr][1].start:It[1].end),ne.splice(xr||ct,0,["exit",Zr,It[2]]),ct++,Fe++}It[1].type==="listItemPrefix"&&(Zr={type:"listItem",_spread:!1,start:Object.assign({},It[1].start)},ne.splice(ct,0,["enter",Zr,It[2]]),ct++,Fe++,Ds=void 0,Ls=!0)}}return ne[pe][1]._spread=Wn,Fe}function s(ne,pe){n[ne]=pe}function o(ne){return n[ne]}function a(ne,pe){return Fe;function Fe(ct){c.call(this,ne(ct),ct),pe&&pe.call(this,ct)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(ne,pe,Fe){return this.stack[this.stack.length-1].children.push(ne),this.stack.push(ne),this.tokenStack.push([pe,Fe]),ne.position={start:Mo(pe.start)},ne}function h(ne){return pe;function pe(Fe){ne&&ne.call(this,Fe),f.call(this,Fe)}}function f(ne,pe){const Fe=this.stack.pop(),ct=this.tokenStack.pop();if(ct)ct[0].type!==ne.type&&(pe?pe.call(this,ne,ct[0]):(ct[1]||lO).call(this,ne,ct[0]));else throw new Error("Cannot close `"+ne.type+"` ("+Xh({start:ne.start,end:ne.end})+"): it’s not open");return Fe.position.end=Mo(ne.end),Fe}function p(){return OJ(this.stack.pop())}function m(){s("expectingFirstListItemValue",!0)}function v(ne){if(o("expectingFirstListItemValue")){const pe=this.stack[this.stack.length-2];pe.start=Number.parseInt(this.sliceSerialize(ne),10),s("expectingFirstListItemValue")}}function y(){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.lang=ne}function x(){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.meta=ne}function b(){o("flowCodeInside")||(this.buffer(),s("flowCodeInside",!0))}function S(){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ne.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s("flowCodeInside")}function w(){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ne.replace(/(\r?\n|\r)$/g,"")}function E(ne){const pe=this.resume(),Fe=this.stack[this.stack.length-1];Fe.label=pe,Fe.identifier=Nu(this.sliceSerialize(ne)).toLowerCase()}function O(){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.title=ne}function A(){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.url=ne}function F(ne){const pe=this.stack[this.stack.length-1];if(!pe.depth){const Fe=this.sliceSerialize(ne).length;pe.depth=Fe}}function L(){s("setextHeadingSlurpLineEnding",!0)}function H(ne){const pe=this.stack[this.stack.length-1];pe.depth=this.sliceSerialize(ne).charCodeAt(0)===61?1:2}function V(){s("setextHeadingSlurpLineEnding")}function z(ne){const pe=this.stack[this.stack.length-1];let Fe=pe.children[pe.children.length-1];(!Fe||Fe.type!=="text")&&(Fe=va(),Fe.position={start:Mo(ne.start)},pe.children.push(Fe)),this.stack.push(Fe)}function j(ne){const pe=this.stack.pop();pe.value+=this.sliceSerialize(ne),pe.position.end=Mo(ne.end)}function X(ne){const pe=this.stack[this.stack.length-1];if(o("atHardBreak")){const Fe=pe.children[pe.children.length-1];Fe.position.end=Mo(ne.end),s("atHardBreak");return}!o("setextHeadingSlurpLineEnding")&&e.canContainEols.includes(pe.type)&&(z.call(this,ne),j.call(this,ne))}function K(){s("atHardBreak",!0)}function fe(){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ne}function ue(){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ne}function Y(){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ne}function Z(){const ne=this.stack[this.stack.length-1];if(o("inReference")){const pe=o("referenceType")||"shortcut";ne.type+="Reference",ne.referenceType=pe,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;s("referenceType")}function se(){const ne=this.stack[this.stack.length-1];if(o("inReference")){const pe=o("referenceType")||"shortcut";ne.type+="Reference",ne.referenceType=pe,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;s("referenceType")}function G(ne){const pe=this.sliceSerialize(ne),Fe=this.stack[this.stack.length-2];Fe.label=Cte(pe),Fe.identifier=Nu(pe).toLowerCase()}function M(){const ne=this.stack[this.stack.length-1],pe=this.resume(),Fe=this.stack[this.stack.length-1];if(s("inReference",!0),Fe.type==="link"){const ct=ne.children;Fe.children=ct}else Fe.alt=pe}function D(){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.url=ne}function Q(){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.title=ne}function J(){s("inReference")}function $(){s("referenceType","collapsed")}function re(ne){const pe=this.resume(),Fe=this.stack[this.stack.length-1];Fe.label=pe,Fe.identifier=Nu(this.sliceSerialize(ne)).toLowerCase(),s("referenceType","full")}function me(ne){s("characterReferenceType",ne.type)}function Ie(ne){const pe=this.sliceSerialize(ne),Fe=o("characterReferenceType");let ct;Fe?(ct=f4(pe,Fe==="characterReferenceMarkerNumeric"?10:16),s("characterReferenceType")):ct=lE(pe);const dt=this.stack.pop();dt.value+=ct,dt.position.end=Mo(ne.end)}function Re(ne){j.call(this,ne);const pe=this.stack[this.stack.length-1];pe.url=this.sliceSerialize(ne)}function Xe(ne){j.call(this,ne);const pe=this.stack[this.stack.length-1];pe.url="mailto:"+this.sliceSerialize(ne)}function Se(){return{type:"blockquote",children:[]}}function et(){return{type:"code",lang:null,meta:null,value:""}}function tt(){return{type:"inlineCode",value:""}}function rt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ot(){return{type:"emphasis",children:[]}}function Kr(){return{type:"heading",depth:void 0,children:[]}}function Ln(){return{type:"break"}}function Ye(){return{type:"html",value:""}}function Pn(){return{type:"image",title:null,url:"",alt:null}}function ki(){return{type:"link",title:null,url:"",children:[]}}function kn(ne){return{type:"list",ordered:ne.type==="listOrdered",start:null,spread:ne._spread,children:[]}}function us(ne){return{type:"listItem",spread:ne._spread,checked:null,children:[]}}function Cl(){return{type:"paragraph",children:[]}}function I0(){return{type:"strong",children:[]}}function va(){return{type:"text",value:""}}function R0(){return{type:"thematicBreak"}}}function Mo(t){return{line:t.line,column:t.column,offset:t.offset}}function m4(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?m4(t,r):kte(t,r)}}function kte(t,e){let n;for(n in e)if(p4.call(e,n)){if(n==="canContainEols"){const r=e[n];r&&t[n].push(...r)}else if(n==="transforms"){const r=e[n];r&&t[n].push(...r)}else if(n==="enter"||n==="exit"){const r=e[n];r&&Object.assign(t[n],r)}}}function lO(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Xh({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Xh({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Xh({start:e.start,end:e.end})+") is still open")}function Ote(t){Object.assign(this,{Parser:n=>{const r=this.data("settings");return Ate(n,Object.assign({},r,t,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function Ite(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function Rte(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function Mte(t,e){const n=e.value?e.value+`
`:"",r=e.lang?e.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,i={};r&&(i.className=["language-"+r]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function Fte(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Dte(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function bc(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&Lr(t.charCodeAt(n+1))&&Lr(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o="�"}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function g4(t,e){const n=String(e.identifier).toUpperCase(),r=bc(n.toLowerCase()),i=t.footnoteOrder.indexOf(n);let s;i===-1?(t.footnoteOrder.push(n),t.footnoteCounts[n]=1,s=t.footnoteOrder.length):(t.footnoteCounts[n]++,s=i+1);const o=t.footnoteCounts[n],a={type:"element",tagName:"a",properties:{href:"#"+t.clobberPrefix+"fn-"+r,id:t.clobberPrefix+"fnref-"+r+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,a);const l={type:"element",tagName:"sup",properties:{},children:[a]};return t.patch(e,l),t.applyData(e,l)}function Lte(t,e){const n=t.footnoteById;let r=1;for(;r in n;)r++;const i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:e.children}],position:e.position},g4(t,{type:"footnoteReference",identifier:i,position:e.position})}function Bte(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Nte(t,e){if(t.dangerous){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}return null}function v4(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return{type:"text",value:"!["+e.alt+r};const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function $te(t,e){const n=t.definition(e.identifier);if(!n)return v4(t,e);const r={src:bc(n.url||""),alt:e.alt};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"img",properties:r,children:[]};return t.patch(e,i),t.applyData(e,i)}function Ute(t,e){const n={src:bc(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function zte(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function Hte(t,e){const n=t.definition(e.identifier);if(!n)return v4(t,e);const r={href:bc(n.url||"")};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"a",properties:r,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function jte(t,e){const n={href:bc(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Wte(t,e,n){const r=t.all(e),i=n?Gte(n):y4(e),s={},o=[];if(typeof e.checked=="boolean"){const h=r[0];let f;h&&h.type==="element"&&h.tagName==="p"?f=h:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const h=r[a];(i||a!==0||h.type!=="element"||h.tagName!=="p")&&o.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?o.push(...h.children):o.push(h)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,c),t.applyData(e,c)}function Gte(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=y4(n[r])}return e}function y4(t){const e=t.spread;return e??t.children.length>1}function Vte(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function qte(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Xte(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function Yte(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const cE=b4("start"),hE=b4("end");function Kte(t){return{start:cE(t),end:hE(t)}}function b4(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function Zte(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=cE(e.children[1]),l=hE(e.children[e.children.length-1]);a.line&&l.line&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function Qte(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let l=-1;const c=[];for(;++l<a;){const f=e.children[l],p={},m=o?o[l]:void 0;m&&(p.align=m);let v={type:"element",tagName:s,properties:p,children:[]};f&&(v.children=t.all(f),t.patch(f,v),v=t.applyData(e,v)),c.push(v)}const h={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,h),t.applyData(e,h)}function Jte(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const uO=9,cO=32;function ene(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(hO(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(hO(e.slice(i),i>0,!1)),s.join("")}function hO(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===uO||s===cO;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===uO||s===cO;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function tne(t,e){const n={type:"text",value:ene(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function nne(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const rne={blockquote:Ite,break:Rte,code:Mte,delete:Fte,emphasis:Dte,footnoteReference:g4,footnote:Lte,heading:Bte,html:Nte,imageReference:$te,image:Ute,inlineCode:zte,linkReference:Hte,link:jte,listItem:Wte,list:Vte,paragraph:qte,root:Xte,strong:Yte,table:Zte,tableCell:Jte,tableRow:Qte,text:tne,thematicBreak:nne,toml:Dp,yaml:Dp,definition:Dp,footnoteDefinition:Dp};function Dp(){return null}const x4=function(t){if(t==null)return ane;if(typeof t=="string")return one(t);if(typeof t=="object")return Array.isArray(t)?ine(t):sne(t);if(typeof t=="function")return Tv(t);throw new Error("Expected function, string, or object as test")};function ine(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=x4(t[n]);return Tv(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].call(this,...i))return!0;return!1}}function sne(t){return Tv(e);function e(n){let r;for(r in t)if(n[r]!==t[r])return!1;return!0}}function one(t){return Tv(e);function e(n){return n&&n.type===t}}function Tv(t){return e;function e(n,...r){return Boolean(n&&typeof n=="object"&&"type"in n&&Boolean(t.call(this,n,...r)))}}function ane(){return!0}const lne=!0,dO=!1,une="skip",cne=function(t,e,n,r){typeof e=="function"&&typeof n!="function"&&(r=n,n=e,e=null);const i=x4(e),s=r?-1:1;o(t,void 0,[])();function o(a,l,c){const h=a&&typeof a=="object"?a:{};if(typeof h.type=="string"){const p=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(a.type+(p?"<"+p+">":""))+")"})}return f;function f(){let p=[],m,v,y;if((!e||i(a,l,c[c.length-1]||null))&&(p=hne(n(a,c)),p[0]===dO))return p;if(a.children&&p[0]!==une)for(v=(r?a.children.length:-1)+s,y=c.concat(a);v>-1&&v<a.children.length;){if(m=o(a.children[v],v,y)(),m[0]===dO)return m;v=typeof m[1]=="number"?m[1]:v+s}return p}}};function hne(t){return Array.isArray(t)?t:typeof t=="number"?[lne,t]:[t]}const dE=function(t,e,n,r){typeof e=="function"&&typeof n!="function"&&(r=n,n=e,e=null),cne(t,e,i,r);function i(s,o){const a=o[o.length-1];return n(s,a?a.children.indexOf(s):null,a)}};function dne(t){return!t||!t.position||!t.position.start||!t.position.start.line||!t.position.start.column||!t.position.end||!t.position.end.line||!t.position.end.column}const fO={}.hasOwnProperty;function fne(t){const e=Object.create(null);if(!t||!t.type)throw new Error("mdast-util-definitions expected node");return dE(t,"definition",r=>{const i=pO(r.identifier);i&&!fO.call(e,i)&&(e[i]=r)}),n;function n(r){const i=pO(r);return i&&fO.call(e,i)?e[i]:null}}function pO(t){return String(t||"").toUpperCase()}const Sg={}.hasOwnProperty;function pne(t,e){const n=e||{},r=n.allowDangerousHtml||!1,i={};return o.dangerous=r,o.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,o.footnoteLabel=n.footnoteLabel||"Footnotes",o.footnoteLabelTagName=n.footnoteLabelTagName||"h2",o.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},o.footnoteBackLabel=n.footnoteBackLabel||"Back to content",o.unknownHandler=n.unknownHandler,o.passThrough=n.passThrough,o.handlers={...rne,...n.handlers},o.definition=fne(t),o.footnoteById=i,o.footnoteOrder=[],o.footnoteCounts={},o.patch=mne,o.applyData=gne,o.one=a,o.all=l,o.wrap=yne,o.augment=s,dE(t,"footnoteDefinition",c=>{const h=String(c.identifier).toUpperCase();Sg.call(i,h)||(i[h]=c)}),o;function s(c,h){if(c&&"data"in c&&c.data){const f=c.data;f.hName&&(h.type!=="element"&&(h={type:"element",tagName:"",properties:{},children:[]}),h.tagName=f.hName),h.type==="element"&&f.hProperties&&(h.properties={...h.properties,...f.hProperties}),"children"in h&&h.children&&f.hChildren&&(h.children=f.hChildren)}if(c){const f="type"in c?c:{position:c};dne(f)||(h.position={start:cE(f),end:hE(f)})}return h}function o(c,h,f,p){return Array.isArray(f)&&(p=f,f={}),s(c,{type:"element",tagName:h,properties:f||{},children:p||[]})}function a(c,h){return w4(o,c,h)}function l(c){return fE(o,c)}}function mne(t,e){t.position&&(e.position=Kte(t))}function gne(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;typeof r=="string"&&(n.type==="element"?n.tagName=r:n={type:"element",tagName:r,properties:{},children:[]}),n.type==="element"&&s&&(n.properties={...n.properties,...s}),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function w4(t,e,n){const r=e&&e.type;if(!r)throw new Error("Expected node, got `"+e+"`");return Sg.call(t.handlers,r)?t.handlers[r](t,e,n):t.passThrough&&t.passThrough.includes(r)?"children"in e?{...e,children:fE(t,e)}:e:t.unknownHandler?t.unknownHandler(t,e,n):vne(t,e)}function fE(t,e){const n=[];if("children"in e){const r=e.children;let i=-1;for(;++i<r.length;){const s=w4(t,r[i],e);if(s){if(i&&r[i-1].type==="break"&&(!Array.isArray(s)&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,"")),!Array.isArray(s)&&s.type==="element")){const o=s.children[0];o&&o.type==="text"&&(o.value=o.value.replace(/^\s+/,""))}Array.isArray(s)?n.push(...s):n.push(s)}}}return n}function vne(t,e){const n=e.data||{},r="value"in e&&!(Sg.call(n,"hProperties")||Sg.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:fE(t,e)};return t.patch(e,r),t.applyData(e,r)}function yne(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function bne(t){const e=[];let n=-1;for(;++n<t.footnoteOrder.length;){const r=t.footnoteById[t.footnoteOrder[n]];if(!r)continue;const i=t.all(r),s=String(r.identifier).toUpperCase(),o=bc(s.toLowerCase());let a=0;const l=[];for(;++a<=t.footnoteCounts[s];){const f={type:"element",tagName:"a",properties:{href:"#"+t.clobberPrefix+"fnref-"+o+(a>1?"-"+a:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:t.footnoteBackLabel},children:[{type:"text",value:"↩"}]};a>1&&f.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(a)}]}),l.length>0&&l.push({type:"text",value:" "}),l.push(f)}const c=i[i.length-1];if(c&&c.type==="element"&&c.tagName==="p"){const f=c.children[c.children.length-1];f&&f.type==="text"?f.value+=" ":c.children.push({type:"text",value:" "}),c.children.push(...l)}else i.push(...l);const h={type:"element",tagName:"li",properties:{id:t.clobberPrefix+"fn-"+o},children:t.wrap(i,!0)};t.patch(r,h),e.push(h)}if(e.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:t.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(t.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:t.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(e,!0)},{type:"text",value:`
`}]}}function _4(t,e){const n=pne(t,e),r=n.one(t,null),i=bne(n);return i&&r.children.push({type:"text",value:`
`},i),Array.isArray(r)?{type:"root",children:r}:r}const xne=function(t,e){return t&&"run"in t?_ne(t,e):Sne(t||e)},wne=xne;function _ne(t,e){return(n,r,i)=>{t.run(_4(n,e),r,s=>{i(s)})}}function Sne(t){return e=>_4(e,t)}class of{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}of.prototype.property={};of.prototype.normal={};of.prototype.space=null;function S4(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new of(n,r,e)}function yw(t){return t.toLowerCase()}class Ci{constructor(e,n){this.property=e,this.attribute=n}}Ci.prototype.space=null;Ci.prototype.boolean=!1;Ci.prototype.booleanish=!1;Ci.prototype.overloadedBoolean=!1;Ci.prototype.number=!1;Ci.prototype.commaSeparated=!1;Ci.prototype.spaceSeparated=!1;Ci.prototype.commaOrSpaceSeparated=!1;Ci.prototype.mustUseProperty=!1;Ci.prototype.defined=!1;let Ene=0;const Ze=xl(),un=xl(),E4=xl(),de=xl(),Dt=xl(),$u=xl(),Pr=xl();function xl(){return 2**++Ene}const bw=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ze,booleanish:un,commaOrSpaceSeparated:Pr,commaSeparated:$u,number:de,overloadedBoolean:E4,spaceSeparated:Dt},Symbol.toStringTag,{value:"Module"})),R1=Object.keys(bw);class pE extends Ci{constructor(e,n,r,i){let s=-1;if(super(e,n),mO(this,"space",i),typeof r=="number")for(;++s<R1.length;){const o=R1[s];mO(this,R1[s],(r&bw[o])===bw[o])}}}pE.prototype.defined=!0;function mO(t,e,n){n&&(t[e]=n)}const Cne={}.hasOwnProperty;function xc(t){const e={},n={};let r;for(r in t.properties)if(Cne.call(t.properties,r)){const i=t.properties[r],s=new pE(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[yw(r)]=r,n[yw(s.attribute)]=r}return new of(e,n,t.space)}const C4=xc({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),T4=xc({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function A4(t,e){return e in t?t[e]:e}function P4(t,e){return A4(t,e.toLowerCase())}const k4=xc({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:P4,properties:{xmlns:null,xmlnsXLink:null}}),O4=xc({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:un,ariaAutoComplete:null,ariaBusy:un,ariaChecked:un,ariaColCount:de,ariaColIndex:de,ariaColSpan:de,ariaControls:Dt,ariaCurrent:null,ariaDescribedBy:Dt,ariaDetails:null,ariaDisabled:un,ariaDropEffect:Dt,ariaErrorMessage:null,ariaExpanded:un,ariaFlowTo:Dt,ariaGrabbed:un,ariaHasPopup:null,ariaHidden:un,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Dt,ariaLevel:de,ariaLive:null,ariaModal:un,ariaMultiLine:un,ariaMultiSelectable:un,ariaOrientation:null,ariaOwns:Dt,ariaPlaceholder:null,ariaPosInSet:de,ariaPressed:un,ariaReadOnly:un,ariaRelevant:null,ariaRequired:un,ariaRoleDescription:Dt,ariaRowCount:de,ariaRowIndex:de,ariaRowSpan:de,ariaSelected:un,ariaSetSize:de,ariaSort:null,ariaValueMax:de,ariaValueMin:de,ariaValueNow:de,ariaValueText:null,role:null}}),Tne=xc({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:P4,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:$u,acceptCharset:Dt,accessKey:Dt,action:null,allow:null,allowFullScreen:Ze,allowPaymentRequest:Ze,allowUserMedia:Ze,alt:null,as:null,async:Ze,autoCapitalize:null,autoComplete:Dt,autoFocus:Ze,autoPlay:Ze,capture:Ze,charSet:null,checked:Ze,cite:null,className:Dt,cols:de,colSpan:null,content:null,contentEditable:un,controls:Ze,controlsList:Dt,coords:de|$u,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ze,defer:Ze,dir:null,dirName:null,disabled:Ze,download:E4,draggable:un,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ze,formTarget:null,headers:Dt,height:de,hidden:Ze,high:de,href:null,hrefLang:null,htmlFor:Dt,httpEquiv:Dt,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:Ze,itemId:null,itemProp:Dt,itemRef:Dt,itemScope:Ze,itemType:Dt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ze,low:de,manifest:null,max:null,maxLength:de,media:null,method:null,min:null,minLength:de,multiple:Ze,muted:Ze,name:null,nonce:null,noModule:Ze,noValidate:Ze,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ze,optimum:de,pattern:null,ping:Dt,placeholder:null,playsInline:Ze,poster:null,preload:null,readOnly:Ze,referrerPolicy:null,rel:Dt,required:Ze,reversed:Ze,rows:de,rowSpan:de,sandbox:Dt,scope:null,scoped:Ze,seamless:Ze,selected:Ze,shape:null,size:de,sizes:null,slot:null,span:de,spellCheck:un,src:null,srcDoc:null,srcLang:null,srcSet:null,start:de,step:null,style:null,tabIndex:de,target:null,title:null,translate:null,type:null,typeMustMatch:Ze,useMap:null,value:un,width:de,wrap:null,align:null,aLink:null,archive:Dt,axis:null,background:null,bgColor:null,border:de,borderColor:null,bottomMargin:de,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ze,declare:Ze,event:null,face:null,frame:null,frameBorder:null,hSpace:de,leftMargin:de,link:null,longDesc:null,lowSrc:null,marginHeight:de,marginWidth:de,noResize:Ze,noHref:Ze,noShade:Ze,noWrap:Ze,object:null,profile:null,prompt:null,rev:null,rightMargin:de,rules:null,scheme:null,scrolling:un,standby:null,summary:null,text:null,topMargin:de,valueType:null,version:null,vAlign:null,vLink:null,vSpace:de,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ze,disableRemotePlayback:Ze,prefix:null,property:null,results:de,security:null,unselectable:null}}),Ane=xc({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:A4,properties:{about:Pr,accentHeight:de,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:de,amplitude:de,arabicForm:null,ascent:de,attributeName:null,attributeType:null,azimuth:de,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:de,by:null,calcMode:null,capHeight:de,className:Dt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:de,diffuseConstant:de,direction:null,display:null,dur:null,divisor:de,dominantBaseline:null,download:Ze,dx:null,dy:null,edgeMode:null,editable:null,elevation:de,enableBackground:null,end:null,event:null,exponent:de,externalResourcesRequired:null,fill:null,fillOpacity:de,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:$u,g2:$u,glyphName:$u,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:de,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:de,horizOriginX:de,horizOriginY:de,id:null,ideographic:de,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:de,k:de,k1:de,k2:de,k3:de,k4:de,kernelMatrix:Pr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:de,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:de,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:de,overlineThickness:de,paintOrder:null,panose1:null,path:null,pathLength:de,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Dt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:de,pointsAtY:de,pointsAtZ:de,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Pr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Pr,rev:Pr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Pr,requiredFeatures:Pr,requiredFonts:Pr,requiredFormats:Pr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:de,specularExponent:de,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:de,strikethroughThickness:de,string:null,stroke:null,strokeDashArray:Pr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:de,strokeOpacity:de,strokeWidth:null,style:null,surfaceScale:de,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Pr,tabIndex:de,tableValues:null,target:null,targetX:de,targetY:de,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Pr,to:null,transform:null,u1:null,u2:null,underlinePosition:de,underlineThickness:de,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:de,values:null,vAlphabetic:de,vMathematical:de,vectorEffect:null,vHanging:de,vIdeographic:de,version:null,vertAdvY:de,vertOriginX:de,vertOriginY:de,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:de,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Pne=/^data[-\w.:]+$/i,gO=/-[a-z]/g,kne=/[A-Z]/g;function One(t,e){const n=yw(e);let r=e,i=Ci;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Pne.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(gO,Rne);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!gO.test(s)){let o=s.replace(kne,Ine);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=pE}return new i(r,e)}function Ine(t){return"-"+t.toLowerCase()}function Rne(t){return t.charAt(1).toUpperCase()}const vO={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Mne=S4([T4,C4,k4,O4,Tne],"html"),Fne=S4([T4,C4,k4,O4,Ane],"svg");function Dne(t){if(t.allowedElements&&t.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(t.allowedElements||t.disallowedElements||t.allowElement)return e=>{dE(e,"element",(n,r,i)=>{const s=i;let o;if(t.allowedElements?o=!t.allowedElements.includes(n.tagName):t.disallowedElements&&(o=t.disallowedElements.includes(n.tagName)),!o&&t.allowElement&&typeof r=="number"&&(o=!t.allowElement(n,r,s)),o&&typeof r=="number")return t.unwrapDisallowed&&n.children?s.children.splice(r,1,...n.children):s.children.splice(r,1),r})}}var xw={},Lne={get exports(){return xw},set exports(t){xw=t}},wt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mE=Symbol.for("react.element"),gE=Symbol.for("react.portal"),Av=Symbol.for("react.fragment"),Pv=Symbol.for("react.strict_mode"),kv=Symbol.for("react.profiler"),Ov=Symbol.for("react.provider"),Iv=Symbol.for("react.context"),Bne=Symbol.for("react.server_context"),Rv=Symbol.for("react.forward_ref"),Mv=Symbol.for("react.suspense"),Fv=Symbol.for("react.suspense_list"),Dv=Symbol.for("react.memo"),Lv=Symbol.for("react.lazy"),Nne=Symbol.for("react.offscreen"),I4;I4=Symbol.for("react.module.reference");function Ti(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case mE:switch(t=t.type,t){case Av:case kv:case Pv:case Mv:case Fv:return t;default:switch(t=t&&t.$$typeof,t){case Bne:case Iv:case Rv:case Lv:case Dv:case Ov:return t;default:return e}}case gE:return e}}}wt.ContextConsumer=Iv;wt.ContextProvider=Ov;wt.Element=mE;wt.ForwardRef=Rv;wt.Fragment=Av;wt.Lazy=Lv;wt.Memo=Dv;wt.Portal=gE;wt.Profiler=kv;wt.StrictMode=Pv;wt.Suspense=Mv;wt.SuspenseList=Fv;wt.isAsyncMode=function(){return!1};wt.isConcurrentMode=function(){return!1};wt.isContextConsumer=function(t){return Ti(t)===Iv};wt.isContextProvider=function(t){return Ti(t)===Ov};wt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===mE};wt.isForwardRef=function(t){return Ti(t)===Rv};wt.isFragment=function(t){return Ti(t)===Av};wt.isLazy=function(t){return Ti(t)===Lv};wt.isMemo=function(t){return Ti(t)===Dv};wt.isPortal=function(t){return Ti(t)===gE};wt.isProfiler=function(t){return Ti(t)===kv};wt.isStrictMode=function(t){return Ti(t)===Pv};wt.isSuspense=function(t){return Ti(t)===Mv};wt.isSuspenseList=function(t){return Ti(t)===Fv};wt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Av||t===kv||t===Pv||t===Mv||t===Fv||t===Nne||typeof t=="object"&&t!==null&&(t.$$typeof===Lv||t.$$typeof===Dv||t.$$typeof===Ov||t.$$typeof===Iv||t.$$typeof===Rv||t.$$typeof===I4||t.getModuleId!==void 0)};wt.typeOf=Ti;(function(t){t.exports=wt})(Lne);const $ne=W3(xw);function Une(t){const e=t&&typeof t=="object"&&t.type==="text"?t.value||"":t;return typeof e=="string"&&e.replace(/[ \t\n\f\r]/g,"")===""}function zne(t){return t.join(" ").trim()}function Hne(t,e){const n=e||{};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var Eg={},jne={get exports(){return Eg},set exports(t){Eg=t}},yO=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Wne=/\n/g,Gne=/^\s*/,Vne=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,qne=/^:\s*/,Xne=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Yne=/^[;\s]*/,Kne=/^\s+|\s+$/g,Zne=`
`,bO="/",xO="*",$a="",Qne="comment",Jne="declaration",ere=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(v){var y=v.match(Wne);y&&(n+=y.length);var x=v.lastIndexOf(Zne);r=~x?v.length-x:r+v.length}function s(){var v={line:n,column:r};return function(y){return y.position=new o(v),c(),y}}function o(v){this.start=v,this.end={line:n,column:r},this.source=e.source}o.prototype.content=t;function a(v){var y=new Error(e.source+":"+n+":"+r+": "+v);if(y.reason=v,y.filename=e.source,y.line=n,y.column=r,y.source=t,!e.silent)throw y}function l(v){var y=v.exec(t);if(y){var x=y[0];return i(x),t=t.slice(x.length),y}}function c(){l(Gne)}function h(v){var y;for(v=v||[];y=f();)y!==!1&&v.push(y);return v}function f(){var v=s();if(!(bO!=t.charAt(0)||xO!=t.charAt(1))){for(var y=2;$a!=t.charAt(y)&&(xO!=t.charAt(y)||bO!=t.charAt(y+1));)++y;if(y+=2,$a===t.charAt(y-1))return a("End of comment missing");var x=t.slice(2,y-2);return r+=2,i(x),t=t.slice(y),r+=2,v({type:Qne,comment:x})}}function p(){var v=s(),y=l(Vne);if(y){if(f(),!l(qne))return a("property missing ':'");var x=l(Xne),b=v({type:Jne,property:wO(y[0].replace(yO,$a)),value:x?wO(x[0].replace(yO,$a)):$a});return l(Yne),b}}function m(){var v=[];h(v);for(var y;y=p();)y!==!1&&(v.push(y),h(v));return v}return c(),m()};function wO(t){return t?t.replace(Kne,$a):$a}var tre=ere;function R4(t,e){var n=null;if(!t||typeof t!="string")return n;for(var r,i=tre(t),s=typeof e=="function",o,a,l=0,c=i.length;l<c;l++)r=i[l],o=r.property,a=r.value,s?e(o,a,r):a&&(n||(n={}),n[o]=a);return n}jne.exports=R4;Eg.default=R4;const nre=Eg,ww={}.hasOwnProperty,rre=new Set(["table","thead","tbody","tfoot","tr"]);function M4(t,e){const n=[];let r=-1,i;for(;++r<e.children.length;)i=e.children[r],i.type==="element"?n.push(ire(t,i,r,e)):i.type==="text"?(e.type!=="element"||!rre.has(e.tagName)||!Une(i))&&n.push(i.value):i.type==="raw"&&!t.options.skipHtml&&n.push(i.value);return n}function ire(t,e,n,r){const i=t.options,s=i.transformLinkUri===void 0?hJ:i.transformLinkUri,o=t.schema,a=e.tagName,l={};let c=o,h;if(o.space==="html"&&a==="svg"&&(c=Fne,t.schema=c),e.properties)for(h in e.properties)ww.call(e.properties,h)&&ore(l,h,e.properties[h],t);(a==="ol"||a==="ul")&&t.listDepth++;const f=M4(t,e);(a==="ol"||a==="ul")&&t.listDepth--,t.schema=o;const p=e.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},m=i.components&&ww.call(i.components,a)?i.components[a]:a,v=typeof m=="string"||m===P.Fragment;if(!$ne.isValidElementType(m))throw new TypeError(`Component for name \`${a}\` not defined or is not renderable`);if(l.key=[a,p.start.line,p.start.column,n].join("-"),a==="a"&&i.linkTarget&&(l.target=typeof i.linkTarget=="function"?i.linkTarget(String(l.href||""),e.children,typeof l.title=="string"?l.title:null):i.linkTarget),a==="a"&&s&&(l.href=s(String(l.href||""),e.children,typeof l.title=="string"?l.title:null)),!v&&a==="code"&&r.type==="element"&&r.tagName!=="pre"&&(l.inline=!0),!v&&(a==="h1"||a==="h2"||a==="h3"||a==="h4"||a==="h5"||a==="h6")&&(l.level=Number.parseInt(a.charAt(1),10)),a==="img"&&i.transformImageUri&&(l.src=i.transformImageUri(String(l.src||""),String(l.alt||""),typeof l.title=="string"?l.title:null)),!v&&a==="li"&&r.type==="element"){const y=sre(e);l.checked=y&&y.properties?Boolean(y.properties.checked):null,l.index=M1(r,e),l.ordered=r.tagName==="ol"}return!v&&(a==="ol"||a==="ul")&&(l.ordered=a==="ol",l.depth=t.listDepth),(a==="td"||a==="th")&&(l.align&&(l.style||(l.style={}),l.style.textAlign=l.align,delete l.align),v||(l.isHeader=a==="th")),!v&&a==="tr"&&r.type==="element"&&(l.isHeader=Boolean(r.tagName==="thead")),i.sourcePos&&(l["data-sourcepos"]=ure(p)),!v&&i.rawSourcePos&&(l.sourcePosition=e.position),!v&&i.includeElementIndex&&(l.index=M1(r,e),l.siblingCount=M1(r)),v||(l.node=e),f.length>0?P.createElement(m,l,f):P.createElement(m,l)}function sre(t){let e=-1;for(;++e<t.children.length;){const n=t.children[e];if(n.type==="element"&&n.tagName==="input")return n}return null}function M1(t,e){let n=-1,r=0;for(;++n<t.children.length&&t.children[n]!==e;)t.children[n].type==="element"&&r++;return r}function ore(t,e,n,r){const i=One(r.schema,e);let s=n;s==null||s!==s||(Array.isArray(s)&&(s=i.commaSeparated?Hne(s):zne(s)),i.property==="style"&&typeof s=="string"&&(s=are(s)),i.space&&i.property?t[ww.call(vO,i.property)?vO[i.property]:i.property]=s:i.attribute&&(t[i.attribute]=s))}function are(t){const e={};try{nre(t,n)}catch{}return e;function n(r,i){const s=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;e[s.replace(/-([a-z])/g,lre)]=i}}function lre(t,e){return e.toUpperCase()}function ure(t){return[t.start.line,":",t.start.column,"-",t.end.line,":",t.end.column].map(String).join("")}const _O={}.hasOwnProperty,cre="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Lp={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function F4(t){for(const s in Lp)if(_O.call(Lp,s)&&_O.call(t,s)){const o=Lp[s];console.warn(`[react-markdown] Warning: please ${o.to?`use \`${o.to}\` instead of`:"remove"} \`${s}\` (see <${cre}#${o.id}> for more info)`),delete Lp[s]}const e=TJ().use(Ote).use(t.remarkPlugins||[]).use(wne,{...t.remarkRehypeOptions,allowDangerousHtml:!0}).use(t.rehypePlugins||[]).use(Dne,t),n=new JD;typeof t.children=="string"?n.value=t.children:t.children!==void 0&&t.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${t.children}\`)`);const r=e.runSync(e.parse(n),n);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=P.createElement(P.Fragment,{},M4({options:t,schema:Mne,listDepth:0},r));return t.className&&(i=P.createElement("div",{className:t.className},i)),i}F4.propTypes={children:B.string,className:B.string,allowElement:B.func,allowedElements:B.arrayOf(B.string),disallowedElements:B.arrayOf(B.string),unwrapDisallowed:B.bool,remarkPlugins:B.arrayOf(B.oneOfType([B.object,B.func,B.arrayOf(B.oneOfType([B.bool,B.string,B.object,B.func,B.arrayOf(B.any)]))])),rehypePlugins:B.arrayOf(B.oneOfType([B.object,B.func,B.arrayOf(B.oneOfType([B.bool,B.string,B.object,B.func,B.arrayOf(B.any)]))])),sourcePos:B.bool,rawSourcePos:B.bool,skipHtml:B.bool,includeElementIndex:B.bool,transformLinkUri:B.oneOfType([B.func,B.bool]),linkTarget:B.oneOfType([B.func,B.string]),transformImageUri:B.func,components:B.object};const af=T.createContext({});function hre(){const t=window.localStorage.getItem("dragon-tagColors");if(t)try{return JSON.parse(t)}catch{return{}}else return{}}const dre=(t,e)=>{const{tag:n,color:r,type:i,colors:s}=e;let o=ht(t);return i==="add"?(o[n]=r,o):i==="set"?(o=s||{},window.localStorage.setItem("dragon-tagColors",JSON.stringify(o)),s):(i==="save"&&window.localStorage.setItem("dragon-tagColors",JSON.stringify(o)),t)},fre=({children:t})=>{const[e,n]=T.useReducer(dre,hre());return k(af.Provider,{value:{tagColors:e,setTagColors:n},children:t})};function St({type:t="default",color:e="white",children:n,clicked:r,noPadding:i=!1,disabled:s=!1}){const o=i?{padding:0}:{},a=l=>{l.stopPropagation(),r()};return k("button",{className:"smol-button "+t+" "+e+" "+(s?"disabled":""),onClick:a,style:o,children:n})}const wc=T.createContext({}),Qs={default:{"--themeColor":"#3bac99","--themeColorMod":"#2f808f","--themeColorText":"#a4dbe2","--panelColor":"#1b1b1d","--panelColor2":"#2e2e34","--panelColor3":"#25262c"},alt1:{"--themeColor":"#6d63f8","--themeColorMod":"#5557e0","--themeColorText":"#a08dcc","--panelColor":"#1b1b1d","--panelColor2":"#2e2e34","--panelColor3":"#25262c"},alt2:{"--themeColor":"#c155ac","--themeColorMod":"#9d4980","--themeColorText":"#df82d5","--panelColor":"#22262f","--panelColor2":"#2c3139","--panelColor3":"#2c353e"},autumn:{"--themeColor":"#e34841","--themeColorMod":"#bf342d","--themeColorText":"#fbb87e","--panelColor":"#22292f","--panelColor2":"#222224","--panelColor3":"#2b2c32"},steel:{"--themeColor":"#405185","--themeColorMod":"#313f68","--themeColorText":"#cd725a","--panelColor":"#1a1d26","--panelColor2":"#282d34","--panelColor3":"#2d3234"}};function pre(){const t=window.localStorage.getItem("dragon-theme");return t?JSON.parse(t):"dark"}function mre(){const t=window.localStorage.getItem("dragon-color-theme");if(t){const e=JSON.parse(t);return vt(Object.keys(Qs[e]),n=>{document.documentElement.style.setProperty(n,Qs[e][n])}),e}else return"default"}const gre=(t,e)=>{const{theme:n,type:r}=e;let i=ht(t);return r==="set"?(i=n,window.localStorage.setItem("dragon-theme",JSON.stringify(i)),i):t},vre=(t,e)=>{const{theme:n,type:r}=e;let i=ht(t);return r==="set"?(i=n,vt(Object.keys(Qs[n]),s=>{document.documentElement.style.setProperty(s,Qs[e.theme][s])}),window.localStorage.setItem("dragon-color-theme",JSON.stringify(i)),i):t},yre=({children:t})=>{const[e,n]=T.useReducer(gre,pre()),[r,i]=T.useReducer(vre,mre());return k(wc.Provider,{value:{theme:e,setTheme:n,colorTheme:r,setColorTheme:i},children:t})};function bre(t,e,n,r,i,s){let o={};const a=i||n;return o.borderColor=a,e&&(o.backgroundColor=a,o.fontWeight=500),r&&(o.borderColor="transparent",o.backgroundColor=a,o.color="#222",o.fontWeight=600,o.borderRadius=12),Ss(t)&&(o.cursor="pointer",o.paddingRight="32px"),s==="light"&&(o.borderWidth=2,o.color="#333"),o}function _w({label:t,clicked:e,selected:n,children:r,emphasize:i,color:s}){const{tagColors:o}=T.useContext(af),{theme:a}=T.useContext(wc);return te("span",{onClick:c=>{Ss(e)&&e(t)},className:"stat-tag",style:bre(e,n,o&&o[t]||"#fff",i,s,a),children:[t," ",e&&k("div",{className:"check",children:n?k(XZ,{size:14}):""}),r&&r]})}function Qi({type:t="default",color:e="white",children:n,clicked:r,disabled:i=!1}){return k("button",{className:"big-button "+t+" "+e+" "+(i?"disabled":""),onClick:i?()=>{}:r,children:n})}function Bv({value:t,valueChanged:e,className:n="",minWidth:r=48,min:i=void 0,max:s=void 0}){const[o,a]=T.useState(+t),[l,c]=T.useState(r),h=T.useRef({offsetWidth:0});T.useEffect(()=>{var m;const p=((m=h==null?void 0:h.current)==null?void 0:m.offsetWidth)+24;c(p>r?p:r)},[o]);const f=p=>{a(+p.target.value),e(+p.target.value)};return te("div",{className:"fancy-text-input form-control "+n,children:[k("span",{className:"hidden-text",ref:h,children:o}),k("input",{min:i,max:s,value:o,type:"number",style:{width:l},onChange:f})]})}function is({value:t,valueChanged:e,className:n,blur:r,minWidth:i=48,placeholder:s="",fullWidth:o=!1,autoFocus:a=void 0,unsavedData:l=!1}){const[c,h]=T.useState(t),[f,p]=T.useState(o?"100%":i),m=T.useRef({offsetWidth:0}),v=T.useRef(null);T.useEffect(()=>{var x;if(!Mr(c)&&!o){const b=((x=m==null?void 0:m.current)==null?void 0:x.clientWidth)+24;p(b>i?b:i)}},[c]),T.useEffect(()=>{h(t)},[t]),T.useEffect(()=>{var x;!Mr(a)&&a&&((x=v.current)==null||x.focus())},[a]);const y=x=>{e(x.target.value)};return te("div",{className:"fancy-text-input form-control "+n,children:[k("span",{className:"hidden-text",ref:m,children:c}),k("input",{className:uo({unsavedData:l}),ref:v,placeholder:s,onBlur:r,value:c,type:"text",style:{width:f},onChange:y})]})}function xre({params:t,paramsChanged:e}){const[n,r]=T.useState(t);T.useEffect(()=>{r(t)},[t]);const i=(l,c)=>{let h=ht(n);h[c].name=l,e(h)},s=(l,c)=>{let h=ht(n);h[c].value=l,e(h)},o=()=>{e([...t,{name:"",value:0}])},a=l=>{let c=ht(n);c.splice(l,1),e(c)};return te("div",{className:"param-editor",children:[n&&ze(n,(l,c)=>te("div",{className:"param-line",children:[k(St,{color:"danger",clicked:()=>a(c),children:k(xo,{size:"18"})}),k(is,{minWidth:120,placeholder:"name",className:"param-input",value:l.name,valueChanged:h=>i(h,c)}),k(Bv,{className:"param-input",value:l.value,valueChanged:h=>s(h,c)})]})),k("div",{className:"add-button",children:te(Qi,{disabled:nf(n,{name:""}),color:"theme",clicked:o,children:["Add Param ",k(rs,{size:20})]})})]})}var fi={},lf={},wre=typeof hr=="object"&&hr&&hr.Object===Object&&hr,D4=wre,_re=D4,Sre=typeof self=="object"&&self&&self.Object===Object&&self,Ere=_re||Sre||Function("return this")(),Ms=Ere,Cre=Ms,Tre=Cre.Symbol,uf=Tre,SO=uf,L4=Object.prototype,Are=L4.hasOwnProperty,Pre=L4.toString,ah=SO?SO.toStringTag:void 0;function kre(t){var e=Are.call(t,ah),n=t[ah];try{t[ah]=void 0;var r=!0}catch{}var i=Pre.call(t);return r&&(e?t[ah]=n:delete t[ah]),i}var Ore=kre,Ire=Object.prototype,Rre=Ire.toString;function Mre(t){return Rre.call(t)}var Fre=Mre,EO=uf,Dre=Ore,Lre=Fre,Bre="[object Null]",Nre="[object Undefined]",CO=EO?EO.toStringTag:void 0;function $re(t){return t==null?t===void 0?Nre:Bre:CO&&CO in Object(t)?Dre(t):Lre(t)}var wl=$re,Ure=Array.isArray,as=Ure;function zre(t){return t!=null&&typeof t=="object"}var wo=zre,Hre=wl,jre=as,Wre=wo,Gre="[object String]";function Vre(t){return typeof t=="string"||!jre(t)&&Wre(t)&&Hre(t)==Gre}var qre=Vre;function Xre(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var Yre=Xre,Kre=Yre,Zre=Kre(),Qre=Zre;function Jre(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var eie=Jre,tie=wl,nie=wo,rie="[object Arguments]";function iie(t){return nie(t)&&tie(t)==rie}var sie=iie,TO=sie,oie=wo,B4=Object.prototype,aie=B4.hasOwnProperty,lie=B4.propertyIsEnumerable,uie=TO(function(){return arguments}())?TO:function(t){return oie(t)&&aie.call(t,"callee")&&!lie.call(t,"callee")},N4=uie,tc={},cie={get exports(){return tc},set exports(t){tc=t}};function hie(){return!1}var die=hie;(function(t,e){var n=Ms,r=die,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(cie,tc);var fie=9007199254740991,pie=/^(?:0|[1-9]\d*)$/;function mie(t,e){var n=typeof t;return e=e??fie,!!e&&(n=="number"||n!="symbol"&&pie.test(t))&&t>-1&&t%1==0&&t<e}var $4=mie,gie=9007199254740991;function vie(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=gie}var vE=vie,yie=wl,bie=vE,xie=wo,wie="[object Arguments]",_ie="[object Array]",Sie="[object Boolean]",Eie="[object Date]",Cie="[object Error]",Tie="[object Function]",Aie="[object Map]",Pie="[object Number]",kie="[object Object]",Oie="[object RegExp]",Iie="[object Set]",Rie="[object String]",Mie="[object WeakMap]",Fie="[object ArrayBuffer]",Die="[object DataView]",Lie="[object Float32Array]",Bie="[object Float64Array]",Nie="[object Int8Array]",$ie="[object Int16Array]",Uie="[object Int32Array]",zie="[object Uint8Array]",Hie="[object Uint8ClampedArray]",jie="[object Uint16Array]",Wie="[object Uint32Array]",Lt={};Lt[Lie]=Lt[Bie]=Lt[Nie]=Lt[$ie]=Lt[Uie]=Lt[zie]=Lt[Hie]=Lt[jie]=Lt[Wie]=!0;Lt[wie]=Lt[_ie]=Lt[Fie]=Lt[Sie]=Lt[Die]=Lt[Eie]=Lt[Cie]=Lt[Tie]=Lt[Aie]=Lt[Pie]=Lt[kie]=Lt[Oie]=Lt[Iie]=Lt[Rie]=Lt[Mie]=!1;function Gie(t){return xie(t)&&bie(t.length)&&!!Lt[yie(t)]}var Vie=Gie;function qie(t){return function(e){return t(e)}}var yE=qie,nc={},Xie={get exports(){return nc},set exports(t){nc=t}};(function(t,e){var n=D4,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(Xie,nc);var Yie=Vie,Kie=yE,AO=nc,PO=AO&&AO.isTypedArray,Zie=PO?Kie(PO):Yie,U4=Zie,Qie=eie,Jie=N4,ese=as,tse=tc,nse=$4,rse=U4,ise=Object.prototype,sse=ise.hasOwnProperty;function ose(t,e){var n=ese(t),r=!n&&Jie(t),i=!n&&!r&&tse(t),s=!n&&!r&&!i&&rse(t),o=n||r||i||s,a=o?Qie(t.length,String):[],l=a.length;for(var c in t)(e||sse.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||nse(c,l)))&&a.push(c);return a}var z4=ose,ase=Object.prototype;function lse(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||ase;return t===n}var bE=lse;function use(t,e){return function(n){return t(e(n))}}var H4=use,cse=H4,hse=cse(Object.keys,Object),dse=hse,fse=bE,pse=dse,mse=Object.prototype,gse=mse.hasOwnProperty;function vse(t){if(!fse(t))return pse(t);var e=[];for(var n in Object(t))gse.call(t,n)&&n!="constructor"&&e.push(n);return e}var yse=vse;function bse(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var _c=bse,xse=wl,wse=_c,_se="[object AsyncFunction]",Sse="[object Function]",Ese="[object GeneratorFunction]",Cse="[object Proxy]";function Tse(t){if(!wse(t))return!1;var e=xse(t);return e==Sse||e==Ese||e==_se||e==Cse}var j4=Tse,Ase=j4,Pse=vE;function kse(t){return t!=null&&Pse(t.length)&&!Ase(t)}var Nv=kse,Ose=z4,Ise=yse,Rse=Nv;function Mse(t){return Rse(t)?Ose(t):Ise(t)}var cf=Mse,Fse=Qre,Dse=cf;function Lse(t,e){return t&&Fse(t,e,Dse)}var W4=Lse;function Bse(t){return t}var G4=Bse,Nse=G4;function $se(t){return typeof t=="function"?t:Nse}var Use=$se,zse=W4,Hse=Use;function jse(t,e){return t&&zse(t,Hse(e))}var xE=jse,Wse=H4,Gse=Wse(Object.getPrototypeOf,Object),wE=Gse,Vse=wl,qse=wE,Xse=wo,Yse="[object Object]",Kse=Function.prototype,Zse=Object.prototype,V4=Kse.toString,Qse=Zse.hasOwnProperty,Jse=V4.call(Object);function eoe(t){if(!Xse(t)||Vse(t)!=Yse)return!1;var e=qse(t);if(e===null)return!0;var n=Qse.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&V4.call(n)==Jse}var toe=eoe;function noe(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var q4=noe;function roe(){this.__data__=[],this.size=0}var ioe=roe;function soe(t,e){return t===e||t!==t&&e!==e}var _E=soe,ooe=_E;function aoe(t,e){for(var n=t.length;n--;)if(ooe(t[n][0],e))return n;return-1}var $v=aoe,loe=$v,uoe=Array.prototype,coe=uoe.splice;function hoe(t){var e=this.__data__,n=loe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():coe.call(e,n,1),--this.size,!0}var doe=hoe,foe=$v;function poe(t){var e=this.__data__,n=foe(e,t);return n<0?void 0:e[n][1]}var moe=poe,goe=$v;function voe(t){return goe(this.__data__,t)>-1}var yoe=voe,boe=$v;function xoe(t,e){var n=this.__data__,r=boe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var woe=xoe,_oe=ioe,Soe=doe,Eoe=moe,Coe=yoe,Toe=woe;function Sc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Sc.prototype.clear=_oe;Sc.prototype.delete=Soe;Sc.prototype.get=Eoe;Sc.prototype.has=Coe;Sc.prototype.set=Toe;var Uv=Sc,Aoe=Uv;function Poe(){this.__data__=new Aoe,this.size=0}var koe=Poe;function Ooe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Ioe=Ooe;function Roe(t){return this.__data__.get(t)}var Moe=Roe;function Foe(t){return this.__data__.has(t)}var Doe=Foe,Loe=Ms,Boe=Loe["__core-js_shared__"],Noe=Boe,F1=Noe,kO=function(){var t=/[^.]+$/.exec(F1&&F1.keys&&F1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function $oe(t){return!!kO&&kO in t}var Uoe=$oe,zoe=Function.prototype,Hoe=zoe.toString;function joe(t){if(t!=null){try{return Hoe.call(t)}catch{}try{return t+""}catch{}}return""}var X4=joe,Woe=j4,Goe=Uoe,Voe=_c,qoe=X4,Xoe=/[\\^$.*+?()[\]{}|]/g,Yoe=/^\[object .+?Constructor\]$/,Koe=Function.prototype,Zoe=Object.prototype,Qoe=Koe.toString,Joe=Zoe.hasOwnProperty,eae=RegExp("^"+Qoe.call(Joe).replace(Xoe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function tae(t){if(!Voe(t)||Goe(t))return!1;var e=Woe(t)?eae:Yoe;return e.test(qoe(t))}var nae=tae;function rae(t,e){return t==null?void 0:t[e]}var iae=rae,sae=nae,oae=iae;function aae(t,e){var n=oae(t,e);return sae(n)?n:void 0}var _l=aae,lae=_l,uae=Ms,cae=lae(uae,"Map"),SE=cae,hae=_l,dae=hae(Object,"create"),zv=dae,OO=zv;function fae(){this.__data__=OO?OO(null):{},this.size=0}var pae=fae;function mae(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var gae=mae,vae=zv,yae="__lodash_hash_undefined__",bae=Object.prototype,xae=bae.hasOwnProperty;function wae(t){var e=this.__data__;if(vae){var n=e[t];return n===yae?void 0:n}return xae.call(e,t)?e[t]:void 0}var _ae=wae,Sae=zv,Eae=Object.prototype,Cae=Eae.hasOwnProperty;function Tae(t){var e=this.__data__;return Sae?e[t]!==void 0:Cae.call(e,t)}var Aae=Tae,Pae=zv,kae="__lodash_hash_undefined__";function Oae(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Pae&&e===void 0?kae:e,this}var Iae=Oae,Rae=pae,Mae=gae,Fae=_ae,Dae=Aae,Lae=Iae;function Ec(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ec.prototype.clear=Rae;Ec.prototype.delete=Mae;Ec.prototype.get=Fae;Ec.prototype.has=Dae;Ec.prototype.set=Lae;var Bae=Ec,IO=Bae,Nae=Uv,$ae=SE;function Uae(){this.size=0,this.__data__={hash:new IO,map:new($ae||Nae),string:new IO}}var zae=Uae;function Hae(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var jae=Hae,Wae=jae;function Gae(t,e){var n=t.__data__;return Wae(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Hv=Gae,Vae=Hv;function qae(t){var e=Vae(this,t).delete(t);return this.size-=e?1:0,e}var Xae=qae,Yae=Hv;function Kae(t){return Yae(this,t).get(t)}var Zae=Kae,Qae=Hv;function Jae(t){return Qae(this,t).has(t)}var ele=Jae,tle=Hv;function nle(t,e){var n=tle(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var rle=nle,ile=zae,sle=Xae,ole=Zae,ale=ele,lle=rle;function Cc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Cc.prototype.clear=ile;Cc.prototype.delete=sle;Cc.prototype.get=ole;Cc.prototype.has=ale;Cc.prototype.set=lle;var EE=Cc,ule=Uv,cle=SE,hle=EE,dle=200;function fle(t,e){var n=this.__data__;if(n instanceof ule){var r=n.__data__;if(!cle||r.length<dle-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new hle(r)}return n.set(t,e),this.size=n.size,this}var ple=fle,mle=Uv,gle=koe,vle=Ioe,yle=Moe,ble=Doe,xle=ple;function Tc(t){var e=this.__data__=new mle(t);this.size=e.size}Tc.prototype.clear=gle;Tc.prototype.delete=vle;Tc.prototype.get=yle;Tc.prototype.has=ble;Tc.prototype.set=xle;var CE=Tc,wle="__lodash_hash_undefined__";function _le(t){return this.__data__.set(t,wle),this}var Sle=_le;function Ele(t){return this.__data__.has(t)}var Cle=Ele,Tle=EE,Ale=Sle,Ple=Cle;function Cg(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Tle;++e<n;)this.add(t[e])}Cg.prototype.add=Cg.prototype.push=Ale;Cg.prototype.has=Ple;var kle=Cg;function Ole(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Ile=Ole;function Rle(t,e){return t.has(e)}var Mle=Rle,Fle=kle,Dle=Ile,Lle=Mle,Ble=1,Nle=2;function $le(t,e,n,r,i,s){var o=n&Ble,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),h=s.get(e);if(c&&h)return c==e&&h==t;var f=-1,p=!0,m=n&Nle?new Fle:void 0;for(s.set(t,e),s.set(e,t);++f<a;){var v=t[f],y=e[f];if(r)var x=o?r(y,v,f,e,t,s):r(v,y,f,t,e,s);if(x!==void 0){if(x)continue;p=!1;break}if(m){if(!Dle(e,function(b,S){if(!Lle(m,S)&&(v===b||i(v,b,n,r,s)))return m.push(S)})){p=!1;break}}else if(!(v===y||i(v,y,n,r,s))){p=!1;break}}return s.delete(t),s.delete(e),p}var Y4=$le,Ule=Ms,zle=Ule.Uint8Array,K4=zle;function Hle(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var jle=Hle;function Wle(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Gle=Wle,RO=uf,MO=K4,Vle=_E,qle=Y4,Xle=jle,Yle=Gle,Kle=1,Zle=2,Qle="[object Boolean]",Jle="[object Date]",eue="[object Error]",tue="[object Map]",nue="[object Number]",rue="[object RegExp]",iue="[object Set]",sue="[object String]",oue="[object Symbol]",aue="[object ArrayBuffer]",lue="[object DataView]",FO=RO?RO.prototype:void 0,D1=FO?FO.valueOf:void 0;function uue(t,e,n,r,i,s,o){switch(n){case lue:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case aue:return!(t.byteLength!=e.byteLength||!s(new MO(t),new MO(e)));case Qle:case Jle:case nue:return Vle(+t,+e);case eue:return t.name==e.name&&t.message==e.message;case rue:case sue:return t==e+"";case tue:var a=Xle;case iue:var l=r&Kle;if(a||(a=Yle),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=Zle,o.set(t,e);var h=qle(a(t),a(e),r,i,s,o);return o.delete(t),h;case oue:if(D1)return D1.call(t)==D1.call(e)}return!1}var cue=uue;function hue(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Z4=hue,due=Z4,fue=as;function pue(t,e,n){var r=e(t);return fue(t)?r:due(r,n(t))}var Q4=pue;function mue(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var gue=mue;function vue(){return[]}var J4=vue,yue=gue,bue=J4,xue=Object.prototype,wue=xue.propertyIsEnumerable,DO=Object.getOwnPropertySymbols,_ue=DO?function(t){return t==null?[]:(t=Object(t),yue(DO(t),function(e){return wue.call(t,e)}))}:bue,TE=_ue,Sue=Q4,Eue=TE,Cue=cf;function Tue(t){return Sue(t,Cue,Eue)}var e5=Tue,LO=e5,Aue=1,Pue=Object.prototype,kue=Pue.hasOwnProperty;function Oue(t,e,n,r,i,s){var o=n&Aue,a=LO(t),l=a.length,c=LO(e),h=c.length;if(l!=h&&!o)return!1;for(var f=l;f--;){var p=a[f];if(!(o?p in e:kue.call(e,p)))return!1}var m=s.get(t),v=s.get(e);if(m&&v)return m==e&&v==t;var y=!0;s.set(t,e),s.set(e,t);for(var x=o;++f<l;){p=a[f];var b=t[p],S=e[p];if(r)var w=o?r(S,b,p,e,t,s):r(b,S,p,t,e,s);if(!(w===void 0?b===S||i(b,S,n,r,s):w)){y=!1;break}x||(x=p=="constructor")}if(y&&!x){var E=t.constructor,O=e.constructor;E!=O&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof O=="function"&&O instanceof O)&&(y=!1)}return s.delete(t),s.delete(e),y}var Iue=Oue,Rue=_l,Mue=Ms,Fue=Rue(Mue,"DataView"),Due=Fue,Lue=_l,Bue=Ms,Nue=Lue(Bue,"Promise"),$ue=Nue,Uue=_l,zue=Ms,Hue=Uue(zue,"Set"),jue=Hue,Wue=_l,Gue=Ms,Vue=Wue(Gue,"WeakMap"),que=Vue,Sw=Due,Ew=SE,Cw=$ue,Tw=jue,Aw=que,t5=wl,Ac=X4,BO="[object Map]",Xue="[object Object]",NO="[object Promise]",$O="[object Set]",UO="[object WeakMap]",zO="[object DataView]",Yue=Ac(Sw),Kue=Ac(Ew),Zue=Ac(Cw),Que=Ac(Tw),Jue=Ac(Aw),Fa=t5;(Sw&&Fa(new Sw(new ArrayBuffer(1)))!=zO||Ew&&Fa(new Ew)!=BO||Cw&&Fa(Cw.resolve())!=NO||Tw&&Fa(new Tw)!=$O||Aw&&Fa(new Aw)!=UO)&&(Fa=function(t){var e=t5(t),n=e==Xue?t.constructor:void 0,r=n?Ac(n):"";if(r)switch(r){case Yue:return zO;case Kue:return BO;case Zue:return NO;case Que:return $O;case Jue:return UO}return e});var jv=Fa,L1=CE,ece=Y4,tce=cue,nce=Iue,HO=jv,jO=as,WO=tc,rce=U4,ice=1,GO="[object Arguments]",VO="[object Array]",Bp="[object Object]",sce=Object.prototype,qO=sce.hasOwnProperty;function oce(t,e,n,r,i,s){var o=jO(t),a=jO(e),l=o?VO:HO(t),c=a?VO:HO(e);l=l==GO?Bp:l,c=c==GO?Bp:c;var h=l==Bp,f=c==Bp,p=l==c;if(p&&WO(t)){if(!WO(e))return!1;o=!0,h=!1}if(p&&!h)return s||(s=new L1),o||rce(t)?ece(t,e,n,r,i,s):tce(t,e,l,n,r,i,s);if(!(n&ice)){var m=h&&qO.call(t,"__wrapped__"),v=f&&qO.call(e,"__wrapped__");if(m||v){var y=m?t.value():t,x=v?e.value():e;return s||(s=new L1),i(y,x,n,r,s)}}return p?(s||(s=new L1),nce(t,e,n,r,i,s)):!1}var ace=oce,lce=ace,XO=wo;function n5(t,e,n,r,i){return t===e?!0:t==null||e==null||!XO(t)&&!XO(e)?t!==t&&e!==e:lce(t,e,n,r,n5,i)}var r5=n5,uce=CE,cce=r5,hce=1,dce=2;function fce(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],c=t[l],h=a[1];if(o&&a[2]){if(c===void 0&&!(l in t))return!1}else{var f=new uce;if(r)var p=r(c,h,l,t,e,f);if(!(p===void 0?cce(h,c,hce|dce,r,f):p))return!1}}return!0}var pce=fce,mce=_c;function gce(t){return t===t&&!mce(t)}var i5=gce,vce=i5,yce=cf;function bce(t){for(var e=yce(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,vce(i)]}return e}var xce=bce;function wce(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var s5=wce,_ce=pce,Sce=xce,Ece=s5;function Cce(t){var e=Sce(t);return e.length==1&&e[0][2]?Ece(e[0][0],e[0][1]):function(n){return n===t||_ce(n,t,e)}}var Tce=Cce,Ace=wl,Pce=wo,kce="[object Symbol]";function Oce(t){return typeof t=="symbol"||Pce(t)&&Ace(t)==kce}var AE=Oce,Ice=as,Rce=AE,Mce=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fce=/^\w*$/;function Dce(t,e){if(Ice(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Rce(t)?!0:Fce.test(t)||!Mce.test(t)||e!=null&&t in Object(e)}var PE=Dce,o5=EE,Lce="Expected a function";function kE(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Lce);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(kE.Cache||o5),n}kE.Cache=o5;var Bce=kE,Nce=Bce,$ce=500;function Uce(t){var e=Nce(t,function(r){return n.size===$ce&&n.clear(),r}),n=e.cache;return e}var zce=Uce,Hce=zce,jce=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wce=/\\(\\)?/g,Gce=Hce(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(jce,function(n,r,i,s){e.push(i?s.replace(Wce,"$1"):r||n)}),e}),Vce=Gce,YO=uf,qce=q4,Xce=as,Yce=AE,Kce=1/0,KO=YO?YO.prototype:void 0,ZO=KO?KO.toString:void 0;function a5(t){if(typeof t=="string")return t;if(Xce(t))return qce(t,a5)+"";if(Yce(t))return ZO?ZO.call(t):"";var e=t+"";return e=="0"&&1/t==-Kce?"-0":e}var Zce=a5,Qce=Zce;function Jce(t){return t==null?"":Qce(t)}var ehe=Jce,the=as,nhe=PE,rhe=Vce,ihe=ehe;function she(t,e){return the(t)?t:nhe(t,e)?[t]:rhe(ihe(t))}var l5=she,ohe=AE,ahe=1/0;function lhe(t){if(typeof t=="string"||ohe(t))return t;var e=t+"";return e=="0"&&1/t==-ahe?"-0":e}var Wv=lhe,uhe=l5,che=Wv;function hhe(t,e){e=uhe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[che(e[n++])];return n&&n==r?t:void 0}var u5=hhe,dhe=u5;function fhe(t,e,n){var r=t==null?void 0:dhe(t,e);return r===void 0?n:r}var phe=fhe;function mhe(t,e){return t!=null&&e in Object(t)}var ghe=mhe,vhe=l5,yhe=N4,bhe=as,xhe=$4,whe=vE,_he=Wv;function She(t,e,n){e=vhe(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=_he(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&whe(i)&&xhe(o,i)&&(bhe(t)||yhe(t)))}var Ehe=She,Che=ghe,The=Ehe;function Ahe(t,e){return t!=null&&The(t,e,Che)}var Phe=Ahe,khe=r5,Ohe=phe,Ihe=Phe,Rhe=PE,Mhe=i5,Fhe=s5,Dhe=Wv,Lhe=1,Bhe=2;function Nhe(t,e){return Rhe(t)&&Mhe(e)?Fhe(Dhe(t),e):function(n){var r=Ohe(n,t);return r===void 0&&r===e?Ihe(n,t):khe(e,r,Lhe|Bhe)}}var $he=Nhe;function Uhe(t){return function(e){return e==null?void 0:e[t]}}var zhe=Uhe,Hhe=u5;function jhe(t){return function(e){return Hhe(e,t)}}var Whe=jhe,Ghe=zhe,Vhe=Whe,qhe=PE,Xhe=Wv;function Yhe(t){return qhe(t)?Ghe(Xhe(t)):Vhe(t)}var Khe=Yhe,Zhe=Tce,Qhe=$he,Jhe=G4,ede=as,tde=Khe;function nde(t){return typeof t=="function"?t:t==null?Jhe:typeof t=="object"?ede(t)?Qhe(t[0],t[1]):Zhe(t):tde(t)}var rde=nde,ide=Nv;function sde(t,e){return function(n,r){if(n==null)return n;if(!ide(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var ode=sde,ade=W4,lde=ode,ude=lde(ade),cde=ude,hde=cde,dde=Nv;function fde(t,e){var n=-1,r=dde(t)?Array(t.length):[];return hde(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var pde=fde,mde=q4,gde=rde,vde=pde,yde=as;function bde(t,e){var n=yde(t)?mde:vde;return n(t,gde(e))}var xde=bde;Object.defineProperty(lf,"__esModule",{value:!0});lf.flattenNames=void 0;var wde=qre,_de=Gv(wde),Sde=xE,Ede=Gv(Sde),Cde=toe,Tde=Gv(Cde),Ade=xde,Pde=Gv(Ade);function Gv(t){return t&&t.__esModule?t:{default:t}}var kde=lf.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,Pde.default)(e,function(r){Array.isArray(r)?t(r).map(function(i){return n.push(i)}):(0,Tde.default)(r)?(0,Ede.default)(r,function(i,s){i===!0&&n.push(s),n.push(s+"-"+i)}):(0,_de.default)(r)&&n.push(r)}),n};lf.default=kde;var hf={};function Ode(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var Ide=Ode,Rde=_l,Mde=function(){try{var t=Rde(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Fde=Mde,QO=Fde;function Dde(t,e,n){e=="__proto__"&&QO?QO(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var c5=Dde,Lde=c5,Bde=_E,Nde=Object.prototype,$de=Nde.hasOwnProperty;function Ude(t,e,n){var r=t[e];(!($de.call(t,e)&&Bde(r,n))||n===void 0&&!(e in t))&&Lde(t,e,n)}var h5=Ude,zde=h5,Hde=c5;function jde(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?Hde(n,a,l):zde(n,a,l)}return n}var Vv=jde,Wde=Vv,Gde=cf;function Vde(t,e){return t&&Wde(e,Gde(e),t)}var qde=Vde;function Xde(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Yde=Xde,Kde=_c,Zde=bE,Qde=Yde,Jde=Object.prototype,efe=Jde.hasOwnProperty;function tfe(t){if(!Kde(t))return Qde(t);var e=Zde(t),n=[];for(var r in t)r=="constructor"&&(e||!efe.call(t,r))||n.push(r);return n}var nfe=tfe,rfe=z4,ife=nfe,sfe=Nv;function ofe(t){return sfe(t)?rfe(t,!0):ife(t)}var OE=ofe,afe=Vv,lfe=OE;function ufe(t,e){return t&&afe(e,lfe(e),t)}var cfe=ufe,Tg={},hfe={get exports(){return Tg},set exports(t){Tg=t}};(function(t,e){var n=Ms,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(c,h){if(h)return c.slice();var f=c.length,p=a?a(f):new c.constructor(f);return c.copy(p),p}t.exports=l})(hfe,Tg);function dfe(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var ffe=dfe,pfe=Vv,mfe=TE;function gfe(t,e){return pfe(t,mfe(t),e)}var vfe=gfe,yfe=Z4,bfe=wE,xfe=TE,wfe=J4,_fe=Object.getOwnPropertySymbols,Sfe=_fe?function(t){for(var e=[];t;)yfe(e,xfe(t)),t=bfe(t);return e}:wfe,d5=Sfe,Efe=Vv,Cfe=d5;function Tfe(t,e){return Efe(t,Cfe(t),e)}var Afe=Tfe,Pfe=Q4,kfe=d5,Ofe=OE;function Ife(t){return Pfe(t,Ofe,kfe)}var Rfe=Ife,Mfe=Object.prototype,Ffe=Mfe.hasOwnProperty;function Dfe(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Ffe.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Lfe=Dfe,JO=K4;function Bfe(t){var e=new t.constructor(t.byteLength);return new JO(e).set(new JO(t)),e}var IE=Bfe,Nfe=IE;function $fe(t,e){var n=e?Nfe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Ufe=$fe,zfe=/\w*$/;function Hfe(t){var e=new t.constructor(t.source,zfe.exec(t));return e.lastIndex=t.lastIndex,e}var jfe=Hfe,eI=uf,tI=eI?eI.prototype:void 0,nI=tI?tI.valueOf:void 0;function Wfe(t){return nI?Object(nI.call(t)):{}}var Gfe=Wfe,Vfe=IE;function qfe(t,e){var n=e?Vfe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Xfe=qfe,Yfe=IE,Kfe=Ufe,Zfe=jfe,Qfe=Gfe,Jfe=Xfe,epe="[object Boolean]",tpe="[object Date]",npe="[object Map]",rpe="[object Number]",ipe="[object RegExp]",spe="[object Set]",ope="[object String]",ape="[object Symbol]",lpe="[object ArrayBuffer]",upe="[object DataView]",cpe="[object Float32Array]",hpe="[object Float64Array]",dpe="[object Int8Array]",fpe="[object Int16Array]",ppe="[object Int32Array]",mpe="[object Uint8Array]",gpe="[object Uint8ClampedArray]",vpe="[object Uint16Array]",ype="[object Uint32Array]";function bpe(t,e,n){var r=t.constructor;switch(e){case lpe:return Yfe(t);case epe:case tpe:return new r(+t);case upe:return Kfe(t,n);case cpe:case hpe:case dpe:case fpe:case ppe:case mpe:case gpe:case vpe:case ype:return Jfe(t,n);case npe:return new r;case rpe:case ope:return new r(t);case ipe:return Zfe(t);case spe:return new r;case ape:return Qfe(t)}}var xpe=bpe,wpe=_c,rI=Object.create,_pe=function(){function t(){}return function(e){if(!wpe(e))return{};if(rI)return rI(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Spe=_pe,Epe=Spe,Cpe=wE,Tpe=bE;function Ape(t){return typeof t.constructor=="function"&&!Tpe(t)?Epe(Cpe(t)):{}}var Ppe=Ape,kpe=jv,Ope=wo,Ipe="[object Map]";function Rpe(t){return Ope(t)&&kpe(t)==Ipe}var Mpe=Rpe,Fpe=Mpe,Dpe=yE,iI=nc,sI=iI&&iI.isMap,Lpe=sI?Dpe(sI):Fpe,Bpe=Lpe,Npe=jv,$pe=wo,Upe="[object Set]";function zpe(t){return $pe(t)&&Npe(t)==Upe}var Hpe=zpe,jpe=Hpe,Wpe=yE,oI=nc,aI=oI&&oI.isSet,Gpe=aI?Wpe(aI):jpe,Vpe=Gpe,qpe=CE,Xpe=Ide,Ype=h5,Kpe=qde,Zpe=cfe,Qpe=Tg,Jpe=ffe,eme=vfe,tme=Afe,nme=e5,rme=Rfe,ime=jv,sme=Lfe,ome=xpe,ame=Ppe,lme=as,ume=tc,cme=Bpe,hme=_c,dme=Vpe,fme=cf,pme=OE,mme=1,gme=2,vme=4,f5="[object Arguments]",yme="[object Array]",bme="[object Boolean]",xme="[object Date]",wme="[object Error]",p5="[object Function]",_me="[object GeneratorFunction]",Sme="[object Map]",Eme="[object Number]",m5="[object Object]",Cme="[object RegExp]",Tme="[object Set]",Ame="[object String]",Pme="[object Symbol]",kme="[object WeakMap]",Ome="[object ArrayBuffer]",Ime="[object DataView]",Rme="[object Float32Array]",Mme="[object Float64Array]",Fme="[object Int8Array]",Dme="[object Int16Array]",Lme="[object Int32Array]",Bme="[object Uint8Array]",Nme="[object Uint8ClampedArray]",$me="[object Uint16Array]",Ume="[object Uint32Array]",Pt={};Pt[f5]=Pt[yme]=Pt[Ome]=Pt[Ime]=Pt[bme]=Pt[xme]=Pt[Rme]=Pt[Mme]=Pt[Fme]=Pt[Dme]=Pt[Lme]=Pt[Sme]=Pt[Eme]=Pt[m5]=Pt[Cme]=Pt[Tme]=Pt[Ame]=Pt[Pme]=Pt[Bme]=Pt[Nme]=Pt[$me]=Pt[Ume]=!0;Pt[wme]=Pt[p5]=Pt[kme]=!1;function Im(t,e,n,r,i,s){var o,a=e&mme,l=e&gme,c=e&vme;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!hme(t))return t;var h=lme(t);if(h){if(o=sme(t),!a)return Jpe(t,o)}else{var f=ime(t),p=f==p5||f==_me;if(ume(t))return Qpe(t,a);if(f==m5||f==f5||p&&!i){if(o=l||p?{}:ame(t),!a)return l?tme(t,Zpe(o,t)):eme(t,Kpe(o,t))}else{if(!Pt[f])return i?t:{};o=ome(t,f,a)}}s||(s=new qpe);var m=s.get(t);if(m)return m;s.set(t,o),dme(t)?t.forEach(function(x){o.add(Im(x,e,n,x,t,s))}):cme(t)&&t.forEach(function(x,b){o.set(b,Im(x,e,n,b,t,s))});var v=c?l?rme:nme:l?pme:fme,y=h?void 0:v(t);return Xpe(y||t,function(x,b){y&&(b=x,x=t[b]),Ype(o,b,Im(x,e,n,b,t,s))}),o}var zme=Im,Hme=zme,jme=1,Wme=4;function Gme(t){return Hme(t,jme|Wme)}var Vme=Gme;Object.defineProperty(hf,"__esModule",{value:!0});hf.mergeClasses=void 0;var qme=xE,Xme=g5(qme),Yme=Vme,Kme=g5(Yme),Zme=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function g5(t){return t&&t.__esModule?t:{default:t}}var Qme=hf.mergeClasses=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,Kme.default)(e.default)||{};return n.map(function(i){var s=e[i];return s&&(0,Xme.default)(s,function(o,a){r[a]||(r[a]={}),r[a]=Zme({},r[a],s[a])}),i}),r};hf.default=Qme;var df={};Object.defineProperty(df,"__esModule",{value:!0});df.autoprefix=void 0;var Jme=xE,lI=tge(Jme),ege=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function tge(t){return t&&t.__esModule?t:{default:t}}var nge={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var n=e&&e.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(e,n){var r=n[e];return r||{extend:e}}},rge=df.autoprefix=function(e){var n={};return(0,lI.default)(e,function(r,i){var s={};(0,lI.default)(r,function(o,a){var l=nge[a];l?s=ege({},s,l(o)):s[a]=o}),n[i]=s}),n};df.default=rge;var ff={};Object.defineProperty(ff,"__esModule",{value:!0});ff.hover=void 0;var ige=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sge=T,B1=oge(sge);function oge(t){return t&&t.__esModule?t:{default:t}}function age(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uI(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function lge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var uge=ff.hover=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){lge(i,r);function i(){var s,o,a,l;age(this,i);for(var c=arguments.length,h=Array(c),f=0;f<c;f++)h[f]=arguments[f];return l=(o=(a=uI(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(h))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return B1.default.createElement(n,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},B1.default.createElement(e,ige({},a.props,a.state)))},o),uI(a,l)}return i}(B1.default.Component)};ff.default=uge;var pf={};Object.defineProperty(pf,"__esModule",{value:!0});pf.active=void 0;var cge=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hge=T,N1=dge(hge);function dge(t){return t&&t.__esModule?t:{default:t}}function fge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cI(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function pge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var mge=pf.active=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){pge(i,r);function i(){var s,o,a,l;fge(this,i);for(var c=arguments.length,h=Array(c),f=0;f<c;f++)h[f]=arguments[f];return l=(o=(a=cI(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(h))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return N1.default.createElement(n,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},N1.default.createElement(e,cge({},a.props,a.state)))},o),cI(a,l)}return i}(N1.default.Component)};pf.default=mge;var RE={};Object.defineProperty(RE,"__esModule",{value:!0});var gge=function(e,n){var r={},i=function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[o]=a};return e===0&&i("first-child"),e===n-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),r};RE.default=gge;Object.defineProperty(fi,"__esModule",{value:!0});fi.ReactCSS=fi.loop=fi.handleActive=ME=fi.handleHover=fi.hover=void 0;var vge=lf,yge=Pc(vge),bge=hf,xge=Pc(bge),wge=df,_ge=Pc(wge),Sge=ff,v5=Pc(Sge),Ege=pf,Cge=Pc(Ege),Tge=RE,Age=Pc(Tge);function Pc(t){return t&&t.__esModule?t:{default:t}}fi.hover=v5.default;var ME=fi.handleHover=v5.default;fi.handleActive=Cge.default;fi.loop=Age.default;var Pge=fi.ReactCSS=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=(0,yge.default)(r),o=(0,xge.default)(e,s);return(0,_ge.default)(o)},$e=fi.default=Pge,kge=function(e,n,r,i,s){var o=s.clientWidth,a=s.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,c=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,h=l-(s.getBoundingClientRect().left+window.pageXOffset),f=c-(s.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var p=void 0;if(f<0?p=0:f>a?p=1:p=Math.round(f*100/a)/100,n.a!==p)return{h:n.h,s:n.s,l:n.l,a:p,source:"rgb"}}else{var m=void 0;if(h<0?m=0:h>o?m=1:m=Math.round(h*100/o)/100,i!==m)return{h:n.h,s:n.s,l:n.l,a:m,source:"rgb"}}return null},$1={},Oge=function(e,n,r,i){if(typeof document>"u"&&!i)return null;var s=i?new i:document.createElement("canvas");s.width=r*2,s.height=r*2;var o=s.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,s.width,s.height),o.fillStyle=n,o.fillRect(0,0,r,r),o.translate(r,r),o.fillRect(0,0,r,r),s.toDataURL()):null},Ige=function(e,n,r,i){var s=e+"-"+n+"-"+r+(i?"-server":"");if($1[s])return $1[s];var o=Oge(e,n,r,i);return $1[s]=o,o},hI=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kc=function(e){var n=e.white,r=e.grey,i=e.size,s=e.renderers,o=e.borderRadius,a=e.boxShadow,l=e.children,c=$e({default:{grid:{borderRadius:o,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+Ige(n,r,i,s.canvas)+") center left"}}});return T.isValidElement(l)?P.cloneElement(l,hI({},l.props,{style:hI({},l.props.style,c.grid)})):P.createElement("div",{style:c.grid})};kc.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var Rge=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mge=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Fge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dI(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Dge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var FE=function(t){Dge(e,t);function e(){var n,r,i,s;Fge(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=dI(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(c){var h=kge(c,i.props.hsl,i.props.direction,i.props.a,i.container);h&&typeof i.props.onChange=="function"&&i.props.onChange(h,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),dI(i,s)}return Mge(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,s=$e({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:Rge({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return P.createElement("div",{style:s.alpha},P.createElement("div",{style:s.checkboard},P.createElement(kc,{renderers:this.props.renderers})),P.createElement("div",{style:s.gradient}),P.createElement("div",{style:s.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},P.createElement("div",{style:s.pointer},this.props.pointer?P.createElement(this.props.pointer,this.props):P.createElement("div",{style:s.slider}))))}}]),e}(T.PureComponent||T.Component),Lge=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Bge(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $ge(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Uge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var zge=1,y5=38,Hge=40,jge=[y5,Hge],Wge=function(e){return jge.indexOf(e)>-1},Gge=function(e){return Number(String(e).replace(/%/g,""))},Vge=1,lt=function(t){Uge(e,t);function e(n){Nge(this,e);var r=$ge(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var s=Gge(i.target.value);if(!isNaN(s)&&Wge(i.keyCode)){var o=r.getArrowOffset(),a=i.keyCode===y5?s+o:s-o;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var s=Math.round(r.props.value+i.movementX);s>=0&&s<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(s),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+Vge++,r}return Lge(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return Bge({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||zge}},{key:"setUpdatedValue",value:function(r,i){var s=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(s,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=$e({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return P.createElement("div",{style:i.wrap},P.createElement("input",{id:this.inputId,style:i.input,ref:function(o){return r.input=o},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?P.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(T.PureComponent||T.Component),qge=function(e,n,r,i){var s=i.clientWidth,o=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=a-(i.getBoundingClientRect().left+window.pageXOffset),h=l-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var f=void 0;if(h<0)f=359;else if(h>o)f=0;else{var p=-(h*100/o)+100;f=360*p/100}if(r.h!==f)return{h:f,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var m=void 0;if(c<0)m=0;else if(c>s)m=359;else{var v=c*100/s;m=360*v/100}if(r.h!==m)return{h:m,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},Xge=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Yge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fI(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Kge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Oc=function(t){Kge(e,t);function e(){var n,r,i,s;Yge(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=fI(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(c){var h=qge(c,i.props.direction,i.props.hsl,i.container);h&&typeof i.props.onChange=="function"&&i.props.onChange(h,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),fI(i,s)}return Xge(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,s=i===void 0?"horizontal":i,o=$e({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:s==="vertical"});return P.createElement("div",{style:o.hue},P.createElement("div",{className:"hue-"+s,style:o.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},P.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),P.createElement("div",{style:o.pointer},this.props.pointer?P.createElement(this.props.pointer,this.props):P.createElement("div",{style:o.slider}))))}}]),e}(T.PureComponent||T.Component),mf=function(e){var n=e.zDepth,r=e.radius,i=e.background,s=e.children,o=e.styles,a=o===void 0?{}:o,l=$e(yr({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":n===1});return P.createElement("div",{style:l.wrap},P.createElement("div",{style:l.bg}),P.createElement("div",{style:l.content},s))};mf.propTypes={background:B.string,zDepth:B.oneOf([0,1,2,3,4,5]),radius:B.number,styles:B.object};mf.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var Zge=function(e,n,r){var i=r.getBoundingClientRect(),s=i.width,o=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=a-(r.getBoundingClientRect().left+window.pageXOffset),h=l-(r.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>s&&(c=s),h<0?h=0:h>o&&(h=o);var f=c/s,p=1-h/o;return{h:n.h,s:f,v:p,a:n.a,source:"hsv"}},Qge=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Jge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eve(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function tve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var qv=function(t){tve(e,t);function e(n){Jge(this,e);var r=eve(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,Zge(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var s=r.getContainerRenderWindow();s.addEventListener("mousemove",r.handleChange),s.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=lZ(function(i,s,o){i(s,o)},50),r}return Qge(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},s=i.color,o=i.white,a=i.black,l=i.pointer,c=i.circle,h=$e({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:s,white:o,black:a,pointer:l,circle:c}},{custom:!!this.props.style});return P.createElement("div",{style:h.color,ref:function(p){return r.container=p},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},P.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),P.createElement("div",{style:h.white,className:"saturation-white"},P.createElement("div",{style:h.black,className:"saturation-black"}),P.createElement("div",{style:h.pointer},this.props.pointer?P.createElement(this.props.pointer,this.props):P.createElement("div",{style:h.circle}))))}}]),e}(T.PureComponent||T.Component);function Ag(t){return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ag(t)}var nve=/^\s+/,rve=/\s+$/;function Ae(t,e){if(t=t||"",e=e||{},t instanceof Ae)return t;if(!(this instanceof Ae))return new Ae(t,e);var n=ive(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}Ae.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,s,o,a;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(e){return this._a=b5(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=mI(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=mI(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=pI(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=pI(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return gI(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return lve(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Ht(this._r,255)*100)+"%",g:Math.round(Ht(this._g,255)*100)+"%",b:Math.round(Ht(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Ht(this._r,255)*100)+"%, "+Math.round(Ht(this._g,255)*100)+"%, "+Math.round(Ht(this._b,255)*100)+"%)":"rgba("+Math.round(Ht(this._r,255)*100)+"%, "+Math.round(Ht(this._g,255)*100)+"%, "+Math.round(Ht(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:xve[gI(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+vI(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=Ae(e);r="#"+vI(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Ae(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(dve,arguments)},brighten:function(){return this._applyModification(fve,arguments)},darken:function(){return this._applyModification(pve,arguments)},desaturate:function(){return this._applyModification(uve,arguments)},saturate:function(){return this._applyModification(cve,arguments)},greyscale:function(){return this._applyModification(hve,arguments)},spin:function(){return this._applyModification(mve,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(yve,arguments)},complement:function(){return this._applyCombination(gve,arguments)},monochromatic:function(){return this._applyCombination(bve,arguments)},splitcomplement:function(){return this._applyCombination(vve,arguments)},triad:function(){return this._applyCombination(yI,[3])},tetrad:function(){return this._applyCombination(yI,[4])}};Ae.fromRatio=function(t,e){if(Ag(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=Th(t[r]));t=n}return Ae(t,e)};function ive(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,o=!1,a=!1;return typeof t=="string"&&(t=Eve(t)),Ag(t)=="object"&&(Vs(t.r)&&Vs(t.g)&&Vs(t.b)?(e=sve(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Vs(t.h)&&Vs(t.s)&&Vs(t.v)?(r=Th(t.s),i=Th(t.v),e=ave(t.h,r,i),o=!0,a="hsv"):Vs(t.h)&&Vs(t.s)&&Vs(t.l)&&(r=Th(t.s),s=Th(t.l),e=ove(t.h,r,s),o=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=b5(n),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function sve(t,e,n){return{r:Ht(t,255)*255,g:Ht(e,255)*255,b:Ht(n,255)*255}}function pI(t,e,n){t=Ht(t,255),e=Ht(e,255),n=Ht(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=(r+i)/2;if(r==i)s=o=0;else{var l=r-i;switch(o=a>.5?l/(2-r-i):l/(r+i),r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,l:a}}function ove(t,e,n){var r,i,s;t=Ht(t,360),e=Ht(e,100),n=Ht(n,100);function o(c,h,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?c+(h-c)*6*f:f<1/2?h:f<2/3?c+(h-c)*(2/3-f)*6:c}if(e===0)r=i=s=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=o(l,a,t+1/3),i=o(l,a,t),s=o(l,a,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function mI(t,e,n){t=Ht(t,255),e=Ht(e,255),n=Ht(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=r,l=r-i;if(o=r===0?0:l/r,r==i)s=0;else{switch(r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,v:a}}function ave(t,e,n){t=Ht(t,360)*6,e=Ht(e,100),n=Ht(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),o=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,c=[n,o,s,s,a,n][l],h=[a,n,n,o,s,s][l],f=[s,s,a,n,n,o][l];return{r:c*255,g:h*255,b:f*255}}function gI(t,e,n,r){var i=[Vi(Math.round(t).toString(16)),Vi(Math.round(e).toString(16)),Vi(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function lve(t,e,n,r,i){var s=[Vi(Math.round(t).toString(16)),Vi(Math.round(e).toString(16)),Vi(Math.round(n).toString(16)),Vi(x5(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function vI(t,e,n,r){var i=[Vi(x5(r)),Vi(Math.round(t).toString(16)),Vi(Math.round(e).toString(16)),Vi(Math.round(n).toString(16))];return i.join("")}Ae.equals=function(t,e){return!t||!e?!1:Ae(t).toRgbString()==Ae(e).toRgbString()};Ae.random=function(){return Ae.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function uve(t,e){e=e===0?0:e||10;var n=Ae(t).toHsl();return n.s-=e/100,n.s=Xv(n.s),Ae(n)}function cve(t,e){e=e===0?0:e||10;var n=Ae(t).toHsl();return n.s+=e/100,n.s=Xv(n.s),Ae(n)}function hve(t){return Ae(t).desaturate(100)}function dve(t,e){e=e===0?0:e||10;var n=Ae(t).toHsl();return n.l+=e/100,n.l=Xv(n.l),Ae(n)}function fve(t,e){e=e===0?0:e||10;var n=Ae(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),Ae(n)}function pve(t,e){e=e===0?0:e||10;var n=Ae(t).toHsl();return n.l-=e/100,n.l=Xv(n.l),Ae(n)}function mve(t,e){var n=Ae(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,Ae(n)}function gve(t){var e=Ae(t).toHsl();return e.h=(e.h+180)%360,Ae(e)}function yI(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Ae(t).toHsl(),r=[Ae(t)],i=360/e,s=1;s<e;s++)r.push(Ae({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function vve(t){var e=Ae(t).toHsl(),n=e.h;return[Ae(t),Ae({h:(n+72)%360,s:e.s,l:e.l}),Ae({h:(n+216)%360,s:e.s,l:e.l})]}function yve(t,e,n){e=e||6,n=n||30;var r=Ae(t).toHsl(),i=360/n,s=[Ae(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(Ae(r));return s}function bve(t,e){e=e||6;for(var n=Ae(t).toHsv(),r=n.h,i=n.s,s=n.v,o=[],a=1/e;e--;)o.push(Ae({h:r,s:i,v:s})),s=(s+a)%1;return o}Ae.mix=function(t,e,n){n=n===0?0:n||50;var r=Ae(t).toRgb(),i=Ae(e).toRgb(),s=n/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return Ae(o)};Ae.readability=function(t,e){var n=Ae(t),r=Ae(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};Ae.isReadable=function(t,e,n){var r=Ae.readability(t,e),i,s;switch(s=!1,i=Cve(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};Ae.mostReadable=function(t,e,n){var r=null,i=0,s,o,a,l;n=n||{},o=n.includeFallbackColors,a=n.level,l=n.size;for(var c=0;c<e.length;c++)s=Ae.readability(t,e[c]),s>i&&(i=s,r=Ae(e[c]));return Ae.isReadable(t,r,{level:a,size:l})||!o?r:(n.includeFallbackColors=!1,Ae.mostReadable(t,["#fff","#000"],n))};var Pw=Ae.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},xve=Ae.hexNames=wve(Pw);function wve(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function b5(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Ht(t,e){_ve(t)&&(t="100%");var n=Sve(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function Xv(t){return Math.min(1,Math.max(0,t))}function kr(t){return parseInt(t,16)}function _ve(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function Sve(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Vi(t){return t.length==1?"0"+t:""+t}function Th(t){return t<=1&&(t=t*100+"%"),t}function x5(t){return Math.round(parseFloat(t)*255).toString(16)}function bI(t){return kr(t)/255}var $i=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Vs(t){return!!$i.CSS_UNIT.exec(t)}function Eve(t){t=t.replace(nve,"").replace(rve,"").toLowerCase();var e=!1;if(Pw[t])t=Pw[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=$i.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=$i.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=$i.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=$i.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=$i.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=$i.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=$i.hex8.exec(t))?{r:kr(n[1]),g:kr(n[2]),b:kr(n[3]),a:bI(n[4]),format:e?"name":"hex8"}:(n=$i.hex6.exec(t))?{r:kr(n[1]),g:kr(n[2]),b:kr(n[3]),format:e?"name":"hex"}:(n=$i.hex4.exec(t))?{r:kr(n[1]+""+n[1]),g:kr(n[2]+""+n[2]),b:kr(n[3]+""+n[3]),a:bI(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=$i.hex3.exec(t))?{r:kr(n[1]+""+n[1]),g:kr(n[2]+""+n[2]),b:kr(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function Cve(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var xI=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return vt(n,function(s){if(e[s]&&(r+=1,isNaN(e[s])||(i+=1),s==="s"||s==="l")){var o=/^\d+%$/;o.test(e[s])&&(i+=1)}}),r===i?e:!1},Ah=function(e,n){var r=e.hex?Ae(e.hex):Ae(e),i=r.toHsl(),s=r.toHsv(),o=r.toRgb(),a=r.toHex();i.s===0&&(i.h=n||0,s.h=n||0);var l=a==="000000"&&o.a===0;return{hsl:i,hex:l?"transparent":"#"+a,rgb:o,hsv:s,oldHue:e.h||n||i.h,source:e.source}},pa=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&Ae(e).isValid()},DE=function(e){if(!e)return"#fff";var n=Ah(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},U1=function(e,n){var r=e.replace("°","");return Ae(n+" ("+r+")")._ok},lh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tve=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Ave(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pve(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function kve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var br=function(e){var n=function(r){kve(i,r);function i(s){Ave(this,i);var o=Pve(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return o.handleChange=function(a,l){var c=xI(a);if(c){var h=Ah(a,a.h||o.state.oldHue);o.setState(h),o.props.onChangeComplete&&o.debounce(o.props.onChangeComplete,h,l),o.props.onChange&&o.props.onChange(h,l)}},o.handleSwatchHover=function(a,l){var c=xI(a);if(c){var h=Ah(a,a.h||o.state.oldHue);o.props.onSwatchHover&&o.props.onSwatchHover(h,l)}},o.state=lh({},Ah(s.color,0)),o.debounce=BD(function(a,l,c){a(l,c)},100),o}return Tve(i,[{key:"render",value:function(){var o={};return this.props.onSwatchHover&&(o.onSwatchHover=this.handleSwatchHover),P.createElement(e,lh({},this.props,this.state,{onChange:this.handleChange},o))}}],[{key:"getDerivedStateFromProps",value:function(o,a){return lh({},Ah(o.color,a.oldHue))}}]),i}(T.PureComponent||T.Component);return n.propTypes=lh({},e.propTypes),n.defaultProps=lh({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},Ove=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ive=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Rve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wI(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Mve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Fve=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){Mve(i,r);function i(){var s,o,a,l;Rve(this,i);for(var c=arguments.length,h=Array(c),f=0;f<c;f++)h[f]=arguments[f];return l=(o=(a=wI(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(h))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},o),wI(a,l)}return Ive(i,[{key:"render",value:function(){return P.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},P.createElement(e,Ove({},this.props,this.state)))}}]),i}(P.Component)},_I=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dve=13,Lve=function(e){var n=e.color,r=e.style,i=e.onClick,s=i===void 0?function(){}:i,o=e.onHover,a=e.title,l=a===void 0?n:a,c=e.children,h=e.focus,f=e.focusStyle,p=f===void 0?{}:f,m=n==="transparent",v=$e({default:{swatch:_I({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,h?p:{})}}),y=function(E){return s(n,E)},x=function(E){return E.keyCode===Dve&&s(n,E)},b=function(E){return o(n,E)},S={};return o&&(S.onMouseOver=b),P.createElement("div",_I({style:v.swatch,onClick:y,title:l,tabIndex:0,onKeyDown:x},S),c,m&&P.createElement(kc,{borderRadius:v.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const Sl=Fve(Lve);var Bve=function(e){var n=e.direction,r=$e({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return P.createElement("div",{style:r.picker})},Nve=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w5=function(e){var n=e.rgb,r=e.hsl,i=e.width,s=e.height,o=e.onChange,a=e.direction,l=e.style,c=e.renderers,h=e.pointer,f=e.className,p=f===void 0?"":f,m=$e({default:{picker:{position:"relative",width:i,height:s},alpha:{radius:"2px",style:l}}});return P.createElement("div",{style:m.picker,className:"alpha-picker "+p},P.createElement(FE,Nve({},m.alpha,{rgb:n,hsl:r,pointer:h,renderers:c,onChange:o,direction:a})))};w5.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:Bve};br(w5);var $ve=function(e){var n=e.colors,r=e.onClick,i=e.onSwatchHover,s=$e({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return P.createElement("div",{style:s.swatches},ze(n,function(o){return P.createElement(Sl,{key:o,color:o,style:s.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+o}})}),P.createElement("div",{style:s.clear}))},LE=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,c=l===void 0?{}:l,h=e.className,f=h===void 0?"":h,p=i==="transparent",m=function(x,b){pa(x)&&n({hex:x,source:"hex"},b)},v=$e(yr({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:DE(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},c),{"hide-triangle":a==="hide"});return P.createElement("div",{style:v.card,className:"block-picker "+f},P.createElement("div",{style:v.triangle}),P.createElement("div",{style:v.head},p&&P.createElement(kc,{borderRadius:"6px 6px 0 0"}),P.createElement("div",{style:v.label},i)),P.createElement("div",{style:v.body},P.createElement($ve,{colors:s,onClick:m,onSwatchHover:r}),P.createElement(lt,{style:{input:v.input},value:i,onChange:m})))};LE.propTypes={width:B.oneOfType([B.string,B.number]),colors:B.arrayOf(B.string),triangle:B.oneOf(["top","hide"]),styles:B.object};LE.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};br(LE);var Kl={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},Zl={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},Ql={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},Jl={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},eu={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},tu={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},nu={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},ru={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},iu={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},Ph={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},su={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},ou={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},au={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},lu={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},uu={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},cu={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},hu={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},du={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},_5=function(e){var n=e.color,r=e.onClick,i=e.onSwatchHover,s=e.hover,o=e.active,a=e.circleSize,l=e.circleSpacing,c=$e({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:s,active:o});return P.createElement("div",{style:c.swatch},P.createElement(Sl,{style:c.Swatch,color:n,onClick:r,onHover:i,focusStyle:{boxShadow:c.Swatch.boxShadow+", 0 0 5px "+n}}))};_5.defaultProps={circleSize:28,circleSpacing:14};const Uve=ME(_5);var BE=function(e){var n=e.width,r=e.onChange,i=e.onSwatchHover,s=e.colors,o=e.hex,a=e.circleSize,l=e.styles,c=l===void 0?{}:l,h=e.circleSpacing,f=e.className,p=f===void 0?"":f,m=$e(yr({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-h,marginBottom:-h}}},c)),v=function(x,b){return r({hex:x,source:"hex"},b)};return P.createElement("div",{style:m.card,className:"circle-picker "+p},ze(s,function(y){return P.createElement(Uve,{key:y,color:y,onClick:v,onSwatchHover:i,active:o===y.toLowerCase(),circleSize:a,circleSpacing:h})}))};BE.propTypes={width:B.oneOfType([B.string,B.number]),circleSize:B.number,circleSpacing:B.number,styles:B.object};BE.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Kl[500],Zl[500],Ql[500],Jl[500],eu[500],tu[500],nu[500],ru[500],iu[500],Ph[500],su[500],ou[500],au[500],lu[500],uu[500],cu[500],hu[500],du[500]],styles:{}};const zve=br(BE);var S5={};Object.defineProperty(S5,"__esModule",{value:!0});var SI=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hve=T,EI=jve(Hve);function jve(t){return t&&t.__esModule?t:{default:t}}function Wve(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var Np=24,Gve=S5.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?Np:r,s=t.height,o=s===void 0?Np:s,a=t.style,l=a===void 0?{}:a,c=Wve(t,["fill","width","height","style"]);return EI.default.createElement("svg",SI({viewBox:"0 0 "+Np+" "+Np,style:SI({fill:n,width:i,height:o},l)},c),EI.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},Vve=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function qve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xve(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Yve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var E5=function(t){Yve(e,t);function e(n){qve(this,e);var r=Xve(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,s){i.hex?pa(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},s):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},s):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},s)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(Mr(i.s)?r.props.hsl.s:i.s),l:Number(Mr(i.l)?r.props.hsl.l:i.l),source:"hsl"},s))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return Vve(e,[{key:"render",value:function(){var r=this,i=$e({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),s=void 0;return this.state.view==="hex"?s=P.createElement("div",{style:i.fields,className:"flexbox-fix"},P.createElement("div",{style:i.field},P.createElement(lt,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?s=P.createElement("div",{style:i.fields,className:"flexbox-fix"},P.createElement("div",{style:i.field},P.createElement(lt,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),P.createElement("div",{style:i.field},P.createElement(lt,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),P.createElement("div",{style:i.field},P.createElement(lt,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),P.createElement("div",{style:i.alpha},P.createElement(lt,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(s=P.createElement("div",{style:i.fields,className:"flexbox-fix"},P.createElement("div",{style:i.field},P.createElement(lt,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),P.createElement("div",{style:i.field},P.createElement(lt,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),P.createElement("div",{style:i.field},P.createElement(lt,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),P.createElement("div",{style:i.alpha},P.createElement(lt,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),P.createElement("div",{style:i.wrap,className:"flexbox-fix"},s,P.createElement("div",{style:i.toggle},P.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},P.createElement(Gve,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(P.Component);E5.defaultProps={view:"hex"};var CI=function(){var e=$e({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return P.createElement("div",{style:e.picker})},Kve=function(){var e=$e({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return P.createElement("div",{style:e.picker})},NE=function(e){var n=e.width,r=e.onChange,i=e.disableAlpha,s=e.rgb,o=e.hsl,a=e.hsv,l=e.hex,c=e.renderers,h=e.styles,f=h===void 0?{}:h,p=e.className,m=p===void 0?"":p,v=e.defaultView,y=$e(yr({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+s.r+", "+s.g+", "+s.b+", "+s.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},f),{disableAlpha:i});return P.createElement("div",{style:y.picker,className:"chrome-picker "+m},P.createElement("div",{style:y.saturation},P.createElement(qv,{style:y.Saturation,hsl:o,hsv:a,pointer:Kve,onChange:r})),P.createElement("div",{style:y.body},P.createElement("div",{style:y.controls,className:"flexbox-fix"},P.createElement("div",{style:y.color},P.createElement("div",{style:y.swatch},P.createElement("div",{style:y.active}),P.createElement(kc,{renderers:c}))),P.createElement("div",{style:y.toggles},P.createElement("div",{style:y.hue},P.createElement(Oc,{style:y.Hue,hsl:o,pointer:CI,onChange:r})),P.createElement("div",{style:y.alpha},P.createElement(FE,{style:y.Alpha,rgb:s,hsl:o,pointer:CI,renderers:c,onChange:r})))),P.createElement(E5,{rgb:s,hsl:o,hex:l,view:v,onChange:r,disableAlpha:i})))};NE.propTypes={width:B.oneOfType([B.string,B.number]),disableAlpha:B.bool,styles:B.object,defaultView:B.oneOf(["hex","rgb","hsl"])};NE.defaultProps={width:225,disableAlpha:!1,styles:{}};const Zve=br(NE);var Qve=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.active,a=$e({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:DE(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return P.createElement(Sl,{style:a.color,color:n,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n}},P.createElement("div",{style:a.dot}))},Jve=function(e){var n=e.hex,r=e.rgb,i=e.onChange,s=$e({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(l,c){l.r||l.g||l.b?i({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},c):i({hex:l.hex,source:"hex"},c)};return P.createElement("div",{style:s.fields,className:"flexbox-fix"},P.createElement("div",{style:s.active}),P.createElement(lt,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:n,onChange:o}),P.createElement(lt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:o}),P.createElement(lt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:o}),P.createElement(lt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:o}))},$E=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.colors,s=e.hex,o=e.rgb,a=e.styles,l=a===void 0?{}:a,c=e.className,h=c===void 0?"":c,f=$e(yr({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),p=function(v,y){v.hex?pa(v.hex)&&n({hex:v.hex,source:"hex"},y):n(v,y)};return P.createElement(mf,{style:f.Compact,styles:l},P.createElement("div",{style:f.compact,className:"compact-picker "+h},P.createElement("div",null,ze(i,function(m){return P.createElement(Qve,{key:m,color:m,active:m.toLowerCase()===s,onClick:p,onSwatchHover:r})}),P.createElement("div",{style:f.clear})),P.createElement(Jve,{hex:s,rgb:o,onChange:p})))};$E.propTypes={colors:B.arrayOf(B.string),styles:B.object};$E.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};br($E);var e0e=function(e){var n=e.hover,r=e.color,i=e.onClick,s=e.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=$e({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:n});return P.createElement("div",{style:a.swatch},P.createElement(Sl,{color:r,onClick:i,onHover:s,focusStyle:o}))};const t0e=ME(e0e);var UE=function(e){var n=e.width,r=e.colors,i=e.onChange,s=e.onSwatchHover,o=e.triangle,a=e.styles,l=a===void 0?{}:a,c=e.className,h=c===void 0?"":c,f=$e(yr({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":o==="hide","top-left-triangle":o==="top-left","top-right-triangle":o==="top-right","bottom-left-triangle":o==="bottom-left","bottom-right-triangle":o==="bottom-right"}),p=function(v,y){return i({hex:v,source:"hex"},y)};return P.createElement("div",{style:f.card,className:"github-picker "+h},P.createElement("div",{style:f.triangleShadow}),P.createElement("div",{style:f.triangle}),ze(r,function(m){return P.createElement(t0e,{color:m,key:m,onClick:p,onSwatchHover:s})}))};UE.propTypes={width:B.oneOfType([B.string,B.number]),colors:B.arrayOf(B.string),triangle:B.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:B.object};UE.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};br(UE);var n0e=function(e){var n=e.direction,r=$e({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return P.createElement("div",{style:r.picker})},r0e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zE=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.hsl,o=e.direction,a=e.pointer,l=e.styles,c=l===void 0?{}:l,h=e.className,f=h===void 0?"":h,p=$e(yr({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},c)),m=function(y){return i({a:1,h:y.h,l:.5,s:1})};return P.createElement("div",{style:p.picker,className:"hue-picker "+f},P.createElement(Oc,r0e({},p.hue,{hsl:s,pointer:a,onChange:m,direction:o})))};zE.propTypes={styles:B.object};zE.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:n0e,styles:{}};br(zE);var i0e=function(e){var n=e.onChange,r=e.hex,i=e.rgb,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,c=$e(yr({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},o)),h=function(p,m){p.hex?pa(p.hex)&&n({hex:p.hex,source:"hex"},m):(p.r||p.g||p.b)&&n({r:p.r||i.r,g:p.g||i.g,b:p.b||i.b,source:"rgb"},m)};return P.createElement(mf,{styles:o},P.createElement("div",{style:c.material,className:"material-picker "+l},P.createElement(lt,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"hex",value:r,onChange:h}),P.createElement("div",{style:c.split,className:"flexbox-fix"},P.createElement("div",{style:c.third},P.createElement(lt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:i.r,onChange:h})),P.createElement("div",{style:c.third},P.createElement(lt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:i.g,onChange:h})),P.createElement("div",{style:c.third},P.createElement(lt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:i.b,onChange:h})))))};br(i0e);var s0e=function(e){var n=e.onChange,r=e.rgb,i=e.hsv,s=e.hex,o=$e({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(c,h){c["#"]?pa(c["#"])&&n({hex:c["#"],source:"hex"},h):c.r||c.g||c.b?n({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,source:"rgb"},h):(c.h||c.s||c.v)&&n({h:c.h||i.h,s:c.s||i.s,v:c.v||i.v,source:"hsv"},h)};return P.createElement("div",{style:o.fields},P.createElement(lt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(i.h),onChange:a}),P.createElement(lt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:a}),P.createElement(lt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:a}),P.createElement("div",{style:o.divider}),P.createElement(lt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:a}),P.createElement(lt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:a}),P.createElement(lt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:a}),P.createElement("div",{style:o.divider}),P.createElement(lt,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:s.replace("#",""),onChange:a}),P.createElement("div",{style:o.fieldSymbols},P.createElement("div",{style:o.symbol},"°"),P.createElement("div",{style:o.symbol},"%"),P.createElement("div",{style:o.symbol},"%")))},o0e=function(e){var n=e.hsl,r=$e({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return P.createElement("div",{style:r.picker})},a0e=function(){var e=$e({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return P.createElement("div",{style:e.pointer},P.createElement("div",{style:e.left},P.createElement("div",{style:e.leftInside})),P.createElement("div",{style:e.right},P.createElement("div",{style:e.rightInside})))},TI=function(e){var n=e.onClick,r=e.label,i=e.children,s=e.active,o=$e({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:s});return P.createElement("div",{style:o.button,onClick:n},r||i)},l0e=function(e){var n=e.rgb,r=e.currentColor,i=$e({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return P.createElement("div",null,P.createElement("div",{style:i.label},"new"),P.createElement("div",{style:i.swatches},P.createElement("div",{style:i.new}),P.createElement("div",{style:i.current})),P.createElement("div",{style:i.label},"current"))},u0e=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function c0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h0e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function d0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var HE=function(t){d0e(e,t);function e(n){c0e(this,e);var r=h0e(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:n.hex},r}return u0e(e,[{key:"render",value:function(){var r=this.props,i=r.styles,s=i===void 0?{}:i,o=r.className,a=o===void 0?"":o,l=$e(yr({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},s));return P.createElement("div",{style:l.picker,className:"photoshop-picker "+a},P.createElement("div",{style:l.head},this.props.header),P.createElement("div",{style:l.body,className:"flexbox-fix"},P.createElement("div",{style:l.saturation},P.createElement(qv,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:o0e,onChange:this.props.onChange})),P.createElement("div",{style:l.hue},P.createElement(Oc,{direction:"vertical",hsl:this.props.hsl,pointer:a0e,onChange:this.props.onChange})),P.createElement("div",{style:l.controls},P.createElement("div",{style:l.top,className:"flexbox-fix"},P.createElement("div",{style:l.previews},P.createElement(l0e,{rgb:this.props.rgb,currentColor:this.state.currentColor})),P.createElement("div",{style:l.actions},P.createElement(TI,{label:"OK",onClick:this.props.onAccept,active:!0}),P.createElement(TI,{label:"Cancel",onClick:this.props.onCancel}),P.createElement(s0e,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(P.Component);HE.propTypes={header:B.string,styles:B.object};HE.defaultProps={header:"Color Picker",styles:{}};br(HE);var f0e=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.disableAlpha,a=$e({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),l=function(h,f){h.hex?pa(h.hex)&&n({hex:h.hex,source:"hex"},f):h.r||h.g||h.b?n({r:h.r||r.r,g:h.g||r.g,b:h.b||r.b,a:r.a,source:"rgb"},f):h.a&&(h.a<0?h.a=0:h.a>100&&(h.a=100),h.a/=100,n({h:i.h,s:i.s,l:i.l,a:h.a,source:"rgb"},f))};return P.createElement("div",{style:a.fields,className:"flexbox-fix"},P.createElement("div",{style:a.double},P.createElement(lt,{style:{input:a.input,label:a.label},label:"hex",value:s.replace("#",""),onChange:l})),P.createElement("div",{style:a.single},P.createElement(lt,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),P.createElement("div",{style:a.single},P.createElement(lt,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),P.createElement("div",{style:a.single},P.createElement(lt,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),P.createElement("div",{style:a.alpha},P.createElement(lt,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},p0e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C5=function(e){var n=e.colors,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=$e({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),a=function(c,h){i({hex:c,source:"hex"},h)};return P.createElement("div",{style:o.colors,className:"flexbox-fix"},n.map(function(l){var c=typeof l=="string"?{color:l}:l,h=""+c.color+(c.title||"");return P.createElement("div",{key:h,style:o.swatchWrap},P.createElement(Sl,p0e({},c,{style:o.swatch,onClick:a,onHover:s,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+c.color}})))}))};C5.propTypes={colors:B.arrayOf(B.oneOfType([B.string,B.shape({color:B.string,title:B.string})])).isRequired};var m0e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jE=function(e){var n=e.width,r=e.rgb,i=e.hex,s=e.hsv,o=e.hsl,a=e.onChange,l=e.onSwatchHover,c=e.disableAlpha,h=e.presetColors,f=e.renderers,p=e.styles,m=p===void 0?{}:p,v=e.className,y=v===void 0?"":v,x=$e(yr({default:m0e({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},m),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},m),{disableAlpha:c});return P.createElement("div",{style:x.picker,className:"sketch-picker "+y},P.createElement("div",{style:x.saturation},P.createElement(qv,{style:x.Saturation,hsl:o,hsv:s,onChange:a})),P.createElement("div",{style:x.controls,className:"flexbox-fix"},P.createElement("div",{style:x.sliders},P.createElement("div",{style:x.hue},P.createElement(Oc,{style:x.Hue,hsl:o,onChange:a})),P.createElement("div",{style:x.alpha},P.createElement(FE,{style:x.Alpha,rgb:r,hsl:o,renderers:f,onChange:a}))),P.createElement("div",{style:x.color},P.createElement(kc,null),P.createElement("div",{style:x.activeColor}))),P.createElement(f0e,{rgb:r,hsl:o,hex:i,onChange:a,disableAlpha:c}),P.createElement(C5,{colors:h,onClick:a,onSwatchHover:l}))};jE.propTypes={disableAlpha:B.bool,width:B.oneOfType([B.string,B.number]),styles:B.object};jE.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};br(jE);var uh=function(e){var n=e.hsl,r=e.offset,i=e.onClick,s=i===void 0?function(){}:i,o=e.active,a=e.first,l=e.last,c=$e({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:a,last:l}),h=function(p){return s({h:n.h,s:.5,l:r,source:"hsl"},p)};return P.createElement("div",{style:c.swatch,onClick:h})},g0e=function(e){var n=e.onClick,r=e.hsl,i=$e({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),s=.1;return P.createElement("div",{style:i.swatches},P.createElement("div",{style:i.swatch},P.createElement(uh,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<s&&Math.abs(r.s-.5)<s,onClick:n,first:!0})),P.createElement("div",{style:i.swatch},P.createElement(uh,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<s&&Math.abs(r.s-.5)<s,onClick:n})),P.createElement("div",{style:i.swatch},P.createElement(uh,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<s&&Math.abs(r.s-.5)<s,onClick:n})),P.createElement("div",{style:i.swatch},P.createElement(uh,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<s&&Math.abs(r.s-.5)<s,onClick:n})),P.createElement("div",{style:i.swatch},P.createElement(uh,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<s&&Math.abs(r.s-.5)<s,onClick:n,last:!0})),P.createElement("div",{style:i.clear}))},v0e=function(){var e=$e({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return P.createElement("div",{style:e.picker})},WE=function(e){var n=e.hsl,r=e.onChange,i=e.pointer,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,c=$e(yr({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},o));return P.createElement("div",{style:c.wrap||{},className:"slider-picker "+l},P.createElement("div",{style:c.hue},P.createElement(Oc,{style:c.Hue,hsl:n,pointer:i,onChange:r})),P.createElement("div",{style:c.swatches},P.createElement(g0e,{hsl:n,onClick:r})))};WE.propTypes={styles:B.object};WE.defaultProps={pointer:v0e,styles:{}};br(WE);var T5={};Object.defineProperty(T5,"__esModule",{value:!0});var AI=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y0e=T,PI=b0e(y0e);function b0e(t){return t&&t.__esModule?t:{default:t}}function x0e(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var $p=24,w0e=T5.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?$p:r,s=t.height,o=s===void 0?$p:s,a=t.style,l=a===void 0?{}:a,c=x0e(t,["fill","width","height","style"]);return PI.default.createElement("svg",AI({viewBox:"0 0 "+$p+" "+$p,style:AI({fill:n,width:i,height:o},l)},c),PI.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},_0e=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.first,a=e.last,l=e.active,c=$e({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:DE(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:o,last:a,active:l,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return P.createElement(Sl,{color:n,style:c.color,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n}},P.createElement("div",{style:c.check},P.createElement(w0e,null)))},S0e=function(e){var n=e.onClick,r=e.onSwatchHover,i=e.group,s=e.active,o=$e({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return P.createElement("div",{style:o.group},ze(i,function(a,l){return P.createElement(_0e,{key:a,color:a,active:a.toLowerCase()===s,first:l===0,last:l===i.length-1,onClick:n,onSwatchHover:r})}))},GE=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.onSwatchHover,o=e.colors,a=e.hex,l=e.styles,c=l===void 0?{}:l,h=e.className,f=h===void 0?"":h,p=$e(yr({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},c)),m=function(y,x){return i({hex:y,source:"hex"},x)};return P.createElement("div",{style:p.picker,className:"swatches-picker "+f},P.createElement(mf,null,P.createElement("div",{style:p.overflow},P.createElement("div",{style:p.body},ze(o,function(v){return P.createElement(S0e,{key:v.toString(),group:v,active:a,onClick:m,onSwatchHover:s})}),P.createElement("div",{style:p.clear})))))};GE.propTypes={width:B.oneOfType([B.string,B.number]),height:B.oneOfType([B.string,B.number]),colors:B.arrayOf(B.arrayOf(B.string)),styles:B.object};GE.defaultProps={width:320,height:240,colors:[[Kl[900],Kl[700],Kl[500],Kl[300],Kl[100]],[Zl[900],Zl[700],Zl[500],Zl[300],Zl[100]],[Ql[900],Ql[700],Ql[500],Ql[300],Ql[100]],[Jl[900],Jl[700],Jl[500],Jl[300],Jl[100]],[eu[900],eu[700],eu[500],eu[300],eu[100]],[tu[900],tu[700],tu[500],tu[300],tu[100]],[nu[900],nu[700],nu[500],nu[300],nu[100]],[ru[900],ru[700],ru[500],ru[300],ru[100]],[iu[900],iu[700],iu[500],iu[300],iu[100]],["#194D33",Ph[700],Ph[500],Ph[300],Ph[100]],[su[900],su[700],su[500],su[300],su[100]],[ou[900],ou[700],ou[500],ou[300],ou[100]],[au[900],au[700],au[500],au[300],au[100]],[lu[900],lu[700],lu[500],lu[300],lu[100]],[uu[900],uu[700],uu[500],uu[300],uu[100]],[cu[900],cu[700],cu[500],cu[300],cu[100]],[hu[900],hu[700],hu[500],hu[300],hu[100]],[du[900],du[700],du[500],du[300],du[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};br(GE);var VE=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,c=l===void 0?{}:l,h=e.className,f=h===void 0?"":h,p=$e(yr({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},c),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),m=function(y,x){pa(y)&&n({hex:y,source:"hex"},x)};return P.createElement("div",{style:p.card,className:"twitter-picker "+f},P.createElement("div",{style:p.triangleShadow}),P.createElement("div",{style:p.triangle}),P.createElement("div",{style:p.body},ze(s,function(v,y){return P.createElement(Sl,{key:y,color:v,hex:v,style:p.swatch,onClick:m,onHover:r,focusStyle:{boxShadow:"0 0 4px "+v}})}),P.createElement("div",{style:p.hash},"#"),P.createElement(lt,{label:null,style:{input:p.input},value:i.replace("#",""),onChange:m}),P.createElement("div",{style:p.clear})))};VE.propTypes={width:B.oneOfType([B.string,B.number]),triangle:B.oneOf(["hide","top-left","top-right"]),colors:B.arrayOf(B.string),styles:B.object};VE.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};br(VE);var qE=function(e){var n=$e({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return P.createElement("div",{style:n.picker})};qE.propTypes={hsl:B.shape({h:B.number,s:B.number,l:B.number,a:B.number})};qE.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var XE=function(e){var n=$e({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return P.createElement("div",{style:n.picker})};XE.propTypes={hsl:B.shape({h:B.number,s:B.number,l:B.number,a:B.number})};XE.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var E0e=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.hsv,a=function(m,v){if(m.hex)pa(m.hex)&&n({hex:m.hex,source:"hex"},v);else if(m.rgb){var y=m.rgb.split(",");U1(m.rgb,"rgb")&&n({r:y[0],g:y[1],b:y[2],a:1,source:"rgb"},v)}else if(m.hsv){var x=m.hsv.split(",");U1(m.hsv,"hsv")&&(x[2]=x[2].replace("%",""),x[1]=x[1].replace("%",""),x[0]=x[0].replace("°",""),x[1]==1?x[1]=.01:x[2]==1&&(x[2]=.01),n({h:Number(x[0]),s:Number(x[1]),v:Number(x[2]),source:"hsv"},v))}else if(m.hsl){var b=m.hsl.split(",");U1(m.hsl,"hsl")&&(b[2]=b[2].replace("%",""),b[1]=b[1].replace("%",""),b[0]=b[0].replace("°",""),f[1]==1?f[1]=.01:f[2]==1&&(f[2]=.01),n({h:Number(b[0]),s:Number(b[1]),v:Number(b[2]),source:"hsl"},v))}},l=$e({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),c=r.r+", "+r.g+", "+r.b,h=Math.round(i.h)+"°, "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",f=Math.round(o.h)+"°, "+Math.round(o.s*100)+"%, "+Math.round(o.v*100)+"%";return P.createElement("div",{style:l.wrap,className:"flexbox-fix"},P.createElement("div",{style:l.fields},P.createElement("div",{style:l.double},P.createElement(lt,{style:{input:l.input,label:l.label},label:"hex",value:s,onChange:a})),P.createElement("div",{style:l.column},P.createElement("div",{style:l.single},P.createElement(lt,{style:{input:l.input2,label:l.label2},label:"rgb",value:c,onChange:a})),P.createElement("div",{style:l.single},P.createElement(lt,{style:{input:l.input2,label:l.label2},label:"hsv",value:f,onChange:a})),P.createElement("div",{style:l.single},P.createElement(lt,{style:{input:l.input2,label:l.label2},label:"hsl",value:h,onChange:a})))))},YE=function(e){var n=e.width,r=e.onChange,i=e.rgb,s=e.hsl,o=e.hsv,a=e.hex,l=e.header,c=e.styles,h=c===void 0?{}:c,f=e.className,p=f===void 0?"":f,m=$e(yr({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},h));return P.createElement("div",{style:m.picker,className:"google-picker "+p},P.createElement("div",{style:m.head},l),P.createElement("div",{style:m.swatch}),P.createElement("div",{style:m.saturation},P.createElement(qv,{hsl:s,hsv:o,pointer:qE,onChange:r})),P.createElement("div",{style:m.body},P.createElement("div",{style:m.controls,className:"flexbox-fix"},P.createElement("div",{style:m.hue},P.createElement(Oc,{style:m.Hue,hsl:s,radius:"4px",pointer:XE,onChange:r}))),P.createElement(E0e,{rgb:i,hsl:s,hex:a,hsv:o,onChange:r})))};YE.propTypes={width:B.oneOfType([B.string,B.number]),styles:B.object,header:B.string};YE.defaultProps={width:652,styles:{},header:"Color picker"};br(YE);function C0e(t,e){T.useEffect(()=>{function n(r){t.current&&!t.current.contains(r.target)&&e()}return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[t])}function rc({color:t,colorChanged:e,type:n="chrome",colorOptions:r=["#3bac99"]}){const[i,s]=T.useState(!1),[o,a]=T.useState(t||"#ffffff"),l=T.useRef(null);C0e(l,()=>{s(!1)}),T.useEffect(()=>{a(t||"#fff")},[t]);const c=()=>{s(!i)},h=p=>{a(p.hex),e(p.hex)},f=$e({default:{color:{background:o},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return te("div",{className:"color-picker",ref:l,children:[k("div",{className:"swatch",style:f.color,onClick:c}),i?te("div",{style:f.popover,children:[n==="chrome"&&k(Zve,{color:o,onChange:h,disableAlpha:!0}),n==="circle"&&k(zve,{colors:r,onChange:h})]}):null]})}function ll(t){return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ll(t)}function T0e(t,e){if(ll(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ll(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function A5(t){var e=T0e(t,"string");return ll(e)==="symbol"?e:String(e)}function kh(t,e,n){return e=A5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kI(Object(n),!0).forEach(function(r){kh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A0e(t){if(Array.isArray(t))return t}function P0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function kw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function P5(t,e){if(t){if(typeof t=="string")return kw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kw(t,e)}}function k0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function io(t,e){return A0e(t)||P0e(t,e)||P5(t,e)||k0e()}function zr(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ic(t,e){if(t==null)return{};var n=zr(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var O0e=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function I0e(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,s=t.defaultValue,o=s===void 0?null:s,a=t.inputValue,l=t.menuIsOpen,c=t.onChange,h=t.onInputChange,f=t.onMenuClose,p=t.onMenuOpen,m=t.value,v=Ic(t,O0e),y=T.useState(a!==void 0?a:n),x=io(y,2),b=x[0],S=x[1],w=T.useState(l!==void 0?l:i),E=io(w,2),O=E[0],A=E[1],F=T.useState(m!==void 0?m:o),L=io(F,2),H=L[0],V=L[1],z=T.useCallback(function(Z,se){typeof c=="function"&&c(Z,se),V(Z)},[c]),j=T.useCallback(function(Z,se){var G;typeof h=="function"&&(G=h(Z,se)),S(G!==void 0?G:Z)},[h]),X=T.useCallback(function(){typeof p=="function"&&p(),A(!0)},[p]),K=T.useCallback(function(){typeof f=="function"&&f(),A(!1)},[f]),fe=a!==void 0?a:b,ue=l!==void 0?l:O,Y=m!==void 0?m:H;return Ue(Ue({},v),{},{inputValue:fe,menuIsOpen:ue,onChange:z,onInputChange:j,onMenuClose:K,onMenuOpen:X,value:Y})}function ve(){return ve=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ve.apply(this,arguments)}function R0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A5(r.key),r)}}function M0e(t,e,n){return e&&OI(t.prototype,e),n&&OI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pg(t,e){return Pg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Pg(t,e)}function F0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pg(t,e)}function kg(t){return kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kg(t)}function D0e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function L0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B0e(t,e){if(e&&(ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L0e(t)}function N0e(t){var e=D0e();return function(){var r=kg(t),i;if(e){var s=kg(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return B0e(this,i)}}function $0e(t){if(Array.isArray(t))return kw(t)}function U0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function z0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k5(t){return $0e(t)||U0e(t)||P5(t)||z0e()}function H0e(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function j0e(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var W0e=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(j0e(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=H0e(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),zn="-ms-",Og="-moz-",pt="-webkit-",O5="comm",KE="rule",ZE="decl",G0e="@import",I5="@keyframes",V0e=Math.abs,Yv=String.fromCharCode,q0e=Object.assign;function X0e(t,e){return Mn(t,0)^45?(((e<<2^Mn(t,0))<<2^Mn(t,1))<<2^Mn(t,2))<<2^Mn(t,3):0}function R5(t){return t.trim()}function Y0e(t,e){return(t=e.exec(t))?t[0]:t}function gt(t,e,n){return t.replace(e,n)}function Ow(t,e){return t.indexOf(e)}function Mn(t,e){return t.charCodeAt(e)|0}function _d(t,e,n){return t.slice(e,n)}function vs(t){return t.length}function QE(t){return t.length}function Up(t,e){return e.push(t),t}function K0e(t,e){return t.map(e).join("")}var Kv=1,ic=1,M5=0,vr=0,hn=0,Rc="";function Zv(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Kv,column:ic,length:o,return:""}}function ch(t,e){return q0e(Zv("",null,null,"",null,null,0),t,{length:-t.length},e)}function Z0e(){return hn}function Q0e(){return hn=vr>0?Mn(Rc,--vr):0,ic--,hn===10&&(ic=1,Kv--),hn}function Hr(){return hn=vr<M5?Mn(Rc,vr++):0,ic++,hn===10&&(ic=1,Kv++),hn}function Ps(){return Mn(Rc,vr)}function Rm(){return vr}function gf(t,e){return _d(Rc,t,e)}function Sd(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function F5(t){return Kv=ic=1,M5=vs(Rc=t),vr=0,[]}function D5(t){return Rc="",t}function Mm(t){return R5(gf(vr-1,Iw(t===91?t+2:t===40?t+1:t)))}function J0e(t){for(;(hn=Ps())&&hn<33;)Hr();return Sd(t)>2||Sd(hn)>3?"":" "}function eye(t,e){for(;--e&&Hr()&&!(hn<48||hn>102||hn>57&&hn<65||hn>70&&hn<97););return gf(t,Rm()+(e<6&&Ps()==32&&Hr()==32))}function Iw(t){for(;Hr();)switch(hn){case t:return vr;case 34:case 39:t!==34&&t!==39&&Iw(hn);break;case 40:t===41&&Iw(t);break;case 92:Hr();break}return vr}function tye(t,e){for(;Hr()&&t+hn!==47+10;)if(t+hn===42+42&&Ps()===47)break;return"/*"+gf(e,vr-1)+"*"+Yv(t===47?t:Hr())}function nye(t){for(;!Sd(Ps());)Hr();return gf(t,vr)}function rye(t){return D5(Fm("",null,null,null,[""],t=F5(t),0,[0],t))}function Fm(t,e,n,r,i,s,o,a,l){for(var c=0,h=0,f=o,p=0,m=0,v=0,y=1,x=1,b=1,S=0,w="",E=i,O=s,A=r,F=w;x;)switch(v=S,S=Hr()){case 40:if(v!=108&&Mn(F,f-1)==58){Ow(F+=gt(Mm(S),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:F+=Mm(S);break;case 9:case 10:case 13:case 32:F+=J0e(v);break;case 92:F+=eye(Rm()-1,7);continue;case 47:switch(Ps()){case 42:case 47:Up(iye(tye(Hr(),Rm()),e,n),l);break;default:F+="/"}break;case 123*y:a[c++]=vs(F)*b;case 125*y:case 59:case 0:switch(S){case 0:case 125:x=0;case 59+h:m>0&&vs(F)-f&&Up(m>32?RI(F+";",r,n,f-1):RI(gt(F," ","")+";",r,n,f-2),l);break;case 59:F+=";";default:if(Up(A=II(F,e,n,c,h,i,a,w,E=[],O=[],f),s),S===123)if(h===0)Fm(F,e,A,A,E,s,f,a,O);else switch(p===99&&Mn(F,3)===110?100:p){case 100:case 109:case 115:Fm(t,A,A,r&&Up(II(t,A,A,0,0,i,a,w,i,E=[],f),O),i,O,f,a,r?E:O);break;default:Fm(F,A,A,A,[""],O,0,a,O)}}c=h=m=0,y=b=1,w=F="",f=o;break;case 58:f=1+vs(F),m=v;default:if(y<1){if(S==123)--y;else if(S==125&&y++==0&&Q0e()==125)continue}switch(F+=Yv(S),S*y){case 38:b=h>0?1:(F+="\f",-1);break;case 44:a[c++]=(vs(F)-1)*b,b=1;break;case 64:Ps()===45&&(F+=Mm(Hr())),p=Ps(),h=f=vs(w=F+=nye(Rm())),S++;break;case 45:v===45&&vs(F)==2&&(y=0)}}return s}function II(t,e,n,r,i,s,o,a,l,c,h){for(var f=i-1,p=i===0?s:[""],m=QE(p),v=0,y=0,x=0;v<r;++v)for(var b=0,S=_d(t,f+1,f=V0e(y=o[v])),w=t;b<m;++b)(w=R5(y>0?p[b]+" "+S:gt(S,/&\f/g,p[b])))&&(l[x++]=w);return Zv(t,e,n,i===0?KE:a,l,c,h)}function iye(t,e,n){return Zv(t,e,n,O5,Yv(Z0e()),_d(t,2,-2),0)}function RI(t,e,n,r){return Zv(t,e,n,ZE,_d(t,0,r),_d(t,r+1,-1),r)}function Uu(t,e){for(var n="",r=QE(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function sye(t,e,n,r){switch(t.type){case G0e:case ZE:return t.return=t.return||t.value;case O5:return"";case I5:return t.return=t.value+"{"+Uu(t.children,r)+"}";case KE:t.value=t.props.join(",")}return vs(n=Uu(t.children,r))?t.return=t.value+"{"+n+"}":""}function oye(t){var e=QE(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function aye(t){return function(e){e.root||(e=e.return)&&t(e)}}function L5(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var lye=function(e,n,r){for(var i=0,s=0;i=s,s=Ps(),i===38&&s===12&&(n[r]=1),!Sd(s);)Hr();return gf(e,vr)},uye=function(e,n){var r=-1,i=44;do switch(Sd(i)){case 0:i===38&&Ps()===12&&(n[r]=1),e[r]+=lye(vr-1,n,r);break;case 2:e[r]+=Mm(i);break;case 4:if(i===44){e[++r]=Ps()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Yv(i)}while(i=Hr());return e},cye=function(e,n){return D5(uye(F5(e),n))},MI=new WeakMap,hye=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!MI.get(r))&&!i){MI.set(e,!0);for(var s=[],o=cye(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var h=0;h<a.length;h++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[h]):a[h]+" "+o[l]}}},dye=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function B5(t,e){switch(X0e(t,e)){case 5103:return pt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return pt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return pt+t+Og+t+zn+t+t;case 6828:case 4268:return pt+t+zn+t+t;case 6165:return pt+t+zn+"flex-"+t+t;case 5187:return pt+t+gt(t,/(\w+).+(:[^]+)/,pt+"box-$1$2"+zn+"flex-$1$2")+t;case 5443:return pt+t+zn+"flex-item-"+gt(t,/flex-|-self/,"")+t;case 4675:return pt+t+zn+"flex-line-pack"+gt(t,/align-content|flex-|-self/,"")+t;case 5548:return pt+t+zn+gt(t,"shrink","negative")+t;case 5292:return pt+t+zn+gt(t,"basis","preferred-size")+t;case 6060:return pt+"box-"+gt(t,"-grow","")+pt+t+zn+gt(t,"grow","positive")+t;case 4554:return pt+gt(t,/([^-])(transform)/g,"$1"+pt+"$2")+t;case 6187:return gt(gt(gt(t,/(zoom-|grab)/,pt+"$1"),/(image-set)/,pt+"$1"),t,"")+t;case 5495:case 3959:return gt(t,/(image-set\([^]*)/,pt+"$1$`$1");case 4968:return gt(gt(t,/(.+:)(flex-)?(.*)/,pt+"box-pack:$3"+zn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+pt+t+t;case 4095:case 3583:case 4068:case 2532:return gt(t,/(.+)-inline(.+)/,pt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(vs(t)-1-e>6)switch(Mn(t,e+1)){case 109:if(Mn(t,e+4)!==45)break;case 102:return gt(t,/(.+:)(.+)-([^]+)/,"$1"+pt+"$2-$3$1"+Og+(Mn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Ow(t,"stretch")?B5(gt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Mn(t,e+1)!==115)break;case 6444:switch(Mn(t,vs(t)-3-(~Ow(t,"!important")&&10))){case 107:return gt(t,":",":"+pt)+t;case 101:return gt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+pt+(Mn(t,14)===45?"inline-":"")+"box$3$1"+pt+"$2$3$1"+zn+"$2box$3")+t}break;case 5936:switch(Mn(t,e+11)){case 114:return pt+t+zn+gt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return pt+t+zn+gt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return pt+t+zn+gt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return pt+t+zn+t+t}return t}var fye=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case ZE:e.return=B5(e.value,e.length);break;case I5:return Uu([ch(e,{value:gt(e.value,"@","@"+pt)})],i);case KE:if(e.length)return K0e(e.props,function(s){switch(Y0e(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Uu([ch(e,{props:[gt(s,/:(read-\w+)/,":"+Og+"$1")]})],i);case"::placeholder":return Uu([ch(e,{props:[gt(s,/:(plac\w+)/,":"+pt+"input-$1")]}),ch(e,{props:[gt(s,/:(plac\w+)/,":"+Og+"$1")]}),ch(e,{props:[gt(s,/:(plac\w+)/,zn+"input-$1")]})],i)}return""})}},pye=[fye],mye=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var x=y.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||pye,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var x=y.getAttribute("data-emotion").split(" "),b=1;b<x.length;b++)s[x[b]]=!0;a.push(y)});var l,c=[hye,dye];{var h,f=[sye,aye(function(y){h.insert(y)})],p=oye(c.concat(i,f)),m=function(x){return Uu(rye(x),p)};l=function(x,b,S,w){h=S,m(x?x+"{"+b.styles+"}":b.styles),w&&(v.inserted[b.name]=!0)}}var v={key:n,sheet:new W0e({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return v.sheet.hydrate(a),v},Rw={},gye={get exports(){return Rw},set exports(t){Rw=t}},_t={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var An=typeof Symbol=="function"&&Symbol.for,JE=An?Symbol.for("react.element"):60103,e2=An?Symbol.for("react.portal"):60106,Qv=An?Symbol.for("react.fragment"):60107,Jv=An?Symbol.for("react.strict_mode"):60108,e0=An?Symbol.for("react.profiler"):60114,t0=An?Symbol.for("react.provider"):60109,n0=An?Symbol.for("react.context"):60110,t2=An?Symbol.for("react.async_mode"):60111,r0=An?Symbol.for("react.concurrent_mode"):60111,i0=An?Symbol.for("react.forward_ref"):60112,s0=An?Symbol.for("react.suspense"):60113,vye=An?Symbol.for("react.suspense_list"):60120,o0=An?Symbol.for("react.memo"):60115,a0=An?Symbol.for("react.lazy"):60116,yye=An?Symbol.for("react.block"):60121,bye=An?Symbol.for("react.fundamental"):60117,xye=An?Symbol.for("react.responder"):60118,wye=An?Symbol.for("react.scope"):60119;function Yr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case JE:switch(t=t.type,t){case t2:case r0:case Qv:case e0:case Jv:case s0:return t;default:switch(t=t&&t.$$typeof,t){case n0:case i0:case a0:case o0:case t0:return t;default:return e}}case e2:return e}}}function N5(t){return Yr(t)===r0}_t.AsyncMode=t2;_t.ConcurrentMode=r0;_t.ContextConsumer=n0;_t.ContextProvider=t0;_t.Element=JE;_t.ForwardRef=i0;_t.Fragment=Qv;_t.Lazy=a0;_t.Memo=o0;_t.Portal=e2;_t.Profiler=e0;_t.StrictMode=Jv;_t.Suspense=s0;_t.isAsyncMode=function(t){return N5(t)||Yr(t)===t2};_t.isConcurrentMode=N5;_t.isContextConsumer=function(t){return Yr(t)===n0};_t.isContextProvider=function(t){return Yr(t)===t0};_t.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===JE};_t.isForwardRef=function(t){return Yr(t)===i0};_t.isFragment=function(t){return Yr(t)===Qv};_t.isLazy=function(t){return Yr(t)===a0};_t.isMemo=function(t){return Yr(t)===o0};_t.isPortal=function(t){return Yr(t)===e2};_t.isProfiler=function(t){return Yr(t)===e0};_t.isStrictMode=function(t){return Yr(t)===Jv};_t.isSuspense=function(t){return Yr(t)===s0};_t.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Qv||t===r0||t===e0||t===Jv||t===s0||t===vye||typeof t=="object"&&t!==null&&(t.$$typeof===a0||t.$$typeof===o0||t.$$typeof===t0||t.$$typeof===n0||t.$$typeof===i0||t.$$typeof===bye||t.$$typeof===xye||t.$$typeof===wye||t.$$typeof===yye)};_t.typeOf=Yr;(function(t){t.exports=_t})(gye);var $5=Rw,_ye={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Sye={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},U5={};U5[$5.ForwardRef]=_ye;U5[$5.Memo]=Sye;var Eye=!0;function z5(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var n2=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||Eye===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},H5=function(e,n,r){n2(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function Cye(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Tye={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Aye=/[A-Z]|^ms/g,Pye=/_EMO_([^_]+?)_([^]*?)_EMO_/g,j5=function(e){return e.charCodeAt(1)===45},FI=function(e){return e!=null&&typeof e!="boolean"},z1=L5(function(t){return j5(t)?t:t.replace(Aye,"-$&").toLowerCase()}),DI=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Pye,function(r,i,s){return ys={name:i,styles:s,next:ys},i})}return Tye[e]!==1&&!j5(e)&&typeof n=="number"&&n!==0?n+"px":n};function Ed(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return ys={name:n.name,styles:n.styles,next:ys},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)ys={name:r.name,styles:r.styles,next:ys},r=r.next;var i=n.styles+";";return i}return kye(t,e,n)}case"function":{if(t!==void 0){var s=ys,o=n(t);return ys=s,Ed(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function kye(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ed(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":FI(o)&&(r+=z1(s)+":"+DI(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)FI(o[a])&&(r+=z1(s)+":"+DI(s,o[a])+";");else{var l=Ed(t,e,o);switch(s){case"animation":case"animationName":{r+=z1(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var LI=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ys,r2=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";ys=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Ed(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Ed(r,n,e[a]),i&&(s+=o[a]);LI.lastIndex=0;for(var l="",c;(c=LI.exec(s))!==null;)l+="-"+c[1];var h=Cye(s)+l;return{name:h,styles:s,next:ys}},Oye=function(e){return e()},Iye=qA["useInsertionEffect"]?qA["useInsertionEffect"]:!1,W5=Iye||Oye,i2={}.hasOwnProperty,G5=T.createContext(typeof HTMLElement<"u"?mye({key:"css"}):null);G5.Provider;var V5=function(e){return T.forwardRef(function(n,r){var i=T.useContext(G5);return e(n,i,r)})},q5=T.createContext({}),Mw="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Rye=function(e,n){var r={};for(var i in n)i2.call(n,i)&&(r[i]=n[i]);return r[Mw]=e,r},Mye=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return n2(n,r,i),W5(function(){return H5(n,r,i)}),null},Fye=V5(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[Mw],s=[r],o="";typeof t.className=="string"?o=z5(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=r2(s,void 0,T.useContext(q5));o+=e.key+"-"+a.name;var l={};for(var c in t)i2.call(t,c)&&c!=="css"&&c!==Mw&&(l[c]=t[c]);return l.ref=n,l.className=o,T.createElement(T.Fragment,null,T.createElement(Mye,{cache:e,serialized:a,isStringTag:typeof i=="string"}),T.createElement(i,l))}),Le=function(e,n){var r=arguments;if(n==null||!i2.call(n,"css"))return T.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=Fye,s[1]=Rye(e,n);for(var o=2;o<i;o++)s[o]=r[o];return T.createElement.apply(null,s)};function s2(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r2(e)}var Dye=function(){var e=s2.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function Lye(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Bye(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}const Nye=["top","right","bottom","left"];Nye.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);function Es(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function X5(t){return Es(t).getComputedStyle(t)}function Y5(t){return t instanceof Es(t).Node}function K5(t){return Y5(t)?(t.nodeName||"").toLowerCase():""}let zp;function $ye(){if(zp)return zp;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(zp=t.brands.map(e=>e.brand+"/"+e.version).join(" "),zp):navigator.userAgent}function o2(t){return t instanceof Es(t).HTMLElement}function zu(t){return t instanceof Es(t).Element}function BI(t){return typeof ShadowRoot>"u"?!1:t instanceof Es(t).ShadowRoot||t instanceof ShadowRoot}function Z5(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=X5(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Uye(){return/^((?!chrome|android).)*safari/i.test($ye())}function zye(t){return["html","body","#document"].includes(K5(t))}const Ig=Math.round;function Hye(t){const e=X5(t);let n=parseFloat(e.width),r=parseFloat(e.height);const i=o2(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Ig(n)!==s||Ig(r)!==o;return a&&(n=s,r=o),{width:n,height:r,fallback:a}}function Q5(t){return zu(t)?t:t.contextElement}const J5={x:1,y:1};function H1(t){const e=Q5(t);if(!o2(e))return J5;const n=e.getBoundingClientRect(),{width:r,height:i,fallback:s}=Hye(e);let o=(s?Ig(n.width):n.width)/r,a=(s?Ig(n.height):n.height)/i;return o&&Number.isFinite(o)||(o=1),a&&Number.isFinite(a)||(a=1),{x:o,y:a}}function NI(t,e,n,r){var i,s;e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),a=Q5(t);let l=J5;e&&(r?zu(r)&&(l=H1(r)):l=H1(t));const c=a?Es(a):window,h=Uye()&&n;let f=(o.left+(h&&((i=c.visualViewport)==null?void 0:i.offsetLeft)||0))/l.x,p=(o.top+(h&&((s=c.visualViewport)==null?void 0:s.offsetTop)||0))/l.y,m=o.width/l.x,v=o.height/l.y;if(a){const y=Es(a),x=r&&zu(r)?Es(r):r;let b=y.frameElement;for(;b&&r&&x!==y;){const S=H1(b),w=b.getBoundingClientRect(),E=getComputedStyle(b);w.x+=(b.clientLeft+parseFloat(E.paddingLeft))*S.x,w.y+=(b.clientTop+parseFloat(E.paddingTop))*S.y,f*=S.x,p*=S.y,m*=S.x,v*=S.y,f+=w.x,p+=w.y,b=Es(b).frameElement}}return Bye({width:m,height:v,x:f,y:p})}function jye(t){return((Y5(t)?t.ownerDocument:t.document)||window.document).documentElement}function Wye(t){if(K5(t)==="html")return t;const e=t.assignedSlot||t.parentNode||BI(t)&&t.host||jye(t);return BI(e)?e.host:e}function eL(t){const e=Wye(t);return zye(e)?e.ownerDocument.body:o2(e)&&Z5(e)?e:eL(e)}function Dm(t,e){var n;e===void 0&&(e=[]);const r=eL(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Es(r);return i?e.concat(s,s.visualViewport||[],Z5(r)?r:[]):e.concat(r,Dm(r))}function Gye(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=!0,animationFrame:a=!1}=r,l=i&&!a,c=l||s?[...zu(t)?Dm(t):t.contextElement?Dm(t.contextElement):[],...Dm(e)]:[];c.forEach(m=>{l&&m.addEventListener("scroll",n,{passive:!0}),s&&m.addEventListener("resize",n)});let h,f=null;if(o){let m=!0;f=new ResizeObserver(()=>{m||n(),m=!1}),zu(t)&&!a&&f.observe(t),zu(t)||!t.contextElement||a||f.observe(t.contextElement),f.observe(e)}let p=a?NI(t):null;return a&&function m(){const v=NI(t);!p||v.x===p.x&&v.y===p.y&&v.width===p.width&&v.height===p.height||n(),p=v,h=requestAnimationFrame(m)}(),n(),()=>{var m;c.forEach(v=>{l&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),(m=f)==null||m.disconnect(),f=null,a&&cancelAnimationFrame(h)}}var Rg=T.useLayoutEffect,Vye=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Mg=function(){};function qye(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function Xye(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&s.push("".concat(qye(t,o)));return s.filter(function(a){return a}).map(function(a){return String(a).trim()}).join(" ")}var $I=function(e){return r1e(e)?e.filter(Boolean):ll(e)==="object"&&e!==null?[e]:[]},tL=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=Ic(e,Vye);return Ue({},n)},nn=function(e,n,r){var i=e.cx,s=e.getStyles,o=e.getClassNames,a=e.className;return{css:s(n,e),className:i(r??{},o(n,e),a)}};function l0(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function Yye(t){return l0(t)?window.innerHeight:t.clientHeight}function nL(t){return l0(t)?window.pageYOffset:t.scrollTop}function Fg(t,e){if(l0(t)){window.scrollTo(0,e);return}t.scrollTop=e}function Kye(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function Zye(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function Hp(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Mg,i=nL(t),s=e-i,o=10,a=0;function l(){a+=o;var c=Zye(a,i,s,n);Fg(t,c),a<n?window.requestAnimationFrame(l):r(t)}l()}function UI(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?Fg(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&Fg(t,Math.max(e.offsetTop-i,0))}function Qye(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function zI(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Jye(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var rL=!1,e1e={get passive(){return rL=!0}},jp=typeof window<"u"?window:{};jp.addEventListener&&jp.removeEventListener&&(jp.addEventListener("p",Mg,e1e),jp.removeEventListener("p",Mg,!1));var t1e=rL;function n1e(t){return t!=null}function r1e(t){return Array.isArray(t)}function Wp(t,e,n){return t?e:n}var i1e=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(o){var a=io(o,1),l=a[0];return!r.includes(l)});return s.reduce(function(o,a){var l=io(a,2),c=l[0],h=l[1];return o[c]=h,o},{})};function s1e(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,s=t.shouldScroll,o=t.isFixedPosition,a=t.controlHeight,l=Kye(n),c={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return c;var h=l.getBoundingClientRect(),f=h.height,p=n.getBoundingClientRect(),m=p.bottom,v=p.height,y=p.top,x=n.offsetParent.getBoundingClientRect(),b=x.top,S=o?window.innerHeight:Yye(l),w=nL(l),E=parseInt(getComputedStyle(n).marginBottom,10),O=parseInt(getComputedStyle(n).marginTop,10),A=b-O,F=S-y,L=A+w,H=f-w-y,V=m-S+w+E,z=w+y-O,j=160;switch(i){case"auto":case"bottom":if(F>=v)return{placement:"bottom",maxHeight:e};if(H>=v&&!o)return s&&Hp(l,V,j),{placement:"bottom",maxHeight:e};if(!o&&H>=r||o&&F>=r){s&&Hp(l,V,j);var X=o?F-E:H-E;return{placement:"bottom",maxHeight:X}}if(i==="auto"||o){var K=e,fe=o?A:L;return fe>=r&&(K=Math.min(fe-E-a,e)),{placement:"top",maxHeight:K}}if(i==="bottom")return s&&Fg(l,V),{placement:"bottom",maxHeight:e};break;case"top":if(A>=v)return{placement:"top",maxHeight:e};if(L>=v&&!o)return s&&Hp(l,z,j),{placement:"top",maxHeight:e};if(!o&&L>=r||o&&A>=r){var ue=e;return(!o&&L>=r||o&&A>=r)&&(ue=o?A-O:L-O),s&&Hp(l,z,j),{placement:"top",maxHeight:ue}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}function o1e(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var iL=function(e){return e==="auto"?"bottom":e},a1e=function(e,n){var r,i=e.placement,s=e.theme,o=s.borderRadius,a=s.spacing,l=s.colors;return Ue((r={label:"menu"},kh(r,o1e(i),"100%"),kh(r,"position","absolute"),kh(r,"width","100%"),kh(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},sL=T.createContext(null),l1e=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,o=e.menuPosition,a=e.menuShouldScrollIntoView,l=e.theme,c=T.useContext(sL)||{},h=c.setPortalPlacement,f=T.useRef(null),p=T.useState(i),m=io(p,2),v=m[0],y=m[1],x=T.useState(null),b=io(x,2),S=b[0],w=b[1],E=l.spacing.controlHeight;return Rg(function(){var O=f.current;if(O){var A=o==="fixed",F=a&&!A,L=s1e({maxHeight:i,menuEl:O,minHeight:r,placement:s,shouldScroll:F,isFixedPosition:A,controlHeight:E});y(L.maxHeight),w(L.placement),h==null||h(L.placement)}},[i,s,o,a,r,h,E]),n({ref:f,placerProps:Ue(Ue({},e),{},{placement:S||iL(s),maxHeight:v})})},u1e=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return Le("div",ve({},nn(e,"menu",{menu:!0}),{ref:r},i),n)},c1e=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return Ue({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},h1e=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return Le("div",ve({},nn(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),n)},oL=function(e,n){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return Ue({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},d1e=oL,f1e=oL,aL=function(e){var n=e.children,r=e.innerProps;return Le("div",ve({},nn(e,"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)};aL.defaultProps={children:"No options"};var lL=function(e){var n=e.children,r=e.innerProps;return Le("div",ve({},nn(e,"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)};lL.defaultProps={children:"Loading..."};var p1e=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},m1e=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,o=e.menuPlacement,a=e.menuPosition,l=T.useRef(null),c=T.useRef(null),h=T.useState(iL(o)),f=io(h,2),p=f[0],m=f[1],v=T.useMemo(function(){return{setPortalPlacement:m}},[]),y=T.useState(null),x=io(y,2),b=x[0],S=x[1],w=T.useCallback(function(){if(i){var F=Qye(i),L=a==="fixed"?0:window.pageYOffset,H=F[p]+L;(H!==(b==null?void 0:b.offset)||F.left!==(b==null?void 0:b.rect.left)||F.width!==(b==null?void 0:b.rect.width))&&S({offset:H,rect:F})}},[i,a,p,b==null?void 0:b.offset,b==null?void 0:b.rect.left,b==null?void 0:b.rect.width]);Rg(function(){w()},[w]);var E=T.useCallback(function(){typeof c.current=="function"&&(c.current(),c.current=null),i&&l.current&&(c.current=Gye(i,l.current,w,{elementResize:"ResizeObserver"in window}))},[i,w]);Rg(function(){E()},[E]);var O=T.useCallback(function(F){l.current=F,E()},[E]);if(!n&&a!=="fixed"||!b)return null;var A=Le("div",ve({ref:O},nn(Ue(Ue({},e),{},{offset:b.offset,position:a,rect:b.rect}),"menuPortal",{"menu-portal":!0}),s),r);return Le(sL.Provider,{value:v},n?Qh.createPortal(A,n):A)},g1e=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},v1e=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return Le("div",ve({},nn(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),n)},y1e=function(e,n){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,o=e.selectProps.controlShouldRenderValue;return Ue({alignItems:"center",display:i&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},b1e=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return Le("div",ve({},nn(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),n)},x1e=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},w1e=function(e){var n=e.children,r=e.innerProps;return Le("div",ve({},nn(e,"indicatorsContainer",{indicators:!0}),r),n)},HI,_1e=["size"],S1e={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},uL=function(e){var n=e.size,r=Ic(e,_1e);return Le("svg",ve({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:S1e},r))},a2=function(e){return Le(uL,ve({size:20},e),Le("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},cL=function(e){return Le(uL,ve({size:20},e),Le("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},hL=function(e,n){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return Ue({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?o.neutral60:o.neutral20,padding:s*2,":hover":{color:r?o.neutral80:o.neutral40}})},E1e=hL,C1e=function(e){var n=e.children,r=e.innerProps;return Le("div",ve({},nn(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||Le(cL,null))},T1e=hL,A1e=function(e){var n=e.children,r=e.innerProps;return Le("div",ve({},nn(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||Le(a2,null))},P1e=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return Ue({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},k1e=function(e){var n=e.innerProps;return Le("span",ve({},n,nn(e,"indicatorSeparator",{"indicator-separator":!0})))},O1e=Dye(HI||(HI=Lye([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),I1e=function(e,n){var r=e.isFocused,i=e.size,s=e.theme,o=s.colors,a=s.spacing.baseUnit;return Ue({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?o.neutral60:o.neutral20,padding:a*2})},j1=function(e){var n=e.delay,r=e.offset;return Le("span",{css:s2({animation:"".concat(O1e," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},dL=function(e){var n=e.innerProps,r=e.isRtl;return Le("div",ve({},nn(e,"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),Le(j1,{delay:0,offset:r}),Le(j1,{delay:160,offset:!0}),Le(j1,{delay:320,offset:!r}))};dL.defaultProps={size:4};var R1e=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.theme,o=s.colors,a=s.borderRadius,l=s.spacing;return Ue({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:i?o.primary:o.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},M1e=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,o=e.innerProps,a=e.menuIsOpen;return Le("div",ve({ref:s},nn(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":a}),o),n)},F1e=["data"],D1e=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},L1e=function(e){var n=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,o=e.Heading,a=e.headingProps,l=e.innerProps,c=e.label,h=e.theme,f=e.selectProps;return Le("div",ve({},nn(e,"group",{group:!0}),l),Le(o,ve({},a,{selectProps:f,theme:h,getStyles:i,getClassNames:s,cx:r}),c),Le("div",null,n))},B1e=function(e,n){var r=e.theme,i=r.colors,s=r.spacing;return Ue({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},N1e=function(e){var n=tL(e);n.data;var r=Ic(n,F1e);return Le("div",ve({},nn(e,"groupHeading",{"group-heading":!0}),r))},$1e=["innerRef","isDisabled","isHidden","inputClassName"],U1e=function(e,n){var r=e.isDisabled,i=e.value,s=e.theme,o=s.spacing,a=s.colors;return Ue(Ue({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},z1e),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:a.neutral80})},fL={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},z1e={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Ue({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},fL)},H1e=function(e){return Ue({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},fL)},j1e=function(e){var n=e.cx,r=e.value,i=tL(e),s=i.innerRef,o=i.isDisabled,a=i.isHidden,l=i.inputClassName,c=Ic(i,$1e);return Le("div",ve({},nn(e,"input",{"input-container":!0}),{"data-value":r||""}),Le("input",ve({className:n({input:!0},l),ref:s,style:H1e(a),disabled:o},c)))},W1e=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors;return Ue({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},G1e=function(e,n){var r=e.theme,i=r.borderRadius,s=r.colors,o=e.cropWithEllipsis;return Ue({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},V1e=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors,a=e.isFocused;return Ue({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:a?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},pL=function(e){var n=e.children,r=e.innerProps;return Le("div",r,n)},q1e=pL,X1e=pL;function Y1e(t){var e=t.children,n=t.innerProps;return Le("div",ve({role:"button"},n),e||Le(a2,{size:14}))}var K1e=function(e){var n=e.children,r=e.components,i=e.data,s=e.innerProps,o=e.isDisabled,a=e.removeProps,l=e.selectProps,c=r.Container,h=r.Label,f=r.Remove;return Le(c,{data:i,innerProps:Ue(Ue({},nn(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:l},Le(h,{data:i,innerProps:Ue({},nn(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),Le(f,{data:i,innerProps:Ue(Ue({},nn(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},a),selectProps:l}))},Z1e=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.theme,a=o.spacing,l=o.colors;return Ue({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:s?l.neutral0:"inherit",padding:"".concat(a.baseUnit*2,"px ").concat(a.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?l.primary:l.primary50}})},Q1e=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.innerRef,a=e.innerProps;return Le("div",ve({},nn(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:o,"aria-disabled":r},a),n)},J1e=function(e,n){var r=e.theme,i=r.spacing,s=r.colors;return Ue({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},ebe=function(e){var n=e.children,r=e.innerProps;return Le("div",ve({},nn(e,"placeholder",{placeholder:!0}),r),n)},tbe=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing,o=i.colors;return Ue({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},nbe=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return Le("div",ve({},nn(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},rbe={ClearIndicator:A1e,Control:M1e,DropdownIndicator:C1e,DownChevron:cL,CrossIcon:a2,Group:L1e,GroupHeading:N1e,IndicatorsContainer:w1e,IndicatorSeparator:k1e,Input:j1e,LoadingIndicator:dL,Menu:u1e,MenuList:h1e,MenuPortal:m1e,LoadingMessage:lL,NoOptionsMessage:aL,MultiValue:K1e,MultiValueContainer:q1e,MultiValueLabel:X1e,MultiValueRemove:Y1e,Option:Q1e,Placeholder:ebe,SelectContainer:v1e,SingleValue:nbe,ValueContainer:b1e},ibe=function(e){return Ue(Ue({},rbe),e.components)},jI=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function sbe(t,e){return!!(t===e||jI(t)&&jI(e))}function obe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!sbe(t[n],e[n]))return!1;return!0}function abe(t,e){e===void 0&&(e=obe);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var lbe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},WI=function(e){return Le("span",ve({css:lbe},e))},ube={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.isDisabled,s=e.tabSelectsValue,o=e.context;switch(o){case"menu":return"Use Up and Down to choose options".concat(i?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,o=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,s=e.label,o=s===void 0?"":s,a=e.selectValue,l=e.isDisabled,c=e.isSelected,h=function(v,y){return v&&v.length?"".concat(v.indexOf(y)+1," of ").concat(v.length):""};if(n==="value"&&a)return"value ".concat(o," focused, ").concat(h(a,r),".");if(n==="menu"){var f=l?" disabled":"",p="".concat(c?"selected":"focused").concat(f);return"option ".concat(o," ").concat(p,", ").concat(h(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},cbe=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,o=e.isFocused,a=e.selectValue,l=e.selectProps,c=e.id,h=l.ariaLiveMessages,f=l.getOptionLabel,p=l.inputValue,m=l.isMulti,v=l.isOptionDisabled,y=l.isSearchable,x=l.menuIsOpen,b=l.options,S=l.screenReaderStatus,w=l.tabSelectsValue,E=l["aria-label"],O=l["aria-live"],A=T.useMemo(function(){return Ue(Ue({},ube),h||{})},[h]),F=T.useMemo(function(){var K="";if(n&&A.onChange){var fe=n.option,ue=n.options,Y=n.removedValue,Z=n.removedValues,se=n.value,G=function(me){return Array.isArray(me)?null:me},M=Y||fe||G(se),D=M?f(M):"",Q=ue||Z||void 0,J=Q?Q.map(f):[],$=Ue({isDisabled:M&&v(M,a),label:D,labels:J},n);K=A.onChange($)}return K},[n,A,v,a,f]),L=T.useMemo(function(){var K="",fe=r||i,ue=!!(r&&a&&a.includes(r));if(fe&&A.onFocus){var Y={focused:fe,label:f(fe),isDisabled:v(fe,a),isSelected:ue,options:s,context:fe===r?"menu":"value",selectValue:a};K=A.onFocus(Y)}return K},[r,i,f,v,A,s,a]),H=T.useMemo(function(){var K="";if(x&&b.length&&A.onFilter){var fe=S({count:s.length});K=A.onFilter({inputValue:p,resultsMessage:fe})}return K},[s,p,x,A,b,S]),V=T.useMemo(function(){var K="";if(A.guidance){var fe=i?"value":x?"menu":"input";K=A.guidance({"aria-label":E,context:fe,isDisabled:r&&v(r,a),isMulti:m,isSearchable:y,tabSelectsValue:w})}return K},[E,r,i,m,v,y,x,A,a,w]),z="".concat(L," ").concat(H," ").concat(V),j=Le(T.Fragment,null,Le("span",{id:"aria-selection"},F),Le("span",{id:"aria-context"},z)),X=(n==null?void 0:n.action)==="initial-input-focus";return Le(T.Fragment,null,Le(WI,{id:c},X&&j),Le(WI,{"aria-live":O,"aria-atomic":"false","aria-relevant":"additions text"},o&&!X&&j))},Fw=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],hbe=new RegExp("["+Fw.map(function(t){return t.letters}).join("")+"]","g"),mL={};for(var W1=0;W1<Fw.length;W1++)for(var G1=Fw[W1],V1=0;V1<G1.letters.length;V1++)mL[G1.letters[V1]]=G1.base;var gL=function(e){return e.replace(hbe,function(n){return mL[n]})},dbe=abe(gL),GI=function(e){return e.replace(/^\s+|\s+$/g,"")},fbe=function(e){return"".concat(e.label," ").concat(e.value)},pbe=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=Ue({ignoreCase:!0,ignoreAccents:!0,stringify:fbe,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,o=i.ignoreAccents,a=i.stringify,l=i.trim,c=i.matchFrom,h=l?GI(r):r,f=l?GI(a(n)):a(n);return s&&(h=h.toLowerCase(),f=f.toLowerCase()),o&&(h=dbe(h),f=gL(f)),c==="start"?f.substr(0,h.length)===h:f.indexOf(h)>-1}},mbe=["innerRef"];function gbe(t){var e=t.innerRef,n=Ic(t,mbe),r=i1e(n,"onExited","in","enter","exit","appear");return Le("input",ve({ref:e},r,{css:s2({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var vbe=function(e){e.preventDefault(),e.stopPropagation()};function ybe(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,o=T.useRef(!1),a=T.useRef(!1),l=T.useRef(0),c=T.useRef(null),h=T.useCallback(function(x,b){if(c.current!==null){var S=c.current,w=S.scrollTop,E=S.scrollHeight,O=S.clientHeight,A=c.current,F=b>0,L=E-O-w,H=!1;L>b&&o.current&&(r&&r(x),o.current=!1),F&&a.current&&(s&&s(x),a.current=!1),F&&b>L?(n&&!o.current&&n(x),A.scrollTop=E,H=!0,o.current=!0):!F&&-b>w&&(i&&!a.current&&i(x),A.scrollTop=0,H=!0,a.current=!0),H&&vbe(x)}},[n,r,i,s]),f=T.useCallback(function(x){h(x,x.deltaY)},[h]),p=T.useCallback(function(x){l.current=x.changedTouches[0].clientY},[]),m=T.useCallback(function(x){var b=l.current-x.changedTouches[0].clientY;h(x,b)},[h]),v=T.useCallback(function(x){if(x){var b=t1e?{passive:!1}:!1;x.addEventListener("wheel",f,b),x.addEventListener("touchstart",p,b),x.addEventListener("touchmove",m,b)}},[m,p,f]),y=T.useCallback(function(x){x&&(x.removeEventListener("wheel",f,!1),x.removeEventListener("touchstart",p,!1),x.removeEventListener("touchmove",m,!1))},[m,p,f]);return T.useEffect(function(){if(e){var x=c.current;return v(x),function(){y(x)}}},[e,v,y]),function(x){c.current=x}}var VI=["boxSizing","height","overflow","paddingRight","position"],qI={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function XI(t){t.preventDefault()}function YI(t){t.stopPropagation()}function KI(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function ZI(){return"ontouchstart"in window||navigator.maxTouchPoints}var QI=!!(typeof window<"u"&&window.document&&window.document.createElement),hh=0,zl={capture:!1,passive:!1};function bbe(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=T.useRef({}),s=T.useRef(null),o=T.useCallback(function(l){if(QI){var c=document.body,h=c&&c.style;if(r&&VI.forEach(function(v){var y=h&&h[v];i.current[v]=y}),r&&hh<1){var f=parseInt(i.current.paddingRight,10)||0,p=document.body?document.body.clientWidth:0,m=window.innerWidth-p+f||0;Object.keys(qI).forEach(function(v){var y=qI[v];h&&(h[v]=y)}),h&&(h.paddingRight="".concat(m,"px"))}c&&ZI()&&(c.addEventListener("touchmove",XI,zl),l&&(l.addEventListener("touchstart",KI,zl),l.addEventListener("touchmove",YI,zl))),hh+=1}},[r]),a=T.useCallback(function(l){if(QI){var c=document.body,h=c&&c.style;hh=Math.max(hh-1,0),r&&hh<1&&VI.forEach(function(f){var p=i.current[f];h&&(h[f]=p)}),c&&ZI()&&(c.removeEventListener("touchmove",XI,zl),l&&(l.removeEventListener("touchstart",KI,zl),l.removeEventListener("touchmove",YI,zl)))}},[r]);return T.useEffect(function(){if(e){var l=s.current;return o(l),function(){a(l)}}},[e,o,a]),function(l){s.current=l}}var xbe=function(){return document.activeElement&&document.activeElement.blur()},wbe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function _be(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,s=t.onBottomArrive,o=t.onBottomLeave,a=t.onTopArrive,l=t.onTopLeave,c=ybe({isEnabled:i,onBottomArrive:s,onBottomLeave:o,onTopArrive:a,onTopLeave:l}),h=bbe({isEnabled:n}),f=function(m){c(m),h(m)};return Le(T.Fragment,null,n&&Le("div",{onClick:xbe,css:wbe}),e(f))}var Sbe={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Ebe=function(e){var n=e.name,r=e.onFocus;return Le("input",{required:!0,name:n,tabIndex:-1,onFocus:r,css:Sbe,value:"",onChange:function(){}})},Cbe=function(e){return e.label},Tbe=function(e){return e.label},Abe=function(e){return e.value},Pbe=function(e){return!!e.isDisabled},kbe={clearIndicator:T1e,container:g1e,control:R1e,dropdownIndicator:E1e,group:D1e,groupHeading:B1e,indicatorsContainer:x1e,indicatorSeparator:P1e,input:U1e,loadingIndicator:I1e,loadingMessage:f1e,menu:a1e,menuList:c1e,menuPortal:p1e,multiValue:W1e,multiValueLabel:G1e,multiValueRemove:V1e,noOptionsMessage:d1e,option:Z1e,placeholder:J1e,singleValue:tbe,valueContainer:y1e},Obe={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Ibe=4,vL=4,Rbe=38,Mbe=vL*2,Fbe={baseUnit:vL,controlHeight:Rbe,menuGutter:Mbe},q1={borderRadius:Ibe,colors:Obe,spacing:Fbe},Dbe={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:zI(),captureMenuScroll:!zI(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:pbe(),formatGroupLabel:Cbe,getOptionLabel:Tbe,getOptionValue:Abe,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Pbe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Jye(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function JI(t,e,n,r){var i=wL(t,e,n),s=_L(t,e,n),o=xL(t,e),a=Dg(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:o,value:a,index:r}}function yL(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(o,a){return JI(t,o,e,a)}).filter(function(o){return eR(t,o)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=JI(t,n,e,r);return eR(t,s)?s:void 0}).filter(n1e)}function bL(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,k5(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function Lbe(t,e){return bL(yL(t,e))}function eR(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,s=e.isSelected,o=e.label,a=e.value;return(!EL(t)||!s)&&SL(t,{label:o,value:a,data:i},r)}function Bbe(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var s=e.indexOf(n);if(s>-1)return n;if(i<e.length)return e[i]}return null}function Nbe(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var xL=function(e,n){return e.getOptionLabel(n)},Dg=function(e,n){return e.getOptionValue(n)};function wL(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function _L(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=Dg(t,e);return n.some(function(i){return Dg(t,i)===r})}function SL(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var EL=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},$be=1,CL=function(t){F0e(n,t);var e=N0e(n);function n(r){var i;if(R0e(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.instancePrefix="",i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.controlRef=null,i.getControlRef=function(a){i.controlRef=a},i.focusedOptionRef=null,i.getFocusedOptionRef=function(a){i.focusedOptionRef=a},i.menuListRef=null,i.getMenuListRef=function(a){i.menuListRef=a},i.inputRef=null,i.getInputRef=function(a){i.inputRef=a},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(a,l){var c=i.props,h=c.onChange,f=c.name;l.name=f,i.ariaOnChange(a,l),h(a,l)},i.setValue=function(a,l,c){var h=i.props,f=h.closeMenuOnSelect,p=h.isMulti,m=h.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:m}),f&&(i.setState({inputIsHiddenAfterUpdate:!p}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(a,{action:l,option:c})},i.selectOption=function(a){var l=i.props,c=l.blurInputOnSelect,h=l.isMulti,f=l.name,p=i.state.selectValue,m=h&&i.isOptionSelected(a,p),v=i.isOptionDisabled(a,p);if(m){var y=i.getOptionValue(a);i.setValue(p.filter(function(x){return i.getOptionValue(x)!==y}),"deselect-option",a)}else if(!v)h?i.setValue([].concat(k5(p),[a]),"select-option",a):i.setValue(a,"select-option");else{i.ariaOnChange(a,{action:"select-option",option:a,name:f});return}c&&i.blurInput()},i.removeValue=function(a){var l=i.props.isMulti,c=i.state.selectValue,h=i.getOptionValue(a),f=c.filter(function(m){return i.getOptionValue(m)!==h}),p=Wp(l,f,f[0]||null);i.onChange(p,{action:"remove-value",removedValue:a}),i.focusInput()},i.clearValue=function(){var a=i.state.selectValue;i.onChange(Wp(i.props.isMulti,[],null),{action:"clear",removedValues:a})},i.popValue=function(){var a=i.props.isMulti,l=i.state.selectValue,c=l[l.length-1],h=l.slice(0,l.length-1),f=Wp(a,h,h[0]||null);i.onChange(f,{action:"pop-value",removedValue:c})},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return Xye.apply(void 0,[i.props.classNamePrefix].concat(l))},i.getOptionLabel=function(a){return xL(i.props,a)},i.getOptionValue=function(a){return Dg(i.props,a)},i.getStyles=function(a,l){var c=i.props.unstyled,h=kbe[a](l,c);h.boxSizing="border-box";var f=i.props.styles[a];return f?f(h,l):h},i.getClassNames=function(a,l){var c,h;return(c=(h=i.props.classNames)[a])===null||c===void 0?void 0:c.call(h,l)},i.getElementId=function(a){return"".concat(i.instancePrefix,"-").concat(a)},i.getComponents=function(){return ibe(i.props)},i.buildCategorizedOptions=function(){return yL(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return bL(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(a,l){i.setState({ariaSelection:Ue({value:a},l)})},i.onMenuMouseDown=function(a){a.button===0&&(a.stopPropagation(),a.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(a){i.blockOptionHover=!1},i.onControlMouseDown=function(a){if(!a.defaultPrevented){var l=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&i.onMenuClose():l&&i.openMenu("first"):(l&&(i.openAfterFocus=!0),i.focusInput()),a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&a.preventDefault()}},i.onDropdownIndicatorMouseDown=function(a){if(!(a&&a.type==="mousedown"&&a.button!==0)&&!i.props.isDisabled){var l=i.props,c=l.isMulti,h=l.menuIsOpen;i.focusInput(),h?(i.setState({inputIsHiddenAfterUpdate:!c}),i.onMenuClose()):i.openMenu("first"),a.preventDefault()}},i.onClearIndicatorMouseDown=function(a){a&&a.type==="mousedown"&&a.button!==0||(i.clearValue(),a.preventDefault(),i.openAfterFocus=!1,a.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(a){typeof i.props.closeMenuOnScroll=="boolean"?a.target instanceof HTMLElement&&l0(a.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(a)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(a){var l=a.touches,c=l&&l.item(0);c&&(i.initialTouchX=c.clientX,i.initialTouchY=c.clientY,i.userIsDragging=!1)},i.onTouchMove=function(a){var l=a.touches,c=l&&l.item(0);if(c){var h=Math.abs(c.clientX-i.initialTouchX),f=Math.abs(c.clientY-i.initialTouchY),p=5;i.userIsDragging=h>p||f>p}},i.onTouchEnd=function(a){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(a.target)&&i.menuListRef&&!i.menuListRef.contains(a.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(a){i.userIsDragging||i.onControlMouseDown(a)},i.onClearIndicatorTouchEnd=function(a){i.userIsDragging||i.onClearIndicatorMouseDown(a)},i.onDropdownIndicatorTouchEnd=function(a){i.userIsDragging||i.onDropdownIndicatorMouseDown(a)},i.handleInputChange=function(a){var l=i.props.inputValue,c=a.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(c,{action:"input-change",prevInputValue:l}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(a){i.props.onFocus&&i.props.onFocus(a),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(a){var l=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(a),i.onInputChange("",{action:"input-blur",prevInputValue:l}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(a){i.blockOptionHover||i.state.focusedOption===a||i.setState({focusedOption:a})},i.shouldHideSelectedOptions=function(){return EL(i.props)},i.onValueInputFocus=function(a){a.preventDefault(),a.stopPropagation(),i.focus()},i.onKeyDown=function(a){var l=i.props,c=l.isMulti,h=l.backspaceRemovesValue,f=l.escapeClearsValue,p=l.inputValue,m=l.isClearable,v=l.isDisabled,y=l.menuIsOpen,x=l.onKeyDown,b=l.tabSelectsValue,S=l.openMenuOnFocus,w=i.state,E=w.focusedOption,O=w.focusedValue,A=w.selectValue;if(!v&&!(typeof x=="function"&&(x(a),a.defaultPrevented))){switch(i.blockOptionHover=!0,a.key){case"ArrowLeft":if(!c||p)return;i.focusValue("previous");break;case"ArrowRight":if(!c||p)return;i.focusValue("next");break;case"Delete":case"Backspace":if(p)return;if(O)i.removeValue(O);else{if(!h)return;c?i.popValue():m&&i.clearValue()}break;case"Tab":if(i.isComposing||a.shiftKey||!y||!b||!E||S&&i.isOptionSelected(E,A))return;i.selectOption(E);break;case"Enter":if(a.keyCode===229)break;if(y){if(!E||i.isComposing)return;i.selectOption(E);break}return;case"Escape":y?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:p}),i.onMenuClose()):m&&f&&i.clearValue();break;case" ":if(p)return;if(!y){i.openMenu("first");break}if(!E)return;i.selectOption(E);break;case"ArrowUp":y?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":y?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!y)return;i.focusOption("pageup");break;case"PageDown":if(!y)return;i.focusOption("pagedown");break;case"Home":if(!y)return;i.focusOption("first");break;case"End":if(!y)return;i.focusOption("last");break;default:return}a.preventDefault()}},i.instancePrefix="react-select-"+(i.props.instanceId||++$be),i.state.selectValue=$I(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.buildFocusableOptions(),o=s.indexOf(i.state.selectValue[0]);i.state.focusedOption=s[o]}return i}return M0e(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&UI(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isDisabled,a=s.menuIsOpen,l=this.state.isFocused;(l&&!o&&i.isDisabled||l&&a&&!i.menuIsOpen)&&this.focusInput(),l&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(UI(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,o=this.state,a=o.selectValue,l=o.isFocused,c=this.buildFocusableOptions(),h=i==="first"?0:c.length-1;if(!this.props.isMulti){var f=c.indexOf(a[0]);f>-1&&(h=f)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:c[h]},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,o=s.selectValue,a=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=o.indexOf(a);a||(l=-1);var c=o.length-1,h=-1;if(o.length){switch(i){case"previous":l===0?h=0:l===-1?h=c:h=l-1;break;case"next":l>-1&&l<c&&(h=l+1);break}this.setState({inputIsHidden:h!==-1,focusedValue:o[h]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var l=0,c=a.indexOf(o);o||(c=-1),i==="up"?l=c>0?c-1:a.length-1:i==="down"?l=(c+1)%a.length:i==="pageup"?(l=c-s,l<0&&(l=0)):i==="pagedown"?(l=c+s,l>a.length-1&&(l=a.length-1)):i==="last"&&(l=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[l],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(q1):Ue(Ue({},q1),this.props.theme):q1}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,o=this.getStyles,a=this.getClassNames,l=this.getValue,c=this.selectOption,h=this.setValue,f=this.props,p=f.isMulti,m=f.isRtl,v=f.options,y=this.hasValue();return{clearValue:i,cx:s,getStyles:o,getClassNames:a,getValue:l,hasValue:y,isMulti:p,isRtl:m,options:v,selectOption:c,selectProps:f,setValue:h,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,o=i.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(i,s){return wL(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return _L(this.props,i,s)}},{key:"filterOption",value:function(i,s){return SL(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:o,selectValue:a})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,o=i.isSearchable,a=i.inputId,l=i.inputValue,c=i.tabIndex,h=i.form,f=i.menuIsOpen,p=i.required,m=this.getComponents(),v=m.Input,y=this.state,x=y.inputIsHidden,b=y.ariaSelection,S=this.commonProps,w=a||this.getElementId("input"),E=Ue(Ue(Ue({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":p,role:"combobox"},f&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(b==null?void 0:b.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?T.createElement(v,ve({},S,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:w,innerRef:this.getInputRef,isDisabled:s,isHidden:x,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:c,form:h,type:"text",value:l},E)):T.createElement(gbe,ve({id:w,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Mg,onFocus:this.onInputFocus,disabled:s,tabIndex:c,inputMode:"none",form:h,value:""},E))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),o=s.MultiValue,a=s.MultiValueContainer,l=s.MultiValueLabel,c=s.MultiValueRemove,h=s.SingleValue,f=s.Placeholder,p=this.commonProps,m=this.props,v=m.controlShouldRenderValue,y=m.isDisabled,x=m.isMulti,b=m.inputValue,S=m.placeholder,w=this.state,E=w.selectValue,O=w.focusedValue,A=w.isFocused;if(!this.hasValue()||!v)return b?null:T.createElement(f,ve({},p,{key:"placeholder",isDisabled:y,isFocused:A,innerProps:{id:this.getElementId("placeholder")}}),S);if(x)return E.map(function(L,H){var V=L===O,z="".concat(i.getOptionLabel(L),"-").concat(i.getOptionValue(L));return T.createElement(o,ve({},p,{components:{Container:a,Label:l,Remove:c},isFocused:V,isDisabled:y,key:z,index:H,removeProps:{onClick:function(){return i.removeValue(L)},onTouchEnd:function(){return i.removeValue(L)},onMouseDown:function(X){X.preventDefault()}},data:L}),i.formatOptionLabel(L,"value"))});if(b)return null;var F=E[0];return T.createElement(h,ve({},p,{data:F,isDisabled:y}),this.formatOptionLabel(F,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,c=a.isLoading,h=this.state.isFocused;if(!this.isClearable()||!s||l||!this.hasValue()||c)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return T.createElement(s,ve({},o,{innerProps:f,isFocused:h}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,c=a.isLoading,h=this.state.isFocused;if(!s||!c)return null;var f={"aria-hidden":"true"};return T.createElement(s,ve({},o,{innerProps:f,isDisabled:l,isFocused:h}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,o=i.IndicatorSeparator;if(!s||!o)return null;var a=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused;return T.createElement(o,ve({},a,{isDisabled:l,isFocused:c}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var o=this.commonProps,a=this.props.isDisabled,l=this.state.isFocused,c={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return T.createElement(s,ve({},o,{innerProps:c,isDisabled:a,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),o=s.Group,a=s.GroupHeading,l=s.Menu,c=s.MenuList,h=s.MenuPortal,f=s.LoadingMessage,p=s.NoOptionsMessage,m=s.Option,v=this.commonProps,y=this.state.focusedOption,x=this.props,b=x.captureMenuScroll,S=x.inputValue,w=x.isLoading,E=x.loadingMessage,O=x.minMenuHeight,A=x.maxMenuHeight,F=x.menuIsOpen,L=x.menuPlacement,H=x.menuPosition,V=x.menuPortalTarget,z=x.menuShouldBlockScroll,j=x.menuShouldScrollIntoView,X=x.noOptionsMessage,K=x.onMenuScrollToTop,fe=x.onMenuScrollToBottom;if(!F)return null;var ue=function(Q,J){var $=Q.type,re=Q.data,me=Q.isDisabled,Ie=Q.isSelected,Re=Q.label,Xe=Q.value,Se=y===re,et=me?void 0:function(){return i.onOptionHover(re)},tt=me?void 0:function(){return i.selectOption(re)},rt="".concat(i.getElementId("option"),"-").concat(J),Ot={id:rt,onClick:tt,onMouseMove:et,onMouseOver:et,tabIndex:-1};return T.createElement(m,ve({},v,{innerProps:Ot,data:re,isDisabled:me,isSelected:Ie,key:rt,label:Re,type:$,value:Xe,isFocused:Se,innerRef:Se?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(Q.data,"menu"))},Y;if(this.hasOptions())Y=this.getCategorizedOptions().map(function(D){if(D.type==="group"){var Q=D.data,J=D.options,$=D.index,re="".concat(i.getElementId("group"),"-").concat($),me="".concat(re,"-heading");return T.createElement(o,ve({},v,{key:re,data:Q,options:J,Heading:a,headingProps:{id:me,data:D.data},label:i.formatGroupLabel(D.data)}),D.options.map(function(Ie){return ue(Ie,"".concat($,"-").concat(Ie.index))}))}else if(D.type==="option")return ue(D,"".concat(D.index))});else if(w){var Z=E({inputValue:S});if(Z===null)return null;Y=T.createElement(f,v,Z)}else{var se=X({inputValue:S});if(se===null)return null;Y=T.createElement(p,v,se)}var G={minMenuHeight:O,maxMenuHeight:A,menuPlacement:L,menuPosition:H,menuShouldScrollIntoView:j},M=T.createElement(l1e,ve({},v,G),function(D){var Q=D.ref,J=D.placerProps,$=J.placement,re=J.maxHeight;return T.createElement(l,ve({},v,G,{innerRef:Q,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove,id:i.getElementId("listbox")},isLoading:w,placement:$}),T.createElement(_be,{captureEnabled:b,onTopArrive:K,onBottomArrive:fe,lockEnabled:z},function(me){return T.createElement(c,ve({},v,{innerRef:function(Re){i.getMenuListRef(Re),me(Re)},isLoading:w,maxHeight:re,focusedOption:y}),Y)}))});return V||H==="fixed"?T.createElement(h,ve({},v,{appendTo:V,controlElement:this.controlRef,menuPlacement:L,menuPosition:H}),M):M}},{key:"renderFormField",value:function(){var i=this,s=this.props,o=s.delimiter,a=s.isDisabled,l=s.isMulti,c=s.name,h=s.required,f=this.state.selectValue;if(!(!c||a)){if(h&&!this.hasValue())return T.createElement(Ebe,{name:c,onFocus:this.onValueInputFocus});if(l)if(o){var p=f.map(function(y){return i.getOptionValue(y)}).join(o);return T.createElement("input",{name:c,type:"hidden",value:p})}else{var m=f.length>0?f.map(function(y,x){return T.createElement("input",{key:"i-".concat(x),name:c,type:"hidden",value:i.getOptionValue(y)})}):T.createElement("input",{name:c,type:"hidden",value:""});return T.createElement("div",null,m)}else{var v=f[0]?this.getOptionValue(f[0]):"";return T.createElement("input",{name:c,type:"hidden",value:v})}}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,o=s.ariaSelection,a=s.focusedOption,l=s.focusedValue,c=s.isFocused,h=s.selectValue,f=this.getFocusableOptions();return T.createElement(cbe,ve({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:a,focusedValue:l,isFocused:c,selectValue:h,focusableOptions:f}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,o=i.IndicatorsContainer,a=i.SelectContainer,l=i.ValueContainer,c=this.props,h=c.className,f=c.id,p=c.isDisabled,m=c.menuIsOpen,v=this.state.isFocused,y=this.commonProps=this.getCommonProps();return T.createElement(a,ve({},y,{className:h,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:p,isFocused:v}),this.renderLiveRegion(),T.createElement(s,ve({},y,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:p,isFocused:v,menuIsOpen:m}),T.createElement(l,ve({},y,{isDisabled:p}),this.renderPlaceholderOrValue(),this.renderInput()),T.createElement(o,ve({},y,{isDisabled:p}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var o=s.prevProps,a=s.clearFocusValueOnUpdate,l=s.inputIsHiddenAfterUpdate,c=s.ariaSelection,h=s.isFocused,f=s.prevWasFocused,p=i.options,m=i.value,v=i.menuIsOpen,y=i.inputValue,x=i.isMulti,b=$I(m),S={};if(o&&(m!==o.value||p!==o.options||v!==o.menuIsOpen||y!==o.inputValue)){var w=v?Lbe(i,b):[],E=a?Bbe(s,b):null,O=Nbe(s,w);S={selectValue:b,focusedOption:O,focusedValue:E,clearFocusValueOnUpdate:!1}}var A=l!=null&&i!==o?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},F=c,L=h&&f;return h&&!L&&(F={value:Wp(x,b,b[0]||null),options:b,action:"initial-input-focus"},L=!f),(c==null?void 0:c.action)==="initial-input-focus"&&(F=null),Ue(Ue(Ue({},S),A),{},{prevProps:i,ariaSelection:F,prevWasFocused:L})}}]),n}(T.Component);CL.defaultProps=Dbe;var Ube=T.forwardRef(function(t,e){var n=I0e(t);return T.createElement(CL,ve({ref:e},n))});const vf=Ube,X1=(t="transparent")=>({alignItems:"center",display:"flex",":before":{backgroundColor:t,borderRadius:10,content:'" "',display:"block",marginRight:8,height:10,width:10}}),Aa={color:"var(--textColor)"},zbe={backgroundColor:"var(--panelColor2)"},yf=t=>({menu:e=>({...e,...Aa,...zbe}),valueContainer:e=>({...e,backgroundColor:"transparent",...Aa}),indicatorSeparator:e=>({...e,backgroundColor:"var(--supermutedText)"}),control:e=>({...e,...Aa,backgroundColor:"transparent",borderColor:"var(--supermutedText)"}),option:(e,{data:n,isDisabled:r,isFocused:i,isSelected:s})=>({...e,...Aa,backgroundColor:s?"var(--panelColor)":"var(--panelColor2)",":hover":{backgroundColor:"var(--panelColor)"},":focus":{backgroundColor:"var(--panelColor)"},...(t==null?void 0:t.dot)&&X1(n[t==null?void 0:t.colorProp])}),input:e=>({...e,...Aa,...(t==null?void 0:t.dot)&&X1()}),placeholder:e=>({...e,...Aa}),singleValue:(e,{data:n})=>({...e,...Aa,...(t==null?void 0:t.dot)&&X1(n[t==null?void 0:t.colorProp])})});function tR(t,e){return Qe(t,{value:e})}function Hbe(t){return ze(t,e=>({value:e.id,label:e.name}))}function jbe({valueChanged:t,defaultValue:e}){const{abilityTypes:n}=T.useContext(Jn),[r,i]=T.useState(Hbe(n));return k(vf,{className:"ability-select",styles:yf(),options:r,onChange:s=>t(s==null?void 0:s.value),defaultValue:e?tR(r,e):null,value:tR(r,e)})}function nR(t,e){t&&e&&vt(Object.keys(t),n=>{e[n]&&e[n]})}function Wbe({tags:t,type:e,tagsChanged:n,typeChanged:r}){const{tagColors:i,setTagColors:s}=T.useContext(af),[o,a]=T.useState(t||[]),[l,c]=T.useState(e),[h,f]=T.useState(nR(t,i)||{}),[p,m]=T.useState(null);T.useEffect(()=>{f(nR(t,i)||{})},[i]);const v=(w,E)=>{let O=[...o];O[E]=w,a(O),n(O)},y=()=>{a([...o,""]),n([...o,""]),m(t==null?void 0:t.length)},x=w=>{let E=[...o];E.splice(w,1),a(E),n(E)},b=w=>{c(w),r(w)},S=(w,E)=>{s({type:"add",color:w,tag:E})};return te("div",{className:"tag-select",children:[k(jbe,{defaultValue:e,valueChanged:b}),o==null?void 0:o.map((w,E)=>te("span",{className:"stat-tag form-control",style:{borderColor:i[w]},children:[k("div",{className:"tag-color",children:k(rc,{color:i[w],colorChanged:O=>S(O,w)})}),k(is,{autoFocus:p===E,value:w,valueChanged:O=>v(O,E)}),k(St,{clicked:()=>x(E),children:"x"})]},E)),k("button",{className:"add-tag",onClick:y,children:k(_g,{size:18})})]})}var Gbe=function(e){var n=T.useRef(e);return Rg(function(){n.current=e}),n},rR=function(e,n){if(typeof e=="function"){e(n);return}e.current=n},Vbe=function(e,n){var r=T.useRef();return T.useCallback(function(i){e.current=i,r.current&&rR(r.current,null),r.current=n,n&&rR(n,i)},[n])},iR={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},sR=function(e){Object.keys(iR).forEach(function(n){e.style.setProperty(n,iR[n],"important")})},Ar=null,qbe=function(e,n){var r=e.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function Xbe(t,e,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),Ar||(Ar=document.createElement("textarea"),Ar.setAttribute("tabindex","-1"),Ar.setAttribute("aria-hidden","true"),sR(Ar)),Ar.parentNode===null&&document.body.appendChild(Ar);var i=t.paddingSize,s=t.borderSize,o=t.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(p){var m=p;Ar.style[m]=o[m]}),sR(Ar),Ar.value=e;var l=qbe(Ar,t);Ar.value="x";var c=Ar.scrollHeight-i,h=c*n;a==="border-box"&&(h=h+i+s),l=Math.max(h,l);var f=c*r;return a==="border-box"&&(f=f+i+s),l=Math.min(f,l),[l,c]}var oR=function(){},Ybe=function(e,n){return e.reduce(function(r,i){return r[i]=n[i],r},{})},Kbe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],Zbe=!!document.documentElement.currentStyle,Qbe=function(e){var n=window.getComputedStyle(e);if(n===null)return null;var r=Ybe(Kbe,n),i=r.boxSizing;if(i==="")return null;Zbe&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},Jbe=function(e){var n=Gbe(e);T.useLayoutEffect(function(){var r=function(s){n.current(s)};return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}},[])},exe=function(e,n){var r=e.cacheMeasurements,i=e.maxRows,s=e.minRows,o=e.onChange,a=o===void 0?oR:o,l=e.onHeightChange,c=l===void 0?oR:l,h=zr(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),f=h.value!==void 0,p=T.useRef(null),m=Vbe(p,n),v=T.useRef(0),y=T.useRef(),x=function(){var w=p.current,E=r&&y.current?y.current:Qbe(w);if(E){y.current=E;var O=Xbe(E,w.value||w.placeholder||"x",s,i),A=O[0],F=O[1];v.current!==A&&(v.current=A,w.style.setProperty("height",A+"px","important"),c(A,{rowHeight:F}))}},b=function(w){f||x(),a(w)};return T.useLayoutEffect(x),Jbe(x),T.createElement("textarea",ve({},h,{onChange:b,ref:m}))},txe=T.forwardRef(exe);const TL=txe;function aR(t,e){return Qe(t,{value:e})}function nxe(t,e){return ze(t,r=>{var i;return{value:r.id,label:r.name,typeColor:((i=Qe(e,{id:r.type}))==null?void 0:i.color)||"#ffffff"}})}function lR(t,e,n,r){const i=da(gr(nxe(e,r),s=>!tf(t,s.value)),"label");return n?[{value:null,label:"(None)"},...i]:i}function AL({usedOptions:t,valueChanged:e,defaultValue:n,showEmptyOption:r=!1}){const{abilities:i,abilityTypes:s}=T.useContext(Jn),[o,a]=T.useState(lR(t,i,r,s));return k(vf,{className:"ability-select",styles:yf({dot:!0,colorProp:"typeColor"}),options:lR(t,i,r,s),onChange:l=>e(l==null?void 0:l.value),defaultValue:n?aR(o,n):null,value:aR(o,n)})}function vn({children:t,name:e,startOpen:n,disabled:r=!1}){const[i,s]=T.useState(n),o=a=>{r||s(!i)};return i?te("div",{className:uo({accordion:!0,open:!0,disabled:r}),children:[te("button",{className:"accordion-button",onClick:o,children:[e,k(YD,{})]}),k("div",{className:"container",children:t})]}):k("div",{className:uo({accordion:!0,closed:!0,disabled:r}),children:te("button",{className:"accordion-button",onClick:o,children:[e,k("span",{className:"icon",children:k(XD,{})})]})})}function uR(t={}){return t?ze(Object.keys(t),e=>({name:e,value:t[e]})):[]}function cR(t){let e={};return vt(t,n=>{e[n.name]=n.value}),e}function rxe({ability:t,abilityChanged:e,editingCanceled:n,abilityRemoved:r,abilityCopied:i}){const{setAbilities:s}=T.useContext(Jn),[o,a]=T.useState(t.id),[l,c]=T.useState(t),[h,f]=T.useState(uR(t.params)),p=T.useRef(null);T.useEffect(()=>{var E;(E=p.current)==null||E.focus(),setTimeout(()=>{var O;(O=p.current)==null||O.scrollIntoView({block:"start"})})},[]),T.useEffect(()=>{f(uR(t.params))},[t]);const m=(E,O)=>{c({...l,[E]:O})},v=E=>{c({...l,tags:E})},y=E=>{c({...l,type:E})},x=E=>{f(E)},b=()=>{Ss(e)&&e({ability:{...l,params:cR(h)},id:t.id}),s({type:"update",ability:{...l,params:cR(h),tags:Ik(l.tags)},targetId:o}),s({type:"save"})},S=()=>{Ss(r)&&r(t.id)},w=()=>{const E=`${t.id}-copy`;b(),s({type:"add",ability:{...l,tags:Ik(l.tags),id:E,name:`${t.name} Copy`}}),Ss(i)&&i({id:E})};return te("div",{className:"ability-card editable",children:[te("div",{className:"name",children:[k(St,{color:"info",clicked:()=>{Ss(n)&&n()},children:k(JS,{})}),k("div",{className:"form-control",children:k("input",{ref:p,type:"text",value:l.name,onChange:E=>m("name",E.target.value)})})]}),te("div",{className:"replaces",children:[k("div",{className:"replaces-name",children:"Replaces"}),k(AL,{usedOptions:[l.id],defaultValue:l.replaces,valueChanged:E=>m("replaces",E),showEmptyOption:!0})]}),te("p",{className:"description form-control",children:[" ",k(TL,{placeholder:"Description",rows:10,value:l.description||"",onChange:E=>m("description",E.target.value)})]}),te("div",{className:"accordions",children:[k(vn,{name:"Tags",startOpen:!0,children:k("div",{className:"tags",children:k(Wbe,{tags:l.tags,type:l.type,tagsChanged:v,typeChanged:y})})}),k(vn,{name:"Params",startOpen:!0,children:k("div",{className:"params",children:k(xre,{params:h,paramsChanged:x})})})]}),te("div",{className:"buttons",children:[te(Qi,{type:"outline",color:"success",clicked:b,children:["Save ",k(al,{})]}),te(Qi,{type:"outline",color:"theme",clicked:w,children:["Save & Copy ",k(pQ,{})]}),te(Qi,{type:"outline",color:"danger",clicked:S,children:["Delete ",k(xo,{})]})]})]})}function ixe(t){let e={};vt(t,n=>{e[n.id]=n.modifier})}function sxe(t,e,n){let r=t;return vt(Object.keys(e),i=>{let s=e[i];e[i]&&e[i]>0?r=r.replace(new RegExp(`{\\b${i}\\b}([^*]+)\\{/\\b${i}\\b}`),"$1"):r=r.replace(new RegExp(`{\\b${i}\\b}([^*]+)\\{/\\b${i}\\b}`),""),r=r.replace(new RegExp("%"+i+"%","g"),s)}),n&&vt(Object.keys(n),i=>{let s=n[i];n[i]&&n[i]>0?r=r.replace(new RegExp(`{@\\b${i}\\b}([^*]+)\\{/\\b${i}\\b}`),"$1"):r=r.replace(new RegExp(`{@\\b${i}\\b}([^*]+)\\{/\\b${i}\\b}`),""),r=r.replace(new RegExp(`%@${i}%`,"g"),s)}),r}function hR(t,e,n){let r,i=ht(t.params);return i&&e&&vt(Object.keys(i),s=>{e[s]&&(i[s]=i[s]+e[s])}),t.params?r=sxe(t.description,i,n):Ss(t.description)?r=t.description({}):r=t.description,r}function Cd({ability:t,modifiers:e,tags:n,startOpen:r=!0,editable:i=!1,abilityCopied:s,abilityRemoved:o,forceIsEditing:a=!1,isExpanded:l}){var j,X,K,fe,ue;const{abilityTypes:c,globalParams:h}=T.useContext(Jn),{build:f}=T.useContext(Rs),{abilities:p}=T.useContext(Jn),{tagColors:m,setTagColors:v}=T.useContext(af),[y,x]=T.useState(Mr(f==null?void 0:f.globalParams)?ixe(h):f.globalParams),[b,S]=T.useState(hR(t,e,y)),[w,E]=T.useState(r),[O,A]=T.useState(!1),[F,L]=T.useState((j=Qe(c,{id:t.type}))==null?void 0:j.color);T.useEffect(()=>{x(f.globalParams)},[f]),T.useEffect(()=>{Mr(l)||E(!!l)},[l]),T.useEffect(()=>{a&&A(!0)},[a]);const H=Y=>{A(!1),v({type:"save"})},V=Y=>{s(Y)},z=Y=>{A(!1),o(Y)};return T.useEffect(()=>{S(hR(t,e,y))},[t,e]),O?k(rxe,{ability:t,abilityChanged:H,editingCanceled:()=>A(!1),abilityCopied:V,abilityRemoved:z}):te("div",{className:"ability-card",style:{borderColor:F},children:[te("div",{className:"name",children:[i&&k(St,{color:"mutedText",clicked:()=>A(!O),children:k(jS,{})}),te("button",{className:"card-title",onClick:()=>E(!w),children:[te("div",{className:"left",children:[t.name,k("div",{className:"dots",children:!w&&ze(t.tags,Y=>k("span",{className:"dot",style:{backgroundColor:m[Y]}},Y))})]}),k("div",{className:"chevron",children:w?k(YD,{}):k(XD,{})})]})]}),w?te("div",{className:"collapsible-content",children:[te("div",{className:"top",children:[t.replaces&&te("div",{className:"replaces",children:["Replaces"," ",k("span",{children:(X=Qe(p,{id:t.replaces}))==null?void 0:X.name})]}),k(F4,{className:"description",components:{code:({node:Y,...Z})=>k("span",{style:{color:"var(--themeColorText)",fontWeight:500},...Z}),ol:({node:Y,...Z})=>k("ol",{style:{margin:"0"},...Z}),p:({node:Y,...Z})=>k("p",{style:{margin:"0"},...Z}),strong:({node:Y,...Z})=>k("strong",{style:{color:"var(--textColor)",fontWeight:700},...Z}),em:({node:Y,...Z})=>k("i",{style:{color:"var(--infoColor)",fontWeight:400},...Z})},children:b})]}),k("div",{className:"bottom",children:te("div",{className:"tags",children:[k(_w,{color:((K=Qe(c,{id:t.type}))==null?void 0:K.color)||"#ffffff",label:(fe=Qe(c,{id:t.type}))==null?void 0:fe.name,emphasize:!0}),(ue=da(wd([...t.tags||[],...n||[]])))==null?void 0:ue.map(Y=>k(_w,{label:Y},Y))]})})]}):""]})}function Y1(t,e){return t?t.levels&&t.levels>1?e==null?void 0:e.acquired[t.id]:e!=null&&e.selected[t.id]?1:0:[]}function dR(t,e){return ze(t==null?void 0:t.providedAbilities,n=>({...Qe(e,{id:n.id}),modifiers:{}}))}function K1(t,e,n,r){let i={};return vt(t,s=>{var a;let o={...(a=e==null?void 0:e.abilities[s==null?void 0:s.id])==null?void 0:a.modifiers};vt(s.modifiers,l=>{n.levels&&n.levels>1?r.acquired[n.id]||(Mr(o[l.id])?o[l.id]=l.modifier:o[l.id]+=l.modifier*r.acquired[n.id]):r.selected[n.id]||(Mr(o[l.id])?o[l.id]=l.modifier:o[l.id]+=l.modifier)}),i[s.id]=o}),i}function Z1(t,e){var r;let n="";return(r=t==null?void 0:t.requires)!=null&&r.length&&(n=WD(t.requires,(i,s)=>{const o=Qe(e,{id:s.id});let a;return s.levels&&s.levels>1?a=`${o==null?void 0:o.name} (${s.levels})`:a=o==null?void 0:o.name,[...i,`${a}`]},[]).join(t.requirementType==="or"?" or ":" and ")),`${n}`}function oxe({graphEvents:t}){var E;const{selectedNodeId:e,nodes:n,nodeMeta:r}=T.useContext(bo),{build:i}=T.useContext(Rs),{abilities:s}=T.useContext(Jn),[o,a]=T.useState(Qe(n,{id:e})),[l,c]=T.useState(dR(o,s)),[h,f]=T.useState(o?K1(o==null?void 0:o.providedAbilities,i,o,r):{}),[p,m]=T.useState(Z1(o,n)),[v,y]=T.useState(Y1(o,r)),x=T.useRef(p);let b=(E=o==null?void 0:o.colors)==null?void 0:E.selected;const S=T.useRef(o);T.useEffect(()=>{t.subscribe({next:O=>{O.event==="nodeMetaUpdated"&&y(Y1(S.current,O.data.nodeMeta))}})},[]),T.useEffect(()=>{var O;f(K1((O=S.current)==null?void 0:O.providedAbilities,i,S.current,r))},[i]),T.useEffect(()=>{a(Qe(n,{id:e})),S.current=Qe(n,{id:e})},[e]),T.useEffect(()=>{var O;o&&(y(Y1(o,r)),b=(O=o==null?void 0:o.colors)==null?void 0:O.selected,c(dR(o,s)),f(K1(o==null?void 0:o.providedAbilities,i,o,r)),m(Z1(o,o)),x.current=Z1(o,n))},[o]);const w=O=>{if(r.available[e]){let A=v;o.levels&&o.levels>1?v===O+1?A=O:A=O+1:A=!A,y(A),t.next({event:"nodeAcquisitionChanged",data:{id:e,acquired:A}})}};return o?te("div",{className:"info-panel",children:[k("div",{children:o!=null&&o.levels?k("span",{className:"cost",children:rf(o==null?void 0:o.levels,O=>{var A;return k("span",{onClick:()=>w(O),className:uo({unavailable:!r.available[e],"level-points":!0,"not-acquired":v<O+1}),style:v>O?{background:b}:{},children:(A=o==null?void 0:o.levelCost)!=null&&A.length?o==null?void 0:o.levelCost[O]:o==null?void 0:o.levelCost},O)})}):k("span",{className:"cost",children:k("span",{onClick:()=>w(),className:uo({unavailable:!r.available[e],"level-points":!0,"not-acquired":!v}),style:v?{background:b}:{},children:(o==null?void 0:o.cost)>1?o==null?void 0:o.cost:""})})}),te("div",{className:"title",children:[o==null?void 0:o.name," "]}),k("div",{className:"divider",style:{backgroundColor:b}}),r!=null&&r.available[o==null?void 0:o.id]?null:te("div",{className:"requires",children:["Requires ",k("span",{className:"skill",children:x.current})]}),k("div",{className:"info-description",children:o==null?void 0:o.description}),l.length>0&&te("div",{className:"abilities",children:[k("div",{className:"title",children:"Related Abilities:"}),l&&l.map(O=>k(Cd,{ability:O,modifiers:h[O.id]},O.id))]})]}):k("div",{className:"info-panel",children:"Select a Node "})}const _o=T.createContext({});function axe(){const t=window.localStorage.getItem("dragon-config-version");if(t)try{return JSON.parse(t)}catch{return"0.0.0"}else return"0.0.0"}function lxe(t,e){const{type:n,version:r}=e;if(n==="set")return window.localStorage.setItem("dragon-config-version",JSON.stringify(r)),r}const uxe=({children:t})=>{const[e,n]=T.useState("build-slow"),[r,i]=T.useState("build-slow"),[s,o]=T.useState(!1),[a,l]=T.useState(!0),[c,h]=T.useReducer(lxe,axe());return k(_o.Provider,{value:{appMode:e,setAppMode:n,rightExpanded:s,setRightExpanded:o,leftExpanded:a,setLeftExpanded:l,version:c,setVersion:h,buildMode:r,setBuildMode:i},children:t})};function fR({itemSelected:t,selectedItem:e}){return te("div",{className:"left-menu",children:[k("button",{type:"button",className:e==="info"?"selected":"",onClick:i=>t(i,"info"),children:k(vQ,{})}),k("button",{type:"button",className:e==="settings"?"selected":"",onClick:i=>t(i,"settings"),children:k(KQ,{})})]})}function cxe({children:t,itemSelected:e,expanded:n}){const[r,i]=T.useState(null),{leftExpanded:s,setLeftExpanded:o,rightExpanded:a,setRightExpanded:l}=T.useContext(_o),c=(h,f)=>{(f===r||!s)&&o(!s),i(f),e(f)};return s?te("div",{className:"sidebar-left",children:[k(fR,{itemSelected:c,selectedItem:r}),k("div",{className:"sidebar-left-panel",children:t})]}):k("div",{className:"sidebar-left",children:k(fR,{itemSelected:c,selectedItem:null})})}var Td={},hxe={get exports(){return Td},set exports(t){Td=t}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,h="__lodash_placeholder__",f=1,p=2,m=4,v=1,y=2,x=1,b=2,S=4,w=8,E=16,O=32,A=64,F=128,L=256,H=512,V=30,z="...",j=800,X=16,K=1,fe=2,ue=3,Y=1/0,Z=9007199254740991,se=17976931348623157e292,G=0/0,M=4294967295,D=M-1,Q=M>>>1,J=[["ary",F],["bind",x],["bindKey",b],["curry",w],["curryRight",E],["flip",H],["partial",O],["partialRight",A],["rearg",L]],$="[object Arguments]",re="[object Array]",me="[object AsyncFunction]",Ie="[object Boolean]",Re="[object Date]",Xe="[object DOMException]",Se="[object Error]",et="[object Function]",tt="[object GeneratorFunction]",rt="[object Map]",Ot="[object Number]",Kr="[object Null]",Ln="[object Object]",Ye="[object Promise]",Pn="[object Proxy]",ki="[object RegExp]",kn="[object Set]",us="[object String]",Cl="[object Symbol]",I0="[object Undefined]",va="[object WeakMap]",R0="[object WeakSet]",ne="[object ArrayBuffer]",pe="[object DataView]",Fe="[object Float32Array]",ct="[object Float64Array]",dt="[object Int8Array]",Wn="[object Int16Array]",Zr="[object Int32Array]",xr="[object Uint8Array]",Ds="[object Uint8ClampedArray]",Ls="[object Uint16Array]",It="[object Uint32Array]",Dc=/\b__p \+= '';/g,Oi=/\b(__p \+=) '' \+/g,DN=/(__e\(.*?\)|\b__t\)) \+\n'';/g,mC=/&(?:amp|lt|gt|quot|#39);/g,gC=/[&<>"']/g,LN=RegExp(mC.source),BN=RegExp(gC.source),NN=/<%-([\s\S]+?)%>/g,$N=/<%([\s\S]+?)%>/g,vC=/<%=([\s\S]+?)%>/g,UN=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zN=/^\w*$/,HN=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,M0=/[\\^$.*+?()[\]{}|]/g,jN=RegExp(M0.source),F0=/^\s+/,WN=/\s/,GN=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,VN=/\{\n\/\* \[wrapped with (.+)\] \*/,qN=/,? & /,XN=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,YN=/[()=,{}\[\]\/\s]/,KN=/\\(\\)?/g,ZN=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,yC=/\w*$/,QN=/^[-+]0x[0-9a-f]+$/i,JN=/^0b[01]+$/i,e$=/^\[object .+?Constructor\]$/,t$=/^0o[0-7]+$/i,n$=/^(?:0|[1-9]\d*)$/,r$=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Pf=/($^)/,i$=/['\n\r\u2028\u2029\\]/g,kf="\\ud800-\\udfff",s$="\\u0300-\\u036f",o$="\\ufe20-\\ufe2f",a$="\\u20d0-\\u20ff",bC=s$+o$+a$,xC="\\u2700-\\u27bf",wC="a-z\\xdf-\\xf6\\xf8-\\xff",l$="\\xac\\xb1\\xd7\\xf7",u$="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",c$="\\u2000-\\u206f",h$=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",_C="A-Z\\xc0-\\xd6\\xd8-\\xde",SC="\\ufe0e\\ufe0f",EC=l$+u$+c$+h$,D0="['’]",d$="["+kf+"]",CC="["+EC+"]",Of="["+bC+"]",TC="\\d+",f$="["+xC+"]",AC="["+wC+"]",PC="[^"+kf+EC+TC+xC+wC+_C+"]",L0="\\ud83c[\\udffb-\\udfff]",p$="(?:"+Of+"|"+L0+")",kC="[^"+kf+"]",B0="(?:\\ud83c[\\udde6-\\uddff]){2}",N0="[\\ud800-\\udbff][\\udc00-\\udfff]",Tl="["+_C+"]",OC="\\u200d",IC="(?:"+AC+"|"+PC+")",m$="(?:"+Tl+"|"+PC+")",RC="(?:"+D0+"(?:d|ll|m|re|s|t|ve))?",MC="(?:"+D0+"(?:D|LL|M|RE|S|T|VE))?",FC=p$+"?",DC="["+SC+"]?",g$="(?:"+OC+"(?:"+[kC,B0,N0].join("|")+")"+DC+FC+")*",v$="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",y$="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",LC=DC+FC+g$,b$="(?:"+[f$,B0,N0].join("|")+")"+LC,x$="(?:"+[kC+Of+"?",Of,B0,N0,d$].join("|")+")",w$=RegExp(D0,"g"),_$=RegExp(Of,"g"),$0=RegExp(L0+"(?="+L0+")|"+x$+LC,"g"),S$=RegExp([Tl+"?"+AC+"+"+RC+"(?="+[CC,Tl,"$"].join("|")+")",m$+"+"+MC+"(?="+[CC,Tl+IC,"$"].join("|")+")",Tl+"?"+IC+"+"+RC,Tl+"+"+MC,y$,v$,TC,b$].join("|"),"g"),E$=RegExp("["+OC+kf+bC+SC+"]"),C$=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,T$=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],A$=-1,Rt={};Rt[Fe]=Rt[ct]=Rt[dt]=Rt[Wn]=Rt[Zr]=Rt[xr]=Rt[Ds]=Rt[Ls]=Rt[It]=!0,Rt[$]=Rt[re]=Rt[ne]=Rt[Ie]=Rt[pe]=Rt[Re]=Rt[Se]=Rt[et]=Rt[rt]=Rt[Ot]=Rt[Ln]=Rt[ki]=Rt[kn]=Rt[us]=Rt[va]=!1;var Tt={};Tt[$]=Tt[re]=Tt[ne]=Tt[pe]=Tt[Ie]=Tt[Re]=Tt[Fe]=Tt[ct]=Tt[dt]=Tt[Wn]=Tt[Zr]=Tt[rt]=Tt[Ot]=Tt[Ln]=Tt[ki]=Tt[kn]=Tt[us]=Tt[Cl]=Tt[xr]=Tt[Ds]=Tt[Ls]=Tt[It]=!0,Tt[Se]=Tt[et]=Tt[va]=!1;var P$={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},k$={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},O$={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},I$={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},R$=parseFloat,M$=parseInt,BC=typeof hr=="object"&&hr&&hr.Object===Object&&hr,F$=typeof self=="object"&&self&&self.Object===Object&&self,On=BC||F$||Function("return this")(),U0=e&&!e.nodeType&&e,ya=U0&&!0&&t&&!t.nodeType&&t,NC=ya&&ya.exports===U0,z0=NC&&BC.process,Qr=function(){try{var W=ya&&ya.require&&ya.require("util").types;return W||z0&&z0.binding&&z0.binding("util")}catch{}}(),$C=Qr&&Qr.isArrayBuffer,UC=Qr&&Qr.isDate,zC=Qr&&Qr.isMap,HC=Qr&&Qr.isRegExp,jC=Qr&&Qr.isSet,WC=Qr&&Qr.isTypedArray;function wr(W,ie,ee){switch(ee.length){case 0:return W.call(ie);case 1:return W.call(ie,ee[0]);case 2:return W.call(ie,ee[0],ee[1]);case 3:return W.call(ie,ee[0],ee[1],ee[2])}return W.apply(ie,ee)}function D$(W,ie,ee,_e){for(var We=-1,ft=W==null?0:W.length;++We<ft;){var pn=W[We];ie(_e,pn,ee(pn),W)}return _e}function Jr(W,ie){for(var ee=-1,_e=W==null?0:W.length;++ee<_e&&ie(W[ee],ee,W)!==!1;);return W}function L$(W,ie){for(var ee=W==null?0:W.length;ee--&&ie(W[ee],ee,W)!==!1;);return W}function GC(W,ie){for(var ee=-1,_e=W==null?0:W.length;++ee<_e;)if(!ie(W[ee],ee,W))return!1;return!0}function So(W,ie){for(var ee=-1,_e=W==null?0:W.length,We=0,ft=[];++ee<_e;){var pn=W[ee];ie(pn,ee,W)&&(ft[We++]=pn)}return ft}function If(W,ie){var ee=W==null?0:W.length;return!!ee&&Al(W,ie,0)>-1}function H0(W,ie,ee){for(var _e=-1,We=W==null?0:W.length;++_e<We;)if(ee(ie,W[_e]))return!0;return!1}function $t(W,ie){for(var ee=-1,_e=W==null?0:W.length,We=Array(_e);++ee<_e;)We[ee]=ie(W[ee],ee,W);return We}function Eo(W,ie){for(var ee=-1,_e=ie.length,We=W.length;++ee<_e;)W[We+ee]=ie[ee];return W}function j0(W,ie,ee,_e){var We=-1,ft=W==null?0:W.length;for(_e&&ft&&(ee=W[++We]);++We<ft;)ee=ie(ee,W[We],We,W);return ee}function B$(W,ie,ee,_e){var We=W==null?0:W.length;for(_e&&We&&(ee=W[--We]);We--;)ee=ie(ee,W[We],We,W);return ee}function W0(W,ie){for(var ee=-1,_e=W==null?0:W.length;++ee<_e;)if(ie(W[ee],ee,W))return!0;return!1}var N$=G0("length");function $$(W){return W.split("")}function U$(W){return W.match(XN)||[]}function VC(W,ie,ee){var _e;return ee(W,function(We,ft,pn){if(ie(We,ft,pn))return _e=ft,!1}),_e}function Rf(W,ie,ee,_e){for(var We=W.length,ft=ee+(_e?1:-1);_e?ft--:++ft<We;)if(ie(W[ft],ft,W))return ft;return-1}function Al(W,ie,ee){return ie===ie?Q$(W,ie,ee):Rf(W,qC,ee)}function z$(W,ie,ee,_e){for(var We=ee-1,ft=W.length;++We<ft;)if(_e(W[We],ie))return We;return-1}function qC(W){return W!==W}function XC(W,ie){var ee=W==null?0:W.length;return ee?q0(W,ie)/ee:G}function G0(W){return function(ie){return ie==null?n:ie[W]}}function V0(W){return function(ie){return W==null?n:W[ie]}}function YC(W,ie,ee,_e,We){return We(W,function(ft,pn,Et){ee=_e?(_e=!1,ft):ie(ee,ft,pn,Et)}),ee}function H$(W,ie){var ee=W.length;for(W.sort(ie);ee--;)W[ee]=W[ee].value;return W}function q0(W,ie){for(var ee,_e=-1,We=W.length;++_e<We;){var ft=ie(W[_e]);ft!==n&&(ee=ee===n?ft:ee+ft)}return ee}function X0(W,ie){for(var ee=-1,_e=Array(W);++ee<W;)_e[ee]=ie(ee);return _e}function j$(W,ie){return $t(ie,function(ee){return[ee,W[ee]]})}function KC(W){return W&&W.slice(0,eT(W)+1).replace(F0,"")}function _r(W){return function(ie){return W(ie)}}function Y0(W,ie){return $t(ie,function(ee){return W[ee]})}function Lc(W,ie){return W.has(ie)}function ZC(W,ie){for(var ee=-1,_e=W.length;++ee<_e&&Al(ie,W[ee],0)>-1;);return ee}function QC(W,ie){for(var ee=W.length;ee--&&Al(ie,W[ee],0)>-1;);return ee}function W$(W,ie){for(var ee=W.length,_e=0;ee--;)W[ee]===ie&&++_e;return _e}var G$=V0(P$),V$=V0(k$);function q$(W){return"\\"+I$[W]}function X$(W,ie){return W==null?n:W[ie]}function Pl(W){return E$.test(W)}function Y$(W){return C$.test(W)}function K$(W){for(var ie,ee=[];!(ie=W.next()).done;)ee.push(ie.value);return ee}function K0(W){var ie=-1,ee=Array(W.size);return W.forEach(function(_e,We){ee[++ie]=[We,_e]}),ee}function JC(W,ie){return function(ee){return W(ie(ee))}}function Co(W,ie){for(var ee=-1,_e=W.length,We=0,ft=[];++ee<_e;){var pn=W[ee];(pn===ie||pn===h)&&(W[ee]=h,ft[We++]=ee)}return ft}function Mf(W){var ie=-1,ee=Array(W.size);return W.forEach(function(_e){ee[++ie]=_e}),ee}function Z$(W){var ie=-1,ee=Array(W.size);return W.forEach(function(_e){ee[++ie]=[_e,_e]}),ee}function Q$(W,ie,ee){for(var _e=ee-1,We=W.length;++_e<We;)if(W[_e]===ie)return _e;return-1}function J$(W,ie,ee){for(var _e=ee+1;_e--;)if(W[_e]===ie)return _e;return _e}function kl(W){return Pl(W)?t6(W):N$(W)}function Ii(W){return Pl(W)?n6(W):$$(W)}function eT(W){for(var ie=W.length;ie--&&WN.test(W.charAt(ie)););return ie}var e6=V0(O$);function t6(W){for(var ie=$0.lastIndex=0;$0.test(W);)++ie;return ie}function n6(W){return W.match($0)||[]}function r6(W){return W.match(S$)||[]}var i6=function W(ie){ie=ie==null?On:Ol.defaults(On.Object(),ie,Ol.pick(On,T$));var ee=ie.Array,_e=ie.Date,We=ie.Error,ft=ie.Function,pn=ie.Math,Et=ie.Object,Z0=ie.RegExp,s6=ie.String,ei=ie.TypeError,Ff=ee.prototype,o6=ft.prototype,Il=Et.prototype,Df=ie["__core-js_shared__"],Lf=o6.toString,bt=Il.hasOwnProperty,a6=0,tT=function(){var u=/[^.]+$/.exec(Df&&Df.keys&&Df.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),Bf=Il.toString,l6=Lf.call(Et),u6=On._,c6=Z0("^"+Lf.call(bt).replace(M0,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Nf=NC?ie.Buffer:n,To=ie.Symbol,$f=ie.Uint8Array,nT=Nf?Nf.allocUnsafe:n,Uf=JC(Et.getPrototypeOf,Et),rT=Et.create,iT=Il.propertyIsEnumerable,zf=Ff.splice,sT=To?To.isConcatSpreadable:n,Bc=To?To.iterator:n,ba=To?To.toStringTag:n,Hf=function(){try{var u=Ea(Et,"defineProperty");return u({},"",{}),u}catch{}}(),h6=ie.clearTimeout!==On.clearTimeout&&ie.clearTimeout,d6=_e&&_e.now!==On.Date.now&&_e.now,f6=ie.setTimeout!==On.setTimeout&&ie.setTimeout,jf=pn.ceil,Wf=pn.floor,Q0=Et.getOwnPropertySymbols,p6=Nf?Nf.isBuffer:n,oT=ie.isFinite,m6=Ff.join,g6=JC(Et.keys,Et),mn=pn.max,Bn=pn.min,v6=_e.now,y6=ie.parseInt,aT=pn.random,b6=Ff.reverse,J0=Ea(ie,"DataView"),Nc=Ea(ie,"Map"),ey=Ea(ie,"Promise"),Rl=Ea(ie,"Set"),$c=Ea(ie,"WeakMap"),Uc=Ea(Et,"create"),Gf=$c&&new $c,Ml={},x6=Ca(J0),w6=Ca(Nc),_6=Ca(ey),S6=Ca(Rl),E6=Ca($c),Vf=To?To.prototype:n,zc=Vf?Vf.valueOf:n,lT=Vf?Vf.toString:n;function I(u){if(Zt(u)&&!Ge(u)&&!(u instanceof it)){if(u instanceof ti)return u;if(bt.call(u,"__wrapped__"))return uA(u)}return new ti(u)}var Fl=function(){function u(){}return function(d){if(!Gt(d))return{};if(rT)return rT(d);u.prototype=d;var g=new u;return u.prototype=n,g}}();function qf(){}function ti(u,d){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=n}I.templateSettings={escape:NN,evaluate:$N,interpolate:vC,variable:"",imports:{_:I}},I.prototype=qf.prototype,I.prototype.constructor=I,ti.prototype=Fl(qf.prototype),ti.prototype.constructor=ti;function it(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=M,this.__views__=[]}function C6(){var u=new it(this.__wrapped__);return u.__actions__=ir(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=ir(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=ir(this.__views__),u}function T6(){if(this.__filtered__){var u=new it(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function A6(){var u=this.__wrapped__.value(),d=this.__dir__,g=Ge(u),_=d<0,C=g?u.length:0,R=$8(0,C,this.__views__),N=R.start,U=R.end,q=U-N,oe=_?U:N-1,le=this.__iteratees__,ce=le.length,ye=0,Ce=Bn(q,this.__takeCount__);if(!g||!_&&C==q&&Ce==q)return RT(u,this.__actions__);var Be=[];e:for(;q--&&ye<Ce;){oe+=d;for(var Ke=-1,Ne=u[oe];++Ke<ce;){var nt=le[Ke],ot=nt.iteratee,Cr=nt.type,qn=ot(Ne);if(Cr==fe)Ne=qn;else if(!qn){if(Cr==K)continue e;break e}}Be[ye++]=Ne}return Be}it.prototype=Fl(qf.prototype),it.prototype.constructor=it;function xa(u){var d=-1,g=u==null?0:u.length;for(this.clear();++d<g;){var _=u[d];this.set(_[0],_[1])}}function P6(){this.__data__=Uc?Uc(null):{},this.size=0}function k6(u){var d=this.has(u)&&delete this.__data__[u];return this.size-=d?1:0,d}function O6(u){var d=this.__data__;if(Uc){var g=d[u];return g===l?n:g}return bt.call(d,u)?d[u]:n}function I6(u){var d=this.__data__;return Uc?d[u]!==n:bt.call(d,u)}function R6(u,d){var g=this.__data__;return this.size+=this.has(u)?0:1,g[u]=Uc&&d===n?l:d,this}xa.prototype.clear=P6,xa.prototype.delete=k6,xa.prototype.get=O6,xa.prototype.has=I6,xa.prototype.set=R6;function Bs(u){var d=-1,g=u==null?0:u.length;for(this.clear();++d<g;){var _=u[d];this.set(_[0],_[1])}}function M6(){this.__data__=[],this.size=0}function F6(u){var d=this.__data__,g=Xf(d,u);if(g<0)return!1;var _=d.length-1;return g==_?d.pop():zf.call(d,g,1),--this.size,!0}function D6(u){var d=this.__data__,g=Xf(d,u);return g<0?n:d[g][1]}function L6(u){return Xf(this.__data__,u)>-1}function B6(u,d){var g=this.__data__,_=Xf(g,u);return _<0?(++this.size,g.push([u,d])):g[_][1]=d,this}Bs.prototype.clear=M6,Bs.prototype.delete=F6,Bs.prototype.get=D6,Bs.prototype.has=L6,Bs.prototype.set=B6;function Ns(u){var d=-1,g=u==null?0:u.length;for(this.clear();++d<g;){var _=u[d];this.set(_[0],_[1])}}function N6(){this.size=0,this.__data__={hash:new xa,map:new(Nc||Bs),string:new xa}}function $6(u){var d=op(this,u).delete(u);return this.size-=d?1:0,d}function U6(u){return op(this,u).get(u)}function z6(u){return op(this,u).has(u)}function H6(u,d){var g=op(this,u),_=g.size;return g.set(u,d),this.size+=g.size==_?0:1,this}Ns.prototype.clear=N6,Ns.prototype.delete=$6,Ns.prototype.get=U6,Ns.prototype.has=z6,Ns.prototype.set=H6;function wa(u){var d=-1,g=u==null?0:u.length;for(this.__data__=new Ns;++d<g;)this.add(u[d])}function j6(u){return this.__data__.set(u,l),this}function W6(u){return this.__data__.has(u)}wa.prototype.add=wa.prototype.push=j6,wa.prototype.has=W6;function Ri(u){var d=this.__data__=new Bs(u);this.size=d.size}function G6(){this.__data__=new Bs,this.size=0}function V6(u){var d=this.__data__,g=d.delete(u);return this.size=d.size,g}function q6(u){return this.__data__.get(u)}function X6(u){return this.__data__.has(u)}function Y6(u,d){var g=this.__data__;if(g instanceof Bs){var _=g.__data__;if(!Nc||_.length<i-1)return _.push([u,d]),this.size=++g.size,this;g=this.__data__=new Ns(_)}return g.set(u,d),this.size=g.size,this}Ri.prototype.clear=G6,Ri.prototype.delete=V6,Ri.prototype.get=q6,Ri.prototype.has=X6,Ri.prototype.set=Y6;function uT(u,d){var g=Ge(u),_=!g&&Ta(u),C=!g&&!_&&Io(u),R=!g&&!_&&!C&&Nl(u),N=g||_||C||R,U=N?X0(u.length,s6):[],q=U.length;for(var oe in u)(d||bt.call(u,oe))&&!(N&&(oe=="length"||C&&(oe=="offset"||oe=="parent")||R&&(oe=="buffer"||oe=="byteLength"||oe=="byteOffset")||Hs(oe,q)))&&U.push(oe);return U}function cT(u){var d=u.length;return d?u[hy(0,d-1)]:n}function K6(u,d){return ap(ir(u),_a(d,0,u.length))}function Z6(u){return ap(ir(u))}function ty(u,d,g){(g!==n&&!Mi(u[d],g)||g===n&&!(d in u))&&$s(u,d,g)}function Hc(u,d,g){var _=u[d];(!(bt.call(u,d)&&Mi(_,g))||g===n&&!(d in u))&&$s(u,d,g)}function Xf(u,d){for(var g=u.length;g--;)if(Mi(u[g][0],d))return g;return-1}function Q6(u,d,g,_){return Ao(u,function(C,R,N){d(_,C,g(C),N)}),_}function hT(u,d){return u&&hs(d,bn(d),u)}function J6(u,d){return u&&hs(d,or(d),u)}function $s(u,d,g){d=="__proto__"&&Hf?Hf(u,d,{configurable:!0,enumerable:!0,value:g,writable:!0}):u[d]=g}function ny(u,d){for(var g=-1,_=d.length,C=ee(_),R=u==null;++g<_;)C[g]=R?n:Ly(u,d[g]);return C}function _a(u,d,g){return u===u&&(g!==n&&(u=u<=g?u:g),d!==n&&(u=u>=d?u:d)),u}function ni(u,d,g,_,C,R){var N,U=d&f,q=d&p,oe=d&m;if(g&&(N=C?g(u,_,C,R):g(u)),N!==n)return N;if(!Gt(u))return u;var le=Ge(u);if(le){if(N=z8(u),!U)return ir(u,N)}else{var ce=Nn(u),ye=ce==et||ce==tt;if(Io(u))return DT(u,U);if(ce==Ln||ce==$||ye&&!C){if(N=q||ye?{}:eA(u),!U)return q?O8(u,J6(N,u)):k8(u,hT(N,u))}else{if(!Tt[ce])return C?u:{};N=H8(u,ce,U)}}R||(R=new Ri);var Ce=R.get(u);if(Ce)return Ce;R.set(u,N),kA(u)?u.forEach(function(Ne){N.add(ni(Ne,d,g,Ne,u,R))}):AA(u)&&u.forEach(function(Ne,nt){N.set(nt,ni(Ne,d,g,nt,u,R))});var Be=oe?q?_y:wy:q?or:bn,Ke=le?n:Be(u);return Jr(Ke||u,function(Ne,nt){Ke&&(nt=Ne,Ne=u[nt]),Hc(N,nt,ni(Ne,d,g,nt,u,R))}),N}function e8(u){var d=bn(u);return function(g){return dT(g,u,d)}}function dT(u,d,g){var _=g.length;if(u==null)return!_;for(u=Et(u);_--;){var C=g[_],R=d[C],N=u[C];if(N===n&&!(C in u)||!R(N))return!1}return!0}function fT(u,d,g){if(typeof u!="function")throw new ei(o);return Yc(function(){u.apply(n,g)},d)}function jc(u,d,g,_){var C=-1,R=If,N=!0,U=u.length,q=[],oe=d.length;if(!U)return q;g&&(d=$t(d,_r(g))),_?(R=H0,N=!1):d.length>=i&&(R=Lc,N=!1,d=new wa(d));e:for(;++C<U;){var le=u[C],ce=g==null?le:g(le);if(le=_||le!==0?le:0,N&&ce===ce){for(var ye=oe;ye--;)if(d[ye]===ce)continue e;q.push(le)}else R(d,ce,_)||q.push(le)}return q}var Ao=UT(cs),pT=UT(iy,!0);function t8(u,d){var g=!0;return Ao(u,function(_,C,R){return g=!!d(_,C,R),g}),g}function Yf(u,d,g){for(var _=-1,C=u.length;++_<C;){var R=u[_],N=d(R);if(N!=null&&(U===n?N===N&&!Er(N):g(N,U)))var U=N,q=R}return q}function n8(u,d,g,_){var C=u.length;for(g=qe(g),g<0&&(g=-g>C?0:C+g),_=_===n||_>C?C:qe(_),_<0&&(_+=C),_=g>_?0:IA(_);g<_;)u[g++]=d;return u}function mT(u,d){var g=[];return Ao(u,function(_,C,R){d(_,C,R)&&g.push(_)}),g}function In(u,d,g,_,C){var R=-1,N=u.length;for(g||(g=W8),C||(C=[]);++R<N;){var U=u[R];d>0&&g(U)?d>1?In(U,d-1,g,_,C):Eo(C,U):_||(C[C.length]=U)}return C}var ry=zT(),gT=zT(!0);function cs(u,d){return u&&ry(u,d,bn)}function iy(u,d){return u&&gT(u,d,bn)}function Kf(u,d){return So(d,function(g){return js(u[g])})}function Sa(u,d){d=ko(d,u);for(var g=0,_=d.length;u!=null&&g<_;)u=u[ds(d[g++])];return g&&g==_?u:n}function vT(u,d,g){var _=d(u);return Ge(u)?_:Eo(_,g(u))}function Gn(u){return u==null?u===n?I0:Kr:ba&&ba in Et(u)?N8(u):Z8(u)}function sy(u,d){return u>d}function r8(u,d){return u!=null&&bt.call(u,d)}function i8(u,d){return u!=null&&d in Et(u)}function s8(u,d,g){return u>=Bn(d,g)&&u<mn(d,g)}function oy(u,d,g){for(var _=g?H0:If,C=u[0].length,R=u.length,N=R,U=ee(R),q=1/0,oe=[];N--;){var le=u[N];N&&d&&(le=$t(le,_r(d))),q=Bn(le.length,q),U[N]=!g&&(d||C>=120&&le.length>=120)?new wa(N&&le):n}le=u[0];var ce=-1,ye=U[0];e:for(;++ce<C&&oe.length<q;){var Ce=le[ce],Be=d?d(Ce):Ce;if(Ce=g||Ce!==0?Ce:0,!(ye?Lc(ye,Be):_(oe,Be,g))){for(N=R;--N;){var Ke=U[N];if(!(Ke?Lc(Ke,Be):_(u[N],Be,g)))continue e}ye&&ye.push(Be),oe.push(Ce)}}return oe}function o8(u,d,g,_){return cs(u,function(C,R,N){d(_,g(C),R,N)}),_}function Wc(u,d,g){d=ko(d,u),u=iA(u,d);var _=u==null?u:u[ds(ii(d))];return _==null?n:wr(_,u,g)}function yT(u){return Zt(u)&&Gn(u)==$}function a8(u){return Zt(u)&&Gn(u)==ne}function l8(u){return Zt(u)&&Gn(u)==Re}function Gc(u,d,g,_,C){return u===d?!0:u==null||d==null||!Zt(u)&&!Zt(d)?u!==u&&d!==d:u8(u,d,g,_,Gc,C)}function u8(u,d,g,_,C,R){var N=Ge(u),U=Ge(d),q=N?re:Nn(u),oe=U?re:Nn(d);q=q==$?Ln:q,oe=oe==$?Ln:oe;var le=q==Ln,ce=oe==Ln,ye=q==oe;if(ye&&Io(u)){if(!Io(d))return!1;N=!0,le=!1}if(ye&&!le)return R||(R=new Ri),N||Nl(u)?ZT(u,d,g,_,C,R):L8(u,d,q,g,_,C,R);if(!(g&v)){var Ce=le&&bt.call(u,"__wrapped__"),Be=ce&&bt.call(d,"__wrapped__");if(Ce||Be){var Ke=Ce?u.value():u,Ne=Be?d.value():d;return R||(R=new Ri),C(Ke,Ne,g,_,R)}}return ye?(R||(R=new Ri),B8(u,d,g,_,C,R)):!1}function c8(u){return Zt(u)&&Nn(u)==rt}function ay(u,d,g,_){var C=g.length,R=C,N=!_;if(u==null)return!R;for(u=Et(u);C--;){var U=g[C];if(N&&U[2]?U[1]!==u[U[0]]:!(U[0]in u))return!1}for(;++C<R;){U=g[C];var q=U[0],oe=u[q],le=U[1];if(N&&U[2]){if(oe===n&&!(q in u))return!1}else{var ce=new Ri;if(_)var ye=_(oe,le,q,u,d,ce);if(!(ye===n?Gc(le,oe,v|y,_,ce):ye))return!1}}return!0}function bT(u){if(!Gt(u)||V8(u))return!1;var d=js(u)?c6:e$;return d.test(Ca(u))}function h8(u){return Zt(u)&&Gn(u)==ki}function d8(u){return Zt(u)&&Nn(u)==kn}function f8(u){return Zt(u)&&fp(u.length)&&!!Rt[Gn(u)]}function xT(u){return typeof u=="function"?u:u==null?ar:typeof u=="object"?Ge(u)?ST(u[0],u[1]):_T(u):HA(u)}function ly(u){if(!Xc(u))return g6(u);var d=[];for(var g in Et(u))bt.call(u,g)&&g!="constructor"&&d.push(g);return d}function p8(u){if(!Gt(u))return K8(u);var d=Xc(u),g=[];for(var _ in u)_=="constructor"&&(d||!bt.call(u,_))||g.push(_);return g}function uy(u,d){return u<d}function wT(u,d){var g=-1,_=sr(u)?ee(u.length):[];return Ao(u,function(C,R,N){_[++g]=d(C,R,N)}),_}function _T(u){var d=Ey(u);return d.length==1&&d[0][2]?nA(d[0][0],d[0][1]):function(g){return g===u||ay(g,u,d)}}function ST(u,d){return Ty(u)&&tA(d)?nA(ds(u),d):function(g){var _=Ly(g,u);return _===n&&_===d?By(g,u):Gc(d,_,v|y)}}function Zf(u,d,g,_,C){u!==d&&ry(d,function(R,N){if(C||(C=new Ri),Gt(R))m8(u,d,N,g,Zf,_,C);else{var U=_?_(Py(u,N),R,N+"",u,d,C):n;U===n&&(U=R),ty(u,N,U)}},or)}function m8(u,d,g,_,C,R,N){var U=Py(u,g),q=Py(d,g),oe=N.get(q);if(oe){ty(u,g,oe);return}var le=R?R(U,q,g+"",u,d,N):n,ce=le===n;if(ce){var ye=Ge(q),Ce=!ye&&Io(q),Be=!ye&&!Ce&&Nl(q);le=q,ye||Ce||Be?Ge(U)?le=U:rn(U)?le=ir(U):Ce?(ce=!1,le=DT(q,!0)):Be?(ce=!1,le=LT(q,!0)):le=[]:Kc(q)||Ta(q)?(le=U,Ta(U)?le=RA(U):(!Gt(U)||js(U))&&(le=eA(q))):ce=!1}ce&&(N.set(q,le),C(le,q,_,R,N),N.delete(q)),ty(u,g,le)}function ET(u,d){var g=u.length;if(g)return d+=d<0?g:0,Hs(d,g)?u[d]:n}function CT(u,d,g){d.length?d=$t(d,function(R){return Ge(R)?function(N){return Sa(N,R.length===1?R[0]:R)}:R}):d=[ar];var _=-1;d=$t(d,_r(De()));var C=wT(u,function(R,N,U){var q=$t(d,function(oe){return oe(R)});return{criteria:q,index:++_,value:R}});return H$(C,function(R,N){return P8(R,N,g)})}function g8(u,d){return TT(u,d,function(g,_){return By(u,_)})}function TT(u,d,g){for(var _=-1,C=d.length,R={};++_<C;){var N=d[_],U=Sa(u,N);g(U,N)&&Vc(R,ko(N,u),U)}return R}function v8(u){return function(d){return Sa(d,u)}}function cy(u,d,g,_){var C=_?z$:Al,R=-1,N=d.length,U=u;for(u===d&&(d=ir(d)),g&&(U=$t(u,_r(g)));++R<N;)for(var q=0,oe=d[R],le=g?g(oe):oe;(q=C(U,le,q,_))>-1;)U!==u&&zf.call(U,q,1),zf.call(u,q,1);return u}function AT(u,d){for(var g=u?d.length:0,_=g-1;g--;){var C=d[g];if(g==_||C!==R){var R=C;Hs(C)?zf.call(u,C,1):py(u,C)}}return u}function hy(u,d){return u+Wf(aT()*(d-u+1))}function y8(u,d,g,_){for(var C=-1,R=mn(jf((d-u)/(g||1)),0),N=ee(R);R--;)N[_?R:++C]=u,u+=g;return N}function dy(u,d){var g="";if(!u||d<1||d>Z)return g;do d%2&&(g+=u),d=Wf(d/2),d&&(u+=u);while(d);return g}function Je(u,d){return ky(rA(u,d,ar),u+"")}function b8(u){return cT($l(u))}function x8(u,d){var g=$l(u);return ap(g,_a(d,0,g.length))}function Vc(u,d,g,_){if(!Gt(u))return u;d=ko(d,u);for(var C=-1,R=d.length,N=R-1,U=u;U!=null&&++C<R;){var q=ds(d[C]),oe=g;if(q==="__proto__"||q==="constructor"||q==="prototype")return u;if(C!=N){var le=U[q];oe=_?_(le,q,U):n,oe===n&&(oe=Gt(le)?le:Hs(d[C+1])?[]:{})}Hc(U,q,oe),U=U[q]}return u}var PT=Gf?function(u,d){return Gf.set(u,d),u}:ar,w8=Hf?function(u,d){return Hf(u,"toString",{configurable:!0,enumerable:!1,value:$y(d),writable:!0})}:ar;function _8(u){return ap($l(u))}function ri(u,d,g){var _=-1,C=u.length;d<0&&(d=-d>C?0:C+d),g=g>C?C:g,g<0&&(g+=C),C=d>g?0:g-d>>>0,d>>>=0;for(var R=ee(C);++_<C;)R[_]=u[_+d];return R}function S8(u,d){var g;return Ao(u,function(_,C,R){return g=d(_,C,R),!g}),!!g}function Qf(u,d,g){var _=0,C=u==null?_:u.length;if(typeof d=="number"&&d===d&&C<=Q){for(;_<C;){var R=_+C>>>1,N=u[R];N!==null&&!Er(N)&&(g?N<=d:N<d)?_=R+1:C=R}return C}return fy(u,d,ar,g)}function fy(u,d,g,_){var C=0,R=u==null?0:u.length;if(R===0)return 0;d=g(d);for(var N=d!==d,U=d===null,q=Er(d),oe=d===n;C<R;){var le=Wf((C+R)/2),ce=g(u[le]),ye=ce!==n,Ce=ce===null,Be=ce===ce,Ke=Er(ce);if(N)var Ne=_||Be;else oe?Ne=Be&&(_||ye):U?Ne=Be&&ye&&(_||!Ce):q?Ne=Be&&ye&&!Ce&&(_||!Ke):Ce||Ke?Ne=!1:Ne=_?ce<=d:ce<d;Ne?C=le+1:R=le}return Bn(R,D)}function kT(u,d){for(var g=-1,_=u.length,C=0,R=[];++g<_;){var N=u[g],U=d?d(N):N;if(!g||!Mi(U,q)){var q=U;R[C++]=N===0?0:N}}return R}function OT(u){return typeof u=="number"?u:Er(u)?G:+u}function Sr(u){if(typeof u=="string")return u;if(Ge(u))return $t(u,Sr)+"";if(Er(u))return lT?lT.call(u):"";var d=u+"";return d=="0"&&1/u==-Y?"-0":d}function Po(u,d,g){var _=-1,C=If,R=u.length,N=!0,U=[],q=U;if(g)N=!1,C=H0;else if(R>=i){var oe=d?null:F8(u);if(oe)return Mf(oe);N=!1,C=Lc,q=new wa}else q=d?[]:U;e:for(;++_<R;){var le=u[_],ce=d?d(le):le;if(le=g||le!==0?le:0,N&&ce===ce){for(var ye=q.length;ye--;)if(q[ye]===ce)continue e;d&&q.push(ce),U.push(le)}else C(q,ce,g)||(q!==U&&q.push(ce),U.push(le))}return U}function py(u,d){return d=ko(d,u),u=iA(u,d),u==null||delete u[ds(ii(d))]}function IT(u,d,g,_){return Vc(u,d,g(Sa(u,d)),_)}function Jf(u,d,g,_){for(var C=u.length,R=_?C:-1;(_?R--:++R<C)&&d(u[R],R,u););return g?ri(u,_?0:R,_?R+1:C):ri(u,_?R+1:0,_?C:R)}function RT(u,d){var g=u;return g instanceof it&&(g=g.value()),j0(d,function(_,C){return C.func.apply(C.thisArg,Eo([_],C.args))},g)}function my(u,d,g){var _=u.length;if(_<2)return _?Po(u[0]):[];for(var C=-1,R=ee(_);++C<_;)for(var N=u[C],U=-1;++U<_;)U!=C&&(R[C]=jc(R[C]||N,u[U],d,g));return Po(In(R,1),d,g)}function MT(u,d,g){for(var _=-1,C=u.length,R=d.length,N={};++_<C;){var U=_<R?d[_]:n;g(N,u[_],U)}return N}function gy(u){return rn(u)?u:[]}function vy(u){return typeof u=="function"?u:ar}function ko(u,d){return Ge(u)?u:Ty(u,d)?[u]:lA(mt(u))}var E8=Je;function Oo(u,d,g){var _=u.length;return g=g===n?_:g,!d&&g>=_?u:ri(u,d,g)}var FT=h6||function(u){return On.clearTimeout(u)};function DT(u,d){if(d)return u.slice();var g=u.length,_=nT?nT(g):new u.constructor(g);return u.copy(_),_}function yy(u){var d=new u.constructor(u.byteLength);return new $f(d).set(new $f(u)),d}function C8(u,d){var g=d?yy(u.buffer):u.buffer;return new u.constructor(g,u.byteOffset,u.byteLength)}function T8(u){var d=new u.constructor(u.source,yC.exec(u));return d.lastIndex=u.lastIndex,d}function A8(u){return zc?Et(zc.call(u)):{}}function LT(u,d){var g=d?yy(u.buffer):u.buffer;return new u.constructor(g,u.byteOffset,u.length)}function BT(u,d){if(u!==d){var g=u!==n,_=u===null,C=u===u,R=Er(u),N=d!==n,U=d===null,q=d===d,oe=Er(d);if(!U&&!oe&&!R&&u>d||R&&N&&q&&!U&&!oe||_&&N&&q||!g&&q||!C)return 1;if(!_&&!R&&!oe&&u<d||oe&&g&&C&&!_&&!R||U&&g&&C||!N&&C||!q)return-1}return 0}function P8(u,d,g){for(var _=-1,C=u.criteria,R=d.criteria,N=C.length,U=g.length;++_<N;){var q=BT(C[_],R[_]);if(q){if(_>=U)return q;var oe=g[_];return q*(oe=="desc"?-1:1)}}return u.index-d.index}function NT(u,d,g,_){for(var C=-1,R=u.length,N=g.length,U=-1,q=d.length,oe=mn(R-N,0),le=ee(q+oe),ce=!_;++U<q;)le[U]=d[U];for(;++C<N;)(ce||C<R)&&(le[g[C]]=u[C]);for(;oe--;)le[U++]=u[C++];return le}function $T(u,d,g,_){for(var C=-1,R=u.length,N=-1,U=g.length,q=-1,oe=d.length,le=mn(R-U,0),ce=ee(le+oe),ye=!_;++C<le;)ce[C]=u[C];for(var Ce=C;++q<oe;)ce[Ce+q]=d[q];for(;++N<U;)(ye||C<R)&&(ce[Ce+g[N]]=u[C++]);return ce}function ir(u,d){var g=-1,_=u.length;for(d||(d=ee(_));++g<_;)d[g]=u[g];return d}function hs(u,d,g,_){var C=!g;g||(g={});for(var R=-1,N=d.length;++R<N;){var U=d[R],q=_?_(g[U],u[U],U,g,u):n;q===n&&(q=u[U]),C?$s(g,U,q):Hc(g,U,q)}return g}function k8(u,d){return hs(u,Cy(u),d)}function O8(u,d){return hs(u,QT(u),d)}function ep(u,d){return function(g,_){var C=Ge(g)?D$:Q6,R=d?d():{};return C(g,u,De(_,2),R)}}function Dl(u){return Je(function(d,g){var _=-1,C=g.length,R=C>1?g[C-1]:n,N=C>2?g[2]:n;for(R=u.length>3&&typeof R=="function"?(C--,R):n,N&&Vn(g[0],g[1],N)&&(R=C<3?n:R,C=1),d=Et(d);++_<C;){var U=g[_];U&&u(d,U,_,R)}return d})}function UT(u,d){return function(g,_){if(g==null)return g;if(!sr(g))return u(g,_);for(var C=g.length,R=d?C:-1,N=Et(g);(d?R--:++R<C)&&_(N[R],R,N)!==!1;);return g}}function zT(u){return function(d,g,_){for(var C=-1,R=Et(d),N=_(d),U=N.length;U--;){var q=N[u?U:++C];if(g(R[q],q,R)===!1)break}return d}}function I8(u,d,g){var _=d&x,C=qc(u);function R(){var N=this&&this!==On&&this instanceof R?C:u;return N.apply(_?g:this,arguments)}return R}function HT(u){return function(d){d=mt(d);var g=Pl(d)?Ii(d):n,_=g?g[0]:d.charAt(0),C=g?Oo(g,1).join(""):d.slice(1);return _[u]()+C}}function Ll(u){return function(d){return j0(UA($A(d).replace(w$,"")),u,"")}}function qc(u){return function(){var d=arguments;switch(d.length){case 0:return new u;case 1:return new u(d[0]);case 2:return new u(d[0],d[1]);case 3:return new u(d[0],d[1],d[2]);case 4:return new u(d[0],d[1],d[2],d[3]);case 5:return new u(d[0],d[1],d[2],d[3],d[4]);case 6:return new u(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new u(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var g=Fl(u.prototype),_=u.apply(g,d);return Gt(_)?_:g}}function R8(u,d,g){var _=qc(u);function C(){for(var R=arguments.length,N=ee(R),U=R,q=Bl(C);U--;)N[U]=arguments[U];var oe=R<3&&N[0]!==q&&N[R-1]!==q?[]:Co(N,q);if(R-=oe.length,R<g)return qT(u,d,tp,C.placeholder,n,N,oe,n,n,g-R);var le=this&&this!==On&&this instanceof C?_:u;return wr(le,this,N)}return C}function jT(u){return function(d,g,_){var C=Et(d);if(!sr(d)){var R=De(g,3);d=bn(d),g=function(U){return R(C[U],U,C)}}var N=u(d,g,_);return N>-1?C[R?d[N]:N]:n}}function WT(u){return zs(function(d){var g=d.length,_=g,C=ti.prototype.thru;for(u&&d.reverse();_--;){var R=d[_];if(typeof R!="function")throw new ei(o);if(C&&!N&&sp(R)=="wrapper")var N=new ti([],!0)}for(_=N?_:g;++_<g;){R=d[_];var U=sp(R),q=U=="wrapper"?Sy(R):n;q&&Ay(q[0])&&q[1]==(F|w|O|L)&&!q[4].length&&q[9]==1?N=N[sp(q[0])].apply(N,q[3]):N=R.length==1&&Ay(R)?N[U]():N.thru(R)}return function(){var oe=arguments,le=oe[0];if(N&&oe.length==1&&Ge(le))return N.plant(le).value();for(var ce=0,ye=g?d[ce].apply(this,oe):le;++ce<g;)ye=d[ce].call(this,ye);return ye}})}function tp(u,d,g,_,C,R,N,U,q,oe){var le=d&F,ce=d&x,ye=d&b,Ce=d&(w|E),Be=d&H,Ke=ye?n:qc(u);function Ne(){for(var nt=arguments.length,ot=ee(nt),Cr=nt;Cr--;)ot[Cr]=arguments[Cr];if(Ce)var qn=Bl(Ne),Tr=W$(ot,qn);if(_&&(ot=NT(ot,_,C,Ce)),R&&(ot=$T(ot,R,N,Ce)),nt-=Tr,Ce&&nt<oe){var sn=Co(ot,qn);return qT(u,d,tp,Ne.placeholder,g,ot,sn,U,q,oe-nt)}var Fi=ce?g:this,Gs=ye?Fi[u]:u;return nt=ot.length,U?ot=Q8(ot,U):Be&&nt>1&&ot.reverse(),le&&q<nt&&(ot.length=q),this&&this!==On&&this instanceof Ne&&(Gs=Ke||qc(Gs)),Gs.apply(Fi,ot)}return Ne}function GT(u,d){return function(g,_){return o8(g,u,d(_),{})}}function np(u,d){return function(g,_){var C;if(g===n&&_===n)return d;if(g!==n&&(C=g),_!==n){if(C===n)return _;typeof g=="string"||typeof _=="string"?(g=Sr(g),_=Sr(_)):(g=OT(g),_=OT(_)),C=u(g,_)}return C}}function by(u){return zs(function(d){return d=$t(d,_r(De())),Je(function(g){var _=this;return u(d,function(C){return wr(C,_,g)})})})}function rp(u,d){d=d===n?" ":Sr(d);var g=d.length;if(g<2)return g?dy(d,u):d;var _=dy(d,jf(u/kl(d)));return Pl(d)?Oo(Ii(_),0,u).join(""):_.slice(0,u)}function M8(u,d,g,_){var C=d&x,R=qc(u);function N(){for(var U=-1,q=arguments.length,oe=-1,le=_.length,ce=ee(le+q),ye=this&&this!==On&&this instanceof N?R:u;++oe<le;)ce[oe]=_[oe];for(;q--;)ce[oe++]=arguments[++U];return wr(ye,C?g:this,ce)}return N}function VT(u){return function(d,g,_){return _&&typeof _!="number"&&Vn(d,g,_)&&(g=_=n),d=Ws(d),g===n?(g=d,d=0):g=Ws(g),_=_===n?d<g?1:-1:Ws(_),y8(d,g,_,u)}}function ip(u){return function(d,g){return typeof d=="string"&&typeof g=="string"||(d=si(d),g=si(g)),u(d,g)}}function qT(u,d,g,_,C,R,N,U,q,oe){var le=d&w,ce=le?N:n,ye=le?n:N,Ce=le?R:n,Be=le?n:R;d|=le?O:A,d&=~(le?A:O),d&S||(d&=~(x|b));var Ke=[u,d,C,Ce,ce,Be,ye,U,q,oe],Ne=g.apply(n,Ke);return Ay(u)&&sA(Ne,Ke),Ne.placeholder=_,oA(Ne,u,d)}function xy(u){var d=pn[u];return function(g,_){if(g=si(g),_=_==null?0:Bn(qe(_),292),_&&oT(g)){var C=(mt(g)+"e").split("e"),R=d(C[0]+"e"+(+C[1]+_));return C=(mt(R)+"e").split("e"),+(C[0]+"e"+(+C[1]-_))}return d(g)}}var F8=Rl&&1/Mf(new Rl([,-0]))[1]==Y?function(u){return new Rl(u)}:Hy;function XT(u){return function(d){var g=Nn(d);return g==rt?K0(d):g==kn?Z$(d):j$(d,u(d))}}function Us(u,d,g,_,C,R,N,U){var q=d&b;if(!q&&typeof u!="function")throw new ei(o);var oe=_?_.length:0;if(oe||(d&=~(O|A),_=C=n),N=N===n?N:mn(qe(N),0),U=U===n?U:qe(U),oe-=C?C.length:0,d&A){var le=_,ce=C;_=C=n}var ye=q?n:Sy(u),Ce=[u,d,g,_,C,le,ce,R,N,U];if(ye&&Y8(Ce,ye),u=Ce[0],d=Ce[1],g=Ce[2],_=Ce[3],C=Ce[4],U=Ce[9]=Ce[9]===n?q?0:u.length:mn(Ce[9]-oe,0),!U&&d&(w|E)&&(d&=~(w|E)),!d||d==x)var Be=I8(u,d,g);else d==w||d==E?Be=R8(u,d,U):(d==O||d==(x|O))&&!C.length?Be=M8(u,d,g,_):Be=tp.apply(n,Ce);var Ke=ye?PT:sA;return oA(Ke(Be,Ce),u,d)}function YT(u,d,g,_){return u===n||Mi(u,Il[g])&&!bt.call(_,g)?d:u}function KT(u,d,g,_,C,R){return Gt(u)&&Gt(d)&&(R.set(d,u),Zf(u,d,n,KT,R),R.delete(d)),u}function D8(u){return Kc(u)?n:u}function ZT(u,d,g,_,C,R){var N=g&v,U=u.length,q=d.length;if(U!=q&&!(N&&q>U))return!1;var oe=R.get(u),le=R.get(d);if(oe&&le)return oe==d&&le==u;var ce=-1,ye=!0,Ce=g&y?new wa:n;for(R.set(u,d),R.set(d,u);++ce<U;){var Be=u[ce],Ke=d[ce];if(_)var Ne=N?_(Ke,Be,ce,d,u,R):_(Be,Ke,ce,u,d,R);if(Ne!==n){if(Ne)continue;ye=!1;break}if(Ce){if(!W0(d,function(nt,ot){if(!Lc(Ce,ot)&&(Be===nt||C(Be,nt,g,_,R)))return Ce.push(ot)})){ye=!1;break}}else if(!(Be===Ke||C(Be,Ke,g,_,R))){ye=!1;break}}return R.delete(u),R.delete(d),ye}function L8(u,d,g,_,C,R,N){switch(g){case pe:if(u.byteLength!=d.byteLength||u.byteOffset!=d.byteOffset)return!1;u=u.buffer,d=d.buffer;case ne:return!(u.byteLength!=d.byteLength||!R(new $f(u),new $f(d)));case Ie:case Re:case Ot:return Mi(+u,+d);case Se:return u.name==d.name&&u.message==d.message;case ki:case us:return u==d+"";case rt:var U=K0;case kn:var q=_&v;if(U||(U=Mf),u.size!=d.size&&!q)return!1;var oe=N.get(u);if(oe)return oe==d;_|=y,N.set(u,d);var le=ZT(U(u),U(d),_,C,R,N);return N.delete(u),le;case Cl:if(zc)return zc.call(u)==zc.call(d)}return!1}function B8(u,d,g,_,C,R){var N=g&v,U=wy(u),q=U.length,oe=wy(d),le=oe.length;if(q!=le&&!N)return!1;for(var ce=q;ce--;){var ye=U[ce];if(!(N?ye in d:bt.call(d,ye)))return!1}var Ce=R.get(u),Be=R.get(d);if(Ce&&Be)return Ce==d&&Be==u;var Ke=!0;R.set(u,d),R.set(d,u);for(var Ne=N;++ce<q;){ye=U[ce];var nt=u[ye],ot=d[ye];if(_)var Cr=N?_(ot,nt,ye,d,u,R):_(nt,ot,ye,u,d,R);if(!(Cr===n?nt===ot||C(nt,ot,g,_,R):Cr)){Ke=!1;break}Ne||(Ne=ye=="constructor")}if(Ke&&!Ne){var qn=u.constructor,Tr=d.constructor;qn!=Tr&&"constructor"in u&&"constructor"in d&&!(typeof qn=="function"&&qn instanceof qn&&typeof Tr=="function"&&Tr instanceof Tr)&&(Ke=!1)}return R.delete(u),R.delete(d),Ke}function zs(u){return ky(rA(u,n,dA),u+"")}function wy(u){return vT(u,bn,Cy)}function _y(u){return vT(u,or,QT)}var Sy=Gf?function(u){return Gf.get(u)}:Hy;function sp(u){for(var d=u.name+"",g=Ml[d],_=bt.call(Ml,d)?g.length:0;_--;){var C=g[_],R=C.func;if(R==null||R==u)return C.name}return d}function Bl(u){var d=bt.call(I,"placeholder")?I:u;return d.placeholder}function De(){var u=I.iteratee||Uy;return u=u===Uy?xT:u,arguments.length?u(arguments[0],arguments[1]):u}function op(u,d){var g=u.__data__;return G8(d)?g[typeof d=="string"?"string":"hash"]:g.map}function Ey(u){for(var d=bn(u),g=d.length;g--;){var _=d[g],C=u[_];d[g]=[_,C,tA(C)]}return d}function Ea(u,d){var g=X$(u,d);return bT(g)?g:n}function N8(u){var d=bt.call(u,ba),g=u[ba];try{u[ba]=n;var _=!0}catch{}var C=Bf.call(u);return _&&(d?u[ba]=g:delete u[ba]),C}var Cy=Q0?function(u){return u==null?[]:(u=Et(u),So(Q0(u),function(d){return iT.call(u,d)}))}:jy,QT=Q0?function(u){for(var d=[];u;)Eo(d,Cy(u)),u=Uf(u);return d}:jy,Nn=Gn;(J0&&Nn(new J0(new ArrayBuffer(1)))!=pe||Nc&&Nn(new Nc)!=rt||ey&&Nn(ey.resolve())!=Ye||Rl&&Nn(new Rl)!=kn||$c&&Nn(new $c)!=va)&&(Nn=function(u){var d=Gn(u),g=d==Ln?u.constructor:n,_=g?Ca(g):"";if(_)switch(_){case x6:return pe;case w6:return rt;case _6:return Ye;case S6:return kn;case E6:return va}return d});function $8(u,d,g){for(var _=-1,C=g.length;++_<C;){var R=g[_],N=R.size;switch(R.type){case"drop":u+=N;break;case"dropRight":d-=N;break;case"take":d=Bn(d,u+N);break;case"takeRight":u=mn(u,d-N);break}}return{start:u,end:d}}function U8(u){var d=u.match(VN);return d?d[1].split(qN):[]}function JT(u,d,g){d=ko(d,u);for(var _=-1,C=d.length,R=!1;++_<C;){var N=ds(d[_]);if(!(R=u!=null&&g(u,N)))break;u=u[N]}return R||++_!=C?R:(C=u==null?0:u.length,!!C&&fp(C)&&Hs(N,C)&&(Ge(u)||Ta(u)))}function z8(u){var d=u.length,g=new u.constructor(d);return d&&typeof u[0]=="string"&&bt.call(u,"index")&&(g.index=u.index,g.input=u.input),g}function eA(u){return typeof u.constructor=="function"&&!Xc(u)?Fl(Uf(u)):{}}function H8(u,d,g){var _=u.constructor;switch(d){case ne:return yy(u);case Ie:case Re:return new _(+u);case pe:return C8(u,g);case Fe:case ct:case dt:case Wn:case Zr:case xr:case Ds:case Ls:case It:return LT(u,g);case rt:return new _;case Ot:case us:return new _(u);case ki:return T8(u);case kn:return new _;case Cl:return A8(u)}}function j8(u,d){var g=d.length;if(!g)return u;var _=g-1;return d[_]=(g>1?"& ":"")+d[_],d=d.join(g>2?", ":" "),u.replace(GN,`{
/* [wrapped with `+d+`] */
`)}function W8(u){return Ge(u)||Ta(u)||!!(sT&&u&&u[sT])}function Hs(u,d){var g=typeof u;return d=d??Z,!!d&&(g=="number"||g!="symbol"&&n$.test(u))&&u>-1&&u%1==0&&u<d}function Vn(u,d,g){if(!Gt(g))return!1;var _=typeof d;return(_=="number"?sr(g)&&Hs(d,g.length):_=="string"&&d in g)?Mi(g[d],u):!1}function Ty(u,d){if(Ge(u))return!1;var g=typeof u;return g=="number"||g=="symbol"||g=="boolean"||u==null||Er(u)?!0:zN.test(u)||!UN.test(u)||d!=null&&u in Et(d)}function G8(u){var d=typeof u;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?u!=="__proto__":u===null}function Ay(u){var d=sp(u),g=I[d];if(typeof g!="function"||!(d in it.prototype))return!1;if(u===g)return!0;var _=Sy(g);return!!_&&u===_[0]}function V8(u){return!!tT&&tT in u}var q8=Df?js:Wy;function Xc(u){var d=u&&u.constructor,g=typeof d=="function"&&d.prototype||Il;return u===g}function tA(u){return u===u&&!Gt(u)}function nA(u,d){return function(g){return g==null?!1:g[u]===d&&(d!==n||u in Et(g))}}function X8(u){var d=hp(u,function(_){return g.size===c&&g.clear(),_}),g=d.cache;return d}function Y8(u,d){var g=u[1],_=d[1],C=g|_,R=C<(x|b|F),N=_==F&&g==w||_==F&&g==L&&u[7].length<=d[8]||_==(F|L)&&d[7].length<=d[8]&&g==w;if(!(R||N))return u;_&x&&(u[2]=d[2],C|=g&x?0:S);var U=d[3];if(U){var q=u[3];u[3]=q?NT(q,U,d[4]):U,u[4]=q?Co(u[3],h):d[4]}return U=d[5],U&&(q=u[5],u[5]=q?$T(q,U,d[6]):U,u[6]=q?Co(u[5],h):d[6]),U=d[7],U&&(u[7]=U),_&F&&(u[8]=u[8]==null?d[8]:Bn(u[8],d[8])),u[9]==null&&(u[9]=d[9]),u[0]=d[0],u[1]=C,u}function K8(u){var d=[];if(u!=null)for(var g in Et(u))d.push(g);return d}function Z8(u){return Bf.call(u)}function rA(u,d,g){return d=mn(d===n?u.length-1:d,0),function(){for(var _=arguments,C=-1,R=mn(_.length-d,0),N=ee(R);++C<R;)N[C]=_[d+C];C=-1;for(var U=ee(d+1);++C<d;)U[C]=_[C];return U[d]=g(N),wr(u,this,U)}}function iA(u,d){return d.length<2?u:Sa(u,ri(d,0,-1))}function Q8(u,d){for(var g=u.length,_=Bn(d.length,g),C=ir(u);_--;){var R=d[_];u[_]=Hs(R,g)?C[R]:n}return u}function Py(u,d){if(!(d==="constructor"&&typeof u[d]=="function")&&d!="__proto__")return u[d]}var sA=aA(PT),Yc=f6||function(u,d){return On.setTimeout(u,d)},ky=aA(w8);function oA(u,d,g){var _=d+"";return ky(u,j8(_,J8(U8(_),g)))}function aA(u){var d=0,g=0;return function(){var _=v6(),C=X-(_-g);if(g=_,C>0){if(++d>=j)return arguments[0]}else d=0;return u.apply(n,arguments)}}function ap(u,d){var g=-1,_=u.length,C=_-1;for(d=d===n?_:d;++g<d;){var R=hy(g,C),N=u[R];u[R]=u[g],u[g]=N}return u.length=d,u}var lA=X8(function(u){var d=[];return u.charCodeAt(0)===46&&d.push(""),u.replace(HN,function(g,_,C,R){d.push(C?R.replace(KN,"$1"):_||g)}),d});function ds(u){if(typeof u=="string"||Er(u))return u;var d=u+"";return d=="0"&&1/u==-Y?"-0":d}function Ca(u){if(u!=null){try{return Lf.call(u)}catch{}try{return u+""}catch{}}return""}function J8(u,d){return Jr(J,function(g){var _="_."+g[0];d&g[1]&&!If(u,_)&&u.push(_)}),u.sort()}function uA(u){if(u instanceof it)return u.clone();var d=new ti(u.__wrapped__,u.__chain__);return d.__actions__=ir(u.__actions__),d.__index__=u.__index__,d.__values__=u.__values__,d}function e7(u,d,g){(g?Vn(u,d,g):d===n)?d=1:d=mn(qe(d),0);var _=u==null?0:u.length;if(!_||d<1)return[];for(var C=0,R=0,N=ee(jf(_/d));C<_;)N[R++]=ri(u,C,C+=d);return N}function t7(u){for(var d=-1,g=u==null?0:u.length,_=0,C=[];++d<g;){var R=u[d];R&&(C[_++]=R)}return C}function n7(){var u=arguments.length;if(!u)return[];for(var d=ee(u-1),g=arguments[0],_=u;_--;)d[_-1]=arguments[_];return Eo(Ge(g)?ir(g):[g],In(d,1))}var r7=Je(function(u,d){return rn(u)?jc(u,In(d,1,rn,!0)):[]}),i7=Je(function(u,d){var g=ii(d);return rn(g)&&(g=n),rn(u)?jc(u,In(d,1,rn,!0),De(g,2)):[]}),s7=Je(function(u,d){var g=ii(d);return rn(g)&&(g=n),rn(u)?jc(u,In(d,1,rn,!0),n,g):[]});function o7(u,d,g){var _=u==null?0:u.length;return _?(d=g||d===n?1:qe(d),ri(u,d<0?0:d,_)):[]}function a7(u,d,g){var _=u==null?0:u.length;return _?(d=g||d===n?1:qe(d),d=_-d,ri(u,0,d<0?0:d)):[]}function l7(u,d){return u&&u.length?Jf(u,De(d,3),!0,!0):[]}function u7(u,d){return u&&u.length?Jf(u,De(d,3),!0):[]}function c7(u,d,g,_){var C=u==null?0:u.length;return C?(g&&typeof g!="number"&&Vn(u,d,g)&&(g=0,_=C),n8(u,d,g,_)):[]}function cA(u,d,g){var _=u==null?0:u.length;if(!_)return-1;var C=g==null?0:qe(g);return C<0&&(C=mn(_+C,0)),Rf(u,De(d,3),C)}function hA(u,d,g){var _=u==null?0:u.length;if(!_)return-1;var C=_-1;return g!==n&&(C=qe(g),C=g<0?mn(_+C,0):Bn(C,_-1)),Rf(u,De(d,3),C,!0)}function dA(u){var d=u==null?0:u.length;return d?In(u,1):[]}function h7(u){var d=u==null?0:u.length;return d?In(u,Y):[]}function d7(u,d){var g=u==null?0:u.length;return g?(d=d===n?1:qe(d),In(u,d)):[]}function f7(u){for(var d=-1,g=u==null?0:u.length,_={};++d<g;){var C=u[d];_[C[0]]=C[1]}return _}function fA(u){return u&&u.length?u[0]:n}function p7(u,d,g){var _=u==null?0:u.length;if(!_)return-1;var C=g==null?0:qe(g);return C<0&&(C=mn(_+C,0)),Al(u,d,C)}function m7(u){var d=u==null?0:u.length;return d?ri(u,0,-1):[]}var g7=Je(function(u){var d=$t(u,gy);return d.length&&d[0]===u[0]?oy(d):[]}),v7=Je(function(u){var d=ii(u),g=$t(u,gy);return d===ii(g)?d=n:g.pop(),g.length&&g[0]===u[0]?oy(g,De(d,2)):[]}),y7=Je(function(u){var d=ii(u),g=$t(u,gy);return d=typeof d=="function"?d:n,d&&g.pop(),g.length&&g[0]===u[0]?oy(g,n,d):[]});function b7(u,d){return u==null?"":m6.call(u,d)}function ii(u){var d=u==null?0:u.length;return d?u[d-1]:n}function x7(u,d,g){var _=u==null?0:u.length;if(!_)return-1;var C=_;return g!==n&&(C=qe(g),C=C<0?mn(_+C,0):Bn(C,_-1)),d===d?J$(u,d,C):Rf(u,qC,C,!0)}function w7(u,d){return u&&u.length?ET(u,qe(d)):n}var _7=Je(pA);function pA(u,d){return u&&u.length&&d&&d.length?cy(u,d):u}function S7(u,d,g){return u&&u.length&&d&&d.length?cy(u,d,De(g,2)):u}function E7(u,d,g){return u&&u.length&&d&&d.length?cy(u,d,n,g):u}var C7=zs(function(u,d){var g=u==null?0:u.length,_=ny(u,d);return AT(u,$t(d,function(C){return Hs(C,g)?+C:C}).sort(BT)),_});function T7(u,d){var g=[];if(!(u&&u.length))return g;var _=-1,C=[],R=u.length;for(d=De(d,3);++_<R;){var N=u[_];d(N,_,u)&&(g.push(N),C.push(_))}return AT(u,C),g}function Oy(u){return u==null?u:b6.call(u)}function A7(u,d,g){var _=u==null?0:u.length;return _?(g&&typeof g!="number"&&Vn(u,d,g)?(d=0,g=_):(d=d==null?0:qe(d),g=g===n?_:qe(g)),ri(u,d,g)):[]}function P7(u,d){return Qf(u,d)}function k7(u,d,g){return fy(u,d,De(g,2))}function O7(u,d){var g=u==null?0:u.length;if(g){var _=Qf(u,d);if(_<g&&Mi(u[_],d))return _}return-1}function I7(u,d){return Qf(u,d,!0)}function R7(u,d,g){return fy(u,d,De(g,2),!0)}function M7(u,d){var g=u==null?0:u.length;if(g){var _=Qf(u,d,!0)-1;if(Mi(u[_],d))return _}return-1}function F7(u){return u&&u.length?kT(u):[]}function D7(u,d){return u&&u.length?kT(u,De(d,2)):[]}function L7(u){var d=u==null?0:u.length;return d?ri(u,1,d):[]}function B7(u,d,g){return u&&u.length?(d=g||d===n?1:qe(d),ri(u,0,d<0?0:d)):[]}function N7(u,d,g){var _=u==null?0:u.length;return _?(d=g||d===n?1:qe(d),d=_-d,ri(u,d<0?0:d,_)):[]}function $7(u,d){return u&&u.length?Jf(u,De(d,3),!1,!0):[]}function U7(u,d){return u&&u.length?Jf(u,De(d,3)):[]}var z7=Je(function(u){return Po(In(u,1,rn,!0))}),H7=Je(function(u){var d=ii(u);return rn(d)&&(d=n),Po(In(u,1,rn,!0),De(d,2))}),j7=Je(function(u){var d=ii(u);return d=typeof d=="function"?d:n,Po(In(u,1,rn,!0),n,d)});function W7(u){return u&&u.length?Po(u):[]}function G7(u,d){return u&&u.length?Po(u,De(d,2)):[]}function V7(u,d){return d=typeof d=="function"?d:n,u&&u.length?Po(u,n,d):[]}function Iy(u){if(!(u&&u.length))return[];var d=0;return u=So(u,function(g){if(rn(g))return d=mn(g.length,d),!0}),X0(d,function(g){return $t(u,G0(g))})}function mA(u,d){if(!(u&&u.length))return[];var g=Iy(u);return d==null?g:$t(g,function(_){return wr(d,n,_)})}var q7=Je(function(u,d){return rn(u)?jc(u,d):[]}),X7=Je(function(u){return my(So(u,rn))}),Y7=Je(function(u){var d=ii(u);return rn(d)&&(d=n),my(So(u,rn),De(d,2))}),K7=Je(function(u){var d=ii(u);return d=typeof d=="function"?d:n,my(So(u,rn),n,d)}),Z7=Je(Iy);function Q7(u,d){return MT(u||[],d||[],Hc)}function J7(u,d){return MT(u||[],d||[],Vc)}var eU=Je(function(u){var d=u.length,g=d>1?u[d-1]:n;return g=typeof g=="function"?(u.pop(),g):n,mA(u,g)});function gA(u){var d=I(u);return d.__chain__=!0,d}function tU(u,d){return d(u),u}function lp(u,d){return d(u)}var nU=zs(function(u){var d=u.length,g=d?u[0]:0,_=this.__wrapped__,C=function(R){return ny(R,u)};return d>1||this.__actions__.length||!(_ instanceof it)||!Hs(g)?this.thru(C):(_=_.slice(g,+g+(d?1:0)),_.__actions__.push({func:lp,args:[C],thisArg:n}),new ti(_,this.__chain__).thru(function(R){return d&&!R.length&&R.push(n),R}))});function rU(){return gA(this)}function iU(){return new ti(this.value(),this.__chain__)}function sU(){this.__values__===n&&(this.__values__=OA(this.value()));var u=this.__index__>=this.__values__.length,d=u?n:this.__values__[this.__index__++];return{done:u,value:d}}function oU(){return this}function aU(u){for(var d,g=this;g instanceof qf;){var _=uA(g);_.__index__=0,_.__values__=n,d?C.__wrapped__=_:d=_;var C=_;g=g.__wrapped__}return C.__wrapped__=u,d}function lU(){var u=this.__wrapped__;if(u instanceof it){var d=u;return this.__actions__.length&&(d=new it(this)),d=d.reverse(),d.__actions__.push({func:lp,args:[Oy],thisArg:n}),new ti(d,this.__chain__)}return this.thru(Oy)}function uU(){return RT(this.__wrapped__,this.__actions__)}var cU=ep(function(u,d,g){bt.call(u,g)?++u[g]:$s(u,g,1)});function hU(u,d,g){var _=Ge(u)?GC:t8;return g&&Vn(u,d,g)&&(d=n),_(u,De(d,3))}function dU(u,d){var g=Ge(u)?So:mT;return g(u,De(d,3))}var fU=jT(cA),pU=jT(hA);function mU(u,d){return In(up(u,d),1)}function gU(u,d){return In(up(u,d),Y)}function vU(u,d,g){return g=g===n?1:qe(g),In(up(u,d),g)}function vA(u,d){var g=Ge(u)?Jr:Ao;return g(u,De(d,3))}function yA(u,d){var g=Ge(u)?L$:pT;return g(u,De(d,3))}var yU=ep(function(u,d,g){bt.call(u,g)?u[g].push(d):$s(u,g,[d])});function bU(u,d,g,_){u=sr(u)?u:$l(u),g=g&&!_?qe(g):0;var C=u.length;return g<0&&(g=mn(C+g,0)),pp(u)?g<=C&&u.indexOf(d,g)>-1:!!C&&Al(u,d,g)>-1}var xU=Je(function(u,d,g){var _=-1,C=typeof d=="function",R=sr(u)?ee(u.length):[];return Ao(u,function(N){R[++_]=C?wr(d,N,g):Wc(N,d,g)}),R}),wU=ep(function(u,d,g){$s(u,g,d)});function up(u,d){var g=Ge(u)?$t:wT;return g(u,De(d,3))}function _U(u,d,g,_){return u==null?[]:(Ge(d)||(d=d==null?[]:[d]),g=_?n:g,Ge(g)||(g=g==null?[]:[g]),CT(u,d,g))}var SU=ep(function(u,d,g){u[g?0:1].push(d)},function(){return[[],[]]});function EU(u,d,g){var _=Ge(u)?j0:YC,C=arguments.length<3;return _(u,De(d,4),g,C,Ao)}function CU(u,d,g){var _=Ge(u)?B$:YC,C=arguments.length<3;return _(u,De(d,4),g,C,pT)}function TU(u,d){var g=Ge(u)?So:mT;return g(u,dp(De(d,3)))}function AU(u){var d=Ge(u)?cT:b8;return d(u)}function PU(u,d,g){(g?Vn(u,d,g):d===n)?d=1:d=qe(d);var _=Ge(u)?K6:x8;return _(u,d)}function kU(u){var d=Ge(u)?Z6:_8;return d(u)}function OU(u){if(u==null)return 0;if(sr(u))return pp(u)?kl(u):u.length;var d=Nn(u);return d==rt||d==kn?u.size:ly(u).length}function IU(u,d,g){var _=Ge(u)?W0:S8;return g&&Vn(u,d,g)&&(d=n),_(u,De(d,3))}var RU=Je(function(u,d){if(u==null)return[];var g=d.length;return g>1&&Vn(u,d[0],d[1])?d=[]:g>2&&Vn(d[0],d[1],d[2])&&(d=[d[0]]),CT(u,In(d,1),[])}),cp=d6||function(){return On.Date.now()};function MU(u,d){if(typeof d!="function")throw new ei(o);return u=qe(u),function(){if(--u<1)return d.apply(this,arguments)}}function bA(u,d,g){return d=g?n:d,d=u&&d==null?u.length:d,Us(u,F,n,n,n,n,d)}function xA(u,d){var g;if(typeof d!="function")throw new ei(o);return u=qe(u),function(){return--u>0&&(g=d.apply(this,arguments)),u<=1&&(d=n),g}}var Ry=Je(function(u,d,g){var _=x;if(g.length){var C=Co(g,Bl(Ry));_|=O}return Us(u,_,d,g,C)}),wA=Je(function(u,d,g){var _=x|b;if(g.length){var C=Co(g,Bl(wA));_|=O}return Us(d,_,u,g,C)});function _A(u,d,g){d=g?n:d;var _=Us(u,w,n,n,n,n,n,d);return _.placeholder=_A.placeholder,_}function SA(u,d,g){d=g?n:d;var _=Us(u,E,n,n,n,n,n,d);return _.placeholder=SA.placeholder,_}function EA(u,d,g){var _,C,R,N,U,q,oe=0,le=!1,ce=!1,ye=!0;if(typeof u!="function")throw new ei(o);d=si(d)||0,Gt(g)&&(le=!!g.leading,ce="maxWait"in g,R=ce?mn(si(g.maxWait)||0,d):R,ye="trailing"in g?!!g.trailing:ye);function Ce(sn){var Fi=_,Gs=C;return _=C=n,oe=sn,N=u.apply(Gs,Fi),N}function Be(sn){return oe=sn,U=Yc(nt,d),le?Ce(sn):N}function Ke(sn){var Fi=sn-q,Gs=sn-oe,jA=d-Fi;return ce?Bn(jA,R-Gs):jA}function Ne(sn){var Fi=sn-q,Gs=sn-oe;return q===n||Fi>=d||Fi<0||ce&&Gs>=R}function nt(){var sn=cp();if(Ne(sn))return ot(sn);U=Yc(nt,Ke(sn))}function ot(sn){return U=n,ye&&_?Ce(sn):(_=C=n,N)}function Cr(){U!==n&&FT(U),oe=0,_=q=C=U=n}function qn(){return U===n?N:ot(cp())}function Tr(){var sn=cp(),Fi=Ne(sn);if(_=arguments,C=this,q=sn,Fi){if(U===n)return Be(q);if(ce)return FT(U),U=Yc(nt,d),Ce(q)}return U===n&&(U=Yc(nt,d)),N}return Tr.cancel=Cr,Tr.flush=qn,Tr}var FU=Je(function(u,d){return fT(u,1,d)}),DU=Je(function(u,d,g){return fT(u,si(d)||0,g)});function LU(u){return Us(u,H)}function hp(u,d){if(typeof u!="function"||d!=null&&typeof d!="function")throw new ei(o);var g=function(){var _=arguments,C=d?d.apply(this,_):_[0],R=g.cache;if(R.has(C))return R.get(C);var N=u.apply(this,_);return g.cache=R.set(C,N)||R,N};return g.cache=new(hp.Cache||Ns),g}hp.Cache=Ns;function dp(u){if(typeof u!="function")throw new ei(o);return function(){var d=arguments;switch(d.length){case 0:return!u.call(this);case 1:return!u.call(this,d[0]);case 2:return!u.call(this,d[0],d[1]);case 3:return!u.call(this,d[0],d[1],d[2])}return!u.apply(this,d)}}function BU(u){return xA(2,u)}var NU=E8(function(u,d){d=d.length==1&&Ge(d[0])?$t(d[0],_r(De())):$t(In(d,1),_r(De()));var g=d.length;return Je(function(_){for(var C=-1,R=Bn(_.length,g);++C<R;)_[C]=d[C].call(this,_[C]);return wr(u,this,_)})}),My=Je(function(u,d){var g=Co(d,Bl(My));return Us(u,O,n,d,g)}),CA=Je(function(u,d){var g=Co(d,Bl(CA));return Us(u,A,n,d,g)}),$U=zs(function(u,d){return Us(u,L,n,n,n,d)});function UU(u,d){if(typeof u!="function")throw new ei(o);return d=d===n?d:qe(d),Je(u,d)}function zU(u,d){if(typeof u!="function")throw new ei(o);return d=d==null?0:mn(qe(d),0),Je(function(g){var _=g[d],C=Oo(g,0,d);return _&&Eo(C,_),wr(u,this,C)})}function HU(u,d,g){var _=!0,C=!0;if(typeof u!="function")throw new ei(o);return Gt(g)&&(_="leading"in g?!!g.leading:_,C="trailing"in g?!!g.trailing:C),EA(u,d,{leading:_,maxWait:d,trailing:C})}function jU(u){return bA(u,1)}function WU(u,d){return My(vy(d),u)}function GU(){if(!arguments.length)return[];var u=arguments[0];return Ge(u)?u:[u]}function VU(u){return ni(u,m)}function qU(u,d){return d=typeof d=="function"?d:n,ni(u,m,d)}function XU(u){return ni(u,f|m)}function YU(u,d){return d=typeof d=="function"?d:n,ni(u,f|m,d)}function KU(u,d){return d==null||dT(u,d,bn(d))}function Mi(u,d){return u===d||u!==u&&d!==d}var ZU=ip(sy),QU=ip(function(u,d){return u>=d}),Ta=yT(function(){return arguments}())?yT:function(u){return Zt(u)&&bt.call(u,"callee")&&!iT.call(u,"callee")},Ge=ee.isArray,JU=$C?_r($C):a8;function sr(u){return u!=null&&fp(u.length)&&!js(u)}function rn(u){return Zt(u)&&sr(u)}function ez(u){return u===!0||u===!1||Zt(u)&&Gn(u)==Ie}var Io=p6||Wy,tz=UC?_r(UC):l8;function nz(u){return Zt(u)&&u.nodeType===1&&!Kc(u)}function rz(u){if(u==null)return!0;if(sr(u)&&(Ge(u)||typeof u=="string"||typeof u.splice=="function"||Io(u)||Nl(u)||Ta(u)))return!u.length;var d=Nn(u);if(d==rt||d==kn)return!u.size;if(Xc(u))return!ly(u).length;for(var g in u)if(bt.call(u,g))return!1;return!0}function iz(u,d){return Gc(u,d)}function sz(u,d,g){g=typeof g=="function"?g:n;var _=g?g(u,d):n;return _===n?Gc(u,d,n,g):!!_}function Fy(u){if(!Zt(u))return!1;var d=Gn(u);return d==Se||d==Xe||typeof u.message=="string"&&typeof u.name=="string"&&!Kc(u)}function oz(u){return typeof u=="number"&&oT(u)}function js(u){if(!Gt(u))return!1;var d=Gn(u);return d==et||d==tt||d==me||d==Pn}function TA(u){return typeof u=="number"&&u==qe(u)}function fp(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=Z}function Gt(u){var d=typeof u;return u!=null&&(d=="object"||d=="function")}function Zt(u){return u!=null&&typeof u=="object"}var AA=zC?_r(zC):c8;function az(u,d){return u===d||ay(u,d,Ey(d))}function lz(u,d,g){return g=typeof g=="function"?g:n,ay(u,d,Ey(d),g)}function uz(u){return PA(u)&&u!=+u}function cz(u){if(q8(u))throw new We(s);return bT(u)}function hz(u){return u===null}function dz(u){return u==null}function PA(u){return typeof u=="number"||Zt(u)&&Gn(u)==Ot}function Kc(u){if(!Zt(u)||Gn(u)!=Ln)return!1;var d=Uf(u);if(d===null)return!0;var g=bt.call(d,"constructor")&&d.constructor;return typeof g=="function"&&g instanceof g&&Lf.call(g)==l6}var Dy=HC?_r(HC):h8;function fz(u){return TA(u)&&u>=-Z&&u<=Z}var kA=jC?_r(jC):d8;function pp(u){return typeof u=="string"||!Ge(u)&&Zt(u)&&Gn(u)==us}function Er(u){return typeof u=="symbol"||Zt(u)&&Gn(u)==Cl}var Nl=WC?_r(WC):f8;function pz(u){return u===n}function mz(u){return Zt(u)&&Nn(u)==va}function gz(u){return Zt(u)&&Gn(u)==R0}var vz=ip(uy),yz=ip(function(u,d){return u<=d});function OA(u){if(!u)return[];if(sr(u))return pp(u)?Ii(u):ir(u);if(Bc&&u[Bc])return K$(u[Bc]());var d=Nn(u),g=d==rt?K0:d==kn?Mf:$l;return g(u)}function Ws(u){if(!u)return u===0?u:0;if(u=si(u),u===Y||u===-Y){var d=u<0?-1:1;return d*se}return u===u?u:0}function qe(u){var d=Ws(u),g=d%1;return d===d?g?d-g:d:0}function IA(u){return u?_a(qe(u),0,M):0}function si(u){if(typeof u=="number")return u;if(Er(u))return G;if(Gt(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=Gt(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=KC(u);var g=JN.test(u);return g||t$.test(u)?M$(u.slice(2),g?2:8):QN.test(u)?G:+u}function RA(u){return hs(u,or(u))}function bz(u){return u?_a(qe(u),-Z,Z):u===0?u:0}function mt(u){return u==null?"":Sr(u)}var xz=Dl(function(u,d){if(Xc(d)||sr(d)){hs(d,bn(d),u);return}for(var g in d)bt.call(d,g)&&Hc(u,g,d[g])}),MA=Dl(function(u,d){hs(d,or(d),u)}),mp=Dl(function(u,d,g,_){hs(d,or(d),u,_)}),wz=Dl(function(u,d,g,_){hs(d,bn(d),u,_)}),_z=zs(ny);function Sz(u,d){var g=Fl(u);return d==null?g:hT(g,d)}var Ez=Je(function(u,d){u=Et(u);var g=-1,_=d.length,C=_>2?d[2]:n;for(C&&Vn(d[0],d[1],C)&&(_=1);++g<_;)for(var R=d[g],N=or(R),U=-1,q=N.length;++U<q;){var oe=N[U],le=u[oe];(le===n||Mi(le,Il[oe])&&!bt.call(u,oe))&&(u[oe]=R[oe])}return u}),Cz=Je(function(u){return u.push(n,KT),wr(FA,n,u)});function Tz(u,d){return VC(u,De(d,3),cs)}function Az(u,d){return VC(u,De(d,3),iy)}function Pz(u,d){return u==null?u:ry(u,De(d,3),or)}function kz(u,d){return u==null?u:gT(u,De(d,3),or)}function Oz(u,d){return u&&cs(u,De(d,3))}function Iz(u,d){return u&&iy(u,De(d,3))}function Rz(u){return u==null?[]:Kf(u,bn(u))}function Mz(u){return u==null?[]:Kf(u,or(u))}function Ly(u,d,g){var _=u==null?n:Sa(u,d);return _===n?g:_}function Fz(u,d){return u!=null&&JT(u,d,r8)}function By(u,d){return u!=null&&JT(u,d,i8)}var Dz=GT(function(u,d,g){d!=null&&typeof d.toString!="function"&&(d=Bf.call(d)),u[d]=g},$y(ar)),Lz=GT(function(u,d,g){d!=null&&typeof d.toString!="function"&&(d=Bf.call(d)),bt.call(u,d)?u[d].push(g):u[d]=[g]},De),Bz=Je(Wc);function bn(u){return sr(u)?uT(u):ly(u)}function or(u){return sr(u)?uT(u,!0):p8(u)}function Nz(u,d){var g={};return d=De(d,3),cs(u,function(_,C,R){$s(g,d(_,C,R),_)}),g}function $z(u,d){var g={};return d=De(d,3),cs(u,function(_,C,R){$s(g,C,d(_,C,R))}),g}var Uz=Dl(function(u,d,g){Zf(u,d,g)}),FA=Dl(function(u,d,g,_){Zf(u,d,g,_)}),zz=zs(function(u,d){var g={};if(u==null)return g;var _=!1;d=$t(d,function(R){return R=ko(R,u),_||(_=R.length>1),R}),hs(u,_y(u),g),_&&(g=ni(g,f|p|m,D8));for(var C=d.length;C--;)py(g,d[C]);return g});function Hz(u,d){return DA(u,dp(De(d)))}var jz=zs(function(u,d){return u==null?{}:g8(u,d)});function DA(u,d){if(u==null)return{};var g=$t(_y(u),function(_){return[_]});return d=De(d),TT(u,g,function(_,C){return d(_,C[0])})}function Wz(u,d,g){d=ko(d,u);var _=-1,C=d.length;for(C||(C=1,u=n);++_<C;){var R=u==null?n:u[ds(d[_])];R===n&&(_=C,R=g),u=js(R)?R.call(u):R}return u}function Gz(u,d,g){return u==null?u:Vc(u,d,g)}function Vz(u,d,g,_){return _=typeof _=="function"?_:n,u==null?u:Vc(u,d,g,_)}var LA=XT(bn),BA=XT(or);function qz(u,d,g){var _=Ge(u),C=_||Io(u)||Nl(u);if(d=De(d,4),g==null){var R=u&&u.constructor;C?g=_?new R:[]:Gt(u)?g=js(R)?Fl(Uf(u)):{}:g={}}return(C?Jr:cs)(u,function(N,U,q){return d(g,N,U,q)}),g}function Xz(u,d){return u==null?!0:py(u,d)}function Yz(u,d,g){return u==null?u:IT(u,d,vy(g))}function Kz(u,d,g,_){return _=typeof _=="function"?_:n,u==null?u:IT(u,d,vy(g),_)}function $l(u){return u==null?[]:Y0(u,bn(u))}function Zz(u){return u==null?[]:Y0(u,or(u))}function Qz(u,d,g){return g===n&&(g=d,d=n),g!==n&&(g=si(g),g=g===g?g:0),d!==n&&(d=si(d),d=d===d?d:0),_a(si(u),d,g)}function Jz(u,d,g){return d=Ws(d),g===n?(g=d,d=0):g=Ws(g),u=si(u),s8(u,d,g)}function e9(u,d,g){if(g&&typeof g!="boolean"&&Vn(u,d,g)&&(d=g=n),g===n&&(typeof d=="boolean"?(g=d,d=n):typeof u=="boolean"&&(g=u,u=n)),u===n&&d===n?(u=0,d=1):(u=Ws(u),d===n?(d=u,u=0):d=Ws(d)),u>d){var _=u;u=d,d=_}if(g||u%1||d%1){var C=aT();return Bn(u+C*(d-u+R$("1e-"+((C+"").length-1))),d)}return hy(u,d)}var t9=Ll(function(u,d,g){return d=d.toLowerCase(),u+(g?NA(d):d)});function NA(u){return Ny(mt(u).toLowerCase())}function $A(u){return u=mt(u),u&&u.replace(r$,G$).replace(_$,"")}function n9(u,d,g){u=mt(u),d=Sr(d);var _=u.length;g=g===n?_:_a(qe(g),0,_);var C=g;return g-=d.length,g>=0&&u.slice(g,C)==d}function r9(u){return u=mt(u),u&&BN.test(u)?u.replace(gC,V$):u}function i9(u){return u=mt(u),u&&jN.test(u)?u.replace(M0,"\\$&"):u}var s9=Ll(function(u,d,g){return u+(g?"-":"")+d.toLowerCase()}),o9=Ll(function(u,d,g){return u+(g?" ":"")+d.toLowerCase()}),a9=HT("toLowerCase");function l9(u,d,g){u=mt(u),d=qe(d);var _=d?kl(u):0;if(!d||_>=d)return u;var C=(d-_)/2;return rp(Wf(C),g)+u+rp(jf(C),g)}function u9(u,d,g){u=mt(u),d=qe(d);var _=d?kl(u):0;return d&&_<d?u+rp(d-_,g):u}function c9(u,d,g){u=mt(u),d=qe(d);var _=d?kl(u):0;return d&&_<d?rp(d-_,g)+u:u}function h9(u,d,g){return g||d==null?d=0:d&&(d=+d),y6(mt(u).replace(F0,""),d||0)}function d9(u,d,g){return(g?Vn(u,d,g):d===n)?d=1:d=qe(d),dy(mt(u),d)}function f9(){var u=arguments,d=mt(u[0]);return u.length<3?d:d.replace(u[1],u[2])}var p9=Ll(function(u,d,g){return u+(g?"_":"")+d.toLowerCase()});function m9(u,d,g){return g&&typeof g!="number"&&Vn(u,d,g)&&(d=g=n),g=g===n?M:g>>>0,g?(u=mt(u),u&&(typeof d=="string"||d!=null&&!Dy(d))&&(d=Sr(d),!d&&Pl(u))?Oo(Ii(u),0,g):u.split(d,g)):[]}var g9=Ll(function(u,d,g){return u+(g?" ":"")+Ny(d)});function v9(u,d,g){return u=mt(u),g=g==null?0:_a(qe(g),0,u.length),d=Sr(d),u.slice(g,g+d.length)==d}function y9(u,d,g){var _=I.templateSettings;g&&Vn(u,d,g)&&(d=n),u=mt(u),d=mp({},d,_,YT);var C=mp({},d.imports,_.imports,YT),R=bn(C),N=Y0(C,R),U,q,oe=0,le=d.interpolate||Pf,ce="__p += '",ye=Z0((d.escape||Pf).source+"|"+le.source+"|"+(le===vC?ZN:Pf).source+"|"+(d.evaluate||Pf).source+"|$","g"),Ce="//# sourceURL="+(bt.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++A$+"]")+`
`;u.replace(ye,function(Ne,nt,ot,Cr,qn,Tr){return ot||(ot=Cr),ce+=u.slice(oe,Tr).replace(i$,q$),nt&&(U=!0,ce+=`' +
__e(`+nt+`) +
'`),qn&&(q=!0,ce+=`';
`+qn+`;
__p += '`),ot&&(ce+=`' +
((__t = (`+ot+`)) == null ? '' : __t) +
'`),oe=Tr+Ne.length,Ne}),ce+=`';
`;var Be=bt.call(d,"variable")&&d.variable;if(!Be)ce=`with (obj) {
`+ce+`
}
`;else if(YN.test(Be))throw new We(a);ce=(q?ce.replace(Dc,""):ce).replace(Oi,"$1").replace(DN,"$1;"),ce="function("+(Be||"obj")+`) {
`+(Be?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(U?", __e = _.escape":"")+(q?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ce+`return __p
}`;var Ke=zA(function(){return ft(R,Ce+"return "+ce).apply(n,N)});if(Ke.source=ce,Fy(Ke))throw Ke;return Ke}function b9(u){return mt(u).toLowerCase()}function x9(u){return mt(u).toUpperCase()}function w9(u,d,g){if(u=mt(u),u&&(g||d===n))return KC(u);if(!u||!(d=Sr(d)))return u;var _=Ii(u),C=Ii(d),R=ZC(_,C),N=QC(_,C)+1;return Oo(_,R,N).join("")}function _9(u,d,g){if(u=mt(u),u&&(g||d===n))return u.slice(0,eT(u)+1);if(!u||!(d=Sr(d)))return u;var _=Ii(u),C=QC(_,Ii(d))+1;return Oo(_,0,C).join("")}function S9(u,d,g){if(u=mt(u),u&&(g||d===n))return u.replace(F0,"");if(!u||!(d=Sr(d)))return u;var _=Ii(u),C=ZC(_,Ii(d));return Oo(_,C).join("")}function E9(u,d){var g=V,_=z;if(Gt(d)){var C="separator"in d?d.separator:C;g="length"in d?qe(d.length):g,_="omission"in d?Sr(d.omission):_}u=mt(u);var R=u.length;if(Pl(u)){var N=Ii(u);R=N.length}if(g>=R)return u;var U=g-kl(_);if(U<1)return _;var q=N?Oo(N,0,U).join(""):u.slice(0,U);if(C===n)return q+_;if(N&&(U+=q.length-U),Dy(C)){if(u.slice(U).search(C)){var oe,le=q;for(C.global||(C=Z0(C.source,mt(yC.exec(C))+"g")),C.lastIndex=0;oe=C.exec(le);)var ce=oe.index;q=q.slice(0,ce===n?U:ce)}}else if(u.indexOf(Sr(C),U)!=U){var ye=q.lastIndexOf(C);ye>-1&&(q=q.slice(0,ye))}return q+_}function C9(u){return u=mt(u),u&&LN.test(u)?u.replace(mC,e6):u}var T9=Ll(function(u,d,g){return u+(g?" ":"")+d.toUpperCase()}),Ny=HT("toUpperCase");function UA(u,d,g){return u=mt(u),d=g?n:d,d===n?Y$(u)?r6(u):U$(u):u.match(d)||[]}var zA=Je(function(u,d){try{return wr(u,n,d)}catch(g){return Fy(g)?g:new We(g)}}),A9=zs(function(u,d){return Jr(d,function(g){g=ds(g),$s(u,g,Ry(u[g],u))}),u});function P9(u){var d=u==null?0:u.length,g=De();return u=d?$t(u,function(_){if(typeof _[1]!="function")throw new ei(o);return[g(_[0]),_[1]]}):[],Je(function(_){for(var C=-1;++C<d;){var R=u[C];if(wr(R[0],this,_))return wr(R[1],this,_)}})}function k9(u){return e8(ni(u,f))}function $y(u){return function(){return u}}function O9(u,d){return u==null||u!==u?d:u}var I9=WT(),R9=WT(!0);function ar(u){return u}function Uy(u){return xT(typeof u=="function"?u:ni(u,f))}function M9(u){return _T(ni(u,f))}function F9(u,d){return ST(u,ni(d,f))}var D9=Je(function(u,d){return function(g){return Wc(g,u,d)}}),L9=Je(function(u,d){return function(g){return Wc(u,g,d)}});function zy(u,d,g){var _=bn(d),C=Kf(d,_);g==null&&!(Gt(d)&&(C.length||!_.length))&&(g=d,d=u,u=this,C=Kf(d,bn(d)));var R=!(Gt(g)&&"chain"in g)||!!g.chain,N=js(u);return Jr(C,function(U){var q=d[U];u[U]=q,N&&(u.prototype[U]=function(){var oe=this.__chain__;if(R||oe){var le=u(this.__wrapped__),ce=le.__actions__=ir(this.__actions__);return ce.push({func:q,args:arguments,thisArg:u}),le.__chain__=oe,le}return q.apply(u,Eo([this.value()],arguments))})}),u}function B9(){return On._===this&&(On._=u6),this}function Hy(){}function N9(u){return u=qe(u),Je(function(d){return ET(d,u)})}var $9=by($t),U9=by(GC),z9=by(W0);function HA(u){return Ty(u)?G0(ds(u)):v8(u)}function H9(u){return function(d){return u==null?n:Sa(u,d)}}var j9=VT(),W9=VT(!0);function jy(){return[]}function Wy(){return!1}function G9(){return{}}function V9(){return""}function q9(){return!0}function X9(u,d){if(u=qe(u),u<1||u>Z)return[];var g=M,_=Bn(u,M);d=De(d),u-=M;for(var C=X0(_,d);++g<u;)d(g);return C}function Y9(u){return Ge(u)?$t(u,ds):Er(u)?[u]:ir(lA(mt(u)))}function K9(u){var d=++a6;return mt(u)+d}var Z9=np(function(u,d){return u+d},0),Q9=xy("ceil"),J9=np(function(u,d){return u/d},1),eH=xy("floor");function tH(u){return u&&u.length?Yf(u,ar,sy):n}function nH(u,d){return u&&u.length?Yf(u,De(d,2),sy):n}function rH(u){return XC(u,ar)}function iH(u,d){return XC(u,De(d,2))}function sH(u){return u&&u.length?Yf(u,ar,uy):n}function oH(u,d){return u&&u.length?Yf(u,De(d,2),uy):n}var aH=np(function(u,d){return u*d},1),lH=xy("round"),uH=np(function(u,d){return u-d},0);function cH(u){return u&&u.length?q0(u,ar):0}function hH(u,d){return u&&u.length?q0(u,De(d,2)):0}return I.after=MU,I.ary=bA,I.assign=xz,I.assignIn=MA,I.assignInWith=mp,I.assignWith=wz,I.at=_z,I.before=xA,I.bind=Ry,I.bindAll=A9,I.bindKey=wA,I.castArray=GU,I.chain=gA,I.chunk=e7,I.compact=t7,I.concat=n7,I.cond=P9,I.conforms=k9,I.constant=$y,I.countBy=cU,I.create=Sz,I.curry=_A,I.curryRight=SA,I.debounce=EA,I.defaults=Ez,I.defaultsDeep=Cz,I.defer=FU,I.delay=DU,I.difference=r7,I.differenceBy=i7,I.differenceWith=s7,I.drop=o7,I.dropRight=a7,I.dropRightWhile=l7,I.dropWhile=u7,I.fill=c7,I.filter=dU,I.flatMap=mU,I.flatMapDeep=gU,I.flatMapDepth=vU,I.flatten=dA,I.flattenDeep=h7,I.flattenDepth=d7,I.flip=LU,I.flow=I9,I.flowRight=R9,I.fromPairs=f7,I.functions=Rz,I.functionsIn=Mz,I.groupBy=yU,I.initial=m7,I.intersection=g7,I.intersectionBy=v7,I.intersectionWith=y7,I.invert=Dz,I.invertBy=Lz,I.invokeMap=xU,I.iteratee=Uy,I.keyBy=wU,I.keys=bn,I.keysIn=or,I.map=up,I.mapKeys=Nz,I.mapValues=$z,I.matches=M9,I.matchesProperty=F9,I.memoize=hp,I.merge=Uz,I.mergeWith=FA,I.method=D9,I.methodOf=L9,I.mixin=zy,I.negate=dp,I.nthArg=N9,I.omit=zz,I.omitBy=Hz,I.once=BU,I.orderBy=_U,I.over=$9,I.overArgs=NU,I.overEvery=U9,I.overSome=z9,I.partial=My,I.partialRight=CA,I.partition=SU,I.pick=jz,I.pickBy=DA,I.property=HA,I.propertyOf=H9,I.pull=_7,I.pullAll=pA,I.pullAllBy=S7,I.pullAllWith=E7,I.pullAt=C7,I.range=j9,I.rangeRight=W9,I.rearg=$U,I.reject=TU,I.remove=T7,I.rest=UU,I.reverse=Oy,I.sampleSize=PU,I.set=Gz,I.setWith=Vz,I.shuffle=kU,I.slice=A7,I.sortBy=RU,I.sortedUniq=F7,I.sortedUniqBy=D7,I.split=m9,I.spread=zU,I.tail=L7,I.take=B7,I.takeRight=N7,I.takeRightWhile=$7,I.takeWhile=U7,I.tap=tU,I.throttle=HU,I.thru=lp,I.toArray=OA,I.toPairs=LA,I.toPairsIn=BA,I.toPath=Y9,I.toPlainObject=RA,I.transform=qz,I.unary=jU,I.union=z7,I.unionBy=H7,I.unionWith=j7,I.uniq=W7,I.uniqBy=G7,I.uniqWith=V7,I.unset=Xz,I.unzip=Iy,I.unzipWith=mA,I.update=Yz,I.updateWith=Kz,I.values=$l,I.valuesIn=Zz,I.without=q7,I.words=UA,I.wrap=WU,I.xor=X7,I.xorBy=Y7,I.xorWith=K7,I.zip=Z7,I.zipObject=Q7,I.zipObjectDeep=J7,I.zipWith=eU,I.entries=LA,I.entriesIn=BA,I.extend=MA,I.extendWith=mp,zy(I,I),I.add=Z9,I.attempt=zA,I.camelCase=t9,I.capitalize=NA,I.ceil=Q9,I.clamp=Qz,I.clone=VU,I.cloneDeep=XU,I.cloneDeepWith=YU,I.cloneWith=qU,I.conformsTo=KU,I.deburr=$A,I.defaultTo=O9,I.divide=J9,I.endsWith=n9,I.eq=Mi,I.escape=r9,I.escapeRegExp=i9,I.every=hU,I.find=fU,I.findIndex=cA,I.findKey=Tz,I.findLast=pU,I.findLastIndex=hA,I.findLastKey=Az,I.floor=eH,I.forEach=vA,I.forEachRight=yA,I.forIn=Pz,I.forInRight=kz,I.forOwn=Oz,I.forOwnRight=Iz,I.get=Ly,I.gt=ZU,I.gte=QU,I.has=Fz,I.hasIn=By,I.head=fA,I.identity=ar,I.includes=bU,I.indexOf=p7,I.inRange=Jz,I.invoke=Bz,I.isArguments=Ta,I.isArray=Ge,I.isArrayBuffer=JU,I.isArrayLike=sr,I.isArrayLikeObject=rn,I.isBoolean=ez,I.isBuffer=Io,I.isDate=tz,I.isElement=nz,I.isEmpty=rz,I.isEqual=iz,I.isEqualWith=sz,I.isError=Fy,I.isFinite=oz,I.isFunction=js,I.isInteger=TA,I.isLength=fp,I.isMap=AA,I.isMatch=az,I.isMatchWith=lz,I.isNaN=uz,I.isNative=cz,I.isNil=dz,I.isNull=hz,I.isNumber=PA,I.isObject=Gt,I.isObjectLike=Zt,I.isPlainObject=Kc,I.isRegExp=Dy,I.isSafeInteger=fz,I.isSet=kA,I.isString=pp,I.isSymbol=Er,I.isTypedArray=Nl,I.isUndefined=pz,I.isWeakMap=mz,I.isWeakSet=gz,I.join=b7,I.kebabCase=s9,I.last=ii,I.lastIndexOf=x7,I.lowerCase=o9,I.lowerFirst=a9,I.lt=vz,I.lte=yz,I.max=tH,I.maxBy=nH,I.mean=rH,I.meanBy=iH,I.min=sH,I.minBy=oH,I.stubArray=jy,I.stubFalse=Wy,I.stubObject=G9,I.stubString=V9,I.stubTrue=q9,I.multiply=aH,I.nth=w7,I.noConflict=B9,I.noop=Hy,I.now=cp,I.pad=l9,I.padEnd=u9,I.padStart=c9,I.parseInt=h9,I.random=e9,I.reduce=EU,I.reduceRight=CU,I.repeat=d9,I.replace=f9,I.result=Wz,I.round=lH,I.runInContext=W,I.sample=AU,I.size=OU,I.snakeCase=p9,I.some=IU,I.sortedIndex=P7,I.sortedIndexBy=k7,I.sortedIndexOf=O7,I.sortedLastIndex=I7,I.sortedLastIndexBy=R7,I.sortedLastIndexOf=M7,I.startCase=g9,I.startsWith=v9,I.subtract=uH,I.sum=cH,I.sumBy=hH,I.template=y9,I.times=X9,I.toFinite=Ws,I.toInteger=qe,I.toLength=IA,I.toLower=b9,I.toNumber=si,I.toSafeInteger=bz,I.toString=mt,I.toUpper=x9,I.trim=w9,I.trimEnd=_9,I.trimStart=S9,I.truncate=E9,I.unescape=C9,I.uniqueId=K9,I.upperCase=T9,I.upperFirst=Ny,I.each=vA,I.eachRight=yA,I.first=fA,zy(I,function(){var u={};return cs(I,function(d,g){bt.call(I.prototype,g)||(u[g]=d)}),u}(),{chain:!1}),I.VERSION=r,Jr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){I[u].placeholder=I}),Jr(["drop","take"],function(u,d){it.prototype[u]=function(g){g=g===n?1:mn(qe(g),0);var _=this.__filtered__&&!d?new it(this):this.clone();return _.__filtered__?_.__takeCount__=Bn(g,_.__takeCount__):_.__views__.push({size:Bn(g,M),type:u+(_.__dir__<0?"Right":"")}),_},it.prototype[u+"Right"]=function(g){return this.reverse()[u](g).reverse()}}),Jr(["filter","map","takeWhile"],function(u,d){var g=d+1,_=g==K||g==ue;it.prototype[u]=function(C){var R=this.clone();return R.__iteratees__.push({iteratee:De(C,3),type:g}),R.__filtered__=R.__filtered__||_,R}}),Jr(["head","last"],function(u,d){var g="take"+(d?"Right":"");it.prototype[u]=function(){return this[g](1).value()[0]}}),Jr(["initial","tail"],function(u,d){var g="drop"+(d?"":"Right");it.prototype[u]=function(){return this.__filtered__?new it(this):this[g](1)}}),it.prototype.compact=function(){return this.filter(ar)},it.prototype.find=function(u){return this.filter(u).head()},it.prototype.findLast=function(u){return this.reverse().find(u)},it.prototype.invokeMap=Je(function(u,d){return typeof u=="function"?new it(this):this.map(function(g){return Wc(g,u,d)})}),it.prototype.reject=function(u){return this.filter(dp(De(u)))},it.prototype.slice=function(u,d){u=qe(u);var g=this;return g.__filtered__&&(u>0||d<0)?new it(g):(u<0?g=g.takeRight(-u):u&&(g=g.drop(u)),d!==n&&(d=qe(d),g=d<0?g.dropRight(-d):g.take(d-u)),g)},it.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},it.prototype.toArray=function(){return this.take(M)},cs(it.prototype,function(u,d){var g=/^(?:filter|find|map|reject)|While$/.test(d),_=/^(?:head|last)$/.test(d),C=I[_?"take"+(d=="last"?"Right":""):d],R=_||/^find/.test(d);C&&(I.prototype[d]=function(){var N=this.__wrapped__,U=_?[1]:arguments,q=N instanceof it,oe=U[0],le=q||Ge(N),ce=function(nt){var ot=C.apply(I,Eo([nt],U));return _&&ye?ot[0]:ot};le&&g&&typeof oe=="function"&&oe.length!=1&&(q=le=!1);var ye=this.__chain__,Ce=!!this.__actions__.length,Be=R&&!ye,Ke=q&&!Ce;if(!R&&le){N=Ke?N:new it(this);var Ne=u.apply(N,U);return Ne.__actions__.push({func:lp,args:[ce],thisArg:n}),new ti(Ne,ye)}return Be&&Ke?u.apply(this,U):(Ne=this.thru(ce),Be?_?Ne.value()[0]:Ne.value():Ne)})}),Jr(["pop","push","shift","sort","splice","unshift"],function(u){var d=Ff[u],g=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",_=/^(?:pop|shift)$/.test(u);I.prototype[u]=function(){var C=arguments;if(_&&!this.__chain__){var R=this.value();return d.apply(Ge(R)?R:[],C)}return this[g](function(N){return d.apply(Ge(N)?N:[],C)})}}),cs(it.prototype,function(u,d){var g=I[d];if(g){var _=g.name+"";bt.call(Ml,_)||(Ml[_]=[]),Ml[_].push({name:d,func:g})}}),Ml[tp(n,b).name]=[{name:"wrapper",func:n}],it.prototype.clone=C6,it.prototype.reverse=T6,it.prototype.value=A6,I.prototype.at=nU,I.prototype.chain=rU,I.prototype.commit=iU,I.prototype.next=sU,I.prototype.plant=aU,I.prototype.reverse=lU,I.prototype.toJSON=I.prototype.valueOf=I.prototype.value=uU,I.prototype.first=I.prototype.head,Bc&&(I.prototype[Bc]=oU),I},Ol=i6();ya?((ya.exports=Ol)._=Ol,U0._=Ol):On._=Ol}).call(hr)})(hxe,Td);function dxe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Pg(t,e)}function Q1(t){return t&&t.stopPropagation&&t.stopPropagation(),t&&t.preventDefault&&t.preventDefault(),!1}function J1(t){return t==null?[]:Array.isArray(t)?t.slice():[t]}function Gp(t){return t!==null&&t.length===1?t[0]:t.slice()}function Vp(t){Object.keys(t).forEach(e=>{typeof document<"u"&&document.addEventListener(e,t[e],!1)})}function Pa(t,e){return Dw(function(n,r){let i=n;return i<=r.min&&(i=r.min),i>=r.max&&(i=r.max),i}(t,e),e)}function Dw(t,e){const n=(t-e.min)%e.step;let r=t-n;return 2*Math.abs(n)>=e.step&&(r+=n>0?e.step:-e.step),parseFloat(r.toFixed(5))}let Lw=function(t){function e(r){var i;(i=t.call(this,r)||this).onKeyUp=()=>{i.onEnd()},i.onMouseUp=()=>{i.onEnd(i.getMouseEventMap())},i.onTouchEnd=()=>{i.onEnd(i.getTouchEventMap())},i.onBlur=()=>{i.setState({index:-1},i.onEnd(i.getKeyDownEventMap()))},i.onMouseMove=a=>{i.setState({pending:!0});const l=i.getMousePosition(a),c=i.getDiffPosition(l[0]),h=i.getValueFromPosition(c);i.move(h)},i.onTouchMove=a=>{if(a.touches.length>1)return;i.setState({pending:!0});const l=i.getTouchPosition(a);if(i.isScrolling===void 0){const f=l[0]-i.startPosition[0],p=l[1]-i.startPosition[1];i.isScrolling=Math.abs(p)>Math.abs(f)}if(i.isScrolling)return void i.setState({index:-1});const c=i.getDiffPosition(l[0]),h=i.getValueFromPosition(c);i.move(h)},i.onKeyDown=a=>{if(!(a.ctrlKey||a.shiftKey||a.altKey||a.metaKey))switch(i.setState({pending:!0}),a.key){case"ArrowLeft":case"ArrowDown":case"Left":case"Down":a.preventDefault(),i.moveDownByStep();break;case"ArrowRight":case"ArrowUp":case"Right":case"Up":a.preventDefault(),i.moveUpByStep();break;case"Home":a.preventDefault(),i.move(i.props.min);break;case"End":a.preventDefault(),i.move(i.props.max);break;case"PageDown":a.preventDefault(),i.moveDownByStep(i.props.pageFn(i.props.step));break;case"PageUp":a.preventDefault(),i.moveUpByStep(i.props.pageFn(i.props.step))}},i.onSliderMouseDown=a=>{if(!i.props.disabled&&a.button!==2){if(i.setState({pending:!0}),!i.props.snapDragDisabled){const l=i.getMousePosition(a);i.forceValueFromPosition(l[0],c=>{i.start(c,l[0]),Vp(i.getMouseEventMap())})}Q1(a)}},i.onSliderClick=a=>{if(!i.props.disabled&&i.props.onSliderClick&&!i.hasMoved){const l=i.getMousePosition(a),c=Pa(i.calcValue(i.calcOffsetFromPosition(l[0])),i.props);i.props.onSliderClick(c)}},i.createOnKeyDown=a=>l=>{i.props.disabled||(i.start(a),Vp(i.getKeyDownEventMap()),Q1(l))},i.createOnMouseDown=a=>l=>{if(i.props.disabled||l.button===2)return;i.setState({pending:!0});const c=i.getMousePosition(l);i.start(a,c[0]),Vp(i.getMouseEventMap()),Q1(l)},i.createOnTouchStart=a=>l=>{if(i.props.disabled||l.touches.length>1)return;i.setState({pending:!0});const c=i.getTouchPosition(l);i.startPosition=c,i.isScrolling=void 0,i.start(a,c[0]),Vp(i.getTouchEventMap()),function(h){h.stopPropagation&&h.stopPropagation()}(l)},i.handleResize=()=>{const a=window.setTimeout(()=>{i.pendingResizeTimeouts.shift(),i.resize()},0);i.pendingResizeTimeouts.push(a)},i.renderThumb=(a,l)=>{const c=i.props.thumbClassName+" "+i.props.thumbClassName+"-"+l+" "+(i.state.index===l?i.props.thumbActiveClassName:""),h={ref:p=>{i["thumb"+l]=p},key:i.props.thumbClassName+"-"+l,className:c,style:a,onMouseDown:i.createOnMouseDown(l),onTouchStart:i.createOnTouchStart(l),onFocus:i.createOnKeyDown(l),tabIndex:0,role:"slider","aria-orientation":i.props.orientation,"aria-valuenow":i.state.value[l],"aria-valuemin":i.props.min,"aria-valuemax":i.props.max,"aria-label":Array.isArray(i.props.ariaLabel)?i.props.ariaLabel[l]:i.props.ariaLabel,"aria-labelledby":Array.isArray(i.props.ariaLabelledby)?i.props.ariaLabelledby[l]:i.props.ariaLabelledby},f={index:l,value:Gp(i.state.value),valueNow:i.state.value[l]};return i.props.ariaValuetext&&(h["aria-valuetext"]=typeof i.props.ariaValuetext=="string"?i.props.ariaValuetext:i.props.ariaValuetext(f)),i.props.renderThumb(h,f)},i.renderTrack=(a,l,c)=>{const h={key:i.props.trackClassName+"-"+a,className:i.props.trackClassName+" "+i.props.trackClassName+"-"+a,style:i.buildTrackStyle(l,i.state.upperBound-c)},f={index:a,value:Gp(i.state.value)};return i.props.renderTrack(h,f)};let s=J1(r.value);s.length||(s=J1(r.defaultValue)),i.pendingResizeTimeouts=[];const o=[];for(let a=0;a<s.length;a+=1)s[a]=Pa(s[a],r),o.push(a);return i.resizeObserver=null,i.resizeElementRef=P.createRef(),i.state={index:-1,upperBound:0,sliderLength:0,value:s,zIndices:o},i}dxe(e,t);var n=e.prototype;return n.componentDidMount=function(){typeof window<"u"&&(this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.resizeElementRef.current),this.resize())},e.getDerivedStateFromProps=function(r,i){const s=J1(r.value);return s.length?i.pending?null:{value:s.map(o=>Pa(o,r))}:null},n.componentDidUpdate=function(){this.state.upperBound===0&&this.resize()},n.componentWillUnmount=function(){this.clearPendingResizeTimeouts(),this.resizeObserver&&this.resizeObserver.disconnect()},n.onEnd=function(r){r&&function(i){Object.keys(i).forEach(s=>{typeof document<"u"&&document.removeEventListener(s,i[s],!1)})}(r),this.hasMoved&&this.fireChangeEvent("onAfterChange"),this.setState({pending:!1}),this.hasMoved=!1},n.getValue=function(){return Gp(this.state.value)},n.getClosestIndex=function(r){let i=Number.MAX_VALUE,s=-1;const{value:o}=this.state,a=o.length;for(let l=0;l<a;l+=1){const c=this.calcOffset(o[l]),h=Math.abs(r-c);h<i&&(i=h,s=l)}return s},n.getMousePosition=function(r){return[r["page"+this.axisKey()],r["page"+this.orthogonalAxisKey()]]},n.getTouchPosition=function(r){const i=r.touches[0];return[i["page"+this.axisKey()],i["page"+this.orthogonalAxisKey()]]},n.getKeyDownEventMap=function(){return{keydown:this.onKeyDown,keyup:this.onKeyUp,focusout:this.onBlur}},n.getMouseEventMap=function(){return{mousemove:this.onMouseMove,mouseup:this.onMouseUp}},n.getTouchEventMap=function(){return{touchmove:this.onTouchMove,touchend:this.onTouchEnd}},n.getValueFromPosition=function(r){const i=r/(this.state.sliderLength-this.state.thumbSize)*(this.props.max-this.props.min);return Pa(this.state.startValue+i,this.props)},n.getDiffPosition=function(r){let i=r-this.state.startPosition;return this.props.invert&&(i*=-1),i},n.resize=function(){const{slider:r,thumb0:i}=this;if(!r||!i)return;const s=this.sizeKey(),o=r.getBoundingClientRect(),a=r[s],l=o[this.posMaxKey()],c=o[this.posMinKey()],h=i.getBoundingClientRect()[s.replace("client","").toLowerCase()],f=a-h,p=Math.abs(l-c);this.state.upperBound===f&&this.state.sliderLength===p&&this.state.thumbSize===h||this.setState({upperBound:f,sliderLength:p,thumbSize:h})},n.calcOffset=function(r){const i=this.props.max-this.props.min;return i===0?0:(r-this.props.min)/i*this.state.upperBound},n.calcValue=function(r){return r/this.state.upperBound*(this.props.max-this.props.min)+this.props.min},n.calcOffsetFromPosition=function(r){const{slider:i}=this,s=i.getBoundingClientRect(),o=s[this.posMaxKey()],a=s[this.posMinKey()];let l=r-(window["page"+this.axisKey()+"Offset"]+(this.props.invert?o:a));return this.props.invert&&(l=this.state.sliderLength-l),l-=this.state.thumbSize/2,l},n.forceValueFromPosition=function(r,i){const s=this.calcOffsetFromPosition(r),o=this.getClosestIndex(s),a=Pa(this.calcValue(s),this.props),l=this.state.value.slice();l[o]=a;for(let c=0;c<l.length-1;c+=1)if(l[c+1]-l[c]<this.props.minDistance)return;this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0,this.setState({value:l},()=>{i(o),this.fireChangeEvent("onChange")})},n.clearPendingResizeTimeouts=function(){do{const r=this.pendingResizeTimeouts.shift();clearTimeout(r)}while(this.pendingResizeTimeouts.length)},n.start=function(r,i){const s=this["thumb"+r];s&&s.focus();const{zIndices:o}=this.state;o.splice(o.indexOf(r),1),o.push(r),this.setState(a=>({startValue:a.value[r],startPosition:i!==void 0?i:a.startPosition,index:r,zIndices:o}))},n.moveUpByStep=function(r){r===void 0&&(r=this.props.step);const i=Pa(this.state.value[this.state.index]+r,this.props);this.move(Math.min(i,this.props.max))},n.moveDownByStep=function(r){r===void 0&&(r=this.props.step);const i=Pa(this.state.value[this.state.index]-r,this.props);this.move(Math.max(i,this.props.min))},n.move=function(r){const{index:i,value:s}=this.state,{length:o}=s,a=s[i];if(r===a)return;this.hasMoved||this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0;const{pearling:l,max:c,min:h,minDistance:f}=this.props;if(!l){if(i>0){const p=s[i-1];r<p+f&&(r=p+f)}if(i<o-1){const p=s[i+1];r>p-f&&(r=p-f)}}s[i]=r,l&&o>1&&(r>a?(this.pushSucceeding(s,f,i),function(p,m,v,y){for(let x=0;x<p;x+=1){const b=y-x*v;m[p-1-x]>b&&(m[p-1-x]=b)}}(o,s,f,c)):r<a&&(this.pushPreceding(s,f,i),function(p,m,v,y){for(let x=0;x<p;x+=1){const b=y+x*v;m[x]<b&&(m[x]=b)}}(o,s,f,h))),this.setState({value:s},this.fireChangeEvent.bind(this,"onChange"))},n.pushSucceeding=function(r,i,s){let o,a;for(o=s,a=r[o]+i;r[o+1]!==null&&a>r[o+1];o+=1,a=r[o]+i)r[o+1]=Dw(a,this.props)},n.pushPreceding=function(r,i,s){for(let o=s,a=r[o]-i;r[o-1]!==null&&a<r[o-1];o-=1,a=r[o]-i)r[o-1]=Dw(a,this.props)},n.axisKey=function(){return this.props.orientation==="vertical"?"Y":"X"},n.orthogonalAxisKey=function(){return this.props.orientation==="vertical"?"X":"Y"},n.posMinKey=function(){return this.props.orientation==="vertical"?this.props.invert?"bottom":"top":this.props.invert?"right":"left"},n.posMaxKey=function(){return this.props.orientation==="vertical"?this.props.invert?"top":"bottom":this.props.invert?"left":"right"},n.sizeKey=function(){return this.props.orientation==="vertical"?"clientHeight":"clientWidth"},n.fireChangeEvent=function(r){this.props[r]&&this.props[r](Gp(this.state.value),this.state.index)},n.buildThumbStyle=function(r,i){const s={position:"absolute",touchAction:"none",willChange:this.state.index>=0?this.posMinKey():void 0,zIndex:this.state.zIndices.indexOf(i)+1};return s[this.posMinKey()]=r+"px",s},n.buildTrackStyle=function(r,i){const s={position:"absolute",willChange:this.state.index>=0?this.posMinKey()+","+this.posMaxKey():void 0};return s[this.posMinKey()]=r,s[this.posMaxKey()]=i,s},n.buildMarkStyle=function(r){var i;return(i={position:"absolute"})[this.posMinKey()]=r,i},n.renderThumbs=function(r){const{length:i}=r,s=[];for(let a=0;a<i;a+=1)s[a]=this.buildThumbStyle(r[a],a);const o=[];for(let a=0;a<i;a+=1)o[a]=this.renderThumb(s[a],a);return o},n.renderTracks=function(r){const i=[],s=r.length-1;i.push(this.renderTrack(0,0,r[0]));for(let o=0;o<s;o+=1)i.push(this.renderTrack(o+1,r[o],r[o+1]));return i.push(this.renderTrack(s+1,r[s],this.state.upperBound)),i},n.renderMarks=function(){let{marks:r}=this.props;const i=this.props.max-this.props.min+1;return typeof r=="boolean"?r=Array.from({length:i}).map((s,o)=>o):typeof r=="number"&&(r=Array.from({length:i}).map((s,o)=>o).filter(s=>s%r==0)),r.map(parseFloat).sort((s,o)=>s-o).map(s=>{const o=this.calcOffset(s),a={key:s,className:this.props.markClassName,style:this.buildMarkStyle(o)};return this.props.renderMark(a)})},n.render=function(){const r=[],{value:i}=this.state,s=i.length;for(let c=0;c<s;c+=1)r[c]=this.calcOffset(i[c],c);const o=this.props.withTracks?this.renderTracks(r):null,a=this.renderThumbs(r),l=this.props.marks?this.renderMarks():null;return P.createElement("div",{ref:c=>{this.slider=c,this.resizeElementRef.current=c},style:{position:"relative"},className:this.props.className+(this.props.disabled?" disabled":""),onMouseDown:this.onSliderMouseDown,onClick:this.onSliderClick},o,a,l)},e}(P.Component);Lw.displayName="ReactSlider",Lw.defaultProps={min:0,max:100,step:1,pageFn:t=>10*t,minDistance:0,defaultValue:0,orientation:"horizontal",className:"slider",thumbClassName:"thumb",thumbActiveClassName:"active",trackClassName:"track",markClassName:"mark",withTracks:!0,pearling:!1,disabled:!1,snapDragDisabled:!1,invert:!1,marks:[],renderThumb:t=>P.createElement("div",t),renderTrack:t=>P.createElement("div",t),renderMark:t=>P.createElement("span",t)};var qp=Lw;function fxe({graphEvents$:t}){const[e,n]=T.useState(50),[r,i]=T.useState(50),[s,o]=T.useState(50),[a,l]=T.useState(50),[c,h]=T.useState({}),{setColorTheme:f,colorTheme:p}=T.useContext(wc);T.useEffect(()=>{},[c]);const m=w=>{n(w),b()},v=w=>{i(w),b()},y=w=>{o(w),b()},x=w=>{l(w),b()},b=()=>{t.next({event:"forcesUpdated",data:{forces:{f1:e,f2:r,f3:s,f4:a}}})},S=w=>{Td.each(Object.keys(Qs),E=>{w===Qs[E]["--themeColor"]&&f({type:"set",theme:E})})};return te("div",{children:[te("div",{className:"sliders",children:[k("div",{className:"padding-sm",children:"Force Graph Settings"}),k("div",{className:"slider",children:k(qp,{min:0,max:100,defaultValue:[25],className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:m,renderThumb:(w,E)=>k("div",{...w,children:E.valueNow})})}),k("div",{className:"slider",children:k(qp,{min:0,max:50,defaultValue:[25],className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:v,renderThumb:(w,E)=>k("div",{...w,children:E.valueNow})})}),k("div",{className:"slider",children:k(qp,{defaultValue:[70],className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:y,renderThumb:(w,E)=>k("div",{...w,children:E.valueNow})})}),k("div",{className:"slider",children:k(qp,{className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:x,renderThumb:(w,E)=>k("div",{...w,children:E.valueNow})})})]}),te("div",{className:"theme-panel",children:["Theme",k("div",{className:"colorpicker",children:k(rc,{type:"circle",color:Qs[p]["--themeColor"],colorChanged:S,colorOptions:Td.map(Object.keys(Qs),w=>Qs[w]["--themeColor"])})})]})]})}function pR(t,e){const n=ze(t,r=>r.id);return gr(e,r=>!tf(n,r.value))}function Bw({providedStats:t=[],providedStatsChanged:e,options:n,name:r}){const i=(c,h)=>{const f=ht(t);f[h].id=c.value,e(f)},s=(c,h)=>{const f=ht(t);f[h].modifier=parseInt(c.target.value,10),e(f)},o=(c,h)=>{let f=ht(t);f=gr(f,(p,m)=>h!==m),e(f)},a=()=>{let c=ht(t);c.push({id:"",modifier:1,set:!1}),e(c)},l=c=>{const h=ht(t);h[c].set=!h[c].set,e(h)};return te("div",{className:"stats-panel",children:[t!=null&&t.length?ze(t,(c,h)=>te("div",{className:"stat-edit-line",children:[te("div",{className:"left",children:[k(vf,{className:"stat-select",styles:yf(),options:pR(t,n),onChange:f=>i(f,h),value:Qe(n,{value:c.id})}),k(Bv,{value:c==null?void 0:c.modifier,valueChanged:f=>s(f,h)})]}),te("div",{className:"right",children:[k(St,{clicked:f=>l(h),color:c!=null&&c.set?"white":"mutedText",children:k(AQ,{})}),k(St,{color:"danger",clicked:f=>o(f,h),children:k(xo,{})})]})]},h)):"",k("div",{children:te(St,{disabled:pR(t,n).length===0,type:"outline",color:"info",clicked:a,children:[k(rs,{}),"Add ",r]})})]})}function pxe(t,e){const n=Qe(e,{id:t});return n!=null&&n.params?ze(Object.keys(n.params),r=>({label:r,value:r})):[]}function mxe(t){let e={};return vt(t,n=>{e[n.id]=n.modifier}),e}function gxe({providedAbilities:t,providedAbilitiesChanged:e}){const n=T.useContext(Jn).abilities,[r,i]=T.useState(t),s=(h,f)=>{const p=ht(r);p[f].id=h,p[f].modifiers=[],e(p)},o=(h,f)=>{let p=ht(r);p=gr(p,(m,v)=>f!==v),e(p)},a=()=>{let h=ht(r);h.push({id:"",modifier:1}),e(h)},l=(h,f)=>{const p=ht(r);p[f].modifiers=h,e(p)},c=(h,f)=>{const p=ht(r);p[f].gain=!p[f].gain,e(p)};return T.useEffect(()=>{i(()=>t)},[t]),te("div",{className:"abilities-panel",children:[r.length?ze(r,(h,f)=>{var p;return te("div",{className:"ability-line",children:[te("div",{className:"ability-select",children:[k("button",{className:"remove-ability-button",onClick:m=>o(m,f),children:k(aJ,{})}),k(AL,{usedOptions:h.id?ze(gr(r,{id:!h.id}),"id"):ze(r,"id"),defaultValue:h.id,valueChanged:m=>s(m,f)})]}),h.id?te("div",{className:"ability-options",children:[Qe(n,{id:h==null?void 0:h.id})&&k(Cd,{ability:Qe(n,{id:h==null?void 0:h.id}),modifiers:mxe(h.modifiers),isPlayerAbility:!1,editable:!0,startOpen:!1}),k("div",{className:"grant",children:te("label",{className:"checkbox",children:["Grant",k("input",{type:"checkbox",checked:h.gain,onChange:m=>c(m,f)})]})}),(p=Qe(n,{id:h==null?void 0:h.id}))!=null&&p.params?k(Bw,{providedStats:h.modifiers,providedStatsChanged:m=>l(m,f),options:pxe(h.id,n),name:"Modifier"}):""]}):""]},f)}):"",k("div",{className:"padding-md",children:te(Qi,{type:"outline",color:"info",clicked:a,children:["Add Related Ability",k(rs,{})]})})]})}function mR(t,e,n){if(e){if(t!=null&&t.length)return t;{const r=[];return rf(e,()=>r.push(t||n||1)),r}}else return[n||1]}function eb(t,e,n){n({levels:t,levelCost:e})}function vxe({levels:t,levelCost:e,cost:n,color:r,levelsChanged:i}){const[s,o]=T.useState(t||1),[a,l]=T.useState(mR(e,t||1,n||1));T.useEffect(()=>{o(t||1),l(mR(e,t,n))},[t,e,n]);const c=p=>{let m=s+1,v=a;v.length&&(v=[...v,1]),eb(m,v,i)},h=p=>{let m=t,v=e;t>1&&(m=t-1,v.length&&(v=v.slice(0,v.length-1))),eb(m,v,i)},f=(p,m)=>{let v=ht(a);p.shiftKey?v[m]>1&&(v[m]-=1):v[m]+=1,eb(s,v,i)};return te("div",{className:"cost-panel",children:[k("button",{onClick:h,children:k(OQ,{})}),k("div",{className:"levels",children:rf(s,p=>k("span",{onClick:m=>f(m,p),className:"level-points",children:k("span",{className:"level-dot",style:{background:r},children:a.length?a[p]:a})},p))}),k("button",{onClick:c,children:k(rs,{})})]})}const bf=T.createContext({});function yxe(){const t=window.localStorage.getItem("dragon-stats");return t?JSON.parse(t):[]}const bxe=(t,e)=>{const{index:n,stat:r,stats:i,type:s}=e;let o=ht(t);if(s==="save")try{window.localStorage.setItem("dragon-stats",JSON.stringify(o))}catch{}if(s==="add")return o=[...o,r],o;if(s==="set")return o=i,window.localStorage.setItem("dragon-stats",JSON.stringify(o)),o;if(s==="update")return o[n]=r,o;if(s==="remove"){const a=t.findIndex(c=>c.id===r.id);if(a<0)return t;const l=[...t];return l.splice(a,1),l}return t},xxe=({children:t})=>{const[e,n]=T.useReducer(bxe,yxe());return k(bf.Provider,{value:{stats:e,setStats:n},children:t})};function gR(t,e,n){return n?ze(e,r=>Qe(t,{value:r})):Qe(t,{value:e})}function wxe(t){return ze(t,e=>({value:e.id,label:e.name,color:e.colors.selected}))}function tb(t,e,n){const r=da(gr(wxe(e),i=>!tf(t,i.value)),"label");return n?[{value:null,label:"(None)"},...r]:r}function PL({usedOptions:t,valueChanged:e,defaultValue:n,showEmptyOption:r=!1,isMulti:i=!1}){const{nodes:s}=T.useContext(bo),[o,a]=T.useState(tb(t,s,r)),[l,c]=T.useState(gR(o,n,i));T.useEffect(()=>{a(tb(t,s,r))},[s]),T.useEffect(()=>{a(tb(t,s,r))},[n]),T.useEffect(()=>{c(gR(o,n,i))},[o]);const h=f=>{e(i?ze(f,"value"):f.value)};return k(vf,{isMulti:i,className:"node-select",styles:yf({dot:!0,colorProp:"color"}),options:o,onChange:h,defaultValue:l,value:l})}function _xe({value:t,requirementType:e,valueChanged:n,nodeId:r}){const[i,s]=T.useState(t),[o,a]=T.useState(e==="or"),{nodes:l}=T.useContext(bo);T.useEffect(()=>{s(t),a(e==="or")},[t,e]);const c=(m,v,y)=>{let x=[...i];x[v][y]=m,n({requires:x,requirementType:o?"or":"and"})},h=m=>{let v=[...i];v.splice(m,1),n({requires:v,requirementType:o?"or":"and"})},f=()=>{let m=[...i];m.push({levels:"1"}),n({requires:m,requirementType:o?"or":"and"})},p=()=>{n({requires:i,requirementType:o?"and":"or"})};return te("div",{className:"require-select",children:[ze(i,(m,v)=>{var y;return te("div",{className:"requirement",children:[te("div",{className:"select",children:[k(PL,{defaultValue:m.id,usedOptions:[r],valueChanged:x=>c(x,v,"id")}),((y=Qe(l,{id:m.id}))==null?void 0:y.levels)>1?k(Bv,{value:m.levels,valueChanged:x=>c(x,v,"levels"),min:1,max:Qe(l,{id:m.id}).levels||1}):k("span",{})]}),k(St,{clicked:x=>h(v),color:"danger",children:k(xo,{})})]},v)}),i.length>1&&k("div",{className:"requirementType",children:te("label",{className:"checkbox",children:[k("input",{type:"checkbox",checked:o,onChange:p}),"Requires only one"]})}),te(St,{color:"info",clicked:f,children:[k(rs,{})," Add requirement"]})]})}function Sxe({value:t,valueChanged:e,nodeId:n}){const[r,i]=T.useState(t);return T.useEffect(()=>{i(t)},[t]),k("div",{className:"excludes-select",children:k(PL,{defaultValue:r,usedOptions:[n],valueChanged:o=>{let a=[...r];a=o,e(a)},isMulti:!0})})}function Exe(t){return ze(t,e=>({value:e.id,label:e.name}))}function Cxe(t){return ze(t,e=>({value:e.id,label:e.id}))}function Txe({graphEvents:t}){const{selectedNodeId:e,nodes:n,setNodes:r}=T.useContext(bo),{stats:i}=T.useContext(bf),[s,o]=T.useState(Qe(n,{id:e})||{}),[a,l]=T.useState(s.id),[c,h]=T.useState(s.name),[f,p]=T.useState(s.description),[m,v]=T.useState(s.levels),[y,x]=T.useState(s.levelCost),[b,S]=T.useState(s.cost),[w,E]=T.useState(s.providedStats||[]),[O,A]=T.useState(s.providedAbilities||[]),[F,L]=T.useState(s.colors||{}),[H,V]=T.useState(s.id),[z,j]=T.useState(s.requires||[]),[X,K]=T.useState(s.requirementType||"and"),[fe,ue]=T.useState(!1),{globalParams:Y,setGlobalParams:Z}=T.useContext(Jn),[se,G]=T.useState(s.globalParams||[]),M=T.useRef(null),D=T.useRef(s.id),[Q,J]=T.useState(s.exclusiveWith||[]);T.useEffect(()=>{o(Qe(n,{id:e})||{}),ue(!1)},[e]);const $=Ye=>{l(Ye.target.value),D.current=Ye.target.value,ue(!0)},re=Ye=>{h(Ye.target.value),ue(!0)},me=Ye=>{p(Ye.target.value),ue(!0)},Ie=Ye=>{var ki,kn;Xe(),(ki=gr(n,us=>nf(us.requires,{id:us.id})))==null||ki.length;let Pn={name:"NEW NODE",requires:[{id:D.current,levels:1}],id:`node-${Math.floor(Math.random()*6e5)}`,colors:F};r({type:"add",node:Pn}),t.next({event:"nodeAdded",data:{node:Pn}}),(kn=M.current)==null||kn.focus()},Re=Ye=>{t.next({event:"nodeDeleted",data:{id:a}}),r({type:"remove",node:s})},Xe=Ye=>{const Pn={id:a,name:c,requires:z,requirementType:z.length<2?"and":X,description:f,globalParams:se,exclusiveWith:Q,colors:F};m===1?y!=null&&y.length?Pn.cost=y[0]:Pn.cost=1:(Pn.levels=m,Pn.levelCost=y),w.length&&(Pn.providedStats=w),O.length&&(Pn.providedAbilities=O),t.next({event:"nodeEdited",data:{id:H,node:Pn}}),ue(!1),r({type:"update",node:Pn,targetId:H})},Se=Ye=>{E(Ye),ue(!0)},et=Ye=>{A(Ye),ue(!0)},tt=Ye=>{x(Ye.levelCost),v(Ye.levels),ue(!0)},rt=(Ye,Pn)=>{L({...F,[Pn]:Ye}),ue(!0)},Ot=Ye=>{j(Ye.requires),K(Ye.requirementType),ue(!0)},Kr=Ye=>{G(Ye),ue(!0)},Ln=Ye=>{J(Ye),ue(!0)};return P.useEffect(()=>{L(s.colors||{}),l(s.id),D.current=s.id,h(s.name),p(s.description),v(s.levels||1),x(s.levelCost),S(s.cost),E(s.providedStats||[]),A(s.providedAbilities||[]),V(s.id),j(s.requires||[]),K(s.requirementType||"and"),G(s.globalParams||[]),J(s.exclusiveWith||[])},[s]),s.id?te("div",{className:"edit-panel",children:[k("div",{className:"edit-panel-top",children:k(vxe,{levels:m,levelCost:y,cost:b,color:F.selected,levelsChanged:tt})}),k("div",{className:"form-control name",children:k("input",{type:"text",ref:M,onChange:re,value:c||""})}),k("div",{className:"form-control id",children:k("input",{type:"text",onChange:$,value:a||""})}),te("div",{className:"colors",children:[k("div",{className:"color-item",children:k(rc,{color:F.unavailable,colorChanged:Ye=>rt(Ye,"unavailable")})}),k("div",{className:"color-item",children:k(rc,{color:F.selected,colorChanged:Ye=>rt(Ye,"selected")})})]}),k("div",{className:"form-control node-description",children:k(TL,{rows:6,onChange:me,value:f||""})}),te("div",{className:"edit-panel-accordions",children:[k(vn,{name:"Requires",startOpen:!1,children:k("div",{className:"edit-panel-accordion-container",children:k(_xe,{requirementType:X,value:z,valueChanged:Ot,nodeId:a})})}),k(vn,{name:"Excludes",startOpen:!1,children:k("div",{className:"edit-panel-accordion-container",children:k(Sxe,{value:Q,valueChanged:Ln,nodeId:a})})}),k(vn,{name:"Stats",startOpen:!1,children:k("div",{className:"edit-panel-accordion-container",children:k(Bw,{providedStats:w,providedStatsChanged:Se,options:Exe(i),name:"Stat"})})}),k(vn,{name:"Abilities",startOpen:!1,children:k("div",{className:"edit-panel-accordion-container",children:k(gxe,{providedAbilities:O,providedAbilitiesChanged:et})})}),k(vn,{name:"Global Params",startOpen:!1,children:k("div",{className:"edit-panel-accordion-container",children:k(Bw,{providedStats:se,providedStatsChanged:Kr,options:Cxe(Y),name:"Global Param"})})})]}),te("div",{className:"buttons",children:[te(Qi,{disabled:!fe,type:"outline",color:"success",clicked:Xe,children:[k(al,{}),fe?"Save Node":"Node Saved"]}),te(Qi,{type:"outline",color:"success",clicked:Ie,children:[te("span",{children:[k(al,{}),k(rs,{})]}),"Save and Add Child Node"]}),te(Qi,{type:"outline",clicked:Re,color:"danger",children:[k(xo,{}),"Delete Node"]})]})]}):k("div",{className:"edit-panel",children:"Select a Node"})}function Axe({graphEvents$:t}){const{node:e,selectedNodeId:n}=T.useContext(bo),{appMode:r}=T.useContext(_o),[i,s]=T.useState("info"),[o,a]=T.useState(!!e),l=c=>{s(c)};return T.useEffect(()=>{a(!!n)},[n]),te(cxe,{itemSelected:l,expanded:void 0,children:[i==="info"?k("div",{children:r==="edit"?k(Txe,{graphEvents:t}):k(oxe,{graphEvents:t})}):"",i==="settings"?k(fxe,{graphEvents$:t}):""]})}function fu(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function kL(t){if(!fu(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=kL(t[n])}),e}function yi(t,e,n={clone:!0}){const r=n.clone?ve({},t):t;return fu(t)&&fu(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(fu(e[i])&&i in t&&fu(t[i])?r[i]=yi(t[i],e[i],n):n.clone?r[i]=fu(e[i])?kL(e[i]):e[i]:r[i]=e[i])}),r}function sc(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}function Hu(t){if(typeof t!="string")throw new Error(sc(7));return t.charAt(0).toUpperCase()+t.slice(1)}function Pxe(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function kxe(...t){return T.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{Pxe(n,e)})},t)}function OL(t,e){const n=ve({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=ve({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=ve({},s),Object.keys(i).forEach(o=>{n[r][o]=OL(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function Oxe(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const vR=t=>t,Ixe=()=>{let t=vR;return{configure(e){t=e},generate(e){return t(e)},reset(){t=vR}}},Rxe=Ixe(),Mxe=Rxe,Fxe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function IL(t,e,n="Mui"){const r=Fxe[e];return r?`${n}-${r}`:`${Mxe.generate(t)}-${e}`}function Dxe(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=IL(t,i,n)}),r}function RL(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=RL(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Lxe(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=RL(t))&&(r&&(r+=" "),r+=e);return r}var Bxe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Nxe=L5(function(t){return Bxe.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),$xe=Nxe,Uxe=function(e){return e!=="theme"},yR=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?$xe:Uxe},bR=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},zxe=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return n2(n,r,i),W5(function(){return H5(n,r,i)}),null},Hxe=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=bR(e,n,r),l=a||yR(i),c=!l("as");return function(){var h=arguments,f=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&f.push("label:"+s+";"),h[0]==null||h[0].raw===void 0)f.push.apply(f,h);else{f.push(h[0][0]);for(var p=h.length,m=1;m<p;m++)f.push(h[m],h[0][m])}var v=V5(function(y,x,b){var S=c&&y.as||i,w="",E=[],O=y;if(y.theme==null){O={};for(var A in y)O[A]=y[A];O.theme=T.useContext(q5)}typeof y.className=="string"?w=z5(x.registered,E,y.className):y.className!=null&&(w=y.className+" ");var F=r2(f.concat(E),x.registered,O);w+=x.key+"-"+F.name,o!==void 0&&(w+=" "+o);var L=c&&a===void 0?yR(S):l,H={};for(var V in y)c&&V==="as"||L(V)&&(H[V]=y[V]);return H.className=w,H.ref=b,T.createElement(T.Fragment,null,T.createElement(zxe,{cache:x,serialized:F,isStringTag:typeof S=="string"}),T.createElement(S,H))});return v.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",v.defaultProps=e.defaultProps,v.__emotion_real=v,v.__emotion_base=i,v.__emotion_styles=f,v.__emotion_forwardProp=a,Object.defineProperty(v,"toString",{value:function(){return"."+o}}),v.withComponent=function(y,x){return t(y,ve({},n,x,{shouldForwardProp:bR(v,x,!0)})).apply(void 0,f)},v}};const jxe=Hxe;var Wxe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Nw=jxe.bind();Wxe.forEach(function(t){Nw[t]=Nw(t)});const Gxe=Nw;/**
 * @mui/styled-engine v5.11.11
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Vxe(t,e){return Gxe(t,e)}const qxe=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))};function Kh(t,e){return e?yi(t,e,{clone:!1}):t}const l2={xs:0,sm:600,md:900,lg:1200,xl:1536},xR={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${l2[t]}px)`};function jr(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||xR;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||xR;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||l2).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function Xxe(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function Yxe(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Kxe(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function wR({values:t,breakpoints:e,base:n}){const r=n||Kxe(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[s],s=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function u0(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Lg(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=u0(t,n)||r,e&&(i=e(i,r,t)),i}function yt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=u0(l,r)||{};return jr(o,a,f=>{let p=Lg(c,i,f);return f===p&&typeof f=="string"&&(p=Lg(c,i,`${e}${f==="default"?"":Hu(f)}`,f)),n===!1?p:{[n]:p}})};return s.propTypes={},s.filterProps=[e],s}function c0(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?Kh(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Zxe(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const Qxe={m:"margin",p:"padding"},Jxe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},_R={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},ewe=Zxe(t=>{if(t.length>2)if(_R[t])t=_R[t];else return[t];const[e,n]=t.split(""),r=Qxe[e],i=Jxe[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),u2=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],c2=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...u2,...c2];function xf(t,e,n,r){var i;const s=(i=u0(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function h2(t){return xf(t,"spacing",8)}function Qo(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function twe(t,e){return n=>t.reduce((r,i)=>(r[i]=Qo(e,n),r),{})}function nwe(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=ewe(n),s=twe(i,r),o=t[n];return jr(t,o,s)}function ML(t,e){const n=h2(t.theme);return Object.keys(t).map(r=>nwe(t,e,r,n)).reduce(Kh,{})}function Qt(t){return ML(t,u2)}Qt.propTypes={};Qt.filterProps=u2;function Jt(t){return ML(t,c2)}Jt.propTypes={};Jt.filterProps=c2;function _s(t){return typeof t!="number"?t:`${t}px solid`}const rwe=yt({prop:"border",themeKey:"borders",transform:_s}),iwe=yt({prop:"borderTop",themeKey:"borders",transform:_s}),swe=yt({prop:"borderRight",themeKey:"borders",transform:_s}),owe=yt({prop:"borderBottom",themeKey:"borders",transform:_s}),awe=yt({prop:"borderLeft",themeKey:"borders",transform:_s}),lwe=yt({prop:"borderColor",themeKey:"palette"}),uwe=yt({prop:"borderTopColor",themeKey:"palette"}),cwe=yt({prop:"borderRightColor",themeKey:"palette"}),hwe=yt({prop:"borderBottomColor",themeKey:"palette"}),dwe=yt({prop:"borderLeftColor",themeKey:"palette"}),h0=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=xf(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Qo(e,r)});return jr(t,t.borderRadius,n)}return null};h0.propTypes={};h0.filterProps=["borderRadius"];c0(rwe,iwe,swe,owe,awe,lwe,uwe,cwe,hwe,dwe,h0);const d0=t=>{if(t.gap!==void 0&&t.gap!==null){const e=xf(t.theme,"spacing",8),n=r=>({gap:Qo(e,r)});return jr(t,t.gap,n)}return null};d0.propTypes={};d0.filterProps=["gap"];const f0=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=xf(t.theme,"spacing",8),n=r=>({columnGap:Qo(e,r)});return jr(t,t.columnGap,n)}return null};f0.propTypes={};f0.filterProps=["columnGap"];const p0=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=xf(t.theme,"spacing",8),n=r=>({rowGap:Qo(e,r)});return jr(t,t.rowGap,n)}return null};p0.propTypes={};p0.filterProps=["rowGap"];const fwe=yt({prop:"gridColumn"}),pwe=yt({prop:"gridRow"}),mwe=yt({prop:"gridAutoFlow"}),gwe=yt({prop:"gridAutoColumns"}),vwe=yt({prop:"gridAutoRows"}),ywe=yt({prop:"gridTemplateColumns"}),bwe=yt({prop:"gridTemplateRows"}),xwe=yt({prop:"gridTemplateAreas"}),wwe=yt({prop:"gridArea"});c0(d0,f0,p0,fwe,pwe,mwe,gwe,vwe,ywe,bwe,xwe,wwe);function ju(t,e){return e==="grey"?e:t}const _we=yt({prop:"color",themeKey:"palette",transform:ju}),Swe=yt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ju}),Ewe=yt({prop:"backgroundColor",themeKey:"palette",transform:ju});c0(_we,Swe,Ewe);function Fr(t){return t<=1&&t!==0?`${t*100}%`:t}const Cwe=yt({prop:"width",transform:Fr}),d2=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i,s;return{maxWidth:((r=t.theme)==null||(i=r.breakpoints)==null||(s=i.values)==null?void 0:s[n])||l2[n]||Fr(n)}};return jr(t,t.maxWidth,e)}return null};d2.filterProps=["maxWidth"];const Twe=yt({prop:"minWidth",transform:Fr}),Awe=yt({prop:"height",transform:Fr}),Pwe=yt({prop:"maxHeight",transform:Fr}),kwe=yt({prop:"minHeight",transform:Fr});yt({prop:"size",cssProperty:"width",transform:Fr});yt({prop:"size",cssProperty:"height",transform:Fr});const Owe=yt({prop:"boxSizing"});c0(Cwe,d2,Twe,Awe,Pwe,kwe,Owe);const nb=t=>e=>{if(e[t]!==void 0&&e[t]!==null){const n=r=>{var i;let s=(i=e.theme.typography)==null?void 0:i[r];if(typeof s=="object"&&(s=null),!s){var o,a;s=(o=e.theme.typography)==null?void 0:o[`${t}${e[t]==="default"||e[t]===t?"":Hu((a=e[t])==null?void 0:a.toString())}`]}if(!s){var l,c,h;s=(l=(c=e.theme.typography)==null||(h=c[r])==null?void 0:h[t])!=null?l:r}return{[t]:s}};return jr(e,e[t],n)}return null},Iwe={border:{themeKey:"borders",transform:_s},borderTop:{themeKey:"borders",transform:_s},borderRight:{themeKey:"borders",transform:_s},borderBottom:{themeKey:"borders",transform:_s},borderLeft:{themeKey:"borders",transform:_s},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:h0},color:{themeKey:"palette",transform:ju},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ju},backgroundColor:{themeKey:"palette",transform:ju},p:{style:Jt},pt:{style:Jt},pr:{style:Jt},pb:{style:Jt},pl:{style:Jt},px:{style:Jt},py:{style:Jt},padding:{style:Jt},paddingTop:{style:Jt},paddingRight:{style:Jt},paddingBottom:{style:Jt},paddingLeft:{style:Jt},paddingX:{style:Jt},paddingY:{style:Jt},paddingInline:{style:Jt},paddingInlineStart:{style:Jt},paddingInlineEnd:{style:Jt},paddingBlock:{style:Jt},paddingBlockStart:{style:Jt},paddingBlockEnd:{style:Jt},m:{style:Qt},mt:{style:Qt},mr:{style:Qt},mb:{style:Qt},ml:{style:Qt},mx:{style:Qt},my:{style:Qt},margin:{style:Qt},marginTop:{style:Qt},marginRight:{style:Qt},marginBottom:{style:Qt},marginLeft:{style:Qt},marginX:{style:Qt},marginY:{style:Qt},marginInline:{style:Qt},marginInlineStart:{style:Qt},marginInlineEnd:{style:Qt},marginBlock:{style:Qt},marginBlockStart:{style:Qt},marginBlockEnd:{style:Qt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:d0},rowGap:{style:p0},columnGap:{style:f0},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Fr},maxWidth:{style:d2},minWidth:{transform:Fr},height:{transform:Fr},maxHeight:{transform:Fr},minHeight:{transform:Fr},boxSizing:{},fontFamily:{themeKey:"typography",style:nb("fontFamily")},fontSize:{themeKey:"typography",style:nb("fontSize")},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography",style:nb("fontWeight")},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},f2=Iwe;function Rwe(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function Mwe(t,e){return typeof t=="function"?t(e):t}function Fwe(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:h,style:f}=a;if(r==null)return null;const p=u0(i,c)||{};return f?f(o):jr(o,r,v=>{let y=Lg(p,h,v);return v===y&&typeof v=="string"&&(y=Lg(p,h,`${n}${v==="default"?"":Hu(v)}`,v)),l===!1?y:{[l]:y}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:f2;function a(l){let c=l;if(typeof l=="function")c=l(s);else if(typeof l!="object")return l;if(!c)return null;const h=Xxe(s.breakpoints),f=Object.keys(h);let p=h;return Object.keys(c).forEach(m=>{const v=Mwe(c[m],s);if(v!=null)if(typeof v=="object")if(o[m])p=Kh(p,t(m,v,s,o));else{const y=jr({theme:s},v,x=>({[m]:x}));Rwe(y,v)?p[m]=e({sx:v,theme:s}):p=Kh(p,y)}else p=Kh(p,t(m,v,s,o))}),Yxe(f,p)}return Array.isArray(i)?i.map(a):a(i)}return e}const FL=Fwe();FL.filterProps=["sx"];const p2=FL,Dwe=["values","unit","step"],Lwe=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>ve({},n,{[r.key]:r.val}),{})};function Bwe(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=zr(t,Dwe),s=Lwe(e),o=Object.keys(s);function a(p){return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${n})`}function l(p){return`@media (max-width:${(typeof e[p]=="number"?e[p]:p)-r/100}${n})`}function c(p,m){const v=o.indexOf(m);return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${n}) and (max-width:${(v!==-1&&typeof e[o[v]]=="number"?e[o[v]]:m)-r/100}${n})`}function h(p){return o.indexOf(p)+1<o.length?c(p,o[o.indexOf(p)+1]):a(p)}function f(p){const m=o.indexOf(p);return m===0?a(o[1]):m===o.length-1?l(o[m]):c(p,o[o.indexOf(p)+1]).replace("@media","@media not all and")}return ve({keys:o,values:s,up:a,down:l,between:c,only:h,not:f,unit:n},i)}const Nwe={borderRadius:4},$we=Nwe;function Uwe(t=8){if(t.mui)return t;const e=h2({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}const zwe=["breakpoints","palette","spacing","shape"];function m2(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=zr(t,zwe),a=Bwe(n),l=Uwe(i);let c=yi({breakpoints:a,direction:"ltr",components:{},palette:ve({mode:"light"},r),spacing:l,shape:ve({},$we,s)},o);return c=e.reduce((h,f)=>yi(h,f),c),c.unstable_sxConfig=ve({},f2,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(f){return p2({sx:f,theme:this})},c}const Hwe=T.createContext(null),jwe=Hwe;function Wwe(){return T.useContext(jwe)}function Gwe(t){return Object.keys(t).length===0}function Vwe(t=null){const e=Wwe();return!e||Gwe(e)?t:e}const qwe=m2();function Xwe(t=qwe){return Vwe(t)}const Ywe=["variant"];function SR(t){return t.length===0}function DL(t){const{variant:e}=t,n=zr(t,Ywe);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=SR(r)?t[i]:Hu(t[i]):r+=`${SR(r)?i:Hu(i)}${Hu(t[i].toString())}`}),r}const Kwe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],Zwe=["theme"],Qwe=["theme"];function dh(t){return Object.keys(t).length===0}function Jwe(t){return typeof t=="string"&&t.charCodeAt(0)>96}const e_e=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,t_e=(t,e)=>{let n=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants);const r={};return n.forEach(i=>{const s=DL(i.props);r[s]=i.style}),r},n_e=(t,e,n,r)=>{var i,s;const{ownerState:o={}}=t,a=[],l=n==null||(i=n.components)==null||(s=i[r])==null?void 0:s.variants;return l&&l.forEach(c=>{let h=!0;Object.keys(c.props).forEach(f=>{o[f]!==c.props[f]&&t[f]!==c.props[f]&&(h=!1)}),h&&a.push(e[DL(c.props)])}),a};function Lm(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const r_e=m2();function i_e(t={}){const{defaultTheme:e=r_e,rootShouldForwardProp:n=Lm,slotShouldForwardProp:r=Lm}=t,i=s=>{const o=dh(s.theme)?e:s.theme;return p2(ve({},s,{theme:o}))};return i.__mui_systemSx=!0,(s,o={})=>{qxe(s,w=>w.filter(E=>!(E!=null&&E.__mui_systemSx)));const{name:a,slot:l,skipVariantsResolver:c,skipSx:h,overridesResolver:f}=o,p=zr(o,Kwe),m=c!==void 0?c:l&&l!=="Root"||!1,v=h||!1;let y,x=Lm;l==="Root"?x=n:l?x=r:Jwe(s)&&(x=void 0);const b=Vxe(s,ve({shouldForwardProp:x,label:y},p)),S=(w,...E)=>{const O=E?E.map(H=>typeof H=="function"&&H.__emotion_real!==H?V=>{let{theme:z}=V,j=zr(V,Zwe);return H(ve({theme:dh(z)?e:z},j))}:H):[];let A=w;a&&f&&O.push(H=>{const V=dh(H.theme)?e:H.theme,z=e_e(a,V);if(z){const j={};return Object.entries(z).forEach(([X,K])=>{j[X]=typeof K=="function"?K(ve({},H,{theme:V})):K}),f(H,j)}return null}),a&&!m&&O.push(H=>{const V=dh(H.theme)?e:H.theme;return n_e(H,t_e(a,V),V,a)}),v||O.push(i);const F=O.length-E.length;if(Array.isArray(w)&&F>0){const H=new Array(F).fill("");A=[...w,...H],A.raw=[...w.raw,...H]}else typeof w=="function"&&w.__emotion_real!==w&&(A=H=>{let{theme:V}=H,z=zr(H,Qwe);return w(ve({theme:dh(V)?e:V},z))});return b(A,...O)};return b.withConfig&&(S.withConfig=b.withConfig),S}}function s_e(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:OL(e.components[n].defaultProps,r)}function o_e({props:t,name:e,defaultTheme:n}){const r=Xwe(n);return s_e({theme:r,name:e,props:t})}function LL(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function a_e(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function oc(t){if(t.type)return t;if(t.charAt(0)==="#")return oc(a_e(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(sc(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(sc(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function g2(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function l_e(t){t=oc(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,h=(c+n/30)%12)=>i-s*Math.max(Math.min(h-3,9-h,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),g2({type:a,values:l})}function ER(t){t=oc(t);let e=t.type==="hsl"||t.type==="hsla"?oc(l_e(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function u_e(t,e){const n=ER(t),r=ER(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function c_e(t,e){if(t=oc(t),e=LL(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return g2(t)}function h_e(t,e){if(t=oc(t),e=LL(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return g2(t)}function d_e(t,e){return ve({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const f_e={black:"#000",white:"#fff"},Ad=f_e,p_e={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},m_e=p_e,g_e={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Hl=g_e,v_e={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},jl=v_e,y_e={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},fh=y_e,b_e={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Wl=b_e,x_e={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Gl=x_e,w_e={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Vl=w_e,__e=["mode","contrastThreshold","tonalOffset"],CR={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ad.white,default:Ad.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},rb={text:{primary:Ad.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ad.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function TR(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=h_e(t.main,i):e==="dark"&&(t.dark=c_e(t.main,s)))}function S_e(t="light"){return t==="dark"?{main:Wl[200],light:Wl[50],dark:Wl[400]}:{main:Wl[700],light:Wl[400],dark:Wl[800]}}function E_e(t="light"){return t==="dark"?{main:Hl[200],light:Hl[50],dark:Hl[400]}:{main:Hl[500],light:Hl[300],dark:Hl[700]}}function C_e(t="light"){return t==="dark"?{main:jl[500],light:jl[300],dark:jl[700]}:{main:jl[700],light:jl[400],dark:jl[800]}}function T_e(t="light"){return t==="dark"?{main:Gl[400],light:Gl[300],dark:Gl[700]}:{main:Gl[700],light:Gl[500],dark:Gl[900]}}function A_e(t="light"){return t==="dark"?{main:Vl[400],light:Vl[300],dark:Vl[700]}:{main:Vl[800],light:Vl[500],dark:Vl[900]}}function P_e(t="light"){return t==="dark"?{main:fh[400],light:fh[300],dark:fh[700]}:{main:"#ed6c02",light:fh[500],dark:fh[900]}}function k_e(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=zr(t,__e),s=t.primary||S_e(e),o=t.secondary||E_e(e),a=t.error||C_e(e),l=t.info||T_e(e),c=t.success||A_e(e),h=t.warning||P_e(e);function f(y){return u_e(y,rb.text.primary)>=n?rb.text.primary:CR.text.primary}const p=({color:y,name:x,mainShade:b=500,lightShade:S=300,darkShade:w=700})=>{if(y=ve({},y),!y.main&&y[b]&&(y.main=y[b]),!y.hasOwnProperty("main"))throw new Error(sc(11,x?` (${x})`:"",b));if(typeof y.main!="string")throw new Error(sc(12,x?` (${x})`:"",JSON.stringify(y.main)));return TR(y,"light",S,r),TR(y,"dark",w,r),y.contrastText||(y.contrastText=f(y.main)),y},m={dark:rb,light:CR};return yi(ve({common:ve({},Ad),mode:e,primary:p({color:s,name:"primary"}),secondary:p({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:a,name:"error"}),warning:p({color:h,name:"warning"}),info:p({color:l,name:"info"}),success:p({color:c,name:"success"}),grey:m_e,contrastThreshold:n,getContrastText:f,augmentColor:p,tonalOffset:r},m[e]),i)}const O_e=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function I_e(t){return Math.round(t*1e5)/1e5}const AR={textTransform:"uppercase"},PR='"Roboto", "Helvetica", "Arial", sans-serif';function R_e(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=PR,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:h,pxToRem:f}=n,p=zr(n,O_e),m=i/14,v=f||(b=>`${b/c*m}rem`),y=(b,S,w,E,O)=>ve({fontFamily:r,fontWeight:b,fontSize:v(S),lineHeight:w},r===PR?{letterSpacing:`${I_e(E/S)}em`}:{},O,h),x={h1:y(s,96,1.167,-1.5),h2:y(s,60,1.2,-.5),h3:y(o,48,1.167,0),h4:y(o,34,1.235,.25),h5:y(o,24,1.334,0),h6:y(a,20,1.6,.15),subtitle1:y(o,16,1.75,.15),subtitle2:y(a,14,1.57,.1),body1:y(o,16,1.5,.15),body2:y(o,14,1.43,.15),button:y(a,14,1.75,.4,AR),caption:y(o,12,1.66,.4),overline:y(o,12,2.66,1,AR),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return yi(ve({htmlFontSize:c,pxToRem:v,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},x),p,{clone:!1})}const M_e=.2,F_e=.14,D_e=.12;function Ut(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${M_e})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${F_e})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${D_e})`].join(",")}const L_e=["none",Ut(0,2,1,-1,0,1,1,0,0,1,3,0),Ut(0,3,1,-2,0,2,2,0,0,1,5,0),Ut(0,3,3,-2,0,3,4,0,0,1,8,0),Ut(0,2,4,-1,0,4,5,0,0,1,10,0),Ut(0,3,5,-1,0,5,8,0,0,1,14,0),Ut(0,3,5,-1,0,6,10,0,0,1,18,0),Ut(0,4,5,-2,0,7,10,1,0,2,16,1),Ut(0,5,5,-3,0,8,10,1,0,3,14,2),Ut(0,5,6,-3,0,9,12,1,0,3,16,2),Ut(0,6,6,-3,0,10,14,1,0,4,18,3),Ut(0,6,7,-4,0,11,15,1,0,4,20,3),Ut(0,7,8,-4,0,12,17,2,0,5,22,4),Ut(0,7,8,-4,0,13,19,2,0,5,24,4),Ut(0,7,9,-4,0,14,21,2,0,5,26,4),Ut(0,8,9,-5,0,15,22,2,0,6,28,5),Ut(0,8,10,-5,0,16,24,2,0,6,30,5),Ut(0,8,11,-5,0,17,26,2,0,6,32,5),Ut(0,9,11,-5,0,18,28,2,0,7,34,6),Ut(0,9,12,-6,0,19,29,2,0,7,36,6),Ut(0,10,13,-6,0,20,31,3,0,8,38,7),Ut(0,10,13,-6,0,21,33,3,0,8,40,7),Ut(0,10,14,-6,0,22,35,3,0,8,42,7),Ut(0,11,14,-7,0,23,36,3,0,9,44,8),Ut(0,11,15,-7,0,24,38,3,0,9,46,8)],B_e=L_e,N_e=["duration","easing","delay"],$_e={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},U_e={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function kR(t){return`${Math.round(t)}ms`}function z_e(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function H_e(t){const e=ve({},$_e,t.easing),n=ve({},U_e,t.duration);return ve({getAutoHeightDuration:z_e,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return zr(s,N_e),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:kR(o)} ${a} ${typeof l=="string"?l:kR(l)}`).join(",")}},t,{easing:e,duration:n})}const j_e={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},W_e=j_e,G_e=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function V_e(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=zr(t,G_e);if(t.vars)throw new Error(sc(18));const a=k_e(r),l=m2(t);let c=yi(l,{mixins:d_e(l.breakpoints,n),palette:a,shadows:B_e.slice(),typography:R_e(a,s),transitions:H_e(i),zIndex:ve({},W_e)});return c=yi(c,o),c=e.reduce((h,f)=>yi(h,f),c),c.unstable_sxConfig=ve({},f2,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(f){return p2({sx:f,theme:this})},c}const q_e=V_e(),BL=q_e;function X_e({props:t,name:e}){return o_e({props:t,name:e,defaultTheme:BL})}const Y_e=t=>Lm(t)&&t!=="classes",K_e=i_e({defaultTheme:BL,rootShouldForwardProp:Y_e}),Z_e=K_e;function Q_e(t){return IL("MuiMasonry",t)}Dxe("MuiMasonry",["root"]);const J_e=["children","className","component","columns","spacing","defaultColumns","defaultHeight","defaultSpacing"],Bo=t=>Number(t.replace("px","")),eSe={flexBasis:"100%",width:0,margin:0,padding:0},tSe=t=>{const{classes:e}=t;return Oxe({root:["root"]},Q_e,e)},nSe=({ownerState:t,theme:e})=>{let n={width:"100%",display:"flex",flexFlow:"column wrap",alignContent:"flex-start",boxSizing:"border-box","& > *":{boxSizing:"border-box"}};const r={};if(t.isSSR){const c={},h=Bo(e.spacing(t.defaultSpacing));for(let f=1;f<=t.defaultColumns;f+=1)c[`&:nth-of-type(${t.defaultColumns}n+${f%t.defaultColumns})`]={order:f};return r.height=t.defaultHeight,r.margin=-(h/2),r["& > *"]=ve({},n["& > *"],c,{margin:h/2,width:`calc(${(100/t.defaultColumns).toFixed(2)}% - ${h}px)`}),ve({},n,r)}const i=wR({values:t.spacing,breakpoints:e.breakpoints.values}),s=h2(e);n=yi(n,jr({theme:e},i,c=>{let h;if(typeof c=="string"&&!Number.isNaN(Number(c))||typeof c=="number"){const f=Number(c);h=Qo(s,f)}else h=c;return ve({margin:`calc(0px - (${h} / 2))`,"& > *":{margin:`calc(${h} / 2)`}},t.maxColumnHeight&&{height:typeof h=="number"?Math.ceil(t.maxColumnHeight+Bo(h)):`calc(${t.maxColumnHeight}px + ${h})`})}));const a=wR({values:t.columns,breakpoints:e.breakpoints.values});return n=yi(n,jr({theme:e},a,c=>{const f=`${(100/Number(c)).toFixed(2)}%`,p=typeof i=="string"&&!Number.isNaN(Number(i))||typeof i=="number"?Qo(s,Number(i)):"0px";return{"& > *":{width:`calc(${f} - ${p})`}}})),typeof i=="object"&&(n=yi(n,jr({theme:e},i,(c,h)=>{if(h){const f=Number(c),p=Object.keys(a).pop(),m=Qo(s,f);return{"& > *":{width:`calc(${`${(100/(typeof a=="object"?a[h]||a[p]:a)).toFixed(2)}%`} - ${m})`}}}return null}))),n},rSe=Z_e("div",{name:"MuiMasonry",slot:"Root",overridesResolver:(t,e)=>[e.root]})(nSe),iSe=T.forwardRef(function(e,n){const r=X_e({props:e,name:"MuiMasonry"}),{children:i,className:s,component:o="div",columns:a=4,spacing:l=1,defaultColumns:c,defaultHeight:h,defaultSpacing:f}=r,p=zr(r,J_e),m=T.useRef(),[v,y]=T.useState(),x=!v&&h&&c!==void 0&&f!==void 0,[b,S]=T.useState(x?c-1:0),w=ve({},r,{spacing:l,columns:a,maxColumnHeight:v,defaultColumns:c,defaultHeight:h,defaultSpacing:f,isSSR:x}),E=tSe(w),O=H=>{if(!m.current||!H||H.length===0)return;const V=m.current,z=m.current.firstChild,j=V.clientWidth,X=z.clientWidth;if(j===0||X===0)return;const K=window.getComputedStyle(z),fe=Bo(K.marginLeft),ue=Bo(K.marginRight),Y=Math.round(j/(X+fe+ue)),Z=new Array(Y).fill(0);let se=!1;V.childNodes.forEach(G=>{if(G.nodeType!==Node.ELEMENT_NODE||G.dataset.class==="line-break"||se)return;const M=window.getComputedStyle(G),D=Bo(M.marginTop),Q=Bo(M.marginBottom),J=Bo(M.height)?Math.ceil(Bo(M.height))+D+Q:0;if(J===0){se=!0;return}for(let $=0;$<G.childNodes.length;$+=1){const re=G.childNodes[$];if(re.tagName==="IMG"&&re.clientHeight===0){se=!0;break}}if(!se){const $=Z.indexOf(Math.min(...Z));Z[$]+=J;const re=$+1;G.style.order=re}}),se||Qh.flushSync(()=>{y(Math.max(...Z)),S(Y>0?Y-1:0)})},A=T.useRef(typeof ResizeObserver>"u"?void 0:new ResizeObserver(O));T.useEffect(()=>{const H=A.current;if(H!==void 0)return m.current&&m.current.childNodes.forEach(V=>{H.observe(V)}),()=>H?H.disconnect():{}},[a,l,i]);const F=kxe(n,m),L=new Array(b).fill("").map((H,V)=>k("span",{"data-class":"line-break",style:ve({},eSe,{order:V+1})},V));return te(rSe,ve({as:o,className:Lxe(E.root,s),ref:F,ownerState:w},p,{children:[i,L]}))}),$w=iSe;function OR({label:t,value:e}){return te("div",{className:"stat-line",children:[te("span",{className:"label",children:[t,": "]}),k("span",{className:"value",children:e})]})}function Uw(){return Uw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uw.apply(this,arguments)}var sSe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?T.useLayoutEffect:T.useEffect;function zw(t){var e=t.breakpoints,n=t.ignoreDimensions,r=n===void 0?!0:n,i=Object.keys(e)[0],s=T.useState({activeBreakpoint:i,width:0}),o=s[0],a=s[1],l=T.useRef(null),c=T.useRef(null),h=T.useCallback(function(m,v){for(var y,x=0,b=Object.entries(e);x<b.length;x++){var S=b[x],w=S[0],E=S[1],O=E[0],A=E[1];if(v>=O){if(A===void 0){y=w;break}else if(v<=A){y=w;break}}}return{activeBreakpoint:y||m,width:v}},[e]),f=T.useCallback(function(m){var v=m[0],y;if(v.borderBoxSize?y=Math.round(Array.isArray(v.borderBoxSize)?v.borderBoxSize[0].inlineSize:v.borderBoxSize.inlineSize):y=Math.round(v.contentRect.width),r){var x=h(o.activeBreakpoint,y),b=x.activeBreakpoint;b!==o.activeBreakpoint&&a(function(S){return Uw({},S,{activeBreakpoint:b})})}else a(h(o.activeBreakpoint,y))},[o.activeBreakpoint,r,h]);sSe(function(){return l.current||(l.current=new ResizeObserver(f)),c.current&&l.current.observe(c.current,{box:"border-box"}),function(){var m;(m=l.current)==null||m.disconnect(),l.current=null}},[f]);var p=T.useCallback(function(m){if(c.current){var v;(v=l.current)==null||v.unobserve(c.current)}if(c.current=m,m){var y;(y=l.current)==null||y.observe(m)}},[]);return{ref:p,width:o.width,active:o.activeBreakpoint}}const v2=T.createContext({}),Hw=({children:t})=>{const[e,n]=T.useState({textFilter:"",tags:[]});return k(v2.Provider,{value:{filters:e,setFilters:n},children:t})};function oSe({tags:t}){const{filters:e,setFilters:n}=T.useContext(v2),r=i=>{e.tags.includes(i)?n({...e,tags:e.tags.filter(s=>s!==i)}):n({...e,tags:[...e.tags,i]})};return t?k("div",{className:"tag-filters",children:t.map(i=>k(_w,{label:i,clicked:r,selected:tf(e.tags,i)},i))}):k("div",{})}function jw({tags:t,expanded:e,filtersUpdated:n,name:r="filters"}){const{filters:i,setFilters:s}=T.useContext(v2),[o,a]=T.useState(e),l=()=>{s({tags:[],textFilter:""})};return T.useEffect(()=>{n(i)},[i]),o?te("div",{className:"ability-filters open",children:[k(is,{fullWidth:!0,placeholder:"Filter by name",minWidth:200,className:"text-filter",value:i==null?void 0:i.textFilter,valueChanged:c=>s({...i,textFilter:c})}),k("div",{className:"tag-filters",children:k(oSe,{tags:t})}),te("div",{className:"controls",children:[te(St,{color:"theme",noPadding:!0,clicked:l,disabled:!i.tags.length&&!i.textFilter.length,children:[k(JS,{size:18}),"reset"]}),k(St,{color:"mutedText",clicked:()=>a(!o),children:k(MQ,{size:18})})]})]}):k("div",{className:"ability-filters closed",children:te("button",{onClick:()=>a(!o),className:"controls",children:[r,k(_g,{size:18})]})})}function aSe(t){return ze(gr(t.abilities,e=>!e.replaced&&e.learned),e=>({...e}))}function IR(t,e){let n=t;return e?n=gr(t,r=>{var s,o;let i=!0;return(s=e.tags)!=null&&s.length&&(i=UD(e.tags,r.tags).length===0),(o=e.textFilter)!=null&&o.length&&(i=i&&r.name.toLowerCase().includes(e.textFilter.toLowerCase())),i}):n=t,da(n,"name")}const RR={small:[0,600],med:[600,900],large:[901,1150],xl:[1151,1400],xxl:[1401,1600],xxxl:[1601,2e3]};function MR(t){return{small:1,med:2,large:3,xl:4,xxl:5,xxxl:6}[t]}function lSe(t,e){let n=aSe(t),r=GK(n,"type"),i={},s=[];return vt(n,o=>{i[o.name]=o.tags}),vt(Object.keys(r),o=>{let a=[];vt(r[o],l=>{const c=l.id;l.ability=Qe(e,{id:c}),l.tags&&(a=wd([...a,...l.tags]))}),s=wd([...s,...a]),i[o]=da(a)}),{abilityTags:i,knownAbilities:n,knownAbilitiesByType:r,allAbilityTags:s}}function uSe(){var z;const{build:t}=T.useContext(Rs),{abilityTypes:e,abilities:n}=T.useContext(Jn),[r,i]=T.useState({}),[s,o]=T.useState({}),[a,l]=T.useState({}),[c,h]=T.useState([]),{stats:f}=T.useContext(bf),[p,m]=T.useState({}),[v,y]=T.useState({}),{ref:x,active:b,width:S}=zw({breakpoints:RR}),{ref:w,active:E}=zw({breakpoints:RR}),[O,A]=T.useState({}),[F,L]=T.useState(!1),H=j=>{A({...O,[j]:!O[j]})},V=j=>{L(j.tags.length||j.textFilter.length),y(j)};return T.useEffect(()=>{const j=lSe(t,n);i(j.knownAbilities),o(j.knownAbilitiesByType),l(j.abilityTags),h(j.allAbilityTags)},[t,n]),te("div",{className:"character-sheet",children:[te("div",{className:"stats",children:[k("div",{className:"title",children:"Stats"}),k(OR,{label:" Skill Points Spent",value:t.pointsInvested}),ze(f,(j,X)=>k(OR,{label:j.name,value:t.stats[j.id]||0},X))]}),te("div",{className:"abilities",children:[k("div",{className:"title",children:"Abilities"}),k(Hw,{children:k(jw,{name:"filter all",tags:c,expanded:!0,filtersUpdated:V})}),!F&&k("div",{className:"accordions",children:da(e,"name").map((j,X)=>{var K,fe;return te(vn,{startOpen:!1,name:j.name,disabled:!((K=s[j.id])!=null&&K.length),children:[k(Hw,{children:k(jw,{name:"filter "+j.name+" abilities",expanded:!1,tags:a[j.id]||[],filtersUpdated:ue=>m({...p,[j.id]:ue})})}),te("div",{ref:x,className:"ability-cards",children:[k("div",{className:"expand-button",children:k(St,{color:"theme",clicked:()=>H(j.id),children:O[j.id]?k(ZD,{size:30}):k(KD,{size:30})})}),k($w,{columns:MR(b),spacing:2,children:(fe=IR(s[j.id],p[j.id]))==null?void 0:fe.map((ue,Y)=>k("div",{children:(ue==null?void 0:ue.ability)&&k(Cd,{ability:ue.ability,isPlayerAbility:!0,modifiers:ue.modifiers,tags:ue.tags,startOpen:!1,isExpanded:!!O[j.id]})},Y))})]})]},X)})}),!!F&&k("div",{ref:w,className:"ability-cards",children:k($w,{columns:MR(E),spacing:1.5,children:(z=IR(r,v))==null?void 0:z.map((j,X)=>k("div",{children:(j==null?void 0:j.ability)&&k(Cd,{ability:j.ability,isPlayerAbility:!0,modifiers:j.modifiers,tags:j.tags,startOpen:!0})},X))})})]})]})}const cSe="0.0.18",hSe=[{id:"advanced-flying",name:"Advanced Flying",description:`This unit can fly. It now can exist on three different battlefield planes. The ground, and the air level 1, and air level 2, and air level 3. It costs 1 hex of movement to move upward but not downward.

Additionally, you are immune to environmental effects.`,type:"passive",tags:["flying"],replaces:"flying",params:{}},{id:"aerial-combat",name:"Aerial Combat",type:"passive",description:"Gains __+1__ on attacks made against flying units.",tags:["flying"]},{id:"aerial-evasion",name:"Aerial Evasion",type:"passive",description:"Gains **+1** to _AC_ while in the air.",tags:["flying","defense"],params:{}},{id:"alert",name:"Alert",type:"movement",description:"This unit always musters and can muster **1** adjacent unit (during movement).",replaces:"attentive",tags:["defense","mustering"],params:{}},{name:"Alter Emotions",id:"alter-emotions",description:"Increase or decrease the `organization` (HP) of any `non-elite` group of soldiers by __%amt%__. {sooth-amt} Non-elites can instead gain __%amt%+%sooth-amt%__ `hp`.{/sooth-amt}  {riot} Non-elites now lose __%amt%+%riot-amt%__ `hp`. {/riot}\n{spread-ae} Units with an adjacency of __%spread-ae%__ to the target are also affected in the same way {/spread-ae}",tags:["enchantment","spell"],type:"action",params:{amt:1,"sooth-amt":0,"riot-amt":0,"spread-ae":0,riot:0}},{id:"aquatic-combat",name:"Aquatic Attack",description:"Add **+1** to any attack made from the _water_.",type:"passive",tags:["aquatic","attack"],params:{}},{id:"attack-from-the-deep",name:"Attack from the Deeps",description:"Gain **+2** damage on attacks made against other targets in the water that are at ground level.",type:"passive",tags:["aquatic","attack"],params:{}},{id:"attentive",name:"Attentive",type:"movement",description:"This unit always musters",tags:["defense","mustering"]},{id:"basic-attack",name:"Basic Attack",description:"You make **1** melee attack against an adjacent enemy. Roll __1d6{dmg}+%dmg%{/dmg}__ and do that much damage.",type:"action",params:{dmg:-1},tags:["attack"]},{name:"Beguile",id:"beguile",description:`Beguile __%be-units%__ unit(s) into one of the following:

_Frightened of you_ - the unit cannot move towards you on its turn.

{compelled}_Compelled_ -  The unit MUST move at least __2__ hexes toward you (if it can/it has to try to){/compelled}

{charmed}_Charmed_ - the unit makes __%numAttacks%__ less attack(s) against you{/charmed}`,tags:["enchantment","spell"],type:"action",params:{frightened:1,compelled:0,charmed:0,numAttacks:1,"be-units":1}},{id:"bless",name:"Bless",description:"Buff up **%bless_tars%** ally(s) within range, granting them **+1** on their first attack/cantrip strike of their turn.",type:"action",tags:["holy","spell"],params:{bless_tars:1}},{id:"cantrip-barrage",name:"Cantrip Strike",description:`Deal **1d6+%can_dmg%** damage to an enemy.

{can_pierce} This attack always does %can_dmg% {/can_pierce}`,type:"action",tags:["evocation"],params:{can_dmg:0,can_pierce:0,"tag-piercing":0}},{id:"charge",name:"Charge",type:"movement",description:`If this unit moves 4 hexes in a straight line before becoming adjacent to an enemy they automatically do +%dmg% damage on first melee attack. The movement for the rest of the turn becomes 0. 
        {breakthrough}
          If after a charge, this unit still has remaining movement, it can use that movement to continue on its charge-line through enemy units.
        {/breakthrough}`,params:{dmg:1,breakthrough:0}},{id:"dash",name:"Dash",type:"action",description:"Move %movement% hexes.",params:{movement:2},tags:["movement","fast"]},{id:"dash-expert",name:"Dash Expert",type:"passive",description:"Once per turn, you can replace any one of your attacks with movement up to your speed.",tags:["movement"]},{id:"death-bomb",name:"Death Bomb",type:"action",description:"This unit can dive bomb and forcefully smash itself into enemy units. This kills this unit. It does 2 damage to a target's HP.",tags:["undead","flying"]},{id:"death-ward",name:"Death Ward",description:"Place a ward against death on a unit. If that unit is reduced to 0 HP it instead goes to %hp% HP. When this happens the spell is used up and you lose concentration on it.",type:"action",tags:["concentration","holy","spell"],params:{hp:2}},{id:"defend",name:"Defend",description:`Gain    **%hp%** _hp_.

{def_regen} You can regain up to __%def_regen%__ hp per day.
{/def_regen}

{brace}For this turn, gain the following effects:

1. You are Immune to Charge effects.
2. Enemies that move adjacent to you take 1 damage.
{/brace}`,type:"action",params:{brace:0,hp:1,def_regen:5},tags:["healing"]},{id:"deflect",name:"Deflect",type:"reaction",description:`Block %deflect% ranged attack that is made at you. Declare before the attack is rolled. 

For magic attacks, deflect on a roll of %lowerRange% or higher.`,tags:["defense"],params:{lowerRange:4,deflect:1}},{id:"dive-bomb",name:"Dive Bomb",type:"passive",tags:["flying"],description:"When this unit moves from a higher elevation to a lower elevation it gains +1 damage for each air level it decends through for its next attack."},{id:"diving",name:"Diving",description:"This unit can swim under water. Gain access to a -1 vertical space in water. Gain +3 to AC from units that are ground or above. You get a -2 dice roll on all attacks on units that are at ground or above.",type:"movement",tags:["aquatic"]},{name:"Dominate",id:"dominate",description:"{base} Take control of `non-elite` units (so common soliders and such). The unit is under your control until the battle ends or it loses half its current health. Can only have __%units%__ unit(s) dominated at a time. {/base} {elite} Take control of any unit. The unit is under your control until the battle ends or it loses half its current health. Can only have __%unit%__ unit(s) dominated at a time.{/elite}",tags:["enchantment","spell"],type:"action",params:{units:1,elite:0,base:1}},{id:"extra-versatile",name:"Extra Versatile",description:"You can choose to take actions before or after each unit of movement.",type:"passive",replaces:"versatile"},{id:"ferry",name:"Ferry",description:"This unit can carry other units on water. It takes 1 action to load an ally (action used during movement). No action required to disembark.",type:"passive",tags:["aquatic","movement"]},{id:"flying",name:"Flying",description:`This unit can fly. It now can exist on two different battlefield planes. The ground, and the air level 1. It costs 1 hex of movement to move upward but not downward.

Additionally, you are immune to environmental effects.`,type:"passive",tags:["flying"],params:{}},{id:"greater-knitting",name:"Greater Knitting",description:"Restore %hp% HP to all adjacent undead units",type:"action",replaces:"knit-flesh",tags:["undead","healing","necromancy"],params:{hp:1}},{id:"guardian",name:"Guardian",type:"reaction",description:"As a reaction, can intercept %attacks% attack(s) going towards an adjacent ally. You now take that attack - also take 1 damage.",tags:["defense"],params:{attacks:1}},{id:"guiding-bolt",name:"Guiding Bolt",description:"You hit an enemy with a blast of light, dealing %dmg% nonabsorbable damage. Next round, allies have +%roll% on all attacks/cantrip strikes against this target.",type:"action",tags:["holy","piercing","spell"],params:{roll:1,dmg:1}},{id:"knit-flesh",name:"Knit Flesh",description:"Restore %hp% HP to an adjacent undead unit",type:"action",params:{hp:1},tags:["undead","healing","necromancy"]},{id:"mass-knitting",name:"Mass Knitting",description:"Restore %hp% HP to all undead units within 2 hexes (100m area)",type:"action",replaces:"greater-knitting",tags:["undead","healing","necromancy"],params:{hp:1}},{id:"multi-attack",name:"Multi Attack",description:`You make %numatks% melee attack against an adjacent enemy.
      
Each Attack: 1d6{dmg}+%dmg%{/dmg}  

{dmg2} This attack always does at least %dmg2% damage {/dmg2}
 `,type:"action",replaces:"Attack_norm",params:{dmg2:0,dmg:0,numatks:1},tags:["attack"]},{id:"reactive-armor",name:"Reactive Armor",description:"When an enemy attacks you, gain 1 AC. Lose 1 AC at the start of each turn.",type:"passive",tags:["defense"]},{id:"restoration",name:"Restoration",description:`Heal a unit %hp%+%@holyheal% HP within spell range.{divine}

Restoration can now be cast for 2 spell slots and heals 10 HP if done this way.{/divine}`,type:"action",tags:["holy","spell","healing"],params:{hp:3,divine:0}},{id:"smite",name:"Smite",description:`When an attack hits (does damage to HP), you may spend 1 spell slot to make that attack do +%dmg%
      damage`,type:"bonus action",tags:["holy","spell"],params:{dmg:3}},{id:"spellcasting",name:"Spellcasting",description:`You can now cast _spells_ and _cantrips_. Casting a spell requires **1** spell slot of the corresponding school of magic.

_Range: **%range%**_
_Contentration Bonus: **%concentration%**_`,type:"school",tags:[],params:{range:1,concentration:1}},{id:"spirit-guardians",name:"Spirit Guardians",description:"Call upon spiritual guardians to protect you. You gain %ac% AC and adjacent enemies take %dmg% unabsorbable damage at the start of your turn. {armor_debuff} Enemies within the zone also have their armor reduced by %armor_debuff% {/armor_debuff}",type:"action",tags:["concentration","holy","piercing","spell"],params:{dmg:1,ac:1,armor_debuff:0}},{id:"strafing-run",name:"Strafing Run",type:"passive",tags:["flying"],description:"As part of movement can make a breath attack against up to %targets% target(s) (adjacent to each) that you fly over in a straight line. This costs 1 breath attack use and does half breath damage (but full effect). Costs 1 movement to initiate for each targeted hex."},{id:"submarine-transportation",name:"Submarine Transportation",description:"This unit can carry other units on water and underwater. It takes 1 action to load an ally (action used during movement). No action required to disembark.",type:"passive",tags:["aquatic","movement"],replaces:"ferry"},{id:"swarm",name:"Swarm",type:"action",tags:["flying"],description:"Swarm around an adjacent enemy unit, co-existing in their hex, and blocking ranged attacks against targets other than itself. This unit can now move 3 hexes as a reaction to stay with its swarmed unit, any more movement breaks the swarm. In addition it can choose to be hit by ranged attacks that would pass through its hex."},{id:"swimming",name:"Swimming",description:"If this unit can move up to %movement% hexes in the water. If the unit's speed is less than %movement% it can move up to its speed.",type:"movement",tags:["aquatic"]},{id:"turn-undead",name:"Turn Undead",description:"Force undead on their turn to move at least %range% hex away from you and get no closer for %rounds% round.",type:"action",tags:["holy","spell"],params:{dmg:1,range:1,rounds:1}},{id:"versatile",name:"Versatile",description:"You can choose to take actions prior to movement.",type:"passive"},{name:"Command",id:"command",description:"Gain a command aura of %commandRadius% m radius (every adjacent hex)",tags:["command"],type:"passive",params:{commandRadius:50}},{name:"Rally",id:"rally",description:`As an action, allied units in your command aura regain %hp% HP.

{bonus}
1 unit within your command aura can make an attack.
{/bonus}`,tags:["command"],type:"action",params:{bonus:0,hp:1}},{name:"Aggressive Commander",id:"aggro-command",description:"Allied units adjacent to this unit can make 1 extra attack, unmodified.",tags:[],type:"action"},{name:"Energetic Commander",id:"energetic-commander",description:"Allied units in this units command aura can move 1 extra hex.",tags:[],type:"action"},{name:"Rally+",id:"rally-2",description:`As an action, allied units in your command aura regain %hp% HP.

2 units within your command aura can make 1 attack 
OR
1 unit within your command aura can make 2 attacks`,tags:["command"],type:"action",params:{hp:1},replaces:"rally"},{name:"Attack of Opportunity",id:"attack-of-opportunity",description:"This unit can make a single melee attack (with modified damage) against any enemy that moves out of adjacency with it. The attack takes place immediately.",tags:["defense","attack"],type:"reaction"},{name:"Professionals",id:"professionals",description:"This unit is always active (doesnt count to active unit count).",tags:["mustering"],type:"movement"},{name:"Raise Dead",id:"raise-dead",description:"Raise a deceased unit as a zombie horde with %raiseHp%% health.",tags:["necromancy","spell"],type:"action",params:{raiseHp:25}},{name:"Life Drain",id:"raise-dead-copy",description:`Create a link between you and a target within range. Each turn as a bonus action you can tap that link (including turn 1) . Tapping the link deals 1 damage to the target's HP and gives that HP to you. 

 This spell lasts as long as the target remains within 6 hexes of the caster.`,tags:["necromancy","spell","healing","concentration"],type:"action"},{name:"Wither",id:"wither",description:`curse a target within range with:
   
-1 armor
   -1 attack 
   -1 movement

Lasts 2 turns. This spell lasts as long as the target remains within 6 hexes of the caster.`,tags:["spell","necromancy"],type:"action"},{name:"Unrelenting Horde",id:"unrelenting-horde",description:"If this unit kills an adjacent unit. It spawns a new zombie unit from the dead unit. The new zombie has %hpPercent%% health",tags:["undead","necromancy"],type:"passive",params:{hpPercent:50}},{name:"Necromancy",id:"necromancy",description:`You can cast Necromancy spells.

Spell Slots: %slots%
Spells Per action: %spellsPerAction%`,tags:["necromancy"],type:"school",params:{slots:1,spellsPerAction:1}},{name:"Holy Casting",id:"holy-casting",description:`You can cast holy spells.

_Spell Slots: **%slots%**_
_Spells Per action: **%spells%**_`,tags:["holy"],type:"school",params:{spells:1,slots:2}},{id:"Attack_norm",name:"Melee Attack",description:`You make 1 melee attack against an adjacent enemy. Roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.

{dmg2} This attack always does at least %dmg2% damage {/dmg2}`,type:"action",params:{dmg2:0,dmg:-1},tags:["attack"],replaces:"basic-attack"},{name:"Ranged Attack",id:"ranged-attack",description:`You make 1 ranged attack against an enemy. First roll 1d6{range}+%range%{/range} against the number of hexes between you and the target. Must beat this distance. For each success now roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.

{dmg2} This attack always does at least %dmg2% damage {/dmg2}`,tags:[],type:"action",params:{dmg2:0,dmg:0,range:0}},{name:"Tie Down",id:"tie_down_001",description:"The unit can spend an attack to tie down an adjacent enemy, restricting their movement by %spd_down% hexes.",tags:[],type:"action",params:{spd_down:0}},{name:"Seige Attack",id:"seige-id-8",description:`This unit can attack walls/towers and gains a bonus to attack gates.

Do %seige_atk% more damage against all buildings.`,tags:[],type:"action",params:{seige_atk:1}},{name:"Massive",id:"anti-air-180",description:"This unit can attack airborne target or targets on walls with no penalty.",tags:["attack"],type:"passive",params:{}},{name:"Hurl",id:"hurl",description:"This unit can now throw entities from adjacent units at targets within %hurl_range% hexes. This attack does %hurl_dmg% of which 1 is piercing.",tags:["attack","ranged"],type:"action",params:{hurl_range:6,hurl_dmg:5}},{name:"Critical Strike",id:"critical-id-98",description:`{base}When you roll a 1 on an attack you may reroll that die once and add the 1 to the result.{/base}
{explode} Explode on 1s.{/explode}`,tags:["attack"],type:"passive",params:{base:1,explode:0}},{name:"Evocation Casting",id:"evocation-casting",description:`You can cast \`evocation\` spells.

_Spell Slots: **%evo_slots%**_
_Spells Per action: **%evo_spells%**_`,tags:["evocation"],type:"school",params:{evo_slots:2,evo_spells:1}},{name:"Magical Barrage",id:"magic-barrageid-22",description:`You unleash a magical barrage against a unit within range. This attack deals **%mb_dmg%** absorbable damage. {mb_con}
 
Or, when you cast \`Magical Barrage\` you can choose to instead {mb_con2} take no action and {/mb_con2} deal no damage but cause the enemy to be unable to move on their next turn. {/mb_con}
{mb_effect} 
When you cast the \`Magical Barrage\` you can add one of the following effects to the target unit:
1. _Frostbite_ - units loses %mb_effect%  movement
1. _Burning_ - unit loses %mb_effect% hp
1. _Weakened_ - minus %mb_effect% damage
1. _Armor Sundered_ - loses %mb_effect% armor
{/mb_effect}`,tags:["spell","evocation"],type:"action",params:{mb_dmg:3,mb_con:0,mb_con2:-1,mb_effect:0}},{name:"Shield",id:"shield-id-152",description:"As a reaction, cast shield on an ally that is within your spell casting range. They gain %shield_armor% armor against the %shield_count% attack. {shield_dmg} If an attack fails to do damage, the absorbed damage is done to the attacker's hp pool. {/shield_dmg}",tags:["abjuration","defense","spell"],type:"reaction",params:{shield_armor:1,shield_count:1,shield_dmg:0}},{name:"Abjuration Casting",id:"abjuration-id-11",description:`You can cast abjuration spells.

_Spell Slots: **%abju_slots%**_
_Spells Per action: **%abju_spells%**_`,tags:["abjuration"],type:"school",params:{abju_slots:2,abju_spells:1}},{name:"Armor of Agathys",id:"armor-of-agathys",description:"As an action, cast Armor of Agathys on an ally (or self). That entity gains %temp_hp% temp HP and when hit by another creature (and still has at least 1 temp HP) it does damge to the attacker equal to the current (pre-hit) temp hp. {Aga_effect} Enemies that take damage by this effect gain the frostbite effect (lose 1 movement) {/aga_effect}",tags:["abjuration","spell","defense"],type:"action",params:{temp_hp:2,aga_effect:0}},{name:"Mage Armor",id:"Mage-armor-id-92",description:"As an action, cast Mage armor on self. Gains %m_armor% armor for %m-armor-turns% turns.",tags:["abjuration","spell","defense"],type:"action",params:{m_armor:1,"m-armor-turns":3}},{name:"Magical Deflection",id:"Magical-Deflection-id-57",description:`As a reaction in response to projectiles or spells targeting you. You create a magical shield that deflects projectiles.  This causes %mdef_count% ranged attack(s) made against you to miss.
{redirect} Any deflected attack can be redirected, use the original attack's stats {/redirect}`,tags:["abjuration","spell","defense"],type:"reaction",params:{mdef_count:1,redirect:0}},{name:"Divination Casting",id:"divination-casting",description:`You can cast \`divination\` spells.

_Spell Slots: **%div_slots%**_
_Spells Per action: **%div_spells%**_`,tags:["divination"],type:"school",params:{div_slots:2,div_spells:1}},{name:"Gift of Foresight",id:"Gift-fore-id-135",description:"Choose __%gof_num%__ ally within spell range and grant them __%gof_ac%__ `AC`. {gof_atk} Also give them __+1__ on their dice rolls. {/gof_atk} {gof_react} A unit with the `Gift of Forsight` on them can, as a _reaction_ to another unit becoming adjacent, move __%gof_react%__ hex(es) away. They can only do this once. This movement would never provoke an _attack of oppourtunity_. {/gof_react}",tags:["divination","concentration","spell"],type:"action",params:{gof_ac:1,gof_atk:0,gof_num:1,gof_react:0}},{name:"Portent",id:"Portent-id-145",description:"Before a battle, roll __%Port_num%x1d6__ and save that roll. You can replace any attack roll within spell range by yourself, an ally, or enemy with this number. Uses a _reaction_ if used to replace an enemy roll. Within magical range.",tags:["divination","spell"],type:"action",params:{Port_num:1}},{name:"Phantom Sight",id:"Phan-sight-id-124",description:"Choose __%ps-num%__  enemy unit(s). {base1}The DM will tell you what _action_ they will use on their next turn. {/base1} {ps-adv} The DM will tell you what _movement_ and _action_ they will use on their next turn. {/ps-adv} {base2} Only effective on `non-command` units {/base2} {ps-comm} Effective on `all` unit types. {/ps-comm}",tags:["divination","spell"],type:"bonus action",params:{base1:1,base2:1,"ps-num":1,"ps-comm":0,"ps-adv":0}},{name:"Enchantment Casting",id:"Enchan-casting-id-26",description:`You can cast \`enchantment\` spells.

_Spell slots: **%enc-slots%**_
_Spells per action: **%enc-spells%**_`,tags:["enchantment"],type:"school",params:{"enc-slots":2,"enc-spells":0}},{name:"Portal",id:"Por-id-110",description:`As an action, choose a hex within range. You create a portal there. Choose where the portal connects to. 
This portal lasts for your next %port-dur% turns.  Only %port-use% unit can enter/exit the portal per turn. {dev-por} Low mass units adjacent to the portal can on their movement phase choose, lose %dev-por% hp or enter the portal. {/dev-por}

{por1} %por1% reinforcements come out of the portal, %por1-num% unit(s) per turn. They exit during allied movement. {/por1}
{hell-por} You can unlock a portal to hell, causing %hell-por% devils to pour out, 2 per turn. {/hell-por}
{hev-por}You can unlock a portal to a friendly place, causing %hev-por% allies to pour out, 2 per turn. {/hev-por} `,tags:["conjuration","spell"],type:"action",params:{"port-use":1,"port-dur":2,por1:0,"por1-num":0,"hell-por":0,"hev-por":0,"dev-por":0}},{name:"Entangling Ground",id:"entangling-ground",description:`As an action, you can choose %eg-hex% hexes of ground and {base} make it difficult terrain.{/base}  {eg-imm} impassible terrain, units can move it it but to move out requires them to spend %eg-imm% actions to free themselves.{/eg-imm}. {eg-dmg}Units that end their turn within this area take %eg-dmg%.{/eg-dmg}Hex must be within casting range.{eg-cree}Now requires concentration. Entangling ground grows by %eg-cree% hex(s) per turn.{/eg-cree}
`,tags:["conjuration","spell","movement"],type:"action",params:{"eg-hex":1,base:1,"eg-imm":0,"eg-dmg":0,"tag-concentration":0,"eg-cree":0}},{name:"Storm",id:"storm",description:"As an action, you unleash a magical storm. This storm occupies %storm-size% hex and travels %storm-mve% hex per turn around the map.{sto-high}The storm hits %sto-high% hex(s) above the ground hex. {/sto-high} It moves after your team's action phase is over. It moves again at the end of the other team's action phase. {sto-base} For each movement, roll 1d6, it moves to that adjacent hex. {/sto-base} {sto-ride} You can now control the storm. The storm moves %storm-mve% hex(s). The storm now moves during your movement phase. {/sto-ride}The storm does %storm-dmg% nonabsorbable damage to any unit it passes over / that moves through it. It only does 1 damage to units at the start of their turn. {sto-mas} You gain %sto-mas% armor while in the storm, and your regular attacks do +%sto-mas% damage. {/sto-mas} {sto-wall}The storm now cannot be moved through, and any unit that starts their turn in the storm cannot move this turn. {/sto-wall} ",tags:["conjuration","spell"],type:"action",params:{"storm-dmg":1,"storm-size":1,"storm-mve":1,"sto-base":1,"sto-ride":0,"sto-mas":0,"sto-wall":0,"sto-high":0}},{name:"Conjure Entites",id:"conjure-entities",description:`As an action you summon %sum-num% unit of wild beasts. Summon these entities within spell range.

{sum1} You can now summon %sum-num% unit of x {/sum1}

{sum2} You can now summon %sum-num% unit of x {/sum2}

{sum3} You can now summon %sum-num% unit of x {/sum3}

{sum4} You can now summon %sum-num% unit of x {/sum4}

{sum5} You can now summon %sum-num% unit of x {/sum5}`,tags:["conjuration"],type:"action",params:{"sum-num":1,sum1:-1,sum2:-2,sum3:-3,sum4:-4,sum5:-5}},{name:"Conjuration Casting",id:"conjuration-casting",description:`You can now cast conjuration spells. 
You can cast %con-num% spells per day.`,tags:["conjuration"],type:"action",params:{"con-num":2}},{name:"Dragon Breath",id:"Drag-breath-001",description:`Your dragon unleashes its breath attack on a unit within %bw-rng% hexes. That unit takes %bw-dmg% points of absorbable damage. {bw-eff} It takes two actions to remove this lasting effect.{/bw-eff} 

{bw-burn} Target units begin burning for %bw-burn% hp (not absorbable) per turn.{/bw-burn}

{bw-bite} Target units lose  %bw-bite% speed.{/bw-bite}

{bw-weak} Target units do %bw-weak% less damage per attack.{/bw-weak}

{bw-sund} Target units lose %bw-sund% armor.{/bw-sund}`,tags:["Dragon Breath"],type:"action",params:{"bw-rng":1,"bw-dmg":3,"bw-eff":0,"bw-burn":0,"bw-bite":0,"bw-weak":0,"bw-sund":0}},{name:"Breath Attacks",id:"breath-attacks",description:`Can use Dragon Breath %bw-use% times per day.{bw-rchrg} Can spend 1 action to recharge %bw-rchrg% breath attack use. {/bw-rchrg}{bw-cat} Bonus action: Can spend 3 hp to regain %bw-cat% breath attack uses.{/bw-cat}{bw-ann} Bonus action: Can spend 1  breath attack uses to regain  %bw-ann% hp.{/bw-cat}
`,tags:["Dragon Breath"],type:"passive",params:{"bw-use":1,"bw-rchrg":0,"bw-cat":0,"bw-ann":0,"bw-resist":0}},{name:"Draconic Bombardment",id:"draconic-bombardment",description:"You can now target an unoccupied hex with your breath weapon attack. Deal %bw2-dmg% damage (absorbable) to that hex or a unit on that hex.{bw-block}The hex targeted by your draconic attack becomes impassible. It can however be destroyed. It has %bw-block% hp. If used on a unit, the blocker is not created.{/bw-block}",tags:["Dragon Breath"],type:"action",replaces:"Drag-breath-001",params:{"bw2-dmg":3,"bw-block":0}}],dSe=[{id:"action",name:"Action",color:"#8eb0ff"},{id:"movement",name:"Movement",color:"#c7f8af"},{id:"passive",name:"Passive",color:"#cabfbf"},{id:"reaction",name:"Reaction",color:"#ffb0fc"},{id:"bonus action",name:"Bonus Action",color:"#a887ff"},{id:"school",name:"Magic Proficiency",color:"#5ec5e1"}],fSe=[{id:"holyheal",value:2},{id:"holy-damage",value:0}],pSe=[{id:"basic",name:"Basic",requires:[],requirementType:"and",description:"Congrats! You are a unit.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#121212",selected:"#d2d2d2"},cost:1,providedStats:[{id:"hp",modifier:5},{id:"armor",modifier:2},{id:"movement",modifier:1,set:!1}],providedAbilities:[{id:"basic-attack",modifier:1,modifiers:[],gain:!0}]},{id:"basic-magic",name:"Spellcasting",requires:[{id:"basic",levels:1}],requirementType:"and",description:"Grants your unit the ability to cast spells",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"cantrip-barrage",gain:!0},{id:"spellcasting",gain:!0}]},{id:"speed",name:"Speed",requires:[{id:"basic",levels:1}],description:"Allows you to move one additional hex per turn",colors:{unavailable:"#648264",selected:"#51db53"},levels:8,providedStats:[{id:"movement",modifier:1}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"versatile",requires:[{id:"speed",levels:4}],name:"Versatile",description:"Grants the Versatile ability",cost:1,providedAbilities:[{id:"versatile",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"extra-versatile",requires:[{id:"versatile",levels:1}],name:"Extra Versatile",description:"Grants the Extra Versatile ability",cost:1,providedAbilities:[{id:"extra-versatile",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"dash",requires:[{id:"speed",levels:2}],name:"Dash",description:"Grants the Dash ability",cost:1,providedAbilities:[{id:"dash",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"advanced-dash",requires:[{id:"charge",levels:1}],name:"Dash+",description:"Increases the movement of Dash by 2",cost:1,levels:2,providedAbilities:[{id:"dash",modifiers:[{id:"movement",modifier:2}]}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"dash-expert",requires:[{id:"advanced-dash",levels:2}],name:"Dash Expert",description:"Grants the Dash Expert ability",cost:1,providedAbilities:[{id:"dash-expert",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"charge",requires:[{id:"dash",levels:1}],name:"Charge",description:"Grants the Charge ability",cost:1,providedAbilities:[{id:"charge",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"breakthrough",requires:[{id:"charge",levels:1}],name:"Breakthrough",description:"Grants you the ability to continue moving through units after a charge.",cost:1,providedAbilities:[{id:"charge",modifiers:[{id:"breakthrough",modifer:1,modifier:1}]}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"advanced-charge",requires:[{id:"charge",levels:1}],name:"Charge+",description:"Increases the movement of Charge by 2",cost:1,providedAbilities:[{id:"charge",modifiers:[{id:"dmg",modifer:1}]}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"flying",requires:[{id:"speed",levels:4}],name:"Flying",description:"Grants you the ability to fly",cost:1,providedAbilities:[{id:"flying",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"death-bomb",requires:[{id:"flying",levels:1}],name:"Death Bomb",description:"Grants you the Death Bomb ability. Must be undead to use.",cost:1,providedAbilities:[{id:"death-bomb",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"swarm",requires:[{id:"flying",levels:1}],name:"Swarm",description:"Grants you the Swarm ability.",cost:1,providedAbilities:[{id:"swarm",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"strafing-run",requires:[{id:"flying",levels:1}],name:"Strafing Run",description:"Grants you the Strafing Run ability.",cost:1,providedAbilities:[{id:"strafing-run",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"advanced-strafing-run",requires:[{id:"strafing-run",levels:1}],name:"Strafing Run+",description:"Increases the number of targets by 3.",levels:2,providedAbilities:[{id:"strafing-run",modifiers:{targets:3}}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"advanced-flying",requires:[{id:"flying",levels:1}],name:"Advanced Flying",description:"Increases the number of targets by 3.",cost:1,providedAbilities:[{id:"advanced-flying",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"dive-bomb",requires:[{id:"advanced-flying",levels:1}],name:"Dive Bomb",description:"Grants you the Dive Bomb ability.",cost:1,providedAbilities:[{id:"dive-bomb",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"aerial-combat",requires:[{id:"advanced-flying",levels:1},{id:"dive-bomb",levels:1}],name:"Aerial Combat",description:"Grants you the Aerial Combat ability.",cost:1,providedAbilities:[{id:"aerial-combat",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"aerial-evasion",requires:[{id:"aerial-combat",levels:1}],name:"Aerial Evasion",description:"Grants you the Aerial Evasion ability.",cost:1,providedAbilities:[{id:"aerial-evasion",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"armor",requires:[{id:"basic",levels:1}],name:"Armor",description:"Adds 1 Armor",levels:7,levelCost:[1,1,2,2,3,4,4],providedStats:[{id:"armor",modifier:1}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"attentive",requires:[{id:"armor",levels:2}],name:"Attentive",description:"Grants the Attentive ability",providedAbilities:[{id:"attentive",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"alert",requires:[{id:"attentive",levels:1}],name:"Alert",description:"Grants the Alert ability",providedAbilities:[{id:"alert",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8550"},id:"reactive-armor",requires:[{id:"armor",levels:5}],name:"Reactive Armor",description:"Sets your AC to 1 and grants Reactive Armor.",cost:1,providedStats:[{id:"armor",set:1,modifier:1}],providedAbilities:[{id:"reactive-armor",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"reactive-armor-2",requires:[{id:"reactive-armor",levels:1}],name:"Reactive Armor 2",description:"Increases your base AC to 2",cost:1,providedStats:[{id:"armor",set:2,modifier:2}]},{id:"defend-1",name:"Defend 1",requires:[{id:"armor",levels:1}],requirementType:"and",description:"Grants the ability to defend and adds 1 HP. You can regain half of your HP this way, per day.",globalParams:[],colors:{unavailable:"#403c3a",selected:"#cd8150"},levels:4,levelCost:[1,2,3,4],providedAbilities:[{id:"defend",gain:!0,modifiers:[{id:"hp",modifier:1,set:!1}]}]},{id:"deflect-1",name:"Deflection",requires:[{id:"defend-1",levels:1}],requirementType:"and",description:"Grants the Deflect ability.",globalParams:[],colors:{unavailable:"#403c3a",selected:"#cd8150"},cost:1,providedAbilities:[{id:"deflect",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"deflect-2",requires:[{id:"deflect-1",levels:1}],name:"Deflection+",description:"Makes it easier to deflect magic attacks.",cost:1,providedAbilities:[{id:"deflect",modifiers:[{id:"lowerRange",modifier:-1,set:!1}]}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"guardian-1",requires:[{id:"defend-1",levels:1}],name:"Guardian",description:"Grants the Guardian ability",cost:1,providedAbilities:[{id:"guardian",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"guardian-2",requires:[{id:"guardian-1",levels:1}],name:"Guardian+",description:"Allows you guard an additional attack",cost:1,providedAbilities:[{id:"guardian",modifiers:[{id:"attacks",modifier:1,set:!1}]}]},{colors:{unavailable:"#65748f",selected:"#7391c9"},id:"magic-range-1",requires:[{id:"basic-magic",levels:1}],name:"Spell Range",description:"Increases the range of your magic.",levels:3,providedAbilities:[{id:"spellcasting",modifiers:[{id:"range",modifier:1}]}]},{colors:{unavailable:"#65748f",selected:"#7391c9"},id:"concentration-1",requires:[{id:"basic-magic",levels:1}],name:"Concentration+",description:"Add +1 to concentration checks.",levels:2,providedAbilities:[{id:"spellcasting",modifiers:[{id:"concentration",modifier:1}]}]},{id:"holy-casting",name:"Holy-Divine Casting",requires:[{id:"basic-magic",levels:1}],requirementType:"and",description:"Grants you the ability to cast Holy/Divine Spells.",globalParams:[],colors:{unavailable:"#C5B986",selected:"#e2c846"},cost:1,providedAbilities:[{id:"smite",gain:!0},{id:"guiding-bolt",gain:!0},{id:"death-ward",gain:!0},{id:"restoration",gain:!0},{id:"turn-undead",gain:!0},{id:"bless",gain:!0},{id:"spirit-guardians",gain:!0},{id:"holy-casting",modifier:1,modifiers:[],gain:!0}]},{id:"holy-power",name:"Holy Power",requires:[{id:"holy-casting",levels:1}],description:"Increases the damage of Smite and Guiding Bolt by 1",colors:{unavailable:"#C5B986",selected:"#948540"},cost:1,providedAbilities:[{id:"smite",modifiers:[{id:"dmg",modifier:1}]},{id:"guiding-bolt",modifiers:[{id:"dmg",modifier:1}]}]},{colors:{unavailable:"#C5B986",selected:"#e6c11d"},id:"advanced-guiding-bolt",requires:[{id:"holy-power",levels:1}],name:"Advanced Guiding Bolt",description:"Guiding bolt now gives allies +2 to hit the target next round.",cost:1,providedAbilities:[{id:"guiding-bolt",modifiers:{hit:1}}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"swimming",requires:[{id:"speed",levels:1}],name:"Swimming",description:"Congrats! You are a unit.",cost:1,providedAbilities:[{id:"swimming",gain:!0}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"advanced-swimming",requires:[{id:"swimming",levels:1}],name:"Advanded Swimming",description:"Increases potential water speed by 3.",cost:1,providedAbilities:[{id:"swimming",modifiers:{movement:3}}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"ferry",requires:[{id:"advanced-swimming",levels:1}],name:"Ferry",description:"Grants the Ferry ability",cost:1,providedAbilities:[{id:"ferry",gain:!0}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"diving",requires:[{id:"advanced-swimming",levels:1}],name:"Diving",description:"Grants the Diving ability",cost:2,providedAbilities:[{id:"diving",gain:!0}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"submarine-transportation",requires:[{id:"diving",levels:1}],name:"Submarine Transportation",description:"Grants the Submarine Transportation ability",cost:1,providedAbilities:[{id:"submarine-transportation",gain:!0}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"attack-from-the-deep",requires:[{id:"diving",levels:1}],name:"Attack From The Deep",description:"Grants the Attack From The Deep ability",cost:2,providedAbilities:[{id:"attack-from-the-deep",gain:!0}]},{id:"191",name:"Enchantment",requires:[{id:"basic-magic",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[],gain:!0},{id:"beguile",modifier:1,modifiers:[],gain:!0},{id:"dominate",modifier:1,modifiers:[],gain:!0},{id:"Enchan-casting-id-26",modifier:1,modifiers:[],gain:!0}]},{id:"180",name:"Compelling Beguile",requires:[{id:"alter-emotions-1",levels:1}],requirementType:"and",description:"Beguiled opponents can now be Compelled and Charmed.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"beguile",modifier:1,modifiers:[{id:"compelled",modifier:1,set:!1},{id:"charmed",modifier:1,set:!1}]}]},{id:"beguile-3",name:"Weakining beguile",requires:[{id:"alter-emotions-1",levels:1}],requirementType:"and",description:"Charmed opponents make 1 fewer attack against you.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"beguile",modifier:1,modifiers:[{id:"numAttacks",modifier:1,set:!1}]}]},{id:"alter-emotions-1",name:"Manipulator",requires:[{id:"191",levels:1}],requirementType:"and",description:"You are better at altering emotions and beguiling.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[{id:"amt",modifier:1,set:!1}]},{id:"beguile",modifier:1,modifiers:[{id:"be-units",modifier:1,set:!1}]}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command",requires:[{id:"basic",levels:1}],name:"Command",cost:1,providedAbilities:[{id:"command",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-plus",requires:[{id:"command",levels:1}],name:"Command+",levels:3,levelCost:[1,1,1],providedAbilities:[{id:"command",modifier:1,modifiers:[{id:"commandRadius",modifier:50,set:!1}]}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"aggro-command",requires:[{id:"command-plus",levels:1}],name:"Aggressive Commander",cost:1,providedAbilities:[{id:"aggro-command",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-plus-2",requires:[{id:"command-plus",levels:2}],name:"Energetic Commander",cost:1,providedAbilities:[{id:"energetic-commander",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-2",requires:[{id:"command",levels:1}],name:"Rally",cost:1,providedAbilities:[{id:"rally",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"rally+",requires:[{id:"command-2",levels:1}],name:"Rally+",cost:1,providedAbilities:[{id:"rally",modifier:1,modifiers:[{id:"hp",modifier:2,set:!1}]},{id:"rally-2",modifiers:[{id:"hp",modifier:2,set:!1}],gain:!1}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-2-2",requires:[{id:"command-2",levels:1}],name:"Ordered Strike",cost:1,providedAbilities:[{id:"rally",modifiers:[{id:"bonus",modifier:1,set:!1}]}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-2-2-1",requires:[{id:"command-2-2",levels:1}],name:"Ordered Strike 2",cost:1,providedAbilities:[{id:"rally-2",modifier:1,modifiers:[],gain:!0}]},{id:"brace",name:"Brace",requires:[{id:"defend-1",levels:1}],requirementType:"and",description:"Brace for attacks while defending, negating charge effects and damaging nearby enemies.",globalParams:[],colors:{unavailable:"#bd7859",selected:"#d48630"},cost:1,providedAbilities:[{id:"defend",modifier:1,modifiers:[{id:"brace",modifier:1,set:!1}]}]},{id:"defend-2-3",name:"Attack of Opportunity",requires:[{id:"defend-1",levels:2}],requirementType:"and",globalParams:[],colors:{unavailable:"#d3976b",selected:"#d46430"},cost:1,providedAbilities:[{id:"attack-of-opportunity",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"professionals",requires:[{id:"armor",levels:3}],name:"Professionals",description:'Grants the "Professionals" ability.',cost:1,providedAbilities:[{id:"professionals",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"basic-magic-5",requires:[{id:"basic-magic",levels:1}],name:"Necromancy",description:"Cast Necromancer spells.",cost:1,providedAbilities:[{id:"necromancy",modifier:1,modifiers:[],gain:!0},{id:"raise-dead-copy",modifier:1,modifiers:[],gain:!0},{id:"raise-dead",modifier:1,modifiers:[],gain:!0},{id:"knit-flesh",modifier:1,modifiers:[],gain:!0},{id:"wither",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necromancy-raise-dead",requires:[{id:"basic-magic-5",levels:1}],name:"Raise Dead+",description:"Increases the health of raised units.",cost:1,providedAbilities:[{id:"raise-dead",modifier:1,modifiers:[{id:"raiseHp",modifier:25,set:!1}]}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necromancy-raise-dead-1",requires:[{id:"necromancy-raise-dead",levels:1}],name:"Raise Dead++",description:"Raise units to full health.",cost:1,providedAbilities:[{id:"raise-dead",modifier:1,modifiers:[{id:"raiseHp",modifier:50,set:!1}]}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necro-prof",requires:[{id:"basic-magic-5",levels:1}],name:"Necromantic Profiency",description:"Increases the number of necromancy spells you can cast",levels:2,levelCost:[1,1],providedAbilities:[{id:"necromancy",modifier:1,modifiers:[{id:"slots",modifier:2,set:!1}]}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necro-prof-1",requires:[{id:"necro-prof",levels:1}],name:"Necromantic Mastery",description:"Further increases the number of spells you can cast",cost:1,providedAbilities:[{id:"necromancy",modifier:1,modifiers:[{id:"slots",modifier:1,set:!1}]}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necro-prof-2",requires:[{id:"necro-prof",levels:1}],name:"Necromancer",description:"You can now cast 2 necromancy spells per action.",cost:1,providedAbilities:[{id:"necromancy",modifier:1,modifiers:[{id:"spellsPerAction",modifier:1,set:!1}]}]},{id:"greater-restoration",name:"Greater Restoration",requires:[{id:"holy-casting",levels:1}],description:`Restoration now heals 5 HP.

Death Ward restores units to 3 HP.`,colors:{unavailable:"#C5B986",selected:"#bda841"},cost:1,providedAbilities:[{id:"restoration",modifier:1,modifiers:[{id:"hp",modifier:2,set:!1}]},{id:"death-ward",modifier:1,modifiers:[{id:"hp",modifier:1,set:!1}]}]},{id:"divine-restoration",name:"Divine Restoration",requires:[{id:"greater-restoration",levels:1}],description:"Restoration can now be cast for 2 spell slots and heals 10 HP if done this way.",colors:{unavailable:"#C5B986",selected:"#bda841"},cost:1,providedAbilities:[{id:"restoration",modifier:1,modifiers:[{id:"divine",modifier:1,set:!1}]}]},{id:"holy-avenger",name:"Holy Avenger",requires:[{id:"holy-power",levels:1}],colors:{unavailable:"#C5B986",selected:"#948540"},cost:1},{id:"undead-scourge",name:"Undead Scourge",requires:[{id:"holy-power",levels:1},{levels:"1",id:"paragon-of-divintiy"}],requirementType:"and",globalParams:[],colors:{unavailable:"#C5B986",selected:"#948540"},levels:2,levelCost:[1,1],providedAbilities:[{id:"turn-undead",modifier:1,modifiers:[{id:"range",modifier:1,set:!1}]}]},{id:"paragon-of-divintiy",name:"Paragon of Divinity",requires:[{id:"holy-casting",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#C5B986",selected:"#e2c846"},cost:1,providedAbilities:[{id:"bless",modifier:1,modifiers:[{id:"bless_tars",modifier:1,set:!1}]},{id:"spirit-guardians",modifier:1,modifiers:[{id:"armor_debuff",modifier:1,set:!1}]}]},{id:"divine-prof",name:"Divine Proficiency",requires:[{id:"holy-casting",levels:1}],colors:{unavailable:"#C5B986",selected:"#e2c846"},levels:3,levelCost:[2,2,2],providedAbilities:[{id:"holy-casting",modifier:1,modifiers:[{id:"slots",modifier:2,set:!1}]}]},{id:"cleric",name:"Cleric",requires:[{id:"divine-prof",levels:2}],requirementType:"and",description:"Holy spells heal for 1 additional HP.",globalParams:[{id:"holyheal",modifier:1,set:!1}],exclusiveWith:["paladin"],colors:{unavailable:"#C5B986",selected:"#e2c846"},cost:1,providedAbilities:[{id:"restoration",modifier:1,modifiers:[{id:"hp",modifier:1,set:!1}]},{id:"death-ward",modifier:1,modifiers:[{id:"hp",modifier:1,set:!1}]}]},{id:"paladin",name:"Paladin",requires:[{id:"divine-prof",levels:2}],requirementType:"and",description:"Holy spells deal +1 damage",globalParams:[],exclusiveWith:["cleric"],colors:{unavailable:"#C5B986",selected:"#e2c846"},cost:1,providedAbilities:[{id:"smite",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]},{id:"turn-undead",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]},{id:"spirit-guardians",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]},{id:"guiding-bolt",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]}]},{id:"attack-node",name:"Melee Attack",requires:[{id:"basic",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:4,levelCost:[1,3,4,5],providedAbilities:[{id:"Attack_norm",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}],gain:!0},{id:"multi-attack",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]}]},{id:"Multi_attack-1-dz",name:"Multistrike",requires:[{id:"attack-node",levels:1}],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:2,levelCost:[3,4],providedAbilities:[{id:"multi-attack",modifier:1,modifiers:[{id:"numatks",modifier:1,set:!1}],gain:!0}]},{id:"attack-node-1-dv",name:"Piercing attack",requires:[{id:"attack-node",levels:1}],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:2,levelCost:[1,3],providedAbilities:[{id:"Attack_norm",modifier:1,modifiers:[{id:"dmg2",modifier:1,set:!1}]},{id:"multi-attack",modifier:1,modifiers:[{id:"dmg2",modifier:1,set:!1}]}]},{id:"basic-1-ay",name:"Ranged Attack",requires:[{id:"basic",levels:1}],colors:{unavailable:"#9A5C82",selected:"#831256"},levels:4,levelCost:[1,3,4,5],providedAbilities:[{id:"ranged-attack",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}],gain:!0}]},{id:"basic-1-ay-1-ed",name:"Marksman",requires:[{id:"basic-1-ay",levels:1}],colors:{unavailable:"#9A5C82",selected:"#831256"},levels:5,levelCost:[1,2,3,4,5],providedAbilities:[{id:"ranged-attack",modifier:1,modifiers:[{id:"range",modifier:1,set:!1}]}]},{id:"ranged-piercing-001",name:"Advanced Arrowheads",requires:[{id:"basic-1-ay",levels:1}],colors:{unavailable:"#9A5C82",selected:"#831256"},cost:1,providedAbilities:[{id:"ranged-attack",modifier:1,modifiers:[{id:"dmg2",modifier:1,set:!1}]}]},{id:"attack-node-1-bv",name:"Tie Down",requires:[{id:"attack-node",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:7,levelCost:[1,1,1,1,1,1,1],providedAbilities:[{id:"tie_down_001",modifier:1,modifiers:[{id:"spd_down",modifier:2,set:!1}],gain:!0}]},{id:"Seige-attacker",name:"Seige Attacker",requires:[{id:"attack-node",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"seige-id-8",modifier:1,modifiers:[{id:"seige_atk",modifier:1,set:!1}],gain:!0}]},{id:"Massive-1-dx",name:"Massive",requires:[{id:"Seige-attacker",levels:1}],requirementType:"and",description:"This unit has learned how to project its enormity across the battlefield.",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},cost:1,providedAbilities:[{id:"anti-air-180",modifier:1,modifiers:[]}]},{id:"Hurler-1-dx-1-bv",name:"Hurler",requires:[{id:"Massive-1-dx",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},levels:3,levelCost:[1,2,3],providedAbilities:[{id:"hurl",modifier:1,modifiers:[{id:"hurl_range",modifier:1,set:!1},{id:"hurl_dmg",modifier:2,set:!1}],gain:!0}]},{id:"deflect-1-1-ev",name:"Deflecter",requires:[{id:"deflect-1",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#403c3a",selected:"#cd8150"},levels:2,levelCost:[1,1],providedAbilities:[{id:"deflect",modifier:1,modifiers:[{id:"deflect",modifier:1,set:!1}]}]},{id:"attack-node-1-cy",name:"Critical Strike",requires:[{id:"attack-node",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},cost:1,providedAbilities:[{id:"critical-id-98",modifier:1,modifiers:[],gain:!0}]},{id:"attack-node-1-cy-1-ez",name:"Exploding Critical Strike",requires:[{id:"attack-node-1-cy",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#DE7171",selected:"#EF3D3D"},cost:1,providedAbilities:[{id:"critical-id-98",modifier:1,modifiers:[{id:"base",modifier:-1,set:!1},{id:"explode",modifier:1,set:!1}]}]},{id:"basic-magic-1-ev",name:"Evocation",requires:[{id:"basic-magic",levels:1}],requirementType:"and",description:"Grants you the ability to cast Evocation spells.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},cost:1,providedAbilities:[{id:"evocation-casting",modifier:1,modifiers:[],gain:!0},{id:"magic-barrageid-22",modifier:1,modifiers:[],gain:!0}]},{id:"basic-magic-1-ev-1-dd",name:"Concussive Barrage",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"When you cast Magical Barrage you can choose to instead deal no damage but cause the enemy to be unable to move on their next turn.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:2,levelCost:[1,1],providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_con",modifier:1,set:!1},{id:"mb_con2",modifier:1,set:!1}]}]},{id:"basic-magic-1-ev-1-dz",name:"Barrage Effect",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"When you cast the Magical Barrage Spell you can add an effect on the target.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:2,levelCost:[1,1],providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_effect",modifier:1,set:!1}]}]},{id:"basic-magic-1-ev-1-dv",name:"Enhanced Barrage",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"Magical barrage now does more damage.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:3,levelCost:[1,2,3],providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_dmg",modifier:2,set:!1}]}]},{id:"basic-magic-1-ev-1-cd",name:"Evocation Proficiency",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"You can cast more evocation spells",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"evocation-casting",modifier:1,modifiers:[{id:"evo_slots",modifier:2,set:!1}]}]},{id:"basic-magic-1-ev-1-dv-1-bz",name:"Lasting magics",requires:[{id:"basic-magic-1-ev-1-cd",levels:4}],requirementType:"and",description:"Trade damage now for damage later.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},cost:1,providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_effect",modifier:2,set:!1},{id:"mb_dmg",modifier:-1,set:!1}]}]},{id:"basic-magic-1-ev-1-cd-1-ez",name:"Powerful Magics",requires:[{id:"basic-magic-1-ev-1-cd",levels:4}],requirementType:"and",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},cost:1,providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_dmg",modifier:2,set:!1}]}]},{id:"basic-magic-1-ev-1-az",name:"Enhanced Cantrip Strike",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"Increases the potency of Cantrip Strike.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"cantrip-barrage",modifier:1,modifiers:[{id:"can_dmg",modifier:1,set:!1}]}]},{id:"basic-magic-1-ev-1-az-1-dy",name:"Piercing Cantrip Strike",requires:[{id:"basic-magic-1-ev-1-az",levels:1}],requirementType:"and",description:"Cantrip strike now does piercing damage.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#850202",selected:"#ff0004"},cost:1,providedAbilities:[{id:"cantrip-barrage",modifier:1,modifiers:[{id:"can_pierce",modifier:1,set:!1},{id:"tag-piercing",modifier:1,set:!1}]}]},{id:"basic-magic-1-by",name:"Abjuration",requires:[{id:"basic-magic",levels:1}],requirementType:"and",description:"You can now cast abjuration spells.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},cost:1,providedAbilities:[{id:"abjuration-id-11",modifier:1,modifiers:[{id:"",modifier:1,set:!1}],gain:!0},{id:"shield-id-152",modifier:1,modifiers:[],gain:!0},{id:"Magical-Deflection-id-57",modifier:1,modifiers:[],gain:!0},{id:"armor-of-agathys",modifier:1,modifiers:[],gain:!0},{id:"Mage-armor-id-92",modifier:1,modifiers:[],gain:!0}]},{id:"basic-magic-1-by-1-ex",name:"Abjuration Proficiency",requires:[{id:"basic-magic-1-by",levels:1}],requirementType:"and",description:"You can cast more abjuration spells.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"abjuration-id-11",modifier:1,modifiers:[{id:"abju_slots",modifier:2,set:!1}]}]},{id:"basic-magic-1-by-1-ey",name:"Magical Shielding",requires:[{id:"basic-magic-1-by",levels:1}],requirementType:"and",description:"Shield and magical deflection are upgraded.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},levels:2,levelCost:[2,3],providedAbilities:[{id:"shield-id-152",modifier:1,modifiers:[{id:"shield_armor",modifier:1,set:!1},{id:"shield_count",modifier:1,set:!1}]},{id:"Magical-Deflection-id-57",modifier:1,modifiers:[{id:"mdef_count",modifier:2,set:!1}]}]},{id:"basic-magic-1-by-1-ey-1-ey",name:"Magical redirection",requires:[{id:"basic-magic-1-by-1-ey",levels:1}],requirementType:"and",description:"Ranged returned to sender.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},cost:1,providedAbilities:[{id:"Magical-Deflection-id-57",modifier:1,modifiers:[{id:"redirect",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-ey-1-ez",name:"Volitile Shield",requires:[{id:"basic-magic-1-by-1-ey",levels:1}],requirementType:"and",description:"Attacks fully absorbed by shield (reg. armor + shield armor) hurt the attacker.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},cost:1,providedAbilities:[{id:"shield-id-152",modifier:1,modifiers:[{id:"shield_dmg",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-by",name:"Magical Armor",requires:[{id:"basic-magic-1-by",levels:1}],requirementType:"and",description:"Upgrade your magical armor.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},levels:2,levelCost:[2,2],providedAbilities:[{id:"armor-of-agathys",modifier:1,modifiers:[{id:"temp_hp",modifier:1,set:!1}]},{id:"Mage-armor-id-92",modifier:1,modifiers:[{id:"m_armor",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-by-1-cd",name:"Lasting Armor",requires:[{id:"basic-magic-1-by-1-by",levels:1}],requirementType:"and",description:"Mage armor lasts longer",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"Mage-armor-id-92",modifier:1,modifiers:[{id:"m-armor-turns",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-by-1-ex",name:"Subzero Armor",requires:[{id:"basic-magic-1-by-1-by",levels:1}],requirementType:"and",description:"Armor of agathys is more effective.",globalParams:[],colors:{unavailable:"#5F5F90",selected:"#5082EF"},levels:2,levelCost:[1,2],providedAbilities:[{id:"armor-of-agathys",modifier:1,modifiers:[{id:"temp_hp",modifier:1,set:!1},{id:"aga_effect",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-ex-1-dy",name:"Reactive Abjurer",requires:[{id:"basic-magic-1-by-1-ex",levels:2}],requirementType:"and",description:"Makes shield and magical deflection at the cost of mage armor and armor of agathys.",globalParams:[],exclusiveWith:["basic-magic-1-by-1-ex-1-ey"],colors:{unavailable:"#5F5F90",selected:"#5082EF"},cost:1,providedAbilities:[{id:"Mage-armor-id-92",modifier:1,modifiers:[{id:"m_armor",modifier:-1,set:!1}]},{id:"armor-of-agathys",modifier:1,modifiers:[{id:"temp_hp",modifier:-2,set:!1}]},{id:"shield-id-152",modifier:1,modifiers:[{id:"shield_armor",modifier:3,set:!1}]},{id:"Magical-Deflection-id-57",modifier:1,modifiers:[{id:"mdef_count",modifier:3,set:!1}]}]},{id:"basic-magic-1-by-1-ex-1-ey",name:"Prepared Abjurer",requires:[{id:"basic-magic-1-by-1-ex",levels:2}],requirementType:"and",description:"Improve Mage armor and armor of agathys at the cost of reactive shielding.",globalParams:[],exclusiveWith:["basic-magic-1-by-1-ex-1-dy"],colors:{unavailable:"#5F5F90",selected:"#5082EF"},cost:1,providedAbilities:[{id:"armor-of-agathys",modifier:1,modifiers:[{id:"temp_hp",modifier:2,set:!1}]},{id:"Mage-armor-id-92",modifier:1,modifiers:[{id:"m_armor",modifier:1,set:!1},{id:"m-armor-turns",modifier:1,set:!1}]},{id:"shield-id-152",modifier:1,modifiers:[{id:"shield_armor",modifier:-1,set:!1}]},{id:"Magical-Deflection-id-57",modifier:1,modifiers:[{id:"mdef_count",modifier:-1,set:!1}]}]},{id:"basic-magic-1-av",name:"Divination",requires:[{id:"basic-magic",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"divination-casting",modifier:1,modifiers:[],gain:!0},{id:"Gift-fore-id-135",modifier:1,modifiers:[],gain:!0},{id:"Portent-id-145",modifier:1,modifiers:[],gain:!0},{id:"Phan-sight-id-124",modifier:1,modifiers:[],gain:!0}]},{id:"basic-magic-1-av-1-dd",name:"Divination Proficiency",requires:[{id:"basic-magic-1-av",levels:1}],requirementType:"and",description:"You can cast more divination spells.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"divination-casting",modifier:1,modifiers:[{id:"div_slots",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-ad",name:"Gift of Foresight",requires:[{id:"basic-magic-1-av",levels:1}],requirementType:"and",description:"Improved gift of foresight.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_ac",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-ad-1-ed",name:"Advantage of Foresight",requires:[{id:"basic-magic-1-av-1-ad",levels:1}],requirementType:"and",description:"Gift of foresight now grains bonuses to attacking.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_atk",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-ad-1-az",name:"Multiple foresight",requires:[{id:"basic-magic-1-av-1-ad",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_num",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-ad-1-az-1-bz",name:"Gift of reaction",requires:[{id:"basic-magic-1-av-1-ad-1-az",levels:1},{levels:"1",id:"basic-magic-1-av-1-ad-1-ed"}],requirementType:"or",description:"Gift of foresight now allows a unit to move away from an enemy.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_react",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-cy",name:"Deep Portent",requires:[{id:"basic-magic-1-av",levels:1}],requirementType:"and",description:"Reroll more dice from portent.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},levels:2,levelCost:[1,1],providedAbilities:[{id:"Portent-id-145",modifier:1,modifiers:[{id:"Port_num",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-ez",name:"Spectre Sight",requires:[{id:"basic-magic-1-av",levels:1}],requirementType:"and",description:"Improved Phantom sight.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Phan-sight-id-124",modifier:1,modifiers:[{id:"ps-num",modifier:1,set:!1},{id:"base1",modifier:-1,set:!1},{id:"ps-adv",modifier:1,set:!1}],gain:!0}]},{id:"basic-magic-1-av-1-ez-1-ax",name:"Command Sight",requires:[{id:"basic-magic-1-av-1-ez",levels:1}],requirementType:"and",description:"Improved phantom sight for command units.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Phan-sight-id-124",modifier:1,modifiers:[{id:"base2",modifier:-1,set:!1},{id:"ps-comm",modifier:1,set:!1},{id:"ps-num",modifier:1,set:!1}],gain:!1}]},{id:"basic-magic-1-av-1-dd-1-bx",name:"Precognitist",requires:[{id:"basic-magic-1-av-1-dd",levels:1}],requirementType:"and",description:"Improves gift of foresight and phantom sight at the cost of portent.",globalParams:[],exclusiveWith:["basic-magic-1-av-1-dd-1-av"],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_atk",modifier:1,set:!1},{id:"gof_num",modifier:1,set:!1},{id:"gof_ac",modifier:1,set:!1}]},{id:"Phan-sight-id-124",modifier:1,modifiers:[{id:"ps-num",modifier:1,set:!1}]},{id:"Portent-id-145",modifier:1,modifiers:[{id:"Port_num",modifier:-1,set:!1}]}]},{id:"basic-magic-1-av-1-dd-1-av",name:"Tea reader",requires:[{id:"basic-magic-1-av-1-dd",levels:1}],requirementType:"and",description:"Greatly improves portent at the cost of gift of foresight and spectre sight.",globalParams:[],exclusiveWith:["basic-magic-1-av-1-dd-1-bx"],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Portent-id-145",modifier:1,modifiers:[{id:"Port_num",modifier:5,set:!1}]},{id:"Phan-sight-id-124",modifier:1,modifiers:[{id:"ps-num",modifier:-1,set:!1}]},{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_ac",modifier:-1,set:!1},{id:"gof_atk",modifier:-1,set:!1}]}]},{id:"enc-prof-191-1-az",name:"Enchantment Proficiency",requires:[{id:"191",levels:1}],requirementType:"and",description:"You can cast more enchantment spells.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"Enchan-casting-id-26",modifier:1,modifiers:[{id:"enc-slots",modifier:2,set:!1}]}]},{id:"alter-emotions-1-1-az",name:"Soother",requires:[{id:"alter-emotions-1",levels:1}],requirementType:"and",description:"Alter emotions increase a units hp significantly.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[{id:"amt",modifier:1,set:!1}]}]},{id:"alter-emotions-1-1-bx",name:"Rioter",requires:[{id:"alter-emotions-1",levels:1}],requirementType:"and",description:"Alter emotions does more damage.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[{id:"riot-amt",modifier:1,set:!1}]}]},{id:"alter-emotions-1-1-bx-1-ez",name:"Mass manipulation",requires:[{id:"alter-emotions-1-1-bx",levels:1},{levels:"1",id:"alter-emotions-1-1-az"}],requirementType:"or",description:"Alter emotions now spreads through the ranks.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[{id:"spread-ae",modifier:1,set:!1}]}]},{id:"beguile-3-1-dd",name:"Mass beguiling",requires:[{id:"beguile-3",levels:1},{levels:"1",id:"180"}],requirementType:"or",description:"Beguile now hits more targets.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"beguile",modifier:1,modifiers:[{id:"be-units",modifier:1,set:!1}]}]},{id:"191-1-ey",name:"Controlling",requires:[{id:"191",levels:1}],requirementType:"and",description:"You can dominate more units",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},levels:2,levelCost:[1,1],providedAbilities:[{id:"dominate",modifier:1,modifiers:[{id:"units",modifier:1,set:!1}]}]},{id:"dominant-191-1-ey-1-ev",name:"Dominant",requires:[{id:"191-1-ey",levels:1}],requirementType:"and",description:"You can control elite units.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"dominate",modifier:1,modifiers:[{id:"base",modifier:-1,set:!1},{id:"elite",modifier:1,set:!1}]}]},{id:"enc-prof-191-1-az-1-dy",name:"Master Manipulator",requires:[{id:"enc-prof-191-1-az",levels:1}],requirementType:"and",description:"You are even better at manipulation.",globalParams:[],exclusiveWith:["enc-prof-191-1-az-1-ex"],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"beguile",modifier:1,modifiers:[{id:"frightened",modifier:2,set:!1}]},{id:"alter-emotions",modifier:1,modifiers:[{id:"amt",modifier:2,set:!1}]}]},{id:"enc-prof-191-1-az-1-ex",name:"Iron will",requires:[{id:"enc-prof-191-1-az",levels:1}],requirementType:"and",description:"Greatly increases domination.",globalParams:[],exclusiveWith:["enc-prof-191-1-az-1-dy"],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"dominate",modifier:1,modifiers:[{id:"units",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd",name:"Conjuration",requires:[{id:"basic-magic",levels:1}],requirementType:"and",description:"You can now cast conjuration spells.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"conjuration-casting",modifier:1,modifiers:[],gain:!0},{id:"conjure-entities",modifier:1,modifiers:[],gain:!0},{id:"Por-id-110",modifier:1,modifiers:[],gain:!0},{id:"storm",modifier:1,modifiers:[],gain:!0}]},{id:"Conjuration-magic-1-cd-1-ax",name:"Conjuration Proficiency",requires:[{id:"Conjuration-magic-1-cd",levels:1}],requirementType:"and",description:"Cast more conjuration spells",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"conjuration-casting",modifier:1,modifiers:[{id:"con-num",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-ey",name:"Rapid Response Unit",requires:[{id:"Conjuration-magic-1-cd-1-av",levels:2}],requirementType:"and",description:"You prepare units to aid you in battle.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"Por-id-110",modifier:1,modifiers:[{id:"por1",modifier:1,set:!1},{id:"por1-num",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-av",name:"Large Portal",requires:[{id:"Conjuration-magic-1-cd",levels:1}],requirementType:"and",description:"More stable portals.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[1,1],providedAbilities:[{id:"Por-id-110",modifier:1,modifiers:[{id:"port-use",modifier:1,set:!1},{id:"port-dur",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-av-1-dy",name:"Gateway",requires:[{id:"Conjuration-magic-1-cd-1-av",levels:1}],requirementType:"and",description:"A stable rift between two locations.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"Por-id-110",modifier:1,modifiers:[{id:"port-use",modifier:3,set:!1},{id:"port-dur",modifier:3,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd",name:"Tempest",requires:[{id:"Conjuration-magic-1-cd",levels:1}],requirementType:"and",description:"A more devastating storm.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[2,2],providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-dmg",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-by",name:"Storm Rider",requires:[{id:"Conjuration-magic-1-cd-1-dd",levels:1}],requirementType:"and",description:"Move with the storm.",globalParams:[],exclusiveWith:["Conjuration-magic-1-cd-1-dd-1-dz"],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"sto-ride",modifier:2,set:!1},{id:"sto-base",modifier:-1,set:!1},{id:"storm-dmg",modifier:-2,set:!1},{id:"storm-mve",modifier:-1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-ax",name:"Superstorm",requires:[{id:"Conjuration-magic-1-cd-1-dd",levels:1}],requirementType:"and",description:"Larger storm.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:3,levelCost:[1,2,2],providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-size",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-ay",name:"Cloudburst",requires:[{id:"Conjuration-magic-1-cd-1-dd",levels:1}],requirementType:"and",description:"Storm moves faster.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-mve",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-by-1-cd",name:"Storm King",requires:[{id:"Conjuration-magic-1-cd-1-dd-1-by",levels:1},{levels:2,id:"Conjuration-magic-1-cd-1-dd-1-ay"},{levels:"1",id:"Conjuration-magic-1-cd-1-dd-1-ax"}],requirementType:"and",description:"You are the master of storms.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedStats:[{id:"",modifier:1,set:!1}],providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-dmg",modifier:-1,set:!1},{id:"storm-mve",modifier:-1,set:!1},{id:"sto-mas",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-cx",name:"Summoner",requires:[{id:"Conjuration-magic-1-cd",levels:1}],requirementType:"and",description:"You can summon stronger entities.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:5,levelCost:[1,1,1,1,1],providedAbilities:[{id:"conjure-entities",modifier:1,modifiers:[{id:"sum1",modifier:1,set:!1},{id:"sum2",modifier:1,set:!1},{id:"sum3",modifier:1,set:!1},{id:"sum4",modifier:1,set:!1},{id:"sum5",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-cx-1-cz",name:"Mass summoning",requires:[{id:"Conjuration-magic-1-cd-1-cx",levels:2}],requirementType:"and",description:"You summon more entities.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[1,1],providedAbilities:[{id:"conjure-entities",modifier:1,modifiers:[{id:"sum-num",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-dx",name:"Storm wall",requires:[{id:"Conjuration-magic-1-cd-1-dd",levels:1}],requirementType:"and",description:"Units get trapped within the storm.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"sto-wall",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-dz",name:"Chaos storm",requires:[{id:"Conjuration-magic-1-cd-1-dd",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:["Conjuration-magic-1-cd-1-dd-1-by"],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-dmg",modifier:1,set:!1}],gain:!1}]},{id:"Conjuration-magic-1-cd-1-dd-1-dz-1-dz",name:"Hyper Storm",requires:[{id:"Conjuration-magic-1-cd-1-dd-1-dz",levels:1},{levels:2,id:"Conjuration-magic-1-cd-1-dd-1-ay"},{levels:3,id:"Conjuration-magic-1-cd-1-dd-1-ax"}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:2,providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-dmg",modifier:3,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-ay-1-ex",name:"Highstorm",requires:[{id:"Conjuration-magic-1-cd-1-dd",levels:1}],requirementType:"and",description:"Storm goes up.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[1,1],providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"sto-high",modifier:1,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-dd-1-by-1-cd-1-cz",name:"Hurricane",requires:[{id:"Conjuration-magic-1-cd-1-dd-1-by-1-cd",levels:1},{levels:"1",id:"Conjuration-magic-1-cd-1-dd-1-dz-1-dz"}],requirementType:"or",description:"Storm does more damage.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:3,providedAbilities:[{id:"storm",modifier:1,modifiers:[{id:"storm-dmg",modifier:3,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-av-1-dy-1-ev",name:"Hellgate",requires:[{id:"Conjuration-magic-1-cd-1-av-1-dy",levels:1}],requirementType:"and",description:"Open a stable portal to somewhere aweful.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[2,2],providedAbilities:[{id:"Por-id-110",modifier:1,modifiers:[{id:"hell-por",modifier:3,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-av-1-dy-1-az",name:"Divine Portal",requires:[{id:"Conjuration-magic-1-cd-1-av-1-dy",levels:1}],requirementType:"and",description:"Call in powerful allies.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[2,2],providedAbilities:[{id:"Por-id-110",modifier:1,modifiers:[{id:"hev-por",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-av-1-bd",name:"Devouring Portal",requires:[{id:"Conjuration-magic-1-cd-1-av",levels:1}],requirementType:"and",description:"Portal pulls low mass units into it.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"Por-id-110",modifier:1,modifiers:[{id:"dev-por",modifier:2,set:!1}]}]},{id:"Conjuration-magic-1-cd-1-bz",name:"Massive Entanglement",requires:[{id:"Conjuration-magic-1-cd",levels:1}],requirementType:"and",description:"Entangle a larger area.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"entangling-ground",modifier:1,modifiers:[{id:"eg-hex",modifier:1,set:!1}]}]},{id:"immentangle",name:"Immobilizing Entanglement",requires:[{id:"Conjuration-magic-1-cd-1-bz",levels:1}],requirementType:"and",description:"Entanglement traps units.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},cost:1,providedAbilities:[{id:"entangling-ground",modifier:1,modifiers:[{id:"eg-imm",modifier:1,set:!1},{id:"base",modifier:-1,set:!1}]}]},{id:"dming-entangle",name:"Damaging Entanglement",requires:[{id:"Conjuration-magic-1-cd-1-bz",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[1,1],providedAbilities:[{id:"entangling-ground",modifier:1,modifiers:[{id:"eg-dmg",modifier:2,set:!1}]}]},{id:"creeping-entangle",name:"Creeping Entanglement",requires:[{id:"dming-entangle",levels:1},{levels:"1",id:"immentangle"}],requirementType:"or",globalParams:[],exclusiveWith:[],colors:{unavailable:"#874203",selected:"#f97100"},levels:2,levelCost:[2,2],providedAbilities:[{id:"entangling-ground",modifier:1,modifiers:[{id:"eg-cree",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad",name:"Dragon Breath",requires:[{id:"basic",levels:1}],requirementType:"and",description:"You have a dragon!",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},levels:2,levelCost:[1,2],providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-dmg",modifier:1,set:!1}],gain:!0},{id:"draconic-bombardment",modifier:1,modifiers:[],gain:!1}]},{id:"Dragon-bw--1-ad-1-dy",name:"Enlarged Glands",requires:[{id:"Dragon-bw--1-ad",levels:1}],requirementType:"and",description:"Your dragon can use its breath attack more often.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"breath-attacks",modifier:1,modifiers:[{id:"bw-use",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-dy-1-dx",name:"Fast Metabolism",requires:[{id:"Dragon-bw--1-ad-1-dy",levels:1}],requirementType:"and",description:"Your dragon can recharges its breath weapon.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},cost:1,providedAbilities:[{id:"breath-attacks",modifier:1,modifiers:[{id:"bw-rchrg",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-dy-1-dx-1-ez",name:"Draconic Catabolism",requires:[{id:"Dragon-bw--1-ad-1-dy-1-dx",levels:1}],requirementType:"and",description:"Can spend health to get breath weapon charges back.",globalParams:[],exclusiveWith:["Dragon-bw--1-ad-1-dy-1-dx-1-az"],colors:{unavailable:"#752223",selected:"#ec2c2c"},cost:1,providedAbilities:[{id:"breath-attacks",modifier:1,modifiers:[{id:"bw-cat",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-dy-1-dx-1-az",name:"Draconic Annabolism",requires:[{id:"Dragon-bw--1-ad-1-dy-1-dx",levels:1}],requirementType:"and",description:"Can spend breath attacks to regain health.",globalParams:[],exclusiveWith:["Dragon-bw--1-ad-1-dy-1-dx-1-ez"],colors:{unavailable:"#752223",selected:"#ec2c2c"},cost:1,providedAbilities:[{id:"breath-attacks",modifier:1,modifiers:[{id:"bw-ann",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-dx",name:"Burning Breath",requires:[{id:"lasting-effect-001",levels:1}],requirementType:"and",description:"Breath weapons cause a lasting negative effect on enemies.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},levels:2,levelCost:[1,2],providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-burn",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-az",name:"Weakening Breath",requires:[{id:"lasting-effect-001",levels:1}],requirementType:"and",description:"Dragon fire weakens units.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-weak",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-bd",name:"Slowing Breath",requires:[{id:"lasting-effect-001",levels:1}],requirementType:"and",description:"Dragon fire slows enemy units.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-bite",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-dv",name:"Sundering Breath",requires:[{id:"lasting-effect-001",levels:1}],requirementType:"and",description:"Dragonfire reduces enemy armor.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-sund",modifier:1,set:!1}]}]},{id:"Dragon-bw--1-ad-1-dv-1-by",name:"Resistant Effect",requires:[{id:"Dragon-bw--1-ad-1-dv",levels:1},{levels:"1",id:"Dragon-bw--1-ad-1-bd"},{levels:"1",id:"Dragon-bw--1-ad-1-az"},{levels:"1",id:"Dragon-bw--1-ad-1-dx"}],requirementType:"or",description:"Breath weapon effects are harder to remove.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},cost:2,providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-eff",modifier:1,set:!1}]}]},{id:"lasting-effect-001",name:"Lasting Effect",requires:[{id:"Dragon-bw--1-ad",levels:1}],requirementType:"and",description:"Dragonfire does more damage.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},cost:1,providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-dmg",modifier:1,set:!1}]}]},{id:"Dragon-bw-environ-1-ad-1-cx",name:"Environmental Devestation",requires:[{id:"Dragon-bw--1-ad",levels:1}],requirementType:"and",description:"Dragonfire does more damage.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},cost:1,providedAbilities:[{id:"Drag-breath-001",modifier:1,modifiers:[{id:"bw-dmg",modifier:1,set:!1}]}]},{id:"Dragon-bw-environ-1-ad-1-cx-1-ad",name:"Field of Fire",requires:[{id:"Dragon-bw-environ-1-ad-1-cx",levels:1}],requirementType:"and",description:"Units cannot walk through a hex hit by your draconic attack.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#752223",selected:"#ec2c2c"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"draconic-bombardment",modifier:1,modifiers:[{id:"bw-block",modifier:1,set:!1}]}]}],mSe={attack:"#d92a2d",tag:"#c74141",holy:"#d7a435",enchantment:"#ab38d9",defense:"#bb864c",flying:"#6dcb20",aquatic:"#2698a8",magic:"#5269bd",movement:"#459068",undead:"#849064",concentration:"#e28baf",piercing:"#ec9569",command:"#46ddcb",healing:"#e15fab",mustering:"#dca542",necromancy:"#aded23",spell:"#3579cf",evocation:"#ff0000",abjuration:"#08084c",divination:"#05def7",conjuration:"#f06602","Dragon Breath":"#fb0000"},gSe=[{id:"armor",name:"Armor"},{id:"hp",name:"Hit Points"},{id:"movement",name:"Movement"}],vSe=[{id:"base-dragon",name:"Base Dragon",build:{basic:!0,"Dragon-bw--1-ad":1}}],Xp={version:cSe,abilities:hSe,abilityTypes:dSe,globalParams:fSe,nodes:pSe,tagColors:mSe,stats:gSe,defaultUnits:vSe};function ySe(){const{build:t,setSavedBuild:e,defaultUnits:n,setDefaultUnits:r}=T.useContext(Rs),{tagColors:i,setTagColors:s}=T.useContext(af),{stats:o,setStats:a}=T.useContext(bf),{abilityTypes:l,abilities:c,setAbilities:h,setAbilityTypes:f,globalParams:p,setGlobalParams:m}=T.useContext(Jn),{nodes:v,setNodes:y}=T.useContext(bo),{version:x,setVersion:b}=T.useContext(_o),[S,w]=T.useState(""),[E,O]=T.useState(""),[A,F]=T.useState(`dragon-build-${new Date().toDateString()}`),[L,H]=T.useState(`dragon-trees-${new Date().toDateString()}`),V=(ue,Y)=>{const Z=ue.target.files,se=new FileReader;se.onload=G=>{var M,D,Q;jD((M=G.target)==null?void 0:M.result)&&(Y==="build"?w(((D=G.target)==null?void 0:D.result)||""):Y==="tree"&&O(((Q=G.target)==null?void 0:Q.result)||""))},se.readAsText(Z[0])},z=ue=>{let Y={},Z="";if(ue==="build")Y=t==null?void 0:t.exportableBuild,Z=`${A||"dragon-build"}.json`;else if(ue==="trees"){const se=L||"dragon-trees";Y={version:x,abilities:c,abilityTypes:l,globalParams:p,nodes:v,tagColors:i,stats:o},Z=`${se}.json`}if(Z.length&&Y){const se=JSON.stringify(Y,null,2),G=new Blob([se],{type:"application/json"}),M=URL.createObjectURL(G),D=document.createElement("a");D.href=M,D.download=Z,document.body.appendChild(D),D.click(),document.body.removeChild(D),URL.revokeObjectURL(M)}},j=ue=>{S.length;const Y=JSON.parse(S);Y&&e({type:"imported",build:Y})},X=ue=>{if(E.length){const Y=JSON.parse(E);e({type:"imported",build:{}}),Y&&(Y.defaultUnits&&r({type:"set",nodes:Y.defaultUnits}),Y.nodes&&y({type:"set",nodes:Y.nodes}),Y.abilities&&h({type:"set",abilities:Y.abilities}),Y.tagColors&&s({type:"set",colors:Y.tagColors}),Y.stats&&a({type:"set",stats:Y.stats}),Y.globalParams&&m({type:"set",params:Y.globalParams}),Y.abilityTypes&&f({type:"set",abilityTypes:Y.abilityTypes}))}},K=ue=>{y({type:"reset"}),b({type:"set",version:"0.0.0"}),h({type:"set",abilities:[]}),f({type:"set",abilityTypes:[]}),s({type:"set",tagColors:{}}),a({type:"set",stats:[]}),m({type:"set",params:[]}),e({type:"imported",build:{}})};return te("div",{className:"code-panel",children:[k(vn,{name:"Character Build",startOpen:!1,children:te("div",{className:"section",children:[te("div",{className:"uploader",children:[k("input",{type:"file",id:"1",onChange:ue=>V(ue,"build")}),te(St,{disabled:!S,clicked:j,children:["Import Build ",k(Xx,{})]})]}),te("div",{className:"downloader",children:[te("div",{children:["Save as:",k(is,{value:A,valueChanged:ue=>F(ue)})]}),te(St,{type:"outline",color:"success",clicked:()=>z("build"),children:["Save Build ",k(al,{})]})]})]})}),k(vn,{name:"Trees, Abilities, Etc",startOpen:!1,children:te("div",{className:"section",children:[te("div",{className:"uploader",children:[k("input",{type:"file",id:"1",onChange:ue=>V(ue,"tree")}),te(St,{disabled:!E,clicked:X,children:["Import Trees/Abilities ",k(Xx,{})]})]}),te("div",{className:"downloader",children:[te("div",{children:["Save as:",k(is,{value:L,valueChanged:ue=>H(ue)})]}),te(St,{color:"success",clicked:()=>z("trees"),children:["Save Current Trees/Abilities ",k(al,{})]})]})]})}),te(vn,{name:"Presets",startOpen:!0,children:[te("div",{className:"reset",children:[te(St,{color:"info",clicked:ue=>{const Y=Xp;b({type:"set",version:Y.version}),r({type:"set",units:Y.defaultUnits}),y({type:"set",nodes:Y.nodes}),a({type:"set",stats:Y.stats}),f({type:"set",abilityTypes:Y.abilityTypes}),h({type:"set",abilities:Y.abilities}),s({type:"set",colors:Y.tagColors}),m({type:"set",params:Y.globalParams}),e({type:"imported",build:{}})},children:[k(hQ,{}),"Load Ed's Latest Build"]}),k("br",{})]}),te("div",{className:"version",children:[te("span",{children:["Ed's latest version:"," ",k("span",{className:"version-number",children:Xp.version})]}),te("span",{children:["Your Version:"," ",k("span",{className:uo({"version-number":!0,success:x===Xp.version,outdated:x!==Xp.version}),children:x})," "]})]}),k("div",{}),k("div",{className:"reset",children:te(St,{color:"danger",clicked:K,children:[k(jQ,{}),"Start from Scratch"]})})]})]})}function FR({itemSelected:t,selectedItem:e}){const{theme:n,setTheme:r}=T.useContext(wc),{appMode:i,setAppMode:s,buildMode:o,setBuildMode:a}=T.useContext(_o);return te("div",{className:"right-menu",children:[i==="build-slow"||i==="build-fast"?k("button",{type:"button",className:e==="sheet"?"selected":"",onClick:c=>t("sheet"),children:k(HZ,{})}):k("button",{type:"button",className:e==="sheet"?"selected":"",onClick:c=>t("sheet"),children:k(GZ,{})}),k("button",{type:"button",className:e==="units"?"selected":"",onClick:c=>t("units"),children:k(iJ,{})}),k("button",{type:"button",className:e==="code"?"selected":"",onClick:c=>t("code"),children:k(Xx,{})}),k("button",{type:"button",className:e==="help"?"selected":"",onClick:c=>t("help"),children:k(EQ,{})}),k("hr",{}),k(St,{color:"info",clicked:()=>r({type:"set",theme:n==="light"?"dark":"light"}),children:n==="light"?k(LQ,{}):k(JQ,{})}),k(St,{color:o==="build-fast"?"success":"mutedText",clicked:()=>{o==="build-fast"?(a("build-slow"),s("build-slow")):(s("build-fast"),a("build-fast"))},children:k(cJ,{})}),k(St,{color:i==="edit"?"success":"mutedText",clicked:()=>s(i==="edit"?o:"edit"),children:k(jS,{})})]})}function bSe({children:t,itemSelected:e,title:n}){const[r,i]=T.useState(null),{leftExpanded:s,setLeftExpanded:o,rightExpanded:a,setRightExpanded:l}=T.useContext(_o),[c,h]=T.useState(!1);let f;const p=v=>{(v===r||!a)&&l(!a),i(v),e(v)},m=v=>{h(!c)};return f=c?k(oQ,{}):k(rQ,{}),a?te("div",{className:"sidebar-right expanded",children:[te("div",{className:uo({"sidebar-right-panel":!0,full:c,partial:a,"minus-right":s}),children:[te("div",{onClick:m,className:"sidebar-right-panel-heading",children:[k("button",{className:"expander",children:f}),n]}),k("div",{className:"sidebar-right-panel-content",children:t})]}),k(FR,{itemSelected:p,selectedItem:r})]}):k("div",{className:"sidebar-right",children:k(FR,{itemSelected:p,selectedItem:void 0})})}const xSe={small:[0,600],med:[600,900],large:[901,1150],xl:[1151,1400],xxl:[1401,1600],xxxl:[1601,2e3]};function wSe(t){return{small:1,med:2,large:3,xl:4,xxl:5,xxxl:6}[t]}function DR(t,e){return gr(t,n=>{var i,s;let r=!0;return(i=e.tags)!=null&&i.length&&(r=UD(e.tags,n.tags).length===0),(s=e.textFilter)!=null&&s.length&&(r=r&&n.name.toLowerCase().includes(e.textFilter.toLowerCase())),r})}function _Se(t){const e=WD(t,(n,r)=>{var i;return(i=r==null?void 0:r.tags)!=null&&i.length?[...n,...r.tags]:n},[]);return da(wd(e))}function SSe(){const{abilities:t,setAbilities:e}=T.useContext(Jn),[n,r]=T.useState({tags:[],textFilter:""}),[i,s]=T.useState(!1),[o,a]=T.useState(""),{ref:l,active:c,width:h}=zw({breakpoints:xSe}),f=b=>{},p=b=>{a(b.id)},m=b=>{e({type:"remove",ability:{id:b}}),e({type:"save"})},v=b=>{r(b)},y=()=>{const b=`abl-${Math.floor(Math.random()*7e5)}`;e({type:"add",ability:{name:n.textFilter||"New Ability",id:b,description:"",tags:n.tags,type:"action"}}),a(b)},x=()=>{s(!i)};return te("div",{className:"ability-editor",children:[k(Hw,{children:k(jw,{expanded:!0,tags:_Se(t),filtersUpdated:v})}),te("div",{className:"expand-button",children:["Abilities",k(St,{color:"theme",clicked:x,children:i?k(ZD,{size:30}):k(KD,{size:30})})]}),k("div",{ref:l,className:"ability-cards",children:te($w,{columns:wSe(c),spacing:2,children:[k("div",{className:"card-wrapper new-button",children:te("button",{onClick:y,children:[k(rs,{})," New Ability"]})}),DR(t,n).map((b,S)=>k("div",{className:"card-wrapper",children:k(Cd,{ability:b,isPlayerAbility:!0,modifiers:b.modifiers,startOpen:!1,isExpanded:i,editable:!0,forceIsEditing:b.id===o,abilityEdited:f,abilityCopied:p,abilityRemoved:m},S)},S)),DR(t,n).length>10&&k("div",{className:"card-wrapper new-button",children:te("button",{onClick:y,children:[k(rs,{})," New Ability"]})})]})})]})}function ESe(){const{abilityTypes:t,setAbilityTypes:e}=T.useContext(Jn),n=o=>{e({type:"add",abilityType:{id:"new-abilityType-type",name:"New Ability Type"}})},r=o=>{e({type:"remove",abilityType:{id:o}})},i=(o,a,l)=>{e({type:"update",index:a,abilityType:{...t[a],[l]:o}})},s=()=>{e({type:"save"})};return k("div",{className:"abilityType-editor",children:te("div",{className:"abilityTypes",children:[ze(t,(o,a)=>te("div",{className:"abilityType-instance",children:[k("div",{className:"color",children:k(rc,{color:o.color||"#ffffff",colorChanged:l=>i(l,a,"color")})}),te("div",{className:"top",children:[k("div",{className:"name",children:k(is,{blur:s,value:o.name,valueChanged:l=>i(l,a,"name")})}),k("button",{className:"remove-button",onClick:l=>r(o.id),children:k(xo,{})})]}),k("div",{className:"bottom",children:k("div",{className:"id",children:k(is,{blur:s,value:o.id,valueChanged:l=>i(l,a,"id")})})})]},a)),te("button",{className:"new-button",onClick:n,children:["Add Type ",k(rs,{})]})]})})}function CSe(){const{globalParams:t,setGlobalParams:e}=T.useContext(Jn),[n,r]=T.useState(!1),[i,s]=T.useState(t);T.useEffect(()=>{s(t)},[t]);const o=(f,p)=>{let m=ht(i);m[p].id=f,s(m),r(!0)},a=(f,p)=>{let m=ht(i);m[p].value=f,s(m),r(!0)},l=()=>{let f=[...i,{id:"",value:0}];s(f),r(!0)},c=f=>{let p=ht(i);p.splice(f,1),e(p)},h=()=>{e({type:"set",params:ht(i)}),e({type:"save"}),r(!1)};return te("div",{className:"param-editor",children:[i&&ze(i,(f,p)=>te("div",{className:"param-line",children:[k(St,{color:"danger",clicked:()=>c(p),children:k(xo,{size:"18"})}),k(is,{minWidth:120,placeholder:"name",className:"param-input",value:f.id,valueChanged:m=>o(m,p)}),k(Bv,{className:"param-input",value:f.value,valueChanged:m=>a(m,p)})]},p)),te("div",{className:"add-button",children:[k("div",{children:te(St,{disabled:nf(i,{name:""}),color:"theme",clicked:l,children:[k(rs,{size:20})," Add Param"]})}),te(St,{disabled:!n,color:"success",clicked:h,children:[k(al,{size:20})," Save Changes"]})]})]})}const TSe="{myParam}This only appears when 'myParam' is at least 1{/myParam}",ASe="%myParam% will be replaced with the value of 'myParam'",PSe="You make 1 melee attack against an adjacent enemy. Roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.",kSe="{@myParam}This only appears when 'myParam' is at least 1{/myParam}",OSe="%@myParam% will be replaced with the value of 'myParam'",ISe="You make 1 melee attack against an adjacent enemy. Roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.";function RSe(){return te("div",{className:"help",children:[k(vn,{name:"Description Syntax",startOpen:!1,children:te("div",{className:"padding-md",style:{textAlign:"left"},children:[k("h2",{className:"text-info book",children:"Ability Params:"}),k("h3",{children:"Condition"}),k("p",{children:TSe}),k("h3",{children:"Value"}),k("p",{children:ASe}),k("h3",{children:"Example"}),k("p",{children:PSe}),k("h2",{className:"text-info book",children:"Global Params:"}),k("h3",{children:"Condition"}),k("p",{children:kSe}),k("h3",{children:"Value"}),k("p",{children:OSe}),k("h3",{children:"Example"}),k("p",{children:ISe})]})}),k(vn,{name:"Hotkeys",startOpen:!0,children:k("div",{className:"padding-md",style:{textAlign:"left"},children:te("ul",{children:[te("li",{children:[k("span",{className:"bold",children:"Shift + E"})," - Toggle Edit Mode"]}),te("li",{children:[k("span",{className:"bold",children:"Shift + F"})," - Toggle Fast Build Mode"]})]})})})]})}function LR(){const{stats:t,setStats:e}=T.useContext(bf),n=o=>{e({type:"add",stat:{id:"new-stat",name:"New Stat",color:"#fff"}})},r=o=>{e({type:"remove",stat:{id:o}})},i=(o,a,l)=>{e({type:"update",index:a,stat:{...t[a],[l]:o}})},s=()=>{e({type:"save"})};return k("div",{className:"stat-editor",children:te("div",{className:"stats",children:[ze(t,(o,a)=>te("div",{className:"stat-instance",children:[k("div",{className:"color",children:k(rc,{color:o.color||"#ffffff",colorChanged:l=>i(l,a,"color")})}),te("div",{className:"top",children:[k("div",{className:"name",children:k(is,{blur:s,value:o.name,valueChanged:l=>i(l,a,"name")})}),k("button",{className:"remove-button",onClick:l=>r(o.id),children:k(xo,{})})]}),k("div",{className:"bottom",children:k("div",{className:"id",children:k(is,{blur:s,value:o.id,valueChanged:l=>i(l,a,"id")})})})]},a)),te("button",{className:"new-button",onClick:n,children:["Add Stat ",k(rs,{})]})]})})}function BR(t,e){return Qe(t,{value:e})}function MSe(t,e){return ze([...t,...e],r=>({value:r.id,label:r.name}))}function FSe(t,e){return da(MSe(t,e),"label")}function DSe({valueChanged:t,defaultValue:e}){const{customUnits:n,defaultUnits:r,selectedUnitId:i}=T.useContext(Rs),[s,o]=T.useState(FSe(n,r));return k(vf,{className:"unit-select",styles:yf(),options:s,onChange:a=>t(a==null?void 0:a.value),defaultValue:e?BR(s,e):null,value:BR(s,e)})}function NR({unit:t,startEditable:e=!1}){const{customUnits:n,defaultUnits:r,setCustomUnits:i,selectedUnitId:s,setSelectedUnitId:o,setSavedBuild:a}=T.useContext(Rs),[l,c]=T.useState(e),[h,f]=T.useState(t.name),[p,m]=T.useState(!1),[v,y]=T.useState(t.build||{}),x=()=>{i({type:"update",unit:{...t,name:h,build:v}}),m(!1)},b=()=>{i({type:"remove",unit:t})},S=O=>{f(O),m(!0)},w=()=>{o(t.id),t.build?a({type:"imported",build:t.build}):a({type:"imported",build:{}})},E=O=>{const A=Qe([...n,...r],{id:O});y(A.build||{}),m(!0)};return l?te("div",{className:"unit-card",children:[k("div",{className:"unit-card-row"}),te("div",{className:"unit-card-row",children:[k(St,{color:"info",clicked:O=>c(!1),children:k(JS,{})}),k(is,{minWidth:100,placeholder:"Unit Name",value:h,valueChanged:S}),k(St,{color:"danger",clicked:b,children:k(xo,{})})]}),te("div",{className:"unit-card-row",children:["Copy from:",k(DSe,{defaultValue:void 0,valueChanged:E})]}),k("div",{className:"padding-sm",children:te(Qi,{disabled:!p,type:"outline",color:"success",clicked:x,children:[k(al,{})," Save Unit"]})})]}):k("div",{onClick:w,className:uo({"unit-card":!0,selectable:!0,selected:s===t.id}),children:te("div",{className:"unit-card-row",children:[k(St,{color:"info",clicked:O=>c(!0),children:k(jS,{})}),k("div",{className:"unit-card-name",children:t.name})]})})}function LSe(){const{customUnits:t,setCustomUnits:e,defaultUnits:n,setDefaultUnits:r}=T.useContext(Rs),i=t.length,s=()=>{e({type:"add",unit:{id:`unit-${Math.floor(Math.random()*2e4)}`}})};return te("div",{className:"units-panel",children:[k(vn,{name:"My Units",startOpen:!0,children:te("div",{className:"padding-md",children:[k("div",{className:"unit-cards",children:t.map((o,a)=>k(NR,{unit:o,startEditable:a>i+1}))}),k("div",{className:"padding-md-vertical",children:te(Qi,{color:"info",type:"outline",clicked:s,children:["New Unit ",k(_g,{})]})})]})}),k(vn,{name:"Default Units",startOpen:!1,children:te("div",{className:"padding-md-vertical",children:[k("div",{className:"unit-cards",children:n.map(o=>k(NR,{unit:o}))}),k("div",{className:"padding-md",children:te(Qi,{color:"info",type:"outline",clicked:s,children:["New Unit ",k(_g,{})]})})]})})]})}function BSe(){const[t,e]=T.useState("info"),[n,r]=T.useState("info"),{appMode:i}=T.useContext(_o);return te(bSe,{itemSelected:o=>{switch(e(o),o){case"sheet":r("Character Sheet");break;case"units":r("Units");break;case"code":r("Import/Export");break;case"help":r("Help");break;case"list":r("Edit Data");break}},title:n,children:[t==="sheet"&&k("div",{children:i==="build-slow"||i==="build-fast"?k(uSe,{}):te("div",{children:[k(vn,{name:"Abilities",startOpen:!1,children:k(SSe,{})}),k(vn,{name:"Ability Types",startOpen:!1,children:k(ESe,{})}),k(vn,{name:"Global Params",startOpen:!1,children:k("div",{className:"padding-md",children:k(CSe,{})})}),k(vn,{name:"Stats",startOpen:!1,children:k(LR,{})})]})}),t==="units"&&k(LSe,{}),t==="code"?k(ySe,{}):"",t==="help"?k(RSe,{}):"",t==="stats"?k(LR,{}):""]})}function NSe({pointsSpent:t}){return te("div",{className:"point-counter",children:["Spent: ",t]})}var $Se={value:()=>{}};function NL(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Bm(n)}function Bm(t){this._=t}function USe(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Bm.prototype=NL.prototype={constructor:Bm,on:function(t,e){var n=this._,r=USe(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=zSe(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=$R(n[i],t.name,e);else if(e==null)for(i in n)n[i]=$R(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Bm(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function zSe(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function $R(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=$Se,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var ac=0,Oh=0,ph=0,$L=1e3,Bg,Ih,Ng=0,ul=0,m0=0,Pd=typeof performance=="object"&&performance.now?performance:Date,UL=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function zL(){return ul||(UL(HSe),ul=Pd.now()+m0)}function HSe(){ul=0}function Ww(){this._call=this._time=this._next=null}Ww.prototype=HL.prototype={constructor:Ww,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?zL():+n)+(e==null?0:+e),!this._next&&Ih!==this&&(Ih?Ih._next=this:Bg=this,Ih=this),this._call=t,this._time=n,Gw()},stop:function(){this._call&&(this._call=null,this._time=1/0,Gw())}};function HL(t,e,n){var r=new Ww;return r.restart(t,e,n),r}function jSe(){zL(),++ac;for(var t=Bg,e;t;)(e=ul-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ac}function UR(){ul=(Ng=Pd.now())+m0,ac=Oh=0;try{jSe()}finally{ac=0,GSe(),ul=0}}function WSe(){var t=Pd.now(),e=t-Ng;e>$L&&(m0-=e,Ng=t)}function GSe(){for(var t,e=Bg,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Bg=n);Ih=t,Gw(r)}function Gw(t){if(!ac){Oh&&(Oh=clearTimeout(Oh));var e=t-ul;e>24?(t<1/0&&(Oh=setTimeout(UR,t-Pd.now()-m0)),ph&&(ph=clearInterval(ph))):(ph||(Ng=Pd.now(),ph=setInterval(WSe,$L)),ac=1,UL(UR))}}function zR(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function i(){var s,o=n.length,a,l=0,c=0;for(s=0;s<o;++s)a=n[s],l+=a.x,c+=a.y;for(l=(l/o-t)*r,c=(c/o-e)*r,s=0;s<o;++s)a=n[s],a.x-=l,a.y-=c}return i.initialize=function(s){n=s},i.x=function(s){return arguments.length?(t=+s,i):t},i.y=function(s){return arguments.length?(e=+s,i):e},i.strength=function(s){return arguments.length?(r=+s,i):r},i}function VSe(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return jL(this.cover(e,n),e,n,t)}function jL(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,s=t._root,o={data:r},a=t._x0,l=t._y0,c=t._x1,h=t._y1,f,p,m,v,y,x,b,S;if(!s)return t._root=o,t;for(;s.length;)if((y=e>=(f=(a+c)/2))?a=f:c=f,(x=n>=(p=(l+h)/2))?l=p:h=p,i=s,!(s=s[b=x<<1|y]))return i[b]=o,t;if(m=+t._x.call(null,s.data),v=+t._y.call(null,s.data),e===m&&n===v)return o.next=s,i?i[b]=o:t._root=o,t;do i=i?i[b]=new Array(4):t._root=new Array(4),(y=e>=(f=(a+c)/2))?a=f:c=f,(x=n>=(p=(l+h)/2))?l=p:h=p;while((b=x<<1|y)===(S=(v>=p)<<1|m>=f));return i[S]=s,i[b]=o,t}function qSe(t){var e,n,r=t.length,i,s,o=new Array(r),a=new Array(r),l=1/0,c=1/0,h=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(s=+this._y.call(null,e))||(o[n]=i,a[n]=s,i<l&&(l=i),i>h&&(h=i),s<c&&(c=s),s>f&&(f=s));if(l>h||c>f)return this;for(this.cover(l,c).cover(h,f),n=0;n<r;++n)jL(this,o[n],a[n],t[n]);return this}function XSe(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,s=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,s=(r=Math.floor(e))+1;else{for(var o=i-n||1,a=this._root,l,c;n>t||t>=i||r>e||e>=s;)switch(c=(e<r)<<1|t<n,l=new Array(4),l[c]=a,a=l,o*=2,c){case 0:i=n+o,s=r+o;break;case 1:n=i-o,s=r+o;break;case 2:i=n+o,r=s-o;break;case 3:n=i-o,r=s-o;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=s,this}function YSe(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function KSe(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Zn(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function ZSe(t,e,n){var r,i=this._x0,s=this._y0,o,a,l,c,h=this._x1,f=this._y1,p=[],m=this._root,v,y;for(m&&p.push(new Zn(m,i,s,h,f)),n==null?n=1/0:(i=t-n,s=e-n,h=t+n,f=e+n,n*=n);v=p.pop();)if(!(!(m=v.node)||(o=v.x0)>h||(a=v.y0)>f||(l=v.x1)<i||(c=v.y1)<s))if(m.length){var x=(o+l)/2,b=(a+c)/2;p.push(new Zn(m[3],x,b,l,c),new Zn(m[2],o,b,x,c),new Zn(m[1],x,a,l,b),new Zn(m[0],o,a,x,b)),(y=(e>=b)<<1|t>=x)&&(v=p[p.length-1],p[p.length-1]=p[p.length-1-y],p[p.length-1-y]=v)}else{var S=t-+this._x.call(null,m.data),w=e-+this._y.call(null,m.data),E=S*S+w*w;if(E<n){var O=Math.sqrt(n=E);i=t-O,s=e-O,h=t+O,f=e+O,r=m.data}}return r}function QSe(t){if(isNaN(h=+this._x.call(null,t))||isNaN(f=+this._y.call(null,t)))return this;var e,n=this._root,r,i,s,o=this._x0,a=this._y0,l=this._x1,c=this._y1,h,f,p,m,v,y,x,b;if(!n)return this;if(n.length)for(;;){if((v=h>=(p=(o+l)/2))?o=p:l=p,(y=f>=(m=(a+c)/2))?a=m:c=m,e=n,!(n=n[x=y<<1|v]))return this;if(!n.length)break;(e[x+1&3]||e[x+2&3]||e[x+3&3])&&(r=e,b=x)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(s=n.next)&&delete n.next,i?(s?i.next=s:delete i.next,this):e?(s?e[x]=s:delete e[x],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[b]=n:this._root=n),this):(this._root=s,this)}function JSe(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function eEe(){return this._root}function tEe(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function nEe(t){var e=[],n,r=this._root,i,s,o,a,l;for(r&&e.push(new Zn(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,s=n.x0,o=n.y0,a=n.x1,l=n.y1)&&r.length){var c=(s+a)/2,h=(o+l)/2;(i=r[3])&&e.push(new Zn(i,c,h,a,l)),(i=r[2])&&e.push(new Zn(i,s,h,c,l)),(i=r[1])&&e.push(new Zn(i,c,o,a,h)),(i=r[0])&&e.push(new Zn(i,s,o,c,h))}return this}function rEe(t){var e=[],n=[],r;for(this._root&&e.push(new Zn(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var s,o=r.x0,a=r.y0,l=r.x1,c=r.y1,h=(o+l)/2,f=(a+c)/2;(s=i[0])&&e.push(new Zn(s,o,a,h,f)),(s=i[1])&&e.push(new Zn(s,h,a,l,f)),(s=i[2])&&e.push(new Zn(s,o,f,h,c)),(s=i[3])&&e.push(new Zn(s,h,f,l,c))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function iEe(t){return t[0]}function sEe(t){return arguments.length?(this._x=t,this):this._x}function oEe(t){return t[1]}function aEe(t){return arguments.length?(this._y=t,this):this._y}function y2(t,e,n){var r=new b2(e??iEe,n??oEe,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function b2(t,e,n,r,i,s){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=s,this._root=void 0}function HR(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var rr=y2.prototype=b2.prototype;rr.copy=function(){var t=new b2(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=HR(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=HR(r));return t};rr.add=VSe;rr.addAll=qSe;rr.cover=XSe;rr.data=YSe;rr.extent=KSe;rr.find=ZSe;rr.remove=QSe;rr.removeAll=JSe;rr.root=eEe;rr.size=tEe;rr.visit=nEe;rr.visitAfter=rEe;rr.x=sEe;rr.y=aEe;function Ka(t){return function(){return t}}function Ho(t){return(t()-.5)*1e-6}function lEe(t){return t.x+t.vx}function uEe(t){return t.y+t.vy}function jR(t){var e,n,r,i=1,s=1;typeof t!="function"&&(t=Ka(t==null?1:+t));function o(){for(var c,h=e.length,f,p,m,v,y,x,b=0;b<s;++b)for(f=y2(e,lEe,uEe).visitAfter(a),c=0;c<h;++c)p=e[c],y=n[p.index],x=y*y,m=p.x+p.vx,v=p.y+p.vy,f.visit(S);function S(w,E,O,A,F){var L=w.data,H=w.r,V=y+H;if(L){if(L.index>p.index){var z=m-L.x-L.vx,j=v-L.y-L.vy,X=z*z+j*j;X<V*V&&(z===0&&(z=Ho(r),X+=z*z),j===0&&(j=Ho(r),X+=j*j),X=(V-(X=Math.sqrt(X)))/X*i,p.vx+=(z*=X)*(V=(H*=H)/(x+H)),p.vy+=(j*=X)*V,L.vx-=z*(V=1-V),L.vy-=j*V)}return}return E>m+V||A<m-V||O>v+V||F<v-V}}function a(c){if(c.data)return c.r=n[c.data.index];for(var h=c.r=0;h<4;++h)c[h]&&c[h].r>c.r&&(c.r=c[h].r)}function l(){if(e){var c,h=e.length,f;for(n=new Array(h),c=0;c<h;++c)f=e[c],n[f.index]=+t(f,c,e)}}return o.initialize=function(c,h){e=c,r=h,l()},o.iterations=function(c){return arguments.length?(s=+c,o):s},o.strength=function(c){return arguments.length?(i=+c,o):i},o.radius=function(c){return arguments.length?(t=typeof c=="function"?c:Ka(+c),l(),o):t},o}function cEe(t){return t.index}function WR(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function GR(t){var e=cEe,n=f,r,i=Ka(30),s,o,a,l,c,h=1;t==null&&(t=[]);function f(x){return 1/Math.min(a[x.source.index],a[x.target.index])}function p(x){for(var b=0,S=t.length;b<h;++b)for(var w=0,E,O,A,F,L,H,V;w<S;++w)E=t[w],O=E.source,A=E.target,F=A.x+A.vx-O.x-O.vx||Ho(c),L=A.y+A.vy-O.y-O.vy||Ho(c),H=Math.sqrt(F*F+L*L),H=(H-s[w])/H*x*r[w],F*=H,L*=H,A.vx-=F*(V=l[w]),A.vy-=L*V,O.vx+=F*(V=1-V),O.vy+=L*V}function m(){if(o){var x,b=o.length,S=t.length,w=new Map(o.map((O,A)=>[e(O,A,o),O])),E;for(x=0,a=new Array(b);x<S;++x)E=t[x],E.index=x,typeof E.source!="object"&&(E.source=WR(w,E.source)),typeof E.target!="object"&&(E.target=WR(w,E.target)),a[E.source.index]=(a[E.source.index]||0)+1,a[E.target.index]=(a[E.target.index]||0)+1;for(x=0,l=new Array(S);x<S;++x)E=t[x],l[x]=a[E.source.index]/(a[E.source.index]+a[E.target.index]);r=new Array(S),v(),s=new Array(S),y()}}function v(){if(o)for(var x=0,b=t.length;x<b;++x)r[x]=+n(t[x],x,t)}function y(){if(o)for(var x=0,b=t.length;x<b;++x)s[x]=+i(t[x],x,t)}return p.initialize=function(x,b){o=x,c=b,m()},p.links=function(x){return arguments.length?(t=x,m(),p):t},p.id=function(x){return arguments.length?(e=x,p):e},p.iterations=function(x){return arguments.length?(h=+x,p):h},p.strength=function(x){return arguments.length?(n=typeof x=="function"?x:Ka(+x),v(),p):n},p.distance=function(x){return arguments.length?(i=typeof x=="function"?x:Ka(+x),y(),p):i},p}const hEe=1664525,dEe=1013904223,VR=4294967296;function fEe(){let t=1;return()=>(t=(hEe*t+dEe)%VR)/VR}function pEe(t){return t.x}function mEe(t){return t.y}var gEe=10,vEe=Math.PI*(3-Math.sqrt(5));function qR(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),s=0,o=.6,a=new Map,l=HL(f),c=NL("tick","end"),h=fEe();t==null&&(t=[]);function f(){p(),c.call("tick",e),n<r&&(l.stop(),c.call("end",e))}function p(y){var x,b=t.length,S;y===void 0&&(y=1);for(var w=0;w<y;++w)for(n+=(s-n)*i,a.forEach(function(E){E(n)}),x=0;x<b;++x)S=t[x],S.fx==null?S.x+=S.vx*=o:(S.x=S.fx,S.vx=0),S.fy==null?S.y+=S.vy*=o:(S.y=S.fy,S.vy=0);return e}function m(){for(var y=0,x=t.length,b;y<x;++y){if(b=t[y],b.index=y,b.fx!=null&&(b.x=b.fx),b.fy!=null&&(b.y=b.fy),isNaN(b.x)||isNaN(b.y)){var S=gEe*Math.sqrt(.5+y),w=y*vEe;b.x=S*Math.cos(w),b.y=S*Math.sin(w)}(isNaN(b.vx)||isNaN(b.vy))&&(b.vx=b.vy=0)}}function v(y){return y.initialize&&y.initialize(t,h),y}return m(),e={tick:p,restart:function(){return l.restart(f),e},stop:function(){return l.stop(),e},nodes:function(y){return arguments.length?(t=y,m(),a.forEach(v),e):t},alpha:function(y){return arguments.length?(n=+y,e):n},alphaMin:function(y){return arguments.length?(r=+y,e):r},alphaDecay:function(y){return arguments.length?(i=+y,e):+i},alphaTarget:function(y){return arguments.length?(s=+y,e):s},velocityDecay:function(y){return arguments.length?(o=1-y,e):1-o},randomSource:function(y){return arguments.length?(h=y,a.forEach(v),e):h},force:function(y,x){return arguments.length>1?(x==null?a.delete(y):a.set(y,v(x)),e):a.get(y)},find:function(y,x,b){var S=0,w=t.length,E,O,A,F,L;for(b==null?b=1/0:b*=b,S=0;S<w;++S)F=t[S],E=y-F.x,O=x-F.y,A=E*E+O*O,A<b&&(L=F,b=A);return L},on:function(y,x){return arguments.length>1?(c.on(y,x),e):c.on(y)}}}function XR(){var t,e,n,r,i=Ka(-30),s,o=1,a=1/0,l=.81;function c(m){var v,y=t.length,x=y2(t,pEe,mEe).visitAfter(f);for(r=m,v=0;v<y;++v)e=t[v],x.visit(p)}function h(){if(t){var m,v=t.length,y;for(s=new Array(v),m=0;m<v;++m)y=t[m],s[y.index]=+i(y,m,t)}}function f(m){var v=0,y,x,b=0,S,w,E;if(m.length){for(S=w=E=0;E<4;++E)(y=m[E])&&(x=Math.abs(y.value))&&(v+=y.value,b+=x,S+=x*y.x,w+=x*y.y);m.x=S/b,m.y=w/b}else{y=m,y.x=y.data.x,y.y=y.data.y;do v+=s[y.data.index];while(y=y.next)}m.value=v}function p(m,v,y,x){if(!m.value)return!0;var b=m.x-e.x,S=m.y-e.y,w=x-v,E=b*b+S*S;if(w*w/l<E)return E<a&&(b===0&&(b=Ho(n),E+=b*b),S===0&&(S=Ho(n),E+=S*S),E<o&&(E=Math.sqrt(o*E)),e.vx+=b*m.value*r/E,e.vy+=S*m.value*r/E),!0;if(m.length||E>=a)return;(m.data!==e||m.next)&&(b===0&&(b=Ho(n),E+=b*b),S===0&&(S=Ho(n),E+=S*S),E<o&&(E=Math.sqrt(o*E)));do m.data!==e&&(w=s[m.data.index]*r/E,e.vx+=b*w,e.vy+=S*w);while(m=m.next)}return c.initialize=function(m,v){t=m,n=v,h()},c.strength=function(m){return arguments.length?(i=typeof m=="function"?m:Ka(+m),h(),c):i},c.distanceMin=function(m){return arguments.length?(o=m*m,c):Math.sqrt(o)},c.distanceMax=function(m){return arguments.length?(a=m*m,c):Math.sqrt(a)},c.theta=function(m){return arguments.length?(l=m*m,c):Math.sqrt(l)},c}function Rh(t,e,n){this.k=t,this.x=e,this.y=n}Rh.prototype={constructor:Rh,scale:function(t){return t===1?this:new Rh(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Rh(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Rh.prototype;var ma=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(ma||{}),x2=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(x2||{}),$g=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))($g||{}),Me=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(Me||{}),qi=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(qi||{}),ge=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(ge||{}),Za=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(Za||{}),ke=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(ke||{}),Ug=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(Ug||{}),Cs=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(Cs||{}),ks=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(ks||{}),ss=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(ss||{}),Ai=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(Ai||{}),Gi=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(Gi||{}),g0=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(g0||{}),Br=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(Br||{}),ln=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(ln||{}),WL=(t=>(t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA",t))(WL||{}),qt=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(qt||{}),Ji=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(Ji||{});const GL={createCanvas:(t,e)=>{const n=document.createElement("canvas");return n.width=t,n.height=e,n},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},we={ADAPTER:GL,RESOLUTION:1,RENDER_OPTIONS:{view:null,width:800,height:600,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,clearBeforeRender:!0,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,hello:!1},CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var ib=/iPhone/i,YR=/iPod/i,KR=/iPad/i,ZR=/\biOS-universal(?:.+)Mac\b/i,sb=/\bAndroid(?:.+)Mobile\b/i,QR=/Android/i,ql=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Yp=/Silk/i,qs=/Windows Phone/i,JR=/\bWindows(?:.+)ARM\b/i,e3=/BlackBerry/i,t3=/BB10/i,n3=/Opera Mini/i,r3=/\b(CriOS|Chrome)(?:.+)Mobile/i,i3=/Mobile(?:.+)Firefox\b/i,s3=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function yEe(t){return function(e){return e.test(t)}}function bEe(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var n=e.userAgent,r=n.split("[FBAN");typeof r[1]<"u"&&(n=r[0]),r=n.split("Twitter"),typeof r[1]<"u"&&(n=r[0]);var i=yEe(n),s={apple:{phone:i(ib)&&!i(qs),ipod:i(YR),tablet:!i(ib)&&(i(KR)||s3(e))&&!i(qs),universal:i(ZR),device:(i(ib)||i(YR)||i(KR)||i(ZR)||s3(e))&&!i(qs)},amazon:{phone:i(ql),tablet:!i(ql)&&i(Yp),device:i(ql)||i(Yp)},android:{phone:!i(qs)&&i(ql)||!i(qs)&&i(sb),tablet:!i(qs)&&!i(ql)&&!i(sb)&&(i(Yp)||i(QR)),device:!i(qs)&&(i(ql)||i(Yp)||i(sb)||i(QR))||i(/\bokhttp\b/i)},windows:{phone:i(qs),tablet:i(JR),device:i(qs)||i(JR)},other:{blackberry:i(e3),blackberry10:i(t3),opera:i(n3),firefox:i(i3),chrome:i(r3),device:i(e3)||i(t3)||i(n3)||i(i3)||i(r3)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const Xi=bEe(globalThis.navigator);we.RETINA_PREFIX=/@([0-9\.]+)x/;we.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var na={},xEe={get exports(){return na},set exports(t){na=t}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,h){this.fn=l,this.context=c,this.once=h||!1}function s(l,c,h,f,p){if(typeof h!="function")throw new TypeError("The listener must be a function");var m=new i(h,f||l,p),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],h,f;if(this._eventsCount===0)return c;for(f in h=this._events)e.call(h,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},a.prototype.listeners=function(c){var h=n?n+c:c,f=this._events[h];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,v=new Array(m);p<m;p++)v[p]=f[p].fn;return v},a.prototype.listenerCount=function(c){var h=n?n+c:c,f=this._events[h];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,h,f,p,m,v){var y=n?n+c:c;if(!this._events[y])return!1;var x=this._events[y],b=arguments.length,S,w;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,h),!0;case 3:return x.fn.call(x.context,h,f),!0;case 4:return x.fn.call(x.context,h,f,p),!0;case 5:return x.fn.call(x.context,h,f,p,m),!0;case 6:return x.fn.call(x.context,h,f,p,m,v),!0}for(w=1,S=new Array(b-1);w<b;w++)S[w-1]=arguments[w];x.fn.apply(x.context,S)}else{var E=x.length,O;for(w=0;w<E;w++)switch(x[w].once&&this.removeListener(c,x[w].fn,void 0,!0),b){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,h);break;case 3:x[w].fn.call(x[w].context,h,f);break;case 4:x[w].fn.call(x[w].context,h,f,p);break;default:if(!S)for(O=1,S=new Array(b-1);O<b;O++)S[O-1]=arguments[O];x[w].fn.apply(x[w].context,S)}}return!0},a.prototype.on=function(c,h,f){return s(this,c,h,f,!1)},a.prototype.once=function(c,h,f){return s(this,c,h,f,!0)},a.prototype.removeListener=function(c,h,f,p){var m=n?n+c:c;if(!this._events[m])return this;if(!h)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===h&&(!p||v.once)&&(!f||v.context===f)&&o(this,m);else{for(var y=0,x=[],b=v.length;y<b;y++)(v[y].fn!==h||p&&!v[y].once||f&&v[y].context!==f)&&x.push(v[y]);x.length?this._events[m]=x.length===1?x[0]:x:o(this,m)}return this},a.prototype.removeAllListeners=function(c){var h;return c?(h=n?n+c:c,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(xEe);var kd={},wEe={get exports(){return kd},set exports(t){kd=t}};wEe.exports=v0;kd.default=v0;function v0(t,e,n){n=n||2;var r=e&&e.length,i=r?e[0]*n:t.length,s=VL(t,0,i,n,!0),o=[];if(!s||s.next===s.prev)return o;var a,l,c,h,f,p,m;if(r&&(s=TEe(t,e,s,n)),t.length>80*n){a=c=t[0],l=h=t[1];for(var v=n;v<i;v+=n)f=t[v],p=t[v+1],f<a&&(a=f),p<l&&(l=p),f>c&&(c=f),p>h&&(h=p);m=Math.max(c-a,h-l),m=m!==0?32767/m:0}return Od(s,o,n,a,l,m,0),o}function VL(t,e,n,r,i){var s,o;if(i===Xw(t,e,n,r)>0)for(s=e;s<n;s+=r)o=o3(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=o3(s,t[s],t[s+1],o);return o&&y0(o,o.next)&&(Rd(o),o=o.next),o}function cl(t,e){if(!t)return t;e||(e=t);var n=t,r;do if(r=!1,!n.steiner&&(y0(n,n.next)||Xt(n.prev,n,n.next)===0)){if(Rd(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Od(t,e,n,r,i,s,o){if(t){!o&&s&&IEe(t,r,i,s);for(var a=t,l,c;t.prev!==t.next;){if(l=t.prev,c=t.next,s?SEe(t,r,i,s):_Ee(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),Rd(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=EEe(cl(t),e,n),Od(t,e,n,r,i,s,2)):o===2&&CEe(t,e,n,r,i,s):Od(cl(t),e,n,r,i,s,1);break}}}}function _Ee(t){var e=t.prev,n=t,r=t.next;if(Xt(e,n,r)>=0)return!1;for(var i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,c=r.y,h=i<s?i<o?i:o:s<o?s:o,f=a<l?a<c?a:c:l<c?l:c,p=i>s?i>o?i:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c,v=r.next;v!==e;){if(v.x>=h&&v.x<=p&&v.y>=f&&v.y<=m&&Ou(i,a,s,l,o,c,v.x,v.y)&&Xt(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function SEe(t,e,n,r){var i=t.prev,s=t,o=t.next;if(Xt(i,s,o)>=0)return!1;for(var a=i.x,l=s.x,c=o.x,h=i.y,f=s.y,p=o.y,m=a<l?a<c?a:c:l<c?l:c,v=h<f?h<p?h:p:f<p?f:p,y=a>l?a>c?a:c:l>c?l:c,x=h>f?h>p?h:p:f>p?f:p,b=Vw(m,v,e,n,r),S=Vw(y,x,e,n,r),w=t.prevZ,E=t.nextZ;w&&w.z>=b&&E&&E.z<=S;){if(w.x>=m&&w.x<=y&&w.y>=v&&w.y<=x&&w!==i&&w!==o&&Ou(a,h,l,f,c,p,w.x,w.y)&&Xt(w.prev,w,w.next)>=0||(w=w.prevZ,E.x>=m&&E.x<=y&&E.y>=v&&E.y<=x&&E!==i&&E!==o&&Ou(a,h,l,f,c,p,E.x,E.y)&&Xt(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;w&&w.z>=b;){if(w.x>=m&&w.x<=y&&w.y>=v&&w.y<=x&&w!==i&&w!==o&&Ou(a,h,l,f,c,p,w.x,w.y)&&Xt(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;E&&E.z<=S;){if(E.x>=m&&E.x<=y&&E.y>=v&&E.y<=x&&E!==i&&E!==o&&Ou(a,h,l,f,c,p,E.x,E.y)&&Xt(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function EEe(t,e,n){var r=t;do{var i=r.prev,s=r.next.next;!y0(i,s)&&qL(i,r,r.next,s)&&Id(i,s)&&Id(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),Rd(r),Rd(r.next),r=t=s),r=r.next}while(r!==t);return cl(r)}function CEe(t,e,n,r,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&FEe(o,a)){var l=XL(o,a);o=cl(o,o.next),l=cl(l,l.next),Od(o,e,n,r,i,s,0),Od(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function TEe(t,e,n,r){var i=[],s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,c=VL(t,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(MEe(c));for(i.sort(AEe),s=0;s<i.length;s++)n=PEe(i[s],n);return n}function AEe(t,e){return t.x-e.x}function PEe(t,e){var n=kEe(t,e);if(!n)return e;var r=XL(n,t);return cl(r,r.next),cl(n,n.next)}function kEe(t,e){var n=e,r=t.x,i=t.y,s=-1/0,o;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var a=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=r&&a>s&&(s=a,o=n.x<n.next.x?n:n.next,a===r))return o}n=n.next}while(n!==e);if(!o)return null;var l=o,c=o.x,h=o.y,f=1/0,p;n=o;do r>=n.x&&n.x>=c&&r!==n.x&&Ou(i<h?r:s,i,c,h,i<h?s:r,i,n.x,n.y)&&(p=Math.abs(i-n.y)/(r-n.x),Id(n,t)&&(p<f||p===f&&(n.x>o.x||n.x===o.x&&OEe(o,n)))&&(o=n,f=p)),n=n.next;while(n!==l);return o}function OEe(t,e){return Xt(t.prev,t,e.prev)<0&&Xt(e.next,t,t.next)<0}function IEe(t,e,n,r){var i=t;do i.z===0&&(i.z=Vw(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,REe(i)}function REe(t){var e,n,r,i,s,o,a,l,c=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,c*=2}while(o>1);return t}function Vw(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function MEe(t){var e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Ou(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function FEe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!DEe(t,e)&&(Id(t,e)&&Id(e,t)&&LEe(t,e)&&(Xt(t.prev,t,e.prev)||Xt(t,e.prev,e))||y0(t,e)&&Xt(t.prev,t,t.next)>0&&Xt(e.prev,e,e.next)>0)}function Xt(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function y0(t,e){return t.x===e.x&&t.y===e.y}function qL(t,e,n,r){var i=Zp(Xt(t,e,n)),s=Zp(Xt(t,e,r)),o=Zp(Xt(n,r,t)),a=Zp(Xt(n,r,e));return!!(i!==s&&o!==a||i===0&&Kp(t,n,e)||s===0&&Kp(t,r,e)||o===0&&Kp(n,t,r)||a===0&&Kp(n,e,r))}function Kp(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Zp(t){return t>0?1:t<0?-1:0}function DEe(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&qL(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Id(t,e){return Xt(t.prev,t,t.next)<0?Xt(t,e,t.next)>=0&&Xt(t,t.prev,e)>=0:Xt(t,e,t.prev)<0||Xt(t,t.next,e)<0}function LEe(t,e){var n=t,r=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function XL(t,e){var n=new qw(t.i,t.x,t.y),r=new qw(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function o3(t,e,n,r){var i=new qw(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Rd(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function qw(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}v0.deviation=function(t,e,n,r){var i=e&&e.length,s=i?e[0]*n:t.length,o=Math.abs(Xw(t,0,s,n));if(i)for(var a=0,l=e.length;a<l;a++){var c=e[a]*n,h=a<l-1?e[a+1]*n:t.length;o-=Math.abs(Xw(t,c,h,n))}var f=0;for(a=0;a<r.length;a+=3){var p=r[a]*n,m=r[a+1]*n,v=r[a+2]*n;f+=Math.abs((t[p]-t[v])*(t[m+1]-t[p+1])-(t[p]-t[m])*(t[v+1]-t[p+1]))}return o===0&&f===0?0:Math.abs((f-o)/o)};function Xw(t,e,n,r){for(var i=0,s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}v0.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)n.vertices.push(t[i][s][o]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n};var zg={},BEe={get exports(){return zg},set exports(t){zg=t}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(t,e){(function(n){var r=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof hr=="object"&&hr;(s.global===s||s.window===s||s.self===s)&&(n=s);var o,a=2147483647,l=36,c=1,h=26,f=38,p=700,m=72,v=128,y="-",x=/^xn--/,b=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},E=l-c,O=Math.floor,A=String.fromCharCode,F;function L(G){throw RangeError(w[G])}function H(G,M){for(var D=G.length,Q=[];D--;)Q[D]=M(G[D]);return Q}function V(G,M){var D=G.split("@"),Q="";D.length>1&&(Q=D[0]+"@",G=D[1]),G=G.replace(S,".");var J=G.split("."),$=H(J,M).join(".");return Q+$}function z(G){for(var M=[],D=0,Q=G.length,J,$;D<Q;)J=G.charCodeAt(D++),J>=55296&&J<=56319&&D<Q?($=G.charCodeAt(D++),($&64512)==56320?M.push(((J&1023)<<10)+($&1023)+65536):(M.push(J),D--)):M.push(J);return M}function j(G){return H(G,function(M){var D="";return M>65535&&(M-=65536,D+=A(M>>>10&1023|55296),M=56320|M&1023),D+=A(M),D}).join("")}function X(G){return G-48<10?G-22:G-65<26?G-65:G-97<26?G-97:l}function K(G,M){return G+22+75*(G<26)-((M!=0)<<5)}function fe(G,M,D){var Q=0;for(G=D?O(G/p):G>>1,G+=O(G/M);G>E*h>>1;Q+=l)G=O(G/E);return O(Q+(E+1)*G/(G+f))}function ue(G){var M=[],D=G.length,Q,J=0,$=v,re=m,me,Ie,Re,Xe,Se,et,tt,rt,Ot;for(me=G.lastIndexOf(y),me<0&&(me=0),Ie=0;Ie<me;++Ie)G.charCodeAt(Ie)>=128&&L("not-basic"),M.push(G.charCodeAt(Ie));for(Re=me>0?me+1:0;Re<D;){for(Xe=J,Se=1,et=l;Re>=D&&L("invalid-input"),tt=X(G.charCodeAt(Re++)),(tt>=l||tt>O((a-J)/Se))&&L("overflow"),J+=tt*Se,rt=et<=re?c:et>=re+h?h:et-re,!(tt<rt);et+=l)Ot=l-rt,Se>O(a/Ot)&&L("overflow"),Se*=Ot;Q=M.length+1,re=fe(J-Xe,Q,Xe==0),O(J/Q)>a-$&&L("overflow"),$+=O(J/Q),J%=Q,M.splice(J++,0,$)}return j(M)}function Y(G){var M,D,Q,J,$,re,me,Ie,Re,Xe,Se,et=[],tt,rt,Ot,Kr;for(G=z(G),tt=G.length,M=v,D=0,$=m,re=0;re<tt;++re)Se=G[re],Se<128&&et.push(A(Se));for(Q=J=et.length,J&&et.push(y);Q<tt;){for(me=a,re=0;re<tt;++re)Se=G[re],Se>=M&&Se<me&&(me=Se);for(rt=Q+1,me-M>O((a-D)/rt)&&L("overflow"),D+=(me-M)*rt,M=me,re=0;re<tt;++re)if(Se=G[re],Se<M&&++D>a&&L("overflow"),Se==M){for(Ie=D,Re=l;Xe=Re<=$?c:Re>=$+h?h:Re-$,!(Ie<Xe);Re+=l)Kr=Ie-Xe,Ot=l-Xe,et.push(A(K(Xe+Kr%Ot,0))),Ie=O(Kr/Ot);et.push(A(K(Ie,0))),$=fe(D,rt,Q==J),D=0,++Q}++D,++M}return et.join("")}function Z(G){return V(G,function(M){return x.test(M)?ue(M.slice(4).toLowerCase()):M})}function se(G){return V(G,function(M){return b.test(M)?"xn--"+Y(M):M})}if(o={version:"1.3.2",ucs2:{decode:z,encode:j},decode:ue,encode:Y,toASCII:se,toUnicode:Z},r&&i)if(t.exports==r)i.exports=o;else for(F in o)o.hasOwnProperty(F)&&(r[F]=o[F]);else n.punycode=o})(hr)})(BEe,zg);var NEe={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},Md={};function $Ee(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var UEe=function(t,e,n,r){e=e||"&",n=n||"=";var i={};if(typeof t!="string"||t.length===0)return i;var s=/\+/g;t=t.split(e);var o=1e3;r&&typeof r.maxKeys=="number"&&(o=r.maxKeys);var a=t.length;o>0&&a>o&&(a=o);for(var l=0;l<a;++l){var c=t[l].replace(s,"%20"),h=c.indexOf(n),f,p,m,v;h>=0?(f=c.substr(0,h),p=c.substr(h+1)):(f=c,p=""),m=decodeURIComponent(f),v=decodeURIComponent(p),$Ee(i,m)?Array.isArray(i[m])?i[m].push(v):i[m]=[i[m],v]:i[m]=v}return i},mh=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},zEe=function(t,e,n,r){return e=e||"&",n=n||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(i){var s=encodeURIComponent(mh(i))+n;return Array.isArray(t[i])?t[i].map(function(o){return s+encodeURIComponent(mh(o))}).join(e):s+encodeURIComponent(mh(t[i]))}).join(e):r?encodeURIComponent(mh(r))+n+encodeURIComponent(mh(t)):""};Md.decode=Md.parse=UEe;Md.encode=Md.stringify=zEe;var HEe=zg,bs=NEe,jEe=b0,WEe=t2e,GEe=e2e;function es(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var VEe=/^([a-z0-9.+-]+:)/i,qEe=/:[0-9]*$/,XEe=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,YEe=["<",">",'"',"`"," ","\r",`
`,"	"],KEe=["{","}","|","\\","^","`"].concat(YEe),Yw=["'"].concat(KEe),a3=["%","/","?",";","#"].concat(Yw),l3=["/","?","#"],ZEe=255,u3=/^[+a-z0-9A-Z_-]{0,63}$/,QEe=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,JEe={javascript:!0,"javascript:":!0},Kw={javascript:!0,"javascript:":!0},Wu={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Zw=Md;function b0(t,e,n){if(t&&bs.isObject(t)&&t instanceof es)return t;var r=new es;return r.parse(t,e,n),r}es.prototype.parse=function(t,e,n){if(!bs.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),i=r!==-1&&r<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!n&&t.split("#").length===1){var l=XEe.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=Zw.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var c=VEe.exec(a);if(c){c=c[0];var h=c.toLowerCase();this.protocol=h,a=a.substr(c.length)}if(n||c||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var f=a.substr(0,2)==="//";f&&!(c&&Kw[c])&&(a=a.substr(2),this.slashes=!0)}if(!Kw[c]&&(f||c&&!Wu[c])){for(var p=-1,m=0;m<l3.length;m++){var v=a.indexOf(l3[m]);v!==-1&&(p===-1||v<p)&&(p=v)}var y,x;p===-1?x=a.lastIndexOf("@"):x=a.lastIndexOf("@",p),x!==-1&&(y=a.slice(0,x),a=a.slice(x+1),this.auth=decodeURIComponent(y)),p=-1;for(var m=0;m<a3.length;m++){var v=a.indexOf(a3[m]);v!==-1&&(p===-1||v<p)&&(p=v)}p===-1&&(p=a.length),this.host=a.slice(0,p),a=a.slice(p),this.parseHost(),this.hostname=this.hostname||"";var b=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!b)for(var S=this.hostname.split(/\./),m=0,w=S.length;m<w;m++){var E=S[m];if(E&&!E.match(u3)){for(var O="",A=0,F=E.length;A<F;A++)E.charCodeAt(A)>127?O+="x":O+=E[A];if(!O.match(u3)){var L=S.slice(0,m),H=S.slice(m+1),V=E.match(QEe);V&&(L.push(V[1]),H.unshift(V[2])),H.length&&(a="/"+H.join(".")+a),this.hostname=L.join(".");break}}}this.hostname.length>ZEe?this.hostname="":this.hostname=this.hostname.toLowerCase(),b||(this.hostname=HEe.toASCII(this.hostname));var z=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+z,this.href+=this.host,b&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!JEe[h])for(var m=0,w=Yw.length;m<w;m++){var X=Yw[m];if(a.indexOf(X)!==-1){var K=encodeURIComponent(X);K===X&&(K=escape(X)),a=a.split(X).join(K)}}var fe=a.indexOf("#");fe!==-1&&(this.hash=a.substr(fe),a=a.slice(0,fe));var ue=a.indexOf("?");if(ue!==-1?(this.search=a.substr(ue),this.query=a.substr(ue+1),e&&(this.query=Zw.parse(this.query)),a=a.slice(0,ue)):e&&(this.search="",this.query={}),a&&(this.pathname=a),Wu[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var z=this.pathname||"",Y=this.search||"";this.path=z+Y}return this.href=this.format(),this};function e2e(t){return bs.isString(t)&&(t=b0(t)),t instanceof es?t.format():es.prototype.format.call(t)}es.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&bs.isObject(this.query)&&Object.keys(this.query).length&&(s=Zw.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Wu[e])&&i!==!1?(i="//"+(i||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),o&&o.charAt(0)!=="?"&&(o="?"+o),n=n.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+n+o+r};function t2e(t,e){return b0(t,!1,!0).resolve(e)}es.prototype.resolve=function(t){return this.resolveObject(b0(t,!1,!0)).format()};es.prototype.resolveObject=function(t){if(bs.isString(t)){var e=new es;e.parse(t,!1,!0),t=e}for(var n=new es,r=Object.keys(this),i=0;i<r.length;i++){var s=r[i];n[s]=this[s]}if(n.hash=t.hash,t.href==="")return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var l=o[a];l!=="protocol"&&(n[l]=t[l])}return Wu[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!Wu[t.protocol]){for(var c=Object.keys(t),h=0;h<c.length;h++){var f=c[h];n[f]=t[f]}return n.href=n.format(),n}if(n.protocol=t.protocol,!t.host&&!Kw[t.protocol]){for(var w=(t.pathname||"").split("/");w.length&&!(t.host=w.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),w[0]!==""&&w.unshift(""),w.length<2&&w.unshift(""),n.pathname=w.join("/")}else n.pathname=t.pathname;if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var p=n.pathname||"",m=n.search||"";n.path=p+m}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var v=n.pathname&&n.pathname.charAt(0)==="/",y=t.host||t.pathname&&t.pathname.charAt(0)==="/",x=y||v||n.host&&t.pathname,b=x,S=n.pathname&&n.pathname.split("/")||[],w=t.pathname&&t.pathname.split("/")||[],E=n.protocol&&!Wu[n.protocol];if(E&&(n.hostname="",n.port=null,n.host&&(S[0]===""?S[0]=n.host:S.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(w[0]===""?w[0]=t.host:w.unshift(t.host)),t.host=null),x=x&&(w[0]===""||S[0]==="")),y)n.host=t.host||t.host===""?t.host:n.host,n.hostname=t.hostname||t.hostname===""?t.hostname:n.hostname,n.search=t.search,n.query=t.query,S=w;else if(w.length)S||(S=[]),S.pop(),S=S.concat(w),n.search=t.search,n.query=t.query;else if(!bs.isNullOrUndefined(t.search)){if(E){n.hostname=n.host=S.shift();var O=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;O&&(n.auth=O.shift(),n.host=n.hostname=O.shift())}return n.search=t.search,n.query=t.query,(!bs.isNull(n.pathname)||!bs.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var A=S.slice(-1)[0],F=(n.host||t.host||S.length>1)&&(A==="."||A==="..")||A==="",L=0,H=S.length;H>=0;H--)A=S[H],A==="."?S.splice(H,1):A===".."?(S.splice(H,1),L++):L&&(S.splice(H,1),L--);if(!x&&!b)for(;L--;L)S.unshift("..");x&&S[0]!==""&&(!S[0]||S[0].charAt(0)!=="/")&&S.unshift(""),F&&S.join("/").substr(-1)!=="/"&&S.push("");var V=S[0]===""||S[0]&&S[0].charAt(0)==="/";if(E){n.hostname=n.host=V?"":S.length?S.shift():"";var O=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;O&&(n.auth=O.shift(),n.host=n.hostname=O.shift())}return x=x||n.host&&S.length,x&&!V&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),(!bs.isNull(n.pathname)||!bs.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n};es.prototype.parseHost=function(){var t=this.host,e=qEe.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const YL={parse:jEe,format:GEe,resolve:WEe};function Li(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function gh(t){return t.split("?")[0].split("#")[0]}function n2e(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function r2e(t,e,n){return t.replace(new RegExp(n2e(e),"g"),n)}function i2e(t,e){let n="",r=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){const l=n.lastIndexOf("/");if(l!==n.length-1){l===-1?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length===2||n.length===1){n="",r=0,i=a,s=0;continue}}e&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+=`/${t.slice(i+1,a)}`:n=t.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return n}const Tn={toPosix(t){return r2e(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol(t){Li(t),t=this.toPosix(t);let e="";const n=/^file:\/\/\//.exec(t),r=/^[^/:]+:\/\//.exec(t),i=/^[^/:]+:\//.exec(t);if(n||r||i){const s=(n==null?void 0:n[0])||(r==null?void 0:r[0])||(i==null?void 0:i[0]);e=s,t=t.slice(s.length)}return e},toAbsolute(t,e,n){if(this.isDataUrl(t))return t;const r=gh(this.toPosix(e??we.ADAPTER.getBaseUrl())),i=gh(this.toPosix(n??this.rootname(r)));return Li(t),t=this.toPosix(t),t.startsWith("/")?Tn.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(r,t)},normalize(t){if(t=this.toPosix(t),Li(t),t.length===0)return".";let e="";const n=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const r=t.endsWith("/");return t=i2e(t,!1),t.length>0&&r&&(t+="/"),n?`/${t}`:e+t},isAbsolute(t){return Li(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let n=0;n<t.length;++n){const r=t[n];if(Li(r),r.length>0)if(e===void 0)e=r;else{const i=t[n-1]??"";this.extname(i)?e+=`/../${r}`:e+=`/${r}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(Li(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const n=e===47;let r=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){r=a;break}}else i=!1;return r===-1?n?"/":this.isUrl(o)?s+t:s:n&&r===1?"//":s+t.slice(0,r)},rootname(t){Li(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const n=t.indexOf("/",e.length);n!==-1?e=t.slice(0,n):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Li(t),e&&Li(e),t=gh(this.toPosix(t));let n=0,r=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const l=t.charCodeAt(s);if(l===47){if(!i){n=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(r=s):(o=-1,r=a))}return n===r?r=a:r===-1&&(r=t.length),t.slice(n,r)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){n=s+1;break}}else r===-1&&(i=!1,r=s+1);return r===-1?"":t.slice(n,r)},extname(t){Li(t),t=gh(this.toPosix(t));let e=-1,n=0,r=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){n=o+1;break}continue}r===-1&&(i=!1,r=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||r===-1||s===0||s===1&&e===r-1&&e===n+1?"":t.slice(e,r)},parse(t){Li(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=gh(this.toPosix(t));let n=t.charCodeAt(0);const r=this.isAbsolute(t);let i;e.root=this.rootname(t),r||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,l=!0,c=t.length-1,h=0;for(;c>=i;--c){if(n=t.charCodeAt(c),n===47){if(!l){o=c+1;break}continue}a===-1&&(l=!1,a=c+1),n===46?s===-1?s=c:h!==1&&(h=1):s!==-1&&(h=-1)}return s===-1||a===-1||h===0||h===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&r?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&r?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"},c3={};function at(t,e,n=3){if(c3[e])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(r=r.split(`
`).splice(n).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(r))),c3[e]=!0}function s2e(){at("7.0.0","skipHello is deprecated, please use settings.RENDER_OPTIONS.hello")}function o2e(){at("7.0.0",`sayHello is deprecated, please use Renderer's "hello" option`)}let ob;function KL(){return typeof ob>"u"&&(ob=function(){var n;const e={stencil:!0,failIfMajorPerformanceCaveat:we.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!we.ADAPTER.getWebGLRenderingContext())return!1;const r=we.ADAPTER.createCanvas();let i=r.getContext("webgl",e)||r.getContext("experimental-webgl",e);const s=!!((n=i==null?void 0:i.getContextAttributes())!=null&&n.stencil);if(i){const o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,s}catch{return!1}}()),ob}var a2e="#f0f8ff",l2e="#faebd7",u2e="#00ffff",c2e="#7fffd4",h2e="#f0ffff",d2e="#f5f5dc",f2e="#ffe4c4",p2e="#000000",m2e="#ffebcd",g2e="#0000ff",v2e="#8a2be2",y2e="#a52a2a",b2e="#deb887",x2e="#5f9ea0",w2e="#7fff00",_2e="#d2691e",S2e="#ff7f50",E2e="#6495ed",C2e="#fff8dc",T2e="#dc143c",A2e="#00ffff",P2e="#00008b",k2e="#008b8b",O2e="#b8860b",I2e="#a9a9a9",R2e="#006400",M2e="#a9a9a9",F2e="#bdb76b",D2e="#8b008b",L2e="#556b2f",B2e="#ff8c00",N2e="#9932cc",$2e="#8b0000",U2e="#e9967a",z2e="#8fbc8f",H2e="#483d8b",j2e="#2f4f4f",W2e="#2f4f4f",G2e="#00ced1",V2e="#9400d3",q2e="#ff1493",X2e="#00bfff",Y2e="#696969",K2e="#696969",Z2e="#1e90ff",Q2e="#b22222",J2e="#fffaf0",eCe="#228b22",tCe="#ff00ff",nCe="#dcdcdc",rCe="#f8f8ff",iCe="#daa520",sCe="#ffd700",oCe="#808080",aCe="#008000",lCe="#adff2f",uCe="#808080",cCe="#f0fff0",hCe="#ff69b4",dCe="#cd5c5c",fCe="#4b0082",pCe="#fffff0",mCe="#f0e68c",gCe="#fff0f5",vCe="#e6e6fa",yCe="#7cfc00",bCe="#fffacd",xCe="#add8e6",wCe="#f08080",_Ce="#e0ffff",SCe="#fafad2",ECe="#d3d3d3",CCe="#90ee90",TCe="#d3d3d3",ACe="#ffb6c1",PCe="#ffa07a",kCe="#20b2aa",OCe="#87cefa",ICe="#778899",RCe="#778899",MCe="#b0c4de",FCe="#ffffe0",DCe="#00ff00",LCe="#32cd32",BCe="#faf0e6",NCe="#ff00ff",$Ce="#800000",UCe="#66cdaa",zCe="#0000cd",HCe="#ba55d3",jCe="#9370db",WCe="#3cb371",GCe="#7b68ee",VCe="#00fa9a",qCe="#48d1cc",XCe="#c71585",YCe="#191970",KCe="#f5fffa",ZCe="#ffe4e1",QCe="#ffe4b5",JCe="#ffdead",eTe="#000080",tTe="#fdf5e6",nTe="#808000",rTe="#6b8e23",iTe="#ffa500",sTe="#ff4500",oTe="#da70d6",aTe="#eee8aa",lTe="#98fb98",uTe="#afeeee",cTe="#db7093",hTe="#ffefd5",dTe="#ffdab9",fTe="#cd853f",pTe="#ffc0cb",mTe="#dda0dd",gTe="#b0e0e6",vTe="#800080",yTe="#663399",bTe="#ff0000",xTe="#bc8f8f",wTe="#4169e1",_Te="#8b4513",STe="#fa8072",ETe="#f4a460",CTe="#2e8b57",TTe="#fff5ee",ATe="#a0522d",PTe="#c0c0c0",kTe="#87ceeb",OTe="#6a5acd",ITe="#708090",RTe="#708090",MTe="#fffafa",FTe="#00ff7f",DTe="#4682b4",LTe="#d2b48c",BTe="#008080",NTe="#d8bfd8",$Te="#ff6347",UTe="#40e0d0",zTe="#ee82ee",HTe="#f5deb3",jTe="#ffffff",WTe="#f5f5f5",GTe="#ffff00",VTe="#9acd32",qTe={aliceblue:a2e,antiquewhite:l2e,aqua:u2e,aquamarine:c2e,azure:h2e,beige:d2e,bisque:f2e,black:p2e,blanchedalmond:m2e,blue:g2e,blueviolet:v2e,brown:y2e,burlywood:b2e,cadetblue:x2e,chartreuse:w2e,chocolate:_2e,coral:S2e,cornflowerblue:E2e,cornsilk:C2e,crimson:T2e,cyan:A2e,darkblue:P2e,darkcyan:k2e,darkgoldenrod:O2e,darkgray:I2e,darkgreen:R2e,darkgrey:M2e,darkkhaki:F2e,darkmagenta:D2e,darkolivegreen:L2e,darkorange:B2e,darkorchid:N2e,darkred:$2e,darksalmon:U2e,darkseagreen:z2e,darkslateblue:H2e,darkslategray:j2e,darkslategrey:W2e,darkturquoise:G2e,darkviolet:V2e,deeppink:q2e,deepskyblue:X2e,dimgray:Y2e,dimgrey:K2e,dodgerblue:Z2e,firebrick:Q2e,floralwhite:J2e,forestgreen:eCe,fuchsia:tCe,gainsboro:nCe,ghostwhite:rCe,goldenrod:iCe,gold:sCe,gray:oCe,green:aCe,greenyellow:lCe,grey:uCe,honeydew:cCe,hotpink:hCe,indianred:dCe,indigo:fCe,ivory:pCe,khaki:mCe,lavenderblush:gCe,lavender:vCe,lawngreen:yCe,lemonchiffon:bCe,lightblue:xCe,lightcoral:wCe,lightcyan:_Ce,lightgoldenrodyellow:SCe,lightgray:ECe,lightgreen:CCe,lightgrey:TCe,lightpink:ACe,lightsalmon:PCe,lightseagreen:kCe,lightskyblue:OCe,lightslategray:ICe,lightslategrey:RCe,lightsteelblue:MCe,lightyellow:FCe,lime:DCe,limegreen:LCe,linen:BCe,magenta:NCe,maroon:$Ce,mediumaquamarine:UCe,mediumblue:zCe,mediumorchid:HCe,mediumpurple:jCe,mediumseagreen:WCe,mediumslateblue:GCe,mediumspringgreen:VCe,mediumturquoise:qCe,mediumvioletred:XCe,midnightblue:YCe,mintcream:KCe,mistyrose:ZCe,moccasin:QCe,navajowhite:JCe,navy:eTe,oldlace:tTe,olive:nTe,olivedrab:rTe,orange:iTe,orangered:sTe,orchid:oTe,palegoldenrod:aTe,palegreen:lTe,paleturquoise:uTe,palevioletred:cTe,papayawhip:hTe,peachpuff:dTe,peru:fTe,pink:pTe,plum:mTe,powderblue:gTe,purple:vTe,rebeccapurple:yTe,red:bTe,rosybrown:xTe,royalblue:wTe,saddlebrown:_Te,salmon:STe,sandybrown:ETe,seagreen:CTe,seashell:TTe,sienna:ATe,silver:PTe,skyblue:kTe,slateblue:OTe,slategray:ITe,slategrey:RTe,snow:MTe,springgreen:FTe,steelblue:DTe,tan:LTe,teal:BTe,thistle:NTe,tomato:$Te,turquoise:UTe,violet:zTe,wheat:HTe,white:jTe,whitesmoke:WTe,yellow:GTe,yellowgreen:VTe};function hl(t,e=[]){return e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function w2(t){let e=t.toString(16);return e="000000".substring(0,6-e.length)+e,`#${e}`}function x0(t){if(typeof t=="string"&&(t=qTe[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1)),t.length===3)){const[e,n,r]=t;t=e+e+n+n+r+r}return parseInt(t,16)}function XTe(t){return(t[0]*255<<16)+(t[1]*255<<8)+(t[2]*255|0)}function YTe(){const t=[],e=[];for(let r=0;r<32;r++)t[r]=r,e[r]=r;t[Me.NORMAL_NPM]=Me.NORMAL,t[Me.ADD_NPM]=Me.ADD,t[Me.SCREEN_NPM]=Me.SCREEN,e[Me.NORMAL]=Me.NORMAL_NPM,e[Me.ADD]=Me.ADD_NPM,e[Me.SCREEN]=Me.SCREEN_NPM;const n=[];return n.push(e),n.push(t),n}const _2=YTe();function S2(t,e){return _2[e?1:0][t]}function ZL(t,e,n,r){return n=n||new Float32Array(4),r||r===void 0?(n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e):(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=e,n}function w0(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;let n=t>>16&255,r=t>>8&255,i=t&255;return n=n*e+.5|0,r=r*e+.5|0,i=i*e+.5|0,(e*255<<24)+(n<<16)+(r<<8)+i}function E2(t,e,n,r){return n=n||new Float32Array(4),n[0]=(t>>16&255)/255,n[1]=(t>>8&255)/255,n[2]=(t&255)/255,(r||r===void 0)&&(n[0]*=e,n[1]*=e,n[2]*=e),n[3]=e,n}const QL=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function JL(t,e=null){const n=t*6;if(e=e||new Uint16Array(n),e.length!==n)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${n}`);for(let r=0,i=0;r<n;r+=6,i+=4)e[r+0]=i+0,e[r+1]=i+1,e[r+2]=i+2,e[r+3]=i+0,e[r+4]=i+2,e[r+5]=i+3;return e}function _0(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}const KTe={Float32Array,Uint32Array,Int32Array,Uint8Array};function ZTe(t,e){let n=0,r=0;const i={};for(let l=0;l<t.length;l++)r+=e[l],n+=t[l].length;const s=new ArrayBuffer(n*4);let o=null,a=0;for(let l=0;l<t.length;l++){const c=e[l],h=t[l],f=_0(h);i[f]||(i[f]=new KTe[f](s)),o=i[f];for(let p=0;p<h.length;p++){const m=(p/c|0)*r+a,v=p%c;o[m+v]=h[p]}a+=c}return new Float32Array(s)}function Fd(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function Qw(t){return!(t&t-1)&&!!t}function Jw(t){let e=(t>65535?1:0)<<4;t>>>=e;let n=(t>255?1:0)<<3;return t>>>=n,e|=n,n=(t>15?1:0)<<2,t>>>=n,e|=n,n=(t>3?1:0)<<1,t>>>=n,e|=n,e|t>>1}function Qa(t,e,n){const r=t.length;let i;if(e>=r||n===0)return;n=e+n>r?r-e:n;const s=r-n;for(i=e;i<s;++i)t[i]=t[i+n];t.length=s}function ja(t){return t===0?0:t<0?-1:1}let QTe=0;function ra(){return++QTe}const eB=class{constructor(t,e,n,r){this.left=t,this.top=e,this.right=n,this.bottom=r}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let Hg=eB;Hg.EMPTY=new eB(0,0,0,0);const e_={},Yn=Object.create(null),Rr=Object.create(null);function JTe(){let t;for(t in Yn)Yn[t].destroy();for(t in Rr)Rr[t].destroy()}function eAe(){let t;for(t in Yn)delete Yn[t];for(t in Rr)delete Rr[t]}class t_{constructor(e,n,r){this._canvas=we.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=r||we.RESOLUTION,this.resize(e,n)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,n){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(n*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function h3(t,e,n){for(let r=0,i=4*n*e;r<e;++r,i+=4)if(t[i+3]!==0)return!1;return!0}function d3(t,e,n,r,i){const s=4*e;for(let o=r,a=r*s+4*n;o<=i;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function tB(t){const{width:e,height:n}=t,r=t.getContext("2d",{willReadFrequently:!0});if(r===null)throw new TypeError("Failed to get canvas 2D context");const s=r.getImageData(0,0,e,n).data;let o=0,a=0,l=e-1,c=n-1;for(;a<n&&h3(s,e,a);)++a;if(a===n)return Hg.EMPTY;for(;h3(s,e,c);)--c;for(;d3(s,e,o,a,c);)++o;for(;d3(s,e,l,a,c);)--l;return++l,++c,new Hg(o,a,l,c)}function nB(t){const e=tB(t),{width:n,height:r}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,n,r)}return{width:n,height:r,data:i}}function tAe(t){const e=QL.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}let Qp;function rB(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location,Qp||(Qp=document.createElement("a")),Qp.href=t;const n=YL.parse(Qp.href),r=!n.port&&e.port===""||n.port===e.port;return n.hostname!==e.hostname||!r||n.protocol!==e.protocol?"anonymous":""}function co(t,e=1){var r;const n=(r=we.RETINA_PREFIX)==null?void 0:r.exec(t);return n?parseFloat(n[1]):e}const nAe=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:Rr,BoundingBox:Hg,CanvasRenderTarget:t_,DATA_URI:QL,EventEmitter:na,ProgramCache:e_,TextureCache:Yn,clearTextureCache:eAe,correctBlendMode:S2,createIndicesForQuads:JL,decomposeDataUri:tAe,deprecation:at,destroyTextureCache:JTe,determineCrossOrigin:rB,get earcut(){return kd},getBufferType:_0,getCanvasBoundingBox:tB,getResolutionOfUrl:co,hex2rgb:hl,hex2string:w2,interleaveTypedArrays:ZTe,isMobile:Xi,isPow2:Qw,isWebGLSupported:KL,log2:Jw,nextPow2:Fd,path:Tn,premultiplyBlendMode:_2,premultiplyRgba:ZL,premultiplyTint:w0,premultiplyTintToRgba:E2,removeItems:Qa,rgb2hex:XTe,sayHello:o2e,sign:ja,skipHello:s2e,string2hex:x0,trimCanvas:nB,uid:ra,url:YL},Symbol.toStringTag,{value:"Module"}));var be=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(be||{});const n_=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},f3=(t,e)=>n_(t).priority??e,Pe={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(n_).forEach(e=>{e.type.forEach(n=>{var r,i;return(i=(r=this._removeHandlers)[n])==null?void 0:i.call(r,e)})}),this},add(...t){return t.map(n_).forEach(e=>{e.type.forEach(n=>{const r=this._addHandlers,i=this._queue;r[n]?r[n](e):(i[n]=i[n]||[],i[n].push(e))})}),this},handle(t,e,n){const r=this._addHandlers,i=this._removeHandlers;if(r[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);r[t]=e,i[t]=n;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,n=>{e[n.name]=n.ref},n=>{delete e[n.name]})},handleByList(t,e,n=-1){return this.handle(t,r=>{e.includes(r.ref)||(e.push(r.ref),e.sort((i,s)=>f3(s,n)-f3(i,n)))},r=>{const i=e.indexOf(r.ref);i!==-1&&e.splice(i,1)})}};class jg{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const rAe=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function iAe(t){let e="";for(let n=0;n<t;++n)n>0&&(e+=`
else `),n<t-1&&(e+=`if(test == ${n}.0){}`);return e}function iB(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const n=e.createShader(e.FRAGMENT_SHADER);for(;;){const r=rAe.replace(/%forloop%/gi,iAe(t));if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))t=t/2|0;else break}return t}const ab=0,lb=1,ub=2,cb=3,hb=4,db=5;class Fs{constructor(){this.data=0,this.blendMode=Me.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<ab)}set blend(e){!!(this.data&1<<ab)!==e&&(this.data^=1<<ab)}get offsets(){return!!(this.data&1<<lb)}set offsets(e){!!(this.data&1<<lb)!==e&&(this.data^=1<<lb)}get culling(){return!!(this.data&1<<ub)}set culling(e){!!(this.data&1<<ub)!==e&&(this.data^=1<<ub)}get depthTest(){return!!(this.data&1<<cb)}set depthTest(e){!!(this.data&1<<cb)!==e&&(this.data^=1<<cb)}get depthMask(){return!!(this.data&1<<db)}set depthMask(e){!!(this.data&1<<db)!==e&&(this.data^=1<<db)}get clockwiseFrontFace(){return!!(this.data&1<<hb)}set clockwiseFrontFace(e){!!(this.data&1<<hb)!==e&&(this.data^=1<<hb)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==Me.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new Fs;return e.depthTest=!1,e.blend=!0,e}}const Wg=[];function C2(t,e){if(!t)return null;let n="";if(typeof t=="string"){const r=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);r&&(n=r[1].toLowerCase())}for(let r=Wg.length-1;r>=0;--r){const i=Wg[r];if(i.test&&i.test(t,n))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Wr{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,n,r,i,s,o,a,l){if(arguments.length>8)throw new Error("max arguments reached");const{name:c,items:h}=this;this._aliasCount++;for(let f=0,p=h.length;f<p;f++)h[f][c](e,n,r,i,s,o,a,l);return h===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const n=this.items.indexOf(e);return n!==-1&&(this.ensureNonAliasedItems(),this.items.splice(n,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Wr.prototype,{dispatch:{value:Wr.prototype.emit},run:{value:Wr.prototype.emit}});class lc{constructor(e=0,n=0){this._width=e,this._height=n,this.destroyed=!1,this.internal=!1,this.onResize=new Wr("setRealSize"),this.onUpdate=new Wr("update"),this.onError=new Wr("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,n){(e!==this._width||n!==this._height)&&(this._width=e,this._height=n,this.onResize.emit(e,n))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,n,r){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,n){return!1}}class Mc extends lc{constructor(e,n){const{width:r,height:i}=n||{};if(!r||!i)throw new Error("BufferResource width or height invalid");super(r,i),this.data=e}upload(e,n,r){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Ai.UNPACK);const s=n.realWidth,o=n.realHeight;return r.width===s&&r.height===o?i.texSubImage2D(n.target,0,0,0,s,o,n.format,r.type,this.data):(r.width=s,r.height=o,i.texImage2D(n.target,0,r.internalFormat,s,o,0,n.format,r.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const sAe={scaleMode:Cs.NEAREST,format:ge.RGBA,alphaMode:Ai.NPM},pu=class extends na{constructor(t=null,e=null){super(),e=Object.assign({},pu.defaultOptions,e);const{alphaMode:n,mipmap:r,anisotropicLevel:i,scaleMode:s,width:o,height:a,wrapMode:l,format:c,type:h,target:f,resolution:p,resourceOptions:m}=e;t&&!(t instanceof lc)&&(t=C2(t,m),t.internal=!0),this.resolution=p||we.RESOLUTION,this.width=Math.round((o||0)*this.resolution)/this.resolution,this.height=Math.round((a||0)*this.resolution)/this.resolution,this._mipmap=r,this.anisotropicLevel=i,this._wrapMode=l,this._scaleMode=s,this.format=c,this.type=h,this.target=f,this.alphaMode=n,this.uid=ra(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&a>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let n;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,n=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,n=!0),n&&this.dirtyStyleId++,this}setSize(t,e,n){return n=n||this.resolution,this.setRealSize(t*n,e*n,n)}setRealSize(t,e,n){return this.resolution=n||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=Qw(this.realWidth)&&Qw(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Rr[this.cacheId],delete Yn[this.cacheId],this.cacheId=null),this.dispose(),pu.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,n=we.STRICT_TEXTURE_CACHE){const r=typeof t=="string";let i=null;if(r)i=t;else{if(!t._pixiId){const o=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${o}_${ra()}`}i=t._pixiId}let s=Rr[i];if(r&&n&&!s)throw new Error(`The cacheId "${i}" does not exist in BaseTextureCache.`);return s||(s=new pu(t,e),s.cacheId=i,pu.addToCache(s,i)),s}static fromBuffer(t,e,n,r){t=t||new Float32Array(e*n*4);const i=new Mc(t,{width:e,height:n}),s=t instanceof Float32Array?ke.FLOAT:ke.UNSIGNED_BYTE;return new pu(i,Object.assign({},sAe,r||{width:e,height:n,type:s}))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),Rr[e]&&Rr[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),Rr[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=Rr[t];if(e){const n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete Rr[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete Rr[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};let He=pu;He.defaultOptions={mipmap:ss.POW2,anisotropicLevel:0,scaleMode:Cs.LINEAR,wrapMode:ks.CLAMP,alphaMode:Ai.UNPACK,target:Za.TEXTURE_2D,format:ge.RGBA,type:ke.UNSIGNED_BYTE};He._globalBatch=0;class Gg{constructor(){this.texArray=null,this.blend=0,this.type=qi.TRIANGLES,this.start=0,this.size=0,this.data=null}}let oAe=0;class tn{constructor(e,n=!0,r=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=n,this.id=oAe++,this.disposeRunner=new Wr("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Ji.ELEMENT_ARRAY_BUFFER:Ji.ARRAY_BUFFER}get index(){return this.type===Ji.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new tn(e)}}class Dd{constructor(e,n=0,r=!1,i=ke.FLOAT,s,o,a,l=1){this.buffer=e,this.size=n,this.normalized=r,this.type=i,this.stride=s,this.start=o,this.instance=a,this.divisor=l}destroy(){this.buffer=null}static from(e,n,r,i,s){return new Dd(e,n,r,i,s)}}const aAe={Float32Array,Uint32Array,Int32Array,Uint8Array};function lAe(t,e){let n=0,r=0;const i={};for(let l=0;l<t.length;l++)r+=e[l],n+=t[l].length;const s=new ArrayBuffer(n*4);let o=null,a=0;for(let l=0;l<t.length;l++){const c=e[l],h=t[l],f=_0(h);i[f]||(i[f]=new aAe[f](s)),o=i[f];for(let p=0;p<h.length;p++){const m=(p/c|0)*r+a,v=p%c;o[m+v]=h[p]}a+=c}return new Float32Array(s)}const p3={5126:4,5123:2,5121:1};let uAe=0;const cAe={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class ho{constructor(e=[],n={}){this.buffers=e,this.indexBuffer=null,this.attributes=n,this.glVertexArrayObjects={},this.id=uAe++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Wr("disposeGeometry"),this.refCount=0}addAttribute(e,n,r=0,i=!1,s,o,a,l=!1){if(!n)throw new Error("You must pass a buffer when creating an attribute");n instanceof tn||(n instanceof Array&&(n=new Float32Array(n)),n=new tn(n));const c=e.split("|");if(c.length>1){for(let f=0;f<c.length;f++)this.addAttribute(c[f],n,r,i,s);return this}let h=this.buffers.indexOf(n);return h===-1&&(this.buffers.push(n),h=this.buffers.length-1),this.attributes[e]=new Dd(h,r,i,s,o,a,l),this.instanced=this.instanced||l,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof tn||(e instanceof Array&&(e=new Uint16Array(e)),e=new tn(e)),e.type=Ji.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],n=[],r=new tn;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),n.push(s.size*p3[s.type]/4),s.buffer=0}for(r.data=lAe(e,n),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const n=this.attributes[e];return this.buffers[n.buffer].data.length/(n.stride/4||n.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new ho;for(let n=0;n<this.buffers.length;n++)e.buffers[n]=new tn(this.buffers[n].data.slice(0));for(const n in this.attributes){const r=this.attributes[n];e.attributes[n]=new Dd(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Ji.ELEMENT_ARRAY_BUFFER),e}static merge(e){const n=new ho,r=[],i=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)i[l]=i[l]||0,i[l]+=o.buffers[l].data.length,s[l]=0}for(let a=0;a<o.buffers.length;a++)r[a]=new cAe[_0(o.buffers[a].data)](i[a]),n.buffers[a]=new tn(r[a]);for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)r[l].set(o.buffers[l].data,s[l]),s[l]+=o.buffers[l].data.length}if(n.attributes=o.attributes,o.indexBuffer){n.indexBuffer=n.buffers[o.buffers.indexOf(o.indexBuffer)],n.indexBuffer.type=Ji.ELEMENT_ARRAY_BUFFER;let a=0,l=0,c=0,h=0;for(let f=0;f<o.buffers.length;f++)if(o.buffers[f]!==o.indexBuffer){h=f;break}for(const f in o.attributes){const p=o.attributes[f];(p.buffer|0)===h&&(l+=p.size*p3[p.type]/4)}for(let f=0;f<e.length;f++){const p=e[f].indexBuffer.data;for(let m=0;m<p.length;m++)n.indexBuffer.data[m+c]+=a;a+=e[f].buffers[h].data.length/l,c+=p.length}}return n}}class T2 extends ho{constructor(e=!1){super(),this._buffer=new tn(null,e,!1),this._indexBuffer=new tn(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,ke.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,ke.FLOAT).addAttribute("aColor",this._buffer,4,!0,ke.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,ke.FLOAT).addIndex(this._indexBuffer)}}const Ld=Math.PI*2,sB=180/Math.PI,oB=Math.PI/180;var Sn=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(Sn||{});class Oe{constructor(e=0,n=0){this.x=0,this.y=0,this.x=e,this.y=n}clone(){return new Oe(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,n=e){return this.x=e,this.y=n,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const Jp=[new Oe,new Oe,new Oe,new Oe];class Ve{constructor(e=0,n=0,r=0,i=0){this.x=Number(e),this.y=Number(n),this.width=Number(r),this.height=Number(i),this.type=Sn.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Ve(0,0,0,0)}clone(){return new Ve(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,n){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&n>=this.y&&n<this.y+this.height}intersects(e,n){if(!n){const L=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=L)return!1;const V=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>V}const r=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=r||o<=s)return!1;const a=Jp[0].set(e.left,e.top),l=Jp[1].set(e.left,e.bottom),c=Jp[2].set(e.right,e.top),h=Jp[3].set(e.right,e.bottom);if(c.x<=a.x||l.y<=a.y)return!1;const f=Math.sign(n.a*n.d-n.b*n.c);if(f===0||(n.apply(a,a),n.apply(l,l),n.apply(c,c),n.apply(h,h),Math.max(a.x,l.x,c.x,h.x)<=r||Math.min(a.x,l.x,c.x,h.x)>=i||Math.max(a.y,l.y,c.y,h.y)<=s||Math.min(a.y,l.y,c.y,h.y)>=o))return!1;const p=f*(l.y-a.y),m=f*(a.x-l.x),v=p*r+m*s,y=p*i+m*s,x=p*r+m*o,b=p*i+m*o;if(Math.max(v,y,x,b)<=p*a.x+m*a.y||Math.min(v,y,x,b)>=p*h.x+m*h.y)return!1;const S=f*(a.y-c.y),w=f*(c.x-a.x),E=S*r+w*s,O=S*i+w*s,A=S*r+w*o,F=S*i+w*o;return!(Math.max(E,O,A,F)<=S*a.x+w*a.y||Math.min(E,O,A,F)>=S*h.x+w*h.y)}pad(e=0,n=e){return this.x-=e,this.y-=n,this.width+=e*2,this.height+=n*2,this}fit(e){const n=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=n,this.width=Math.max(r-n,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,n=.001){const r=Math.ceil((this.x+this.width-n)*e)/e,i=Math.ceil((this.y+this.height-n)*e)/e;return this.x=Math.floor((this.x+n)*e)/e,this.y=Math.floor((this.y+n)*e)/e,this.width=r-this.x,this.height=i-this.y,this}enlarge(e){const n=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=n,this.width=r-n,this.y=i,this.height=s-i,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class uc{constructor(e=0,n=0,r=0){this.x=e,this.y=n,this.radius=r,this.type=Sn.CIRC}clone(){return new uc(this.x,this.y,this.radius)}contains(e,n){if(this.radius<=0)return!1;const r=this.radius*this.radius;let i=this.x-e,s=this.y-n;return i*=i,s*=s,i+s<=r}getBounds(){return new Ve(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class S0{constructor(e=0,n=0,r=0,i=0){this.x=e,this.y=n,this.width=r,this.height=i,this.type=Sn.ELIP}clone(){return new S0(this.x,this.y,this.width,this.height)}contains(e,n){if(this.width<=0||this.height<=0)return!1;let r=(e-this.x)/this.width,i=(n-this.y)/this.height;return r*=r,i*=i,r+i<=1}getBounds(){return new Ve(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class Ja{constructor(...e){let n=Array.isArray(e[0])?e[0]:e;if(typeof n[0]!="number"){const r=[];for(let i=0,s=n.length;i<s;i++)r.push(n[i].x,n[i].y);n=r}this.points=n,this.type=Sn.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),n=new Ja(e);return n.closeStroke=this.closeStroke,n}contains(e,n){let r=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],l=this.points[s*2+1],c=this.points[o*2],h=this.points[o*2+1];l>n!=h>n&&e<(c-a)*((n-l)/(h-l))+a&&(r=!r)}return r}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,n)=>`${e}, ${n}`,"")}]`}}class cc{constructor(e=0,n=0,r=0,i=0,s=20){this.x=e,this.y=n,this.width=r,this.height=i,this.radius=s,this.type=Sn.RREC}clone(){return new cc(this.x,this.y,this.width,this.height,this.radius)}contains(e,n){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(n>=this.y+r&&n<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;let i=e-(this.x+r),s=n-(this.y+r);const o=r*r;if(i*i+s*s<=o||(i=e-(this.x+this.width-r),i*i+s*s<=o)||(s=n-(this.y+this.height-r),i*i+s*s<=o)||(i=e-(this.x+r),i*i+s*s<=o))return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}class Nt{constructor(e=1,n=0,r=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,n,r,i,s,o){return this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=o,this}toArray(e,n){this.array||(this.array=new Float32Array(9));const r=n||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(e,n){n=n||new Oe;const r=e.x,i=e.y;return n.x=this.a*r+this.c*i+this.tx,n.y=this.b*r+this.d*i+this.ty,n}applyInverse(e,n){n=n||new Oe;const r=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return n.x=this.d*r*i+-this.c*r*s+(this.ty*this.c-this.tx*this.d)*r,n.y=this.a*r*s+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,n}translate(e,n){return this.tx+=e,this.ty+=n,this}scale(e,n){return this.a*=e,this.d*=n,this.c*=e,this.b*=n,this.tx*=e,this.ty*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*n-this.b*r,this.b=i*r+this.b*n,this.c=s*n-this.d*r,this.d=s*r+this.d*n,this.tx=o*n-this.ty*r,this.ty=o*r+this.ty*n,this}append(e){const n=this.a,r=this.b,i=this.c,s=this.d;return this.a=e.a*n+e.b*i,this.b=e.a*r+e.b*s,this.c=e.c*n+e.d*i,this.d=e.c*r+e.d*s,this.tx=e.tx*n+e.ty*i+this.tx,this.ty=e.tx*r+e.ty*s+this.ty,this}setTransform(e,n,r,i,s,o,a,l,c){return this.a=Math.cos(a+c)*s,this.b=Math.sin(a+c)*s,this.c=-Math.sin(a-l)*o,this.d=Math.cos(a-l)*o,this.tx=e-(r*this.a+i*this.c),this.ty=n-(r*this.b+i*this.d),this}prepend(e){const n=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const r=this.a,i=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=n*e.a+this.ty*e.c+e.tx,this.ty=n*e.b+this.ty*e.d+e.ty,this}decompose(e){const n=this.a,r=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),l=Math.atan2(r,n),c=Math.abs(a+l);return c<1e-5||Math.abs(Ld-c)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(n*n+r*r),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*n+o.y*i),e.position.y=this.ty+(o.x*r+o.y*s),e}invert(){const e=this.a,n=this.b,r=this.c,i=this.d,s=this.tx,o=e*i-n*r;return this.a=i/o,this.b=-n/o,this.c=-r/o,this.d=e/o,this.tx=(r*this.ty-i*s)/o,this.ty=-(e*this.ty-n*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Nt;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new Nt}static get TEMP_MATRIX(){return new Nt}}const Da=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],La=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Ba=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Na=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],r_=[],aB=[],em=Math.sign;function hAe(){for(let t=0;t<16;t++){const e=[];r_.push(e);for(let n=0;n<16;n++){const r=em(Da[t]*Da[n]+Ba[t]*La[n]),i=em(La[t]*Da[n]+Na[t]*La[n]),s=em(Da[t]*Ba[n]+Ba[t]*Na[n]),o=em(La[t]*Ba[n]+Na[t]*Na[n]);for(let a=0;a<16;a++)if(Da[a]===r&&La[a]===i&&Ba[a]===s&&Na[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new Nt;e.set(Da[t],La[t],Ba[t],Na[t],0,0),aB.push(e)}}hAe();const zt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Da[t],uY:t=>La[t],vX:t=>Ba[t],vY:t=>Na[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>r_[t][e],sub:(t,e)=>r_[t][zt.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?zt.S:zt.N:Math.abs(e)*2<=Math.abs(t)?t>0?zt.E:zt.W:e>0?t>0?zt.SE:zt.SW:t>0?zt.NE:zt.NW,matrixAppendRotationInv:(t,e,n=0,r=0)=>{const i=aB[zt.inv(e)];i.tx=n,i.ty=r,t.append(i)}};class to{constructor(e,n,r=0,i=0){this._x=r,this._y=i,this.cb=e,this.scope=n}clone(e=this.cb,n=this.scope){return new to(e,n,this._x,this._y)}set(e=0,n=e){return(this._x!==e||this._y!==n)&&(this._x=e,this._y=n,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=${0} y=${0} scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}const lB=class{constructor(){this.worldTransform=new Nt,this.localTransform=new Nt,this.position=new to(this.onChange,this,0,0),this.scale=new to(this.onChange,this,1,1),this.pivot=new to(this.onChange,this,0,0),this.skew=new to(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const n=t.worldTransform,r=this.worldTransform;r.a=e.a*n.a+e.b*n.c,r.b=e.a*n.b+e.b*n.d,r.c=e.c*n.a+e.d*n.c,r.d=e.c*n.b+e.d*n.d,r.tx=e.tx*n.a+e.ty*n.c+n.tx,r.ty=e.tx*n.b+e.ty*n.d+n.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};let wf=lB;wf.IDENTITY=new lB;var dAe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,fAe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function m3(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}function fb(t){const e=new Array(t);for(let n=0;n<e.length;n++)e[n]=!1;return e}function uB(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return fb(2*e);case"bvec3":return fb(3*e);case"bvec4":return fb(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const el=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],pAe={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},mAe={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function gAe(t,e){var r;const n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){(r=t.uniforms[i])!=null&&r.group&&(t.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let a=!1;for(let l=0;l<el.length;l++)if(el[l].test(s,o)){n.push(el[l].code(i,o)),a=!0;break}if(!a){const c=(s.size===1&&!s.isArray?pAe:mAe)[s.type].replace("location",`ud["${i}"].location`);n.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${c};`)}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}const cB={};let Xl=cB;function hB(){if(Xl===cB||Xl!=null&&Xl.isContextLost()){const t=we.ADAPTER.createCanvas();let e;we.PREFER_ENV>=ma.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Xl=e}return Xl}let tm;function vAe(){if(!tm){tm=Br.MEDIUM;const t=hB();t&&t.getShaderPrecisionFormat&&(tm=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?Br.HIGH:Br.MEDIUM)}return tm}function g3(t,e){const n=t.getShaderSource(e).split(`
`).map((c,h)=>`${h}: ${c}`),r=t.getShaderInfoLog(e),i=r.split(`
`),s={},o=i.map(c=>parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(c=>c&&!s[c]?(s[c]=!0,!0):!1),a=[""];o.forEach(c=>{n[c-1]=`%c${n[c-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=n.join(`
`);a[0]=l,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function yAe(t,e,n,r){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(n,t.COMPILE_STATUS)||g3(t,n),t.getShaderParameter(r,t.COMPILE_STATUS)||g3(t,r),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const bAe={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function dB(t){return bAe[t]}let nm=null;const v3={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function fB(t,e){if(!nm){const n=Object.keys(v3);nm={};for(let r=0;r<n.length;++r){const i=n[r];nm[t[i]]=v3[i]}}return nm[e]}function y3(t,e,n){if(t.substring(0,9)!=="precision"){let r=e;return e===Br.HIGH&&n!==Br.HIGH&&(r=Br.MEDIUM),`precision ${r} float;
${t}`}else if(n!==Br.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let vh;function pB(){if(typeof vh=="boolean")return vh;try{vh=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{vh=!1}return vh}let xAe=0;const rm={},mu=class{constructor(t,e,n="pixi-shader",r={}){this.extra={},this.id=xAe++,this.vertexSrc=t||mu.defaultVertexSrc,this.fragmentSrc=e||mu.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=r,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),rm[n]?(rm[n]++,n+=`-${rm[n]}`):rm[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=y3(this.vertexSrc,mu.defaultVertexPrecision,Br.HIGH),this.fragmentSrc=y3(this.fragmentSrc,mu.defaultFragmentPrecision,vAe())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return fAe}static get defaultFragmentSrc(){return dAe}static from(t,e,n){const r=t+e;let i=e_[r];return i||(e_[r]=i=new mu(t,e,n)),i}};let mi=mu;mi.defaultVertexPrecision=Br.HIGH;mi.defaultFragmentPrecision=Xi.apple.device?Br.HIGH:Br.MEDIUM;let wAe=0;class bi{constructor(e,n,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=wAe++,this.static=!!n,this.ubo=!!r,e instanceof tn?(this.buffer=e,this.buffer.type=Ji.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new tn(new Float32Array(1)),this.buffer.type=Ji.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,n,r){if(!this.ubo)this.uniforms[e]=new bi(n,r);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,n,r){return new bi(e,n,r)}static uboFrom(e,n){return new bi(e,n??!0,!0)}}class ts{constructor(e,n){this.uniformBindCount=0,this.program=e,n?n instanceof bi?this.uniformGroup=n:this.uniformGroup=new bi(n):this.uniformGroup=new bi({}),this.disposeRunner=new Wr("disposeShader")}checkUniformExists(e,n){if(n.uniforms[e])return!0;for(const r in n.uniforms){const i=n.uniforms[r];if(i.group&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,n,r){const i=mi.from(e,n);return new ts(i,r)}}class mB{constructor(e,n){if(this.vertexSrc=e,this.fragTemplate=n,this.programCache={},this.defaultGroupCache={},!n.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!n.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const r=new Int32Array(e);for(let s=0;s<e;s++)r[s]=s;this.defaultGroupCache[e]=bi.from({uSamplers:r},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new mi(this.vertexSrc,i)}const n={tint:new Float32Array([1,1,1,1]),translationMatrix:new Nt,default:this.defaultGroupCache[e]};return new ts(this.programCache[e],n)}generateSampleSrc(e){let n="";n+=`
`,n+=`
`;for(let r=0;r<e;r++)r>0&&(n+=`
else `),r<e-1&&(n+=`if(vTextureId < ${r}.5)`),n+=`
{`,n+=`
	color = texture2D(uSamplers[${r}], vTextureCoord);`,n+=`
}`;return n+=`
`,n+=`
`,n}}class Vg{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function _Ae(){return!Xi.apple.device}function SAe(t){let e=!0;const n=we.ADAPTER.getNavigator();if(Xi.tablet||Xi.phone){if(Xi.apple.device){const r=n.userAgent.match(/OS (\d+)_(\d+)?/);r&&parseInt(r[1],10)<11&&(e=!1)}if(Xi.android.device){const r=n.userAgent.match(/Android\s([0-9.]*)/);r&&parseInt(r[1],10)<7&&(e=!1)}}return e?t:4}class _f{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var EAe=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,CAe=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const Ui=class extends _f{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=T2,this.vertexSize=6,this.state=Fs.for2d(),this.size=Ui.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??SAe(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??_Ae(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return at("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return CAe}static get defaultFragmentTemplate(){return EAe}setShaderGenerator({vertex:t=Ui.defaultVertexSrc,fragment:e=Ui.defaultFragmentTemplate}={}){this.shaderGenerator=new mB(t,e)}contextChange(){const t=this.renderer.gl;we.PREFER_ENV===ma.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Ui.defaultMaxTextures),this.maxTextures=iB(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=Ui,n=this.size/4,r=Math.floor(n/this.maxTextures)+1;for(;t.length<n;)t.push(new Gg);for(;e.length<r;)e.push(new Vg);for(let i=0;i<this.maxTextures;i++)this._tempBoundTextures[i]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,n=Ui._textureArrayPool,r=this.renderer.batch,i=this._tempBoundTextures,s=this.renderer.textureGC.count;let o=++He._globalBatch,a=0,l=n[0],c=0;r.copyBoundTextures(i,e);for(let h=0;h<this._bufferSize;++h){const f=t[h];t[h]=null,f._batchEnabled!==o&&(l.count>=e&&(r.boundArray(l,i,o,e),this.buildDrawCalls(l,c,h),c=h,l=n[++a],++o),f._batchEnabled=o,f.touched=s,l.elements[l.count++]=f)}l.count>0&&(r.boundArray(l,i,o,e),this.buildDrawCalls(l,c,this._bufferSize),++a,++o);for(let h=0;h<i.length;h++)i[h]=null;He._globalBatch=o}buildDrawCalls(t,e,n){const{_bufferedElements:r,_attributeBuffer:i,_indexBuffer:s,vertexSize:o}=this,a=Ui._drawCallPool;let l=this._dcIndex,c=this._aIndex,h=this._iIndex,f=a[l];f.start=this._iIndex,f.texArray=t;for(let p=e;p<n;++p){const m=r[p],v=m._texture.baseTexture,y=_2[v.alphaMode?1:0][m.blendMode];r[p]=null,e<p&&f.blend!==y&&(f.size=h-f.start,e=p,f=a[++l],f.texArray=t,f.start=h),this.packInterleavedGeometry(m,i,s,c,h),c+=m.vertexData.length/2*o,h+=m.indices.length,f.blend=y}e<n&&(f.size=h-f.start,++l),this._dcIndex=l,this._aIndex=c,this._iIndex=h}bindAndClearTexArray(t){const e=this.renderer.texture;for(let n=0;n<t.count;n++)e.bind(t.elements[n],t.ids[n]),t.elements[n]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:n}=this;Ui.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:n}=this.renderer,r=Ui._drawCallPool;let i=null;for(let s=0;s<t;s++){const{texArray:o,type:a,size:l,start:c,blend:h}=r[s];i!==o&&(i=o,this.bindAndClearTexArray(o)),this.state.blendMode=h,n.set(this.state),e.drawElements(a,l,e.UNSIGNED_SHORT,c*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Ui.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=Fd(Math.ceil(t/8)),n=Jw(e),r=e*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let i=this._aBuffers[r];return i||(this._aBuffers[r]=i=new jg(r*this.vertexSize*4)),i}getIndexBuffer(t){const e=Fd(Math.ceil(t/12)),n=Jw(e),r=e*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let i=this._iBuffers[n];return i||(this._iBuffers[n]=i=new Uint16Array(r)),i}packInterleavedGeometry(t,e,n,r,i){const{uint32View:s,float32View:o}=e,a=r/this.vertexSize,l=t.uvs,c=t.indices,h=t.vertexData,f=t._texture.baseTexture._batchLocation,p=Math.min(t.worldAlpha,1),m=p<1&&t._texture.baseTexture.alphaMode?w0(t._tintRGB,p):t._tintRGB+(p*255<<24);for(let v=0;v<h.length;v+=2)o[r++]=h[v],o[r++]=h[v+1],o[r++]=l[v],o[r++]=l[v+1],s[r++]=m,o[r++]=f;for(let v=0;v<c.length;v++)n[i++]=a+c[v]}};let hi=Ui;hi.defaultBatchSize=4096;hi.extension={name:"batch",type:be.RendererPlugin};hi._drawCallPool=[];hi._textureArrayPool=[];Pe.add(hi);var TAe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,AAe=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const Mh=class extends ts{constructor(t,e,n){const r=mi.from(t||Mh.defaultVertexSrc,e||Mh.defaultFragmentSrc);super(r,n),this.padding=0,this.resolution=Mh.defaultResolution,this.multisample=Mh.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Fs}apply(t,e,n,r,i){t.applyFilter(this,e,n,r)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return AAe}static get defaultFragmentSrc(){return TAe}};let En=Mh;En.defaultResolution=1;En.defaultMultisample=qt.NONE;class A2{constructor(){this.clearBeforeRender=!0,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,1],this._backgroundColorString="#000000",this.color=this._backgroundColor,this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender,e.color&&(this.color=typeof e.color=="string"?x0(e.color):e.color),this.alpha=e.alpha}get color(){return this._backgroundColor}set color(e){this._backgroundColor=e,this._backgroundColorString=w2(e),hl(e,this._backgroundColorRgba)}get alpha(){return this._backgroundColorRgba[3]}set alpha(e){this._backgroundColorRgba[3]=e}get colorRgba(){return this._backgroundColorRgba}get colorString(){return this._backgroundColorString}destroy(){}}A2.extension={type:[be.RendererSystem,be.CanvasRendererSystem],name:"background"};Pe.add(A2);class P2{constructor(e){this.renderer=e,this.emptyRenderer=new _f(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,n){const{boundTextures:r}=this.renderer.texture;for(let i=n-1;i>=0;--i)e[i]=r[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,n,r,i){const{elements:s,ids:o,count:a}=e;let l=0;for(let c=0;c<a;c++){const h=s[c],f=h._batchLocation;if(f>=0&&f<i&&n[f]===h){o[c]=f;continue}for(;l<i;){const p=n[l];if(p&&p._batchEnabled===r&&p._batchLocation===l){l++;continue}o[c]=l,h._batchLocation=l,n[l]=h;break}}}destroy(){this.renderer=null}}P2.extension={type:be.RendererSystem,name:"batch"};Pe.add(P2);let b3=0;class k2{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=b3++}init(e){if(e.context)this.initFromContext(e.context);else{const n=this.renderer.background.alpha<1,r=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:n,premultipliedAlpha:r,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=b3++,this.renderer.runners.contextChange.emit(e);const n=this.renderer.view;n.addEventListener!==void 0&&(n.addEventListener("webglcontextlost",this.handleContextLost,!1),n.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const n=this.createContext(this.renderer.view,e);this.initFromContext(n)}createContext(e,n){let r;if(we.PREFER_ENV>=ma.WEBGL2&&(r=e.getContext("webgl2",n)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=e.getContext("webgl",n)||e.getContext("experimental-webgl",n),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,n={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,n,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,n,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const n=e.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),n&&!n.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}k2.extension={type:be.RendererSystem,name:"context"};Pe.add(k2);class PAe extends Mc{upload(e,n,r){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Ai.UNPACK);const s=n.realWidth,o=n.realHeight;return r.width===s&&r.height===o?i.texSubImage2D(n.target,0,0,0,s,o,n.format,r.type,this.data):(r.width=s,r.height=o,i.texImage2D(n.target,0,r.internalFormat,s,o,0,n.format,r.type,this.data)),!0}}class qg{constructor(e,n){this.width=Math.round(e||100),this.height=Math.round(n||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Wr("disposeFramebuffer"),this.multisample=qt.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,n){return this.colorTextures[e]=n||new He(null,{scaleMode:Cs.NEAREST,resolution:1,mipmap:ss.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new He(new PAe(null,{width:this.width,height:this.height}),{scaleMode:Cs.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:ss.OFF,format:ge.DEPTH_COMPONENT,type:ke.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,n){if(e=Math.round(e),n=Math.round(n),!(e===this.width&&n===this.height)){this.width=e,this.height=n,this.dirtyId++,this.dirtySize++;for(let r=0;r<this.colorTextures.length;r++){const i=this.colorTextures[r],s=i.resolution;i.setSize(e/s,n/s)}if(this.depthTexture){const r=this.depthTexture.resolution;this.depthTexture.setSize(e/r,n/r)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class O2 extends He{constructor(e={}){if(typeof e=="number"){const n=arguments[0],r=arguments[1],i=arguments[2],s=arguments[3];e={width:n,height:r,scaleMode:i,resolution:s}}e.width=e.width||100,e.height=e.height||100,e.multisample??(e.multisample=qt.NONE),super(null,e),this.mipmap=ss.OFF,this.valid=!0,this.clearColor=[0,0,0,0],this.framebuffer=new qg(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}resize(e,n){this.framebuffer.resize(e*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class fo extends lc{constructor(e){const n=e,r=n.naturalWidth||n.videoWidth||n.width,i=n.naturalHeight||n.videoHeight||n.height;super(r,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,n,r){r===void 0&&!n.startsWith("data:")?e.crossOrigin=rB(n):r!==!1&&(e.crossOrigin=typeof r=="string"?r:"anonymous")}upload(e,n,r,i){const s=e.gl,o=n.realWidth,a=n.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1&&i.buffered.length===0)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Ai.UNPACK),!this.noSubImage&&n.target===s.TEXTURE_2D&&r.width===o&&r.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,n.format,r.type,i):(r.width=o,r.height=a,s.texImage2D(n.target,0,r.internalFormat,n.format,r.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,n=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(n,r),super.update()}dispose(){this.source=null}}class I2 extends fo{constructor(e,n){if(n=n||{},typeof e=="string"){const r=new Image;fo.crossOrigin(r,e,n.crossorigin),r.src=e,e=r}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(n.createBitmap??we.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,this.bitmap=null,this._load=null,n.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((n,r)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.resize(i.width,i.height),this._load=null,this.createBitmap?n(this.process()):n(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{r(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const n=globalThis.createImageBitmap,r=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:r?"cors":"no-cors"}).then(i=>i.blob()).then(i=>n(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Ai.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,n,r){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,n,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,n,r,this.bitmap),!this.preserveBitmap){let i=!0;const s=n._glTextures;for(const o in s){const a=s[o];if(a!==r&&a.dirtyId!==n.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class R2{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,n,r){const i=n.width,s=n.height;if(r){const o=e.width/2/i,a=e.height/2/s,l=e.x/i+o,c=e.y/s+a;r=zt.add(r,zt.NW),this.x0=l+o*zt.uX(r),this.y0=c+a*zt.uY(r),r=zt.add(r,2),this.x1=l+o*zt.uX(r),this.y1=c+a*zt.uY(r),r=zt.add(r,2),this.x2=l+o*zt.uX(r),this.y2=c+a*zt.uY(r),r=zt.add(r,2),this.x3=l+o*zt.uX(r),this.y3=c+a*zt.uY(r)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const x3=new R2;function im(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class xe extends na{constructor(e,n,r,i,s,o){if(super(),this.noFrame=!1,n||(this.noFrame=!0,n=new Ve(0,0,1,1)),e instanceof xe&&(e=e.baseTexture),this.baseTexture=e,this._frame=n,this.trim=i,this.valid=!1,this._uvs=x3,this.uvMatrix=null,this.orig=r||n,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new Oe(o.x,o.y):new Oe(0,0),this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=n:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:n}=this.baseTexture;n!=null&&n.url&&Yn[n.url]&&xe.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,xe.removeFromCache(this),this.textureCacheIds=null}clone(){var i;const e=this._frame.clone(),n=this._frame===this.orig?e:this.orig.clone(),r=new xe(this.baseTexture,!this.noFrame&&e,n,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(r._frame=e),r}updateUvs(){this._uvs===x3&&(this._uvs=new R2),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,n={},r=we.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof He){if(!e.cacheId){const a=(n==null?void 0:n.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${ra()}`,He.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(n==null?void 0:n.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${ra()}`}s=e._pixiId}let o=Yn[s];if(i&&r&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof He)?(n.resolution||(n.resolution=co(e)),o=new xe(new He(e,n)),o.baseTexture.cacheId=s,He.addToCache(o.baseTexture,s),xe.addToCache(o,s)):!o&&e instanceof He&&(o=new xe(e),xe.addToCache(o,s)),o}static fromURL(e,n){const r=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),i=xe.from(e,Object.assign({resourceOptions:r},n),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,n,r,i){return new xe(He.fromBuffer(e,n,r,i))}static fromLoader(e,n,r,i){const s=new He(e,Object.assign({scaleMode:He.defaultOptions.scaleMode,resolution:co(n)},i)),{resource:o}=s;o instanceof I2&&(o.url=n);const a=new xe(s);return r||(r=n),He.addToCache(a.baseTexture,r),xe.addToCache(a,r),r!==n&&(He.addToCache(a.baseTexture,n),xe.addToCache(a,n)),a.baseTexture.valid?Promise.resolve(a):new Promise(l=>{a.baseTexture.once("loaded",()=>l(a))})}static addToCache(e,n){n&&(e.textureCacheIds.includes(n)||e.textureCacheIds.push(n),Yn[n]&&Yn[n]!==e&&console.warn(`Texture added to the cache with an id [${n}] that already had an entry`),Yn[n]=e)}static removeFromCache(e){if(typeof e=="string"){const n=Yn[e];if(n){const r=n.textureCacheIds.indexOf(e);return r>-1&&n.textureCacheIds.splice(r,1),delete Yn[e],n}}else if(e!=null&&e.textureCacheIds){for(let n=0;n<e.textureCacheIds.length;++n)Yn[e.textureCacheIds[n]]===e&&delete Yn[e.textureCacheIds[n]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:n,y:r,width:i,height:s}=e,o=n+i>this.baseTexture.width,a=r+s>this.baseTexture.height;if(o||a){const l=o&&a?"and":"or",c=`X: ${n} + ${i} = ${n+i} > ${this.baseTexture.width}`,h=`Y: ${r} + ${s} = ${r+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${c} ${l} ${h}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return xe._EMPTY||(xe._EMPTY=new xe(new He),im(xe._EMPTY),im(xe._EMPTY.baseTexture)),xe._EMPTY}static get WHITE(){if(!xe._WHITE){const e=we.ADAPTER.createCanvas(16,16),n=e.getContext("2d");e.width=16,e.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),xe._WHITE=new xe(He.from(e)),im(xe._WHITE),im(xe._WHITE.baseTexture)}return xe._WHITE}}class po extends xe{constructor(e,n){super(e,n),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,n,r=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(n*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,r&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:n}=this;n.resolution!==e&&(n.setResolution(e),this.resize(n.width,n.height,!1))}static create(e){return new po(new O2(e))}}class M2{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,n,r=qt.NONE){const i=new O2(Object.assign({width:e,height:n,resolution:1,multisample:r},this.textureOptions));return new po(i)}getOptimalTexture(e,n,r=1,i=qt.NONE){let s;e=Math.ceil(e*r-1e-6),n=Math.ceil(n*r-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||n!==this._pixelsHeight?(e=Fd(e),n=Fd(n),s=((e&65535)<<16|n&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,n,i)),o.filterPoolKey=s,o.setResolution(r),o}getFilterTexture(e,n,r){const i=this.getOptimalTexture(e.width,e.height,n||e.resolution,r||qt.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const n=e.filterPoolKey;e.filterFrame=null,this.texturePool[n].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const n in this.texturePool){const r=this.texturePool[n];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const n in this.texturePool){if(!(Number(n)<0))continue;const r=this.texturePool[n];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[n]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}M2.SCREEN_KEY=-1;class gB extends ho{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class F2 extends ho{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new tn(this.vertices),this.uvBuffer=new tn(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,n){let r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+n.width/e.width,this.uvs[3]=i,this.uvs[4]=r+n.width/e.width,this.uvs[5]=i+n.height/e.height,this.uvs[6]=r,this.uvs[7]=i+n.height/e.height,r=n.x,i=n.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+n.width,this.vertices[3]=i,this.vertices[4]=r+n.width,this.vertices[5]=i+n.height,this.vertices[6]=r,this.vertices[7]=i+n.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class vB{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=qt.NONE,this.sourceFrame=new Ve,this.destinationFrame=new Ve,this.bindingSourceFrame=new Ve,this.bindingDestinationFrame=new Ve,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const sm=[new Oe,new Oe,new Oe,new Oe],pb=new Nt;class D2{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new M2,this.statePool=[],this.quad=new gB,this.quadUv=new F2,this.tempRect=new Ve,this.activeState={},this.globalUniforms=new bi({outputFrame:new Ve,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,n){const r=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new vB,o=this.renderer.renderTexture;let a=n[0].resolution,l=n[0].multisample,c=n[0].padding,h=n[0].autoFit,f=n[0].legacy??!0;for(let v=1;v<n.length;v++){const y=n[v];a=Math.min(a,y.resolution),l=Math.min(l,y.multisample),c=this.useMaxPadding?Math.max(c,y.padding):c+y.padding,h=h&&y.autoFit,f=f||(y.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=a,s.multisample=l,s.legacy=f,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(c);const p=this.tempRect.copyFrom(o.sourceFrame);r.projection.transform&&this.transformAABB(pb.copyFrom(r.projection.transform).invert(),p),h?(s.sourceFrame.fit(p),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(p)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:r.resolution,o.sourceFrame,o.destinationFrame,r.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,a,l),s.filters=n,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const m=this.tempRect;m.x=0,m.y=0,m.width=s.sourceFrame.width,m.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=r.projection.transform,r.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,m),r.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,n=e.pop(),r=n.filters;this.activeState=n;const i=this.globalUniforms.uniforms;i.outputFrame=n.sourceFrame,i.resolution=n.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=n.destinationFrame.width,s[1]=n.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*n.resolution),o[1]=Math.round(s[1]*n.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=n.sourceFrame.width*s[2]-.5*o[2],a[3]=n.sourceFrame.height*s[3]-.5*o[3],n.legacy){const c=i.filterArea;c[0]=n.destinationFrame.width,c[1]=n.destinationFrame.height,c[2]=n.sourceFrame.x,c[3]=n.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const l=e[e.length-1];if(this.renderer.framebuffer.blit(),r.length===1)r[0].apply(this,n.renderTexture,l.renderTexture,Gi.BLEND,n),this.returnFilterTexture(n.renderTexture);else{let c=n.renderTexture,h=this.getOptimalFilterTexture(c.width,c.height,n.resolution);h.filterFrame=c.filterFrame;let f=0;for(f=0;f<r.length-1;++f){f===1&&n.multisample>1&&(h=this.getOptimalFilterTexture(c.width,c.height,n.resolution),h.filterFrame=c.filterFrame),r[f].apply(this,c,h,Gi.CLEAR,n);const p=c;c=h,h=p}r[f].apply(this,c,l.renderTexture,Gi.BLEND,n),f>1&&n.multisample>1&&this.returnFilterTexture(n.renderTexture),this.returnFilterTexture(c),this.returnFilterTexture(h)}n.clear(),this.statePool.push(n)}bindAndClear(e,n=Gi.CLEAR){const{renderTexture:r,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e!=null&&e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,r.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(n===Gi.CLEAR||n===Gi.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,n,r,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(r,i),e.uniforms.uSampler=n,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(n._frame,n.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(qi.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(qi.TRIANGLE_STRIP))}calculateSpriteMatrix(e,n){const{sourceFrame:r,destinationFrame:i}=this.activeState,{orig:s}=n._texture,o=e.set(i.width,0,0,i.height,r.x,r.y),a=n.worldTransform.copyTo(Nt.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(n.anchor.x,n.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,n,r=1,i=qt.NONE){return this.texturePool.getOptimalTexture(e,n,r,i)}getFilterTexture(e,n,r){if(typeof e=="number"){const s=e;e=n,n=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,n||e.resolution,r||qt.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,n){const r=sm[0],i=sm[1],s=sm[2],o=sm[3];r.set(n.left,n.top),i.set(n.left,n.bottom),s.set(n.right,n.top),o.set(n.right,n.bottom),e.apply(r,r),e.apply(i,i),e.apply(s,s),e.apply(o,o);const a=Math.min(r.x,i.x,s.x,o.x),l=Math.min(r.y,i.y,s.y,o.y),c=Math.max(r.x,i.x,s.x,o.x),h=Math.max(r.y,i.y,s.y,o.y);n.x=a,n.y=l,n.width=c-a,n.height=h-l}roundFrame(e,n,r,i,s){if(!(e.width<=0||e.height<=0||r.width<=0||r.height<=0)){if(s){const{a:o,b:a,c:l,d:c}=s;if((Math.abs(a)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(c)>1e-4))return}s=s?pb.copyFrom(s):pb.identity(),s.translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(n),this.transformAABB(s.invert(),e)}}}D2.extension={type:be.RendererSystem,name:"filter"};Pe.add(D2);class yB{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=qt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const kAe=new Ve;class L2{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new qg(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Ve,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let n=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;we.PREFER_ENV===ma.WEBGL_LEGACY&&(n=null,r=null),n?e.drawBuffers=i=>n.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,n,r=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==r&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=r),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,r)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),n){const o=n.width>>r,a=n.height>>r,l=o/n.width;this.setViewport(n.x*l,n.y*l,o,a)}else{const o=e.width>>r,a=e.height>>r;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),n?this.setViewport(n.x,n.y,n.width,n.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,n,r,i){const s=this.viewport;e=Math.round(e),n=Math.round(n),r=Math.round(r),i=Math.round(i),(s.width!==r||s.height!==i||s.x!==e||s.y!==n)&&(s.x=e,s.y=n,s.width=r,s.height=i,this.gl.viewport(e,n,r,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,n,r,i,s=$g.COLOR|$g.DEPTH){const{gl:o}=this;o.clearColor(e,n,r,i),o.clear(s)}initFramebuffer(e){const{gl:n}=this,r=new yB(n.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r}resizeFramebuffer(e){const{gl:n}=this,r=e.glFramebuffers[this.CONTEXT_UID];r.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,r.stencil),r.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height));const i=e.colorTextures;let s=i.length;n.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],l=a.parentTextureArray||a;this.renderer.texture.bind(l,0),o===0&&r.msaaBuffer&&(n.bindRenderbuffer(n.RENDERBUFFER,r.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,n){const{gl:r}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;r.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||r.createRenderbuffer():i.msaaBuffer&&(r.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let l=0;l<o;l++){const c=s[l],h=c.parentTextureArray||c;this.renderer.texture.bind(h,0),l===0&&i.msaaBuffer?(r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,h._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,i.msaaBuffer)):(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+l,c.target,h._glTextures[this.CONTEXT_UID].texture,n),a.push(r.COLOR_ATTACHMENT0+l))}if(a.length>1&&r.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const c=e.depthTexture;this.renderer.texture.bind(c,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,c._glTextures[this.CONTEXT_UID].texture,n)}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.stencil),i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,i.stencil)):i.stencil&&(r.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:n}=this;let r=qt.NONE;if(e<=1||n===null)return r;for(let i=0;i<n.length;i++)if(n[i]<=e){r=n[i];break}return r===1&&(r=qt.NONE),r}blit(e,n,r){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const l=i.glFramebuffers[a];if(!l)return;if(!e){if(!l.msaaBuffer)return;const h=i.colorTextures[0];if(!h)return;l.blitFramebuffer||(l.blitFramebuffer=new qg(i.width,i.height),l.blitFramebuffer.addColorTexture(0,h)),e=l.blitFramebuffer,e.colorTextures[0]!==h&&(e.colorTextures[0]=h,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}n||(n=kAe,n.width=i.width,n.height=i.height),r||(r=n);const c=n.width===r.width&&n.height===r.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,l.framebuffer),o.blitFramebuffer(n.left,n.top,n.right,n.bottom,r.left,r.top,r.right,r.bottom,o.COLOR_BUFFER_BIT,c?o.NEAREST:o.LINEAR)}disposeFramebuffer(e,n){const r=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!r)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),n||(i.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&i.deleteRenderbuffer(r.msaaBuffer),r.stencil&&i.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&r.blitFramebuffer.dispose()}disposeAll(e){const n=this.managedFramebuffers;this.managedFramebuffers=[];for(let r=0;r<n.length;r++)this.disposeFramebuffer(n[r],e)}forceStencil(){const e=this.current;if(!e)return;const n=e.glFramebuffers[this.CONTEXT_UID];if(!n||n.stencil)return;e.stencil=!0;const r=e.width,i=e.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),n.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,n.multisample,s.DEPTH24_STENCIL8,r,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,r,i),n.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Ve}destroy(){this.renderer=null}}L2.extension={type:be.RendererSystem,name:"framebuffer"};Pe.add(L2);const mb={5126:4,5123:2,5121:1};class B2{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,n=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,n.webGLVersion!==2){let r=this.renderer.context.extensions.vertexArrayObject;we.PREFER_ENV===ma.WEBGL_LEGACY&&(r=null),r?(e.createVertexArray=()=>r.createVertexArrayOES(),e.bindVertexArray=i=>r.bindVertexArrayOES(i),e.deleteVertexArray=i=>r.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(n.webGLVersion!==2){const r=e.getExtension("ANGLE_instanced_arrays");r?(e.vertexAttribDivisor=(i,s)=>r.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,a,l)=>r.drawElementsInstancedANGLE(i,s,o,a,l),e.drawArraysInstanced=(i,s,o,a)=>r.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=n.webGLVersion===2||!!n.extensions.uint32ElementIndex}bind(e,n){n=n||this.renderer.shader.shader;const{gl:r}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[n.program.id]||this.initGeometryVao(e,n,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?r.bindVertexArray(o):this.activateVao(e,n.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,n=this.renderer.buffer;for(let r=0;r<e.buffers.length;r++){const i=e.buffers[r];n.update(i)}}checkCompatibility(e,n){const r=e.attributes,i=n.attributeData;for(const s in i)if(!r[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,n){const r=e.attributes,i=n.attributeData,s=["g",e.id];for(const o in r)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,n,r=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=n.program;a.glPrograms[s]||this.renderer.shader.generateProgram(n),this.checkCompatibility(e,a);const l=this.getSignature(e,a),c=e.glVertexArrayObjects[this.CONTEXT_UID];let h=c[l];if(h)return c[a.id]=h,h;const f=e.buffers,p=e.attributes,m={},v={};for(const y in f)m[y]=0,v[y]=0;for(const y in p)!p[y].size&&a.attributeData[y]?p[y].size=a.attributeData[y].size:p[y].size||console.warn(`PIXI Geometry attribute '${y}' size cannot be determined (likely the bound shader does not have the attribute)`),m[p[y].buffer]+=p[y].size*mb[p[y].type];for(const y in p){const x=p[y],b=x.size;x.stride===void 0&&(m[x.buffer]===b*mb[x.type]?x.stride=0:x.stride=m[x.buffer]),x.start===void 0&&(x.start=v[x.buffer],v[x.buffer]+=b*mb[x.type])}h=i.createVertexArray(),i.bindVertexArray(h);for(let y=0;y<f.length;y++){const x=f[y];o.bind(x),r&&x._glBuffers[s].refCount++}return this.activateVao(e,a),c[a.id]=h,c[l]=h,i.bindVertexArray(null),o.unbind(Ji.ARRAY_BUFFER),h}disposeGeometry(e,n){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const r=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!r){if(o)for(let l=0;l<s.length;l++){const c=s[l]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!n&&o.dispose(s[l],n))}if(!n){for(const l in r)if(l[0]==="g"){const c=r[l];this._activeVao===c&&this.unbind(),i.deleteVertexArray(c)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const n=Object.keys(this.managedGeometries);for(let r=0;r<n.length;r++)this.disposeGeometry(this.managedGeometries[n[r]],e)}activateVao(e,n){const r=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let l=null;for(const c in a){const h=a[c],f=o[h.buffer],p=f._glBuffers[i];if(n.attributeData[c]){l!==p&&(s.bind(f),l=p);const m=n.attributeData[c].location;if(r.enableVertexAttribArray(m),r.vertexAttribPointer(m,h.size,h.type||r.FLOAT,h.normalized,h.stride,h.start),h.instance)if(this.hasInstance)r.vertexAttribDivisor(m,h.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,n,r,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,l=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,n||o.indexBuffer.data.length,l,(r||0)*a,i||1):s.drawElements(e,n||o.indexBuffer.data.length,l,(r||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,r,n||o.getSize(),i||1):s.drawArrays(e,r,n||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}B2.extension={type:be.RendererSystem,name:"geometry"};Pe.add(B2);const w3=new Nt;class E0{constructor(e,n){this._texture=e,this.mapCoord=new Nt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof n>"u"?.5:n,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,n){n===void 0&&(n=e);const r=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];n[i]=s*r.a+o*r.c+r.tx,n[i+1]=s*r.b+o*r.d+r.ty}return n}update(e){const n=this._texture;if(!n||!n.valid||!e&&this._textureID===n._updateID)return!1;this._textureID=n._updateID,this._updateID++;const r=n._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const i=n.orig,s=n.trim;s&&(w3.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(w3));const o=n.baseTexture,a=this.uClampFrame,l=this.clampMargin/o.resolution,c=this.clampOffset;return a[0]=(n._frame.x+l+c)/o.width,a[1]=(n._frame.y+l+c)/o.height,a[2]=(n._frame.x+n._frame.width-l+c)/o.width,a[3]=(n._frame.y+n._frame.height-l+c)/o.height,this.uClampOffset[0]=c/o.realWidth,this.uClampOffset[1]=c/o.realHeight,this.isSimple=n._frame.width===o.width&&n._frame.height===o.height&&n.rotate===0,!0}}var OAe=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,IAe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class bB extends En{constructor(e,n,r){let i=null;typeof e!="string"&&n===void 0&&r===void 0&&(i=e,e=void 0,n=void 0,r=void 0),super(e||IAe,n||OAe,r),this.maskSprite=i,this.maskMatrix=new Nt}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,n,r,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new E0(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,n,r,i))}}class xB{constructor(e=null){this.type=ln.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=En.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=ln.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class N2{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,n){let r=n;if(!r.isMaskData){const s=this.maskDataPool.pop()||new xB;s.pooled=!0,s.maskObject=n,r=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(i),r._colorMask=i?i._colorMask:15,r.autoDetect&&this.detect(r),r._target=e,r.type!==ln.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case ln.SCISSOR:this.renderer.scissor.push(r);break;case ln.STENCIL:this.renderer.stencil.push(r);break;case ln.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case ln.COLOR:this.pushColorMask(r);break}r.type===ln.SPRITE&&this.maskStack.push(r)}pop(e){const n=this.maskStack.pop();if(!(!n||n._target!==e)){if(n.enabled)switch(n.type){case ln.SCISSOR:this.renderer.scissor.pop(n);break;case ln.STENCIL:this.renderer.stencil.pop(n.maskObject);break;case ln.SPRITE:this.popSpriteMask(n);break;case ln.COLOR:this.popColorMask(n);break}if(n.reset(),n.pooled&&this.maskDataPool.push(n),this.maskStack.length!==0){const r=this.maskStack[this.maskStack.length-1];r.type===ln.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}}detect(e){const n=e.maskObject;n?n.isSprite?e.type=ln.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=ln.SCISSOR:e.type=ln.STENCIL:e.type=ln.COLOR}pushSpriteMask(e){const{maskObject:n}=e,r=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new bB]));const s=this.renderer,o=s.renderTexture;let a,l;if(o.current){const h=o.current;a=e.resolution||h.resolution,l=e.multisample??h.multisample}else a=e.resolution||s.resolution,l=e.multisample??s.multisample;i[0].resolution=a,i[0].multisample=l,i[0].maskSprite=n;const c=r.filterArea;r.filterArea=n.getBounds(!0),s.filter.push(r,i),r.filterArea=c,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const n=e._colorMask,r=e._colorMask=n&e.colorMask;r!==n&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}popColorMask(e){const n=e._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==n&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}destroy(){this.renderer=null}}N2.extension={type:be.RendererSystem,name:"mask"};Pe.add(N2);class wB{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:n}=this.renderer,r=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==r&&(i===0?n.disable(this.glConst):(n.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const _3=new Nt,S3=[],Nm=class extends wB{constructor(t){super(t),this.glConst=we.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:n}=t,{renderer:r}=this,i=r.renderTexture,s=n.getBounds(!0,S3.pop()??new Ve);this.roundFrameToPixels(s,i.current?i.current.resolution:r.resolution,i.sourceFrame,i.destinationFrame,r.projection.transform),e&&s.fit(e),t._scissorRectLocal=s}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:n,c:r,d:i}=t;return(Math.abs(n)>1e-4||Math.abs(r)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||Nm.isMatrixRotated(e.worldTransform)||Nm.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const n=t._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(t,e,n,r,i){Nm.isMatrixRotated(i)||(i=i?_3.copyFrom(i):_3.identity(),i.translate(-n.x,-n.y).scale(r.width/n.width,r.height/n.height).translate(r.x,r.y),this.renderer.filter.transformAABB(i,t),t.fit(r),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&S3.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};let $2=Nm;$2.extension={type:be.RendererSystem,name:"scissor"};Pe.add($2);class U2 extends wB{constructor(e){super(e),this.glConst=we.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const n=e.maskObject,{gl:r}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,i,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,s!==0&&(e._colorMask=s,r.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const n=this.renderer.gl;if(this.getStackLength()===0)n.disable(n.STENCIL_TEST);else{const r=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=r?r._colorMask:15;i!==0&&(r._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilOp(n.KEEP,n.KEEP,n.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(r._colorMask=i,n.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}U2.extension={type:be.RendererSystem,name:"stencil"};Pe.add(U2);class z2{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return at("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return at("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return at("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(e){for(const n in e)this.plugins[n]=new e[n](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}z2.extension={type:[be.RendererSystem,be.CanvasRendererSystem],name:"_plugin"};Pe.add(z2);class H2{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Nt,this.transform=null}update(e,n,r,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=n||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,n,r,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/n.width*2,s.d=o*(1/n.height*2),s.tx=-1-n.x*s.a,s.ty=-o-n.y*s.d}setTransform(e){}destroy(){this.renderer=null}}H2.extension={type:be.RendererSystem,name:"projection"};Pe.add(H2);const RAe=new wf;class j2{constructor(e){this.renderer=e,this._tempMatrix=new Nt}generateTexture(e,n){const{region:r,...i}=n||{},s=r||e.getLocalBounds(null,!0);s.width===0&&(s.width=1),s.height===0&&(s.height=1);const o=po.create({width:s.width,height:s.height,...i});this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const a=e.transform;return e.transform=RAe,this.renderer.render(e,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=a,o}destroy(){}}j2.extension={type:[be.RendererSystem,be.CanvasRendererSystem],name:"textureGenerator"};Pe.add(j2);const ka=new Ve,yh=new Ve;class W2{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Ve,this.destinationFrame=new Ve,this.viewportFrame=new Ve}bind(e=null,n,r){const i=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,n||(ka.width=e.frame.width,ka.height=e.frame.height,n=ka),r||(yh.x=e.frame.x,yh.y=e.frame.y,yh.width=n.width,yh.height=n.height,r=yh),o=s.framebuffer):(a=i.resolution,n||(ka.width=i._view.screen.width,ka.height=i._view.screen.height,n=ka),r||(r=ka,r.width=n.width,r.height=n.height));const l=this.viewportFrame;l.x=r.x*a,l.y=r.y*a,l.width=r.width*a,l.height=r.height*a,e||(l.y=i.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(o,l),this.renderer.projection.update(r,n,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(n),this.destinationFrame.copyFrom(r)}clear(e,n){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.renderer.background.colorRgba;const r=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer._view.screen,s=r.width!==i.width||r.height!==i.height;if(s){let{x:o,y:a,width:l,height:c}=this.viewportFrame;o=Math.round(o),a=Math.round(a),l=Math.round(l),c=Math.round(c),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(o,a,l,c)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],n),s&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}W2.extension={type:be.RendererSystem,name:"renderTexture"};Pe.add(W2);class MAe{}class _B{constructor(e,n){this.program=e,this.uniformData=n,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function FAe(t,e){const n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=fB(e,s.type),a={type:o,name:s.name,size:dB(o),location:e.getAttribLocation(t,s.name)};n[s.name]=a}return n}function DAe(t,e){const n={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),l=fB(e,s.type);n[o]={name:o,index:i,type:l,size:s.size,isArray:a,value:uB(l,s.size)}}return n}function SB(t,e){var l;const n=m3(t,t.VERTEX_SHADER,e.vertexSrc),r=m3(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,n),t.attachShader(i,r);const s=(l=e.extra)==null?void 0:l.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||yAe(t,i,n,r),e.attributeData=FAe(i,t),e.uniformData=DAe(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const c=Object.keys(e.attributeData);c.sort((h,f)=>h>f?1:-1);for(let h=0;h<c.length;h++)e.attributeData[c[h]].location=h,t.bindAttribLocation(i,h,c[h]);t.linkProgram(i)}t.deleteShader(n),t.deleteShader(r);const o={};for(const c in e.uniformData){const h=e.uniformData[c];o[c]={location:t.getUniformLocation(i,c),value:uB(h.type,h.size)}}return new _B(i,o)}function LAe(t,e,n,r,i){n.buffer.update(i)}const BAe={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},EB={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function CB(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let n=0,r=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(n=EB[o.data.type],o.data.size>1&&(n=Math.max(n,16)*o.data.size),o.dataLen=n,r%n!==0&&r<16){const a=r%n%16;r+=a,i+=a}r+n>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=n,r=n):(o.offset=i,r+=n,i+=n)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function TB(t,e){const n=[];for(const r in t)e[r]&&n.push(e[r]);return n.sort((r,i)=>r.index-i.index),n}function AB(t,e){if(!t.autoManage)return{size:0,syncFunc:LAe};const n=TB(t.uniforms,e),{uboElements:r,size:i}=CB(n),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<r.length;o++){const a=r[o],l=t.uniforms[a.data.name],c=a.data.name;let h=!1;for(let f=0;f<el.length;f++){const p=el[f];if(p.codeUbo&&p.test(a.data,l)){s.push(`offset = ${a.offset/4};`,el[f].codeUbo(a.data.name,l)),h=!0;break}}if(!h)if(a.data.size>1){const f=dB(a.data.type),p=Math.max(EB[a.data.type]/16,1),m=f/p,v=(4-m%4)%4;s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*p}; i++)
                {
                    for(var j = 0; j < ${m}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${v};
                }

                `)}else{const f=BAe[a.data.type];s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${a.offset/4};
                ${f};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let NAe=0;const om={textureCount:0,uboCount:0};class G2{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=NAe++}systemCheck(){if(!pB())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,n){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const r=e.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),n||(om.textureCount=0,om.uboCount=0,this.syncUniformGroup(e.uniformGroup,om)),i}setUniforms(e){const n=this.shader.program,r=n.glPrograms[this.renderer.CONTEXT_UID];n.syncUniforms(r.uniformData,e,this.renderer)}syncUniformGroup(e,n){const r=this.getGlProgram();(!e.static||e.dirtyId!==r.uniformDirtyGroups[e.id])&&(r.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,n))}syncUniforms(e,n,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(n.uniformData,e.uniforms,this.renderer,r)}createSyncGroups(e){const n=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[n]||(this.cache[n]=gAe(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[n],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,n){const r=this.getGlProgram();if(!e.static||e.dirtyId!==0||!r.uniformGroups[e.id]){e.dirtyId=0;const i=r.uniformGroups[e.id]||this.createSyncBufferGroup(e,r,n);e.buffer.update(),i(r.uniformData,e.uniforms,this.renderer,om,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,r.uniformBufferBindings[n])}createSyncBufferGroup(e,n,r){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(n.program,r);n.uniformBufferBindings[r]=this.shader.uniformBindCount,i.uniformBlockBinding(n.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=AB(e,this.shader.program.uniformData)),e.autoManage){const l=new Float32Array(a.size/4);e.buffer.update(l)}return n.uniformGroups[e.id]=a.syncFunc,n.uniformGroups[e.id]}getSignature(e,n,r){const i=e.uniforms,s=[`${r}-`];for(const o in i)s.push(o),n[o]&&s.push(n[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const n=this.gl,r=e.program,i=SB(n,r);return r.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}G2.extension={type:be.RendererSystem,name:"shader"};Pe.add(G2);class V2{constructor(e){this.renderer=e}run(e){const n=this.renderer;n.emitWithCustomOptions(n.runners.init,e),e.hello&&console.log(`PixiJS 7.1.4 - ${n.rendererLogId} - https://pixijs.com`),n.resize(this.renderer.screen.width,this.renderer.screen.height)}destroy(){}}V2.extension={type:[be.RendererSystem,be.CanvasRendererSystem],name:"startup"};Pe.add(V2);function $Ae(t,e=[]){return e[Me.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.ADD]=[t.ONE,t.ONE],e[Me.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.NONE]=[0,0],e[Me.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[Me.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Me.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[Me.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[Me.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Me.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[Me.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[Me.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[Me.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[Me.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Me.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const UAe=0,zAe=1,HAe=2,jAe=3,WAe=4,GAe=5,i_=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Me.NONE,this._blendEq=!1,this.map=[],this.map[UAe]=this.setBlend,this.map[zAe]=this.setOffset,this.map[HAe]=this.setCullFace,this.map[jAe]=this.setDepthTest,this.map[WAe]=this.setFrontFace,this.map[GAe]=this.setDepthMask,this.checks=[],this.defaultState=new Fs,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=$Ae(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,n=0;for(;e;)e&1&&this.map[n].call(this,!!(t.data&1<<n)),e=e>>1,n++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(i_.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(i_.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],n=this.gl;e.length===2?n.blendFunc(e[0],e[1]):n.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,n.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const n=this.checks.indexOf(t);e&&n===-1?this.checks.push(t):!e&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let q2=i_;q2.extension={type:be.RendererSystem,name:"state"};Pe.add(q2);class PB extends na{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const n=(e.priority??[]).filter(i=>e.systems[i]),r=[...n,...Object.keys(e.systems).filter(i=>!n.includes(i))];for(const i of r)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(n=>{this.runners[n]=new Wr(n)})}addSystem(e,n){const r=new e(this);if(this[n])throw new Error(`Whoops! The name "${n}" is already in use`);this[n]=r,this._systemsHash[n]=r;for(const i in this.runners)this.runners[i].add(r);return this}emitWithCustomOptions(e,n){const r=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=r.find(o=>this._systemsHash[o]===i);i[e.name](n[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const $m=class{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=$m.defaultMaxIdle,this.checkCountMax=$m.defaultCheckCountMax,this.mode=$m.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==g0.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let n=!1;for(let r=0;r<e.length;r++){const i=e[r];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[r]=null,n=!0)}if(n){let r=0;for(let i=0;i<e.length;i++)e[i]!==null&&(e[r++]=e[i]);e.length=r}}unload(t){const e=this.renderer.texture,n=t._texture;n&&!n.framebuffer&&e.destroyTexture(n);for(let r=t.children.length-1;r>=0;r--)this.unload(t.children[r])}destroy(){this.renderer=null}};let di=$m;di.defaultMode=g0.AUTO;di.defaultMaxIdle=60*60;di.defaultCheckCountMax=60*10;di.extension={type:be.RendererSystem,name:"textureGC"};Pe.add(di);class Um{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=ke.UNSIGNED_BYTE,this.internalFormat=ge.RGBA,this.samplerType=0}}function VAe(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[ke.UNSIGNED_BYTE]:{[ge.RGBA]:t.RGBA8,[ge.RGB]:t.RGB8,[ge.RG]:t.RG8,[ge.RED]:t.R8,[ge.RGBA_INTEGER]:t.RGBA8UI,[ge.RGB_INTEGER]:t.RGB8UI,[ge.RG_INTEGER]:t.RG8UI,[ge.RED_INTEGER]:t.R8UI,[ge.ALPHA]:t.ALPHA,[ge.LUMINANCE]:t.LUMINANCE,[ge.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ke.BYTE]:{[ge.RGBA]:t.RGBA8_SNORM,[ge.RGB]:t.RGB8_SNORM,[ge.RG]:t.RG8_SNORM,[ge.RED]:t.R8_SNORM,[ge.RGBA_INTEGER]:t.RGBA8I,[ge.RGB_INTEGER]:t.RGB8I,[ge.RG_INTEGER]:t.RG8I,[ge.RED_INTEGER]:t.R8I},[ke.UNSIGNED_SHORT]:{[ge.RGBA_INTEGER]:t.RGBA16UI,[ge.RGB_INTEGER]:t.RGB16UI,[ge.RG_INTEGER]:t.RG16UI,[ge.RED_INTEGER]:t.R16UI,[ge.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[ke.SHORT]:{[ge.RGBA_INTEGER]:t.RGBA16I,[ge.RGB_INTEGER]:t.RGB16I,[ge.RG_INTEGER]:t.RG16I,[ge.RED_INTEGER]:t.R16I},[ke.UNSIGNED_INT]:{[ge.RGBA_INTEGER]:t.RGBA32UI,[ge.RGB_INTEGER]:t.RGB32UI,[ge.RG_INTEGER]:t.RG32UI,[ge.RED_INTEGER]:t.R32UI,[ge.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[ke.INT]:{[ge.RGBA_INTEGER]:t.RGBA32I,[ge.RGB_INTEGER]:t.RGB32I,[ge.RG_INTEGER]:t.RG32I,[ge.RED_INTEGER]:t.R32I},[ke.FLOAT]:{[ge.RGBA]:t.RGBA32F,[ge.RGB]:t.RGB32F,[ge.RG]:t.RG32F,[ge.RED]:t.R32F,[ge.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[ke.HALF_FLOAT]:{[ge.RGBA]:t.RGBA16F,[ge.RGB]:t.RGB16F,[ge.RG]:t.RG16F,[ge.RED]:t.R16F},[ke.UNSIGNED_SHORT_5_6_5]:{[ge.RGB]:t.RGB565},[ke.UNSIGNED_SHORT_4_4_4_4]:{[ge.RGBA]:t.RGBA4},[ke.UNSIGNED_SHORT_5_5_5_1]:{[ge.RGBA]:t.RGB5_A1},[ke.UNSIGNED_INT_2_10_10_10_REV]:{[ge.RGBA]:t.RGB10_A2,[ge.RGBA_INTEGER]:t.RGB10_A2UI},[ke.UNSIGNED_INT_10F_11F_11F_REV]:{[ge.RGB]:t.R11F_G11F_B10F},[ke.UNSIGNED_INT_5_9_9_9_REV]:{[ge.RGB]:t.RGB9_E5},[ke.UNSIGNED_INT_24_8]:{[ge.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[ke.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[ge.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[ke.UNSIGNED_BYTE]:{[ge.RGBA]:t.RGBA,[ge.RGB]:t.RGB,[ge.ALPHA]:t.ALPHA,[ge.LUMINANCE]:t.LUMINANCE,[ge.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ke.UNSIGNED_SHORT_5_6_5]:{[ge.RGB]:t.RGB},[ke.UNSIGNED_SHORT_4_4_4_4]:{[ge.RGBA]:t.RGBA},[ke.UNSIGNED_SHORT_5_5_5_1]:{[ge.RGBA]:t.RGBA}},e}class X2{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new He,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=VAe(e);const n=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=n;for(let i=0;i<n;i++)this.boundTextures[i]=null;this.emptyTextures={};const r=new Um(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Um(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,n=0){const{gl:r}=this;if(e=e==null?void 0:e.castToBaseTexture(),e!=null&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[n]!==e&&(this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),r.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[n]=e}else this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[n]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:n,boundTextures:r}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<r.length;i++)r[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<r.length;i++)r[i]===e&&(this.currentLocation!==i&&(n.activeTexture(n.TEXTURE0+i),this.currentLocation=i),n.bindTexture(e.target,this.emptyTextures[e.target].texture),r[i]=null)}ensureSamplerType(e){const{boundTextures:n,hasIntegerTextures:r,CONTEXT_UID:i}=this;if(r)for(let s=e-1;s>=0;--s){const o=n[s];o&&o._glTextures[i].samplerType!==Ug.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const n=new Um(this.gl.createTexture());return n.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=n,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),n}initTextureType(e,n){var r;n.internalFormat=((r=this.internalFormats[e.type])==null?void 0:r[e.format])??e.format,this.webGLVersion===2&&e.type===ke.HALF_FLOAT?n.type=this.gl.HALF_FLOAT:n.type=e.type}updateTexture(e){var i;const n=e._glTextures[this.CONTEXT_UID];if(!n)return;const r=this.renderer;if(this.initTextureType(e,n),(i=e.resource)!=null&&i.upload(r,e,n))n.samplerType!==Ug.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=r.gl;(n.width!==s||n.height!==o||n.dirtyId<0)&&(n.width=s,n.height=o,a.texImage2D(e.target,0,n.internalFormat,s,o,0,e.format,n.type,null))}e.dirtyStyleId!==n.dirtyStyleId&&this.updateTextureStyle(e),n.dirtyId=e.dirtyId}destroyTexture(e,n){const{gl:r}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!n)){const i=this.managedTextures.indexOf(e);i!==-1&&Qa(this.managedTextures,i,1)}}updateTextureStyle(e){var r;const n=e._glTextures[this.CONTEXT_UID];n&&((e.mipmap===ss.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?n.mipmap=!1:n.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?n.wrapMode=ks.CLAMP:n.wrapMode=e.wrapMode,(r=e.resource)!=null&&r.style(this.renderer,e,n)||this.setStyle(e,n),n.dirtyStyleId=e.dirtyStyleId)}setStyle(e,n){const r=this.gl;if(n.mipmap&&e.mipmap!==ss.ON_MANUAL&&r.generateMipmap(e.target),r.texParameteri(e.target,r.TEXTURE_WRAP_S,n.wrapMode),r.texParameteri(e.target,r.TEXTURE_WRAP_T,n.wrapMode),n.mipmap){r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===Cs.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===Cs.LINEAR){const s=Math.min(e.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===Cs.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(e.target,r.TEXTURE_MAG_FILTER,e.scaleMode===Cs.LINEAR?r.LINEAR:r.NEAREST)}destroy(){this.renderer=null}}X2.extension={type:be.RendererSystem,name:"texture"};Pe.add(X2);class Y2{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glTransformFeedbacks[r]||this.createGLTransformFeedback(e);n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,n){const{gl:r,renderer:i}=this;n&&i.shader.bind(n),r.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:n,renderer:r,CONTEXT_UID:i}=this,s=n.createTransformFeedback();e._glTransformFeedbacks[i]=s,n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(r.buffer.update(a),a._glBuffers[i].refCount++,n.bindBufferBase(n.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,n){const r=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const l=a._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!n&&s.dispose(a,n))}r&&(n||i.deleteTransformFeedback(r),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}Y2.extension={type:be.RendererSystem,name:"transformFeedback"};Pe.add(Y2);class K2{constructor(e){this.renderer=e}init(e){this.screen=new Ve(0,0,e.width,e.height),this.element=e.view||we.ADAPTER.createCanvas(),this.resolution=e.resolution||we.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,n){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(n*this.resolution);const r=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=r,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${r}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",r,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var n;e&&((n=this.element.parentNode)==null||n.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}K2.extension={type:[be.RendererSystem,be.CanvasRendererSystem],name:"_view"};Pe.add(K2);we.PREFER_ENV=ma.WEBGL2;we.STRICT_TEXTURE_CACHE=!1;Object.defineProperties(we,{WRAP_MODE:{get(){return He.defaultOptions.wrapMode},set(t){at("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),He.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return He.defaultOptions.scaleMode},set(t){at("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),He.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return He.defaultOptions.mipmap},set(t){at("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),He.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return He.defaultOptions.anisotropicLevel},set(t){at("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),He.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return at("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),En.defaultResolution},set(t){En.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return at("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),En.defaultMultisample},set(t){En.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return hi.defaultMaxTextures},set(t){at("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),hi.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return hi.defaultBatchSize},set(t){at("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),hi.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return hi.canUploadSameBuffer},set(t){at("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),hi.canUploadSameBuffer=t}},GC_MODE:{get(){return di.defaultMode},set(t){at("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),di.defaultMode=t}},GC_MAX_IDLE:{get(){return di.defaultMaxIdle},set(t){at("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),di.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return di.defaultCheckCountMax},set(t){at("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),di.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return mi.defaultVertexPrecision},set(t){at("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),mi.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return mi.defaultFragmentPrecision},set(t){at("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),mi.defaultFragmentPrecision=t}}});var ia=(t=>(t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(ia||{});class gb{constructor(e,n=null,r=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=n,this.priority=r,this.once=i}match(e,n=null){return this.fn===e&&this.context===n}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const n=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),n}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const n=this.next;return this.next=e?null:n,this.previous=null,n}}const Or=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new gb(null,null,1/0),this.deltaMS=1/Or.targetFPMS,this.elapsedMS=1/Or.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,n=ia.NORMAL){return this._addListener(new gb(t,e,n))}addOnce(t,e,n=ia.NORMAL){return this._addListener(new gb(t,e,n,!0))}_addListener(t){let e=this._head.next,n=this._head;if(!e)t.connect(n);else{for(;e;){if(t.priority>e.priority){t.connect(n);break}n=e,e=e.next}t.previous||t.connect(n)}return this._startIfPossible(),this}remove(t,e){let n=this._head.next;for(;n;)n.match(t,e)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*Or.targetFPMS;const n=this._head;let r=n.next;for(;r;)r=r.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,e)/1e3,Or.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!Or._shared){const t=Or._shared=new Or;t.autoStart=!0,t._protected=!0}return Or._shared}static get system(){if(!Or._system){const t=Or._system=new Or;t.autoStart=!0,t._protected=!0}return Or._system}};let dn=Or;dn.targetFPMS=.06;Object.defineProperties(we,{TARGET_FPMS:{get(){return dn.targetFPMS},set(t){at("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),dn.targetFPMS=t}}});class Z2{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,ia.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?dn.shared:new dn,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}Z2.extension=be.Application;Pe.add(Z2);const kB=[];Pe.handleByList(be.Renderer,kB);function OB(t){for(const e of kB)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var qAe=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,XAe=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const IB=qAe,Q2=XAe;class J2{constructor(e){this.renderer=e}contextChange(e){let n;if(this.renderer.context.webGLVersion===1){const r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else{const r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r)}n>=qt.HIGH?this.multisample=qt.HIGH:n>=qt.MEDIUM?this.multisample=qt.MEDIUM:n>=qt.LOW?this.multisample=qt.LOW:this.multisample=qt.NONE}destroy(){}}J2.extension={type:be.RendererSystem,name:"_multisample"};Pe.add(J2);class YAe{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class eC{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);n.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:n}=this;n.bindBuffer(e,null)}bindBufferBase(e,n){const{gl:r,CONTEXT_UID:i}=this;if(this.boundBufferBases[n]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[n]=e,r.bindBufferBase(r.UNIFORM_BUFFER,n,s.buffer)}}bindBufferRange(e,n,r){const{gl:i,CONTEXT_UID:s}=this;r=r||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,n||0,o.buffer,r*256,256)}update(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,n.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)n.bufferSubData(e.type,0,e.data);else{const s=e.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,n.bufferData(e.type,e.data,s)}}dispose(e,n){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const r=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),r&&(n||i.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const n=Object.keys(this.managedBuffers);for(let r=0;r<n.length;r++)this.dispose(this.managedBuffers[n[r]],e)}createGLBuffer(e){const{CONTEXT_UID:n,gl:r}=this;return e._glBuffers[n]=new YAe(r.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[n]}}eC.extension={type:be.RendererSystem,name:"buffer"};Pe.add(eC);class tC{constructor(e){this.renderer=e}render(e,n){const r=this.renderer;let i,s,o,a;if(n&&(i=n.renderTexture,s=n.clear,o=n.transform,a=n.skipUpdateTransform),this.renderingToScreen=!i,r.runners.prerender.emit(),r.emit("prerender"),r.projection.transform=o,!r.context.isLost){if(i||(this.lastObjectRendered=e),!a){const l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}r.renderTexture.bind(i),r.batch.currentRenderer.start(),(s??r.background.clearBeforeRender)&&r.renderTexture.clear(),e.render(r),r.batch.currentRenderer.flush(),i&&(n.blit&&r.framebuffer.blit(),i.baseTexture.update()),r.runners.postrender.emit(),r.projection.transform=null,r.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}tC.extension={type:be.RendererSystem,name:"objectRenderer"};Pe.add(tC);const s_=class extends PB{constructor(t){super(),this.type=x2.WEBGL,t=Object.assign({},we.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new bi({projectionMatrix:new Nt},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:s_.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(at("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha);const n={hello:t.hello,_plugin:s_.__plugins,background:{alpha:t.backgroundAlpha,color:t.background??t.backgroundColor,clearBeforeRender:t.clearBeforeRender},_view:{height:t.height,width:t.width,autoDensity:t.autoDensity,resolution:t.resolution,view:t.view},context:{antialias:t.antialias,context:t.context,powerPreference:t.powerPreference,premultipliedAlpha:t.premultipliedAlpha,preserveDrawingBuffer:t.preserveDrawingBuffer}};this.options=t,this.startup.run(n)}static test(t){return t!=null&&t.forceCanvas?!1:KL()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return at("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return at("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return at("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return at("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){at("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return at("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.color}set backgroundAlpha(t){at("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return at("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};let El=s_;El.extension={type:be.Renderer,priority:1};El.__plugins={};El.__systems={};Pe.handleByMap(be.RendererPlugin,El.__plugins);Pe.handleByMap(be.RendererSystem,El.__systems);Pe.add(El);class nC extends lc{constructor(e,n){const{width:r,height:i}=n||{};super(r,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new He;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,n){for(let r=0;r<this.length;r++)e[r]&&(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof lc?this.addResourceAt(e[r],r):this.addResourceAt(C2(e[r],n),r))}dispose(){for(let e=0,n=this.length;e<n;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,n){if(!this.items[n])throw new Error(`Index ${n} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[n].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let n=0;n<this.length;n++)this.items[n].parentTextureArray=e,this.items[n].on("update",e.update,e)}unbind(e){super.unbind(e);for(let n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",e.update,e)}load(){if(this._load)return this._load;const n=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(n).then(()=>{const{realWidth:r,realHeight:i}=this.items[0];return this.resize(r,i),Promise.resolve(this)}),this._load}}class RB extends nC{constructor(e,n){const{width:r,height:i}=n||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:r,height:i}),s&&this.initFromArray(s,n)}addBaseTextureAt(e,n){if(e.resource)this.addResourceAt(e.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=Za.TEXTURE_2D_ARRAY}upload(e,n,r){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=e;r.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,i,0,n.format,r.type,null);for(let l=0;l<i;l++){const c=o[l];s[l]<c.dirtyId&&(s[l]=c.dirtyId,c.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,l,c.resource.width,c.resource.height,1,n.format,r.type,c.resource.source))}return!0}}class MB extends fo{constructor(e){super(e)}static test(e){const{OffscreenCanvas:n}=globalThis;return n&&e instanceof n?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const Fh=class extends nC{constructor(t,e){const{width:n,height:r,autoLoad:i,linkBaseTexture:s}=e||{};if(t&&t.length!==Fh.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:n,height:r});for(let o=0;o<Fh.SIDES;o++)this.items[o].target=Za.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=s!==!1,t&&this.initFromArray(t,e),i!==!1&&this.load()}bind(t){super.bind(t),t.target=Za.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=Za.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,n){const r=this.itemDirtyIds;for(let i=0;i<Fh.SIDES;i++){const s=this.items[i];(r[i]<s.dirtyId||n.dirtyId<e.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(t,s,n),r[i]=s.dirtyId):r[i]<-1&&(t.gl.texImage2D(s.target,0,n.internalFormat,e.realWidth,e.realHeight,0,e.format,n.type,null),r[i]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===Fh.SIDES}};let rC=Fh;rC.SIDES=6;class Wa extends fo{constructor(e,n){n=n||{};let r,i;typeof e=="string"?(r=Wa.EMPTY,i=e):(r=e,i=null),super(r),this.url=i,this.crossOrigin=n.crossOrigin??!0,this.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,this._load=null,n.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,n)=>{if(this.url===null){e(this);return}try{const r=await we.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await r.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Ai.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),e(this)}catch(r){if(this.destroyed)return;n(r),this.onError.emit(r)}}),this._load)}upload(e,n,r){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),super.upload(e,n,r)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return Wa._EMPTY=Wa._EMPTY??we.ADAPTER.createCanvas(0,0),Wa._EMPTY}}const zm=class extends fo{constructor(t,e){e=e||{},super(we.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),t(this)},zm.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;fo.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,n=t.height;if(!e||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let r=e*this.scale,i=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(r=this._overrideWidth||this._overrideHeight/n*e,i=this._overrideHeight||this._overrideWidth/e*n),r=Math.round(r),i=Math.round(i);const s=this.source;s.width=r,s.height=i,s._pixiId=`canvas_${ra()}`,s.getContext("2d").drawImage(t,0,0,e,n,0,0,r,i),this._resolve(),this._resolve=null}}static getSize(t){const e=zm.SVG_SIZE.exec(t),n={};return e&&(n[e[1]]=Math.round(parseFloat(e[3])),n[e[5]]=Math.round(parseFloat(e[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&zm.SVG_XML.test(t)}};let hc=zm;hc.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;hc.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const o_=class extends fo{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const n=document.createElement("video");n.setAttribute("preload","auto"),n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);const r=t[0].src||t[0];fo.crossOrigin(n,r,e.crossorigin);for(let i=0;i<t.length;++i){const s=document.createElement("source");let{src:o,mime:a}=t[i];o=o||t[i];const l=o.split("?").shift().toLowerCase(),c=l.slice(l.lastIndexOf(".")+1);a=a||o_.MIME_TYPES[c]||`video/${c}`,s.src=o,s.type=a,n.appendChild(s)}t=n}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){const e=dn.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(dn.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(dn.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._isConnectedToTicker&&(dn.shared.remove(this.update,this),this._isConnectedToTicker=!1);const t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(dn.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(dn.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t)}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||o_.TYPES.includes(e)}};let C0=o_;C0.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];C0.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};Wg.push(Wa,I2,MB,C0,hc,Mc,rC,RB);class KAe{constructor(){this._glTransformFeedbacks={},this.buffers=[],this.disposeRunner=new Wr("disposeTransformFeedback")}bindBuffer(e,n){this.buffers[e]=n}destroy(){this.disposeRunner.emit(this,!1)}}const ZAe="7.1.4";class Bd{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Ve.EMPTY:(e=e||new Ve(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,n){const{a:r,b:i,c:s,d:o,tx:a,ty:l}=e,c=r*n.x+s*n.y+a,h=i*n.x+o*n.y+l;this.minX=Math.min(this.minX,c),this.maxX=Math.max(this.maxX,c),this.minY=Math.min(this.minY,h),this.maxY=Math.max(this.maxY,h)}addQuad(e){let n=this.minX,r=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,this.minX=n,this.minY=r,this.maxX=i,this.maxY=s}addFrame(e,n,r,i,s){this.addFrameMatrix(e.worldTransform,n,r,i,s)}addFrameMatrix(e,n,r,i,s){const o=e.a,a=e.b,l=e.c,c=e.d,h=e.tx,f=e.ty;let p=this.minX,m=this.minY,v=this.maxX,y=this.maxY,x=o*n+l*r+h,b=a*n+c*r+f;p=x<p?x:p,m=b<m?b:m,v=x>v?x:v,y=b>y?b:y,x=o*i+l*r+h,b=a*i+c*r+f,p=x<p?x:p,m=b<m?b:m,v=x>v?x:v,y=b>y?b:y,x=o*n+l*s+h,b=a*n+c*s+f,p=x<p?x:p,m=b<m?b:m,v=x>v?x:v,y=b>y?b:y,x=o*i+l*s+h,b=a*i+c*s+f,p=x<p?x:p,m=b<m?b:m,v=x>v?x:v,y=b>y?b:y,this.minX=p,this.minY=m,this.maxX=v,this.maxY=y}addVertexData(e,n,r){let i=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let l=n;l<r;l+=2){const c=e[l],h=e[l+1];i=c<i?c:i,s=h<s?h:s,o=c>o?c:o,a=h>a?h:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,n,r,i){this.addVerticesMatrix(e.worldTransform,n,r,i)}addVerticesMatrix(e,n,r,i,s=0,o=s){const a=e.a,l=e.b,c=e.c,h=e.d,f=e.tx,p=e.ty;let m=this.minX,v=this.minY,y=this.maxX,x=this.maxY;for(let b=r;b<i;b+=2){const S=n[b],w=n[b+1],E=a*S+c*w+f,O=h*w+l*S+p;m=Math.min(m,E-s),y=Math.max(y,E+s),v=Math.min(v,O-o),x=Math.max(x,O+o)}this.minX=m,this.minY=v,this.maxX=y,this.maxY=x}addBounds(e){const n=this.minX,r=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<n?e.minX:n,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,n){const r=e.minX>n.minX?e.minX:n.minX,i=e.minY>n.minY?e.minY:n.minY,s=e.maxX<n.maxX?e.maxX:n.maxX,o=e.maxY<n.maxY?e.maxY:n.maxY;if(r<=s&&i<=o){const a=this.minX,l=this.minY,c=this.maxX,h=this.maxY;this.minX=r<a?r:a,this.minY=i<l?i:l,this.maxX=s>c?s:c,this.maxY=o>h?o:h}}addBoundsMatrix(e,n){this.addFrameMatrix(n,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,n){const r=e.minX>n.x?e.minX:n.x,i=e.minY>n.y?e.minY:n.y,s=e.maxX<n.x+n.width?e.maxX:n.x+n.width,o=e.maxY<n.y+n.height?e.maxY:n.y+n.height;if(r<=s&&i<=o){const a=this.minX,l=this.minY,c=this.maxX,h=this.maxY;this.minX=r<a?r:a,this.minY=i<l?i:l,this.maxX=s>c?s:c,this.maxY=o>h?o:h}}pad(e=0,n=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=n,this.maxY+=n)}addFramePad(e,n,r,i,s,o){e-=s,n-=o,r+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<n?this.minY:n,this.maxY=this.maxY>i?this.maxY:i}}class Wt extends na{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new wf,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Bd,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const n=Object.keys(e);for(let r=0;r<n.length;++r){const i=n[r];Object.defineProperty(Wt.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,n){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new Ve),n=this._boundsRect),this._bounds.getRectangle(n)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new Ve),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Bd);const n=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=r,this.transform=n,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,n,r=!1){return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,n)}toLocal(e,n,r,i){return n&&(e=n.toGlobal(e,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,n=0,r=1,i=1,s=0,o=0,a=0,l=0,c=0){return this.position.x=e,this.position.y=n,this.scale.x=r||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=l,this.pivot.y=c,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new FB),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*sB}set angle(e){this.transform.rotation=e*oB}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1))}if(this._mask=e,this._mask){const n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++)}}}}class FB extends Wt{constructor(){super(...arguments),this.sortDirty=null}}Wt.prototype.displayObjectUpdateTransform=Wt.prototype.updateTransform;const QAe=new Nt;function JAe(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const a_=class extends Wt{constructor(){super(),this.children=[],this.sortableChildren=a_.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const n=this.getChildIndex(t),r=this.getChildIndex(e);this.children[n]=e,this.children[r]=t,this.onChildrenChange(n<r?n:r)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(t);Qa(this.children,n,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],n=this.children.indexOf(e);if(n===-1)return null;e.parent=null,e.transform._parentID=-1,Qa(this.children,n,1),this._boundsID++,this.onChildrenChange(n),e.emit("removed",this),this.emit("childRemoved",e,this,n)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,Qa(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const n=t,r=e,i=r-n;let s;if(i>0&&i<=r){s=this.children.splice(n,i);for(let o=0;o<s.length;++o)s[o].parent=null,s[o].transform&&(s[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let o=0;o<s.length;++o)s[o].emit("removed",this),this.emit("childRemoved",s[o],this,o);return s}else if(i===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,n=this.children.length;e<n;++e){const r=this.children[e];r._lastSortedIndex=e,!t&&r.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(JAe),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const n=this.children[t];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const n=e._mask.isMaskData?e._mask.maskObject:e._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(e._bounds,n._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const n=super.getLocalBounds(t);if(!e)for(let r=0,i=this.children.length;r<i;++r){const s=this.children[r];s.visible&&s.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let n,r;this.cullArea?(n=this.cullArea,r=this.worldTransform):this._render!==a_.prototype._render&&(n=this.getBounds(!0));const i=t.projection.transform;if(i&&(r?(r=QAe.copyFrom(r),r.prepend(i)):r=i),n&&e.intersects(n,r))this._render(t);else if(this.cullArea)return;for(let s=0,o=this.children.length;s<o;++s){const a=this.children[s],l=a.cullable;a.cullable=l||!this.cullArea,a.render(t),a.cullable=l}}render(t){var e;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(e=this.filters)!=null&&e.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let n=0,r=this.children.length;n<r;++n)this.children[n].render(t)}}renderAdvanced(t){var i,s,o;const e=this.filters,n=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let a=0;a<e.length;a++)e[a].enabled&&this._enabledFilters.push(e[a])}const r=e&&((i=this._enabledFilters)==null?void 0:i.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==ln.NONE));if(r&&t.batch.flush(),e&&((s=this._enabledFilters)!=null&&s.length)&&t.filter.push(this,this._enabledFilters),n&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let a=0,l=this.children.length;a<l;++a)this.children[a].render(t)}r&&t.batch.flush(),n&&t.mask.pop(this),e&&((o=this._enabledFilters)!=null&&o.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t==null?void 0:t.children,n=this.removeChildren(0,this.children.length);if(e)for(let r=0;r<n.length;++r)n[r].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};let er=a_;er.defaultSortableChildren=!1;er.prototype.containerUpdateTransform=er.prototype.updateTransform;Object.defineProperties(we,{SORTABLE_CHILDREN:{get(){return er.defaultSortableChildren},set(t){at("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),er.defaultSortableChildren=t}}});const bh=new Oe,ePe=new Uint16Array([0,1,2,0,2,3]);class ga extends er{constructor(e){super(),this._anchor=new to(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=Me.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||xe.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=ePe,this.pluginName="batch",this.isSprite=!0,this._roundPixels=we.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=ja(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=ja(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const n=this.transform.worldTransform,r=n.a,i=n.b,s=n.c,o=n.d,a=n.tx,l=n.ty,c=this.vertexData,h=e.trim,f=e.orig,p=this._anchor;let m=0,v=0,y=0,x=0;if(h?(v=h.x-p._x*f.width,m=v+h.width,x=h.y-p._y*f.height,y=x+h.height):(v=-p._x*f.width,m=v+f.width,x=-p._y*f.height,y=x+f.height),c[0]=r*v+s*x+a,c[1]=o*x+i*v+l,c[2]=r*m+s*x+a,c[3]=o*x+i*m+l,c[4]=r*m+s*y+a,c[5]=o*y+i*m+l,c[6]=r*v+s*y+a,c[7]=o*y+i*v+l,this._roundPixels){const b=we.RESOLUTION;for(let S=0;S<c.length;++S)c[S]=Math.round(c[S]*b)/b}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,n=this.vertexTrimmedData,r=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,l=s.c,c=s.d,h=s.tx,f=s.ty,p=-i._x*r.width,m=p+r.width,v=-i._y*r.height,y=v+r.height;n[0]=o*p+l*v+h,n[1]=c*v+a*p+f,n[2]=o*m+l*v+h,n[3]=c*v+a*m+f,n[4]=o*m+l*y+h,n[5]=c*y+a*m+f,n[6]=o*p+l*y+h,n[7]=c*y+a*p+f}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,n=this._texture.orig;!e||e.width===n.width&&e.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new Bd),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ve),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,bh);const n=this._texture.orig.width,r=this._texture.orig.height,i=-n*this.anchor.x;let s=0;return bh.x>=i&&bh.x<i+n&&(s=-r*this.anchor.y,bh.y>=s&&bh.y<s+r)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,n){const r=e instanceof xe?e:xe.from(e,n);return new ga(r)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const n=ja(this.scale.x)||1;this.scale.x=n*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const n=ja(this.scale.y)||1;this.scale.y=n*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tint}set tint(e){this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16)}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||xe.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const DB=new Nt;Wt.prototype._cacheAsBitmap=!1;Wt.prototype._cacheData=null;Wt.prototype._cacheAsBitmapResolution=null;Wt.prototype._cacheAsBitmapMultisample=null;class tPe{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Wt.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new tPe),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});Wt.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};Wt.prototype._initCachedDisplayObject=function(e){var p,m;if((p=this._cacheData)!=null&&p.sprite)return;const n=this.alpha;this.alpha=1,e.batch.flush();const r=this.getLocalBounds(null,!0).clone();if((m=this.filters)!=null&&m.length){const v=this.filters[0].padding;r.pad(v)}r.ceil(we.RESOLUTION);const i=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),o=e.renderTexture.destinationFrame.clone(),a=e.projection.transform,l=po.create({width:r.width,height:r.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:this.cacheAsBitmapMultisample??e.multisample}),c=`cacheAsBitmap_${ra()}`;this._cacheData.textureCacheId=c,He.addToCache(l.baseTexture,c),xe.addToCache(l,c);const h=this.transform.localTransform.copyTo(DB).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:l,clear:!0,transform:h,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=a,e.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;const f=new ga(l);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-(r.x/r.width),f.anchor.y=-(r.y/r.height),f.alpha=n,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=f.containsPoint.bind(f)};Wt.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};Wt.prototype._initCachedDisplayObjectCanvas=function(e){var h;if((h=this._cacheData)!=null&&h.sprite)return;const n=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;const i=e.canvasContext.activeContext,s=e._projTransform;n.ceil(we.RESOLUTION);const o=po.create({width:n.width,height:n.height}),a=`cacheAsBitmap_${ra()}`;this._cacheData.textureCacheId=a,He.addToCache(o.baseTexture,a),xe.addToCache(o,a);const l=DB;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=n.x,l.ty-=n.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:l,skipUpdateTransform:!1}),e.canvasContext.activeContext=i,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const c=new ga(o);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(n.x/n.width),c.anchor.y=-(n.y/n.height),c.alpha=r,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=c.containsPoint.bind(c)};Wt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Wt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Wt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,He.removeFromCache(this._cacheData.textureCacheId),xe.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Wt.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};Wt.prototype.name=null;er.prototype.getChildByName=function(e,n){for(let r=0,i=this.children.length;r<i;r++)if(this.children[r].name===e)return this.children[r];if(n)for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r];if(!s.getChildByName)continue;const o=s.getChildByName(e,!0);if(o)return o}return null};Wt.prototype.getGlobalPosition=function(e=new Oe,n=!1){return this.parent?this.parent.toGlobal(this.position,e,n):(e.x=this.position.x,e.y=this.position.y),e};var nPe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class LB extends En{constructor(e=1){super(IB,nPe,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const rPe={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},iPe=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function sPe(t){const e=rPe[t],n=e.length;let r=iPe,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let l=s.replace("%index%",a.toString());o=a,a>=n&&(o=t-a-1),l=l.replace("%value%",e[o].toString()),i+=l,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",t.toString()),r}const oPe=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function aPe(t,e){const n=Math.ceil(t/2);let r=oPe,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(n-1)}.0`),i+=a,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",t.toString()),r}class Xg extends En{constructor(e,n=8,r=4,i=En.defaultResolution,s=5){const o=aPe(s,e),a=sPe(s);super(o,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=r,this.blur=n}apply(e,n,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/n.width):this.uniforms.strength=1/r.height*(r.height/n.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/n.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,n,r,i);else{const s=e.getFilterTexture(),o=e.renderer;let a=n,l=s;this.state.blend=!1,e.applyFilter(this,a,l,Gi.CLEAR);for(let c=1;c<this.passes-1;c++){e.bindAndClear(a,Gi.BLIT),this.uniforms.uSampler=l;const h=l;l=a,a=h,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,l,r,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class BB extends En{constructor(e=8,n=4,r=En.defaultResolution,i=5){super(),this.blurXFilter=new Xg(!0,e,n,r,i),this.blurYFilter=new Xg(!1,e,n,r,i),this.resolution=r,this.quality=n,this.blur=e,this.repeatEdgePixels=!1}apply(e,n,r,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,n,a,Gi.CLEAR),this.blurYFilter.apply(e,a,r,i),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,n,r,i):this.blurXFilter.apply(e,n,r,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var lPe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class Yg extends En{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(Q2,lPe,e),this.alpha=1}_loadMatrix(e,n=!1){let r=e;n&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r}_multiply(e,n,r){return e[0]=n[0]*r[0]+n[1]*r[5]+n[2]*r[10]+n[3]*r[15],e[1]=n[0]*r[1]+n[1]*r[6]+n[2]*r[11]+n[3]*r[16],e[2]=n[0]*r[2]+n[1]*r[7]+n[2]*r[12]+n[3]*r[17],e[3]=n[0]*r[3]+n[1]*r[8]+n[2]*r[13]+n[3]*r[18],e[4]=n[0]*r[4]+n[1]*r[9]+n[2]*r[14]+n[3]*r[19]+n[4],e[5]=n[5]*r[0]+n[6]*r[5]+n[7]*r[10]+n[8]*r[15],e[6]=n[5]*r[1]+n[6]*r[6]+n[7]*r[11]+n[8]*r[16],e[7]=n[5]*r[2]+n[6]*r[7]+n[7]*r[12]+n[8]*r[17],e[8]=n[5]*r[3]+n[6]*r[8]+n[7]*r[13]+n[8]*r[18],e[9]=n[5]*r[4]+n[6]*r[9]+n[7]*r[14]+n[8]*r[19]+n[9],e[10]=n[10]*r[0]+n[11]*r[5]+n[12]*r[10]+n[13]*r[15],e[11]=n[10]*r[1]+n[11]*r[6]+n[12]*r[11]+n[13]*r[16],e[12]=n[10]*r[2]+n[11]*r[7]+n[12]*r[12]+n[13]*r[17],e[13]=n[10]*r[3]+n[11]*r[8]+n[12]*r[13]+n[13]*r[18],e[14]=n[10]*r[4]+n[11]*r[9]+n[12]*r[14]+n[13]*r[19]+n[14],e[15]=n[15]*r[0]+n[16]*r[5]+n[17]*r[10]+n[18]*r[15],e[16]=n[15]*r[1]+n[16]*r[6]+n[17]*r[11]+n[18]*r[16],e[17]=n[15]*r[2]+n[16]*r[7]+n[17]*r[12]+n[18]*r[17],e[18]=n[15]*r[3]+n[16]*r[8]+n[17]*r[13]+n[18]*r[18],e[19]=n[15]*r[4]+n[16]*r[9]+n[17]*r[14]+n[18]*r[19]+n[19],e}_colorMatrix(e){const n=new Float32Array(e);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n}brightness(e,n){const r=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(r,n)}tint(e,n){const r=e>>16&255,i=e>>8&255,s=e&255,o=[r/255,0,0,0,0,0,i/255,0,0,0,0,0,s/255,0,0,0,0,0,1,0];this._loadMatrix(o,n)}greyscale(e,n){const r=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(r,n)}blackAndWhite(e){const n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,e)}hue(e,n){e=(e||0)/180*Math.PI;const r=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),l=r+(1-r)*o,c=o*(1-r)-a*i,h=o*(1-r)+a*i,f=o*(1-r)+a*i,p=r+o*(1-r),m=o*(1-r)-a*i,v=o*(1-r)-a*i,y=o*(1-r)+a*i,x=r+o*(1-r),b=[l,c,h,0,0,f,p,m,0,0,v,y,x,0,0,0,0,0,1,0];this._loadMatrix(b,n)}contrast(e,n){const r=(e||0)+1,i=-.5*(r-1),s=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(s,n)}saturate(e=0,n){const r=e*2/3+1,i=(r-1)*-.5,s=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(s,n)}desaturate(){this.saturate(-1)}negative(e){const n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,e)}sepia(e){const n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,e)}technicolor(e){const n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,e)}polaroid(e){const n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,e)}toBGR(e){const n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,e)}kodachrome(e){const n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,e)}browni(e){const n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,e)}vintage(e){const n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,e)}colorTone(e,n,r,i,s){e=e||.2,n=n||.15,r=r||16770432,i=i||3375104;const o=(r>>16&255)/255,a=(r>>8&255)/255,l=(r&255)/255,c=(i>>16&255)/255,h=(i>>8&255)/255,f=(i&255)/255,p=[.3,.59,.11,0,0,o,a,l,e,0,c,h,f,n,0,o-c,a-h,l-f,0,0];this._loadMatrix(p,s)}night(e,n){e=e||.1;const r=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(r,n)}predator(e,n){const r=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(r,n)}lsd(e){const n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}Yg.prototype.grayscale=Yg.prototype.greyscale;var uPe=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,cPe=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class NB extends En{constructor(e,n){const r=new Nt;e.renderable=!1,super(cPe,uPe,{mapSampler:e._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=r,n==null&&(n=20),this.scale=new Oe(n,n)}apply(e,n,r,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,n,r,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var hPe=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,dPe=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class $B extends En{constructor(){super(dPe,hPe)}}var fPe=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class UB extends En{constructor(e=.5,n=Math.random()){super(Q2,fPe,{uNoise:0,uSeed:0}),this.noise=e,this.seed=n}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const l_={AlphaFilter:LB,BlurFilter:BB,BlurFilterPass:Xg,ColorMatrixFilter:Yg,DisplacementFilter:NB,FXAAFilter:$B,NoiseFilter:UB};Object.entries(l_).forEach(([t,e])=>{Object.defineProperty(l_,t,{get(){return at("7.1.0",`filters.${t} has moved to ${t}`),e}})});class Fc{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Fc.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Oe,this.page=new Oe,this.AT_TARGET=1,this.BUBBLING_PHASE=2,this.CAPTURING_PHASE=3,this.NONE=0,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,n,r){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,n,r,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class Nd extends Fc{constructor(){super(...arguments),this.client=new Oe,this.movement=new Oe,this.offset=new Oe,this.global=new Oe,this.screen=new Oe}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,n,r,i,s,o,a,l,c,h,f,p,m,v,y){throw new Error("Method not implemented.")}}class oi extends Nd{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class dl extends Nd{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}dl.DOM_DELTA_PIXEL=0;dl.DOM_DELTA_LINE=1;dl.DOM_DELTA_PAGE=2;const pPe=2048,mPe=new Oe,vb=new Oe;class zB{constructor(e){this.dispatch=new na,this.moveOnAll=!1,this.mappingState={trackingData:{}},this.eventPool=new Map,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,n){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:n,priority:0}),this.mappingTable[e].sort((r,i)=>r.priority-i.priority)}dispatchEvent(e,n){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,n),this.dispatch.emit(n||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const n=this.mappingTable[e.type];if(n)for(let r=0,i=n.length;r<i;r++)n[r].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,n){const r=this.hitTestRecursive(this.rootTarget,this.rootTarget.interactive,mPe.set(e,n),this.hitTestFn,this.hitPruneFn);return r&&r[0]}propagate(e,n){if(!e.target)return;const r=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=r.length-1;i<s;i++)if(e.currentTarget=r[i],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,n),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=r.length-2;i>=0;i--)if(e.currentTarget=r[i],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,n,r=this.rootTarget){e.eventPhase=e.BUBBLING_PHASE;const i=r.children;if(i)for(let s=0;s<i.length;s++)this.all(e,n,i[s]);e.currentTarget=r,this.notifyTarget(e,n)}propagationPath(e){const n=[e];for(let r=0;r<pPe&&e!==this.rootTarget;r++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");n.push(e.parent),e=e.parent}return n.reverse(),n}hitTestRecursive(e,n,r,i,s){if(!e||!e.visible||s(e,r))return null;if(e.interactiveChildren&&e.children){const o=e.children;for(let a=o.length-1;a>=0;a--){const l=o[a],c=this.hitTestRecursive(l,n||l.interactive,r,i,s);if(c){if(c.length>0&&!c[c.length-1].parent)continue;return(c.length>0||e.interactive)&&c.push(e),c}}}return n&&i(e,r)?e.interactive?[e]:[]:null}hitPruneFn(e,n){var r;if(e.hitArea&&(e.worldTransform.applyInverse(n,vb),!e.hitArea.contains(vb.x,vb.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((r=i.containsPoint)!=null&&r.call(i,n)))return!0}return!1}hitTestFn(e,n){return e.hitArea?!0:e.containsPoint?e.containsPoint(n):!1}notifyTarget(e,n){var s,o;n=n??e.type;const r=`on${n}`;(o=(s=e.currentTarget)[r])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${n}capture`:n;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,n)}mapPointerDown(e){if(!(e instanceof oi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerdown"),n.pointerType==="touch")this.dispatchEvent(n,"touchstart");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const i=n.button===2;this.dispatchEvent(n,i?"rightdown":"mousedown")}const r=this.trackingData(e.pointerId);r.pressTargetsByButton[e.button]=n.composedPath(),this.freeEvent(n)}mapPointerMove(e){var a,l;if(!(e instanceof oi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.createPointerEvent(e),r=n.pointerType==="mouse"||n.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((a=i.overTargets)==null?void 0:a.length)>0&&s!==n.target){const c=e.type==="mousemove"?"mouseout":"pointerout",h=this.createPointerEvent(e,c,s);if(this.dispatchEvent(h,"pointerout"),r&&this.dispatchEvent(h,"mouseout"),!n.composedPath().includes(s)){const f=this.createPointerEvent(e,"pointerleave",s);for(f.eventPhase=f.AT_TARGET;f.target&&!n.composedPath().includes(f.target);)f.currentTarget=f.target,this.notifyTarget(f),r&&this.notifyTarget(f,"mouseleave"),f.target=f.target.parent;this.freeEvent(f)}this.freeEvent(h)}if(s!==n.target){const c=e.type==="mousemove"?"mouseover":"pointerover",h=this.clonePointerEvent(n,c);this.dispatchEvent(h,"pointerover"),r&&this.dispatchEvent(h,"mouseover");let f=s==null?void 0:s.parent;for(;f&&f!==this.rootTarget.parent&&f!==n.target;)f=f.parent;if(!f||f===this.rootTarget.parent){const m=this.clonePointerEvent(n,"pointerenter");for(m.eventPhase=m.AT_TARGET;m.target&&m.target!==s&&m.target!==this.rootTarget.parent;)m.currentTarget=m.target,this.notifyTarget(m),r&&this.notifyTarget(m,"mouseenter"),m.target=m.target.parent;this.freeEvent(m)}this.freeEvent(h)}const o=this.moveOnAll?"all":"dispatchEvent";this[o](n,"pointermove"),this.all(n,"globalpointermove"),n.pointerType==="touch"&&(this[o](n,"touchmove"),this.all(n,"globaltouchmove")),r&&(this[o](n,"mousemove"),this.all(n,"globalmousemove"),this.cursor=(l=n.target)==null?void 0:l.cursor),i.overTargets=n.composedPath(),this.freeEvent(n)}mapPointerOver(e){var o;if(!(e instanceof oi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId),r=this.createPointerEvent(e),i=r.pointerType==="mouse"||r.pointerType==="pen";this.dispatchEvent(r,"pointerover"),i&&this.dispatchEvent(r,"mouseover"),r.pointerType==="mouse"&&(this.cursor=(o=r.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(r,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;n.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof oi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId);if(n.overTargets){const r=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(n.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),r&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),r&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;n.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof oi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=performance.now(),r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerup"),r.pointerType==="touch")this.dispatchEvent(r,"touchend");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const a=r.button===2;this.dispatchEvent(r,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!r.composedPath().includes(s)){let a=s;for(;a&&!r.composedPath().includes(a);){if(r.currentTarget=a,this.notifyTarget(r,"pointerupoutside"),r.pointerType==="touch")this.notifyTarget(r,"touchendoutside");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const l=r.button===2;this.notifyTarget(r,l?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(r,"click");a.target=o,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:n});const l=i.clicksByButton[e.button];if(l.target===a.target&&n-l.timeStamp<200?++l.clickCount:l.clickCount=1,l.target=a.target,l.timeStamp=n,a.detail=l.clickCount,a.pointerType==="mouse"){const c=a.button===2;this.dispatchEvent(a,c?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(r)}mapPointerUpOutside(e){if(!(e instanceof oi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId),r=this.findMountedTarget(n.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(r){let s=r;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete n.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof dl)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const n=this.createWheelEvent(e);this.dispatchEvent(n),this.freeEvent(n)}findMountedTarget(e){if(!e)return null;let n=e[0];for(let r=1;r<e.length&&e[r].parent===n;r++)n=e[r];return n}createPointerEvent(e,n,r){const i=this.allocateEvent(oi);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=r??this.hitTest(i.global.x,i.global.y),typeof n=="string"&&(i.type=n),i}createWheelEvent(e){const n=this.allocateEvent(dl);return this.copyWheelData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.nativeEvent=e.nativeEvent,n.originalEvent=e,n.target=this.hitTest(n.global.x,n.global.y),n}clonePointerEvent(e,n){const r=this.allocateEvent(oi);return r.nativeEvent=e.nativeEvent,r.originalEvent=e.originalEvent,this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.target=e.target,r.path=e.composedPath().slice(),r.type=n??r.type,r}copyWheelData(e,n){n.deltaMode=e.deltaMode,n.deltaX=e.deltaX,n.deltaY=e.deltaY,n.deltaZ=e.deltaZ}copyPointerData(e,n){e instanceof oi&&n instanceof oi&&(n.pointerId=e.pointerId,n.width=e.width,n.height=e.height,n.isPrimary=e.isPrimary,n.pointerType=e.pointerType,n.pressure=e.pressure,n.tangentialPressure=e.tangentialPressure,n.tiltX=e.tiltX,n.tiltY=e.tiltY,n.twist=e.twist)}copyMouseData(e,n){e instanceof Nd&&n instanceof Nd&&(n.altKey=e.altKey,n.button=e.button,n.buttons=e.buttons,n.client.copyFrom(e.client),n.ctrlKey=e.ctrlKey,n.metaKey=e.metaKey,n.movement.copyFrom(e.movement),n.screen.copyFrom(e.screen),n.global.copyFrom(e.global))}copyData(e,n){n.isTrusted=e.isTrusted,n.srcElement=e.srcElement,n.timeStamp=performance.now(),n.type=e.type,n.detail=e.detail,n.view=e.view,n.which=e.which,n.layer.copyFrom(e.layer),n.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const n=this.eventPool.get(e).pop()||new e(this);return n.eventPhase=n.NONE,n.currentTarget=null,n.path=null,n.target=null,n}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const n=e.constructor;this.eventPool.has(n)||this.eventPool.set(n,[]),this.eventPool.get(n).push(e)}notifyListeners(e,n){const r=e.currentTarget._events[n];if(r)if("fn"in r)r.once&&e.currentTarget.removeListener(n,r.fn,void 0,!0),r.fn.call(r.context,e);else for(let i=0,s=r.length;i<s&&!e.propagationImmediatelyStopped;i++)r[i].once&&e.currentTarget.removeListener(n,r[i].fn,void 0,!0),r[i].fn.call(r[i].context,e)}}const gPe=1,vPe={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"};class iC{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new zB(null),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new oi(null),this.rootWheelEvent=new dl(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}init(){const{view:e,resolution:n}=this.renderer;this.setTargetElement(e),this.resolution=n}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let n=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(n=!1),this.currentCursor===e)return;this.currentCursor=e;const r=this.cursorStyles[e];if(r)switch(typeof r){case"string":n&&(this.domElement.style.cursor=r);break;case"function":r(e);break;case"object":n&&Object.assign(this.domElement.style,r);break}else n&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}onPointerDown(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);this.autoPreventDefault&&n[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let r=0,i=n.length;r<i;r++){const s=n[r],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);for(let r=0,i=n.length;r<i;r++){const s=this.bootstrapEvent(this.rootPointerEvent,n[r]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;let n=e.target;e.composedPath&&e.composedPath().length>0&&(n=e.composedPath()[0]);const r=n!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let s=0,o=i.length;s<o;s++){const a=this.bootstrapEvent(this.rootPointerEvent,i[s]);a.type+=r,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);for(let r=0,i=n.length;r<i;r++){const s=this.bootstrapEvent(this.rootPointerEvent,n[r]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){const n=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(n)}setTargetElement(e){this.removeEvents(),this.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,n,r){let i;this.domElement.parentElement?i=this.domElement.getBoundingClientRect():i={x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const s=1/this.resolution;e.x=(n-i.left)*(this.domElement.width/i.width)*s,e.y=(r-i.top)*(this.domElement.height/i.height)*s}normalizeToPointerData(e){const n=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let r=0,i=e.changedTouches.length;r<i;r++){const s=e.changedTouches[r];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,n.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const r=e;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=gPe),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,n.push(r)}else n.push(e);return n}normalizeWheelEvent(e){const n=this.rootWheelEvent;return this.transferMouseData(n,e),n.deltaX=e.deltaX,n.deltaY=e.deltaY,n.deltaZ=e.deltaZ,n.deltaMode=e.deltaMode,this.mapPositionToPoint(n.screen,e.clientX,e.clientY),n.global.copyFrom(n.screen),n.offset.copyFrom(n.screen),n.nativeEvent=e,n.type=e.type,n}bootstrapEvent(e,n){return e.originalEvent=null,e.nativeEvent=n,e.pointerId=n.pointerId,e.width=n.width,e.height=n.height,e.isPrimary=n.isPrimary,e.pointerType=n.pointerType,e.pressure=n.pressure,e.tangentialPressure=n.tangentialPressure,e.tiltX=n.tiltX,e.tiltY=n.tiltY,e.twist=n.twist,this.transferMouseData(e,n),this.mapPositionToPoint(e.screen,n.clientX,n.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=n.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=vPe[e.type]||e.type),e}transferMouseData(e,n){e.isTrusted=n.isTrusted,e.srcElement=n.srcElement,e.timeStamp=performance.now(),e.type=n.type,e.altKey=n.altKey,e.button=n.button,e.buttons=n.buttons,e.client.x=n.clientX,e.client.y=n.clientY,e.ctrlKey=n.ctrlKey,e.metaKey=n.metaKey,e.movement.x=n.movementX,e.movement.y=n.movementY,e.page.x=n.pageX,e.page.y=n.pageY,e.relatedTarget=null,e.shiftKey=n.shiftKey}}iC.extension={name:"events",type:[be.RendererSystem,be.CanvasRendererSystem]};Pe.add(iC);const HB={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,interactive:!1,interactiveChildren:!0,hitArea:null,addEventListener(t,e,n){const r=typeof n=="boolean"&&n||typeof n=="object"&&n.capture,i=typeof e=="function"?void 0:e;t=r?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,n){const r=typeof n=="boolean"&&n||typeof n=="object"&&n.capture,i=typeof e=="function"?void 0:e;t=r?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof Fc))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};Wt.mixin(HB);const jB={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Wt.mixin(jB);const yPe=9,am=100,bPe=0,xPe=0,E3=2,C3=1,wPe=-1e3,_Pe=-1e3,SPe=2;class sC{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Xi.tablet||Xi.phone)&&this.createTouchHook();const n=document.createElement("div");n.style.width=`${am}px`,n.style.height=`${am}px`,n.style.position="absolute",n.style.top=`${bPe}px`,n.style.left=`${xPe}px`,n.style.zIndex=E3.toString(),this.div=n,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${C3}px`,e.style.height=`${C3}px`,e.style.position="absolute",e.style.top=`${wPe}px`,e.style.left=`${_Pe}px`,e.style.zIndex=SPe.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const n=e.children;if(n)for(let r=0;r<n.length;r++)this.updateAccessibleObjects(n[r])}update(){const e=performance.now();if(Xi.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:n,y:r,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:l}=this.renderer,c=i/o*l,h=s/a*l;let f=this.div;f.style.left=`${n}px`,f.style.top=`${r}px`,f.style.width=`${o}px`,f.style.height=`${a}px`;for(let p=0;p<this.children.length;p++){const m=this.children[p];if(m.renderId!==this.renderId)m._accessibleActive=!1,Qa(this.children,p,1),this.div.removeChild(m._accessibleDiv),this.pool.push(m._accessibleDiv),m._accessibleDiv=null,p--;else{f=m._accessibleDiv;let v=m.hitArea;const y=m.worldTransform;m.hitArea?(f.style.left=`${(y.tx+v.x*y.a)*c}px`,f.style.top=`${(y.ty+v.y*y.d)*h}px`,f.style.width=`${v.width*y.a*c}px`,f.style.height=`${v.height*y.d*h}px`):(v=m.getBounds(),this.capHitArea(v),f.style.left=`${v.x*c}px`,f.style.top=`${v.y*h}px`,f.style.width=`${v.width*c}px`,f.style.height=`${v.height*h}px`,f.title!==m.accessibleTitle&&m.accessibleTitle!==null&&(f.title=m.accessibleTitle),f.getAttribute("aria-label")!==m.accessibleHint&&m.accessibleHint!==null&&f.setAttribute("aria-label",m.accessibleHint)),(m.accessibleTitle!==f.title||m.tabIndex!==f.tabIndex)&&(f.title=m.accessibleTitle,f.tabIndex=m.tabIndex,this.debug&&this.updateDebugHTML(f))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:n,height:r}=this.renderer;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>r&&(e.height=r-e.y)}addChild(e){let n=this.pool.pop();n||(n=document.createElement("button"),n.style.width=`${am}px`,n.style.height=`${am}px`,n.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",n.style.position="absolute",n.style.zIndex=E3.toString(),n.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?n.setAttribute("aria-live","off"):n.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?n.setAttribute("aria-relevant","additions"):n.setAttribute("aria-relevant","text"),n.addEventListener("click",this._onClick.bind(this)),n.addEventListener("focus",this._onFocus.bind(this)),n.addEventListener("focusout",this._onFocusOut.bind(this))),n.style.pointerEvents=e.accessiblePointerEvents,n.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?n.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(n.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&n.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(n),e._accessibleActive=!0,e._accessibleDiv=n,n.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,n){const{displayObject:r}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new Fc(i),{target:r});i.rootTarget=this.renderer.lastObjectRendered,n.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===yPe&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}sC.extension={name:"accessibility",type:[be.RendererPlugin,be.CanvasRendererPlugin]};Pe.add(sC);const u_=class{constructor(t){this.stage=new er,t=Object.assign({forceCanvas:!1},t),this.renderer=OB(t),u_._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(t,e){const n=u_._plugins.slice(0);n.reverse(),n.forEach(r=>{r.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};let T0=u_;T0._plugins=[];Pe.handleByList(be.Application,T0._plugins);class oC{static init(e){Object.defineProperty(this,"resizeTo",{set(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let n,r;if(this._resizeTo===globalThis.window)n=globalThis.innerWidth,r=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;n=i,r=s}this.renderer.resize(n,r),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}oC.extension=be.Application;Pe.add(oC);const T3={loader:be.LoadParser,resolver:be.ResolveParser,cache:be.CacheParser,detection:be.DetectionParser};Pe.handle(be.Asset,t=>{const e=t.ref;Object.entries(T3).filter(([n])=>!!e[n]).forEach(([n,r])=>Pe.add(Object.assign(e[n],{extension:e[n].extension??r})))},t=>{const e=t.ref;Object.keys(T3).filter(n=>!!e[n]).forEach(n=>Pe.remove(e[n]))});class EPe{constructor(e,n=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=n}add(e){e.forEach(n=>{this._assetList.push(n)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],n=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<n;r++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function aC(t,e){if(Array.isArray(e)){for(const n of e)if(t.startsWith(`data:${n}`))return!0;return!1}return t.startsWith(`data:${e}`)}function Sf(t,e){const n=t.split("?")[0],r=Tn.extname(n).toLowerCase();return Array.isArray(e)?e.includes(r):r===e}const Os=(t,e)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"?e(n):n):t),Kg=(t,e)=>{const n=e.split("?")[1];return n&&(t+=`?${n}`),t};function WB(t,e,n,r,i){const s=e[n];for(let o=0;o<s.length;o++){const a=s[o];n<e.length-1?WB(t.replace(r[n],a),e,n+1,r,i):i.push(t.replace(r[n],a))}}function GB(t){const e=/\{(.*?)\}/g,n=t.match(e),r=[];if(n){const i=[];n.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),WB(t,i,0,n,r)}else r.push(t);return r}const $d=t=>!Array.isArray(t);class CPe{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const n=this._cache.get(e);return n||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),n}set(e,n){const r=Os(e);let i;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.test(n)){i=l.getCacheableAssets(r,n);break}}i||(i={},r.forEach(a=>{i[a]=n}));const s=Object.keys(i),o={cacheKeys:s,keys:r};if(r.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==n&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),n instanceof xe){const a=n;r.forEach(l=>{a.baseTexture!==xe.EMPTY.baseTexture&&He.addToCache(a.baseTexture,l),xe.addToCache(a,l)})}}remove(e){if(this._cacheMap.get(e),!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const n=this._cacheMap.get(e);n.cacheKeys.forEach(i=>{this._cache.delete(i)}),n.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const gu=new CPe;class TPe{constructor(){this._parsers=[],this.promiseCache={}}reset(){this.promiseCache={}}_getLoadPromiseAndParser(e,n){const r={promise:null,parser:null};return r.promise=(async()=>{var s,o;let i=null;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.load&&((s=l.test)!=null&&s.call(l,e,n,this))){i=await l.load(e,n,this),r.parser=l;break}}if(!r.parser)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has being added`),null;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];l.parse&&l.parse&&await((o=l.testParse)==null?void 0:o.call(l,i,n,this))&&(i=await l.parse(i,n,this)||i,r.parser=l)}return i})(),r}async load(e,n){let r=0;const i={},s=$d(e),o=Os(e,c=>({src:c})),a=o.length,l=o.map(async c=>{const h=Tn.toAbsolute(c.src);if(!i[c.src])try{this.promiseCache[h]||(this.promiseCache[h]=this._getLoadPromiseAndParser(h,c)),i[c.src]=await this.promiseCache[h].promise,n&&n(++r/a)}catch(f){throw delete this.promiseCache[h],delete i[c.src],new Error(`[Loader.load] Failed to load ${h}.
${f}`)}});return await Promise.all(l),s?i[o[0].src]:i}async unload(e){const r=Os(e,i=>({src:i})).map(async i=>{var a,l;const s=Tn.toAbsolute(i.src),o=this.promiseCache[s];if(o){const c=await o.promise;(l=(a=o.parser)==null?void 0:a.unload)==null||l.call(a,c,i,this),delete this.promiseCache[s]}});await Promise.all(r)}get parsers(){return this._parsers}}var ls=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(ls||{});const VB={extension:{type:be.LoadParser,priority:ls.Low},test(t){return Tn.extname(t).toLowerCase()===".json"},async load(t){return await(await we.ADAPTER.fetch(t)).json()}};Pe.add(VB);const qB={extension:{type:be.LoadParser,priority:ls.Low},test(t){return Tn.extname(t).toLowerCase()===".txt"},async load(t){return await(await we.ADAPTER.fetch(t)).text()}};Pe.add(qB);const APe=["normal","bold","100","200","300","400","500","600","700","800","900"],PPe=[".ttf",".otf",".woff",".woff2"],kPe=["font/ttf","font/otf","font/woff","font/woff2"];function XB(t){const e=Tn.extname(t);return Tn.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ")}const YB={extension:{type:be.LoadParser,priority:ls.Low},test(t){return aC(t,kPe)||Sf(t,PPe)},async load(t,e){var r,i,s;const n=we.ADAPTER.getFontFaceSet();if(n){const o=[],a=((r=e.data)==null?void 0:r.family)??XB(t),l=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(h=>APe.includes(h)))??["normal"],c=e.data??{};for(let h=0;h<l.length;h++){const f=l[h],p=new FontFace(a,`url(${encodeURI(t)})`,{...c,weight:f});await p.load(),n.add(p),o.push(p)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>we.ADAPTER.getFontFaceSet().delete(e))}};Pe.add(YB);let A3=0,yb;const OPe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",IPe={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${OPe}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},RPe={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let bb;class MPe{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const n=URL.createObjectURL(new Blob([IPe.code],{type:"application/javascript"})),r=new Worker(n);r.addEventListener("message",i=>{r.terminate(),URL.revokeObjectURL(n),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){yb===void 0&&(yb=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<yb&&(bb||(bb=URL.createObjectURL(new Blob([RPe.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(bb),e.addEventListener("message",n=>{this.complete(n.data),this.returnWorker(n.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,n){await this._initWorkers();const r=new Promise((i,s)=>{this.queue.push({id:e,arguments:n,resolve:i,reject:s})});return this.next(),r}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const n=this.queue.pop(),r=n.id;this.resolveHash[A3]={resolve:n.resolve,reject:n.reject},e.postMessage({data:n.arguments,uuid:A3++,id:r})}}const P3=new MPe;function Ef(t,e,n){const r=new xe(t);return r.baseTexture.on("dispose",()=>{delete e.promiseCache[n]}),r}const FPe=[".jpeg",".jpg",".png",".webp",".avif"],DPe=["image/jpeg","image/png","image/webp","image/avif"];async function KB(t){const e=await we.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const n=await e.blob();return await createImageBitmap(n)}const dc={extension:{type:be.LoadParser,priority:ls.High},config:{preferWorkers:!0},test(t){return aC(t,DPe)||Sf(t,FPe)},async load(t,e,n){let r=null;globalThis.createImageBitmap?this.config.preferWorkers&&await P3.isImageBitmapSupported()?r=await P3.loadImageBitmap(t):r=await KB(t):r=await new Promise(s=>{r=new Image,r.crossOrigin="anonymous",r.src=t,r.complete?s(r):r.onload=()=>{s(r)}});const i=new He(r,{resolution:co(t),...e.data});return i.resource.src=t,Ef(i,n,t)},unload(t){t.destroy(!0)}};Pe.add(dc);const ZB={extension:{type:be.LoadParser,priority:ls.High},test(t){return Tn.extname(t).toLowerCase()===".svg"},async testParse(t){return hc.test(t)},async parse(t,e,n){var o,a,l;const r=new hc(t,(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions),i=new He(r,{resolution:co(t),...e==null?void 0:e.data});i.resource.src=t;const s=Ef(i,n,t);return(l=(a=e==null?void 0:e.data)==null?void 0:a.resourceOptions)!=null&&l.autoLoad||await r.load(),s},async load(t,e){return(await we.ADAPTER.fetch(t)).text()},unload:dc.unload};Pe.add(ZB);class LPe{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,n)=>`${e}${this._bundleIdConnector}${n}`,extractAssetIdFromBundle:(e,n)=>n.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(n=>{this._preferredOrder.push(n),n.priority||(n.priority=Object.keys(n.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const n=e;this._defaultSearchParams=Object.keys(n).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(n[r])}`).join("&")}}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(n=>{this.addBundle(n.name,n.assets)})}addBundle(e,n){const r=[];Array.isArray(n)?n.forEach(i=>{if(typeof i.name=="string"){const s=this._createBundleAssetId(e,i.name);r.push(s),this.add([i.name,s],i.srcs,i.data)}else{const s=i.name.map(o=>this._createBundleAssetId(e,o));s.forEach(o=>{r.push(o)}),this.add([...i.name,...s],i.srcs)}}):Object.keys(n).forEach(i=>{r.push(this._createBundleAssetId(e,i)),this.add([i,this._createBundleAssetId(e,i)],n[i])}),this._bundles[e]=r}add(e,n,r){const i=Os(e);i.forEach(o=>{this.hasKey(o)&&console.warn(`[Resolver] already has key: ${o} overwriting`)}),Array.isArray(n)||(typeof n=="string"?n=GB(n):n=[n]);const s=n.map(o=>{let a=o;if(typeof o=="string"){let l=!1;for(let c=0;c<this._parsers.length;c++){const h=this._parsers[c];if(h.test(o)){a=h.parse(o),l=!0;break}}l||(a={src:o})}return a.format||(a.format=a.src.split(".").pop()),a.alias||(a.alias=i),(this._basePath||this._rootPath)&&(a.src=Tn.toAbsolute(a.src,this._basePath,this._rootPath)),a.src=this._appendDefaultSearchParams(a.src),a.data=a.data??r,a});i.forEach(o=>{this._assetMap[o]=s})}resolveBundle(e){const n=$d(e);e=Os(e);const r={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const l in o){const c=o[l];a[this._extractAssetIdFromBundle(i,l)]=c}r[i]=a}}),n?r[e[0]]:r}resolveUrl(e){const n=this.resolve(e);if(typeof e!="string"){const r={};for(const i in n)r[i]=n[i].src;return r}return n.src}resolve(e){const n=$d(e);e=Os(e);const r={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=this._getPreferredOrder(s),a=s[0];o==null||o.priority.forEach(l=>{o.params[l].forEach(c=>{const h=s.filter(f=>f[l]?f[l]===c:!1);h.length&&(s=h)})}),this._resolverHash[i]=s[0]??a}else{let s=i;(this._basePath||this._rootPath)&&(s=Tn.toAbsolute(s,this._basePath,this._rootPath)),s=this._appendDefaultSearchParams(s),this._resolverHash[i]={src:s}}r[i]=this._resolverHash[i]}),n?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let n=0;n<e.length;n++){const r=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(r.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const n=/\?/.test(e)?"&":"?";return`${e}${n}${this._defaultSearchParams}`}}class QB{constructor(){this._detections=[],this._initialized=!1,this.resolver=new LPe,this.loader=new TPe,this.cache=gu,this._backgroundLoader=new EPe(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o,a;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let l=e.manifest;typeof l=="string"&&(l=await this.load(l)),this.resolver.addManifest(l)}const n=((s=e.texturePreference)==null?void 0:s.resolution)??1,r=typeof n=="number"?[n]:n;let i=[];if((o=e.texturePreference)!=null&&o.format){const l=(a=e.texturePreference)==null?void 0:a.format;i=typeof l=="string"?[l]:l;for(const c of this._detections)await c.test()||(i=await c.remove(i))}else for(const l of this._detections)await l.test()&&(i=await l.add(i));this.resolver.prefer({params:{format:i,resolution:r}})}add(e,n,r){this.resolver.add(e,n,r)}async load(e,n){this._initialized||await this.init();const r=$d(e),i=Os(e).map(a=>typeof a!="string"?(this.resolver.add(a.src,a),a.src):(this.resolver.hasKey(a)||this.resolver.add(a,a),a)),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,n);return r?o[i[0]]:o}addBundle(e,n){this.resolver.addBundle(e,n)}async loadBundle(e,n){this._initialized||await this.init();let r=!1;typeof e=="string"&&(r=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0,l=0;const c=()=>{n==null||n(++a/l)},h=o.map(f=>{const p=i[f];return l+=Object.keys(p).length,this._mapLoadToResolve(p,c).then(m=>{s[f]=m})});return await Promise.all(h),r?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(n))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolveBundle(e);Object.values(n).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return gu.get(e);const n={};for(let r=0;r<e.length;r++)n[r]=gu.get(e[r]);return n}async _mapLoadToResolve(e,n){const r=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(r,n);this._backgroundLoader.active=!0;const o={};return r.forEach((a,l)=>{const c=s[a.src],h=[a.src];a.alias&&h.push(...a.alias),o[i[l]]=c,gu.set(h,c)}),o}async unload(e){this._initialized||await this.init();const n=Os(e).map(i=>typeof i!="string"?i.src:i),r=this.resolver.resolve(n);await this._unloadFromResolved(r)}async unloadBundle(e){this._initialized||await this.init(),e=Os(e);const n=this.resolver.resolveBundle(e),r=Object.keys(n).map(i=>this._unloadFromResolved(n[i]));await Promise.all(r)}async _unloadFromResolved(e){const n=Object.values(e);n.forEach(r=>{gu.remove(r.src)}),await this.loader.unload(n)}get detections(){return this._detections}get preferWorkers(){return dc.config.preferWorkers}set preferWorkers(e){dc.config.preferWorkers=e}}const Ga=new QB;Pe.handleByList(be.LoadParser,Ga.loader.parsers).handleByList(be.ResolveParser,Ga.resolver.parsers).handleByList(be.CacheParser,Ga.cache.parsers).handleByList(be.DetectionParser,Ga.detections);const JB={extension:be.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof xe),getCacheableAssets:(t,e)=>{const n={};return t.forEach(r=>{e.forEach((i,s)=>{n[r+(s===0?"":s+1)]=i})}),n}};Pe.add(JB);const eN={extension:{type:be.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",e=await we.ADAPTER.fetch(t).then(n=>n.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};Pe.add(eN);const tN={extension:{type:be.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",e=await we.ADAPTER.fetch(t).then(n=>n.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};Pe.add(tN);const k3=["png","jpg","jpeg"],nN={extension:{type:be.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...k3],remove:async t=>t.filter(e=>!k3.includes(e))};Pe.add(nN);const rN={extension:be.ResolveParser,test:dc.test,parse:t=>{var e;return{resolution:parseFloat(((e=we.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}};Pe.add(rN);var ur=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(ur||{});const Ud={[33776]:.5,[33777]:.5,[33778]:1,[33779]:1,[35916]:.5,[35917]:.5,[35918]:1,[35919]:1,[37488]:.5,[37489]:.5,[37490]:1,[37491]:1,[37492]:.5,[37496]:1,[37493]:.5,[37497]:1,[37494]:.5,[37495]:.5,[35840]:.5,[35842]:.5,[35841]:.25,[35843]:.25,[36196]:.5,[35986]:.5,[35986]:1,[34798]:1,[37808]:1};let Ys,vu;function O3(){vu={s3tc:Ys.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:Ys.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:Ys.getExtension("WEBGL_compressed_texture_etc"),etc1:Ys.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:Ys.getExtension("WEBGL_compressed_texture_pvrtc")||Ys.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:Ys.getExtension("WEBGL_compressed_texture_atc"),astc:Ys.getExtension("WEBGL_compressed_texture_astc")}}const iN={extension:{type:be.DetectionParser,priority:2},test:async()=>{const e=we.ADAPTER.createCanvas().getContext("webgl");return e?(Ys=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{vu||O3();const e=[];for(const n in vu)vu[n]&&e.push(n);return[...e,...t]},remove:async t=>(vu||O3(),t.filter(e=>!(e in vu)))};Pe.add(iN);class sN extends Mc{constructor(e,n={width:1,height:1,autoLoad:!0}){let r,i;typeof e=="string"?(r=e,i=new Uint8Array):(r=null,i=e),super(i,n),this.origin=r,this.buffer=i?new jg(i):null,this.origin&&n.autoLoad!==!1&&this.load(),i!=null&&i.length&&(this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}async load(){const r=await(await(await fetch(this.origin)).blob()).arrayBuffer();return this.data=new Uint32Array(r),this.buffer=new jg(r),this.loaded=!0,this.onBlobLoaded(r),this.update(),this}}class Jo extends sN{constructor(e,n){super(e,n),this.format=n.format,this.levels=n.levels||1,this._width=n.width,this._height=n.height,this._extension=Jo._formatToExtension(this.format),(n.levelBuffers||this.buffer)&&(this._levelBuffers=n.levelBuffers||Jo._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,n,r){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let o=0,a=this.levels;o<a;o++){const{levelID:l,levelWidth:c,levelHeight:h,levelBuffer:f}=this._levelBuffers[o];i.compressedTexImage2D(i.TEXTURE_2D,l,this.format,c,h,0,f)}return!0}onBlobLoaded(){this._levelBuffers=Jo._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,n,r,i,s,o,a){const l=new Array(r);let c=e.byteOffset,h=o,f=a,p=h+i-1&~(i-1),m=f+s-1&~(s-1),v=p*m*Ud[n];for(let y=0;y<r;y++)l[y]={levelID:y,levelWidth:r>1?h:p,levelHeight:r>1?f:m,levelBuffer:new Uint8Array(e.buffer,c,v)},c+=v,h=h>>1||1,f=f>>1||1,p=h+i-1&~(i-1),m=f+s-1&~(s-1),v=p*m*Ud[n];return l}}const xb=4,lm=124,BPe=32,I3=20,NPe=542327876,um={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},$Pe={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},cm={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},UPe=1,zPe=2,HPe=4,jPe=64,WPe=512,GPe=131072,VPe=827611204,qPe=861165636,XPe=894720068,YPe=808540228,KPe=4,ZPe={[VPe]:ur.COMPRESSED_RGBA_S3TC_DXT1_EXT,[qPe]:ur.COMPRESSED_RGBA_S3TC_DXT3_EXT,[XPe]:ur.COMPRESSED_RGBA_S3TC_DXT5_EXT},QPe={[70]:ur.COMPRESSED_RGBA_S3TC_DXT1_EXT,[71]:ur.COMPRESSED_RGBA_S3TC_DXT1_EXT,[73]:ur.COMPRESSED_RGBA_S3TC_DXT3_EXT,[74]:ur.COMPRESSED_RGBA_S3TC_DXT3_EXT,[76]:ur.COMPRESSED_RGBA_S3TC_DXT5_EXT,[77]:ur.COMPRESSED_RGBA_S3TC_DXT5_EXT,[72]:ur.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,[75]:ur.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,[78]:ur.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function oN(t){const e=new Uint32Array(t);if(e[0]!==NPe)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,lm/Uint32Array.BYTES_PER_ELEMENT),i=r[um.HEIGHT],s=r[um.WIDTH],o=r[um.MIPMAP_COUNT],a=new Uint32Array(t,um.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,BPe/Uint32Array.BYTES_PER_ELEMENT),l=a[UPe];if(l&HPe){const c=a[$Pe.FOURCC];if(c!==YPe){const w=ZPe[c],E=xb+lm,O=new Uint8Array(t,E);return[new Jo(O,{format:w,width:s,height:i,levels:o})]}const h=xb+lm,f=new Uint32Array(e.buffer,h,I3/Uint32Array.BYTES_PER_ELEMENT),p=f[cm.DXGI_FORMAT],m=f[cm.RESOURCE_DIMENSION],v=f[cm.MISC_FLAG],y=f[cm.ARRAY_SIZE],x=QPe[p];if(x===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${p}`);if(v===KPe)throw new Error("DDSParser does not support cubemap textures");if(m===6)throw new Error("DDSParser does not supported 3D texture data");const b=new Array,S=xb+lm+I3;if(y===1)b.push(new Uint8Array(t,S));else{const w=Ud[x];let E=0,O=s,A=i;for(let L=0;L<o;L++){const H=Math.max(1,O+3&-4),V=Math.max(1,A+3&-4),z=H*V*w;E+=z,O=O>>>1,A=A>>>1}let F=S;for(let L=0;L<y;L++)b.push(new Uint8Array(t,F,E)),F+=E}return b.map(w=>new Jo(w,{format:x,width:s,height:i,levels:o}))}throw l&jPe?new Error("DDSParser does not support uncompressed texture data."):l&WPe?new Error("DDSParser does not supported YUV uncompressed texture data."):l&GPe?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&zPe?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const R3=[171,75,84,88,32,49,49,187,13,10,26,10],JPe=67305985,Bi={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},c_=64,h_={[ke.UNSIGNED_BYTE]:1,[ke.UNSIGNED_SHORT]:2,[ke.INT]:4,[ke.UNSIGNED_INT]:4,[ke.FLOAT]:4,[ke.HALF_FLOAT]:8},aN={[ge.RGBA]:4,[ge.RGB]:3,[ge.RG]:2,[ge.RED]:1,[ge.LUMINANCE]:1,[ge.LUMINANCE_ALPHA]:2,[ge.ALPHA]:1},lN={[ke.UNSIGNED_SHORT_4_4_4_4]:2,[ke.UNSIGNED_SHORT_5_5_5_1]:2,[ke.UNSIGNED_SHORT_5_6_5]:2};function uN(t,e,n=!1){const r=new DataView(e);if(!eke(t,r))return null;const i=r.getUint32(Bi.ENDIANNESS,!0)===JPe,s=r.getUint32(Bi.GL_TYPE,i),o=r.getUint32(Bi.GL_FORMAT,i),a=r.getUint32(Bi.GL_INTERNAL_FORMAT,i),l=r.getUint32(Bi.PIXEL_WIDTH,i),c=r.getUint32(Bi.PIXEL_HEIGHT,i)||1,h=r.getUint32(Bi.PIXEL_DEPTH,i)||1,f=r.getUint32(Bi.NUMBER_OF_ARRAY_ELEMENTS,i)||1,p=r.getUint32(Bi.NUMBER_OF_FACES,i),m=r.getUint32(Bi.NUMBER_OF_MIPMAP_LEVELS,i),v=r.getUint32(Bi.BYTES_OF_KEY_VALUE_DATA,i);if(c===0||h!==1)throw new Error("Only 2D textures are supported");if(p!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(f!==1)throw new Error("WebGL does not support array textures");const y=4,x=4,b=l+3&-4,S=c+3&-4,w=new Array(f);let E=l*c;s===0&&(E=b*S);let O;if(s!==0?h_[s]?O=h_[s]*aN[o]:O=lN[s]:O=Ud[a],O===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const A=n?nke(r,v,i):null;let L=E*O,H=l,V=c,z=b,j=S,X=c_+v;for(let K=0;K<m;K++){const fe=r.getUint32(X,i);let ue=X+4;for(let Y=0;Y<f;Y++){let Z=w[Y];Z||(Z=w[Y]=new Array(m)),Z[K]={levelID:K,levelWidth:m>1||s!==0?H:z,levelHeight:m>1||s!==0?V:j,levelBuffer:new Uint8Array(e,ue,L)},ue+=L}X+=fe+4,X=X%4!==0?X+4-X%4:X,H=H>>1||1,V=V>>1||1,z=H+y-1&~(y-1),j=V+x-1&~(x-1),L=z*j*O}return s!==0?{uncompressed:w.map(K=>{let fe=K[0].levelBuffer,ue=!1;return s===ke.FLOAT?fe=new Float32Array(K[0].levelBuffer.buffer,K[0].levelBuffer.byteOffset,K[0].levelBuffer.byteLength/4):s===ke.UNSIGNED_INT?(ue=!0,fe=new Uint32Array(K[0].levelBuffer.buffer,K[0].levelBuffer.byteOffset,K[0].levelBuffer.byteLength/4)):s===ke.INT&&(ue=!0,fe=new Int32Array(K[0].levelBuffer.buffer,K[0].levelBuffer.byteOffset,K[0].levelBuffer.byteLength/4)),{resource:new Mc(fe,{width:K[0].levelWidth,height:K[0].levelHeight}),type:s,format:ue?tke(o):o}}),kvData:A}:{compressed:w.map(K=>new Jo(null,{format:a,width:l,height:c,levels:m,levelBuffers:K})),kvData:A}}function eke(t,e){for(let n=0;n<R3.length;n++)if(e.getUint8(n)!==R3[n])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function tke(t){switch(t){case ge.RGBA:return ge.RGBA_INTEGER;case ge.RGB:return ge.RGB_INTEGER;case ge.RG:return ge.RG_INTEGER;case ge.RED:return ge.RED_INTEGER;default:return t}}function nke(t,e,n){const r=new Map;let i=0;for(;i<e;){const s=t.getUint32(c_+i,n),o=c_+i+4,a=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<s&&t.getUint8(o+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const c=new TextDecoder().decode(new Uint8Array(t.buffer,o,l)),h=new DataView(t.buffer,o+l+1,s-l-1);r.set(c,h),i+=4+s+a}return r}const cN={extension:{type:be.LoadParser,priority:ls.High},test(t){return Sf(t,".dds")},async load(t,e,n){const i=await(await we.ADAPTER.fetch(t)).arrayBuffer(),o=oN(i).map(a=>{const l=new He(a,{mipmap:ss.OFF,alphaMode:Ai.NO_PREMULTIPLIED_ALPHA,resolution:co(t),...e.data});return Ef(l,n,t)});return o.length===1?o[0]:o},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};Pe.add(cN);const hN={extension:{type:be.LoadParser,priority:ls.High},test(t){return Sf(t,".ktx")},async load(t,e,n){const i=await(await we.ADAPTER.fetch(t)).arrayBuffer(),{compressed:s,uncompressed:o,kvData:a}=uN(t,i),l=s??o,c={mipmap:ss.OFF,alphaMode:Ai.NO_PREMULTIPLIED_ALPHA,resolution:co(t),...e.data},h=l.map(f=>{l===o&&Object.assign(c,{type:f.type,format:f.format});const p=new He(f,c);return p.ktxKeyValueData=a,Ef(p,n,t)});return h.length===1?h[0]:h},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};Pe.add(hN);const dN={extension:be.ResolveParser,test:t=>{const n=t.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(n)},parse:t=>{var r,i;if(t.split("?")[0].split(".").pop()==="ktx"){const s=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(s.some(o=>t.endsWith(o)))return{resolution:parseFloat(((r=we.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:s.find(o=>t.endsWith(o)),src:t}}return{resolution:parseFloat(((i=we.RETINA_PREFIX.exec(t))==null?void 0:i[1])??"1"),format:t.split(".").pop(),src:t}}};Pe.add(dN);const rke=new Ve,ike=4,d_=class{constructor(t){this.renderer=t}async image(t,e,n){const r=new Image;return r.src=await this.base64(t,e,n),r}async base64(t,e,n){const r=this.canvas(t);if(r.toDataURL!==void 0)return r.toDataURL(e,n);if(r.convertToBlob!==void 0){const i=await r.convertToBlob({type:e,quality:n});return await new Promise(s=>{const o=new FileReader;o.onload=()=>s(o.result),o.readAsDataURL(i)})}throw new Error("Extract.base64() requires ICanvas.toDataURL or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:n,width:r,height:i,flipY:s}=this._rawPixels(t,e);let o=new t_(r,i,1);const a=o.context.getImageData(0,0,r,i);if(d_.arrayPostDivide(n,a.data),o.context.putImageData(a,0,0),s){const l=new t_(o.width,o.height,1);l.context.scale(1,-1),l.context.drawImage(o.canvas,0,-i),o.destroy(),o=l}return o.canvas}pixels(t,e){const{pixels:n}=this._rawPixels(t,e);return d_.arrayPostDivide(n,n),n}_rawPixels(t,e){const n=this.renderer;let r,i=!1,s,o=!1;if(t)if(t instanceof po)s=t;else{const f=n.context.webGLVersion>=2?n.multisample:qt.NONE;if(s=this.renderer.generateTexture(t,{multisample:f}),f!==qt.NONE){const p=po.create({width:s.width,height:s.height});n.framebuffer.bind(s.framebuffer),n.framebuffer.blit(p.framebuffer),n.framebuffer.bind(null),s.destroy(!0),s=p}o=!0}s?(r=s.baseTexture.resolution,e=e??s.frame,i=!1,n.renderTexture.bind(s)):(r=n.resolution,e||(e=rke,e.width=n.width,e.height=n.height),i=!0,n.renderTexture.bind(null));const a=Math.round(e.width*r),l=Math.round(e.height*r),c=new Uint8Array(ike*a*l),h=n.gl;return h.readPixels(Math.round(e.x*r),Math.round(e.y*r),a,l,h.RGBA,h.UNSIGNED_BYTE,c),o&&s.destroy(!0),{pixels:c,width:a,height:l,flipY:i}}destroy(){this.renderer=null}static arrayPostDivide(t,e){for(let n=0;n<t.length;n+=4){const r=e[n+3]=t[n+3];r!==0?(e[n]=Math.round(Math.min(t[n]*255/r,255)),e[n+1]=Math.round(Math.min(t[n+1]*255/r,255)),e[n+2]=Math.round(Math.min(t[n+2]*255/r,255))):(e[n]=t[n],e[n+1]=t[n+1],e[n+2]=t[n+2])}}};let lC=d_;lC.extension={name:"extract",type:be.RendererSystem};Pe.add(lC);const zd={build(t){const e=t.points;let n,r,i,s,o,a;if(t.type===Sn.CIRC){const v=t.shape;n=v.x,r=v.y,o=a=v.radius,i=s=0}else if(t.type===Sn.ELIP){const v=t.shape;n=v.x,r=v.y,o=v.width,a=v.height,i=s=0}else{const v=t.shape,y=v.width/2,x=v.height/2;n=v.x+y,r=v.y+x,o=a=Math.max(0,Math.min(v.radius,Math.min(y,x))),i=y-o,s=x-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}const l=Math.ceil(2.3*Math.sqrt(o+a)),c=l*8+(i?4:0)+(s?4:0);if(e.length=c,c===0)return;if(l===0){e.length=8,e[0]=e[6]=n+i,e[1]=e[3]=r+s,e[2]=e[4]=n-i,e[5]=e[7]=r-s;return}let h=0,f=l*4+(i?2:0)+2,p=f,m=c;{const v=i+o,y=s,x=n+v,b=n-v,S=r+y;if(e[h++]=x,e[h++]=S,e[--f]=S,e[--f]=b,s){const w=r-y;e[p++]=b,e[p++]=w,e[--m]=w,e[--m]=x}}for(let v=1;v<l;v++){const y=Math.PI/2*(v/l),x=i+Math.cos(y)*o,b=s+Math.sin(y)*a,S=n+x,w=n-x,E=r+b,O=r-b;e[h++]=S,e[h++]=E,e[--f]=E,e[--f]=w,e[p++]=w,e[p++]=O,e[--m]=O,e[--m]=S}{const v=i,y=s+a,x=n+v,b=n-v,S=r+y,w=r-y;e[h++]=x,e[h++]=S,e[--m]=w,e[--m]=x,i&&(e[h++]=b,e[h++]=S,e[--m]=w,e[--m]=b)}},triangulate(t,e){const n=t.points,r=e.points,i=e.indices;if(n.length===0)return;let s=r.length/2;const o=s;let a,l;if(t.type!==Sn.RREC){const h=t.shape;a=h.x,l=h.y}else{const h=t.shape;a=h.x+h.width/2,l=h.y+h.height/2}const c=t.matrix;r.push(t.matrix?c.a*a+c.c*l+c.tx:a,t.matrix?c.b*a+c.d*l+c.ty:l),s++,r.push(n[0],n[1]);for(let h=2;h<n.length;h+=2)r.push(n[h],n[h+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function M3(t,e=!1){const n=t.length;if(n<6)return;let r=0;for(let i=0,s=t[n-2],o=t[n-1];i<n;i+=2){const a=t[i],l=t[i+1];r+=(a-s)*(l+o),s=a,o=l}if(!e&&r>0||e&&r<=0){const i=n/2;for(let s=i+i%2;s<n;s+=2){const o=n-s-2,a=n-s-1,l=s,c=s+1;[t[o],t[l]]=[t[l],t[o]],[t[a],t[c]]=[t[c],t[a]]}}}const uC={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let n=t.points;const r=t.holes,i=e.points,s=e.indices;if(n.length>=6){M3(n,!1);const o=[];for(let c=0;c<r.length;c++){const h=r[c];M3(h.points,!0),o.push(n.length/2),n=n.concat(h.points)}const a=kd(n,o,2);if(!a)return;const l=i.length/2;for(let c=0;c<a.length;c+=3)s.push(a[c]+l),s.push(a[c+1]+l),s.push(a[c+2]+l);for(let c=0;c<n.length;c++)i.push(n[c])}}},fN={build(t){const e=t.shape,n=e.x,r=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(n,r,n+i,r,n+i,r+s,n,r+s)},triangulate(t,e){const n=t.points,r=e.points;if(n.length===0)return;const i=r.length/2;r.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},pN={build(t){zd.build(t)},triangulate(t,e){zd.triangulate(t,e)}};var ai=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(ai||{}),jo=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(jo||{});const sa={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let n=Math.ceil(t/this.maxLength);return n<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n}},ske=sa;class f_{static curveTo(e,n,r,i,s,o){const a=o[o.length-2],c=o[o.length-1]-n,h=a-e,f=i-n,p=r-e,m=Math.abs(c*p-h*f);if(m<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==n)&&o.push(e,n),null;const v=c*c+h*h,y=f*f+p*p,x=c*f+h*p,b=s*Math.sqrt(v)/m,S=s*Math.sqrt(y)/m,w=b*x/v,E=S*x/y,O=b*p+S*h,A=b*f+S*c,F=h*(S+w),L=c*(S+w),H=p*(b+E),V=f*(b+E),z=Math.atan2(L-A,F-O),j=Math.atan2(V-A,H-O);return{cx:O+e,cy:A+n,radius:s,startAngle:z,endAngle:j,anticlockwise:h*f>p*c}}static arc(e,n,r,i,s,o,a,l,c){const h=a-o,f=sa._segmentsCount(Math.abs(h)*s,Math.ceil(Math.abs(h)/Ld)*40),p=h/(f*2),m=p*2,v=Math.cos(p),y=Math.sin(p),x=f-1,b=x%1/x;for(let S=0;S<=x;++S){const w=S+b*S,E=p+o+m*w,O=Math.cos(E),A=-Math.sin(E);c.push((v*O+y*A)*s+r,(v*-A+y*O)*s+i)}}}class mN{constructor(){this.reset()}begin(e,n,r){this.reset(),this.style=e,this.start=n,this.attribStart=r}end(e,n){this.attribSize=n-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class A0{static curveLength(e,n,r,i,s,o,a,l){let h=0,f=0,p=0,m=0,v=0,y=0,x=0,b=0,S=0,w=0,E=0,O=e,A=n;for(let F=1;F<=10;++F)f=F/10,p=f*f,m=p*f,v=1-f,y=v*v,x=y*v,b=x*e+3*y*f*r+3*v*p*s+m*a,S=x*n+3*y*f*i+3*v*p*o+m*l,w=O-b,E=A-S,O=b,A=S,h+=Math.sqrt(w*w+E*E);return h}static curveTo(e,n,r,i,s,o,a){const l=a[a.length-2],c=a[a.length-1];a.length-=2;const h=sa._segmentsCount(A0.curveLength(l,c,e,n,r,i,s,o));let f=0,p=0,m=0,v=0,y=0;a.push(l,c);for(let x=1,b=0;x<=h;++x)b=x/h,f=1-b,p=f*f,m=p*f,v=b*b,y=v*b,a.push(m*l+3*p*b*e+3*f*v*r+y*s,m*c+3*p*b*n+3*f*v*i+y*o)}}function F3(t,e,n,r,i,s,o,a){const l=t-n*i,c=e-r*i,h=t+n*s,f=e+r*s;let p,m;o?(p=r,m=-n):(p=-r,m=n);const v=l+p,y=c+m,x=h+p,b=f+m;return a.push(v,y,x,b),2}function Oa(t,e,n,r,i,s,o,a){const l=n-t,c=r-e;let h=Math.atan2(l,c),f=Math.atan2(i-t,s-e);a&&h<f?h+=Math.PI*2:!a&&h>f&&(f+=Math.PI*2);let p=h;const m=f-h,v=Math.abs(m),y=Math.sqrt(l*l+c*c),x=(15*v*Math.sqrt(y)/Math.PI>>0)+1,b=m/x;if(p+=b,a){o.push(t,e,n,r);for(let S=1,w=p;S<x;S++,w+=b)o.push(t,e,t+Math.sin(w)*y,e+Math.cos(w)*y);o.push(t,e,i,s)}else{o.push(n,r,t,e);for(let S=1,w=p;S<x;S++,w+=b)o.push(t+Math.sin(w)*y,e+Math.cos(w)*y,t,e);o.push(i,s,t,e)}return x*2}function oke(t,e){const n=t.shape;let r=t.points||n.points.slice();const i=e.closePointEps;if(r.length===0)return;const s=t.lineStyle,o=new Oe(r[0],r[1]),a=new Oe(r[r.length-2],r[r.length-1]),l=n.type!==Sn.POLY||n.closeStroke,c=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(l){r=r.slice(),c&&(r.pop(),r.pop(),a.set(r[r.length-2],r[r.length-1]));const Y=(o.x+a.x)*.5,Z=(a.y+o.y)*.5;r.unshift(Y,Z),r.push(Y,Z)}const h=e.points,f=r.length/2;let p=r.length;const m=h.length/2,v=s.width/2,y=v*v,x=s.miterLimit*s.miterLimit;let b=r[0],S=r[1],w=r[2],E=r[3],O=0,A=0,F=-(S-E),L=b-w,H=0,V=0,z=Math.sqrt(F*F+L*L);F/=z,L/=z,F*=v,L*=v;const j=s.alignment,X=(1-j)*2,K=j*2;l||(s.cap===jo.ROUND?p+=Oa(b-F*(X-K)*.5,S-L*(X-K)*.5,b-F*X,S-L*X,b+F*K,S+L*K,h,!0)+2:s.cap===jo.SQUARE&&(p+=F3(b,S,F,L,X,K,!0,h))),h.push(b-F*X,S-L*X,b+F*K,S+L*K);for(let Y=1;Y<f-1;++Y){b=r[(Y-1)*2],S=r[(Y-1)*2+1],w=r[Y*2],E=r[Y*2+1],O=r[(Y+1)*2],A=r[(Y+1)*2+1],F=-(S-E),L=b-w,z=Math.sqrt(F*F+L*L),F/=z,L/=z,F*=v,L*=v,H=-(E-A),V=w-O,z=Math.sqrt(H*H+V*V),H/=z,V/=z,H*=v,V*=v;const Z=w-b,se=S-E,G=w-O,M=A-E,D=Z*G+se*M,Q=se*G-M*Z,J=Q<0;if(Math.abs(Q)<.001*Math.abs(D)){h.push(w-F*X,E-L*X,w+F*K,E+L*K),D>=0&&(s.join===ai.ROUND?p+=Oa(w,E,w-F*X,E-L*X,w-H*X,E-V*X,h,!1)+4:p+=2,h.push(w-H*K,E-V*K,w+H*X,E+V*X));continue}const $=(-F+b)*(-L+E)-(-F+w)*(-L+S),re=(-H+O)*(-V+E)-(-H+w)*(-V+A),me=(Z*re-G*$)/Q,Ie=(M*$-se*re)/Q,Re=(me-w)*(me-w)+(Ie-E)*(Ie-E),Xe=w+(me-w)*X,Se=E+(Ie-E)*X,et=w-(me-w)*K,tt=E-(Ie-E)*K,rt=Math.min(Z*Z+se*se,G*G+M*M),Ot=J?X:K,Kr=rt+Ot*Ot*y,Ln=Re<=Kr;let Ye=s.join;if(Ye===ai.MITER&&Re/y>x&&(Ye=ai.BEVEL),Ln)switch(Ye){case ai.MITER:{h.push(Xe,Se,et,tt);break}case ai.BEVEL:{J?h.push(Xe,Se,w+F*K,E+L*K,Xe,Se,w+H*K,E+V*K):h.push(w-F*X,E-L*X,et,tt,w-H*X,E-V*X,et,tt),p+=2;break}case ai.ROUND:{J?(h.push(Xe,Se,w+F*K,E+L*K),p+=Oa(w,E,w+F*K,E+L*K,w+H*K,E+V*K,h,!0)+4,h.push(Xe,Se,w+H*K,E+V*K)):(h.push(w-F*X,E-L*X,et,tt),p+=Oa(w,E,w-F*X,E-L*X,w-H*X,E-V*X,h,!1)+4,h.push(w-H*X,E-V*X,et,tt));break}}else{switch(h.push(w-F*X,E-L*X,w+F*K,E+L*K),Ye){case ai.MITER:{J?h.push(et,tt,et,tt):h.push(Xe,Se,Xe,Se),p+=2;break}case ai.ROUND:{J?p+=Oa(w,E,w+F*K,E+L*K,w+H*K,E+V*K,h,!0)+2:p+=Oa(w,E,w-F*X,E-L*X,w-H*X,E-V*X,h,!1)+2;break}}h.push(w-H*X,E-V*X,w+H*K,E+V*K),p+=2}}b=r[(f-2)*2],S=r[(f-2)*2+1],w=r[(f-1)*2],E=r[(f-1)*2+1],F=-(S-E),L=b-w,z=Math.sqrt(F*F+L*L),F/=z,L/=z,F*=v,L*=v,h.push(w-F*X,E-L*X,w+F*K,E+L*K),l||(s.cap===jo.ROUND?p+=Oa(w-F*(X-K)*.5,E-L*(X-K)*.5,w-F*X,E-L*X,w+F*K,E+L*K,h,!1)+2:s.cap===jo.SQUARE&&(p+=F3(w,E,F,L,X,K,!1,h)));const fe=e.indices,ue=sa.epsilon*sa.epsilon;for(let Y=m;Y<p+m-2;++Y)b=h[Y*2],S=h[Y*2+1],w=h[(Y+1)*2],E=h[(Y+1)*2+1],O=h[(Y+2)*2],A=h[(Y+2)*2+1],!(Math.abs(b*(E-A)+w*(A-S)+O*(S-E))<ue)&&fe.push(Y,Y+1,Y+2)}function ake(t,e){let n=0;const r=t.shape,i=t.points||r.points,s=r.type!==Sn.POLY||r.closeStroke;if(i.length===0)return;const o=e.points,a=e.indices,l=i.length/2,c=o.length/2;let h=c;for(o.push(i[0],i[1]),n=1;n<l;n++)o.push(i[n*2],i[n*2+1]),a.push(h,h+1),h++;s&&a.push(h,c)}function p_(t,e){t.lineStyle.native?ake(t,e):oke(t,e)}class P0{static curveLength(e,n,r,i,s,o){const a=e-2*r+s,l=n-2*i+o,c=2*r-2*e,h=2*i-2*n,f=4*(a*a+l*l),p=4*(a*c+l*h),m=c*c+h*h,v=2*Math.sqrt(f+p+m),y=Math.sqrt(f),x=2*f*y,b=2*Math.sqrt(m),S=p/y;return(x*v+y*p*(v-b)+(4*m*f-p*p)*Math.log((2*y+S+v)/(S+b)))/(4*x)}static curveTo(e,n,r,i,s){const o=s[s.length-2],a=s[s.length-1],l=sa._segmentsCount(P0.curveLength(o,a,e,n,r,i));let c=0,h=0;for(let f=1;f<=l;++f){const p=f/l;c=o+(e-o)*p,h=a+(n-a)*p,s.push(c+(e+(r-e)*p-c)*p,h+(n+(i-n)*p-h)*p)}}}const Hm={[Sn.POLY]:uC,[Sn.CIRC]:zd,[Sn.ELIP]:zd,[Sn.RECT]:fN,[Sn.RREC]:pN},m_=[],Dh=[];class Hd{constructor(e,n=null,r=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=r,this.fillStyle=n,this.matrix=i,this.type=e.type}clone(){return new Hd(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Yl=new Oe,gN=class extends T2{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Bd,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),Dh.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),m_.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,n=null,r=null){const i=new Hd(t,e,n,r);return this.graphicsData.push(i),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const n=new Hd(t,null,null,e),r=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=r.lineStyle,r.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let n=0;n<e.length;++n){const r=e[n];if(r.fillStyle.visible&&r.shape&&(r.matrix?r.matrix.applyInverse(t,Yl):Yl.copyFrom(t),r.shape.contains(Yl.x,Yl.y))){let i=!1;if(r.holes){for(let s=0;s<r.holes.length;s++)if(r.holes[s].shape.contains(Yl.x,Yl.y)){i=!0;break}}if(!i)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let n=null,r=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],r=n.style);for(let a=this.shapeIndex;a<e.length;a++){this.shapeIndex++;const l=e[a],c=l.fillStyle,h=l.lineStyle;Hm[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix),(c.visible||h.visible)&&this.processHoles(l.holes);for(let p=0;p<2;p++){const m=p===0?c:h;if(!m.visible)continue;const v=m.texture.baseTexture,y=this.indices.length,x=this.points.length/2;v.wrapMode=ks.REPEAT,p===0?this.processFill(l):this.processLine(l);const b=this.points.length/2-x;b!==0&&(n&&!this._compareStyles(r,m)&&(n.end(y,x),n=null),n||(n=m_.pop()||new mN,n.begin(m,y,x),this.batches.push(n),r=m),this.addUvs(this.points,t,m.texture,x,b,m.matrix))}}const i=this.indices.length,s=this.points.length/2;if(n&&n.end(i,s),this.batches.length===0){this.batchable=!0;return}const o=s>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&o===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=o?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const n=this.graphicsData[t],r=n.fillStyle,i=n.lineStyle;if(r&&!r.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,n=t.length;e<n;e++){const r=t[e];for(let i=0;i<r.size;i++){const s=r.start+i;this.indicesUint16[s]=this.indicesUint16[s]-r.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<gN.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++He._globalBatch;for(let h=0;h<this.drawCalls.length;h++)this.drawCalls[h].texArray.clear(),Dh.push(this.drawCalls[h]);this.drawCalls.length=0;const e=this.colors,n=this.textureIds;let r=Dh.pop();r||(r=new Gg,r.texArray=new Vg),r.texArray.count=0,r.start=0,r.size=0,r.type=qi.TRIANGLES;let i=0,s=null,o=0,a=!1,l=qi.TRIANGLES,c=0;this.drawCalls.push(r);for(let h=0;h<this.batches.length;h++){const f=this.batches[h],p=8,m=f.style,v=m.texture.baseTexture;a!==!!m.native&&(a=!!m.native,l=a?qi.LINES:qi.TRIANGLES,s=null,i=p,t++),s!==v&&(s=v,v._batchEnabled!==t&&(i===p&&(t++,i=0,r.size>0&&(r=Dh.pop(),r||(r=new Gg,r.texArray=new Vg),this.drawCalls.push(r)),r.start=c,r.size=0,r.texArray.count=0,r.type=l),v.touched=1,v._batchEnabled=t,v._batchLocation=i,v.wrapMode=ks.REPEAT,r.texArray.elements[r.texArray.count++]=v,i++)),r.size+=f.size,c+=f.size,o=v._batchLocation,this.addColors(e,m.color,m.alpha,f.attribSize,f.attribStart),this.addTextureIds(n,o,f.attribSize,f.attribStart)}He._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,n=this.colors,r=this.textureIds,i=new ArrayBuffer(t.length*3*4),s=new Float32Array(i),o=new Uint32Array(i);let a=0;for(let l=0;l<t.length/2;l++)s[a++]=t[l*2],s[a++]=t[l*2+1],s[a++]=e[l*2],s[a++]=e[l*2+1],o[a++]=n[l],s[a++]=r[l];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?uC.triangulate(t,this):Hm[t.type].triangulate(t,this)}processLine(t){p_(t,this);for(let e=0;e<t.holes.length;e++)p_(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const n=t[e];Hm[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let n=0;n<t.length/2;n++){const r=t[n*2],i=t[n*2+1];t[n*2]=e.a*r+e.c*i+e.tx,t[n*2+1]=e.b*r+e.d*i+e.ty}}addColors(t,e,n,r,i=0){const s=(e>>16)+(e&65280)+((e&255)<<16),o=w0(s,n);t.length=Math.max(t.length,i+r);for(let a=0;a<r;a++)t[i+a]=o}addTextureIds(t,e,n,r=0){t.length=Math.max(t.length,r+n);for(let i=0;i<n;i++)t[r+i]=e}addUvs(t,e,n,r,i,s=null){let o=0;const a=e.length,l=n.frame;for(;o<i;){let h=t[(r+o)*2],f=t[(r+o)*2+1];if(s){const p=s.a*h+s.c*f+s.tx;f=s.b*h+s.d*f+s.ty,h=p}o++,e.push(h/l.width,f/l.height)}const c=n.baseTexture;(l.width<c.width||l.height<c.height)&&this.adjustUvs(e,n,a,i)}adjustUvs(t,e,n,r){const i=e.baseTexture,s=1e-6,o=n+r*2,a=e.frame,l=a.width/i.width,c=a.height/i.height;let h=a.x/a.width,f=a.y/a.height,p=Math.floor(t[n]+s),m=Math.floor(t[n+1]+s);for(let v=n+2;v<o;v+=2)p=Math.min(p,Math.floor(t[v]+s)),m=Math.min(m,Math.floor(t[v+1]+s));h-=p,f-=m;for(let v=n;v<o;v+=2)t[v]=(t[v]+h)*l,t[v+1]=(t[v+1]+f)*c}};let cC=gN;cC.BATCHABLE_SIZE=100;class Cf{constructor(){this.color=16777215,this.alpha=1,this.texture=xe.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Cf;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=xe.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class k0 extends Cf{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=jo.BUTT,this.join=ai.MITER,this.miterLimit=10}clone(){const e=new k0;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const lke=new Float32Array(3),wb={},jm=class extends er{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Cf,this._lineStyle=new k0,this._matrix=null,this._holeMode=!1,this.state=Fs.for2d(),this._geometry=t||new cC,this._geometry.refCount++,this._transformID=-1,this.tint=16777215,this.blendMode=Me.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new jm(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tint}set tint(t){this._tint=t}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,n=1,r=.5,i=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:n,alignment:r,native:i}),this.lineTextureStyle(t)}lineTextureStyle(t){t=Object.assign({width:0,texture:xe.WHITE,color:t!=null&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:jo.BUTT,join:ai.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();const e=t.width>0&&t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:e},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new Ja,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new Ja,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,r=n[n.length-2],i=n[n.length-1];return(r!==t||i!==e)&&n.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,n,r){this._initCurve();const i=this.currentPath.points;return i.length===0&&this.moveTo(0,0),P0.curveTo(t,e,n,r,i),this}bezierCurveTo(t,e,n,r,i,s){return this._initCurve(),A0.curveTo(t,e,n,r,i,s,this.currentPath.points),this}arcTo(t,e,n,r,i){this._initCurve(t,e);const s=this.currentPath.points,o=f_.curveTo(t,e,n,r,i,s);if(o){const{cx:a,cy:l,radius:c,startAngle:h,endAngle:f,anticlockwise:p}=o;this.arc(a,l,c,h,f,p)}return this}arc(t,e,n,r,i,s=!1){if(r===i)return this;if(!s&&i<=r?i+=Ld:s&&r<=i&&(r+=Ld),i-r===0)return this;const a=t+Math.cos(r)*n,l=e+Math.sin(r)*n,c=this._geometry.closePointEps;let h=this.currentPath?this.currentPath.points:null;if(h){const f=Math.abs(h[h.length-2]-a),p=Math.abs(h[h.length-1]-l);f<c&&p<c||h.push(a,l)}else this.moveTo(a,l),h=this.currentPath.points;return f_.arc(a,l,t,e,n,r,i,s,h),this}beginFill(t=0,e=1){return this.beginTextureFill({texture:xe.WHITE,color:t,alpha:e})}beginTextureFill(t){t=Object.assign({texture:xe.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();const e=t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:e},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,n,r){return this.drawShape(new Ve(t,e,n,r))}drawRoundedRect(t,e,n,r,i){return this.drawShape(new cc(t,e,n,r,i))}drawCircle(t,e,n){return this.drawShape(new uc(t,e,n))}drawEllipse(t,e,n,r){return this.drawShape(new S0(t,e,n,r))}drawPolygon(...t){let e,n=!0;const r=t[0];r.points?(n=r.closeStroke,e=r.points):Array.isArray(t[0])?e=t[0]:e=t;const i=new Ja(e);return i.closeStroke=n,this.drawShape(i),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===Sn.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,n=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(t.points);for(let r=0;r<n;r++){const i=t.batches[r],s=i.style.color,o=new Float32Array(this.vertexData.buffer,i.attribStart*4*2,i.attribSize*2),a=new Float32Array(t.uvsFloat32.buffer,i.attribStart*4*2,i.attribSize*2),l=new Uint16Array(t.indicesUint16.buffer,i.start*2,i.size),c={vertexData:o,blendMode:e,indices:l,uvs:a,_batchRGB:hl(s),_tintRGB:s,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[r]=c}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,n=this.batches.length;e<n;e++){const r=this.batches[e];r.worldAlpha=this.worldAlpha*r.alpha,t.plugins[this.pluginName].render(r)}}}_renderDirect(t){const e=this._resolveDirectShader(t),n=this._geometry,r=this.tint,i=this.worldAlpha,s=e.uniforms,o=n.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(r>>16&255)/255*i,s.tint[1]=(r>>8&255)/255*i,s.tint[2]=(r&255)/255*i,s.tint[3]=i,t.shader.bind(e),t.geometry.bind(n,e),t.state.set(this.state);for(let a=0,l=o.length;a<l;a++)this._renderDrawCallDirect(t,n.drawCalls[a])}_renderDrawCallDirect(t,e){const{texArray:n,type:r,size:i,start:s}=e,o=n.count;for(let a=0;a<o;a++)t.texture.bind(n.elements[a],a);t.geometry.draw(r,i,s)}_resolveDirectShader(t){let e=this.shader;const n=this.pluginName;if(!e){if(!wb[n]){const{maxTextures:r}=t.plugins[n],i=new Int32Array(r);for(let a=0;a<r;a++)i[a]=a;const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new Nt,default:bi.from({uSamplers:i},!0)},o=t.plugins[n]._shader.program;wb[n]=new ts(o,s)}e=wb[n]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:n,maxX:r,maxY:i}=t.bounds;this._bounds.addFrame(this.transform,e,n,r,i)}containsPoint(t){return this.worldTransform.applyInverse(t,jm._TEMP_POINT),this._geometry.containsPoint(jm._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this.tint;const t=hl(this.tint,lke);for(let e=0;e<this.batches.length;e++){const n=this.batches[e],r=n._batchRGB,i=t[0]*r[0]*255,s=t[1]*r[1]*255,o=t[2]*r[2]*255,a=(i<<16)+(s<<8)+(o|0);n._tintRGB=(a>>16)+(a&65280)+((a&255)<<16)}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,n=e.a,r=e.b,i=e.c,s=e.d,o=e.tx,a=e.ty,l=this._geometry.points,c=this.vertexData;let h=0;for(let f=0;f<l.length;f+=2){const p=l[f],m=l[f+1];c[h++]=n*p+i*m+o,c[h++]=s*m+r*p+a}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};let fl=jm;fl.curves=sa;fl._TEMP_POINT=new Oe;const uke={buildPoly:uC,buildCircle:zd,buildRectangle:fN,buildRoundedRectangle:pN,buildLine:p_,ArcUtils:f_,BezierUtils:A0,QuadraticUtils:P0,BatchPart:mN,FILL_COMMANDS:Hm,BATCH_POOL:m_,DRAW_CALL_POOL:Dh};class vN{constructor(e,n){this.uvBuffer=e,this.uvMatrix=n,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const n=this.uvBuffer.data;(!this.data||this.data.length!==n.length)&&(this.data=new Float32Array(n.length)),this.uvMatrix.multiplyUvs(n,this.data),this._updateID++}}const _b=new Oe,D3=new Ja,yN=class extends er{constructor(t,e,n,r=qi.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=n||Fs.for2d(),this.drawMode=r,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=we.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===qi.TRIANGLES&&e.length<yN.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]),t.plugins[r].render(this)}calculateVertices(){const e=this.geometry.buffers[0],n=e.data,r=e._updateID;if(r===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==n.length&&(this.vertexData=new Float32Array(n.length));const i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,l=i.d,c=i.tx,h=i.ty,f=this.vertexData;for(let p=0;p<f.length/2;p++){const m=n[p*2],v=n[p*2+1];f[p*2]=s*m+a*v+c,f[p*2+1]=o*m+l*v+h}if(this._roundPixels){const p=we.RESOLUTION;for(let m=0;m<f.length;++m)f[m]=Math.round(f[m]*p)/p}this.vertexDirty=r}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new vN(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,_b);const e=this.geometry.getBuffer("aVertexPosition").data,n=D3.points,r=this.geometry.getIndex().data,i=r.length,s=this.drawMode===4?3:1;for(let o=0;o+2<i;o+=s){const a=r[o]*2,l=r[o+1]*2,c=r[o+2]*2;if(n[0]=e[a],n[1]=e[a+1],n[2]=e[l],n[3]=e[l+1],n[4]=e[c],n[5]=e[c+1],D3.contains(_b.x,_b.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let pl=yN;pl.BATCHABLE_SIZE=100;class Tf extends ho{constructor(e,n,r){super();const i=new tn(e),s=new tn(n,!0),o=new tn(r,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,ke.FLOAT).addAttribute("aTextureCoord",s,2,!1,ke.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var cke=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,hke=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class fc extends ts{constructor(e,n){const r={uSampler:e,alpha:1,uTextureMatrix:Nt.IDENTITY,uColor:new Float32Array([1,1,1,1])};n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(r,n.uniforms),super(n.program||mi.from(hke,cke),r),this._colorDirty=!1,this.uvMatrix=new E0(e),this.batchable=n.program===void 0,this.pluginName=n.pluginName,this.tint=n.tint,this.alpha=n.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16),this._colorDirty=!0)}get tint(){return this._tint}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture;E2(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class bN extends Tf{constructor(e=100,n=100,r=10,i=10){super(),this.segWidth=r,this.segHeight=i,this.width=e,this.height=n,this.build()}build(){const e=this.segWidth*this.segHeight,n=[],r=[],i=[],s=this.segWidth-1,o=this.segHeight-1,a=this.width/s,l=this.height/o;for(let h=0;h<e;h++){const f=h%this.segWidth,p=h/this.segWidth|0;n.push(f*a,p*l),r.push(f/s,p/o)}const c=s*o;for(let h=0;h<c;h++){const f=h%s,p=h/s|0,m=p*this.segWidth+f,v=p*this.segWidth+f+1,y=(p+1)*this.segWidth+f,x=(p+1)*this.segWidth+f+1;i.push(m,v,y,v,x,y)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class xN extends Tf{constructor(e=200,n,r=0){super(new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6)),this.points=n,this._width=e,this.textureScale=r,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const n=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;n.data.length/4!==e.length&&(n.data=new Float32Array(e.length*4),r.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=r.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let a=0,l=e[0];const c=this._width*this.textureScale,h=e.length;for(let p=0;p<h;p++){const m=p*4;if(this.textureScale>0){const v=l.x-e[p].x,y=l.y-e[p].y,x=Math.sqrt(v*v+y*y);l=e[p],a+=x/c}else a=p/(h-1);s[m]=a,s[m+1]=0,s[m+2]=a,s[m+3]=1}let f=0;for(let p=0;p<h-1;p++){const m=p*2;o[f++]=m,o[f++]=m+1,o[f++]=m+2,o[f++]=m+2,o[f++]=m+1,o[f++]=m+3}r.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let n=e[0],r,i=0,s=0;const o=this.buffers[0].data,a=e.length,l=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let c=0;c<a;c++){const h=e[c],f=c*4;c<e.length-1?r=e[c+1]:r=h,s=-(r.x-n.x),i=r.y-n.y;const p=Math.sqrt(i*i+s*s);p<1e-6?(i=0,s=0):(i/=p,s/=p,i*=l,s*=l),o[f]=h.x+i,o[f+1]=h.y+s,o[f+2]=h.x-i,o[f+3]=h.y-s,n=h}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class wN extends pl{constructor(e,n,r){const i=new bN(e.width,e.height,n,r),s=new fc(xe.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:n,height:r}=this.shader.texture;this.autoResize&&(e.width!==n||e.height!==r)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const hm=10;class dke extends wN{constructor(e,n=hm,r=hm,i=hm,s=hm){super(xe.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=n,this._rightWidth=i,this._topHeight=r,this._bottomHeight=s,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,n=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*n,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*n,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,n=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*n,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*n,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,n=this._width>e?1:this._width/e,r=this._topHeight+this._bottomHeight,i=this._height>r?1:this._height/r;return Math.min(n,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,n=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const r=1/this._origWidth,i=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=r*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-r*this._rightWidth,n[9]=n[11]=n[13]=n[15]=i*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class fke extends pl{constructor(e=xe.EMPTY,n,r,i,s){const o=new Tf(n,r,i);o.getBuffer("aVertexPosition").static=!1;const a=new fc(e);super(o,a,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class pke extends pl{constructor(e,n,r=0){const i=new xN(e.height,n,r),s=new fc(e);r>0&&(e.baseTexture.wrapMode=ks.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),super._render(e)}}class mke extends er{constructor(e=1500,n,r=16384,i=!1){super();const s=16384;r>s&&(r=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=r,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=Me.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(n),this._tint=0,this.tintRgb=new Float32Array(4),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tint}set tint(e){this._tint=e,hl(e,this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const n=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class L3{constructor(e,n,r){this.geometry=new ho,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||ke.FLOAT,offset:s.offset},n[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let n=0;this.indexBuffer=new tn(JL(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=n,n+=a.size,this.dynamicStride+=a.size}const r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new tn(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new tn(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===ke.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===ke.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,n,r){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,n,r,s.type===ke.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,n,r){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,n,r,s.type===ke.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var gke=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,vke=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class hC extends _f{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Nt,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:ke.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=ts.from(vke,gke,{}),this.state=Fs.for2d()}render(e){const n=e.children,r=e._maxSize,i=e._batchSize,s=this.renderer;let o=n.length;if(o===0)return;o>r&&!e.autoResize&&(o=r);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const l=n[0]._texture.baseTexture,c=l.alphaMode>0;this.state.blendMode=S2(e.blendMode,c),s.state.set(this.state);const h=s.gl,f=e.worldTransform.copyTo(this.tempMatrix);f.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=f.toArray(!0),this.shader.uniforms.uColor=ZL(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,c),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);let p=!1;for(let m=0,v=0;m<o;m+=i,v+=1){let y=o-m;y>i&&(y=i),v>=a.length&&a.push(this._generateOneMoreBuffer(e));const x=a[v];x.uploadDynamic(n,m,y);const b=e._bufferUpdateIDs[v]||0;p=p||x._updateID<b,p&&(x._updateID=e._updateID,x.uploadStatic(n,m,y)),s.geometry.bind(x.geometry),h.drawElements(h.TRIANGLES,y*6,h.UNSIGNED_SHORT,0)}}generateBuffers(e){const n=[],r=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<r;o+=i)n.push(new L3(this.properties,s,i));return n}_generateOneMoreBuffer(e){const n=e._batchSize,r=e._properties;return new L3(this.properties,r,n)}uploadVertices(e,n,r,i,s,o){let a=0,l=0,c=0,h=0;for(let f=0;f<r;++f){const p=e[n+f],m=p._texture,v=p.scale.x,y=p.scale.y,x=m.trim,b=m.orig;x?(l=x.x-p.anchor.x*b.width,a=l+x.width,h=x.y-p.anchor.y*b.height,c=h+x.height):(a=b.width*(1-p.anchor.x),l=b.width*-p.anchor.x,c=b.height*(1-p.anchor.y),h=b.height*-p.anchor.y),i[o]=l*v,i[o+1]=h*y,i[o+s]=a*v,i[o+s+1]=h*y,i[o+s*2]=a*v,i[o+s*2+1]=c*y,i[o+s*3]=l*v,i[o+s*3+1]=c*y,o+=s*4}}uploadPosition(e,n,r,i,s,o){for(let a=0;a<r;a++){const l=e[n+a].position;i[o]=l.x,i[o+1]=l.y,i[o+s]=l.x,i[o+s+1]=l.y,i[o+s*2]=l.x,i[o+s*2+1]=l.y,i[o+s*3]=l.x,i[o+s*3+1]=l.y,o+=s*4}}uploadRotation(e,n,r,i,s,o){for(let a=0;a<r;a++){const l=e[n+a].rotation;i[o]=l,i[o+s]=l,i[o+s*2]=l,i[o+s*3]=l,o+=s*4}}uploadUvs(e,n,r,i,s,o){for(let a=0;a<r;++a){const l=e[n+a]._texture._uvs;l?(i[o]=l.x0,i[o+1]=l.y0,i[o+s]=l.x1,i[o+s+1]=l.y1,i[o+s*2]=l.x2,i[o+s*2+1]=l.y2,i[o+s*3]=l.x3,i[o+s*3+1]=l.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,n,r,i,s,o){for(let a=0;a<r;++a){const l=e[n+a],c=l._texture.baseTexture.alphaMode>0,h=l.alpha,f=h<1&&c?w0(l._tintRGB,h):l._tintRGB+(h*255<<24);i[o]=f,i[o+s]=f,i[o+s*2]=f,i[o+s*3]=f,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}hC.extension={name:"particle",type:be.RendererPlugin};Pe.add(hC);var Af=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Af||{});const dm={willReadFrequently:!0},Te=class{static get experimentalLetterSpacingSupported(){let t=Te._experimentalLetterSpacingSupported;if(t!==void 0){const e=we.ADAPTER.getCanvasRenderingContext2D().prototype;t=Te._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,n,r,i,s,o,a,l){this.text=t,this.style=e,this.width=n,this.height=r,this.lines=i,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=l}static measureText(t,e,n,r=Te._canvas){n=n??e.wordWrap;const i=e.toFontString(),s=Te.measureFont(i);s.fontSize===0&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);const o=r.getContext("2d",dm);o.font=i;const l=(n?Te.wordWrap(t,e,r):t).split(/(?:\r\n|\r|\n)/),c=new Array(l.length);let h=0;for(let v=0;v<l.length;v++){const y=Te._measureText(l[v],e.letterSpacing,o);c[v]=y,h=Math.max(h,y)}let f=h+e.strokeThickness;e.dropShadow&&(f+=e.dropShadowDistance);const p=e.lineHeight||s.fontSize+e.strokeThickness;let m=Math.max(p,s.fontSize+e.strokeThickness*2)+(l.length-1)*(p+e.leading);return e.dropShadow&&(m+=e.dropShadowDistance),new Te(t,e,f,m,l,c,p+e.leading,h,s)}static _measureText(t,e,n){let r=!1;Te.experimentalLetterSpacingSupported&&(Te.experimentalLetterSpacing?(n.letterSpacing=`${e}px`,n.textLetterSpacing=`${e}px`,r=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let i=n.measureText(t).width;return i>0&&(r?i-=e:i+=(Te.graphemeSegmenter(t).length-1)*e),i}static wordWrap(t,e,n=Te._canvas){const r=n.getContext("2d",dm);let i=0,s="",o="";const a=Object.create(null),{letterSpacing:l,whiteSpace:c}=e,h=Te.collapseSpaces(c),f=Te.collapseNewlines(c);let p=!h;const m=e.wordWrapWidth+l,v=Te.tokenize(t);for(let y=0;y<v.length;y++){let x=v[y];if(Te.isNewline(x)){if(!f){o+=Te.addLine(s),p=!h,s="",i=0;continue}x=" "}if(h){const S=Te.isBreakingSpace(x),w=Te.isBreakingSpace(s[s.length-1]);if(S&&w)continue}const b=Te.getFromCache(x,l,a,r);if(b>m)if(s!==""&&(o+=Te.addLine(s),s="",i=0),Te.canBreakWords(x,e.breakWords)){const S=Te.wordWrapSplit(x);for(let w=0;w<S.length;w++){let E=S[w],O=E,A=1;for(;S[w+A];){const L=S[w+A];if(!Te.canBreakChars(O,L,x,w,e.breakWords))E+=L;else break;O=L,A++}w+=A-1;const F=Te.getFromCache(E,l,a,r);F+i>m&&(o+=Te.addLine(s),p=!1,s="",i=0),s+=E,i+=F}}else{s.length>0&&(o+=Te.addLine(s),s="",i=0);const S=y===v.length-1;o+=Te.addLine(x,!S),p=!1,s="",i=0}else b+i>m&&(p=!1,o+=Te.addLine(s),s="",i=0),(s.length>0||!Te.isBreakingSpace(x)||p)&&(s+=x,i+=b)}return o+=Te.addLine(s,!1),o}static addLine(t,e=!0){return t=Te.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,n,r){let i=n[t];return typeof i!="number"&&(i=Te._measureText(t,e,r)+e,n[t]=i),i}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const n=t[e];if(!Te.isBreakingSpace(n))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:Te._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:Te._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let n="";if(typeof t!="string")return e;for(let r=0;r<t.length;r++){const i=t[r],s=t[r+1];if(Te.isBreakingSpace(i,s)||Te.isNewline(i)){n!==""&&(e.push(n),n=""),e.push(i);continue}n+=i}return n!==""&&e.push(n),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,n,r,i){return!0}static wordWrapSplit(t){return Te.graphemeSegmenter(t)}static measureFont(t){if(Te._fonts[t])return Te._fonts[t];const e={ascent:0,descent:0,fontSize:0},n=Te._canvas,r=Te._context;r.font=t;const i=Te.METRICS_STRING+Te.BASELINE_SYMBOL,s=Math.ceil(r.measureText(i).width);let o=Math.ceil(r.measureText(Te.BASELINE_SYMBOL).width);const a=Math.ceil(Te.HEIGHT_MULTIPLIER*o);if(o=o*Te.BASELINE_MULTIPLIER|0,s===0||a===0)return Te._fonts[t]=e,e;n.width=s,n.height=a,r.fillStyle="#f00",r.fillRect(0,0,s,a),r.font=t,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(i,0,o);const l=r.getImageData(0,0,s,a).data,c=l.length,h=s*4;let f=0,p=0,m=!1;for(f=0;f<o;++f){for(let v=0;v<h;v+=4)if(l[p+v]!==255){m=!0;break}if(!m)p+=h;else break}for(e.ascent=o-f,p=c-h,m=!1,f=a;f>o;--f){for(let v=0;v<h;v+=4)if(l[p+v]!==255){m=!0;break}if(!m)p-=h;else break}return e.descent=f-o,e.fontSize=e.ascent+e.descent,Te._fonts[t]=e,e}static clearMetrics(t=""){t?delete Te._fonts[t]:Te._fonts={}}static get _canvas(){if(!Te.__canvas){let t;try{const e=new OffscreenCanvas(0,0),n=e.getContext("2d",dm);if(n!=null&&n.measureText)return Te.__canvas=e,e;t=we.ADAPTER.createCanvas()}catch{t=we.ADAPTER.createCanvas()}t.width=t.height=10,Te.__canvas=t}return Te.__canvas}static get _context(){return Te.__context||(Te.__context=Te._canvas.getContext("2d",dm)),Te.__context}};let _n=Te;_n.METRICS_STRING="|ÉqÅ";_n.BASELINE_SYMBOL="M";_n.BASELINE_MULTIPLIER=1.4;_n.HEIGHT_MULTIPLIER=2;_n.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(n=>n.segment)}return t=>[...t]})();_n.experimentalLetterSpacing=!1;_n._fonts={};_n._newlines=[10,13];_n._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const yke=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Lh=class{constructor(t){this.styleID=0,this.reset(),Eb(this,t,t)}clone(){const t={};return Eb(t,this,Lh.defaultStyle),new Lh(t)}reset(){Eb(this,Lh.defaultStyle,Lh.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=Sb(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=Sb(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){bke(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=Sb(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let n=e.length-1;n>=0;n--){let r=e[n].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&!yke.includes(r)&&(r=`"${r}"`),e[n]=r}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};let oa=Lh;oa.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Af.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};function B3(t){return typeof t=="number"?w2(t):(typeof t=="string"&&t.startsWith("0x")&&(t=t.replace("0x","#")),t)}function Sb(t){if(Array.isArray(t)){for(let e=0;e<t.length;++e)t[e]=B3(t[e]);return t}else return B3(t)}function bke(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}function Eb(t,e,n){for(const r in n)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}const xke={texture:!0,children:!1,baseTexture:!0},g_=class extends ga{constructor(t,e,n){let r=!1;n||(n=we.ADAPTER.createCanvas(),r=!0),n.width=3,n.height=3;const i=xe.from(n);i.orig=new Ve,i.trim=new Ve,super(i),this._ownCanvas=r,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=g_.defaultResolution??we.RESOLUTION,this._autoResolution=g_.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return _n.experimentalLetterSpacing}static set experimentalLetterSpacing(t){at("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),_n.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const n=this.context,r=_n.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=r.width,s=r.height,o=r.lines,a=r.lineHeight,l=r.lineWidths,c=r.maxLineWidth,h=r.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,i)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+e.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;let f,p;const m=e.dropShadow?2:1;for(let v=0;v<m;++v){const y=e.dropShadow&&v===0,x=y?Math.ceil(Math.max(1,s)+e.padding*2):0,b=x*this._resolution;if(y){n.fillStyle="black",n.strokeStyle="black";const w=e.dropShadowColor,E=hl(typeof w=="number"?w:x0(w)),O=e.dropShadowBlur*this._resolution,A=e.dropShadowDistance*this._resolution;n.shadowColor=`rgba(${E[0]*255},${E[1]*255},${E[2]*255},${e.dropShadowAlpha})`,n.shadowBlur=O,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*A,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*A+b}else n.fillStyle=this._generateFillStyle(e,o,r),n.strokeStyle=e.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let S=(a-h.fontSize)/2;a-h.fontSize<0&&(S=0);for(let w=0;w<o.length;w++)f=e.strokeThickness/2,p=e.strokeThickness/2+w*a+h.ascent+S,e.align==="right"?f+=c-l[w]:e.align==="center"&&(f+=(c-l[w])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(o[w],f+e.padding,p+e.padding-x,!0),e.fill&&this.drawLetterSpacing(o[w],f+e.padding,p+e.padding-x)}this.updateTexture()}drawLetterSpacing(t,e,n,r=!1){const s=this._style.letterSpacing;let o=!1;if(_n.experimentalLetterSpacingSupported&&(_n.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){r?this.context.strokeText(t,e,n):this.context.fillText(t,e,n);return}let a=e;const l=_n.graphemeSegmenter(t);let c=this.context.measureText(t).width,h=0;for(let f=0;f<l.length;++f){const p=l[f];r?this.context.strokeText(p,a,n):this.context.fillText(p,a,n);let m="";for(let v=f+1;v<l.length;++v)m+=l[v];h=this.context.measureText(m).width,a+=c-h+s,c=h}}updateTexture(){const t=this.canvas;if(this._style.trim){const s=nB(t);s.data&&(t.width=s.width,t.height=s.height,this.context.putImageData(s.data,0,0))}const e=this._texture,n=this._style,r=n.trim?0:n.padding,i=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-r,e.trim.y=-r,e.orig.width=e._frame.width-r*2,e.orig.height=e._frame.height-r*2,this._onTextureUpdate(),i.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,n){const r=t.fill;if(Array.isArray(r)){if(r.length===1)return r[0]}else return r;let i;const s=t.dropShadow?t.dropShadowDistance:0,o=t.padding||0,a=this.canvas.width/this._resolution-s-o*2,l=this.canvas.height/this._resolution-s-o*2,c=r.slice(),h=t.fillGradientStops.slice();if(!h.length){const f=c.length+1;for(let p=1;p<f;++p)h.push(p/f)}if(c.unshift(r[0]),h.unshift(0),c.push(r[r.length-1]),h.push(1),t.fillGradientType===Af.LINEAR_VERTICAL){i=this.context.createLinearGradient(a/2,o,a/2,l+o);const f=n.fontProperties.fontSize+t.strokeThickness;for(let p=0;p<e.length;p++){const m=n.lineHeight*(p-1)+f,v=n.lineHeight*p;let y=v;p>0&&m>v&&(y=(v+m)/2);const x=v+f,b=n.lineHeight*(p+1);let S=x;p+1<e.length&&b<x&&(S=(x+b)/2);const w=(S-y)/l;for(let E=0;E<c.length;E++){let O=0;typeof h[E]=="number"?O=h[E]:O=E/c.length;let A=Math.min(1,Math.max(0,y/l+O*w));A=Number(A.toFixed(5)),i.addColorStop(A,c[E])}}}else{i=this.context.createLinearGradient(o,l/2,a+o,l/2);const f=c.length+1;let p=1;for(let m=0;m<c.length;m++){let v;typeof h[m]=="number"?v=h[m]:v=p/f,i.addColorStop(v,c[m]),p++}}return i}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},xke,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=ja(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=ja(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof oa?this._style=t:this._style=new oa(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};let pc=g_;pc.defaultAutoResolution=!0;class _N{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function wke(t,e){var r;let n=!1;if((r=t==null?void 0:t._textures)!=null&&r.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof xe){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),n=!0)}}return n}function _ke(t,e){if(t.baseTexture instanceof He){const n=t.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function Ske(t,e){if(t._texture&&t._texture instanceof xe){const n=t._texture.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function Eke(t,e){return e instanceof pc?(e.updateText(!0),!0):!1}function Cke(t,e){if(e instanceof oa){const n=e.toFontString();return _n.measureFont(n),!0}return!1}function Tke(t,e){if(t instanceof pc){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const n=t._texture.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function Ake(t,e){return t instanceof oa?(e.includes(t)||e.push(t),!0):!1}const SN=class{constructor(t){this.limiter=new _N(SN.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(Tke),this.registerFindHook(Ake),this.registerFindHook(wke),this.registerFindHook(_ke),this.registerFindHook(Ske),this.registerUploadHook(Eke),this.registerUploadHook(Cke)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,dn.system.addOnce(this.tick,this,ia.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed){for(let n=0,r=this.uploadHooks.length;n<r;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)dn.system.addOnce(this.tick,this,ia.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,n=t.length;e<n;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,n=this.addHooks.length;e<n&&!this.addHooks[e](t,this.queue);e++);if(t instanceof er)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&dn.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let jd=SN;jd.uploadsPerFrame=4;Object.defineProperties(we,{UPLOADS_PER_FRAME:{get(){return jd.uploadsPerFrame},set(t){at("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),jd.uploadsPerFrame=t}}});function EN(t,e){return e instanceof He?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function Pke(t,e){if(!(e instanceof fl))return!1;const{geometry:n}=e;e.finishPoly(),n.updateBatches();const{batches:r}=n;for(let i=0;i<r.length;i++){const{texture:s}=r[i].style;s&&EN(t,s.baseTexture)}return n.batchable||t.geometry.bind(n,e._resolveDirectShader(t)),!0}function kke(t,e){return t instanceof fl?(e.push(t),!0):!1}class dC extends jd{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(kke),this.registerUploadHook(EN),this.registerUploadHook(Pke)}}dC.extension={name:"prepare",type:be.RendererSystem};Pe.add(dC);class Oke{constructor(e){this.maxMilliseconds=e,this.frameStart=0}beginFrame(){this.frameStart=Date.now()}allowedToUpload(){return Date.now()-this.frameStart<this.maxMilliseconds}}class Zg extends ga{constructor(e,n=!0){super(e[0]instanceof xe?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=n,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(dn.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(dn.shared.add(this.update,this,ia.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const n=this.animationSpeed*e,r=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=n/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const n=[];for(let r=0;r<e.length;++r)n.push(xe.from(e[r]));return new Zg(n)}static fromImages(e){const n=[];for(let r=0;r<e.length;++r)n.push(xe.from(e[r]));return new Zg(n)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof xe)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let n=0;n<e.length;n++)this._textures.push(e[n].texture),this._durations.push(e[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const n=this.currentFrame;this._currentTime=e,n!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(dn.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(dn.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const xh=new Oe;class fC extends ga{constructor(e,n=100,r=100){super(e),this.tileTransform=new wf,this._width=n,this._height=r,this.uvMatrix=this.texture.uvMatrix||new E0(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,n=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,n,r,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ve),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,xh);const n=this._width,r=this._height,i=-n*this.anchor._x;if(xh.x>=i&&xh.x<i+n){const s=-r*this.anchor._y;if(xh.y>=s&&xh.y<s+r)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,n){const r=e instanceof xe?e:xe.from(e,n);return new fC(r,n.width,n.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var Ike=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,Rke=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Mke=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,N3=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Fke=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const fm=new Nt;class pC extends _f{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new F2,this.state=Fs.for2d()}contextChange(){const e=this.renderer,n={globals:e.globalUniforms};this.simpleShader=ts.from(N3,Fke,n),this.shader=e.context.webGLVersion>1?ts.from(Rke,Ike,n):ts.from(N3,Mke,n)}render(e){const n=this.renderer,r=this.quad;let i=r.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=r.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,r.invalidate();const a=e._texture,l=a.baseTexture,c=l.alphaMode>0,h=e.tileTransform.localTransform,f=e.uvMatrix;let p=l.isPowerOfTwo&&a.frame.width===l.width&&a.frame.height===l.height;p&&(l._glTextures[n.CONTEXT_UID]?p=l.wrapMode!==ks.CLAMP:l.wrapMode===ks.CLAMP&&(l.wrapMode=ks.REPEAT));const m=p?this.simpleShader:this.shader,v=a.width,y=a.height,x=e._width,b=e._height;fm.set(h.a*v/x,h.b*v/b,h.c*y/x,h.d*y/b,h.tx/x,h.ty/b),fm.invert(),p?fm.prepend(f.mapCoord):(m.uniforms.uMapCoord=f.mapCoord.toArray(!0),m.uniforms.uClampFrame=f.uClampFrame,m.uniforms.uClampOffset=f.uClampOffset),m.uniforms.uTransform=fm.toArray(!0),m.uniforms.uColor=E2(e.tint,e.worldAlpha,m.uniforms.uColor,c),m.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),m.uniforms.uSampler=a,n.shader.bind(m),n.geometry.bind(r),this.state.blendMode=S2(e.blendMode,c),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}pC.extension={name:"tilingSprite",type:be.RendererPlugin};Pe.add(pC);const Bh=class{constructor(t,e,n=null){this.linkedSheets=[],this._texture=t instanceof xe?t:null,this.baseTexture=t instanceof He?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const r=this.baseTexture.resource;this.resolution=this._updateResolution(n||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let n=co(t,null);return n===null&&(n=parseFloat(e??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=Bh.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const n=Bh.BATCH_SIZE;for(;e-t<n&&e<this._frameKeys.length;){const r=this._frameKeys[e],i=this._frames[r],s=i.frame;if(s){let o=null,a=null;const l=i.trimmed!==!1&&i.sourceSize?i.sourceSize:i.frame,c=new Ve(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);i.rotated?o=new Ve(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):o=new Ve(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),i.trimmed!==!1&&i.spriteSourceSize&&(a=new Ve(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[r]=new xe(this.baseTexture,o,c,a,i.rotated?2:0,i.anchor),xe.addToCache(this.textures[r],r)}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let n=0;n<t[e].length;n++){const r=t[e][n];this.animations[e].push(this.textures[r])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Bh.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Bh.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var e;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)==null||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let Qg=Bh;Qg.BATCH_SIZE=1e3;const Dke=["jpg","png","jpeg","avif","webp"];function CN(t,e,n){const r={};if(t.forEach(i=>{r[i]=e}),Object.keys(e.textures).forEach(i=>{r[i]=e.textures[i]}),!n){const i=Tn.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const a=CN([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(r,a)})}return r}const TN={extension:be.Asset,cache:{test:t=>t instanceof Qg,getCacheableAssets:(t,e)=>CN(t,e,!1)},resolver:{test:t=>{const n=t.split("?")[0].split("."),r=n.pop(),i=n.pop();return r==="json"&&Dke.includes(i)},parse:t=>{var n;const e=t.split(".");return{resolution:parseFloat(((n=we.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:e[e.length-2],src:t}}},loader:{extension:{type:be.LoadParser,priority:ls.Normal},async testParse(t,e){return Tn.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,n){var c,h;let r=Tn.dirname(e.src);r&&r.lastIndexOf("/")!==r.length-1&&(r+="/");let i=r+t.meta.image;i=Kg(i,e.src);const o=(await n.load([i]))[i],a=new Qg(o.baseTexture,t,e.src);await a.parse();const l=(c=t==null?void 0:t.meta)==null?void 0:c.related_multi_packs;if(Array.isArray(l)){const f=[];for(const m of l){if(typeof m!="string")continue;let v=r+m;(h=e.data)!=null&&h.ignoreMultiPack||(v=Kg(v,e.src),f.push(n.load({src:v,data:{ignoreMultiPack:!0}})))}const p=await Promise.all(f);a.linkedSheets=p,p.forEach(m=>{m.linkedSheets=[a].concat(a.linkedSheets.filter(v=>v!==m))})}return a},unload(t){t.destroy(!0)}}};Pe.add(TN);class Wd{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Zh{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const n=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in n){const o=n[s].match(/^[a-z]+/gm)[0],a=n[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),l={};for(const c in a){const h=a[c].split("="),f=h[0],p=h[1].replace(/"/gm,""),m=parseFloat(p),v=isNaN(m)?p:m;l[f]=v}r[o].push(l)}const i=new Wd;return r.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),r.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),r.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),r.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),r.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),r.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class Jg{static test(e){const n=e;return"getElementsByTagName"in n&&n.getElementsByTagName("page").length&&n.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const n=new Wd,r=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField");for(let c=0;c<r.length;c++)n.info.push({face:r[c].getAttribute("face"),size:parseInt(r[c].getAttribute("size"),10)});for(let c=0;c<i.length;c++)n.common.push({lineHeight:parseInt(i[c].getAttribute("lineHeight"),10)});for(let c=0;c<s.length;c++)n.page.push({id:parseInt(s[c].getAttribute("id"),10)||0,file:s[c].getAttribute("file")});for(let c=0;c<o.length;c++){const h=o[c];n.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(let c=0;c<a.length;c++)n.kerning.push({first:parseInt(a[c].getAttribute("first"),10),second:parseInt(a[c].getAttribute("second"),10),amount:parseInt(a[c].getAttribute("amount"),10)});for(let c=0;c<l.length;c++)n.distanceField.push({fieldType:l[c].getAttribute("fieldType"),distanceRange:parseInt(l[c].getAttribute("distanceRange"),10)});return n}}class ev{static test(e){return typeof e=="string"&&e.includes("<font>")?Jg.test(we.ADAPTER.parseXML(e)):!1}static parse(e){return Jg.parse(we.ADAPTER.parseXML(e))}}const Cb=[Zh,Jg,ev];function AN(t){for(let e=0;e<Cb.length;e++)if(Cb[e].test(t))return Cb[e];return null}function Lke(t,e,n,r,i,s){const o=n.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const l=n.dropShadow?n.dropShadowDistance:0,c=n.padding||0,h=t.width/r-l-c*2,f=t.height/r-l-c*2,p=o.slice(),m=n.fillGradientStops.slice();if(!m.length){const v=p.length+1;for(let y=1;y<v;++y)m.push(y/v)}if(p.unshift(o[0]),m.unshift(0),p.push(o[o.length-1]),m.push(1),n.fillGradientType===Af.LINEAR_VERTICAL){a=e.createLinearGradient(h/2,c,h/2,f+c);let v=0;const x=(s.fontProperties.fontSize+n.strokeThickness)/f;for(let b=0;b<i.length;b++){const S=s.lineHeight*b;for(let w=0;w<p.length;w++){let E=0;typeof m[w]=="number"?E=m[w]:E=w/p.length;const O=S/f+E*x;let A=Math.max(v,O);A=Math.min(A,1),a.addColorStop(A,p[w]),v=A}}}else{a=e.createLinearGradient(c,f/2,h+c,f/2);const v=p.length+1;let y=1;for(let x=0;x<p.length;x++){let b;typeof m[x]=="number"?b=m[x]:b=y/v,a.addColorStop(b,p[x]),y++}}return a}function Bke(t,e,n,r,i,s,o){const a=n.text,l=n.fontProperties;e.translate(r,i),e.scale(s,s);const c=o.strokeThickness/2,h=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=Lke(t,e,o,s,[a],n),e.strokeStyle=o.stroke,o.dropShadow){const f=o.dropShadowColor,p=hl(typeof f=="number"?f:x0(f)),m=o.dropShadowBlur*s,v=o.dropShadowDistance*s;e.shadowColor=`rgba(${p[0]*255},${p[1]*255},${p[2]*255},${o.dropShadowAlpha})`,e.shadowBlur=m,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*v,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*v}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,c,h+n.lineHeight-l.descent),o.fill&&e.fillText(a,c,h+n.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Wm(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function PN(t){return Array.from?Array.from(t):t.split("")}function Nke(t){typeof t=="string"&&(t=[t]);const e=[];for(let n=0,r=t.length;n<r;n++){const i=t[n];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,l=o;a<=l;a++)e.push(String.fromCharCode(a))}else e.push(...PN(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const zi=class{constructor(t,e,n){var c;const[r]=t.info,[i]=t.common,[s]=t.page,[o]=t.distanceField,a=co(s.file),l={};this._ownsTextures=n,this.font=r.face,this.size=r.size,this.lineHeight=i.lineHeight/a,this.chars={},this.pageTextures=l;for(let h=0;h<t.page.length;h++){const{id:f,file:p}=t.page[h];l[f]=e instanceof Array?e[h]:e[p],o!=null&&o.fieldType&&o.fieldType!=="none"&&(l[f].baseTexture.alphaMode=Ai.NO_PREMULTIPLIED_ALPHA,l[f].baseTexture.mipmap=ss.OFF)}for(let h=0;h<t.char.length;h++){const{id:f,page:p}=t.char[h];let{x:m,y:v,width:y,height:x,xoffset:b,yoffset:S,xadvance:w}=t.char[h];m/=a,v/=a,y/=a,x/=a,b/=a,S/=a,w/=a;const E=new Ve(m+l[p].frame.x/a,v+l[p].frame.y/a,y,x);this.chars[f]={xOffset:b,yOffset:S,xAdvance:w,kerning:{},texture:new xe(l[p].baseTexture,E),page:p}}for(let h=0;h<t.kerning.length;h++){let{first:f,second:p,amount:m}=t.kerning[h];f/=a,p/=a,m/=a,this.chars[p]&&(this.chars[p].kerning[f]=m)}this.distanceFieldRange=o==null?void 0:o.distanceRange,this.distanceFieldType=((c=o==null?void 0:o.fieldType)==null?void 0:c.toLowerCase())??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,n){let r;if(t instanceof Wd)r=t;else{const s=AN(t);if(!s)throw new Error("Unrecognized data format for font.");r=s.parse(t)}e instanceof xe&&(e=[e]);const i=new zi(r,e,n);return zi.available[i.font]=i,i}static uninstall(t){const e=zi.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete zi.available[t]}static from(t,e,n){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:r,padding:i,resolution:s,textureWidth:o,textureHeight:a,...l}=Object.assign({},zi.defaultOptions,n),c=Nke(r),h=e instanceof oa?e:new oa(e),f=o,p=new Wd;p.info[0]={face:h.fontFamily,size:h.fontSize},p.common[0]={lineHeight:h.fontSize};let m=0,v=0,y,x,b,S=0;const w=[];for(let O=0;O<c.length;O++){y||(y=we.ADAPTER.createCanvas(),y.width=o,y.height=a,x=y.getContext("2d"),b=new He(y,{resolution:s,...l}),w.push(new xe(b)),p.page.push({id:w.length-1,file:""}));const A=c[O],F=_n.measureText(A,h,!1,y),L=F.width,H=Math.ceil(F.height),V=Math.ceil((h.fontStyle==="italic"?2:1)*L);if(v>=a-H*s){if(v===0)throw new Error(`[BitmapFont] textureHeight ${a}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${A}')`);--O,y=null,x=null,b=null,v=0,m=0,S=0;continue}if(S=Math.max(H+F.fontProperties.descent,S),V*s+m>=f){if(m===0)throw new Error(`[BitmapFont] textureWidth ${o}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${A}')`);--O,v+=S*s,v=Math.ceil(v),m=0,S=0;continue}Bke(y,x,F,m,v,s,h);const z=Wm(F.text);p.char.push({id:z,page:w.length-1,x:m/s,y:v/s,width:V,height:H,xoffset:0,yoffset:0,xadvance:L-(h.dropShadow?h.dropShadowDistance:0)-(h.stroke?h.strokeThickness:0)}),m+=(V+2*i)*s,m=Math.ceil(m)}for(let O=0,A=c.length;O<A;O++){const F=c[O];for(let L=0;L<A;L++){const H=c[L],V=x.measureText(F).width,z=x.measureText(H).width,X=x.measureText(F+H).width-(V+z);X&&p.kerning.push({first:Wm(F),second:Wm(H),amount:X})}}const E=new zi(p,w,!0);return zi.available[t]!==void 0&&zi.uninstall(t),zi.available[t]=E,E}};let Kn=zi;Kn.ALPHA=[["a","z"],["A","Z"]," "];Kn.NUMERIC=[["0","9"]];Kn.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];Kn.ASCII=[[" ","~"]];Kn.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:zi.ALPHANUMERIC};Kn.available={};var $ke=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,Uke=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const $3=[],U3=[],z3=[],kN=class extends er{constructor(t,e={}){super(),this._tint=16777215;const{align:n,tint:r,maxWidth:i,letterSpacing:s,fontName:o,fontSize:a}=Object.assign({},kN.styleDefaults,e);if(!Kn.available[o])throw new Error(`Missing BitmapFont "${o}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tint=r,this._font=void 0,this._fontName=o,this._fontSize=a,this.text=t,this._maxWidth=i,this._maxLineHeight=0,this._letterSpacing=s,this._anchor=new to(()=>{this.dirty=!0},this,0,0),this._roundPixels=we.ROUND_PIXELS,this.dirty=!0,this._resolution=we.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var V;const t=Kn.available[this._fontName],e=this.fontSize,n=e/t.size,r=new Oe,i=[],s=[],o=[],a=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",l=PN(a),c=this._maxWidth*t.size/e,h=t.distanceFieldType==="none"?$3:U3;let f=null,p=0,m=0,v=0,y=-1,x=0,b=0,S=0,w=0;for(let z=0;z<l.length;z++){const j=l[z],X=Wm(j);if(/(?:\s)/.test(j)&&(y=z,x=p,w++),j==="\r"||j===`
`){s.push(p),o.push(-1),m=Math.max(m,p),++v,++b,r.x=0,r.y+=t.lineHeight,f=null,w=0;continue}const K=t.chars[X];if(!K)continue;f&&K.kerning[f]&&(r.x+=K.kerning[f]);const fe=z3.pop()||{texture:xe.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Oe};fe.texture=K.texture,fe.line=v,fe.charCode=X,fe.position.x=Math.round(r.x+K.xOffset+this._letterSpacing/2),fe.position.y=Math.round(r.y+K.yOffset),fe.prevSpaces=w,i.push(fe),p=fe.position.x+Math.max(K.xAdvance-K.xOffset,K.texture.orig.width),r.x+=K.xAdvance+this._letterSpacing,S=Math.max(S,K.yOffset+K.texture.height),f=X,y!==-1&&c>0&&r.x>c&&(++b,Qa(i,1+y-b,1+z-y),z=y,y=-1,s.push(x),o.push(i.length>0?i[i.length-1].prevSpaces:0),m=Math.max(m,x),v++,r.x=0,r.y+=t.lineHeight,f=null,w=0)}const E=l[l.length-1];E!=="\r"&&E!==`
`&&(/(?:\s)/.test(E)&&(p=x),s.push(p),m=Math.max(m,p),o.push(-1));const O=[];for(let z=0;z<=v;z++){let j=0;this._align==="right"?j=m-s[z]:this._align==="center"?j=(m-s[z])/2:this._align==="justify"&&(j=o[z]<0?0:(m-s[z])/o[z]),O.push(j)}const A=i.length,F={},L=[],H=this._activePagesMeshData;h.push(...H);for(let z=0;z<A;z++){const j=i[z].texture,X=j.baseTexture.uid;if(!F[X]){let K=h.pop();if(!K){const ue=new Tf;let Y,Z;t.distanceFieldType==="none"?(Y=new fc(xe.EMPTY),Z=Me.NORMAL):(Y=new fc(xe.EMPTY,{program:mi.from(Uke,$ke),uniforms:{uFWidth:0}}),Z=Me.NORMAL_NPM);const se=new pl(ue,Y);se.blendMode=Z,K={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:se,vertices:null,uvs:null,indices:null}}K.index=0,K.indexCount=0,K.vertexCount=0,K.uvsCount=0,K.total=0;const{_textureCache:fe}=this;fe[X]=fe[X]||new xe(j.baseTexture),K.mesh.texture=fe[X],K.mesh.tint=this._tint,L.push(K),F[X]=K}F[X].total++}for(let z=0;z<H.length;z++)L.includes(H[z])||this.removeChild(H[z].mesh);for(let z=0;z<L.length;z++)L[z].mesh.parent!==this&&this.addChild(L[z].mesh);this._activePagesMeshData=L;for(const z in F){const j=F[z],X=j.total;if(!(((V=j.indices)==null?void 0:V.length)>6*X)||j.vertices.length<pl.BATCHABLE_SIZE*2)j.vertices=new Float32Array(4*2*X),j.uvs=new Float32Array(4*2*X),j.indices=new Uint16Array(6*X);else{const K=j.total,fe=j.vertices;for(let ue=K*4*2;ue<fe.length;ue++)fe[ue]=0}j.mesh.size=6*X}for(let z=0;z<A;z++){const j=i[z];let X=j.position.x+O[j.line]*(this._align==="justify"?j.prevSpaces:1);this._roundPixels&&(X=Math.round(X));const K=X*n,fe=j.position.y*n,ue=j.texture,Y=F[ue.baseTexture.uid],Z=ue.frame,se=ue._uvs,G=Y.index++;Y.indices[G*6+0]=0+G*4,Y.indices[G*6+1]=1+G*4,Y.indices[G*6+2]=2+G*4,Y.indices[G*6+3]=0+G*4,Y.indices[G*6+4]=2+G*4,Y.indices[G*6+5]=3+G*4,Y.vertices[G*8+0]=K,Y.vertices[G*8+1]=fe,Y.vertices[G*8+2]=K+Z.width*n,Y.vertices[G*8+3]=fe,Y.vertices[G*8+4]=K+Z.width*n,Y.vertices[G*8+5]=fe+Z.height*n,Y.vertices[G*8+6]=K,Y.vertices[G*8+7]=fe+Z.height*n,Y.uvs[G*8+0]=se.x0,Y.uvs[G*8+1]=se.y0,Y.uvs[G*8+2]=se.x1,Y.uvs[G*8+3]=se.y1,Y.uvs[G*8+4]=se.x2,Y.uvs[G*8+5]=se.y2,Y.uvs[G*8+6]=se.x3,Y.uvs[G*8+7]=se.y3}this._textWidth=m*n,this._textHeight=(r.y+t.lineHeight)*n;for(const z in F){const j=F[z];if(this.anchor.x!==0||this.anchor.y!==0){let ue=0;const Y=this._textWidth*this.anchor.x,Z=this._textHeight*this.anchor.y;for(let se=0;se<j.total;se++)j.vertices[ue++]-=Y,j.vertices[ue++]-=Z,j.vertices[ue++]-=Y,j.vertices[ue++]-=Z,j.vertices[ue++]-=Y,j.vertices[ue++]-=Z,j.vertices[ue++]-=Y,j.vertices[ue++]-=Z}this._maxLineHeight=S*n;const X=j.mesh.geometry.getBuffer("aVertexPosition"),K=j.mesh.geometry.getBuffer("aTextureCoord"),fe=j.mesh.geometry.getIndex();X.data=j.vertices,K.data=j.uvs,fe.data=j.indices,X.update(),K.update(),fe.update()}for(let z=0;z<i.length;z++)z3.push(i[z]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:n,size:r}=Kn.available[this._fontName];if(n!=="none"){const{a:i,b:s,c:o,d:a}=this.worldTransform,l=Math.sqrt(i*i+s*s),c=Math.sqrt(o*o+a*a),h=(Math.abs(l)+Math.abs(c))/2,f=this.fontSize/r,p=t._view.resolution;for(const m of this._activePagesMeshData)m.mesh.shader.uniforms.uFWidth=h*e*f*p}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=Kn.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tint}set tint(t){if(this._tint!==t){this._tint=t;for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!Kn.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??Kn.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,r=Kn.available[this._fontName].distanceFieldType==="none"?$3:U3;r.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],r.filter(i=>e[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=xe.EMPTY});for(const i in e)e[i].destroy(),delete e[i];this._font=null,this._textureCache=null,super.destroy(t)}};let ON=kN;ON.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const zke=[".xml",".fnt"],IN={extension:{type:be.LoadParser,priority:ls.Normal},test(t){return zke.includes(Tn.extname(t).toLowerCase())},async testParse(t){return Zh.test(t)||ev.test(t)},async parse(t,e,n){const r=Zh.test(t)?Zh.parse(t):ev.parse(t),{src:i}=e,{page:s}=r,o=[];for(let c=0;c<s.length;++c){const h=s[c].file;let f=Tn.join(Tn.dirname(i),h);f=Kg(f,i),o.push(f)}const a=await n.load(o),l=o.map(c=>a[c]);return Kn.install(r,l,!0)},async load(t,e){return(await we.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};Pe.add(IN);const Hke=Object.freeze(Object.defineProperty({__proto__:null,ALPHA_MODES:Ai,AbstractMultiResource:nC,AccessibilityManager:sC,AlphaFilter:LB,AnimatedSprite:Zg,Application:T0,ArrayResource:RB,Assets:Ga,AssetsClass:QB,Attribute:Dd,BLEND_MODES:Me,BUFFER_BITS:$g,BUFFER_TYPE:Ji,BackgroundSystem:A2,BaseImageResource:fo,BasePrepare:jd,BaseRenderTexture:O2,BaseTexture:He,BatchDrawCall:Gg,BatchGeometry:T2,BatchRenderer:hi,BatchShaderGenerator:mB,BatchSystem:P2,BatchTextureArray:Vg,BitmapFont:Kn,BitmapFontData:Wd,BitmapText:ON,BlobResource:sN,BlurFilter:BB,BlurFilterPass:Xg,Bounds:Bd,BrowserAdapter:GL,Buffer:tn,BufferResource:Mc,BufferSystem:eC,CLEAR_MODES:Gi,COLOR_MASK_BITS:WL,Cache:gu,CanvasResource:MB,Circle:uc,ColorMatrixFilter:Yg,CompressedTextureResource:Jo,Container:er,ContextSystem:k2,CountLimiter:_N,CubeResource:rC,DEG_TO_RAD:oB,DRAW_MODES:qi,DisplacementFilter:NB,DisplayObject:Wt,ENV:ma,Ellipse:S0,EventBoundary:zB,EventSystem:iC,ExtensionType:be,Extract:lC,FORMATS:ge,FORMATS_TO_COMPONENTS:aN,FXAAFilter:$B,FederatedDisplayObject:HB,FederatedEvent:Fc,FederatedMouseEvent:Nd,FederatedPointerEvent:oi,FederatedWheelEvent:dl,FillStyle:Cf,Filter:En,FilterState:vB,FilterSystem:D2,Framebuffer:qg,FramebufferSystem:L2,GC_MODES:g0,GLFramebuffer:yB,GLProgram:_B,GLTexture:Um,GRAPHICS_CURVES:ske,GenerateTextureSystem:j2,Geometry:ho,GeometrySystem:B2,Graphics:fl,GraphicsData:Hd,GraphicsGeometry:cC,IGLUniformData:MAe,INSTALLED:Wg,INTERNAL_FORMATS:ur,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:Ud,ImageBitmapResource:Wa,ImageResource:I2,LINE_CAP:jo,LINE_JOIN:ai,LineStyle:k0,LoaderParserPriority:ls,MASK_TYPES:ln,MIPMAP_MODES:ss,MSAA_QUALITY:qt,MaskData:xB,MaskSystem:N2,Matrix:Nt,Mesh:pl,MeshBatchUvs:vN,MeshGeometry:Tf,MeshMaterial:fc,MultisampleSystem:J2,NineSlicePlane:dke,NoiseFilter:UB,ObjectRenderer:_f,ObjectRendererSystem:tC,ObservablePoint:to,PI_2:Ld,PRECISION:Br,ParticleContainer:mke,ParticleRenderer:hC,PlaneGeometry:bN,PluginSystem:z2,Point:Oe,Polygon:Ja,Prepare:dC,Program:mi,ProjectionSystem:H2,Quad:gB,QuadUv:F2,RAD_TO_DEG:sB,RENDERER_TYPE:x2,Rectangle:Ve,RenderTexture:po,RenderTexturePool:M2,RenderTextureSystem:W2,Renderer:El,ResizePlugin:oC,Resource:lc,RopeGeometry:xN,RoundedRectangle:cc,Runner:Wr,SAMPLER_TYPES:Ug,SCALE_MODES:Cs,SHAPES:Sn,SVGResource:hc,ScissorSystem:$2,Shader:ts,ShaderSystem:G2,SimpleMesh:fke,SimplePlane:wN,SimpleRope:pke,Sprite:ga,SpriteMaskFilter:bB,Spritesheet:Qg,StartupSystem:V2,State:Fs,StateSystem:q2,StencilSystem:U2,SystemManager:PB,TARGETS:Za,TEXT_GRADIENT:Af,TYPES:ke,TYPES_TO_BYTES_PER_COMPONENT:h_,TYPES_TO_BYTES_PER_PIXEL:lN,TemporaryDisplayObject:FB,Text:pc,TextFormat:Zh,TextMetrics:_n,TextStyle:oa,Texture:xe,TextureGCSystem:di,TextureMatrix:E0,TextureSystem:X2,TextureUvs:R2,Ticker:dn,TickerPlugin:Z2,TilingSprite:fC,TilingSpriteRenderer:pC,TimeLimiter:Oke,Transform:wf,TransformFeedback:KAe,TransformFeedbackSystem:Y2,UPDATE_PRIORITY:ia,UniformGroup:bi,VERSION:ZAe,VideoResource:C0,ViewSystem:K2,ViewableBuffer:jg,WRAP_MODES:ks,XMLFormat:Jg,XMLStringFormat:ev,accessibleTarget:jB,autoDetectFormat:AN,autoDetectRenderer:OB,autoDetectResource:C2,cacheTextureArray:JB,checkDataUrl:aC,checkExtension:Sf,checkMaxIfStatementsInShader:iB,convertToList:Os,copySearchParams:Kg,createStringVariations:GB,createTexture:Ef,createUBOElements:CB,curves:sa,defaultFilterVertex:Q2,defaultVertex:IB,detectAvif:eN,detectCompressedTextures:iN,detectDefaults:nN,detectWebp:tN,extensions:Pe,filters:l_,generateProgram:SB,generateUniformBufferSync:AB,getFontFamilyName:XB,getTestContext:hB,getUBOData:TB,graphicsUtils:uke,groupD8:zt,isMobile:Xi,isSingleItem:$d,loadBitmapFont:IN,loadDDS:cN,loadImageBitmap:KB,loadJson:VB,loadKTX:hN,loadSVG:ZB,loadTextures:dc,loadTxt:qB,loadWebFont:YB,parseDDS:oN,parseKTX:uN,resolveCompressedTextureUrl:dN,resolveTextureUrl:rN,settings:we,spritesheetAsset:TN,uniformParsers:el,unsafeEvalSupported:pB,utils:nAe},Symbol.toStringTag,{value:"Module"})),jke=pH(Hke);var tv=hr&&hr.__assign||function(){return tv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},tv.apply(this,arguments)},RN=void 0,ps=jke,Wke={dash:[10,5],width:1,color:16777215,alpha:1,scale:1,useTexture:!1,alignment:.5},Gke=function(){function t(e,n){n===void 0&&(n={}),this.cursor=new ps.Point,this.scale=1,this.graphics=e,n=tv(tv({},Wke),n),this.dash=n.dash,this.dashSize=this.dash.reduce(function(r,i){return r+i}),this.useTexture=n.useTexture,this.options=n,this.setLineStyle()}return t.prototype.setLineStyle=function(){var e=this.options;if(this.useTexture){var n=t.getTexture(e,this.dashSize);this.graphics.lineTextureStyle({width:e.width*e.scale,color:e.color,alpha:e.alpha,texture:n,alignment:e.alignment}),this.activeTexture=n}else this.graphics.lineStyle({width:e.width*e.scale,color:e.color,alpha:e.alpha,cap:e.cap,join:e.join,alignment:e.alignment});this.scale=e.scale},t.distance=function(e,n,r,i){return Math.sqrt(Math.pow(r-e,2)+Math.pow(i-n,2))},t.prototype.moveTo=function(e,n){return this.lineLength=0,this.cursor.set(e,n),this.start=new ps.Point(e,n),this.graphics.moveTo(this.cursor.x,this.cursor.y),this},t.prototype.lineTo=function(e,n,r){typeof this.lineLength===void 0&&this.moveTo(0,0);var i=t.distance(this.cursor.x,this.cursor.y,e,n),s=Math.atan2(n-this.cursor.y,e-this.cursor.x),o=r&&e===this.start.x&&n===this.start.y;if(this.useTexture)if(this.graphics.moveTo(this.cursor.x,this.cursor.y),this.adjustLineStyle(s),o&&this.dash.length%2===0){var a=Math.min(this.dash[this.dash.length-1],i);this.graphics.lineTo(e-Math.cos(s)*a,n-Math.sin(s)*a),this.graphics.closePath()}else this.graphics.lineTo(e,n);else{for(var l=Math.cos(s),c=Math.sin(s),h=this.cursor.x,f=this.cursor.y,p=this.lineLength%(this.dashSize*this.scale),m=0,v=0,y=0,x=0;x<this.dash.length;x++){var b=this.dash[x]*this.scale;if(p<y+b){m=x,v=p-y;break}else y+=b}for(var S=i;S>0;){var b=this.dash[m]*this.scale-v,w=S>b?b:S;if(o){var E=t.distance(h+l*w,f+c*w,this.start.x,this.start.y);if(E<=w){if(m%2===0){var O=t.distance(h,f,this.start.x,this.start.y)-this.dash[this.dash.length-1]*this.scale;h+=l*O,f+=c*O,this.graphics.lineTo(h,f)}break}}h+=l*w,f+=c*w,m%2?this.graphics.moveTo(h,f):this.graphics.lineTo(h,f),S-=w,m++,m=m===this.dash.length?0:m,v=0}}return this.lineLength+=i,this.cursor.set(e,n),this},t.prototype.closePath=function(){this.lineTo(this.start.x,this.start.y,!0)},t.prototype.drawCircle=function(e,n,r,i,s){i===void 0&&(i=80);var o=Math.PI*2/i,a=0,l;s?(l=new ps.Point(e+Math.cos(a)*r,n+Math.sin(a)*r),s.apply(l,l),this.moveTo(l[0],l[1])):(l=new ps.Point(e+Math.cos(a)*r,n+Math.sin(a)*r),this.moveTo(l.x,l.y)),a+=o;for(var c=1;c<i+1;c++){var h=c===i?l:[e+Math.cos(a)*r,n+Math.sin(a)*r];this.lineTo(h[0],h[1]),a+=o}return this},t.prototype.drawEllipse=function(e,n,r,i,s,o){s===void 0&&(s=80);for(var a=Math.PI*2/s,l,c=new ps.Point,h=0;h<Math.PI*2;h+=a){var f=e-r*Math.sin(h),p=n-i*Math.cos(h);o&&(c.set(f,p),o.apply(c,c),f=c.x,p=c.y),h===0?(this.moveTo(f,p),l={x:f,y:p}):this.lineTo(f,p)}return this.lineTo(l.x,l.y,!0),this},t.prototype.drawPolygon=function(e,n){var r=new ps.Point;if(typeof e[0]=="number")if(n){r.set(e[0],e[1]),n.apply(r,r),this.moveTo(r.x,r.y);for(var i=2;i<e.length;i+=2)r.set(e[i],e[i+1]),n.apply(r,r),this.lineTo(r.x,r.y,i===e.length-2)}else{this.moveTo(e[0],e[1]);for(var i=2;i<e.length;i+=2)this.lineTo(e[i],e[i+1],i===e.length-2)}else if(n){var s=e[0];r.copyFrom(s),n.apply(r,r),this.moveTo(r.x,r.y);for(var i=1;i<e.length;i++){var o=e[i];r.copyFrom(o),n.apply(r,r),this.lineTo(r.x,r.y,i===e.length-1)}}else{var s=e[0];this.moveTo(s.x,s.y);for(var i=1;i<e.length;i++){var a=e[i];this.lineTo(a.x,a.y,i===e.length-1)}}return this},t.prototype.drawRect=function(e,n,r,i,s){if(s){var o=new ps.Point;o.set(e,n),s.apply(o,o),this.moveTo(o.x,o.y),o.set(e+r,n),s.apply(o,o),this.lineTo(o.x,o.y),o.set(e+r,n+i),s.apply(o,o),this.lineTo(o.x,o.y),o.set(e,n+i),s.apply(o,o),this.lineTo(o.x,o.y),o.set(e,n),s.apply(o,o),this.lineTo(o.x,o.y,!0)}else this.moveTo(e,n).lineTo(e+r,n).lineTo(e+r,n+i).lineTo(e,n+i).lineTo(e,n,!0);return this},t.prototype.adjustLineStyle=function(e){var n=this.graphics.line;n.matrix=new ps.Matrix,e&&n.matrix.rotate(e),this.scale!==1&&n.matrix.scale(this.scale,this.scale);var r=-this.lineLength;n.matrix.translate(this.cursor.x+r*Math.cos(e),this.cursor.y+r*Math.sin(e)),this.graphics.lineStyle(n)},t.getTexture=function(e,n){var r=e.dash.toString();if(t.dashTextureCache[r])return t.dashTextureCache[r];var i=document.createElement("canvas");i.width=n,i.height=Math.ceil(e.width);var s=i.getContext("2d");if(!s){console.warn("Did not get context from canvas");return}s.strokeStyle="white",s.globalAlpha=e.alpha,s.lineWidth=e.width;var o=0,a=e.width/2;s.moveTo(o,a);for(var l=0;l<e.dash.length;l+=2)o+=e.dash[l],s.lineTo(o,a),e.dash.length!==l+1&&(o+=e.dash[l+1],s.moveTo(o,a));s.stroke();var c=t.dashTextureCache[r]=ps.Texture.from(i);return c.baseTexture.scaleMode=ps.SCALE_MODES.NEAREST,c},t.dashTextureCache={},t}();RN=Gke;var Vke=Object.defineProperty,qke=(t,e,n)=>e in t?Vke(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ae=(t,e,n)=>(qke(t,typeof e!="symbol"?e+"":e,n),n);class Pi{constructor(e){ae(this,"parent"),ae(this,"paused"),this.parent=e,this.paused=!1}destroy(){}down(e){return!1}move(e){return!1}up(e){return!1}wheel(e){return!1}update(e){}resize(){}reset(){}pause(){this.paused=!0}resume(){this.paused=!1}}var Xke=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},MN={exports:{}};(function(t,e){(function(){var n,r;r=function(i){return t.exports=i},n={linear:function(i,s,o,a){return o*i/a+s},easeInQuad:function(i,s,o,a){return o*(i/=a)*i+s},easeOutQuad:function(i,s,o,a){return-o*(i/=a)*(i-2)+s},easeInOutQuad:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i+s:-o/2*(--i*(i-2)-1)+s},easeInCubic:function(i,s,o,a){return o*(i/=a)*i*i+s},easeOutCubic:function(i,s,o,a){return o*((i=i/a-1)*i*i+1)+s},easeInOutCubic:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i+s:o/2*((i-=2)*i*i+2)+s},easeInQuart:function(i,s,o,a){return o*(i/=a)*i*i*i+s},easeOutQuart:function(i,s,o,a){return-o*((i=i/a-1)*i*i*i-1)+s},easeInOutQuart:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i*i+s:-o/2*((i-=2)*i*i*i-2)+s},easeInQuint:function(i,s,o,a){return o*(i/=a)*i*i*i*i+s},easeOutQuint:function(i,s,o,a){return o*((i=i/a-1)*i*i*i*i+1)+s},easeInOutQuint:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i*i*i+s:o/2*((i-=2)*i*i*i*i+2)+s},easeInSine:function(i,s,o,a){return-o*Math.cos(i/a*(Math.PI/2))+o+s},easeOutSine:function(i,s,o,a){return o*Math.sin(i/a*(Math.PI/2))+s},easeInOutSine:function(i,s,o,a){return-o/2*(Math.cos(Math.PI*i/a)-1)+s},easeInExpo:function(i,s,o,a){return i===0?s:o*Math.pow(2,10*(i/a-1))+s},easeOutExpo:function(i,s,o,a){return i===a?s+o:o*(-Math.pow(2,-10*i/a)+1)+s},easeInOutExpo:function(i,s,o,a){return(i/=a/2)<1?o/2*Math.pow(2,10*(i-1))+s:o/2*(-Math.pow(2,-10*--i)+2)+s},easeInCirc:function(i,s,o,a){return-o*(Math.sqrt(1-(i/=a)*i)-1)+s},easeOutCirc:function(i,s,o,a){return o*Math.sqrt(1-(i=i/a-1)*i)+s},easeInOutCirc:function(i,s,o,a){return(i/=a/2)<1?-o/2*(Math.sqrt(1-i*i)-1)+s:o/2*(Math.sqrt(1-(i-=2)*i)+1)+s},easeInElastic:function(i,s,o,a){var l,c,h;return h=1.70158,c=0,l=o,i===0||(i/=a),c||(c=a*.3),l<Math.abs(o)?(l=o,h=c/4):h=c/(2*Math.PI)*Math.asin(o/l),-(l*Math.pow(2,10*(i-=1))*Math.sin((i*a-h)*(2*Math.PI)/c))+s},easeOutElastic:function(i,s,o,a){var l,c,h;return h=1.70158,c=0,l=o,i===0||(i/=a),c||(c=a*.3),l<Math.abs(o)?(l=o,h=c/4):h=c/(2*Math.PI)*Math.asin(o/l),l*Math.pow(2,-10*i)*Math.sin((i*a-h)*(2*Math.PI)/c)+o+s},easeInOutElastic:function(i,s,o,a){var l,c,h;return h=1.70158,c=0,l=o,i===0||(i/=a/2),c||(c=a*(.3*1.5)),l<Math.abs(o)?(l=o,h=c/4):h=c/(2*Math.PI)*Math.asin(o/l),i<1?-.5*(l*Math.pow(2,10*(i-=1))*Math.sin((i*a-h)*(2*Math.PI)/c))+s:l*Math.pow(2,-10*(i-=1))*Math.sin((i*a-h)*(2*Math.PI)/c)*.5+o+s},easeInBack:function(i,s,o,a,l){return l===void 0&&(l=1.70158),o*(i/=a)*i*((l+1)*i-l)+s},easeOutBack:function(i,s,o,a,l){return l===void 0&&(l=1.70158),o*((i=i/a-1)*i*((l+1)*i+l)+1)+s},easeInOutBack:function(i,s,o,a,l){return l===void 0&&(l=1.70158),(i/=a/2)<1?o/2*(i*i*(((l*=1.525)+1)*i-l))+s:o/2*((i-=2)*i*(((l*=1.525)+1)*i+l)+2)+s},easeInBounce:function(i,s,o,a){var l;return l=n.easeOutBounce(a-i,0,o,a),o-l+s},easeOutBounce:function(i,s,o,a){return(i/=a)<1/2.75?o*(7.5625*i*i)+s:i<2/2.75?o*(7.5625*(i-=1.5/2.75)*i+.75)+s:i<2.5/2.75?o*(7.5625*(i-=2.25/2.75)*i+.9375)+s:o*(7.5625*(i-=2.625/2.75)*i+.984375)+s},easeInOutBounce:function(i,s,o,a){var l;return i<a/2?(l=n.easeInBounce(i*2,0,o,a),l*.5+s):(l=n.easeOutBounce(i*2-a,0,o,a),l*.5+o*.5+s)}},r(n)}).call(Xke)})(MN);const H3=MN.exports;function O0(t,e){if(t){if(typeof t=="function")return t;if(typeof t=="string")return H3[t]}else return H3[e]}const Yke={removeOnInterrupt:!1,ease:"linear",time:1e3};class Kke extends Pi{constructor(e,n={}){super(e),ae(this,"options"),ae(this,"startX"),ae(this,"startY"),ae(this,"deltaX"),ae(this,"deltaY"),ae(this,"keepCenter"),ae(this,"startWidth",null),ae(this,"startHeight",null),ae(this,"deltaWidth",null),ae(this,"deltaHeight",null),ae(this,"width",null),ae(this,"height",null),ae(this,"time",0),this.options=Object.assign({},Yke,n),this.options.ease=O0(this.options.ease),this.setupPosition(),this.setupZoom(),this.time=0}setupPosition(){typeof this.options.position<"u"?(this.startX=this.parent.center.x,this.startY=this.parent.center.y,this.deltaX=this.options.position.x-this.parent.center.x,this.deltaY=this.options.position.y-this.parent.center.y,this.keepCenter=!1):this.keepCenter=!0}setupZoom(){this.width=null,this.height=null,typeof this.options.scale<"u"?this.width=this.parent.screenWidth/this.options.scale:typeof this.options.scaleX<"u"||typeof this.options.scaleY<"u"?(typeof this.options.scaleX<"u"&&(this.width=this.parent.screenWidth/this.options.scaleX),typeof this.options.scaleY<"u"&&(this.height=this.parent.screenHeight/this.options.scaleY)):(typeof this.options.width<"u"&&(this.width=this.options.width),typeof this.options.height<"u"&&(this.height=this.options.height)),this.width!==null&&(this.startWidth=this.parent.screenWidthInWorldPixels,this.deltaWidth=this.width-this.startWidth),this.height!==null&&(this.startHeight=this.parent.screenHeightInWorldPixels,this.deltaHeight=this.height-this.startHeight)}down(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("animate"),!1}complete(){this.parent.plugins.remove("animate"),this.width!==null&&this.parent.fitWidth(this.width,this.keepCenter,this.height===null),this.height!==null&&this.parent.fitHeight(this.height,this.keepCenter,this.width===null),!this.keepCenter&&this.options.position&&this.parent.moveCenter(this.options.position),this.parent.emit("animate-end",this.parent),this.options.callbackOnComplete&&this.options.callbackOnComplete(this.parent)}update(e){if(this.paused)return;this.time+=e;const n=new Oe(this.parent.scale.x,this.parent.scale.y);if(this.time>=this.options.time){const r=this.parent.width,i=this.parent.height;this.complete(),(r!==this.parent.width||i!==this.parent.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:n,type:"animate"})}else{const r=this.options.ease(this.time,0,1,this.options.time);if(this.width!==null){const i=this.startWidth,s=this.deltaWidth;this.parent.fitWidth(i+s*r,this.keepCenter,this.height===null)}if(this.height!==null){const i=this.startHeight,s=this.deltaHeight;this.parent.fitHeight(i+s*r,this.keepCenter,this.width===null)}if(this.width===null?this.parent.scale.x=this.parent.scale.y:this.height===null&&(this.parent.scale.y=this.parent.scale.x),!this.keepCenter){const i=this.startX,s=this.startY,o=this.deltaX,a=this.deltaY,l=new Oe(this.parent.x,this.parent.y);this.parent.moveCenter(i+o*r,s+a*r),this.parent.emit("moved",{viewport:this.parent,original:l,type:"animate"})}(this.width||this.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:n,type:"animate"})}}}const Zke={sides:"all",friction:.5,time:150,ease:"easeInOutSine",underflow:"center",bounceBox:null};class Qke extends Pi{constructor(e,n={}){super(e),ae(this,"options"),ae(this,"left"),ae(this,"top"),ae(this,"right"),ae(this,"bottom"),ae(this,"underflowX"),ae(this,"underflowY"),ae(this,"ease"),ae(this,"toX"),ae(this,"toY"),this.options=Object.assign({},Zke,n),this.ease=O0(this.options.ease,"easeInOutSine"),this.options.sides?this.options.sides==="all"?this.top=this.bottom=this.left=this.right=!0:this.options.sides==="horizontal"?(this.right=this.left=!0,this.top=this.bottom=!1):this.options.sides==="vertical"?(this.left=this.right=!1,this.top=this.bottom=!0):(this.top=this.options.sides.indexOf("top")!==-1,this.bottom=this.options.sides.indexOf("bottom")!==-1,this.left=this.options.sides.indexOf("left")!==-1,this.right=this.options.sides.indexOf("right")!==-1):this.left=this.top=this.right=this.bottom=!1;const r=this.options.underflow.toLowerCase();r==="center"?(this.underflowX=0,this.underflowY=0):(this.underflowX=r.indexOf("left")!==-1?-1:r.indexOf("right")!==-1?1:0,this.underflowY=r.indexOf("top")!==-1?-1:r.indexOf("bottom")!==-1?1:0),this.reset()}isActive(){return this.toX!==null||this.toY!==null}down(){return this.toX=this.toY=null,!1}up(){return this.bounce(),!1}update(e){if(!this.paused){if(this.bounce(),this.toX){const n=this.toX;n.time+=e,this.parent.emit("moved",{viewport:this.parent,type:"bounce-x"}),n.time>=this.options.time?(this.parent.x=n.end,this.toX=null,this.parent.emit("bounce-x-end",this.parent)):this.parent.x=this.ease(n.time,n.start,n.delta,this.options.time)}if(this.toY){const n=this.toY;n.time+=e,this.parent.emit("moved",{viewport:this.parent,type:"bounce-y"}),n.time>=this.options.time?(this.parent.y=n.end,this.toY=null,this.parent.emit("bounce-y-end",this.parent)):this.parent.y=this.ease(n.time,n.start,n.delta,this.options.time)}}}calcUnderflowX(){let e;switch(this.underflowX){case-1:e=0;break;case 1:e=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:e=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}return e}calcUnderflowY(){let e;switch(this.underflowY){case-1:e=0;break;case 1:e=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:e=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}return e}oob(){const e=this.options.bounceBox;if(e){const n=typeof e.x>"u"?0:e.x,r=typeof e.y>"u"?0:e.y,i=typeof e.width>"u"?this.parent.worldWidth:e.width,s=typeof e.height>"u"?this.parent.worldHeight:e.height;return{left:this.parent.left<n,right:this.parent.right>i,top:this.parent.top<r,bottom:this.parent.bottom>s,topLeft:new Oe(n*this.parent.scale.x,r*this.parent.scale.y),bottomRight:new Oe(i*this.parent.scale.x-this.parent.screenWidth,s*this.parent.scale.y-this.parent.screenHeight)}}return{left:this.parent.left<0,right:this.parent.right>this.parent.worldWidth,top:this.parent.top<0,bottom:this.parent.bottom>this.parent.worldHeight,topLeft:new Oe(0,0),bottomRight:new Oe(this.parent.worldWidth*this.parent.scale.x-this.parent.screenWidth,this.parent.worldHeight*this.parent.scale.y-this.parent.screenHeight)}}bounce(){var e,n;if(this.paused)return;let r,i=this.parent.plugins.get("decelerate",!0);i&&(i.x||i.y)&&(i.x&&i.percentChangeX===((e=i.options)==null?void 0:e.friction)||i.y&&i.percentChangeY===((n=i.options)==null?void 0:n.friction))&&(r=this.oob(),(r.left&&this.left||r.right&&this.right)&&(i.percentChangeX=this.options.friction),(r.top&&this.top||r.bottom&&this.bottom)&&(i.percentChangeY=this.options.friction));const s=this.parent.plugins.get("drag",!0)||{},o=this.parent.plugins.get("pinch",!0)||{};if(i=i||{},!(s!=null&&s.active)&&!(o!=null&&o.active)&&(!this.toX||!this.toY)&&(!i.x||!i.y)){r=r||this.oob();const a=r.topLeft,l=r.bottomRight;if(!this.toX&&!i.x){let c=null;r.left&&this.left?c=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-a.x:r.right&&this.right&&(c=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-l.x),c!==null&&this.parent.x!==c&&(this.toX={time:0,start:this.parent.x,delta:c-this.parent.x,end:c},this.parent.emit("bounce-x-start",this.parent))}if(!this.toY&&!i.y){let c=null;r.top&&this.top?c=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-a.y:r.bottom&&this.bottom&&(c=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-l.y),c!==null&&this.parent.y!==c&&(this.toY={time:0,start:this.parent.y,delta:c-this.parent.y,end:c},this.parent.emit("bounce-y-start",this.parent))}}}reset(){this.toX=this.toY=null,this.bounce()}}const Jke={left:!1,right:!1,top:!1,bottom:!1,direction:null,underflow:"center"};class eOe extends Pi{constructor(e,n={}){super(e),ae(this,"options"),ae(this,"last"),ae(this,"noUnderflow"),ae(this,"underflowX"),ae(this,"underflowY"),this.options=Object.assign({},Jke,n),this.options.direction&&(this.options.left=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.right=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.top=this.options.direction==="y"||this.options.direction==="all"?!0:null,this.options.bottom=this.options.direction==="y"||this.options.direction==="all"?!0:null),this.parseUnderflow(),this.last={x:null,y:null,scaleX:null,scaleY:null},this.update()}parseUnderflow(){const e=this.options.underflow.toLowerCase();e==="none"?this.noUnderflow=!0:e==="center"?(this.underflowX=this.underflowY=0,this.noUnderflow=!1):(this.underflowX=e.indexOf("left")!==-1?-1:e.indexOf("right")!==-1?1:0,this.underflowY=e.indexOf("top")!==-1?-1:e.indexOf("bottom")!==-1?1:0,this.noUnderflow=!1)}move(){return this.update(),!1}update(){if(this.paused||this.parent.x===this.last.x&&this.parent.y===this.last.y&&this.parent.scale.x===this.last.scaleX&&this.parent.scale.y===this.last.scaleY)return;const e=new Oe(this.parent.x,this.parent.y),n=this.parent.plugins.decelerate||{};if(this.options.left!==null||this.options.right!==null){let r=!1;if(!this.noUnderflow&&this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x!==0&&(this.parent.x=0,r=!0);break;case 1:this.parent.x!==this.parent.screenWidth-this.parent.screenWorldWidth&&(this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth,r=!0);break;default:this.parent.x!==(this.parent.screenWidth-this.parent.screenWorldWidth)/2&&(this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2,r=!0)}else this.options.left!==null&&this.parent.left<(this.options.left===!0?0:this.options.left)&&(this.parent.x=-(this.options.left===!0?0:this.options.left)*this.parent.scale.x,n.x=0,r=!0),this.options.right!==null&&this.parent.right>(this.options.right===!0?this.parent.worldWidth:this.options.right)&&(this.parent.x=-(this.options.right===!0?this.parent.worldWidth:this.options.right)*this.parent.scale.x+this.parent.screenWidth,n.x=0,r=!0);r&&this.parent.emit("moved",{viewport:this.parent,original:e,type:"clamp-x"})}if(this.options.top!==null||this.options.bottom!==null){let r=!1;if(!this.noUnderflow&&this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y!==0&&(this.parent.y=0,r=!0);break;case 1:this.parent.y!==this.parent.screenHeight-this.parent.screenWorldHeight&&(this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight,r=!0);break;default:this.parent.y!==(this.parent.screenHeight-this.parent.screenWorldHeight)/2&&(this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2,r=!0)}else this.options.top!==null&&this.parent.top<(this.options.top===!0?0:this.options.top)&&(this.parent.y=-(this.options.top===!0?0:this.options.top)*this.parent.scale.y,n.y=0,r=!0),this.options.bottom!==null&&this.parent.bottom>(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)&&(this.parent.y=-(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)*this.parent.scale.y+this.parent.screenHeight,n.y=0,r=!0);r&&this.parent.emit("moved",{viewport:this.parent,original:e,type:"clamp-y"})}this.last.x=this.parent.x,this.last.y=this.parent.y,this.last.scaleX=this.parent.scale.x,this.last.scaleY=this.parent.scale.y}reset(){this.update()}}const tOe={minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,minScale:null,maxScale:null};class nOe extends Pi{constructor(e,n={}){super(e),ae(this,"options"),this.options=Object.assign({},tOe,n),this.clamp()}resize(){this.clamp()}clamp(){if(!this.paused){if(this.options.minWidth||this.options.minHeight||this.options.maxWidth||this.options.maxHeight){let e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight;if(this.options.minWidth!==null&&e<this.options.minWidth){const r=this.parent.scale.x;this.parent.fitWidth(this.options.minWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/r,e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxWidth!==null&&e>this.options.maxWidth){const r=this.parent.scale.x;this.parent.fitWidth(this.options.maxWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/r,e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.minHeight!==null&&n<this.options.minHeight){const r=this.parent.scale.y;this.parent.fitHeight(this.options.minHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/r,e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxHeight!==null&&n>this.options.maxHeight){const r=this.parent.scale.y;this.parent.fitHeight(this.options.maxHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/r,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}}else if(this.options.minScale||this.options.maxScale){const e={x:null,y:null},n={x:null,y:null};if(typeof this.options.minScale=="number")e.x=this.options.minScale,e.y=this.options.minScale;else if(this.options.minScale!==null){const s=this.options.minScale;e.x=typeof s.x>"u"?null:s.x,e.y=typeof s.y>"u"?null:s.y}if(typeof this.options.maxScale=="number")n.x=this.options.maxScale,n.y=this.options.maxScale;else if(this.options.maxScale!==null){const s=this.options.maxScale;n.x=typeof s.x>"u"?null:s.x,n.y=typeof s.y>"u"?null:s.y}let r=this.parent.scale.x,i=this.parent.scale.y;e.x!==null&&r<e.x&&(r=e.x),n.x!==null&&r>n.x&&(r=n.x),e.y!==null&&i<e.y&&(i=e.y),n.y!==null&&i>n.y&&(i=n.y),(r!==this.parent.scale.x||i!==this.parent.scale.y)&&(this.parent.scale.set(r,i),this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"}))}}}reset(){this.clamp()}}const rOe={friction:.98,bounce:.8,minSpeed:.01},Fo=16;class iOe extends Pi{constructor(e,n={}){super(e),ae(this,"options"),ae(this,"x"),ae(this,"y"),ae(this,"percentChangeX"),ae(this,"percentChangeY"),ae(this,"saved"),ae(this,"timeSinceRelease"),this.options=Object.assign({},rOe,n),this.saved=[],this.timeSinceRelease=0,this.reset(),this.parent.on("moved",r=>this.handleMoved(r))}down(){return this.saved=[],this.x=this.y=null,!1}isActive(){return!!(this.x||this.y)}move(){if(this.paused)return!1;const e=this.parent.input.count();return(e===1||e>1&&!this.parent.plugins.get("pinch",!0))&&(this.saved.push({x:this.parent.x,y:this.parent.y,time:performance.now()}),this.saved.length>60&&this.saved.splice(0,30)),!1}handleMoved(e){if(this.saved.length){const n=this.saved[this.saved.length-1];e.type==="clamp-x"&&e.original?n.x===e.original.x&&(n.x=this.parent.x):e.type==="clamp-y"&&e.original&&n.y===e.original.y&&(n.y=this.parent.y)}}up(){if(this.parent.input.count()===0&&this.saved.length){const e=performance.now();for(const n of this.saved)if(n.time>=e-100){const r=e-n.time;this.x=(this.parent.x-n.x)/r,this.y=(this.parent.y-n.y)/r,this.percentChangeX=this.percentChangeY=this.options.friction,this.timeSinceRelease=0;break}}return!1}activate(e){e=e||{},typeof e.x<"u"&&(this.x=e.x,this.percentChangeX=this.options.friction),typeof e.y<"u"&&(this.y=e.y,this.percentChangeY=this.options.friction)}update(e){if(this.paused)return;const n=this.x||this.y,r=this.timeSinceRelease,i=this.timeSinceRelease+e;if(this.x){const s=this.percentChangeX,o=Math.log(s);this.parent.x+=this.x*Fo/o*(Math.pow(s,i/Fo)-Math.pow(s,r/Fo)),this.x*=Math.pow(this.percentChangeX,e/Fo)}if(this.y){const s=this.percentChangeY,o=Math.log(s);this.parent.y+=this.y*Fo/o*(Math.pow(s,i/Fo)-Math.pow(s,r/Fo)),this.y*=Math.pow(this.percentChangeY,e/Fo)}this.timeSinceRelease+=e,this.x&&this.y?Math.abs(this.x)<this.options.minSpeed&&Math.abs(this.y)<this.options.minSpeed&&(this.x=0,this.y=0):(Math.abs(this.x||0)<this.options.minSpeed&&(this.x=0),Math.abs(this.y||0)<this.options.minSpeed&&(this.y=0)),n&&this.parent.emit("moved",{viewport:this.parent,type:"decelerate"})}reset(){this.x=this.y=null}}const sOe={direction:"all",pressDrag:!0,wheel:!0,wheelScroll:1,reverse:!1,clampWheel:!1,underflow:"center",factor:1,mouseButtons:"all",keyToPress:null,ignoreKeyToPressOnTouch:!1,lineHeight:20,wheelSwapAxes:!1};class oOe extends Pi{constructor(e,n={}){super(e),ae(this,"options"),ae(this,"moved"),ae(this,"reverse"),ae(this,"xDirection"),ae(this,"yDirection"),ae(this,"keyIsPressed"),ae(this,"mouse"),ae(this,"underflowX"),ae(this,"underflowY"),ae(this,"last"),ae(this,"current"),ae(this,"windowEventHandlers",[]),this.options=Object.assign({},sOe,n),this.moved=!1,this.reverse=this.options.reverse?1:-1,this.xDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="x",this.yDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="y",this.keyIsPressed=!1,this.parseUnderflow(),this.mouseButtons(this.options.mouseButtons),this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(e){const n=i=>{e.includes(i.code)&&(this.keyIsPressed=!0)},r=i=>{e.includes(i.code)&&(this.keyIsPressed=!1)};this.addWindowEventHandler("keyup",r),this.addWindowEventHandler("keydown",n)}addWindowEventHandler(e,n){window.addEventListener(e,n),this.windowEventHandlers.push({event:e,handler:n})}destroy(){this.windowEventHandlers.forEach(({event:e,handler:n})=>{window.removeEventListener(e,n)})}mouseButtons(e){!e||e==="all"?this.mouse=[!0,!0,!0]:this.mouse=[e.indexOf("left")!==-1,e.indexOf("middle")!==-1,e.indexOf("right")!==-1]}parseUnderflow(){const e=this.options.underflow.toLowerCase();e==="center"?(this.underflowX=0,this.underflowY=0):(e.includes("left")?this.underflowX=-1:e.includes("right")?this.underflowX=1:this.underflowX=0,e.includes("top")?this.underflowY=-1:e.includes("bottom")?this.underflowY=1:this.underflowY=0)}checkButtons(e){const n=e.pointerType==="mouse",r=this.parent.input.count();return!!((r===1||r>1&&!this.parent.plugins.get("pinch",!0))&&(!n||this.mouse[e.button]))}checkKeyPress(e){return!this.options.keyToPress||this.keyIsPressed||this.options.ignoreKeyToPressOnTouch&&e.data.pointerType==="touch"}down(e){return this.paused||!this.options.pressDrag?!1:this.checkButtons(e)&&this.checkKeyPress(e)?(this.last={x:e.global.x,y:e.global.y},this.current=e.pointerId,!0):(this.last=null,!1)}get active(){return this.moved}move(e){if(this.paused||!this.options.pressDrag)return!1;if(this.last&&this.current===e.data.pointerId){const n=e.global.x,r=e.global.y,i=this.parent.input.count();if(i===1||i>1&&!this.parent.plugins.get("pinch",!0)){const s=n-this.last.x,o=r-this.last.y;if(this.moved||this.xDirection&&this.parent.input.checkThreshold(s)||this.yDirection&&this.parent.input.checkThreshold(o)){const a={x:n,y:r};return this.xDirection&&(this.parent.x+=(a.x-this.last.x)*this.options.factor),this.yDirection&&(this.parent.y+=(a.y-this.last.y)*this.options.factor),this.last=a,this.moved||this.parent.emit("drag-start",{event:e,screen:new Oe(this.last.x,this.last.y),world:this.parent.toWorld(new Oe(this.last.x,this.last.y)),viewport:this.parent}),this.moved=!0,this.parent.emit("moved",{viewport:this.parent,type:"drag"}),!0}}else this.moved=!1}return!1}up(e){if(this.paused)return!1;const n=this.parent.input.touches;if(n.length===1){const r=n[0];return r.last&&(this.last={x:r.last.x,y:r.last.y},this.current=r.id),this.moved=!1,!0}else if(this.last&&this.moved){const r=new Oe(this.last.x,this.last.y);return this.parent.emit("drag-end",{event:e,screen:r,world:this.parent.toWorld(r),viewport:this.parent}),this.last=null,this.moved=!1,!0}return!1}wheel(e){if(this.paused)return!1;if(this.options.wheel){const n=this.parent.plugins.get("wheel",!0);if(!n||!n.options.wheelZoom&&!e.ctrlKey){const r=e.deltaMode?this.options.lineHeight:1,i=[e.deltaX,e.deltaY],[s,o]=this.options.wheelSwapAxes?i.reverse():i;return this.xDirection&&(this.parent.x+=s*r*this.options.wheelScroll*this.reverse),this.yDirection&&(this.parent.y+=o*r*this.options.wheelScroll*this.reverse),this.options.clampWheel&&this.clamp(),this.parent.emit("wheel-scroll",this.parent),this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.options.passiveWheel||e.preventDefault(),this.parent.options.stopPropagation&&e.stopPropagation(),!0}}return!1}resume(){this.last=null,this.paused=!1}clamp(){const e=this.parent.plugins.get("decelerate",!0)||{};if(this.options.clampWheel!=="y")if(this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x=0;break;case 1:this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}else this.parent.left<0?(this.parent.x=0,e.x=0):this.parent.right>this.parent.worldWidth&&(this.parent.x=-this.parent.worldWidth*this.parent.scale.x+this.parent.screenWidth,e.x=0);if(this.options.clampWheel!=="x")if(this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y=0;break;case 1:this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}else this.parent.top<0&&(this.parent.y=0,e.y=0),this.parent.bottom>this.parent.worldHeight&&(this.parent.y=-this.parent.worldHeight*this.parent.scale.y+this.parent.screenHeight,e.y=0)}}const aOe={speed:0,acceleration:null,radius:null};class lOe extends Pi{constructor(e,n,r={}){super(e),ae(this,"options"),ae(this,"target"),ae(this,"velocity"),this.target=n,this.options=Object.assign({},aOe,r),this.velocity={x:0,y:0}}update(e){if(this.paused)return;const n=this.parent.center;let r=this.target.x,i=this.target.y;if(this.options.radius)if(Math.sqrt(Math.pow(this.target.y-n.y,2)+Math.pow(this.target.x-n.x,2))>this.options.radius){const a=Math.atan2(this.target.y-n.y,this.target.x-n.x);r=this.target.x-Math.cos(a)*this.options.radius,i=this.target.y-Math.sin(a)*this.options.radius}else return;const s=r-n.x,o=i-n.y;if(s||o)if(this.options.speed)if(this.options.acceleration){const a=Math.atan2(i-n.y,r-n.x),l=Math.sqrt(Math.pow(s,2)+Math.pow(o,2));if(l){const c=(Math.pow(this.velocity.x,2)+Math.pow(this.velocity.y,2))/(2*this.options.acceleration);l>c?this.velocity={x:Math.min(this.velocity.x+(this.options.acceleration*e,this.options.speed)),y:Math.min(this.velocity.y+(this.options.acceleration*e,this.options.speed))}:this.velocity={x:Math.max(this.velocity.x-this.options.acceleration*this.options.speed,0),y:Math.max(this.velocity.y-this.options.acceleration*this.options.speed,0)};const h=Math.cos(a)*this.velocity.x,f=Math.sin(a)*this.velocity.y,p=Math.abs(h)>Math.abs(s)?r:n.x+h,m=Math.abs(f)>Math.abs(o)?i:n.y+f;this.parent.moveCenter(p,m),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}else{const a=Math.atan2(i-n.y,r-n.x),l=Math.cos(a)*this.options.speed,c=Math.sin(a)*this.options.speed,h=Math.abs(l)>Math.abs(s)?r:n.x+l,f=Math.abs(c)>Math.abs(o)?i:n.y+c;this.parent.moveCenter(h,f),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}else this.parent.moveCenter(r,i),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}const uOe={radius:null,distance:null,top:null,bottom:null,left:null,right:null,speed:8,reverse:!1,noDecelerate:!1,linear:!1,allowButtons:!1};class cOe extends Pi{constructor(e,n={}){super(e),ae(this,"options"),ae(this,"reverse"),ae(this,"radiusSquared"),ae(this,"left"),ae(this,"top"),ae(this,"right"),ae(this,"bottom"),ae(this,"horizontal"),ae(this,"vertical"),this.options=Object.assign({},uOe,n),this.reverse=this.options.reverse?1:-1,this.radiusSquared=typeof this.options.radius=="number"?Math.pow(this.options.radius,2):null,this.resize()}resize(){const e=this.options.distance;e!==null?(this.left=e,this.top=e,this.right=this.parent.screenWidth-e,this.bottom=this.parent.screenHeight-e):this.options.radius||(this.left=this.options.left,this.top=this.options.top,this.right=this.options.right===null?null:this.parent.screenWidth-this.options.right,this.bottom=this.options.bottom===null?null:this.parent.screenHeight-this.options.bottom)}down(){return this.paused||this.options.allowButtons||(this.horizontal=this.vertical=null),!1}move(e){if(this.paused||e.pointerType!=="mouse"&&e.pointerId!==1||!this.options.allowButtons&&e.buttons!==0)return!1;const n=e.global.x,r=e.global.y;if(this.radiusSquared){const i=this.parent.toScreen(this.parent.center);if(Math.pow(i.x-n,2)+Math.pow(i.y-r,2)>=this.radiusSquared){const s=Math.atan2(i.y-r,i.x-n);this.options.linear?(this.horizontal=Math.round(Math.cos(s))*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.round(Math.sin(s))*this.options.speed*this.reverse*(60/1e3)):(this.horizontal=Math.cos(s)*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.sin(s)*this.options.speed*this.reverse*(60/1e3))}else this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=0}else this.left!==null&&n<this.left?this.horizontal=Number(this.reverse)*this.options.speed*(60/1e3):this.right!==null&&n>this.right?this.horizontal=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateHorizontal(),this.horizontal=0),this.top!==null&&r<this.top?this.vertical=Number(this.reverse)*this.options.speed*(60/1e3):this.bottom!==null&&r>this.bottom?this.vertical=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateVertical(),this.vertical=0);return!1}decelerateHorizontal(){const e=this.parent.plugins.get("decelerate",!0);this.horizontal&&e&&!this.options.noDecelerate&&e.activate({x:this.horizontal*this.options.speed*this.reverse/(1e3/60)})}decelerateVertical(){const e=this.parent.plugins.get("decelerate",!0);this.vertical&&e&&!this.options.noDecelerate&&e.activate({y:this.vertical*this.options.speed*this.reverse/(1e3/60)})}up(){return this.paused||(this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=null),!1}update(){if(!this.paused&&(this.horizontal||this.vertical)){const e=this.parent.center;this.horizontal&&(e.x+=this.horizontal*this.options.speed),this.vertical&&(e.y+=this.vertical*this.options.speed),this.parent.moveCenter(e),this.parent.emit("moved",{viewport:this.parent,type:"mouse-edges"})}}}const hOe={noDrag:!1,percent:1,center:null,factor:1,axis:"all"};class dOe extends Pi{constructor(e,n={}){super(e),ae(this,"options"),ae(this,"active",!1),ae(this,"pinching",!1),ae(this,"moved",!1),ae(this,"lastCenter"),this.options=Object.assign({},hOe,n)}down(){return this.parent.input.count()>=2?(this.active=!0,!0):!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}move(e){if(this.paused||!this.active)return!1;const n=e.global.x,r=e.global.y,i=this.parent.input.touches;if(i.length>=2){const s=i[0],o=i[1],a=s.last&&o.last?Math.sqrt(Math.pow(o.last.x-s.last.x,2)+Math.pow(o.last.y-s.last.y,2)):null;if(s.id===e.pointerId?s.last={x:n,y:r,data:e}:o.id===e.pointerId&&(o.last={x:n,y:r,data:e}),a){let l;const c=new Oe(s.last.x+(o.last.x-s.last.x)/2,s.last.y+(o.last.y-s.last.y)/2);this.options.center||(l=this.parent.toLocal(c));let h=Math.sqrt(Math.pow(o.last.x-s.last.x,2)+Math.pow(o.last.y-s.last.y,2));h=h===0?h=1e-10:h;const f=(1-a/h)*this.options.percent*(this.isAxisX()?this.parent.scale.x:this.parent.scale.y);this.isAxisX()&&(this.parent.scale.x+=f),this.isAxisY()&&(this.parent.scale.y+=f),this.parent.emit("zoomed",{viewport:this.parent,type:"pinch",center:c});const p=this.parent.plugins.get("clamp-zoom",!0);if(p&&p.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const m=this.parent.toGlobal(l);this.parent.x+=(c.x-m.x)*this.options.factor,this.parent.y+=(c.y-m.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})}!this.options.noDrag&&this.lastCenter&&(this.parent.x+=(c.x-this.lastCenter.x)*this.options.factor,this.parent.y+=(c.y-this.lastCenter.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})),this.lastCenter=c,this.moved=!0}else this.pinching||(this.parent.emit("pinch-start",this.parent),this.pinching=!0);return!0}return!1}up(){return this.pinching&&this.parent.input.touches.length<=1?(this.active=!1,this.lastCenter=null,this.pinching=!1,this.moved=!1,this.parent.emit("pinch-end",this.parent),!0):!1}}const fOe={topLeft:!1,friction:.8,time:1e3,ease:"easeInOutSine",interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1};class pOe extends Pi{constructor(e,n,r,i={}){super(e),ae(this,"options"),ae(this,"ease"),ae(this,"x"),ae(this,"y"),ae(this,"percent"),ae(this,"snapping"),ae(this,"deltaX"),ae(this,"deltaY"),ae(this,"startX"),ae(this,"startY"),this.options=Object.assign({},fOe,i),this.ease=O0(i.ease,"easeInOutSine"),this.x=n,this.y=r,this.options.forceStart&&this.snapStart()}snapStart(){this.percent=0,this.snapping={time:0};const e=this.options.topLeft?this.parent.corner:this.parent.center;this.deltaX=this.x-e.x,this.deltaY=this.y-e.y,this.startX=e.x,this.startY=e.y,this.parent.emit("snap-start",this.parent)}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap"):this.options.interrupt&&(this.snapping=null),!1}up(){if(this.parent.input.count()===0){const e=this.parent.plugins.get("decelerate",!0);e&&(e.x||e.y)&&(e.percentChangeX=e.percentChangeY=this.options.friction)}return!1}update(e){if(!this.paused&&!(this.options.interrupt&&this.parent.input.count()!==0))if(this.snapping){const n=this.snapping;n.time+=e;let r,i,s;const o=this.startX,a=this.startY,l=this.deltaX,c=this.deltaY;if(n.time>this.options.time)r=!0,i=o+l,s=a+c;else{const h=this.ease(n.time,0,1,this.options.time);i=o+l*h,s=a+c*h}this.options.topLeft?this.parent.moveCorner(i,s):this.parent.moveCenter(i,s),this.parent.emit("moved",{viewport:this.parent,type:"snap"}),r&&(this.options.removeOnComplete&&this.parent.plugins.remove("snap"),this.parent.emit("snap-end",this.parent),this.snapping=null)}else{const n=this.options.topLeft?this.parent.corner:this.parent.center;(n.x!==this.x||n.y!==this.y)&&this.snapStart()}}}const mOe={width:0,height:0,time:1e3,ease:"easeInOutSine",center:null,interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1,noMove:!1};class gOe extends Pi{constructor(e,n={}){super(e),ae(this,"options"),ae(this,"ease"),ae(this,"xScale"),ae(this,"yScale"),ae(this,"xIndependent"),ae(this,"yIndependent"),ae(this,"snapping"),this.options=Object.assign({},mOe,n),this.ease=O0(this.options.ease),this.xIndependent=!1,this.yIndependent=!1,this.xScale=0,this.yScale=0,this.options.width>0&&(this.xScale=e.screenWidth/this.options.width,this.xIndependent=!0),this.options.height>0&&(this.yScale=e.screenHeight/this.options.height,this.yIndependent=!0),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale,this.options.time===0?(e.container.scale.x=this.xScale,e.container.scale.y=this.yScale,this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom")):n.forceStart&&this.createSnapping()}createSnapping(){const e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,r=this.parent.screenWidth/this.xScale,i=this.parent.screenHeight/this.yScale;this.snapping={time:0,startX:e,startY:n,deltaX:r-e,deltaY:i-n},this.parent.emit("snap-zoom-start",this.parent)}resize(){this.snapping=null,this.options.width>0&&(this.xScale=this.parent.screenWidth/this.options.width),this.options.height>0&&(this.yScale=this.parent.screenHeight/this.options.height),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap-zoom"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap-zoom"):this.options.interrupt&&(this.snapping=null),!1}update(e){if(this.paused||this.options.interrupt&&this.parent.input.count()!==0)return;let n;if(!this.options.center&&!this.options.noMove&&(n=this.parent.center),!this.snapping)(this.parent.scale.x!==this.xScale||this.parent.scale.y!==this.yScale)&&this.createSnapping();else if(this.snapping){const r=this.snapping;if(r.time+=e,r.time>=this.options.time)this.parent.scale.set(this.xScale,this.yScale),this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom"),this.parent.emit("snap-zoom-end",this.parent),this.snapping=null;else{const s=this.snapping,o=this.ease(s.time,s.startX,s.deltaX,this.options.time),a=this.ease(s.time,s.startY,s.deltaY,this.options.time);this.parent.scale.x=this.parent.screenWidth/o,this.parent.scale.y=this.parent.screenHeight/a}const i=this.parent.plugins.get("clamp-zoom",!0);i&&i.clamp(),this.options.noMove||(this.options.center?this.parent.moveCenter(this.options.center):this.parent.moveCenter(n))}}resume(){this.snapping=null,super.resume()}}const vOe={percent:.1,smooth:!1,interrupt:!0,reverse:!1,center:null,lineHeight:20,axis:"all",keyToPress:null,trackpadPinch:!1,wheelZoom:!0};class yOe extends Pi{constructor(e,n={}){super(e),ae(this,"options"),ae(this,"smoothing"),ae(this,"smoothingCenter"),ae(this,"smoothingCount"),ae(this,"keyIsPressed"),this.options=Object.assign({},vOe,n),this.keyIsPressed=!1,this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(e){window.addEventListener("keydown",n=>{e.includes(n.code)&&(this.keyIsPressed=!0)}),window.addEventListener("keyup",n=>{e.includes(n.code)&&(this.keyIsPressed=!1)})}checkKeyPress(){return!this.options.keyToPress||this.keyIsPressed}down(){return this.options.interrupt&&(this.smoothing=null),!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}update(){if(this.smoothing){const e=this.smoothingCenter,n=this.smoothing;let r;this.options.center||(r=this.parent.toLocal(e)),this.isAxisX()&&(this.parent.scale.x+=n.x),this.isAxisY()&&(this.parent.scale.y+=n.y),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const i=this.parent.plugins.get("clamp-zoom",!0);if(i&&i.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const s=this.parent.toGlobal(r);this.parent.x+=e.x-s.x,this.parent.y+=e.y-s.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.smoothingCount++,this.smoothingCount>=this.options.smooth&&(this.smoothing=null)}}pinch(e){if(this.paused)return;const n=this.parent.input.getPointerPosition(e),r=-e.deltaY*(e.deltaMode?this.options.lineHeight:1)/200,i=Math.pow(2,(1+this.options.percent)*r);let s;this.options.center||(s=this.parent.toLocal(n)),this.isAxisX()&&(this.parent.scale.x*=i),this.isAxisY()&&(this.parent.scale.y*=i),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const o=this.parent.plugins.get("clamp-zoom",!0);if(o&&o.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const a=this.parent.toGlobal(s);this.parent.x+=n.x-a.x,this.parent.y+=n.y-a.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:e,viewport:this.parent})}wheel(e){if(this.paused||!this.checkKeyPress())return!1;if(e.ctrlKey&&this.options.trackpadPinch)this.pinch(e);else if(this.options.wheelZoom){const n=this.parent.input.getPointerPosition(e),r=(this.options.reverse?-1:1)*-e.deltaY*(e.deltaMode?this.options.lineHeight:1)/500,i=Math.pow(2,(1+this.options.percent)*r);if(this.options.smooth){const s={x:this.smoothing?this.smoothing.x*(this.options.smooth-this.smoothingCount):0,y:this.smoothing?this.smoothing.y*(this.options.smooth-this.smoothingCount):0};this.smoothing={x:((this.parent.scale.x+s.x)*i-this.parent.scale.x)/this.options.smooth,y:((this.parent.scale.y+s.y)*i-this.parent.scale.y)/this.options.smooth},this.smoothingCount=0,this.smoothingCenter=n}else{let s;this.options.center||(s=this.parent.toLocal(n)),this.isAxisX()&&(this.parent.scale.x*=i),this.isAxisY()&&(this.parent.scale.y*=i),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const o=this.parent.plugins.get("clamp-zoom",!0);if(o&&o.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const a=this.parent.toGlobal(s);this.parent.x+=n.x-a.x,this.parent.y+=n.y-a.y}}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:e,viewport:this.parent})}return!this.parent.options.passiveWheel}}class bOe{constructor(e){ae(this,"viewport"),ae(this,"clickedAvailable"),ae(this,"isMouseDown"),ae(this,"last"),ae(this,"wheelFunction"),ae(this,"touches"),this.viewport=e,this.touches=[],this.addListeners()}addListeners(){this.viewport.interactive=!0,this.viewport.forceHitArea||(this.viewport.hitArea=new Ve(0,0,this.viewport.worldWidth,this.viewport.worldHeight)),this.viewport.on("pointerdown",this.down,this),this.viewport.options.allowPreserveDragOutside?this.viewport.on("globalpointermove",this.move,this):this.viewport.on("pointermove",this.move,this),this.viewport.on("pointerup",this.up,this),this.viewport.on("pointerupoutside",this.up,this),this.viewport.on("pointercancel",this.up,this),this.viewport.options.allowPreserveDragOutside||this.viewport.on("pointerleave",this.up,this),this.wheelFunction=e=>this.handleWheel(e),this.viewport.options.events.domElement.addEventListener("wheel",this.wheelFunction,{passive:this.viewport.options.passiveWheel}),this.isMouseDown=!1}destroy(){this.viewport.options.events.domElement.removeEventListener("wheel",this.wheelFunction)}down(e){if(!(this.viewport.pause||!this.viewport.worldVisible)){if(e.pointerType==="mouse"?this.isMouseDown=!0:this.get(e.pointerId)||this.touches.push({id:e.pointerId,last:null}),this.count()===1){this.last=e.global.clone();const n=this.viewport.plugins.get("decelerate",!0),r=this.viewport.plugins.get("bounce",!0);(!n||!n.isActive())&&(!r||!r.isActive())?this.clickedAvailable=!0:this.clickedAvailable=!1}else this.clickedAvailable=!1;this.viewport.plugins.down(e)&&this.viewport.options.stopPropagation&&e.stopPropagation()}}clear(){this.isMouseDown=!1,this.touches=[],this.last=null}checkThreshold(e){return Math.abs(e)>=this.viewport.threshold}move(e){if(this.viewport.pause||!this.viewport.worldVisible)return;const n=this.viewport.plugins.move(e);if(this.clickedAvailable&&this.last){const r=e.global.x-this.last.x,i=e.global.y-this.last.y;(this.checkThreshold(r)||this.checkThreshold(i))&&(this.clickedAvailable=!1)}n&&this.viewport.options.stopPropagation&&e.stopPropagation()}up(e){if(this.viewport.pause||!this.viewport.worldVisible)return;e.pointerType==="mouse"&&(this.isMouseDown=!1),e.pointerType!=="mouse"&&this.remove(e.pointerId);const n=this.viewport.plugins.up(e);this.clickedAvailable&&this.count()===0&&this.last&&(this.viewport.emit("clicked",{event:e,screen:this.last,world:this.viewport.toWorld(this.last),viewport:this.viewport}),this.clickedAvailable=!1),n&&this.viewport.options.stopPropagation&&e.stopPropagation()}getPointerPosition(e){const n=new Oe;return this.viewport.options.events.mapPositionToPoint(n,e.clientX,e.clientY),n}handleWheel(e){if(this.viewport.pause||!this.viewport.worldVisible)return;const n=this.viewport.toLocal(this.getPointerPosition(e));this.viewport.left<=n.x&&n.x<=this.viewport.right&&this.viewport.top<=n.y&&n.y<=this.viewport.bottom&&this.viewport.plugins.wheel(e)&&!this.viewport.options.passiveWheel&&e.preventDefault()}pause(){this.touches=[],this.isMouseDown=!1}get(e){for(const n of this.touches)if(n.id===e)return n;return null}remove(e){for(let n=0;n<this.touches.length;n++)if(this.touches[n].id===e){this.touches.splice(n,1);return}}count(){return(this.isMouseDown?1:0)+this.touches.length}}const wh=["drag","pinch","wheel","follow","mouse-edges","decelerate","animate","bounce","snap-zoom","clamp-zoom","snap","clamp"];class xOe{constructor(e){ae(this,"plugins"),ae(this,"list"),ae(this,"viewport"),this.viewport=e,this.list=[],this.plugins={}}add(e,n,r=wh.length){const i=this.plugins[e];i&&i.destroy(),this.plugins[e]=n;const s=wh.indexOf(e);s!==-1&&wh.splice(s,1),wh.splice(r,0,e),this.sort()}get(e,n){var r;return n&&(r=this.plugins[e])!=null&&r.paused?null:this.plugins[e]}update(e){for(const n of this.list)n.update(e)}resize(){for(const e of this.list)e.resize()}reset(){for(const e of this.list)e.reset()}removeAll(){this.list.forEach(e=>{e.destroy()}),this.plugins={},this.sort()}remove(e){var n;this.plugins[e]&&((n=this.plugins[e])==null||n.destroy(),delete this.plugins[e],this.viewport.emit("plugin-remove",e),this.sort())}pause(e){var n;(n=this.plugins[e])==null||n.pause()}resume(e){var n;(n=this.plugins[e])==null||n.resume()}sort(){this.list=[];for(const e of wh)this.plugins[e]&&this.list.push(this.plugins[e])}down(e){let n=!1;for(const r of this.list)r.down(e)&&(n=!0);return n}move(e){let n=!1;for(const r of this.viewport.plugins.list)r.move(e)&&(n=!0);return n}up(e){let n=!1;for(const r of this.list)r.up(e)&&(n=!0);return n}wheel(e){let n=!1;for(const r of this.list)r.wheel(e)&&(n=!0);return n}}const wOe={screenWidth:window.innerWidth,screenHeight:window.innerHeight,worldWidth:null,worldHeight:null,threshold:5,passiveWheel:!0,stopPropagation:!1,forceHitArea:null,noTicker:!1,disableOnContextMenu:!1,ticker:dn.shared,allowPreserveDragOutside:!1};class _Oe extends er{constructor(e){super(),ae(this,"moving"),ae(this,"screenWidth"),ae(this,"screenHeight"),ae(this,"threshold"),ae(this,"input"),ae(this,"plugins"),ae(this,"zooming"),ae(this,"lastViewport"),ae(this,"options"),ae(this,"_dirty"),ae(this,"_forceHitArea"),ae(this,"_hitAreaDefault"),ae(this,"_pause"),ae(this,"tickerFunction"),ae(this,"_worldWidth"),ae(this,"_worldHeight"),ae(this,"_disableOnContextMenu",n=>n.preventDefault()),this.options={...wOe,...e},this.screenWidth=this.options.screenWidth,this.screenHeight=this.options.screenHeight,this._worldWidth=this.options.worldWidth,this._worldHeight=this.options.worldHeight,this.forceHitArea=this.options.forceHitArea,this.threshold=this.options.threshold,this.options.disableOnContextMenu&&this.options.events.domElement.addEventListener("contextmenu",this._disableOnContextMenu),this.options.noTicker||(this.tickerFunction=()=>this.update(this.options.ticker.elapsedMS),this.options.ticker.add(this.tickerFunction)),this.input=new bOe(this),this.plugins=new xOe(this)}destroy(e){!this.options.noTicker&&this.tickerFunction&&this.options.ticker.remove(this.tickerFunction),this.options.disableOnContextMenu&&this.options.events.domElement.removeEventListener("contextmenu",this._disableOnContextMenu),this.input.destroy(),super.destroy(e)}update(e){this.pause||(this.plugins.update(e),this.lastViewport&&(this.lastViewport.x!==this.x||this.lastViewport.y!==this.y?this.moving=!0:this.moving&&(this.emit("moved-end",this),this.moving=!1),this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y?this.zooming=!0:this.zooming&&(this.emit("zoomed-end",this),this.zooming=!1)),this.forceHitArea||(this._hitAreaDefault=new Ve(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight),this.hitArea=this._hitAreaDefault),this._dirty=this._dirty||!this.lastViewport||this.lastViewport.x!==this.x||this.lastViewport.y!==this.y||this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y,this.lastViewport={x:this.x,y:this.y,scaleX:this.scale.x,scaleY:this.scale.y},this.emit("frame-end",this))}resize(e=window.innerWidth,n=window.innerHeight,r,i){this.screenWidth=e,this.screenHeight=n,typeof r<"u"&&(this._worldWidth=r),typeof i<"u"&&(this._worldHeight=i),this.plugins.resize(),this.dirty=!0}get worldWidth(){return this._worldWidth?this._worldWidth:this.width/this.scale.x}set worldWidth(e){this._worldWidth=e,this.plugins.resize()}get worldHeight(){return this._worldHeight?this._worldHeight:this.height/this.scale.y}set worldHeight(e){this._worldHeight=e,this.plugins.resize()}getVisibleBounds(){return new Ve(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight)}toWorld(e,n){return arguments.length===2?this.toLocal(new Oe(e,n)):this.toLocal(e)}toScreen(e,n){return arguments.length===2?this.toGlobal(new Oe(e,n)):this.toGlobal(e)}get worldScreenWidth(){return this.screenWidth/this.scale.x}get worldScreenHeight(){return this.screenHeight/this.scale.y}get screenWorldWidth(){return this.worldWidth*this.scale.x}get screenWorldHeight(){return this.worldHeight*this.scale.y}get center(){return new Oe(this.worldScreenWidth/2-this.x/this.scale.x,this.worldScreenHeight/2-this.y/this.scale.y)}set center(e){this.moveCenter(e)}moveCenter(...e){let n,r;typeof e[0]=="number"?(n=e[0],r=e[1]):(n=e[0].x,r=e[0].y);const i=(this.worldScreenWidth/2-n)*this.scale.x,s=(this.worldScreenHeight/2-r)*this.scale.y;return(this.x!==i||this.y!==s)&&(this.position.set(i,s),this.plugins.reset(),this.dirty=!0),this}get corner(){return new Oe(-this.x/this.scale.x,-this.y/this.scale.y)}set corner(e){this.moveCorner(e)}moveCorner(...e){let n,r;return e.length===1?(n=-e[0].x*this.scale.x,r=-e[0].y*this.scale.y):(n=-e[0]*this.scale.x,r=-e[1]*this.scale.y),(n!==this.x||r!==this.y)&&(this.position.set(n,r),this.plugins.reset(),this.dirty=!0),this}get screenWidthInWorldPixels(){return this.screenWidth/this.scale.x}get screenHeightInWorldPixels(){return this.screenHeight/this.scale.y}findFitWidth(e){return this.screenWidth/e}findFitHeight(e){return this.screenHeight/e}findFit(e,n){const r=this.screenWidth/e,i=this.screenHeight/n;return Math.min(r,i)}findCover(e,n){const r=this.screenWidth/e,i=this.screenHeight/n;return Math.max(r,i)}fitWidth(e=this.worldWidth,n,r=!0,i){let s;n&&(s=this.center),this.scale.x=this.screenWidth/e,r&&(this.scale.y=this.scale.x);const o=this.plugins.get("clamp-zoom",!0);return!i&&o&&o.clamp(),n&&s&&this.moveCenter(s),this}fitHeight(e=this.worldHeight,n,r=!0,i){let s;n&&(s=this.center),this.scale.y=this.screenHeight/e,r&&(this.scale.x=this.scale.y);const o=this.plugins.get("clamp-zoom",!0);return!i&&o&&o.clamp(),n&&s&&this.moveCenter(s),this}fitWorld(e){let n;e&&(n=this.center),this.scale.x=this.screenWidth/this.worldWidth,this.scale.y=this.screenHeight/this.worldHeight,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const r=this.plugins.get("clamp-zoom",!0);return r&&r.clamp(),e&&n&&this.moveCenter(n),this}fit(e,n=this.worldWidth,r=this.worldHeight){let i;e&&(i=this.center),this.scale.x=this.screenWidth/n,this.scale.y=this.screenHeight/r,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const s=this.plugins.get("clamp-zoom",!0);return s&&s.clamp(),e&&i&&this.moveCenter(i),this}setZoom(e,n){let r;n&&(r=this.center),this.scale.set(e);const i=this.plugins.get("clamp-zoom",!0);return i&&i.clamp(),n&&r&&this.moveCenter(r),this}zoomPercent(e,n){return this.setZoom(this.scale.x+this.scale.x*e,n)}zoom(e,n){return this.fitWidth(e+this.worldScreenWidth,n),this}get scaled(){return this.scale.x}set scaled(e){this.setZoom(e,!0)}snapZoom(e){return this.plugins.add("snap-zoom",new gOe(this,e)),this}OOB(){return{left:this.left<0,right:this.right>this.worldWidth,top:this.top<0,bottom:this.bottom>this.worldHeight,cornerPoint:new Oe(this.worldWidth*this.scale.x-this.screenWidth,this.worldHeight*this.scale.y-this.screenHeight)}}get right(){return-this.x/this.scale.x+this.worldScreenWidth}set right(e){this.x=-e*this.scale.x+this.screenWidth,this.plugins.reset()}get left(){return-this.x/this.scale.x}set left(e){this.x=-e*this.scale.x,this.plugins.reset()}get top(){return-this.y/this.scale.y}set top(e){this.y=-e*this.scale.y,this.plugins.reset()}get bottom(){return-this.y/this.scale.y+this.worldScreenHeight}set bottom(e){this.y=-e*this.scale.y+this.screenHeight,this.plugins.reset()}get dirty(){return!!this._dirty}set dirty(e){this._dirty=e}get forceHitArea(){return this._forceHitArea}set forceHitArea(e){e?(this._forceHitArea=e,this.hitArea=e):(this._forceHitArea=null,this.hitArea=new Ve(0,0,this.worldWidth,this.worldHeight))}drag(e){return this.plugins.add("drag",new oOe(this,e)),this}clamp(e){return this.plugins.add("clamp",new eOe(this,e)),this}decelerate(e){return this.plugins.add("decelerate",new iOe(this,e)),this}bounce(e){return this.plugins.add("bounce",new Qke(this,e)),this}pinch(e){return this.plugins.add("pinch",new dOe(this,e)),this}snap(e,n,r){return this.plugins.add("snap",new pOe(this,e,n,r)),this}follow(e,n){return this.plugins.add("follow",new lOe(this,e,n)),this}wheel(e){return this.plugins.add("wheel",new yOe(this,e)),this}animate(e){return this.plugins.add("animate",new Kke(this,e)),this}clampZoom(e){return this.plugins.add("clamp-zoom",new nOe(this,e)),this}mouseEdges(e){return this.plugins.add("mouse-edges",new cOe(this,e)),this}get pause(){return!!this._pause}set pause(e){this._pause=e,this.lastViewport=null,this.moving=!1,this.zooming=!1,e&&this.input.pause()}ensureVisible(e,n,r,i,s){s&&(r>this.worldScreenWidth||i>this.worldScreenHeight)&&(this.fit(!0,r,i),this.emit("zoomed",{viewport:this,type:"ensureVisible"}));let o=!1;e<this.left?(this.left=e,o=!0):e+r>this.right&&(this.right=e+r,o=!0),n<this.top?(this.top=n,o=!0):n+i>this.bottom&&(this.bottom=n+i,o=!0),o&&this.emit("moved",{viewport:this,type:"ensureVisible"})}}const xn=(t,e)=>t!=null&&t.levels?e.acquired[t==null?void 0:t.id]>0:e.selected[t==null?void 0:t.id],FN=(t,e)=>e.available[t.id],pm=(t,e,n,r=1)=>{let i=n;return i.available[t.id]&&(t.levels?(i.acquired[t.id]||(i.acquired[t.id]=0),r>=0&&r<=t.levels&&(i.acquired[t.id]=r)):i.selected[t.id]=!i.selected[t.id]),i=SOe(e,t,i),i=v_(e,n),i},SOe=(t,e,n)=>{let r={...n};const i=s=>{const o=gr(t,a=>nf(a.requires,{id:s.id}));r=v_(t,n),o&&vt(o,a=>{n.available[a.id]||(n.selected[a.id]=!1,n.acquired[a.id]=0,r=v_(t,n),i(a))})};return i(e),r},v_=(t,e)=>(vt(t,n=>{var r;if(n.requires){let i=n.requirementType||"and",s=i==="and";vt(n.requires,o=>{const a=Qe(t,{id:o.id});if(a.levels){const l=o.levels||a.levels,c=e.acquired[a.id];i==="and"?s=s&&c>=l:i==="or"&&(s=s||c>=l)}else i==="and"?s=s&&e.selected[o.id]:i==="or"&&(s=s||e.selected[o.id])}),e.available[n.id]=s}if((r=n.exclusiveWith)!=null&&r.length){let i=!0;vt(n.exclusiveWith,s=>{i=!e.selected[s]&&!e.acquired[s]}),e.available[n.id]=i&&e.available[n.id]}}),e),Xs=(t,e,n,r)=>{var i;r.next({node:{...t,acquired:e.acquired[t.id],selected:e.selected[t.id],available:e.available[t.id],requiredName:(i=Qe(n,{id:t.requires}))==null?void 0:i.name}})},Va=t=>typeof t=="string"?parseInt(t.replace("#",""),16):0,Ni=(t,e,n)=>n?Va(t.colors[n]):FN(t,e)?Va(t.colors.selected):Va(t.colors.unavailable),Tb=(t,e)=>{e.next({event:"nodesChanged",data:{nodes:ze(t,n=>({colors:n.colors,id:n.id,requires:n.requires,name:n.name,description:n.description,cost:n.cost,levels:n.levels,levelCost:n.levelCost,providedStats:n.providedStats,providedAbilities:n.providedAbilities}))}})};function EOe(t,e,n={},r,i,s,o){let a=s.subscribe({next:Q=>{switch(Q.event){case"forcesUpdated":O=Q.data.forces,Y();break;case"modeChanged":K(Q.data.mode);break;case"nodeAdded":X(Q.data.node);break;case"nodeDeleted":H(Q.data.id);break;case"nodeAcquisitionChanged":z(Q.data.id,Q.data.acquired);break;case"nodeEdited":j(Q.data.id,Q.data.node);break;case"themeChanged":A(Q.data);break}}}),l="#1d1b21",c="#ddd",h,f,p={selected:{},acquired:{},available:{}},m=qR(),v,y,x,b,S,w="build-slow",E,O={f1:20,f2:18,f3:50,f4:7};function A(Q){Q==="light"?(l="#ffffff",c="#666666"):(l="#1d1b21",c="#dddddd"),h.renderer.backgroundColor=Va(l),se()}function F(Q,J){Q.children.length>0&&Q.children[0].destroy();const $=new pc(J,{fontFamily:"Inter",fontSize:14,fill:c,align:"center"});$.anchor.set(.5,-.75),$.resolution=12,Q.addChild($)}function L(){p={selected:{},acquired:{},available:{}},vt(f,Q=>{p.selected[Q.id]=n[Q.id]===!0,p.acquired[Q.id]=ZK(n[Q.id])?n[Q.id]:!1}),V(),r.next({nodes:ze(f,Q=>({...Q,selected:xn(Q,p),acquired:p.acquired[Q.id]})),nodeMeta:p})}function H(Q){if(Q==="basic")return;const J=Qe(f,{id:Q});if(J){J==null||J.gfx.removeChildren(),J==null||J.gfx.clear(),f=ze(gr(f,re=>re.id!==Q),re=>{let me=re.requires;return nf(re.requires,{id:J==null?void 0:J.id})&&(me=J==null?void 0:J.requires),{...re,requires:me}});const $=Qe(f,{id:(J==null?void 0:J.requires)&&(J==null?void 0:J.requires[0].id)});V(),E=$==null?void 0:$.id,Xs($,p,f,i),se(),Y(),Z(),Tb(f,s)}}function V(){y=[],vt(f,Q=>{var J;if((J=Q==null?void 0:Q.requires)!=null&&J.length){let $=!0;vt(Q.requires,re=>{const me=Qe(f,{id:re==null?void 0:re.id});$=$&&xn(me,p),y.push({source:Q,target:me})}),p.available[Q.id]=$}else p.available[Q.id]=!0})}function z(Q,J){let $=Qe(f,{id:Q});$.levels&&$.levels>1?p=pm($,f,p,J):p=pm($,f,p),r.next({nodes:ze(f,re=>({...re,selected:xn(re,p),acquired:p.acquired[re.id]})),nodeMeta:p}),Xs($,p,f,i),se(),Z()}function j(Q,J){let $=Qe(f,{id:Q}),re=$.requires,me=$.requirementType;$.name=J.name,$.id=J.id,$.description=J.description,$.levels=J.levels,$.cost=J.cost,$.levelCost=J.levelCost,$.providedStats=J.providedStats,$.providedAbilities=J.providedAbilities,$.colors=J.colors,$.requires=J.requires,$.requirementType=J.requirementType,(re!==J.requires||me!==J.requirementType)&&V(),p.acquired[Q]&&p.acquired[Q]>J.levels&&(p.acquired[Q]=J.levels),$==null||$.gfx.removeChildren();const Ie=new pc(J.name,{fontFamily:"Inter",fontSize:12,fontWeight:"500",fill:"#fff",align:"center"});Ie.anchor.set(.5,-.75),Ie.resolution=12,$==null||$.gfx.addChild(Ie),f=ze(f,Re=>{if(Re.id===Q)return $;{let Xe=Re;return Re.requires===Q&&(Xe.requires=[{id:$.id,levels:1}]),Xe}}),se(),Z(),Y(),Xs($,p,f,i),r.next({nodes:ze(f,Re=>({...Re,selected:xn(Re,p),acquired:p.acquired[Re.id]})),nodeMeta:p}),Tb(f,s)}function X(Q){let J={...Q};J.colors||(J.colors={}),M(J),E=J.id,f=[...f,J],vt(J.requires,$=>{y.push({source:J,target:Qe(f,{id:$.id})})}),se(),Z(),ue(),Tb(f,s),Xs(J,p,f,i),setTimeout(()=>{S.follow(J,{acceleration:.4}),S.setZoom(1.4),setTimeout(()=>{S.plugins.remove("follow")},200)},100)}function K(Q){let J=w;w=Q,J!==Q&&((w==="build-slow"||w==="build-fast")&&(E=null),se(),Z())}function fe(Q,J){if(w==="build-fast"||Q.ctrlKey){const $=xn(J,p);J.levels&&J.levels>1?p=pm(J,f,p,Q.nativeEvent.shiftKey?p.acquired[J.id]-1:p.acquired[J.id]+1):p=pm(J,f,p),r.next({nodes:ze(f,me=>({...me,selected:xn(me,p),acquired:p.acquired[me.id]})),nodeMeta:p}),Xs(J,p,f,i),s.next({event:"nodeMetaUpdated",data:{nodeMeta:p}});const re=xn(J,p)!==$;se(re?J.id:null),Z()}else w==="build-slow"?(Xs(J,p,f,i),Z()):w==="edit"&&(E=J.id,Xs(J,p,f,i),se())}function ue(){Y(4,.7)}function Y(Q,J){O&&(m.nodes(f).force("link",GR(y).strength($=>{const re=$.source.requires.length?.1:-.2;return xn($.target,p)?O.f2*.015+re:O.f2*.013+re}).id($=>$.id).distance($=>{let re=$.source.requires.length?1:6;return $.target.requires.length||(re+=10),$.source.levels||$.target.levels?xn($.source,p)?O.f1+18+re:O.f1+20+re:xn($.source,p)?O.f1+10+re:O.f1+14+re})).force("charge",XR().strength(-(O.f3*6))).force("center",zR(x/3,b/2)).force("collision",jR().radius($=>O.f3).iterations(Q||1)).velocityDecay(J||O.f4*.01),m.alpha(1).restart()),Z(),se()}function Z(){for(let Q=v.children.length-1;Q>=0;Q--)v.children[Q].destroy();v.clear(),v.removeChildren(),v.alpha=.8,y.forEach((Q,J)=>{let{source:$,target:re}=Q,me=4473924,Ie=2,Re=$&&xn($,p)&&xn(re,p);if(re.id&&$&&(Re||w==="edit"?me=Ni($,p,"selected"):me=10198691,Ie=xn(re,p)&&xn($,p)?2:1),v.lineStyle(Ie,me,Re?1:.2),$.requirementType==="or"&&!Re){const Xe=new RN(v,{dash:[5,5],width:1,color:me});Xe.moveTo($.x,$.y),Xe.lineTo(re.x,re.y)}else v.moveTo($.x,$.y),v.lineTo(re.x,re.y)}),v.endFill()}function se(Q){const J=($,re)=>{$.moveTo(re,-(re/2)),$.lineTo(0,re*1.5),$.lineTo(-re,-(re/2)),$.lineTo(re,-(re/2))};f.forEach($=>{var Xe;const re=E===$.id,me=xn($,p),Ie=FN($,p);$.gfx.clear();let Re=$.cost||1;if(w==="build-fast"?$.gfx.cursor=Ie?"pointer":"default":$.gfx.cursor="pointer",((Xe=$.exclusiveWith)==null?void 0:Xe.length)>0)re&&w==="edit"?($.gfx.beginFill(Ni($,p,"selected")),J($.gfx,8),$.gfx.endFill()):me?($.gfx.beginFill(Ni($,p)),J($.gfx,8),$.gfx.endFill()):Ie?($.gfx.lineStyle(1,Ni($,p),1),J($.gfx,8),$.gfx.endFill(),$.gfx.beginFill(16777215),$.gfx.lineStyle(),J($.gfx,4),$.gfx.endFill()):($.gfx.beginFill(Ni($,p)),J($.gfx,6),$.gfx.endFill()),$.gfx.hitArea=new uc(0,0,12+10);else if(!Q||$.id!==Q||$.levels||!me)if($.levels&&$.levels>1){const Se=4+$.levels*15,et=p.acquired[$.id];let tt=-(Se/2);$.gfx.lineStyle(2,re&&w==="edit"?Va("#ffffff"):Ni($,p)),$.gfx.beginFill(Va(l)),$.gfx.drawShape(new cc(tt,-6,Se,16,4)),$.gfx.endFill(),$.gfx.beginFill(Va(c)),$.gfx.lineStyle(),rf(et,rt=>{$.gfx.drawCircle(tt+11+rt*14,2,4)}),$.gfx.endFill(),$.gfx.hitArea=new cc(tt,-6,Se,16,4)}else{let Se;w==="edit"?Se=8:Se=me?Re*2+6:Re*2+2,re&&w==="edit"?($.gfx.beginFill(16777215),$.gfx.drawCircle(0,0,Se+2),$.gfx.endFill(),$.gfx.beginFill(Ni($,p,"selected")),$.gfx.drawCircle(0,0,Se),$.gfx.endFill()):me?($.gfx.beginFill(Ni($,p)),$.gfx.drawCircle(0,0,Se),$.gfx.endFill()):Ie?($.gfx.lineStyle(1,Ni($,p),1),$.gfx.drawCircle(0,0,Se+4),$.gfx.endFill(),$.gfx.beginFill(14540253),$.gfx.lineStyle(),$.gfx.drawCircle(0,0,Se),$.gfx.endFill()):($.gfx.beginFill(Ni($,p)),$.gfx.drawCircle(0,0,Se),$.gfx.endFill()),$.gfx.hitArea=new uc(0,0,Se+10)}else if($.id===Q&&me){const Se=Qe(f,{id:Q});let et=me?Re*2+6:Re*2+2,tt=me?Re*2+2:Re*2+6,rt=0;const Ot=setInterval(()=>{rt++,me?tt+=rt*.4:tt-=rt*.4,Se==null||Se.gfx.clear(),Se==null||Se.gfx.beginFill(Ni(Se,p)),Se==null||Se.gfx.drawCircle(0,0,tt),Se==null||Se.gfx.endFill(),me?tt>=et&&clearInterval(Ot):tt<=et&&clearInterval(Ot)},5)}F($.gfx,$.name),$.gfx.interactive=!0})}function G(){e.length?f=ze(e,$=>({...$})):f=[{id:"reset",name:"Info",description:"Press the Reset Button to start",colors:{selected:"#fff",unavailable:"#fff"}}],y=[],L();const Q=t.getBoundingClientRect();b=Q.height,x=Q.width,t.innerHTML="",h=new T0({width:x,height:b,antialias:!0,autoDensity:!0,resizeTo:window,backgroundColor:l,backgroundAlpha:1,resolution:2}),t.appendChild(h.view),S=new _Oe({screenWidth:x,screenHeight:b,worldWidth:x*4,worldHeight:b*4,passiveWheel:!1,events:h.renderer.plugins.interaction}),S.setZoom(.6,!0),h.stage.addChild(S),S.drag().pinch().wheel().decelerate().clampZoom({minWidth:x/4,minHeight:b/4}),m=qR(f).force("link",GR(y).strength($=>xn($.target,p)?.8:.7).id($=>$.id).distance($=>xn($.source,p)?20:30)).force("charge",XR().strength(-200)).force("center",zR(x/4,b/2)).force("collision",jR().radius($=>$.radius).iterations(2)).velocityDecay(.8),v=new fl,S.addChild(v),f.forEach($=>{M($)}),se(),Y();const J=()=>{f.forEach($=>{let{x:re,y:me,gfx:Ie}=$;Ie.position=new Oe(re,me)}),Z()};m.on("tick",J),r.next({nodes:ze(f,$=>({...$,selected:xn($,p),acquired:p.acquired[$.id]})),nodeMeta:p}),A(o)}function M(Q){let J=new fl;const $=fe.bind(Q);let re=!1;J.on("touchstart",me=>{re=!0,Xs(Q,p,f,i),setTimeout(()=>{re&&fe(me,Q)},100)}),J.on("touchend",me=>{re=!1}),J.on("click",me=>$(me,Q)),J.on("mouseover",me=>{w==="build-fast"&&Xs(Q,p,f,i)}),Q.gfx=J,S.addChild(J),F(Q.gfx,Q.name)}const D={Inter:"https://fonts.googleapis.com/css2?family=Inter:wght@100;400;500;700&display=swap"};return Ga.add("font-Inter",D.Inter),Ga.load(D.Inter).then(()=>{G()}),{destroy:()=>{m.stop(),f.forEach(Q=>{Q.gfx&&(Q.gfx.clear(),Q.gfx.removeChildren(),Q.gfx.destroy())}),v.clear(),v.clear(),a.unsubscribe(),h.destroy()}}}const COe="_container_1up64_1",TOe="_node_1up64_15",AOe="_tooltip_1up64_19",POe="_contextMenu_1up64_32",kOe="_menuEntry_1up64_37",OOe={container:COe,node:TOe,tooltip:AOe,contextMenu:POe,menuEntry:kOe},IOe=(t,e,n)=>{let r={};const i={globalParams:{},lockedStats:{},stats:{},abilities:{},pointsInvested:0,exportableBuild:{}},s=(c,h,f,p)=>{if(Mr(i.stats[h])&&(i.stats[h]=0),!i.lockedStats[h]||p&&f&&i.lockedStats[h]<f)if(p)i.stats[h]=f,i.lockedStats[h]=f;else if(c.levels){const m=c.acquired||0;f=f||0,i.stats[h]+=f*m}else i.stats[h]+=f},o=(c,h)=>{const f=Qe(e,{id:c});Mr(i.abilities[c])&&(i.abilities[c]=ht(f)||{},i.abilities[c].modifiers={}),i.abilities[c].learned=i.abilities[c].learned||h},a=c=>{const h=Qe(e,{id:c});h&&(o(h.id),i.abilities[c].replaced=!0)},l=(c,h,f={},p)=>{const m=Qe(e,{id:c});o(c,h),m!=null&&m.replaces&&i.abilities[c].learned&&a(m==null?void 0:m.replaces),f&&vt(f,v=>{if(oZ(v.id,"tag-")){Mr(i.abilities[c].tags)&&(i.abilities[c].tags=[]);const x=v.id.substring(4);i.abilities[c].tags=wd([...i.abilities[c].tags,x])}let y=v.modifier;p.levels&&(y=p.acquired*v.modifier),Mr(i.abilities[c].modifiers[v.id])&&(i.abilities[c].modifiers[v.id]=0),i.abilities[c].modifiers[v.id]+=y})};return vt(n,c=>{i.globalParams[c.id]=c.value}),vt(t,c=>{c.globalParams&&vt(c.globalParams,h=>{Mr(i.globalParams[h.id])&&(i.globalParams[h.id]=0),h.set?(!r[h.id]||h.modifier>r[h.id])&&(r[h.id]=h.modifier):i.globalParams[h.id]+=h.modifier})}),vt(t,c=>{if(c.levels){const h=c.acquired||0;i.exportableBuild[c.id]=c.acquired||0,c.levelCost?Array.isArray(c.levelCost)?rf(h,f=>{i.pointsInvested+=c.levelCost[f]}):i.pointsInvested+=h*c.levelCost:i.pointsInvested+=c.acquired||0}else i.exportableBuild[c.id]=!0,i.pointsInvested+=c.cost||1;c.providedStats&&vt(c.providedStats,h=>{s(c,h.id,h.modifier,h.set)}),c.providedAbilities&&vt(c.providedAbilities,h=>{l(h.id,h.gain,h.modifiers,c)})}),i};function ROe({infoUpdated:t,graphEvents:e}){const n=T.useRef(null),{abilities:r,globalParams:i}=T.useContext(Jn),{nodes:s,setNodeMeta:o}=T.useContext(bo),a=new yg,l=new yg,{savedBuild:c,setBuild:h,selectedUnitId:f,customUnits:p,setCustomUnits:m}=T.useContext(Rs),{theme:v}=T.useContext(wc),{appMode:y}=T.useContext(_o),x=T.useRef(r),b=T.useRef(i);return T.useEffect(()=>{e.next({event:"modeChanged",data:{mode:y}})},[y]),T.useEffect(()=>{x.current=r},[r]),T.useEffect(()=>{b.current=i},[i]),T.useEffect(()=>{e.next({event:"themeChanged",data:v})},[v]),T.useEffect(()=>{let S;if(e.subscribe({next:w=>{}}),a.subscribe({next:w=>{const E=gr(w.nodes,A=>A.selected||A.acquired),O=IOe(E,x.current,b.current);if(h({type:"set",build:O}),f&&Qe(p,{id:f})){const A=Qe(p,{id:f});m({type:"update",unit:{...A,build:O.exportableBuild}})}w.nodeMeta&&o(w.nodeMeta)}}),l.subscribe({next:w=>{t(w)}}),n.current){const{destroy:w}=EOe(n.current,s,c,a,l,e,v);S=w}return t({}),S},[c]),k("div",{ref:n,className:OOe.container})}const j3=new yg;function MOe(){const{setSelectedNodeId:t}=T.useContext(bo),{build:e}=T.useContext(Rs),{theme:n}=T.useContext(wc),{appMode:r,setAppMode:i,buildMode:s,setBuildMode:o}=T.useContext(_o),a=T.useRef(r),l=T.useRef(s);T.useEffect(()=>{a.current=r},[r]),T.useEffect(()=>{l.current=s},[s]);const c=T.useCallback(f=>{var m;const p=["INPUT","SELECT","TEXTAREA"];f.shiftKey&&!tf(p,(m=document.activeElement)==null?void 0:m.tagName)&&(f.key==="E"?i(a.current==="edit"?s:"edit"):f.key==="F"&&(l.current==="build-slow"?(i("build-fast"),o("build-fast")):(i("build-slow"),o("build-slow"))))},[]);T.useEffect(()=>(document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}),[c]);const h=f=>{var p;t((p=f.node)==null?void 0:p.id)};return te("div",{className:uo({App:!0,light:n==="light"}),children:[te("div",{className:"appLeft",children:[k(Axe,{graphEvents$:j3}),k(NSe,{pointsSpent:e.pointsInvested})]}),k("div",{className:"appRight",children:k(BSe,{})}),k("div",{className:"skill-panel",children:k(ROe,{infoUpdated:h,graphEvents:j3})})]})}function FOe(){return k(uxe,{children:k(yre,{children:k(FZ,{children:k(SZ,{children:k(IZ,{children:k(xxe,{children:k(fre,{children:k(MOe,{})})})})})})})})}Ab.createRoot(document.getElementById("root")).render(k(FOe,{}))});export default DOe();
