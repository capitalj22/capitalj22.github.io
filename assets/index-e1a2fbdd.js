var sR=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var dhe=sR((rn,sn)=>{function oR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var kr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function aR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function lR(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var _h={},uR={get exports(){return _h},set exports(t){_h=t}},Id={},_={},cR={get exports(){return _},set exports(t){_=t}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vu=Symbol.for("react.element"),hR=Symbol.for("react.portal"),dR=Symbol.for("react.fragment"),fR=Symbol.for("react.strict_mode"),pR=Symbol.for("react.profiler"),mR=Symbol.for("react.provider"),gR=Symbol.for("react.context"),vR=Symbol.for("react.forward_ref"),yR=Symbol.for("react.suspense"),bR=Symbol.for("react.memo"),xR=Symbol.for("react.lazy"),Rb=Symbol.iterator;function wR(t){return t===null||typeof t!="object"?null:(t=Rb&&t[Rb]||t["@@iterator"],typeof t=="function"?t:null)}var jS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zS=Object.assign,HS={};function oa(t,e,n){this.props=t,this.context=e,this.refs=HS,this.updater=n||jS}oa.prototype.isReactComponent={};oa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};oa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function GS(){}GS.prototype=oa.prototype;function V0(t,e,n){this.props=t,this.context=e,this.refs=HS,this.updater=n||jS}var X0=V0.prototype=new GS;X0.constructor=V0;zS(X0,oa.prototype);X0.isPureReactComponent=!0;var kb=Array.isArray,WS=Object.prototype.hasOwnProperty,Y0={current:null},VS={key:!0,ref:!0,__self:!0,__source:!0};function XS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)WS.call(e,r)&&!VS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:vu,type:t,key:s,ref:o,props:i,_owner:Y0.current}}function _R(t,e){return{$$typeof:vu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function q0(t){return typeof t=="object"&&t!==null&&t.$$typeof===vu}function ER(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Mb=/\/+/g;function Kf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ER(""+t.key):e.toString(36)}function Yc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case vu:case hR:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Kf(o,0):r,kb(i)?(n="",t!=null&&(n=t.replace(Mb,"$&/")+"/"),Yc(i,e,n,"",function(u){return u})):i!=null&&(q0(i)&&(i=_R(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Mb,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",kb(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Kf(s,a);o+=Yc(s,e,n,l,i)}else if(l=wR(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Kf(s,a++),o+=Yc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Qu(t,e,n){if(t==null)return t;var r=[],i=0;return Yc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function SR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var $t={current:null},qc={transition:null},CR={ReactCurrentDispatcher:$t,ReactCurrentBatchConfig:qc,ReactCurrentOwner:Y0};ye.Children={map:Qu,forEach:function(t,e,n){Qu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Qu(t,function(){e++}),e},toArray:function(t){return Qu(t,function(e){return e})||[]},only:function(t){if(!q0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=oa;ye.Fragment=dR;ye.Profiler=pR;ye.PureComponent=V0;ye.StrictMode=fR;ye.Suspense=yR;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CR;ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=zS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Y0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)WS.call(e,l)&&!VS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:vu,type:t.type,key:i,ref:s,props:r,_owner:o}};ye.createContext=function(t){return t={$$typeof:gR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:mR,_context:t},t.Consumer=t};ye.createElement=XS;ye.createFactory=function(t){var e=XS.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:vR,render:t}};ye.isValidElement=q0;ye.lazy=function(t){return{$$typeof:xR,_payload:{_status:-1,_result:t},_init:SR}};ye.memo=function(t,e){return{$$typeof:bR,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=qc.transition;qc.transition={};try{t()}finally{qc.transition=e}};ye.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ye.useCallback=function(t,e){return $t.current.useCallback(t,e)};ye.useContext=function(t){return $t.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return $t.current.useDeferredValue(t)};ye.useEffect=function(t,e){return $t.current.useEffect(t,e)};ye.useId=function(){return $t.current.useId()};ye.useImperativeHandle=function(t,e,n){return $t.current.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return $t.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return $t.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return $t.current.useMemo(t,e)};ye.useReducer=function(t,e,n){return $t.current.useReducer(t,e,n)};ye.useRef=function(t){return $t.current.useRef(t)};ye.useState=function(t){return $t.current.useState(t)};ye.useSyncExternalStore=function(t,e,n){return $t.current.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return $t.current.useTransition()};ye.version="18.2.0";(function(t){t.exports=ye})(cR);const w=aR(_),Fb=oR({__proto__:null,default:w},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TR=_,AR=Symbol.for("react.element"),PR=Symbol.for("react.fragment"),OR=Object.prototype.hasOwnProperty,IR=TR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RR={key:!0,ref:!0,__self:!0,__source:!0};function YS(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)OR.call(e,r)&&!RR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:AR,type:t,key:s,ref:o,props:i,_owner:IR.current}}Id.Fragment=PR;Id.jsx=YS;Id.jsxs=YS;(function(t){t.exports=Id})(uR);const E=_h.jsx,j=_h.jsxs;var vm={},Cl={},kR={get exports(){return Cl},set exports(t){Cl=t}},fn={},ym={},MR={get exports(){return ym},set exports(t){ym=t}},qS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,W){var D=$.length;$.push(W);e:for(;0<D;){var G=D-1>>>1,I=$[G];if(0<i(I,W))$[G]=W,$[D]=I,D=G;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var W=$[0],D=$.pop();if(D!==W){$[0]=D;e:for(var G=0,I=$.length,O=I>>>1;G<O;){var L=2*(G+1)-1,Y=$[L],K=L+1,ue=$[K];if(0>i(Y,D))K<I&&0>i(ue,Y)?($[G]=ue,$[K]=D,G=K):($[G]=Y,$[L]=D,G=L);else if(K<I&&0>i(ue,D))$[G]=ue,$[K]=D,G=K;else break e}}return W}function i($,W){var D=$.sortIndex-W.sortIndex;return D!==0?D:$.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,p=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y($){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=$)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function x($){if(m=!1,y($),!p)if(n(l)!==null)p=!0,Q(S);else{var W=n(u);W!==null&&z(x,W.startTime-$)}}function S($,W){p=!1,m&&(m=!1,v(A),A=-1),f=!0;var D=d;try{for(y(W),h=n(l);h!==null&&(!(h.expirationTime>W)||$&&!B());){var G=h.callback;if(typeof G=="function"){h.callback=null,d=h.priorityLevel;var I=G(h.expirationTime<=W);W=t.unstable_now(),typeof I=="function"?h.callback=I:h===n(l)&&r(l),y(W)}else r(l);h=n(l)}if(h!==null)var O=!0;else{var L=n(u);L!==null&&z(x,L.startTime-W),O=!1}return O}finally{h=null,d=D,f=!1}}var C=!1,T=null,A=-1,k=5,M=-1;function B(){return!(t.unstable_now()-M<k)}function N(){if(T!==null){var $=t.unstable_now();M=$;var W=!0;try{W=T(!0,$)}finally{W?R():(C=!1,T=null)}}else C=!1}var R;if(typeof b=="function")R=function(){b(N)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,q=F.port2;F.port1.onmessage=N,R=function(){q.postMessage(null)}}else R=function(){g(N,0)};function Q($){T=$,C||(C=!0,R())}function z($,W){A=g(function(){$(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,Q(S))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(d){case 1:case 2:case 3:var W=3;break;default:W=d}var D=d;d=W;try{return $()}finally{d=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,W){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var D=d;d=$;try{return W()}finally{d=D}},t.unstable_scheduleCallback=function($,W,D){var G=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?G+D:G):D=G,$){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=D+I,$={id:c++,callback:W,priorityLevel:$,startTime:D,expirationTime:I,sortIndex:-1},D>G?($.sortIndex=D,e(u,$),n(l)===null&&$===n(u)&&(m?(v(A),A=-1):m=!0,z(x,D-G))):($.sortIndex=I,e(l,$),p||f||(p=!0,Q(S))),$},t.unstable_shouldYield=B,t.unstable_wrapCallback=function($){var W=d;return function(){var D=d;d=W;try{return $.apply(this,arguments)}finally{d=D}}}})(qS);(function(t){t.exports=qS})(MR);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KS=_,hn=ym;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ZS=new Set,Tl={};function Ss(t,e){Bo(t,e),Bo(t+"Capture",e)}function Bo(t,e){for(Tl[t]=e,t=0;t<e.length;t++)ZS.add(e[t])}var Lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bm=Object.prototype.hasOwnProperty,FR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Db={},$b={};function DR(t){return bm.call($b,t)?!0:bm.call(Db,t)?!1:FR.test(t)?$b[t]=!0:(Db[t]=!0,!1)}function $R(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function BR(t,e,n,r){if(e===null||typeof e>"u"||$R(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Bt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){wt[t]=new Bt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];wt[e]=new Bt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){wt[t]=new Bt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){wt[t]=new Bt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){wt[t]=new Bt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){wt[t]=new Bt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){wt[t]=new Bt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){wt[t]=new Bt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){wt[t]=new Bt(t,5,!1,t.toLowerCase(),null,!1,!1)});var K0=/[\-:]([a-z])/g;function Z0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(K0,Z0);wt[e]=new Bt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(K0,Z0);wt[e]=new Bt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(K0,Z0);wt[e]=new Bt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){wt[t]=new Bt(t,1,!1,t.toLowerCase(),null,!1,!1)});wt.xlinkHref=new Bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){wt[t]=new Bt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Q0(t,e,n,r){var i=wt.hasOwnProperty(e)?wt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(BR(e,n,i,r)&&(n=null),r||i===null?DR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Xr=KS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ju=Symbol.for("react.element"),ho=Symbol.for("react.portal"),fo=Symbol.for("react.fragment"),J0=Symbol.for("react.strict_mode"),xm=Symbol.for("react.profiler"),QS=Symbol.for("react.provider"),JS=Symbol.for("react.context"),ev=Symbol.for("react.forward_ref"),wm=Symbol.for("react.suspense"),_m=Symbol.for("react.suspense_list"),tv=Symbol.for("react.memo"),ti=Symbol.for("react.lazy"),e2=Symbol.for("react.offscreen"),Bb=Symbol.iterator;function Aa(t){return t===null||typeof t!="object"?null:(t=Bb&&t[Bb]||t["@@iterator"],typeof t=="function"?t:null)}var qe=Object.assign,Zf;function Za(t){if(Zf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Zf=e&&e[1]||""}return`
`+Zf+t}var Qf=!1;function Jf(t,e){if(!t||Qf)return"";Qf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Qf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Za(t):""}function NR(t){switch(t.tag){case 5:return Za(t.type);case 16:return Za("Lazy");case 13:return Za("Suspense");case 19:return Za("SuspenseList");case 0:case 2:case 15:return t=Jf(t.type,!1),t;case 11:return t=Jf(t.type.render,!1),t;case 1:return t=Jf(t.type,!0),t;default:return""}}function Em(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fo:return"Fragment";case ho:return"Portal";case xm:return"Profiler";case J0:return"StrictMode";case wm:return"Suspense";case _m:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case JS:return(t.displayName||"Context")+".Consumer";case QS:return(t._context.displayName||"Context")+".Provider";case ev:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tv:return e=t.displayName||null,e!==null?e:Em(t.type)||"Memo";case ti:e=t._payload,t=t._init;try{return Em(t(e))}catch{}}return null}function LR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Em(e);case 8:return e===J0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function t2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function UR(t){var e=t2(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ec(t){t._valueTracker||(t._valueTracker=UR(t))}function n2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=t2(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Eh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Sm(t,e){var n=e.checked;return qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Nb(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=xi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function r2(t,e){e=e.checked,e!=null&&Q0(t,"checked",e,!1)}function Cm(t,e){r2(t,e);var n=xi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Tm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Tm(t,e.type,xi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Lb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Tm(t,e,n){(e!=="number"||Eh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Qa=Array.isArray;function Co(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+xi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Am(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ub(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(Qa(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:xi(n)}}function i2(t,e){var n=xi(e.value),r=xi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function jb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function s2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?s2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var tc,o2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(tc=tc||document.createElement("div"),tc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=tc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Al(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jR=["Webkit","ms","Moz","O"];Object.keys(fl).forEach(function(t){jR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fl[e]=fl[t]})});function a2(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fl.hasOwnProperty(t)&&fl[t]?(""+e).trim():e+"px"}function l2(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=a2(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var zR=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Om(t,e){if(e){if(zR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function Im(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rm=null;function nv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var km=null,To=null,Ao=null;function zb(t){if(t=xu(t)){if(typeof km!="function")throw Error(H(280));var e=t.stateNode;e&&(e=Dd(e),km(t.stateNode,t.type,e))}}function u2(t){To?Ao?Ao.push(t):Ao=[t]:To=t}function c2(){if(To){var t=To,e=Ao;if(Ao=To=null,zb(t),e)for(t=0;t<e.length;t++)zb(e[t])}}function h2(t,e){return t(e)}function d2(){}var ep=!1;function f2(t,e,n){if(ep)return t(e,n);ep=!0;try{return h2(t,e,n)}finally{ep=!1,(To!==null||Ao!==null)&&(d2(),c2())}}function Pl(t,e){var n=t.stateNode;if(n===null)return null;var r=Dd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Mm=!1;if(Lr)try{var Pa={};Object.defineProperty(Pa,"passive",{get:function(){Mm=!0}}),window.addEventListener("test",Pa,Pa),window.removeEventListener("test",Pa,Pa)}catch{Mm=!1}function HR(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var pl=!1,Sh=null,Ch=!1,Fm=null,GR={onError:function(t){pl=!0,Sh=t}};function WR(t,e,n,r,i,s,o,a,l){pl=!1,Sh=null,HR.apply(GR,arguments)}function VR(t,e,n,r,i,s,o,a,l){if(WR.apply(this,arguments),pl){if(pl){var u=Sh;pl=!1,Sh=null}else throw Error(H(198));Ch||(Ch=!0,Fm=u)}}function Cs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function p2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Hb(t){if(Cs(t)!==t)throw Error(H(188))}function XR(t){var e=t.alternate;if(!e){if(e=Cs(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Hb(i),t;if(s===r)return Hb(i),e;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function m2(t){return t=XR(t),t!==null?g2(t):null}function g2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=g2(t);if(e!==null)return e;t=t.sibling}return null}var v2=hn.unstable_scheduleCallback,Gb=hn.unstable_cancelCallback,YR=hn.unstable_shouldYield,qR=hn.unstable_requestPaint,rt=hn.unstable_now,KR=hn.unstable_getCurrentPriorityLevel,rv=hn.unstable_ImmediatePriority,y2=hn.unstable_UserBlockingPriority,Th=hn.unstable_NormalPriority,ZR=hn.unstable_LowPriority,b2=hn.unstable_IdlePriority,Rd=null,br=null;function QR(t){if(br&&typeof br.onCommitFiberRoot=="function")try{br.onCommitFiberRoot(Rd,t,void 0,(t.current.flags&128)===128)}catch{}}var qn=Math.clz32?Math.clz32:tk,JR=Math.log,ek=Math.LN2;function tk(t){return t>>>=0,t===0?32:31-(JR(t)/ek|0)|0}var nc=64,rc=4194304;function Ja(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ah(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ja(a):(s&=o,s!==0&&(r=Ja(s)))}else o=n&~i,o!==0?r=Ja(o):s!==0&&(r=Ja(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-qn(e),i=1<<n,r|=t[n],e&=~i;return r}function nk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-qn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=nk(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Dm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function x2(){var t=nc;return nc<<=1,!(nc&4194240)&&(nc=64),t}function tp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qn(e),t[e]=n}function ik(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-qn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function iv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-qn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Oe=0;function w2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _2,sv,E2,S2,C2,$m=!1,ic=[],ci=null,hi=null,di=null,Ol=new Map,Il=new Map,ii=[],sk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wb(t,e){switch(t){case"focusin":case"focusout":ci=null;break;case"dragenter":case"dragleave":hi=null;break;case"mouseover":case"mouseout":di=null;break;case"pointerover":case"pointerout":Ol.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(e.pointerId)}}function Oa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=xu(e),e!==null&&sv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ok(t,e,n,r,i){switch(e){case"focusin":return ci=Oa(ci,t,e,n,r,i),!0;case"dragenter":return hi=Oa(hi,t,e,n,r,i),!0;case"mouseover":return di=Oa(di,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ol.set(s,Oa(Ol.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Il.set(s,Oa(Il.get(s)||null,t,e,n,r,i)),!0}return!1}function T2(t){var e=qi(t.target);if(e!==null){var n=Cs(e);if(n!==null){if(e=n.tag,e===13){if(e=p2(n),e!==null){t.blockedOn=e,C2(t.priority,function(){E2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Bm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Rm=r,n.target.dispatchEvent(r),Rm=null}else return e=xu(n),e!==null&&sv(e),t.blockedOn=n,!1;e.shift()}return!0}function Vb(t,e,n){Kc(t)&&n.delete(e)}function ak(){$m=!1,ci!==null&&Kc(ci)&&(ci=null),hi!==null&&Kc(hi)&&(hi=null),di!==null&&Kc(di)&&(di=null),Ol.forEach(Vb),Il.forEach(Vb)}function Ia(t,e){t.blockedOn===e&&(t.blockedOn=null,$m||($m=!0,hn.unstable_scheduleCallback(hn.unstable_NormalPriority,ak)))}function Rl(t){function e(i){return Ia(i,t)}if(0<ic.length){Ia(ic[0],t);for(var n=1;n<ic.length;n++){var r=ic[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ci!==null&&Ia(ci,t),hi!==null&&Ia(hi,t),di!==null&&Ia(di,t),Ol.forEach(e),Il.forEach(e),n=0;n<ii.length;n++)r=ii[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ii.length&&(n=ii[0],n.blockedOn===null);)T2(n),n.blockedOn===null&&ii.shift()}var Po=Xr.ReactCurrentBatchConfig,Ph=!0;function lk(t,e,n,r){var i=Oe,s=Po.transition;Po.transition=null;try{Oe=1,ov(t,e,n,r)}finally{Oe=i,Po.transition=s}}function uk(t,e,n,r){var i=Oe,s=Po.transition;Po.transition=null;try{Oe=4,ov(t,e,n,r)}finally{Oe=i,Po.transition=s}}function ov(t,e,n,r){if(Ph){var i=Bm(t,e,n,r);if(i===null)hp(t,e,r,Oh,n),Wb(t,r);else if(ok(i,t,e,n,r))r.stopPropagation();else if(Wb(t,r),e&4&&-1<sk.indexOf(t)){for(;i!==null;){var s=xu(i);if(s!==null&&_2(s),s=Bm(t,e,n,r),s===null&&hp(t,e,r,Oh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else hp(t,e,r,null,n)}}var Oh=null;function Bm(t,e,n,r){if(Oh=null,t=nv(r),t=qi(t),t!==null)if(e=Cs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=p2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Oh=t,null}function A2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KR()){case rv:return 1;case y2:return 4;case Th:case ZR:return 16;case b2:return 536870912;default:return 16}default:return 16}}var oi=null,av=null,Zc=null;function P2(){if(Zc)return Zc;var t,e=av,n=e.length,r,i="value"in oi?oi.value:oi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Zc=i.slice(t,1<r?1-r:void 0)}function Qc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sc(){return!0}function Xb(){return!1}function pn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sc:Xb,this.isPropagationStopped=Xb,this}return qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sc)},persist:function(){},isPersistent:sc}),e}var aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lv=pn(aa),bu=qe({},aa,{view:0,detail:0}),ck=pn(bu),np,rp,Ra,kd=qe({},bu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ra&&(Ra&&t.type==="mousemove"?(np=t.screenX-Ra.screenX,rp=t.screenY-Ra.screenY):rp=np=0,Ra=t),np)},movementY:function(t){return"movementY"in t?t.movementY:rp}}),Yb=pn(kd),hk=qe({},kd,{dataTransfer:0}),dk=pn(hk),fk=qe({},bu,{relatedTarget:0}),ip=pn(fk),pk=qe({},aa,{animationName:0,elapsedTime:0,pseudoElement:0}),mk=pn(pk),gk=qe({},aa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vk=pn(gk),yk=qe({},aa,{data:0}),qb=pn(yk),bk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _k(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=wk[t])?!!e[t]:!1}function uv(){return _k}var Ek=qe({},bu,{key:function(t){if(t.key){var e=bk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uv,charCode:function(t){return t.type==="keypress"?Qc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Sk=pn(Ek),Ck=qe({},kd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kb=pn(Ck),Tk=qe({},bu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uv}),Ak=pn(Tk),Pk=qe({},aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ok=pn(Pk),Ik=qe({},kd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Rk=pn(Ik),kk=[9,13,27,32],cv=Lr&&"CompositionEvent"in window,ml=null;Lr&&"documentMode"in document&&(ml=document.documentMode);var Mk=Lr&&"TextEvent"in window&&!ml,O2=Lr&&(!cv||ml&&8<ml&&11>=ml),Zb=String.fromCharCode(32),Qb=!1;function I2(t,e){switch(t){case"keyup":return kk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function R2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var po=!1;function Fk(t,e){switch(t){case"compositionend":return R2(e);case"keypress":return e.which!==32?null:(Qb=!0,Zb);case"textInput":return t=e.data,t===Zb&&Qb?null:t;default:return null}}function Dk(t,e){if(po)return t==="compositionend"||!cv&&I2(t,e)?(t=P2(),Zc=av=oi=null,po=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return O2&&e.locale!=="ko"?null:e.data;default:return null}}var $k={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$k[t.type]:e==="textarea"}function k2(t,e,n,r){u2(r),e=Ih(e,"onChange"),0<e.length&&(n=new lv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var gl=null,kl=null;function Bk(t){H2(t,0)}function Md(t){var e=vo(t);if(n2(e))return t}function Nk(t,e){if(t==="change")return e}var M2=!1;if(Lr){var sp;if(Lr){var op="oninput"in document;if(!op){var ex=document.createElement("div");ex.setAttribute("oninput","return;"),op=typeof ex.oninput=="function"}sp=op}else sp=!1;M2=sp&&(!document.documentMode||9<document.documentMode)}function tx(){gl&&(gl.detachEvent("onpropertychange",F2),kl=gl=null)}function F2(t){if(t.propertyName==="value"&&Md(kl)){var e=[];k2(e,kl,t,nv(t)),f2(Bk,e)}}function Lk(t,e,n){t==="focusin"?(tx(),gl=e,kl=n,gl.attachEvent("onpropertychange",F2)):t==="focusout"&&tx()}function Uk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Md(kl)}function jk(t,e){if(t==="click")return Md(e)}function zk(t,e){if(t==="input"||t==="change")return Md(e)}function Hk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tr=typeof Object.is=="function"?Object.is:Hk;function Ml(t,e){if(tr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!bm.call(e,i)||!tr(t[i],e[i]))return!1}return!0}function nx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rx(t,e){var n=nx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nx(n)}}function D2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?D2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $2(){for(var t=window,e=Eh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Eh(t.document)}return e}function hv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Gk(t){var e=$2(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&D2(n.ownerDocument.documentElement,n)){if(r!==null&&hv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=rx(n,s);var o=rx(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Wk=Lr&&"documentMode"in document&&11>=document.documentMode,mo=null,Nm=null,vl=null,Lm=!1;function ix(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lm||mo==null||mo!==Eh(r)||(r=mo,"selectionStart"in r&&hv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vl&&Ml(vl,r)||(vl=r,r=Ih(Nm,"onSelect"),0<r.length&&(e=new lv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mo)))}function oc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var go={animationend:oc("Animation","AnimationEnd"),animationiteration:oc("Animation","AnimationIteration"),animationstart:oc("Animation","AnimationStart"),transitionend:oc("Transition","TransitionEnd")},ap={},B2={};Lr&&(B2=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function Fd(t){if(ap[t])return ap[t];if(!go[t])return t;var e=go[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in B2)return ap[t]=e[n];return t}var N2=Fd("animationend"),L2=Fd("animationiteration"),U2=Fd("animationstart"),j2=Fd("transitionend"),z2=new Map,sx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ai(t,e){z2.set(t,e),Ss(e,[t])}for(var lp=0;lp<sx.length;lp++){var up=sx[lp],Vk=up.toLowerCase(),Xk=up[0].toUpperCase()+up.slice(1);Ai(Vk,"on"+Xk)}Ai(N2,"onAnimationEnd");Ai(L2,"onAnimationIteration");Ai(U2,"onAnimationStart");Ai("dblclick","onDoubleClick");Ai("focusin","onFocus");Ai("focusout","onBlur");Ai(j2,"onTransitionEnd");Bo("onMouseEnter",["mouseout","mouseover"]);Bo("onMouseLeave",["mouseout","mouseover"]);Bo("onPointerEnter",["pointerout","pointerover"]);Bo("onPointerLeave",["pointerout","pointerover"]);Ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ss("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yk=new Set("cancel close invalid load scroll toggle".split(" ").concat(el));function ox(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,VR(r,e,void 0,t),t.currentTarget=null}function H2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;ox(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;ox(i,a,u),s=l}}}if(Ch)throw t=Fm,Ch=!1,Fm=null,t}function Fe(t,e){var n=e[Gm];n===void 0&&(n=e[Gm]=new Set);var r=t+"__bubble";n.has(r)||(G2(e,t,2,!1),n.add(r))}function cp(t,e,n){var r=0;e&&(r|=4),G2(n,t,r,e)}var ac="_reactListening"+Math.random().toString(36).slice(2);function Fl(t){if(!t[ac]){t[ac]=!0,ZS.forEach(function(n){n!=="selectionchange"&&(Yk.has(n)||cp(n,!1,t),cp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ac]||(e[ac]=!0,cp("selectionchange",!1,e))}}function G2(t,e,n,r){switch(A2(e)){case 1:var i=lk;break;case 4:i=uk;break;default:i=ov}n=i.bind(null,e,n,t),i=void 0,!Mm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function hp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=qi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}f2(function(){var u=s,c=nv(n),h=[];e:{var d=z2.get(t);if(d!==void 0){var f=lv,p=t;switch(t){case"keypress":if(Qc(n)===0)break e;case"keydown":case"keyup":f=Sk;break;case"focusin":p="focus",f=ip;break;case"focusout":p="blur",f=ip;break;case"beforeblur":case"afterblur":f=ip;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Yb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=dk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Ak;break;case N2:case L2:case U2:f=mk;break;case j2:f=Ok;break;case"scroll":f=ck;break;case"wheel":f=Rk;break;case"copy":case"cut":case"paste":f=vk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Kb}var m=(e&4)!==0,g=!m&&t==="scroll",v=m?d!==null?d+"Capture":null:d;m=[];for(var b=u,y;b!==null;){y=b;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,v!==null&&(x=Pl(b,v),x!=null&&m.push(Dl(b,x,y)))),g)break;b=b.return}0<m.length&&(d=new f(d,p,null,n,c),h.push({event:d,listeners:m}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==Rm&&(p=n.relatedTarget||n.fromElement)&&(qi(p)||p[Ur]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=u,p=p?qi(p):null,p!==null&&(g=Cs(p),p!==g||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(m=Yb,x="onMouseLeave",v="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(m=Kb,x="onPointerLeave",v="onPointerEnter",b="pointer"),g=f==null?d:vo(f),y=p==null?d:vo(p),d=new m(x,b+"leave",f,n,c),d.target=g,d.relatedTarget=y,x=null,qi(c)===u&&(m=new m(v,b+"enter",p,n,c),m.target=y,m.relatedTarget=g,x=m),g=x,f&&p)t:{for(m=f,v=p,b=0,y=m;y;y=Ms(y))b++;for(y=0,x=v;x;x=Ms(x))y++;for(;0<b-y;)m=Ms(m),b--;for(;0<y-b;)v=Ms(v),y--;for(;b--;){if(m===v||v!==null&&m===v.alternate)break t;m=Ms(m),v=Ms(v)}m=null}else m=null;f!==null&&ax(h,d,f,m,!1),p!==null&&g!==null&&ax(h,g,p,m,!0)}}e:{if(d=u?vo(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var S=Nk;else if(Jb(d))if(M2)S=zk;else{S=Uk;var C=Lk}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=jk);if(S&&(S=S(t,u))){k2(h,S,n,c);break e}C&&C(t,d,u),t==="focusout"&&(C=d._wrapperState)&&C.controlled&&d.type==="number"&&Tm(d,"number",d.value)}switch(C=u?vo(u):window,t){case"focusin":(Jb(C)||C.contentEditable==="true")&&(mo=C,Nm=u,vl=null);break;case"focusout":vl=Nm=mo=null;break;case"mousedown":Lm=!0;break;case"contextmenu":case"mouseup":case"dragend":Lm=!1,ix(h,n,c);break;case"selectionchange":if(Wk)break;case"keydown":case"keyup":ix(h,n,c)}var T;if(cv)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else po?I2(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(O2&&n.locale!=="ko"&&(po||A!=="onCompositionStart"?A==="onCompositionEnd"&&po&&(T=P2()):(oi=c,av="value"in oi?oi.value:oi.textContent,po=!0)),C=Ih(u,A),0<C.length&&(A=new qb(A,t,null,n,c),h.push({event:A,listeners:C}),T?A.data=T:(T=R2(n),T!==null&&(A.data=T)))),(T=Mk?Fk(t,n):Dk(t,n))&&(u=Ih(u,"onBeforeInput"),0<u.length&&(c=new qb("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=T))}H2(h,e)})}function Dl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ih(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Pl(t,n),s!=null&&r.unshift(Dl(t,s,i)),s=Pl(t,e),s!=null&&r.push(Dl(t,s,i))),t=t.return}return r}function Ms(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ax(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Pl(n,s),l!=null&&o.unshift(Dl(n,l,a))):i||(l=Pl(n,s),l!=null&&o.push(Dl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var qk=/\r\n?/g,Kk=/\u0000|\uFFFD/g;function lx(t){return(typeof t=="string"?t:""+t).replace(qk,`
`).replace(Kk,"")}function lc(t,e,n){if(e=lx(e),lx(t)!==e&&n)throw Error(H(425))}function Rh(){}var Um=null,jm=null;function zm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hm=typeof setTimeout=="function"?setTimeout:void 0,Zk=typeof clearTimeout=="function"?clearTimeout:void 0,ux=typeof Promise=="function"?Promise:void 0,Qk=typeof queueMicrotask=="function"?queueMicrotask:typeof ux<"u"?function(t){return ux.resolve(null).then(t).catch(Jk)}:Hm;function Jk(t){setTimeout(function(){throw t})}function dp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Rl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Rl(e)}function fi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function cx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var la=Math.random().toString(36).slice(2),fr="__reactFiber$"+la,$l="__reactProps$"+la,Ur="__reactContainer$"+la,Gm="__reactEvents$"+la,eM="__reactListeners$"+la,tM="__reactHandles$"+la;function qi(t){var e=t[fr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ur]||n[fr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=cx(t);t!==null;){if(n=t[fr])return n;t=cx(t)}return e}t=n,n=t.parentNode}return null}function xu(t){return t=t[fr]||t[Ur],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function Dd(t){return t[$l]||null}var Wm=[],yo=-1;function Pi(t){return{current:t}}function Be(t){0>yo||(t.current=Wm[yo],Wm[yo]=null,yo--)}function Me(t,e){yo++,Wm[yo]=t.current,t.current=e}var wi={},Pt=Pi(wi),zt=Pi(!1),hs=wi;function No(t,e){var n=t.type.contextTypes;if(!n)return wi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ht(t){return t=t.childContextTypes,t!=null}function kh(){Be(zt),Be(Pt)}function hx(t,e,n){if(Pt.current!==wi)throw Error(H(168));Me(Pt,e),Me(zt,n)}function W2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,LR(t)||"Unknown",i));return qe({},n,r)}function Mh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wi,hs=Pt.current,Me(Pt,t),Me(zt,zt.current),!0}function dx(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=W2(t,e,hs),r.__reactInternalMemoizedMergedChildContext=t,Be(zt),Be(Pt),Me(Pt,t)):Be(zt),Me(zt,n)}var Rr=null,$d=!1,fp=!1;function V2(t){Rr===null?Rr=[t]:Rr.push(t)}function nM(t){$d=!0,V2(t)}function Oi(){if(!fp&&Rr!==null){fp=!0;var t=0,e=Oe;try{var n=Rr;for(Oe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Rr=null,$d=!1}catch(i){throw Rr!==null&&(Rr=Rr.slice(t+1)),v2(rv,Oi),i}finally{Oe=e,fp=!1}}return null}var bo=[],xo=0,Fh=null,Dh=0,bn=[],xn=0,ds=null,Mr=1,Fr="";function ji(t,e){bo[xo++]=Dh,bo[xo++]=Fh,Fh=t,Dh=e}function X2(t,e,n){bn[xn++]=Mr,bn[xn++]=Fr,bn[xn++]=ds,ds=t;var r=Mr;t=Fr;var i=32-qn(r)-1;r&=~(1<<i),n+=1;var s=32-qn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Mr=1<<32-qn(e)+i|n<<i|r,Fr=s+t}else Mr=1<<s|n<<i|r,Fr=t}function dv(t){t.return!==null&&(ji(t,1),X2(t,1,0))}function fv(t){for(;t===Fh;)Fh=bo[--xo],bo[xo]=null,Dh=bo[--xo],bo[xo]=null;for(;t===ds;)ds=bn[--xn],bn[xn]=null,Fr=bn[--xn],bn[xn]=null,Mr=bn[--xn],bn[xn]=null}var on=null,tn=null,He=!1,Gn=null;function Y2(t,e){var n=Sn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function fx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,on=t,tn=fi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,on=t,tn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ds!==null?{id:Mr,overflow:Fr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Sn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,on=t,tn=null,!0):!1;default:return!1}}function Vm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xm(t){if(He){var e=tn;if(e){var n=e;if(!fx(t,e)){if(Vm(t))throw Error(H(418));e=fi(n.nextSibling);var r=on;e&&fx(t,e)?Y2(r,n):(t.flags=t.flags&-4097|2,He=!1,on=t)}}else{if(Vm(t))throw Error(H(418));t.flags=t.flags&-4097|2,He=!1,on=t}}}function px(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;on=t}function uc(t){if(t!==on)return!1;if(!He)return px(t),He=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zm(t.type,t.memoizedProps)),e&&(e=tn)){if(Vm(t))throw q2(),Error(H(418));for(;e;)Y2(t,e),e=fi(e.nextSibling)}if(px(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){tn=fi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}tn=null}}else tn=on?fi(t.stateNode.nextSibling):null;return!0}function q2(){for(var t=tn;t;)t=fi(t.nextSibling)}function Lo(){tn=on=null,He=!1}function pv(t){Gn===null?Gn=[t]:Gn.push(t)}var rM=Xr.ReactCurrentBatchConfig;function zn(t,e){if(t&&t.defaultProps){e=qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var $h=Pi(null),Bh=null,wo=null,mv=null;function gv(){mv=wo=Bh=null}function vv(t){var e=$h.current;Be($h),t._currentValue=e}function Ym(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Oo(t,e){Bh=t,mv=wo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(jt=!0),t.firstContext=null)}function In(t){var e=t._currentValue;if(mv!==t)if(t={context:t,memoizedValue:e,next:null},wo===null){if(Bh===null)throw Error(H(308));wo=t,Bh.dependencies={lanes:0,firstContext:t}}else wo=wo.next=t;return e}var Ki=null;function yv(t){Ki===null?Ki=[t]:Ki.push(t)}function K2(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,yv(e)):(n.next=i.next,i.next=n),e.interleaved=n,jr(t,r)}function jr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ni=!1;function bv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Z2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $r(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function pi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,_e&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,jr(t,n)}return i=r.interleaved,i===null?(e.next=e,yv(r)):(e.next=i.next,i.next=e),r.interleaved=e,jr(t,n)}function Jc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,iv(t,n)}}function mx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Nh(t,e,n,r){var i=t.updateQueue;ni=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(d=e,f=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,d=typeof p=="function"?p.call(f,h,d):p,d==null)break e;h=qe({},h,d);break e;case 2:ni=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ps|=o,t.lanes=o,t.memoizedState=h}}function gx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var Q2=new KS.Component().refs;function qm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Bd={isMounted:function(t){return(t=t._reactInternals)?Cs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ft(),i=gi(t),s=$r(r,i);s.payload=e,n!=null&&(s.callback=n),e=pi(t,s,i),e!==null&&(Kn(e,t,i,r),Jc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ft(),i=gi(t),s=$r(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=pi(t,s,i),e!==null&&(Kn(e,t,i,r),Jc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ft(),r=gi(t),i=$r(n,r);i.tag=2,e!=null&&(i.callback=e),e=pi(t,i,r),e!==null&&(Kn(e,t,r,n),Jc(e,t,r))}};function vx(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ml(n,r)||!Ml(i,s):!0}function J2(t,e,n){var r=!1,i=wi,s=e.contextType;return typeof s=="object"&&s!==null?s=In(s):(i=Ht(e)?hs:Pt.current,r=e.contextTypes,s=(r=r!=null)?No(t,i):wi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Bd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function yx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Bd.enqueueReplaceState(e,e.state,null)}function Km(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Q2,bv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=In(s):(s=Ht(e)?hs:Pt.current,i.context=No(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(qm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Bd.enqueueReplaceState(i,i.state,null),Nh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ka(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===Q2&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function cc(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function bx(t){var e=t._init;return e(t._payload)}function eC(t){function e(v,b){if(t){var y=v.deletions;y===null?(v.deletions=[b],v.flags|=16):y.push(b)}}function n(v,b){if(!t)return null;for(;b!==null;)e(v,b),b=b.sibling;return null}function r(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=vi(v,b),v.index=0,v.sibling=null,v}function s(v,b,y){return v.index=y,t?(y=v.alternate,y!==null?(y=y.index,y<b?(v.flags|=2,b):y):(v.flags|=2,b)):(v.flags|=1048576,b)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,b,y,x){return b===null||b.tag!==6?(b=xp(y,v.mode,x),b.return=v,b):(b=i(b,y),b.return=v,b)}function l(v,b,y,x){var S=y.type;return S===fo?c(v,b,y.props.children,x,y.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ti&&bx(S)===b.type)?(x=i(b,y.props),x.ref=ka(v,b,y),x.return=v,x):(x=sh(y.type,y.key,y.props,null,v.mode,x),x.ref=ka(v,b,y),x.return=v,x)}function u(v,b,y,x){return b===null||b.tag!==4||b.stateNode.containerInfo!==y.containerInfo||b.stateNode.implementation!==y.implementation?(b=wp(y,v.mode,x),b.return=v,b):(b=i(b,y.children||[]),b.return=v,b)}function c(v,b,y,x,S){return b===null||b.tag!==7?(b=rs(y,v.mode,x,S),b.return=v,b):(b=i(b,y),b.return=v,b)}function h(v,b,y){if(typeof b=="string"&&b!==""||typeof b=="number")return b=xp(""+b,v.mode,y),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ju:return y=sh(b.type,b.key,b.props,null,v.mode,y),y.ref=ka(v,null,b),y.return=v,y;case ho:return b=wp(b,v.mode,y),b.return=v,b;case ti:var x=b._init;return h(v,x(b._payload),y)}if(Qa(b)||Aa(b))return b=rs(b,v.mode,y,null),b.return=v,b;cc(v,b)}return null}function d(v,b,y,x){var S=b!==null?b.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:a(v,b,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ju:return y.key===S?l(v,b,y,x):null;case ho:return y.key===S?u(v,b,y,x):null;case ti:return S=y._init,d(v,b,S(y._payload),x)}if(Qa(y)||Aa(y))return S!==null?null:c(v,b,y,x,null);cc(v,y)}return null}function f(v,b,y,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(y)||null,a(b,v,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ju:return v=v.get(x.key===null?y:x.key)||null,l(b,v,x,S);case ho:return v=v.get(x.key===null?y:x.key)||null,u(b,v,x,S);case ti:var C=x._init;return f(v,b,y,C(x._payload),S)}if(Qa(x)||Aa(x))return v=v.get(y)||null,c(b,v,x,S,null);cc(b,x)}return null}function p(v,b,y,x){for(var S=null,C=null,T=b,A=b=0,k=null;T!==null&&A<y.length;A++){T.index>A?(k=T,T=null):k=T.sibling;var M=d(v,T,y[A],x);if(M===null){T===null&&(T=k);break}t&&T&&M.alternate===null&&e(v,T),b=s(M,b,A),C===null?S=M:C.sibling=M,C=M,T=k}if(A===y.length)return n(v,T),He&&ji(v,A),S;if(T===null){for(;A<y.length;A++)T=h(v,y[A],x),T!==null&&(b=s(T,b,A),C===null?S=T:C.sibling=T,C=T);return He&&ji(v,A),S}for(T=r(v,T);A<y.length;A++)k=f(T,v,A,y[A],x),k!==null&&(t&&k.alternate!==null&&T.delete(k.key===null?A:k.key),b=s(k,b,A),C===null?S=k:C.sibling=k,C=k);return t&&T.forEach(function(B){return e(v,B)}),He&&ji(v,A),S}function m(v,b,y,x){var S=Aa(y);if(typeof S!="function")throw Error(H(150));if(y=S.call(y),y==null)throw Error(H(151));for(var C=S=null,T=b,A=b=0,k=null,M=y.next();T!==null&&!M.done;A++,M=y.next()){T.index>A?(k=T,T=null):k=T.sibling;var B=d(v,T,M.value,x);if(B===null){T===null&&(T=k);break}t&&T&&B.alternate===null&&e(v,T),b=s(B,b,A),C===null?S=B:C.sibling=B,C=B,T=k}if(M.done)return n(v,T),He&&ji(v,A),S;if(T===null){for(;!M.done;A++,M=y.next())M=h(v,M.value,x),M!==null&&(b=s(M,b,A),C===null?S=M:C.sibling=M,C=M);return He&&ji(v,A),S}for(T=r(v,T);!M.done;A++,M=y.next())M=f(T,v,A,M.value,x),M!==null&&(t&&M.alternate!==null&&T.delete(M.key===null?A:M.key),b=s(M,b,A),C===null?S=M:C.sibling=M,C=M);return t&&T.forEach(function(N){return e(v,N)}),He&&ji(v,A),S}function g(v,b,y,x){if(typeof y=="object"&&y!==null&&y.type===fo&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ju:e:{for(var S=y.key,C=b;C!==null;){if(C.key===S){if(S=y.type,S===fo){if(C.tag===7){n(v,C.sibling),b=i(C,y.props.children),b.return=v,v=b;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ti&&bx(S)===C.type){n(v,C.sibling),b=i(C,y.props),b.ref=ka(v,C,y),b.return=v,v=b;break e}n(v,C);break}else e(v,C);C=C.sibling}y.type===fo?(b=rs(y.props.children,v.mode,x,y.key),b.return=v,v=b):(x=sh(y.type,y.key,y.props,null,v.mode,x),x.ref=ka(v,b,y),x.return=v,v=x)}return o(v);case ho:e:{for(C=y.key;b!==null;){if(b.key===C)if(b.tag===4&&b.stateNode.containerInfo===y.containerInfo&&b.stateNode.implementation===y.implementation){n(v,b.sibling),b=i(b,y.children||[]),b.return=v,v=b;break e}else{n(v,b);break}else e(v,b);b=b.sibling}b=wp(y,v.mode,x),b.return=v,v=b}return o(v);case ti:return C=y._init,g(v,b,C(y._payload),x)}if(Qa(y))return p(v,b,y,x);if(Aa(y))return m(v,b,y,x);cc(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,b!==null&&b.tag===6?(n(v,b.sibling),b=i(b,y),b.return=v,v=b):(n(v,b),b=xp(y,v.mode,x),b.return=v,v=b),o(v)):n(v,b)}return g}var Uo=eC(!0),tC=eC(!1),wu={},xr=Pi(wu),Bl=Pi(wu),Nl=Pi(wu);function Zi(t){if(t===wu)throw Error(H(174));return t}function xv(t,e){switch(Me(Nl,e),Me(Bl,t),Me(xr,wu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Pm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Pm(e,t)}Be(xr),Me(xr,e)}function jo(){Be(xr),Be(Bl),Be(Nl)}function nC(t){Zi(Nl.current);var e=Zi(xr.current),n=Pm(e,t.type);e!==n&&(Me(Bl,t),Me(xr,n))}function wv(t){Bl.current===t&&(Be(xr),Be(Bl))}var We=Pi(0);function Lh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pp=[];function _v(){for(var t=0;t<pp.length;t++)pp[t]._workInProgressVersionPrimary=null;pp.length=0}var eh=Xr.ReactCurrentDispatcher,mp=Xr.ReactCurrentBatchConfig,fs=0,Ye=null,ut=null,ht=null,Uh=!1,yl=!1,Ll=0,iM=0;function Et(){throw Error(H(321))}function Ev(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tr(t[n],e[n]))return!1;return!0}function Sv(t,e,n,r,i,s){if(fs=s,Ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,eh.current=t===null||t.memoizedState===null?lM:uM,t=n(r,i),yl){s=0;do{if(yl=!1,Ll=0,25<=s)throw Error(H(301));s+=1,ht=ut=null,e.updateQueue=null,eh.current=cM,t=n(r,i)}while(yl)}if(eh.current=jh,e=ut!==null&&ut.next!==null,fs=0,ht=ut=Ye=null,Uh=!1,e)throw Error(H(300));return t}function Cv(){var t=Ll!==0;return Ll=0,t}function ur(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Ye.memoizedState=ht=t:ht=ht.next=t,ht}function Rn(){if(ut===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var e=ht===null?Ye.memoizedState:ht.next;if(e!==null)ht=e,ut=t;else{if(t===null)throw Error(H(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},ht===null?Ye.memoizedState=ht=t:ht=ht.next=t}return ht}function Ul(t,e){return typeof e=="function"?e(t):e}function gp(t){var e=Rn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=ut,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((fs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ye.lanes|=c,ps|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,tr(r,e.memoizedState)||(jt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ye.lanes|=s,ps|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function vp(t){var e=Rn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);tr(s,e.memoizedState)||(jt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function rC(){}function iC(t,e){var n=Ye,r=Rn(),i=e(),s=!tr(r.memoizedState,i);if(s&&(r.memoizedState=i,jt=!0),r=r.queue,Tv(aC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ht!==null&&ht.memoizedState.tag&1){if(n.flags|=2048,jl(9,oC.bind(null,n,r,i,e),void 0,null),mt===null)throw Error(H(349));fs&30||sC(n,e,i)}return i}function sC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function oC(t,e,n,r){e.value=n,e.getSnapshot=r,lC(e)&&uC(t)}function aC(t,e,n){return n(function(){lC(e)&&uC(t)})}function lC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tr(t,n)}catch{return!0}}function uC(t){var e=jr(t,1);e!==null&&Kn(e,t,1,-1)}function xx(t){var e=ur();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ul,lastRenderedState:t},e.queue=t,t=t.dispatch=aM.bind(null,Ye,t),[e.memoizedState,t]}function jl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function cC(){return Rn().memoizedState}function th(t,e,n,r){var i=ur();Ye.flags|=t,i.memoizedState=jl(1|e,n,void 0,r===void 0?null:r)}function Nd(t,e,n,r){var i=Rn();r=r===void 0?null:r;var s=void 0;if(ut!==null){var o=ut.memoizedState;if(s=o.destroy,r!==null&&Ev(r,o.deps)){i.memoizedState=jl(e,n,s,r);return}}Ye.flags|=t,i.memoizedState=jl(1|e,n,s,r)}function wx(t,e){return th(8390656,8,t,e)}function Tv(t,e){return Nd(2048,8,t,e)}function hC(t,e){return Nd(4,2,t,e)}function dC(t,e){return Nd(4,4,t,e)}function fC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function pC(t,e,n){return n=n!=null?n.concat([t]):null,Nd(4,4,fC.bind(null,e,t),n)}function Av(){}function mC(t,e){var n=Rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ev(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function gC(t,e){var n=Rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ev(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function vC(t,e,n){return fs&21?(tr(n,e)||(n=x2(),Ye.lanes|=n,ps|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,jt=!0),t.memoizedState=n)}function sM(t,e){var n=Oe;Oe=n!==0&&4>n?n:4,t(!0);var r=mp.transition;mp.transition={};try{t(!1),e()}finally{Oe=n,mp.transition=r}}function yC(){return Rn().memoizedState}function oM(t,e,n){var r=gi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bC(t))xC(e,n);else if(n=K2(t,e,n,r),n!==null){var i=Ft();Kn(n,t,r,i),wC(n,e,r)}}function aM(t,e,n){var r=gi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bC(t))xC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,tr(a,o)){var l=e.interleaved;l===null?(i.next=i,yv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=K2(t,e,i,r),n!==null&&(i=Ft(),Kn(n,t,r,i),wC(n,e,r))}}function bC(t){var e=t.alternate;return t===Ye||e!==null&&e===Ye}function xC(t,e){yl=Uh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function wC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,iv(t,n)}}var jh={readContext:In,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},lM={readContext:In,useCallback:function(t,e){return ur().memoizedState=[t,e===void 0?null:e],t},useContext:In,useEffect:wx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,th(4194308,4,fC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return th(4194308,4,t,e)},useInsertionEffect:function(t,e){return th(4,2,t,e)},useMemo:function(t,e){var n=ur();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ur();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=oM.bind(null,Ye,t),[r.memoizedState,t]},useRef:function(t){var e=ur();return t={current:t},e.memoizedState=t},useState:xx,useDebugValue:Av,useDeferredValue:function(t){return ur().memoizedState=t},useTransition:function(){var t=xx(!1),e=t[0];return t=sM.bind(null,t[1]),ur().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ye,i=ur();if(He){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),mt===null)throw Error(H(349));fs&30||sC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,wx(aC.bind(null,r,s,t),[t]),r.flags|=2048,jl(9,oC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ur(),e=mt.identifierPrefix;if(He){var n=Fr,r=Mr;n=(r&~(1<<32-qn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ll++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=iM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},uM={readContext:In,useCallback:mC,useContext:In,useEffect:Tv,useImperativeHandle:pC,useInsertionEffect:hC,useLayoutEffect:dC,useMemo:gC,useReducer:gp,useRef:cC,useState:function(){return gp(Ul)},useDebugValue:Av,useDeferredValue:function(t){var e=Rn();return vC(e,ut.memoizedState,t)},useTransition:function(){var t=gp(Ul)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:rC,useSyncExternalStore:iC,useId:yC,unstable_isNewReconciler:!1},cM={readContext:In,useCallback:mC,useContext:In,useEffect:Tv,useImperativeHandle:pC,useInsertionEffect:hC,useLayoutEffect:dC,useMemo:gC,useReducer:vp,useRef:cC,useState:function(){return vp(Ul)},useDebugValue:Av,useDeferredValue:function(t){var e=Rn();return ut===null?e.memoizedState=t:vC(e,ut.memoizedState,t)},useTransition:function(){var t=vp(Ul)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:rC,useSyncExternalStore:iC,useId:yC,unstable_isNewReconciler:!1};function zo(t,e){try{var n="",r=e;do n+=NR(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function yp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Zm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var hM=typeof WeakMap=="function"?WeakMap:Map;function _C(t,e,n){n=$r(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Hh||(Hh=!0,ag=r),Zm(t,e)},n}function EC(t,e,n){n=$r(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Zm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Zm(t,e),typeof r!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function _x(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new hM;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=CM.bind(null,t,e,n),e.then(t,t))}function Ex(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Sx(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$r(-1,1),e.tag=2,pi(n,e,1))),n.lanes|=1),t)}var dM=Xr.ReactCurrentOwner,jt=!1;function It(t,e,n,r){e.child=t===null?tC(e,null,n,r):Uo(e,t.child,n,r)}function Cx(t,e,n,r,i){n=n.render;var s=e.ref;return Oo(e,i),r=Sv(t,e,n,r,s,i),n=Cv(),t!==null&&!jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zr(t,e,i)):(He&&n&&dv(e),e.flags|=1,It(t,e,r,i),e.child)}function Tx(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Dv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,SC(t,e,s,r,i)):(t=sh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ml,n(o,r)&&t.ref===e.ref)return zr(t,e,i)}return e.flags|=1,t=vi(s,r),t.ref=e.ref,t.return=e,e.child=t}function SC(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ml(s,r)&&t.ref===e.ref)if(jt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(jt=!0);else return e.lanes=t.lanes,zr(t,e,i)}return Qm(t,e,n,r,i)}function CC(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(Eo,Qt),Qt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Me(Eo,Qt),Qt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Me(Eo,Qt),Qt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Me(Eo,Qt),Qt|=r;return It(t,e,i,n),e.child}function TC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Qm(t,e,n,r,i){var s=Ht(n)?hs:Pt.current;return s=No(e,s),Oo(e,i),n=Sv(t,e,n,r,s,i),r=Cv(),t!==null&&!jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zr(t,e,i)):(He&&r&&dv(e),e.flags|=1,It(t,e,n,i),e.child)}function Ax(t,e,n,r,i){if(Ht(n)){var s=!0;Mh(e)}else s=!1;if(Oo(e,i),e.stateNode===null)nh(t,e),J2(e,n,r),Km(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=In(u):(u=Ht(n)?hs:Pt.current,u=No(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&yx(e,o,r,u),ni=!1;var d=e.memoizedState;o.state=d,Nh(e,r,o,i),l=e.memoizedState,a!==r||d!==l||zt.current||ni?(typeof c=="function"&&(qm(e,n,c,r),l=e.memoizedState),(a=ni||vx(e,n,a,r,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Z2(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:zn(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=In(l):(l=Ht(n)?hs:Pt.current,l=No(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&yx(e,o,r,l),ni=!1,d=e.memoizedState,o.state=d,Nh(e,r,o,i);var p=e.memoizedState;a!==h||d!==p||zt.current||ni?(typeof f=="function"&&(qm(e,n,f,r),p=e.memoizedState),(u=ni||vx(e,n,u,r,d,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Jm(t,e,n,r,s,i)}function Jm(t,e,n,r,i,s){TC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&dx(e,n,!1),zr(t,e,s);r=e.stateNode,dM.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Uo(e,t.child,null,s),e.child=Uo(e,null,a,s)):It(t,e,a,s),e.memoizedState=r.state,i&&dx(e,n,!0),e.child}function AC(t){var e=t.stateNode;e.pendingContext?hx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&hx(t,e.context,!1),xv(t,e.containerInfo)}function Px(t,e,n,r,i){return Lo(),pv(i),e.flags|=256,It(t,e,n,r),e.child}var eg={dehydrated:null,treeContext:null,retryLane:0};function tg(t){return{baseLanes:t,cachePool:null,transitions:null}}function PC(t,e,n){var r=e.pendingProps,i=We.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Me(We,i&1),t===null)return Xm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=jd(o,r,0,null),t=rs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=tg(n),e.memoizedState=eg,t):Pv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return fM(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=vi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=vi(a,s):(s=rs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?tg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=eg,r}return s=t.child,t=s.sibling,r=vi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Pv(t,e){return e=jd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hc(t,e,n,r){return r!==null&&pv(r),Uo(e,t.child,null,n),t=Pv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function fM(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=yp(Error(H(422))),hc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=jd({mode:"visible",children:r.children},i,0,null),s=rs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Uo(e,t.child,null,o),e.child.memoizedState=tg(o),e.memoizedState=eg,s);if(!(e.mode&1))return hc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(H(419)),r=yp(s,r,void 0),hc(t,e,o,r)}if(a=(o&t.childLanes)!==0,jt||a){if(r=mt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,jr(t,i),Kn(r,t,i,-1))}return Fv(),r=yp(Error(H(421))),hc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=TM.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,tn=fi(i.nextSibling),on=e,He=!0,Gn=null,t!==null&&(bn[xn++]=Mr,bn[xn++]=Fr,bn[xn++]=ds,Mr=t.id,Fr=t.overflow,ds=e),e=Pv(e,r.children),e.flags|=4096,e)}function Ox(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ym(t.return,e,n)}function bp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function OC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(It(t,e,r.children,n),r=We.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ox(t,n,e);else if(t.tag===19)Ox(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Me(We,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Lh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),bp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Lh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}bp(e,!0,n,null,s);break;case"together":bp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function nh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ps|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=vi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function pM(t,e,n){switch(e.tag){case 3:AC(e),Lo();break;case 5:nC(e);break;case 1:Ht(e.type)&&Mh(e);break;case 4:xv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Me($h,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Me(We,We.current&1),e.flags|=128,null):n&e.child.childLanes?PC(t,e,n):(Me(We,We.current&1),t=zr(t,e,n),t!==null?t.sibling:null);Me(We,We.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return OC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Me(We,We.current),r)break;return null;case 22:case 23:return e.lanes=0,CC(t,e,n)}return zr(t,e,n)}var IC,ng,RC,kC;IC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ng=function(){};RC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Zi(xr.current);var s=null;switch(n){case"input":i=Sm(t,i),r=Sm(t,r),s=[];break;case"select":i=qe({},i,{value:void 0}),r=qe({},r,{value:void 0}),s=[];break;case"textarea":i=Am(t,i),r=Am(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Rh)}Om(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Tl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Tl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Fe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};kC=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ma(t,e){if(!He)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function St(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function mM(t,e,n){var r=e.pendingProps;switch(fv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(e),null;case 1:return Ht(e.type)&&kh(),St(e),null;case 3:return r=e.stateNode,jo(),Be(zt),Be(Pt),_v(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(uc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gn!==null&&(cg(Gn),Gn=null))),ng(t,e),St(e),null;case 5:wv(e);var i=Zi(Nl.current);if(n=e.type,t!==null&&e.stateNode!=null)RC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return St(e),null}if(t=Zi(xr.current),uc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[fr]=e,r[$l]=s,t=(e.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(i=0;i<el.length;i++)Fe(el[i],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":Nb(r,s),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Fe("invalid",r);break;case"textarea":Ub(r,s),Fe("invalid",r)}Om(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&lc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&lc(r.textContent,a,t),i=["children",""+a]):Tl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Fe("scroll",r)}switch(n){case"input":ec(r),Lb(r,s,!0);break;case"textarea":ec(r),jb(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Rh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=s2(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[fr]=e,t[$l]=r,IC(t,e,!1,!1),e.stateNode=t;e:{switch(o=Im(n,r),n){case"dialog":Fe("cancel",t),Fe("close",t),i=r;break;case"iframe":case"object":case"embed":Fe("load",t),i=r;break;case"video":case"audio":for(i=0;i<el.length;i++)Fe(el[i],t);i=r;break;case"source":Fe("error",t),i=r;break;case"img":case"image":case"link":Fe("error",t),Fe("load",t),i=r;break;case"details":Fe("toggle",t),i=r;break;case"input":Nb(t,r),i=Sm(t,r),Fe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=qe({},r,{value:void 0}),Fe("invalid",t);break;case"textarea":Ub(t,r),i=Am(t,r),Fe("invalid",t);break;default:i=r}Om(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?l2(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&o2(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Al(t,l):typeof l=="number"&&Al(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Tl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Fe("scroll",t):l!=null&&Q0(t,s,l,o))}switch(n){case"input":ec(t),Lb(t,r,!1);break;case"textarea":ec(t),jb(t);break;case"option":r.value!=null&&t.setAttribute("value",""+xi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Co(t,!!r.multiple,s,!1):r.defaultValue!=null&&Co(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Rh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return St(e),null;case 6:if(t&&e.stateNode!=null)kC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=Zi(Nl.current),Zi(xr.current),uc(e)){if(r=e.stateNode,n=e.memoizedProps,r[fr]=e,(s=r.nodeValue!==n)&&(t=on,t!==null))switch(t.tag){case 3:lc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&lc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fr]=e,e.stateNode=r}return St(e),null;case 13:if(Be(We),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(He&&tn!==null&&e.mode&1&&!(e.flags&128))q2(),Lo(),e.flags|=98560,s=!1;else if(s=uc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(H(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[fr]=e}else Lo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;St(e),s=!1}else Gn!==null&&(cg(Gn),Gn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||We.current&1?ct===0&&(ct=3):Fv())),e.updateQueue!==null&&(e.flags|=4),St(e),null);case 4:return jo(),ng(t,e),t===null&&Fl(e.stateNode.containerInfo),St(e),null;case 10:return vv(e.type._context),St(e),null;case 17:return Ht(e.type)&&kh(),St(e),null;case 19:if(Be(We),s=e.memoizedState,s===null)return St(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ma(s,!1);else{if(ct!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Lh(t),o!==null){for(e.flags|=128,Ma(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Me(We,We.current&1|2),e.child}t=t.sibling}s.tail!==null&&rt()>Ho&&(e.flags|=128,r=!0,Ma(s,!1),e.lanes=4194304)}else{if(!r)if(t=Lh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ma(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!He)return St(e),null}else 2*rt()-s.renderingStartTime>Ho&&n!==1073741824&&(e.flags|=128,r=!0,Ma(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=rt(),e.sibling=null,n=We.current,Me(We,r?n&1|2:n&1),e):(St(e),null);case 22:case 23:return Mv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Qt&1073741824&&(St(e),e.subtreeFlags&6&&(e.flags|=8192)):St(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function gM(t,e){switch(fv(e),e.tag){case 1:return Ht(e.type)&&kh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return jo(),Be(zt),Be(Pt),_v(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return wv(e),null;case 13:if(Be(We),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Lo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Be(We),null;case 4:return jo(),null;case 10:return vv(e.type._context),null;case 22:case 23:return Mv(),null;case 24:return null;default:return null}}var dc=!1,At=!1,vM=typeof WeakSet=="function"?WeakSet:Set,te=null;function _o(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Qe(t,e,r)}else n.current=null}function rg(t,e,n){try{n()}catch(r){Qe(t,e,r)}}var Ix=!1;function yM(t,e){if(Um=Ph,t=$2(),hv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(jm={focusedElem:t,selectionRange:n},Ph=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,g=p.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:zn(e.type,m),g);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(x){Qe(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return p=Ix,Ix=!1,p}function bl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&rg(e,n,s)}i=i.next}while(i!==r)}}function Ld(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ig(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function MC(t){var e=t.alternate;e!==null&&(t.alternate=null,MC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fr],delete e[$l],delete e[Gm],delete e[eM],delete e[tM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function FC(t){return t.tag===5||t.tag===3||t.tag===4}function Rx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||FC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Rh));else if(r!==4&&(t=t.child,t!==null))for(sg(t,e,n),t=t.sibling;t!==null;)sg(t,e,n),t=t.sibling}function og(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(og(t,e,n),t=t.sibling;t!==null;)og(t,e,n),t=t.sibling}var yt=null,Hn=!1;function Jr(t,e,n){for(n=n.child;n!==null;)DC(t,e,n),n=n.sibling}function DC(t,e,n){if(br&&typeof br.onCommitFiberUnmount=="function")try{br.onCommitFiberUnmount(Rd,n)}catch{}switch(n.tag){case 5:At||_o(n,e);case 6:var r=yt,i=Hn;yt=null,Jr(t,e,n),yt=r,Hn=i,yt!==null&&(Hn?(t=yt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):yt.removeChild(n.stateNode));break;case 18:yt!==null&&(Hn?(t=yt,n=n.stateNode,t.nodeType===8?dp(t.parentNode,n):t.nodeType===1&&dp(t,n),Rl(t)):dp(yt,n.stateNode));break;case 4:r=yt,i=Hn,yt=n.stateNode.containerInfo,Hn=!0,Jr(t,e,n),yt=r,Hn=i;break;case 0:case 11:case 14:case 15:if(!At&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&rg(n,e,o),i=i.next}while(i!==r)}Jr(t,e,n);break;case 1:if(!At&&(_o(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Qe(n,e,a)}Jr(t,e,n);break;case 21:Jr(t,e,n);break;case 22:n.mode&1?(At=(r=At)||n.memoizedState!==null,Jr(t,e,n),At=r):Jr(t,e,n);break;default:Jr(t,e,n)}}function kx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new vM),e.forEach(function(r){var i=AM.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function $n(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:yt=a.stateNode,Hn=!1;break e;case 3:yt=a.stateNode.containerInfo,Hn=!0;break e;case 4:yt=a.stateNode.containerInfo,Hn=!0;break e}a=a.return}if(yt===null)throw Error(H(160));DC(s,o,i),yt=null,Hn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Qe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$C(e,t),e=e.sibling}function $C(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($n(e,t),ar(t),r&4){try{bl(3,t,t.return),Ld(3,t)}catch(m){Qe(t,t.return,m)}try{bl(5,t,t.return)}catch(m){Qe(t,t.return,m)}}break;case 1:$n(e,t),ar(t),r&512&&n!==null&&_o(n,n.return);break;case 5:if($n(e,t),ar(t),r&512&&n!==null&&_o(n,n.return),t.flags&32){var i=t.stateNode;try{Al(i,"")}catch(m){Qe(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&r2(i,s),Im(a,o);var u=Im(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?l2(i,h):c==="dangerouslySetInnerHTML"?o2(i,h):c==="children"?Al(i,h):Q0(i,c,h,u)}switch(a){case"input":Cm(i,s);break;case"textarea":i2(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Co(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?Co(i,!!s.multiple,s.defaultValue,!0):Co(i,!!s.multiple,s.multiple?[]:"",!1))}i[$l]=s}catch(m){Qe(t,t.return,m)}}break;case 6:if($n(e,t),ar(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){Qe(t,t.return,m)}}break;case 3:if($n(e,t),ar(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Rl(e.containerInfo)}catch(m){Qe(t,t.return,m)}break;case 4:$n(e,t),ar(t);break;case 13:$n(e,t),ar(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Rv=rt())),r&4&&kx(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(At=(u=At)||c,$n(e,t),At=u):$n(e,t),ar(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(te=t,c=t.child;c!==null;){for(h=te=c;te!==null;){switch(d=te,f=d.child,d.tag){case 0:case 11:case 14:case 15:bl(4,d,d.return);break;case 1:_o(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){Qe(r,n,m)}}break;case 5:_o(d,d.return);break;case 22:if(d.memoizedState!==null){Fx(h);continue}}f!==null?(f.return=d,te=f):Fx(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=a2("display",o))}catch(m){Qe(t,t.return,m)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Qe(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:$n(e,t),ar(t),r&4&&kx(t);break;case 21:break;default:$n(e,t),ar(t)}}function ar(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(FC(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Al(i,""),r.flags&=-33);var s=Rx(t);og(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Rx(t);sg(t,a,o);break;default:throw Error(H(161))}}catch(l){Qe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function bM(t,e,n){te=t,BC(t)}function BC(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var i=te,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||dc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||At;a=dc;var u=At;if(dc=o,(At=l)&&!u)for(te=i;te!==null;)o=te,l=o.child,o.tag===22&&o.memoizedState!==null?Dx(i):l!==null?(l.return=o,te=l):Dx(i);for(;s!==null;)te=s,BC(s),s=s.sibling;te=i,dc=a,At=u}Mx(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,te=s):Mx(t)}}function Mx(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:At||Ld(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!At)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:zn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&gx(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}gx(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Rl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}At||e.flags&512&&ig(e)}catch(d){Qe(e,e.return,d)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function Fx(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function Dx(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ld(4,e)}catch(l){Qe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Qe(e,i,l)}}var s=e.return;try{ig(e)}catch(l){Qe(e,s,l)}break;case 5:var o=e.return;try{ig(e)}catch(l){Qe(e,o,l)}}}catch(l){Qe(e,e.return,l)}if(e===t){te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,te=a;break}te=e.return}}var xM=Math.ceil,zh=Xr.ReactCurrentDispatcher,Ov=Xr.ReactCurrentOwner,An=Xr.ReactCurrentBatchConfig,_e=0,mt=null,lt=null,xt=0,Qt=0,Eo=Pi(0),ct=0,zl=null,ps=0,Ud=0,Iv=0,xl=null,Ut=null,Rv=0,Ho=1/0,Ir=null,Hh=!1,ag=null,mi=null,fc=!1,ai=null,Gh=0,wl=0,lg=null,rh=-1,ih=0;function Ft(){return _e&6?rt():rh!==-1?rh:rh=rt()}function gi(t){return t.mode&1?_e&2&&xt!==0?xt&-xt:rM.transition!==null?(ih===0&&(ih=x2()),ih):(t=Oe,t!==0||(t=window.event,t=t===void 0?16:A2(t.type)),t):1}function Kn(t,e,n,r){if(50<wl)throw wl=0,lg=null,Error(H(185));yu(t,n,r),(!(_e&2)||t!==mt)&&(t===mt&&(!(_e&2)&&(Ud|=n),ct===4&&si(t,xt)),Gt(t,r),n===1&&_e===0&&!(e.mode&1)&&(Ho=rt()+500,$d&&Oi()))}function Gt(t,e){var n=t.callbackNode;rk(t,e);var r=Ah(t,t===mt?xt:0);if(r===0)n!==null&&Gb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Gb(n),e===1)t.tag===0?nM($x.bind(null,t)):V2($x.bind(null,t)),Qk(function(){!(_e&6)&&Oi()}),n=null;else{switch(w2(r)){case 1:n=rv;break;case 4:n=y2;break;case 16:n=Th;break;case 536870912:n=b2;break;default:n=Th}n=WC(n,NC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function NC(t,e){if(rh=-1,ih=0,_e&6)throw Error(H(327));var n=t.callbackNode;if(Io()&&t.callbackNode!==n)return null;var r=Ah(t,t===mt?xt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Wh(t,r);else{e=r;var i=_e;_e|=2;var s=UC();(mt!==t||xt!==e)&&(Ir=null,Ho=rt()+500,ns(t,e));do try{EM();break}catch(a){LC(t,a)}while(1);gv(),zh.current=s,_e=i,lt!==null?e=0:(mt=null,xt=0,e=ct)}if(e!==0){if(e===2&&(i=Dm(t),i!==0&&(r=i,e=ug(t,i))),e===1)throw n=zl,ns(t,0),si(t,r),Gt(t,rt()),n;if(e===6)si(t,r);else{if(i=t.current.alternate,!(r&30)&&!wM(i)&&(e=Wh(t,r),e===2&&(s=Dm(t),s!==0&&(r=s,e=ug(t,s))),e===1))throw n=zl,ns(t,0),si(t,r),Gt(t,rt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:zi(t,Ut,Ir);break;case 3:if(si(t,r),(r&130023424)===r&&(e=Rv+500-rt(),10<e)){if(Ah(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ft(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Hm(zi.bind(null,t,Ut,Ir),e);break}zi(t,Ut,Ir);break;case 4:if(si(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-qn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xM(r/1960))-r,10<r){t.timeoutHandle=Hm(zi.bind(null,t,Ut,Ir),r);break}zi(t,Ut,Ir);break;case 5:zi(t,Ut,Ir);break;default:throw Error(H(329))}}}return Gt(t,rt()),t.callbackNode===n?NC.bind(null,t):null}function ug(t,e){var n=xl;return t.current.memoizedState.isDehydrated&&(ns(t,e).flags|=256),t=Wh(t,e),t!==2&&(e=Ut,Ut=n,e!==null&&cg(e)),t}function cg(t){Ut===null?Ut=t:Ut.push.apply(Ut,t)}function wM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!tr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function si(t,e){for(e&=~Iv,e&=~Ud,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-qn(e),r=1<<n;t[n]=-1,e&=~r}}function $x(t){if(_e&6)throw Error(H(327));Io();var e=Ah(t,0);if(!(e&1))return Gt(t,rt()),null;var n=Wh(t,e);if(t.tag!==0&&n===2){var r=Dm(t);r!==0&&(e=r,n=ug(t,r))}if(n===1)throw n=zl,ns(t,0),si(t,e),Gt(t,rt()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zi(t,Ut,Ir),Gt(t,rt()),null}function kv(t,e){var n=_e;_e|=1;try{return t(e)}finally{_e=n,_e===0&&(Ho=rt()+500,$d&&Oi())}}function ms(t){ai!==null&&ai.tag===0&&!(_e&6)&&Io();var e=_e;_e|=1;var n=An.transition,r=Oe;try{if(An.transition=null,Oe=1,t)return t()}finally{Oe=r,An.transition=n,_e=e,!(_e&6)&&Oi()}}function Mv(){Qt=Eo.current,Be(Eo)}function ns(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Zk(n)),lt!==null)for(n=lt.return;n!==null;){var r=n;switch(fv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kh();break;case 3:jo(),Be(zt),Be(Pt),_v();break;case 5:wv(r);break;case 4:jo();break;case 13:Be(We);break;case 19:Be(We);break;case 10:vv(r.type._context);break;case 22:case 23:Mv()}n=n.return}if(mt=t,lt=t=vi(t.current,null),xt=Qt=e,ct=0,zl=null,Iv=Ud=ps=0,Ut=xl=null,Ki!==null){for(e=0;e<Ki.length;e++)if(n=Ki[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ki=null}return t}function LC(t,e){do{var n=lt;try{if(gv(),eh.current=jh,Uh){for(var r=Ye.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Uh=!1}if(fs=0,ht=ut=Ye=null,yl=!1,Ll=0,Ov.current=null,n===null||n.return===null){ct=1,zl=e,lt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=xt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=Ex(o);if(f!==null){f.flags&=-257,Sx(f,o,a,s,e),f.mode&1&&_x(s,u,e),e=f,l=u;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){_x(s,u,e),Fv();break e}l=Error(H(426))}}else if(He&&a.mode&1){var g=Ex(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),Sx(g,o,a,s,e),pv(zo(l,a));break e}}s=l=zo(l,a),ct!==4&&(ct=2),xl===null?xl=[s]:xl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=_C(s,l,e);mx(s,v);break e;case 1:a=l;var b=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(mi===null||!mi.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=EC(s,a,e);mx(s,x);break e}}s=s.return}while(s!==null)}zC(n)}catch(S){e=S,lt===n&&n!==null&&(lt=n=n.return);continue}break}while(1)}function UC(){var t=zh.current;return zh.current=jh,t===null?jh:t}function Fv(){(ct===0||ct===3||ct===2)&&(ct=4),mt===null||!(ps&268435455)&&!(Ud&268435455)||si(mt,xt)}function Wh(t,e){var n=_e;_e|=2;var r=UC();(mt!==t||xt!==e)&&(Ir=null,ns(t,e));do try{_M();break}catch(i){LC(t,i)}while(1);if(gv(),_e=n,zh.current=r,lt!==null)throw Error(H(261));return mt=null,xt=0,ct}function _M(){for(;lt!==null;)jC(lt)}function EM(){for(;lt!==null&&!YR();)jC(lt)}function jC(t){var e=GC(t.alternate,t,Qt);t.memoizedProps=t.pendingProps,e===null?zC(t):lt=e,Ov.current=null}function zC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=gM(n,e),n!==null){n.flags&=32767,lt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ct=6,lt=null;return}}else if(n=mM(n,e,Qt),n!==null){lt=n;return}if(e=e.sibling,e!==null){lt=e;return}lt=e=t}while(e!==null);ct===0&&(ct=5)}function zi(t,e,n){var r=Oe,i=An.transition;try{An.transition=null,Oe=1,SM(t,e,n,r)}finally{An.transition=i,Oe=r}return null}function SM(t,e,n,r){do Io();while(ai!==null);if(_e&6)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(ik(t,s),t===mt&&(lt=mt=null,xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fc||(fc=!0,WC(Th,function(){return Io(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=An.transition,An.transition=null;var o=Oe;Oe=1;var a=_e;_e|=4,Ov.current=null,yM(t,n),$C(n,t),Gk(jm),Ph=!!Um,jm=Um=null,t.current=n,bM(n),qR(),_e=a,Oe=o,An.transition=s}else t.current=n;if(fc&&(fc=!1,ai=t,Gh=i),s=t.pendingLanes,s===0&&(mi=null),QR(n.stateNode),Gt(t,rt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hh)throw Hh=!1,t=ag,ag=null,t;return Gh&1&&t.tag!==0&&Io(),s=t.pendingLanes,s&1?t===lg?wl++:(wl=0,lg=t):wl=0,Oi(),null}function Io(){if(ai!==null){var t=w2(Gh),e=An.transition,n=Oe;try{if(An.transition=null,Oe=16>t?16:t,ai===null)var r=!1;else{if(t=ai,ai=null,Gh=0,_e&6)throw Error(H(331));var i=_e;for(_e|=4,te=t.current;te!==null;){var s=te,o=s.child;if(te.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(te=u;te!==null;){var c=te;switch(c.tag){case 0:case 11:case 15:bl(8,c,s)}var h=c.child;if(h!==null)h.return=c,te=h;else for(;te!==null;){c=te;var d=c.sibling,f=c.return;if(MC(c),c===u){te=null;break}if(d!==null){d.return=f,te=d;break}te=f}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}te=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,te=o;else e:for(;te!==null;){if(s=te,s.flags&2048)switch(s.tag){case 0:case 11:case 15:bl(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,te=v;break e}te=s.return}}var b=t.current;for(te=b;te!==null;){o=te;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,te=y;else e:for(o=b;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ld(9,a)}}catch(S){Qe(a,a.return,S)}if(a===o){te=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,te=x;break e}te=a.return}}if(_e=i,Oi(),br&&typeof br.onPostCommitFiberRoot=="function")try{br.onPostCommitFiberRoot(Rd,t)}catch{}r=!0}return r}finally{Oe=n,An.transition=e}}return!1}function Bx(t,e,n){e=zo(n,e),e=_C(t,e,1),t=pi(t,e,1),e=Ft(),t!==null&&(yu(t,1,e),Gt(t,e))}function Qe(t,e,n){if(t.tag===3)Bx(t,t,n);else for(;e!==null;){if(e.tag===3){Bx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mi===null||!mi.has(r))){t=zo(n,t),t=EC(e,t,1),e=pi(e,t,1),t=Ft(),e!==null&&(yu(e,1,t),Gt(e,t));break}}e=e.return}}function CM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ft(),t.pingedLanes|=t.suspendedLanes&n,mt===t&&(xt&n)===n&&(ct===4||ct===3&&(xt&130023424)===xt&&500>rt()-Rv?ns(t,0):Iv|=n),Gt(t,e)}function HC(t,e){e===0&&(t.mode&1?(e=rc,rc<<=1,!(rc&130023424)&&(rc=4194304)):e=1);var n=Ft();t=jr(t,e),t!==null&&(yu(t,e,n),Gt(t,n))}function TM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),HC(t,n)}function AM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),HC(t,n)}var GC;GC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||zt.current)jt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return jt=!1,pM(t,e,n);jt=!!(t.flags&131072)}else jt=!1,He&&e.flags&1048576&&X2(e,Dh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;nh(t,e),t=e.pendingProps;var i=No(e,Pt.current);Oo(e,n),i=Sv(null,e,r,t,i,n);var s=Cv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ht(r)?(s=!0,Mh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,bv(e),i.updater=Bd,e.stateNode=i,i._reactInternals=e,Km(e,r,t,n),e=Jm(null,e,r,!0,s,n)):(e.tag=0,He&&s&&dv(e),It(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(nh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=OM(r),t=zn(r,t),i){case 0:e=Qm(null,e,r,t,n);break e;case 1:e=Ax(null,e,r,t,n);break e;case 11:e=Cx(null,e,r,t,n);break e;case 14:e=Tx(null,e,r,zn(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zn(r,i),Qm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zn(r,i),Ax(t,e,r,i,n);case 3:e:{if(AC(e),t===null)throw Error(H(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Z2(t,e),Nh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=zo(Error(H(423)),e),e=Px(t,e,r,n,i);break e}else if(r!==i){i=zo(Error(H(424)),e),e=Px(t,e,r,n,i);break e}else for(tn=fi(e.stateNode.containerInfo.firstChild),on=e,He=!0,Gn=null,n=tC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Lo(),r===i){e=zr(t,e,n);break e}It(t,e,r,n)}e=e.child}return e;case 5:return nC(e),t===null&&Xm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,zm(r,i)?o=null:s!==null&&zm(r,s)&&(e.flags|=32),TC(t,e),It(t,e,o,n),e.child;case 6:return t===null&&Xm(e),null;case 13:return PC(t,e,n);case 4:return xv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Uo(e,null,r,n):It(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zn(r,i),Cx(t,e,r,i,n);case 7:return It(t,e,e.pendingProps,n),e.child;case 8:return It(t,e,e.pendingProps.children,n),e.child;case 12:return It(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Me($h,r._currentValue),r._currentValue=o,s!==null)if(tr(s.value,o)){if(s.children===i.children&&!zt.current){e=zr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=$r(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ym(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ym(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}It(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Oo(e,n),i=In(i),r=r(i),e.flags|=1,It(t,e,r,n),e.child;case 14:return r=e.type,i=zn(r,e.pendingProps),i=zn(r.type,i),Tx(t,e,r,i,n);case 15:return SC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zn(r,i),nh(t,e),e.tag=1,Ht(r)?(t=!0,Mh(e)):t=!1,Oo(e,n),J2(e,r,i),Km(e,r,i,n),Jm(null,e,r,!0,t,n);case 19:return OC(t,e,n);case 22:return CC(t,e,n)}throw Error(H(156,e.tag))};function WC(t,e){return v2(t,e)}function PM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,e,n,r){return new PM(t,e,n,r)}function Dv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function OM(t){if(typeof t=="function")return Dv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ev)return 11;if(t===tv)return 14}return 2}function vi(t,e){var n=t.alternate;return n===null?(n=Sn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function sh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Dv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case fo:return rs(n.children,i,s,e);case J0:o=8,i|=8;break;case xm:return t=Sn(12,n,e,i|2),t.elementType=xm,t.lanes=s,t;case wm:return t=Sn(13,n,e,i),t.elementType=wm,t.lanes=s,t;case _m:return t=Sn(19,n,e,i),t.elementType=_m,t.lanes=s,t;case e2:return jd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case QS:o=10;break e;case JS:o=9;break e;case ev:o=11;break e;case tv:o=14;break e;case ti:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=Sn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function rs(t,e,n,r){return t=Sn(7,t,r,e),t.lanes=n,t}function jd(t,e,n,r){return t=Sn(22,t,r,e),t.elementType=e2,t.lanes=n,t.stateNode={isHidden:!1},t}function xp(t,e,n){return t=Sn(6,t,null,e),t.lanes=n,t}function wp(t,e,n){return e=Sn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function IM(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tp(0),this.expirationTimes=tp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $v(t,e,n,r,i,s,o,a,l){return t=new IM(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Sn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bv(s),t}function RM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ho,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function VC(t){if(!t)return wi;t=t._reactInternals;e:{if(Cs(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ht(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(Ht(n))return W2(t,n,e)}return e}function XC(t,e,n,r,i,s,o,a,l){return t=$v(n,r,!0,t,i,s,o,a,l),t.context=VC(null),n=t.current,r=Ft(),i=gi(n),s=$r(r,i),s.callback=e??null,pi(n,s,i),t.current.lanes=i,yu(t,i,r),Gt(t,r),t}function zd(t,e,n,r){var i=e.current,s=Ft(),o=gi(i);return n=VC(n),e.context===null?e.context=n:e.pendingContext=n,e=$r(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=pi(i,e,o),t!==null&&(Kn(t,i,o,s),Jc(t,i,o)),o}function Vh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Nx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Bv(t,e){Nx(t,e),(t=t.alternate)&&Nx(t,e)}function kM(){return null}var YC=typeof reportError=="function"?reportError:function(t){console.error(t)};function Nv(t){this._internalRoot=t}Hd.prototype.render=Nv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));zd(t,e,null,null)};Hd.prototype.unmount=Nv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ms(function(){zd(null,t,null,null)}),e[Ur]=null}};function Hd(t){this._internalRoot=t}Hd.prototype.unstable_scheduleHydration=function(t){if(t){var e=S2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ii.length&&e!==0&&e<ii[n].priority;n++);ii.splice(n,0,t),n===0&&T2(t)}};function Lv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Lx(){}function MM(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Vh(o);s.call(u)}}var o=XC(e,r,t,0,null,!1,!1,"",Lx);return t._reactRootContainer=o,t[Ur]=o.current,Fl(t.nodeType===8?t.parentNode:t),ms(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Vh(l);a.call(u)}}var l=$v(t,0,!1,null,null,!1,!1,"",Lx);return t._reactRootContainer=l,t[Ur]=l.current,Fl(t.nodeType===8?t.parentNode:t),ms(function(){zd(e,l,n,r)}),l}function Wd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Vh(o);a.call(l)}}zd(e,o,t,i)}else o=MM(n,e,t,i,r);return Vh(o)}_2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ja(e.pendingLanes);n!==0&&(iv(e,n|1),Gt(e,rt()),!(_e&6)&&(Ho=rt()+500,Oi()))}break;case 13:ms(function(){var r=jr(t,1);if(r!==null){var i=Ft();Kn(r,t,1,i)}}),Bv(t,1)}};sv=function(t){if(t.tag===13){var e=jr(t,134217728);if(e!==null){var n=Ft();Kn(e,t,134217728,n)}Bv(t,134217728)}};E2=function(t){if(t.tag===13){var e=gi(t),n=jr(t,e);if(n!==null){var r=Ft();Kn(n,t,e,r)}Bv(t,e)}};S2=function(){return Oe};C2=function(t,e){var n=Oe;try{return Oe=t,e()}finally{Oe=n}};km=function(t,e,n){switch(e){case"input":if(Cm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Dd(r);if(!i)throw Error(H(90));n2(r),Cm(r,i)}}}break;case"textarea":i2(t,n);break;case"select":e=n.value,e!=null&&Co(t,!!n.multiple,e,!1)}};h2=kv;d2=ms;var FM={usingClientEntryPoint:!1,Events:[xu,vo,Dd,u2,c2,kv]},Fa={findFiberByHostInstance:qi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},DM={bundleType:Fa.bundleType,version:Fa.version,rendererPackageName:Fa.rendererPackageName,rendererConfig:Fa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=m2(t),t===null?null:t.stateNode},findFiberByHostInstance:Fa.findFiberByHostInstance||kM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{Rd=pc.inject(DM),br=pc}catch{}}fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FM;fn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lv(e))throw Error(H(200));return RM(t,e,null,n)};fn.createRoot=function(t,e){if(!Lv(t))throw Error(H(299));var n=!1,r="",i=YC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=$v(t,1,!1,null,null,n,!1,r,i),t[Ur]=e.current,Fl(t.nodeType===8?t.parentNode:t),new Nv(e)};fn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=m2(e),t=t===null?null:t.stateNode,t};fn.flushSync=function(t){return ms(t)};fn.hydrate=function(t,e,n){if(!Gd(e))throw Error(H(200));return Wd(null,t,e,!0,n)};fn.hydrateRoot=function(t,e,n){if(!Lv(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=YC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=XC(e,null,t,1,n??null,i,!1,s,o),t[Ur]=e.current,Fl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Hd(e)};fn.render=function(t,e,n){if(!Gd(e))throw Error(H(200));return Wd(null,t,e,!1,n)};fn.unmountComponentAtNode=function(t){if(!Gd(t))throw Error(H(40));return t._reactRootContainer?(ms(function(){Wd(null,null,t,!1,function(){t._reactRootContainer=null,t[Ur]=null})}),!0):!1};fn.unstable_batchedUpdates=kv;fn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Gd(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Wd(t,e,n,!1,r)};fn.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=fn})(kR);var Ux=Cl;vm.createRoot=Ux.createRoot,vm.hydrateRoot=Ux.hydrateRoot;var hg=function(t,e){return hg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},hg(t,e)};function Vd(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");hg(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function dg(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xh(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Yh(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Br(t){return typeof t=="function"}function qC(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var _p=qC(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function fg(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Xd=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=dg(o),l=a.next();!l.done;l=a.next()){var u=l.value;u.remove(this)}}catch(m){e={error:m}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}else o.remove(this);var c=this.initialTeardown;if(Br(c))try{c()}catch(m){s=m instanceof _p?m.errors:[m]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var d=dg(h),f=d.next();!f.done;f=d.next()){var p=f.value;try{jx(p)}catch(m){s=s??[],m instanceof _p?s=Yh(Yh([],Xh(s)),Xh(m.errors)):s.push(m)}}}catch(m){r={error:m}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}if(s)throw new _p(s)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)jx(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&fg(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&fg(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),KC=Xd.EMPTY;function ZC(t){return t instanceof Xd||t&&"closed"in t&&Br(t.remove)&&Br(t.add)&&Br(t.unsubscribe)}function jx(t){Br(t)?t():t.unsubscribe()}var QC={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},pg={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=pg.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,Yh([t,e],Xh(n))):setTimeout.apply(void 0,Yh([t,e],Xh(n)))},clearTimeout:function(t){var e=pg.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function $M(t){pg.setTimeout(function(){throw t})}function zx(){}function oh(t){t()}var JC=function(t){Vd(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,ZC(n)&&n.add(r)):r.destination=UM,r}return e.create=function(n,r,i){return new mg(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Xd),BM=Function.prototype.bind;function Ep(t,e){return BM.call(t,e)}var NM=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){mc(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){mc(r)}else mc(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){mc(n)}},t}(),mg=function(t){Vd(e,t);function e(n,r,i){var s=t.call(this)||this,o;if(Br(n)||!n)o={next:n??void 0,error:r??void 0,complete:i??void 0};else{var a;s&&QC.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return s.unsubscribe()},o={next:n.next&&Ep(n.next,a),error:n.error&&Ep(n.error,a),complete:n.complete&&Ep(n.complete,a)}):o=n}return s.destination=new NM(o),s}return e}(JC);function mc(t){$M(t)}function LM(t){throw t}var UM={closed:!0,next:zx,error:LM,complete:zx},jM=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function zM(t){return t}function HM(t){return t.length===0?zM:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var Hx=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,s=WM(e)?e:new mg(e,n,r);return oh(function(){var o=i,a=o.operator,l=o.source;s.add(a?a.call(s,l):l?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=Gx(n),new n(function(i,s){var o=new mg({next:function(a){try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[jM]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return HM(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=Gx(e),new e(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},t.create=function(e){return new t(e)},t}();function Gx(t){var e;return(e=t??QC.Promise)!==null&&e!==void 0?e:Promise}function GM(t){return t&&Br(t.next)&&Br(t.error)&&Br(t.complete)}function WM(t){return t&&t instanceof JC||GM(t)&&ZC(t)}var VM=qC(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),qh=function(t){Vd(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new Wx(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new VM},e.prototype.next=function(n){var r=this;oh(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=dg(r.currentObservers),a=o.next();!a.done;a=o.next()){var l=a.value;l.next(n)}}catch(u){i={error:u}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;oh(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;oh(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?KC:(this.currentObservers=null,a.push(n),new Xd(function(){r.currentObservers=null,fg(a,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,s=r.thrownError,o=r.isStopped;i?n.error(s):o&&n.complete()},e.prototype.asObservable=function(){var n=new Hx;return n.source=this,n},e.create=function(n,r){return new Wx(n,r)},e}(Hx),Wx=function(t){Vd(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:KC},e}(qh),XM=typeof global=="object"&&global&&global.Object===Object&&global;const eT=XM;var YM=typeof self=="object"&&self&&self.Object===Object&&self,qM=eT||YM||Function("return this")();const ir=qM;var KM=ir.Symbol;const kn=KM;var tT=Object.prototype,ZM=tT.hasOwnProperty,QM=tT.toString,Da=kn?kn.toStringTag:void 0;function JM(t){var e=ZM.call(t,Da),n=t[Da];try{t[Da]=void 0;var r=!0}catch{}var i=QM.call(t);return r&&(e?t[Da]=n:delete t[Da]),i}var e3=Object.prototype,t3=e3.toString;function n3(t){return t3.call(t)}var r3="[object Null]",i3="[object Undefined]",Vx=kn?kn.toStringTag:void 0;function Yr(t){return t==null?t===void 0?i3:r3:Vx&&Vx in Object(t)?JM(t):n3(t)}function Mn(t){return t!=null&&typeof t=="object"}var s3="[object Symbol]";function Go(t){return typeof t=="symbol"||Mn(t)&&Yr(t)==s3}function is(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var o3=Array.isArray;const nt=o3;var a3=1/0,Xx=kn?kn.prototype:void 0,Yx=Xx?Xx.toString:void 0;function Uv(t){if(typeof t=="string")return t;if(nt(t))return is(t,Uv)+"";if(Go(t))return Yx?Yx.call(t):"";var e=t+"";return e=="0"&&1/t==-a3?"-0":e}var l3=/\s/;function u3(t){for(var e=t.length;e--&&l3.test(t.charAt(e)););return e}var c3=/^\s+/;function h3(t){return t&&t.slice(0,u3(t)+1).replace(c3,"")}function dn(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var qx=0/0,d3=/^[-+]0x[0-9a-f]+$/i,f3=/^0b[01]+$/i,p3=/^0o[0-7]+$/i,m3=parseInt;function gg(t){if(typeof t=="number")return t;if(Go(t))return qx;if(dn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=dn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=h3(t);var n=f3.test(t);return n||p3.test(t)?m3(t.slice(2),n?2:8):d3.test(t)?qx:+t}var Kx=1/0,g3=17976931348623157e292;function v3(t){if(!t)return t===0?t:0;if(t=gg(t),t===Kx||t===-Kx){var e=t<0?-1:1;return e*g3}return t===t?t:0}function Yd(t){var e=v3(t),n=e%1;return e===e?n?e-n:e:0}function _u(t){return t}var y3="[object AsyncFunction]",b3="[object Function]",x3="[object GeneratorFunction]",w3="[object Proxy]";function mr(t){if(!dn(t))return!1;var e=Yr(t);return e==b3||e==x3||e==y3||e==w3}var _3=ir["__core-js_shared__"];const Sp=_3;var Zx=function(){var t=/[^.]+$/.exec(Sp&&Sp.keys&&Sp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function E3(t){return!!Zx&&Zx in t}var S3=Function.prototype,C3=S3.toString;function Ts(t){if(t!=null){try{return C3.call(t)}catch{}try{return t+""}catch{}}return""}var T3=/[\\^$.*+?()[\]{}|]/g,A3=/^\[object .+?Constructor\]$/,P3=Function.prototype,O3=Object.prototype,I3=P3.toString,R3=O3.hasOwnProperty,k3=RegExp("^"+I3.call(R3).replace(T3,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function M3(t){if(!dn(t)||E3(t))return!1;var e=mr(t)?k3:A3;return e.test(Ts(t))}function F3(t,e){return t==null?void 0:t[e]}function As(t,e){var n=F3(t,e);return M3(n)?n:void 0}var D3=As(ir,"WeakMap");const vg=D3;var Qx=Object.create,$3=function(){function t(){}return function(e){if(!dn(e))return{};if(Qx)return Qx(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const B3=$3;function N3(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function L3(){}function nT(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var U3=800,j3=16,z3=Date.now;function H3(t){var e=0,n=0;return function(){var r=z3(),i=j3-(r-n);if(n=r,i>0){if(++e>=U3)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function G3(t){return function(){return t}}var W3=function(){try{var t=As(Object,"defineProperty");return t({},"",{}),t}catch{}}();const Kh=W3;var V3=Kh?function(t,e){return Kh(t,"toString",{configurable:!0,enumerable:!1,value:G3(e),writable:!0})}:_u;const X3=V3;var Y3=H3(X3);const q3=Y3;function rT(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function iT(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function K3(t){return t!==t}function Z3(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function sT(t,e,n){return e===e?Z3(t,e,n):iT(t,K3,n)}function oT(t,e){var n=t==null?0:t.length;return!!n&&sT(t,e,0)>-1}var Q3=9007199254740991,J3=/^(?:0|[1-9]\d*)$/;function jv(t,e){var n=typeof t;return e=e??Q3,!!e&&(n=="number"||n!="symbol"&&J3.test(t))&&t>-1&&t%1==0&&t<e}function qd(t,e,n){e=="__proto__"&&Kh?Kh(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Eu(t,e){return t===e||t!==t&&e!==e}var e4=Object.prototype,t4=e4.hasOwnProperty;function aT(t,e,n){var r=t[e];(!(t4.call(t,e)&&Eu(r,n))||n===void 0&&!(e in t))&&qd(t,e,n)}function Su(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?qd(n,a,l):aT(n,a,l)}return n}var Jx=Math.max;function n4(t,e,n){return e=Jx(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=Jx(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),N3(t,this,a)}}function zv(t,e){return q3(n4(t,e,_u),t+"")}var r4=9007199254740991;function Hv(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=r4}function Ii(t){return t!=null&&Hv(t.length)&&!mr(t)}function Zh(t,e,n){if(!dn(n))return!1;var r=typeof e;return(r=="number"?Ii(n)&&jv(e,n.length):r=="string"&&e in n)?Eu(n[e],t):!1}function i4(t){return zv(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&Zh(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var s4=Object.prototype;function Gv(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||s4;return t===n}function lT(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var o4="[object Arguments]";function ew(t){return Mn(t)&&Yr(t)==o4}var uT=Object.prototype,a4=uT.hasOwnProperty,l4=uT.propertyIsEnumerable,u4=ew(function(){return arguments}())?ew:function(t){return Mn(t)&&a4.call(t,"callee")&&!l4.call(t,"callee")};const Hl=u4;function c4(){return!1}var cT=typeof rn=="object"&&rn&&!rn.nodeType&&rn,tw=cT&&typeof sn=="object"&&sn&&!sn.nodeType&&sn,h4=tw&&tw.exports===cT,nw=h4?ir.Buffer:void 0,d4=nw?nw.isBuffer:void 0,f4=d4||c4;const Gl=f4;var p4="[object Arguments]",m4="[object Array]",g4="[object Boolean]",v4="[object Date]",y4="[object Error]",b4="[object Function]",x4="[object Map]",w4="[object Number]",_4="[object Object]",E4="[object RegExp]",S4="[object Set]",C4="[object String]",T4="[object WeakMap]",A4="[object ArrayBuffer]",P4="[object DataView]",O4="[object Float32Array]",I4="[object Float64Array]",R4="[object Int8Array]",k4="[object Int16Array]",M4="[object Int32Array]",F4="[object Uint8Array]",D4="[object Uint8ClampedArray]",$4="[object Uint16Array]",B4="[object Uint32Array]",De={};De[O4]=De[I4]=De[R4]=De[k4]=De[M4]=De[F4]=De[D4]=De[$4]=De[B4]=!0;De[p4]=De[m4]=De[A4]=De[g4]=De[P4]=De[v4]=De[y4]=De[b4]=De[x4]=De[w4]=De[_4]=De[E4]=De[S4]=De[C4]=De[T4]=!1;function N4(t){return Mn(t)&&Hv(t.length)&&!!De[Yr(t)]}function Cu(t){return function(e){return t(e)}}var hT=typeof rn=="object"&&rn&&!rn.nodeType&&rn,_l=hT&&typeof sn=="object"&&sn&&!sn.nodeType&&sn,L4=_l&&_l.exports===hT,Cp=L4&&eT.process,U4=function(){try{var t=_l&&_l.require&&_l.require("util").types;return t||Cp&&Cp.binding&&Cp.binding("util")}catch{}}();const Wo=U4;var rw=Wo&&Wo.isTypedArray,j4=rw?Cu(rw):N4;const Wv=j4;var z4=Object.prototype,H4=z4.hasOwnProperty;function dT(t,e){var n=nt(t),r=!n&&Hl(t),i=!n&&!r&&Gl(t),s=!n&&!r&&!i&&Wv(t),o=n||r||i||s,a=o?lT(t.length,String):[],l=a.length;for(var u in t)(e||H4.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||jv(u,l)))&&a.push(u);return a}function fT(t,e){return function(n){return t(e(n))}}var G4=fT(Object.keys,Object);const W4=G4;var V4=Object.prototype,X4=V4.hasOwnProperty;function Y4(t){if(!Gv(t))return W4(t);var e=[];for(var n in Object(t))X4.call(t,n)&&n!="constructor"&&e.push(n);return e}function Ps(t){return Ii(t)?dT(t):Y4(t)}function q4(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var K4=Object.prototype,Z4=K4.hasOwnProperty;function Q4(t){if(!dn(t))return q4(t);var e=Gv(t),n=[];for(var r in t)r=="constructor"&&(e||!Z4.call(t,r))||n.push(r);return n}function Tu(t){return Ii(t)?dT(t,!0):Q4(t)}var J4=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,eF=/^\w*$/;function Vv(t,e){if(nt(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Go(t)?!0:eF.test(t)||!J4.test(t)||e!=null&&t in Object(e)}var tF=As(Object,"create");const Wl=tF;function nF(){this.__data__=Wl?Wl(null):{},this.size=0}function rF(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var iF="__lodash_hash_undefined__",sF=Object.prototype,oF=sF.hasOwnProperty;function aF(t){var e=this.__data__;if(Wl){var n=e[t];return n===iF?void 0:n}return oF.call(e,t)?e[t]:void 0}var lF=Object.prototype,uF=lF.hasOwnProperty;function cF(t){var e=this.__data__;return Wl?e[t]!==void 0:uF.call(e,t)}var hF="__lodash_hash_undefined__";function dF(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Wl&&e===void 0?hF:e,this}function gs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}gs.prototype.clear=nF;gs.prototype.delete=rF;gs.prototype.get=aF;gs.prototype.has=cF;gs.prototype.set=dF;function fF(){this.__data__=[],this.size=0}function Kd(t,e){for(var n=t.length;n--;)if(Eu(t[n][0],e))return n;return-1}var pF=Array.prototype,mF=pF.splice;function gF(t){var e=this.__data__,n=Kd(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():mF.call(e,n,1),--this.size,!0}function vF(t){var e=this.__data__,n=Kd(e,t);return n<0?void 0:e[n][1]}function yF(t){return Kd(this.__data__,t)>-1}function bF(t,e){var n=this.__data__,r=Kd(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function qr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}qr.prototype.clear=fF;qr.prototype.delete=gF;qr.prototype.get=vF;qr.prototype.has=yF;qr.prototype.set=bF;var xF=As(ir,"Map");const Vl=xF;function wF(){this.size=0,this.__data__={hash:new gs,map:new(Vl||qr),string:new gs}}function _F(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Zd(t,e){var n=t.__data__;return _F(e)?n[typeof e=="string"?"string":"hash"]:n.map}function EF(t){var e=Zd(this,t).delete(t);return this.size-=e?1:0,e}function SF(t){return Zd(this,t).get(t)}function CF(t){return Zd(this,t).has(t)}function TF(t,e){var n=Zd(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Kr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Kr.prototype.clear=wF;Kr.prototype.delete=EF;Kr.prototype.get=SF;Kr.prototype.has=CF;Kr.prototype.set=TF;var AF="Expected a function";function Xv(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(AF);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Xv.Cache||Kr),n}Xv.Cache=Kr;var PF=500;function OF(t){var e=Xv(t,function(r){return n.size===PF&&n.clear(),r}),n=e.cache;return e}var IF=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,RF=/\\(\\)?/g,kF=OF(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(IF,function(n,r,i,s){e.push(i?s.replace(RF,"$1"):r||n)}),e});const MF=kF;function pT(t){return t==null?"":Uv(t)}function mT(t,e){return nt(t)?t:Vv(t,e)?[t]:MF(pT(t))}var FF=1/0;function Qd(t){if(typeof t=="string"||Go(t))return t;var e=t+"";return e=="0"&&1/t==-FF?"-0":e}function Yv(t,e){e=mT(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Qd(e[n++])];return n&&n==r?t:void 0}function DF(t,e,n){var r=t==null?void 0:Yv(t,e);return r===void 0?n:r}function qv(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var iw=kn?kn.isConcatSpreadable:void 0;function $F(t){return nt(t)||Hl(t)||!!(iw&&t&&t[iw])}function Kv(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=$F),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?Kv(a,e-1,n,r,i):qv(i,a):r||(i[i.length]=a)}return i}var BF=fT(Object.getPrototypeOf,Object);const Zv=BF;var NF="[object Object]",LF=Function.prototype,UF=Object.prototype,gT=LF.toString,jF=UF.hasOwnProperty,zF=gT.call(Object);function HF(t){if(!Mn(t)||Yr(t)!=NF)return!1;var e=Zv(t);if(e===null)return!0;var n=jF.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&gT.call(n)==zF}function GF(t,e,n,r){var i=-1,s=t==null?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}function WF(t,e,n){return t===t&&(n!==void 0&&(t=t<=n?t:n),e!==void 0&&(t=t>=e?t:e)),t}function VF(){this.__data__=new qr,this.size=0}function XF(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function YF(t){return this.__data__.get(t)}function qF(t){return this.__data__.has(t)}var KF=200;function ZF(t,e){var n=this.__data__;if(n instanceof qr){var r=n.__data__;if(!Vl||r.length<KF-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Kr(r)}return n.set(t,e),this.size=n.size,this}function Zn(t){var e=this.__data__=new qr(t);this.size=e.size}Zn.prototype.clear=VF;Zn.prototype.delete=XF;Zn.prototype.get=YF;Zn.prototype.has=qF;Zn.prototype.set=ZF;function QF(t,e){return t&&Su(e,Ps(e),t)}function JF(t,e){return t&&Su(e,Tu(e),t)}var vT=typeof rn=="object"&&rn&&!rn.nodeType&&rn,sw=vT&&typeof sn=="object"&&sn&&!sn.nodeType&&sn,eD=sw&&sw.exports===vT,ow=eD?ir.Buffer:void 0,aw=ow?ow.allocUnsafe:void 0;function yT(t,e){if(e)return t.slice();var n=t.length,r=aw?aw(n):new t.constructor(n);return t.copy(r),r}function bT(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function xT(){return[]}var tD=Object.prototype,nD=tD.propertyIsEnumerable,lw=Object.getOwnPropertySymbols,rD=lw?function(t){return t==null?[]:(t=Object(t),bT(lw(t),function(e){return nD.call(t,e)}))}:xT;const Qv=rD;function iD(t,e){return Su(t,Qv(t),e)}var sD=Object.getOwnPropertySymbols,oD=sD?function(t){for(var e=[];t;)qv(e,Qv(t)),t=Zv(t);return e}:xT;const wT=oD;function aD(t,e){return Su(t,wT(t),e)}function _T(t,e,n){var r=e(t);return nt(t)?r:qv(r,n(t))}function yg(t){return _T(t,Ps,Qv)}function lD(t){return _T(t,Tu,wT)}var uD=As(ir,"DataView");const bg=uD;var cD=As(ir,"Promise");const xg=cD;var hD=As(ir,"Set");const Ro=hD;var uw="[object Map]",dD="[object Object]",cw="[object Promise]",hw="[object Set]",dw="[object WeakMap]",fw="[object DataView]",fD=Ts(bg),pD=Ts(Vl),mD=Ts(xg),gD=Ts(Ro),vD=Ts(vg),Hi=Yr;(bg&&Hi(new bg(new ArrayBuffer(1)))!=fw||Vl&&Hi(new Vl)!=uw||xg&&Hi(xg.resolve())!=cw||Ro&&Hi(new Ro)!=hw||vg&&Hi(new vg)!=dw)&&(Hi=function(t){var e=Yr(t),n=e==dD?t.constructor:void 0,r=n?Ts(n):"";if(r)switch(r){case fD:return fw;case pD:return uw;case mD:return cw;case gD:return hw;case vD:return dw}return e});const Xl=Hi;var yD=Object.prototype,bD=yD.hasOwnProperty;function xD(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&bD.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var wD=ir.Uint8Array;const Qh=wD;function Jv(t){var e=new t.constructor(t.byteLength);return new Qh(e).set(new Qh(t)),e}function _D(t,e){var n=e?Jv(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var ED=/\w*$/;function SD(t){var e=new t.constructor(t.source,ED.exec(t));return e.lastIndex=t.lastIndex,e}var pw=kn?kn.prototype:void 0,mw=pw?pw.valueOf:void 0;function CD(t){return mw?Object(mw.call(t)):{}}function ET(t,e){var n=e?Jv(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var TD="[object Boolean]",AD="[object Date]",PD="[object Map]",OD="[object Number]",ID="[object RegExp]",RD="[object Set]",kD="[object String]",MD="[object Symbol]",FD="[object ArrayBuffer]",DD="[object DataView]",$D="[object Float32Array]",BD="[object Float64Array]",ND="[object Int8Array]",LD="[object Int16Array]",UD="[object Int32Array]",jD="[object Uint8Array]",zD="[object Uint8ClampedArray]",HD="[object Uint16Array]",GD="[object Uint32Array]";function WD(t,e,n){var r=t.constructor;switch(e){case FD:return Jv(t);case TD:case AD:return new r(+t);case DD:return _D(t,n);case $D:case BD:case ND:case LD:case UD:case jD:case zD:case HD:case GD:return ET(t,n);case PD:return new r;case OD:case kD:return new r(t);case ID:return SD(t);case RD:return new r;case MD:return CD(t)}}function ST(t){return typeof t.constructor=="function"&&!Gv(t)?B3(Zv(t)):{}}var VD="[object Map]";function XD(t){return Mn(t)&&Xl(t)==VD}var gw=Wo&&Wo.isMap,YD=gw?Cu(gw):XD;const qD=YD;var KD="[object Set]";function ZD(t){return Mn(t)&&Xl(t)==KD}var vw=Wo&&Wo.isSet,QD=vw?Cu(vw):ZD;const JD=QD;var e5=1,t5=2,n5=4,CT="[object Arguments]",r5="[object Array]",i5="[object Boolean]",s5="[object Date]",o5="[object Error]",TT="[object Function]",a5="[object GeneratorFunction]",l5="[object Map]",u5="[object Number]",AT="[object Object]",c5="[object RegExp]",h5="[object Set]",d5="[object String]",f5="[object Symbol]",p5="[object WeakMap]",m5="[object ArrayBuffer]",g5="[object DataView]",v5="[object Float32Array]",y5="[object Float64Array]",b5="[object Int8Array]",x5="[object Int16Array]",w5="[object Int32Array]",_5="[object Uint8Array]",E5="[object Uint8ClampedArray]",S5="[object Uint16Array]",C5="[object Uint32Array]",Re={};Re[CT]=Re[r5]=Re[m5]=Re[g5]=Re[i5]=Re[s5]=Re[v5]=Re[y5]=Re[b5]=Re[x5]=Re[w5]=Re[l5]=Re[u5]=Re[AT]=Re[c5]=Re[h5]=Re[d5]=Re[f5]=Re[_5]=Re[E5]=Re[S5]=Re[C5]=!0;Re[o5]=Re[TT]=Re[p5]=!1;function ah(t,e,n,r,i,s){var o,a=e&e5,l=e&t5,u=e&n5;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!dn(t))return t;var c=nt(t);if(c){if(o=xD(t),!a)return nT(t,o)}else{var h=Xl(t),d=h==TT||h==a5;if(Gl(t))return yT(t,a);if(h==AT||h==CT||d&&!i){if(o=l||d?{}:ST(t),!a)return l?aD(t,JF(o,t)):iD(t,QF(o,t))}else{if(!Re[h])return i?t:{};o=WD(t,h,a)}}s||(s=new Zn);var f=s.get(t);if(f)return f;s.set(t,o),JD(t)?t.forEach(function(g){o.add(ah(g,e,n,g,t,s))}):qD(t)&&t.forEach(function(g,v){o.set(v,ah(g,e,n,v,t,s))});var p=u?l?lD:yg:l?Tu:Ps,m=c?void 0:p(t);return rT(m||t,function(g,v){m&&(v=g,g=t[v]),aT(o,v,ah(g,e,n,v,t,s))}),o}var T5=4;function Pe(t){return ah(t,T5)}function yw(t){for(var e=-1,n=t==null?0:t.length,r=0,i=[];++e<n;){var s=t[e];s&&(i[r++]=s)}return i}var A5="__lodash_hash_undefined__";function P5(t){return this.__data__.set(t,A5),this}function O5(t){return this.__data__.has(t)}function Vo(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Kr;++e<n;)this.add(t[e])}Vo.prototype.add=Vo.prototype.push=P5;Vo.prototype.has=O5;function PT(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function ey(t,e){return t.has(e)}var I5=1,R5=2;function OT(t,e,n,r,i,s){var o=n&I5,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(t),c=s.get(e);if(u&&c)return u==e&&c==t;var h=-1,d=!0,f=n&R5?new Vo:void 0;for(s.set(t,e),s.set(e,t);++h<a;){var p=t[h],m=e[h];if(r)var g=o?r(m,p,h,e,t,s):r(p,m,h,t,e,s);if(g!==void 0){if(g)continue;d=!1;break}if(f){if(!PT(e,function(v,b){if(!ey(f,b)&&(p===v||i(p,v,n,r,s)))return f.push(b)})){d=!1;break}}else if(!(p===m||i(p,m,n,r,s))){d=!1;break}}return s.delete(t),s.delete(e),d}function k5(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function ty(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var M5=1,F5=2,D5="[object Boolean]",$5="[object Date]",B5="[object Error]",N5="[object Map]",L5="[object Number]",U5="[object RegExp]",j5="[object Set]",z5="[object String]",H5="[object Symbol]",G5="[object ArrayBuffer]",W5="[object DataView]",bw=kn?kn.prototype:void 0,Tp=bw?bw.valueOf:void 0;function V5(t,e,n,r,i,s,o){switch(n){case W5:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case G5:return!(t.byteLength!=e.byteLength||!s(new Qh(t),new Qh(e)));case D5:case $5:case L5:return Eu(+t,+e);case B5:return t.name==e.name&&t.message==e.message;case U5:case z5:return t==e+"";case N5:var a=k5;case j5:var l=r&M5;if(a||(a=ty),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=F5,o.set(t,e);var c=OT(a(t),a(e),r,i,s,o);return o.delete(t),c;case H5:if(Tp)return Tp.call(t)==Tp.call(e)}return!1}var X5=1,Y5=Object.prototype,q5=Y5.hasOwnProperty;function K5(t,e,n,r,i,s){var o=n&X5,a=yg(t),l=a.length,u=yg(e),c=u.length;if(l!=c&&!o)return!1;for(var h=l;h--;){var d=a[h];if(!(o?d in e:q5.call(e,d)))return!1}var f=s.get(t),p=s.get(e);if(f&&p)return f==e&&p==t;var m=!0;s.set(t,e),s.set(e,t);for(var g=o;++h<l;){d=a[h];var v=t[d],b=e[d];if(r)var y=o?r(b,v,d,e,t,s):r(v,b,d,t,e,s);if(!(y===void 0?v===b||i(v,b,n,r,s):y)){m=!1;break}g||(g=d=="constructor")}if(m&&!g){var x=t.constructor,S=e.constructor;x!=S&&"constructor"in t&&"constructor"in e&&!(typeof x=="function"&&x instanceof x&&typeof S=="function"&&S instanceof S)&&(m=!1)}return s.delete(t),s.delete(e),m}var Z5=1,xw="[object Arguments]",ww="[object Array]",gc="[object Object]",Q5=Object.prototype,_w=Q5.hasOwnProperty;function J5(t,e,n,r,i,s){var o=nt(t),a=nt(e),l=o?ww:Xl(t),u=a?ww:Xl(e);l=l==xw?gc:l,u=u==xw?gc:u;var c=l==gc,h=u==gc,d=l==u;if(d&&Gl(t)){if(!Gl(e))return!1;o=!0,c=!1}if(d&&!c)return s||(s=new Zn),o||Wv(t)?OT(t,e,n,r,i,s):V5(t,e,l,n,r,i,s);if(!(n&Z5)){var f=c&&_w.call(t,"__wrapped__"),p=h&&_w.call(e,"__wrapped__");if(f||p){var m=f?t.value():t,g=p?e.value():e;return s||(s=new Zn),i(m,g,n,r,s)}}return d?(s||(s=new Zn),K5(t,e,n,r,i,s)):!1}function ny(t,e,n,r,i){return t===e?!0:t==null||e==null||!Mn(t)&&!Mn(e)?t!==t&&e!==e:J5(t,e,n,r,ny,i)}var e$=1,t$=2;function n$(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],u=t[l],c=a[1];if(o&&a[2]){if(u===void 0&&!(l in t))return!1}else{var h=new Zn;if(r)var d=r(u,c,l,t,e,h);if(!(d===void 0?ny(c,u,e$|t$,r,h):d))return!1}}return!0}function IT(t){return t===t&&!dn(t)}function r$(t){for(var e=Ps(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,IT(i)]}return e}function RT(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function i$(t){var e=r$(t);return e.length==1&&e[0][2]?RT(e[0][0],e[0][1]):function(n){return n===t||n$(n,t,e)}}function s$(t,e){return t!=null&&e in Object(t)}function o$(t,e,n){e=mT(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=Qd(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&Hv(i)&&jv(o,i)&&(nt(t)||Hl(t)))}function a$(t,e){return t!=null&&o$(t,e,s$)}var l$=1,u$=2;function c$(t,e){return Vv(t)&&IT(e)?RT(Qd(t),e):function(n){var r=DF(n,t);return r===void 0&&r===e?a$(n,t):ny(e,r,l$|u$)}}function h$(t){return function(e){return e==null?void 0:e[t]}}function d$(t){return function(e){return Yv(e,t)}}function f$(t){return Vv(t)?h$(Qd(t)):d$(t)}function Ri(t){return typeof t=="function"?t:t==null?_u:typeof t=="object"?nt(t)?c$(t[0],t[1]):i$(t):f$(t)}function p$(t,e,n,r){for(var i=-1,s=t==null?0:t.length;++i<s;){var o=t[i];e(r,o,n(o),t)}return r}function m$(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var g$=m$();const kT=g$;function v$(t,e){return t&&kT(t,e,Ps)}function y$(t,e){return function(n,r){if(n==null)return n;if(!Ii(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var b$=y$(v$);const ua=b$;function x$(t,e,n,r){return ua(t,function(i,s,o){e(r,i,n(i),o)}),r}function w$(t,e){return function(n,r){var i=nt(n)?p$:x$,s=e?e():{};return i(n,t,Ri(r),s)}}var _$=function(){return ir.Date.now()};const Ap=_$;var E$="Expected a function",S$=Math.max,C$=Math.min;function MT(t,e,n){var r,i,s,o,a,l,u=0,c=!1,h=!1,d=!0;if(typeof t!="function")throw new TypeError(E$);e=gg(e)||0,dn(n)&&(c=!!n.leading,h="maxWait"in n,s=h?S$(gg(n.maxWait)||0,e):s,d="trailing"in n?!!n.trailing:d);function f(C){var T=r,A=i;return r=i=void 0,u=C,o=t.apply(A,T),o}function p(C){return u=C,a=setTimeout(v,e),c?f(C):o}function m(C){var T=C-l,A=C-u,k=e-T;return h?C$(k,s-A):k}function g(C){var T=C-l,A=C-u;return l===void 0||T>=e||T<0||h&&A>=s}function v(){var C=Ap();if(g(C))return b(C);a=setTimeout(v,m(C))}function b(C){return a=void 0,d&&r?f(C):(r=i=void 0,o)}function y(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function x(){return a===void 0?o:b(Ap())}function S(){var C=Ap(),T=g(C);if(r=arguments,i=this,l=C,T){if(a===void 0)return p(l);if(h)return clearTimeout(a),a=setTimeout(v,e),f(l)}return a===void 0&&(a=setTimeout(v,e)),o}return S.cancel=y,S.flush=x,S}function wg(t,e,n){(n!==void 0&&!Eu(t[e],n)||n===void 0&&!(e in t))&&qd(t,e,n)}function _g(t){return Mn(t)&&Ii(t)}function Eg(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function T$(t){return Su(t,Tu(t))}function A$(t,e,n,r,i,s,o){var a=Eg(t,n),l=Eg(e,n),u=o.get(l);if(u){wg(t,n,u);return}var c=s?s(a,l,n+"",t,e,o):void 0,h=c===void 0;if(h){var d=nt(l),f=!d&&Gl(l),p=!d&&!f&&Wv(l);c=l,d||f||p?nt(a)?c=a:_g(a)?c=nT(a):f?(h=!1,c=yT(l,!0)):p?(h=!1,c=ET(l,!0)):c=[]:HF(l)||Hl(l)?(c=a,Hl(a)?c=T$(a):(!dn(a)||mr(a))&&(c=ST(l))):h=!1}h&&(o.set(l,c),i(c,l,r,s,o),o.delete(l)),wg(t,n,c)}function FT(t,e,n,r,i){t!==e&&kT(e,function(s,o){if(i||(i=new Zn),dn(s))A$(t,e,o,n,FT,r,i);else{var a=r?r(Eg(t,o),s,o+"",t,e,i):void 0;a===void 0&&(a=s),wg(t,o,a)}},Tu)}function DT(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var P$=200;function O$(t,e,n,r){var i=-1,s=oT,o=!0,a=t.length,l=[],u=e.length;if(!a)return l;n&&(e=is(e,Cu(n))),r?(s=DT,o=!1):e.length>=P$&&(s=ey,o=!1,e=new Vo(e));e:for(;++i<a;){var c=t[i],h=n==null?c:n(c);if(c=r||c!==0?c:0,o&&h===h){for(var d=u;d--;)if(e[d]===h)continue e;l.push(c)}else s(e,h,r)||l.push(c)}return l}var I$=zv(function(t,e){return _g(t)?O$(t,Kv(e,1,_g,!0)):[]});const $T=I$;function BT(t){return typeof t=="function"?t:_u}function et(t,e){var n=nt(t)?rT:ua;return n(t,BT(e))}function R$(t,e){var n=[];return ua(t,function(r,i,s){e(r,i,s)&&n.push(r)}),n}function mn(t,e){var n=nt(t)?bT:R$;return n(t,Ri(e))}function k$(t){return function(e,n,r){var i=Object(e);if(!Ii(e)){var s=Ri(n);e=Ps(e),n=function(a){return s(i[a],a,i)}}var o=t(e,n,r);return o>-1?i[s?e[o]:o]:void 0}}var M$=Math.max;function F$(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Yd(n);return i<0&&(i=M$(r+i,0)),iT(t,Ri(e),i)}var D$=k$(F$);const we=D$;function NT(t,e){var n=-1,r=Ii(t)?Array(t.length):[];return ua(t,function(i,s,o){r[++n]=e(i,s,o)}),r}function ve(t,e){var n=nt(t)?is:NT;return n(t,Ri(e))}var $$=Object.prototype,B$=$$.hasOwnProperty,N$=w$(function(t,e,n){B$.call(t,n)?t[n].push(e):qd(t,n,[e])});const L$=N$;var U$="[object String]";function LT(t){return typeof t=="string"||!nt(t)&&Mn(t)&&Yr(t)==U$}function j$(t,e){return is(e,function(n){return t[n]})}function UT(t){return t==null?[]:j$(t,Ps(t))}var z$=Math.max;function Au(t,e,n,r){t=Ii(t)?t:UT(t),n=n&&!r?Yd(n):0;var i=t.length;return n<0&&(n=z$(i+n,0)),LT(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&sT(t,e,n)>-1}var H$="[object Number]";function G$(t){return typeof t=="number"||Mn(t)&&Yr(t)==H$}function gr(t){return t===void 0}var W$=i4(function(t,e,n){FT(t,e,n)});const Xt=W$;function V$(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function X$(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=Go(t),o=e!==void 0,a=e===null,l=e===e,u=Go(e);if(!a&&!u&&!s&&t>e||s&&o&&l&&!a&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!u&&t<e||u&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}function Y$(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var l=X$(i[r],s[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}function q$(t,e,n){e.length?e=is(e,function(s){return nt(s)?function(o){return Yv(o,s.length===1?s[0]:s)}:s}):e=[_u];var r=-1;e=is(e,Cu(Ri));var i=NT(t,function(s,o,a){var l=is(e,function(u){return u(s)});return{criteria:l,index:++r,value:s}});return V$(i,function(s,o){return Y$(s,o,n)})}var K$=Math.floor,Z$=Math.random;function Q$(t,e){return t+K$(Z$()*(e-t+1))}function J$(t,e,n,r,i){return i(t,function(s,o,a){n=r?(r=!1,s):e(n,s,o,a)}),n}function jT(t,e,n){var r=nt(t)?GF:J$,i=arguments.length<3;return r(t,Ri(e),n,i,ua)}function zT(t){var e=t.length;return e?t[Q$(0,e-1)]:void 0}function eB(t){return zT(UT(t))}function Ew(t){var e=nt(t)?zT:eB;return e(t)}function tB(t,e){var n;return ua(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}function Pu(t,e,n){var r=nt(t)?PT:tB;return n&&Zh(t,e,n)&&(e=void 0),r(t,Ri(e))}var nB=zv(function(t,e){if(t==null)return[];var n=e.length;return n>1&&Zh(t,e[0],e[1])?e=[]:n>2&&Zh(e[0],e[1],e[2])&&(e=[e[0]]),q$(t,Kv(e,1),[])});const ca=nB;function rB(t,e,n){return t=pT(t),n=n==null?0:WF(Yd(n),0,t.length),e=Uv(e),t.slice(n,n+e.length)==e}var iB="Expected a function";function sB(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(iB);return dn(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),MT(t,e,{leading:r,maxWait:e,trailing:i})}var oB=9007199254740991,Pp=4294967295,aB=Math.min;function Ou(t,e){if(t=Yd(t),t<1||t>oB)return[];var n=Pp,r=aB(t,Pp);e=BT(e),t-=Pp;for(var i=lT(r,e);++n<t;)e(n);return i}var lB=1/0,uB=Ro&&1/ty(new Ro([,-0]))[1]==lB?function(t){return new Ro(t)}:L3;const cB=uB;var hB=200;function dB(t,e,n){var r=-1,i=oT,s=t.length,o=!0,a=[],l=a;if(n)o=!1,i=DT;else if(s>=hB){var u=e?null:cB(t);if(u)return ty(u);o=!1,i=ey,l=new Vo}else l=e?[]:a;e:for(;++r<s;){var c=t[r],h=e?e(c):c;if(c=n||c!==0?c:0,o&&h===h){for(var d=l.length;d--;)if(l[d]===h)continue e;e&&l.push(h),a.push(c)}else i(l,h,n)||(l!==a&&l.push(h),a.push(c))}return a}function Jd(t){return t&&t.length?dB(t):[]}const ha=_.createContext({});function fB(){const t=window.localStorage.getItem("dragon-build");return t?JSON.parse(t):[]}const pB=(t,e)=>{const{build:n,type:r}=e;let i=Pe(t);return r==="imported"?(i=n,i):t},mB=(t,e)=>{const{build:n,type:r}=e;let i=Pe(t);return r==="set"?(i=n,window.localStorage.setItem("dragon-build",JSON.stringify(i)),i):t},gB=({children:t})=>{const[e,n]=_.useReducer(mB,fB()),[r,i]=_.useReducer(pB,e==null?void 0:e.exportableBuild);return E(ha.Provider,{value:{build:e,setBuild:n,savedBuild:r,setSavedBuild:i},children:t})},Wt=_.createContext({});function vB(){const t=window.localStorage.getItem("dragon-abilities");return t?JSON.parse(t):[]}function yB(){const t=window.localStorage.getItem("dragon-ability-types");return t?JSON.parse(t):[]}function bB(){const t=window.localStorage.getItem("dragon-global-params");return t?JSON.parse(t):[]}const xB=(t,e)=>{const{targetId:n,index:r,param:i,params:s,type:o}=e;let a=Pe(t);if(o==="save")try{window.localStorage.setItem("dragon-global-params",JSON.stringify(a))}catch{}if(o==="add")return a=[...a,i],a;if(o==="set")return a=s,window.localStorage.setItem("dragon-global-params",JSON.stringify(a)),a;if(o==="update")return a=ve(a,l=>l.id===n?i:l),a;if(o==="remove"){const l=t.findIndex(c=>c.id===i.id);if(l<0)return t;const u=[...t];return u.splice(l,1),u}return t},wB=(t,e)=>{const{targetId:n,index:r,ability:i,abilities:s,type:o}=e;let a=Pe(t);if(o==="save")try{window.localStorage.setItem("dragon-abilities",JSON.stringify(a))}catch{}if(o==="add")return a=[...a,i],a;if(o==="set")return a=s,window.localStorage.setItem("dragon-abilities",JSON.stringify(a)),a;if(o==="update")return a=ve(a,l=>l.id===n?i:l),a;if(o==="remove"){const l=t.findIndex(c=>c.id===i.id);if(l<0)return t;const u=[...t];return u.splice(l,1),u}return t},_B=(t,e)=>{const{index:n,abilityType:r,abilityTypes:i,type:s}=e;let o=Pe(t);if(s==="save")try{window.localStorage.setItem("dragon-ability-types",JSON.stringify(o))}catch{}if(s==="add")return o=[...o,r],o;if(s==="set")return o=i,window.localStorage.setItem("dragon-ability-types",JSON.stringify(o)),o;if(s==="update")return o[n]=r,o;if(s==="remove"){const a=t.findIndex(u=>u.id===r.id);if(a<0)return t;const l=[...t];return l.splice(a,1),l}return t},EB=({children:t})=>{const[e,n]=_.useReducer(wB,vB()),[r,i]=_.useReducer(_B,yB()),[s,o]=_.useReducer(xB,bB());return E(Wt.Provider,{value:{abilities:e,setAbilities:n,abilityTypes:r,setAbilityTypes:i,globalParams:s,setGlobalParams:o},children:t})},Zr=_.createContext({});function SB(){const t=window.localStorage.getItem("dragon-nodes");if(t)try{return JSON.parse(t)}catch{return[{}]}else return HT()}function HT(){return[{id:"initial-node",name:"Example Node",description:"Press the Edit button on the left to edit this node. Press the edit button on the right to add stats and abilities.",colors:{selected:"#eee",unavailable:"aaa"}}]}const CB=(t,e)=>{const{targetId:n,index:r,node:i,nodes:s,type:o}=e;let a=Pe(t);if(o==="reset")return a=HT(),window.localStorage.setItem("dragon-nodes",JSON.stringify(a)),a;if(o==="save")try{window.localStorage.setItem("dragon-nodes",JSON.stringify(a))}catch{}if(o==="add")return a=[...a,i],a;if(o==="set")return a=s,window.localStorage.setItem("dragon-nodes",JSON.stringify(a)),a;if(o==="update")return a=ve(a,l=>l.id===n?i:l),window.localStorage.setItem("dragon-nodes",JSON.stringify(a)),a;if(o==="remove"){const l=t.findIndex(c=>c.id===i.id);if(l<0)return t;let u=[...t];return u.splice(l,1),u=ve(mn(u,c=>c.id!==i.id),c=>{let h=c.requires;return c.requires===i.id&&(h=i==null?void 0:i.requires),{...c,requires:h}}),window.localStorage.setItem("dragon-nodes",JSON.stringify(a)),u}return t},TB=({children:t})=>{const[e,n]=_.useReducer(CB,SB()),[r,i]=_.useState(null),[s,o]=_.useState({acquired:{},selected:{},available:{}});return E(Zr.Provider,{value:{nodes:e,setNodes:n,selectedNodeId:r,setSelectedNodeId:i,nodeMeta:s,setNodeMeta:o},children:t})};var P={},AB={get exports(){return P},set exports(t){P=t}},PB="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",OB=PB,IB=OB;function GT(){}function WT(){}WT.resetWarningCache=GT;var RB=function(){function t(r,i,s,o,a,l){if(l!==IB){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:WT,resetWarningCache:GT};return n.PropTypes=n,n};AB.exports=RB();function Sg(){return Sg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sg.apply(this,arguments)}function kB(t,e){if(t==null)return{};var n=MB(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MB(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var ry=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=kB(t,["color","size"]);return w.createElement("svg",Sg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),w.createElement("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"}))});ry.propTypes={color:P.string,size:P.oneOfType([P.string,P.number])};ry.displayName="BookOpen";const FB=ry;function Cg(){return Cg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cg.apply(this,arguments)}function DB(t,e){if(t==null)return{};var n=$B(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $B(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var iy=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=DB(t,["color","size"]);return w.createElement("svg",Cg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),w.createElement("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"}))});iy.propTypes={color:P.string,size:P.oneOfType([P.string,P.number])};iy.displayName="Book";const BB=iy;function Tg(){return Tg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tg.apply(this,arguments)}function NB(t,e){if(t==null)return{};var n=LB(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LB(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var sy=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=NB(t,["color","size"]);return w.createElement("svg",Tg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"20 6 9 17 4 12"}))});sy.propTypes={color:P.string,size:P.oneOfType([P.string,P.number])};sy.displayName="Check";const UB=sy;function Ag(){return Ag=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ag.apply(this,arguments)}function jB(t,e){if(t==null)return{};var n=zB(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zB(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var oy=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=jB(t,["color","size"]);return w.createElement("svg",Ag({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"6 9 12 15 18 9"}))});oy.propTypes={color:P.string,size:P.oneOfType([P.string,P.number])};oy.displayName="ChevronDown";const VT=oy;function Pg(){return Pg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pg.apply(this,arguments)}function HB(t,e){if(t==null)return{};var n=GB(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GB(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var ay=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=HB(t,["color","size"]);return w.createElement("svg",Pg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"18 15 12 9 6 15"}))});ay.propTypes={color:P.string,size:P.oneOfType([P.string,P.number])};ay.displayName="ChevronUp";const XT=ay;function Og(){return Og=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Og.apply(this,arguments)}function WB(t,e){if(t==null)return{};var n=VB(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VB(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var ly=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=WB(t,["color","size"]);return w.createElement("svg",Og({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"7 13 12 18 17 13"}),w.createElement("polyline",{points:"7 6 12 11 17 6"}))});ly.propTypes={color:P.string,size:P.oneOfType([P.string,P.number])};ly.displayName="ChevronsDown";const YT=ly;function Ig(){return Ig=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ig.apply(this,arguments)}function XB(t,e){if(t==null)return{};var n=YB(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YB(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var uy=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=XB(t,["color","size"]);return w.createElement("svg",Ig({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"11 17 6 12 11 7"}),w.createElement("polyline",{points:"18 17 13 12 18 7"}))});uy.propTypes={color:P.string,size:P.oneOfType([P.string,P.number])};uy.displayName="ChevronsLeft";const qB=uy;function Rg(){return Rg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rg.apply(this,arguments)}function KB(t,e){if(t==null)return{};var n=ZB(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZB(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var cy=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=KB(t,["color","size"]);return w.createElement("svg",Rg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"13 17 18 12 13 7"}),w.createElement("polyline",{points:"6 17 11 12 6 7"}))});cy.propTypes={color:P.string,size:P.oneOfType([P.string,P.number])};cy.displayName="ChevronsRight";const QB=cy;function kg(){return kg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kg.apply(this,arguments)}function JB(t,e){if(t==null)return{};var n=eN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var hy=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=JB(t,["color","size"]);return w.createElement("svg",kg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"17 11 12 6 7 11"}),w.createElement("polyline",{points:"17 18 12 13 7 18"}))});hy.propTypes={color:P.string,size:P.oneOfType([P.string,P.number])};hy.displayName="ChevronsUp";const qT=hy;function Mg(){return Mg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mg.apply(this,arguments)}function tN(t,e){if(t==null)return{};var n=nN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var dy=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=tN(t,["color","size"]);return w.createElement("svg",Mg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),w.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))});dy.propTypes={color:P.string,size:P.oneOfType([P.string,P.number])};dy.displayName="Copy";const rN=dy;function Fg(){return Fg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fg.apply(this,arguments)}function iN(t,e){if(t==null)return{};var n=sN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var fy=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=iN(t,["color","size"]);return w.createElement("svg",Fg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("circle",{cx:"12",cy:"12",r:"10"}),w.createElement("circle",{cx:"12",cy:"12",r:"3"}))});fy.propTypes={color:P.string,size:P.oneOfType([P.string,P.number])};fy.displayName="Disc";const oN=fy;function Dg(){return Dg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dg.apply(this,arguments)}function aN(t,e){if(t==null)return{};var n=lN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var py=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=aN(t,["color","size"]);return w.createElement("svg",Dg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),w.createElement("polyline",{points:"7 10 12 15 17 10"}),w.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"}))});py.propTypes={color:P.string,size:P.oneOfType([P.string,P.number])};py.displayName="Download";const $g=py;function Bg(){return Bg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bg.apply(this,arguments)}function uN(t,e){if(t==null)return{};var n=cN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var my=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=uN(t,["color","size"]);return w.createElement("svg",Bg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),w.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))});my.propTypes={color:P.string,size:P.oneOfType([P.string,P.number])};my.displayName="Edit";const KT=my;function Ng(){return Ng=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ng.apply(this,arguments)}function hN(t,e){if(t==null)return{};var n=dN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var gy=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=hN(t,["color","size"]);return w.createElement("svg",Ng({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("circle",{cx:"12",cy:"12",r:"10"}),w.createElement("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),w.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}))});gy.propTypes={color:P.string,size:P.oneOfType([P.string,P.number])};gy.displayName="HelpCircle";const fN=gy;function Lg(){return Lg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lg.apply(this,arguments)}function pN(t,e){if(t==null)return{};var n=mN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var vy=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=pN(t,["color","size"]);return w.createElement("svg",Lg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),w.createElement("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}))});vy.propTypes={color:P.string,size:P.oneOfType([P.string,P.number])};vy.displayName="Lock";const gN=vy;function Ug(){return Ug=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ug.apply(this,arguments)}function vN(t,e){if(t==null)return{};var n=yN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var yy=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=vN(t,["color","size"]);return w.createElement("svg",Ug({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),w.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))});yy.propTypes={color:P.string,size:P.oneOfType([P.string,P.number])};yy.displayName="MinusSquare";const bN=yy;function jg(){return jg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jg.apply(this,arguments)}function xN(t,e){if(t==null)return{};var n=wN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var by=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=xN(t,["color","size"]);return w.createElement("svg",jg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});by.propTypes={color:P.string,size:P.oneOfType([P.string,P.number])};by.displayName="Minus";const _N=by;function zg(){return zg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zg.apply(this,arguments)}function EN(t,e){if(t==null)return{};var n=SN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var xy=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=EN(t,["color","size"]);return w.createElement("svg",zg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}))});xy.propTypes={color:P.string,size:P.oneOfType([P.string,P.number])};xy.displayName="Moon";const CN=xy;function Hg(){return Hg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hg.apply(this,arguments)}function TN(t,e){if(t==null)return{};var n=AN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var wy=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=TN(t,["color","size"]);return w.createElement("svg",Hg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),w.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),w.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))});wy.propTypes={color:P.string,size:P.oneOfType([P.string,P.number])};wy.displayName="PlusSquare";const nr=wy;function Gg(){return Gg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gg.apply(this,arguments)}function PN(t,e){if(t==null)return{};var n=ON(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ON(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var _y=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=PN(t,["color","size"]);return w.createElement("svg",Gg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),w.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});_y.propTypes={color:P.string,size:P.oneOfType([P.string,P.number])};_y.displayName="Plus";const ZT=_y;function Wg(){return Wg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wg.apply(this,arguments)}function IN(t,e){if(t==null)return{};var n=RN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function RN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Ey=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=IN(t,["color","size"]);return w.createElement("svg",Wg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"1 4 1 10 7 10"}),w.createElement("polyline",{points:"23 20 23 14 17 14"}),w.createElement("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"}))});Ey.propTypes={color:P.string,size:P.oneOfType([P.string,P.number])};Ey.displayName="RefreshCcw";const kN=Ey;function Vg(){return Vg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vg.apply(this,arguments)}function MN(t,e){if(t==null)return{};var n=FN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function FN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Sy=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=MN(t,["color","size"]);return w.createElement("svg",Vg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"1 4 1 10 7 10"}),w.createElement("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"}))});Sy.propTypes={color:P.string,size:P.oneOfType([P.string,P.number])};Sy.displayName="RotateCcw";const QT=Sy;function Xg(){return Xg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xg.apply(this,arguments)}function DN(t,e){if(t==null)return{};var n=$N(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $N(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Cy=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=DN(t,["color","size"]);return w.createElement("svg",Xg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),w.createElement("polyline",{points:"17 21 17 13 7 13 7 21"}),w.createElement("polyline",{points:"7 3 7 8 15 8"}))});Cy.propTypes={color:P.string,size:P.oneOfType([P.string,P.number])};Cy.displayName="Save";const Xo=Cy;function Yg(){return Yg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yg.apply(this,arguments)}function BN(t,e){if(t==null)return{};var n=NN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Ty=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=BN(t,["color","size"]);return w.createElement("svg",Yg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}))});Ty.propTypes={color:P.string,size:P.oneOfType([P.string,P.number])};Ty.displayName="Shield";const LN=Ty;function qg(){return qg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qg.apply(this,arguments)}function UN(t,e){if(t==null)return{};var n=jN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Ay=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=UN(t,["color","size"]);return w.createElement("svg",qg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("line",{x1:"4",y1:"21",x2:"4",y2:"14"}),w.createElement("line",{x1:"4",y1:"10",x2:"4",y2:"3"}),w.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"12"}),w.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"3"}),w.createElement("line",{x1:"20",y1:"21",x2:"20",y2:"16"}),w.createElement("line",{x1:"20",y1:"12",x2:"20",y2:"3"}),w.createElement("line",{x1:"1",y1:"14",x2:"7",y2:"14"}),w.createElement("line",{x1:"9",y1:"8",x2:"15",y2:"8"}),w.createElement("line",{x1:"17",y1:"16",x2:"23",y2:"16"}))});Ay.propTypes={color:P.string,size:P.oneOfType([P.string,P.number])};Ay.displayName="Sliders";const zN=Ay;function Kg(){return Kg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kg.apply(this,arguments)}function HN(t,e){if(t==null)return{};var n=GN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Py=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=HN(t,["color","size"]);return w.createElement("svg",Kg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("circle",{cx:"12",cy:"12",r:"5"}),w.createElement("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),w.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),w.createElement("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),w.createElement("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),w.createElement("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),w.createElement("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),w.createElement("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),w.createElement("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"}))});Py.propTypes={color:P.string,size:P.oneOfType([P.string,P.number])};Py.displayName="Sun";const WN=Py;function Zg(){return Zg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zg.apply(this,arguments)}function VN(t,e){if(t==null)return{};var n=XN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Oy=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=VN(t,["color","size"]);return w.createElement("svg",Zg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"3 6 5 6 21 6"}),w.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),w.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),w.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}))});Oy.propTypes={color:P.string,size:P.oneOfType([P.string,P.number])};Oy.displayName="Trash2";const da=Oy;function Qg(){return Qg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qg.apply(this,arguments)}function YN(t,e){if(t==null)return{};var n=qN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Iy=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=YN(t,["color","size"]);return w.createElement("svg",Qg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"3 6 5 6 21 6"}),w.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}))});Iy.propTypes={color:P.string,size:P.oneOfType([P.string,P.number])};Iy.displayName="Trash";const KN=Iy;function Jg(){return Jg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jg.apply(this,arguments)}function ZN(t,e){if(t==null)return{};var n=QN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Ry=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=ZN(t,["color","size"]);return w.createElement("svg",Jg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("circle",{cx:"12",cy:"12",r:"10"}),w.createElement("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),w.createElement("line",{x1:"9",y1:"9",x2:"15",y2:"15"}))});Ry.propTypes={color:P.string,size:P.oneOfType([P.string,P.number])};Ry.displayName="XCircle";const JT=Ry,Iu=_.createContext({});function JN(){const t=window.localStorage.getItem("dragon-tagColors");if(t)try{return JSON.parse(t)}catch{return{}}else return{}}const eL=(t,e)=>{const{tag:n,color:r,type:i,colors:s}=e;let o=Pe(t);return i==="add"?(o[n]=r,o):i==="set"?(o=s||{},window.localStorage.setItem("dragon-tagColors",JSON.stringify(o)),s):(i==="save"&&window.localStorage.setItem("dragon-tagColors",JSON.stringify(o)),t)},tL=({children:t})=>{const[e,n]=_.useReducer(eL,JN());return E(Iu.Provider,{value:{tagColors:e,setTagColors:n},children:t})};function st({type:t="default",color:e="white",children:n,clicked:r,noPadding:i=!1,disabled:s=!1}){const o=i?{padding:0}:{};return E("button",{className:"smol-button "+t+" "+e+" "+(s?"disabled":""),onClick:s?()=>{}:r,style:o,children:n})}const Ru=_.createContext({});function nL(){const t=window.localStorage.getItem("dragon-theme");return t?JSON.parse(t):[]}const rL=(t,e)=>{const{theme:n,type:r}=e;let i=Pe(t);return r==="set"?(i=n,window.localStorage.setItem("dragon-theme",JSON.stringify(i)),i):t},iL=({children:t})=>{const[e,n]=_.useReducer(rL,nL());return E(Ru.Provider,{value:{theme:e,setTheme:n},children:t})};function sL(t,e,n,r,i,s){let o={};const a=i||n;return o.borderColor=a,e&&(o.backgroundColor=a,o.fontWeight=500),r&&(o.borderColor="transparent",o.backgroundColor=a,o.color="#222",o.fontWeight=600,o.borderRadius=12),mr(t)&&(o.cursor="pointer",o.paddingRight="32px"),s==="light"&&(o.borderWidth=2,o.color="#333"),o}function e0({label:t,clicked:e,selected:n,children:r,emphasize:i,color:s}){const{tagColors:o}=_.useContext(Iu),{theme:a}=_.useContext(Ru);return j("span",{onClick:u=>{mr(e)&&e(t)},className:"stat-tag",style:sL(e,n,o&&o[t]||"#fff",i,s,a),children:[t," ",e&&E("div",{className:"check",children:n?E(UB,{size:14}):""}),r&&r]})}function ss({type:t="default",color:e="white",children:n,clicked:r,disabled:i=!1}){return E("button",{className:"big-button "+t+" "+e+" "+(i?"disabled":""),onClick:i?()=>{}:r,children:n})}function ky({value:t,valueChanged:e,className:n="",minWidth:r=48,min:i=void 0,max:s=void 0}){const[o,a]=_.useState(+t),[l,u]=_.useState(r),c=_.useRef({offsetWidth:0});_.useEffect(()=>{var f;const d=((f=c==null?void 0:c.current)==null?void 0:f.offsetWidth)+24;u(d>r?d:r)},[o]);const h=d=>{a(+d.target.value),e(+d.target.value)};return j("div",{className:"fancy-text-input form-control "+n,children:[E("span",{className:"hidden-text",ref:c,children:o}),E("input",{min:i,max:s,value:o,type:"number",style:{width:l},onChange:h})]})}var t0={},oL={get exports(){return t0},set exports(t){t0=t}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(oL);const Yl=t0;function Sr({value:t,valueChanged:e,className:n,blur:r,minWidth:i=48,placeholder:s="",fullWidth:o=!1,autoFocus:a=void 0,unsavedData:l=!1}){const[u,c]=_.useState(t),[h,d]=_.useState(o?"100%":i),f=_.useRef({offsetWidth:0}),p=_.useRef(null);_.useEffect(()=>{var g;if(!gr(u)&&!o){const v=((g=f==null?void 0:f.current)==null?void 0:g.clientWidth)+24;d(v>i?v:i)}},[u]),_.useEffect(()=>{c(t)},[t]),_.useEffect(()=>{var g;!gr(a)&&a&&((g=p.current)==null||g.focus())},[a]);const m=g=>{e(g.target.value)};return j("div",{className:"fancy-text-input form-control "+n,children:[E("span",{className:"hidden-text",ref:f,children:u}),E("input",{className:Yl({unsavedData:l}),ref:p,placeholder:s,onBlur:r,value:u,type:"text",style:{width:h},onChange:m})]})}function aL({params:t,paramsChanged:e}){const[n,r]=_.useState(t);_.useEffect(()=>{r(t)},[t]);const i=(l,u)=>{let c=Pe(n);c[u].name=l,e(c)},s=(l,u)=>{let c=Pe(n);c[u].value=l,e(c)},o=()=>{e([...t,{name:"",value:0}])},a=l=>{let u=Pe(n);u.splice(l,1),e(u)};return j("div",{className:"param-editor",children:[n&&ve(n,(l,u)=>j("div",{className:"param-line",children:[E(st,{color:"danger",clicked:()=>a(u),children:E(da,{size:"18"})}),E(Sr,{minWidth:120,placeholder:"name",className:"param-input",value:l.name,valueChanged:c=>i(c,u)}),E(ky,{className:"param-input",value:l.value,valueChanged:c=>s(c,u)})]})),E("div",{className:"add-button",children:j(ss,{disabled:Pu(n,{name:""}),color:"theme",clicked:o,children:["Add Param ",E(nr,{size:20})]})})]})}var En={},ku={},lL=typeof kr=="object"&&kr&&kr.Object===Object&&kr,eA=lL,uL=eA,cL=typeof self=="object"&&self&&self.Object===Object&&self,hL=uL||cL||Function("return this")(),Cr=hL,dL=Cr,fL=dL.Symbol,Mu=fL,Sw=Mu,tA=Object.prototype,pL=tA.hasOwnProperty,mL=tA.toString,$a=Sw?Sw.toStringTag:void 0;function gL(t){var e=pL.call(t,$a),n=t[$a];try{t[$a]=void 0;var r=!0}catch{}var i=mL.call(t);return r&&(e?t[$a]=n:delete t[$a]),i}var vL=gL,yL=Object.prototype,bL=yL.toString;function xL(t){return bL.call(t)}var wL=xL,Cw=Mu,_L=vL,EL=wL,SL="[object Null]",CL="[object Undefined]",Tw=Cw?Cw.toStringTag:void 0;function TL(t){return t==null?t===void 0?CL:SL:Tw&&Tw in Object(t)?_L(t):EL(t)}var Os=TL,AL=Array.isArray,sr=AL;function PL(t){return t!=null&&typeof t=="object"}var Qr=PL,OL=Os,IL=sr,RL=Qr,kL="[object String]";function ML(t){return typeof t=="string"||!IL(t)&&RL(t)&&OL(t)==kL}var FL=ML;function DL(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var $L=DL,BL=$L,NL=BL(),LL=NL;function UL(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var jL=UL,zL=Os,HL=Qr,GL="[object Arguments]";function WL(t){return HL(t)&&zL(t)==GL}var VL=WL,Aw=VL,XL=Qr,nA=Object.prototype,YL=nA.hasOwnProperty,qL=nA.propertyIsEnumerable,KL=Aw(function(){return arguments}())?Aw:function(t){return XL(t)&&YL.call(t,"callee")&&!qL.call(t,"callee")},rA=KL,Yo={},ZL={get exports(){return Yo},set exports(t){Yo=t}};function QL(){return!1}var JL=QL;(function(t,e){var n=Cr,r=JL,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(ZL,Yo);var e6=9007199254740991,t6=/^(?:0|[1-9]\d*)$/;function n6(t,e){var n=typeof t;return e=e??e6,!!e&&(n=="number"||n!="symbol"&&t6.test(t))&&t>-1&&t%1==0&&t<e}var iA=n6,r6=9007199254740991;function i6(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=r6}var My=i6,s6=Os,o6=My,a6=Qr,l6="[object Arguments]",u6="[object Array]",c6="[object Boolean]",h6="[object Date]",d6="[object Error]",f6="[object Function]",p6="[object Map]",m6="[object Number]",g6="[object Object]",v6="[object RegExp]",y6="[object Set]",b6="[object String]",x6="[object WeakMap]",w6="[object ArrayBuffer]",_6="[object DataView]",E6="[object Float32Array]",S6="[object Float64Array]",C6="[object Int8Array]",T6="[object Int16Array]",A6="[object Int32Array]",P6="[object Uint8Array]",O6="[object Uint8ClampedArray]",I6="[object Uint16Array]",R6="[object Uint32Array]",$e={};$e[E6]=$e[S6]=$e[C6]=$e[T6]=$e[A6]=$e[P6]=$e[O6]=$e[I6]=$e[R6]=!0;$e[l6]=$e[u6]=$e[w6]=$e[c6]=$e[_6]=$e[h6]=$e[d6]=$e[f6]=$e[p6]=$e[m6]=$e[g6]=$e[v6]=$e[y6]=$e[b6]=$e[x6]=!1;function k6(t){return a6(t)&&o6(t.length)&&!!$e[s6(t)]}var M6=k6;function F6(t){return function(e){return t(e)}}var Fy=F6,qo={},D6={get exports(){return qo},set exports(t){qo=t}};(function(t,e){var n=eA,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(D6,qo);var $6=M6,B6=Fy,Pw=qo,Ow=Pw&&Pw.isTypedArray,N6=Ow?B6(Ow):$6,sA=N6,L6=jL,U6=rA,j6=sr,z6=Yo,H6=iA,G6=sA,W6=Object.prototype,V6=W6.hasOwnProperty;function X6(t,e){var n=j6(t),r=!n&&U6(t),i=!n&&!r&&z6(t),s=!n&&!r&&!i&&G6(t),o=n||r||i||s,a=o?L6(t.length,String):[],l=a.length;for(var u in t)(e||V6.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||H6(u,l)))&&a.push(u);return a}var oA=X6,Y6=Object.prototype;function q6(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Y6;return t===n}var Dy=q6;function K6(t,e){return function(n){return t(e(n))}}var aA=K6,Z6=aA,Q6=Z6(Object.keys,Object),J6=Q6,e8=Dy,t8=J6,n8=Object.prototype,r8=n8.hasOwnProperty;function i8(t){if(!e8(t))return t8(t);var e=[];for(var n in Object(t))r8.call(t,n)&&n!="constructor"&&e.push(n);return e}var s8=i8;function o8(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var fa=o8,a8=Os,l8=fa,u8="[object AsyncFunction]",c8="[object Function]",h8="[object GeneratorFunction]",d8="[object Proxy]";function f8(t){if(!l8(t))return!1;var e=a8(t);return e==c8||e==h8||e==u8||e==d8}var lA=f8,p8=lA,m8=My;function g8(t){return t!=null&&m8(t.length)&&!p8(t)}var ef=g8,v8=oA,y8=s8,b8=ef;function x8(t){return b8(t)?v8(t):y8(t)}var Fu=x8,w8=LL,_8=Fu;function E8(t,e){return t&&w8(t,e,_8)}var uA=E8;function S8(t){return t}var cA=S8,C8=cA;function T8(t){return typeof t=="function"?t:C8}var A8=T8,P8=uA,O8=A8;function I8(t,e){return t&&P8(t,O8(e))}var $y=I8,R8=aA,k8=R8(Object.getPrototypeOf,Object),By=k8,M8=Os,F8=By,D8=Qr,$8="[object Object]",B8=Function.prototype,N8=Object.prototype,hA=B8.toString,L8=N8.hasOwnProperty,U8=hA.call(Object);function j8(t){if(!D8(t)||M8(t)!=$8)return!1;var e=F8(t);if(e===null)return!0;var n=L8.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&hA.call(n)==U8}var z8=j8;function H8(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var dA=H8;function G8(){this.__data__=[],this.size=0}var W8=G8;function V8(t,e){return t===e||t!==t&&e!==e}var Ny=V8,X8=Ny;function Y8(t,e){for(var n=t.length;n--;)if(X8(t[n][0],e))return n;return-1}var tf=Y8,q8=tf,K8=Array.prototype,Z8=K8.splice;function Q8(t){var e=this.__data__,n=q8(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Z8.call(e,n,1),--this.size,!0}var J8=Q8,eU=tf;function tU(t){var e=this.__data__,n=eU(e,t);return n<0?void 0:e[n][1]}var nU=tU,rU=tf;function iU(t){return rU(this.__data__,t)>-1}var sU=iU,oU=tf;function aU(t,e){var n=this.__data__,r=oU(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var lU=aU,uU=W8,cU=J8,hU=nU,dU=sU,fU=lU;function pa(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}pa.prototype.clear=uU;pa.prototype.delete=cU;pa.prototype.get=hU;pa.prototype.has=dU;pa.prototype.set=fU;var nf=pa,pU=nf;function mU(){this.__data__=new pU,this.size=0}var gU=mU;function vU(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var yU=vU;function bU(t){return this.__data__.get(t)}var xU=bU;function wU(t){return this.__data__.has(t)}var _U=wU,EU=Cr,SU=EU["__core-js_shared__"],CU=SU,Op=CU,Iw=function(){var t=/[^.]+$/.exec(Op&&Op.keys&&Op.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function TU(t){return!!Iw&&Iw in t}var AU=TU,PU=Function.prototype,OU=PU.toString;function IU(t){if(t!=null){try{return OU.call(t)}catch{}try{return t+""}catch{}}return""}var fA=IU,RU=lA,kU=AU,MU=fa,FU=fA,DU=/[\\^$.*+?()[\]{}|]/g,$U=/^\[object .+?Constructor\]$/,BU=Function.prototype,NU=Object.prototype,LU=BU.toString,UU=NU.hasOwnProperty,jU=RegExp("^"+LU.call(UU).replace(DU,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function zU(t){if(!MU(t)||kU(t))return!1;var e=RU(t)?jU:$U;return e.test(FU(t))}var HU=zU;function GU(t,e){return t==null?void 0:t[e]}var WU=GU,VU=HU,XU=WU;function YU(t,e){var n=XU(t,e);return VU(n)?n:void 0}var Is=YU,qU=Is,KU=Cr,ZU=qU(KU,"Map"),Ly=ZU,QU=Is,JU=QU(Object,"create"),rf=JU,Rw=rf;function e7(){this.__data__=Rw?Rw(null):{},this.size=0}var t7=e7;function n7(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var r7=n7,i7=rf,s7="__lodash_hash_undefined__",o7=Object.prototype,a7=o7.hasOwnProperty;function l7(t){var e=this.__data__;if(i7){var n=e[t];return n===s7?void 0:n}return a7.call(e,t)?e[t]:void 0}var u7=l7,c7=rf,h7=Object.prototype,d7=h7.hasOwnProperty;function f7(t){var e=this.__data__;return c7?e[t]!==void 0:d7.call(e,t)}var p7=f7,m7=rf,g7="__lodash_hash_undefined__";function v7(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=m7&&e===void 0?g7:e,this}var y7=v7,b7=t7,x7=r7,w7=u7,_7=p7,E7=y7;function ma(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ma.prototype.clear=b7;ma.prototype.delete=x7;ma.prototype.get=w7;ma.prototype.has=_7;ma.prototype.set=E7;var S7=ma,kw=S7,C7=nf,T7=Ly;function A7(){this.size=0,this.__data__={hash:new kw,map:new(T7||C7),string:new kw}}var P7=A7;function O7(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var I7=O7,R7=I7;function k7(t,e){var n=t.__data__;return R7(e)?n[typeof e=="string"?"string":"hash"]:n.map}var sf=k7,M7=sf;function F7(t){var e=M7(this,t).delete(t);return this.size-=e?1:0,e}var D7=F7,$7=sf;function B7(t){return $7(this,t).get(t)}var N7=B7,L7=sf;function U7(t){return L7(this,t).has(t)}var j7=U7,z7=sf;function H7(t,e){var n=z7(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var G7=H7,W7=P7,V7=D7,X7=N7,Y7=j7,q7=G7;function ga(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ga.prototype.clear=W7;ga.prototype.delete=V7;ga.prototype.get=X7;ga.prototype.has=Y7;ga.prototype.set=q7;var Uy=ga,K7=nf,Z7=Ly,Q7=Uy,J7=200;function ej(t,e){var n=this.__data__;if(n instanceof K7){var r=n.__data__;if(!Z7||r.length<J7-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Q7(r)}return n.set(t,e),this.size=n.size,this}var tj=ej,nj=nf,rj=gU,ij=yU,sj=xU,oj=_U,aj=tj;function va(t){var e=this.__data__=new nj(t);this.size=e.size}va.prototype.clear=rj;va.prototype.delete=ij;va.prototype.get=sj;va.prototype.has=oj;va.prototype.set=aj;var jy=va,lj="__lodash_hash_undefined__";function uj(t){return this.__data__.set(t,lj),this}var cj=uj;function hj(t){return this.__data__.has(t)}var dj=hj,fj=Uy,pj=cj,mj=dj;function Jh(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new fj;++e<n;)this.add(t[e])}Jh.prototype.add=Jh.prototype.push=pj;Jh.prototype.has=mj;var gj=Jh;function vj(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var yj=vj;function bj(t,e){return t.has(e)}var xj=bj,wj=gj,_j=yj,Ej=xj,Sj=1,Cj=2;function Tj(t,e,n,r,i,s){var o=n&Sj,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(t),c=s.get(e);if(u&&c)return u==e&&c==t;var h=-1,d=!0,f=n&Cj?new wj:void 0;for(s.set(t,e),s.set(e,t);++h<a;){var p=t[h],m=e[h];if(r)var g=o?r(m,p,h,e,t,s):r(p,m,h,t,e,s);if(g!==void 0){if(g)continue;d=!1;break}if(f){if(!_j(e,function(v,b){if(!Ej(f,b)&&(p===v||i(p,v,n,r,s)))return f.push(b)})){d=!1;break}}else if(!(p===m||i(p,m,n,r,s))){d=!1;break}}return s.delete(t),s.delete(e),d}var pA=Tj,Aj=Cr,Pj=Aj.Uint8Array,mA=Pj;function Oj(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Ij=Oj;function Rj(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var kj=Rj,Mw=Mu,Fw=mA,Mj=Ny,Fj=pA,Dj=Ij,$j=kj,Bj=1,Nj=2,Lj="[object Boolean]",Uj="[object Date]",jj="[object Error]",zj="[object Map]",Hj="[object Number]",Gj="[object RegExp]",Wj="[object Set]",Vj="[object String]",Xj="[object Symbol]",Yj="[object ArrayBuffer]",qj="[object DataView]",Dw=Mw?Mw.prototype:void 0,Ip=Dw?Dw.valueOf:void 0;function Kj(t,e,n,r,i,s,o){switch(n){case qj:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Yj:return!(t.byteLength!=e.byteLength||!s(new Fw(t),new Fw(e)));case Lj:case Uj:case Hj:return Mj(+t,+e);case jj:return t.name==e.name&&t.message==e.message;case Gj:case Vj:return t==e+"";case zj:var a=Dj;case Wj:var l=r&Bj;if(a||(a=$j),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=Nj,o.set(t,e);var c=Fj(a(t),a(e),r,i,s,o);return o.delete(t),c;case Xj:if(Ip)return Ip.call(t)==Ip.call(e)}return!1}var Zj=Kj;function Qj(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var gA=Qj,Jj=gA,ez=sr;function tz(t,e,n){var r=e(t);return ez(t)?r:Jj(r,n(t))}var vA=tz;function nz(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var rz=nz;function iz(){return[]}var yA=iz,sz=rz,oz=yA,az=Object.prototype,lz=az.propertyIsEnumerable,$w=Object.getOwnPropertySymbols,uz=$w?function(t){return t==null?[]:(t=Object(t),sz($w(t),function(e){return lz.call(t,e)}))}:oz,zy=uz,cz=vA,hz=zy,dz=Fu;function fz(t){return cz(t,dz,hz)}var bA=fz,Bw=bA,pz=1,mz=Object.prototype,gz=mz.hasOwnProperty;function vz(t,e,n,r,i,s){var o=n&pz,a=Bw(t),l=a.length,u=Bw(e),c=u.length;if(l!=c&&!o)return!1;for(var h=l;h--;){var d=a[h];if(!(o?d in e:gz.call(e,d)))return!1}var f=s.get(t),p=s.get(e);if(f&&p)return f==e&&p==t;var m=!0;s.set(t,e),s.set(e,t);for(var g=o;++h<l;){d=a[h];var v=t[d],b=e[d];if(r)var y=o?r(b,v,d,e,t,s):r(v,b,d,t,e,s);if(!(y===void 0?v===b||i(v,b,n,r,s):y)){m=!1;break}g||(g=d=="constructor")}if(m&&!g){var x=t.constructor,S=e.constructor;x!=S&&"constructor"in t&&"constructor"in e&&!(typeof x=="function"&&x instanceof x&&typeof S=="function"&&S instanceof S)&&(m=!1)}return s.delete(t),s.delete(e),m}var yz=vz,bz=Is,xz=Cr,wz=bz(xz,"DataView"),_z=wz,Ez=Is,Sz=Cr,Cz=Ez(Sz,"Promise"),Tz=Cz,Az=Is,Pz=Cr,Oz=Az(Pz,"Set"),Iz=Oz,Rz=Is,kz=Cr,Mz=Rz(kz,"WeakMap"),Fz=Mz,n0=_z,r0=Ly,i0=Tz,s0=Iz,o0=Fz,xA=Os,ya=fA,Nw="[object Map]",Dz="[object Object]",Lw="[object Promise]",Uw="[object Set]",jw="[object WeakMap]",zw="[object DataView]",$z=ya(n0),Bz=ya(r0),Nz=ya(i0),Lz=ya(s0),Uz=ya(o0),Gi=xA;(n0&&Gi(new n0(new ArrayBuffer(1)))!=zw||r0&&Gi(new r0)!=Nw||i0&&Gi(i0.resolve())!=Lw||s0&&Gi(new s0)!=Uw||o0&&Gi(new o0)!=jw)&&(Gi=function(t){var e=xA(t),n=e==Dz?t.constructor:void 0,r=n?ya(n):"";if(r)switch(r){case $z:return zw;case Bz:return Nw;case Nz:return Lw;case Lz:return Uw;case Uz:return jw}return e});var of=Gi,Rp=jy,jz=pA,zz=Zj,Hz=yz,Hw=of,Gw=sr,Ww=Yo,Gz=sA,Wz=1,Vw="[object Arguments]",Xw="[object Array]",vc="[object Object]",Vz=Object.prototype,Yw=Vz.hasOwnProperty;function Xz(t,e,n,r,i,s){var o=Gw(t),a=Gw(e),l=o?Xw:Hw(t),u=a?Xw:Hw(e);l=l==Vw?vc:l,u=u==Vw?vc:u;var c=l==vc,h=u==vc,d=l==u;if(d&&Ww(t)){if(!Ww(e))return!1;o=!0,c=!1}if(d&&!c)return s||(s=new Rp),o||Gz(t)?jz(t,e,n,r,i,s):zz(t,e,l,n,r,i,s);if(!(n&Wz)){var f=c&&Yw.call(t,"__wrapped__"),p=h&&Yw.call(e,"__wrapped__");if(f||p){var m=f?t.value():t,g=p?e.value():e;return s||(s=new Rp),i(m,g,n,r,s)}}return d?(s||(s=new Rp),Hz(t,e,n,r,i,s)):!1}var Yz=Xz,qz=Yz,qw=Qr;function wA(t,e,n,r,i){return t===e?!0:t==null||e==null||!qw(t)&&!qw(e)?t!==t&&e!==e:qz(t,e,n,r,wA,i)}var _A=wA,Kz=jy,Zz=_A,Qz=1,Jz=2;function eH(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],u=t[l],c=a[1];if(o&&a[2]){if(u===void 0&&!(l in t))return!1}else{var h=new Kz;if(r)var d=r(u,c,l,t,e,h);if(!(d===void 0?Zz(c,u,Qz|Jz,r,h):d))return!1}}return!0}var tH=eH,nH=fa;function rH(t){return t===t&&!nH(t)}var EA=rH,iH=EA,sH=Fu;function oH(t){for(var e=sH(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,iH(i)]}return e}var aH=oH;function lH(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var SA=lH,uH=tH,cH=aH,hH=SA;function dH(t){var e=cH(t);return e.length==1&&e[0][2]?hH(e[0][0],e[0][1]):function(n){return n===t||uH(n,t,e)}}var fH=dH,pH=Os,mH=Qr,gH="[object Symbol]";function vH(t){return typeof t=="symbol"||mH(t)&&pH(t)==gH}var Hy=vH,yH=sr,bH=Hy,xH=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wH=/^\w*$/;function _H(t,e){if(yH(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||bH(t)?!0:wH.test(t)||!xH.test(t)||e!=null&&t in Object(e)}var Gy=_H,CA=Uy,EH="Expected a function";function Wy(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(EH);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Wy.Cache||CA),n}Wy.Cache=CA;var SH=Wy,CH=SH,TH=500;function AH(t){var e=CH(t,function(r){return n.size===TH&&n.clear(),r}),n=e.cache;return e}var PH=AH,OH=PH,IH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,RH=/\\(\\)?/g,kH=OH(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(IH,function(n,r,i,s){e.push(i?s.replace(RH,"$1"):r||n)}),e}),MH=kH,Kw=Mu,FH=dA,DH=sr,$H=Hy,BH=1/0,Zw=Kw?Kw.prototype:void 0,Qw=Zw?Zw.toString:void 0;function TA(t){if(typeof t=="string")return t;if(DH(t))return FH(t,TA)+"";if($H(t))return Qw?Qw.call(t):"";var e=t+"";return e=="0"&&1/t==-BH?"-0":e}var NH=TA,LH=NH;function UH(t){return t==null?"":LH(t)}var jH=UH,zH=sr,HH=Gy,GH=MH,WH=jH;function VH(t,e){return zH(t)?t:HH(t,e)?[t]:GH(WH(t))}var AA=VH,XH=Hy,YH=1/0;function qH(t){if(typeof t=="string"||XH(t))return t;var e=t+"";return e=="0"&&1/t==-YH?"-0":e}var af=qH,KH=AA,ZH=af;function QH(t,e){e=KH(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[ZH(e[n++])];return n&&n==r?t:void 0}var PA=QH,JH=PA;function e9(t,e,n){var r=t==null?void 0:JH(t,e);return r===void 0?n:r}var t9=e9;function n9(t,e){return t!=null&&e in Object(t)}var r9=n9,i9=AA,s9=rA,o9=sr,a9=iA,l9=My,u9=af;function c9(t,e,n){e=i9(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=u9(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&l9(i)&&a9(o,i)&&(o9(t)||s9(t)))}var h9=c9,d9=r9,f9=h9;function p9(t,e){return t!=null&&f9(t,e,d9)}var m9=p9,g9=_A,v9=t9,y9=m9,b9=Gy,x9=EA,w9=SA,_9=af,E9=1,S9=2;function C9(t,e){return b9(t)&&x9(e)?w9(_9(t),e):function(n){var r=v9(n,t);return r===void 0&&r===e?y9(n,t):g9(e,r,E9|S9)}}var T9=C9;function A9(t){return function(e){return e==null?void 0:e[t]}}var P9=A9,O9=PA;function I9(t){return function(e){return O9(e,t)}}var R9=I9,k9=P9,M9=R9,F9=Gy,D9=af;function $9(t){return F9(t)?k9(D9(t)):M9(t)}var B9=$9,N9=fH,L9=T9,U9=cA,j9=sr,z9=B9;function H9(t){return typeof t=="function"?t:t==null?U9:typeof t=="object"?j9(t)?L9(t[0],t[1]):N9(t):z9(t)}var G9=H9,W9=ef;function V9(t,e){return function(n,r){if(n==null)return n;if(!W9(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var X9=V9,Y9=uA,q9=X9,K9=q9(Y9),Z9=K9,Q9=Z9,J9=ef;function eG(t,e){var n=-1,r=J9(t)?Array(t.length):[];return Q9(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var tG=eG,nG=dA,rG=G9,iG=tG,sG=sr;function oG(t,e){var n=sG(t)?nG:iG;return n(t,rG(e))}var aG=oG;Object.defineProperty(ku,"__esModule",{value:!0});ku.flattenNames=void 0;var lG=FL,uG=lf(lG),cG=$y,hG=lf(cG),dG=z8,fG=lf(dG),pG=aG,mG=lf(pG);function lf(t){return t&&t.__esModule?t:{default:t}}var gG=ku.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,mG.default)(e,function(r){Array.isArray(r)?t(r).map(function(i){return n.push(i)}):(0,fG.default)(r)?(0,hG.default)(r,function(i,s){i===!0&&n.push(s),n.push(s+"-"+i)}):(0,uG.default)(r)&&n.push(r)}),n};ku.default=gG;var Du={};function vG(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var yG=vG,bG=Is,xG=function(){try{var t=bG(Object,"defineProperty");return t({},"",{}),t}catch{}}(),wG=xG,Jw=wG;function _G(t,e,n){e=="__proto__"&&Jw?Jw(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var OA=_G,EG=OA,SG=Ny,CG=Object.prototype,TG=CG.hasOwnProperty;function AG(t,e,n){var r=t[e];(!(TG.call(t,e)&&SG(r,n))||n===void 0&&!(e in t))&&EG(t,e,n)}var IA=AG,PG=IA,OG=OA;function IG(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?OG(n,a,l):PG(n,a,l)}return n}var uf=IG,RG=uf,kG=Fu;function MG(t,e){return t&&RG(e,kG(e),t)}var FG=MG;function DG(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var $G=DG,BG=fa,NG=Dy,LG=$G,UG=Object.prototype,jG=UG.hasOwnProperty;function zG(t){if(!BG(t))return LG(t);var e=NG(t),n=[];for(var r in t)r=="constructor"&&(e||!jG.call(t,r))||n.push(r);return n}var HG=zG,GG=oA,WG=HG,VG=ef;function XG(t){return VG(t)?GG(t,!0):WG(t)}var Vy=XG,YG=uf,qG=Vy;function KG(t,e){return t&&YG(e,qG(e),t)}var ZG=KG,ed={},QG={get exports(){return ed},set exports(t){ed=t}};(function(t,e){var n=Cr,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var h=u.length,d=a?a(h):new u.constructor(h);return u.copy(d),d}t.exports=l})(QG,ed);function JG(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var eW=JG,tW=uf,nW=zy;function rW(t,e){return tW(t,nW(t),e)}var iW=rW,sW=gA,oW=By,aW=zy,lW=yA,uW=Object.getOwnPropertySymbols,cW=uW?function(t){for(var e=[];t;)sW(e,aW(t)),t=oW(t);return e}:lW,RA=cW,hW=uf,dW=RA;function fW(t,e){return hW(t,dW(t),e)}var pW=fW,mW=vA,gW=RA,vW=Vy;function yW(t){return mW(t,vW,gW)}var bW=yW,xW=Object.prototype,wW=xW.hasOwnProperty;function _W(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&wW.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var EW=_W,e_=mA;function SW(t){var e=new t.constructor(t.byteLength);return new e_(e).set(new e_(t)),e}var Xy=SW,CW=Xy;function TW(t,e){var n=e?CW(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var AW=TW,PW=/\w*$/;function OW(t){var e=new t.constructor(t.source,PW.exec(t));return e.lastIndex=t.lastIndex,e}var IW=OW,t_=Mu,n_=t_?t_.prototype:void 0,r_=n_?n_.valueOf:void 0;function RW(t){return r_?Object(r_.call(t)):{}}var kW=RW,MW=Xy;function FW(t,e){var n=e?MW(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var DW=FW,$W=Xy,BW=AW,NW=IW,LW=kW,UW=DW,jW="[object Boolean]",zW="[object Date]",HW="[object Map]",GW="[object Number]",WW="[object RegExp]",VW="[object Set]",XW="[object String]",YW="[object Symbol]",qW="[object ArrayBuffer]",KW="[object DataView]",ZW="[object Float32Array]",QW="[object Float64Array]",JW="[object Int8Array]",eV="[object Int16Array]",tV="[object Int32Array]",nV="[object Uint8Array]",rV="[object Uint8ClampedArray]",iV="[object Uint16Array]",sV="[object Uint32Array]";function oV(t,e,n){var r=t.constructor;switch(e){case qW:return $W(t);case jW:case zW:return new r(+t);case KW:return BW(t,n);case ZW:case QW:case JW:case eV:case tV:case nV:case rV:case iV:case sV:return UW(t,n);case HW:return new r;case GW:case XW:return new r(t);case WW:return NW(t);case VW:return new r;case YW:return LW(t)}}var aV=oV,lV=fa,i_=Object.create,uV=function(){function t(){}return function(e){if(!lV(e))return{};if(i_)return i_(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),cV=uV,hV=cV,dV=By,fV=Dy;function pV(t){return typeof t.constructor=="function"&&!fV(t)?hV(dV(t)):{}}var mV=pV,gV=of,vV=Qr,yV="[object Map]";function bV(t){return vV(t)&&gV(t)==yV}var xV=bV,wV=xV,_V=Fy,s_=qo,o_=s_&&s_.isMap,EV=o_?_V(o_):wV,SV=EV,CV=of,TV=Qr,AV="[object Set]";function PV(t){return TV(t)&&CV(t)==AV}var OV=PV,IV=OV,RV=Fy,a_=qo,l_=a_&&a_.isSet,kV=l_?RV(l_):IV,MV=kV,FV=jy,DV=yG,$V=IA,BV=FG,NV=ZG,LV=ed,UV=eW,jV=iW,zV=pW,HV=bA,GV=bW,WV=of,VV=EW,XV=aV,YV=mV,qV=sr,KV=Yo,ZV=SV,QV=fa,JV=MV,eX=Fu,tX=Vy,nX=1,rX=2,iX=4,kA="[object Arguments]",sX="[object Array]",oX="[object Boolean]",aX="[object Date]",lX="[object Error]",MA="[object Function]",uX="[object GeneratorFunction]",cX="[object Map]",hX="[object Number]",FA="[object Object]",dX="[object RegExp]",fX="[object Set]",pX="[object String]",mX="[object Symbol]",gX="[object WeakMap]",vX="[object ArrayBuffer]",yX="[object DataView]",bX="[object Float32Array]",xX="[object Float64Array]",wX="[object Int8Array]",_X="[object Int16Array]",EX="[object Int32Array]",SX="[object Uint8Array]",CX="[object Uint8ClampedArray]",TX="[object Uint16Array]",AX="[object Uint32Array]",ke={};ke[kA]=ke[sX]=ke[vX]=ke[yX]=ke[oX]=ke[aX]=ke[bX]=ke[xX]=ke[wX]=ke[_X]=ke[EX]=ke[cX]=ke[hX]=ke[FA]=ke[dX]=ke[fX]=ke[pX]=ke[mX]=ke[SX]=ke[CX]=ke[TX]=ke[AX]=!0;ke[lX]=ke[MA]=ke[gX]=!1;function lh(t,e,n,r,i,s){var o,a=e&nX,l=e&rX,u=e&iX;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!QV(t))return t;var c=qV(t);if(c){if(o=VV(t),!a)return UV(t,o)}else{var h=WV(t),d=h==MA||h==uX;if(KV(t))return LV(t,a);if(h==FA||h==kA||d&&!i){if(o=l||d?{}:YV(t),!a)return l?zV(t,NV(o,t)):jV(t,BV(o,t))}else{if(!ke[h])return i?t:{};o=XV(t,h,a)}}s||(s=new FV);var f=s.get(t);if(f)return f;s.set(t,o),JV(t)?t.forEach(function(g){o.add(lh(g,e,n,g,t,s))}):ZV(t)&&t.forEach(function(g,v){o.set(v,lh(g,e,n,v,t,s))});var p=u?l?GV:HV:l?tX:eX,m=c?void 0:p(t);return DV(m||t,function(g,v){m&&(v=g,g=t[v]),$V(o,v,lh(g,e,n,v,t,s))}),o}var PX=lh,OX=PX,IX=1,RX=4;function kX(t){return OX(t,IX|RX)}var MX=kX;Object.defineProperty(Du,"__esModule",{value:!0});Du.mergeClasses=void 0;var FX=$y,DX=DA(FX),$X=MX,BX=DA($X),NX=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function DA(t){return t&&t.__esModule?t:{default:t}}var LX=Du.mergeClasses=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,BX.default)(e.default)||{};return n.map(function(i){var s=e[i];return s&&(0,DX.default)(s,function(o,a){r[a]||(r[a]={}),r[a]=NX({},r[a],s[a])}),i}),r};Du.default=LX;var $u={};Object.defineProperty($u,"__esModule",{value:!0});$u.autoprefix=void 0;var UX=$y,u_=zX(UX),jX=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function zX(t){return t&&t.__esModule?t:{default:t}}var HX={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var n=e&&e.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(e,n){var r=n[e];return r||{extend:e}}},GX=$u.autoprefix=function(e){var n={};return(0,u_.default)(e,function(r,i){var s={};(0,u_.default)(r,function(o,a){var l=HX[a];l?s=jX({},s,l(o)):s[a]=o}),n[i]=s}),n};$u.default=GX;var Bu={};Object.defineProperty(Bu,"__esModule",{value:!0});Bu.hover=void 0;var WX=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VX=_,kp=XX(VX);function XX(t){return t&&t.__esModule?t:{default:t}}function YX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c_(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function qX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var KX=Bu.hover=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){qX(i,r);function i(){var s,o,a,l;YX(this,i);for(var u=arguments.length,c=Array(u),h=0;h<u;h++)c[h]=arguments[h];return l=(o=(a=c_(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(c))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return kp.default.createElement(n,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},kp.default.createElement(e,WX({},a.props,a.state)))},o),c_(a,l)}return i}(kp.default.Component)};Bu.default=KX;var Nu={};Object.defineProperty(Nu,"__esModule",{value:!0});Nu.active=void 0;var ZX=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QX=_,Mp=JX(QX);function JX(t){return t&&t.__esModule?t:{default:t}}function eY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h_(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function tY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var nY=Nu.active=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){tY(i,r);function i(){var s,o,a,l;eY(this,i);for(var u=arguments.length,c=Array(u),h=0;h<u;h++)c[h]=arguments[h];return l=(o=(a=h_(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(c))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return Mp.default.createElement(n,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},Mp.default.createElement(e,ZX({},a.props,a.state)))},o),h_(a,l)}return i}(Mp.default.Component)};Nu.default=nY;var Yy={};Object.defineProperty(Yy,"__esModule",{value:!0});var rY=function(e,n){var r={},i=function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[o]=a};return e===0&&i("first-child"),e===n-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),r};Yy.default=rY;Object.defineProperty(En,"__esModule",{value:!0});En.ReactCSS=En.loop=En.handleActive=qy=En.handleHover=En.hover=void 0;var iY=ku,sY=ba(iY),oY=Du,aY=ba(oY),lY=$u,uY=ba(lY),cY=Bu,$A=ba(cY),hY=Nu,dY=ba(hY),fY=Yy,pY=ba(fY);function ba(t){return t&&t.__esModule?t:{default:t}}En.hover=$A.default;var qy=En.handleHover=$A.default;En.handleActive=dY.default;En.loop=pY.default;var mY=En.ReactCSS=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=(0,sY.default)(r),o=(0,aY.default)(e,s);return(0,uY.default)(o)},de=En.default=mY,gY=function(e,n,r,i,s){var o=s.clientWidth,a=s.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,u=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=l-(s.getBoundingClientRect().left+window.pageXOffset),h=u-(s.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var d=void 0;if(h<0?d=0:h>a?d=1:d=Math.round(h*100/a)/100,n.a!==d)return{h:n.h,s:n.s,l:n.l,a:d,source:"rgb"}}else{var f=void 0;if(c<0?f=0:c>o?f=1:f=Math.round(c*100/o)/100,i!==f)return{h:n.h,s:n.s,l:n.l,a:f,source:"rgb"}}return null},Fp={},vY=function(e,n,r,i){if(typeof document>"u"&&!i)return null;var s=i?new i:document.createElement("canvas");s.width=r*2,s.height=r*2;var o=s.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,s.width,s.height),o.fillStyle=n,o.fillRect(0,0,r,r),o.translate(r,r),o.fillRect(0,0,r,r),s.toDataURL()):null},yY=function(e,n,r,i){var s=e+"-"+n+"-"+r+(i?"-server":"");if(Fp[s])return Fp[s];var o=vY(e,n,r,i);return Fp[s]=o,o},d_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xa=function(e){var n=e.white,r=e.grey,i=e.size,s=e.renderers,o=e.borderRadius,a=e.boxShadow,l=e.children,u=de({default:{grid:{borderRadius:o,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+yY(n,r,i,s.canvas)+") center left"}}});return _.isValidElement(l)?w.cloneElement(l,d_({},l.props,{style:d_({},l.props.style,u.grid)})):w.createElement("div",{style:u.grid})};xa.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var bY=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xY=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function wY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f_(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function _Y(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ky=function(t){_Y(e,t);function e(){var n,r,i,s;wY(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=f_(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(u){var c=gY(u,i.props.hsl,i.props.direction,i.props.a,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),f_(i,s)}return xY(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,s=de({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:bY({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return w.createElement("div",{style:s.alpha},w.createElement("div",{style:s.checkboard},w.createElement(xa,{renderers:this.props.renderers})),w.createElement("div",{style:s.gradient}),w.createElement("div",{style:s.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},w.createElement("div",{style:s.pointer},this.props.pointer?w.createElement(this.props.pointer,this.props):w.createElement("div",{style:s.slider}))))}}]),e}(_.PureComponent||_.Component),EY=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function SY(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TY(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function AY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var PY=1,BA=38,OY=40,IY=[BA,OY],RY=function(e){return IY.indexOf(e)>-1},kY=function(e){return Number(String(e).replace(/%/g,""))},MY=1,xe=function(t){AY(e,t);function e(n){CY(this,e);var r=TY(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var s=kY(i.target.value);if(!isNaN(s)&&RY(i.keyCode)){var o=r.getArrowOffset(),a=i.keyCode===BA?s+o:s-o;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var s=Math.round(r.props.value+i.movementX);s>=0&&s<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(s),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+MY++,r}return EY(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return SY({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||PY}},{key:"setUpdatedValue",value:function(r,i){var s=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(s,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=de({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return w.createElement("div",{style:i.wrap},w.createElement("input",{id:this.inputId,style:i.input,ref:function(o){return r.input=o},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?w.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(_.PureComponent||_.Component),FY=function(e,n,r,i){var s=i.clientWidth,o=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(i.getBoundingClientRect().left+window.pageXOffset),c=l-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var h=void 0;if(c<0)h=359;else if(c>o)h=0;else{var d=-(c*100/o)+100;h=360*d/100}if(r.h!==h)return{h,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var f=void 0;if(u<0)f=0;else if(u>s)f=359;else{var p=u*100/s;f=360*p/100}if(r.h!==f)return{h:f,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},DY=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function $Y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p_(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function BY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var wa=function(t){BY(e,t);function e(){var n,r,i,s;$Y(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=p_(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(u){var c=FY(u,i.props.direction,i.props.hsl,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),p_(i,s)}return DY(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,s=i===void 0?"horizontal":i,o=de({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:s==="vertical"});return w.createElement("div",{style:o.hue},w.createElement("div",{className:"hue-"+s,style:o.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},w.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),w.createElement("div",{style:o.pointer},this.props.pointer?w.createElement(this.props.pointer,this.props):w.createElement("div",{style:o.slider}))))}}]),e}(_.PureComponent||_.Component),Lu=function(e){var n=e.zDepth,r=e.radius,i=e.background,s=e.children,o=e.styles,a=o===void 0?{}:o,l=de(Xt({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":n===1});return w.createElement("div",{style:l.wrap},w.createElement("div",{style:l.bg}),w.createElement("div",{style:l.content},s))};Lu.propTypes={background:P.string,zDepth:P.oneOf([0,1,2,3,4,5]),radius:P.number,styles:P.object};Lu.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var NY=function(e,n,r){var i=r.getBoundingClientRect(),s=i.width,o=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(r.getBoundingClientRect().left+window.pageXOffset),c=l-(r.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>s&&(u=s),c<0?c=0:c>o&&(c=o);var h=u/s,d=1-c/o;return{h:n.h,s:h,v:d,a:n.a,source:"hsv"}},LY=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function UY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jY(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function zY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var cf=function(t){zY(e,t);function e(n){UY(this,e);var r=jY(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,NY(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var s=r.getContainerRenderWindow();s.addEventListener("mousemove",r.handleChange),s.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=sB(function(i,s,o){i(s,o)},50),r}return LY(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},s=i.color,o=i.white,a=i.black,l=i.pointer,u=i.circle,c=de({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:s,white:o,black:a,pointer:l,circle:u}},{custom:!!this.props.style});return w.createElement("div",{style:c.color,ref:function(d){return r.container=d},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},w.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),w.createElement("div",{style:c.white,className:"saturation-white"},w.createElement("div",{style:c.black,className:"saturation-black"}),w.createElement("div",{style:c.pointer},this.props.pointer?w.createElement(this.props.pointer,this.props):w.createElement("div",{style:c.circle}))))}}]),e}(_.PureComponent||_.Component);function td(t){return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}var HY=/^\s+/,GY=/\s+$/;function ie(t,e){if(t=t||"",e=e||{},t instanceof ie)return t;if(!(this instanceof ie))return new ie(t,e);var n=WY(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}ie.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,s,o,a;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(e){return this._a=NA(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=g_(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=g_(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=m_(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=m_(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return v_(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return qY(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(ze(this._r,255)*100)+"%",g:Math.round(ze(this._g,255)*100)+"%",b:Math.round(ze(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(ze(this._r,255)*100)+"%, "+Math.round(ze(this._g,255)*100)+"%, "+Math.round(ze(this._b,255)*100)+"%)":"rgba("+Math.round(ze(this._r,255)*100)+"%, "+Math.round(ze(this._g,255)*100)+"%, "+Math.round(ze(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:aq[v_(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+y_(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=ie(e);r="#"+y_(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return ie(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(JY,arguments)},brighten:function(){return this._applyModification(eq,arguments)},darken:function(){return this._applyModification(tq,arguments)},desaturate:function(){return this._applyModification(KY,arguments)},saturate:function(){return this._applyModification(ZY,arguments)},greyscale:function(){return this._applyModification(QY,arguments)},spin:function(){return this._applyModification(nq,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(sq,arguments)},complement:function(){return this._applyCombination(rq,arguments)},monochromatic:function(){return this._applyCombination(oq,arguments)},splitcomplement:function(){return this._applyCombination(iq,arguments)},triad:function(){return this._applyCombination(b_,[3])},tetrad:function(){return this._applyCombination(b_,[4])}};ie.fromRatio=function(t,e){if(td(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=tl(t[r]));t=n}return ie(t,e)};function WY(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,o=!1,a=!1;return typeof t=="string"&&(t=hq(t)),td(t)=="object"&&(Ar(t.r)&&Ar(t.g)&&Ar(t.b)?(e=VY(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Ar(t.h)&&Ar(t.s)&&Ar(t.v)?(r=tl(t.s),i=tl(t.v),e=YY(t.h,r,i),o=!0,a="hsv"):Ar(t.h)&&Ar(t.s)&&Ar(t.l)&&(r=tl(t.s),s=tl(t.l),e=XY(t.h,r,s),o=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=NA(n),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function VY(t,e,n){return{r:ze(t,255)*255,g:ze(e,255)*255,b:ze(n,255)*255}}function m_(t,e,n){t=ze(t,255),e=ze(e,255),n=ze(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=(r+i)/2;if(r==i)s=o=0;else{var l=r-i;switch(o=a>.5?l/(2-r-i):l/(r+i),r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,l:a}}function XY(t,e,n){var r,i,s;t=ze(t,360),e=ze(e,100),n=ze(n,100);function o(u,c,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?u+(c-u)*6*h:h<1/2?c:h<2/3?u+(c-u)*(2/3-h)*6:u}if(e===0)r=i=s=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=o(l,a,t+1/3),i=o(l,a,t),s=o(l,a,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function g_(t,e,n){t=ze(t,255),e=ze(e,255),n=ze(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=r,l=r-i;if(o=r===0?0:l/r,r==i)s=0;else{switch(r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,v:a}}function YY(t,e,n){t=ze(t,360)*6,e=ze(e,100),n=ze(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),o=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,u=[n,o,s,s,a,n][l],c=[a,n,n,o,s,s][l],h=[s,s,a,n,n,o][l];return{r:u*255,g:c*255,b:h*255}}function v_(t,e,n,r){var i=[Vn(Math.round(t).toString(16)),Vn(Math.round(e).toString(16)),Vn(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function qY(t,e,n,r,i){var s=[Vn(Math.round(t).toString(16)),Vn(Math.round(e).toString(16)),Vn(Math.round(n).toString(16)),Vn(LA(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function y_(t,e,n,r){var i=[Vn(LA(r)),Vn(Math.round(t).toString(16)),Vn(Math.round(e).toString(16)),Vn(Math.round(n).toString(16))];return i.join("")}ie.equals=function(t,e){return!t||!e?!1:ie(t).toRgbString()==ie(e).toRgbString()};ie.random=function(){return ie.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function KY(t,e){e=e===0?0:e||10;var n=ie(t).toHsl();return n.s-=e/100,n.s=hf(n.s),ie(n)}function ZY(t,e){e=e===0?0:e||10;var n=ie(t).toHsl();return n.s+=e/100,n.s=hf(n.s),ie(n)}function QY(t){return ie(t).desaturate(100)}function JY(t,e){e=e===0?0:e||10;var n=ie(t).toHsl();return n.l+=e/100,n.l=hf(n.l),ie(n)}function eq(t,e){e=e===0?0:e||10;var n=ie(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),ie(n)}function tq(t,e){e=e===0?0:e||10;var n=ie(t).toHsl();return n.l-=e/100,n.l=hf(n.l),ie(n)}function nq(t,e){var n=ie(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,ie(n)}function rq(t){var e=ie(t).toHsl();return e.h=(e.h+180)%360,ie(e)}function b_(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=ie(t).toHsl(),r=[ie(t)],i=360/e,s=1;s<e;s++)r.push(ie({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function iq(t){var e=ie(t).toHsl(),n=e.h;return[ie(t),ie({h:(n+72)%360,s:e.s,l:e.l}),ie({h:(n+216)%360,s:e.s,l:e.l})]}function sq(t,e,n){e=e||6,n=n||30;var r=ie(t).toHsl(),i=360/n,s=[ie(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(ie(r));return s}function oq(t,e){e=e||6;for(var n=ie(t).toHsv(),r=n.h,i=n.s,s=n.v,o=[],a=1/e;e--;)o.push(ie({h:r,s:i,v:s})),s=(s+a)%1;return o}ie.mix=function(t,e,n){n=n===0?0:n||50;var r=ie(t).toRgb(),i=ie(e).toRgb(),s=n/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return ie(o)};ie.readability=function(t,e){var n=ie(t),r=ie(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};ie.isReadable=function(t,e,n){var r=ie.readability(t,e),i,s;switch(s=!1,i=dq(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};ie.mostReadable=function(t,e,n){var r=null,i=0,s,o,a,l;n=n||{},o=n.includeFallbackColors,a=n.level,l=n.size;for(var u=0;u<e.length;u++)s=ie.readability(t,e[u]),s>i&&(i=s,r=ie(e[u]));return ie.isReadable(t,r,{level:a,size:l})||!o?r:(n.includeFallbackColors=!1,ie.mostReadable(t,["#fff","#000"],n))};var a0=ie.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},aq=ie.hexNames=lq(a0);function lq(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function NA(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function ze(t,e){uq(t)&&(t="100%");var n=cq(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function hf(t){return Math.min(1,Math.max(0,t))}function Kt(t){return parseInt(t,16)}function uq(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function cq(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Vn(t){return t.length==1?"0"+t:""+t}function tl(t){return t<=1&&(t=t*100+"%"),t}function LA(t){return Math.round(parseFloat(t)*255).toString(16)}function x_(t){return Kt(t)/255}var Ln=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Ar(t){return!!Ln.CSS_UNIT.exec(t)}function hq(t){t=t.replace(HY,"").replace(GY,"").toLowerCase();var e=!1;if(a0[t])t=a0[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Ln.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=Ln.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Ln.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=Ln.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Ln.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=Ln.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Ln.hex8.exec(t))?{r:Kt(n[1]),g:Kt(n[2]),b:Kt(n[3]),a:x_(n[4]),format:e?"name":"hex8"}:(n=Ln.hex6.exec(t))?{r:Kt(n[1]),g:Kt(n[2]),b:Kt(n[3]),format:e?"name":"hex"}:(n=Ln.hex4.exec(t))?{r:Kt(n[1]+""+n[1]),g:Kt(n[2]+""+n[2]),b:Kt(n[3]+""+n[3]),a:x_(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=Ln.hex3.exec(t))?{r:Kt(n[1]+""+n[1]),g:Kt(n[2]+""+n[2]),b:Kt(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function dq(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var w_=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return et(n,function(s){if(e[s]&&(r+=1,isNaN(e[s])||(i+=1),s==="s"||s==="l")){var o=/^\d+%$/;o.test(e[s])&&(i+=1)}}),r===i?e:!1},nl=function(e,n){var r=e.hex?ie(e.hex):ie(e),i=r.toHsl(),s=r.toHsv(),o=r.toRgb(),a=r.toHex();i.s===0&&(i.h=n||0,s.h=n||0);var l=a==="000000"&&o.a===0;return{hsl:i,hex:l?"transparent":"#"+a,rgb:o,hsv:s,oldHue:e.h||n||i.h,source:e.source}},ki=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&ie(e).isValid()},Zy=function(e){if(!e)return"#fff";var n=nl(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},Dp=function(e,n){var r=e.replace("","");return ie(n+" ("+r+")")._ok},Ba=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fq=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function pq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mq(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function gq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Yt=function(e){var n=function(r){gq(i,r);function i(s){pq(this,i);var o=mq(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return o.handleChange=function(a,l){var u=w_(a);if(u){var c=nl(a,a.h||o.state.oldHue);o.setState(c),o.props.onChangeComplete&&o.debounce(o.props.onChangeComplete,c,l),o.props.onChange&&o.props.onChange(c,l)}},o.handleSwatchHover=function(a,l){var u=w_(a);if(u){var c=nl(a,a.h||o.state.oldHue);o.props.onSwatchHover&&o.props.onSwatchHover(c,l)}},o.state=Ba({},nl(s.color,0)),o.debounce=MT(function(a,l,u){a(l,u)},100),o}return fq(i,[{key:"render",value:function(){var o={};return this.props.onSwatchHover&&(o.onSwatchHover=this.handleSwatchHover),w.createElement(e,Ba({},this.props,this.state,{onChange:this.handleChange},o))}}],[{key:"getDerivedStateFromProps",value:function(o,a){return Ba({},nl(o.color,a.oldHue))}}]),i}(_.PureComponent||_.Component);return n.propTypes=Ba({},e.propTypes),n.defaultProps=Ba({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},vq=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yq=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function bq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function __(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function xq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var wq=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){xq(i,r);function i(){var s,o,a,l;bq(this,i);for(var u=arguments.length,c=Array(u),h=0;h<u;h++)c[h]=arguments[h];return l=(o=(a=__(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(c))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},o),__(a,l)}return yq(i,[{key:"render",value:function(){return w.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},w.createElement(e,vq({},this.props,this.state)))}}]),i}(w.Component)},E_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_q=13,Eq=function(e){var n=e.color,r=e.style,i=e.onClick,s=i===void 0?function(){}:i,o=e.onHover,a=e.title,l=a===void 0?n:a,u=e.children,c=e.focus,h=e.focusStyle,d=h===void 0?{}:h,f=n==="transparent",p=de({default:{swatch:E_({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,c?d:{})}}),m=function(x){return s(n,x)},g=function(x){return x.keyCode===_q&&s(n,x)},v=function(x){return o(n,x)},b={};return o&&(b.onMouseOver=v),w.createElement("div",E_({style:p.swatch,onClick:m,title:l,tabIndex:0,onKeyDown:g},b),u,f&&w.createElement(xa,{borderRadius:p.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const Rs=wq(Eq);var Sq=function(e){var n=e.direction,r=de({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return w.createElement("div",{style:r.picker})},Cq=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UA=function(e){var n=e.rgb,r=e.hsl,i=e.width,s=e.height,o=e.onChange,a=e.direction,l=e.style,u=e.renderers,c=e.pointer,h=e.className,d=h===void 0?"":h,f=de({default:{picker:{position:"relative",width:i,height:s},alpha:{radius:"2px",style:l}}});return w.createElement("div",{style:f.picker,className:"alpha-picker "+d},w.createElement(Ky,Cq({},f.alpha,{rgb:n,hsl:r,pointer:c,renderers:u,onChange:o,direction:a})))};UA.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:Sq};Yt(UA);var Tq=function(e){var n=e.colors,r=e.onClick,i=e.onSwatchHover,s=de({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return w.createElement("div",{style:s.swatches},ve(n,function(o){return w.createElement(Rs,{key:o,color:o,style:s.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+o}})}),w.createElement("div",{style:s.clear}))},Qy=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,h=c===void 0?"":c,d=i==="transparent",f=function(g,v){ki(g)&&n({hex:g,source:"hex"},v)},p=de(Xt({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:Zy(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},u),{"hide-triangle":a==="hide"});return w.createElement("div",{style:p.card,className:"block-picker "+h},w.createElement("div",{style:p.triangle}),w.createElement("div",{style:p.head},d&&w.createElement(xa,{borderRadius:"6px 6px 0 0"}),w.createElement("div",{style:p.label},i)),w.createElement("div",{style:p.body},w.createElement(Tq,{colors:s,onClick:f,onSwatchHover:r}),w.createElement(xe,{style:{input:p.input},value:i,onChange:f})))};Qy.propTypes={width:P.oneOfType([P.string,P.number]),colors:P.arrayOf(P.string),triangle:P.oneOf(["top","hide"]),styles:P.object};Qy.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};Yt(Qy);var Hs={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},Gs={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},Ws={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},Vs={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},Xs={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},Ys={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},qs={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},Ks={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},Zs={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},rl={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},Qs={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},Js={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},eo={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},to={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},no={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},ro={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},io={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},so={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},jA=function(e){var n=e.color,r=e.onClick,i=e.onSwatchHover,s=e.hover,o=e.active,a=e.circleSize,l=e.circleSpacing,u=de({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:s,active:o});return w.createElement("div",{style:u.swatch},w.createElement(Rs,{style:u.Swatch,color:n,onClick:r,onHover:i,focusStyle:{boxShadow:u.Swatch.boxShadow+", 0 0 5px "+n}}))};jA.defaultProps={circleSize:28,circleSpacing:14};const Aq=qy(jA);var Jy=function(e){var n=e.width,r=e.onChange,i=e.onSwatchHover,s=e.colors,o=e.hex,a=e.circleSize,l=e.styles,u=l===void 0?{}:l,c=e.circleSpacing,h=e.className,d=h===void 0?"":h,f=de(Xt({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-c,marginBottom:-c}}},u)),p=function(g,v){return r({hex:g,source:"hex"},v)};return w.createElement("div",{style:f.card,className:"circle-picker "+d},ve(s,function(m){return w.createElement(Aq,{key:m,color:m,onClick:p,onSwatchHover:i,active:o===m.toLowerCase(),circleSize:a,circleSpacing:c})}))};Jy.propTypes={width:P.oneOfType([P.string,P.number]),circleSize:P.number,circleSpacing:P.number,styles:P.object};Jy.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Hs[500],Gs[500],Ws[500],Vs[500],Xs[500],Ys[500],qs[500],Ks[500],Zs[500],rl[500],Qs[500],Js[500],eo[500],to[500],no[500],ro[500],io[500],so[500]],styles:{}};Yt(Jy);var zA={};Object.defineProperty(zA,"__esModule",{value:!0});var S_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pq=_,C_=Oq(Pq);function Oq(t){return t&&t.__esModule?t:{default:t}}function Iq(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var yc=24,Rq=zA.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?yc:r,s=t.height,o=s===void 0?yc:s,a=t.style,l=a===void 0?{}:a,u=Iq(t,["fill","width","height","style"]);return C_.default.createElement("svg",S_({viewBox:"0 0 "+yc+" "+yc,style:S_({fill:n,width:i,height:o},l)},u),C_.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},kq=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Mq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fq(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Dq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var HA=function(t){Dq(e,t);function e(n){Mq(this,e);var r=Fq(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,s){i.hex?ki(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},s):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},s):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},s)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(gr(i.s)?r.props.hsl.s:i.s),l:Number(gr(i.l)?r.props.hsl.l:i.l),source:"hsl"},s))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return kq(e,[{key:"render",value:function(){var r=this,i=de({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),s=void 0;return this.state.view==="hex"?s=w.createElement("div",{style:i.fields,className:"flexbox-fix"},w.createElement("div",{style:i.field},w.createElement(xe,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?s=w.createElement("div",{style:i.fields,className:"flexbox-fix"},w.createElement("div",{style:i.field},w.createElement(xe,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),w.createElement("div",{style:i.field},w.createElement(xe,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),w.createElement("div",{style:i.field},w.createElement(xe,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),w.createElement("div",{style:i.alpha},w.createElement(xe,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(s=w.createElement("div",{style:i.fields,className:"flexbox-fix"},w.createElement("div",{style:i.field},w.createElement(xe,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),w.createElement("div",{style:i.field},w.createElement(xe,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),w.createElement("div",{style:i.field},w.createElement(xe,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),w.createElement("div",{style:i.alpha},w.createElement(xe,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),w.createElement("div",{style:i.wrap,className:"flexbox-fix"},s,w.createElement("div",{style:i.toggle},w.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},w.createElement(Rq,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(w.Component);HA.defaultProps={view:"hex"};var T_=function(){var e=de({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return w.createElement("div",{style:e.picker})},$q=function(){var e=de({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return w.createElement("div",{style:e.picker})},e1=function(e){var n=e.width,r=e.onChange,i=e.disableAlpha,s=e.rgb,o=e.hsl,a=e.hsv,l=e.hex,u=e.renderers,c=e.styles,h=c===void 0?{}:c,d=e.className,f=d===void 0?"":d,p=e.defaultView,m=de(Xt({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+s.r+", "+s.g+", "+s.b+", "+s.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},h),{disableAlpha:i});return w.createElement("div",{style:m.picker,className:"chrome-picker "+f},w.createElement("div",{style:m.saturation},w.createElement(cf,{style:m.Saturation,hsl:o,hsv:a,pointer:$q,onChange:r})),w.createElement("div",{style:m.body},w.createElement("div",{style:m.controls,className:"flexbox-fix"},w.createElement("div",{style:m.color},w.createElement("div",{style:m.swatch},w.createElement("div",{style:m.active}),w.createElement(xa,{renderers:u}))),w.createElement("div",{style:m.toggles},w.createElement("div",{style:m.hue},w.createElement(wa,{style:m.Hue,hsl:o,pointer:T_,onChange:r})),w.createElement("div",{style:m.alpha},w.createElement(Ky,{style:m.Alpha,rgb:s,hsl:o,pointer:T_,renderers:u,onChange:r})))),w.createElement(HA,{rgb:s,hsl:o,hex:l,view:p,onChange:r,disableAlpha:i})))};e1.propTypes={width:P.oneOfType([P.string,P.number]),disableAlpha:P.bool,styles:P.object,defaultView:P.oneOf(["hex","rgb","hsl"])};e1.defaultProps={width:225,disableAlpha:!1,styles:{}};const Bq=Yt(e1);var Nq=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.active,a=de({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:Zy(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return w.createElement(Rs,{style:a.color,color:n,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n}},w.createElement("div",{style:a.dot}))},Lq=function(e){var n=e.hex,r=e.rgb,i=e.onChange,s=de({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(l,u){l.r||l.g||l.b?i({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},u):i({hex:l.hex,source:"hex"},u)};return w.createElement("div",{style:s.fields,className:"flexbox-fix"},w.createElement("div",{style:s.active}),w.createElement(xe,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:n,onChange:o}),w.createElement(xe,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:o}),w.createElement(xe,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:o}),w.createElement(xe,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:o}))},t1=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.colors,s=e.hex,o=e.rgb,a=e.styles,l=a===void 0?{}:a,u=e.className,c=u===void 0?"":u,h=de(Xt({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),d=function(p,m){p.hex?ki(p.hex)&&n({hex:p.hex,source:"hex"},m):n(p,m)};return w.createElement(Lu,{style:h.Compact,styles:l},w.createElement("div",{style:h.compact,className:"compact-picker "+c},w.createElement("div",null,ve(i,function(f){return w.createElement(Nq,{key:f,color:f,active:f.toLowerCase()===s,onClick:d,onSwatchHover:r})}),w.createElement("div",{style:h.clear})),w.createElement(Lq,{hex:s,rgb:o,onChange:d})))};t1.propTypes={colors:P.arrayOf(P.string),styles:P.object};t1.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};Yt(t1);var Uq=function(e){var n=e.hover,r=e.color,i=e.onClick,s=e.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=de({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:n});return w.createElement("div",{style:a.swatch},w.createElement(Rs,{color:r,onClick:i,onHover:s,focusStyle:o}))};const jq=qy(Uq);var n1=function(e){var n=e.width,r=e.colors,i=e.onChange,s=e.onSwatchHover,o=e.triangle,a=e.styles,l=a===void 0?{}:a,u=e.className,c=u===void 0?"":u,h=de(Xt({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":o==="hide","top-left-triangle":o==="top-left","top-right-triangle":o==="top-right","bottom-left-triangle":o==="bottom-left","bottom-right-triangle":o==="bottom-right"}),d=function(p,m){return i({hex:p,source:"hex"},m)};return w.createElement("div",{style:h.card,className:"github-picker "+c},w.createElement("div",{style:h.triangleShadow}),w.createElement("div",{style:h.triangle}),ve(r,function(f){return w.createElement(jq,{color:f,key:f,onClick:d,onSwatchHover:s})}))};n1.propTypes={width:P.oneOfType([P.string,P.number]),colors:P.arrayOf(P.string),triangle:P.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:P.object};n1.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};Yt(n1);var zq=function(e){var n=e.direction,r=de({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return w.createElement("div",{style:r.picker})},Hq=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r1=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.hsl,o=e.direction,a=e.pointer,l=e.styles,u=l===void 0?{}:l,c=e.className,h=c===void 0?"":c,d=de(Xt({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},u)),f=function(m){return i({a:1,h:m.h,l:.5,s:1})};return w.createElement("div",{style:d.picker,className:"hue-picker "+h},w.createElement(wa,Hq({},d.hue,{hsl:s,pointer:a,onChange:f,direction:o})))};r1.propTypes={styles:P.object};r1.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:zq,styles:{}};Yt(r1);var Gq=function(e){var n=e.onChange,r=e.hex,i=e.rgb,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,u=de(Xt({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},o)),c=function(d,f){d.hex?ki(d.hex)&&n({hex:d.hex,source:"hex"},f):(d.r||d.g||d.b)&&n({r:d.r||i.r,g:d.g||i.g,b:d.b||i.b,source:"rgb"},f)};return w.createElement(Lu,{styles:o},w.createElement("div",{style:u.material,className:"material-picker "+l},w.createElement(xe,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"hex",value:r,onChange:c}),w.createElement("div",{style:u.split,className:"flexbox-fix"},w.createElement("div",{style:u.third},w.createElement(xe,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:i.r,onChange:c})),w.createElement("div",{style:u.third},w.createElement(xe,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:i.g,onChange:c})),w.createElement("div",{style:u.third},w.createElement(xe,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:i.b,onChange:c})))))};Yt(Gq);var Wq=function(e){var n=e.onChange,r=e.rgb,i=e.hsv,s=e.hex,o=de({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(u,c){u["#"]?ki(u["#"])&&n({hex:u["#"],source:"hex"},c):u.r||u.g||u.b?n({r:u.r||r.r,g:u.g||r.g,b:u.b||r.b,source:"rgb"},c):(u.h||u.s||u.v)&&n({h:u.h||i.h,s:u.s||i.s,v:u.v||i.v,source:"hsv"},c)};return w.createElement("div",{style:o.fields},w.createElement(xe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(i.h),onChange:a}),w.createElement(xe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:a}),w.createElement(xe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:a}),w.createElement("div",{style:o.divider}),w.createElement(xe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:a}),w.createElement(xe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:a}),w.createElement(xe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:a}),w.createElement("div",{style:o.divider}),w.createElement(xe,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:s.replace("#",""),onChange:a}),w.createElement("div",{style:o.fieldSymbols},w.createElement("div",{style:o.symbol},""),w.createElement("div",{style:o.symbol},"%"),w.createElement("div",{style:o.symbol},"%")))},Vq=function(e){var n=e.hsl,r=de({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return w.createElement("div",{style:r.picker})},Xq=function(){var e=de({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return w.createElement("div",{style:e.pointer},w.createElement("div",{style:e.left},w.createElement("div",{style:e.leftInside})),w.createElement("div",{style:e.right},w.createElement("div",{style:e.rightInside})))},A_=function(e){var n=e.onClick,r=e.label,i=e.children,s=e.active,o=de({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:s});return w.createElement("div",{style:o.button,onClick:n},r||i)},Yq=function(e){var n=e.rgb,r=e.currentColor,i=de({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return w.createElement("div",null,w.createElement("div",{style:i.label},"new"),w.createElement("div",{style:i.swatches},w.createElement("div",{style:i.new}),w.createElement("div",{style:i.current})),w.createElement("div",{style:i.label},"current"))},qq=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Kq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zq(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Qq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i1=function(t){Qq(e,t);function e(n){Kq(this,e);var r=Zq(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:n.hex},r}return qq(e,[{key:"render",value:function(){var r=this.props,i=r.styles,s=i===void 0?{}:i,o=r.className,a=o===void 0?"":o,l=de(Xt({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},s));return w.createElement("div",{style:l.picker,className:"photoshop-picker "+a},w.createElement("div",{style:l.head},this.props.header),w.createElement("div",{style:l.body,className:"flexbox-fix"},w.createElement("div",{style:l.saturation},w.createElement(cf,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:Vq,onChange:this.props.onChange})),w.createElement("div",{style:l.hue},w.createElement(wa,{direction:"vertical",hsl:this.props.hsl,pointer:Xq,onChange:this.props.onChange})),w.createElement("div",{style:l.controls},w.createElement("div",{style:l.top,className:"flexbox-fix"},w.createElement("div",{style:l.previews},w.createElement(Yq,{rgb:this.props.rgb,currentColor:this.state.currentColor})),w.createElement("div",{style:l.actions},w.createElement(A_,{label:"OK",onClick:this.props.onAccept,active:!0}),w.createElement(A_,{label:"Cancel",onClick:this.props.onCancel}),w.createElement(Wq,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(w.Component);i1.propTypes={header:P.string,styles:P.object};i1.defaultProps={header:"Color Picker",styles:{}};Yt(i1);var Jq=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.disableAlpha,a=de({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),l=function(c,h){c.hex?ki(c.hex)&&n({hex:c.hex,source:"hex"},h):c.r||c.g||c.b?n({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,a:r.a,source:"rgb"},h):c.a&&(c.a<0?c.a=0:c.a>100&&(c.a=100),c.a/=100,n({h:i.h,s:i.s,l:i.l,a:c.a,source:"rgb"},h))};return w.createElement("div",{style:a.fields,className:"flexbox-fix"},w.createElement("div",{style:a.double},w.createElement(xe,{style:{input:a.input,label:a.label},label:"hex",value:s.replace("#",""),onChange:l})),w.createElement("div",{style:a.single},w.createElement(xe,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),w.createElement("div",{style:a.single},w.createElement(xe,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),w.createElement("div",{style:a.single},w.createElement(xe,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),w.createElement("div",{style:a.alpha},w.createElement(xe,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},eK=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GA=function(e){var n=e.colors,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=de({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),a=function(u,c){i({hex:u,source:"hex"},c)};return w.createElement("div",{style:o.colors,className:"flexbox-fix"},n.map(function(l){var u=typeof l=="string"?{color:l}:l,c=""+u.color+(u.title||"");return w.createElement("div",{key:c,style:o.swatchWrap},w.createElement(Rs,eK({},u,{style:o.swatch,onClick:a,onHover:s,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+u.color}})))}))};GA.propTypes={colors:P.arrayOf(P.oneOfType([P.string,P.shape({color:P.string,title:P.string})])).isRequired};var tK=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s1=function(e){var n=e.width,r=e.rgb,i=e.hex,s=e.hsv,o=e.hsl,a=e.onChange,l=e.onSwatchHover,u=e.disableAlpha,c=e.presetColors,h=e.renderers,d=e.styles,f=d===void 0?{}:d,p=e.className,m=p===void 0?"":p,g=de(Xt({default:tK({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},f),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},f),{disableAlpha:u});return w.createElement("div",{style:g.picker,className:"sketch-picker "+m},w.createElement("div",{style:g.saturation},w.createElement(cf,{style:g.Saturation,hsl:o,hsv:s,onChange:a})),w.createElement("div",{style:g.controls,className:"flexbox-fix"},w.createElement("div",{style:g.sliders},w.createElement("div",{style:g.hue},w.createElement(wa,{style:g.Hue,hsl:o,onChange:a})),w.createElement("div",{style:g.alpha},w.createElement(Ky,{style:g.Alpha,rgb:r,hsl:o,renderers:h,onChange:a}))),w.createElement("div",{style:g.color},w.createElement(xa,null),w.createElement("div",{style:g.activeColor}))),w.createElement(Jq,{rgb:r,hsl:o,hex:i,onChange:a,disableAlpha:u}),w.createElement(GA,{colors:c,onClick:a,onSwatchHover:l}))};s1.propTypes={disableAlpha:P.bool,width:P.oneOfType([P.string,P.number]),styles:P.object};s1.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};Yt(s1);var Na=function(e){var n=e.hsl,r=e.offset,i=e.onClick,s=i===void 0?function(){}:i,o=e.active,a=e.first,l=e.last,u=de({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:a,last:l}),c=function(d){return s({h:n.h,s:.5,l:r,source:"hsl"},d)};return w.createElement("div",{style:u.swatch,onClick:c})},nK=function(e){var n=e.onClick,r=e.hsl,i=de({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),s=.1;return w.createElement("div",{style:i.swatches},w.createElement("div",{style:i.swatch},w.createElement(Na,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<s&&Math.abs(r.s-.5)<s,onClick:n,first:!0})),w.createElement("div",{style:i.swatch},w.createElement(Na,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<s&&Math.abs(r.s-.5)<s,onClick:n})),w.createElement("div",{style:i.swatch},w.createElement(Na,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<s&&Math.abs(r.s-.5)<s,onClick:n})),w.createElement("div",{style:i.swatch},w.createElement(Na,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<s&&Math.abs(r.s-.5)<s,onClick:n})),w.createElement("div",{style:i.swatch},w.createElement(Na,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<s&&Math.abs(r.s-.5)<s,onClick:n,last:!0})),w.createElement("div",{style:i.clear}))},rK=function(){var e=de({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return w.createElement("div",{style:e.picker})},o1=function(e){var n=e.hsl,r=e.onChange,i=e.pointer,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,u=de(Xt({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},o));return w.createElement("div",{style:u.wrap||{},className:"slider-picker "+l},w.createElement("div",{style:u.hue},w.createElement(wa,{style:u.Hue,hsl:n,pointer:i,onChange:r})),w.createElement("div",{style:u.swatches},w.createElement(nK,{hsl:n,onClick:r})))};o1.propTypes={styles:P.object};o1.defaultProps={pointer:rK,styles:{}};Yt(o1);var WA={};Object.defineProperty(WA,"__esModule",{value:!0});var P_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iK=_,O_=sK(iK);function sK(t){return t&&t.__esModule?t:{default:t}}function oK(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var bc=24,aK=WA.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?bc:r,s=t.height,o=s===void 0?bc:s,a=t.style,l=a===void 0?{}:a,u=oK(t,["fill","width","height","style"]);return O_.default.createElement("svg",P_({viewBox:"0 0 "+bc+" "+bc,style:P_({fill:n,width:i,height:o},l)},u),O_.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},lK=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.first,a=e.last,l=e.active,u=de({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:Zy(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:o,last:a,active:l,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return w.createElement(Rs,{color:n,style:u.color,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n}},w.createElement("div",{style:u.check},w.createElement(aK,null)))},uK=function(e){var n=e.onClick,r=e.onSwatchHover,i=e.group,s=e.active,o=de({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return w.createElement("div",{style:o.group},ve(i,function(a,l){return w.createElement(lK,{key:a,color:a,active:a.toLowerCase()===s,first:l===0,last:l===i.length-1,onClick:n,onSwatchHover:r})}))},a1=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.onSwatchHover,o=e.colors,a=e.hex,l=e.styles,u=l===void 0?{}:l,c=e.className,h=c===void 0?"":c,d=de(Xt({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},u)),f=function(m,g){return i({hex:m,source:"hex"},g)};return w.createElement("div",{style:d.picker,className:"swatches-picker "+h},w.createElement(Lu,null,w.createElement("div",{style:d.overflow},w.createElement("div",{style:d.body},ve(o,function(p){return w.createElement(uK,{key:p.toString(),group:p,active:a,onClick:f,onSwatchHover:s})}),w.createElement("div",{style:d.clear})))))};a1.propTypes={width:P.oneOfType([P.string,P.number]),height:P.oneOfType([P.string,P.number]),colors:P.arrayOf(P.arrayOf(P.string)),styles:P.object};a1.defaultProps={width:320,height:240,colors:[[Hs[900],Hs[700],Hs[500],Hs[300],Hs[100]],[Gs[900],Gs[700],Gs[500],Gs[300],Gs[100]],[Ws[900],Ws[700],Ws[500],Ws[300],Ws[100]],[Vs[900],Vs[700],Vs[500],Vs[300],Vs[100]],[Xs[900],Xs[700],Xs[500],Xs[300],Xs[100]],[Ys[900],Ys[700],Ys[500],Ys[300],Ys[100]],[qs[900],qs[700],qs[500],qs[300],qs[100]],[Ks[900],Ks[700],Ks[500],Ks[300],Ks[100]],[Zs[900],Zs[700],Zs[500],Zs[300],Zs[100]],["#194D33",rl[700],rl[500],rl[300],rl[100]],[Qs[900],Qs[700],Qs[500],Qs[300],Qs[100]],[Js[900],Js[700],Js[500],Js[300],Js[100]],[eo[900],eo[700],eo[500],eo[300],eo[100]],[to[900],to[700],to[500],to[300],to[100]],[no[900],no[700],no[500],no[300],no[100]],[ro[900],ro[700],ro[500],ro[300],ro[100]],[io[900],io[700],io[500],io[300],io[100]],[so[900],so[700],so[500],so[300],so[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};Yt(a1);var l1=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,h=c===void 0?"":c,d=de(Xt({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},u),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),f=function(m,g){ki(m)&&n({hex:m,source:"hex"},g)};return w.createElement("div",{style:d.card,className:"twitter-picker "+h},w.createElement("div",{style:d.triangleShadow}),w.createElement("div",{style:d.triangle}),w.createElement("div",{style:d.body},ve(s,function(p,m){return w.createElement(Rs,{key:m,color:p,hex:p,style:d.swatch,onClick:f,onHover:r,focusStyle:{boxShadow:"0 0 4px "+p}})}),w.createElement("div",{style:d.hash},"#"),w.createElement(xe,{label:null,style:{input:d.input},value:i.replace("#",""),onChange:f}),w.createElement("div",{style:d.clear})))};l1.propTypes={width:P.oneOfType([P.string,P.number]),triangle:P.oneOf(["hide","top-left","top-right"]),colors:P.arrayOf(P.string),styles:P.object};l1.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};Yt(l1);var u1=function(e){var n=de({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return w.createElement("div",{style:n.picker})};u1.propTypes={hsl:P.shape({h:P.number,s:P.number,l:P.number,a:P.number})};u1.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var c1=function(e){var n=de({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return w.createElement("div",{style:n.picker})};c1.propTypes={hsl:P.shape({h:P.number,s:P.number,l:P.number,a:P.number})};c1.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var cK=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.hsv,a=function(f,p){if(f.hex)ki(f.hex)&&n({hex:f.hex,source:"hex"},p);else if(f.rgb){var m=f.rgb.split(",");Dp(f.rgb,"rgb")&&n({r:m[0],g:m[1],b:m[2],a:1,source:"rgb"},p)}else if(f.hsv){var g=f.hsv.split(",");Dp(f.hsv,"hsv")&&(g[2]=g[2].replace("%",""),g[1]=g[1].replace("%",""),g[0]=g[0].replace("",""),g[1]==1?g[1]=.01:g[2]==1&&(g[2]=.01),n({h:Number(g[0]),s:Number(g[1]),v:Number(g[2]),source:"hsv"},p))}else if(f.hsl){var v=f.hsl.split(",");Dp(f.hsl,"hsl")&&(v[2]=v[2].replace("%",""),v[1]=v[1].replace("%",""),v[0]=v[0].replace("",""),h[1]==1?h[1]=.01:h[2]==1&&(h[2]=.01),n({h:Number(v[0]),s:Number(v[1]),v:Number(v[2]),source:"hsl"},p))}},l=de({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),u=r.r+", "+r.g+", "+r.b,c=Math.round(i.h)+", "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",h=Math.round(o.h)+", "+Math.round(o.s*100)+"%, "+Math.round(o.v*100)+"%";return w.createElement("div",{style:l.wrap,className:"flexbox-fix"},w.createElement("div",{style:l.fields},w.createElement("div",{style:l.double},w.createElement(xe,{style:{input:l.input,label:l.label},label:"hex",value:s,onChange:a})),w.createElement("div",{style:l.column},w.createElement("div",{style:l.single},w.createElement(xe,{style:{input:l.input2,label:l.label2},label:"rgb",value:u,onChange:a})),w.createElement("div",{style:l.single},w.createElement(xe,{style:{input:l.input2,label:l.label2},label:"hsv",value:h,onChange:a})),w.createElement("div",{style:l.single},w.createElement(xe,{style:{input:l.input2,label:l.label2},label:"hsl",value:c,onChange:a})))))},h1=function(e){var n=e.width,r=e.onChange,i=e.rgb,s=e.hsl,o=e.hsv,a=e.hex,l=e.header,u=e.styles,c=u===void 0?{}:u,h=e.className,d=h===void 0?"":h,f=de(Xt({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},c));return w.createElement("div",{style:f.picker,className:"google-picker "+d},w.createElement("div",{style:f.head},l),w.createElement("div",{style:f.swatch}),w.createElement("div",{style:f.saturation},w.createElement(cf,{hsl:s,hsv:o,pointer:u1,onChange:r})),w.createElement("div",{style:f.body},w.createElement("div",{style:f.controls,className:"flexbox-fix"},w.createElement("div",{style:f.hue},w.createElement(wa,{style:f.Hue,hsl:s,radius:"4px",pointer:c1,onChange:r}))),w.createElement(cK,{rgb:i,hsl:s,hex:a,hsv:o,onChange:r})))};h1.propTypes={width:P.oneOfType([P.string,P.number]),styles:P.object,header:P.string};h1.defaultProps={width:652,styles:{},header:"Color picker"};Yt(h1);function hK(t,e){_.useEffect(()=>{function n(r){t.current&&!t.current.contains(r.target)&&e()}return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[t])}function ql({color:t,colorChanged:e}){const[n,r]=_.useState(!1),[i,s]=_.useState(t||"#ffffff"),o=_.useRef(null);hK(o,()=>{r(!1)}),_.useEffect(()=>{s(t||"#fff")},[t]);const a=()=>{r(!n)},l=c=>{s(c.hex),e(c.hex)},u=de({default:{color:{background:i},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return j("div",{className:"color-picker",ref:o,children:[E("div",{className:"swatch",style:u.color,onClick:a}),n?E("div",{style:u.popover,children:E(Bq,{color:i,onChange:l,disableAlpha:!0})}):null]})}function vs(t){return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vs(t)}function dK(t,e){if(vs(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vs(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VA(t){var e=dK(t,"string");return vs(e)==="symbol"?e:String(e)}function il(t,e,n){return e=VA(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I_(Object(n),!0).forEach(function(r){il(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fK(t){if(Array.isArray(t))return t}function pK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function l0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XA(t,e){if(t){if(typeof t=="string")return l0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l0(t,e)}}function mK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nr(t,e){return fK(t)||pK(t,e)||XA(t,e)||mK()}function an(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function _a(t,e){if(t==null)return{};var n=an(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var gK=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function vK(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,s=t.defaultValue,o=s===void 0?null:s,a=t.inputValue,l=t.menuIsOpen,u=t.onChange,c=t.onInputChange,h=t.onMenuClose,d=t.onMenuOpen,f=t.value,p=_a(t,gK),m=_.useState(a!==void 0?a:n),g=Nr(m,2),v=g[0],b=g[1],y=_.useState(l!==void 0?l:i),x=Nr(y,2),S=x[0],C=x[1],T=_.useState(f!==void 0?f:o),A=Nr(T,2),k=A[0],M=A[1],B=_.useCallback(function($,W){typeof u=="function"&&u($,W),M($)},[u]),N=_.useCallback(function($,W){var D;typeof c=="function"&&(D=c($,W)),b(D!==void 0?D:$)},[c]),R=_.useCallback(function(){typeof d=="function"&&d(),C(!0)},[d]),F=_.useCallback(function(){typeof h=="function"&&h(),C(!1)},[h]),q=a!==void 0?a:v,Q=l!==void 0?l:S,z=f!==void 0?f:k;return pe(pe({},p),{},{inputValue:q,menuIsOpen:Q,onChange:B,onInputChange:N,onMenuClose:F,onMenuOpen:R,value:z})}function X(){return X=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X.apply(this,arguments)}function yK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VA(r.key),r)}}function bK(t,e,n){return e&&R_(t.prototype,e),n&&R_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nd(t,e){return nd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nd(t,e)}function xK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nd(t,e)}function rd(t){return rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rd(t)}function wK(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _K(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EK(t,e){if(e&&(vs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _K(t)}function SK(t){var e=wK();return function(){var r=rd(t),i;if(e){var s=rd(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return EK(this,i)}}function CK(t){if(Array.isArray(t))return l0(t)}function TK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function AK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YA(t){return CK(t)||TK(t)||XA(t)||AK()}function PK(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function OK(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var IK=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(OK(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=PK(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Tt="-ms-",id="-moz-",Se="-webkit-",qA="comm",d1="rule",f1="decl",RK="@import",KA="@keyframes",kK=Math.abs,df=String.fromCharCode,MK=Object.assign;function FK(t,e){return bt(t,0)^45?(((e<<2^bt(t,0))<<2^bt(t,1))<<2^bt(t,2))<<2^bt(t,3):0}function ZA(t){return t.trim()}function DK(t,e){return(t=e.exec(t))?t[0]:t}function Ce(t,e,n){return t.replace(e,n)}function u0(t,e){return t.indexOf(e)}function bt(t,e){return t.charCodeAt(e)|0}function Kl(t,e,n){return t.slice(e,n)}function cr(t){return t.length}function p1(t){return t.length}function xc(t,e){return e.push(t),t}function $K(t,e){return t.map(e).join("")}var ff=1,Ko=1,QA=0,Vt=0,ot=0,Ea="";function pf(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:ff,column:Ko,length:o,return:""}}function La(t,e){return MK(pf("",null,null,"",null,null,0),t,{length:-t.length},e)}function BK(){return ot}function NK(){return ot=Vt>0?bt(Ea,--Vt):0,Ko--,ot===10&&(Ko=1,ff--),ot}function ln(){return ot=Vt<QA?bt(Ea,Vt++):0,Ko++,ot===10&&(Ko=1,ff++),ot}function wr(){return bt(Ea,Vt)}function uh(){return Vt}function Uu(t,e){return Kl(Ea,t,e)}function Zl(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function JA(t){return ff=Ko=1,QA=cr(Ea=t),Vt=0,[]}function eP(t){return Ea="",t}function ch(t){return ZA(Uu(Vt-1,c0(t===91?t+2:t===40?t+1:t)))}function LK(t){for(;(ot=wr())&&ot<33;)ln();return Zl(t)>2||Zl(ot)>3?"":" "}function UK(t,e){for(;--e&&ln()&&!(ot<48||ot>102||ot>57&&ot<65||ot>70&&ot<97););return Uu(t,uh()+(e<6&&wr()==32&&ln()==32))}function c0(t){for(;ln();)switch(ot){case t:return Vt;case 34:case 39:t!==34&&t!==39&&c0(ot);break;case 40:t===41&&c0(t);break;case 92:ln();break}return Vt}function jK(t,e){for(;ln()&&t+ot!==47+10;)if(t+ot===42+42&&wr()===47)break;return"/*"+Uu(e,Vt-1)+"*"+df(t===47?t:ln())}function zK(t){for(;!Zl(wr());)ln();return Uu(t,Vt)}function HK(t){return eP(hh("",null,null,null,[""],t=JA(t),0,[0],t))}function hh(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,h=o,d=0,f=0,p=0,m=1,g=1,v=1,b=0,y="",x=i,S=s,C=r,T=y;g;)switch(p=b,b=ln()){case 40:if(p!=108&&bt(T,h-1)==58){u0(T+=Ce(ch(b),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:T+=ch(b);break;case 9:case 10:case 13:case 32:T+=LK(p);break;case 92:T+=UK(uh()-1,7);continue;case 47:switch(wr()){case 42:case 47:xc(GK(jK(ln(),uh()),e,n),l);break;default:T+="/"}break;case 123*m:a[u++]=cr(T)*v;case 125*m:case 59:case 0:switch(b){case 0:case 125:g=0;case 59+c:f>0&&cr(T)-h&&xc(f>32?M_(T+";",r,n,h-1):M_(Ce(T," ","")+";",r,n,h-2),l);break;case 59:T+=";";default:if(xc(C=k_(T,e,n,u,c,i,a,y,x=[],S=[],h),s),b===123)if(c===0)hh(T,e,C,C,x,s,h,a,S);else switch(d===99&&bt(T,3)===110?100:d){case 100:case 109:case 115:hh(t,C,C,r&&xc(k_(t,C,C,0,0,i,a,y,i,x=[],h),S),i,S,h,a,r?x:S);break;default:hh(T,C,C,C,[""],S,0,a,S)}}u=c=f=0,m=v=1,y=T="",h=o;break;case 58:h=1+cr(T),f=p;default:if(m<1){if(b==123)--m;else if(b==125&&m++==0&&NK()==125)continue}switch(T+=df(b),b*m){case 38:v=c>0?1:(T+="\f",-1);break;case 44:a[u++]=(cr(T)-1)*v,v=1;break;case 64:wr()===45&&(T+=ch(ln())),d=wr(),c=h=cr(y=T+=zK(uh())),b++;break;case 45:p===45&&cr(T)==2&&(m=0)}}return s}function k_(t,e,n,r,i,s,o,a,l,u,c){for(var h=i-1,d=i===0?s:[""],f=p1(d),p=0,m=0,g=0;p<r;++p)for(var v=0,b=Kl(t,h+1,h=kK(m=o[p])),y=t;v<f;++v)(y=ZA(m>0?d[v]+" "+b:Ce(b,/&\f/g,d[v])))&&(l[g++]=y);return pf(t,e,n,i===0?d1:a,l,u,c)}function GK(t,e,n){return pf(t,e,n,qA,df(BK()),Kl(t,2,-2),0)}function M_(t,e,n,r){return pf(t,e,n,f1,Kl(t,0,r),Kl(t,r+1,-1),r)}function ko(t,e){for(var n="",r=p1(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function WK(t,e,n,r){switch(t.type){case RK:case f1:return t.return=t.return||t.value;case qA:return"";case KA:return t.return=t.value+"{"+ko(t.children,r)+"}";case d1:t.value=t.props.join(",")}return cr(n=ko(t.children,r))?t.return=t.value+"{"+n+"}":""}function VK(t){var e=p1(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function XK(t){return function(e){e.root||(e=e.return)&&t(e)}}function tP(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var YK=function(e,n,r){for(var i=0,s=0;i=s,s=wr(),i===38&&s===12&&(n[r]=1),!Zl(s);)ln();return Uu(e,Vt)},qK=function(e,n){var r=-1,i=44;do switch(Zl(i)){case 0:i===38&&wr()===12&&(n[r]=1),e[r]+=YK(Vt-1,n,r);break;case 2:e[r]+=ch(i);break;case 4:if(i===44){e[++r]=wr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=df(i)}while(i=ln());return e},KK=function(e,n){return eP(qK(JA(e),n))},F_=new WeakMap,ZK=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!F_.get(r))&&!i){F_.set(e,!0);for(var s=[],o=KK(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},QK=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function nP(t,e){switch(FK(t,e)){case 5103:return Se+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Se+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Se+t+id+t+Tt+t+t;case 6828:case 4268:return Se+t+Tt+t+t;case 6165:return Se+t+Tt+"flex-"+t+t;case 5187:return Se+t+Ce(t,/(\w+).+(:[^]+)/,Se+"box-$1$2"+Tt+"flex-$1$2")+t;case 5443:return Se+t+Tt+"flex-item-"+Ce(t,/flex-|-self/,"")+t;case 4675:return Se+t+Tt+"flex-line-pack"+Ce(t,/align-content|flex-|-self/,"")+t;case 5548:return Se+t+Tt+Ce(t,"shrink","negative")+t;case 5292:return Se+t+Tt+Ce(t,"basis","preferred-size")+t;case 6060:return Se+"box-"+Ce(t,"-grow","")+Se+t+Tt+Ce(t,"grow","positive")+t;case 4554:return Se+Ce(t,/([^-])(transform)/g,"$1"+Se+"$2")+t;case 6187:return Ce(Ce(Ce(t,/(zoom-|grab)/,Se+"$1"),/(image-set)/,Se+"$1"),t,"")+t;case 5495:case 3959:return Ce(t,/(image-set\([^]*)/,Se+"$1$`$1");case 4968:return Ce(Ce(t,/(.+:)(flex-)?(.*)/,Se+"box-pack:$3"+Tt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Se+t+t;case 4095:case 3583:case 4068:case 2532:return Ce(t,/(.+)-inline(.+)/,Se+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(cr(t)-1-e>6)switch(bt(t,e+1)){case 109:if(bt(t,e+4)!==45)break;case 102:return Ce(t,/(.+:)(.+)-([^]+)/,"$1"+Se+"$2-$3$1"+id+(bt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~u0(t,"stretch")?nP(Ce(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(bt(t,e+1)!==115)break;case 6444:switch(bt(t,cr(t)-3-(~u0(t,"!important")&&10))){case 107:return Ce(t,":",":"+Se)+t;case 101:return Ce(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Se+(bt(t,14)===45?"inline-":"")+"box$3$1"+Se+"$2$3$1"+Tt+"$2box$3")+t}break;case 5936:switch(bt(t,e+11)){case 114:return Se+t+Tt+Ce(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Se+t+Tt+Ce(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Se+t+Tt+Ce(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Se+t+Tt+t+t}return t}var JK=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case f1:e.return=nP(e.value,e.length);break;case KA:return ko([La(e,{value:Ce(e.value,"@","@"+Se)})],i);case d1:if(e.length)return $K(e.props,function(s){switch(DK(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ko([La(e,{props:[Ce(s,/:(read-\w+)/,":"+id+"$1")]})],i);case"::placeholder":return ko([La(e,{props:[Ce(s,/:(plac\w+)/,":"+Se+"input-$1")]}),La(e,{props:[Ce(s,/:(plac\w+)/,":"+id+"$1")]}),La(e,{props:[Ce(s,/:(plac\w+)/,Tt+"input-$1")]})],i)}return""})}},eZ=[JK],tZ=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var g=m.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||eZ,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var g=m.getAttribute("data-emotion").split(" "),v=1;v<g.length;v++)s[g[v]]=!0;a.push(m)});var l,u=[ZK,QK];{var c,h=[WK,XK(function(m){c.insert(m)})],d=VK(u.concat(i,h)),f=function(g){return ko(HK(g),d)};l=function(g,v,b,y){c=b,f(g?g+"{"+v.styles+"}":v.styles),y&&(p.inserted[v.name]=!0)}}var p={key:n,sheet:new IK({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return p.sheet.hydrate(a),p},h0={},nZ={get exports(){return h0},set exports(t){h0=t}},Ie={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vt=typeof Symbol=="function"&&Symbol.for,m1=vt?Symbol.for("react.element"):60103,g1=vt?Symbol.for("react.portal"):60106,mf=vt?Symbol.for("react.fragment"):60107,gf=vt?Symbol.for("react.strict_mode"):60108,vf=vt?Symbol.for("react.profiler"):60114,yf=vt?Symbol.for("react.provider"):60109,bf=vt?Symbol.for("react.context"):60110,v1=vt?Symbol.for("react.async_mode"):60111,xf=vt?Symbol.for("react.concurrent_mode"):60111,wf=vt?Symbol.for("react.forward_ref"):60112,_f=vt?Symbol.for("react.suspense"):60113,rZ=vt?Symbol.for("react.suspense_list"):60120,Ef=vt?Symbol.for("react.memo"):60115,Sf=vt?Symbol.for("react.lazy"):60116,iZ=vt?Symbol.for("react.block"):60121,sZ=vt?Symbol.for("react.fundamental"):60117,oZ=vt?Symbol.for("react.responder"):60118,aZ=vt?Symbol.for("react.scope"):60119;function gn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case m1:switch(t=t.type,t){case v1:case xf:case mf:case vf:case gf:case _f:return t;default:switch(t=t&&t.$$typeof,t){case bf:case wf:case Sf:case Ef:case yf:return t;default:return e}}case g1:return e}}}function rP(t){return gn(t)===xf}Ie.AsyncMode=v1;Ie.ConcurrentMode=xf;Ie.ContextConsumer=bf;Ie.ContextProvider=yf;Ie.Element=m1;Ie.ForwardRef=wf;Ie.Fragment=mf;Ie.Lazy=Sf;Ie.Memo=Ef;Ie.Portal=g1;Ie.Profiler=vf;Ie.StrictMode=gf;Ie.Suspense=_f;Ie.isAsyncMode=function(t){return rP(t)||gn(t)===v1};Ie.isConcurrentMode=rP;Ie.isContextConsumer=function(t){return gn(t)===bf};Ie.isContextProvider=function(t){return gn(t)===yf};Ie.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===m1};Ie.isForwardRef=function(t){return gn(t)===wf};Ie.isFragment=function(t){return gn(t)===mf};Ie.isLazy=function(t){return gn(t)===Sf};Ie.isMemo=function(t){return gn(t)===Ef};Ie.isPortal=function(t){return gn(t)===g1};Ie.isProfiler=function(t){return gn(t)===vf};Ie.isStrictMode=function(t){return gn(t)===gf};Ie.isSuspense=function(t){return gn(t)===_f};Ie.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===mf||t===xf||t===vf||t===gf||t===_f||t===rZ||typeof t=="object"&&t!==null&&(t.$$typeof===Sf||t.$$typeof===Ef||t.$$typeof===yf||t.$$typeof===bf||t.$$typeof===wf||t.$$typeof===sZ||t.$$typeof===oZ||t.$$typeof===aZ||t.$$typeof===iZ)};Ie.typeOf=gn;(function(t){t.exports=Ie})(nZ);var iP=h0,lZ={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},uZ={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},sP={};sP[iP.ForwardRef]=lZ;sP[iP.Memo]=uZ;var cZ=!0;function oP(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var y1=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||cZ===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},aP=function(e,n,r){y1(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function hZ(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var dZ={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},fZ=/[A-Z]|^ms/g,pZ=/_EMO_([^_]+?)_([^]*?)_EMO_/g,lP=function(e){return e.charCodeAt(1)===45},D_=function(e){return e!=null&&typeof e!="boolean"},$p=tP(function(t){return lP(t)?t:t.replace(fZ,"-$&").toLowerCase()}),$_=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(pZ,function(r,i,s){return hr={name:i,styles:s,next:hr},i})}return dZ[e]!==1&&!lP(e)&&typeof n=="number"&&n!==0?n+"px":n};function Ql(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return hr={name:n.name,styles:n.styles,next:hr},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)hr={name:r.name,styles:r.styles,next:hr},r=r.next;var i=n.styles+";";return i}return mZ(t,e,n)}case"function":{if(t!==void 0){var s=hr,o=n(t);return hr=s,Ql(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function mZ(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ql(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":D_(o)&&(r+=$p(s)+":"+$_(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)D_(o[a])&&(r+=$p(s)+":"+$_(s,o[a])+";");else{var l=Ql(t,e,o);switch(s){case"animation":case"animationName":{r+=$p(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var B_=/label:\s*([^\s;\n{]+)\s*(;|$)/g,hr,b1=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";hr=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Ql(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Ql(r,n,e[a]),i&&(s+=o[a]);B_.lastIndex=0;for(var l="",u;(u=B_.exec(s))!==null;)l+="-"+u[1];var c=hZ(s)+l;return{name:c,styles:s,next:hr}},gZ=function(e){return e()},vZ=Fb["useInsertionEffect"]?Fb["useInsertionEffect"]:!1,uP=vZ||gZ,x1={}.hasOwnProperty,cP=_.createContext(typeof HTMLElement<"u"?tZ({key:"css"}):null);cP.Provider;var hP=function(e){return _.forwardRef(function(n,r){var i=_.useContext(cP);return e(n,i,r)})},dP=_.createContext({}),d0="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",yZ=function(e,n){var r={};for(var i in n)x1.call(n,i)&&(r[i]=n[i]);return r[d0]=e,r},bZ=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return y1(n,r,i),uP(function(){return aP(n,r,i)}),null},xZ=hP(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[d0],s=[r],o="";typeof t.className=="string"?o=oP(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=b1(s,void 0,_.useContext(dP));o+=e.key+"-"+a.name;var l={};for(var u in t)x1.call(t,u)&&u!=="css"&&u!==d0&&(l[u]=t[u]);return l.ref=n,l.className=o,_.createElement(_.Fragment,null,_.createElement(bZ,{cache:e,serialized:a,isStringTag:typeof i=="string"}),_.createElement(i,l))}),he=function(e,n){var r=arguments;if(n==null||!x1.call(n,"css"))return _.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=xZ,s[1]=yZ(e,n);for(var o=2;o<i;o++)s[o]=r[o];return _.createElement.apply(null,s)};function w1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return b1(e)}var wZ=function(){var e=w1.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function _Z(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function EZ(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}const SZ=["top","right","bottom","left"];SZ.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);function vr(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function fP(t){return vr(t).getComputedStyle(t)}function pP(t){return t instanceof vr(t).Node}function mP(t){return pP(t)?(t.nodeName||"").toLowerCase():""}let wc;function CZ(){if(wc)return wc;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(wc=t.brands.map(e=>e.brand+"/"+e.version).join(" "),wc):navigator.userAgent}function _1(t){return t instanceof vr(t).HTMLElement}function Mo(t){return t instanceof vr(t).Element}function N_(t){return typeof ShadowRoot>"u"?!1:t instanceof vr(t).ShadowRoot||t instanceof ShadowRoot}function gP(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=fP(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function TZ(){return/^((?!chrome|android).)*safari/i.test(CZ())}function AZ(t){return["html","body","#document"].includes(mP(t))}const sd=Math.round;function PZ(t){const e=fP(t);let n=parseFloat(e.width),r=parseFloat(e.height);const i=_1(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=sd(n)!==s||sd(r)!==o;return a&&(n=s,r=o),{width:n,height:r,fallback:a}}function vP(t){return Mo(t)?t:t.contextElement}const yP={x:1,y:1};function Bp(t){const e=vP(t);if(!_1(e))return yP;const n=e.getBoundingClientRect(),{width:r,height:i,fallback:s}=PZ(e);let o=(s?sd(n.width):n.width)/r,a=(s?sd(n.height):n.height)/i;return o&&Number.isFinite(o)||(o=1),a&&Number.isFinite(a)||(a=1),{x:o,y:a}}function L_(t,e,n,r){var i,s;e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),a=vP(t);let l=yP;e&&(r?Mo(r)&&(l=Bp(r)):l=Bp(t));const u=a?vr(a):window,c=TZ()&&n;let h=(o.left+(c&&((i=u.visualViewport)==null?void 0:i.offsetLeft)||0))/l.x,d=(o.top+(c&&((s=u.visualViewport)==null?void 0:s.offsetTop)||0))/l.y,f=o.width/l.x,p=o.height/l.y;if(a){const m=vr(a),g=r&&Mo(r)?vr(r):r;let v=m.frameElement;for(;v&&r&&g!==m;){const b=Bp(v),y=v.getBoundingClientRect(),x=getComputedStyle(v);y.x+=(v.clientLeft+parseFloat(x.paddingLeft))*b.x,y.y+=(v.clientTop+parseFloat(x.paddingTop))*b.y,h*=b.x,d*=b.y,f*=b.x,p*=b.y,h+=y.x,d+=y.y,v=vr(v).frameElement}}return EZ({width:f,height:p,x:h,y:d})}function OZ(t){return((pP(t)?t.ownerDocument:t.document)||window.document).documentElement}function IZ(t){if(mP(t)==="html")return t;const e=t.assignedSlot||t.parentNode||N_(t)&&t.host||OZ(t);return N_(e)?e.host:e}function bP(t){const e=IZ(t);return AZ(e)?e.ownerDocument.body:_1(e)&&gP(e)?e:bP(e)}function dh(t,e){var n;e===void 0&&(e=[]);const r=bP(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=vr(r);return i?e.concat(s,s.visualViewport||[],gP(r)?r:[]):e.concat(r,dh(r))}function RZ(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=!0,animationFrame:a=!1}=r,l=i&&!a,u=l||s?[...Mo(t)?dh(t):t.contextElement?dh(t.contextElement):[],...dh(e)]:[];u.forEach(f=>{l&&f.addEventListener("scroll",n,{passive:!0}),s&&f.addEventListener("resize",n)});let c,h=null;if(o){let f=!0;h=new ResizeObserver(()=>{f||n(),f=!1}),Mo(t)&&!a&&h.observe(t),Mo(t)||!t.contextElement||a||h.observe(t.contextElement),h.observe(e)}let d=a?L_(t):null;return a&&function f(){const p=L_(t);!d||p.x===d.x&&p.y===d.y&&p.width===d.width&&p.height===d.height||n(),d=p,c=requestAnimationFrame(f)}(),n(),()=>{var f;u.forEach(p=>{l&&p.removeEventListener("scroll",n),s&&p.removeEventListener("resize",n)}),(f=h)==null||f.disconnect(),h=null,a&&cancelAnimationFrame(c)}}var od=_.useLayoutEffect,kZ=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],ad=function(){};function MZ(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function FZ(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&s.push("".concat(MZ(t,o)));return s.filter(function(a){return a}).map(function(a){return String(a).trim()}).join(" ")}var U_=function(e){return HZ(e)?e.filter(Boolean):vs(e)==="object"&&e!==null?[e]:[]},xP=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=_a(e,kZ);return pe({},n)},tt=function(e,n,r){var i=e.cx,s=e.getStyles,o=e.getClassNames,a=e.className;return{css:s(n,e),className:i(r??{},o(n,e),a)}};function Cf(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function DZ(t){return Cf(t)?window.innerHeight:t.clientHeight}function wP(t){return Cf(t)?window.pageYOffset:t.scrollTop}function ld(t,e){if(Cf(t)){window.scrollTo(0,e);return}t.scrollTop=e}function $Z(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function BZ(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function _c(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ad,i=wP(t),s=e-i,o=10,a=0;function l(){a+=o;var u=BZ(a,i,s,n);ld(t,u),a<n?window.requestAnimationFrame(l):r(t)}l()}function j_(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?ld(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&ld(t,Math.max(e.offsetTop-i,0))}function NZ(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function z_(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function LZ(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var _P=!1,UZ={get passive(){return _P=!0}},Ec=typeof window<"u"?window:{};Ec.addEventListener&&Ec.removeEventListener&&(Ec.addEventListener("p",ad,UZ),Ec.removeEventListener("p",ad,!1));var jZ=_P;function zZ(t){return t!=null}function HZ(t){return Array.isArray(t)}function Sc(t,e,n){return t?e:n}var GZ=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(o){var a=Nr(o,1),l=a[0];return!r.includes(l)});return s.reduce(function(o,a){var l=Nr(a,2),u=l[0],c=l[1];return o[u]=c,o},{})};function WZ(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,s=t.shouldScroll,o=t.isFixedPosition,a=t.controlHeight,l=$Z(n),u={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return u;var c=l.getBoundingClientRect(),h=c.height,d=n.getBoundingClientRect(),f=d.bottom,p=d.height,m=d.top,g=n.offsetParent.getBoundingClientRect(),v=g.top,b=o?window.innerHeight:DZ(l),y=wP(l),x=parseInt(getComputedStyle(n).marginBottom,10),S=parseInt(getComputedStyle(n).marginTop,10),C=v-S,T=b-m,A=C+y,k=h-y-m,M=f-b+y+x,B=y+m-S,N=160;switch(i){case"auto":case"bottom":if(T>=p)return{placement:"bottom",maxHeight:e};if(k>=p&&!o)return s&&_c(l,M,N),{placement:"bottom",maxHeight:e};if(!o&&k>=r||o&&T>=r){s&&_c(l,M,N);var R=o?T-x:k-x;return{placement:"bottom",maxHeight:R}}if(i==="auto"||o){var F=e,q=o?C:A;return q>=r&&(F=Math.min(q-x-a,e)),{placement:"top",maxHeight:F}}if(i==="bottom")return s&&ld(l,M),{placement:"bottom",maxHeight:e};break;case"top":if(C>=p)return{placement:"top",maxHeight:e};if(A>=p&&!o)return s&&_c(l,B,N),{placement:"top",maxHeight:e};if(!o&&A>=r||o&&C>=r){var Q=e;return(!o&&A>=r||o&&C>=r)&&(Q=o?C-S:A-S),s&&_c(l,B,N),{placement:"top",maxHeight:Q}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return u}function VZ(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var EP=function(e){return e==="auto"?"bottom":e},XZ=function(e,n){var r,i=e.placement,s=e.theme,o=s.borderRadius,a=s.spacing,l=s.colors;return pe((r={label:"menu"},il(r,VZ(i),"100%"),il(r,"position","absolute"),il(r,"width","100%"),il(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},SP=_.createContext(null),YZ=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,o=e.menuPosition,a=e.menuShouldScrollIntoView,l=e.theme,u=_.useContext(SP)||{},c=u.setPortalPlacement,h=_.useRef(null),d=_.useState(i),f=Nr(d,2),p=f[0],m=f[1],g=_.useState(null),v=Nr(g,2),b=v[0],y=v[1],x=l.spacing.controlHeight;return od(function(){var S=h.current;if(S){var C=o==="fixed",T=a&&!C,A=WZ({maxHeight:i,menuEl:S,minHeight:r,placement:s,shouldScroll:T,isFixedPosition:C,controlHeight:x});m(A.maxHeight),y(A.placement),c==null||c(A.placement)}},[i,s,o,a,r,c,x]),n({ref:h,placerProps:pe(pe({},e),{},{placement:b||EP(s),maxHeight:p})})},qZ=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return he("div",X({},tt(e,"menu",{menu:!0}),{ref:r},i),n)},KZ=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return pe({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},ZZ=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return he("div",X({},tt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),n)},CP=function(e,n){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return pe({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},QZ=CP,JZ=CP,TP=function(e){var n=e.children,r=e.innerProps;return he("div",X({},tt(e,"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)};TP.defaultProps={children:"No options"};var AP=function(e){var n=e.children,r=e.innerProps;return he("div",X({},tt(e,"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)};AP.defaultProps={children:"Loading..."};var eQ=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},tQ=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,o=e.menuPlacement,a=e.menuPosition,l=_.useRef(null),u=_.useRef(null),c=_.useState(EP(o)),h=Nr(c,2),d=h[0],f=h[1],p=_.useMemo(function(){return{setPortalPlacement:f}},[]),m=_.useState(null),g=Nr(m,2),v=g[0],b=g[1],y=_.useCallback(function(){if(i){var T=NZ(i),A=a==="fixed"?0:window.pageYOffset,k=T[d]+A;(k!==(v==null?void 0:v.offset)||T.left!==(v==null?void 0:v.rect.left)||T.width!==(v==null?void 0:v.rect.width))&&b({offset:k,rect:T})}},[i,a,d,v==null?void 0:v.offset,v==null?void 0:v.rect.left,v==null?void 0:v.rect.width]);od(function(){y()},[y]);var x=_.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),i&&l.current&&(u.current=RZ(i,l.current,y,{elementResize:"ResizeObserver"in window}))},[i,y]);od(function(){x()},[x]);var S=_.useCallback(function(T){l.current=T,x()},[x]);if(!n&&a!=="fixed"||!v)return null;var C=he("div",X({ref:S},tt(pe(pe({},e),{},{offset:v.offset,position:a,rect:v.rect}),"menuPortal",{"menu-portal":!0}),s),r);return he(SP.Provider,{value:p},n?Cl.createPortal(C,n):C)},nQ=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},rQ=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return he("div",X({},tt(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),n)},iQ=function(e,n){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,o=e.selectProps.controlShouldRenderValue;return pe({alignItems:"center",display:i&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},sQ=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return he("div",X({},tt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),n)},oQ=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},aQ=function(e){var n=e.children,r=e.innerProps;return he("div",X({},tt(e,"indicatorsContainer",{indicators:!0}),r),n)},H_,lQ=["size"],uQ={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},PP=function(e){var n=e.size,r=_a(e,lQ);return he("svg",X({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:uQ},r))},E1=function(e){return he(PP,X({size:20},e),he("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},OP=function(e){return he(PP,X({size:20},e),he("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},IP=function(e,n){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return pe({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?o.neutral60:o.neutral20,padding:s*2,":hover":{color:r?o.neutral80:o.neutral40}})},cQ=IP,hQ=function(e){var n=e.children,r=e.innerProps;return he("div",X({},tt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||he(OP,null))},dQ=IP,fQ=function(e){var n=e.children,r=e.innerProps;return he("div",X({},tt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||he(E1,null))},pQ=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return pe({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},mQ=function(e){var n=e.innerProps;return he("span",X({},n,tt(e,"indicatorSeparator",{"indicator-separator":!0})))},gQ=wZ(H_||(H_=_Z([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),vQ=function(e,n){var r=e.isFocused,i=e.size,s=e.theme,o=s.colors,a=s.spacing.baseUnit;return pe({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?o.neutral60:o.neutral20,padding:a*2})},Np=function(e){var n=e.delay,r=e.offset;return he("span",{css:w1({animation:"".concat(gQ," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},RP=function(e){var n=e.innerProps,r=e.isRtl;return he("div",X({},tt(e,"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),he(Np,{delay:0,offset:r}),he(Np,{delay:160,offset:!0}),he(Np,{delay:320,offset:!r}))};RP.defaultProps={size:4};var yQ=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.theme,o=s.colors,a=s.borderRadius,l=s.spacing;return pe({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:i?o.primary:o.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},bQ=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,o=e.innerProps,a=e.menuIsOpen;return he("div",X({ref:s},tt(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":a}),o),n)},xQ=["data"],wQ=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},_Q=function(e){var n=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,o=e.Heading,a=e.headingProps,l=e.innerProps,u=e.label,c=e.theme,h=e.selectProps;return he("div",X({},tt(e,"group",{group:!0}),l),he(o,X({},a,{selectProps:h,theme:c,getStyles:i,getClassNames:s,cx:r}),u),he("div",null,n))},EQ=function(e,n){var r=e.theme,i=r.colors,s=r.spacing;return pe({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},SQ=function(e){var n=xP(e);n.data;var r=_a(n,xQ);return he("div",X({},tt(e,"groupHeading",{"group-heading":!0}),r))},CQ=["innerRef","isDisabled","isHidden","inputClassName"],TQ=function(e,n){var r=e.isDisabled,i=e.value,s=e.theme,o=s.spacing,a=s.colors;return pe(pe({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},AQ),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:a.neutral80})},kP={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},AQ={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":pe({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},kP)},PQ=function(e){return pe({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},kP)},OQ=function(e){var n=e.cx,r=e.value,i=xP(e),s=i.innerRef,o=i.isDisabled,a=i.isHidden,l=i.inputClassName,u=_a(i,CQ);return he("div",X({},tt(e,"input",{"input-container":!0}),{"data-value":r||""}),he("input",X({className:n({input:!0},l),ref:s,style:PQ(a),disabled:o},u)))},IQ=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors;return pe({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},RQ=function(e,n){var r=e.theme,i=r.borderRadius,s=r.colors,o=e.cropWithEllipsis;return pe({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},kQ=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors,a=e.isFocused;return pe({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:a?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},MP=function(e){var n=e.children,r=e.innerProps;return he("div",r,n)},MQ=MP,FQ=MP;function DQ(t){var e=t.children,n=t.innerProps;return he("div",X({role:"button"},n),e||he(E1,{size:14}))}var $Q=function(e){var n=e.children,r=e.components,i=e.data,s=e.innerProps,o=e.isDisabled,a=e.removeProps,l=e.selectProps,u=r.Container,c=r.Label,h=r.Remove;return he(u,{data:i,innerProps:pe(pe({},tt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:l},he(c,{data:i,innerProps:pe({},tt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),he(h,{data:i,innerProps:pe(pe({},tt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},a),selectProps:l}))},BQ=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.theme,a=o.spacing,l=o.colors;return pe({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:s?l.neutral0:"inherit",padding:"".concat(a.baseUnit*2,"px ").concat(a.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?l.primary:l.primary50}})},NQ=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.innerRef,a=e.innerProps;return he("div",X({},tt(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:o,"aria-disabled":r},a),n)},LQ=function(e,n){var r=e.theme,i=r.spacing,s=r.colors;return pe({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},UQ=function(e){var n=e.children,r=e.innerProps;return he("div",X({},tt(e,"placeholder",{placeholder:!0}),r),n)},jQ=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing,o=i.colors;return pe({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},zQ=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return he("div",X({},tt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},HQ={ClearIndicator:fQ,Control:bQ,DropdownIndicator:hQ,DownChevron:OP,CrossIcon:E1,Group:_Q,GroupHeading:SQ,IndicatorsContainer:aQ,IndicatorSeparator:mQ,Input:OQ,LoadingIndicator:RP,Menu:qZ,MenuList:ZZ,MenuPortal:tQ,LoadingMessage:AP,NoOptionsMessage:TP,MultiValue:$Q,MultiValueContainer:MQ,MultiValueLabel:FQ,MultiValueRemove:DQ,Option:NQ,Placeholder:UQ,SelectContainer:rQ,SingleValue:zQ,ValueContainer:sQ},GQ=function(e){return pe(pe({},HQ),e.components)},G_=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function WQ(t,e){return!!(t===e||G_(t)&&G_(e))}function VQ(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!WQ(t[n],e[n]))return!1;return!0}function XQ(t,e){e===void 0&&(e=VQ);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var YQ={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},W_=function(e){return he("span",X({css:YQ},e))},qQ={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.isDisabled,s=e.tabSelectsValue,o=e.context;switch(o){case"menu":return"Use Up and Down to choose options".concat(i?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,o=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,s=e.label,o=s===void 0?"":s,a=e.selectValue,l=e.isDisabled,u=e.isSelected,c=function(p,m){return p&&p.length?"".concat(p.indexOf(m)+1," of ").concat(p.length):""};if(n==="value"&&a)return"value ".concat(o," focused, ").concat(c(a,r),".");if(n==="menu"){var h=l?" disabled":"",d="".concat(u?"selected":"focused").concat(h);return"option ".concat(o," ").concat(d,", ").concat(c(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},KQ=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,o=e.isFocused,a=e.selectValue,l=e.selectProps,u=e.id,c=l.ariaLiveMessages,h=l.getOptionLabel,d=l.inputValue,f=l.isMulti,p=l.isOptionDisabled,m=l.isSearchable,g=l.menuIsOpen,v=l.options,b=l.screenReaderStatus,y=l.tabSelectsValue,x=l["aria-label"],S=l["aria-live"],C=_.useMemo(function(){return pe(pe({},qQ),c||{})},[c]),T=_.useMemo(function(){var F="";if(n&&C.onChange){var q=n.option,Q=n.options,z=n.removedValue,$=n.removedValues,W=n.value,D=function(ue){return Array.isArray(ue)?null:ue},G=z||q||D(W),I=G?h(G):"",O=Q||$||void 0,L=O?O.map(h):[],Y=pe({isDisabled:G&&p(G,a),label:I,labels:L},n);F=C.onChange(Y)}return F},[n,C,p,a,h]),A=_.useMemo(function(){var F="",q=r||i,Q=!!(r&&a&&a.includes(r));if(q&&C.onFocus){var z={focused:q,label:h(q),isDisabled:p(q,a),isSelected:Q,options:s,context:q===r?"menu":"value",selectValue:a};F=C.onFocus(z)}return F},[r,i,h,p,C,s,a]),k=_.useMemo(function(){var F="";if(g&&v.length&&C.onFilter){var q=b({count:s.length});F=C.onFilter({inputValue:d,resultsMessage:q})}return F},[s,d,g,C,v,b]),M=_.useMemo(function(){var F="";if(C.guidance){var q=i?"value":g?"menu":"input";F=C.guidance({"aria-label":x,context:q,isDisabled:r&&p(r,a),isMulti:f,isSearchable:m,tabSelectsValue:y})}return F},[x,r,i,f,p,m,g,C,a,y]),B="".concat(A," ").concat(k," ").concat(M),N=he(_.Fragment,null,he("span",{id:"aria-selection"},T),he("span",{id:"aria-context"},B)),R=(n==null?void 0:n.action)==="initial-input-focus";return he(_.Fragment,null,he(W_,{id:u},R&&N),he(W_,{"aria-live":S,"aria-atomic":"false","aria-relevant":"additions text"},o&&!R&&N))},f0=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],ZQ=new RegExp("["+f0.map(function(t){return t.letters}).join("")+"]","g"),FP={};for(var Lp=0;Lp<f0.length;Lp++)for(var Up=f0[Lp],jp=0;jp<Up.letters.length;jp++)FP[Up.letters[jp]]=Up.base;var DP=function(e){return e.replace(ZQ,function(n){return FP[n]})},QQ=XQ(DP),V_=function(e){return e.replace(/^\s+|\s+$/g,"")},JQ=function(e){return"".concat(e.label," ").concat(e.value)},eJ=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=pe({ignoreCase:!0,ignoreAccents:!0,stringify:JQ,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,o=i.ignoreAccents,a=i.stringify,l=i.trim,u=i.matchFrom,c=l?V_(r):r,h=l?V_(a(n)):a(n);return s&&(c=c.toLowerCase(),h=h.toLowerCase()),o&&(c=QQ(c),h=DP(h)),u==="start"?h.substr(0,c.length)===c:h.indexOf(c)>-1}},tJ=["innerRef"];function nJ(t){var e=t.innerRef,n=_a(t,tJ),r=GZ(n,"onExited","in","enter","exit","appear");return he("input",X({ref:e},r,{css:w1({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var rJ=function(e){e.preventDefault(),e.stopPropagation()};function iJ(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,o=_.useRef(!1),a=_.useRef(!1),l=_.useRef(0),u=_.useRef(null),c=_.useCallback(function(g,v){if(u.current!==null){var b=u.current,y=b.scrollTop,x=b.scrollHeight,S=b.clientHeight,C=u.current,T=v>0,A=x-S-y,k=!1;A>v&&o.current&&(r&&r(g),o.current=!1),T&&a.current&&(s&&s(g),a.current=!1),T&&v>A?(n&&!o.current&&n(g),C.scrollTop=x,k=!0,o.current=!0):!T&&-v>y&&(i&&!a.current&&i(g),C.scrollTop=0,k=!0,a.current=!0),k&&rJ(g)}},[n,r,i,s]),h=_.useCallback(function(g){c(g,g.deltaY)},[c]),d=_.useCallback(function(g){l.current=g.changedTouches[0].clientY},[]),f=_.useCallback(function(g){var v=l.current-g.changedTouches[0].clientY;c(g,v)},[c]),p=_.useCallback(function(g){if(g){var v=jZ?{passive:!1}:!1;g.addEventListener("wheel",h,v),g.addEventListener("touchstart",d,v),g.addEventListener("touchmove",f,v)}},[f,d,h]),m=_.useCallback(function(g){g&&(g.removeEventListener("wheel",h,!1),g.removeEventListener("touchstart",d,!1),g.removeEventListener("touchmove",f,!1))},[f,d,h]);return _.useEffect(function(){if(e){var g=u.current;return p(g),function(){m(g)}}},[e,p,m]),function(g){u.current=g}}var X_=["boxSizing","height","overflow","paddingRight","position"],Y_={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function q_(t){t.preventDefault()}function K_(t){t.stopPropagation()}function Z_(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function Q_(){return"ontouchstart"in window||navigator.maxTouchPoints}var J_=!!(typeof window<"u"&&window.document&&window.document.createElement),Ua=0,Fs={capture:!1,passive:!1};function sJ(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=_.useRef({}),s=_.useRef(null),o=_.useCallback(function(l){if(J_){var u=document.body,c=u&&u.style;if(r&&X_.forEach(function(p){var m=c&&c[p];i.current[p]=m}),r&&Ua<1){var h=parseInt(i.current.paddingRight,10)||0,d=document.body?document.body.clientWidth:0,f=window.innerWidth-d+h||0;Object.keys(Y_).forEach(function(p){var m=Y_[p];c&&(c[p]=m)}),c&&(c.paddingRight="".concat(f,"px"))}u&&Q_()&&(u.addEventListener("touchmove",q_,Fs),l&&(l.addEventListener("touchstart",Z_,Fs),l.addEventListener("touchmove",K_,Fs))),Ua+=1}},[r]),a=_.useCallback(function(l){if(J_){var u=document.body,c=u&&u.style;Ua=Math.max(Ua-1,0),r&&Ua<1&&X_.forEach(function(h){var d=i.current[h];c&&(c[h]=d)}),u&&Q_()&&(u.removeEventListener("touchmove",q_,Fs),l&&(l.removeEventListener("touchstart",Z_,Fs),l.removeEventListener("touchmove",K_,Fs)))}},[r]);return _.useEffect(function(){if(e){var l=s.current;return o(l),function(){a(l)}}},[e,o,a]),function(l){s.current=l}}var oJ=function(){return document.activeElement&&document.activeElement.blur()},aJ={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function lJ(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,s=t.onBottomArrive,o=t.onBottomLeave,a=t.onTopArrive,l=t.onTopLeave,u=iJ({isEnabled:i,onBottomArrive:s,onBottomLeave:o,onTopArrive:a,onTopLeave:l}),c=sJ({isEnabled:n}),h=function(f){u(f),c(f)};return he(_.Fragment,null,n&&he("div",{onClick:oJ,css:aJ}),e(h))}var uJ={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},cJ=function(e){var n=e.name,r=e.onFocus;return he("input",{required:!0,name:n,tabIndex:-1,onFocus:r,css:uJ,value:"",onChange:function(){}})},hJ=function(e){return e.label},dJ=function(e){return e.label},fJ=function(e){return e.value},pJ=function(e){return!!e.isDisabled},mJ={clearIndicator:dQ,container:nQ,control:yQ,dropdownIndicator:cQ,group:wQ,groupHeading:EQ,indicatorsContainer:oQ,indicatorSeparator:pQ,input:TQ,loadingIndicator:vQ,loadingMessage:JZ,menu:XZ,menuList:KZ,menuPortal:eQ,multiValue:IQ,multiValueLabel:RQ,multiValueRemove:kQ,noOptionsMessage:QZ,option:BQ,placeholder:LQ,singleValue:jQ,valueContainer:iQ},gJ={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},vJ=4,$P=4,yJ=38,bJ=$P*2,xJ={baseUnit:$P,controlHeight:yJ,menuGutter:bJ},zp={borderRadius:vJ,colors:gJ,spacing:xJ},wJ={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:z_(),captureMenuScroll:!z_(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:eJ(),formatGroupLabel:hJ,getOptionLabel:dJ,getOptionValue:fJ,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:pJ,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!LZ(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function eE(t,e,n,r){var i=UP(t,e,n),s=jP(t,e,n),o=LP(t,e),a=ud(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:o,value:a,index:r}}function BP(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(o,a){return eE(t,o,e,a)}).filter(function(o){return tE(t,o)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=eE(t,n,e,r);return tE(t,s)?s:void 0}).filter(zZ)}function NP(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,YA(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function _J(t,e){return NP(BP(t,e))}function tE(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,s=e.isSelected,o=e.label,a=e.value;return(!HP(t)||!s)&&zP(t,{label:o,value:a,data:i},r)}function EJ(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var s=e.indexOf(n);if(s>-1)return n;if(i<e.length)return e[i]}return null}function SJ(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var LP=function(e,n){return e.getOptionLabel(n)},ud=function(e,n){return e.getOptionValue(n)};function UP(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function jP(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=ud(t,e);return n.some(function(i){return ud(t,i)===r})}function zP(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var HP=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},CJ=1,GP=function(t){xK(n,t);var e=SK(n);function n(r){var i;if(yK(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.instancePrefix="",i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.controlRef=null,i.getControlRef=function(a){i.controlRef=a},i.focusedOptionRef=null,i.getFocusedOptionRef=function(a){i.focusedOptionRef=a},i.menuListRef=null,i.getMenuListRef=function(a){i.menuListRef=a},i.inputRef=null,i.getInputRef=function(a){i.inputRef=a},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(a,l){var u=i.props,c=u.onChange,h=u.name;l.name=h,i.ariaOnChange(a,l),c(a,l)},i.setValue=function(a,l,u){var c=i.props,h=c.closeMenuOnSelect,d=c.isMulti,f=c.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:f}),h&&(i.setState({inputIsHiddenAfterUpdate:!d}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(a,{action:l,option:u})},i.selectOption=function(a){var l=i.props,u=l.blurInputOnSelect,c=l.isMulti,h=l.name,d=i.state.selectValue,f=c&&i.isOptionSelected(a,d),p=i.isOptionDisabled(a,d);if(f){var m=i.getOptionValue(a);i.setValue(d.filter(function(g){return i.getOptionValue(g)!==m}),"deselect-option",a)}else if(!p)c?i.setValue([].concat(YA(d),[a]),"select-option",a):i.setValue(a,"select-option");else{i.ariaOnChange(a,{action:"select-option",option:a,name:h});return}u&&i.blurInput()},i.removeValue=function(a){var l=i.props.isMulti,u=i.state.selectValue,c=i.getOptionValue(a),h=u.filter(function(f){return i.getOptionValue(f)!==c}),d=Sc(l,h,h[0]||null);i.onChange(d,{action:"remove-value",removedValue:a}),i.focusInput()},i.clearValue=function(){var a=i.state.selectValue;i.onChange(Sc(i.props.isMulti,[],null),{action:"clear",removedValues:a})},i.popValue=function(){var a=i.props.isMulti,l=i.state.selectValue,u=l[l.length-1],c=l.slice(0,l.length-1),h=Sc(a,c,c[0]||null);i.onChange(h,{action:"pop-value",removedValue:u})},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return FZ.apply(void 0,[i.props.classNamePrefix].concat(l))},i.getOptionLabel=function(a){return LP(i.props,a)},i.getOptionValue=function(a){return ud(i.props,a)},i.getStyles=function(a,l){var u=i.props.unstyled,c=mJ[a](l,u);c.boxSizing="border-box";var h=i.props.styles[a];return h?h(c,l):c},i.getClassNames=function(a,l){var u,c;return(u=(c=i.props.classNames)[a])===null||u===void 0?void 0:u.call(c,l)},i.getElementId=function(a){return"".concat(i.instancePrefix,"-").concat(a)},i.getComponents=function(){return GQ(i.props)},i.buildCategorizedOptions=function(){return BP(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return NP(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(a,l){i.setState({ariaSelection:pe({value:a},l)})},i.onMenuMouseDown=function(a){a.button===0&&(a.stopPropagation(),a.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(a){i.blockOptionHover=!1},i.onControlMouseDown=function(a){if(!a.defaultPrevented){var l=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&i.onMenuClose():l&&i.openMenu("first"):(l&&(i.openAfterFocus=!0),i.focusInput()),a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&a.preventDefault()}},i.onDropdownIndicatorMouseDown=function(a){if(!(a&&a.type==="mousedown"&&a.button!==0)&&!i.props.isDisabled){var l=i.props,u=l.isMulti,c=l.menuIsOpen;i.focusInput(),c?(i.setState({inputIsHiddenAfterUpdate:!u}),i.onMenuClose()):i.openMenu("first"),a.preventDefault()}},i.onClearIndicatorMouseDown=function(a){a&&a.type==="mousedown"&&a.button!==0||(i.clearValue(),a.preventDefault(),i.openAfterFocus=!1,a.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(a){typeof i.props.closeMenuOnScroll=="boolean"?a.target instanceof HTMLElement&&Cf(a.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(a)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(a){var l=a.touches,u=l&&l.item(0);u&&(i.initialTouchX=u.clientX,i.initialTouchY=u.clientY,i.userIsDragging=!1)},i.onTouchMove=function(a){var l=a.touches,u=l&&l.item(0);if(u){var c=Math.abs(u.clientX-i.initialTouchX),h=Math.abs(u.clientY-i.initialTouchY),d=5;i.userIsDragging=c>d||h>d}},i.onTouchEnd=function(a){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(a.target)&&i.menuListRef&&!i.menuListRef.contains(a.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(a){i.userIsDragging||i.onControlMouseDown(a)},i.onClearIndicatorTouchEnd=function(a){i.userIsDragging||i.onClearIndicatorMouseDown(a)},i.onDropdownIndicatorTouchEnd=function(a){i.userIsDragging||i.onDropdownIndicatorMouseDown(a)},i.handleInputChange=function(a){var l=i.props.inputValue,u=a.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(u,{action:"input-change",prevInputValue:l}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(a){i.props.onFocus&&i.props.onFocus(a),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(a){var l=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(a),i.onInputChange("",{action:"input-blur",prevInputValue:l}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(a){i.blockOptionHover||i.state.focusedOption===a||i.setState({focusedOption:a})},i.shouldHideSelectedOptions=function(){return HP(i.props)},i.onValueInputFocus=function(a){a.preventDefault(),a.stopPropagation(),i.focus()},i.onKeyDown=function(a){var l=i.props,u=l.isMulti,c=l.backspaceRemovesValue,h=l.escapeClearsValue,d=l.inputValue,f=l.isClearable,p=l.isDisabled,m=l.menuIsOpen,g=l.onKeyDown,v=l.tabSelectsValue,b=l.openMenuOnFocus,y=i.state,x=y.focusedOption,S=y.focusedValue,C=y.selectValue;if(!p&&!(typeof g=="function"&&(g(a),a.defaultPrevented))){switch(i.blockOptionHover=!0,a.key){case"ArrowLeft":if(!u||d)return;i.focusValue("previous");break;case"ArrowRight":if(!u||d)return;i.focusValue("next");break;case"Delete":case"Backspace":if(d)return;if(S)i.removeValue(S);else{if(!c)return;u?i.popValue():f&&i.clearValue()}break;case"Tab":if(i.isComposing||a.shiftKey||!m||!v||!x||b&&i.isOptionSelected(x,C))return;i.selectOption(x);break;case"Enter":if(a.keyCode===229)break;if(m){if(!x||i.isComposing)return;i.selectOption(x);break}return;case"Escape":m?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:d}),i.onMenuClose()):f&&h&&i.clearValue();break;case" ":if(d)return;if(!m){i.openMenu("first");break}if(!x)return;i.selectOption(x);break;case"ArrowUp":m?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":m?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!m)return;i.focusOption("pageup");break;case"PageDown":if(!m)return;i.focusOption("pagedown");break;case"Home":if(!m)return;i.focusOption("first");break;case"End":if(!m)return;i.focusOption("last");break;default:return}a.preventDefault()}},i.instancePrefix="react-select-"+(i.props.instanceId||++CJ),i.state.selectValue=U_(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.buildFocusableOptions(),o=s.indexOf(i.state.selectValue[0]);i.state.focusedOption=s[o]}return i}return bK(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&j_(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isDisabled,a=s.menuIsOpen,l=this.state.isFocused;(l&&!o&&i.isDisabled||l&&a&&!i.menuIsOpen)&&this.focusInput(),l&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(j_(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,o=this.state,a=o.selectValue,l=o.isFocused,u=this.buildFocusableOptions(),c=i==="first"?0:u.length-1;if(!this.props.isMulti){var h=u.indexOf(a[0]);h>-1&&(c=h)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[c]},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,o=s.selectValue,a=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=o.indexOf(a);a||(l=-1);var u=o.length-1,c=-1;if(o.length){switch(i){case"previous":l===0?c=0:l===-1?c=u:c=l-1;break;case"next":l>-1&&l<u&&(c=l+1);break}this.setState({inputIsHidden:c!==-1,focusedValue:o[c]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var l=0,u=a.indexOf(o);o||(u=-1),i==="up"?l=u>0?u-1:a.length-1:i==="down"?l=(u+1)%a.length:i==="pageup"?(l=u-s,l<0&&(l=0)):i==="pagedown"?(l=u+s,l>a.length-1&&(l=a.length-1)):i==="last"&&(l=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[l],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(zp):pe(pe({},zp),this.props.theme):zp}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,o=this.getStyles,a=this.getClassNames,l=this.getValue,u=this.selectOption,c=this.setValue,h=this.props,d=h.isMulti,f=h.isRtl,p=h.options,m=this.hasValue();return{clearValue:i,cx:s,getStyles:o,getClassNames:a,getValue:l,hasValue:m,isMulti:d,isRtl:f,options:p,selectOption:u,selectProps:h,setValue:c,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,o=i.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(i,s){return UP(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return jP(this.props,i,s)}},{key:"filterOption",value:function(i,s){return zP(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:o,selectValue:a})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,o=i.isSearchable,a=i.inputId,l=i.inputValue,u=i.tabIndex,c=i.form,h=i.menuIsOpen,d=i.required,f=this.getComponents(),p=f.Input,m=this.state,g=m.inputIsHidden,v=m.ariaSelection,b=this.commonProps,y=a||this.getElementId("input"),x=pe(pe(pe({"aria-autocomplete":"list","aria-expanded":h,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":d,role:"combobox"},h&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(v==null?void 0:v.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?_.createElement(p,X({},b,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:y,innerRef:this.getInputRef,isDisabled:s,isHidden:g,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:c,type:"text",value:l},x)):_.createElement(nJ,X({id:y,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:ad,onFocus:this.onInputFocus,disabled:s,tabIndex:u,inputMode:"none",form:c,value:""},x))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),o=s.MultiValue,a=s.MultiValueContainer,l=s.MultiValueLabel,u=s.MultiValueRemove,c=s.SingleValue,h=s.Placeholder,d=this.commonProps,f=this.props,p=f.controlShouldRenderValue,m=f.isDisabled,g=f.isMulti,v=f.inputValue,b=f.placeholder,y=this.state,x=y.selectValue,S=y.focusedValue,C=y.isFocused;if(!this.hasValue()||!p)return v?null:_.createElement(h,X({},d,{key:"placeholder",isDisabled:m,isFocused:C,innerProps:{id:this.getElementId("placeholder")}}),b);if(g)return x.map(function(A,k){var M=A===S,B="".concat(i.getOptionLabel(A),"-").concat(i.getOptionValue(A));return _.createElement(o,X({},d,{components:{Container:a,Label:l,Remove:u},isFocused:M,isDisabled:m,key:B,index:k,removeProps:{onClick:function(){return i.removeValue(A)},onTouchEnd:function(){return i.removeValue(A)},onMouseDown:function(R){R.preventDefault()}},data:A}),i.formatOptionLabel(A,"value"))});if(v)return null;var T=x[0];return _.createElement(c,X({},d,{data:T,isDisabled:m}),this.formatOptionLabel(T,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,u=a.isLoading,c=this.state.isFocused;if(!this.isClearable()||!s||l||!this.hasValue()||u)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return _.createElement(s,X({},o,{innerProps:h,isFocused:c}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,u=a.isLoading,c=this.state.isFocused;if(!s||!u)return null;var h={"aria-hidden":"true"};return _.createElement(s,X({},o,{innerProps:h,isDisabled:l,isFocused:c}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,o=i.IndicatorSeparator;if(!s||!o)return null;var a=this.commonProps,l=this.props.isDisabled,u=this.state.isFocused;return _.createElement(o,X({},a,{isDisabled:l,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var o=this.commonProps,a=this.props.isDisabled,l=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return _.createElement(s,X({},o,{innerProps:u,isDisabled:a,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),o=s.Group,a=s.GroupHeading,l=s.Menu,u=s.MenuList,c=s.MenuPortal,h=s.LoadingMessage,d=s.NoOptionsMessage,f=s.Option,p=this.commonProps,m=this.state.focusedOption,g=this.props,v=g.captureMenuScroll,b=g.inputValue,y=g.isLoading,x=g.loadingMessage,S=g.minMenuHeight,C=g.maxMenuHeight,T=g.menuIsOpen,A=g.menuPlacement,k=g.menuPosition,M=g.menuPortalTarget,B=g.menuShouldBlockScroll,N=g.menuShouldScrollIntoView,R=g.noOptionsMessage,F=g.onMenuScrollToTop,q=g.onMenuScrollToBottom;if(!T)return null;var Q=function(O,L){var Y=O.type,K=O.data,ue=O.isDisabled,ne=O.isSelected,Ee=O.label,oe=O.value,fe=m===K,Ae=ue?void 0:function(){return i.onOptionHover(K)},Le=ue?void 0:function(){return i.selectOption(K)},_t="".concat(i.getElementId("option"),"-").concat(L),Ot={id:_t,onClick:Le,onMouseMove:Ae,onMouseOver:Ae,tabIndex:-1};return _.createElement(f,X({},p,{innerProps:Ot,data:K,isDisabled:ue,isSelected:ne,key:_t,label:Ee,type:Y,value:oe,isFocused:fe,innerRef:fe?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(O.data,"menu"))},z;if(this.hasOptions())z=this.getCategorizedOptions().map(function(I){if(I.type==="group"){var O=I.data,L=I.options,Y=I.index,K="".concat(i.getElementId("group"),"-").concat(Y),ue="".concat(K,"-heading");return _.createElement(o,X({},p,{key:K,data:O,options:L,Heading:a,headingProps:{id:ue,data:I.data},label:i.formatGroupLabel(I.data)}),I.options.map(function(ne){return Q(ne,"".concat(Y,"-").concat(ne.index))}))}else if(I.type==="option")return Q(I,"".concat(I.index))});else if(y){var $=x({inputValue:b});if($===null)return null;z=_.createElement(h,p,$)}else{var W=R({inputValue:b});if(W===null)return null;z=_.createElement(d,p,W)}var D={minMenuHeight:S,maxMenuHeight:C,menuPlacement:A,menuPosition:k,menuShouldScrollIntoView:N},G=_.createElement(YZ,X({},p,D),function(I){var O=I.ref,L=I.placerProps,Y=L.placement,K=L.maxHeight;return _.createElement(l,X({},p,D,{innerRef:O,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove,id:i.getElementId("listbox")},isLoading:y,placement:Y}),_.createElement(lJ,{captureEnabled:v,onTopArrive:F,onBottomArrive:q,lockEnabled:B},function(ue){return _.createElement(u,X({},p,{innerRef:function(Ee){i.getMenuListRef(Ee),ue(Ee)},isLoading:y,maxHeight:K,focusedOption:m}),z)}))});return M||k==="fixed"?_.createElement(c,X({},p,{appendTo:M,controlElement:this.controlRef,menuPlacement:A,menuPosition:k}),G):G}},{key:"renderFormField",value:function(){var i=this,s=this.props,o=s.delimiter,a=s.isDisabled,l=s.isMulti,u=s.name,c=s.required,h=this.state.selectValue;if(!(!u||a)){if(c&&!this.hasValue())return _.createElement(cJ,{name:u,onFocus:this.onValueInputFocus});if(l)if(o){var d=h.map(function(m){return i.getOptionValue(m)}).join(o);return _.createElement("input",{name:u,type:"hidden",value:d})}else{var f=h.length>0?h.map(function(m,g){return _.createElement("input",{key:"i-".concat(g),name:u,type:"hidden",value:i.getOptionValue(m)})}):_.createElement("input",{name:u,type:"hidden",value:""});return _.createElement("div",null,f)}else{var p=h[0]?this.getOptionValue(h[0]):"";return _.createElement("input",{name:u,type:"hidden",value:p})}}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,o=s.ariaSelection,a=s.focusedOption,l=s.focusedValue,u=s.isFocused,c=s.selectValue,h=this.getFocusableOptions();return _.createElement(KQ,X({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:a,focusedValue:l,isFocused:u,selectValue:c,focusableOptions:h}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,o=i.IndicatorsContainer,a=i.SelectContainer,l=i.ValueContainer,u=this.props,c=u.className,h=u.id,d=u.isDisabled,f=u.menuIsOpen,p=this.state.isFocused,m=this.commonProps=this.getCommonProps();return _.createElement(a,X({},m,{className:c,innerProps:{id:h,onKeyDown:this.onKeyDown},isDisabled:d,isFocused:p}),this.renderLiveRegion(),_.createElement(s,X({},m,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:d,isFocused:p,menuIsOpen:f}),_.createElement(l,X({},m,{isDisabled:d}),this.renderPlaceholderOrValue(),this.renderInput()),_.createElement(o,X({},m,{isDisabled:d}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var o=s.prevProps,a=s.clearFocusValueOnUpdate,l=s.inputIsHiddenAfterUpdate,u=s.ariaSelection,c=s.isFocused,h=s.prevWasFocused,d=i.options,f=i.value,p=i.menuIsOpen,m=i.inputValue,g=i.isMulti,v=U_(f),b={};if(o&&(f!==o.value||d!==o.options||p!==o.menuIsOpen||m!==o.inputValue)){var y=p?_J(i,v):[],x=a?EJ(s,v):null,S=SJ(s,y);b={selectValue:v,focusedOption:S,focusedValue:x,clearFocusValueOnUpdate:!1}}var C=l!=null&&i!==o?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},T=u,A=c&&h;return c&&!A&&(T={value:Sc(g,v,v[0]||null),options:v,action:"initial-input-focus"},A=!h),(u==null?void 0:u.action)==="initial-input-focus"&&(T=null),pe(pe(pe({},b),C),{},{prevProps:i,ariaSelection:T,prevWasFocused:A})}}]),n}(_.Component);GP.defaultProps=wJ;var TJ=_.forwardRef(function(t,e){var n=vK(t);return _.createElement(GP,X({ref:e},n))});const Tf=TJ;function nE(t,e){return we(t,{value:e})}function AJ(t){return ve(t,e=>({value:e.id,label:e.name}))}function PJ({valueChanged:t,defaultValue:e}){const{abilityTypes:n}=_.useContext(Wt),[r,i]=_.useState(AJ(n));return E(Tf,{className:"ability-select",classNames:{control:()=>"select",singleValue:()=>"single-value",menu:()=>"select-menu"},options:r,onChange:s=>t(s==null?void 0:s.value),defaultValue:e?nE(r,e):null,value:nE(r,e)})}function rE(t,e){t&&e&&et(Object.keys(t),n=>{e[n]&&e[n]})}function OJ({tags:t,type:e,tagsChanged:n,typeChanged:r}){const{tagColors:i,setTagColors:s}=_.useContext(Iu),[o,a]=_.useState(t||[]),[l,u]=_.useState(e),[c,h]=_.useState(rE(t,i)||{}),[d,f]=_.useState(null);_.useEffect(()=>{h(rE(t,i)||{})},[i]);const p=(y,x)=>{let S=[...o];S[x]=y,a(S),n(S)},m=()=>{a([...o,""]),n([...o,""]),f(t==null?void 0:t.length)},g=y=>{let x=[...o];x.splice(y,1),a(x),n(x)},v=y=>{u(y),r(y)},b=(y,x)=>{s({type:"add",color:y,tag:x})};return j("div",{className:"tag-select",children:[E(PJ,{defaultValue:e,valueChanged:v}),o==null?void 0:o.map((y,x)=>j("span",{className:"stat-tag form-control",style:{borderColor:i[y]},children:[E("div",{className:"tag-color",children:E(ql,{color:i[y],colorChanged:S=>b(S,y)})}),E(Sr,{autoFocus:d===x,value:y,valueChanged:S=>p(S,x)}),E(st,{clicked:()=>g(x),children:"x"})]})),E("button",{className:"add-tag",onClick:m,children:E(ZT,{size:18})})]})}var IJ=function(e){var n=_.useRef(e);return od(function(){n.current=e}),n},iE=function(e,n){if(typeof e=="function"){e(n);return}e.current=n},RJ=function(e,n){var r=_.useRef();return _.useCallback(function(i){e.current=i,r.current&&iE(r.current,null),r.current=n,n&&iE(n,i)},[n])},sE={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},oE=function(e){Object.keys(sE).forEach(function(n){e.style.setProperty(n,sE[n],"important")})},qt=null,kJ=function(e,n){var r=e.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function MJ(t,e,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),qt||(qt=document.createElement("textarea"),qt.setAttribute("tabindex","-1"),qt.setAttribute("aria-hidden","true"),oE(qt)),qt.parentNode===null&&document.body.appendChild(qt);var i=t.paddingSize,s=t.borderSize,o=t.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(d){var f=d;qt.style[f]=o[f]}),oE(qt),qt.value=e;var l=kJ(qt,t);qt.value="x";var u=qt.scrollHeight-i,c=u*n;a==="border-box"&&(c=c+i+s),l=Math.max(c,l);var h=u*r;return a==="border-box"&&(h=h+i+s),l=Math.min(h,l),[l,u]}var aE=function(){},FJ=function(e,n){return e.reduce(function(r,i){return r[i]=n[i],r},{})},DJ=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],$J=!!document.documentElement.currentStyle,BJ=function(e){var n=window.getComputedStyle(e);if(n===null)return null;var r=FJ(DJ,n),i=r.boxSizing;if(i==="")return null;$J&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},NJ=function(e){var n=IJ(e);_.useLayoutEffect(function(){var r=function(s){n.current(s)};return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}},[])},LJ=function(e,n){var r=e.cacheMeasurements,i=e.maxRows,s=e.minRows,o=e.onChange,a=o===void 0?aE:o,l=e.onHeightChange,u=l===void 0?aE:l,c=an(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),h=c.value!==void 0,d=_.useRef(null),f=RJ(d,n),p=_.useRef(0),m=_.useRef(),g=function(){var y=d.current,x=r&&m.current?m.current:BJ(y);if(x){m.current=x;var S=MJ(x,y.value||y.placeholder||"x",s,i),C=S[0],T=S[1];p.current!==C&&(p.current=C,y.style.setProperty("height",C+"px","important"),u(C,{rowHeight:T}))}},v=function(y){h||g(),a(y)};return _.useLayoutEffect(g),NJ(g),_.createElement("textarea",X({},c,{onChange:v,ref:f}))},UJ=_.forwardRef(LJ);const WP=UJ;function lE(t,e){return we(t,{value:e})}function jJ(t){return ve(t,e=>({value:e.id,label:e.name}))}function uE(t,e,n){const r=ca(mn(jJ(e),i=>!Au(t,i.value)),"label");return n?[{value:null,label:"(None)"},...r]:r}function VP({usedOptions:t,valueChanged:e,defaultValue:n,showEmptyOption:r=!1}){const{abilities:i}=_.useContext(Wt),[s,o]=_.useState(uE(t,i,r));return E(Tf,{className:"ability-select",classNames:{control:()=>"select",singleValue:()=>"single-value",menu:()=>"select-menu"},options:uE(t,i,r),onChange:a=>e(a==null?void 0:a.value),defaultValue:n?lE(s,n):null,value:lE(s,n)})}function Cn({children:t,name:e,startOpen:n,disabled:r=!1}){const[i,s]=_.useState(n),o=a=>{r||s(!i)};return i?j("div",{className:Yl({accordion:!0,open:!0,disabled:r}),children:[j("button",{className:"accordion-button",onClick:o,children:[e,E(XT,{})]}),E("div",{className:"container",children:t})]}):E("div",{className:Yl({accordion:!0,closed:!0,disabled:r}),children:j("button",{className:"accordion-button",onClick:o,children:[e,E("span",{className:"icon",children:E(VT,{})})]})})}function cE(t={}){return t?ve(Object.keys(t),e=>({name:e,value:t[e]})):[]}function hE(t){let e={};return et(t,n=>{e[n.name]=n.value}),e}function zJ({ability:t,abilityChanged:e,editingCanceled:n,abilityRemoved:r,abilityCopied:i}){const{setAbilities:s}=_.useContext(Wt),[o,a]=_.useState(t.id),[l,u]=_.useState(t),[c,h]=_.useState(cE(t.params)),d=_.useRef(null);_.useEffect(()=>{var x;(x=d.current)==null||x.focus()},[]),_.useEffect(()=>{h(cE(t.params)),console.log(t)},[t]);const f=(x,S)=>{u({...l,[x]:S})},p=x=>{u({...l,tags:x})},m=x=>{u({...l,type:x})},g=x=>{h(x)},v=()=>{mr(e)&&e({ability:{...l,params:hE(c)},id:t.id}),s({type:"update",ability:{...l,params:hE(c),tags:yw(l.tags)},targetId:o}),s({type:"save"})},b=()=>{mr(r)&&r(t.id)},y=()=>{const x=`${t.id}-copy`;v(),s({type:"add",ability:{...l,tags:yw(l.tags),id:x,name:`${t.name} Copy`}}),mr(i)&&i({id:x})};return j("div",{className:"ability-card editable",children:[j("div",{className:"name",children:[E(st,{color:"info",clicked:()=>{mr(n)&&n()},children:E(QT,{})}),E("div",{className:"form-control",children:E("input",{ref:d,type:"text",value:l.name,onChange:x=>f("name",x.target.value)})})]}),E("div",{className:"form-control id",children:E("input",{type:"text",value:l.id,onChange:x=>f("id",x.target.value)})}),j("div",{className:"replaces",children:[E("div",{className:"replaces-name",children:"Replaces"}),E(VP,{usedOptions:[l.id],defaultValue:l.replaces,valueChanged:x=>f("replaces",x),showEmptyOption:!0})]}),j("p",{className:"description form-control",children:[" ",E(WP,{placeholder:"Description",rows:10,value:l.description||"",onChange:x=>f("description",x.target.value)})]}),j("div",{className:"accordions",children:[E(Cn,{name:"Tags",startOpen:!0,children:E("div",{className:"tags",children:E(OJ,{tags:l.tags,type:l.type,tagsChanged:p,typeChanged:m})})}),E(Cn,{name:"Params",startOpen:!1,children:E("div",{className:"params",children:E(aL,{params:c,paramsChanged:g})})})]}),j("div",{className:"buttons",children:[j(ss,{type:"outline",color:"success",clicked:v,children:["Save ",E(Xo,{})]}),j(ss,{type:"outline",color:"theme",clicked:y,children:["Save & Copy ",E(rN,{})]}),j(ss,{type:"outline",color:"danger",clicked:b,children:["Delete ",E(da,{})]})]})]})}function HJ(t,e,n){let r=t;return et(Object.keys(e),i=>{let s=e[i];e[i]?r=r.replace(new RegExp(`{\\b${i}\\b}([^*]+)\\{/\\b${i}\\b}`),"$1"):r=r.replace(new RegExp(`{\\b${i}\\b}([^*]+)\\{/\\b${i}\\b}`),""),r=r.replace(new RegExp("%"+i+"%","g"),s)}),console.log(n),et(n,i=>{i.value?r=r.replace(new RegExp(`{@\\b${i.id}\\b}([^*]+)\\{/\\b${i.id}\\b}`),"$1"):r=r.replace(new RegExp(`{@\\b${i.id}\\b}([^*]+)\\{/\\b${i.id}\\b}`),""),console.log(t),r=r.replace(new RegExp(`@%${i.id}%`,"g"),i.value)}),r}function dE(t,e,n){let r,i=Pe(t.params);return i&&e&&et(Object.keys(i),s=>{e[s]&&(i[s]=i[s]+e[s])}),t.params?r=HJ(t.description,i,n):mr(t.description)?r=t.description({}):r=t.description,r}function Af({ability:t,modifiers:e,tags:n,startOpen:r=!0,editable:i=!1,abilityCopied:s,abilityRemoved:o,forceIsEditing:a=!1,isExpanded:l}){var k,M,B,N,R;const{abilityTypes:u}=_.useContext(Wt),{abilities:c,globalParams:h}=_.useContext(Wt),{tagColors:d,setTagColors:f}=_.useContext(Iu),[p,m]=_.useState(dE(t,e,h)),[g,v]=_.useState(r),[b,y]=_.useState(!1),[x,S]=_.useState((k=we(u,{id:t.type}))==null?void 0:k.color);_.useEffect(()=>{gr(l)||v(!!l)},[l]),_.useEffect(()=>{a&&y(!0)},[a]);const C=F=>{y(!1),f({type:"save"})},T=F=>{s(F)},A=F=>{y(!1),o(F)};return _.useEffect(()=>{m(dE(t,e,h))},[t,e]),b?E(zJ,{ability:t,abilityChanged:C,editingCanceled:()=>y(!1),abilityCopied:T,abilityRemoved:A}):j("div",{className:"ability-card",style:{borderColor:x},children:[j("div",{className:"name",children:[i&&E(st,{color:"mutedText",clicked:()=>y(!b),children:E(KT,{})}),j("button",{className:"card-title",onClick:()=>v(!g),children:[j("div",{className:"left",children:[t.name,E("div",{className:"dots",children:!g&&ve(t.tags,F=>E("span",{className:"dot",style:{backgroundColor:d[F]}}))})]}),E("div",{className:"chevron",children:g?E(XT,{}):E(VT,{})})]})]}),g?j("div",{className:"collapsible-content",children:[j("div",{className:"top",children:[t.replaces&&j("div",{className:"replaces",children:["Replaces"," ",E("span",{children:(M=we(c,{id:t.replaces}))==null?void 0:M.name})]}),E("p",{className:"description",children:p})]}),E("div",{className:"bottom",children:j("div",{className:"tags",children:[E(e0,{color:((B=we(u,{id:t.type}))==null?void 0:B.color)||"#ffffff",label:(N=we(u,{id:t.type}))==null?void 0:N.name,emphasize:!0}),(R=Jd([...t.tags||[],...n||[]]))==null?void 0:R.map(F=>E(e0,{label:F}))]})})]}):""]})}const GJ=(t,e)=>{if(t)return t!=null&&t.levels?(e==null?void 0:e.acquired[t==null?void 0:t.id])>0:e==null?void 0:e.selected[t==null?void 0:t.id]};function fE(t,e){return ve(t==null?void 0:t.providedAbilities,n=>({...we(e,{id:n.id}),modifiers:{}}))}function pE(t,e,n){let r={};return et(t,i=>{var o;let s={...(o=e==null?void 0:e.abilities[i==null?void 0:i.id])==null?void 0:o.modifiers};et(i.modifiers,a=>{n||(gr(s[a.id])?s[a.id]=a.modifier:s[a.id]+=a.modifier)}),r[i.id]=s}),r}function mE(t,e){if(t!=null&&t.length)return jT(t,(n,r)=>{const i=we(e,{id:r.id});let s;return r.levels&&r.levels>1?s=`${i==null?void 0:i.name} (${r.levels})`:s=i==null?void 0:i.name,[...n,s]},[]).join(" + ")}function WJ(){var m;const{selectedNodeId:t,nodes:e,nodeMeta:n}=_.useContext(Zr),{build:r}=_.useContext(ha),{abilities:i}=_.useContext(Wt),[s,o]=_.useState(we(e,{id:t})),[a,l]=_.useState(fE(s,i)),[u,c]=_.useState(s?pE(s==null?void 0:s.providedAbilities,r,s==null?void 0:s.selected):{}),[h,d]=_.useState(mE(s==null?void 0:s.requires,e));_.useState(!1);let f=(m=s==null?void 0:s.colors)==null?void 0:m.selected;_.useEffect(()=>{o(we(e,{id:t}))},[t]),_.useEffect(()=>{var g;s&&(f=(g=s==null?void 0:s.colors)==null?void 0:g.selected,l(fE(s,i)),c(pE(s==null?void 0:s.providedAbilities,r,s==null?void 0:s.selected)),d(mE(s==null?void 0:s.requires,e)))},[s]);const p=s!=null&&s.levels?E("span",{className:"cost",children:Ou(s==null?void 0:s.levels,g=>{var v;return E("span",{className:"level-points",style:{background:(n==null?void 0:n.acquired[s==null?void 0:s.id])>g?f:"#666"},children:(v=s==null?void 0:s.levelCost)!=null&&v.length?s==null?void 0:s.levelCost[g]:s==null?void 0:s.levelCost})})}):E("span",{className:"cost",children:E("span",{className:"level-points",style:{background:GJ(s,n)?f:"#666"},children:(s==null?void 0:s.cost)>1?s==null?void 0:s.cost:""})});return s?j("div",{className:"info-panel",children:[E("div",{className:"edit"}),p,j("div",{className:"title",children:[s==null?void 0:s.name," "]}),E("div",{className:"divider",style:{backgroundColor:f}}),n!=null&&n.available[s==null?void 0:s.id]?null:j("div",{className:"requires",children:["Requires ",E("span",{className:"skill",children:h})]}),E("div",{className:"info-description",children:s==null?void 0:s.description}),a.length>0&&j("div",{className:"abilities",children:[E("div",{className:"title",children:"Related Abilities:"}),a&&a.map(g=>E(Af,{ability:g,modifiers:u[g.id]}))]})]}):E("div",{className:"info-panel",children:"Select a Node "})}const Mi=_.createContext({}),VJ=({children:t})=>{const[e,n]=_.useState("build"),[r,i]=_.useState(!0),[s,o]=_.useState(!0);return E(Mi.Provider,{value:{appMode:e,setAppMode:n,rightExpanded:r,setRightExpanded:i,leftExpanded:s,setLeftExpanded:o},children:t})};function gE({itemSelected:t}){return j("div",{className:"left-menu",children:[E("button",{type:"button",onClick:r=>t(r,"info"),children:E(oN,{})}),E("button",{type:"button",onClick:r=>t(r,"settings"),children:E(zN,{})})]})}function XJ({children:t,itemSelected:e,expanded:n}){const[r,i]=_.useState(null),{leftExpanded:s,setLeftExpanded:o,rightExpanded:a,setRightExpanded:l}=_.useContext(Mi),u=(c,h)=>{(h===r||!s)&&o(!s),i(h),e(h)};return s?j("div",{className:"sidebar-left",children:[E(gE,{itemSelected:u}),E("div",{className:"sidebar-left-panel",children:t})]}):E("div",{className:"sidebar-left",children:E(gE,{itemSelected:u})})}function YJ(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,nd(t,e)}function Hp(t){return t&&t.stopPropagation&&t.stopPropagation(),t&&t.preventDefault&&t.preventDefault(),!1}function Gp(t){return t==null?[]:Array.isArray(t)?t.slice():[t]}function Cc(t){return t!==null&&t.length===1?t[0]:t.slice()}function Tc(t){Object.keys(t).forEach(e=>{typeof document<"u"&&document.addEventListener(e,t[e],!1)})}function $i(t,e){return p0(function(n,r){let i=n;return i<=r.min&&(i=r.min),i>=r.max&&(i=r.max),i}(t,e),e)}function p0(t,e){const n=(t-e.min)%e.step;let r=t-n;return 2*Math.abs(n)>=e.step&&(r+=n>0?e.step:-e.step),parseFloat(r.toFixed(5))}let m0=function(t){function e(r){var i;(i=t.call(this,r)||this).onKeyUp=()=>{i.onEnd()},i.onMouseUp=()=>{i.onEnd(i.getMouseEventMap())},i.onTouchEnd=()=>{i.onEnd(i.getTouchEventMap())},i.onBlur=()=>{i.setState({index:-1},i.onEnd(i.getKeyDownEventMap()))},i.onMouseMove=a=>{i.setState({pending:!0});const l=i.getMousePosition(a),u=i.getDiffPosition(l[0]),c=i.getValueFromPosition(u);i.move(c)},i.onTouchMove=a=>{if(a.touches.length>1)return;i.setState({pending:!0});const l=i.getTouchPosition(a);if(i.isScrolling===void 0){const h=l[0]-i.startPosition[0],d=l[1]-i.startPosition[1];i.isScrolling=Math.abs(d)>Math.abs(h)}if(i.isScrolling)return void i.setState({index:-1});const u=i.getDiffPosition(l[0]),c=i.getValueFromPosition(u);i.move(c)},i.onKeyDown=a=>{if(!(a.ctrlKey||a.shiftKey||a.altKey||a.metaKey))switch(i.setState({pending:!0}),a.key){case"ArrowLeft":case"ArrowDown":case"Left":case"Down":a.preventDefault(),i.moveDownByStep();break;case"ArrowRight":case"ArrowUp":case"Right":case"Up":a.preventDefault(),i.moveUpByStep();break;case"Home":a.preventDefault(),i.move(i.props.min);break;case"End":a.preventDefault(),i.move(i.props.max);break;case"PageDown":a.preventDefault(),i.moveDownByStep(i.props.pageFn(i.props.step));break;case"PageUp":a.preventDefault(),i.moveUpByStep(i.props.pageFn(i.props.step))}},i.onSliderMouseDown=a=>{if(!i.props.disabled&&a.button!==2){if(i.setState({pending:!0}),!i.props.snapDragDisabled){const l=i.getMousePosition(a);i.forceValueFromPosition(l[0],u=>{i.start(u,l[0]),Tc(i.getMouseEventMap())})}Hp(a)}},i.onSliderClick=a=>{if(!i.props.disabled&&i.props.onSliderClick&&!i.hasMoved){const l=i.getMousePosition(a),u=$i(i.calcValue(i.calcOffsetFromPosition(l[0])),i.props);i.props.onSliderClick(u)}},i.createOnKeyDown=a=>l=>{i.props.disabled||(i.start(a),Tc(i.getKeyDownEventMap()),Hp(l))},i.createOnMouseDown=a=>l=>{if(i.props.disabled||l.button===2)return;i.setState({pending:!0});const u=i.getMousePosition(l);i.start(a,u[0]),Tc(i.getMouseEventMap()),Hp(l)},i.createOnTouchStart=a=>l=>{if(i.props.disabled||l.touches.length>1)return;i.setState({pending:!0});const u=i.getTouchPosition(l);i.startPosition=u,i.isScrolling=void 0,i.start(a,u[0]),Tc(i.getTouchEventMap()),function(c){c.stopPropagation&&c.stopPropagation()}(l)},i.handleResize=()=>{const a=window.setTimeout(()=>{i.pendingResizeTimeouts.shift(),i.resize()},0);i.pendingResizeTimeouts.push(a)},i.renderThumb=(a,l)=>{const u=i.props.thumbClassName+" "+i.props.thumbClassName+"-"+l+" "+(i.state.index===l?i.props.thumbActiveClassName:""),c={ref:d=>{i["thumb"+l]=d},key:i.props.thumbClassName+"-"+l,className:u,style:a,onMouseDown:i.createOnMouseDown(l),onTouchStart:i.createOnTouchStart(l),onFocus:i.createOnKeyDown(l),tabIndex:0,role:"slider","aria-orientation":i.props.orientation,"aria-valuenow":i.state.value[l],"aria-valuemin":i.props.min,"aria-valuemax":i.props.max,"aria-label":Array.isArray(i.props.ariaLabel)?i.props.ariaLabel[l]:i.props.ariaLabel,"aria-labelledby":Array.isArray(i.props.ariaLabelledby)?i.props.ariaLabelledby[l]:i.props.ariaLabelledby},h={index:l,value:Cc(i.state.value),valueNow:i.state.value[l]};return i.props.ariaValuetext&&(c["aria-valuetext"]=typeof i.props.ariaValuetext=="string"?i.props.ariaValuetext:i.props.ariaValuetext(h)),i.props.renderThumb(c,h)},i.renderTrack=(a,l,u)=>{const c={key:i.props.trackClassName+"-"+a,className:i.props.trackClassName+" "+i.props.trackClassName+"-"+a,style:i.buildTrackStyle(l,i.state.upperBound-u)},h={index:a,value:Cc(i.state.value)};return i.props.renderTrack(c,h)};let s=Gp(r.value);s.length||(s=Gp(r.defaultValue)),i.pendingResizeTimeouts=[];const o=[];for(let a=0;a<s.length;a+=1)s[a]=$i(s[a],r),o.push(a);return i.resizeObserver=null,i.resizeElementRef=w.createRef(),i.state={index:-1,upperBound:0,sliderLength:0,value:s,zIndices:o},i}YJ(e,t);var n=e.prototype;return n.componentDidMount=function(){typeof window<"u"&&(this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.resizeElementRef.current),this.resize())},e.getDerivedStateFromProps=function(r,i){const s=Gp(r.value);return s.length?i.pending?null:{value:s.map(o=>$i(o,r))}:null},n.componentDidUpdate=function(){this.state.upperBound===0&&this.resize()},n.componentWillUnmount=function(){this.clearPendingResizeTimeouts(),this.resizeObserver&&this.resizeObserver.disconnect()},n.onEnd=function(r){r&&function(i){Object.keys(i).forEach(s=>{typeof document<"u"&&document.removeEventListener(s,i[s],!1)})}(r),this.hasMoved&&this.fireChangeEvent("onAfterChange"),this.setState({pending:!1}),this.hasMoved=!1},n.getValue=function(){return Cc(this.state.value)},n.getClosestIndex=function(r){let i=Number.MAX_VALUE,s=-1;const{value:o}=this.state,a=o.length;for(let l=0;l<a;l+=1){const u=this.calcOffset(o[l]),c=Math.abs(r-u);c<i&&(i=c,s=l)}return s},n.getMousePosition=function(r){return[r["page"+this.axisKey()],r["page"+this.orthogonalAxisKey()]]},n.getTouchPosition=function(r){const i=r.touches[0];return[i["page"+this.axisKey()],i["page"+this.orthogonalAxisKey()]]},n.getKeyDownEventMap=function(){return{keydown:this.onKeyDown,keyup:this.onKeyUp,focusout:this.onBlur}},n.getMouseEventMap=function(){return{mousemove:this.onMouseMove,mouseup:this.onMouseUp}},n.getTouchEventMap=function(){return{touchmove:this.onTouchMove,touchend:this.onTouchEnd}},n.getValueFromPosition=function(r){const i=r/(this.state.sliderLength-this.state.thumbSize)*(this.props.max-this.props.min);return $i(this.state.startValue+i,this.props)},n.getDiffPosition=function(r){let i=r-this.state.startPosition;return this.props.invert&&(i*=-1),i},n.resize=function(){const{slider:r,thumb0:i}=this;if(!r||!i)return;const s=this.sizeKey(),o=r.getBoundingClientRect(),a=r[s],l=o[this.posMaxKey()],u=o[this.posMinKey()],c=i.getBoundingClientRect()[s.replace("client","").toLowerCase()],h=a-c,d=Math.abs(l-u);this.state.upperBound===h&&this.state.sliderLength===d&&this.state.thumbSize===c||this.setState({upperBound:h,sliderLength:d,thumbSize:c})},n.calcOffset=function(r){const i=this.props.max-this.props.min;return i===0?0:(r-this.props.min)/i*this.state.upperBound},n.calcValue=function(r){return r/this.state.upperBound*(this.props.max-this.props.min)+this.props.min},n.calcOffsetFromPosition=function(r){const{slider:i}=this,s=i.getBoundingClientRect(),o=s[this.posMaxKey()],a=s[this.posMinKey()];let l=r-(window["page"+this.axisKey()+"Offset"]+(this.props.invert?o:a));return this.props.invert&&(l=this.state.sliderLength-l),l-=this.state.thumbSize/2,l},n.forceValueFromPosition=function(r,i){const s=this.calcOffsetFromPosition(r),o=this.getClosestIndex(s),a=$i(this.calcValue(s),this.props),l=this.state.value.slice();l[o]=a;for(let u=0;u<l.length-1;u+=1)if(l[u+1]-l[u]<this.props.minDistance)return;this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0,this.setState({value:l},()=>{i(o),this.fireChangeEvent("onChange")})},n.clearPendingResizeTimeouts=function(){do{const r=this.pendingResizeTimeouts.shift();clearTimeout(r)}while(this.pendingResizeTimeouts.length)},n.start=function(r,i){const s=this["thumb"+r];s&&s.focus();const{zIndices:o}=this.state;o.splice(o.indexOf(r),1),o.push(r),this.setState(a=>({startValue:a.value[r],startPosition:i!==void 0?i:a.startPosition,index:r,zIndices:o}))},n.moveUpByStep=function(r){r===void 0&&(r=this.props.step);const i=$i(this.state.value[this.state.index]+r,this.props);this.move(Math.min(i,this.props.max))},n.moveDownByStep=function(r){r===void 0&&(r=this.props.step);const i=$i(this.state.value[this.state.index]-r,this.props);this.move(Math.max(i,this.props.min))},n.move=function(r){const{index:i,value:s}=this.state,{length:o}=s,a=s[i];if(r===a)return;this.hasMoved||this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0;const{pearling:l,max:u,min:c,minDistance:h}=this.props;if(!l){if(i>0){const d=s[i-1];r<d+h&&(r=d+h)}if(i<o-1){const d=s[i+1];r>d-h&&(r=d-h)}}s[i]=r,l&&o>1&&(r>a?(this.pushSucceeding(s,h,i),function(d,f,p,m){for(let g=0;g<d;g+=1){const v=m-g*p;f[d-1-g]>v&&(f[d-1-g]=v)}}(o,s,h,u)):r<a&&(this.pushPreceding(s,h,i),function(d,f,p,m){for(let g=0;g<d;g+=1){const v=m+g*p;f[g]<v&&(f[g]=v)}}(o,s,h,c))),this.setState({value:s},this.fireChangeEvent.bind(this,"onChange"))},n.pushSucceeding=function(r,i,s){let o,a;for(o=s,a=r[o]+i;r[o+1]!==null&&a>r[o+1];o+=1,a=r[o]+i)r[o+1]=p0(a,this.props)},n.pushPreceding=function(r,i,s){for(let o=s,a=r[o]-i;r[o-1]!==null&&a<r[o-1];o-=1,a=r[o]-i)r[o-1]=p0(a,this.props)},n.axisKey=function(){return this.props.orientation==="vertical"?"Y":"X"},n.orthogonalAxisKey=function(){return this.props.orientation==="vertical"?"X":"Y"},n.posMinKey=function(){return this.props.orientation==="vertical"?this.props.invert?"bottom":"top":this.props.invert?"right":"left"},n.posMaxKey=function(){return this.props.orientation==="vertical"?this.props.invert?"top":"bottom":this.props.invert?"left":"right"},n.sizeKey=function(){return this.props.orientation==="vertical"?"clientHeight":"clientWidth"},n.fireChangeEvent=function(r){this.props[r]&&this.props[r](Cc(this.state.value),this.state.index)},n.buildThumbStyle=function(r,i){const s={position:"absolute",touchAction:"none",willChange:this.state.index>=0?this.posMinKey():void 0,zIndex:this.state.zIndices.indexOf(i)+1};return s[this.posMinKey()]=r+"px",s},n.buildTrackStyle=function(r,i){const s={position:"absolute",willChange:this.state.index>=0?this.posMinKey()+","+this.posMaxKey():void 0};return s[this.posMinKey()]=r,s[this.posMaxKey()]=i,s},n.buildMarkStyle=function(r){var i;return(i={position:"absolute"})[this.posMinKey()]=r,i},n.renderThumbs=function(r){const{length:i}=r,s=[];for(let a=0;a<i;a+=1)s[a]=this.buildThumbStyle(r[a],a);const o=[];for(let a=0;a<i;a+=1)o[a]=this.renderThumb(s[a],a);return o},n.renderTracks=function(r){const i=[],s=r.length-1;i.push(this.renderTrack(0,0,r[0]));for(let o=0;o<s;o+=1)i.push(this.renderTrack(o+1,r[o],r[o+1]));return i.push(this.renderTrack(s+1,r[s],this.state.upperBound)),i},n.renderMarks=function(){let{marks:r}=this.props;const i=this.props.max-this.props.min+1;return typeof r=="boolean"?r=Array.from({length:i}).map((s,o)=>o):typeof r=="number"&&(r=Array.from({length:i}).map((s,o)=>o).filter(s=>s%r==0)),r.map(parseFloat).sort((s,o)=>s-o).map(s=>{const o=this.calcOffset(s),a={key:s,className:this.props.markClassName,style:this.buildMarkStyle(o)};return this.props.renderMark(a)})},n.render=function(){const r=[],{value:i}=this.state,s=i.length;for(let u=0;u<s;u+=1)r[u]=this.calcOffset(i[u],u);const o=this.props.withTracks?this.renderTracks(r):null,a=this.renderThumbs(r),l=this.props.marks?this.renderMarks():null;return w.createElement("div",{ref:u=>{this.slider=u,this.resizeElementRef.current=u},style:{position:"relative"},className:this.props.className+(this.props.disabled?" disabled":""),onMouseDown:this.onSliderMouseDown,onClick:this.onSliderClick},o,a,l)},e}(w.Component);m0.displayName="ReactSlider",m0.defaultProps={min:0,max:100,step:1,pageFn:t=>10*t,minDistance:0,defaultValue:0,orientation:"horizontal",className:"slider",thumbClassName:"thumb",thumbActiveClassName:"active",trackClassName:"track",markClassName:"mark",withTracks:!0,pearling:!1,disabled:!1,snapDragDisabled:!1,invert:!1,marks:[],renderThumb:t=>w.createElement("div",t),renderTrack:t=>w.createElement("div",t),renderMark:t=>w.createElement("span",t)};var Ac=m0;function qJ({graphEvents$:t}){const[e,n]=_.useState(50),[r,i]=_.useState(50),[s,o]=_.useState(50),[a,l]=_.useState(50),[u,c]=_.useState({});_.useEffect(()=>{},[u]);const h=g=>{n(g),m()},d=g=>{i(g),m()},f=g=>{o(g),m()},p=g=>{l(g),m()},m=()=>{t.next({event:"forcesUpdated",data:{forces:{f1:e,f2:r,f3:s,f4:a}}})};return j("div",{children:[E("div",{className:"slider",children:E(Ac,{min:0,max:100,defaultValue:[25],className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:h,renderThumb:(g,v)=>E("div",{...g,children:v.valueNow})})}),E("div",{className:"slider",children:E(Ac,{min:0,max:50,defaultValue:[25],className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:d,renderThumb:(g,v)=>E("div",{...g,children:v.valueNow})})}),E("div",{className:"slider",children:E(Ac,{defaultValue:[70],className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:f,renderThumb:(g,v)=>E("div",{...g,children:v.valueNow})})}),E("div",{className:"slider",children:E(Ac,{className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:p,renderThumb:(g,v)=>E("div",{...g,children:v.valueNow})})})]})}function KJ(t,e){const n=ve(t,r=>r.id);return mn(e,r=>!Au(n,r.value))}function XP({providedStats:t=[],providedStatsChanged:e,options:n,name:r}){const i=(u,c)=>{const h=Pe(t);h[c].id=u.value,e(h)},s=(u,c)=>{const h=Pe(t);h[c].modifier=parseInt(u.target.value,10),e(h)},o=(u,c)=>{let h=Pe(t);h=mn(h,(d,f)=>c!==f),e(h)},a=()=>{let u=Pe(t);u.push({id:"",modifier:1,set:!1}),e(u)},l=u=>{const c=Pe(t);c[u].set=!c[u].set,e(c)};return j("div",{className:"stats-panel",children:[t!=null&&t.length?ve(t,(u,c)=>j("div",{className:"stat-edit-line",children:[E("button",{className:"remove",onClick:h=>o(h,c),children:E(JT,{})}),E(Tf,{classNames:{control:()=>"select",singleValue:()=>"single-value",menu:()=>"select-menu"},options:KJ(t,n),onChange:h=>i(h,c),value:we(n,{value:u.id})}),E("input",{type:"number",value:u==null?void 0:u.modifier,onChange:h=>s(h,c)}),E("button",{onClick:h=>l(c),style:{color:u!=null&&u.set?"#fff":"#222"},children:E(gN,{})})]})):"",E("div",{className:"add-button",children:j("button",{onClick:a,children:["Add ",r,E(nr,{})]})})]})}function ZJ(t,e){const n=we(e,{id:t});return n!=null&&n.params?ve(Object.keys(n.params),r=>({label:r,value:r})):[]}function QJ(t){let e={};return et(t,n=>{e[n.id]=n.modifier}),e}function JJ({providedAbilities:t,providedAbilitiesChanged:e}){const n=_.useContext(Wt).abilities,[r,i]=_.useState(t),s=(c,h)=>{const d=Pe(r);d[h].id=c,d[h].modifiers=[],e(d)},o=(c,h)=>{let d=Pe(r);d=mn(d,(f,p)=>h!==p),e(d)},a=()=>{let c=Pe(r);c.push({id:"",modifier:1}),e(c)},l=(c,h)=>{const d=Pe(r);d[h].modifiers=c,e(d)},u=(c,h)=>{const d=Pe(r);d[h].gain=!d[h].gain,e(d)};return _.useEffect(()=>{i(()=>t)},[t]),j("div",{className:"abilities-panel",children:[r.length?ve(r,(c,h)=>{var d;return j("div",{className:"stat-edit-line",children:[j("div",{className:"ability-select",children:[E("button",{className:"remove-ability-button",onClick:f=>o(f,h),children:E(JT,{})}),E(VP,{usedOptions:ve(r,"id"),defaultValue:c.id,valueChanged:f=>s(f,h)})]}),c.id?j("div",{className:"ability-options",children:[we(n,{id:c==null?void 0:c.id})&&E(Af,{ability:we(n,{id:c==null?void 0:c.id}),modifiers:QJ(c.modifiers),isPlayerAbility:!1,editable:!0,startOpen:!1}),E("div",{className:"grant",children:j("label",{children:["Grant",E("input",{type:"checkbox",checked:c.gain,onChange:f=>u(f,h)})]})}),(d=we(n,{id:c==null?void 0:c.id}))!=null&&d.params?E(XP,{providedStats:c.modifiers,providedStatsChanged:f=>l(f,h),options:ZJ(c.id,n),name:"Modifier"}):""]}):""]})}):"",E("div",{className:"add-button",children:j("button",{onClick:a,children:["Add Ability",E(nr,{})]})})]})}function vE(t,e,n){if(e){if(t!=null&&t.length)return t;{const r=[];return Ou(e,()=>r.push(t||n||1)),r}}else return[n||1]}function Wp(t,e,n){n({levels:t,levelCost:e})}function eee({levels:t,levelCost:e,cost:n,color:r,levelsChanged:i}){const[s,o]=_.useState(t||1),[a,l]=_.useState(vE(e,t||1,n||1));_.useEffect(()=>{o(t||1),l(vE(e,t,n))},[t,e,n]);const u=d=>{let f=s+1,p=a;p.length&&(p=[...p,1]),Wp(f,p,i)},c=d=>{let f=t,p=e;t>1&&(f=t-1,p.length&&(p=p.slice(0,p.length-1))),Wp(f,p,i)},h=(d,f)=>{let p=Pe(a);d.shiftKey?p[f]>1&&(p[f]-=1):p[f]+=1,Wp(s,p,i)};return j("div",{className:"cost-panel",children:[E("button",{onClick:c,children:E(bN,{})}),E("div",{className:"levels",children:Ou(s,d=>E("span",{onClick:f=>h(f,d),className:"level-points",children:E("span",{className:"level-dot",style:{background:r},children:a.length?a[d]:a})}))}),E("button",{onClick:u,children:E(nr,{})})]})}const ju=_.createContext({});function tee(){const t=window.localStorage.getItem("dragon-stats");return t?JSON.parse(t):[]}const nee=(t,e)=>{const{index:n,stat:r,stats:i,type:s}=e;let o=Pe(t);if(s==="save")try{window.localStorage.setItem("dragon-stats",JSON.stringify(o))}catch{}if(s==="add")return o=[...o,r],o;if(s==="set")return o=i,window.localStorage.setItem("dragon-stats",JSON.stringify(o)),o;if(s==="update")return o[n]=r,o;if(s==="remove"){const a=t.findIndex(u=>u.id===r.id);if(a<0)return t;const l=[...t];return l.splice(a,1),l}return t},ree=({children:t})=>{const[e,n]=_.useReducer(nee,tee());return E(ju.Provider,{value:{stats:e,setStats:n},children:t})};function yE(t,e,n){return n?ve(e,r=>we(t,{value:r})):we(t,{value:e})}function iee(t){return ve(t,e=>({value:e.id,label:e.name}))}function Pc(t,e,n){const r=ca(mn(iee(e),i=>!Au(t,i.value)),"label");return n?[{value:null,label:"(None)"},...r]:r}function see({usedOptions:t,valueChanged:e,defaultValue:n,showEmptyOption:r=!1,isMulti:i=!1}){const{nodes:s}=_.useContext(Zr),[o,a]=_.useState(Pc(t,s,r)),[l,u]=_.useState(yE(o,n,i));_.useEffect(()=>{a(Pc(t,s,r))},[l]),_.useEffect(()=>{a(Pc(t,s,r)),u(yE(o,n,i))},[n,s]);const c=h=>{e(i?ve(h,"value"):h.value)};return E(Tf,{isMulti:i,className:"node-select",classNames:{control:()=>"select",singleValue:()=>"single-value",menu:()=>"select-menu"},options:Pc(t,s,r),onChange:c,value:l})}function oee({value:t,requirementType:e,valueChanged:n,nodeId:r}){const[i,s]=_.useState(t),[o,a]=_.useState(e==="or"),{nodes:l}=_.useContext(Zr);_.useEffect(()=>{s(t),a(e==="or")},[t,e]);const u=(f,p,m)=>{let g=[...i];g[p][m]=f,n({requires:g,requirementType:o?"or":"and"})},c=f=>{let p=[...i];p.splice(f,1),n({requires:p,requirementType:o?"or":"and"})},h=()=>{let f=[...i];f.push({levels:"1"}),n({requires:f,requirementType:o?"or":"and"})},d=()=>{n({requires:i,requirementType:o?"and":"or"})};return j("div",{className:"require-select",children:[ve(i,(f,p)=>{var m;return j("div",{className:"requirement",children:[j("div",{className:"select",children:[E(see,{defaultValue:f.id,usedOptions:[r],valueChanged:g=>u(g,p,"id")}),((m=we(l,{id:f.id}))==null?void 0:m.levels)>1?E(ky,{value:f.levels,valueChanged:g=>u(g,p,"levels"),min:1,max:we(l,{id:f.id}).levels||1}):E("span",{})]}),E(st,{clicked:g=>c(p),color:"danger",children:E(KN,{})})]})}),i.length>1&&E("div",{className:"requirementType",children:j("label",{children:[E("input",{type:"checkbox",checked:o,onChange:d}),"Requires only one"]})}),E(st,{color:"mutdWhite",clicked:h,children:E(nr,{})})]})}function aee(t){return ve(t,e=>({value:e.id,label:e.name}))}function lee({graphEvents:t}){const{selectedNodeId:e,nodes:n,setNodes:r,setSelectedNodeId:i}=_.useContext(Zr),{stats:s}=_.useContext(ju),[o,a]=_.useState(we(n,{id:e})||{}),[l,u]=_.useState(o.id),[c,h]=_.useState(o.name),[d,f]=_.useState(o.description),[p,m]=_.useState(o.levels),[g,v]=_.useState(o.levelCost),[b,y]=_.useState(o.cost),[x,S]=_.useState(o.providedStats||[]),[C,T]=_.useState(o.providedAbilities||[]),[A,k]=_.useState(o.colors||{}),[M,B]=_.useState(o.id),[N,R]=_.useState(o.requires||[]),[F,q]=_.useState(o.requirementType||"and"),[Q,z]=_.useState(!1),$=_.useRef(null);_.useEffect(()=>{a(we(n,{id:e})||{}),z(!1)},[e]);const W=oe=>{u(oe.target.value),z(!0)},D=oe=>{h(oe.target.value),z(!0)},G=oe=>{f(oe.target.value),z(!0)},I=oe=>{var Le,_t;L();const fe=(Le=mn(n,Ot=>Pu(Ot.requires,{id:Ot.id})))==null?void 0:Le.length;let Ae={name:"NEW NODE",requires:[{id:e,levels:1}],id:`${o.id}-${fe+1}-${Ew(["a","b","c","d","e"])}${Ew(["x","z","y","v","d"])}`,colors:o.colors};r({type:"add",node:Ae}),t.next({event:"nodeAdded",data:{node:Ae}}),(_t=$.current)==null||_t.focus()},O=oe=>{t.next({event:"nodeDeleted",data:{id:l}}),r({type:"remove",node:o})},L=oe=>{const fe={id:l,name:c,requires:N,requirementType:N.length<2?"and":F,description:d,colors:A};p===1?g!=null&&g.length?fe.cost=g[0]:fe.cost=1:(fe.levels=p,fe.levelCost=g),x.length&&(fe.providedStats=x),C.length&&(fe.providedAbilities=C),t.next({event:"nodeEdited",data:{id:M,node:fe}}),z(!1),r({type:"update",node:fe,targetId:M})},Y=oe=>{S(oe),z(!0)},K=oe=>{T(oe),z(!0)},ue=oe=>{v(oe.levelCost),m(oe.levels),z(!0)},ne=(oe,fe)=>{k({...A,[fe]:oe}),z(!0)},Ee=oe=>{R(oe.requires),q(oe.requirementType),z(!0)};return w.useEffect(()=>{k(o.colors||{}),u(o.id),h(o.name),f(o.description),m(o.levels||1),v(o.levelCost),y(o.cost),S(o.providedStats||[]),T(o.providedAbilities||[]),B(o.id),R(o.requires||[]),q(o.requirementType||"and")},[o]),o.id?j("div",{className:"edit-panel",children:[E("div",{className:"edit-panel-top",children:E(eee,{levels:p,levelCost:g,cost:b,color:A.selected,levelsChanged:ue})}),E("div",{className:"form-control name",children:E("input",{type:"text",ref:$,onChange:D,value:c||""})}),E("div",{className:"form-control id",children:E("input",{type:"text",onChange:W,value:l||""})}),j("div",{className:"colors",children:[E("div",{className:"color-item",children:E(ql,{color:A.unavailable,colorChanged:oe=>ne(oe,"unavailable")})}),E("div",{className:"color-item",children:E(ql,{color:A.selected,colorChanged:oe=>ne(oe,"selected")})})]}),j("div",{className:"requires",children:["Requires"," ",E(oee,{requirementType:F,value:N,valueChanged:Ee,nodeId:l})]}),E("div",{className:"form-control node-description",children:E(WP,{rows:4,onChange:G,value:d||""})}),E(Cn,{name:"Stats",startOpen:!1,children:E(XP,{providedStats:x,providedStatsChanged:Y,options:aee(s),name:"Stat"})}),E(Cn,{name:"Abilities",startOpen:!1,children:E(JJ,{providedAbilities:C,providedAbilitiesChanged:K})}),j("div",{className:"buttons",children:[j(ss,{disabled:!Q,type:"outline",color:"success",clicked:L,children:[E(Xo,{}),Q?"Save Node":"Node Saved"]}),j(ss,{type:"outline",color:"success",clicked:I,children:[j("span",{children:[E(Xo,{}),E(nr,{})]}),"Save and Add Child Node"]}),j(ss,{type:"outline",clicked:O,color:"danger",children:[E(da,{}),"Delete Node"]})]})]}):E("div",{className:"edit-panel",children:"Select a Node"})}function uee({graphEvents$:t}){const{node:e,selectedNodeId:n}=_.useContext(Zr),{appMode:r}=_.useContext(Mi),[i,s]=_.useState("info"),[o,a]=_.useState(!!e),l=u=>{s(u)};return _.useEffect(()=>{a(!!n)},[n]),j(XJ,{itemSelected:l,expanded:void 0,children:[i==="info"?E("div",{children:r==="edit"?E(lee,{graphEvents:t}):E(WJ,{})}):"",i==="settings"?E(qJ,{graphEvents$:t}):""]})}function oo(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function YP(t){if(!oo(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=YP(t[n])}),e}function Pn(t,e,n={clone:!0}){const r=n.clone?X({},t):t;return oo(t)&&oo(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(oo(e[i])&&i in t&&oo(t[i])?r[i]=Pn(t[i],e[i],n):n.clone?r[i]=oo(e[i])?YP(e[i]):e[i]:r[i]=e[i])}),r}function Zo(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}function Fo(t){if(typeof t!="string")throw new Error(Zo(7));return t.charAt(0).toUpperCase()+t.slice(1)}function cee(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function hee(...t){return _.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{cee(n,e)})},t)}function qP(t,e){const n=X({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=X({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=X({},s),Object.keys(i).forEach(o=>{n[r][o]=qP(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function dee(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const bE=t=>t,fee=()=>{let t=bE;return{configure(e){t=e},generate(e){return t(e)},reset(){t=bE}}},pee=fee(),mee=pee,gee={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function KP(t,e,n="Mui"){const r=gee[e];return r?`${n}-${r}`:`${mee.generate(t)}-${e}`}function vee(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=KP(t,i,n)}),r}function ZP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=ZP(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function yee(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=ZP(t))&&(r&&(r+=" "),r+=e);return r}var bee=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,xee=tP(function(t){return bee.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),wee=xee,_ee=function(e){return e!=="theme"},xE=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?wee:_ee},wE=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},Eee=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return y1(n,r,i),uP(function(){return aP(n,r,i)}),null},See=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=wE(e,n,r),l=a||xE(i),u=!l("as");return function(){var c=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)h.push.apply(h,c);else{h.push(c[0][0]);for(var d=c.length,f=1;f<d;f++)h.push(c[f],c[0][f])}var p=hP(function(m,g,v){var b=u&&m.as||i,y="",x=[],S=m;if(m.theme==null){S={};for(var C in m)S[C]=m[C];S.theme=_.useContext(dP)}typeof m.className=="string"?y=oP(g.registered,x,m.className):m.className!=null&&(y=m.className+" ");var T=b1(h.concat(x),g.registered,S);y+=g.key+"-"+T.name,o!==void 0&&(y+=" "+o);var A=u&&a===void 0?xE(b):l,k={};for(var M in m)u&&M==="as"||A(M)&&(k[M]=m[M]);return k.className=y,k.ref=v,_.createElement(_.Fragment,null,_.createElement(Eee,{cache:g,serialized:T,isStringTag:typeof b=="string"}),_.createElement(b,k))});return p.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",p.defaultProps=e.defaultProps,p.__emotion_real=p,p.__emotion_base=i,p.__emotion_styles=h,p.__emotion_forwardProp=a,Object.defineProperty(p,"toString",{value:function(){return"."+o}}),p.withComponent=function(m,g){return t(m,X({},n,g,{shouldForwardProp:wE(p,g,!0)})).apply(void 0,h)},p}};const Cee=See;var Tee=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],g0=Cee.bind();Tee.forEach(function(t){g0[t]=g0(t)});const Aee=g0;/**
 * @mui/styled-engine v5.11.11
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Pee(t,e){return Aee(t,e)}const Oee=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))};function El(t,e){return e?Pn(t,e,{clone:!1}):t}const S1={xs:0,sm:600,md:900,lg:1200,xl:1536},_E={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${S1[t]}px)`};function un(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||_E;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||_E;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||S1).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function Iee(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function Ree(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function kee(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function EE({values:t,breakpoints:e,base:n}){const r=n||kee(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[s],s=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function Pf(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function cd(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Pf(t,n)||r,e&&(i=e(i,r,t)),i}function Te(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=Pf(l,r)||{};return un(o,a,h=>{let d=cd(u,i,h);return h===d&&typeof h=="string"&&(d=cd(u,i,`${e}${h==="default"?"":Fo(h)}`,h)),n===!1?d:{[n]:d}})};return s.propTypes={},s.filterProps=[e],s}function Of(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?El(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Mee(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const Fee={m:"margin",p:"padding"},Dee={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},SE={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},$ee=Mee(t=>{if(t.length>2)if(SE[t])t=SE[t];else return[t];const[e,n]=t.split(""),r=Fee[e],i=Dee[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),C1=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],T1=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...C1,...T1];function zu(t,e,n,r){var i;const s=(i=Pf(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function A1(t){return zu(t,"spacing",8)}function yi(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function Bee(t,e){return n=>t.reduce((r,i)=>(r[i]=yi(e,n),r),{})}function Nee(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=$ee(n),s=Bee(i,r),o=t[n];return un(t,o,s)}function QP(t,e){const n=A1(t.theme);return Object.keys(t).map(r=>Nee(t,e,r,n)).reduce(El,{})}function Ke(t){return QP(t,C1)}Ke.propTypes={};Ke.filterProps=C1;function Ze(t){return QP(t,T1)}Ze.propTypes={};Ze.filterProps=T1;function pr(t){return typeof t!="number"?t:`${t}px solid`}const Lee=Te({prop:"border",themeKey:"borders",transform:pr}),Uee=Te({prop:"borderTop",themeKey:"borders",transform:pr}),jee=Te({prop:"borderRight",themeKey:"borders",transform:pr}),zee=Te({prop:"borderBottom",themeKey:"borders",transform:pr}),Hee=Te({prop:"borderLeft",themeKey:"borders",transform:pr}),Gee=Te({prop:"borderColor",themeKey:"palette"}),Wee=Te({prop:"borderTopColor",themeKey:"palette"}),Vee=Te({prop:"borderRightColor",themeKey:"palette"}),Xee=Te({prop:"borderBottomColor",themeKey:"palette"}),Yee=Te({prop:"borderLeftColor",themeKey:"palette"}),If=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=zu(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:yi(e,r)});return un(t,t.borderRadius,n)}return null};If.propTypes={};If.filterProps=["borderRadius"];Of(Lee,Uee,jee,zee,Hee,Gee,Wee,Vee,Xee,Yee,If);const Rf=t=>{if(t.gap!==void 0&&t.gap!==null){const e=zu(t.theme,"spacing",8),n=r=>({gap:yi(e,r)});return un(t,t.gap,n)}return null};Rf.propTypes={};Rf.filterProps=["gap"];const kf=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=zu(t.theme,"spacing",8),n=r=>({columnGap:yi(e,r)});return un(t,t.columnGap,n)}return null};kf.propTypes={};kf.filterProps=["columnGap"];const Mf=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=zu(t.theme,"spacing",8),n=r=>({rowGap:yi(e,r)});return un(t,t.rowGap,n)}return null};Mf.propTypes={};Mf.filterProps=["rowGap"];const qee=Te({prop:"gridColumn"}),Kee=Te({prop:"gridRow"}),Zee=Te({prop:"gridAutoFlow"}),Qee=Te({prop:"gridAutoColumns"}),Jee=Te({prop:"gridAutoRows"}),ete=Te({prop:"gridTemplateColumns"}),tte=Te({prop:"gridTemplateRows"}),nte=Te({prop:"gridTemplateAreas"}),rte=Te({prop:"gridArea"});Of(Rf,kf,Mf,qee,Kee,Zee,Qee,Jee,ete,tte,nte,rte);function Do(t,e){return e==="grey"?e:t}const ite=Te({prop:"color",themeKey:"palette",transform:Do}),ste=Te({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Do}),ote=Te({prop:"backgroundColor",themeKey:"palette",transform:Do});Of(ite,ste,ote);function en(t){return t<=1&&t!==0?`${t*100}%`:t}const ate=Te({prop:"width",transform:en}),P1=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i,s;return{maxWidth:((r=t.theme)==null||(i=r.breakpoints)==null||(s=i.values)==null?void 0:s[n])||S1[n]||en(n)}};return un(t,t.maxWidth,e)}return null};P1.filterProps=["maxWidth"];const lte=Te({prop:"minWidth",transform:en}),ute=Te({prop:"height",transform:en}),cte=Te({prop:"maxHeight",transform:en}),hte=Te({prop:"minHeight",transform:en});Te({prop:"size",cssProperty:"width",transform:en});Te({prop:"size",cssProperty:"height",transform:en});const dte=Te({prop:"boxSizing"});Of(ate,P1,lte,ute,cte,hte,dte);const Vp=t=>e=>{if(e[t]!==void 0&&e[t]!==null){const n=r=>{var i;let s=(i=e.theme.typography)==null?void 0:i[r];if(typeof s=="object"&&(s=null),!s){var o,a;s=(o=e.theme.typography)==null?void 0:o[`${t}${e[t]==="default"||e[t]===t?"":Fo((a=e[t])==null?void 0:a.toString())}`]}if(!s){var l,u,c;s=(l=(u=e.theme.typography)==null||(c=u[r])==null?void 0:c[t])!=null?l:r}return{[t]:s}};return un(e,e[t],n)}return null},fte={border:{themeKey:"borders",transform:pr},borderTop:{themeKey:"borders",transform:pr},borderRight:{themeKey:"borders",transform:pr},borderBottom:{themeKey:"borders",transform:pr},borderLeft:{themeKey:"borders",transform:pr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:If},color:{themeKey:"palette",transform:Do},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Do},backgroundColor:{themeKey:"palette",transform:Do},p:{style:Ze},pt:{style:Ze},pr:{style:Ze},pb:{style:Ze},pl:{style:Ze},px:{style:Ze},py:{style:Ze},padding:{style:Ze},paddingTop:{style:Ze},paddingRight:{style:Ze},paddingBottom:{style:Ze},paddingLeft:{style:Ze},paddingX:{style:Ze},paddingY:{style:Ze},paddingInline:{style:Ze},paddingInlineStart:{style:Ze},paddingInlineEnd:{style:Ze},paddingBlock:{style:Ze},paddingBlockStart:{style:Ze},paddingBlockEnd:{style:Ze},m:{style:Ke},mt:{style:Ke},mr:{style:Ke},mb:{style:Ke},ml:{style:Ke},mx:{style:Ke},my:{style:Ke},margin:{style:Ke},marginTop:{style:Ke},marginRight:{style:Ke},marginBottom:{style:Ke},marginLeft:{style:Ke},marginX:{style:Ke},marginY:{style:Ke},marginInline:{style:Ke},marginInlineStart:{style:Ke},marginInlineEnd:{style:Ke},marginBlock:{style:Ke},marginBlockStart:{style:Ke},marginBlockEnd:{style:Ke},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Rf},rowGap:{style:Mf},columnGap:{style:kf},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:en},maxWidth:{style:P1},minWidth:{transform:en},height:{transform:en},maxHeight:{transform:en},minHeight:{transform:en},boxSizing:{},fontFamily:{themeKey:"typography",style:Vp("fontFamily")},fontSize:{themeKey:"typography",style:Vp("fontSize")},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography",style:Vp("fontWeight")},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},O1=fte;function pte(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function mte(t,e){return typeof t=="function"?t(e):t}function gte(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:c,style:h}=a;if(r==null)return null;const d=Pf(i,u)||{};return h?h(o):un(o,r,p=>{let m=cd(d,c,p);return p===m&&typeof p=="string"&&(m=cd(d,c,`${n}${p==="default"?"":Fo(p)}`,p)),l===!1?m:{[l]:m}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:O1;function a(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const c=Iee(s.breakpoints),h=Object.keys(c);let d=c;return Object.keys(u).forEach(f=>{const p=mte(u[f],s);if(p!=null)if(typeof p=="object")if(o[f])d=El(d,t(f,p,s,o));else{const m=un({theme:s},p,g=>({[f]:g}));pte(m,p)?d[f]=e({sx:p,theme:s}):d=El(d,m)}else d=El(d,t(f,p,s,o))}),Ree(h,d)}return Array.isArray(i)?i.map(a):a(i)}return e}const JP=gte();JP.filterProps=["sx"];const I1=JP,vte=["values","unit","step"],yte=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>X({},n,{[r.key]:r.val}),{})};function bte(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=an(t,vte),s=yte(e),o=Object.keys(s);function a(d){return`@media (min-width:${typeof e[d]=="number"?e[d]:d}${n})`}function l(d){return`@media (max-width:${(typeof e[d]=="number"?e[d]:d)-r/100}${n})`}function u(d,f){const p=o.indexOf(f);return`@media (min-width:${typeof e[d]=="number"?e[d]:d}${n}) and (max-width:${(p!==-1&&typeof e[o[p]]=="number"?e[o[p]]:f)-r/100}${n})`}function c(d){return o.indexOf(d)+1<o.length?u(d,o[o.indexOf(d)+1]):a(d)}function h(d){const f=o.indexOf(d);return f===0?a(o[1]):f===o.length-1?l(o[f]):u(d,o[o.indexOf(d)+1]).replace("@media","@media not all and")}return X({keys:o,values:s,up:a,down:l,between:u,only:c,not:h,unit:n},i)}const xte={borderRadius:4},wte=xte;function _te(t=8){if(t.mui)return t;const e=A1({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}const Ete=["breakpoints","palette","spacing","shape"];function R1(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=an(t,Ete),a=bte(n),l=_te(i);let u=Pn({breakpoints:a,direction:"ltr",components:{},palette:X({mode:"light"},r),spacing:l,shape:X({},wte,s)},o);return u=e.reduce((c,h)=>Pn(c,h),u),u.unstable_sxConfig=X({},O1,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(h){return I1({sx:h,theme:this})},u}const Ste=_.createContext(null),Cte=Ste;function Tte(){return _.useContext(Cte)}function Ate(t){return Object.keys(t).length===0}function Pte(t=null){const e=Tte();return!e||Ate(e)?t:e}const Ote=R1();function Ite(t=Ote){return Pte(t)}const Rte=["variant"];function CE(t){return t.length===0}function eO(t){const{variant:e}=t,n=an(t,Rte);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=CE(r)?t[i]:Fo(t[i]):r+=`${CE(r)?i:Fo(i)}${Fo(t[i].toString())}`}),r}const kte=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],Mte=["theme"],Fte=["theme"];function ja(t){return Object.keys(t).length===0}function Dte(t){return typeof t=="string"&&t.charCodeAt(0)>96}const $te=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,Bte=(t,e)=>{let n=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants);const r={};return n.forEach(i=>{const s=eO(i.props);r[s]=i.style}),r},Nte=(t,e,n,r)=>{var i,s;const{ownerState:o={}}=t,a=[],l=n==null||(i=n.components)==null||(s=i[r])==null?void 0:s.variants;return l&&l.forEach(u=>{let c=!0;Object.keys(u.props).forEach(h=>{o[h]!==u.props[h]&&t[h]!==u.props[h]&&(c=!1)}),c&&a.push(e[eO(u.props)])}),a};function fh(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Lte=R1();function Ute(t={}){const{defaultTheme:e=Lte,rootShouldForwardProp:n=fh,slotShouldForwardProp:r=fh}=t,i=s=>{const o=ja(s.theme)?e:s.theme;return I1(X({},s,{theme:o}))};return i.__mui_systemSx=!0,(s,o={})=>{Oee(s,y=>y.filter(x=>!(x!=null&&x.__mui_systemSx)));const{name:a,slot:l,skipVariantsResolver:u,skipSx:c,overridesResolver:h}=o,d=an(o,kte),f=u!==void 0?u:l&&l!=="Root"||!1,p=c||!1;let m,g=fh;l==="Root"?g=n:l?g=r:Dte(s)&&(g=void 0);const v=Pee(s,X({shouldForwardProp:g,label:m},d)),b=(y,...x)=>{const S=x?x.map(k=>typeof k=="function"&&k.__emotion_real!==k?M=>{let{theme:B}=M,N=an(M,Mte);return k(X({theme:ja(B)?e:B},N))}:k):[];let C=y;a&&h&&S.push(k=>{const M=ja(k.theme)?e:k.theme,B=$te(a,M);if(B){const N={};return Object.entries(B).forEach(([R,F])=>{N[R]=typeof F=="function"?F(X({},k,{theme:M})):F}),h(k,N)}return null}),a&&!f&&S.push(k=>{const M=ja(k.theme)?e:k.theme;return Nte(k,Bte(a,M),M,a)}),p||S.push(i);const T=S.length-x.length;if(Array.isArray(y)&&T>0){const k=new Array(T).fill("");C=[...y,...k],C.raw=[...y.raw,...k]}else typeof y=="function"&&y.__emotion_real!==y&&(C=k=>{let{theme:M}=k,B=an(k,Fte);return y(X({theme:ja(M)?e:M},B))});return v(C,...S)};return v.withConfig&&(b.withConfig=v.withConfig),b}}function jte(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:qP(e.components[n].defaultProps,r)}function zte({props:t,name:e,defaultTheme:n}){const r=Ite(n);return jte({theme:r,name:e,props:t})}function tO(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function Hte(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Qo(t){if(t.type)return t;if(t.charAt(0)==="#")return Qo(Hte(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Zo(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Zo(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function k1(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function Gte(t){t=Qo(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,c=(u+n/30)%12)=>i-s*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),k1({type:a,values:l})}function TE(t){t=Qo(t);let e=t.type==="hsl"||t.type==="hsla"?Qo(Gte(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Wte(t,e){const n=TE(t),r=TE(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Vte(t,e){if(t=Qo(t),e=tO(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return k1(t)}function Xte(t,e){if(t=Qo(t),e=tO(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return k1(t)}function Yte(t,e){return X({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const qte={black:"#000",white:"#fff"},Jl=qte,Kte={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Zte=Kte,Qte={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Ds=Qte,Jte={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},$s=Jte,ene={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},za=ene,tne={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Bs=tne,nne={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Ns=nne,rne={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Ls=rne,ine=["mode","contrastThreshold","tonalOffset"],AE={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Jl.white,default:Jl.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Xp={text:{primary:Jl.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Jl.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function PE(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Xte(t.main,i):e==="dark"&&(t.dark=Vte(t.main,s)))}function sne(t="light"){return t==="dark"?{main:Bs[200],light:Bs[50],dark:Bs[400]}:{main:Bs[700],light:Bs[400],dark:Bs[800]}}function one(t="light"){return t==="dark"?{main:Ds[200],light:Ds[50],dark:Ds[400]}:{main:Ds[500],light:Ds[300],dark:Ds[700]}}function ane(t="light"){return t==="dark"?{main:$s[500],light:$s[300],dark:$s[700]}:{main:$s[700],light:$s[400],dark:$s[800]}}function lne(t="light"){return t==="dark"?{main:Ns[400],light:Ns[300],dark:Ns[700]}:{main:Ns[700],light:Ns[500],dark:Ns[900]}}function une(t="light"){return t==="dark"?{main:Ls[400],light:Ls[300],dark:Ls[700]}:{main:Ls[800],light:Ls[500],dark:Ls[900]}}function cne(t="light"){return t==="dark"?{main:za[400],light:za[300],dark:za[700]}:{main:"#ed6c02",light:za[500],dark:za[900]}}function hne(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=an(t,ine),s=t.primary||sne(e),o=t.secondary||one(e),a=t.error||ane(e),l=t.info||lne(e),u=t.success||une(e),c=t.warning||cne(e);function h(m){return Wte(m,Xp.text.primary)>=n?Xp.text.primary:AE.text.primary}const d=({color:m,name:g,mainShade:v=500,lightShade:b=300,darkShade:y=700})=>{if(m=X({},m),!m.main&&m[v]&&(m.main=m[v]),!m.hasOwnProperty("main"))throw new Error(Zo(11,g?` (${g})`:"",v));if(typeof m.main!="string")throw new Error(Zo(12,g?` (${g})`:"",JSON.stringify(m.main)));return PE(m,"light",b,r),PE(m,"dark",y,r),m.contrastText||(m.contrastText=h(m.main)),m},f={dark:Xp,light:AE};return Pn(X({common:X({},Jl),mode:e,primary:d({color:s,name:"primary"}),secondary:d({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:d({color:a,name:"error"}),warning:d({color:c,name:"warning"}),info:d({color:l,name:"info"}),success:d({color:u,name:"success"}),grey:Zte,contrastThreshold:n,getContrastText:h,augmentColor:d,tonalOffset:r},f[e]),i)}const dne=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function fne(t){return Math.round(t*1e5)/1e5}const OE={textTransform:"uppercase"},IE='"Roboto", "Helvetica", "Arial", sans-serif';function pne(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=IE,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:h}=n,d=an(n,dne),f=i/14,p=h||(v=>`${v/u*f}rem`),m=(v,b,y,x,S)=>X({fontFamily:r,fontWeight:v,fontSize:p(b),lineHeight:y},r===IE?{letterSpacing:`${fne(x/b)}em`}:{},S,c),g={h1:m(s,96,1.167,-1.5),h2:m(s,60,1.2,-.5),h3:m(o,48,1.167,0),h4:m(o,34,1.235,.25),h5:m(o,24,1.334,0),h6:m(a,20,1.6,.15),subtitle1:m(o,16,1.75,.15),subtitle2:m(a,14,1.57,.1),body1:m(o,16,1.5,.15),body2:m(o,14,1.43,.15),button:m(a,14,1.75,.4,OE),caption:m(o,12,1.66,.4),overline:m(o,12,2.66,1,OE),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Pn(X({htmlFontSize:u,pxToRem:p,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},g),d,{clone:!1})}const mne=.2,gne=.14,vne=.12;function Ue(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${mne})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${gne})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${vne})`].join(",")}const yne=["none",Ue(0,2,1,-1,0,1,1,0,0,1,3,0),Ue(0,3,1,-2,0,2,2,0,0,1,5,0),Ue(0,3,3,-2,0,3,4,0,0,1,8,0),Ue(0,2,4,-1,0,4,5,0,0,1,10,0),Ue(0,3,5,-1,0,5,8,0,0,1,14,0),Ue(0,3,5,-1,0,6,10,0,0,1,18,0),Ue(0,4,5,-2,0,7,10,1,0,2,16,1),Ue(0,5,5,-3,0,8,10,1,0,3,14,2),Ue(0,5,6,-3,0,9,12,1,0,3,16,2),Ue(0,6,6,-3,0,10,14,1,0,4,18,3),Ue(0,6,7,-4,0,11,15,1,0,4,20,3),Ue(0,7,8,-4,0,12,17,2,0,5,22,4),Ue(0,7,8,-4,0,13,19,2,0,5,24,4),Ue(0,7,9,-4,0,14,21,2,0,5,26,4),Ue(0,8,9,-5,0,15,22,2,0,6,28,5),Ue(0,8,10,-5,0,16,24,2,0,6,30,5),Ue(0,8,11,-5,0,17,26,2,0,6,32,5),Ue(0,9,11,-5,0,18,28,2,0,7,34,6),Ue(0,9,12,-6,0,19,29,2,0,7,36,6),Ue(0,10,13,-6,0,20,31,3,0,8,38,7),Ue(0,10,13,-6,0,21,33,3,0,8,40,7),Ue(0,10,14,-6,0,22,35,3,0,8,42,7),Ue(0,11,14,-7,0,23,36,3,0,9,44,8),Ue(0,11,15,-7,0,24,38,3,0,9,46,8)],bne=yne,xne=["duration","easing","delay"],wne={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},_ne={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function RE(t){return`${Math.round(t)}ms`}function Ene(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function Sne(t){const e=X({},wne,t.easing),n=X({},_ne,t.duration);return X({getAutoHeightDuration:Ene,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return an(s,xne),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:RE(o)} ${a} ${typeof l=="string"?l:RE(l)}`).join(",")}},t,{easing:e,duration:n})}const Cne={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Tne=Cne,Ane=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Pne(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=an(t,Ane);if(t.vars)throw new Error(Zo(18));const a=hne(r),l=R1(t);let u=Pn(l,{mixins:Yte(l.breakpoints,n),palette:a,shadows:bne.slice(),typography:pne(a,s),transitions:Sne(i),zIndex:X({},Tne)});return u=Pn(u,o),u=e.reduce((c,h)=>Pn(c,h),u),u.unstable_sxConfig=X({},O1,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(h){return I1({sx:h,theme:this})},u}const One=Pne(),nO=One;function Ine({props:t,name:e}){return zte({props:t,name:e,defaultTheme:nO})}const Rne=t=>fh(t)&&t!=="classes",kne=Ute({defaultTheme:nO,rootShouldForwardProp:Rne}),Mne=kne;function Fne(t){return KP("MuiMasonry",t)}vee("MuiMasonry",["root"]);const Dne=["children","className","component","columns","spacing","defaultColumns","defaultHeight","defaultSpacing"],ri=t=>Number(t.replace("px","")),$ne={flexBasis:"100%",width:0,margin:0,padding:0},Bne=t=>{const{classes:e}=t;return dee({root:["root"]},Fne,e)},Nne=({ownerState:t,theme:e})=>{let n={width:"100%",display:"flex",flexFlow:"column wrap",alignContent:"flex-start",boxSizing:"border-box","& > *":{boxSizing:"border-box"}};const r={};if(t.isSSR){const u={},c=ri(e.spacing(t.defaultSpacing));for(let h=1;h<=t.defaultColumns;h+=1)u[`&:nth-of-type(${t.defaultColumns}n+${h%t.defaultColumns})`]={order:h};return r.height=t.defaultHeight,r.margin=-(c/2),r["& > *"]=X({},n["& > *"],u,{margin:c/2,width:`calc(${(100/t.defaultColumns).toFixed(2)}% - ${c}px)`}),X({},n,r)}const i=EE({values:t.spacing,breakpoints:e.breakpoints.values}),s=A1(e);n=Pn(n,un({theme:e},i,u=>{let c;if(typeof u=="string"&&!Number.isNaN(Number(u))||typeof u=="number"){const h=Number(u);c=yi(s,h)}else c=u;return X({margin:`calc(0px - (${c} / 2))`,"& > *":{margin:`calc(${c} / 2)`}},t.maxColumnHeight&&{height:typeof c=="number"?Math.ceil(t.maxColumnHeight+ri(c)):`calc(${t.maxColumnHeight}px + ${c})`})}));const a=EE({values:t.columns,breakpoints:e.breakpoints.values});return n=Pn(n,un({theme:e},a,u=>{const h=`${(100/Number(u)).toFixed(2)}%`,d=typeof i=="string"&&!Number.isNaN(Number(i))||typeof i=="number"?yi(s,Number(i)):"0px";return{"& > *":{width:`calc(${h} - ${d})`}}})),typeof i=="object"&&(n=Pn(n,un({theme:e},i,(u,c)=>{if(c){const h=Number(u),d=Object.keys(a).pop(),f=yi(s,h);return{"& > *":{width:`calc(${`${(100/(typeof a=="object"?a[c]||a[d]:a)).toFixed(2)}%`} - ${f})`}}}return null}))),n},Lne=Mne("div",{name:"MuiMasonry",slot:"Root",overridesResolver:(t,e)=>[e.root]})(Nne),Une=_.forwardRef(function(e,n){const r=Ine({props:e,name:"MuiMasonry"}),{children:i,className:s,component:o="div",columns:a=4,spacing:l=1,defaultColumns:u,defaultHeight:c,defaultSpacing:h}=r,d=an(r,Dne),f=_.useRef(),[p,m]=_.useState(),g=!p&&c&&u!==void 0&&h!==void 0,[v,b]=_.useState(g?u-1:0),y=X({},r,{spacing:l,columns:a,maxColumnHeight:p,defaultColumns:u,defaultHeight:c,defaultSpacing:h,isSSR:g}),x=Bne(y),S=k=>{if(!f.current||!k||k.length===0)return;const M=f.current,B=f.current.firstChild,N=M.clientWidth,R=B.clientWidth;if(N===0||R===0)return;const F=window.getComputedStyle(B),q=ri(F.marginLeft),Q=ri(F.marginRight),z=Math.round(N/(R+q+Q)),$=new Array(z).fill(0);let W=!1;M.childNodes.forEach(D=>{if(D.nodeType!==Node.ELEMENT_NODE||D.dataset.class==="line-break"||W)return;const G=window.getComputedStyle(D),I=ri(G.marginTop),O=ri(G.marginBottom),L=ri(G.height)?Math.ceil(ri(G.height))+I+O:0;if(L===0){W=!0;return}for(let Y=0;Y<D.childNodes.length;Y+=1){const K=D.childNodes[Y];if(K.tagName==="IMG"&&K.clientHeight===0){W=!0;break}}if(!W){const Y=$.indexOf(Math.min(...$));$[Y]+=L;const K=Y+1;D.style.order=K}}),W||Cl.flushSync(()=>{m(Math.max(...$)),b(z>0?z-1:0)})},C=_.useRef(typeof ResizeObserver>"u"?void 0:new ResizeObserver(S));_.useEffect(()=>{const k=C.current;if(k!==void 0)return f.current&&f.current.childNodes.forEach(M=>{k.observe(M)}),()=>k?k.disconnect():{}},[a,l,i]);const T=hee(n,f),A=new Array(v).fill("").map((k,M)=>E("span",{"data-class":"line-break",style:X({},$ne,{order:M+1})},M));return j(Lne,X({as:o,className:yee(x.root,s),ref:T,ownerState:y},d,{children:[i,A]}))}),rO=Une;function kE({label:t,value:e}){return j("div",{className:"stat-line",children:[j("span",{className:"label",children:[t,": "]}),E("span",{className:"value",children:e})]})}function v0(){return v0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v0.apply(this,arguments)}var jne=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?_.useLayoutEffect:_.useEffect;function iO(t){var e=t.breakpoints,n=t.ignoreDimensions,r=n===void 0?!0:n,i=Object.keys(e)[0],s=_.useState({activeBreakpoint:i,width:0}),o=s[0],a=s[1],l=_.useRef(null),u=_.useRef(null),c=_.useCallback(function(f,p){for(var m,g=0,v=Object.entries(e);g<v.length;g++){var b=v[g],y=b[0],x=b[1],S=x[0],C=x[1];if(p>=S){if(C===void 0){m=y;break}else if(p<=C){m=y;break}}}return{activeBreakpoint:m||f,width:p}},[e]),h=_.useCallback(function(f){var p=f[0],m;if(p.borderBoxSize?m=Math.round(Array.isArray(p.borderBoxSize)?p.borderBoxSize[0].inlineSize:p.borderBoxSize.inlineSize):m=Math.round(p.contentRect.width),r){var g=c(o.activeBreakpoint,m),v=g.activeBreakpoint;v!==o.activeBreakpoint&&a(function(b){return v0({},b,{activeBreakpoint:v})})}else a(c(o.activeBreakpoint,m))},[o.activeBreakpoint,r,c]);jne(function(){return l.current||(l.current=new ResizeObserver(h)),u.current&&l.current.observe(u.current,{box:"border-box"}),function(){var f;(f=l.current)==null||f.disconnect(),l.current=null}},[h]);var d=_.useCallback(function(f){if(u.current){var p;(p=l.current)==null||p.unobserve(u.current)}if(u.current=f,f){var m;(m=l.current)==null||m.observe(f)}},[]);return{ref:d,width:o.width,active:o.activeBreakpoint}}const M1=_.createContext({}),sO=({children:t})=>{const[e,n]=_.useState({textFilter:"",tags:[]});return E(M1.Provider,{value:{filters:e,setFilters:n},children:t})};function zne({tags:t}){const{filters:e,setFilters:n}=_.useContext(M1),r=i=>{e.tags.includes(i)?n({...e,tags:e.tags.filter(s=>s!==i)}):n({...e,tags:[...e.tags,i]})};return t?E("div",{className:"tag-filters",children:t.map(i=>E(e0,{label:i,clicked:r,selected:Au(e.tags,i)},i))}):E("div",{})}function oO({tags:t,expanded:e,filtersUpdated:n}){const{filters:r,setFilters:i}=_.useContext(M1),[s,o]=_.useState(e),a=()=>{i({tags:[],textFilter:""})};return _.useEffect(()=>{n(r)},[r]),s?j("div",{className:"ability-filters open",children:[E(Sr,{fullWidth:!0,placeholder:"Filter by name",minWidth:200,className:"text-filter",value:r==null?void 0:r.textFilter,valueChanged:l=>i({...r,textFilter:l})}),E("div",{className:"tag-filters",children:E(zne,{tags:t})}),j("div",{className:"controls",children:[j(st,{color:"theme",noPadding:!0,clicked:a,disabled:!r.tags.length&&!r.textFilter.length,children:[E(QT,{size:18}),"reset"]}),E(st,{color:"mutedText",clicked:()=>o(!s),children:E(_N,{size:18})})]})]}):E("div",{className:"ability-filters closed",children:j("button",{onClick:()=>o(!s),className:"controls",children:["filters",E(ZT,{size:18})]})})}function Hne(t){return L$(ve(mn(t.abilities,e=>!e.replaced&&e.learned),e=>({...e})),"type")}function Gne(t,e){let n=t;return e?n=mn(t,r=>{var s,o;let i=!0;return(s=e.tags)!=null&&s.length&&(i=$T(e.tags,r.tags).length===0),(o=e.textFilter)!=null&&o.length&&(i=i&&r.name.toLowerCase().includes(e.textFilter.toLowerCase())),i}):n=t,ca(n,"name")}const Wne={small:[0,600],med:[600,900],large:[901,1150],xl:[1151,1400],xxl:[1401,1600],xxxl:[1601,2e3]};function Vne(t){return{small:1,med:2,large:3,xl:4,xxl:5,xxxl:6}[t]}function Xne(t,e){let n=Hne(t),r={};return et(Object.keys(n),i=>{let s=[];et(n[i],o=>{const a=o.id;o.ability=we(e,{id:a}),o.tags&&(s=Jd([...s,...o.tags]))}),r[i]=ca(s)}),{abilityTags:r,knownAbilities:n}}function Yne(){const{build:t}=_.useContext(ha),{abilityTypes:e,abilities:n}=_.useContext(Wt),[r,i]=_.useState({}),[s,o]=_.useState({}),{stats:a}=_.useContext(ju),[l,u]=_.useState({}),{ref:c,active:h,width:d}=iO({breakpoints:Wne}),[f,p]=_.useState({}),m=g=>{p({...f,[g]:!f[g]})};return _.useEffect(()=>{const g=Xne(t,n);i(g.knownAbilities),o(g.abilityTags)},[t,n]),j("div",{className:"character-sheet",children:[j("div",{className:"stats",children:[E("div",{className:"title",children:"Stats"}),E(kE,{label:" Skill Points Spent",value:t.pointsInvested}),ve(a,(g,v)=>E(kE,{label:g.name,value:t.stats[g.id]||0}))]}),j("div",{className:"abilities",children:[E("div",{className:"title",children:"Abilities"}),ca(e,"name").map((g,v)=>{var b,y;return j(Cn,{startOpen:!1,name:g.name,disabled:!((b=r[g.id])!=null&&b.length),children:[E(sO,{children:E(oO,{expanded:!1,tags:s[g.id]||[],filtersUpdated:x=>u({...l,[g.id]:x})})}),j("div",{ref:c,className:"ability-cards",children:[E("div",{className:"expand-button",children:E(st,{color:"theme",clicked:()=>m(g.id),children:f[g.id]?E(qT,{size:30}):E(YT,{size:30})})}),E(rO,{columns:Vne(h),spacing:2,children:(y=Gne(r[g.id],l[g.id]))==null?void 0:y.map(x=>E("div",{children:(x==null?void 0:x.ability)&&E(Af,{ability:x.ability,isPlayerAbility:!0,modifiers:x.modifiers,tags:x.tags,startOpen:!1,isExpanded:!!f[g.id]})}))})]})]},v)})]})]})}const qne=[{id:"advanced-flying",name:"Advanced Flying",description:`This unit can fly. It now can exist on three different battlefield planes. The ground, and the air level 1, and air level 2, and air level 3. It costs 1 hex of movement to move upward but not downward.

    Additionally, you are immune to environmental effects.`,type:"passive",tags:["flying"],replaces:"flying"},{id:"aerial-combat",name:"Aerial Combat",type:"passive",description:"Gains +1 on attacks made against flying units.",tags:["flying"]},{id:"aerial-evasion",name:"Aerial Evasion",type:"passive",description:"Gains +1 to AC while in the air.",tags:["flying","defense"]},{id:"alert",name:"Alert",type:"movement",description:"This unit always musters and can muster 1 adjacent unit (during movement).",replaces:"attentive",tags:["defense","mustering"]},{name:"Alter Emotions",id:"alter-emotions",description:"Increase or decrease the organization (HP) of any non-elite group of soldiers by %amt%. ",tags:["enchantment"],type:"action",params:{amt:1}},{id:"aquatic-combat",name:"Aquatic Attack",description:"Add +1 to any attack made from the water.",type:"passive",tags:["aquatic","attack"]},{id:"attack-from-the-deep",name:"Attack from the Deeps",description:"Gain +2 damage on attacks made against other targets in the water that are at ground level.",type:"passive",tags:["aquatic","attack"]},{id:"attentive",name:"Attentive",type:"movement",description:"This unit always musters",tags:["defense","mustering"]},{id:"basic-attack",name:"Basic Attack",description:"You make 1 melee attack against an adjacent enemy. Roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.",type:"action",params:{dmg:-1},tags:["attack"]},{name:"Beguile",id:"beguile",description:`Beguile a unit into one of the following:

Frightened of you - the unit cannot move towards you on its turn.

{compelled}Compelled -  The unit MUST move at least 2 hexes toward you (if it can/it has to try to){/compelled}

{charmed}Charmed - the unit makes %numAttacks% less attack(s) against you{/charmed}`,tags:["enchantment"],type:"action",params:{frightened:1,compelled:0,charmed:0,numAttacks:1}},{id:"bless",name:"Bless",description:"Buff up an ally within range, granting them +1 on their first attack/cantrip strike of their turn.",type:"action",tags:["holy"]},{id:"cantrip-barrage",name:"Cantrip Barrage",description:"Deal 1d6 damage to an enemy.",type:"action",tags:["magic"]},{id:"charge",name:"Charge",type:"movement",description:`If this unit moves 4 hexes in a straight line before becoming adjacent to an enemy they automatically do +%dmg% damage on first melee attack. The movement for the rest of the turn becomes 0. 
        {breakthrough}
          If after a charge, this unit still has remaining movement, it can use that movement to continue on its charge-line through enemy units.
        {/breakthrough}`,params:{dmg:1,breakthrough:0}},{id:"dash",name:"Dash",type:"action",description:"Move %movement% hexes.",params:{movement:2},tags:["movement","fast"]},{id:"dash-expert",name:"Dash Expert",type:"passive",description:"Once per turn, you can replace any one of your attacks with movement up to your speed.",tags:["movement"]},{id:"death-bomb",name:"Death Bomb",type:"action",description:"This unit can dive bomb and forcefully smash itself into enemy units. This kills this unit. It does 2 damage to a target's HP.",tags:["undead","flying"]},{id:"death-ward",name:"Death Ward",description:"Place a ward against death on a unit. If that unit is reduced to 0 HP it instead goes to %hp% HP. When this happens the spell is used up and you lose concentration on it.",type:"action",tags:["concentration","holy"],params:{hp:2}},{id:"defend",name:"Defend",description:`Gain    %hp% hp.

{brace}For this turn, gain the following effects:

1. You are Immune to Charge effects.
2. Enemies that move adjacent to you take 1 damage.
{/brace}`,type:"action",params:{brace:0,hp:1},tags:["healing"]},{id:"deflect",name:"Deflect",type:"reaction",description:`Block 1 ranged attack that is made at you. Declare before the attack is rolled. 

For magic attacks, deflect on a roll of %lowerRange% or higher.`,tags:["defense"],params:{lowerRange:4}},{id:"dive-bomb",name:"Dive Bomb",type:"passive",tags:["flying"],description:"When this unit moves from a higher elevation to a lower elevation it gains +1 damage for each air level it decends through for its next attack."},{id:"diving",name:"Diving",description:"This unit can swim under water. Gain access to a -1 vertical space in water. Gain +3 to AC from units that are ground or above. You get a -2 dice roll on all attacks on units that are at ground or above.",type:"movement",tags:["aquatic"]},{name:"Dominate",id:"dominate",description:"Target the leader of a company of troops and try to control their mind. Against non-elite units (so common soliders and such) this works and the unit is under your control until the battle ends or it loses half its current health. Can only have %unit% unit(s) dominated at a time.",tags:["enchantment"],type:"action",params:{units:1}},{id:"extra-versatile",name:"Extra Versatile",description:"You can choose to take actions before or after each unit of movement.",type:"passive",replaces:"versatile"},{id:"ferry",name:"Ferry",description:"This unit can carry other units on water. It takes 1 action to load an ally (action used during movement). No action required to disembark.",type:"passive",tags:["aquatic","movement"]},{id:"flying",name:"Flying",description:`This unit can fly. It now can exist on two different battlefield planes. The ground, and the air level 1. It costs 1 hex of movement to move upward but not downward.

    Additionally, you are immune to environmental effects.`,type:"passive",tags:["flying"]},{id:"greater-knitting",name:"Greater Knitting",description:"Restore %hp% HP to all adjacent undead units",type:"action",replaces:"knit-flesh",tags:["undead","healing","necromancy"],params:{hp:1}},{id:"guardian",name:"Guardian",type:"reaction",description:"As a reaction, can intercept %attacks% attack(s) going towards an adjacent ally. You now take that attack - also take 1 damage.",tags:["defense"],params:{attacks:1}},{id:"guiding-bolt",name:"Guiding Bolt",description:"You hit an enemy with a blast of light, dealing %dmg% nonabsorbable damage. Next round, allies have +%roll% on all attacks/cantrip strikes against this target.",type:"action",tags:["holy","piercing"],params:{roll:1,dmg:1}},{id:"knit-flesh",name:"Knit Flesh",description:"Restore %hp% HP to an adjacent undead unit",type:"action",params:{hp:1},tags:["undead","healing","necromancy"]},{id:"mass-knitting",name:"Mass Knitting",description:"Restore %hp% HP to all undead units within 2 hexes (100m area)",type:"action",replaces:"greater-knitting",tags:["undead","healing","necromancy"],params:{hp:1}},{id:"multi-attack",name:"Multi Attack",description:`You make %numatks% melee attack against an adjacent enemy.
      
      Each Attack: 1d6{dmg}+%dmg%{/dmg}  

{dmg2} This attack always does at least %dmg2% damage {/dmg2}
 `,type:"action",replaces:"Attack_norm",params:{dmg2:0,dmg:0,numatks:1,"tag-piercing":0},tags:["attack"]},{id:"reactive-armor",name:"Reactive Armor",description:"When an enemy attacks you, gain 1 AC. Lose 1 AC at the start of each turn.",type:"passive",tags:["defense"]},{id:"restoration",name:"Restoration",description:`Heal a unit %hp% HP within spell range.{divine}

Restoration can now be cast for 2 spell slots and heals 10 HP if done this way.{/divine}`,type:"action",tags:["holy"],params:{hp:3,divine:0}},{id:"smite",name:"Smite",description:`When an attack hits (does damage to HP), you may spend 1 spell slot to make that attack do +%dmg%
      damage`,type:"bonus action",tags:["holy"],params:{dmg:3}},{id:"spellcasting",name:"Spellcasting",description:`You can now cast spells and cantrips. Casting spells and cantrips take action to cast and require 1 spell slot of the coresponding school of magic. 
    Cantrips barrage does not cost a spell slot. 
    
    Range: %range%
    Contentration Bonus: %concentration%`,type:"school",tags:["magic"],params:{range:1,concentration:1}},{id:"spirit-guardians",name:"Spirit Guardians",description:"Call upon spiritual guardians to protect you. You gain %ac% AC and adjacent enemies take %dmg% unabsorbable damage at the start of your turn.",type:"action",tags:["concentration","holy","piercing"],params:{dmg:1,ac:1}},{id:"strafing-run",name:"Strafing Run",type:"passive",tags:["flying"],description:"As part of movement can make a breath attack against up to %targets% target(s) (adjacent to each) that you fly over in a straight line. This costs 1 breath attack use and does half breath damage (but full effect). Costs 1 movement to initiate for each targeted hex."},{id:"submarine-transportation",name:"Submarine Transportation",description:"This unit can carry other units on water and underwater. It takes 1 action to load an ally (action used during movement). No action required to disembark.",type:"passive",tags:["aquatic","movement"],replaces:"ferry"},{id:"swarm",name:"Swarm",type:"action",tags:["flying"],description:"Swarm around an adjacent enemy unit, co-existing in their hex, and blocking ranged attacks against targets other than itself. This unit can now move 3 hexes as a reaction to stay with its swarmed unit, any more movement breaks the swarm. In addition it can choose to be hit by ranged attacks that would pass through its hex."},{id:"swimming",name:"Swimming",description:"If this unit can move up to %movement% hexes in the water. If the unit's speed is less than %movement% it can move up to its speed.",type:"movement",tags:["aquatic"]},{id:"turn-undead",name:"Turn Undead",description:"Deal %dmg% damage to adjacent undead units and force them on their turn to move at least %range% hex away from you and get no closer for %rounds% round.",type:"action",tags:["holy"],params:{dmg:1,range:1,rounds:1}},{id:"versatile",name:"Versatile",description:"You can choose to take actions prior to movement.",type:"passive"},{name:"Command",id:"command",description:"Gain a command aura of %commandRadius% m radius (every adjacent hex)",tags:["command"],type:"passive",params:{commandRadius:50}},{name:"Rally",id:"rally",description:`As an action, allied units in your command aura regain %hp% HP.

{bonus}
1 unit within your command aura can make an attack.
{/bonus}`,tags:["command"],type:"action",params:{bonus:0,hp:1}},{name:"Aggressive Commander",id:"aggro-command",description:"Allied units adjacent to this unit can make 1 extra attack, unmodified.",tags:[],type:"action"},{name:"Energetic Commander",id:"energetic-commander",description:"Allied units in this units command aura can move 1 extra hex.",tags:[],type:"action"},{name:"Rally+",id:"rally-2",description:`As an action, allied units in your command aura regain %hp% HP.

2 units within your command aura can make 1 attack 
OR
1 unit within your command aura can make 2 attacks`,tags:["command"],type:"action",params:{hp:1},replaces:"rally"},{name:"Attack of Opportunity",id:"attack-of-opportunity",description:"This unit can make a single melee attack (with modified damage) against any enemy that moves out of adjacency with it. The attack takes place immediately.",tags:["defense","attack"],type:"reaction"},{name:"Professionals",id:"professionals",description:"This unit is always active (doesnt count to active unit count).",tags:["mustering"],type:"movement"},{name:"Raise Dead",id:"raise-dead",description:"Raise a deceased unit as a zombie horde with %raiseHp%% health.",tags:["necromancy","spell"],type:"action",params:{raiseHp:25}},{name:"Life Drain",id:"raise-dead-copy",description:`Create a link between you and a target within range. Each turn as a bonus action you can tap that link (including turn 1) . Tapping the link deals 1 damage to the target's HP and gives that HP to you. 

 This spell lasts as long as the target remains within 6 hexes of the caster.`,tags:["necromancy","spell","healing","concentration"],type:"action"},{name:"Wither",id:"wither",description:`curse a target within range with:
   
-1 armor
   -1 attack 
   -1 movement

Lasts 2 turns. This spell lasts as long as the target remains within 6 hexes of the caster.`,tags:["spell","necromancy"],type:"action"},{name:"Unrelenting Horde",id:"unrelenting-horde",description:"If this unit kills an adjacent unit. It spawns a new zombie unit from the dead unit. The new zombie has %hpPercent%% health",tags:["undead","necromancy"],type:"passive",params:{hpPercent:50}},{name:"Necromancy",id:"necromancy",description:`You can cast Necromancy spells.

Spell Slots: %slots%
Spells Per action: %spellsPerAction%`,tags:["necromancy"],type:"school",params:{slots:1,spellsPerAction:1}},{name:"Holy Casting",id:"holy-casting",description:`You can cast Necromancy spells.

Spell Slots: %slots%
Spells Per action: %spells%`,tags:["holy"],type:"action",params:{spells:1,slots:2}},{id:"Attack_norm",name:"Melee Attack",description:`You make 1 melee attack against an adjacent enemy. Roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.

{dmg2} This attack always does at least %dmg2% damage {/dmg2}`,type:"action",params:{dmg2:0,dmg:-1,"tag-piercing":0},tags:["attack"],replaces:"basic-attack"},{name:"Ranged Attack",id:"ranged-attack",description:`You make 1 ranged attack against an enemy. First roll 1d6{range}+%range%{/range} against the number of hexes between you and the target. Must beat this distance. For each success now roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.

{dmg2} This attack always does at least %dmg2% damage {/dmg2}`,tags:[],type:"action",params:{dmg2:0,dmg:0,range:0}}],Kne=[{id:"action",name:"Action",color:"#8eb0ff"},{id:"movement",name:"Movement",color:"#c7f8af"},{id:"passive",name:"Passive",color:"#cabfbf"},{id:"reaction",name:"Reaction",color:"#ffb0fc"},{id:"bonus action",name:"Bonus Action",color:"#a887ff"},{id:"school",name:"Magic Proficiency",color:"#5ec5e1"}],Zne=[{id:"pierce-attack",value:0}],Qne=[{id:"basic",name:"Basic",requires:[],description:"Congrats! You are a unit.",colors:{unavailable:"#121212",selected:"#d2d2d2"},cost:1,providedStats:[{id:"hp",modifier:5},{id:"armor",modifier:2}],providedAbilities:[{id:"basic-attack",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#878787",selected:"#96b7bd"},id:"basic-magic",requires:[{id:"basic",levels:1}],name:"Spellcasting",description:"Grants your unit the ability to cast spells",cost:1,providedAbilities:[{id:"cantrip-barrage",gain:!0},{id:"spellcasting",gain:!0}]},{id:"speed",name:"Speed",requires:[{id:"basic",levels:1}],description:"Allows you to move one additional hex per turn",colors:{unavailable:"#648264",selected:"#51db53"},levels:8,providedStats:[{id:"movement",modifier:1}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"versatile",requires:[{id:"speed",levels:4}],name:"Versatile",description:"Grants the Versatile ability",cost:1,providedAbilities:[{id:"versatile",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"extra-versatile",requires:[{id:"versatile",levels:1}],name:"Extra Versatile",description:"Grants the Extra Versatile ability",cost:1,providedAbilities:[{id:"extra-versatile",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"dash",requires:[{id:"speed",levels:2}],name:"Dash",description:"Grants the Dash ability",cost:1,providedAbilities:[{id:"dash",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"advanced-dash",requires:[{id:"charge",levels:1}],name:"Dash+",description:"Increases the movement of Dash by 2",cost:1,levels:2,providedAbilities:[{id:"dash",modifiers:[{id:"movement",modifier:2}]}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"dash-expert",requires:[{id:"advanced-dash",levels:2}],name:"Dash Expert",description:"Grants the Dash Expert ability",cost:1,providedAbilities:[{id:"dash-expert",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"charge",requires:[{id:"dash",levels:1}],name:"Charge",description:"Grants the Charge ability",cost:1,providedAbilities:[{id:"charge",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"breakthrough",requires:[{id:"charge",levels:1}],name:"Breakthrough",description:"Grants you the ability to continue moving through units after a charge.",cost:1,providedAbilities:[{id:"charge",modifiers:[{id:"breakthrough",modifer:1,modifier:1}]}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"advanced-charge",requires:[{id:"charge",levels:1}],name:"Charge+",description:"Increases the movement of Charge by 2",cost:1,providedAbilities:[{id:"charge",modifiers:[{id:"dmg",modifer:1}]}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"flying",requires:[{id:"speed",levels:4}],name:"Flying",description:"Grants you the ability to fly",cost:1,providedAbilities:[{id:"flying",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"death-bomb",requires:[{id:"flying",levels:1}],name:"Death Bomb",description:"Grants you the Death Bomb ability. Must be undead to use.",cost:1,providedAbilities:[{id:"death-bomb",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"swarm",requires:[{id:"flying",levels:1}],name:"Swarm",description:"Grants you the Swarm ability.",cost:1,providedAbilities:[{id:"swarm",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"strafing-run",requires:[{id:"flying",levels:1}],name:"Strafing Run",description:"Grants you the Strafing Run ability.",cost:1,providedAbilities:[{id:"strafing-run",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"advanced-strafing-run",requires:[{id:"strafing-run",levels:1}],name:"Strafing Run+",description:"Increases the number of targets by 3.",levels:2,providedAbilities:[{id:"strafing-run",modifiers:{targets:3}}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"advanced-flying",requires:[{id:"flying",levels:1}],name:"Advanced Flying",description:"Increases the number of targets by 3.",cost:1,providedAbilities:[{id:"advanced-flying",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"dive-bomb",requires:[{id:"advanced-flying",levels:1}],name:"Dive Bomb",description:"Grants you the Dive Bomb ability.",cost:1,providedAbilities:[{id:"dive-bomb",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"aerial-combat",requires:[{id:"advanced-flying",levels:1},{id:"dive-bomb",levels:1}],name:"Aerial Combat",description:"Grants you the Aerial Combat ability.",cost:1,providedAbilities:[{id:"aerial-combat",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"aerial-evasion",requires:[{id:"aerial-combat",levels:1}],name:"Aerial Evasion",description:"Grants you the Aerial Evasion ability.",cost:1,providedAbilities:[{id:"aerial-evasion",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"armor",requires:[{id:"basic",levels:1}],name:"Armor",description:"Adds 1 Armor",levels:7,levelCost:[1,1,2,2,3,4,4],providedStats:[{id:"armor",modifier:1}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"attentive",requires:[{id:"armor",levels:2}],name:"Attentive",description:"Grants the Attentive ability",providedAbilities:[{id:"attentive",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"alert",requires:[{id:"attentive",levels:1}],name:"Alert",description:"Grants the Alert ability",providedAbilities:[{id:"alert",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8550"},id:"reactive-armor",requires:[{id:"armor",levels:5}],name:"Reactive Armor",description:"Sets your AC to 1 and grants Reactive Armor.",cost:1,providedStats:[{id:"armor",set:1,modifier:1}],providedAbilities:[{id:"reactive-armor",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"reactive-armor-2",requires:[{id:"reactive-armor",levels:1}],name:"Reactive Armor 2",description:"Increases your base AC to 2",cost:1,providedStats:[{id:"armor",set:2,modifier:2}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"defend-1",requires:[{id:"armor",levels:1}],name:"Defend 1",description:"Grants the ability to defend and adds 1 HP.",cost:1,providedStats:[{id:"hp",modifier:1}],providedAbilities:[{id:"defend",gain:!0}]},{colors:{unavailable:"#8e514f",selected:"#d78142"},id:"defend-2",requires:[{id:"defend-1",levels:1}],name:"Defend 2",description:"Increases the HP gained by Defend",cost:1,providedAbilities:[{id:"defend",modifier:1,modifiers:[{id:"hp",modifier:1,set:!1}]}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"deflect-1",requires:[{id:"defend-2",levels:1}],name:"Deflection",description:"Grants the Deflect ability.",cost:1,providedAbilities:[{id:"deflect",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"deflect-2",requires:[{id:"deflect-1",levels:1}],name:"Deflection+",description:"Makes it easier to deflect magic attacks.",cost:1,providedAbilities:[{id:"deflect",modifiers:[{id:"lowerRange",modifier:-1,set:!1}]}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"guardian-1",requires:[{id:"defend-1",levels:1}],name:"Guardian",description:"Grants the Guardian ability",cost:1,providedAbilities:[{id:"guardian",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"guardian-2",requires:[{id:"guardian-1",levels:1}],name:"Guardian+",description:"Allows you guard an additional attack",cost:1,providedAbilities:[{id:"guardian",modifiers:[{id:"attacks",modifier:1,set:!1}]}]},{colors:{unavailable:"#65748f",selected:"#7391c9"},id:"magic-range-1",requires:[{id:"basic-magic",levels:1}],name:"Spell Range",description:"Increases the range of your magic.",levels:3,providedAbilities:[{id:"spellcasting",modifiers:[{id:"range",modifier:1}]}]},{colors:{unavailable:"#65748f",selected:"#7391c9"},id:"concentration-1",requires:[{id:"basic-magic",levels:1}],name:"Concentration+",description:"Add +1 to concentration checks.",levels:2,providedAbilities:[{id:"spellcasting",modifiers:[{id:"concentration",modifier:1}]}]},{id:"holy-casting",name:"Holy-Divine Casting",requires:[{id:"basic-magic",levels:1}],description:"Grants you the ability to cast Holy/Divine Spells.",colors:{unavailable:"#C5B986",selected:"#e2c846"},cost:1,providedAbilities:[{id:"smite",gain:!0},{id:"guiding-bolt",gain:!0},{id:"death-ward",gain:!0},{id:"restoration",gain:!0},{id:"turn-undead",gain:!0},{id:"bless",gain:!0},{id:"spirit-guardians",gain:!0}]},{id:"holy-power",name:"Holy Power",requires:[{id:"holy-casting",levels:1}],description:"Increases the damage of Smite and Guiding Bolt by 1",colors:{unavailable:"#C5B986",selected:"#948540"},cost:1,providedAbilities:[{id:"smite",modifiers:[{id:"dmg",modifier:1}]},{id:"guiding-bolt",modifiers:[{id:"dmg",modifier:1}]}]},{colors:{unavailable:"#C5B986",selected:"#e6c11d"},id:"advanced-guiding-bolt",requires:[{id:"holy-power",levels:1}],name:"Advanced Guiding Bolt",description:"Guiding bolt now gives allies +2 to hit the target next round.",cost:1,providedAbilities:[{id:"guiding-bolt",modifiers:{hit:1}}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"swimming",requires:[{id:"speed",levels:1}],name:"Swimming",description:"Congrats! You are a unit.",cost:1,providedAbilities:[{id:"swimming",gain:!0}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"advanced-swimming",requires:[{id:"swimming",levels:1}],name:"Advanded Swimming",description:"Increases potential water speed by 3.",cost:1,providedAbilities:[{id:"swimming",modifiers:{movement:3}}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"ferry",requires:[{id:"advanced-swimming",levels:1}],name:"Ferry",description:"Grants the Ferry ability",cost:1,providedAbilities:[{id:"ferry",gain:!0}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"diving",requires:[{id:"advanced-swimming",levels:1}],name:"Diving",description:"Grants the Diving ability",cost:2,providedAbilities:[{id:"diving",gain:!0}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"submarine-transportation",requires:[{id:"diving",levels:1}],name:"Submarine Transportation",description:"Grants the Submarine Transportation ability",cost:1,providedAbilities:[{id:"submarine-transportation",gain:!0}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"attack-from-the-deep",requires:[{id:"diving",levels:1}],name:"Attack From The Deep",description:"Grants the Attack From The Deep ability",cost:2,providedAbilities:[{id:"attack-from-the-deep",gain:!0}]},{colors:{unavailable:"#7b5290",selected:"#ab38d9"},id:"191",requires:[{id:"basic-magic",levels:1}],name:"Enchantment",cost:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[],gain:!0},{id:"beguile",modifier:1,modifiers:[],gain:!0},{id:"dominate",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7b5290",selected:"#ab38d9"},id:"180",requires:[{id:"191",levels:1}],name:"Beguile+",description:"Beguiled opponents can now be Compelled and Charmed.",cost:1,providedAbilities:[{id:"beguile",modifier:1,modifiers:[{id:"compelled",modifier:1,set:!1},{id:"charmed",modifier:1,set:!1}]}]},{colors:{unavailable:"#7b5290",selected:"#ab38d9"},id:"beguile-3",requires:[{id:"180",levels:1}],name:"Beguile++",description:"Charmed opponents make 1 fewer attack against you.",cost:1,providedAbilities:[{id:"beguile",modifier:1,modifiers:[{id:"numAttacks",modifier:1,set:!1}]}]},{colors:{unavailable:"#7b5290",selected:"#ab38d9"},id:"alter-emotions-1",requires:[{id:"191",levels:1}],name:"Alter Emotions+",cost:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[{id:"amt",modifier:1,set:!1}]}]},{colors:{unavailable:"#7b5290",selected:"#ab38d9"},id:"soothe",requires:[{id:"alter-emotions-1",levels:1}],name:"Alter Emotions++",description:"You can cast Alter Emotions on additional targets adjacent to the spell's target.",cost:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[{id:"adjacent",modifier:1,set:!1}]}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command",requires:[{id:"basic",levels:1}],name:"Command",cost:1,providedAbilities:[{id:"command",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-plus",requires:[{id:"command",levels:1}],name:"Command+",levels:3,levelCost:[1,1,1],providedAbilities:[{id:"command",modifier:1,modifiers:[{id:"commandRadius",modifier:50,set:!1}]}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"aggro-command",requires:[{id:"command-plus",levels:1}],name:"Aggressive Commander",cost:1,providedAbilities:[{id:"aggro-command",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-plus-2",requires:[{id:"command-plus",levels:2}],name:"Energetic Commander",cost:1,providedAbilities:[{id:"energetic-commander",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-2",requires:[{id:"command",levels:1}],name:"Rally",cost:1,providedAbilities:[{id:"rally",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"rally+",requires:[{id:"command-2",levels:1}],name:"Rally+",cost:1,providedAbilities:[{id:"rally",modifier:1,modifiers:[{id:"hp",modifier:2,set:!1}]},{id:"rally-2",modifiers:[{id:"hp",modifier:2,set:!1}],gain:!1}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-2-2",requires:[{id:"command-2",levels:1}],name:"Ordered Strike",cost:1,providedAbilities:[{id:"rally",modifiers:[{id:"bonus",modifier:1,set:!1}]}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-2-2-1",requires:[{id:"command-2-2",levels:1}],name:"Ordered Strike 2",cost:1,providedAbilities:[{id:"rally-2",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#bd7859",selected:"#d48630"},id:"brace",requires:[{id:"defend-2",levels:1}],name:"Brace",description:"Brace for attacks while defending, negating charge effects and damaging nearby enemies.",cost:1,providedAbilities:[{id:"defend",modifier:1,modifiers:[{id:"brace",modifier:1,set:!1}]}]},{colors:{unavailable:"#d3976b",selected:"#d46430"},id:"defend-2-3",requires:[{id:"defend-2",levels:1},{id:"guardian-2",levels:1}],requirementType:"or",name:"Attack of Opportunity",cost:1,providedAbilities:[{id:"attack-of-opportunity",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"professionals",requires:[{id:"armor",levels:3}],name:"Professionals",description:'Grants the "Professionals" ability.',cost:1,providedAbilities:[{id:"professionals",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"basic-magic-5",requires:[{id:"basic-magic",levels:1}],name:"Necromancy",description:"Cast Necromancer spells.",cost:1,providedAbilities:[{id:"necromancy",modifier:1,modifiers:[],gain:!0},{id:"raise-dead-copy",modifier:1,modifiers:[],gain:!0},{id:"raise-dead",modifier:1,modifiers:[],gain:!0},{id:"knit-flesh",modifier:1,modifiers:[],gain:!0},{id:"wither",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necromancy-raise-dead",requires:[{id:"basic-magic-5",levels:1}],name:"Raise Dead+",description:"Increases the health of raised units.",cost:1,providedAbilities:[{id:"raise-dead",modifier:1,modifiers:[{id:"raiseHp",modifier:25,set:!1}]}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necromancy-raise-dead-1",requires:[{id:"necromancy-raise-dead",levels:1}],name:"Raise Dead++",description:"Raise units to full health.",cost:1,providedAbilities:[{id:"raise-dead",modifier:1,modifiers:[{id:"raiseHp",modifier:50,set:!1}]}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necro-prof",requires:[{id:"basic-magic-5",levels:1}],name:"Necromantic Profiency",description:"Increases the number of necromancy spells you can cast",levels:2,levelCost:[1,1],providedAbilities:[{id:"necromancy",modifier:1,modifiers:[{id:"slots",modifier:2,set:!1}]}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necro-prof-1",requires:[{id:"necro-prof",levels:1}],name:"Necromantic Mastery",description:"Further increases the number of spells you can cast",cost:1,providedAbilities:[{id:"necromancy",modifier:1,modifiers:[{id:"slots",modifier:1,set:!1}]}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necro-prof-2",requires:[{id:"necro-prof",levels:1}],name:"Necromancer",description:"You can now cast 2 necromancy spells per action.",cost:1,providedAbilities:[{id:"necromancy",modifier:1,modifiers:[{id:"spellsPerAction",modifier:1,set:!1}]}]},{id:"greater-restoration",name:"Greater Restoration",requires:[{id:"holy-casting",levels:1}],description:`Restoration now heals 5 HP.

Death Ward restores units to 3 HP.`,colors:{unavailable:"#C5B986",selected:"#bda841"},cost:1,providedAbilities:[{id:"restoration",modifier:1,modifiers:[{id:"hp",modifier:2,set:!1}]},{id:"death-ward",modifier:1,modifiers:[{id:"hp",modifier:1,set:!1}]}]},{id:"divine-restoration",name:"Divine Restoration",requires:[{id:"greater-restoration",levels:1}],description:"Restoration can now be cast for 2 spell slots and heals 10 HP if done this way.",colors:{unavailable:"#C5B986",selected:"#bda841"},cost:1,providedAbilities:[{id:"restoration",modifier:1,modifiers:[{id:"divine",modifier:1,set:!1}]}]},{id:"holy-avenger",name:"Holy Avenger",requires:[{id:"holy-power",levels:1}],colors:{unavailable:"#C5B986",selected:"#948540"},cost:1},{id:"undead-scourge",name:"Undead Scourge",requires:[{id:"holy-power",levels:1},{levels:"1",id:"paragon-of-divintiy"}],colors:{unavailable:"#C5B986",selected:"#948540"},cost:1},{id:"paragon-of-divintiy",name:"Paragon of Divinity",requires:[{id:"holy-casting",levels:1}],colors:{unavailable:"#C5B986",selected:"#e2c846"},cost:1},{id:"undead-scourge-plus",name:"Undead Scourge+",requires:[{id:"undead-scourge",levels:1}],colors:{unavailable:"#C5B986",selected:"#948540"},cost:1},{id:"divine-prof",name:"Divine Proficiency",requires:[{id:"holy-casting",levels:1}],colors:{unavailable:"#C5B986",selected:"#e2c846"},levels:3,levelCost:[2,2,2],providedAbilities:[{id:"holy-casting",modifier:1,modifiers:[{id:"slots",modifier:2,set:!1}]}]},{id:"cleric",name:"Cleric",requires:[{id:"divine-prof",levels:2}],description:"Holy spells heal for 1 additional HP.",colors:{unavailable:"#C5B986",selected:"#e2c846"},cost:1,providedAbilities:[{id:"restoration",modifier:1,modifiers:[{id:"hp",modifier:1,set:!1}]},{id:"death-ward",modifier:1,modifiers:[{id:"hp",modifier:1,set:!1}]}]},{id:"paladin",name:"Paladin",requires:[{id:"divine-prof",levels:2}],description:"Holy spells deal +1 damage",colors:{unavailable:"#C5B986",selected:"#e2c846"},cost:1,providedAbilities:[{id:"smite",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]},{id:"turn-undead",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]},{id:"spirit-guardians",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]},{id:"guiding-bolt",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]}]},{id:"attack-node",name:"Melee Attack",requires:[{id:"basic",levels:1}],colors:{unavailable:"#520505",selected:"#d81b1b"},levels:4,levelCost:[1,3,4,5],providedAbilities:[{id:"Attack_norm",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}],gain:!0},{id:"multi-attack",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]}]},{id:"Multi_attack-1-dz",name:"Multistrike",requires:[{id:"attack-node",levels:1}],colors:{unavailable:"#520505",selected:"#d81b1b"},levels:2,levelCost:[3,4],providedAbilities:[{id:"multi-attack",modifier:1,modifiers:[{id:"numatks",modifier:1,set:!1}],gain:!0}]},{id:"attack-node-1-dv",name:"Piercing attack",requires:[{id:"attack-node",levels:1}],requirementType:"and",colors:{unavailable:"#520505",selected:"#d81b1b"},levels:2,levelCost:[1,3],providedAbilities:[{id:"Attack_norm",modifier:1,modifiers:[{id:"dmg2",modifier:1,set:!1},{id:"tag-piercing",modifier:1,set:!1}]},{id:"multi-attack",modifier:1,modifiers:[{id:"dmg2",modifier:1,set:!1},{id:"tag-piercing",modifier:1,set:!1}]}]},{id:"basic-1-ay",name:"Ranged Attack",requires:[{id:"basic",levels:1}],colors:{unavailable:"#330722",selected:"#831256"},levels:4,levelCost:[1,3,4,5],providedAbilities:[{id:"ranged-attack",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}],gain:!0}]},{id:"basic-1-ay-1-ed",name:"Marksman",requires:[{id:"basic-1-ay",levels:1}],colors:{unavailable:"#330722",selected:"#831256"},levels:5,levelCost:[1,2,3,4,5],providedAbilities:[{id:"ranged-attack",modifier:1,modifiers:[{id:"range",modifier:1,set:!1}]}]},{id:"ranged-piercing-001",name:"Advanced Arrowheads",requires:[{id:"basic-1-ay",levels:1}],colors:{unavailable:"#330722",selected:"#831256"},cost:1,providedAbilities:[{id:"ranged-attack",modifier:1,modifiers:[{id:"dmg2",modifier:1,set:!1}]}]}],Jne={attack:"#d92a2d",tag:"#c74141",holy:"#d7a435",enchantment:"#ab38d9",defense:"#bb864c",flying:"#6dcb20",aquatic:"#2698a8",magic:"#5269bd",movement:"#459068",undead:"#849064",concentration:"#e28baf",piercing:"#ec9569",command:"#46ddcb",healing:"#e15fab",mustering:"#dca542",necromancy:"#aded23",spell:"#3579cf"},ere=[{id:"armor",name:"Armor"},{id:"hp",name:"Hit Points"},{id:"movement",name:"Movement"}],tre={abilities:qne,abilityTypes:Kne,globalParams:Zne,nodes:Qne,tagColors:Jne,stats:ere};function nre(){const{build:t,setSavedBuild:e}=_.useContext(ha),{tagColors:n,setTagColors:r}=_.useContext(Iu),{stats:i,setStats:s}=_.useContext(ju),{abilityTypes:o,abilities:a,setAbilities:l,setAbilityTypes:u,globalParams:c,setGlobalParams:h}=_.useContext(Wt),{nodes:d,setNodes:f}=_.useContext(Zr),[p,m]=_.useState(""),[g,v]=_.useState(""),[b,y]=_.useState(`dragon-build-${new Date().toDateString()}`),[x,S]=_.useState(`dragon-trees-${new Date().toDateString()}`),C=(N,R)=>{const F=N.target.files,q=new FileReader;q.onload=Q=>{var z,$,W;LT((z=Q.target)==null?void 0:z.result)&&(R==="build"?m((($=Q.target)==null?void 0:$.result)||""):R==="tree"&&v(((W=Q.target)==null?void 0:W.result)||""))},q.readAsText(F[0])},T=N=>{let R={},F="";if(N==="build")R=t==null?void 0:t.exportableBuild,F=`${b||"dragon-build"}.json`;else if(N==="trees"){const q=x||"dragon-trees";R={abilities:a,abilityTypes:o,globalParams:c,nodes:d,tagColors:n,stats:i},F=`${q}.json`}if(F.length&&R){const q=JSON.stringify(R,null,2),Q=new Blob([q],{type:"application/json"}),z=URL.createObjectURL(Q),$=document.createElement("a");$.href=z,$.download=F,document.body.appendChild($),$.click(),document.body.removeChild($),URL.revokeObjectURL(z)}};return j("div",{className:"code-panel",children:[E(Cn,{name:"Character Build",startOpen:!1,children:j("div",{className:"section",children:[j("div",{className:"uploader",children:[E("input",{type:"file",id:"1",onChange:N=>C(N,"build")}),j(st,{disabled:!p,clicked:N=>{p.length;const R=JSON.parse(p);R&&e({type:"imported",build:R})},children:["Import Build ",E($g,{})]})]}),j("div",{className:"downloader",children:[j("div",{children:["Save as:",E(Sr,{value:b,valueChanged:N=>y(N)})]}),j(st,{type:"outline",color:"success",clicked:()=>T("build"),children:["Save Build ",E(Xo,{})]})]})]})}),E(Cn,{name:"Trees, Abilities, Etc",startOpen:!1,children:j("div",{className:"section",children:[j("div",{className:"uploader",children:[E("input",{type:"file",id:"1",onChange:N=>C(N,"tree")}),j(st,{disabled:!g,clicked:N=>{if(g.length){const R=JSON.parse(g);e({type:"imported",build:{}}),R&&(R.nodes&&f({type:"set",nodes:R.nodes}),R.abilities&&l({type:"set",abilities:R.abilities}),R.tagColors&&r({type:"set",colors:R.tagColors}),R.stats&&s({type:"set",stats:R.stats}),R.globalParams&&h({type:"set",params:R.globalParams}),R.abilityTypes&&u({type:"set",abilityTypes:R.abilityTypes}))}},children:["Import Trees/Abilities ",E($g,{})]})]}),j("div",{className:"downloader",children:[j("div",{children:["Save as:",E(Sr,{value:x,valueChanged:N=>S(N)})]}),j(st,{color:"success",clicked:()=>T("trees"),children:["Save Current Trees/Abilities ",E(Xo,{})]})]})]})}),E(Cn,{name:"Defaults",startOpen:!0,children:j("div",{className:"reset",children:[j(st,{color:"info",clicked:N=>{const R=tre;f({type:"set",nodes:R.nodes}),s({type:"set",stats:R.stats}),u({type:"set",abilityTypes:R.abilityTypes}),l({type:"set",abilities:R.abilities}),r({type:"set",colors:R.tagColors}),h({type:"set",params:R.globalParams}),e({type:"imported",build:{}})},children:[E(LN,{}),"Load Defaults"]}),E("br",{}),j(st,{color:"danger",clicked:N=>{f({type:"reset"}),l({type:"set",abilities:[]}),u({type:"set",abilityTypes:[]}),r({type:"set",tagColors:{}}),s({type:"set",stats:[]}),h({type:"set",params:[]}),e({type:"imported",build:{}})},children:[E(kN,{}),"Reset Build, Trees, and Abilities"]})]})})]})}function ME({itemSelected:t,selectedItem:e}){const{theme:n,setTheme:r}=_.useContext(Ru),{appMode:i,setAppMode:s}=_.useContext(Mi);return j("div",{className:"right-menu",children:[i==="build"?E("button",{type:"button",className:e==="sheet"?"selected":"",onClick:o=>t("sheet"),children:E(FB,{})}):E("button",{type:"button",className:e==="sheet"?"selected":"",onClick:o=>t("sheet"),children:E(BB,{})}),E("button",{type:"button",className:e==="code"?"selected":"",onClick:o=>t("code"),children:E($g,{})}),E("button",{type:"button",className:e==="help"?"selected":"",onClick:o=>t("help"),children:E(fN,{})}),E("hr",{}),E("button",{onClick:()=>r({type:"set",theme:n==="light"?"dark":"light"}),children:n==="light"?E(CN,{}):E(WN,{})}),E(st,{color:i==="edit"?"success":"theme",clicked:()=>s(i==="edit"?"build":"edit"),children:E(KT,{})})]})}function rre({children:t,itemSelected:e,title:n}){const[r,i]=_.useState(null),{leftExpanded:s,setLeftExpanded:o,rightExpanded:a,setRightExpanded:l}=_.useContext(Mi),[u,c]=_.useState(!1);let h;const d=p=>{(p===r||!a)&&l(!a),i(p),e(p)},f=p=>{c(!u)};return h=u?E(QB,{}):E(qB,{}),a?j("div",{className:"sidebar-right expanded",children:[j("div",{className:Yl({"sidebar-right-panel":!0,full:u,partial:a,"minus-right":s}),children:[j("div",{onClick:f,className:"sidebar-right-panel-heading",children:[E("button",{className:"expander",children:h}),n]}),E("div",{className:"sidebar-right-panel-content",children:t})]}),E(ME,{itemSelected:d,selectedItem:r})]}):E("div",{className:"sidebar-right",children:E(ME,{itemSelected:d,selectedItem:void 0})})}const ire={small:[0,600],med:[600,900],large:[901,1150],xl:[1151,1400],xxl:[1401,1600],xxxl:[1601,2e3]};function sre(t){return{small:1,med:2,large:3,xl:4,xxl:5,xxxl:6}[t]}function FE(t,e){return mn(t,n=>{var i,s;let r=!0;return(i=e.tags)!=null&&i.length&&(r=$T(e.tags,n.tags).length===0),(s=e.textFilter)!=null&&s.length&&(r=r&&n.name.toLowerCase().includes(e.textFilter.toLowerCase())),r})}function ore(t){const e=jT(t,(n,r)=>{var i;return(i=r==null?void 0:r.tags)!=null&&i.length?[...n,...r.tags]:n},[]);return ca(Jd(e))}function are(){const{abilities:t,setAbilities:e}=_.useContext(Wt),[n,r]=_.useState({tags:[],textFilter:""}),[i,s]=_.useState(!1),[o,a]=_.useState(""),{ref:l,active:u,width:c}=iO({breakpoints:ire}),h=v=>{},d=v=>{a(v.id)},f=v=>{e({type:"remove",ability:{id:v}}),e({type:"save"})},p=v=>{r(v)},m=()=>{const v=`id-${Math.floor(Math.random()*200)}`;e({type:"add",ability:{name:n.textFilter||"New Ability",id:v,description:"",tags:n.tags,type:"action"}}),a(v)},g=()=>{s(!i)};return j("div",{className:"ability-editor",children:[E(sO,{children:E(oO,{expanded:!0,tags:ore(t),filtersUpdated:p})}),j("div",{className:"expand-button",children:["Abilities",E(st,{color:"theme",clicked:g,children:i?E(qT,{size:30}):E(YT,{size:30})})]}),E("div",{ref:l,className:"ability-cards",children:j(rO,{columns:sre(u),spacing:2,children:[E("div",{className:"card-wrapper new-button",children:j("button",{onClick:m,children:[E(nr,{})," New Ability"]})}),FE(t,n).map((v,b)=>E("div",{className:"card-wrapper",children:E(Af,{ability:v,isPlayerAbility:!0,modifiers:v.modifiers,startOpen:!1,isExpanded:i,editable:!0,forceIsEditing:v.id===o,abilityEdited:h,abilityCopied:d,abilityRemoved:f},b)})),FE(t,n).length>10&&E("div",{className:"card-wrapper new-button",children:j("button",{onClick:m,children:[E(nr,{})," New Ability"]})})]})})]})}function lre(){const{abilityTypes:t,setAbilityTypes:e}=_.useContext(Wt),n=o=>{e({type:"add",abilityType:{id:"new-abilityType-type",name:"New Ability Type"}})},r=o=>{e({type:"remove",abilityType:{id:o}})},i=(o,a,l)=>{e({type:"update",index:a,abilityType:{...t[a],[l]:o}})},s=()=>{e({type:"save"})};return E("div",{className:"abilityType-editor",children:j("div",{className:"abilityTypes",children:[ve(t,(o,a)=>j("div",{className:"abilityType-instance",children:[E("div",{className:"color",children:E(ql,{color:o.color||"#ffffff",colorChanged:l=>i(l,a,"color")})}),j("div",{className:"top",children:[E("div",{className:"name",children:E(Sr,{blur:s,value:o.name,valueChanged:l=>i(l,a,"name")})}),E("button",{className:"remove-button",onClick:l=>r(o.id),children:E(da,{})})]}),E("div",{className:"bottom",children:E("div",{className:"id",children:E(Sr,{blur:s,value:o.id,valueChanged:l=>i(l,a,"id")})})})]},a)),j("button",{className:"new-button",onClick:n,children:["Add Type ",E(nr,{})]})]})})}function ure(){const{globalParams:t,setGlobalParams:e}=_.useContext(Wt),[n,r]=_.useState(!1),[i,s]=_.useState(t);_.useEffect(()=>{s(t)},[t]);const o=(h,d)=>{let f=Pe(i);f[d].id=h,s(f),r(!0)},a=(h,d)=>{let f=Pe(i);f[d].value=h,s(f),r(!0)},l=()=>{let h=[...i,{id:"",value:0}];s(h),r(!0)},u=h=>{let d=Pe(i);d.splice(h,1),e(d)},c=()=>{e({type:"set",params:Pe(i)}),e({type:"save"}),r(!1)};return j("div",{className:"param-editor",children:[i&&ve(i,(h,d)=>j("div",{className:"param-line",children:[E(st,{color:"danger",clicked:()=>u(d),children:E(da,{size:"18"})}),E(Sr,{minWidth:120,placeholder:"name",className:"param-input",value:h.id,valueChanged:f=>o(f,d)}),E(ky,{className:"param-input",value:h.value,valueChanged:f=>a(f,d)})]})),j("div",{className:"add-button",children:[E("div",{children:j(st,{disabled:Pu(i,{name:""}),color:"theme",clicked:l,children:[E(nr,{size:20})," Add Param"]})}),j(st,{disabled:!n,color:"success",clicked:c,children:[E(Xo,{size:20})," Save Changes"]})]})]})}function DE(){const{stats:t,setStats:e}=_.useContext(ju),n=o=>{e({type:"add",stat:{id:"new-stat",name:"New Stat",color:"#fff"}})},r=o=>{e({type:"remove",stat:{id:o}})},i=(o,a,l)=>{e({type:"update",index:a,stat:{...t[a],[l]:o}})},s=()=>{e({type:"save"})};return E("div",{className:"stat-editor",children:j("div",{className:"stats",children:[ve(t,(o,a)=>j("div",{className:"stat-instance",children:[E("div",{className:"color",children:E(ql,{color:o.color||"#ffffff",colorChanged:l=>i(l,a,"color")})}),j("div",{className:"top",children:[E("div",{className:"name",children:E(Sr,{blur:s,value:o.name,valueChanged:l=>i(l,a,"name")})}),E("button",{className:"remove-button",onClick:l=>r(o.id),children:E(da,{})})]}),E("div",{className:"bottom",children:E("div",{className:"id",children:E(Sr,{blur:s,value:o.id,valueChanged:l=>i(l,a,"id")})})})]},a)),j("button",{className:"new-button",onClick:n,children:["Add Stat ",E(nr,{})]})]})})}const cre="{myParam}This only appears when 'myParam' is at least 1{/myParam}",hre="%myParam% will be replaced with the value of 'myParam'",dre="You make 1 melee attack against an adjacent enemy. Roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.";function fre(){const[t,e]=_.useState("info"),[n,r]=_.useState("info"),{appMode:i}=_.useContext(Mi);return j(rre,{itemSelected:o=>{switch(e(o),o){case"sheet":r("Character Sheet");break;case"code":r("Import/Export");break;case"help":r("Help");break;case"list":r("Edit Data");break}},title:n,children:[t==="sheet"&&E("div",{children:i==="build"?E(Yne,{}):j("div",{children:[E(Cn,{name:"Abilities",startOpen:!1,children:E(are,{})}),E(Cn,{name:"Ability Types",startOpen:!1,children:E(lre,{})}),E(Cn,{name:"Global Params",startOpen:!1,children:E(ure,{})}),E(Cn,{name:"Stats",startOpen:!1,children:E(DE,{})})]})}),t==="code"?E(nre,{}):"",t==="help"?j("div",{className:"padding-md",style:{textAlign:"left"},children:[E("h2",{children:"Ability Description Syntax"}),E("h3",{children:"Condition"}),E("p",{children:cre}),E("h3",{children:"Value"}),E("p",{children:hre}),E("h3",{children:"Example"}),E("p",{children:dre})]}):"",t==="stats"?E(DE,{}):""]})}function pre({pointsSpent:t}){return j("div",{className:"point-counter",children:["Spent: ",t]})}var mre={value:()=>{}};function aO(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ph(n)}function ph(t){this._=t}function gre(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ph.prototype=aO.prototype={constructor:ph,on:function(t,e){var n=this._,r=gre(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=vre(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=$E(n[i],t.name,e);else if(e==null)for(i in n)n[i]=$E(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ph(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function vre(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function $E(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=mre,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Jo=0,sl=0,Ha=0,lO=1e3,hd,ol,dd=0,ys=0,Ff=0,eu=typeof performance=="object"&&performance.now?performance:Date,uO=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function cO(){return ys||(uO(yre),ys=eu.now()+Ff)}function yre(){ys=0}function y0(){this._call=this._time=this._next=null}y0.prototype=hO.prototype={constructor:y0,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?cO():+n)+(e==null?0:+e),!this._next&&ol!==this&&(ol?ol._next=this:hd=this,ol=this),this._call=t,this._time=n,b0()},stop:function(){this._call&&(this._call=null,this._time=1/0,b0())}};function hO(t,e,n){var r=new y0;return r.restart(t,e,n),r}function bre(){cO(),++Jo;for(var t=hd,e;t;)(e=ys-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Jo}function BE(){ys=(dd=eu.now())+Ff,Jo=sl=0;try{bre()}finally{Jo=0,wre(),ys=0}}function xre(){var t=eu.now(),e=t-dd;e>lO&&(Ff-=e,dd=t)}function wre(){for(var t,e=hd,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:hd=n);ol=t,b0(r)}function b0(t){if(!Jo){sl&&(sl=clearTimeout(sl));var e=t-ys;e>24?(t<1/0&&(sl=setTimeout(BE,t-eu.now()-Ff)),Ha&&(Ha=clearInterval(Ha))):(Ha||(dd=eu.now(),Ha=setInterval(xre,lO)),Jo=1,uO(BE))}}function NE(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function i(){var s,o=n.length,a,l=0,u=0;for(s=0;s<o;++s)a=n[s],l+=a.x,u+=a.y;for(l=(l/o-t)*r,u=(u/o-e)*r,s=0;s<o;++s)a=n[s],a.x-=l,a.y-=u}return i.initialize=function(s){n=s},i.x=function(s){return arguments.length?(t=+s,i):t},i.y=function(s){return arguments.length?(e=+s,i):e},i.strength=function(s){return arguments.length?(r=+s,i):r},i}function _re(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return dO(this.cover(e,n),e,n,t)}function dO(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,s=t._root,o={data:r},a=t._x0,l=t._y0,u=t._x1,c=t._y1,h,d,f,p,m,g,v,b;if(!s)return t._root=o,t;for(;s.length;)if((m=e>=(h=(a+u)/2))?a=h:u=h,(g=n>=(d=(l+c)/2))?l=d:c=d,i=s,!(s=s[v=g<<1|m]))return i[v]=o,t;if(f=+t._x.call(null,s.data),p=+t._y.call(null,s.data),e===f&&n===p)return o.next=s,i?i[v]=o:t._root=o,t;do i=i?i[v]=new Array(4):t._root=new Array(4),(m=e>=(h=(a+u)/2))?a=h:u=h,(g=n>=(d=(l+c)/2))?l=d:c=d;while((v=g<<1|m)===(b=(p>=d)<<1|f>=h));return i[b]=s,i[v]=o,t}function Ere(t){var e,n,r=t.length,i,s,o=new Array(r),a=new Array(r),l=1/0,u=1/0,c=-1/0,h=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(s=+this._y.call(null,e))||(o[n]=i,a[n]=s,i<l&&(l=i),i>c&&(c=i),s<u&&(u=s),s>h&&(h=s));if(l>c||u>h)return this;for(this.cover(l,u).cover(c,h),n=0;n<r;++n)dO(this,o[n],a[n],t[n]);return this}function Sre(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,s=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,s=(r=Math.floor(e))+1;else{for(var o=i-n||1,a=this._root,l,u;n>t||t>=i||r>e||e>=s;)switch(u=(e<r)<<1|t<n,l=new Array(4),l[u]=a,a=l,o*=2,u){case 0:i=n+o,s=r+o;break;case 1:n=i-o,s=r+o;break;case 2:i=n+o,r=s-o;break;case 3:n=i-o,r=s-o;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=s,this}function Cre(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function Tre(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Mt(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function Are(t,e,n){var r,i=this._x0,s=this._y0,o,a,l,u,c=this._x1,h=this._y1,d=[],f=this._root,p,m;for(f&&d.push(new Mt(f,i,s,c,h)),n==null?n=1/0:(i=t-n,s=e-n,c=t+n,h=e+n,n*=n);p=d.pop();)if(!(!(f=p.node)||(o=p.x0)>c||(a=p.y0)>h||(l=p.x1)<i||(u=p.y1)<s))if(f.length){var g=(o+l)/2,v=(a+u)/2;d.push(new Mt(f[3],g,v,l,u),new Mt(f[2],o,v,g,u),new Mt(f[1],g,a,l,v),new Mt(f[0],o,a,g,v)),(m=(e>=v)<<1|t>=g)&&(p=d[d.length-1],d[d.length-1]=d[d.length-1-m],d[d.length-1-m]=p)}else{var b=t-+this._x.call(null,f.data),y=e-+this._y.call(null,f.data),x=b*b+y*y;if(x<n){var S=Math.sqrt(n=x);i=t-S,s=e-S,c=t+S,h=e+S,r=f.data}}return r}function Pre(t){if(isNaN(c=+this._x.call(null,t))||isNaN(h=+this._y.call(null,t)))return this;var e,n=this._root,r,i,s,o=this._x0,a=this._y0,l=this._x1,u=this._y1,c,h,d,f,p,m,g,v;if(!n)return this;if(n.length)for(;;){if((p=c>=(d=(o+l)/2))?o=d:l=d,(m=h>=(f=(a+u)/2))?a=f:u=f,e=n,!(n=n[g=m<<1|p]))return this;if(!n.length)break;(e[g+1&3]||e[g+2&3]||e[g+3&3])&&(r=e,v=g)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(s=n.next)&&delete n.next,i?(s?i.next=s:delete i.next,this):e?(s?e[g]=s:delete e[g],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[v]=n:this._root=n),this):(this._root=s,this)}function Ore(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function Ire(){return this._root}function Rre(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function kre(t){var e=[],n,r=this._root,i,s,o,a,l;for(r&&e.push(new Mt(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,s=n.x0,o=n.y0,a=n.x1,l=n.y1)&&r.length){var u=(s+a)/2,c=(o+l)/2;(i=r[3])&&e.push(new Mt(i,u,c,a,l)),(i=r[2])&&e.push(new Mt(i,s,c,u,l)),(i=r[1])&&e.push(new Mt(i,u,o,a,c)),(i=r[0])&&e.push(new Mt(i,s,o,u,c))}return this}function Mre(t){var e=[],n=[],r;for(this._root&&e.push(new Mt(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var s,o=r.x0,a=r.y0,l=r.x1,u=r.y1,c=(o+l)/2,h=(a+u)/2;(s=i[0])&&e.push(new Mt(s,o,a,c,h)),(s=i[1])&&e.push(new Mt(s,c,a,l,h)),(s=i[2])&&e.push(new Mt(s,o,h,c,u)),(s=i[3])&&e.push(new Mt(s,c,h,l,u))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function Fre(t){return t[0]}function Dre(t){return arguments.length?(this._x=t,this):this._x}function $re(t){return t[1]}function Bre(t){return arguments.length?(this._y=t,this):this._y}function F1(t,e,n){var r=new D1(e??Fre,n??$re,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function D1(t,e,n,r,i,s){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=s,this._root=void 0}function LE(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Nt=F1.prototype=D1.prototype;Nt.copy=function(){var t=new D1(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=LE(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=LE(r));return t};Nt.add=_re;Nt.addAll=Ere;Nt.cover=Sre;Nt.data=Cre;Nt.extent=Tre;Nt.find=Are;Nt.remove=Pre;Nt.removeAll=Ore;Nt.root=Ire;Nt.size=Rre;Nt.visit=kre;Nt.visitAfter=Mre;Nt.x=Dre;Nt.y=Bre;function os(t){return function(){return t}}function li(t){return(t()-.5)*1e-6}function Nre(t){return t.x+t.vx}function Lre(t){return t.y+t.vy}function UE(t){var e,n,r,i=1,s=1;typeof t!="function"&&(t=os(t==null?1:+t));function o(){for(var u,c=e.length,h,d,f,p,m,g,v=0;v<s;++v)for(h=F1(e,Nre,Lre).visitAfter(a),u=0;u<c;++u)d=e[u],m=n[d.index],g=m*m,f=d.x+d.vx,p=d.y+d.vy,h.visit(b);function b(y,x,S,C,T){var A=y.data,k=y.r,M=m+k;if(A){if(A.index>d.index){var B=f-A.x-A.vx,N=p-A.y-A.vy,R=B*B+N*N;R<M*M&&(B===0&&(B=li(r),R+=B*B),N===0&&(N=li(r),R+=N*N),R=(M-(R=Math.sqrt(R)))/R*i,d.vx+=(B*=R)*(M=(k*=k)/(g+k)),d.vy+=(N*=R)*M,A.vx-=B*(M=1-M),A.vy-=N*M)}return}return x>f+M||C<f-M||S>p+M||T<p-M}}function a(u){if(u.data)return u.r=n[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function l(){if(e){var u,c=e.length,h;for(n=new Array(c),u=0;u<c;++u)h=e[u],n[h.index]=+t(h,u,e)}}return o.initialize=function(u,c){e=u,r=c,l()},o.iterations=function(u){return arguments.length?(s=+u,o):s},o.strength=function(u){return arguments.length?(i=+u,o):i},o.radius=function(u){return arguments.length?(t=typeof u=="function"?u:os(+u),l(),o):t},o}function Ure(t){return t.index}function jE(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function zE(t){var e=Ure,n=h,r,i=os(30),s,o,a,l,u,c=1;t==null&&(t=[]);function h(g){return 1/Math.min(a[g.source.index],a[g.target.index])}function d(g){for(var v=0,b=t.length;v<c;++v)for(var y=0,x,S,C,T,A,k,M;y<b;++y)x=t[y],S=x.source,C=x.target,T=C.x+C.vx-S.x-S.vx||li(u),A=C.y+C.vy-S.y-S.vy||li(u),k=Math.sqrt(T*T+A*A),k=(k-s[y])/k*g*r[y],T*=k,A*=k,C.vx-=T*(M=l[y]),C.vy-=A*M,S.vx+=T*(M=1-M),S.vy+=A*M}function f(){if(o){var g,v=o.length,b=t.length,y=new Map(o.map((S,C)=>[e(S,C,o),S])),x;for(g=0,a=new Array(v);g<b;++g)x=t[g],x.index=g,typeof x.source!="object"&&(x.source=jE(y,x.source)),typeof x.target!="object"&&(x.target=jE(y,x.target)),a[x.source.index]=(a[x.source.index]||0)+1,a[x.target.index]=(a[x.target.index]||0)+1;for(g=0,l=new Array(b);g<b;++g)x=t[g],l[g]=a[x.source.index]/(a[x.source.index]+a[x.target.index]);r=new Array(b),p(),s=new Array(b),m()}}function p(){if(o)for(var g=0,v=t.length;g<v;++g)r[g]=+n(t[g],g,t)}function m(){if(o)for(var g=0,v=t.length;g<v;++g)s[g]=+i(t[g],g,t)}return d.initialize=function(g,v){o=g,u=v,f()},d.links=function(g){return arguments.length?(t=g,f(),d):t},d.id=function(g){return arguments.length?(e=g,d):e},d.iterations=function(g){return arguments.length?(c=+g,d):c},d.strength=function(g){return arguments.length?(n=typeof g=="function"?g:os(+g),p(),d):n},d.distance=function(g){return arguments.length?(i=typeof g=="function"?g:os(+g),m(),d):i},d}const jre=1664525,zre=1013904223,HE=4294967296;function Hre(){let t=1;return()=>(t=(jre*t+zre)%HE)/HE}function Gre(t){return t.x}function Wre(t){return t.y}var Vre=10,Xre=Math.PI*(3-Math.sqrt(5));function GE(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),s=0,o=.6,a=new Map,l=hO(h),u=aO("tick","end"),c=Hre();t==null&&(t=[]);function h(){d(),u.call("tick",e),n<r&&(l.stop(),u.call("end",e))}function d(m){var g,v=t.length,b;m===void 0&&(m=1);for(var y=0;y<m;++y)for(n+=(s-n)*i,a.forEach(function(x){x(n)}),g=0;g<v;++g)b=t[g],b.fx==null?b.x+=b.vx*=o:(b.x=b.fx,b.vx=0),b.fy==null?b.y+=b.vy*=o:(b.y=b.fy,b.vy=0);return e}function f(){for(var m=0,g=t.length,v;m<g;++m){if(v=t[m],v.index=m,v.fx!=null&&(v.x=v.fx),v.fy!=null&&(v.y=v.fy),isNaN(v.x)||isNaN(v.y)){var b=Vre*Math.sqrt(.5+m),y=m*Xre;v.x=b*Math.cos(y),v.y=b*Math.sin(y)}(isNaN(v.vx)||isNaN(v.vy))&&(v.vx=v.vy=0)}}function p(m){return m.initialize&&m.initialize(t,c),m}return f(),e={tick:d,restart:function(){return l.restart(h),e},stop:function(){return l.stop(),e},nodes:function(m){return arguments.length?(t=m,f(),a.forEach(p),e):t},alpha:function(m){return arguments.length?(n=+m,e):n},alphaMin:function(m){return arguments.length?(r=+m,e):r},alphaDecay:function(m){return arguments.length?(i=+m,e):+i},alphaTarget:function(m){return arguments.length?(s=+m,e):s},velocityDecay:function(m){return arguments.length?(o=1-m,e):1-o},randomSource:function(m){return arguments.length?(c=m,a.forEach(p),e):c},force:function(m,g){return arguments.length>1?(g==null?a.delete(m):a.set(m,p(g)),e):a.get(m)},find:function(m,g,v){var b=0,y=t.length,x,S,C,T,A;for(v==null?v=1/0:v*=v,b=0;b<y;++b)T=t[b],x=m-T.x,S=g-T.y,C=x*x+S*S,C<v&&(A=T,v=C);return A},on:function(m,g){return arguments.length>1?(u.on(m,g),e):u.on(m)}}}function WE(){var t,e,n,r,i=os(-30),s,o=1,a=1/0,l=.81;function u(f){var p,m=t.length,g=F1(t,Gre,Wre).visitAfter(h);for(r=f,p=0;p<m;++p)e=t[p],g.visit(d)}function c(){if(t){var f,p=t.length,m;for(s=new Array(p),f=0;f<p;++f)m=t[f],s[m.index]=+i(m,f,t)}}function h(f){var p=0,m,g,v=0,b,y,x;if(f.length){for(b=y=x=0;x<4;++x)(m=f[x])&&(g=Math.abs(m.value))&&(p+=m.value,v+=g,b+=g*m.x,y+=g*m.y);f.x=b/v,f.y=y/v}else{m=f,m.x=m.data.x,m.y=m.data.y;do p+=s[m.data.index];while(m=m.next)}f.value=p}function d(f,p,m,g){if(!f.value)return!0;var v=f.x-e.x,b=f.y-e.y,y=g-p,x=v*v+b*b;if(y*y/l<x)return x<a&&(v===0&&(v=li(n),x+=v*v),b===0&&(b=li(n),x+=b*b),x<o&&(x=Math.sqrt(o*x)),e.vx+=v*f.value*r/x,e.vy+=b*f.value*r/x),!0;if(f.length||x>=a)return;(f.data!==e||f.next)&&(v===0&&(v=li(n),x+=v*v),b===0&&(b=li(n),x+=b*b),x<o&&(x=Math.sqrt(o*x)));do f.data!==e&&(y=s[f.data.index]*r/x,e.vx+=v*y,e.vy+=b*y);while(f=f.next)}return u.initialize=function(f,p){t=f,n=p,c()},u.strength=function(f){return arguments.length?(i=typeof f=="function"?f:os(+f),c(),u):i},u.distanceMin=function(f){return arguments.length?(o=f*f,u):Math.sqrt(o)},u.distanceMax=function(f){return arguments.length?(a=f*f,u):Math.sqrt(a)},u.theta=function(f){return arguments.length?(l=f*f,u):Math.sqrt(l)},u}function al(t,e,n){this.k=t,this.x=e,this.y=n}al.prototype={constructor:al,scale:function(t){return t===1?this:new al(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new al(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};al.prototype;var Fi=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(Fi||{}),$1=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))($1||{}),fd=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(fd||{}),ce=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(ce||{}),Xn=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(Xn||{}),V=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(V||{}),as=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(as||{}),ae=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(ae||{}),pd=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(pd||{}),yr=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(yr||{}),_r=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(_r||{}),rr=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(rr||{}),Fn=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(Fn||{}),Wn=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(Wn||{}),Df=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(Df||{}),nn=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(nn||{}),it=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(it||{}),fO=(t=>(t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA",t))(fO||{}),Ve=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(Ve||{}),Qn=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(Qn||{});const pO={createCanvas:(t,e)=>{const n=document.createElement("canvas");return n.width=t,n.height=e,n},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},ee={ADAPTER:pO,RESOLUTION:1,RENDER_OPTIONS:{view:null,width:800,height:600,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,clearBeforeRender:!0,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,hello:!1},CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Yp=/iPhone/i,VE=/iPod/i,XE=/iPad/i,YE=/\biOS-universal(?:.+)Mac\b/i,qp=/\bAndroid(?:.+)Mobile\b/i,qE=/Android/i,Us=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Oc=/Silk/i,Pr=/Windows Phone/i,KE=/\bWindows(?:.+)ARM\b/i,ZE=/BlackBerry/i,QE=/BB10/i,JE=/Opera Mini/i,eS=/\b(CriOS|Chrome)(?:.+)Mobile/i,tS=/Mobile(?:.+)Firefox\b/i,nS=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function Yre(t){return function(e){return e.test(t)}}function qre(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var n=e.userAgent,r=n.split("[FBAN");typeof r[1]<"u"&&(n=r[0]),r=n.split("Twitter"),typeof r[1]<"u"&&(n=r[0]);var i=Yre(n),s={apple:{phone:i(Yp)&&!i(Pr),ipod:i(VE),tablet:!i(Yp)&&(i(XE)||nS(e))&&!i(Pr),universal:i(YE),device:(i(Yp)||i(VE)||i(XE)||i(YE)||nS(e))&&!i(Pr)},amazon:{phone:i(Us),tablet:!i(Us)&&i(Oc),device:i(Us)||i(Oc)},android:{phone:!i(Pr)&&i(Us)||!i(Pr)&&i(qp),tablet:!i(Pr)&&!i(Us)&&!i(qp)&&(i(Oc)||i(qE)),device:!i(Pr)&&(i(Us)||i(Oc)||i(qp)||i(qE))||i(/\bokhttp\b/i)},windows:{phone:i(Pr),tablet:i(KE),device:i(Pr)||i(KE)},other:{blackberry:i(ZE),blackberry10:i(QE),opera:i(JE),firefox:i(tS),chrome:i(eS),device:i(ZE)||i(QE)||i(JE)||i(tS)||i(eS)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const Yn=qre(globalThis.navigator);ee.RETINA_PREFIX=/@([0-9\.]+)x/;ee.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var _i={},Kre={get exports(){return _i},set exports(t){_i=t}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function s(l,u,c,h,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var f=new i(c,h||l,d),p=n?n+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],f]:l._events[p].push(f):(l._events[p]=f,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,h;if(this._eventsCount===0)return u;for(h in c=this._events)e.call(c,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,h=this._events[c];if(!h)return[];if(h.fn)return[h.fn];for(var d=0,f=h.length,p=new Array(f);d<f;d++)p[d]=h[d].fn;return p},a.prototype.listenerCount=function(u){var c=n?n+u:u,h=this._events[c];return h?h.fn?1:h.length:0},a.prototype.emit=function(u,c,h,d,f,p){var m=n?n+u:u;if(!this._events[m])return!1;var g=this._events[m],v=arguments.length,b,y;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,c),!0;case 3:return g.fn.call(g.context,c,h),!0;case 4:return g.fn.call(g.context,c,h,d),!0;case 5:return g.fn.call(g.context,c,h,d,f),!0;case 6:return g.fn.call(g.context,c,h,d,f,p),!0}for(y=1,b=new Array(v-1);y<v;y++)b[y-1]=arguments[y];g.fn.apply(g.context,b)}else{var x=g.length,S;for(y=0;y<x;y++)switch(g[y].once&&this.removeListener(u,g[y].fn,void 0,!0),v){case 1:g[y].fn.call(g[y].context);break;case 2:g[y].fn.call(g[y].context,c);break;case 3:g[y].fn.call(g[y].context,c,h);break;case 4:g[y].fn.call(g[y].context,c,h,d);break;default:if(!b)for(S=1,b=new Array(v-1);S<v;S++)b[S-1]=arguments[S];g[y].fn.apply(g[y].context,b)}}return!0},a.prototype.on=function(u,c,h){return s(this,u,c,h,!1)},a.prototype.once=function(u,c,h){return s(this,u,c,h,!0)},a.prototype.removeListener=function(u,c,h,d){var f=n?n+u:u;if(!this._events[f])return this;if(!c)return o(this,f),this;var p=this._events[f];if(p.fn)p.fn===c&&(!d||p.once)&&(!h||p.context===h)&&o(this,f);else{for(var m=0,g=[],v=p.length;m<v;m++)(p[m].fn!==c||d&&!p[m].once||h&&p[m].context!==h)&&g.push(p[m]);g.length?this._events[f]=g.length===1?g[0]:g:o(this,f)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(Kre);var tu={},Zre={get exports(){return tu},set exports(t){tu=t}};Zre.exports=$f;tu.default=$f;function $f(t,e,n){n=n||2;var r=e&&e.length,i=r?e[0]*n:t.length,s=mO(t,0,i,n,!0),o=[];if(!s||s.next===s.prev)return o;var a,l,u,c,h,d,f;if(r&&(s=nie(t,e,s,n)),t.length>80*n){a=u=t[0],l=c=t[1];for(var p=n;p<i;p+=n)h=t[p],d=t[p+1],h<a&&(a=h),d<l&&(l=d),h>u&&(u=h),d>c&&(c=d);f=Math.max(u-a,c-l),f=f!==0?32767/f:0}return nu(s,o,n,a,l,f,0),o}function mO(t,e,n,r,i){var s,o;if(i===_0(t,e,n,r)>0)for(s=e;s<n;s+=r)o=rS(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=rS(s,t[s],t[s+1],o);return o&&Bf(o,o.next)&&(iu(o),o=o.next),o}function bs(t,e){if(!t)return t;e||(e=t);var n=t,r;do if(r=!1,!n.steiner&&(Bf(n,n.next)||Xe(n.prev,n,n.next)===0)){if(iu(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function nu(t,e,n,r,i,s,o){if(t){!o&&s&&aie(t,r,i,s);for(var a=t,l,u;t.prev!==t.next;){if(l=t.prev,u=t.next,s?Jre(t,r,i,s):Qre(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),iu(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=eie(bs(t),e,n),nu(t,e,n,r,i,s,2)):o===2&&tie(t,e,n,r,i,s):nu(bs(t),e,n,r,i,s,1);break}}}}function Qre(t){var e=t.prev,n=t,r=t.next;if(Xe(e,n,r)>=0)return!1;for(var i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,u=r.y,c=i<s?i<o?i:o:s<o?s:o,h=a<l?a<u?a:u:l<u?l:u,d=i>s?i>o?i:o:s>o?s:o,f=a>l?a>u?a:u:l>u?l:u,p=r.next;p!==e;){if(p.x>=c&&p.x<=d&&p.y>=h&&p.y<=f&&So(i,a,s,l,o,u,p.x,p.y)&&Xe(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function Jre(t,e,n,r){var i=t.prev,s=t,o=t.next;if(Xe(i,s,o)>=0)return!1;for(var a=i.x,l=s.x,u=o.x,c=i.y,h=s.y,d=o.y,f=a<l?a<u?a:u:l<u?l:u,p=c<h?c<d?c:d:h<d?h:d,m=a>l?a>u?a:u:l>u?l:u,g=c>h?c>d?c:d:h>d?h:d,v=x0(f,p,e,n,r),b=x0(m,g,e,n,r),y=t.prevZ,x=t.nextZ;y&&y.z>=v&&x&&x.z<=b;){if(y.x>=f&&y.x<=m&&y.y>=p&&y.y<=g&&y!==i&&y!==o&&So(a,c,l,h,u,d,y.x,y.y)&&Xe(y.prev,y,y.next)>=0||(y=y.prevZ,x.x>=f&&x.x<=m&&x.y>=p&&x.y<=g&&x!==i&&x!==o&&So(a,c,l,h,u,d,x.x,x.y)&&Xe(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;y&&y.z>=v;){if(y.x>=f&&y.x<=m&&y.y>=p&&y.y<=g&&y!==i&&y!==o&&So(a,c,l,h,u,d,y.x,y.y)&&Xe(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;x&&x.z<=b;){if(x.x>=f&&x.x<=m&&x.y>=p&&x.y<=g&&x!==i&&x!==o&&So(a,c,l,h,u,d,x.x,x.y)&&Xe(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function eie(t,e,n){var r=t;do{var i=r.prev,s=r.next.next;!Bf(i,s)&&gO(i,r,r.next,s)&&ru(i,s)&&ru(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),iu(r),iu(r.next),r=t=s),r=r.next}while(r!==t);return bs(r)}function tie(t,e,n,r,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&cie(o,a)){var l=vO(o,a);o=bs(o,o.next),l=bs(l,l.next),nu(o,e,n,r,i,s,0),nu(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function nie(t,e,n,r){var i=[],s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,u=mO(t,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(uie(u));for(i.sort(rie),s=0;s<i.length;s++)n=iie(i[s],n);return n}function rie(t,e){return t.x-e.x}function iie(t,e){var n=sie(t,e);if(!n)return e;var r=vO(n,t);return bs(r,r.next),bs(n,n.next)}function sie(t,e){var n=e,r=t.x,i=t.y,s=-1/0,o;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var a=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=r&&a>s&&(s=a,o=n.x<n.next.x?n:n.next,a===r))return o}n=n.next}while(n!==e);if(!o)return null;var l=o,u=o.x,c=o.y,h=1/0,d;n=o;do r>=n.x&&n.x>=u&&r!==n.x&&So(i<c?r:s,i,u,c,i<c?s:r,i,n.x,n.y)&&(d=Math.abs(i-n.y)/(r-n.x),ru(n,t)&&(d<h||d===h&&(n.x>o.x||n.x===o.x&&oie(o,n)))&&(o=n,h=d)),n=n.next;while(n!==l);return o}function oie(t,e){return Xe(t.prev,t,e.prev)<0&&Xe(e.next,t,t.next)<0}function aie(t,e,n,r){var i=t;do i.z===0&&(i.z=x0(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,lie(i)}function lie(t){var e,n,r,i,s,o,a,l,u=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,u*=2}while(o>1);return t}function x0(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function uie(t){var e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function So(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function cie(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!hie(t,e)&&(ru(t,e)&&ru(e,t)&&die(t,e)&&(Xe(t.prev,t,e.prev)||Xe(t,e.prev,e))||Bf(t,e)&&Xe(t.prev,t,t.next)>0&&Xe(e.prev,e,e.next)>0)}function Xe(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Bf(t,e){return t.x===e.x&&t.y===e.y}function gO(t,e,n,r){var i=Rc(Xe(t,e,n)),s=Rc(Xe(t,e,r)),o=Rc(Xe(n,r,t)),a=Rc(Xe(n,r,e));return!!(i!==s&&o!==a||i===0&&Ic(t,n,e)||s===0&&Ic(t,r,e)||o===0&&Ic(n,t,r)||a===0&&Ic(n,e,r))}function Ic(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Rc(t){return t>0?1:t<0?-1:0}function hie(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&gO(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function ru(t,e){return Xe(t.prev,t,t.next)<0?Xe(t,e,t.next)>=0&&Xe(t,t.prev,e)>=0:Xe(t,e,t.prev)<0||Xe(t,t.next,e)<0}function die(t,e){var n=t,r=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function vO(t,e){var n=new w0(t.i,t.x,t.y),r=new w0(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function rS(t,e,n,r){var i=new w0(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function iu(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function w0(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}$f.deviation=function(t,e,n,r){var i=e&&e.length,s=i?e[0]*n:t.length,o=Math.abs(_0(t,0,s,n));if(i)for(var a=0,l=e.length;a<l;a++){var u=e[a]*n,c=a<l-1?e[a+1]*n:t.length;o-=Math.abs(_0(t,u,c,n))}var h=0;for(a=0;a<r.length;a+=3){var d=r[a]*n,f=r[a+1]*n,p=r[a+2]*n;h+=Math.abs((t[d]-t[p])*(t[f+1]-t[d+1])-(t[d]-t[f])*(t[p+1]-t[d+1]))}return o===0&&h===0?0:Math.abs((h-o)/o)};function _0(t,e,n,r){for(var i=0,s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}$f.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)n.vertices.push(t[i][s][o]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n};var md={},fie={get exports(){return md},set exports(t){md=t}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(t,e){(function(n){var r=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof kr=="object"&&kr;(s.global===s||s.window===s||s.self===s)&&(n=s);var o,a=2147483647,l=36,u=1,c=26,h=38,d=700,f=72,p=128,m="-",g=/^xn--/,v=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=l-u,S=Math.floor,C=String.fromCharCode,T;function A(D){throw RangeError(y[D])}function k(D,G){for(var I=D.length,O=[];I--;)O[I]=G(D[I]);return O}function M(D,G){var I=D.split("@"),O="";I.length>1&&(O=I[0]+"@",D=I[1]),D=D.replace(b,".");var L=D.split("."),Y=k(L,G).join(".");return O+Y}function B(D){for(var G=[],I=0,O=D.length,L,Y;I<O;)L=D.charCodeAt(I++),L>=55296&&L<=56319&&I<O?(Y=D.charCodeAt(I++),(Y&64512)==56320?G.push(((L&1023)<<10)+(Y&1023)+65536):(G.push(L),I--)):G.push(L);return G}function N(D){return k(D,function(G){var I="";return G>65535&&(G-=65536,I+=C(G>>>10&1023|55296),G=56320|G&1023),I+=C(G),I}).join("")}function R(D){return D-48<10?D-22:D-65<26?D-65:D-97<26?D-97:l}function F(D,G){return D+22+75*(D<26)-((G!=0)<<5)}function q(D,G,I){var O=0;for(D=I?S(D/d):D>>1,D+=S(D/G);D>x*c>>1;O+=l)D=S(D/x);return S(O+(x+1)*D/(D+h))}function Q(D){var G=[],I=D.length,O,L=0,Y=p,K=f,ue,ne,Ee,oe,fe,Ae,Le,_t,Ot;for(ue=D.lastIndexOf(m),ue<0&&(ue=0),ne=0;ne<ue;++ne)D.charCodeAt(ne)>=128&&A("not-basic"),G.push(D.charCodeAt(ne));for(Ee=ue>0?ue+1:0;Ee<I;){for(oe=L,fe=1,Ae=l;Ee>=I&&A("invalid-input"),Le=R(D.charCodeAt(Ee++)),(Le>=l||Le>S((a-L)/fe))&&A("overflow"),L+=Le*fe,_t=Ae<=K?u:Ae>=K+c?c:Ae-K,!(Le<_t);Ae+=l)Ot=l-_t,fe>S(a/Ot)&&A("overflow"),fe*=Ot;O=G.length+1,K=q(L-oe,O,oe==0),S(L/O)>a-Y&&A("overflow"),Y+=S(L/O),L%=O,G.splice(L++,0,Y)}return N(G)}function z(D){var G,I,O,L,Y,K,ue,ne,Ee,oe,fe,Ae=[],Le,_t,Ot,Ta;for(D=B(D),Le=D.length,G=p,I=0,Y=f,K=0;K<Le;++K)fe=D[K],fe<128&&Ae.push(C(fe));for(O=L=Ae.length,L&&Ae.push(m);O<Le;){for(ue=a,K=0;K<Le;++K)fe=D[K],fe>=G&&fe<ue&&(ue=fe);for(_t=O+1,ue-G>S((a-I)/_t)&&A("overflow"),I+=(ue-G)*_t,G=ue,K=0;K<Le;++K)if(fe=D[K],fe<G&&++I>a&&A("overflow"),fe==G){for(ne=I,Ee=l;oe=Ee<=Y?u:Ee>=Y+c?c:Ee-Y,!(ne<oe);Ee+=l)Ta=ne-oe,Ot=l-oe,Ae.push(C(F(oe+Ta%Ot,0))),ne=S(Ta/Ot);Ae.push(C(F(ne,0))),Y=q(I,_t,O==L),I=0,++O}++I,++G}return Ae.join("")}function $(D){return M(D,function(G){return g.test(G)?Q(G.slice(4).toLowerCase()):G})}function W(D){return M(D,function(G){return v.test(G)?"xn--"+z(G):G})}if(o={version:"1.3.2",ucs2:{decode:B,encode:N},decode:Q,encode:z,toASCII:W,toUnicode:$},r&&i)if(t.exports==r)i.exports=o;else for(T in o)o.hasOwnProperty(T)&&(r[T]=o[T]);else n.punycode=o})(kr)})(fie,md);var pie={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},su={};function mie(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var gie=function(t,e,n,r){e=e||"&",n=n||"=";var i={};if(typeof t!="string"||t.length===0)return i;var s=/\+/g;t=t.split(e);var o=1e3;r&&typeof r.maxKeys=="number"&&(o=r.maxKeys);var a=t.length;o>0&&a>o&&(a=o);for(var l=0;l<a;++l){var u=t[l].replace(s,"%20"),c=u.indexOf(n),h,d,f,p;c>=0?(h=u.substr(0,c),d=u.substr(c+1)):(h=u,d=""),f=decodeURIComponent(h),p=decodeURIComponent(d),mie(i,f)?Array.isArray(i[f])?i[f].push(p):i[f]=[i[f],p]:i[f]=p}return i},Ga=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},vie=function(t,e,n,r){return e=e||"&",n=n||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(i){var s=encodeURIComponent(Ga(i))+n;return Array.isArray(t[i])?t[i].map(function(o){return s+encodeURIComponent(Ga(o))}).join(e):s+encodeURIComponent(Ga(t[i]))}).join(e):r?encodeURIComponent(Ga(r))+n+encodeURIComponent(Ga(t)):""};su.decode=su.parse=gie;su.encode=su.stringify=vie;var yie=md,dr=pie,bie=Nf,xie=Rie,wie=Iie;function Jn(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var _ie=/^([a-z0-9.+-]+:)/i,Eie=/:[0-9]*$/,Sie=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Cie=["<",">",'"',"`"," ","\r",`
`,"	"],Tie=["{","}","|","\\","^","`"].concat(Cie),E0=["'"].concat(Tie),iS=["%","/","?",";","#"].concat(E0),sS=["/","?","#"],Aie=255,oS=/^[+a-z0-9A-Z_-]{0,63}$/,Pie=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Oie={javascript:!0,"javascript:":!0},S0={javascript:!0,"javascript:":!0},$o={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},C0=su;function Nf(t,e,n){if(t&&dr.isObject(t)&&t instanceof Jn)return t;var r=new Jn;return r.parse(t,e,n),r}Jn.prototype.parse=function(t,e,n){if(!dr.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),i=r!==-1&&r<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!n&&t.split("#").length===1){var l=Sie.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=C0.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var u=_ie.exec(a);if(u){u=u[0];var c=u.toLowerCase();this.protocol=c,a=a.substr(u.length)}if(n||u||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var h=a.substr(0,2)==="//";h&&!(u&&S0[u])&&(a=a.substr(2),this.slashes=!0)}if(!S0[u]&&(h||u&&!$o[u])){for(var d=-1,f=0;f<sS.length;f++){var p=a.indexOf(sS[f]);p!==-1&&(d===-1||p<d)&&(d=p)}var m,g;d===-1?g=a.lastIndexOf("@"):g=a.lastIndexOf("@",d),g!==-1&&(m=a.slice(0,g),a=a.slice(g+1),this.auth=decodeURIComponent(m)),d=-1;for(var f=0;f<iS.length;f++){var p=a.indexOf(iS[f]);p!==-1&&(d===-1||p<d)&&(d=p)}d===-1&&(d=a.length),this.host=a.slice(0,d),a=a.slice(d),this.parseHost(),this.hostname=this.hostname||"";var v=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!v)for(var b=this.hostname.split(/\./),f=0,y=b.length;f<y;f++){var x=b[f];if(x&&!x.match(oS)){for(var S="",C=0,T=x.length;C<T;C++)x.charCodeAt(C)>127?S+="x":S+=x[C];if(!S.match(oS)){var A=b.slice(0,f),k=b.slice(f+1),M=x.match(Pie);M&&(A.push(M[1]),k.unshift(M[2])),k.length&&(a="/"+k.join(".")+a),this.hostname=A.join(".");break}}}this.hostname.length>Aie?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=yie.toASCII(this.hostname));var B=this.port?":"+this.port:"",N=this.hostname||"";this.host=N+B,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!Oie[c])for(var f=0,y=E0.length;f<y;f++){var R=E0[f];if(a.indexOf(R)!==-1){var F=encodeURIComponent(R);F===R&&(F=escape(R)),a=a.split(R).join(F)}}var q=a.indexOf("#");q!==-1&&(this.hash=a.substr(q),a=a.slice(0,q));var Q=a.indexOf("?");if(Q!==-1?(this.search=a.substr(Q),this.query=a.substr(Q+1),e&&(this.query=C0.parse(this.query)),a=a.slice(0,Q)):e&&(this.search="",this.query={}),a&&(this.pathname=a),$o[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var B=this.pathname||"",z=this.search||"";this.path=B+z}return this.href=this.format(),this};function Iie(t){return dr.isString(t)&&(t=Nf(t)),t instanceof Jn?t.format():Jn.prototype.format.call(t)}Jn.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&dr.isObject(this.query)&&Object.keys(this.query).length&&(s=C0.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||$o[e])&&i!==!1?(i="//"+(i||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),o&&o.charAt(0)!=="?"&&(o="?"+o),n=n.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+n+o+r};function Rie(t,e){return Nf(t,!1,!0).resolve(e)}Jn.prototype.resolve=function(t){return this.resolveObject(Nf(t,!1,!0)).format()};Jn.prototype.resolveObject=function(t){if(dr.isString(t)){var e=new Jn;e.parse(t,!1,!0),t=e}for(var n=new Jn,r=Object.keys(this),i=0;i<r.length;i++){var s=r[i];n[s]=this[s]}if(n.hash=t.hash,t.href==="")return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var l=o[a];l!=="protocol"&&(n[l]=t[l])}return $o[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!$o[t.protocol]){for(var u=Object.keys(t),c=0;c<u.length;c++){var h=u[c];n[h]=t[h]}return n.href=n.format(),n}if(n.protocol=t.protocol,!t.host&&!S0[t.protocol]){for(var y=(t.pathname||"").split("/");y.length&&!(t.host=y.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),y[0]!==""&&y.unshift(""),y.length<2&&y.unshift(""),n.pathname=y.join("/")}else n.pathname=t.pathname;if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var d=n.pathname||"",f=n.search||"";n.path=d+f}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var p=n.pathname&&n.pathname.charAt(0)==="/",m=t.host||t.pathname&&t.pathname.charAt(0)==="/",g=m||p||n.host&&t.pathname,v=g,b=n.pathname&&n.pathname.split("/")||[],y=t.pathname&&t.pathname.split("/")||[],x=n.protocol&&!$o[n.protocol];if(x&&(n.hostname="",n.port=null,n.host&&(b[0]===""?b[0]=n.host:b.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(y[0]===""?y[0]=t.host:y.unshift(t.host)),t.host=null),g=g&&(y[0]===""||b[0]==="")),m)n.host=t.host||t.host===""?t.host:n.host,n.hostname=t.hostname||t.hostname===""?t.hostname:n.hostname,n.search=t.search,n.query=t.query,b=y;else if(y.length)b||(b=[]),b.pop(),b=b.concat(y),n.search=t.search,n.query=t.query;else if(!dr.isNullOrUndefined(t.search)){if(x){n.hostname=n.host=b.shift();var S=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;S&&(n.auth=S.shift(),n.host=n.hostname=S.shift())}return n.search=t.search,n.query=t.query,(!dr.isNull(n.pathname)||!dr.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!b.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var C=b.slice(-1)[0],T=(n.host||t.host||b.length>1)&&(C==="."||C==="..")||C==="",A=0,k=b.length;k>=0;k--)C=b[k],C==="."?b.splice(k,1):C===".."?(b.splice(k,1),A++):A&&(b.splice(k,1),A--);if(!g&&!v)for(;A--;A)b.unshift("..");g&&b[0]!==""&&(!b[0]||b[0].charAt(0)!=="/")&&b.unshift(""),T&&b.join("/").substr(-1)!=="/"&&b.push("");var M=b[0]===""||b[0]&&b[0].charAt(0)==="/";if(x){n.hostname=n.host=M?"":b.length?b.shift():"";var S=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;S&&(n.auth=S.shift(),n.host=n.hostname=S.shift())}return g=g||n.host&&b.length,g&&!M&&b.unshift(""),b.length?n.pathname=b.join("/"):(n.pathname=null,n.path=null),(!dr.isNull(n.pathname)||!dr.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n};Jn.prototype.parseHost=function(){var t=this.host,e=Eie.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const yO={parse:bie,format:wie,resolve:xie};function Bn(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Wa(t){return t.split("?")[0].split("#")[0]}function kie(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Mie(t,e,n){return t.replace(new RegExp(kie(e),"g"),n)}function Fie(t,e){let n="",r=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){const l=n.lastIndexOf("/");if(l!==n.length-1){l===-1?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length===2||n.length===1){n="",r=0,i=a,s=0;continue}}e&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+=`/${t.slice(i+1,a)}`:n=t.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return n}const gt={toPosix(t){return Mie(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol(t){Bn(t),t=this.toPosix(t);let e="";const n=/^file:\/\/\//.exec(t),r=/^[^/:]+:\/\//.exec(t),i=/^[^/:]+:\//.exec(t);if(n||r||i){const s=(n==null?void 0:n[0])||(r==null?void 0:r[0])||(i==null?void 0:i[0]);e=s,t=t.slice(s.length)}return e},toAbsolute(t,e,n){if(this.isDataUrl(t))return t;const r=Wa(this.toPosix(e??ee.ADAPTER.getBaseUrl())),i=Wa(this.toPosix(n??this.rootname(r)));return Bn(t),t=this.toPosix(t),t.startsWith("/")?gt.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(r,t)},normalize(t){if(t=this.toPosix(t),Bn(t),t.length===0)return".";let e="";const n=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const r=t.endsWith("/");return t=Fie(t,!1),t.length>0&&r&&(t+="/"),n?`/${t}`:e+t},isAbsolute(t){return Bn(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let n=0;n<t.length;++n){const r=t[n];if(Bn(r),r.length>0)if(e===void 0)e=r;else{const i=t[n-1]??"";this.extname(i)?e+=`/../${r}`:e+=`/${r}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(Bn(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const n=e===47;let r=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){r=a;break}}else i=!1;return r===-1?n?"/":this.isUrl(o)?s+t:s:n&&r===1?"//":s+t.slice(0,r)},rootname(t){Bn(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const n=t.indexOf("/",e.length);n!==-1?e=t.slice(0,n):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Bn(t),e&&Bn(e),t=Wa(this.toPosix(t));let n=0,r=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const l=t.charCodeAt(s);if(l===47){if(!i){n=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(r=s):(o=-1,r=a))}return n===r?r=a:r===-1&&(r=t.length),t.slice(n,r)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){n=s+1;break}}else r===-1&&(i=!1,r=s+1);return r===-1?"":t.slice(n,r)},extname(t){Bn(t),t=Wa(this.toPosix(t));let e=-1,n=0,r=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){n=o+1;break}continue}r===-1&&(i=!1,r=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||r===-1||s===0||s===1&&e===r-1&&e===n+1?"":t.slice(e,r)},parse(t){Bn(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Wa(this.toPosix(t));let n=t.charCodeAt(0);const r=this.isAbsolute(t);let i;e.root=this.rootname(t),r||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,l=!0,u=t.length-1,c=0;for(;u>=i;--u){if(n=t.charCodeAt(u),n===47){if(!l){o=u+1;break}continue}a===-1&&(l=!1,a=u+1),n===46?s===-1?s=u:c!==1&&(c=1):s!==-1&&(c=-1)}return s===-1||a===-1||c===0||c===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&r?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&r?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"},aS={};function be(t,e,n=3){if(aS[e])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(r=r.split(`
`).splice(n).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(r))),aS[e]=!0}function Die(){be("7.0.0","skipHello is deprecated, please use settings.RENDER_OPTIONS.hello")}function $ie(){be("7.0.0",`sayHello is deprecated, please use Renderer's "hello" option`)}let Kp;function bO(){return typeof Kp>"u"&&(Kp=function(){var n;const e={stencil:!0,failIfMajorPerformanceCaveat:ee.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!ee.ADAPTER.getWebGLRenderingContext())return!1;const r=ee.ADAPTER.createCanvas();let i=r.getContext("webgl",e)||r.getContext("experimental-webgl",e);const s=!!((n=i==null?void 0:i.getContextAttributes())!=null&&n.stencil);if(i){const o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,s}catch{return!1}}()),Kp}var Bie="#f0f8ff",Nie="#faebd7",Lie="#00ffff",Uie="#7fffd4",jie="#f0ffff",zie="#f5f5dc",Hie="#ffe4c4",Gie="#000000",Wie="#ffebcd",Vie="#0000ff",Xie="#8a2be2",Yie="#a52a2a",qie="#deb887",Kie="#5f9ea0",Zie="#7fff00",Qie="#d2691e",Jie="#ff7f50",ese="#6495ed",tse="#fff8dc",nse="#dc143c",rse="#00ffff",ise="#00008b",sse="#008b8b",ose="#b8860b",ase="#a9a9a9",lse="#006400",use="#a9a9a9",cse="#bdb76b",hse="#8b008b",dse="#556b2f",fse="#ff8c00",pse="#9932cc",mse="#8b0000",gse="#e9967a",vse="#8fbc8f",yse="#483d8b",bse="#2f4f4f",xse="#2f4f4f",wse="#00ced1",_se="#9400d3",Ese="#ff1493",Sse="#00bfff",Cse="#696969",Tse="#696969",Ase="#1e90ff",Pse="#b22222",Ose="#fffaf0",Ise="#228b22",Rse="#ff00ff",kse="#dcdcdc",Mse="#f8f8ff",Fse="#daa520",Dse="#ffd700",$se="#808080",Bse="#008000",Nse="#adff2f",Lse="#808080",Use="#f0fff0",jse="#ff69b4",zse="#cd5c5c",Hse="#4b0082",Gse="#fffff0",Wse="#f0e68c",Vse="#fff0f5",Xse="#e6e6fa",Yse="#7cfc00",qse="#fffacd",Kse="#add8e6",Zse="#f08080",Qse="#e0ffff",Jse="#fafad2",eoe="#d3d3d3",toe="#90ee90",noe="#d3d3d3",roe="#ffb6c1",ioe="#ffa07a",soe="#20b2aa",ooe="#87cefa",aoe="#778899",loe="#778899",uoe="#b0c4de",coe="#ffffe0",hoe="#00ff00",doe="#32cd32",foe="#faf0e6",poe="#ff00ff",moe="#800000",goe="#66cdaa",voe="#0000cd",yoe="#ba55d3",boe="#9370db",xoe="#3cb371",woe="#7b68ee",_oe="#00fa9a",Eoe="#48d1cc",Soe="#c71585",Coe="#191970",Toe="#f5fffa",Aoe="#ffe4e1",Poe="#ffe4b5",Ooe="#ffdead",Ioe="#000080",Roe="#fdf5e6",koe="#808000",Moe="#6b8e23",Foe="#ffa500",Doe="#ff4500",$oe="#da70d6",Boe="#eee8aa",Noe="#98fb98",Loe="#afeeee",Uoe="#db7093",joe="#ffefd5",zoe="#ffdab9",Hoe="#cd853f",Goe="#ffc0cb",Woe="#dda0dd",Voe="#b0e0e6",Xoe="#800080",Yoe="#663399",qoe="#ff0000",Koe="#bc8f8f",Zoe="#4169e1",Qoe="#8b4513",Joe="#fa8072",eae="#f4a460",tae="#2e8b57",nae="#fff5ee",rae="#a0522d",iae="#c0c0c0",sae="#87ceeb",oae="#6a5acd",aae="#708090",lae="#708090",uae="#fffafa",cae="#00ff7f",hae="#4682b4",dae="#d2b48c",fae="#008080",pae="#d8bfd8",mae="#ff6347",gae="#40e0d0",vae="#ee82ee",yae="#f5deb3",bae="#ffffff",xae="#f5f5f5",wae="#ffff00",_ae="#9acd32",Eae={aliceblue:Bie,antiquewhite:Nie,aqua:Lie,aquamarine:Uie,azure:jie,beige:zie,bisque:Hie,black:Gie,blanchedalmond:Wie,blue:Vie,blueviolet:Xie,brown:Yie,burlywood:qie,cadetblue:Kie,chartreuse:Zie,chocolate:Qie,coral:Jie,cornflowerblue:ese,cornsilk:tse,crimson:nse,cyan:rse,darkblue:ise,darkcyan:sse,darkgoldenrod:ose,darkgray:ase,darkgreen:lse,darkgrey:use,darkkhaki:cse,darkmagenta:hse,darkolivegreen:dse,darkorange:fse,darkorchid:pse,darkred:mse,darksalmon:gse,darkseagreen:vse,darkslateblue:yse,darkslategray:bse,darkslategrey:xse,darkturquoise:wse,darkviolet:_se,deeppink:Ese,deepskyblue:Sse,dimgray:Cse,dimgrey:Tse,dodgerblue:Ase,firebrick:Pse,floralwhite:Ose,forestgreen:Ise,fuchsia:Rse,gainsboro:kse,ghostwhite:Mse,goldenrod:Fse,gold:Dse,gray:$se,green:Bse,greenyellow:Nse,grey:Lse,honeydew:Use,hotpink:jse,indianred:zse,indigo:Hse,ivory:Gse,khaki:Wse,lavenderblush:Vse,lavender:Xse,lawngreen:Yse,lemonchiffon:qse,lightblue:Kse,lightcoral:Zse,lightcyan:Qse,lightgoldenrodyellow:Jse,lightgray:eoe,lightgreen:toe,lightgrey:noe,lightpink:roe,lightsalmon:ioe,lightseagreen:soe,lightskyblue:ooe,lightslategray:aoe,lightslategrey:loe,lightsteelblue:uoe,lightyellow:coe,lime:hoe,limegreen:doe,linen:foe,magenta:poe,maroon:moe,mediumaquamarine:goe,mediumblue:voe,mediumorchid:yoe,mediumpurple:boe,mediumseagreen:xoe,mediumslateblue:woe,mediumspringgreen:_oe,mediumturquoise:Eoe,mediumvioletred:Soe,midnightblue:Coe,mintcream:Toe,mistyrose:Aoe,moccasin:Poe,navajowhite:Ooe,navy:Ioe,oldlace:Roe,olive:koe,olivedrab:Moe,orange:Foe,orangered:Doe,orchid:$oe,palegoldenrod:Boe,palegreen:Noe,paleturquoise:Loe,palevioletred:Uoe,papayawhip:joe,peachpuff:zoe,peru:Hoe,pink:Goe,plum:Woe,powderblue:Voe,purple:Xoe,rebeccapurple:Yoe,red:qoe,rosybrown:Koe,royalblue:Zoe,saddlebrown:Qoe,salmon:Joe,sandybrown:eae,seagreen:tae,seashell:nae,sienna:rae,silver:iae,skyblue:sae,slateblue:oae,slategray:aae,slategrey:lae,snow:uae,springgreen:cae,steelblue:hae,tan:dae,teal:fae,thistle:pae,tomato:mae,turquoise:gae,violet:vae,wheat:yae,white:bae,whitesmoke:xae,yellow:wae,yellowgreen:_ae};function xs(t,e=[]){return e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function B1(t){let e=t.toString(16);return e="000000".substring(0,6-e.length)+e,`#${e}`}function Lf(t){if(typeof t=="string"&&(t=Eae[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1)),t.length===3)){const[e,n,r]=t;t=e+e+n+n+r+r}return parseInt(t,16)}function Sae(t){return(t[0]*255<<16)+(t[1]*255<<8)+(t[2]*255|0)}function Cae(){const t=[],e=[];for(let r=0;r<32;r++)t[r]=r,e[r]=r;t[ce.NORMAL_NPM]=ce.NORMAL,t[ce.ADD_NPM]=ce.ADD,t[ce.SCREEN_NPM]=ce.SCREEN,e[ce.NORMAL]=ce.NORMAL_NPM,e[ce.ADD]=ce.ADD_NPM,e[ce.SCREEN]=ce.SCREEN_NPM;const n=[];return n.push(e),n.push(t),n}const N1=Cae();function L1(t,e){return N1[e?1:0][t]}function xO(t,e,n,r){return n=n||new Float32Array(4),r||r===void 0?(n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e):(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=e,n}function Uf(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;let n=t>>16&255,r=t>>8&255,i=t&255;return n=n*e+.5|0,r=r*e+.5|0,i=i*e+.5|0,(e*255<<24)+(n<<16)+(r<<8)+i}function U1(t,e,n,r){return n=n||new Float32Array(4),n[0]=(t>>16&255)/255,n[1]=(t>>8&255)/255,n[2]=(t&255)/255,(r||r===void 0)&&(n[0]*=e,n[1]*=e,n[2]*=e),n[3]=e,n}const wO=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function _O(t,e=null){const n=t*6;if(e=e||new Uint16Array(n),e.length!==n)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${n}`);for(let r=0,i=0;r<n;r+=6,i+=4)e[r+0]=i+0,e[r+1]=i+1,e[r+2]=i+2,e[r+3]=i+0,e[r+4]=i+2,e[r+5]=i+3;return e}function jf(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}const Tae={Float32Array,Uint32Array,Int32Array,Uint8Array};function Aae(t,e){let n=0,r=0;const i={};for(let l=0;l<t.length;l++)r+=e[l],n+=t[l].length;const s=new ArrayBuffer(n*4);let o=null,a=0;for(let l=0;l<t.length;l++){const u=e[l],c=t[l],h=jf(c);i[h]||(i[h]=new Tae[h](s)),o=i[h];for(let d=0;d<c.length;d++){const f=(d/u|0)*r+a,p=d%u;o[f+p]=c[d]}a+=u}return new Float32Array(s)}function ou(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function T0(t){return!(t&t-1)&&!!t}function A0(t){let e=(t>65535?1:0)<<4;t>>>=e;let n=(t>255?1:0)<<3;return t>>>=n,e|=n,n=(t>15?1:0)<<2,t>>>=n,e|=n,n=(t>3?1:0)<<1,t>>>=n,e|=n,e|t>>1}function ls(t,e,n){const r=t.length;let i;if(e>=r||n===0)return;n=e+n>r?r-e:n;const s=r-n;for(i=e;i<s;++i)t[i]=t[i+n];t.length=s}function Qi(t){return t===0?0:t<0?-1:1}let Pae=0;function Ei(){return++Pae}const EO=class{constructor(t,e,n,r){this.left=t,this.top=e,this.right=n,this.bottom=r}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let gd=EO;gd.EMPTY=new EO(0,0,0,0);const P0={},Rt=Object.create(null),Jt=Object.create(null);function Oae(){let t;for(t in Rt)Rt[t].destroy();for(t in Jt)Jt[t].destroy()}function Iae(){let t;for(t in Rt)delete Rt[t];for(t in Jt)delete Jt[t]}class O0{constructor(e,n,r){this._canvas=ee.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=r||ee.RESOLUTION,this.resize(e,n)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,n){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(n*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function lS(t,e,n){for(let r=0,i=4*n*e;r<e;++r,i+=4)if(t[i+3]!==0)return!1;return!0}function uS(t,e,n,r,i){const s=4*e;for(let o=r,a=r*s+4*n;o<=i;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function SO(t){const{width:e,height:n}=t,r=t.getContext("2d",{willReadFrequently:!0});if(r===null)throw new TypeError("Failed to get canvas 2D context");const s=r.getImageData(0,0,e,n).data;let o=0,a=0,l=e-1,u=n-1;for(;a<n&&lS(s,e,a);)++a;if(a===n)return gd.EMPTY;for(;lS(s,e,u);)--u;for(;uS(s,e,o,a,u);)++o;for(;uS(s,e,l,a,u);)--l;return++l,++u,new gd(o,a,l,u)}function CO(t){const e=SO(t),{width:n,height:r}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,n,r)}return{width:n,height:r,data:i}}function Rae(t){const e=wO.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}let kc;function TO(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location,kc||(kc=document.createElement("a")),kc.href=t;const n=yO.parse(kc.href),r=!n.port&&e.port===""||n.port===e.port;return n.hostname!==e.hostname||!r||n.protocol!==e.protocol?"anonymous":""}function Hr(t,e=1){var r;const n=(r=ee.RETINA_PREFIX)==null?void 0:r.exec(t);return n?parseFloat(n[1]):e}const kae=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:Jt,BoundingBox:gd,CanvasRenderTarget:O0,DATA_URI:wO,EventEmitter:_i,ProgramCache:P0,TextureCache:Rt,clearTextureCache:Iae,correctBlendMode:L1,createIndicesForQuads:_O,decomposeDataUri:Rae,deprecation:be,destroyTextureCache:Oae,determineCrossOrigin:TO,get earcut(){return tu},getBufferType:jf,getCanvasBoundingBox:SO,getResolutionOfUrl:Hr,hex2rgb:xs,hex2string:B1,interleaveTypedArrays:Aae,isMobile:Yn,isPow2:T0,isWebGLSupported:bO,log2:A0,nextPow2:ou,path:gt,premultiplyBlendMode:N1,premultiplyRgba:xO,premultiplyTint:Uf,premultiplyTintToRgba:U1,removeItems:ls,rgb2hex:Sae,sayHello:$ie,sign:Qi,skipHello:Die,string2hex:Lf,trimCanvas:CO,uid:Ei,url:yO},Symbol.toStringTag,{value:"Module"}));var Z=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(Z||{});const I0=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},cS=(t,e)=>I0(t).priority??e,se={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(I0).forEach(e=>{e.type.forEach(n=>{var r,i;return(i=(r=this._removeHandlers)[n])==null?void 0:i.call(r,e)})}),this},add(...t){return t.map(I0).forEach(e=>{e.type.forEach(n=>{const r=this._addHandlers,i=this._queue;r[n]?r[n](e):(i[n]=i[n]||[],i[n].push(e))})}),this},handle(t,e,n){const r=this._addHandlers,i=this._removeHandlers;if(r[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);r[t]=e,i[t]=n;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,n=>{e[n.name]=n.ref},n=>{delete e[n.name]})},handleByList(t,e,n=-1){return this.handle(t,r=>{e.includes(r.ref)||(e.push(r.ref),e.sort((i,s)=>cS(s,n)-cS(i,n)))},r=>{const i=e.indexOf(r.ref);i!==-1&&e.splice(i,1)})}};class vd{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const Mae=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function Fae(t){let e="";for(let n=0;n<t;++n)n>0&&(e+=`
else `),n<t-1&&(e+=`if(test == ${n}.0){}`);return e}function AO(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const n=e.createShader(e.FRAGMENT_SHADER);for(;;){const r=Mae.replace(/%forloop%/gi,Fae(t));if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))t=t/2|0;else break}return t}const Zp=0,Qp=1,Jp=2,em=3,tm=4,nm=5;class Tr{constructor(){this.data=0,this.blendMode=ce.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Zp)}set blend(e){!!(this.data&1<<Zp)!==e&&(this.data^=1<<Zp)}get offsets(){return!!(this.data&1<<Qp)}set offsets(e){!!(this.data&1<<Qp)!==e&&(this.data^=1<<Qp)}get culling(){return!!(this.data&1<<Jp)}set culling(e){!!(this.data&1<<Jp)!==e&&(this.data^=1<<Jp)}get depthTest(){return!!(this.data&1<<em)}set depthTest(e){!!(this.data&1<<em)!==e&&(this.data^=1<<em)}get depthMask(){return!!(this.data&1<<nm)}set depthMask(e){!!(this.data&1<<nm)!==e&&(this.data^=1<<nm)}get clockwiseFrontFace(){return!!(this.data&1<<tm)}set clockwiseFrontFace(e){!!(this.data&1<<tm)!==e&&(this.data^=1<<tm)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==ce.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new Tr;return e.depthTest=!1,e.blend=!0,e}}const yd=[];function j1(t,e){if(!t)return null;let n="";if(typeof t=="string"){const r=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);r&&(n=r[1].toLowerCase())}for(let r=yd.length-1;r>=0;--r){const i=yd[r];if(i.test&&i.test(t,n))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class cn{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,n,r,i,s,o,a,l){if(arguments.length>8)throw new Error("max arguments reached");const{name:u,items:c}=this;this._aliasCount++;for(let h=0,d=c.length;h<d;h++)c[h][u](e,n,r,i,s,o,a,l);return c===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const n=this.items.indexOf(e);return n!==-1&&(this.ensureNonAliasedItems(),this.items.splice(n,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(cn.prototype,{dispatch:{value:cn.prototype.emit},run:{value:cn.prototype.emit}});class ea{constructor(e=0,n=0){this._width=e,this._height=n,this.destroyed=!1,this.internal=!1,this.onResize=new cn("setRealSize"),this.onUpdate=new cn("update"),this.onError=new cn("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,n){(e!==this._width||n!==this._height)&&(this._width=e,this._height=n,this.onResize.emit(e,n))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,n,r){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,n){return!1}}class Sa extends ea{constructor(e,n){const{width:r,height:i}=n||{};if(!r||!i)throw new Error("BufferResource width or height invalid");super(r,i),this.data=e}upload(e,n,r){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Fn.UNPACK);const s=n.realWidth,o=n.realHeight;return r.width===s&&r.height===o?i.texSubImage2D(n.target,0,0,0,s,o,n.format,r.type,this.data):(r.width=s,r.height=o,i.texImage2D(n.target,0,r.internalFormat,s,o,0,n.format,r.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const Dae={scaleMode:yr.NEAREST,format:V.RGBA,alphaMode:Fn.NPM},ao=class extends _i{constructor(t=null,e=null){super(),e=Object.assign({},ao.defaultOptions,e);const{alphaMode:n,mipmap:r,anisotropicLevel:i,scaleMode:s,width:o,height:a,wrapMode:l,format:u,type:c,target:h,resolution:d,resourceOptions:f}=e;t&&!(t instanceof ea)&&(t=j1(t,f),t.internal=!0),this.resolution=d||ee.RESOLUTION,this.width=Math.round((o||0)*this.resolution)/this.resolution,this.height=Math.round((a||0)*this.resolution)/this.resolution,this._mipmap=r,this.anisotropicLevel=i,this._wrapMode=l,this._scaleMode=s,this.format=u,this.type=c,this.target=h,this.alphaMode=n,this.uid=Ei(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&a>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let n;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,n=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,n=!0),n&&this.dirtyStyleId++,this}setSize(t,e,n){return n=n||this.resolution,this.setRealSize(t*n,e*n,n)}setRealSize(t,e,n){return this.resolution=n||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=T0(this.realWidth)&&T0(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Jt[this.cacheId],delete Rt[this.cacheId],this.cacheId=null),this.dispose(),ao.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,n=ee.STRICT_TEXTURE_CACHE){const r=typeof t=="string";let i=null;if(r)i=t;else{if(!t._pixiId){const o=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${o}_${Ei()}`}i=t._pixiId}let s=Jt[i];if(r&&n&&!s)throw new Error(`The cacheId "${i}" does not exist in BaseTextureCache.`);return s||(s=new ao(t,e),s.cacheId=i,ao.addToCache(s,i)),s}static fromBuffer(t,e,n,r){t=t||new Float32Array(e*n*4);const i=new Sa(t,{width:e,height:n}),s=t instanceof Float32Array?ae.FLOAT:ae.UNSIGNED_BYTE;return new ao(i,Object.assign({},Dae,r||{width:e,height:n,type:s}))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),Jt[e]&&Jt[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),Jt[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=Jt[t];if(e){const n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete Jt[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete Jt[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};let me=ao;me.defaultOptions={mipmap:rr.POW2,anisotropicLevel:0,scaleMode:yr.LINEAR,wrapMode:_r.CLAMP,alphaMode:Fn.UNPACK,target:as.TEXTURE_2D,format:V.RGBA,type:ae.UNSIGNED_BYTE};me._globalBatch=0;class bd{constructor(){this.texArray=null,this.blend=0,this.type=Xn.TRIANGLES,this.start=0,this.size=0,this.data=null}}let $ae=0;class Je{constructor(e,n=!0,r=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=n,this.id=$ae++,this.disposeRunner=new cn("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Qn.ELEMENT_ARRAY_BUFFER:Qn.ARRAY_BUFFER}get index(){return this.type===Qn.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new Je(e)}}class au{constructor(e,n=0,r=!1,i=ae.FLOAT,s,o,a,l=1){this.buffer=e,this.size=n,this.normalized=r,this.type=i,this.stride=s,this.start=o,this.instance=a,this.divisor=l}destroy(){this.buffer=null}static from(e,n,r,i,s){return new au(e,n,r,i,s)}}const Bae={Float32Array,Uint32Array,Int32Array,Uint8Array};function Nae(t,e){let n=0,r=0;const i={};for(let l=0;l<t.length;l++)r+=e[l],n+=t[l].length;const s=new ArrayBuffer(n*4);let o=null,a=0;for(let l=0;l<t.length;l++){const u=e[l],c=t[l],h=jf(c);i[h]||(i[h]=new Bae[h](s)),o=i[h];for(let d=0;d<c.length;d++){const f=(d/u|0)*r+a,p=d%u;o[f+p]=c[d]}a+=u}return new Float32Array(s)}const hS={5126:4,5123:2,5121:1};let Lae=0;const Uae={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Gr{constructor(e=[],n={}){this.buffers=e,this.indexBuffer=null,this.attributes=n,this.glVertexArrayObjects={},this.id=Lae++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new cn("disposeGeometry"),this.refCount=0}addAttribute(e,n,r=0,i=!1,s,o,a,l=!1){if(!n)throw new Error("You must pass a buffer when creating an attribute");n instanceof Je||(n instanceof Array&&(n=new Float32Array(n)),n=new Je(n));const u=e.split("|");if(u.length>1){for(let h=0;h<u.length;h++)this.addAttribute(u[h],n,r,i,s);return this}let c=this.buffers.indexOf(n);return c===-1&&(this.buffers.push(n),c=this.buffers.length-1),this.attributes[e]=new au(c,r,i,s,o,a,l),this.instanced=this.instanced||l,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof Je||(e instanceof Array&&(e=new Uint16Array(e)),e=new Je(e)),e.type=Qn.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],n=[],r=new Je;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),n.push(s.size*hS[s.type]/4),s.buffer=0}for(r.data=Nae(e,n),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const n=this.attributes[e];return this.buffers[n.buffer].data.length/(n.stride/4||n.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Gr;for(let n=0;n<this.buffers.length;n++)e.buffers[n]=new Je(this.buffers[n].data.slice(0));for(const n in this.attributes){const r=this.attributes[n];e.attributes[n]=new au(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Qn.ELEMENT_ARRAY_BUFFER),e}static merge(e){const n=new Gr,r=[],i=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)i[l]=i[l]||0,i[l]+=o.buffers[l].data.length,s[l]=0}for(let a=0;a<o.buffers.length;a++)r[a]=new Uae[jf(o.buffers[a].data)](i[a]),n.buffers[a]=new Je(r[a]);for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)r[l].set(o.buffers[l].data,s[l]),s[l]+=o.buffers[l].data.length}if(n.attributes=o.attributes,o.indexBuffer){n.indexBuffer=n.buffers[o.buffers.indexOf(o.indexBuffer)],n.indexBuffer.type=Qn.ELEMENT_ARRAY_BUFFER;let a=0,l=0,u=0,c=0;for(let h=0;h<o.buffers.length;h++)if(o.buffers[h]!==o.indexBuffer){c=h;break}for(const h in o.attributes){const d=o.attributes[h];(d.buffer|0)===c&&(l+=d.size*hS[d.type]/4)}for(let h=0;h<e.length;h++){const d=e[h].indexBuffer.data;for(let f=0;f<d.length;f++)n.indexBuffer.data[f+u]+=a;a+=e[h].buffers[c].data.length/l,u+=d.length}}return n}}class z1 extends Gr{constructor(e=!1){super(),this._buffer=new Je(null,e,!1),this._indexBuffer=new Je(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,ae.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,ae.FLOAT).addAttribute("aColor",this._buffer,4,!0,ae.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,ae.FLOAT).addIndex(this._indexBuffer)}}const lu=Math.PI*2,PO=180/Math.PI,OO=Math.PI/180;var ft=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(ft||{});class le{constructor(e=0,n=0){this.x=0,this.y=0,this.x=e,this.y=n}clone(){return new le(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,n=e){return this.x=e,this.y=n,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const Mc=[new le,new le,new le,new le];class ge{constructor(e=0,n=0,r=0,i=0){this.x=Number(e),this.y=Number(n),this.width=Number(r),this.height=Number(i),this.type=ft.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new ge(0,0,0,0)}clone(){return new ge(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,n){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&n>=this.y&&n<this.y+this.height}intersects(e,n){if(!n){const A=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=A)return!1;const M=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>M}const r=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=r||o<=s)return!1;const a=Mc[0].set(e.left,e.top),l=Mc[1].set(e.left,e.bottom),u=Mc[2].set(e.right,e.top),c=Mc[3].set(e.right,e.bottom);if(u.x<=a.x||l.y<=a.y)return!1;const h=Math.sign(n.a*n.d-n.b*n.c);if(h===0||(n.apply(a,a),n.apply(l,l),n.apply(u,u),n.apply(c,c),Math.max(a.x,l.x,u.x,c.x)<=r||Math.min(a.x,l.x,u.x,c.x)>=i||Math.max(a.y,l.y,u.y,c.y)<=s||Math.min(a.y,l.y,u.y,c.y)>=o))return!1;const d=h*(l.y-a.y),f=h*(a.x-l.x),p=d*r+f*s,m=d*i+f*s,g=d*r+f*o,v=d*i+f*o;if(Math.max(p,m,g,v)<=d*a.x+f*a.y||Math.min(p,m,g,v)>=d*c.x+f*c.y)return!1;const b=h*(a.y-u.y),y=h*(u.x-a.x),x=b*r+y*s,S=b*i+y*s,C=b*r+y*o,T=b*i+y*o;return!(Math.max(x,S,C,T)<=b*a.x+y*a.y||Math.min(x,S,C,T)>=b*c.x+y*c.y)}pad(e=0,n=e){return this.x-=e,this.y-=n,this.width+=e*2,this.height+=n*2,this}fit(e){const n=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=n,this.width=Math.max(r-n,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,n=.001){const r=Math.ceil((this.x+this.width-n)*e)/e,i=Math.ceil((this.y+this.height-n)*e)/e;return this.x=Math.floor((this.x+n)*e)/e,this.y=Math.floor((this.y+n)*e)/e,this.width=r-this.x,this.height=i-this.y,this}enlarge(e){const n=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=n,this.width=r-n,this.y=i,this.height=s-i,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class Hu{constructor(e=0,n=0,r=0){this.x=e,this.y=n,this.radius=r,this.type=ft.CIRC}clone(){return new Hu(this.x,this.y,this.radius)}contains(e,n){if(this.radius<=0)return!1;const r=this.radius*this.radius;let i=this.x-e,s=this.y-n;return i*=i,s*=s,i+s<=r}getBounds(){return new ge(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class zf{constructor(e=0,n=0,r=0,i=0){this.x=e,this.y=n,this.width=r,this.height=i,this.type=ft.ELIP}clone(){return new zf(this.x,this.y,this.width,this.height)}contains(e,n){if(this.width<=0||this.height<=0)return!1;let r=(e-this.x)/this.width,i=(n-this.y)/this.height;return r*=r,i*=i,r+i<=1}getBounds(){return new ge(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class us{constructor(...e){let n=Array.isArray(e[0])?e[0]:e;if(typeof n[0]!="number"){const r=[];for(let i=0,s=n.length;i<s;i++)r.push(n[i].x,n[i].y);n=r}this.points=n,this.type=ft.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),n=new us(e);return n.closeStroke=this.closeStroke,n}contains(e,n){let r=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],l=this.points[s*2+1],u=this.points[o*2],c=this.points[o*2+1];l>n!=c>n&&e<(u-a)*((n-l)/(c-l))+a&&(r=!r)}return r}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,n)=>`${e}, ${n}`,"")}]`}}class ta{constructor(e=0,n=0,r=0,i=0,s=20){this.x=e,this.y=n,this.width=r,this.height=i,this.radius=s,this.type=ft.RREC}clone(){return new ta(this.x,this.y,this.width,this.height,this.radius)}contains(e,n){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(n>=this.y+r&&n<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;let i=e-(this.x+r),s=n-(this.y+r);const o=r*r;if(i*i+s*s<=o||(i=e-(this.x+this.width-r),i*i+s*s<=o)||(s=n-(this.y+this.height-r),i*i+s*s<=o)||(i=e-(this.x+r),i*i+s*s<=o))return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}class Ne{constructor(e=1,n=0,r=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,n,r,i,s,o){return this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=o,this}toArray(e,n){this.array||(this.array=new Float32Array(9));const r=n||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(e,n){n=n||new le;const r=e.x,i=e.y;return n.x=this.a*r+this.c*i+this.tx,n.y=this.b*r+this.d*i+this.ty,n}applyInverse(e,n){n=n||new le;const r=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return n.x=this.d*r*i+-this.c*r*s+(this.ty*this.c-this.tx*this.d)*r,n.y=this.a*r*s+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,n}translate(e,n){return this.tx+=e,this.ty+=n,this}scale(e,n){return this.a*=e,this.d*=n,this.c*=e,this.b*=n,this.tx*=e,this.ty*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*n-this.b*r,this.b=i*r+this.b*n,this.c=s*n-this.d*r,this.d=s*r+this.d*n,this.tx=o*n-this.ty*r,this.ty=o*r+this.ty*n,this}append(e){const n=this.a,r=this.b,i=this.c,s=this.d;return this.a=e.a*n+e.b*i,this.b=e.a*r+e.b*s,this.c=e.c*n+e.d*i,this.d=e.c*r+e.d*s,this.tx=e.tx*n+e.ty*i+this.tx,this.ty=e.tx*r+e.ty*s+this.ty,this}setTransform(e,n,r,i,s,o,a,l,u){return this.a=Math.cos(a+u)*s,this.b=Math.sin(a+u)*s,this.c=-Math.sin(a-l)*o,this.d=Math.cos(a-l)*o,this.tx=e-(r*this.a+i*this.c),this.ty=n-(r*this.b+i*this.d),this}prepend(e){const n=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const r=this.a,i=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=n*e.a+this.ty*e.c+e.tx,this.ty=n*e.b+this.ty*e.d+e.ty,this}decompose(e){const n=this.a,r=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),l=Math.atan2(r,n),u=Math.abs(a+l);return u<1e-5||Math.abs(lu-u)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(n*n+r*r),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*n+o.y*i),e.position.y=this.ty+(o.x*r+o.y*s),e}invert(){const e=this.a,n=this.b,r=this.c,i=this.d,s=this.tx,o=e*i-n*r;return this.a=i/o,this.b=-n/o,this.c=-r/o,this.d=e/o,this.tx=(r*this.ty-i*s)/o,this.ty=-(e*this.ty-n*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Ne;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new Ne}static get TEMP_MATRIX(){return new Ne}}const Wi=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Vi=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Xi=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Yi=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],R0=[],IO=[],Fc=Math.sign;function jae(){for(let t=0;t<16;t++){const e=[];R0.push(e);for(let n=0;n<16;n++){const r=Fc(Wi[t]*Wi[n]+Xi[t]*Vi[n]),i=Fc(Vi[t]*Wi[n]+Yi[t]*Vi[n]),s=Fc(Wi[t]*Xi[n]+Xi[t]*Yi[n]),o=Fc(Vi[t]*Xi[n]+Yi[t]*Yi[n]);for(let a=0;a<16;a++)if(Wi[a]===r&&Vi[a]===i&&Xi[a]===s&&Yi[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new Ne;e.set(Wi[t],Vi[t],Xi[t],Yi[t],0,0),IO.push(e)}}jae();const je={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Wi[t],uY:t=>Vi[t],vX:t=>Xi[t],vY:t=>Yi[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>R0[t][e],sub:(t,e)=>R0[t][je.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?je.S:je.N:Math.abs(e)*2<=Math.abs(t)?t>0?je.E:je.W:e>0?t>0?je.SE:je.SW:t>0?je.NE:je.NW,matrixAppendRotationInv:(t,e,n=0,r=0)=>{const i=IO[je.inv(e)];i.tx=n,i.ty=r,t.append(i)}};class Dr{constructor(e,n,r=0,i=0){this._x=r,this._y=i,this.cb=e,this.scope=n}clone(e=this.cb,n=this.scope){return new Dr(e,n,this._x,this._y)}set(e=0,n=e){return(this._x!==e||this._y!==n)&&(this._x=e,this._y=n,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=${0} y=${0} scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}const RO=class{constructor(){this.worldTransform=new Ne,this.localTransform=new Ne,this.position=new Dr(this.onChange,this,0,0),this.scale=new Dr(this.onChange,this,1,1),this.pivot=new Dr(this.onChange,this,0,0),this.skew=new Dr(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const n=t.worldTransform,r=this.worldTransform;r.a=e.a*n.a+e.b*n.c,r.b=e.a*n.b+e.b*n.d,r.c=e.c*n.a+e.d*n.c,r.d=e.c*n.b+e.d*n.d,r.tx=e.tx*n.a+e.ty*n.c+n.tx,r.ty=e.tx*n.b+e.ty*n.d+n.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};let Gu=RO;Gu.IDENTITY=new RO;var zae=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,Hae=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function dS(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}function rm(t){const e=new Array(t);for(let n=0;n<e.length;n++)e[n]=!1;return e}function kO(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return rm(2*e);case"bvec3":return rm(3*e);case"bvec4":return rm(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const cs=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],Gae={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},Wae={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function Vae(t,e){var r;const n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){(r=t.uniforms[i])!=null&&r.group&&(t.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let a=!1;for(let l=0;l<cs.length;l++)if(cs[l].test(s,o)){n.push(cs[l].code(i,o)),a=!0;break}if(!a){const u=(s.size===1&&!s.isArray?Gae:Wae)[s.type].replace("location",`ud["${i}"].location`);n.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${u};`)}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}const MO={};let js=MO;function FO(){if(js===MO||js!=null&&js.isContextLost()){const t=ee.ADAPTER.createCanvas();let e;ee.PREFER_ENV>=Fi.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),js=e}return js}let Dc;function Xae(){if(!Dc){Dc=nn.MEDIUM;const t=FO();t&&t.getShaderPrecisionFormat&&(Dc=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?nn.HIGH:nn.MEDIUM)}return Dc}function fS(t,e){const n=t.getShaderSource(e).split(`
`).map((u,c)=>`${c}: ${u}`),r=t.getShaderInfoLog(e),i=r.split(`
`),s={},o=i.map(u=>parseFloat(u.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(u=>u&&!s[u]?(s[u]=!0,!0):!1),a=[""];o.forEach(u=>{n[u-1]=`%c${n[u-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=n.join(`
`);a[0]=l,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function Yae(t,e,n,r){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(n,t.COMPILE_STATUS)||fS(t,n),t.getShaderParameter(r,t.COMPILE_STATUS)||fS(t,r),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const qae={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function DO(t){return qae[t]}let $c=null;const pS={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function $O(t,e){if(!$c){const n=Object.keys(pS);$c={};for(let r=0;r<n.length;++r){const i=n[r];$c[t[i]]=pS[i]}}return $c[e]}function mS(t,e,n){if(t.substring(0,9)!=="precision"){let r=e;return e===nn.HIGH&&n!==nn.HIGH&&(r=nn.MEDIUM),`precision ${r} float;
${t}`}else if(n!==nn.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let Va;function BO(){if(typeof Va=="boolean")return Va;try{Va=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Va=!1}return Va}let Kae=0;const Bc={},lo=class{constructor(t,e,n="pixi-shader",r={}){this.extra={},this.id=Kae++,this.vertexSrc=t||lo.defaultVertexSrc,this.fragmentSrc=e||lo.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=r,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),Bc[n]?(Bc[n]++,n+=`-${Bc[n]}`):Bc[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=mS(this.vertexSrc,lo.defaultVertexPrecision,nn.HIGH),this.fragmentSrc=mS(this.fragmentSrc,lo.defaultFragmentPrecision,Xae())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return Hae}static get defaultFragmentSrc(){return zae}static from(t,e,n){const r=t+e;let i=P0[r];return i||(P0[r]=i=new lo(t,e,n)),i}};let Tn=lo;Tn.defaultVertexPrecision=nn.HIGH;Tn.defaultFragmentPrecision=Yn.apple.device?nn.HIGH:nn.MEDIUM;let Zae=0;class On{constructor(e,n,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Zae++,this.static=!!n,this.ubo=!!r,e instanceof Je?(this.buffer=e,this.buffer.type=Qn.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Je(new Float32Array(1)),this.buffer.type=Qn.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,n,r){if(!this.ubo)this.uniforms[e]=new On(n,r);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,n,r){return new On(e,n,r)}static uboFrom(e,n){return new On(e,n??!0,!0)}}class er{constructor(e,n){this.uniformBindCount=0,this.program=e,n?n instanceof On?this.uniformGroup=n:this.uniformGroup=new On(n):this.uniformGroup=new On({}),this.disposeRunner=new cn("disposeShader")}checkUniformExists(e,n){if(n.uniforms[e])return!0;for(const r in n.uniforms){const i=n.uniforms[r];if(i.group&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,n,r){const i=Tn.from(e,n);return new er(i,r)}}class NO{constructor(e,n){if(this.vertexSrc=e,this.fragTemplate=n,this.programCache={},this.defaultGroupCache={},!n.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!n.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const r=new Int32Array(e);for(let s=0;s<e;s++)r[s]=s;this.defaultGroupCache[e]=On.from({uSamplers:r},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Tn(this.vertexSrc,i)}const n={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ne,default:this.defaultGroupCache[e]};return new er(this.programCache[e],n)}generateSampleSrc(e){let n="";n+=`
`,n+=`
`;for(let r=0;r<e;r++)r>0&&(n+=`
else `),r<e-1&&(n+=`if(vTextureId < ${r}.5)`),n+=`
{`,n+=`
	color = texture2D(uSamplers[${r}], vTextureCoord);`,n+=`
}`;return n+=`
`,n+=`
`,n}}class xd{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function Qae(){return!Yn.apple.device}function Jae(t){let e=!0;const n=ee.ADAPTER.getNavigator();if(Yn.tablet||Yn.phone){if(Yn.apple.device){const r=n.userAgent.match(/OS (\d+)_(\d+)?/);r&&parseInt(r[1],10)<11&&(e=!1)}if(Yn.android.device){const r=n.userAgent.match(/Android\s([0-9.]*)/);r&&parseInt(r[1],10)<7&&(e=!1)}}return e?t:4}class Wu{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var ele=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,tle=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const Un=class extends Wu{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=z1,this.vertexSize=6,this.state=Tr.for2d(),this.size=Un.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??Jae(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??Qae(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return be("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return tle}static get defaultFragmentTemplate(){return ele}setShaderGenerator({vertex:t=Un.defaultVertexSrc,fragment:e=Un.defaultFragmentTemplate}={}){this.shaderGenerator=new NO(t,e)}contextChange(){const t=this.renderer.gl;ee.PREFER_ENV===Fi.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Un.defaultMaxTextures),this.maxTextures=AO(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=Un,n=this.size/4,r=Math.floor(n/this.maxTextures)+1;for(;t.length<n;)t.push(new bd);for(;e.length<r;)e.push(new xd);for(let i=0;i<this.maxTextures;i++)this._tempBoundTextures[i]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,n=Un._textureArrayPool,r=this.renderer.batch,i=this._tempBoundTextures,s=this.renderer.textureGC.count;let o=++me._globalBatch,a=0,l=n[0],u=0;r.copyBoundTextures(i,e);for(let c=0;c<this._bufferSize;++c){const h=t[c];t[c]=null,h._batchEnabled!==o&&(l.count>=e&&(r.boundArray(l,i,o,e),this.buildDrawCalls(l,u,c),u=c,l=n[++a],++o),h._batchEnabled=o,h.touched=s,l.elements[l.count++]=h)}l.count>0&&(r.boundArray(l,i,o,e),this.buildDrawCalls(l,u,this._bufferSize),++a,++o);for(let c=0;c<i.length;c++)i[c]=null;me._globalBatch=o}buildDrawCalls(t,e,n){const{_bufferedElements:r,_attributeBuffer:i,_indexBuffer:s,vertexSize:o}=this,a=Un._drawCallPool;let l=this._dcIndex,u=this._aIndex,c=this._iIndex,h=a[l];h.start=this._iIndex,h.texArray=t;for(let d=e;d<n;++d){const f=r[d],p=f._texture.baseTexture,m=N1[p.alphaMode?1:0][f.blendMode];r[d]=null,e<d&&h.blend!==m&&(h.size=c-h.start,e=d,h=a[++l],h.texArray=t,h.start=c),this.packInterleavedGeometry(f,i,s,u,c),u+=f.vertexData.length/2*o,c+=f.indices.length,h.blend=m}e<n&&(h.size=c-h.start,++l),this._dcIndex=l,this._aIndex=u,this._iIndex=c}bindAndClearTexArray(t){const e=this.renderer.texture;for(let n=0;n<t.count;n++)e.bind(t.elements[n],t.ids[n]),t.elements[n]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:n}=this;Un.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:n}=this.renderer,r=Un._drawCallPool;let i=null;for(let s=0;s<t;s++){const{texArray:o,type:a,size:l,start:u,blend:c}=r[s];i!==o&&(i=o,this.bindAndClearTexArray(o)),this.state.blendMode=c,n.set(this.state),e.drawElements(a,l,e.UNSIGNED_SHORT,u*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Un.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=ou(Math.ceil(t/8)),n=A0(e),r=e*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let i=this._aBuffers[r];return i||(this._aBuffers[r]=i=new vd(r*this.vertexSize*4)),i}getIndexBuffer(t){const e=ou(Math.ceil(t/12)),n=A0(e),r=e*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let i=this._iBuffers[n];return i||(this._iBuffers[n]=i=new Uint16Array(r)),i}packInterleavedGeometry(t,e,n,r,i){const{uint32View:s,float32View:o}=e,a=r/this.vertexSize,l=t.uvs,u=t.indices,c=t.vertexData,h=t._texture.baseTexture._batchLocation,d=Math.min(t.worldAlpha,1),f=d<1&&t._texture.baseTexture.alphaMode?Uf(t._tintRGB,d):t._tintRGB+(d*255<<24);for(let p=0;p<c.length;p+=2)o[r++]=c[p],o[r++]=c[p+1],o[r++]=l[p],o[r++]=l[p+1],s[r++]=f,o[r++]=h;for(let p=0;p<u.length;p++)n[i++]=a+u[p]}};let wn=Un;wn.defaultBatchSize=4096;wn.extension={name:"batch",type:Z.RendererPlugin};wn._drawCallPool=[];wn._textureArrayPool=[];se.add(wn);var nle=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,rle=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const ll=class extends er{constructor(t,e,n){const r=Tn.from(t||ll.defaultVertexSrc,e||ll.defaultFragmentSrc);super(r,n),this.padding=0,this.resolution=ll.defaultResolution,this.multisample=ll.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Tr}apply(t,e,n,r,i){t.applyFilter(this,e,n,r)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return rle}static get defaultFragmentSrc(){return nle}};let pt=ll;pt.defaultResolution=1;pt.defaultMultisample=Ve.NONE;class H1{constructor(){this.clearBeforeRender=!0,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,1],this._backgroundColorString="#000000",this.color=this._backgroundColor,this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender,e.color&&(this.color=typeof e.color=="string"?Lf(e.color):e.color),this.alpha=e.alpha}get color(){return this._backgroundColor}set color(e){this._backgroundColor=e,this._backgroundColorString=B1(e),xs(e,this._backgroundColorRgba)}get alpha(){return this._backgroundColorRgba[3]}set alpha(e){this._backgroundColorRgba[3]=e}get colorRgba(){return this._backgroundColorRgba}get colorString(){return this._backgroundColorString}destroy(){}}H1.extension={type:[Z.RendererSystem,Z.CanvasRendererSystem],name:"background"};se.add(H1);class G1{constructor(e){this.renderer=e,this.emptyRenderer=new Wu(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,n){const{boundTextures:r}=this.renderer.texture;for(let i=n-1;i>=0;--i)e[i]=r[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,n,r,i){const{elements:s,ids:o,count:a}=e;let l=0;for(let u=0;u<a;u++){const c=s[u],h=c._batchLocation;if(h>=0&&h<i&&n[h]===c){o[u]=h;continue}for(;l<i;){const d=n[l];if(d&&d._batchEnabled===r&&d._batchLocation===l){l++;continue}o[u]=l,c._batchLocation=l,n[l]=c;break}}}destroy(){this.renderer=null}}G1.extension={type:Z.RendererSystem,name:"batch"};se.add(G1);let gS=0;class W1{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=gS++}init(e){if(e.context)this.initFromContext(e.context);else{const n=this.renderer.background.alpha<1,r=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:n,premultipliedAlpha:r,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=gS++,this.renderer.runners.contextChange.emit(e);const n=this.renderer.view;n.addEventListener!==void 0&&(n.addEventListener("webglcontextlost",this.handleContextLost,!1),n.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const n=this.createContext(this.renderer.view,e);this.initFromContext(n)}createContext(e,n){let r;if(ee.PREFER_ENV>=Fi.WEBGL2&&(r=e.getContext("webgl2",n)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=e.getContext("webgl",n)||e.getContext("experimental-webgl",n),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,n={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,n,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,n,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const n=e.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),n&&!n.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}W1.extension={type:Z.RendererSystem,name:"context"};se.add(W1);class ile extends Sa{upload(e,n,r){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Fn.UNPACK);const s=n.realWidth,o=n.realHeight;return r.width===s&&r.height===o?i.texSubImage2D(n.target,0,0,0,s,o,n.format,r.type,this.data):(r.width=s,r.height=o,i.texImage2D(n.target,0,r.internalFormat,s,o,0,n.format,r.type,this.data)),!0}}class wd{constructor(e,n){this.width=Math.round(e||100),this.height=Math.round(n||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new cn("disposeFramebuffer"),this.multisample=Ve.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,n){return this.colorTextures[e]=n||new me(null,{scaleMode:yr.NEAREST,resolution:1,mipmap:rr.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new me(new ile(null,{width:this.width,height:this.height}),{scaleMode:yr.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:rr.OFF,format:V.DEPTH_COMPONENT,type:ae.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,n){if(e=Math.round(e),n=Math.round(n),!(e===this.width&&n===this.height)){this.width=e,this.height=n,this.dirtyId++,this.dirtySize++;for(let r=0;r<this.colorTextures.length;r++){const i=this.colorTextures[r],s=i.resolution;i.setSize(e/s,n/s)}if(this.depthTexture){const r=this.depthTexture.resolution;this.depthTexture.setSize(e/r,n/r)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class V1 extends me{constructor(e={}){if(typeof e=="number"){const n=arguments[0],r=arguments[1],i=arguments[2],s=arguments[3];e={width:n,height:r,scaleMode:i,resolution:s}}e.width=e.width||100,e.height=e.height||100,e.multisample??(e.multisample=Ve.NONE),super(null,e),this.mipmap=rr.OFF,this.valid=!0,this.clearColor=[0,0,0,0],this.framebuffer=new wd(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}resize(e,n){this.framebuffer.resize(e*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Wr extends ea{constructor(e){const n=e,r=n.naturalWidth||n.videoWidth||n.width,i=n.naturalHeight||n.videoHeight||n.height;super(r,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,n,r){r===void 0&&!n.startsWith("data:")?e.crossOrigin=TO(n):r!==!1&&(e.crossOrigin=typeof r=="string"?r:"anonymous")}upload(e,n,r,i){const s=e.gl,o=n.realWidth,a=n.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1&&i.buffered.length===0)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Fn.UNPACK),!this.noSubImage&&n.target===s.TEXTURE_2D&&r.width===o&&r.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,n.format,r.type,i):(r.width=o,r.height=a,s.texImage2D(n.target,0,r.internalFormat,n.format,r.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,n=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(n,r),super.update()}dispose(){this.source=null}}class X1 extends Wr{constructor(e,n){if(n=n||{},typeof e=="string"){const r=new Image;Wr.crossOrigin(r,e,n.crossorigin),r.src=e,e=r}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(n.createBitmap??ee.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,this.bitmap=null,this._load=null,n.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((n,r)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.resize(i.width,i.height),this._load=null,this.createBitmap?n(this.process()):n(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{r(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const n=globalThis.createImageBitmap,r=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:r?"cors":"no-cors"}).then(i=>i.blob()).then(i=>n(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Fn.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,n,r){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,n,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,n,r,this.bitmap),!this.preserveBitmap){let i=!0;const s=n._glTextures;for(const o in s){const a=s[o];if(a!==r&&a.dirtyId!==n.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class Y1{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,n,r){const i=n.width,s=n.height;if(r){const o=e.width/2/i,a=e.height/2/s,l=e.x/i+o,u=e.y/s+a;r=je.add(r,je.NW),this.x0=l+o*je.uX(r),this.y0=u+a*je.uY(r),r=je.add(r,2),this.x1=l+o*je.uX(r),this.y1=u+a*je.uY(r),r=je.add(r,2),this.x2=l+o*je.uX(r),this.y2=u+a*je.uY(r),r=je.add(r,2),this.x3=l+o*je.uX(r),this.y3=u+a*je.uY(r)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const vS=new Y1;function Nc(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class J extends _i{constructor(e,n,r,i,s,o){if(super(),this.noFrame=!1,n||(this.noFrame=!0,n=new ge(0,0,1,1)),e instanceof J&&(e=e.baseTexture),this.baseTexture=e,this._frame=n,this.trim=i,this.valid=!1,this._uvs=vS,this.uvMatrix=null,this.orig=r||n,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new le(o.x,o.y):new le(0,0),this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=n:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:n}=this.baseTexture;n!=null&&n.url&&Rt[n.url]&&J.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,J.removeFromCache(this),this.textureCacheIds=null}clone(){var i;const e=this._frame.clone(),n=this._frame===this.orig?e:this.orig.clone(),r=new J(this.baseTexture,!this.noFrame&&e,n,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(r._frame=e),r}updateUvs(){this._uvs===vS&&(this._uvs=new Y1),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,n={},r=ee.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof me){if(!e.cacheId){const a=(n==null?void 0:n.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${Ei()}`,me.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(n==null?void 0:n.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${Ei()}`}s=e._pixiId}let o=Rt[s];if(i&&r&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof me)?(n.resolution||(n.resolution=Hr(e)),o=new J(new me(e,n)),o.baseTexture.cacheId=s,me.addToCache(o.baseTexture,s),J.addToCache(o,s)):!o&&e instanceof me&&(o=new J(e),J.addToCache(o,s)),o}static fromURL(e,n){const r=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),i=J.from(e,Object.assign({resourceOptions:r},n),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,n,r,i){return new J(me.fromBuffer(e,n,r,i))}static fromLoader(e,n,r,i){const s=new me(e,Object.assign({scaleMode:me.defaultOptions.scaleMode,resolution:Hr(n)},i)),{resource:o}=s;o instanceof X1&&(o.url=n);const a=new J(s);return r||(r=n),me.addToCache(a.baseTexture,r),J.addToCache(a,r),r!==n&&(me.addToCache(a.baseTexture,n),J.addToCache(a,n)),a.baseTexture.valid?Promise.resolve(a):new Promise(l=>{a.baseTexture.once("loaded",()=>l(a))})}static addToCache(e,n){n&&(e.textureCacheIds.includes(n)||e.textureCacheIds.push(n),Rt[n]&&Rt[n]!==e&&console.warn(`Texture added to the cache with an id [${n}] that already had an entry`),Rt[n]=e)}static removeFromCache(e){if(typeof e=="string"){const n=Rt[e];if(n){const r=n.textureCacheIds.indexOf(e);return r>-1&&n.textureCacheIds.splice(r,1),delete Rt[e],n}}else if(e!=null&&e.textureCacheIds){for(let n=0;n<e.textureCacheIds.length;++n)Rt[e.textureCacheIds[n]]===e&&delete Rt[e.textureCacheIds[n]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:n,y:r,width:i,height:s}=e,o=n+i>this.baseTexture.width,a=r+s>this.baseTexture.height;if(o||a){const l=o&&a?"and":"or",u=`X: ${n} + ${i} = ${n+i} > ${this.baseTexture.width}`,c=`Y: ${r} + ${s} = ${r+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${u} ${l} ${c}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return J._EMPTY||(J._EMPTY=new J(new me),Nc(J._EMPTY),Nc(J._EMPTY.baseTexture)),J._EMPTY}static get WHITE(){if(!J._WHITE){const e=ee.ADAPTER.createCanvas(16,16),n=e.getContext("2d");e.width=16,e.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),J._WHITE=new J(me.from(e)),Nc(J._WHITE),Nc(J._WHITE.baseTexture)}return J._WHITE}}class Vr extends J{constructor(e,n){super(e,n),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,n,r=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(n*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,r&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:n}=this;n.resolution!==e&&(n.setResolution(e),this.resize(n.width,n.height,!1))}static create(e){return new Vr(new V1(e))}}class q1{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,n,r=Ve.NONE){const i=new V1(Object.assign({width:e,height:n,resolution:1,multisample:r},this.textureOptions));return new Vr(i)}getOptimalTexture(e,n,r=1,i=Ve.NONE){let s;e=Math.ceil(e*r-1e-6),n=Math.ceil(n*r-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||n!==this._pixelsHeight?(e=ou(e),n=ou(n),s=((e&65535)<<16|n&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,n,i)),o.filterPoolKey=s,o.setResolution(r),o}getFilterTexture(e,n,r){const i=this.getOptimalTexture(e.width,e.height,n||e.resolution,r||Ve.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const n=e.filterPoolKey;e.filterFrame=null,this.texturePool[n].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const n in this.texturePool){const r=this.texturePool[n];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const n in this.texturePool){if(!(Number(n)<0))continue;const r=this.texturePool[n];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[n]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}q1.SCREEN_KEY=-1;class LO extends Gr{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class K1 extends Gr{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Je(this.vertices),this.uvBuffer=new Je(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,n){let r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+n.width/e.width,this.uvs[3]=i,this.uvs[4]=r+n.width/e.width,this.uvs[5]=i+n.height/e.height,this.uvs[6]=r,this.uvs[7]=i+n.height/e.height,r=n.x,i=n.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+n.width,this.vertices[3]=i,this.vertices[4]=r+n.width,this.vertices[5]=i+n.height,this.vertices[6]=r,this.vertices[7]=i+n.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class UO{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Ve.NONE,this.sourceFrame=new ge,this.destinationFrame=new ge,this.bindingSourceFrame=new ge,this.bindingDestinationFrame=new ge,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Lc=[new le,new le,new le,new le],im=new Ne;class Z1{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new q1,this.statePool=[],this.quad=new LO,this.quadUv=new K1,this.tempRect=new ge,this.activeState={},this.globalUniforms=new On({outputFrame:new ge,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,n){const r=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new UO,o=this.renderer.renderTexture;let a=n[0].resolution,l=n[0].multisample,u=n[0].padding,c=n[0].autoFit,h=n[0].legacy??!0;for(let p=1;p<n.length;p++){const m=n[p];a=Math.min(a,m.resolution),l=Math.min(l,m.multisample),u=this.useMaxPadding?Math.max(u,m.padding):u+m.padding,c=c&&m.autoFit,h=h||(m.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=a,s.multisample=l,s.legacy=h,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(u);const d=this.tempRect.copyFrom(o.sourceFrame);r.projection.transform&&this.transformAABB(im.copyFrom(r.projection.transform).invert(),d),c?(s.sourceFrame.fit(d),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(d)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:r.resolution,o.sourceFrame,o.destinationFrame,r.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,a,l),s.filters=n,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const f=this.tempRect;f.x=0,f.y=0,f.width=s.sourceFrame.width,f.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=r.projection.transform,r.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,f),r.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,n=e.pop(),r=n.filters;this.activeState=n;const i=this.globalUniforms.uniforms;i.outputFrame=n.sourceFrame,i.resolution=n.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=n.destinationFrame.width,s[1]=n.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*n.resolution),o[1]=Math.round(s[1]*n.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=n.sourceFrame.width*s[2]-.5*o[2],a[3]=n.sourceFrame.height*s[3]-.5*o[3],n.legacy){const u=i.filterArea;u[0]=n.destinationFrame.width,u[1]=n.destinationFrame.height,u[2]=n.sourceFrame.x,u[3]=n.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const l=e[e.length-1];if(this.renderer.framebuffer.blit(),r.length===1)r[0].apply(this,n.renderTexture,l.renderTexture,Wn.BLEND,n),this.returnFilterTexture(n.renderTexture);else{let u=n.renderTexture,c=this.getOptimalFilterTexture(u.width,u.height,n.resolution);c.filterFrame=u.filterFrame;let h=0;for(h=0;h<r.length-1;++h){h===1&&n.multisample>1&&(c=this.getOptimalFilterTexture(u.width,u.height,n.resolution),c.filterFrame=u.filterFrame),r[h].apply(this,u,c,Wn.CLEAR,n);const d=u;u=c,c=d}r[h].apply(this,u,l.renderTexture,Wn.BLEND,n),h>1&&n.multisample>1&&this.returnFilterTexture(n.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(c)}n.clear(),this.statePool.push(n)}bindAndClear(e,n=Wn.CLEAR){const{renderTexture:r,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e!=null&&e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,r.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(n===Wn.CLEAR||n===Wn.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,n,r,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(r,i),e.uniforms.uSampler=n,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(n._frame,n.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(Xn.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(Xn.TRIANGLE_STRIP))}calculateSpriteMatrix(e,n){const{sourceFrame:r,destinationFrame:i}=this.activeState,{orig:s}=n._texture,o=e.set(i.width,0,0,i.height,r.x,r.y),a=n.worldTransform.copyTo(Ne.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(n.anchor.x,n.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,n,r=1,i=Ve.NONE){return this.texturePool.getOptimalTexture(e,n,r,i)}getFilterTexture(e,n,r){if(typeof e=="number"){const s=e;e=n,n=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,n||e.resolution,r||Ve.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,n){const r=Lc[0],i=Lc[1],s=Lc[2],o=Lc[3];r.set(n.left,n.top),i.set(n.left,n.bottom),s.set(n.right,n.top),o.set(n.right,n.bottom),e.apply(r,r),e.apply(i,i),e.apply(s,s),e.apply(o,o);const a=Math.min(r.x,i.x,s.x,o.x),l=Math.min(r.y,i.y,s.y,o.y),u=Math.max(r.x,i.x,s.x,o.x),c=Math.max(r.y,i.y,s.y,o.y);n.x=a,n.y=l,n.width=u-a,n.height=c-l}roundFrame(e,n,r,i,s){if(!(e.width<=0||e.height<=0||r.width<=0||r.height<=0)){if(s){const{a:o,b:a,c:l,d:u}=s;if((Math.abs(a)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(u)>1e-4))return}s=s?im.copyFrom(s):im.identity(),s.translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(n),this.transformAABB(s.invert(),e)}}}Z1.extension={type:Z.RendererSystem,name:"filter"};se.add(Z1);class jO{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Ve.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const sle=new ge;class Q1{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new wd(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new ge,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let n=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;ee.PREFER_ENV===Fi.WEBGL_LEGACY&&(n=null,r=null),n?e.drawBuffers=i=>n.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,n,r=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==r&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=r),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,r)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),n){const o=n.width>>r,a=n.height>>r,l=o/n.width;this.setViewport(n.x*l,n.y*l,o,a)}else{const o=e.width>>r,a=e.height>>r;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),n?this.setViewport(n.x,n.y,n.width,n.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,n,r,i){const s=this.viewport;e=Math.round(e),n=Math.round(n),r=Math.round(r),i=Math.round(i),(s.width!==r||s.height!==i||s.x!==e||s.y!==n)&&(s.x=e,s.y=n,s.width=r,s.height=i,this.gl.viewport(e,n,r,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,n,r,i,s=fd.COLOR|fd.DEPTH){const{gl:o}=this;o.clearColor(e,n,r,i),o.clear(s)}initFramebuffer(e){const{gl:n}=this,r=new jO(n.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r}resizeFramebuffer(e){const{gl:n}=this,r=e.glFramebuffers[this.CONTEXT_UID];r.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,r.stencil),r.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height));const i=e.colorTextures;let s=i.length;n.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],l=a.parentTextureArray||a;this.renderer.texture.bind(l,0),o===0&&r.msaaBuffer&&(n.bindRenderbuffer(n.RENDERBUFFER,r.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,n){const{gl:r}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;r.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||r.createRenderbuffer():i.msaaBuffer&&(r.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let l=0;l<o;l++){const u=s[l],c=u.parentTextureArray||u;this.renderer.texture.bind(c,0),l===0&&i.msaaBuffer?(r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,i.msaaBuffer)):(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+l,u.target,c._glTextures[this.CONTEXT_UID].texture,n),a.push(r.COLOR_ATTACHMENT0+l))}if(a.length>1&&r.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const u=e.depthTexture;this.renderer.texture.bind(u,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,u._glTextures[this.CONTEXT_UID].texture,n)}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.stencil),i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,i.stencil)):i.stencil&&(r.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:n}=this;let r=Ve.NONE;if(e<=1||n===null)return r;for(let i=0;i<n.length;i++)if(n[i]<=e){r=n[i];break}return r===1&&(r=Ve.NONE),r}blit(e,n,r){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const l=i.glFramebuffers[a];if(!l)return;if(!e){if(!l.msaaBuffer)return;const c=i.colorTextures[0];if(!c)return;l.blitFramebuffer||(l.blitFramebuffer=new wd(i.width,i.height),l.blitFramebuffer.addColorTexture(0,c)),e=l.blitFramebuffer,e.colorTextures[0]!==c&&(e.colorTextures[0]=c,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}n||(n=sle,n.width=i.width,n.height=i.height),r||(r=n);const u=n.width===r.width&&n.height===r.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,l.framebuffer),o.blitFramebuffer(n.left,n.top,n.right,n.bottom,r.left,r.top,r.right,r.bottom,o.COLOR_BUFFER_BIT,u?o.NEAREST:o.LINEAR)}disposeFramebuffer(e,n){const r=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!r)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),n||(i.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&i.deleteRenderbuffer(r.msaaBuffer),r.stencil&&i.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&r.blitFramebuffer.dispose()}disposeAll(e){const n=this.managedFramebuffers;this.managedFramebuffers=[];for(let r=0;r<n.length;r++)this.disposeFramebuffer(n[r],e)}forceStencil(){const e=this.current;if(!e)return;const n=e.glFramebuffers[this.CONTEXT_UID];if(!n||n.stencil)return;e.stencil=!0;const r=e.width,i=e.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),n.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,n.multisample,s.DEPTH24_STENCIL8,r,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,r,i),n.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new ge}destroy(){this.renderer=null}}Q1.extension={type:Z.RendererSystem,name:"framebuffer"};se.add(Q1);const sm={5126:4,5123:2,5121:1};class J1{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,n=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,n.webGLVersion!==2){let r=this.renderer.context.extensions.vertexArrayObject;ee.PREFER_ENV===Fi.WEBGL_LEGACY&&(r=null),r?(e.createVertexArray=()=>r.createVertexArrayOES(),e.bindVertexArray=i=>r.bindVertexArrayOES(i),e.deleteVertexArray=i=>r.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(n.webGLVersion!==2){const r=e.getExtension("ANGLE_instanced_arrays");r?(e.vertexAttribDivisor=(i,s)=>r.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,a,l)=>r.drawElementsInstancedANGLE(i,s,o,a,l),e.drawArraysInstanced=(i,s,o,a)=>r.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=n.webGLVersion===2||!!n.extensions.uint32ElementIndex}bind(e,n){n=n||this.renderer.shader.shader;const{gl:r}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[n.program.id]||this.initGeometryVao(e,n,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?r.bindVertexArray(o):this.activateVao(e,n.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,n=this.renderer.buffer;for(let r=0;r<e.buffers.length;r++){const i=e.buffers[r];n.update(i)}}checkCompatibility(e,n){const r=e.attributes,i=n.attributeData;for(const s in i)if(!r[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,n){const r=e.attributes,i=n.attributeData,s=["g",e.id];for(const o in r)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,n,r=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=n.program;a.glPrograms[s]||this.renderer.shader.generateProgram(n),this.checkCompatibility(e,a);const l=this.getSignature(e,a),u=e.glVertexArrayObjects[this.CONTEXT_UID];let c=u[l];if(c)return u[a.id]=c,c;const h=e.buffers,d=e.attributes,f={},p={};for(const m in h)f[m]=0,p[m]=0;for(const m in d)!d[m].size&&a.attributeData[m]?d[m].size=a.attributeData[m].size:d[m].size||console.warn(`PIXI Geometry attribute '${m}' size cannot be determined (likely the bound shader does not have the attribute)`),f[d[m].buffer]+=d[m].size*sm[d[m].type];for(const m in d){const g=d[m],v=g.size;g.stride===void 0&&(f[g.buffer]===v*sm[g.type]?g.stride=0:g.stride=f[g.buffer]),g.start===void 0&&(g.start=p[g.buffer],p[g.buffer]+=v*sm[g.type])}c=i.createVertexArray(),i.bindVertexArray(c);for(let m=0;m<h.length;m++){const g=h[m];o.bind(g),r&&g._glBuffers[s].refCount++}return this.activateVao(e,a),u[a.id]=c,u[l]=c,i.bindVertexArray(null),o.unbind(Qn.ARRAY_BUFFER),c}disposeGeometry(e,n){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const r=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!r){if(o)for(let l=0;l<s.length;l++){const u=s[l]._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,u.refCount===0&&!n&&o.dispose(s[l],n))}if(!n){for(const l in r)if(l[0]==="g"){const u=r[l];this._activeVao===u&&this.unbind(),i.deleteVertexArray(u)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const n=Object.keys(this.managedGeometries);for(let r=0;r<n.length;r++)this.disposeGeometry(this.managedGeometries[n[r]],e)}activateVao(e,n){const r=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let l=null;for(const u in a){const c=a[u],h=o[c.buffer],d=h._glBuffers[i];if(n.attributeData[u]){l!==d&&(s.bind(h),l=d);const f=n.attributeData[u].location;if(r.enableVertexAttribArray(f),r.vertexAttribPointer(f,c.size,c.type||r.FLOAT,c.normalized,c.stride,c.start),c.instance)if(this.hasInstance)r.vertexAttribDivisor(f,c.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,n,r,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,l=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,n||o.indexBuffer.data.length,l,(r||0)*a,i||1):s.drawElements(e,n||o.indexBuffer.data.length,l,(r||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,r,n||o.getSize(),i||1):s.drawArrays(e,r,n||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}J1.extension={type:Z.RendererSystem,name:"geometry"};se.add(J1);const yS=new Ne;class Hf{constructor(e,n){this._texture=e,this.mapCoord=new Ne,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof n>"u"?.5:n,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,n){n===void 0&&(n=e);const r=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];n[i]=s*r.a+o*r.c+r.tx,n[i+1]=s*r.b+o*r.d+r.ty}return n}update(e){const n=this._texture;if(!n||!n.valid||!e&&this._textureID===n._updateID)return!1;this._textureID=n._updateID,this._updateID++;const r=n._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const i=n.orig,s=n.trim;s&&(yS.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(yS));const o=n.baseTexture,a=this.uClampFrame,l=this.clampMargin/o.resolution,u=this.clampOffset;return a[0]=(n._frame.x+l+u)/o.width,a[1]=(n._frame.y+l+u)/o.height,a[2]=(n._frame.x+n._frame.width-l+u)/o.width,a[3]=(n._frame.y+n._frame.height-l+u)/o.height,this.uClampOffset[0]=u/o.realWidth,this.uClampOffset[1]=u/o.realHeight,this.isSimple=n._frame.width===o.width&&n._frame.height===o.height&&n.rotate===0,!0}}var ole=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,ale=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class zO extends pt{constructor(e,n,r){let i=null;typeof e!="string"&&n===void 0&&r===void 0&&(i=e,e=void 0,n=void 0,r=void 0),super(e||ale,n||ole,r),this.maskSprite=i,this.maskMatrix=new Ne}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,n,r,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Hf(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,n,r,i))}}class HO{constructor(e=null){this.type=it.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=pt.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=it.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class eb{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,n){let r=n;if(!r.isMaskData){const s=this.maskDataPool.pop()||new HO;s.pooled=!0,s.maskObject=n,r=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(i),r._colorMask=i?i._colorMask:15,r.autoDetect&&this.detect(r),r._target=e,r.type!==it.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case it.SCISSOR:this.renderer.scissor.push(r);break;case it.STENCIL:this.renderer.stencil.push(r);break;case it.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case it.COLOR:this.pushColorMask(r);break}r.type===it.SPRITE&&this.maskStack.push(r)}pop(e){const n=this.maskStack.pop();if(!(!n||n._target!==e)){if(n.enabled)switch(n.type){case it.SCISSOR:this.renderer.scissor.pop(n);break;case it.STENCIL:this.renderer.stencil.pop(n.maskObject);break;case it.SPRITE:this.popSpriteMask(n);break;case it.COLOR:this.popColorMask(n);break}if(n.reset(),n.pooled&&this.maskDataPool.push(n),this.maskStack.length!==0){const r=this.maskStack[this.maskStack.length-1];r.type===it.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}}detect(e){const n=e.maskObject;n?n.isSprite?e.type=it.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=it.SCISSOR:e.type=it.STENCIL:e.type=it.COLOR}pushSpriteMask(e){const{maskObject:n}=e,r=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new zO]));const s=this.renderer,o=s.renderTexture;let a,l;if(o.current){const c=o.current;a=e.resolution||c.resolution,l=e.multisample??c.multisample}else a=e.resolution||s.resolution,l=e.multisample??s.multisample;i[0].resolution=a,i[0].multisample=l,i[0].maskSprite=n;const u=r.filterArea;r.filterArea=n.getBounds(!0),s.filter.push(r,i),r.filterArea=u,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const n=e._colorMask,r=e._colorMask=n&e.colorMask;r!==n&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}popColorMask(e){const n=e._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==n&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}destroy(){this.renderer=null}}eb.extension={type:Z.RendererSystem,name:"mask"};se.add(eb);class GO{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:n}=this.renderer,r=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==r&&(i===0?n.disable(this.glConst):(n.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const bS=new Ne,xS=[],mh=class extends GO{constructor(t){super(t),this.glConst=ee.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:n}=t,{renderer:r}=this,i=r.renderTexture,s=n.getBounds(!0,xS.pop()??new ge);this.roundFrameToPixels(s,i.current?i.current.resolution:r.resolution,i.sourceFrame,i.destinationFrame,r.projection.transform),e&&s.fit(e),t._scissorRectLocal=s}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:n,c:r,d:i}=t;return(Math.abs(n)>1e-4||Math.abs(r)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||mh.isMatrixRotated(e.worldTransform)||mh.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const n=t._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(t,e,n,r,i){mh.isMatrixRotated(i)||(i=i?bS.copyFrom(i):bS.identity(),i.translate(-n.x,-n.y).scale(r.width/n.width,r.height/n.height).translate(r.x,r.y),this.renderer.filter.transformAABB(i,t),t.fit(r),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&xS.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};let tb=mh;tb.extension={type:Z.RendererSystem,name:"scissor"};se.add(tb);class nb extends GO{constructor(e){super(e),this.glConst=ee.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const n=e.maskObject,{gl:r}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,i,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,s!==0&&(e._colorMask=s,r.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const n=this.renderer.gl;if(this.getStackLength()===0)n.disable(n.STENCIL_TEST);else{const r=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=r?r._colorMask:15;i!==0&&(r._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilOp(n.KEEP,n.KEEP,n.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(r._colorMask=i,n.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}nb.extension={type:Z.RendererSystem,name:"stencil"};se.add(nb);class rb{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return be("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return be("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return be("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(e){for(const n in e)this.plugins[n]=new e[n](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}rb.extension={type:[Z.RendererSystem,Z.CanvasRendererSystem],name:"_plugin"};se.add(rb);class ib{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Ne,this.transform=null}update(e,n,r,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=n||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,n,r,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/n.width*2,s.d=o*(1/n.height*2),s.tx=-1-n.x*s.a,s.ty=-o-n.y*s.d}setTransform(e){}destroy(){this.renderer=null}}ib.extension={type:Z.RendererSystem,name:"projection"};se.add(ib);const lle=new Gu;class sb{constructor(e){this.renderer=e,this._tempMatrix=new Ne}generateTexture(e,n){const{region:r,...i}=n||{},s=r||e.getLocalBounds(null,!0);s.width===0&&(s.width=1),s.height===0&&(s.height=1);const o=Vr.create({width:s.width,height:s.height,...i});this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const a=e.transform;return e.transform=lle,this.renderer.render(e,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=a,o}destroy(){}}sb.extension={type:[Z.RendererSystem,Z.CanvasRendererSystem],name:"textureGenerator"};se.add(sb);const Bi=new ge,Xa=new ge;class ob{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new ge,this.destinationFrame=new ge,this.viewportFrame=new ge}bind(e=null,n,r){const i=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,n||(Bi.width=e.frame.width,Bi.height=e.frame.height,n=Bi),r||(Xa.x=e.frame.x,Xa.y=e.frame.y,Xa.width=n.width,Xa.height=n.height,r=Xa),o=s.framebuffer):(a=i.resolution,n||(Bi.width=i._view.screen.width,Bi.height=i._view.screen.height,n=Bi),r||(r=Bi,r.width=n.width,r.height=n.height));const l=this.viewportFrame;l.x=r.x*a,l.y=r.y*a,l.width=r.width*a,l.height=r.height*a,e||(l.y=i.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(o,l),this.renderer.projection.update(r,n,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(n),this.destinationFrame.copyFrom(r)}clear(e,n){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.renderer.background.colorRgba;const r=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer._view.screen,s=r.width!==i.width||r.height!==i.height;if(s){let{x:o,y:a,width:l,height:u}=this.viewportFrame;o=Math.round(o),a=Math.round(a),l=Math.round(l),u=Math.round(u),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(o,a,l,u)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],n),s&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}ob.extension={type:Z.RendererSystem,name:"renderTexture"};se.add(ob);class ule{}class WO{constructor(e,n){this.program=e,this.uniformData=n,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function cle(t,e){const n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=$O(e,s.type),a={type:o,name:s.name,size:DO(o),location:e.getAttribLocation(t,s.name)};n[s.name]=a}return n}function hle(t,e){const n={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),l=$O(e,s.type);n[o]={name:o,index:i,type:l,size:s.size,isArray:a,value:kO(l,s.size)}}return n}function VO(t,e){var l;const n=dS(t,t.VERTEX_SHADER,e.vertexSrc),r=dS(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,n),t.attachShader(i,r);const s=(l=e.extra)==null?void 0:l.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||Yae(t,i,n,r),e.attributeData=cle(i,t),e.uniformData=hle(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const u=Object.keys(e.attributeData);u.sort((c,h)=>c>h?1:-1);for(let c=0;c<u.length;c++)e.attributeData[u[c]].location=c,t.bindAttribLocation(i,c,u[c]);t.linkProgram(i)}t.deleteShader(n),t.deleteShader(r);const o={};for(const u in e.uniformData){const c=e.uniformData[u];o[u]={location:t.getUniformLocation(i,u),value:kO(c.type,c.size)}}return new WO(i,o)}function dle(t,e,n,r,i){n.buffer.update(i)}const fle={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},XO={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function YO(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let n=0,r=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(n=XO[o.data.type],o.data.size>1&&(n=Math.max(n,16)*o.data.size),o.dataLen=n,r%n!==0&&r<16){const a=r%n%16;r+=a,i+=a}r+n>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=n,r=n):(o.offset=i,r+=n,i+=n)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function qO(t,e){const n=[];for(const r in t)e[r]&&n.push(e[r]);return n.sort((r,i)=>r.index-i.index),n}function KO(t,e){if(!t.autoManage)return{size:0,syncFunc:dle};const n=qO(t.uniforms,e),{uboElements:r,size:i}=YO(n),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<r.length;o++){const a=r[o],l=t.uniforms[a.data.name],u=a.data.name;let c=!1;for(let h=0;h<cs.length;h++){const d=cs[h];if(d.codeUbo&&d.test(a.data,l)){s.push(`offset = ${a.offset/4};`,cs[h].codeUbo(a.data.name,l)),c=!0;break}}if(!c)if(a.data.size>1){const h=DO(a.data.type),d=Math.max(XO[a.data.type]/16,1),f=h/d,p=(4-f%4)%4;s.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*d}; i++)
                {
                    for(var j = 0; j < ${f}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${p};
                }

                `)}else{const h=fle[a.data.type];s.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${a.offset/4};
                ${h};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let ple=0;const Uc={textureCount:0,uboCount:0};class ab{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=ple++}systemCheck(){if(!BO())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,n){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const r=e.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),n||(Uc.textureCount=0,Uc.uboCount=0,this.syncUniformGroup(e.uniformGroup,Uc)),i}setUniforms(e){const n=this.shader.program,r=n.glPrograms[this.renderer.CONTEXT_UID];n.syncUniforms(r.uniformData,e,this.renderer)}syncUniformGroup(e,n){const r=this.getGlProgram();(!e.static||e.dirtyId!==r.uniformDirtyGroups[e.id])&&(r.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,n))}syncUniforms(e,n,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(n.uniformData,e.uniforms,this.renderer,r)}createSyncGroups(e){const n=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[n]||(this.cache[n]=Vae(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[n],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,n){const r=this.getGlProgram();if(!e.static||e.dirtyId!==0||!r.uniformGroups[e.id]){e.dirtyId=0;const i=r.uniformGroups[e.id]||this.createSyncBufferGroup(e,r,n);e.buffer.update(),i(r.uniformData,e.uniforms,this.renderer,Uc,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,r.uniformBufferBindings[n])}createSyncBufferGroup(e,n,r){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(n.program,r);n.uniformBufferBindings[r]=this.shader.uniformBindCount,i.uniformBlockBinding(n.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=KO(e,this.shader.program.uniformData)),e.autoManage){const l=new Float32Array(a.size/4);e.buffer.update(l)}return n.uniformGroups[e.id]=a.syncFunc,n.uniformGroups[e.id]}getSignature(e,n,r){const i=e.uniforms,s=[`${r}-`];for(const o in i)s.push(o),n[o]&&s.push(n[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const n=this.gl,r=e.program,i=VO(n,r);return r.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}ab.extension={type:Z.RendererSystem,name:"shader"};se.add(ab);class lb{constructor(e){this.renderer=e}run(e){const n=this.renderer;n.emitWithCustomOptions(n.runners.init,e),e.hello&&console.log(`PixiJS 7.1.4 - ${n.rendererLogId} - https://pixijs.com`),n.resize(this.renderer.screen.width,this.renderer.screen.height)}destroy(){}}lb.extension={type:[Z.RendererSystem,Z.CanvasRendererSystem],name:"startup"};se.add(lb);function mle(t,e=[]){return e[ce.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ce.ADD]=[t.ONE,t.ONE],e[ce.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ce.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ce.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ce.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ce.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ce.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ce.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ce.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ce.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ce.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ce.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ce.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ce.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ce.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ce.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ce.NONE]=[0,0],e[ce.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ce.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[ce.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ce.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[ce.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[ce.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ce.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[ce.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[ce.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[ce.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[ce.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ce.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const gle=0,vle=1,yle=2,ble=3,xle=4,wle=5,k0=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=ce.NONE,this._blendEq=!1,this.map=[],this.map[gle]=this.setBlend,this.map[vle]=this.setOffset,this.map[yle]=this.setCullFace,this.map[ble]=this.setDepthTest,this.map[xle]=this.setFrontFace,this.map[wle]=this.setDepthMask,this.checks=[],this.defaultState=new Tr,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=mle(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,n=0;for(;e;)e&1&&this.map[n].call(this,!!(t.data&1<<n)),e=e>>1,n++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(k0.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(k0.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],n=this.gl;e.length===2?n.blendFunc(e[0],e[1]):n.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,n.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const n=this.checks.indexOf(t);e&&n===-1?this.checks.push(t):!e&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let ub=k0;ub.extension={type:Z.RendererSystem,name:"state"};se.add(ub);class ZO extends _i{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const n=(e.priority??[]).filter(i=>e.systems[i]),r=[...n,...Object.keys(e.systems).filter(i=>!n.includes(i))];for(const i of r)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(n=>{this.runners[n]=new cn(n)})}addSystem(e,n){const r=new e(this);if(this[n])throw new Error(`Whoops! The name "${n}" is already in use`);this[n]=r,this._systemsHash[n]=r;for(const i in this.runners)this.runners[i].add(r);return this}emitWithCustomOptions(e,n){const r=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=r.find(o=>this._systemsHash[o]===i);i[e.name](n[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const gh=class{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=gh.defaultMaxIdle,this.checkCountMax=gh.defaultCheckCountMax,this.mode=gh.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Df.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let n=!1;for(let r=0;r<e.length;r++){const i=e[r];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[r]=null,n=!0)}if(n){let r=0;for(let i=0;i<e.length;i++)e[i]!==null&&(e[r++]=e[i]);e.length=r}}unload(t){const e=this.renderer.texture,n=t._texture;n&&!n.framebuffer&&e.destroyTexture(n);for(let r=t.children.length-1;r>=0;r--)this.unload(t.children[r])}destroy(){this.renderer=null}};let _n=gh;_n.defaultMode=Df.AUTO;_n.defaultMaxIdle=60*60;_n.defaultCheckCountMax=60*10;_n.extension={type:Z.RendererSystem,name:"textureGC"};se.add(_n);class vh{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=ae.UNSIGNED_BYTE,this.internalFormat=V.RGBA,this.samplerType=0}}function _le(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[ae.UNSIGNED_BYTE]:{[V.RGBA]:t.RGBA8,[V.RGB]:t.RGB8,[V.RG]:t.RG8,[V.RED]:t.R8,[V.RGBA_INTEGER]:t.RGBA8UI,[V.RGB_INTEGER]:t.RGB8UI,[V.RG_INTEGER]:t.RG8UI,[V.RED_INTEGER]:t.R8UI,[V.ALPHA]:t.ALPHA,[V.LUMINANCE]:t.LUMINANCE,[V.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ae.BYTE]:{[V.RGBA]:t.RGBA8_SNORM,[V.RGB]:t.RGB8_SNORM,[V.RG]:t.RG8_SNORM,[V.RED]:t.R8_SNORM,[V.RGBA_INTEGER]:t.RGBA8I,[V.RGB_INTEGER]:t.RGB8I,[V.RG_INTEGER]:t.RG8I,[V.RED_INTEGER]:t.R8I},[ae.UNSIGNED_SHORT]:{[V.RGBA_INTEGER]:t.RGBA16UI,[V.RGB_INTEGER]:t.RGB16UI,[V.RG_INTEGER]:t.RG16UI,[V.RED_INTEGER]:t.R16UI,[V.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[ae.SHORT]:{[V.RGBA_INTEGER]:t.RGBA16I,[V.RGB_INTEGER]:t.RGB16I,[V.RG_INTEGER]:t.RG16I,[V.RED_INTEGER]:t.R16I},[ae.UNSIGNED_INT]:{[V.RGBA_INTEGER]:t.RGBA32UI,[V.RGB_INTEGER]:t.RGB32UI,[V.RG_INTEGER]:t.RG32UI,[V.RED_INTEGER]:t.R32UI,[V.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[ae.INT]:{[V.RGBA_INTEGER]:t.RGBA32I,[V.RGB_INTEGER]:t.RGB32I,[V.RG_INTEGER]:t.RG32I,[V.RED_INTEGER]:t.R32I},[ae.FLOAT]:{[V.RGBA]:t.RGBA32F,[V.RGB]:t.RGB32F,[V.RG]:t.RG32F,[V.RED]:t.R32F,[V.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[ae.HALF_FLOAT]:{[V.RGBA]:t.RGBA16F,[V.RGB]:t.RGB16F,[V.RG]:t.RG16F,[V.RED]:t.R16F},[ae.UNSIGNED_SHORT_5_6_5]:{[V.RGB]:t.RGB565},[ae.UNSIGNED_SHORT_4_4_4_4]:{[V.RGBA]:t.RGBA4},[ae.UNSIGNED_SHORT_5_5_5_1]:{[V.RGBA]:t.RGB5_A1},[ae.UNSIGNED_INT_2_10_10_10_REV]:{[V.RGBA]:t.RGB10_A2,[V.RGBA_INTEGER]:t.RGB10_A2UI},[ae.UNSIGNED_INT_10F_11F_11F_REV]:{[V.RGB]:t.R11F_G11F_B10F},[ae.UNSIGNED_INT_5_9_9_9_REV]:{[V.RGB]:t.RGB9_E5},[ae.UNSIGNED_INT_24_8]:{[V.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[ae.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[V.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[ae.UNSIGNED_BYTE]:{[V.RGBA]:t.RGBA,[V.RGB]:t.RGB,[V.ALPHA]:t.ALPHA,[V.LUMINANCE]:t.LUMINANCE,[V.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ae.UNSIGNED_SHORT_5_6_5]:{[V.RGB]:t.RGB},[ae.UNSIGNED_SHORT_4_4_4_4]:{[V.RGBA]:t.RGBA},[ae.UNSIGNED_SHORT_5_5_5_1]:{[V.RGBA]:t.RGBA}},e}class cb{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new me,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=_le(e);const n=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=n;for(let i=0;i<n;i++)this.boundTextures[i]=null;this.emptyTextures={};const r=new vh(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new vh(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,n=0){const{gl:r}=this;if(e=e==null?void 0:e.castToBaseTexture(),e!=null&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[n]!==e&&(this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),r.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[n]=e}else this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[n]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:n,boundTextures:r}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<r.length;i++)r[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<r.length;i++)r[i]===e&&(this.currentLocation!==i&&(n.activeTexture(n.TEXTURE0+i),this.currentLocation=i),n.bindTexture(e.target,this.emptyTextures[e.target].texture),r[i]=null)}ensureSamplerType(e){const{boundTextures:n,hasIntegerTextures:r,CONTEXT_UID:i}=this;if(r)for(let s=e-1;s>=0;--s){const o=n[s];o&&o._glTextures[i].samplerType!==pd.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const n=new vh(this.gl.createTexture());return n.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=n,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),n}initTextureType(e,n){var r;n.internalFormat=((r=this.internalFormats[e.type])==null?void 0:r[e.format])??e.format,this.webGLVersion===2&&e.type===ae.HALF_FLOAT?n.type=this.gl.HALF_FLOAT:n.type=e.type}updateTexture(e){var i;const n=e._glTextures[this.CONTEXT_UID];if(!n)return;const r=this.renderer;if(this.initTextureType(e,n),(i=e.resource)!=null&&i.upload(r,e,n))n.samplerType!==pd.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=r.gl;(n.width!==s||n.height!==o||n.dirtyId<0)&&(n.width=s,n.height=o,a.texImage2D(e.target,0,n.internalFormat,s,o,0,e.format,n.type,null))}e.dirtyStyleId!==n.dirtyStyleId&&this.updateTextureStyle(e),n.dirtyId=e.dirtyId}destroyTexture(e,n){const{gl:r}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!n)){const i=this.managedTextures.indexOf(e);i!==-1&&ls(this.managedTextures,i,1)}}updateTextureStyle(e){var r;const n=e._glTextures[this.CONTEXT_UID];n&&((e.mipmap===rr.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?n.mipmap=!1:n.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?n.wrapMode=_r.CLAMP:n.wrapMode=e.wrapMode,(r=e.resource)!=null&&r.style(this.renderer,e,n)||this.setStyle(e,n),n.dirtyStyleId=e.dirtyStyleId)}setStyle(e,n){const r=this.gl;if(n.mipmap&&e.mipmap!==rr.ON_MANUAL&&r.generateMipmap(e.target),r.texParameteri(e.target,r.TEXTURE_WRAP_S,n.wrapMode),r.texParameteri(e.target,r.TEXTURE_WRAP_T,n.wrapMode),n.mipmap){r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===yr.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===yr.LINEAR){const s=Math.min(e.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===yr.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(e.target,r.TEXTURE_MAG_FILTER,e.scaleMode===yr.LINEAR?r.LINEAR:r.NEAREST)}destroy(){this.renderer=null}}cb.extension={type:Z.RendererSystem,name:"texture"};se.add(cb);class hb{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glTransformFeedbacks[r]||this.createGLTransformFeedback(e);n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,n){const{gl:r,renderer:i}=this;n&&i.shader.bind(n),r.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:n,renderer:r,CONTEXT_UID:i}=this,s=n.createTransformFeedback();e._glTransformFeedbacks[i]=s,n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(r.buffer.update(a),a._glBuffers[i].refCount++,n.bindBufferBase(n.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,n){const r=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const l=a._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!n&&s.dispose(a,n))}r&&(n||i.deleteTransformFeedback(r),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}hb.extension={type:Z.RendererSystem,name:"transformFeedback"};se.add(hb);class db{constructor(e){this.renderer=e}init(e){this.screen=new ge(0,0,e.width,e.height),this.element=e.view||ee.ADAPTER.createCanvas(),this.resolution=e.resolution||ee.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,n){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(n*this.resolution);const r=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=r,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${r}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",r,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var n;e&&((n=this.element.parentNode)==null||n.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}db.extension={type:[Z.RendererSystem,Z.CanvasRendererSystem],name:"_view"};se.add(db);ee.PREFER_ENV=Fi.WEBGL2;ee.STRICT_TEXTURE_CACHE=!1;Object.defineProperties(ee,{WRAP_MODE:{get(){return me.defaultOptions.wrapMode},set(t){be("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),me.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return me.defaultOptions.scaleMode},set(t){be("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),me.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return me.defaultOptions.mipmap},set(t){be("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),me.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return me.defaultOptions.anisotropicLevel},set(t){be("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),me.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return be("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),pt.defaultResolution},set(t){pt.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return be("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),pt.defaultMultisample},set(t){pt.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return wn.defaultMaxTextures},set(t){be("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),wn.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return wn.defaultBatchSize},set(t){be("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),wn.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return wn.canUploadSameBuffer},set(t){be("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),wn.canUploadSameBuffer=t}},GC_MODE:{get(){return _n.defaultMode},set(t){be("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),_n.defaultMode=t}},GC_MAX_IDLE:{get(){return _n.defaultMaxIdle},set(t){be("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),_n.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return _n.defaultCheckCountMax},set(t){be("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),_n.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return Tn.defaultVertexPrecision},set(t){be("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Tn.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return Tn.defaultFragmentPrecision},set(t){be("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Tn.defaultFragmentPrecision=t}}});var Si=(t=>(t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(Si||{});class om{constructor(e,n=null,r=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=n,this.priority=r,this.once=i}match(e,n=null){return this.fn===e&&this.context===n}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const n=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),n}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const n=this.next;return this.next=e?null:n,this.previous=null,n}}const Zt=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new om(null,null,1/0),this.deltaMS=1/Zt.targetFPMS,this.elapsedMS=1/Zt.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,n=Si.NORMAL){return this._addListener(new om(t,e,n))}addOnce(t,e,n=Si.NORMAL){return this._addListener(new om(t,e,n,!0))}_addListener(t){let e=this._head.next,n=this._head;if(!e)t.connect(n);else{for(;e;){if(t.priority>e.priority){t.connect(n);break}n=e,e=e.next}t.previous||t.connect(n)}return this._startIfPossible(),this}remove(t,e){let n=this._head.next;for(;n;)n.match(t,e)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*Zt.targetFPMS;const n=this._head;let r=n.next;for(;r;)r=r.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,e)/1e3,Zt.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!Zt._shared){const t=Zt._shared=new Zt;t.autoStart=!0,t._protected=!0}return Zt._shared}static get system(){if(!Zt._system){const t=Zt._system=new Zt;t.autoStart=!0,t._protected=!0}return Zt._system}};let at=Zt;at.targetFPMS=.06;Object.defineProperties(ee,{TARGET_FPMS:{get(){return at.targetFPMS},set(t){be("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),at.targetFPMS=t}}});class fb{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,Si.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?at.shared:new at,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}fb.extension=Z.Application;se.add(fb);const QO=[];se.handleByList(Z.Renderer,QO);function JO(t){for(const e of QO)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var Ele=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Sle=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const eI=Ele,pb=Sle;class mb{constructor(e){this.renderer=e}contextChange(e){let n;if(this.renderer.context.webGLVersion===1){const r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else{const r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r)}n>=Ve.HIGH?this.multisample=Ve.HIGH:n>=Ve.MEDIUM?this.multisample=Ve.MEDIUM:n>=Ve.LOW?this.multisample=Ve.LOW:this.multisample=Ve.NONE}destroy(){}}mb.extension={type:Z.RendererSystem,name:"_multisample"};se.add(mb);class Cle{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class gb{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);n.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:n}=this;n.bindBuffer(e,null)}bindBufferBase(e,n){const{gl:r,CONTEXT_UID:i}=this;if(this.boundBufferBases[n]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[n]=e,r.bindBufferBase(r.UNIFORM_BUFFER,n,s.buffer)}}bindBufferRange(e,n,r){const{gl:i,CONTEXT_UID:s}=this;r=r||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,n||0,o.buffer,r*256,256)}update(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,n.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)n.bufferSubData(e.type,0,e.data);else{const s=e.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,n.bufferData(e.type,e.data,s)}}dispose(e,n){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const r=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),r&&(n||i.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const n=Object.keys(this.managedBuffers);for(let r=0;r<n.length;r++)this.dispose(this.managedBuffers[n[r]],e)}createGLBuffer(e){const{CONTEXT_UID:n,gl:r}=this;return e._glBuffers[n]=new Cle(r.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[n]}}gb.extension={type:Z.RendererSystem,name:"buffer"};se.add(gb);class vb{constructor(e){this.renderer=e}render(e,n){const r=this.renderer;let i,s,o,a;if(n&&(i=n.renderTexture,s=n.clear,o=n.transform,a=n.skipUpdateTransform),this.renderingToScreen=!i,r.runners.prerender.emit(),r.emit("prerender"),r.projection.transform=o,!r.context.isLost){if(i||(this.lastObjectRendered=e),!a){const l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}r.renderTexture.bind(i),r.batch.currentRenderer.start(),(s??r.background.clearBeforeRender)&&r.renderTexture.clear(),e.render(r),r.batch.currentRenderer.flush(),i&&(n.blit&&r.framebuffer.blit(),i.baseTexture.update()),r.runners.postrender.emit(),r.projection.transform=null,r.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}vb.extension={type:Z.RendererSystem,name:"objectRenderer"};se.add(vb);const M0=class extends ZO{constructor(t){super(),this.type=$1.WEBGL,t=Object.assign({},ee.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new On({projectionMatrix:new Ne},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:M0.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(be("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha);const n={hello:t.hello,_plugin:M0.__plugins,background:{alpha:t.backgroundAlpha,color:t.background??t.backgroundColor,clearBeforeRender:t.clearBeforeRender},_view:{height:t.height,width:t.width,autoDensity:t.autoDensity,resolution:t.resolution,view:t.view},context:{antialias:t.antialias,context:t.context,powerPreference:t.powerPreference,premultipliedAlpha:t.premultipliedAlpha,preserveDrawingBuffer:t.preserveDrawingBuffer}};this.options=t,this.startup.run(n)}static test(t){return t!=null&&t.forceCanvas?!1:bO()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return be("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return be("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return be("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return be("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){be("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return be("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.color}set backgroundAlpha(t){be("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return be("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};let ks=M0;ks.extension={type:Z.Renderer,priority:1};ks.__plugins={};ks.__systems={};se.handleByMap(Z.RendererPlugin,ks.__plugins);se.handleByMap(Z.RendererSystem,ks.__systems);se.add(ks);class yb extends ea{constructor(e,n){const{width:r,height:i}=n||{};super(r,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new me;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,n){for(let r=0;r<this.length;r++)e[r]&&(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof ea?this.addResourceAt(e[r],r):this.addResourceAt(j1(e[r],n),r))}dispose(){for(let e=0,n=this.length;e<n;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,n){if(!this.items[n])throw new Error(`Index ${n} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[n].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let n=0;n<this.length;n++)this.items[n].parentTextureArray=e,this.items[n].on("update",e.update,e)}unbind(e){super.unbind(e);for(let n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",e.update,e)}load(){if(this._load)return this._load;const n=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(n).then(()=>{const{realWidth:r,realHeight:i}=this.items[0];return this.resize(r,i),Promise.resolve(this)}),this._load}}class tI extends yb{constructor(e,n){const{width:r,height:i}=n||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:r,height:i}),s&&this.initFromArray(s,n)}addBaseTextureAt(e,n){if(e.resource)this.addResourceAt(e.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=as.TEXTURE_2D_ARRAY}upload(e,n,r){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=e;r.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,i,0,n.format,r.type,null);for(let l=0;l<i;l++){const u=o[l];s[l]<u.dirtyId&&(s[l]=u.dirtyId,u.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,l,u.resource.width,u.resource.height,1,n.format,r.type,u.resource.source))}return!0}}class nI extends Wr{constructor(e){super(e)}static test(e){const{OffscreenCanvas:n}=globalThis;return n&&e instanceof n?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const ul=class extends yb{constructor(t,e){const{width:n,height:r,autoLoad:i,linkBaseTexture:s}=e||{};if(t&&t.length!==ul.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:n,height:r});for(let o=0;o<ul.SIDES;o++)this.items[o].target=as.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=s!==!1,t&&this.initFromArray(t,e),i!==!1&&this.load()}bind(t){super.bind(t),t.target=as.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=as.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,n){const r=this.itemDirtyIds;for(let i=0;i<ul.SIDES;i++){const s=this.items[i];(r[i]<s.dirtyId||n.dirtyId<e.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(t,s,n),r[i]=s.dirtyId):r[i]<-1&&(t.gl.texImage2D(s.target,0,n.internalFormat,e.realWidth,e.realHeight,0,e.format,n.type,null),r[i]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===ul.SIDES}};let bb=ul;bb.SIDES=6;class Ji extends Wr{constructor(e,n){n=n||{};let r,i;typeof e=="string"?(r=Ji.EMPTY,i=e):(r=e,i=null),super(r),this.url=i,this.crossOrigin=n.crossOrigin??!0,this.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,this._load=null,n.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,n)=>{if(this.url===null){e(this);return}try{const r=await ee.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await r.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Fn.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),e(this)}catch(r){if(this.destroyed)return;n(r),this.onError.emit(r)}}),this._load)}upload(e,n,r){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),super.upload(e,n,r)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return Ji._EMPTY=Ji._EMPTY??ee.ADAPTER.createCanvas(0,0),Ji._EMPTY}}const yh=class extends Wr{constructor(t,e){e=e||{},super(ee.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),t(this)},yh.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;Wr.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,n=t.height;if(!e||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let r=e*this.scale,i=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(r=this._overrideWidth||this._overrideHeight/n*e,i=this._overrideHeight||this._overrideWidth/e*n),r=Math.round(r),i=Math.round(i);const s=this.source;s.width=r,s.height=i,s._pixiId=`canvas_${Ei()}`,s.getContext("2d").drawImage(t,0,0,e,n,0,0,r,i),this._resolve(),this._resolve=null}}static getSize(t){const e=yh.SVG_SIZE.exec(t),n={};return e&&(n[e[1]]=Math.round(parseFloat(e[3])),n[e[5]]=Math.round(parseFloat(e[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&yh.SVG_XML.test(t)}};let na=yh;na.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;na.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const F0=class extends Wr{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const n=document.createElement("video");n.setAttribute("preload","auto"),n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);const r=t[0].src||t[0];Wr.crossOrigin(n,r,e.crossorigin);for(let i=0;i<t.length;++i){const s=document.createElement("source");let{src:o,mime:a}=t[i];o=o||t[i];const l=o.split("?").shift().toLowerCase(),u=l.slice(l.lastIndexOf(".")+1);a=a||F0.MIME_TYPES[u]||`video/${u}`,s.src=o,s.type=a,n.appendChild(s)}t=n}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){const e=at.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(at.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(at.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._isConnectedToTicker&&(at.shared.remove(this.update,this),this._isConnectedToTicker=!1);const t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(at.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(at.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t)}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||F0.TYPES.includes(e)}};let Gf=F0;Gf.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];Gf.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};yd.push(Ji,X1,nI,Gf,na,Sa,bb,tI);class Tle{constructor(){this._glTransformFeedbacks={},this.buffers=[],this.disposeRunner=new cn("disposeTransformFeedback")}bindBuffer(e,n){this.buffers[e]=n}destroy(){this.disposeRunner.emit(this,!1)}}const Ale="7.1.4";class uu{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?ge.EMPTY:(e=e||new ge(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,n){const{a:r,b:i,c:s,d:o,tx:a,ty:l}=e,u=r*n.x+s*n.y+a,c=i*n.x+o*n.y+l;this.minX=Math.min(this.minX,u),this.maxX=Math.max(this.maxX,u),this.minY=Math.min(this.minY,c),this.maxY=Math.max(this.maxY,c)}addQuad(e){let n=this.minX,r=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,this.minX=n,this.minY=r,this.maxX=i,this.maxY=s}addFrame(e,n,r,i,s){this.addFrameMatrix(e.worldTransform,n,r,i,s)}addFrameMatrix(e,n,r,i,s){const o=e.a,a=e.b,l=e.c,u=e.d,c=e.tx,h=e.ty;let d=this.minX,f=this.minY,p=this.maxX,m=this.maxY,g=o*n+l*r+c,v=a*n+u*r+h;d=g<d?g:d,f=v<f?v:f,p=g>p?g:p,m=v>m?v:m,g=o*i+l*r+c,v=a*i+u*r+h,d=g<d?g:d,f=v<f?v:f,p=g>p?g:p,m=v>m?v:m,g=o*n+l*s+c,v=a*n+u*s+h,d=g<d?g:d,f=v<f?v:f,p=g>p?g:p,m=v>m?v:m,g=o*i+l*s+c,v=a*i+u*s+h,d=g<d?g:d,f=v<f?v:f,p=g>p?g:p,m=v>m?v:m,this.minX=d,this.minY=f,this.maxX=p,this.maxY=m}addVertexData(e,n,r){let i=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let l=n;l<r;l+=2){const u=e[l],c=e[l+1];i=u<i?u:i,s=c<s?c:s,o=u>o?u:o,a=c>a?c:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,n,r,i){this.addVerticesMatrix(e.worldTransform,n,r,i)}addVerticesMatrix(e,n,r,i,s=0,o=s){const a=e.a,l=e.b,u=e.c,c=e.d,h=e.tx,d=e.ty;let f=this.minX,p=this.minY,m=this.maxX,g=this.maxY;for(let v=r;v<i;v+=2){const b=n[v],y=n[v+1],x=a*b+u*y+h,S=c*y+l*b+d;f=Math.min(f,x-s),m=Math.max(m,x+s),p=Math.min(p,S-o),g=Math.max(g,S+o)}this.minX=f,this.minY=p,this.maxX=m,this.maxY=g}addBounds(e){const n=this.minX,r=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<n?e.minX:n,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,n){const r=e.minX>n.minX?e.minX:n.minX,i=e.minY>n.minY?e.minY:n.minY,s=e.maxX<n.maxX?e.maxX:n.maxX,o=e.maxY<n.maxY?e.maxY:n.maxY;if(r<=s&&i<=o){const a=this.minX,l=this.minY,u=this.maxX,c=this.maxY;this.minX=r<a?r:a,this.minY=i<l?i:l,this.maxX=s>u?s:u,this.maxY=o>c?o:c}}addBoundsMatrix(e,n){this.addFrameMatrix(n,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,n){const r=e.minX>n.x?e.minX:n.x,i=e.minY>n.y?e.minY:n.y,s=e.maxX<n.x+n.width?e.maxX:n.x+n.width,o=e.maxY<n.y+n.height?e.maxY:n.y+n.height;if(r<=s&&i<=o){const a=this.minX,l=this.minY,u=this.maxX,c=this.maxY;this.minX=r<a?r:a,this.minY=i<l?i:l,this.maxX=s>u?s:u,this.maxY=o>c?o:c}}pad(e=0,n=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=n,this.maxY+=n)}addFramePad(e,n,r,i,s,o){e-=s,n-=o,r+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<n?this.minY:n,this.maxY=this.maxY>i?this.maxY:i}}class Ge extends _i{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Gu,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new uu,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const n=Object.keys(e);for(let r=0;r<n.length;++r){const i=n[r];Object.defineProperty(Ge.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,n){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new ge),n=this._boundsRect),this._bounds.getRectangle(n)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new ge),e=this._localBoundsRect),this._localBounds||(this._localBounds=new uu);const n=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=r,this.transform=n,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,n,r=!1){return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,n)}toLocal(e,n,r,i){return n&&(e=n.toGlobal(e,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,n=0,r=1,i=1,s=0,o=0,a=0,l=0,u=0){return this.position.x=e,this.position.y=n,this.scale.x=r||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=l,this.pivot.y=u,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new rI),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*PO}set angle(e){this.transform.rotation=e*OO}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1))}if(this._mask=e,this._mask){const n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++)}}}}class rI extends Ge{constructor(){super(...arguments),this.sortDirty=null}}Ge.prototype.displayObjectUpdateTransform=Ge.prototype.updateTransform;const Ple=new Ne;function Ole(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const D0=class extends Ge{constructor(){super(),this.children=[],this.sortableChildren=D0.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const n=this.getChildIndex(t),r=this.getChildIndex(e);this.children[n]=e,this.children[r]=t,this.onChildrenChange(n<r?n:r)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(t);ls(this.children,n,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],n=this.children.indexOf(e);if(n===-1)return null;e.parent=null,e.transform._parentID=-1,ls(this.children,n,1),this._boundsID++,this.onChildrenChange(n),e.emit("removed",this),this.emit("childRemoved",e,this,n)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,ls(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const n=t,r=e,i=r-n;let s;if(i>0&&i<=r){s=this.children.splice(n,i);for(let o=0;o<s.length;++o)s[o].parent=null,s[o].transform&&(s[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let o=0;o<s.length;++o)s[o].emit("removed",this),this.emit("childRemoved",s[o],this,o);return s}else if(i===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,n=this.children.length;e<n;++e){const r=this.children[e];r._lastSortedIndex=e,!t&&r.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(Ole),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const n=this.children[t];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const n=e._mask.isMaskData?e._mask.maskObject:e._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(e._bounds,n._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const n=super.getLocalBounds(t);if(!e)for(let r=0,i=this.children.length;r<i;++r){const s=this.children[r];s.visible&&s.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let n,r;this.cullArea?(n=this.cullArea,r=this.worldTransform):this._render!==D0.prototype._render&&(n=this.getBounds(!0));const i=t.projection.transform;if(i&&(r?(r=Ple.copyFrom(r),r.prepend(i)):r=i),n&&e.intersects(n,r))this._render(t);else if(this.cullArea)return;for(let s=0,o=this.children.length;s<o;++s){const a=this.children[s],l=a.cullable;a.cullable=l||!this.cullArea,a.render(t),a.cullable=l}}render(t){var e;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(e=this.filters)!=null&&e.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let n=0,r=this.children.length;n<r;++n)this.children[n].render(t)}}renderAdvanced(t){var i,s,o;const e=this.filters,n=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let a=0;a<e.length;a++)e[a].enabled&&this._enabledFilters.push(e[a])}const r=e&&((i=this._enabledFilters)==null?void 0:i.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==it.NONE));if(r&&t.batch.flush(),e&&((s=this._enabledFilters)!=null&&s.length)&&t.filter.push(this,this._enabledFilters),n&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let a=0,l=this.children.length;a<l;++a)this.children[a].render(t)}r&&t.batch.flush(),n&&t.mask.pop(this),e&&((o=this._enabledFilters)!=null&&o.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t==null?void 0:t.children,n=this.removeChildren(0,this.children.length);if(e)for(let r=0;r<n.length;++r)n[r].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};let Dt=D0;Dt.defaultSortableChildren=!1;Dt.prototype.containerUpdateTransform=Dt.prototype.updateTransform;Object.defineProperties(ee,{SORTABLE_CHILDREN:{get(){return Dt.defaultSortableChildren},set(t){be("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),Dt.defaultSortableChildren=t}}});const Ya=new le,Ile=new Uint16Array([0,1,2,0,2,3]);class Di extends Dt{constructor(e){super(),this._anchor=new Dr(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=ce.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||J.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=Ile,this.pluginName="batch",this.isSprite=!0,this._roundPixels=ee.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Qi(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Qi(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const n=this.transform.worldTransform,r=n.a,i=n.b,s=n.c,o=n.d,a=n.tx,l=n.ty,u=this.vertexData,c=e.trim,h=e.orig,d=this._anchor;let f=0,p=0,m=0,g=0;if(c?(p=c.x-d._x*h.width,f=p+c.width,g=c.y-d._y*h.height,m=g+c.height):(p=-d._x*h.width,f=p+h.width,g=-d._y*h.height,m=g+h.height),u[0]=r*p+s*g+a,u[1]=o*g+i*p+l,u[2]=r*f+s*g+a,u[3]=o*g+i*f+l,u[4]=r*f+s*m+a,u[5]=o*m+i*f+l,u[6]=r*p+s*m+a,u[7]=o*m+i*p+l,this._roundPixels){const v=ee.RESOLUTION;for(let b=0;b<u.length;++b)u[b]=Math.round(u[b]*v)/v}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,n=this.vertexTrimmedData,r=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,l=s.c,u=s.d,c=s.tx,h=s.ty,d=-i._x*r.width,f=d+r.width,p=-i._y*r.height,m=p+r.height;n[0]=o*d+l*p+c,n[1]=u*p+a*d+h,n[2]=o*f+l*p+c,n[3]=u*p+a*f+h,n[4]=o*f+l*m+c,n[5]=u*m+a*f+h,n[6]=o*d+l*m+c,n[7]=u*m+a*d+h}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,n=this._texture.orig;!e||e.width===n.width&&e.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new uu),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new ge),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Ya);const n=this._texture.orig.width,r=this._texture.orig.height,i=-n*this.anchor.x;let s=0;return Ya.x>=i&&Ya.x<i+n&&(s=-r*this.anchor.y,Ya.y>=s&&Ya.y<s+r)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,n){const r=e instanceof J?e:J.from(e,n);return new Di(r)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const n=Qi(this.scale.x)||1;this.scale.x=n*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const n=Qi(this.scale.y)||1;this.scale.y=n*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tint}set tint(e){this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16)}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||J.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const iI=new Ne;Ge.prototype._cacheAsBitmap=!1;Ge.prototype._cacheData=null;Ge.prototype._cacheAsBitmapResolution=null;Ge.prototype._cacheAsBitmapMultisample=null;class Rle{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Ge.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new Rle),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});Ge.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};Ge.prototype._initCachedDisplayObject=function(e){var d,f;if((d=this._cacheData)!=null&&d.sprite)return;const n=this.alpha;this.alpha=1,e.batch.flush();const r=this.getLocalBounds(null,!0).clone();if((f=this.filters)!=null&&f.length){const p=this.filters[0].padding;r.pad(p)}r.ceil(ee.RESOLUTION);const i=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),o=e.renderTexture.destinationFrame.clone(),a=e.projection.transform,l=Vr.create({width:r.width,height:r.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:this.cacheAsBitmapMultisample??e.multisample}),u=`cacheAsBitmap_${Ei()}`;this._cacheData.textureCacheId=u,me.addToCache(l.baseTexture,u),J.addToCache(l,u);const c=this.transform.localTransform.copyTo(iI).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:l,clear:!0,transform:c,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=a,e.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;const h=new Di(l);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(r.x/r.width),h.anchor.y=-(r.y/r.height),h.alpha=n,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=h.containsPoint.bind(h)};Ge.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};Ge.prototype._initCachedDisplayObjectCanvas=function(e){var c;if((c=this._cacheData)!=null&&c.sprite)return;const n=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;const i=e.canvasContext.activeContext,s=e._projTransform;n.ceil(ee.RESOLUTION);const o=Vr.create({width:n.width,height:n.height}),a=`cacheAsBitmap_${Ei()}`;this._cacheData.textureCacheId=a,me.addToCache(o.baseTexture,a),J.addToCache(o,a);const l=iI;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=n.x,l.ty-=n.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:l,skipUpdateTransform:!1}),e.canvasContext.activeContext=i,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const u=new Di(o);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-(n.x/n.width),u.anchor.y=-(n.y/n.height),u.alpha=r,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)};Ge.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Ge.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Ge.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,me.removeFromCache(this._cacheData.textureCacheId),J.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Ge.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};Ge.prototype.name=null;Dt.prototype.getChildByName=function(e,n){for(let r=0,i=this.children.length;r<i;r++)if(this.children[r].name===e)return this.children[r];if(n)for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r];if(!s.getChildByName)continue;const o=s.getChildByName(e,!0);if(o)return o}return null};Ge.prototype.getGlobalPosition=function(e=new le,n=!1){return this.parent?this.parent.toGlobal(this.position,e,n):(e.x=this.position.x,e.y=this.position.y),e};var kle=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class sI extends pt{constructor(e=1){super(eI,kle,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const Mle={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Fle=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function Dle(t){const e=Mle[t],n=e.length;let r=Fle,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let l=s.replace("%index%",a.toString());o=a,a>=n&&(o=t-a-1),l=l.replace("%value%",e[o].toString()),i+=l,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",t.toString()),r}const $le=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function Ble(t,e){const n=Math.ceil(t/2);let r=$le,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(n-1)}.0`),i+=a,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",t.toString()),r}class _d extends pt{constructor(e,n=8,r=4,i=pt.defaultResolution,s=5){const o=Ble(s,e),a=Dle(s);super(o,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=r,this.blur=n}apply(e,n,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/n.width):this.uniforms.strength=1/r.height*(r.height/n.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/n.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,n,r,i);else{const s=e.getFilterTexture(),o=e.renderer;let a=n,l=s;this.state.blend=!1,e.applyFilter(this,a,l,Wn.CLEAR);for(let u=1;u<this.passes-1;u++){e.bindAndClear(a,Wn.BLIT),this.uniforms.uSampler=l;const c=l;l=a,a=c,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,l,r,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class oI extends pt{constructor(e=8,n=4,r=pt.defaultResolution,i=5){super(),this.blurXFilter=new _d(!0,e,n,r,i),this.blurYFilter=new _d(!1,e,n,r,i),this.resolution=r,this.quality=n,this.blur=e,this.repeatEdgePixels=!1}apply(e,n,r,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,n,a,Wn.CLEAR),this.blurYFilter.apply(e,a,r,i),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,n,r,i):this.blurXFilter.apply(e,n,r,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var Nle=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class Ed extends pt{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(pb,Nle,e),this.alpha=1}_loadMatrix(e,n=!1){let r=e;n&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r}_multiply(e,n,r){return e[0]=n[0]*r[0]+n[1]*r[5]+n[2]*r[10]+n[3]*r[15],e[1]=n[0]*r[1]+n[1]*r[6]+n[2]*r[11]+n[3]*r[16],e[2]=n[0]*r[2]+n[1]*r[7]+n[2]*r[12]+n[3]*r[17],e[3]=n[0]*r[3]+n[1]*r[8]+n[2]*r[13]+n[3]*r[18],e[4]=n[0]*r[4]+n[1]*r[9]+n[2]*r[14]+n[3]*r[19]+n[4],e[5]=n[5]*r[0]+n[6]*r[5]+n[7]*r[10]+n[8]*r[15],e[6]=n[5]*r[1]+n[6]*r[6]+n[7]*r[11]+n[8]*r[16],e[7]=n[5]*r[2]+n[6]*r[7]+n[7]*r[12]+n[8]*r[17],e[8]=n[5]*r[3]+n[6]*r[8]+n[7]*r[13]+n[8]*r[18],e[9]=n[5]*r[4]+n[6]*r[9]+n[7]*r[14]+n[8]*r[19]+n[9],e[10]=n[10]*r[0]+n[11]*r[5]+n[12]*r[10]+n[13]*r[15],e[11]=n[10]*r[1]+n[11]*r[6]+n[12]*r[11]+n[13]*r[16],e[12]=n[10]*r[2]+n[11]*r[7]+n[12]*r[12]+n[13]*r[17],e[13]=n[10]*r[3]+n[11]*r[8]+n[12]*r[13]+n[13]*r[18],e[14]=n[10]*r[4]+n[11]*r[9]+n[12]*r[14]+n[13]*r[19]+n[14],e[15]=n[15]*r[0]+n[16]*r[5]+n[17]*r[10]+n[18]*r[15],e[16]=n[15]*r[1]+n[16]*r[6]+n[17]*r[11]+n[18]*r[16],e[17]=n[15]*r[2]+n[16]*r[7]+n[17]*r[12]+n[18]*r[17],e[18]=n[15]*r[3]+n[16]*r[8]+n[17]*r[13]+n[18]*r[18],e[19]=n[15]*r[4]+n[16]*r[9]+n[17]*r[14]+n[18]*r[19]+n[19],e}_colorMatrix(e){const n=new Float32Array(e);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n}brightness(e,n){const r=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(r,n)}tint(e,n){const r=e>>16&255,i=e>>8&255,s=e&255,o=[r/255,0,0,0,0,0,i/255,0,0,0,0,0,s/255,0,0,0,0,0,1,0];this._loadMatrix(o,n)}greyscale(e,n){const r=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(r,n)}blackAndWhite(e){const n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,e)}hue(e,n){e=(e||0)/180*Math.PI;const r=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),l=r+(1-r)*o,u=o*(1-r)-a*i,c=o*(1-r)+a*i,h=o*(1-r)+a*i,d=r+o*(1-r),f=o*(1-r)-a*i,p=o*(1-r)-a*i,m=o*(1-r)+a*i,g=r+o*(1-r),v=[l,u,c,0,0,h,d,f,0,0,p,m,g,0,0,0,0,0,1,0];this._loadMatrix(v,n)}contrast(e,n){const r=(e||0)+1,i=-.5*(r-1),s=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(s,n)}saturate(e=0,n){const r=e*2/3+1,i=(r-1)*-.5,s=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(s,n)}desaturate(){this.saturate(-1)}negative(e){const n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,e)}sepia(e){const n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,e)}technicolor(e){const n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,e)}polaroid(e){const n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,e)}toBGR(e){const n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,e)}kodachrome(e){const n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,e)}browni(e){const n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,e)}vintage(e){const n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,e)}colorTone(e,n,r,i,s){e=e||.2,n=n||.15,r=r||16770432,i=i||3375104;const o=(r>>16&255)/255,a=(r>>8&255)/255,l=(r&255)/255,u=(i>>16&255)/255,c=(i>>8&255)/255,h=(i&255)/255,d=[.3,.59,.11,0,0,o,a,l,e,0,u,c,h,n,0,o-u,a-c,l-h,0,0];this._loadMatrix(d,s)}night(e,n){e=e||.1;const r=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(r,n)}predator(e,n){const r=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(r,n)}lsd(e){const n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}Ed.prototype.grayscale=Ed.prototype.greyscale;var Lle=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,Ule=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class aI extends pt{constructor(e,n){const r=new Ne;e.renderable=!1,super(Ule,Lle,{mapSampler:e._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=r,n==null&&(n=20),this.scale=new le(n,n)}apply(e,n,r,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,n,r,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var jle=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,zle=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class lI extends pt{constructor(){super(zle,jle)}}var Hle=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class uI extends pt{constructor(e=.5,n=Math.random()){super(pb,Hle,{uNoise:0,uSeed:0}),this.noise=e,this.seed=n}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const $0={AlphaFilter:sI,BlurFilter:oI,BlurFilterPass:_d,ColorMatrixFilter:Ed,DisplacementFilter:aI,FXAAFilter:lI,NoiseFilter:uI};Object.entries($0).forEach(([t,e])=>{Object.defineProperty($0,t,{get(){return be("7.1.0",`filters.${t} has moved to ${t}`),e}})});class Ca{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Ca.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new le,this.page=new le,this.AT_TARGET=1,this.BUBBLING_PHASE=2,this.CAPTURING_PHASE=3,this.NONE=0,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,n,r){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,n,r,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class cu extends Ca{constructor(){super(...arguments),this.client=new le,this.movement=new le,this.offset=new le,this.global=new le,this.screen=new le}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,n,r,i,s,o,a,l,u,c,h,d,f,p,m){throw new Error("Method not implemented.")}}class vn extends cu{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class ws extends cu{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}ws.DOM_DELTA_PIXEL=0;ws.DOM_DELTA_LINE=1;ws.DOM_DELTA_PAGE=2;const Gle=2048,Wle=new le,am=new le;class cI{constructor(e){this.dispatch=new _i,this.moveOnAll=!1,this.mappingState={trackingData:{}},this.eventPool=new Map,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,n){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:n,priority:0}),this.mappingTable[e].sort((r,i)=>r.priority-i.priority)}dispatchEvent(e,n){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,n),this.dispatch.emit(n||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const n=this.mappingTable[e.type];if(n)for(let r=0,i=n.length;r<i;r++)n[r].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,n){const r=this.hitTestRecursive(this.rootTarget,this.rootTarget.interactive,Wle.set(e,n),this.hitTestFn,this.hitPruneFn);return r&&r[0]}propagate(e,n){if(!e.target)return;const r=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=r.length-1;i<s;i++)if(e.currentTarget=r[i],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,n),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=r.length-2;i>=0;i--)if(e.currentTarget=r[i],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,n,r=this.rootTarget){e.eventPhase=e.BUBBLING_PHASE;const i=r.children;if(i)for(let s=0;s<i.length;s++)this.all(e,n,i[s]);e.currentTarget=r,this.notifyTarget(e,n)}propagationPath(e){const n=[e];for(let r=0;r<Gle&&e!==this.rootTarget;r++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");n.push(e.parent),e=e.parent}return n.reverse(),n}hitTestRecursive(e,n,r,i,s){if(!e||!e.visible||s(e,r))return null;if(e.interactiveChildren&&e.children){const o=e.children;for(let a=o.length-1;a>=0;a--){const l=o[a],u=this.hitTestRecursive(l,n||l.interactive,r,i,s);if(u){if(u.length>0&&!u[u.length-1].parent)continue;return(u.length>0||e.interactive)&&u.push(e),u}}}return n&&i(e,r)?e.interactive?[e]:[]:null}hitPruneFn(e,n){var r;if(e.hitArea&&(e.worldTransform.applyInverse(n,am),!e.hitArea.contains(am.x,am.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((r=i.containsPoint)!=null&&r.call(i,n)))return!0}return!1}hitTestFn(e,n){return e.hitArea?!0:e.containsPoint?e.containsPoint(n):!1}notifyTarget(e,n){var s,o;n=n??e.type;const r=`on${n}`;(o=(s=e.currentTarget)[r])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${n}capture`:n;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,n)}mapPointerDown(e){if(!(e instanceof vn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerdown"),n.pointerType==="touch")this.dispatchEvent(n,"touchstart");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const i=n.button===2;this.dispatchEvent(n,i?"rightdown":"mousedown")}const r=this.trackingData(e.pointerId);r.pressTargetsByButton[e.button]=n.composedPath(),this.freeEvent(n)}mapPointerMove(e){var a,l;if(!(e instanceof vn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.createPointerEvent(e),r=n.pointerType==="mouse"||n.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((a=i.overTargets)==null?void 0:a.length)>0&&s!==n.target){const u=e.type==="mousemove"?"mouseout":"pointerout",c=this.createPointerEvent(e,u,s);if(this.dispatchEvent(c,"pointerout"),r&&this.dispatchEvent(c,"mouseout"),!n.composedPath().includes(s)){const h=this.createPointerEvent(e,"pointerleave",s);for(h.eventPhase=h.AT_TARGET;h.target&&!n.composedPath().includes(h.target);)h.currentTarget=h.target,this.notifyTarget(h),r&&this.notifyTarget(h,"mouseleave"),h.target=h.target.parent;this.freeEvent(h)}this.freeEvent(c)}if(s!==n.target){const u=e.type==="mousemove"?"mouseover":"pointerover",c=this.clonePointerEvent(n,u);this.dispatchEvent(c,"pointerover"),r&&this.dispatchEvent(c,"mouseover");let h=s==null?void 0:s.parent;for(;h&&h!==this.rootTarget.parent&&h!==n.target;)h=h.parent;if(!h||h===this.rootTarget.parent){const f=this.clonePointerEvent(n,"pointerenter");for(f.eventPhase=f.AT_TARGET;f.target&&f.target!==s&&f.target!==this.rootTarget.parent;)f.currentTarget=f.target,this.notifyTarget(f),r&&this.notifyTarget(f,"mouseenter"),f.target=f.target.parent;this.freeEvent(f)}this.freeEvent(c)}const o=this.moveOnAll?"all":"dispatchEvent";this[o](n,"pointermove"),this.all(n,"globalpointermove"),n.pointerType==="touch"&&(this[o](n,"touchmove"),this.all(n,"globaltouchmove")),r&&(this[o](n,"mousemove"),this.all(n,"globalmousemove"),this.cursor=(l=n.target)==null?void 0:l.cursor),i.overTargets=n.composedPath(),this.freeEvent(n)}mapPointerOver(e){var o;if(!(e instanceof vn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId),r=this.createPointerEvent(e),i=r.pointerType==="mouse"||r.pointerType==="pen";this.dispatchEvent(r,"pointerover"),i&&this.dispatchEvent(r,"mouseover"),r.pointerType==="mouse"&&(this.cursor=(o=r.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(r,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;n.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof vn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId);if(n.overTargets){const r=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(n.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),r&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),r&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;n.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof vn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=performance.now(),r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerup"),r.pointerType==="touch")this.dispatchEvent(r,"touchend");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const a=r.button===2;this.dispatchEvent(r,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!r.composedPath().includes(s)){let a=s;for(;a&&!r.composedPath().includes(a);){if(r.currentTarget=a,this.notifyTarget(r,"pointerupoutside"),r.pointerType==="touch")this.notifyTarget(r,"touchendoutside");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const l=r.button===2;this.notifyTarget(r,l?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(r,"click");a.target=o,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:n});const l=i.clicksByButton[e.button];if(l.target===a.target&&n-l.timeStamp<200?++l.clickCount:l.clickCount=1,l.target=a.target,l.timeStamp=n,a.detail=l.clickCount,a.pointerType==="mouse"){const u=a.button===2;this.dispatchEvent(a,u?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(r)}mapPointerUpOutside(e){if(!(e instanceof vn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId),r=this.findMountedTarget(n.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(r){let s=r;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete n.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof ws)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const n=this.createWheelEvent(e);this.dispatchEvent(n),this.freeEvent(n)}findMountedTarget(e){if(!e)return null;let n=e[0];for(let r=1;r<e.length&&e[r].parent===n;r++)n=e[r];return n}createPointerEvent(e,n,r){const i=this.allocateEvent(vn);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=r??this.hitTest(i.global.x,i.global.y),typeof n=="string"&&(i.type=n),i}createWheelEvent(e){const n=this.allocateEvent(ws);return this.copyWheelData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.nativeEvent=e.nativeEvent,n.originalEvent=e,n.target=this.hitTest(n.global.x,n.global.y),n}clonePointerEvent(e,n){const r=this.allocateEvent(vn);return r.nativeEvent=e.nativeEvent,r.originalEvent=e.originalEvent,this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.target=e.target,r.path=e.composedPath().slice(),r.type=n??r.type,r}copyWheelData(e,n){n.deltaMode=e.deltaMode,n.deltaX=e.deltaX,n.deltaY=e.deltaY,n.deltaZ=e.deltaZ}copyPointerData(e,n){e instanceof vn&&n instanceof vn&&(n.pointerId=e.pointerId,n.width=e.width,n.height=e.height,n.isPrimary=e.isPrimary,n.pointerType=e.pointerType,n.pressure=e.pressure,n.tangentialPressure=e.tangentialPressure,n.tiltX=e.tiltX,n.tiltY=e.tiltY,n.twist=e.twist)}copyMouseData(e,n){e instanceof cu&&n instanceof cu&&(n.altKey=e.altKey,n.button=e.button,n.buttons=e.buttons,n.client.copyFrom(e.client),n.ctrlKey=e.ctrlKey,n.metaKey=e.metaKey,n.movement.copyFrom(e.movement),n.screen.copyFrom(e.screen),n.global.copyFrom(e.global))}copyData(e,n){n.isTrusted=e.isTrusted,n.srcElement=e.srcElement,n.timeStamp=performance.now(),n.type=e.type,n.detail=e.detail,n.view=e.view,n.which=e.which,n.layer.copyFrom(e.layer),n.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const n=this.eventPool.get(e).pop()||new e(this);return n.eventPhase=n.NONE,n.currentTarget=null,n.path=null,n.target=null,n}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const n=e.constructor;this.eventPool.has(n)||this.eventPool.set(n,[]),this.eventPool.get(n).push(e)}notifyListeners(e,n){const r=e.currentTarget._events[n];if(r)if("fn"in r)r.once&&e.currentTarget.removeListener(n,r.fn,void 0,!0),r.fn.call(r.context,e);else for(let i=0,s=r.length;i<s&&!e.propagationImmediatelyStopped;i++)r[i].once&&e.currentTarget.removeListener(n,r[i].fn,void 0,!0),r[i].fn.call(r[i].context,e)}}const Vle=1,Xle={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"};class xb{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new cI(null),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new vn(null),this.rootWheelEvent=new ws(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}init(){const{view:e,resolution:n}=this.renderer;this.setTargetElement(e),this.resolution=n}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let n=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(n=!1),this.currentCursor===e)return;this.currentCursor=e;const r=this.cursorStyles[e];if(r)switch(typeof r){case"string":n&&(this.domElement.style.cursor=r);break;case"function":r(e);break;case"object":n&&Object.assign(this.domElement.style,r);break}else n&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}onPointerDown(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);this.autoPreventDefault&&n[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let r=0,i=n.length;r<i;r++){const s=n[r],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);for(let r=0,i=n.length;r<i;r++){const s=this.bootstrapEvent(this.rootPointerEvent,n[r]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;let n=e.target;e.composedPath&&e.composedPath().length>0&&(n=e.composedPath()[0]);const r=n!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let s=0,o=i.length;s<o;s++){const a=this.bootstrapEvent(this.rootPointerEvent,i[s]);a.type+=r,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);for(let r=0,i=n.length;r<i;r++){const s=this.bootstrapEvent(this.rootPointerEvent,n[r]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){const n=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(n)}setTargetElement(e){this.removeEvents(),this.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,n,r){let i;this.domElement.parentElement?i=this.domElement.getBoundingClientRect():i={x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const s=1/this.resolution;e.x=(n-i.left)*(this.domElement.width/i.width)*s,e.y=(r-i.top)*(this.domElement.height/i.height)*s}normalizeToPointerData(e){const n=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let r=0,i=e.changedTouches.length;r<i;r++){const s=e.changedTouches[r];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,n.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const r=e;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=Vle),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,n.push(r)}else n.push(e);return n}normalizeWheelEvent(e){const n=this.rootWheelEvent;return this.transferMouseData(n,e),n.deltaX=e.deltaX,n.deltaY=e.deltaY,n.deltaZ=e.deltaZ,n.deltaMode=e.deltaMode,this.mapPositionToPoint(n.screen,e.clientX,e.clientY),n.global.copyFrom(n.screen),n.offset.copyFrom(n.screen),n.nativeEvent=e,n.type=e.type,n}bootstrapEvent(e,n){return e.originalEvent=null,e.nativeEvent=n,e.pointerId=n.pointerId,e.width=n.width,e.height=n.height,e.isPrimary=n.isPrimary,e.pointerType=n.pointerType,e.pressure=n.pressure,e.tangentialPressure=n.tangentialPressure,e.tiltX=n.tiltX,e.tiltY=n.tiltY,e.twist=n.twist,this.transferMouseData(e,n),this.mapPositionToPoint(e.screen,n.clientX,n.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=n.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=Xle[e.type]||e.type),e}transferMouseData(e,n){e.isTrusted=n.isTrusted,e.srcElement=n.srcElement,e.timeStamp=performance.now(),e.type=n.type,e.altKey=n.altKey,e.button=n.button,e.buttons=n.buttons,e.client.x=n.clientX,e.client.y=n.clientY,e.ctrlKey=n.ctrlKey,e.metaKey=n.metaKey,e.movement.x=n.movementX,e.movement.y=n.movementY,e.page.x=n.pageX,e.page.y=n.pageY,e.relatedTarget=null,e.shiftKey=n.shiftKey}}xb.extension={name:"events",type:[Z.RendererSystem,Z.CanvasRendererSystem]};se.add(xb);const hI={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,interactive:!1,interactiveChildren:!0,hitArea:null,addEventListener(t,e,n){const r=typeof n=="boolean"&&n||typeof n=="object"&&n.capture,i=typeof e=="function"?void 0:e;t=r?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,n){const r=typeof n=="boolean"&&n||typeof n=="object"&&n.capture,i=typeof e=="function"?void 0:e;t=r?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof Ca))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};Ge.mixin(hI);const dI={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Ge.mixin(dI);const Yle=9,jc=100,qle=0,Kle=0,wS=2,_S=1,Zle=-1e3,Qle=-1e3,Jle=2;class wb{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Yn.tablet||Yn.phone)&&this.createTouchHook();const n=document.createElement("div");n.style.width=`${jc}px`,n.style.height=`${jc}px`,n.style.position="absolute",n.style.top=`${qle}px`,n.style.left=`${Kle}px`,n.style.zIndex=wS.toString(),this.div=n,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${_S}px`,e.style.height=`${_S}px`,e.style.position="absolute",e.style.top=`${Zle}px`,e.style.left=`${Qle}px`,e.style.zIndex=Jle.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const n=e.children;if(n)for(let r=0;r<n.length;r++)this.updateAccessibleObjects(n[r])}update(){const e=performance.now();if(Yn.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:n,y:r,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:l}=this.renderer,u=i/o*l,c=s/a*l;let h=this.div;h.style.left=`${n}px`,h.style.top=`${r}px`,h.style.width=`${o}px`,h.style.height=`${a}px`;for(let d=0;d<this.children.length;d++){const f=this.children[d];if(f.renderId!==this.renderId)f._accessibleActive=!1,ls(this.children,d,1),this.div.removeChild(f._accessibleDiv),this.pool.push(f._accessibleDiv),f._accessibleDiv=null,d--;else{h=f._accessibleDiv;let p=f.hitArea;const m=f.worldTransform;f.hitArea?(h.style.left=`${(m.tx+p.x*m.a)*u}px`,h.style.top=`${(m.ty+p.y*m.d)*c}px`,h.style.width=`${p.width*m.a*u}px`,h.style.height=`${p.height*m.d*c}px`):(p=f.getBounds(),this.capHitArea(p),h.style.left=`${p.x*u}px`,h.style.top=`${p.y*c}px`,h.style.width=`${p.width*u}px`,h.style.height=`${p.height*c}px`,h.title!==f.accessibleTitle&&f.accessibleTitle!==null&&(h.title=f.accessibleTitle),h.getAttribute("aria-label")!==f.accessibleHint&&f.accessibleHint!==null&&h.setAttribute("aria-label",f.accessibleHint)),(f.accessibleTitle!==h.title||f.tabIndex!==h.tabIndex)&&(h.title=f.accessibleTitle,h.tabIndex=f.tabIndex,this.debug&&this.updateDebugHTML(h))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:n,height:r}=this.renderer;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>r&&(e.height=r-e.y)}addChild(e){let n=this.pool.pop();n||(n=document.createElement("button"),n.style.width=`${jc}px`,n.style.height=`${jc}px`,n.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",n.style.position="absolute",n.style.zIndex=wS.toString(),n.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?n.setAttribute("aria-live","off"):n.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?n.setAttribute("aria-relevant","additions"):n.setAttribute("aria-relevant","text"),n.addEventListener("click",this._onClick.bind(this)),n.addEventListener("focus",this._onFocus.bind(this)),n.addEventListener("focusout",this._onFocusOut.bind(this))),n.style.pointerEvents=e.accessiblePointerEvents,n.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?n.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(n.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&n.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(n),e._accessibleActive=!0,e._accessibleDiv=n,n.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,n){const{displayObject:r}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new Ca(i),{target:r});i.rootTarget=this.renderer.lastObjectRendered,n.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===Yle&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}wb.extension={name:"accessibility",type:[Z.RendererPlugin,Z.CanvasRendererPlugin]};se.add(wb);const B0=class{constructor(t){this.stage=new Dt,t=Object.assign({forceCanvas:!1},t),this.renderer=JO(t),B0._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(t,e){const n=B0._plugins.slice(0);n.reverse(),n.forEach(r=>{r.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};let Wf=B0;Wf._plugins=[];se.handleByList(Z.Application,Wf._plugins);class _b{static init(e){Object.defineProperty(this,"resizeTo",{set(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let n,r;if(this._resizeTo===globalThis.window)n=globalThis.innerWidth,r=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;n=i,r=s}this.renderer.resize(n,r),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}_b.extension=Z.Application;se.add(_b);const ES={loader:Z.LoadParser,resolver:Z.ResolveParser,cache:Z.CacheParser,detection:Z.DetectionParser};se.handle(Z.Asset,t=>{const e=t.ref;Object.entries(ES).filter(([n])=>!!e[n]).forEach(([n,r])=>se.add(Object.assign(e[n],{extension:e[n].extension??r})))},t=>{const e=t.ref;Object.keys(ES).filter(n=>!!e[n]).forEach(n=>se.remove(e[n]))});class eue{constructor(e,n=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=n}add(e){e.forEach(n=>{this._assetList.push(n)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],n=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<n;r++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function Eb(t,e){if(Array.isArray(e)){for(const n of e)if(t.startsWith(`data:${n}`))return!0;return!1}return t.startsWith(`data:${e}`)}function Vu(t,e){const n=t.split("?")[0],r=gt.extname(n).toLowerCase();return Array.isArray(e)?e.includes(r):r===e}const Er=(t,e)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"?e(n):n):t),Sd=(t,e)=>{const n=e.split("?")[1];return n&&(t+=`?${n}`),t};function fI(t,e,n,r,i){const s=e[n];for(let o=0;o<s.length;o++){const a=s[o];n<e.length-1?fI(t.replace(r[n],a),e,n+1,r,i):i.push(t.replace(r[n],a))}}function pI(t){const e=/\{(.*?)\}/g,n=t.match(e),r=[];if(n){const i=[];n.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),fI(t,i,0,n,r)}else r.push(t);return r}const hu=t=>!Array.isArray(t);class tue{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const n=this._cache.get(e);return n||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),n}set(e,n){const r=Er(e);let i;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.test(n)){i=l.getCacheableAssets(r,n);break}}i||(i={},r.forEach(a=>{i[a]=n}));const s=Object.keys(i),o={cacheKeys:s,keys:r};if(r.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==n&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),n instanceof J){const a=n;r.forEach(l=>{a.baseTexture!==J.EMPTY.baseTexture&&me.addToCache(a.baseTexture,l),J.addToCache(a,l)})}}remove(e){if(this._cacheMap.get(e),!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const n=this._cacheMap.get(e);n.cacheKeys.forEach(i=>{this._cache.delete(i)}),n.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const uo=new tue;class nue{constructor(){this._parsers=[],this.promiseCache={}}reset(){this.promiseCache={}}_getLoadPromiseAndParser(e,n){const r={promise:null,parser:null};return r.promise=(async()=>{var s,o;let i=null;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.load&&((s=l.test)!=null&&s.call(l,e,n,this))){i=await l.load(e,n,this),r.parser=l;break}}if(!r.parser)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has being added`),null;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];l.parse&&l.parse&&await((o=l.testParse)==null?void 0:o.call(l,i,n,this))&&(i=await l.parse(i,n,this)||i,r.parser=l)}return i})(),r}async load(e,n){let r=0;const i={},s=hu(e),o=Er(e,u=>({src:u})),a=o.length,l=o.map(async u=>{const c=gt.toAbsolute(u.src);if(!i[u.src])try{this.promiseCache[c]||(this.promiseCache[c]=this._getLoadPromiseAndParser(c,u)),i[u.src]=await this.promiseCache[c].promise,n&&n(++r/a)}catch(h){throw delete this.promiseCache[c],delete i[u.src],new Error(`[Loader.load] Failed to load ${c}.
${h}`)}});return await Promise.all(l),s?i[o[0].src]:i}async unload(e){const r=Er(e,i=>({src:i})).map(async i=>{var a,l;const s=gt.toAbsolute(i.src),o=this.promiseCache[s];if(o){const u=await o.promise;(l=(a=o.parser)==null?void 0:a.unload)==null||l.call(a,u,i,this),delete this.promiseCache[s]}});await Promise.all(r)}get parsers(){return this._parsers}}var or=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(or||{});const mI={extension:{type:Z.LoadParser,priority:or.Low},test(t){return gt.extname(t).toLowerCase()===".json"},async load(t){return await(await ee.ADAPTER.fetch(t)).json()}};se.add(mI);const gI={extension:{type:Z.LoadParser,priority:or.Low},test(t){return gt.extname(t).toLowerCase()===".txt"},async load(t){return await(await ee.ADAPTER.fetch(t)).text()}};se.add(gI);const rue=["normal","bold","100","200","300","400","500","600","700","800","900"],iue=[".ttf",".otf",".woff",".woff2"],sue=["font/ttf","font/otf","font/woff","font/woff2"];function vI(t){const e=gt.extname(t);return gt.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ")}const yI={extension:{type:Z.LoadParser,priority:or.Low},test(t){return Eb(t,sue)||Vu(t,iue)},async load(t,e){var r,i,s;const n=ee.ADAPTER.getFontFaceSet();if(n){const o=[],a=((r=e.data)==null?void 0:r.family)??vI(t),l=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(c=>rue.includes(c)))??["normal"],u=e.data??{};for(let c=0;c<l.length;c++){const h=l[c],d=new FontFace(a,`url(${encodeURI(t)})`,{...u,weight:h});await d.load(),n.add(d),o.push(d)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>ee.ADAPTER.getFontFaceSet().delete(e))}};se.add(yI);let SS=0,lm;const oue="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",aue={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${oue}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},lue={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let um;class uue{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const n=URL.createObjectURL(new Blob([aue.code],{type:"application/javascript"})),r=new Worker(n);r.addEventListener("message",i=>{r.terminate(),URL.revokeObjectURL(n),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){lm===void 0&&(lm=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<lm&&(um||(um=URL.createObjectURL(new Blob([lue.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(um),e.addEventListener("message",n=>{this.complete(n.data),this.returnWorker(n.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,n){await this._initWorkers();const r=new Promise((i,s)=>{this.queue.push({id:e,arguments:n,resolve:i,reject:s})});return this.next(),r}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const n=this.queue.pop(),r=n.id;this.resolveHash[SS]={resolve:n.resolve,reject:n.reject},e.postMessage({data:n.arguments,uuid:SS++,id:r})}}const CS=new uue;function Xu(t,e,n){const r=new J(t);return r.baseTexture.on("dispose",()=>{delete e.promiseCache[n]}),r}const cue=[".jpeg",".jpg",".png",".webp",".avif"],hue=["image/jpeg","image/png","image/webp","image/avif"];async function bI(t){const e=await ee.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const n=await e.blob();return await createImageBitmap(n)}const ra={extension:{type:Z.LoadParser,priority:or.High},config:{preferWorkers:!0},test(t){return Eb(t,hue)||Vu(t,cue)},async load(t,e,n){let r=null;globalThis.createImageBitmap?this.config.preferWorkers&&await CS.isImageBitmapSupported()?r=await CS.loadImageBitmap(t):r=await bI(t):r=await new Promise(s=>{r=new Image,r.crossOrigin="anonymous",r.src=t,r.complete?s(r):r.onload=()=>{s(r)}});const i=new me(r,{resolution:Hr(t),...e.data});return i.resource.src=t,Xu(i,n,t)},unload(t){t.destroy(!0)}};se.add(ra);const xI={extension:{type:Z.LoadParser,priority:or.High},test(t){return gt.extname(t).toLowerCase()===".svg"},async testParse(t){return na.test(t)},async parse(t,e,n){var o,a,l;const r=new na(t,(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions),i=new me(r,{resolution:Hr(t),...e==null?void 0:e.data});i.resource.src=t;const s=Xu(i,n,t);return(l=(a=e==null?void 0:e.data)==null?void 0:a.resourceOptions)!=null&&l.autoLoad||await r.load(),s},async load(t,e){return(await ee.ADAPTER.fetch(t)).text()},unload:ra.unload};se.add(xI);class due{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,n)=>`${e}${this._bundleIdConnector}${n}`,extractAssetIdFromBundle:(e,n)=>n.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(n=>{this._preferredOrder.push(n),n.priority||(n.priority=Object.keys(n.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const n=e;this._defaultSearchParams=Object.keys(n).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(n[r])}`).join("&")}}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(n=>{this.addBundle(n.name,n.assets)})}addBundle(e,n){const r=[];Array.isArray(n)?n.forEach(i=>{if(typeof i.name=="string"){const s=this._createBundleAssetId(e,i.name);r.push(s),this.add([i.name,s],i.srcs,i.data)}else{const s=i.name.map(o=>this._createBundleAssetId(e,o));s.forEach(o=>{r.push(o)}),this.add([...i.name,...s],i.srcs)}}):Object.keys(n).forEach(i=>{r.push(this._createBundleAssetId(e,i)),this.add([i,this._createBundleAssetId(e,i)],n[i])}),this._bundles[e]=r}add(e,n,r){const i=Er(e);i.forEach(o=>{this.hasKey(o)&&console.warn(`[Resolver] already has key: ${o} overwriting`)}),Array.isArray(n)||(typeof n=="string"?n=pI(n):n=[n]);const s=n.map(o=>{let a=o;if(typeof o=="string"){let l=!1;for(let u=0;u<this._parsers.length;u++){const c=this._parsers[u];if(c.test(o)){a=c.parse(o),l=!0;break}}l||(a={src:o})}return a.format||(a.format=a.src.split(".").pop()),a.alias||(a.alias=i),(this._basePath||this._rootPath)&&(a.src=gt.toAbsolute(a.src,this._basePath,this._rootPath)),a.src=this._appendDefaultSearchParams(a.src),a.data=a.data??r,a});i.forEach(o=>{this._assetMap[o]=s})}resolveBundle(e){const n=hu(e);e=Er(e);const r={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const l in o){const u=o[l];a[this._extractAssetIdFromBundle(i,l)]=u}r[i]=a}}),n?r[e[0]]:r}resolveUrl(e){const n=this.resolve(e);if(typeof e!="string"){const r={};for(const i in n)r[i]=n[i].src;return r}return n.src}resolve(e){const n=hu(e);e=Er(e);const r={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=this._getPreferredOrder(s),a=s[0];o==null||o.priority.forEach(l=>{o.params[l].forEach(u=>{const c=s.filter(h=>h[l]?h[l]===u:!1);c.length&&(s=c)})}),this._resolverHash[i]=s[0]??a}else{let s=i;(this._basePath||this._rootPath)&&(s=gt.toAbsolute(s,this._basePath,this._rootPath)),s=this._appendDefaultSearchParams(s),this._resolverHash[i]={src:s}}r[i]=this._resolverHash[i]}),n?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let n=0;n<e.length;n++){const r=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(r.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const n=/\?/.test(e)?"&":"?";return`${e}${n}${this._defaultSearchParams}`}}class wI{constructor(){this._detections=[],this._initialized=!1,this.resolver=new due,this.loader=new nue,this.cache=uo,this._backgroundLoader=new eue(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o,a;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let l=e.manifest;typeof l=="string"&&(l=await this.load(l)),this.resolver.addManifest(l)}const n=((s=e.texturePreference)==null?void 0:s.resolution)??1,r=typeof n=="number"?[n]:n;let i=[];if((o=e.texturePreference)!=null&&o.format){const l=(a=e.texturePreference)==null?void 0:a.format;i=typeof l=="string"?[l]:l;for(const u of this._detections)await u.test()||(i=await u.remove(i))}else for(const l of this._detections)await l.test()&&(i=await l.add(i));this.resolver.prefer({params:{format:i,resolution:r}})}add(e,n,r){this.resolver.add(e,n,r)}async load(e,n){this._initialized||await this.init();const r=hu(e),i=Er(e).map(a=>typeof a!="string"?(this.resolver.add(a.src,a),a.src):(this.resolver.hasKey(a)||this.resolver.add(a,a),a)),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,n);return r?o[i[0]]:o}addBundle(e,n){this.resolver.addBundle(e,n)}async loadBundle(e,n){this._initialized||await this.init();let r=!1;typeof e=="string"&&(r=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0,l=0;const u=()=>{n==null||n(++a/l)},c=o.map(h=>{const d=i[h];return l+=Object.keys(d).length,this._mapLoadToResolve(d,u).then(f=>{s[h]=f})});return await Promise.all(c),r?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(n))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolveBundle(e);Object.values(n).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return uo.get(e);const n={};for(let r=0;r<e.length;r++)n[r]=uo.get(e[r]);return n}async _mapLoadToResolve(e,n){const r=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(r,n);this._backgroundLoader.active=!0;const o={};return r.forEach((a,l)=>{const u=s[a.src],c=[a.src];a.alias&&c.push(...a.alias),o[i[l]]=u,uo.set(c,u)}),o}async unload(e){this._initialized||await this.init();const n=Er(e).map(i=>typeof i!="string"?i.src:i),r=this.resolver.resolve(n);await this._unloadFromResolved(r)}async unloadBundle(e){this._initialized||await this.init(),e=Er(e);const n=this.resolver.resolveBundle(e),r=Object.keys(n).map(i=>this._unloadFromResolved(n[i]));await Promise.all(r)}async _unloadFromResolved(e){const n=Object.values(e);n.forEach(r=>{uo.remove(r.src)}),await this.loader.unload(n)}get detections(){return this._detections}get preferWorkers(){return ra.config.preferWorkers}set preferWorkers(e){ra.config.preferWorkers=e}}const es=new wI;se.handleByList(Z.LoadParser,es.loader.parsers).handleByList(Z.ResolveParser,es.resolver.parsers).handleByList(Z.CacheParser,es.cache.parsers).handleByList(Z.DetectionParser,es.detections);const _I={extension:Z.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof J),getCacheableAssets:(t,e)=>{const n={};return t.forEach(r=>{e.forEach((i,s)=>{n[r+(s===0?"":s+1)]=i})}),n}};se.add(_I);const EI={extension:{type:Z.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",e=await ee.ADAPTER.fetch(t).then(n=>n.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};se.add(EI);const SI={extension:{type:Z.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",e=await ee.ADAPTER.fetch(t).then(n=>n.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};se.add(SI);const TS=["png","jpg","jpeg"],CI={extension:{type:Z.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...TS],remove:async t=>t.filter(e=>!TS.includes(e))};se.add(CI);const TI={extension:Z.ResolveParser,test:ra.test,parse:t=>{var e;return{resolution:parseFloat(((e=ee.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}};se.add(TI);var Lt=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(Lt||{});const du={[33776]:.5,[33777]:.5,[33778]:1,[33779]:1,[35916]:.5,[35917]:.5,[35918]:1,[35919]:1,[37488]:.5,[37489]:.5,[37490]:1,[37491]:1,[37492]:.5,[37496]:1,[37493]:.5,[37497]:1,[37494]:.5,[37495]:.5,[35840]:.5,[35842]:.5,[35841]:.25,[35843]:.25,[36196]:.5,[35986]:.5,[35986]:1,[34798]:1,[37808]:1};let Or,co;function AS(){co={s3tc:Or.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:Or.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:Or.getExtension("WEBGL_compressed_texture_etc"),etc1:Or.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:Or.getExtension("WEBGL_compressed_texture_pvrtc")||Or.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:Or.getExtension("WEBGL_compressed_texture_atc"),astc:Or.getExtension("WEBGL_compressed_texture_astc")}}const AI={extension:{type:Z.DetectionParser,priority:2},test:async()=>{const e=ee.ADAPTER.createCanvas().getContext("webgl");return e?(Or=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{co||AS();const e=[];for(const n in co)co[n]&&e.push(n);return[...e,...t]},remove:async t=>(co||AS(),t.filter(e=>!(e in co)))};se.add(AI);class PI extends Sa{constructor(e,n={width:1,height:1,autoLoad:!0}){let r,i;typeof e=="string"?(r=e,i=new Uint8Array):(r=null,i=e),super(i,n),this.origin=r,this.buffer=i?new vd(i):null,this.origin&&n.autoLoad!==!1&&this.load(),i!=null&&i.length&&(this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}async load(){const r=await(await(await fetch(this.origin)).blob()).arrayBuffer();return this.data=new Uint32Array(r),this.buffer=new vd(r),this.loaded=!0,this.onBlobLoaded(r),this.update(),this}}class bi extends PI{constructor(e,n){super(e,n),this.format=n.format,this.levels=n.levels||1,this._width=n.width,this._height=n.height,this._extension=bi._formatToExtension(this.format),(n.levelBuffers||this.buffer)&&(this._levelBuffers=n.levelBuffers||bi._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,n,r){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let o=0,a=this.levels;o<a;o++){const{levelID:l,levelWidth:u,levelHeight:c,levelBuffer:h}=this._levelBuffers[o];i.compressedTexImage2D(i.TEXTURE_2D,l,this.format,u,c,0,h)}return!0}onBlobLoaded(){this._levelBuffers=bi._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,n,r,i,s,o,a){const l=new Array(r);let u=e.byteOffset,c=o,h=a,d=c+i-1&~(i-1),f=h+s-1&~(s-1),p=d*f*du[n];for(let m=0;m<r;m++)l[m]={levelID:m,levelWidth:r>1?c:d,levelHeight:r>1?h:f,levelBuffer:new Uint8Array(e.buffer,u,p)},u+=p,c=c>>1||1,h=h>>1||1,d=c+i-1&~(i-1),f=h+s-1&~(s-1),p=d*f*du[n];return l}}const cm=4,zc=124,fue=32,PS=20,pue=542327876,Hc={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},mue={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},Gc={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},gue=1,vue=2,yue=4,bue=64,xue=512,wue=131072,_ue=827611204,Eue=861165636,Sue=894720068,Cue=808540228,Tue=4,Aue={[_ue]:Lt.COMPRESSED_RGBA_S3TC_DXT1_EXT,[Eue]:Lt.COMPRESSED_RGBA_S3TC_DXT3_EXT,[Sue]:Lt.COMPRESSED_RGBA_S3TC_DXT5_EXT},Pue={[70]:Lt.COMPRESSED_RGBA_S3TC_DXT1_EXT,[71]:Lt.COMPRESSED_RGBA_S3TC_DXT1_EXT,[73]:Lt.COMPRESSED_RGBA_S3TC_DXT3_EXT,[74]:Lt.COMPRESSED_RGBA_S3TC_DXT3_EXT,[76]:Lt.COMPRESSED_RGBA_S3TC_DXT5_EXT,[77]:Lt.COMPRESSED_RGBA_S3TC_DXT5_EXT,[72]:Lt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,[75]:Lt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,[78]:Lt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function OI(t){const e=new Uint32Array(t);if(e[0]!==pue)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,zc/Uint32Array.BYTES_PER_ELEMENT),i=r[Hc.HEIGHT],s=r[Hc.WIDTH],o=r[Hc.MIPMAP_COUNT],a=new Uint32Array(t,Hc.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,fue/Uint32Array.BYTES_PER_ELEMENT),l=a[gue];if(l&yue){const u=a[mue.FOURCC];if(u!==Cue){const y=Aue[u],x=cm+zc,S=new Uint8Array(t,x);return[new bi(S,{format:y,width:s,height:i,levels:o})]}const c=cm+zc,h=new Uint32Array(e.buffer,c,PS/Uint32Array.BYTES_PER_ELEMENT),d=h[Gc.DXGI_FORMAT],f=h[Gc.RESOURCE_DIMENSION],p=h[Gc.MISC_FLAG],m=h[Gc.ARRAY_SIZE],g=Pue[d];if(g===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${d}`);if(p===Tue)throw new Error("DDSParser does not support cubemap textures");if(f===6)throw new Error("DDSParser does not supported 3D texture data");const v=new Array,b=cm+zc+PS;if(m===1)v.push(new Uint8Array(t,b));else{const y=du[g];let x=0,S=s,C=i;for(let A=0;A<o;A++){const k=Math.max(1,S+3&-4),M=Math.max(1,C+3&-4),B=k*M*y;x+=B,S=S>>>1,C=C>>>1}let T=b;for(let A=0;A<m;A++)v.push(new Uint8Array(t,T,x)),T+=x}return v.map(y=>new bi(y,{format:g,width:s,height:i,levels:o}))}throw l&bue?new Error("DDSParser does not support uncompressed texture data."):l&xue?new Error("DDSParser does not supported YUV uncompressed texture data."):l&wue?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&vue?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const OS=[171,75,84,88,32,49,49,187,13,10,26,10],Oue=67305985,Nn={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},N0=64,L0={[ae.UNSIGNED_BYTE]:1,[ae.UNSIGNED_SHORT]:2,[ae.INT]:4,[ae.UNSIGNED_INT]:4,[ae.FLOAT]:4,[ae.HALF_FLOAT]:8},II={[V.RGBA]:4,[V.RGB]:3,[V.RG]:2,[V.RED]:1,[V.LUMINANCE]:1,[V.LUMINANCE_ALPHA]:2,[V.ALPHA]:1},RI={[ae.UNSIGNED_SHORT_4_4_4_4]:2,[ae.UNSIGNED_SHORT_5_5_5_1]:2,[ae.UNSIGNED_SHORT_5_6_5]:2};function kI(t,e,n=!1){const r=new DataView(e);if(!Iue(t,r))return null;const i=r.getUint32(Nn.ENDIANNESS,!0)===Oue,s=r.getUint32(Nn.GL_TYPE,i),o=r.getUint32(Nn.GL_FORMAT,i),a=r.getUint32(Nn.GL_INTERNAL_FORMAT,i),l=r.getUint32(Nn.PIXEL_WIDTH,i),u=r.getUint32(Nn.PIXEL_HEIGHT,i)||1,c=r.getUint32(Nn.PIXEL_DEPTH,i)||1,h=r.getUint32(Nn.NUMBER_OF_ARRAY_ELEMENTS,i)||1,d=r.getUint32(Nn.NUMBER_OF_FACES,i),f=r.getUint32(Nn.NUMBER_OF_MIPMAP_LEVELS,i),p=r.getUint32(Nn.BYTES_OF_KEY_VALUE_DATA,i);if(u===0||c!==1)throw new Error("Only 2D textures are supported");if(d!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(h!==1)throw new Error("WebGL does not support array textures");const m=4,g=4,v=l+3&-4,b=u+3&-4,y=new Array(h);let x=l*u;s===0&&(x=v*b);let S;if(s!==0?L0[s]?S=L0[s]*II[o]:S=RI[s]:S=du[a],S===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const C=n?kue(r,p,i):null;let A=x*S,k=l,M=u,B=v,N=b,R=N0+p;for(let F=0;F<f;F++){const q=r.getUint32(R,i);let Q=R+4;for(let z=0;z<h;z++){let $=y[z];$||($=y[z]=new Array(f)),$[F]={levelID:F,levelWidth:f>1||s!==0?k:B,levelHeight:f>1||s!==0?M:N,levelBuffer:new Uint8Array(e,Q,A)},Q+=A}R+=q+4,R=R%4!==0?R+4-R%4:R,k=k>>1||1,M=M>>1||1,B=k+m-1&~(m-1),N=M+g-1&~(g-1),A=B*N*S}return s!==0?{uncompressed:y.map(F=>{let q=F[0].levelBuffer,Q=!1;return s===ae.FLOAT?q=new Float32Array(F[0].levelBuffer.buffer,F[0].levelBuffer.byteOffset,F[0].levelBuffer.byteLength/4):s===ae.UNSIGNED_INT?(Q=!0,q=new Uint32Array(F[0].levelBuffer.buffer,F[0].levelBuffer.byteOffset,F[0].levelBuffer.byteLength/4)):s===ae.INT&&(Q=!0,q=new Int32Array(F[0].levelBuffer.buffer,F[0].levelBuffer.byteOffset,F[0].levelBuffer.byteLength/4)),{resource:new Sa(q,{width:F[0].levelWidth,height:F[0].levelHeight}),type:s,format:Q?Rue(o):o}}),kvData:C}:{compressed:y.map(F=>new bi(null,{format:a,width:l,height:u,levels:f,levelBuffers:F})),kvData:C}}function Iue(t,e){for(let n=0;n<OS.length;n++)if(e.getUint8(n)!==OS[n])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function Rue(t){switch(t){case V.RGBA:return V.RGBA_INTEGER;case V.RGB:return V.RGB_INTEGER;case V.RG:return V.RG_INTEGER;case V.RED:return V.RED_INTEGER;default:return t}}function kue(t,e,n){const r=new Map;let i=0;for(;i<e;){const s=t.getUint32(N0+i,n),o=N0+i+4,a=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<s&&t.getUint8(o+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const u=new TextDecoder().decode(new Uint8Array(t.buffer,o,l)),c=new DataView(t.buffer,o+l+1,s-l-1);r.set(u,c),i+=4+s+a}return r}const MI={extension:{type:Z.LoadParser,priority:or.High},test(t){return Vu(t,".dds")},async load(t,e,n){const i=await(await ee.ADAPTER.fetch(t)).arrayBuffer(),o=OI(i).map(a=>{const l=new me(a,{mipmap:rr.OFF,alphaMode:Fn.NO_PREMULTIPLIED_ALPHA,resolution:Hr(t),...e.data});return Xu(l,n,t)});return o.length===1?o[0]:o},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};se.add(MI);const FI={extension:{type:Z.LoadParser,priority:or.High},test(t){return Vu(t,".ktx")},async load(t,e,n){const i=await(await ee.ADAPTER.fetch(t)).arrayBuffer(),{compressed:s,uncompressed:o,kvData:a}=kI(t,i),l=s??o,u={mipmap:rr.OFF,alphaMode:Fn.NO_PREMULTIPLIED_ALPHA,resolution:Hr(t),...e.data},c=l.map(h=>{l===o&&Object.assign(u,{type:h.type,format:h.format});const d=new me(h,u);return d.ktxKeyValueData=a,Xu(d,n,t)});return c.length===1?c[0]:c},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};se.add(FI);const DI={extension:Z.ResolveParser,test:t=>{const n=t.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(n)},parse:t=>{var r,i;if(t.split("?")[0].split(".").pop()==="ktx"){const s=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(s.some(o=>t.endsWith(o)))return{resolution:parseFloat(((r=ee.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:s.find(o=>t.endsWith(o)),src:t}}return{resolution:parseFloat(((i=ee.RETINA_PREFIX.exec(t))==null?void 0:i[1])??"1"),format:t.split(".").pop(),src:t}}};se.add(DI);const Mue=new ge,Fue=4,U0=class{constructor(t){this.renderer=t}async image(t,e,n){const r=new Image;return r.src=await this.base64(t,e,n),r}async base64(t,e,n){const r=this.canvas(t);if(r.toDataURL!==void 0)return r.toDataURL(e,n);if(r.convertToBlob!==void 0){const i=await r.convertToBlob({type:e,quality:n});return await new Promise(s=>{const o=new FileReader;o.onload=()=>s(o.result),o.readAsDataURL(i)})}throw new Error("Extract.base64() requires ICanvas.toDataURL or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:n,width:r,height:i,flipY:s}=this._rawPixels(t,e);let o=new O0(r,i,1);const a=o.context.getImageData(0,0,r,i);if(U0.arrayPostDivide(n,a.data),o.context.putImageData(a,0,0),s){const l=new O0(o.width,o.height,1);l.context.scale(1,-1),l.context.drawImage(o.canvas,0,-i),o.destroy(),o=l}return o.canvas}pixels(t,e){const{pixels:n}=this._rawPixels(t,e);return U0.arrayPostDivide(n,n),n}_rawPixels(t,e){const n=this.renderer;let r,i=!1,s,o=!1;if(t)if(t instanceof Vr)s=t;else{const h=n.context.webGLVersion>=2?n.multisample:Ve.NONE;if(s=this.renderer.generateTexture(t,{multisample:h}),h!==Ve.NONE){const d=Vr.create({width:s.width,height:s.height});n.framebuffer.bind(s.framebuffer),n.framebuffer.blit(d.framebuffer),n.framebuffer.bind(null),s.destroy(!0),s=d}o=!0}s?(r=s.baseTexture.resolution,e=e??s.frame,i=!1,n.renderTexture.bind(s)):(r=n.resolution,e||(e=Mue,e.width=n.width,e.height=n.height),i=!0,n.renderTexture.bind(null));const a=Math.round(e.width*r),l=Math.round(e.height*r),u=new Uint8Array(Fue*a*l),c=n.gl;return c.readPixels(Math.round(e.x*r),Math.round(e.y*r),a,l,c.RGBA,c.UNSIGNED_BYTE,u),o&&s.destroy(!0),{pixels:u,width:a,height:l,flipY:i}}destroy(){this.renderer=null}static arrayPostDivide(t,e){for(let n=0;n<t.length;n+=4){const r=e[n+3]=t[n+3];r!==0?(e[n]=Math.round(Math.min(t[n]*255/r,255)),e[n+1]=Math.round(Math.min(t[n+1]*255/r,255)),e[n+2]=Math.round(Math.min(t[n+2]*255/r,255))):(e[n]=t[n],e[n+1]=t[n+1],e[n+2]=t[n+2])}}};let Sb=U0;Sb.extension={name:"extract",type:Z.RendererSystem};se.add(Sb);const fu={build(t){const e=t.points;let n,r,i,s,o,a;if(t.type===ft.CIRC){const p=t.shape;n=p.x,r=p.y,o=a=p.radius,i=s=0}else if(t.type===ft.ELIP){const p=t.shape;n=p.x,r=p.y,o=p.width,a=p.height,i=s=0}else{const p=t.shape,m=p.width/2,g=p.height/2;n=p.x+m,r=p.y+g,o=a=Math.max(0,Math.min(p.radius,Math.min(m,g))),i=m-o,s=g-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}const l=Math.ceil(2.3*Math.sqrt(o+a)),u=l*8+(i?4:0)+(s?4:0);if(e.length=u,u===0)return;if(l===0){e.length=8,e[0]=e[6]=n+i,e[1]=e[3]=r+s,e[2]=e[4]=n-i,e[5]=e[7]=r-s;return}let c=0,h=l*4+(i?2:0)+2,d=h,f=u;{const p=i+o,m=s,g=n+p,v=n-p,b=r+m;if(e[c++]=g,e[c++]=b,e[--h]=b,e[--h]=v,s){const y=r-m;e[d++]=v,e[d++]=y,e[--f]=y,e[--f]=g}}for(let p=1;p<l;p++){const m=Math.PI/2*(p/l),g=i+Math.cos(m)*o,v=s+Math.sin(m)*a,b=n+g,y=n-g,x=r+v,S=r-v;e[c++]=b,e[c++]=x,e[--h]=x,e[--h]=y,e[d++]=y,e[d++]=S,e[--f]=S,e[--f]=b}{const p=i,m=s+a,g=n+p,v=n-p,b=r+m,y=r-m;e[c++]=g,e[c++]=b,e[--f]=y,e[--f]=g,i&&(e[c++]=v,e[c++]=b,e[--f]=y,e[--f]=v)}},triangulate(t,e){const n=t.points,r=e.points,i=e.indices;if(n.length===0)return;let s=r.length/2;const o=s;let a,l;if(t.type!==ft.RREC){const c=t.shape;a=c.x,l=c.y}else{const c=t.shape;a=c.x+c.width/2,l=c.y+c.height/2}const u=t.matrix;r.push(t.matrix?u.a*a+u.c*l+u.tx:a,t.matrix?u.b*a+u.d*l+u.ty:l),s++,r.push(n[0],n[1]);for(let c=2;c<n.length;c+=2)r.push(n[c],n[c+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function IS(t,e=!1){const n=t.length;if(n<6)return;let r=0;for(let i=0,s=t[n-2],o=t[n-1];i<n;i+=2){const a=t[i],l=t[i+1];r+=(a-s)*(l+o),s=a,o=l}if(!e&&r>0||e&&r<=0){const i=n/2;for(let s=i+i%2;s<n;s+=2){const o=n-s-2,a=n-s-1,l=s,u=s+1;[t[o],t[l]]=[t[l],t[o]],[t[a],t[u]]=[t[u],t[a]]}}}const Cb={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let n=t.points;const r=t.holes,i=e.points,s=e.indices;if(n.length>=6){IS(n,!1);const o=[];for(let u=0;u<r.length;u++){const c=r[u];IS(c.points,!0),o.push(n.length/2),n=n.concat(c.points)}const a=tu(n,o,2);if(!a)return;const l=i.length/2;for(let u=0;u<a.length;u+=3)s.push(a[u]+l),s.push(a[u+1]+l),s.push(a[u+2]+l);for(let u=0;u<n.length;u++)i.push(n[u])}}},$I={build(t){const e=t.shape,n=e.x,r=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(n,r,n+i,r,n+i,r+s,n,r+s)},triangulate(t,e){const n=t.points,r=e.points;if(n.length===0)return;const i=r.length/2;r.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},BI={build(t){fu.build(t)},triangulate(t,e){fu.triangulate(t,e)}};var yn=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(yn||{}),ui=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(ui||{});const Ci={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let n=Math.ceil(t/this.maxLength);return n<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n}},Due=Ci;class j0{static curveTo(e,n,r,i,s,o){const a=o[o.length-2],u=o[o.length-1]-n,c=a-e,h=i-n,d=r-e,f=Math.abs(u*d-c*h);if(f<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==n)&&o.push(e,n),null;const p=u*u+c*c,m=h*h+d*d,g=u*h+c*d,v=s*Math.sqrt(p)/f,b=s*Math.sqrt(m)/f,y=v*g/p,x=b*g/m,S=v*d+b*c,C=v*h+b*u,T=c*(b+y),A=u*(b+y),k=d*(v+x),M=h*(v+x),B=Math.atan2(A-C,T-S),N=Math.atan2(M-C,k-S);return{cx:S+e,cy:C+n,radius:s,startAngle:B,endAngle:N,anticlockwise:c*h>d*u}}static arc(e,n,r,i,s,o,a,l,u){const c=a-o,h=Ci._segmentsCount(Math.abs(c)*s,Math.ceil(Math.abs(c)/lu)*40),d=c/(h*2),f=d*2,p=Math.cos(d),m=Math.sin(d),g=h-1,v=g%1/g;for(let b=0;b<=g;++b){const y=b+v*b,x=d+o+f*y,S=Math.cos(x),C=-Math.sin(x);u.push((p*S+m*C)*s+r,(p*-C+m*S)*s+i)}}}class NI{constructor(){this.reset()}begin(e,n,r){this.reset(),this.style=e,this.start=n,this.attribStart=r}end(e,n){this.attribSize=n-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class Vf{static curveLength(e,n,r,i,s,o,a,l){let c=0,h=0,d=0,f=0,p=0,m=0,g=0,v=0,b=0,y=0,x=0,S=e,C=n;for(let T=1;T<=10;++T)h=T/10,d=h*h,f=d*h,p=1-h,m=p*p,g=m*p,v=g*e+3*m*h*r+3*p*d*s+f*a,b=g*n+3*m*h*i+3*p*d*o+f*l,y=S-v,x=C-b,S=v,C=b,c+=Math.sqrt(y*y+x*x);return c}static curveTo(e,n,r,i,s,o,a){const l=a[a.length-2],u=a[a.length-1];a.length-=2;const c=Ci._segmentsCount(Vf.curveLength(l,u,e,n,r,i,s,o));let h=0,d=0,f=0,p=0,m=0;a.push(l,u);for(let g=1,v=0;g<=c;++g)v=g/c,h=1-v,d=h*h,f=d*h,p=v*v,m=p*v,a.push(f*l+3*d*v*e+3*h*p*r+m*s,f*u+3*d*v*n+3*h*p*i+m*o)}}function RS(t,e,n,r,i,s,o,a){const l=t-n*i,u=e-r*i,c=t+n*s,h=e+r*s;let d,f;o?(d=r,f=-n):(d=-r,f=n);const p=l+d,m=u+f,g=c+d,v=h+f;return a.push(p,m,g,v),2}function Ni(t,e,n,r,i,s,o,a){const l=n-t,u=r-e;let c=Math.atan2(l,u),h=Math.atan2(i-t,s-e);a&&c<h?c+=Math.PI*2:!a&&c>h&&(h+=Math.PI*2);let d=c;const f=h-c,p=Math.abs(f),m=Math.sqrt(l*l+u*u),g=(15*p*Math.sqrt(m)/Math.PI>>0)+1,v=f/g;if(d+=v,a){o.push(t,e,n,r);for(let b=1,y=d;b<g;b++,y+=v)o.push(t,e,t+Math.sin(y)*m,e+Math.cos(y)*m);o.push(t,e,i,s)}else{o.push(n,r,t,e);for(let b=1,y=d;b<g;b++,y+=v)o.push(t+Math.sin(y)*m,e+Math.cos(y)*m,t,e);o.push(i,s,t,e)}return g*2}function $ue(t,e){const n=t.shape;let r=t.points||n.points.slice();const i=e.closePointEps;if(r.length===0)return;const s=t.lineStyle,o=new le(r[0],r[1]),a=new le(r[r.length-2],r[r.length-1]),l=n.type!==ft.POLY||n.closeStroke,u=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(l){r=r.slice(),u&&(r.pop(),r.pop(),a.set(r[r.length-2],r[r.length-1]));const z=(o.x+a.x)*.5,$=(a.y+o.y)*.5;r.unshift(z,$),r.push(z,$)}const c=e.points,h=r.length/2;let d=r.length;const f=c.length/2,p=s.width/2,m=p*p,g=s.miterLimit*s.miterLimit;let v=r[0],b=r[1],y=r[2],x=r[3],S=0,C=0,T=-(b-x),A=v-y,k=0,M=0,B=Math.sqrt(T*T+A*A);T/=B,A/=B,T*=p,A*=p;const N=s.alignment,R=(1-N)*2,F=N*2;l||(s.cap===ui.ROUND?d+=Ni(v-T*(R-F)*.5,b-A*(R-F)*.5,v-T*R,b-A*R,v+T*F,b+A*F,c,!0)+2:s.cap===ui.SQUARE&&(d+=RS(v,b,T,A,R,F,!0,c))),c.push(v-T*R,b-A*R,v+T*F,b+A*F);for(let z=1;z<h-1;++z){v=r[(z-1)*2],b=r[(z-1)*2+1],y=r[z*2],x=r[z*2+1],S=r[(z+1)*2],C=r[(z+1)*2+1],T=-(b-x),A=v-y,B=Math.sqrt(T*T+A*A),T/=B,A/=B,T*=p,A*=p,k=-(x-C),M=y-S,B=Math.sqrt(k*k+M*M),k/=B,M/=B,k*=p,M*=p;const $=y-v,W=b-x,D=y-S,G=C-x,I=$*D+W*G,O=W*D-G*$,L=O<0;if(Math.abs(O)<.001*Math.abs(I)){c.push(y-T*R,x-A*R,y+T*F,x+A*F),I>=0&&(s.join===yn.ROUND?d+=Ni(y,x,y-T*R,x-A*R,y-k*R,x-M*R,c,!1)+4:d+=2,c.push(y-k*F,x-M*F,y+k*R,x+M*R));continue}const Y=(-T+v)*(-A+x)-(-T+y)*(-A+b),K=(-k+S)*(-M+x)-(-k+y)*(-M+C),ue=($*K-D*Y)/O,ne=(G*Y-W*K)/O,Ee=(ue-y)*(ue-y)+(ne-x)*(ne-x),oe=y+(ue-y)*R,fe=x+(ne-x)*R,Ae=y-(ue-y)*F,Le=x-(ne-x)*F,_t=Math.min($*$+W*W,D*D+G*G),Ot=L?R:F,Ta=_t+Ot*Ot*m,iR=Ee<=Ta;let Zu=s.join;if(Zu===yn.MITER&&Ee/m>g&&(Zu=yn.BEVEL),iR)switch(Zu){case yn.MITER:{c.push(oe,fe,Ae,Le);break}case yn.BEVEL:{L?c.push(oe,fe,y+T*F,x+A*F,oe,fe,y+k*F,x+M*F):c.push(y-T*R,x-A*R,Ae,Le,y-k*R,x-M*R,Ae,Le),d+=2;break}case yn.ROUND:{L?(c.push(oe,fe,y+T*F,x+A*F),d+=Ni(y,x,y+T*F,x+A*F,y+k*F,x+M*F,c,!0)+4,c.push(oe,fe,y+k*F,x+M*F)):(c.push(y-T*R,x-A*R,Ae,Le),d+=Ni(y,x,y-T*R,x-A*R,y-k*R,x-M*R,c,!1)+4,c.push(y-k*R,x-M*R,Ae,Le));break}}else{switch(c.push(y-T*R,x-A*R,y+T*F,x+A*F),Zu){case yn.MITER:{L?c.push(Ae,Le,Ae,Le):c.push(oe,fe,oe,fe),d+=2;break}case yn.ROUND:{L?d+=Ni(y,x,y+T*F,x+A*F,y+k*F,x+M*F,c,!0)+2:d+=Ni(y,x,y-T*R,x-A*R,y-k*R,x-M*R,c,!1)+2;break}}c.push(y-k*R,x-M*R,y+k*F,x+M*F),d+=2}}v=r[(h-2)*2],b=r[(h-2)*2+1],y=r[(h-1)*2],x=r[(h-1)*2+1],T=-(b-x),A=v-y,B=Math.sqrt(T*T+A*A),T/=B,A/=B,T*=p,A*=p,c.push(y-T*R,x-A*R,y+T*F,x+A*F),l||(s.cap===ui.ROUND?d+=Ni(y-T*(R-F)*.5,x-A*(R-F)*.5,y-T*R,x-A*R,y+T*F,x+A*F,c,!1)+2:s.cap===ui.SQUARE&&(d+=RS(y,x,T,A,R,F,!1,c)));const q=e.indices,Q=Ci.epsilon*Ci.epsilon;for(let z=f;z<d+f-2;++z)v=c[z*2],b=c[z*2+1],y=c[(z+1)*2],x=c[(z+1)*2+1],S=c[(z+2)*2],C=c[(z+2)*2+1],!(Math.abs(v*(x-C)+y*(C-b)+S*(b-x))<Q)&&q.push(z,z+1,z+2)}function Bue(t,e){let n=0;const r=t.shape,i=t.points||r.points,s=r.type!==ft.POLY||r.closeStroke;if(i.length===0)return;const o=e.points,a=e.indices,l=i.length/2,u=o.length/2;let c=u;for(o.push(i[0],i[1]),n=1;n<l;n++)o.push(i[n*2],i[n*2+1]),a.push(c,c+1),c++;s&&a.push(c,u)}function z0(t,e){t.lineStyle.native?Bue(t,e):$ue(t,e)}class Xf{static curveLength(e,n,r,i,s,o){const a=e-2*r+s,l=n-2*i+o,u=2*r-2*e,c=2*i-2*n,h=4*(a*a+l*l),d=4*(a*u+l*c),f=u*u+c*c,p=2*Math.sqrt(h+d+f),m=Math.sqrt(h),g=2*h*m,v=2*Math.sqrt(f),b=d/m;return(g*p+m*d*(p-v)+(4*f*h-d*d)*Math.log((2*m+b+p)/(b+v)))/(4*g)}static curveTo(e,n,r,i,s){const o=s[s.length-2],a=s[s.length-1],l=Ci._segmentsCount(Xf.curveLength(o,a,e,n,r,i));let u=0,c=0;for(let h=1;h<=l;++h){const d=h/l;u=o+(e-o)*d,c=a+(n-a)*d,s.push(u+(e+(r-e)*d-u)*d,c+(n+(i-n)*d-c)*d)}}}const bh={[ft.POLY]:Cb,[ft.CIRC]:fu,[ft.ELIP]:fu,[ft.RECT]:$I,[ft.RREC]:BI},H0=[],cl=[];class pu{constructor(e,n=null,r=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=r,this.fillStyle=n,this.matrix=i,this.type=e.type}clone(){return new pu(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const zs=new le,LI=class extends z1{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new uu,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),cl.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),H0.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,n=null,r=null){const i=new pu(t,e,n,r);return this.graphicsData.push(i),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const n=new pu(t,null,null,e),r=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=r.lineStyle,r.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let n=0;n<e.length;++n){const r=e[n];if(r.fillStyle.visible&&r.shape&&(r.matrix?r.matrix.applyInverse(t,zs):zs.copyFrom(t),r.shape.contains(zs.x,zs.y))){let i=!1;if(r.holes){for(let s=0;s<r.holes.length;s++)if(r.holes[s].shape.contains(zs.x,zs.y)){i=!0;break}}if(!i)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let n=null,r=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],r=n.style);for(let a=this.shapeIndex;a<e.length;a++){this.shapeIndex++;const l=e[a],u=l.fillStyle,c=l.lineStyle;bh[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix),(u.visible||c.visible)&&this.processHoles(l.holes);for(let d=0;d<2;d++){const f=d===0?u:c;if(!f.visible)continue;const p=f.texture.baseTexture,m=this.indices.length,g=this.points.length/2;p.wrapMode=_r.REPEAT,d===0?this.processFill(l):this.processLine(l);const v=this.points.length/2-g;v!==0&&(n&&!this._compareStyles(r,f)&&(n.end(m,g),n=null),n||(n=H0.pop()||new NI,n.begin(f,m,g),this.batches.push(n),r=f),this.addUvs(this.points,t,f.texture,g,v,f.matrix))}}const i=this.indices.length,s=this.points.length/2;if(n&&n.end(i,s),this.batches.length===0){this.batchable=!0;return}const o=s>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&o===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=o?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const n=this.graphicsData[t],r=n.fillStyle,i=n.lineStyle;if(r&&!r.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,n=t.length;e<n;e++){const r=t[e];for(let i=0;i<r.size;i++){const s=r.start+i;this.indicesUint16[s]=this.indicesUint16[s]-r.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<LI.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++me._globalBatch;for(let c=0;c<this.drawCalls.length;c++)this.drawCalls[c].texArray.clear(),cl.push(this.drawCalls[c]);this.drawCalls.length=0;const e=this.colors,n=this.textureIds;let r=cl.pop();r||(r=new bd,r.texArray=new xd),r.texArray.count=0,r.start=0,r.size=0,r.type=Xn.TRIANGLES;let i=0,s=null,o=0,a=!1,l=Xn.TRIANGLES,u=0;this.drawCalls.push(r);for(let c=0;c<this.batches.length;c++){const h=this.batches[c],d=8,f=h.style,p=f.texture.baseTexture;a!==!!f.native&&(a=!!f.native,l=a?Xn.LINES:Xn.TRIANGLES,s=null,i=d,t++),s!==p&&(s=p,p._batchEnabled!==t&&(i===d&&(t++,i=0,r.size>0&&(r=cl.pop(),r||(r=new bd,r.texArray=new xd),this.drawCalls.push(r)),r.start=u,r.size=0,r.texArray.count=0,r.type=l),p.touched=1,p._batchEnabled=t,p._batchLocation=i,p.wrapMode=_r.REPEAT,r.texArray.elements[r.texArray.count++]=p,i++)),r.size+=h.size,u+=h.size,o=p._batchLocation,this.addColors(e,f.color,f.alpha,h.attribSize,h.attribStart),this.addTextureIds(n,o,h.attribSize,h.attribStart)}me._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,n=this.colors,r=this.textureIds,i=new ArrayBuffer(t.length*3*4),s=new Float32Array(i),o=new Uint32Array(i);let a=0;for(let l=0;l<t.length/2;l++)s[a++]=t[l*2],s[a++]=t[l*2+1],s[a++]=e[l*2],s[a++]=e[l*2+1],o[a++]=n[l],s[a++]=r[l];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?Cb.triangulate(t,this):bh[t.type].triangulate(t,this)}processLine(t){z0(t,this);for(let e=0;e<t.holes.length;e++)z0(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const n=t[e];bh[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let n=0;n<t.length/2;n++){const r=t[n*2],i=t[n*2+1];t[n*2]=e.a*r+e.c*i+e.tx,t[n*2+1]=e.b*r+e.d*i+e.ty}}addColors(t,e,n,r,i=0){const s=(e>>16)+(e&65280)+((e&255)<<16),o=Uf(s,n);t.length=Math.max(t.length,i+r);for(let a=0;a<r;a++)t[i+a]=o}addTextureIds(t,e,n,r=0){t.length=Math.max(t.length,r+n);for(let i=0;i<n;i++)t[r+i]=e}addUvs(t,e,n,r,i,s=null){let o=0;const a=e.length,l=n.frame;for(;o<i;){let c=t[(r+o)*2],h=t[(r+o)*2+1];if(s){const d=s.a*c+s.c*h+s.tx;h=s.b*c+s.d*h+s.ty,c=d}o++,e.push(c/l.width,h/l.height)}const u=n.baseTexture;(l.width<u.width||l.height<u.height)&&this.adjustUvs(e,n,a,i)}adjustUvs(t,e,n,r){const i=e.baseTexture,s=1e-6,o=n+r*2,a=e.frame,l=a.width/i.width,u=a.height/i.height;let c=a.x/a.width,h=a.y/a.height,d=Math.floor(t[n]+s),f=Math.floor(t[n+1]+s);for(let p=n+2;p<o;p+=2)d=Math.min(d,Math.floor(t[p]+s)),f=Math.min(f,Math.floor(t[p+1]+s));c-=d,h-=f;for(let p=n;p<o;p+=2)t[p]=(t[p]+c)*l,t[p+1]=(t[p+1]+h)*u}};let Tb=LI;Tb.BATCHABLE_SIZE=100;class Yu{constructor(){this.color=16777215,this.alpha=1,this.texture=J.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Yu;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=J.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class Yf extends Yu{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=ui.BUTT,this.join=yn.MITER,this.miterLimit=10}clone(){const e=new Yf;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const Nue=new Float32Array(3),hm={},xh=class extends Dt{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Yu,this._lineStyle=new Yf,this._matrix=null,this._holeMode=!1,this.state=Tr.for2d(),this._geometry=t||new Tb,this._geometry.refCount++,this._transformID=-1,this.tint=16777215,this.blendMode=ce.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new xh(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tint}set tint(t){this._tint=t}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,n=1,r=.5,i=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:n,alignment:r,native:i}),this.lineTextureStyle(t)}lineTextureStyle(t){t=Object.assign({width:0,texture:J.WHITE,color:t!=null&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:ui.BUTT,join:yn.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();const e=t.width>0&&t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:e},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new us,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new us,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,r=n[n.length-2],i=n[n.length-1];return(r!==t||i!==e)&&n.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,n,r){this._initCurve();const i=this.currentPath.points;return i.length===0&&this.moveTo(0,0),Xf.curveTo(t,e,n,r,i),this}bezierCurveTo(t,e,n,r,i,s){return this._initCurve(),Vf.curveTo(t,e,n,r,i,s,this.currentPath.points),this}arcTo(t,e,n,r,i){this._initCurve(t,e);const s=this.currentPath.points,o=j0.curveTo(t,e,n,r,i,s);if(o){const{cx:a,cy:l,radius:u,startAngle:c,endAngle:h,anticlockwise:d}=o;this.arc(a,l,u,c,h,d)}return this}arc(t,e,n,r,i,s=!1){if(r===i)return this;if(!s&&i<=r?i+=lu:s&&r<=i&&(r+=lu),i-r===0)return this;const a=t+Math.cos(r)*n,l=e+Math.sin(r)*n,u=this._geometry.closePointEps;let c=this.currentPath?this.currentPath.points:null;if(c){const h=Math.abs(c[c.length-2]-a),d=Math.abs(c[c.length-1]-l);h<u&&d<u||c.push(a,l)}else this.moveTo(a,l),c=this.currentPath.points;return j0.arc(a,l,t,e,n,r,i,s,c),this}beginFill(t=0,e=1){return this.beginTextureFill({texture:J.WHITE,color:t,alpha:e})}beginTextureFill(t){t=Object.assign({texture:J.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();const e=t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:e},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,n,r){return this.drawShape(new ge(t,e,n,r))}drawRoundedRect(t,e,n,r,i){return this.drawShape(new ta(t,e,n,r,i))}drawCircle(t,e,n){return this.drawShape(new Hu(t,e,n))}drawEllipse(t,e,n,r){return this.drawShape(new zf(t,e,n,r))}drawPolygon(...t){let e,n=!0;const r=t[0];r.points?(n=r.closeStroke,e=r.points):Array.isArray(t[0])?e=t[0]:e=t;const i=new us(e);return i.closeStroke=n,this.drawShape(i),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===ft.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,n=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(t.points);for(let r=0;r<n;r++){const i=t.batches[r],s=i.style.color,o=new Float32Array(this.vertexData.buffer,i.attribStart*4*2,i.attribSize*2),a=new Float32Array(t.uvsFloat32.buffer,i.attribStart*4*2,i.attribSize*2),l=new Uint16Array(t.indicesUint16.buffer,i.start*2,i.size),u={vertexData:o,blendMode:e,indices:l,uvs:a,_batchRGB:xs(s),_tintRGB:s,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[r]=u}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,n=this.batches.length;e<n;e++){const r=this.batches[e];r.worldAlpha=this.worldAlpha*r.alpha,t.plugins[this.pluginName].render(r)}}}_renderDirect(t){const e=this._resolveDirectShader(t),n=this._geometry,r=this.tint,i=this.worldAlpha,s=e.uniforms,o=n.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(r>>16&255)/255*i,s.tint[1]=(r>>8&255)/255*i,s.tint[2]=(r&255)/255*i,s.tint[3]=i,t.shader.bind(e),t.geometry.bind(n,e),t.state.set(this.state);for(let a=0,l=o.length;a<l;a++)this._renderDrawCallDirect(t,n.drawCalls[a])}_renderDrawCallDirect(t,e){const{texArray:n,type:r,size:i,start:s}=e,o=n.count;for(let a=0;a<o;a++)t.texture.bind(n.elements[a],a);t.geometry.draw(r,i,s)}_resolveDirectShader(t){let e=this.shader;const n=this.pluginName;if(!e){if(!hm[n]){const{maxTextures:r}=t.plugins[n],i=new Int32Array(r);for(let a=0;a<r;a++)i[a]=a;const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ne,default:On.from({uSamplers:i},!0)},o=t.plugins[n]._shader.program;hm[n]=new er(o,s)}e=hm[n]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:n,maxX:r,maxY:i}=t.bounds;this._bounds.addFrame(this.transform,e,n,r,i)}containsPoint(t){return this.worldTransform.applyInverse(t,xh._TEMP_POINT),this._geometry.containsPoint(xh._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this.tint;const t=xs(this.tint,Nue);for(let e=0;e<this.batches.length;e++){const n=this.batches[e],r=n._batchRGB,i=t[0]*r[0]*255,s=t[1]*r[1]*255,o=t[2]*r[2]*255,a=(i<<16)+(s<<8)+(o|0);n._tintRGB=(a>>16)+(a&65280)+((a&255)<<16)}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,n=e.a,r=e.b,i=e.c,s=e.d,o=e.tx,a=e.ty,l=this._geometry.points,u=this.vertexData;let c=0;for(let h=0;h<l.length;h+=2){const d=l[h],f=l[h+1];u[c++]=n*d+i*f+o,u[c++]=s*f+r*d+a}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};let _s=xh;_s.curves=Ci;_s._TEMP_POINT=new le;const Lue={buildPoly:Cb,buildCircle:fu,buildRectangle:$I,buildRoundedRectangle:BI,buildLine:z0,ArcUtils:j0,BezierUtils:Vf,QuadraticUtils:Xf,BatchPart:NI,FILL_COMMANDS:bh,BATCH_POOL:H0,DRAW_CALL_POOL:cl};class UI{constructor(e,n){this.uvBuffer=e,this.uvMatrix=n,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const n=this.uvBuffer.data;(!this.data||this.data.length!==n.length)&&(this.data=new Float32Array(n.length)),this.uvMatrix.multiplyUvs(n,this.data),this._updateID++}}const dm=new le,kS=new us,jI=class extends Dt{constructor(t,e,n,r=Xn.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=n||Tr.for2d(),this.drawMode=r,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=ee.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Xn.TRIANGLES&&e.length<jI.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]),t.plugins[r].render(this)}calculateVertices(){const e=this.geometry.buffers[0],n=e.data,r=e._updateID;if(r===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==n.length&&(this.vertexData=new Float32Array(n.length));const i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,l=i.d,u=i.tx,c=i.ty,h=this.vertexData;for(let d=0;d<h.length/2;d++){const f=n[d*2],p=n[d*2+1];h[d*2]=s*f+a*p+u,h[d*2+1]=o*f+l*p+c}if(this._roundPixels){const d=ee.RESOLUTION;for(let f=0;f<h.length;++f)h[f]=Math.round(h[f]*d)/d}this.vertexDirty=r}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new UI(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,dm);const e=this.geometry.getBuffer("aVertexPosition").data,n=kS.points,r=this.geometry.getIndex().data,i=r.length,s=this.drawMode===4?3:1;for(let o=0;o+2<i;o+=s){const a=r[o]*2,l=r[o+1]*2,u=r[o+2]*2;if(n[0]=e[a],n[1]=e[a+1],n[2]=e[l],n[3]=e[l+1],n[4]=e[u],n[5]=e[u+1],kS.contains(dm.x,dm.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let Es=jI;Es.BATCHABLE_SIZE=100;class qu extends Gr{constructor(e,n,r){super();const i=new Je(e),s=new Je(n,!0),o=new Je(r,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,ae.FLOAT).addAttribute("aTextureCoord",s,2,!1,ae.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var Uue=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,jue=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class ia extends er{constructor(e,n){const r={uSampler:e,alpha:1,uTextureMatrix:Ne.IDENTITY,uColor:new Float32Array([1,1,1,1])};n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(r,n.uniforms),super(n.program||Tn.from(jue,Uue),r),this._colorDirty=!1,this.uvMatrix=new Hf(e),this.batchable=n.program===void 0,this.pluginName=n.pluginName,this.tint=n.tint,this.alpha=n.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16),this._colorDirty=!0)}get tint(){return this._tint}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture;U1(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class zI extends qu{constructor(e=100,n=100,r=10,i=10){super(),this.segWidth=r,this.segHeight=i,this.width=e,this.height=n,this.build()}build(){const e=this.segWidth*this.segHeight,n=[],r=[],i=[],s=this.segWidth-1,o=this.segHeight-1,a=this.width/s,l=this.height/o;for(let c=0;c<e;c++){const h=c%this.segWidth,d=c/this.segWidth|0;n.push(h*a,d*l),r.push(h/s,d/o)}const u=s*o;for(let c=0;c<u;c++){const h=c%s,d=c/s|0,f=d*this.segWidth+h,p=d*this.segWidth+h+1,m=(d+1)*this.segWidth+h,g=(d+1)*this.segWidth+h+1;i.push(f,p,m,p,g,m)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class HI extends qu{constructor(e=200,n,r=0){super(new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6)),this.points=n,this._width=e,this.textureScale=r,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const n=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;n.data.length/4!==e.length&&(n.data=new Float32Array(e.length*4),r.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=r.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let a=0,l=e[0];const u=this._width*this.textureScale,c=e.length;for(let d=0;d<c;d++){const f=d*4;if(this.textureScale>0){const p=l.x-e[d].x,m=l.y-e[d].y,g=Math.sqrt(p*p+m*m);l=e[d],a+=g/u}else a=d/(c-1);s[f]=a,s[f+1]=0,s[f+2]=a,s[f+3]=1}let h=0;for(let d=0;d<c-1;d++){const f=d*2;o[h++]=f,o[h++]=f+1,o[h++]=f+2,o[h++]=f+2,o[h++]=f+1,o[h++]=f+3}r.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let n=e[0],r,i=0,s=0;const o=this.buffers[0].data,a=e.length,l=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let u=0;u<a;u++){const c=e[u],h=u*4;u<e.length-1?r=e[u+1]:r=c,s=-(r.x-n.x),i=r.y-n.y;const d=Math.sqrt(i*i+s*s);d<1e-6?(i=0,s=0):(i/=d,s/=d,i*=l,s*=l),o[h]=c.x+i,o[h+1]=c.y+s,o[h+2]=c.x-i,o[h+3]=c.y-s,n=c}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class GI extends Es{constructor(e,n,r){const i=new zI(e.width,e.height,n,r),s=new ia(J.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:n,height:r}=this.shader.texture;this.autoResize&&(e.width!==n||e.height!==r)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const Wc=10;class zue extends GI{constructor(e,n=Wc,r=Wc,i=Wc,s=Wc){super(J.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=n,this._rightWidth=i,this._topHeight=r,this._bottomHeight=s,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,n=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*n,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*n,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,n=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*n,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*n,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,n=this._width>e?1:this._width/e,r=this._topHeight+this._bottomHeight,i=this._height>r?1:this._height/r;return Math.min(n,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,n=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const r=1/this._origWidth,i=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=r*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-r*this._rightWidth,n[9]=n[11]=n[13]=n[15]=i*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class Hue extends Es{constructor(e=J.EMPTY,n,r,i,s){const o=new qu(n,r,i);o.getBuffer("aVertexPosition").static=!1;const a=new ia(e);super(o,a,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class Gue extends Es{constructor(e,n,r=0){const i=new HI(e.height,n,r),s=new ia(e);r>0&&(e.baseTexture.wrapMode=_r.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),super._render(e)}}class Wue extends Dt{constructor(e=1500,n,r=16384,i=!1){super();const s=16384;r>s&&(r=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=r,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=ce.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(n),this._tint=0,this.tintRgb=new Float32Array(4),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tint}set tint(e){this._tint=e,xs(e,this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const n=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class MS{constructor(e,n,r){this.geometry=new Gr,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||ae.FLOAT,offset:s.offset},n[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let n=0;this.indexBuffer=new Je(_O(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=n,n+=a.size,this.dynamicStride+=a.size}const r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new Je(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new Je(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===ae.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===ae.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,n,r){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,n,r,s.type===ae.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,n,r){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,n,r,s.type===ae.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var Vue=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,Xue=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class Ab extends Wu{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Ne,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:ae.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=er.from(Xue,Vue,{}),this.state=Tr.for2d()}render(e){const n=e.children,r=e._maxSize,i=e._batchSize,s=this.renderer;let o=n.length;if(o===0)return;o>r&&!e.autoResize&&(o=r);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const l=n[0]._texture.baseTexture,u=l.alphaMode>0;this.state.blendMode=L1(e.blendMode,u),s.state.set(this.state);const c=s.gl,h=e.worldTransform.copyTo(this.tempMatrix);h.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=h.toArray(!0),this.shader.uniforms.uColor=xO(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,u),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);let d=!1;for(let f=0,p=0;f<o;f+=i,p+=1){let m=o-f;m>i&&(m=i),p>=a.length&&a.push(this._generateOneMoreBuffer(e));const g=a[p];g.uploadDynamic(n,f,m);const v=e._bufferUpdateIDs[p]||0;d=d||g._updateID<v,d&&(g._updateID=e._updateID,g.uploadStatic(n,f,m)),s.geometry.bind(g.geometry),c.drawElements(c.TRIANGLES,m*6,c.UNSIGNED_SHORT,0)}}generateBuffers(e){const n=[],r=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<r;o+=i)n.push(new MS(this.properties,s,i));return n}_generateOneMoreBuffer(e){const n=e._batchSize,r=e._properties;return new MS(this.properties,r,n)}uploadVertices(e,n,r,i,s,o){let a=0,l=0,u=0,c=0;for(let h=0;h<r;++h){const d=e[n+h],f=d._texture,p=d.scale.x,m=d.scale.y,g=f.trim,v=f.orig;g?(l=g.x-d.anchor.x*v.width,a=l+g.width,c=g.y-d.anchor.y*v.height,u=c+g.height):(a=v.width*(1-d.anchor.x),l=v.width*-d.anchor.x,u=v.height*(1-d.anchor.y),c=v.height*-d.anchor.y),i[o]=l*p,i[o+1]=c*m,i[o+s]=a*p,i[o+s+1]=c*m,i[o+s*2]=a*p,i[o+s*2+1]=u*m,i[o+s*3]=l*p,i[o+s*3+1]=u*m,o+=s*4}}uploadPosition(e,n,r,i,s,o){for(let a=0;a<r;a++){const l=e[n+a].position;i[o]=l.x,i[o+1]=l.y,i[o+s]=l.x,i[o+s+1]=l.y,i[o+s*2]=l.x,i[o+s*2+1]=l.y,i[o+s*3]=l.x,i[o+s*3+1]=l.y,o+=s*4}}uploadRotation(e,n,r,i,s,o){for(let a=0;a<r;a++){const l=e[n+a].rotation;i[o]=l,i[o+s]=l,i[o+s*2]=l,i[o+s*3]=l,o+=s*4}}uploadUvs(e,n,r,i,s,o){for(let a=0;a<r;++a){const l=e[n+a]._texture._uvs;l?(i[o]=l.x0,i[o+1]=l.y0,i[o+s]=l.x1,i[o+s+1]=l.y1,i[o+s*2]=l.x2,i[o+s*2+1]=l.y2,i[o+s*3]=l.x3,i[o+s*3+1]=l.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,n,r,i,s,o){for(let a=0;a<r;++a){const l=e[n+a],u=l._texture.baseTexture.alphaMode>0,c=l.alpha,h=c<1&&u?Uf(l._tintRGB,c):l._tintRGB+(c*255<<24);i[o]=h,i[o+s]=h,i[o+s*2]=h,i[o+s*3]=h,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}Ab.extension={name:"particle",type:Z.RendererPlugin};se.add(Ab);var Ku=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Ku||{});const Vc={willReadFrequently:!0},re=class{static get experimentalLetterSpacingSupported(){let t=re._experimentalLetterSpacingSupported;if(t!==void 0){const e=ee.ADAPTER.getCanvasRenderingContext2D().prototype;t=re._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,n,r,i,s,o,a,l){this.text=t,this.style=e,this.width=n,this.height=r,this.lines=i,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=l}static measureText(t,e,n,r=re._canvas){n=n??e.wordWrap;const i=e.toFontString(),s=re.measureFont(i);s.fontSize===0&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);const o=r.getContext("2d",Vc);o.font=i;const l=(n?re.wordWrap(t,e,r):t).split(/(?:\r\n|\r|\n)/),u=new Array(l.length);let c=0;for(let p=0;p<l.length;p++){const m=re._measureText(l[p],e.letterSpacing,o);u[p]=m,c=Math.max(c,m)}let h=c+e.strokeThickness;e.dropShadow&&(h+=e.dropShadowDistance);const d=e.lineHeight||s.fontSize+e.strokeThickness;let f=Math.max(d,s.fontSize+e.strokeThickness*2)+(l.length-1)*(d+e.leading);return e.dropShadow&&(f+=e.dropShadowDistance),new re(t,e,h,f,l,u,d+e.leading,c,s)}static _measureText(t,e,n){let r=!1;re.experimentalLetterSpacingSupported&&(re.experimentalLetterSpacing?(n.letterSpacing=`${e}px`,n.textLetterSpacing=`${e}px`,r=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let i=n.measureText(t).width;return i>0&&(r?i-=e:i+=(re.graphemeSegmenter(t).length-1)*e),i}static wordWrap(t,e,n=re._canvas){const r=n.getContext("2d",Vc);let i=0,s="",o="";const a=Object.create(null),{letterSpacing:l,whiteSpace:u}=e,c=re.collapseSpaces(u),h=re.collapseNewlines(u);let d=!c;const f=e.wordWrapWidth+l,p=re.tokenize(t);for(let m=0;m<p.length;m++){let g=p[m];if(re.isNewline(g)){if(!h){o+=re.addLine(s),d=!c,s="",i=0;continue}g=" "}if(c){const b=re.isBreakingSpace(g),y=re.isBreakingSpace(s[s.length-1]);if(b&&y)continue}const v=re.getFromCache(g,l,a,r);if(v>f)if(s!==""&&(o+=re.addLine(s),s="",i=0),re.canBreakWords(g,e.breakWords)){const b=re.wordWrapSplit(g);for(let y=0;y<b.length;y++){let x=b[y],S=x,C=1;for(;b[y+C];){const A=b[y+C];if(!re.canBreakChars(S,A,g,y,e.breakWords))x+=A;else break;S=A,C++}y+=C-1;const T=re.getFromCache(x,l,a,r);T+i>f&&(o+=re.addLine(s),d=!1,s="",i=0),s+=x,i+=T}}else{s.length>0&&(o+=re.addLine(s),s="",i=0);const b=m===p.length-1;o+=re.addLine(g,!b),d=!1,s="",i=0}else v+i>f&&(d=!1,o+=re.addLine(s),s="",i=0),(s.length>0||!re.isBreakingSpace(g)||d)&&(s+=g,i+=v)}return o+=re.addLine(s,!1),o}static addLine(t,e=!0){return t=re.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,n,r){let i=n[t];return typeof i!="number"&&(i=re._measureText(t,e,r)+e,n[t]=i),i}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const n=t[e];if(!re.isBreakingSpace(n))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:re._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:re._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let n="";if(typeof t!="string")return e;for(let r=0;r<t.length;r++){const i=t[r],s=t[r+1];if(re.isBreakingSpace(i,s)||re.isNewline(i)){n!==""&&(e.push(n),n=""),e.push(i);continue}n+=i}return n!==""&&e.push(n),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,n,r,i){return!0}static wordWrapSplit(t){return re.graphemeSegmenter(t)}static measureFont(t){if(re._fonts[t])return re._fonts[t];const e={ascent:0,descent:0,fontSize:0},n=re._canvas,r=re._context;r.font=t;const i=re.METRICS_STRING+re.BASELINE_SYMBOL,s=Math.ceil(r.measureText(i).width);let o=Math.ceil(r.measureText(re.BASELINE_SYMBOL).width);const a=Math.ceil(re.HEIGHT_MULTIPLIER*o);if(o=o*re.BASELINE_MULTIPLIER|0,s===0||a===0)return re._fonts[t]=e,e;n.width=s,n.height=a,r.fillStyle="#f00",r.fillRect(0,0,s,a),r.font=t,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(i,0,o);const l=r.getImageData(0,0,s,a).data,u=l.length,c=s*4;let h=0,d=0,f=!1;for(h=0;h<o;++h){for(let p=0;p<c;p+=4)if(l[d+p]!==255){f=!0;break}if(!f)d+=c;else break}for(e.ascent=o-h,d=u-c,f=!1,h=a;h>o;--h){for(let p=0;p<c;p+=4)if(l[d+p]!==255){f=!0;break}if(!f)d-=c;else break}return e.descent=h-o,e.fontSize=e.ascent+e.descent,re._fonts[t]=e,e}static clearMetrics(t=""){t?delete re._fonts[t]:re._fonts={}}static get _canvas(){if(!re.__canvas){let t;try{const e=new OffscreenCanvas(0,0),n=e.getContext("2d",Vc);if(n!=null&&n.measureText)return re.__canvas=e,e;t=ee.ADAPTER.createCanvas()}catch{t=ee.ADAPTER.createCanvas()}t.width=t.height=10,re.__canvas=t}return re.__canvas}static get _context(){return re.__context||(re.__context=re._canvas.getContext("2d",Vc)),re.__context}};let dt=re;dt.METRICS_STRING="|q";dt.BASELINE_SYMBOL="M";dt.BASELINE_MULTIPLIER=1.4;dt.HEIGHT_MULTIPLIER=2;dt.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(n=>n.segment)}return t=>[...t]})();dt.experimentalLetterSpacing=!1;dt._fonts={};dt._newlines=[10,13];dt._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const Yue=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],hl=class{constructor(t){this.styleID=0,this.reset(),pm(this,t,t)}clone(){const t={};return pm(t,this,hl.defaultStyle),new hl(t)}reset(){pm(this,hl.defaultStyle,hl.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=fm(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=fm(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){que(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=fm(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let n=e.length-1;n>=0;n--){let r=e[n].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&!Yue.includes(r)&&(r=`"${r}"`),e[n]=r}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};let Ti=hl;Ti.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Ku.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};function FS(t){return typeof t=="number"?B1(t):(typeof t=="string"&&t.startsWith("0x")&&(t=t.replace("0x","#")),t)}function fm(t){if(Array.isArray(t)){for(let e=0;e<t.length;++e)t[e]=FS(t[e]);return t}else return FS(t)}function que(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}function pm(t,e,n){for(const r in n)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}const Kue={texture:!0,children:!1,baseTexture:!0},G0=class extends Di{constructor(t,e,n){let r=!1;n||(n=ee.ADAPTER.createCanvas(),r=!0),n.width=3,n.height=3;const i=J.from(n);i.orig=new ge,i.trim=new ge,super(i),this._ownCanvas=r,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=G0.defaultResolution??ee.RESOLUTION,this._autoResolution=G0.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return dt.experimentalLetterSpacing}static set experimentalLetterSpacing(t){be("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),dt.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const n=this.context,r=dt.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=r.width,s=r.height,o=r.lines,a=r.lineHeight,l=r.lineWidths,u=r.maxLineWidth,c=r.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,i)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+e.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;let h,d;const f=e.dropShadow?2:1;for(let p=0;p<f;++p){const m=e.dropShadow&&p===0,g=m?Math.ceil(Math.max(1,s)+e.padding*2):0,v=g*this._resolution;if(m){n.fillStyle="black",n.strokeStyle="black";const y=e.dropShadowColor,x=xs(typeof y=="number"?y:Lf(y)),S=e.dropShadowBlur*this._resolution,C=e.dropShadowDistance*this._resolution;n.shadowColor=`rgba(${x[0]*255},${x[1]*255},${x[2]*255},${e.dropShadowAlpha})`,n.shadowBlur=S,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*C,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*C+v}else n.fillStyle=this._generateFillStyle(e,o,r),n.strokeStyle=e.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let b=(a-c.fontSize)/2;a-c.fontSize<0&&(b=0);for(let y=0;y<o.length;y++)h=e.strokeThickness/2,d=e.strokeThickness/2+y*a+c.ascent+b,e.align==="right"?h+=u-l[y]:e.align==="center"&&(h+=(u-l[y])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(o[y],h+e.padding,d+e.padding-g,!0),e.fill&&this.drawLetterSpacing(o[y],h+e.padding,d+e.padding-g)}this.updateTexture()}drawLetterSpacing(t,e,n,r=!1){const s=this._style.letterSpacing;let o=!1;if(dt.experimentalLetterSpacingSupported&&(dt.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){r?this.context.strokeText(t,e,n):this.context.fillText(t,e,n);return}let a=e;const l=dt.graphemeSegmenter(t);let u=this.context.measureText(t).width,c=0;for(let h=0;h<l.length;++h){const d=l[h];r?this.context.strokeText(d,a,n):this.context.fillText(d,a,n);let f="";for(let p=h+1;p<l.length;++p)f+=l[p];c=this.context.measureText(f).width,a+=u-c+s,u=c}}updateTexture(){const t=this.canvas;if(this._style.trim){const s=CO(t);s.data&&(t.width=s.width,t.height=s.height,this.context.putImageData(s.data,0,0))}const e=this._texture,n=this._style,r=n.trim?0:n.padding,i=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-r,e.trim.y=-r,e.orig.width=e._frame.width-r*2,e.orig.height=e._frame.height-r*2,this._onTextureUpdate(),i.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,n){const r=t.fill;if(Array.isArray(r)){if(r.length===1)return r[0]}else return r;let i;const s=t.dropShadow?t.dropShadowDistance:0,o=t.padding||0,a=this.canvas.width/this._resolution-s-o*2,l=this.canvas.height/this._resolution-s-o*2,u=r.slice(),c=t.fillGradientStops.slice();if(!c.length){const h=u.length+1;for(let d=1;d<h;++d)c.push(d/h)}if(u.unshift(r[0]),c.unshift(0),u.push(r[r.length-1]),c.push(1),t.fillGradientType===Ku.LINEAR_VERTICAL){i=this.context.createLinearGradient(a/2,o,a/2,l+o);const h=n.fontProperties.fontSize+t.strokeThickness;for(let d=0;d<e.length;d++){const f=n.lineHeight*(d-1)+h,p=n.lineHeight*d;let m=p;d>0&&f>p&&(m=(p+f)/2);const g=p+h,v=n.lineHeight*(d+1);let b=g;d+1<e.length&&v<g&&(b=(g+v)/2);const y=(b-m)/l;for(let x=0;x<u.length;x++){let S=0;typeof c[x]=="number"?S=c[x]:S=x/u.length;let C=Math.min(1,Math.max(0,m/l+S*y));C=Number(C.toFixed(5)),i.addColorStop(C,u[x])}}}else{i=this.context.createLinearGradient(o,l/2,a+o,l/2);const h=u.length+1;let d=1;for(let f=0;f<u.length;f++){let p;typeof c[f]=="number"?p=c[f]:p=d/h,i.addColorStop(p,u[f]),d++}}return i}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},Kue,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=Qi(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=Qi(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof Ti?this._style=t:this._style=new Ti(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};let sa=G0;sa.defaultAutoResolution=!0;class WI{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function Zue(t,e){var r;let n=!1;if((r=t==null?void 0:t._textures)!=null&&r.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof J){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),n=!0)}}return n}function Que(t,e){if(t.baseTexture instanceof me){const n=t.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function Jue(t,e){if(t._texture&&t._texture instanceof J){const n=t._texture.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function ece(t,e){return e instanceof sa?(e.updateText(!0),!0):!1}function tce(t,e){if(e instanceof Ti){const n=e.toFontString();return dt.measureFont(n),!0}return!1}function nce(t,e){if(t instanceof sa){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const n=t._texture.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function rce(t,e){return t instanceof Ti?(e.includes(t)||e.push(t),!0):!1}const VI=class{constructor(t){this.limiter=new WI(VI.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(nce),this.registerFindHook(rce),this.registerFindHook(Zue),this.registerFindHook(Que),this.registerFindHook(Jue),this.registerUploadHook(ece),this.registerUploadHook(tce)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,at.system.addOnce(this.tick,this,Si.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed){for(let n=0,r=this.uploadHooks.length;n<r;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)at.system.addOnce(this.tick,this,Si.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,n=t.length;e<n;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,n=this.addHooks.length;e<n&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Dt)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&at.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let mu=VI;mu.uploadsPerFrame=4;Object.defineProperties(ee,{UPLOADS_PER_FRAME:{get(){return mu.uploadsPerFrame},set(t){be("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),mu.uploadsPerFrame=t}}});function XI(t,e){return e instanceof me?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function ice(t,e){if(!(e instanceof _s))return!1;const{geometry:n}=e;e.finishPoly(),n.updateBatches();const{batches:r}=n;for(let i=0;i<r.length;i++){const{texture:s}=r[i].style;s&&XI(t,s.baseTexture)}return n.batchable||t.geometry.bind(n,e._resolveDirectShader(t)),!0}function sce(t,e){return t instanceof _s?(e.push(t),!0):!1}class Pb extends mu{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(sce),this.registerUploadHook(XI),this.registerUploadHook(ice)}}Pb.extension={name:"prepare",type:Z.RendererSystem};se.add(Pb);class oce{constructor(e){this.maxMilliseconds=e,this.frameStart=0}beginFrame(){this.frameStart=Date.now()}allowedToUpload(){return Date.now()-this.frameStart<this.maxMilliseconds}}class Cd extends Di{constructor(e,n=!0){super(e[0]instanceof J?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=n,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(at.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(at.shared.add(this.update,this,Si.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const n=this.animationSpeed*e,r=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=n/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const n=[];for(let r=0;r<e.length;++r)n.push(J.from(e[r]));return new Cd(n)}static fromImages(e){const n=[];for(let r=0;r<e.length;++r)n.push(J.from(e[r]));return new Cd(n)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof J)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let n=0;n<e.length;n++)this._textures.push(e[n].texture),this._durations.push(e[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const n=this.currentFrame;this._currentTime=e,n!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(at.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(at.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const qa=new le;class Ob extends Di{constructor(e,n=100,r=100){super(e),this.tileTransform=new Gu,this._width=n,this._height=r,this.uvMatrix=this.texture.uvMatrix||new Hf(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,n=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,n,r,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new ge),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,qa);const n=this._width,r=this._height,i=-n*this.anchor._x;if(qa.x>=i&&qa.x<i+n){const s=-r*this.anchor._y;if(qa.y>=s&&qa.y<s+r)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,n){const r=e instanceof J?e:J.from(e,n);return new Ob(r,n.width,n.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var ace=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,lce=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,uce=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,DS=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,cce=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const Xc=new Ne;class Ib extends Wu{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new K1,this.state=Tr.for2d()}contextChange(){const e=this.renderer,n={globals:e.globalUniforms};this.simpleShader=er.from(DS,cce,n),this.shader=e.context.webGLVersion>1?er.from(lce,ace,n):er.from(DS,uce,n)}render(e){const n=this.renderer,r=this.quad;let i=r.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=r.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,r.invalidate();const a=e._texture,l=a.baseTexture,u=l.alphaMode>0,c=e.tileTransform.localTransform,h=e.uvMatrix;let d=l.isPowerOfTwo&&a.frame.width===l.width&&a.frame.height===l.height;d&&(l._glTextures[n.CONTEXT_UID]?d=l.wrapMode!==_r.CLAMP:l.wrapMode===_r.CLAMP&&(l.wrapMode=_r.REPEAT));const f=d?this.simpleShader:this.shader,p=a.width,m=a.height,g=e._width,v=e._height;Xc.set(c.a*p/g,c.b*p/v,c.c*m/g,c.d*m/v,c.tx/g,c.ty/v),Xc.invert(),d?Xc.prepend(h.mapCoord):(f.uniforms.uMapCoord=h.mapCoord.toArray(!0),f.uniforms.uClampFrame=h.uClampFrame,f.uniforms.uClampOffset=h.uClampOffset),f.uniforms.uTransform=Xc.toArray(!0),f.uniforms.uColor=U1(e.tint,e.worldAlpha,f.uniforms.uColor,u),f.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),f.uniforms.uSampler=a,n.shader.bind(f),n.geometry.bind(r),this.state.blendMode=L1(e.blendMode,u),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}Ib.extension={name:"tilingSprite",type:Z.RendererPlugin};se.add(Ib);const dl=class{constructor(t,e,n=null){this.linkedSheets=[],this._texture=t instanceof J?t:null,this.baseTexture=t instanceof me?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const r=this.baseTexture.resource;this.resolution=this._updateResolution(n||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let n=Hr(t,null);return n===null&&(n=parseFloat(e??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=dl.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const n=dl.BATCH_SIZE;for(;e-t<n&&e<this._frameKeys.length;){const r=this._frameKeys[e],i=this._frames[r],s=i.frame;if(s){let o=null,a=null;const l=i.trimmed!==!1&&i.sourceSize?i.sourceSize:i.frame,u=new ge(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);i.rotated?o=new ge(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):o=new ge(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),i.trimmed!==!1&&i.spriteSourceSize&&(a=new ge(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[r]=new J(this.baseTexture,o,u,a,i.rotated?2:0,i.anchor),J.addToCache(this.textures[r],r)}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let n=0;n<t[e].length;n++){const r=t[e][n];this.animations[e].push(this.textures[r])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*dl.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*dl.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var e;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)==null||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let Td=dl;Td.BATCH_SIZE=1e3;const hce=["jpg","png","jpeg","avif","webp"];function YI(t,e,n){const r={};if(t.forEach(i=>{r[i]=e}),Object.keys(e.textures).forEach(i=>{r[i]=e.textures[i]}),!n){const i=gt.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const a=YI([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(r,a)})}return r}const qI={extension:Z.Asset,cache:{test:t=>t instanceof Td,getCacheableAssets:(t,e)=>YI(t,e,!1)},resolver:{test:t=>{const n=t.split("?")[0].split("."),r=n.pop(),i=n.pop();return r==="json"&&hce.includes(i)},parse:t=>{var n;const e=t.split(".");return{resolution:parseFloat(((n=ee.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:e[e.length-2],src:t}}},loader:{extension:{type:Z.LoadParser,priority:or.Normal},async testParse(t,e){return gt.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,n){var u,c;let r=gt.dirname(e.src);r&&r.lastIndexOf("/")!==r.length-1&&(r+="/");let i=r+t.meta.image;i=Sd(i,e.src);const o=(await n.load([i]))[i],a=new Td(o.baseTexture,t,e.src);await a.parse();const l=(u=t==null?void 0:t.meta)==null?void 0:u.related_multi_packs;if(Array.isArray(l)){const h=[];for(const f of l){if(typeof f!="string")continue;let p=r+f;(c=e.data)!=null&&c.ignoreMultiPack||(p=Sd(p,e.src),h.push(n.load({src:p,data:{ignoreMultiPack:!0}})))}const d=await Promise.all(h);a.linkedSheets=d,d.forEach(f=>{f.linkedSheets=[a].concat(a.linkedSheets.filter(p=>p!==f))})}return a},unload(t){t.destroy(!0)}}};se.add(qI);class gu{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Sl{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const n=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in n){const o=n[s].match(/^[a-z]+/gm)[0],a=n[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),l={};for(const u in a){const c=a[u].split("="),h=c[0],d=c[1].replace(/"/gm,""),f=parseFloat(d),p=isNaN(f)?d:f;l[h]=p}r[o].push(l)}const i=new gu;return r.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),r.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),r.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),r.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),r.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),r.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class Ad{static test(e){const n=e;return"getElementsByTagName"in n&&n.getElementsByTagName("page").length&&n.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const n=new gu,r=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField");for(let u=0;u<r.length;u++)n.info.push({face:r[u].getAttribute("face"),size:parseInt(r[u].getAttribute("size"),10)});for(let u=0;u<i.length;u++)n.common.push({lineHeight:parseInt(i[u].getAttribute("lineHeight"),10)});for(let u=0;u<s.length;u++)n.page.push({id:parseInt(s[u].getAttribute("id"),10)||0,file:s[u].getAttribute("file")});for(let u=0;u<o.length;u++){const c=o[u];n.char.push({id:parseInt(c.getAttribute("id"),10),page:parseInt(c.getAttribute("page"),10)||0,x:parseInt(c.getAttribute("x"),10),y:parseInt(c.getAttribute("y"),10),width:parseInt(c.getAttribute("width"),10),height:parseInt(c.getAttribute("height"),10),xoffset:parseInt(c.getAttribute("xoffset"),10),yoffset:parseInt(c.getAttribute("yoffset"),10),xadvance:parseInt(c.getAttribute("xadvance"),10)})}for(let u=0;u<a.length;u++)n.kerning.push({first:parseInt(a[u].getAttribute("first"),10),second:parseInt(a[u].getAttribute("second"),10),amount:parseInt(a[u].getAttribute("amount"),10)});for(let u=0;u<l.length;u++)n.distanceField.push({fieldType:l[u].getAttribute("fieldType"),distanceRange:parseInt(l[u].getAttribute("distanceRange"),10)});return n}}class Pd{static test(e){return typeof e=="string"&&e.includes("<font>")?Ad.test(ee.ADAPTER.parseXML(e)):!1}static parse(e){return Ad.parse(ee.ADAPTER.parseXML(e))}}const mm=[Sl,Ad,Pd];function KI(t){for(let e=0;e<mm.length;e++)if(mm[e].test(t))return mm[e];return null}function dce(t,e,n,r,i,s){const o=n.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const l=n.dropShadow?n.dropShadowDistance:0,u=n.padding||0,c=t.width/r-l-u*2,h=t.height/r-l-u*2,d=o.slice(),f=n.fillGradientStops.slice();if(!f.length){const p=d.length+1;for(let m=1;m<p;++m)f.push(m/p)}if(d.unshift(o[0]),f.unshift(0),d.push(o[o.length-1]),f.push(1),n.fillGradientType===Ku.LINEAR_VERTICAL){a=e.createLinearGradient(c/2,u,c/2,h+u);let p=0;const g=(s.fontProperties.fontSize+n.strokeThickness)/h;for(let v=0;v<i.length;v++){const b=s.lineHeight*v;for(let y=0;y<d.length;y++){let x=0;typeof f[y]=="number"?x=f[y]:x=y/d.length;const S=b/h+x*g;let C=Math.max(p,S);C=Math.min(C,1),a.addColorStop(C,d[y]),p=C}}}else{a=e.createLinearGradient(u,h/2,c+u,h/2);const p=d.length+1;let m=1;for(let g=0;g<d.length;g++){let v;typeof f[g]=="number"?v=f[g]:v=m/p,a.addColorStop(v,d[g]),m++}}return a}function fce(t,e,n,r,i,s,o){const a=n.text,l=n.fontProperties;e.translate(r,i),e.scale(s,s);const u=o.strokeThickness/2,c=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=dce(t,e,o,s,[a],n),e.strokeStyle=o.stroke,o.dropShadow){const h=o.dropShadowColor,d=xs(typeof h=="number"?h:Lf(h)),f=o.dropShadowBlur*s,p=o.dropShadowDistance*s;e.shadowColor=`rgba(${d[0]*255},${d[1]*255},${d[2]*255},${o.dropShadowAlpha})`,e.shadowBlur=f,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*p,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*p}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,u,c+n.lineHeight-l.descent),o.fill&&e.fillText(a,u,c+n.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function wh(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function ZI(t){return Array.from?Array.from(t):t.split("")}function pce(t){typeof t=="string"&&(t=[t]);const e=[];for(let n=0,r=t.length;n<r;n++){const i=t[n];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,l=o;a<=l;a++)e.push(String.fromCharCode(a))}else e.push(...ZI(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const jn=class{constructor(t,e,n){var u;const[r]=t.info,[i]=t.common,[s]=t.page,[o]=t.distanceField,a=Hr(s.file),l={};this._ownsTextures=n,this.font=r.face,this.size=r.size,this.lineHeight=i.lineHeight/a,this.chars={},this.pageTextures=l;for(let c=0;c<t.page.length;c++){const{id:h,file:d}=t.page[c];l[h]=e instanceof Array?e[c]:e[d],o!=null&&o.fieldType&&o.fieldType!=="none"&&(l[h].baseTexture.alphaMode=Fn.NO_PREMULTIPLIED_ALPHA,l[h].baseTexture.mipmap=rr.OFF)}for(let c=0;c<t.char.length;c++){const{id:h,page:d}=t.char[c];let{x:f,y:p,width:m,height:g,xoffset:v,yoffset:b,xadvance:y}=t.char[c];f/=a,p/=a,m/=a,g/=a,v/=a,b/=a,y/=a;const x=new ge(f+l[d].frame.x/a,p+l[d].frame.y/a,m,g);this.chars[h]={xOffset:v,yOffset:b,xAdvance:y,kerning:{},texture:new J(l[d].baseTexture,x),page:d}}for(let c=0;c<t.kerning.length;c++){let{first:h,second:d,amount:f}=t.kerning[c];h/=a,d/=a,f/=a,this.chars[d]&&(this.chars[d].kerning[h]=f)}this.distanceFieldRange=o==null?void 0:o.distanceRange,this.distanceFieldType=((u=o==null?void 0:o.fieldType)==null?void 0:u.toLowerCase())??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,n){let r;if(t instanceof gu)r=t;else{const s=KI(t);if(!s)throw new Error("Unrecognized data format for font.");r=s.parse(t)}e instanceof J&&(e=[e]);const i=new jn(r,e,n);return jn.available[i.font]=i,i}static uninstall(t){const e=jn.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete jn.available[t]}static from(t,e,n){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:r,padding:i,resolution:s,textureWidth:o,textureHeight:a,...l}=Object.assign({},jn.defaultOptions,n),u=pce(r),c=e instanceof Ti?e:new Ti(e),h=o,d=new gu;d.info[0]={face:c.fontFamily,size:c.fontSize},d.common[0]={lineHeight:c.fontSize};let f=0,p=0,m,g,v,b=0;const y=[];for(let S=0;S<u.length;S++){m||(m=ee.ADAPTER.createCanvas(),m.width=o,m.height=a,g=m.getContext("2d"),v=new me(m,{resolution:s,...l}),y.push(new J(v)),d.page.push({id:y.length-1,file:""}));const C=u[S],T=dt.measureText(C,c,!1,m),A=T.width,k=Math.ceil(T.height),M=Math.ceil((c.fontStyle==="italic"?2:1)*A);if(p>=a-k*s){if(p===0)throw new Error(`[BitmapFont] textureHeight ${a}px is too small (fontFamily: '${c.fontFamily}', fontSize: ${c.fontSize}px, char: '${C}')`);--S,m=null,g=null,v=null,p=0,f=0,b=0;continue}if(b=Math.max(k+T.fontProperties.descent,b),M*s+f>=h){if(f===0)throw new Error(`[BitmapFont] textureWidth ${o}px is too small (fontFamily: '${c.fontFamily}', fontSize: ${c.fontSize}px, char: '${C}')`);--S,p+=b*s,p=Math.ceil(p),f=0,b=0;continue}fce(m,g,T,f,p,s,c);const B=wh(T.text);d.char.push({id:B,page:y.length-1,x:f/s,y:p/s,width:M,height:k,xoffset:0,yoffset:0,xadvance:A-(c.dropShadow?c.dropShadowDistance:0)-(c.stroke?c.strokeThickness:0)}),f+=(M+2*i)*s,f=Math.ceil(f)}for(let S=0,C=u.length;S<C;S++){const T=u[S];for(let A=0;A<C;A++){const k=u[A],M=g.measureText(T).width,B=g.measureText(k).width,R=g.measureText(T+k).width-(M+B);R&&d.kerning.push({first:wh(T),second:wh(k),amount:R})}}const x=new jn(d,y,!0);return jn.available[t]!==void 0&&jn.uninstall(t),jn.available[t]=x,x}};let kt=jn;kt.ALPHA=[["a","z"],["A","Z"]," "];kt.NUMERIC=[["0","9"]];kt.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];kt.ASCII=[[" ","~"]];kt.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:jn.ALPHANUMERIC};kt.available={};var mce=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,gce=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const $S=[],BS=[],NS=[],QI=class extends Dt{constructor(t,e={}){super(),this._tint=16777215;const{align:n,tint:r,maxWidth:i,letterSpacing:s,fontName:o,fontSize:a}=Object.assign({},QI.styleDefaults,e);if(!kt.available[o])throw new Error(`Missing BitmapFont "${o}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tint=r,this._font=void 0,this._fontName=o,this._fontSize=a,this.text=t,this._maxWidth=i,this._maxLineHeight=0,this._letterSpacing=s,this._anchor=new Dr(()=>{this.dirty=!0},this,0,0),this._roundPixels=ee.ROUND_PIXELS,this.dirty=!0,this._resolution=ee.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var M;const t=kt.available[this._fontName],e=this.fontSize,n=e/t.size,r=new le,i=[],s=[],o=[],a=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",l=ZI(a),u=this._maxWidth*t.size/e,c=t.distanceFieldType==="none"?$S:BS;let h=null,d=0,f=0,p=0,m=-1,g=0,v=0,b=0,y=0;for(let B=0;B<l.length;B++){const N=l[B],R=wh(N);if(/(?:\s)/.test(N)&&(m=B,g=d,y++),N==="\r"||N===`
`){s.push(d),o.push(-1),f=Math.max(f,d),++p,++v,r.x=0,r.y+=t.lineHeight,h=null,y=0;continue}const F=t.chars[R];if(!F)continue;h&&F.kerning[h]&&(r.x+=F.kerning[h]);const q=NS.pop()||{texture:J.EMPTY,line:0,charCode:0,prevSpaces:0,position:new le};q.texture=F.texture,q.line=p,q.charCode=R,q.position.x=Math.round(r.x+F.xOffset+this._letterSpacing/2),q.position.y=Math.round(r.y+F.yOffset),q.prevSpaces=y,i.push(q),d=q.position.x+Math.max(F.xAdvance-F.xOffset,F.texture.orig.width),r.x+=F.xAdvance+this._letterSpacing,b=Math.max(b,F.yOffset+F.texture.height),h=R,m!==-1&&u>0&&r.x>u&&(++v,ls(i,1+m-v,1+B-m),B=m,m=-1,s.push(g),o.push(i.length>0?i[i.length-1].prevSpaces:0),f=Math.max(f,g),p++,r.x=0,r.y+=t.lineHeight,h=null,y=0)}const x=l[l.length-1];x!=="\r"&&x!==`
`&&(/(?:\s)/.test(x)&&(d=g),s.push(d),f=Math.max(f,d),o.push(-1));const S=[];for(let B=0;B<=p;B++){let N=0;this._align==="right"?N=f-s[B]:this._align==="center"?N=(f-s[B])/2:this._align==="justify"&&(N=o[B]<0?0:(f-s[B])/o[B]),S.push(N)}const C=i.length,T={},A=[],k=this._activePagesMeshData;c.push(...k);for(let B=0;B<C;B++){const N=i[B].texture,R=N.baseTexture.uid;if(!T[R]){let F=c.pop();if(!F){const Q=new qu;let z,$;t.distanceFieldType==="none"?(z=new ia(J.EMPTY),$=ce.NORMAL):(z=new ia(J.EMPTY,{program:Tn.from(gce,mce),uniforms:{uFWidth:0}}),$=ce.NORMAL_NPM);const W=new Es(Q,z);W.blendMode=$,F={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:W,vertices:null,uvs:null,indices:null}}F.index=0,F.indexCount=0,F.vertexCount=0,F.uvsCount=0,F.total=0;const{_textureCache:q}=this;q[R]=q[R]||new J(N.baseTexture),F.mesh.texture=q[R],F.mesh.tint=this._tint,A.push(F),T[R]=F}T[R].total++}for(let B=0;B<k.length;B++)A.includes(k[B])||this.removeChild(k[B].mesh);for(let B=0;B<A.length;B++)A[B].mesh.parent!==this&&this.addChild(A[B].mesh);this._activePagesMeshData=A;for(const B in T){const N=T[B],R=N.total;if(!(((M=N.indices)==null?void 0:M.length)>6*R)||N.vertices.length<Es.BATCHABLE_SIZE*2)N.vertices=new Float32Array(4*2*R),N.uvs=new Float32Array(4*2*R),N.indices=new Uint16Array(6*R);else{const F=N.total,q=N.vertices;for(let Q=F*4*2;Q<q.length;Q++)q[Q]=0}N.mesh.size=6*R}for(let B=0;B<C;B++){const N=i[B];let R=N.position.x+S[N.line]*(this._align==="justify"?N.prevSpaces:1);this._roundPixels&&(R=Math.round(R));const F=R*n,q=N.position.y*n,Q=N.texture,z=T[Q.baseTexture.uid],$=Q.frame,W=Q._uvs,D=z.index++;z.indices[D*6+0]=0+D*4,z.indices[D*6+1]=1+D*4,z.indices[D*6+2]=2+D*4,z.indices[D*6+3]=0+D*4,z.indices[D*6+4]=2+D*4,z.indices[D*6+5]=3+D*4,z.vertices[D*8+0]=F,z.vertices[D*8+1]=q,z.vertices[D*8+2]=F+$.width*n,z.vertices[D*8+3]=q,z.vertices[D*8+4]=F+$.width*n,z.vertices[D*8+5]=q+$.height*n,z.vertices[D*8+6]=F,z.vertices[D*8+7]=q+$.height*n,z.uvs[D*8+0]=W.x0,z.uvs[D*8+1]=W.y0,z.uvs[D*8+2]=W.x1,z.uvs[D*8+3]=W.y1,z.uvs[D*8+4]=W.x2,z.uvs[D*8+5]=W.y2,z.uvs[D*8+6]=W.x3,z.uvs[D*8+7]=W.y3}this._textWidth=f*n,this._textHeight=(r.y+t.lineHeight)*n;for(const B in T){const N=T[B];if(this.anchor.x!==0||this.anchor.y!==0){let Q=0;const z=this._textWidth*this.anchor.x,$=this._textHeight*this.anchor.y;for(let W=0;W<N.total;W++)N.vertices[Q++]-=z,N.vertices[Q++]-=$,N.vertices[Q++]-=z,N.vertices[Q++]-=$,N.vertices[Q++]-=z,N.vertices[Q++]-=$,N.vertices[Q++]-=z,N.vertices[Q++]-=$}this._maxLineHeight=b*n;const R=N.mesh.geometry.getBuffer("aVertexPosition"),F=N.mesh.geometry.getBuffer("aTextureCoord"),q=N.mesh.geometry.getIndex();R.data=N.vertices,F.data=N.uvs,q.data=N.indices,R.update(),F.update(),q.update()}for(let B=0;B<i.length;B++)NS.push(i[B]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:n,size:r}=kt.available[this._fontName];if(n!=="none"){const{a:i,b:s,c:o,d:a}=this.worldTransform,l=Math.sqrt(i*i+s*s),u=Math.sqrt(o*o+a*a),c=(Math.abs(l)+Math.abs(u))/2,h=this.fontSize/r,d=t._view.resolution;for(const f of this._activePagesMeshData)f.mesh.shader.uniforms.uFWidth=c*e*h*d}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=kt.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tint}set tint(t){if(this._tint!==t){this._tint=t;for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!kt.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??kt.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,r=kt.available[this._fontName].distanceFieldType==="none"?$S:BS;r.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],r.filter(i=>e[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=J.EMPTY});for(const i in e)e[i].destroy(),delete e[i];this._font=null,this._textureCache=null,super.destroy(t)}};let JI=QI;JI.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const vce=[".xml",".fnt"],eR={extension:{type:Z.LoadParser,priority:or.Normal},test(t){return vce.includes(gt.extname(t).toLowerCase())},async testParse(t){return Sl.test(t)||Pd.test(t)},async parse(t,e,n){const r=Sl.test(t)?Sl.parse(t):Pd.parse(t),{src:i}=e,{page:s}=r,o=[];for(let u=0;u<s.length;++u){const c=s[u].file;let h=gt.join(gt.dirname(i),c);h=Sd(h,i),o.push(h)}const a=await n.load(o),l=o.map(u=>a[u]);return kt.install(r,l,!0)},async load(t,e){return(await ee.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};se.add(eR);const yce=Object.freeze(Object.defineProperty({__proto__:null,ALPHA_MODES:Fn,AbstractMultiResource:yb,AccessibilityManager:wb,AlphaFilter:sI,AnimatedSprite:Cd,Application:Wf,ArrayResource:tI,Assets:es,AssetsClass:wI,Attribute:au,BLEND_MODES:ce,BUFFER_BITS:fd,BUFFER_TYPE:Qn,BackgroundSystem:H1,BaseImageResource:Wr,BasePrepare:mu,BaseRenderTexture:V1,BaseTexture:me,BatchDrawCall:bd,BatchGeometry:z1,BatchRenderer:wn,BatchShaderGenerator:NO,BatchSystem:G1,BatchTextureArray:xd,BitmapFont:kt,BitmapFontData:gu,BitmapText:JI,BlobResource:PI,BlurFilter:oI,BlurFilterPass:_d,Bounds:uu,BrowserAdapter:pO,Buffer:Je,BufferResource:Sa,BufferSystem:gb,CLEAR_MODES:Wn,COLOR_MASK_BITS:fO,Cache:uo,CanvasResource:nI,Circle:Hu,ColorMatrixFilter:Ed,CompressedTextureResource:bi,Container:Dt,ContextSystem:W1,CountLimiter:WI,CubeResource:bb,DEG_TO_RAD:OO,DRAW_MODES:Xn,DisplacementFilter:aI,DisplayObject:Ge,ENV:Fi,Ellipse:zf,EventBoundary:cI,EventSystem:xb,ExtensionType:Z,Extract:Sb,FORMATS:V,FORMATS_TO_COMPONENTS:II,FXAAFilter:lI,FederatedDisplayObject:hI,FederatedEvent:Ca,FederatedMouseEvent:cu,FederatedPointerEvent:vn,FederatedWheelEvent:ws,FillStyle:Yu,Filter:pt,FilterState:UO,FilterSystem:Z1,Framebuffer:wd,FramebufferSystem:Q1,GC_MODES:Df,GLFramebuffer:jO,GLProgram:WO,GLTexture:vh,GRAPHICS_CURVES:Due,GenerateTextureSystem:sb,Geometry:Gr,GeometrySystem:J1,Graphics:_s,GraphicsData:pu,GraphicsGeometry:Tb,IGLUniformData:ule,INSTALLED:yd,INTERNAL_FORMATS:Lt,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:du,ImageBitmapResource:Ji,ImageResource:X1,LINE_CAP:ui,LINE_JOIN:yn,LineStyle:Yf,LoaderParserPriority:or,MASK_TYPES:it,MIPMAP_MODES:rr,MSAA_QUALITY:Ve,MaskData:HO,MaskSystem:eb,Matrix:Ne,Mesh:Es,MeshBatchUvs:UI,MeshGeometry:qu,MeshMaterial:ia,MultisampleSystem:mb,NineSlicePlane:zue,NoiseFilter:uI,ObjectRenderer:Wu,ObjectRendererSystem:vb,ObservablePoint:Dr,PI_2:lu,PRECISION:nn,ParticleContainer:Wue,ParticleRenderer:Ab,PlaneGeometry:zI,PluginSystem:rb,Point:le,Polygon:us,Prepare:Pb,Program:Tn,ProjectionSystem:ib,Quad:LO,QuadUv:K1,RAD_TO_DEG:PO,RENDERER_TYPE:$1,Rectangle:ge,RenderTexture:Vr,RenderTexturePool:q1,RenderTextureSystem:ob,Renderer:ks,ResizePlugin:_b,Resource:ea,RopeGeometry:HI,RoundedRectangle:ta,Runner:cn,SAMPLER_TYPES:pd,SCALE_MODES:yr,SHAPES:ft,SVGResource:na,ScissorSystem:tb,Shader:er,ShaderSystem:ab,SimpleMesh:Hue,SimplePlane:GI,SimpleRope:Gue,Sprite:Di,SpriteMaskFilter:zO,Spritesheet:Td,StartupSystem:lb,State:Tr,StateSystem:ub,StencilSystem:nb,SystemManager:ZO,TARGETS:as,TEXT_GRADIENT:Ku,TYPES:ae,TYPES_TO_BYTES_PER_COMPONENT:L0,TYPES_TO_BYTES_PER_PIXEL:RI,TemporaryDisplayObject:rI,Text:sa,TextFormat:Sl,TextMetrics:dt,TextStyle:Ti,Texture:J,TextureGCSystem:_n,TextureMatrix:Hf,TextureSystem:cb,TextureUvs:Y1,Ticker:at,TickerPlugin:fb,TilingSprite:Ob,TilingSpriteRenderer:Ib,TimeLimiter:oce,Transform:Gu,TransformFeedback:Tle,TransformFeedbackSystem:hb,UPDATE_PRIORITY:Si,UniformGroup:On,VERSION:Ale,VideoResource:Gf,ViewSystem:db,ViewableBuffer:vd,WRAP_MODES:_r,XMLFormat:Ad,XMLStringFormat:Pd,accessibleTarget:dI,autoDetectFormat:KI,autoDetectRenderer:JO,autoDetectResource:j1,cacheTextureArray:_I,checkDataUrl:Eb,checkExtension:Vu,checkMaxIfStatementsInShader:AO,convertToList:Er,copySearchParams:Sd,createStringVariations:pI,createTexture:Xu,createUBOElements:YO,curves:Ci,defaultFilterVertex:pb,defaultVertex:eI,detectAvif:EI,detectCompressedTextures:AI,detectDefaults:CI,detectWebp:SI,extensions:se,filters:$0,generateProgram:VO,generateUniformBufferSync:KO,getFontFamilyName:vI,getTestContext:FO,getUBOData:qO,graphicsUtils:Lue,groupD8:je,isMobile:Yn,isSingleItem:hu,loadBitmapFont:eR,loadDDS:MI,loadImageBitmap:bI,loadJson:mI,loadKTX:FI,loadSVG:xI,loadTextures:ra,loadTxt:gI,loadWebFont:yI,parseDDS:OI,parseKTX:kI,resolveCompressedTextureUrl:DI,resolveTextureUrl:TI,settings:ee,spritesheetAsset:qI,uniformParsers:cs,unsafeEvalSupported:BO,utils:kae},Symbol.toStringTag,{value:"Module"})),bce=lR(yce);var Od=kr&&kr.__assign||function(){return Od=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Od.apply(this,arguments)},tR=void 0,lr=bce,xce={dash:[10,5],width:1,color:16777215,alpha:1,scale:1,useTexture:!1,alignment:.5},wce=function(){function t(e,n){n===void 0&&(n={}),this.cursor=new lr.Point,this.scale=1,this.graphics=e,n=Od(Od({},xce),n),this.dash=n.dash,this.dashSize=this.dash.reduce(function(r,i){return r+i}),this.useTexture=n.useTexture,this.options=n,this.setLineStyle()}return t.prototype.setLineStyle=function(){var e=this.options;if(this.useTexture){var n=t.getTexture(e,this.dashSize);this.graphics.lineTextureStyle({width:e.width*e.scale,color:e.color,alpha:e.alpha,texture:n,alignment:e.alignment}),this.activeTexture=n}else this.graphics.lineStyle({width:e.width*e.scale,color:e.color,alpha:e.alpha,cap:e.cap,join:e.join,alignment:e.alignment});this.scale=e.scale},t.distance=function(e,n,r,i){return Math.sqrt(Math.pow(r-e,2)+Math.pow(i-n,2))},t.prototype.moveTo=function(e,n){return this.lineLength=0,this.cursor.set(e,n),this.start=new lr.Point(e,n),this.graphics.moveTo(this.cursor.x,this.cursor.y),this},t.prototype.lineTo=function(e,n,r){typeof this.lineLength===void 0&&this.moveTo(0,0);var i=t.distance(this.cursor.x,this.cursor.y,e,n),s=Math.atan2(n-this.cursor.y,e-this.cursor.x),o=r&&e===this.start.x&&n===this.start.y;if(this.useTexture)if(this.graphics.moveTo(this.cursor.x,this.cursor.y),this.adjustLineStyle(s),o&&this.dash.length%2===0){var a=Math.min(this.dash[this.dash.length-1],i);this.graphics.lineTo(e-Math.cos(s)*a,n-Math.sin(s)*a),this.graphics.closePath()}else this.graphics.lineTo(e,n);else{for(var l=Math.cos(s),u=Math.sin(s),c=this.cursor.x,h=this.cursor.y,d=this.lineLength%(this.dashSize*this.scale),f=0,p=0,m=0,g=0;g<this.dash.length;g++){var v=this.dash[g]*this.scale;if(d<m+v){f=g,p=d-m;break}else m+=v}for(var b=i;b>0;){var v=this.dash[f]*this.scale-p,y=b>v?v:b;if(o){var x=t.distance(c+l*y,h+u*y,this.start.x,this.start.y);if(x<=y){if(f%2===0){var S=t.distance(c,h,this.start.x,this.start.y)-this.dash[this.dash.length-1]*this.scale;c+=l*S,h+=u*S,this.graphics.lineTo(c,h)}break}}c+=l*y,h+=u*y,f%2?this.graphics.moveTo(c,h):this.graphics.lineTo(c,h),b-=y,f++,f=f===this.dash.length?0:f,p=0}}return this.lineLength+=i,this.cursor.set(e,n),this},t.prototype.closePath=function(){this.lineTo(this.start.x,this.start.y,!0)},t.prototype.drawCircle=function(e,n,r,i,s){i===void 0&&(i=80);var o=Math.PI*2/i,a=0,l;s?(l=new lr.Point(e+Math.cos(a)*r,n+Math.sin(a)*r),s.apply(l,l),this.moveTo(l[0],l[1])):(l=new lr.Point(e+Math.cos(a)*r,n+Math.sin(a)*r),this.moveTo(l.x,l.y)),a+=o;for(var u=1;u<i+1;u++){var c=u===i?l:[e+Math.cos(a)*r,n+Math.sin(a)*r];this.lineTo(c[0],c[1]),a+=o}return this},t.prototype.drawEllipse=function(e,n,r,i,s,o){s===void 0&&(s=80);for(var a=Math.PI*2/s,l,u=new lr.Point,c=0;c<Math.PI*2;c+=a){var h=e-r*Math.sin(c),d=n-i*Math.cos(c);o&&(u.set(h,d),o.apply(u,u),h=u.x,d=u.y),c===0?(this.moveTo(h,d),l={x:h,y:d}):this.lineTo(h,d)}return this.lineTo(l.x,l.y,!0),this},t.prototype.drawPolygon=function(e,n){var r=new lr.Point;if(typeof e[0]=="number")if(n){r.set(e[0],e[1]),n.apply(r,r),this.moveTo(r.x,r.y);for(var i=2;i<e.length;i+=2)r.set(e[i],e[i+1]),n.apply(r,r),this.lineTo(r.x,r.y,i===e.length-2)}else{this.moveTo(e[0],e[1]);for(var i=2;i<e.length;i+=2)this.lineTo(e[i],e[i+1],i===e.length-2)}else if(n){var s=e[0];r.copyFrom(s),n.apply(r,r),this.moveTo(r.x,r.y);for(var i=1;i<e.length;i++){var o=e[i];r.copyFrom(o),n.apply(r,r),this.lineTo(r.x,r.y,i===e.length-1)}}else{var s=e[0];this.moveTo(s.x,s.y);for(var i=1;i<e.length;i++){var a=e[i];this.lineTo(a.x,a.y,i===e.length-1)}}return this},t.prototype.drawRect=function(e,n,r,i,s){if(s){var o=new lr.Point;o.set(e,n),s.apply(o,o),this.moveTo(o.x,o.y),o.set(e+r,n),s.apply(o,o),this.lineTo(o.x,o.y),o.set(e+r,n+i),s.apply(o,o),this.lineTo(o.x,o.y),o.set(e,n+i),s.apply(o,o),this.lineTo(o.x,o.y),o.set(e,n),s.apply(o,o),this.lineTo(o.x,o.y,!0)}else this.moveTo(e,n).lineTo(e+r,n).lineTo(e+r,n+i).lineTo(e,n+i).lineTo(e,n,!0);return this},t.prototype.adjustLineStyle=function(e){var n=this.graphics.line;n.matrix=new lr.Matrix,e&&n.matrix.rotate(e),this.scale!==1&&n.matrix.scale(this.scale,this.scale);var r=-this.lineLength;n.matrix.translate(this.cursor.x+r*Math.cos(e),this.cursor.y+r*Math.sin(e)),this.graphics.lineStyle(n)},t.getTexture=function(e,n){var r=e.dash.toString();if(t.dashTextureCache[r])return t.dashTextureCache[r];var i=document.createElement("canvas");i.width=n,i.height=Math.ceil(e.width);var s=i.getContext("2d");if(!s){console.warn("Did not get context from canvas");return}s.strokeStyle="white",s.globalAlpha=e.alpha,s.lineWidth=e.width;var o=0,a=e.width/2;s.moveTo(o,a);for(var l=0;l<e.dash.length;l+=2)o+=e.dash[l],s.lineTo(o,a),e.dash.length!==l+1&&(o+=e.dash[l+1],s.moveTo(o,a));s.stroke();var u=t.dashTextureCache[r]=lr.Texture.from(i);return u.baseTexture.scaleMode=lr.SCALE_MODES.NEAREST,u},t.dashTextureCache={},t}();tR=wce;var _ce=Object.defineProperty,Ece=(t,e,n)=>e in t?_ce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,U=(t,e,n)=>(Ece(t,typeof e!="symbol"?e+"":e,n),n);class Dn{constructor(e){U(this,"parent"),U(this,"paused"),this.parent=e,this.paused=!1}destroy(){}down(e){return!1}move(e){return!1}up(e){return!1}wheel(e){return!1}update(e){}resize(){}reset(){}pause(){this.paused=!0}resume(){this.paused=!1}}var Sce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nR={exports:{}};(function(t,e){(function(){var n,r;r=function(i){return t.exports=i},n={linear:function(i,s,o,a){return o*i/a+s},easeInQuad:function(i,s,o,a){return o*(i/=a)*i+s},easeOutQuad:function(i,s,o,a){return-o*(i/=a)*(i-2)+s},easeInOutQuad:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i+s:-o/2*(--i*(i-2)-1)+s},easeInCubic:function(i,s,o,a){return o*(i/=a)*i*i+s},easeOutCubic:function(i,s,o,a){return o*((i=i/a-1)*i*i+1)+s},easeInOutCubic:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i+s:o/2*((i-=2)*i*i+2)+s},easeInQuart:function(i,s,o,a){return o*(i/=a)*i*i*i+s},easeOutQuart:function(i,s,o,a){return-o*((i=i/a-1)*i*i*i-1)+s},easeInOutQuart:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i*i+s:-o/2*((i-=2)*i*i*i-2)+s},easeInQuint:function(i,s,o,a){return o*(i/=a)*i*i*i*i+s},easeOutQuint:function(i,s,o,a){return o*((i=i/a-1)*i*i*i*i+1)+s},easeInOutQuint:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i*i*i+s:o/2*((i-=2)*i*i*i*i+2)+s},easeInSine:function(i,s,o,a){return-o*Math.cos(i/a*(Math.PI/2))+o+s},easeOutSine:function(i,s,o,a){return o*Math.sin(i/a*(Math.PI/2))+s},easeInOutSine:function(i,s,o,a){return-o/2*(Math.cos(Math.PI*i/a)-1)+s},easeInExpo:function(i,s,o,a){return i===0?s:o*Math.pow(2,10*(i/a-1))+s},easeOutExpo:function(i,s,o,a){return i===a?s+o:o*(-Math.pow(2,-10*i/a)+1)+s},easeInOutExpo:function(i,s,o,a){return(i/=a/2)<1?o/2*Math.pow(2,10*(i-1))+s:o/2*(-Math.pow(2,-10*--i)+2)+s},easeInCirc:function(i,s,o,a){return-o*(Math.sqrt(1-(i/=a)*i)-1)+s},easeOutCirc:function(i,s,o,a){return o*Math.sqrt(1-(i=i/a-1)*i)+s},easeInOutCirc:function(i,s,o,a){return(i/=a/2)<1?-o/2*(Math.sqrt(1-i*i)-1)+s:o/2*(Math.sqrt(1-(i-=2)*i)+1)+s},easeInElastic:function(i,s,o,a){var l,u,c;return c=1.70158,u=0,l=o,i===0||(i/=a),u||(u=a*.3),l<Math.abs(o)?(l=o,c=u/4):c=u/(2*Math.PI)*Math.asin(o/l),-(l*Math.pow(2,10*(i-=1))*Math.sin((i*a-c)*(2*Math.PI)/u))+s},easeOutElastic:function(i,s,o,a){var l,u,c;return c=1.70158,u=0,l=o,i===0||(i/=a),u||(u=a*.3),l<Math.abs(o)?(l=o,c=u/4):c=u/(2*Math.PI)*Math.asin(o/l),l*Math.pow(2,-10*i)*Math.sin((i*a-c)*(2*Math.PI)/u)+o+s},easeInOutElastic:function(i,s,o,a){var l,u,c;return c=1.70158,u=0,l=o,i===0||(i/=a/2),u||(u=a*(.3*1.5)),l<Math.abs(o)?(l=o,c=u/4):c=u/(2*Math.PI)*Math.asin(o/l),i<1?-.5*(l*Math.pow(2,10*(i-=1))*Math.sin((i*a-c)*(2*Math.PI)/u))+s:l*Math.pow(2,-10*(i-=1))*Math.sin((i*a-c)*(2*Math.PI)/u)*.5+o+s},easeInBack:function(i,s,o,a,l){return l===void 0&&(l=1.70158),o*(i/=a)*i*((l+1)*i-l)+s},easeOutBack:function(i,s,o,a,l){return l===void 0&&(l=1.70158),o*((i=i/a-1)*i*((l+1)*i+l)+1)+s},easeInOutBack:function(i,s,o,a,l){return l===void 0&&(l=1.70158),(i/=a/2)<1?o/2*(i*i*(((l*=1.525)+1)*i-l))+s:o/2*((i-=2)*i*(((l*=1.525)+1)*i+l)+2)+s},easeInBounce:function(i,s,o,a){var l;return l=n.easeOutBounce(a-i,0,o,a),o-l+s},easeOutBounce:function(i,s,o,a){return(i/=a)<1/2.75?o*(7.5625*i*i)+s:i<2/2.75?o*(7.5625*(i-=1.5/2.75)*i+.75)+s:i<2.5/2.75?o*(7.5625*(i-=2.25/2.75)*i+.9375)+s:o*(7.5625*(i-=2.625/2.75)*i+.984375)+s},easeInOutBounce:function(i,s,o,a){var l;return i<a/2?(l=n.easeInBounce(i*2,0,o,a),l*.5+s):(l=n.easeOutBounce(i*2-a,0,o,a),l*.5+o*.5+s)}},r(n)}).call(Sce)})(nR);const LS=nR.exports;function qf(t,e){if(t){if(typeof t=="function")return t;if(typeof t=="string")return LS[t]}else return LS[e]}const Cce={removeOnInterrupt:!1,ease:"linear",time:1e3};class Tce extends Dn{constructor(e,n={}){super(e),U(this,"options"),U(this,"startX"),U(this,"startY"),U(this,"deltaX"),U(this,"deltaY"),U(this,"keepCenter"),U(this,"startWidth",null),U(this,"startHeight",null),U(this,"deltaWidth",null),U(this,"deltaHeight",null),U(this,"width",null),U(this,"height",null),U(this,"time",0),this.options=Object.assign({},Cce,n),this.options.ease=qf(this.options.ease),this.setupPosition(),this.setupZoom(),this.time=0}setupPosition(){typeof this.options.position<"u"?(this.startX=this.parent.center.x,this.startY=this.parent.center.y,this.deltaX=this.options.position.x-this.parent.center.x,this.deltaY=this.options.position.y-this.parent.center.y,this.keepCenter=!1):this.keepCenter=!0}setupZoom(){this.width=null,this.height=null,typeof this.options.scale<"u"?this.width=this.parent.screenWidth/this.options.scale:typeof this.options.scaleX<"u"||typeof this.options.scaleY<"u"?(typeof this.options.scaleX<"u"&&(this.width=this.parent.screenWidth/this.options.scaleX),typeof this.options.scaleY<"u"&&(this.height=this.parent.screenHeight/this.options.scaleY)):(typeof this.options.width<"u"&&(this.width=this.options.width),typeof this.options.height<"u"&&(this.height=this.options.height)),this.width!==null&&(this.startWidth=this.parent.screenWidthInWorldPixels,this.deltaWidth=this.width-this.startWidth),this.height!==null&&(this.startHeight=this.parent.screenHeightInWorldPixels,this.deltaHeight=this.height-this.startHeight)}down(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("animate"),!1}complete(){this.parent.plugins.remove("animate"),this.width!==null&&this.parent.fitWidth(this.width,this.keepCenter,this.height===null),this.height!==null&&this.parent.fitHeight(this.height,this.keepCenter,this.width===null),!this.keepCenter&&this.options.position&&this.parent.moveCenter(this.options.position),this.parent.emit("animate-end",this.parent),this.options.callbackOnComplete&&this.options.callbackOnComplete(this.parent)}update(e){if(this.paused)return;this.time+=e;const n=new le(this.parent.scale.x,this.parent.scale.y);if(this.time>=this.options.time){const r=this.parent.width,i=this.parent.height;this.complete(),(r!==this.parent.width||i!==this.parent.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:n,type:"animate"})}else{const r=this.options.ease(this.time,0,1,this.options.time);if(this.width!==null){const i=this.startWidth,s=this.deltaWidth;this.parent.fitWidth(i+s*r,this.keepCenter,this.height===null)}if(this.height!==null){const i=this.startHeight,s=this.deltaHeight;this.parent.fitHeight(i+s*r,this.keepCenter,this.width===null)}if(this.width===null?this.parent.scale.x=this.parent.scale.y:this.height===null&&(this.parent.scale.y=this.parent.scale.x),!this.keepCenter){const i=this.startX,s=this.startY,o=this.deltaX,a=this.deltaY,l=new le(this.parent.x,this.parent.y);this.parent.moveCenter(i+o*r,s+a*r),this.parent.emit("moved",{viewport:this.parent,original:l,type:"animate"})}(this.width||this.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:n,type:"animate"})}}}const Ace={sides:"all",friction:.5,time:150,ease:"easeInOutSine",underflow:"center",bounceBox:null};class Pce extends Dn{constructor(e,n={}){super(e),U(this,"options"),U(this,"left"),U(this,"top"),U(this,"right"),U(this,"bottom"),U(this,"underflowX"),U(this,"underflowY"),U(this,"ease"),U(this,"toX"),U(this,"toY"),this.options=Object.assign({},Ace,n),this.ease=qf(this.options.ease,"easeInOutSine"),this.options.sides?this.options.sides==="all"?this.top=this.bottom=this.left=this.right=!0:this.options.sides==="horizontal"?(this.right=this.left=!0,this.top=this.bottom=!1):this.options.sides==="vertical"?(this.left=this.right=!1,this.top=this.bottom=!0):(this.top=this.options.sides.indexOf("top")!==-1,this.bottom=this.options.sides.indexOf("bottom")!==-1,this.left=this.options.sides.indexOf("left")!==-1,this.right=this.options.sides.indexOf("right")!==-1):this.left=this.top=this.right=this.bottom=!1;const r=this.options.underflow.toLowerCase();r==="center"?(this.underflowX=0,this.underflowY=0):(this.underflowX=r.indexOf("left")!==-1?-1:r.indexOf("right")!==-1?1:0,this.underflowY=r.indexOf("top")!==-1?-1:r.indexOf("bottom")!==-1?1:0),this.reset()}isActive(){return this.toX!==null||this.toY!==null}down(){return this.toX=this.toY=null,!1}up(){return this.bounce(),!1}update(e){if(!this.paused){if(this.bounce(),this.toX){const n=this.toX;n.time+=e,this.parent.emit("moved",{viewport:this.parent,type:"bounce-x"}),n.time>=this.options.time?(this.parent.x=n.end,this.toX=null,this.parent.emit("bounce-x-end",this.parent)):this.parent.x=this.ease(n.time,n.start,n.delta,this.options.time)}if(this.toY){const n=this.toY;n.time+=e,this.parent.emit("moved",{viewport:this.parent,type:"bounce-y"}),n.time>=this.options.time?(this.parent.y=n.end,this.toY=null,this.parent.emit("bounce-y-end",this.parent)):this.parent.y=this.ease(n.time,n.start,n.delta,this.options.time)}}}calcUnderflowX(){let e;switch(this.underflowX){case-1:e=0;break;case 1:e=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:e=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}return e}calcUnderflowY(){let e;switch(this.underflowY){case-1:e=0;break;case 1:e=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:e=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}return e}oob(){const e=this.options.bounceBox;if(e){const n=typeof e.x>"u"?0:e.x,r=typeof e.y>"u"?0:e.y,i=typeof e.width>"u"?this.parent.worldWidth:e.width,s=typeof e.height>"u"?this.parent.worldHeight:e.height;return{left:this.parent.left<n,right:this.parent.right>i,top:this.parent.top<r,bottom:this.parent.bottom>s,topLeft:new le(n*this.parent.scale.x,r*this.parent.scale.y),bottomRight:new le(i*this.parent.scale.x-this.parent.screenWidth,s*this.parent.scale.y-this.parent.screenHeight)}}return{left:this.parent.left<0,right:this.parent.right>this.parent.worldWidth,top:this.parent.top<0,bottom:this.parent.bottom>this.parent.worldHeight,topLeft:new le(0,0),bottomRight:new le(this.parent.worldWidth*this.parent.scale.x-this.parent.screenWidth,this.parent.worldHeight*this.parent.scale.y-this.parent.screenHeight)}}bounce(){var e,n;if(this.paused)return;let r,i=this.parent.plugins.get("decelerate",!0);i&&(i.x||i.y)&&(i.x&&i.percentChangeX===((e=i.options)==null?void 0:e.friction)||i.y&&i.percentChangeY===((n=i.options)==null?void 0:n.friction))&&(r=this.oob(),(r.left&&this.left||r.right&&this.right)&&(i.percentChangeX=this.options.friction),(r.top&&this.top||r.bottom&&this.bottom)&&(i.percentChangeY=this.options.friction));const s=this.parent.plugins.get("drag",!0)||{},o=this.parent.plugins.get("pinch",!0)||{};if(i=i||{},!(s!=null&&s.active)&&!(o!=null&&o.active)&&(!this.toX||!this.toY)&&(!i.x||!i.y)){r=r||this.oob();const a=r.topLeft,l=r.bottomRight;if(!this.toX&&!i.x){let u=null;r.left&&this.left?u=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-a.x:r.right&&this.right&&(u=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-l.x),u!==null&&this.parent.x!==u&&(this.toX={time:0,start:this.parent.x,delta:u-this.parent.x,end:u},this.parent.emit("bounce-x-start",this.parent))}if(!this.toY&&!i.y){let u=null;r.top&&this.top?u=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-a.y:r.bottom&&this.bottom&&(u=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-l.y),u!==null&&this.parent.y!==u&&(this.toY={time:0,start:this.parent.y,delta:u-this.parent.y,end:u},this.parent.emit("bounce-y-start",this.parent))}}}reset(){this.toX=this.toY=null,this.bounce()}}const Oce={left:!1,right:!1,top:!1,bottom:!1,direction:null,underflow:"center"};class Ice extends Dn{constructor(e,n={}){super(e),U(this,"options"),U(this,"last"),U(this,"noUnderflow"),U(this,"underflowX"),U(this,"underflowY"),this.options=Object.assign({},Oce,n),this.options.direction&&(this.options.left=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.right=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.top=this.options.direction==="y"||this.options.direction==="all"?!0:null,this.options.bottom=this.options.direction==="y"||this.options.direction==="all"?!0:null),this.parseUnderflow(),this.last={x:null,y:null,scaleX:null,scaleY:null},this.update()}parseUnderflow(){const e=this.options.underflow.toLowerCase();e==="none"?this.noUnderflow=!0:e==="center"?(this.underflowX=this.underflowY=0,this.noUnderflow=!1):(this.underflowX=e.indexOf("left")!==-1?-1:e.indexOf("right")!==-1?1:0,this.underflowY=e.indexOf("top")!==-1?-1:e.indexOf("bottom")!==-1?1:0,this.noUnderflow=!1)}move(){return this.update(),!1}update(){if(this.paused||this.parent.x===this.last.x&&this.parent.y===this.last.y&&this.parent.scale.x===this.last.scaleX&&this.parent.scale.y===this.last.scaleY)return;const e=new le(this.parent.x,this.parent.y),n=this.parent.plugins.decelerate||{};if(this.options.left!==null||this.options.right!==null){let r=!1;if(!this.noUnderflow&&this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x!==0&&(this.parent.x=0,r=!0);break;case 1:this.parent.x!==this.parent.screenWidth-this.parent.screenWorldWidth&&(this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth,r=!0);break;default:this.parent.x!==(this.parent.screenWidth-this.parent.screenWorldWidth)/2&&(this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2,r=!0)}else this.options.left!==null&&this.parent.left<(this.options.left===!0?0:this.options.left)&&(this.parent.x=-(this.options.left===!0?0:this.options.left)*this.parent.scale.x,n.x=0,r=!0),this.options.right!==null&&this.parent.right>(this.options.right===!0?this.parent.worldWidth:this.options.right)&&(this.parent.x=-(this.options.right===!0?this.parent.worldWidth:this.options.right)*this.parent.scale.x+this.parent.screenWidth,n.x=0,r=!0);r&&this.parent.emit("moved",{viewport:this.parent,original:e,type:"clamp-x"})}if(this.options.top!==null||this.options.bottom!==null){let r=!1;if(!this.noUnderflow&&this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y!==0&&(this.parent.y=0,r=!0);break;case 1:this.parent.y!==this.parent.screenHeight-this.parent.screenWorldHeight&&(this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight,r=!0);break;default:this.parent.y!==(this.parent.screenHeight-this.parent.screenWorldHeight)/2&&(this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2,r=!0)}else this.options.top!==null&&this.parent.top<(this.options.top===!0?0:this.options.top)&&(this.parent.y=-(this.options.top===!0?0:this.options.top)*this.parent.scale.y,n.y=0,r=!0),this.options.bottom!==null&&this.parent.bottom>(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)&&(this.parent.y=-(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)*this.parent.scale.y+this.parent.screenHeight,n.y=0,r=!0);r&&this.parent.emit("moved",{viewport:this.parent,original:e,type:"clamp-y"})}this.last.x=this.parent.x,this.last.y=this.parent.y,this.last.scaleX=this.parent.scale.x,this.last.scaleY=this.parent.scale.y}reset(){this.update()}}const Rce={minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,minScale:null,maxScale:null};class kce extends Dn{constructor(e,n={}){super(e),U(this,"options"),this.options=Object.assign({},Rce,n),this.clamp()}resize(){this.clamp()}clamp(){if(!this.paused){if(this.options.minWidth||this.options.minHeight||this.options.maxWidth||this.options.maxHeight){let e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight;if(this.options.minWidth!==null&&e<this.options.minWidth){const r=this.parent.scale.x;this.parent.fitWidth(this.options.minWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/r,e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxWidth!==null&&e>this.options.maxWidth){const r=this.parent.scale.x;this.parent.fitWidth(this.options.maxWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/r,e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.minHeight!==null&&n<this.options.minHeight){const r=this.parent.scale.y;this.parent.fitHeight(this.options.minHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/r,e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxHeight!==null&&n>this.options.maxHeight){const r=this.parent.scale.y;this.parent.fitHeight(this.options.maxHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/r,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}}else if(this.options.minScale||this.options.maxScale){const e={x:null,y:null},n={x:null,y:null};if(typeof this.options.minScale=="number")e.x=this.options.minScale,e.y=this.options.minScale;else if(this.options.minScale!==null){const s=this.options.minScale;e.x=typeof s.x>"u"?null:s.x,e.y=typeof s.y>"u"?null:s.y}if(typeof this.options.maxScale=="number")n.x=this.options.maxScale,n.y=this.options.maxScale;else if(this.options.maxScale!==null){const s=this.options.maxScale;n.x=typeof s.x>"u"?null:s.x,n.y=typeof s.y>"u"?null:s.y}let r=this.parent.scale.x,i=this.parent.scale.y;e.x!==null&&r<e.x&&(r=e.x),n.x!==null&&r>n.x&&(r=n.x),e.y!==null&&i<e.y&&(i=e.y),n.y!==null&&i>n.y&&(i=n.y),(r!==this.parent.scale.x||i!==this.parent.scale.y)&&(this.parent.scale.set(r,i),this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"}))}}}reset(){this.clamp()}}const Mce={friction:.98,bounce:.8,minSpeed:.01},ei=16;class Fce extends Dn{constructor(e,n={}){super(e),U(this,"options"),U(this,"x"),U(this,"y"),U(this,"percentChangeX"),U(this,"percentChangeY"),U(this,"saved"),U(this,"timeSinceRelease"),this.options=Object.assign({},Mce,n),this.saved=[],this.timeSinceRelease=0,this.reset(),this.parent.on("moved",r=>this.handleMoved(r))}down(){return this.saved=[],this.x=this.y=null,!1}isActive(){return!!(this.x||this.y)}move(){if(this.paused)return!1;const e=this.parent.input.count();return(e===1||e>1&&!this.parent.plugins.get("pinch",!0))&&(this.saved.push({x:this.parent.x,y:this.parent.y,time:performance.now()}),this.saved.length>60&&this.saved.splice(0,30)),!1}handleMoved(e){if(this.saved.length){const n=this.saved[this.saved.length-1];e.type==="clamp-x"&&e.original?n.x===e.original.x&&(n.x=this.parent.x):e.type==="clamp-y"&&e.original&&n.y===e.original.y&&(n.y=this.parent.y)}}up(){if(this.parent.input.count()===0&&this.saved.length){const e=performance.now();for(const n of this.saved)if(n.time>=e-100){const r=e-n.time;this.x=(this.parent.x-n.x)/r,this.y=(this.parent.y-n.y)/r,this.percentChangeX=this.percentChangeY=this.options.friction,this.timeSinceRelease=0;break}}return!1}activate(e){e=e||{},typeof e.x<"u"&&(this.x=e.x,this.percentChangeX=this.options.friction),typeof e.y<"u"&&(this.y=e.y,this.percentChangeY=this.options.friction)}update(e){if(this.paused)return;const n=this.x||this.y,r=this.timeSinceRelease,i=this.timeSinceRelease+e;if(this.x){const s=this.percentChangeX,o=Math.log(s);this.parent.x+=this.x*ei/o*(Math.pow(s,i/ei)-Math.pow(s,r/ei)),this.x*=Math.pow(this.percentChangeX,e/ei)}if(this.y){const s=this.percentChangeY,o=Math.log(s);this.parent.y+=this.y*ei/o*(Math.pow(s,i/ei)-Math.pow(s,r/ei)),this.y*=Math.pow(this.percentChangeY,e/ei)}this.timeSinceRelease+=e,this.x&&this.y?Math.abs(this.x)<this.options.minSpeed&&Math.abs(this.y)<this.options.minSpeed&&(this.x=0,this.y=0):(Math.abs(this.x||0)<this.options.minSpeed&&(this.x=0),Math.abs(this.y||0)<this.options.minSpeed&&(this.y=0)),n&&this.parent.emit("moved",{viewport:this.parent,type:"decelerate"})}reset(){this.x=this.y=null}}const Dce={direction:"all",pressDrag:!0,wheel:!0,wheelScroll:1,reverse:!1,clampWheel:!1,underflow:"center",factor:1,mouseButtons:"all",keyToPress:null,ignoreKeyToPressOnTouch:!1,lineHeight:20,wheelSwapAxes:!1};class $ce extends Dn{constructor(e,n={}){super(e),U(this,"options"),U(this,"moved"),U(this,"reverse"),U(this,"xDirection"),U(this,"yDirection"),U(this,"keyIsPressed"),U(this,"mouse"),U(this,"underflowX"),U(this,"underflowY"),U(this,"last"),U(this,"current"),U(this,"windowEventHandlers",[]),this.options=Object.assign({},Dce,n),this.moved=!1,this.reverse=this.options.reverse?1:-1,this.xDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="x",this.yDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="y",this.keyIsPressed=!1,this.parseUnderflow(),this.mouseButtons(this.options.mouseButtons),this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(e){const n=i=>{e.includes(i.code)&&(this.keyIsPressed=!0)},r=i=>{e.includes(i.code)&&(this.keyIsPressed=!1)};this.addWindowEventHandler("keyup",r),this.addWindowEventHandler("keydown",n)}addWindowEventHandler(e,n){window.addEventListener(e,n),this.windowEventHandlers.push({event:e,handler:n})}destroy(){this.windowEventHandlers.forEach(({event:e,handler:n})=>{window.removeEventListener(e,n)})}mouseButtons(e){!e||e==="all"?this.mouse=[!0,!0,!0]:this.mouse=[e.indexOf("left")!==-1,e.indexOf("middle")!==-1,e.indexOf("right")!==-1]}parseUnderflow(){const e=this.options.underflow.toLowerCase();e==="center"?(this.underflowX=0,this.underflowY=0):(e.includes("left")?this.underflowX=-1:e.includes("right")?this.underflowX=1:this.underflowX=0,e.includes("top")?this.underflowY=-1:e.includes("bottom")?this.underflowY=1:this.underflowY=0)}checkButtons(e){const n=e.pointerType==="mouse",r=this.parent.input.count();return!!((r===1||r>1&&!this.parent.plugins.get("pinch",!0))&&(!n||this.mouse[e.button]))}checkKeyPress(e){return!this.options.keyToPress||this.keyIsPressed||this.options.ignoreKeyToPressOnTouch&&e.data.pointerType==="touch"}down(e){return this.paused||!this.options.pressDrag?!1:this.checkButtons(e)&&this.checkKeyPress(e)?(this.last={x:e.global.x,y:e.global.y},this.current=e.pointerId,!0):(this.last=null,!1)}get active(){return this.moved}move(e){if(this.paused||!this.options.pressDrag)return!1;if(this.last&&this.current===e.data.pointerId){const n=e.global.x,r=e.global.y,i=this.parent.input.count();if(i===1||i>1&&!this.parent.plugins.get("pinch",!0)){const s=n-this.last.x,o=r-this.last.y;if(this.moved||this.xDirection&&this.parent.input.checkThreshold(s)||this.yDirection&&this.parent.input.checkThreshold(o)){const a={x:n,y:r};return this.xDirection&&(this.parent.x+=(a.x-this.last.x)*this.options.factor),this.yDirection&&(this.parent.y+=(a.y-this.last.y)*this.options.factor),this.last=a,this.moved||this.parent.emit("drag-start",{event:e,screen:new le(this.last.x,this.last.y),world:this.parent.toWorld(new le(this.last.x,this.last.y)),viewport:this.parent}),this.moved=!0,this.parent.emit("moved",{viewport:this.parent,type:"drag"}),!0}}else this.moved=!1}return!1}up(e){if(this.paused)return!1;const n=this.parent.input.touches;if(n.length===1){const r=n[0];return r.last&&(this.last={x:r.last.x,y:r.last.y},this.current=r.id),this.moved=!1,!0}else if(this.last&&this.moved){const r=new le(this.last.x,this.last.y);return this.parent.emit("drag-end",{event:e,screen:r,world:this.parent.toWorld(r),viewport:this.parent}),this.last=null,this.moved=!1,!0}return!1}wheel(e){if(this.paused)return!1;if(this.options.wheel){const n=this.parent.plugins.get("wheel",!0);if(!n||!n.options.wheelZoom&&!e.ctrlKey){const r=e.deltaMode?this.options.lineHeight:1,i=[e.deltaX,e.deltaY],[s,o]=this.options.wheelSwapAxes?i.reverse():i;return this.xDirection&&(this.parent.x+=s*r*this.options.wheelScroll*this.reverse),this.yDirection&&(this.parent.y+=o*r*this.options.wheelScroll*this.reverse),this.options.clampWheel&&this.clamp(),this.parent.emit("wheel-scroll",this.parent),this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.options.passiveWheel||e.preventDefault(),this.parent.options.stopPropagation&&e.stopPropagation(),!0}}return!1}resume(){this.last=null,this.paused=!1}clamp(){const e=this.parent.plugins.get("decelerate",!0)||{};if(this.options.clampWheel!=="y")if(this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x=0;break;case 1:this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}else this.parent.left<0?(this.parent.x=0,e.x=0):this.parent.right>this.parent.worldWidth&&(this.parent.x=-this.parent.worldWidth*this.parent.scale.x+this.parent.screenWidth,e.x=0);if(this.options.clampWheel!=="x")if(this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y=0;break;case 1:this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}else this.parent.top<0&&(this.parent.y=0,e.y=0),this.parent.bottom>this.parent.worldHeight&&(this.parent.y=-this.parent.worldHeight*this.parent.scale.y+this.parent.screenHeight,e.y=0)}}const Bce={speed:0,acceleration:null,radius:null};class Nce extends Dn{constructor(e,n,r={}){super(e),U(this,"options"),U(this,"target"),U(this,"velocity"),this.target=n,this.options=Object.assign({},Bce,r),this.velocity={x:0,y:0}}update(e){if(this.paused)return;const n=this.parent.center;let r=this.target.x,i=this.target.y;if(this.options.radius)if(Math.sqrt(Math.pow(this.target.y-n.y,2)+Math.pow(this.target.x-n.x,2))>this.options.radius){const a=Math.atan2(this.target.y-n.y,this.target.x-n.x);r=this.target.x-Math.cos(a)*this.options.radius,i=this.target.y-Math.sin(a)*this.options.radius}else return;const s=r-n.x,o=i-n.y;if(s||o)if(this.options.speed)if(this.options.acceleration){const a=Math.atan2(i-n.y,r-n.x),l=Math.sqrt(Math.pow(s,2)+Math.pow(o,2));if(l){const u=(Math.pow(this.velocity.x,2)+Math.pow(this.velocity.y,2))/(2*this.options.acceleration);l>u?this.velocity={x:Math.min(this.velocity.x+(this.options.acceleration*e,this.options.speed)),y:Math.min(this.velocity.y+(this.options.acceleration*e,this.options.speed))}:this.velocity={x:Math.max(this.velocity.x-this.options.acceleration*this.options.speed,0),y:Math.max(this.velocity.y-this.options.acceleration*this.options.speed,0)};const c=Math.cos(a)*this.velocity.x,h=Math.sin(a)*this.velocity.y,d=Math.abs(c)>Math.abs(s)?r:n.x+c,f=Math.abs(h)>Math.abs(o)?i:n.y+h;this.parent.moveCenter(d,f),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}else{const a=Math.atan2(i-n.y,r-n.x),l=Math.cos(a)*this.options.speed,u=Math.sin(a)*this.options.speed,c=Math.abs(l)>Math.abs(s)?r:n.x+l,h=Math.abs(u)>Math.abs(o)?i:n.y+u;this.parent.moveCenter(c,h),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}else this.parent.moveCenter(r,i),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}const Lce={radius:null,distance:null,top:null,bottom:null,left:null,right:null,speed:8,reverse:!1,noDecelerate:!1,linear:!1,allowButtons:!1};class Uce extends Dn{constructor(e,n={}){super(e),U(this,"options"),U(this,"reverse"),U(this,"radiusSquared"),U(this,"left"),U(this,"top"),U(this,"right"),U(this,"bottom"),U(this,"horizontal"),U(this,"vertical"),this.options=Object.assign({},Lce,n),this.reverse=this.options.reverse?1:-1,this.radiusSquared=typeof this.options.radius=="number"?Math.pow(this.options.radius,2):null,this.resize()}resize(){const e=this.options.distance;e!==null?(this.left=e,this.top=e,this.right=this.parent.screenWidth-e,this.bottom=this.parent.screenHeight-e):this.options.radius||(this.left=this.options.left,this.top=this.options.top,this.right=this.options.right===null?null:this.parent.screenWidth-this.options.right,this.bottom=this.options.bottom===null?null:this.parent.screenHeight-this.options.bottom)}down(){return this.paused||this.options.allowButtons||(this.horizontal=this.vertical=null),!1}move(e){if(this.paused||e.pointerType!=="mouse"&&e.pointerId!==1||!this.options.allowButtons&&e.buttons!==0)return!1;const n=e.global.x,r=e.global.y;if(this.radiusSquared){const i=this.parent.toScreen(this.parent.center);if(Math.pow(i.x-n,2)+Math.pow(i.y-r,2)>=this.radiusSquared){const s=Math.atan2(i.y-r,i.x-n);this.options.linear?(this.horizontal=Math.round(Math.cos(s))*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.round(Math.sin(s))*this.options.speed*this.reverse*(60/1e3)):(this.horizontal=Math.cos(s)*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.sin(s)*this.options.speed*this.reverse*(60/1e3))}else this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=0}else this.left!==null&&n<this.left?this.horizontal=Number(this.reverse)*this.options.speed*(60/1e3):this.right!==null&&n>this.right?this.horizontal=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateHorizontal(),this.horizontal=0),this.top!==null&&r<this.top?this.vertical=Number(this.reverse)*this.options.speed*(60/1e3):this.bottom!==null&&r>this.bottom?this.vertical=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateVertical(),this.vertical=0);return!1}decelerateHorizontal(){const e=this.parent.plugins.get("decelerate",!0);this.horizontal&&e&&!this.options.noDecelerate&&e.activate({x:this.horizontal*this.options.speed*this.reverse/(1e3/60)})}decelerateVertical(){const e=this.parent.plugins.get("decelerate",!0);this.vertical&&e&&!this.options.noDecelerate&&e.activate({y:this.vertical*this.options.speed*this.reverse/(1e3/60)})}up(){return this.paused||(this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=null),!1}update(){if(!this.paused&&(this.horizontal||this.vertical)){const e=this.parent.center;this.horizontal&&(e.x+=this.horizontal*this.options.speed),this.vertical&&(e.y+=this.vertical*this.options.speed),this.parent.moveCenter(e),this.parent.emit("moved",{viewport:this.parent,type:"mouse-edges"})}}}const jce={noDrag:!1,percent:1,center:null,factor:1,axis:"all"};class zce extends Dn{constructor(e,n={}){super(e),U(this,"options"),U(this,"active",!1),U(this,"pinching",!1),U(this,"moved",!1),U(this,"lastCenter"),this.options=Object.assign({},jce,n)}down(){return this.parent.input.count()>=2?(this.active=!0,!0):!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}move(e){if(this.paused||!this.active)return!1;const n=e.global.x,r=e.global.y,i=this.parent.input.touches;if(i.length>=2){const s=i[0],o=i[1],a=s.last&&o.last?Math.sqrt(Math.pow(o.last.x-s.last.x,2)+Math.pow(o.last.y-s.last.y,2)):null;if(s.id===e.pointerId?s.last={x:n,y:r,data:e}:o.id===e.pointerId&&(o.last={x:n,y:r,data:e}),a){let l;const u=new le(s.last.x+(o.last.x-s.last.x)/2,s.last.y+(o.last.y-s.last.y)/2);this.options.center||(l=this.parent.toLocal(u));let c=Math.sqrt(Math.pow(o.last.x-s.last.x,2)+Math.pow(o.last.y-s.last.y,2));c=c===0?c=1e-10:c;const h=(1-a/c)*this.options.percent*(this.isAxisX()?this.parent.scale.x:this.parent.scale.y);this.isAxisX()&&(this.parent.scale.x+=h),this.isAxisY()&&(this.parent.scale.y+=h),this.parent.emit("zoomed",{viewport:this.parent,type:"pinch",center:u});const d=this.parent.plugins.get("clamp-zoom",!0);if(d&&d.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const f=this.parent.toGlobal(l);this.parent.x+=(u.x-f.x)*this.options.factor,this.parent.y+=(u.y-f.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})}!this.options.noDrag&&this.lastCenter&&(this.parent.x+=(u.x-this.lastCenter.x)*this.options.factor,this.parent.y+=(u.y-this.lastCenter.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})),this.lastCenter=u,this.moved=!0}else this.pinching||(this.parent.emit("pinch-start",this.parent),this.pinching=!0);return!0}return!1}up(){return this.pinching&&this.parent.input.touches.length<=1?(this.active=!1,this.lastCenter=null,this.pinching=!1,this.moved=!1,this.parent.emit("pinch-end",this.parent),!0):!1}}const Hce={topLeft:!1,friction:.8,time:1e3,ease:"easeInOutSine",interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1};class Gce extends Dn{constructor(e,n,r,i={}){super(e),U(this,"options"),U(this,"ease"),U(this,"x"),U(this,"y"),U(this,"percent"),U(this,"snapping"),U(this,"deltaX"),U(this,"deltaY"),U(this,"startX"),U(this,"startY"),this.options=Object.assign({},Hce,i),this.ease=qf(i.ease,"easeInOutSine"),this.x=n,this.y=r,this.options.forceStart&&this.snapStart()}snapStart(){this.percent=0,this.snapping={time:0};const e=this.options.topLeft?this.parent.corner:this.parent.center;this.deltaX=this.x-e.x,this.deltaY=this.y-e.y,this.startX=e.x,this.startY=e.y,this.parent.emit("snap-start",this.parent)}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap"):this.options.interrupt&&(this.snapping=null),!1}up(){if(this.parent.input.count()===0){const e=this.parent.plugins.get("decelerate",!0);e&&(e.x||e.y)&&(e.percentChangeX=e.percentChangeY=this.options.friction)}return!1}update(e){if(!this.paused&&!(this.options.interrupt&&this.parent.input.count()!==0))if(this.snapping){const n=this.snapping;n.time+=e;let r,i,s;const o=this.startX,a=this.startY,l=this.deltaX,u=this.deltaY;if(n.time>this.options.time)r=!0,i=o+l,s=a+u;else{const c=this.ease(n.time,0,1,this.options.time);i=o+l*c,s=a+u*c}this.options.topLeft?this.parent.moveCorner(i,s):this.parent.moveCenter(i,s),this.parent.emit("moved",{viewport:this.parent,type:"snap"}),r&&(this.options.removeOnComplete&&this.parent.plugins.remove("snap"),this.parent.emit("snap-end",this.parent),this.snapping=null)}else{const n=this.options.topLeft?this.parent.corner:this.parent.center;(n.x!==this.x||n.y!==this.y)&&this.snapStart()}}}const Wce={width:0,height:0,time:1e3,ease:"easeInOutSine",center:null,interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1,noMove:!1};class Vce extends Dn{constructor(e,n={}){super(e),U(this,"options"),U(this,"ease"),U(this,"xScale"),U(this,"yScale"),U(this,"xIndependent"),U(this,"yIndependent"),U(this,"snapping"),this.options=Object.assign({},Wce,n),this.ease=qf(this.options.ease),this.xIndependent=!1,this.yIndependent=!1,this.xScale=0,this.yScale=0,this.options.width>0&&(this.xScale=e.screenWidth/this.options.width,this.xIndependent=!0),this.options.height>0&&(this.yScale=e.screenHeight/this.options.height,this.yIndependent=!0),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale,this.options.time===0?(e.container.scale.x=this.xScale,e.container.scale.y=this.yScale,this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom")):n.forceStart&&this.createSnapping()}createSnapping(){const e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,r=this.parent.screenWidth/this.xScale,i=this.parent.screenHeight/this.yScale;this.snapping={time:0,startX:e,startY:n,deltaX:r-e,deltaY:i-n},this.parent.emit("snap-zoom-start",this.parent)}resize(){this.snapping=null,this.options.width>0&&(this.xScale=this.parent.screenWidth/this.options.width),this.options.height>0&&(this.yScale=this.parent.screenHeight/this.options.height),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap-zoom"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap-zoom"):this.options.interrupt&&(this.snapping=null),!1}update(e){if(this.paused||this.options.interrupt&&this.parent.input.count()!==0)return;let n;if(!this.options.center&&!this.options.noMove&&(n=this.parent.center),!this.snapping)(this.parent.scale.x!==this.xScale||this.parent.scale.y!==this.yScale)&&this.createSnapping();else if(this.snapping){const r=this.snapping;if(r.time+=e,r.time>=this.options.time)this.parent.scale.set(this.xScale,this.yScale),this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom"),this.parent.emit("snap-zoom-end",this.parent),this.snapping=null;else{const s=this.snapping,o=this.ease(s.time,s.startX,s.deltaX,this.options.time),a=this.ease(s.time,s.startY,s.deltaY,this.options.time);this.parent.scale.x=this.parent.screenWidth/o,this.parent.scale.y=this.parent.screenHeight/a}const i=this.parent.plugins.get("clamp-zoom",!0);i&&i.clamp(),this.options.noMove||(this.options.center?this.parent.moveCenter(this.options.center):this.parent.moveCenter(n))}}resume(){this.snapping=null,super.resume()}}const Xce={percent:.1,smooth:!1,interrupt:!0,reverse:!1,center:null,lineHeight:20,axis:"all",keyToPress:null,trackpadPinch:!1,wheelZoom:!0};class Yce extends Dn{constructor(e,n={}){super(e),U(this,"options"),U(this,"smoothing"),U(this,"smoothingCenter"),U(this,"smoothingCount"),U(this,"keyIsPressed"),this.options=Object.assign({},Xce,n),this.keyIsPressed=!1,this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(e){window.addEventListener("keydown",n=>{e.includes(n.code)&&(this.keyIsPressed=!0)}),window.addEventListener("keyup",n=>{e.includes(n.code)&&(this.keyIsPressed=!1)})}checkKeyPress(){return!this.options.keyToPress||this.keyIsPressed}down(){return this.options.interrupt&&(this.smoothing=null),!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}update(){if(this.smoothing){const e=this.smoothingCenter,n=this.smoothing;let r;this.options.center||(r=this.parent.toLocal(e)),this.isAxisX()&&(this.parent.scale.x+=n.x),this.isAxisY()&&(this.parent.scale.y+=n.y),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const i=this.parent.plugins.get("clamp-zoom",!0);if(i&&i.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const s=this.parent.toGlobal(r);this.parent.x+=e.x-s.x,this.parent.y+=e.y-s.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.smoothingCount++,this.smoothingCount>=this.options.smooth&&(this.smoothing=null)}}pinch(e){if(this.paused)return;const n=this.parent.input.getPointerPosition(e),r=-e.deltaY*(e.deltaMode?this.options.lineHeight:1)/200,i=Math.pow(2,(1+this.options.percent)*r);let s;this.options.center||(s=this.parent.toLocal(n)),this.isAxisX()&&(this.parent.scale.x*=i),this.isAxisY()&&(this.parent.scale.y*=i),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const o=this.parent.plugins.get("clamp-zoom",!0);if(o&&o.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const a=this.parent.toGlobal(s);this.parent.x+=n.x-a.x,this.parent.y+=n.y-a.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:e,viewport:this.parent})}wheel(e){if(this.paused||!this.checkKeyPress())return!1;if(e.ctrlKey&&this.options.trackpadPinch)this.pinch(e);else if(this.options.wheelZoom){const n=this.parent.input.getPointerPosition(e),r=(this.options.reverse?-1:1)*-e.deltaY*(e.deltaMode?this.options.lineHeight:1)/500,i=Math.pow(2,(1+this.options.percent)*r);if(this.options.smooth){const s={x:this.smoothing?this.smoothing.x*(this.options.smooth-this.smoothingCount):0,y:this.smoothing?this.smoothing.y*(this.options.smooth-this.smoothingCount):0};this.smoothing={x:((this.parent.scale.x+s.x)*i-this.parent.scale.x)/this.options.smooth,y:((this.parent.scale.y+s.y)*i-this.parent.scale.y)/this.options.smooth},this.smoothingCount=0,this.smoothingCenter=n}else{let s;this.options.center||(s=this.parent.toLocal(n)),this.isAxisX()&&(this.parent.scale.x*=i),this.isAxisY()&&(this.parent.scale.y*=i),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const o=this.parent.plugins.get("clamp-zoom",!0);if(o&&o.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const a=this.parent.toGlobal(s);this.parent.x+=n.x-a.x,this.parent.y+=n.y-a.y}}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:e,viewport:this.parent})}return!this.parent.options.passiveWheel}}class qce{constructor(e){U(this,"viewport"),U(this,"clickedAvailable"),U(this,"isMouseDown"),U(this,"last"),U(this,"wheelFunction"),U(this,"touches"),this.viewport=e,this.touches=[],this.addListeners()}addListeners(){this.viewport.interactive=!0,this.viewport.forceHitArea||(this.viewport.hitArea=new ge(0,0,this.viewport.worldWidth,this.viewport.worldHeight)),this.viewport.on("pointerdown",this.down,this),this.viewport.options.allowPreserveDragOutside?this.viewport.on("globalpointermove",this.move,this):this.viewport.on("pointermove",this.move,this),this.viewport.on("pointerup",this.up,this),this.viewport.on("pointerupoutside",this.up,this),this.viewport.on("pointercancel",this.up,this),this.viewport.options.allowPreserveDragOutside||this.viewport.on("pointerleave",this.up,this),this.wheelFunction=e=>this.handleWheel(e),this.viewport.options.events.domElement.addEventListener("wheel",this.wheelFunction,{passive:this.viewport.options.passiveWheel}),this.isMouseDown=!1}destroy(){this.viewport.options.events.domElement.removeEventListener("wheel",this.wheelFunction)}down(e){if(!(this.viewport.pause||!this.viewport.worldVisible)){if(e.pointerType==="mouse"?this.isMouseDown=!0:this.get(e.pointerId)||this.touches.push({id:e.pointerId,last:null}),this.count()===1){this.last=e.global.clone();const n=this.viewport.plugins.get("decelerate",!0),r=this.viewport.plugins.get("bounce",!0);(!n||!n.isActive())&&(!r||!r.isActive())?this.clickedAvailable=!0:this.clickedAvailable=!1}else this.clickedAvailable=!1;this.viewport.plugins.down(e)&&this.viewport.options.stopPropagation&&e.stopPropagation()}}clear(){this.isMouseDown=!1,this.touches=[],this.last=null}checkThreshold(e){return Math.abs(e)>=this.viewport.threshold}move(e){if(this.viewport.pause||!this.viewport.worldVisible)return;const n=this.viewport.plugins.move(e);if(this.clickedAvailable&&this.last){const r=e.global.x-this.last.x,i=e.global.y-this.last.y;(this.checkThreshold(r)||this.checkThreshold(i))&&(this.clickedAvailable=!1)}n&&this.viewport.options.stopPropagation&&e.stopPropagation()}up(e){if(this.viewport.pause||!this.viewport.worldVisible)return;e.pointerType==="mouse"&&(this.isMouseDown=!1),e.pointerType!=="mouse"&&this.remove(e.pointerId);const n=this.viewport.plugins.up(e);this.clickedAvailable&&this.count()===0&&this.last&&(this.viewport.emit("clicked",{event:e,screen:this.last,world:this.viewport.toWorld(this.last),viewport:this.viewport}),this.clickedAvailable=!1),n&&this.viewport.options.stopPropagation&&e.stopPropagation()}getPointerPosition(e){const n=new le;return this.viewport.options.events.mapPositionToPoint(n,e.clientX,e.clientY),n}handleWheel(e){if(this.viewport.pause||!this.viewport.worldVisible)return;const n=this.viewport.toLocal(this.getPointerPosition(e));this.viewport.left<=n.x&&n.x<=this.viewport.right&&this.viewport.top<=n.y&&n.y<=this.viewport.bottom&&this.viewport.plugins.wheel(e)&&!this.viewport.options.passiveWheel&&e.preventDefault()}pause(){this.touches=[],this.isMouseDown=!1}get(e){for(const n of this.touches)if(n.id===e)return n;return null}remove(e){for(let n=0;n<this.touches.length;n++)if(this.touches[n].id===e){this.touches.splice(n,1);return}}count(){return(this.isMouseDown?1:0)+this.touches.length}}const Ka=["drag","pinch","wheel","follow","mouse-edges","decelerate","animate","bounce","snap-zoom","clamp-zoom","snap","clamp"];class Kce{constructor(e){U(this,"plugins"),U(this,"list"),U(this,"viewport"),this.viewport=e,this.list=[],this.plugins={}}add(e,n,r=Ka.length){const i=this.plugins[e];i&&i.destroy(),this.plugins[e]=n;const s=Ka.indexOf(e);s!==-1&&Ka.splice(s,1),Ka.splice(r,0,e),this.sort()}get(e,n){var r;return n&&(r=this.plugins[e])!=null&&r.paused?null:this.plugins[e]}update(e){for(const n of this.list)n.update(e)}resize(){for(const e of this.list)e.resize()}reset(){for(const e of this.list)e.reset()}removeAll(){this.list.forEach(e=>{e.destroy()}),this.plugins={},this.sort()}remove(e){var n;this.plugins[e]&&((n=this.plugins[e])==null||n.destroy(),delete this.plugins[e],this.viewport.emit("plugin-remove",e),this.sort())}pause(e){var n;(n=this.plugins[e])==null||n.pause()}resume(e){var n;(n=this.plugins[e])==null||n.resume()}sort(){this.list=[];for(const e of Ka)this.plugins[e]&&this.list.push(this.plugins[e])}down(e){let n=!1;for(const r of this.list)r.down(e)&&(n=!0);return n}move(e){let n=!1;for(const r of this.viewport.plugins.list)r.move(e)&&(n=!0);return n}up(e){let n=!1;for(const r of this.list)r.up(e)&&(n=!0);return n}wheel(e){let n=!1;for(const r of this.list)r.wheel(e)&&(n=!0);return n}}const Zce={screenWidth:window.innerWidth,screenHeight:window.innerHeight,worldWidth:null,worldHeight:null,threshold:5,passiveWheel:!0,stopPropagation:!1,forceHitArea:null,noTicker:!1,disableOnContextMenu:!1,ticker:at.shared,allowPreserveDragOutside:!1};class Qce extends Dt{constructor(e){super(),U(this,"moving"),U(this,"screenWidth"),U(this,"screenHeight"),U(this,"threshold"),U(this,"input"),U(this,"plugins"),U(this,"zooming"),U(this,"lastViewport"),U(this,"options"),U(this,"_dirty"),U(this,"_forceHitArea"),U(this,"_hitAreaDefault"),U(this,"_pause"),U(this,"tickerFunction"),U(this,"_worldWidth"),U(this,"_worldHeight"),U(this,"_disableOnContextMenu",n=>n.preventDefault()),this.options={...Zce,...e},this.screenWidth=this.options.screenWidth,this.screenHeight=this.options.screenHeight,this._worldWidth=this.options.worldWidth,this._worldHeight=this.options.worldHeight,this.forceHitArea=this.options.forceHitArea,this.threshold=this.options.threshold,this.options.disableOnContextMenu&&this.options.events.domElement.addEventListener("contextmenu",this._disableOnContextMenu),this.options.noTicker||(this.tickerFunction=()=>this.update(this.options.ticker.elapsedMS),this.options.ticker.add(this.tickerFunction)),this.input=new qce(this),this.plugins=new Kce(this)}destroy(e){!this.options.noTicker&&this.tickerFunction&&this.options.ticker.remove(this.tickerFunction),this.options.disableOnContextMenu&&this.options.events.domElement.removeEventListener("contextmenu",this._disableOnContextMenu),this.input.destroy(),super.destroy(e)}update(e){this.pause||(this.plugins.update(e),this.lastViewport&&(this.lastViewport.x!==this.x||this.lastViewport.y!==this.y?this.moving=!0:this.moving&&(this.emit("moved-end",this),this.moving=!1),this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y?this.zooming=!0:this.zooming&&(this.emit("zoomed-end",this),this.zooming=!1)),this.forceHitArea||(this._hitAreaDefault=new ge(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight),this.hitArea=this._hitAreaDefault),this._dirty=this._dirty||!this.lastViewport||this.lastViewport.x!==this.x||this.lastViewport.y!==this.y||this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y,this.lastViewport={x:this.x,y:this.y,scaleX:this.scale.x,scaleY:this.scale.y},this.emit("frame-end",this))}resize(e=window.innerWidth,n=window.innerHeight,r,i){this.screenWidth=e,this.screenHeight=n,typeof r<"u"&&(this._worldWidth=r),typeof i<"u"&&(this._worldHeight=i),this.plugins.resize(),this.dirty=!0}get worldWidth(){return this._worldWidth?this._worldWidth:this.width/this.scale.x}set worldWidth(e){this._worldWidth=e,this.plugins.resize()}get worldHeight(){return this._worldHeight?this._worldHeight:this.height/this.scale.y}set worldHeight(e){this._worldHeight=e,this.plugins.resize()}getVisibleBounds(){return new ge(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight)}toWorld(e,n){return arguments.length===2?this.toLocal(new le(e,n)):this.toLocal(e)}toScreen(e,n){return arguments.length===2?this.toGlobal(new le(e,n)):this.toGlobal(e)}get worldScreenWidth(){return this.screenWidth/this.scale.x}get worldScreenHeight(){return this.screenHeight/this.scale.y}get screenWorldWidth(){return this.worldWidth*this.scale.x}get screenWorldHeight(){return this.worldHeight*this.scale.y}get center(){return new le(this.worldScreenWidth/2-this.x/this.scale.x,this.worldScreenHeight/2-this.y/this.scale.y)}set center(e){this.moveCenter(e)}moveCenter(...e){let n,r;typeof e[0]=="number"?(n=e[0],r=e[1]):(n=e[0].x,r=e[0].y);const i=(this.worldScreenWidth/2-n)*this.scale.x,s=(this.worldScreenHeight/2-r)*this.scale.y;return(this.x!==i||this.y!==s)&&(this.position.set(i,s),this.plugins.reset(),this.dirty=!0),this}get corner(){return new le(-this.x/this.scale.x,-this.y/this.scale.y)}set corner(e){this.moveCorner(e)}moveCorner(...e){let n,r;return e.length===1?(n=-e[0].x*this.scale.x,r=-e[0].y*this.scale.y):(n=-e[0]*this.scale.x,r=-e[1]*this.scale.y),(n!==this.x||r!==this.y)&&(this.position.set(n,r),this.plugins.reset(),this.dirty=!0),this}get screenWidthInWorldPixels(){return this.screenWidth/this.scale.x}get screenHeightInWorldPixels(){return this.screenHeight/this.scale.y}findFitWidth(e){return this.screenWidth/e}findFitHeight(e){return this.screenHeight/e}findFit(e,n){const r=this.screenWidth/e,i=this.screenHeight/n;return Math.min(r,i)}findCover(e,n){const r=this.screenWidth/e,i=this.screenHeight/n;return Math.max(r,i)}fitWidth(e=this.worldWidth,n,r=!0,i){let s;n&&(s=this.center),this.scale.x=this.screenWidth/e,r&&(this.scale.y=this.scale.x);const o=this.plugins.get("clamp-zoom",!0);return!i&&o&&o.clamp(),n&&s&&this.moveCenter(s),this}fitHeight(e=this.worldHeight,n,r=!0,i){let s;n&&(s=this.center),this.scale.y=this.screenHeight/e,r&&(this.scale.x=this.scale.y);const o=this.plugins.get("clamp-zoom",!0);return!i&&o&&o.clamp(),n&&s&&this.moveCenter(s),this}fitWorld(e){let n;e&&(n=this.center),this.scale.x=this.screenWidth/this.worldWidth,this.scale.y=this.screenHeight/this.worldHeight,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const r=this.plugins.get("clamp-zoom",!0);return r&&r.clamp(),e&&n&&this.moveCenter(n),this}fit(e,n=this.worldWidth,r=this.worldHeight){let i;e&&(i=this.center),this.scale.x=this.screenWidth/n,this.scale.y=this.screenHeight/r,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const s=this.plugins.get("clamp-zoom",!0);return s&&s.clamp(),e&&i&&this.moveCenter(i),this}setZoom(e,n){let r;n&&(r=this.center),this.scale.set(e);const i=this.plugins.get("clamp-zoom",!0);return i&&i.clamp(),n&&r&&this.moveCenter(r),this}zoomPercent(e,n){return this.setZoom(this.scale.x+this.scale.x*e,n)}zoom(e,n){return this.fitWidth(e+this.worldScreenWidth,n),this}get scaled(){return this.scale.x}set scaled(e){this.setZoom(e,!0)}snapZoom(e){return this.plugins.add("snap-zoom",new Vce(this,e)),this}OOB(){return{left:this.left<0,right:this.right>this.worldWidth,top:this.top<0,bottom:this.bottom>this.worldHeight,cornerPoint:new le(this.worldWidth*this.scale.x-this.screenWidth,this.worldHeight*this.scale.y-this.screenHeight)}}get right(){return-this.x/this.scale.x+this.worldScreenWidth}set right(e){this.x=-e*this.scale.x+this.screenWidth,this.plugins.reset()}get left(){return-this.x/this.scale.x}set left(e){this.x=-e*this.scale.x,this.plugins.reset()}get top(){return-this.y/this.scale.y}set top(e){this.y=-e*this.scale.y,this.plugins.reset()}get bottom(){return-this.y/this.scale.y+this.worldScreenHeight}set bottom(e){this.y=-e*this.scale.y+this.screenHeight,this.plugins.reset()}get dirty(){return!!this._dirty}set dirty(e){this._dirty=e}get forceHitArea(){return this._forceHitArea}set forceHitArea(e){e?(this._forceHitArea=e,this.hitArea=e):(this._forceHitArea=null,this.hitArea=new ge(0,0,this.worldWidth,this.worldHeight))}drag(e){return this.plugins.add("drag",new $ce(this,e)),this}clamp(e){return this.plugins.add("clamp",new Ice(this,e)),this}decelerate(e){return this.plugins.add("decelerate",new Fce(this,e)),this}bounce(e){return this.plugins.add("bounce",new Pce(this,e)),this}pinch(e){return this.plugins.add("pinch",new zce(this,e)),this}snap(e,n,r){return this.plugins.add("snap",new Gce(this,e,n,r)),this}follow(e,n){return this.plugins.add("follow",new Nce(this,e,n)),this}wheel(e){return this.plugins.add("wheel",new Yce(this,e)),this}animate(e){return this.plugins.add("animate",new Tce(this,e)),this}clampZoom(e){return this.plugins.add("clamp-zoom",new kce(this,e)),this}mouseEdges(e){return this.plugins.add("mouse-edges",new Uce(this,e)),this}get pause(){return!!this._pause}set pause(e){this._pause=e,this.lastViewport=null,this.moving=!1,this.zooming=!1,e&&this.input.pause()}ensureVisible(e,n,r,i,s){s&&(r>this.worldScreenWidth||i>this.worldScreenHeight)&&(this.fit(!0,r,i),this.emit("zoomed",{viewport:this,type:"ensureVisible"}));let o=!1;e<this.left?(this.left=e,o=!0):e+r>this.right&&(this.right=e+r,o=!0),n<this.top?(this.top=n,o=!0):n+i>this.bottom&&(this.bottom=n+i,o=!0),o&&this.emit("moved",{viewport:this,type:"ensureVisible"})}}const Ct=(t,e)=>t!=null&&t.levels?e.acquired[t==null?void 0:t.id]>0:e.selected[t==null?void 0:t.id],rR=(t,e)=>e.available[t.id],Jce=(t,e,n,r)=>{let i=n;return i.available[t.id]&&(t.levels?(i.acquired[t.id]||(i.acquired[t.id]=0),r&&i.acquired[t.id]>0?i.acquired[t.id]--:i.acquired[t.id]<t.levels&&i.acquired[t.id]++):i.selected[t.id]=!i.selected[t.id]),i=ehe(e,t,i),i=W0(e,n),i},ehe=(t,e,n)=>{let r={...n};const i=s=>{const o=mn(t,a=>Pu(a.requires,{id:s.id}));r=W0(t,n),o&&et(o,a=>{n.available[a.id]||(n.selected[a.id]=!1,n.acquired[a.id]=0,r=W0(t,n),i(a))})};return i(e),r},W0=(t,e)=>(et(t,n=>{if(n.requires){let r=n.requirementType||"and",i=r==="and";et(n.requires,s=>{const o=we(t,{id:s.id});if(o.levels){const a=s.levels||o.levels,l=e.acquired[o.id];r==="and"?i=i&&l>=a:r==="or"&&(i=i||l>=a)}else r==="and"?i=i&&e.selected[s.id]:r==="or"&&(i=i||e.selected[s.id])}),e.available[n.id]=i}}),e),Li=(t,e,n,r)=>{var i;r.next({node:{...t,acquired:e.acquired[t.id],selected:e.selected[t.id],available:e.available[t.id],requiredName:(i=we(n,{id:t.requires}))==null?void 0:i.name}})},ts=t=>typeof t=="string"?parseInt(t.replace("#",""),16):0,Ui=(t,e,n)=>n?ts(t.colors[n]):rR(t,e)?ts(t.colors.selected):ts(t.colors.unavailable),gm=(t,e)=>{e.next({event:"nodesChanged",data:{nodes:ve(t,n=>({colors:n.colors,id:n.id,requires:n.requires,name:n.name,description:n.description,cost:n.cost,levels:n.levels,levelCost:n.levelCost,providedStats:n.providedStats,providedAbilities:n.providedAbilities}))}})};function the(t,e,n={},r,i,s,o){let a=s.subscribe({next:I=>{switch(I.event){case"forcesUpdated":S=I.data.forces,Q();break;case"modeChanged":R(I.data.mode);break;case"nodeAdded":N(I.data.node);break;case"nodeDeleted":k(I.data.id);break;case"nodeEdited":B(I.data.id,I.data.node);break;case"themeChanged":C(I.data)}}}),l="#1d1b21",u="#ddd",c,h,d={selected:{},acquired:{},available:{}},f=GE(),p,m,g,v,b,y="build",x,S={f1:10,f2:44,f3:40,f4:10};function C(I){I==="light"?(l="#ffffff",u="#666666"):(l="#1d1b21",u="#dddddd"),c.renderer.backgroundColor=ts(l),$()}function T(I,O){I.children.length>0&&I.children[0].destroy();const L=new sa(O,{fontFamily:"Inter",fontSize:14,fill:u,align:"center"});L.anchor.set(.5,-.75),L.resolution=12,I.addChild(L)}function A(){d={selected:{},acquired:{},available:{}},et(h,I=>{d.selected[I.id]=n[I.id]===!0,d.acquired[I.id]=G$(n[I.id])?n[I.id]:!1}),M(),r.next({nodes:ve(h,I=>({...I,selected:Ct(I,d),acquired:d.acquired[I.id]}))})}function k(I){if(I==="basic")return;const O=we(h,{id:I});if(O){O==null||O.gfx.removeChildren(),O==null||O.gfx.clear(),h=ve(mn(h,Y=>Y.id!==I),Y=>{let K=Y.requires;return Pu(Y.requires,{id:O==null?void 0:O.id})&&(K=O==null?void 0:O.requires),{...Y,requires:K}});const L=we(h,{id:(O==null?void 0:O.requires)&&(O==null?void 0:O.requires[0].id)});M(),x=L==null?void 0:L.id,Li(L,d,h,i),$(),Q(),z(),gm(h,s)}}function M(){m=[],et(h,I=>{var O;if((O=I==null?void 0:I.requires)!=null&&O.length){let L=!0;et(I.requires,Y=>{const K=we(h,{id:Y==null?void 0:Y.id});L=L&&Ct(K,d),m.push({source:I,target:K})}),d.available[I.id]=L}else d.available[I.id]=!0})}function B(I,O){let L=we(h,{id:I}),Y=L.requires,K=L.requirementType;L.name=O.name,L.id=O.id,L.description=O.description,L.levels=O.levels,L.cost=O.cost,L.levelCost=O.levelCost,L.providedStats=O.providedStats,L.providedAbilities=O.providedAbilities,L.colors=O.colors,L.requires=O.requires,L.requirementType=O.requirementType,(Y!==O.requires||K!==O.requirementType)&&M(),d.acquired[I]&&d.acquired[I]>O.levels&&(d.acquired[I]=O.levels),L==null||L.gfx.removeChildren();const ue=new sa(O.name,{fontFamily:"Inter",fontSize:12,fontWeight:"500",fill:"#fff",align:"center"});ue.anchor.set(.5,-.75),ue.resolution=12,L==null||L.gfx.addChild(ue),h=ve(h,ne=>{if(ne.id===I)return L;{let Ee=ne;return ne.requires===I&&(Ee.requires=[{id:L.id,levels:1}]),Ee}}),$(),z(),Q(),Li(L,d,h,i),r.next({nodes:ve(h,ne=>({...ne,selected:Ct(ne,d),acquired:d.acquired[ne.id]})),nodeMeta:d}),gm(h,s)}function N(I){let O={...I};O.colors||(O.colors={}),D(O),x=O.id,h=[...h,O],et(O.requires,L=>{m.push({source:O,target:we(h,{id:L.id})})}),$(),z(),Q(),gm(h,s),Li(O,d,h,i)}function R(I){let O=y;y=I,O!==I&&($(),z())}function F(I,O){if(y==="build"){const L=Ct(O,d);d=Jce(O,h,d,I.nativeEvent.shiftKey),r.next({nodes:ve(h,K=>({...K,selected:Ct(K,d),acquired:d.acquired[K.id]})),nodeMeta:d}),Li(O,d,h,i);const Y=Ct(O,d)!==L;q(),$(Y?O.id:null),z()}else y==="edit"&&(x=O.id,Li(O,d,h,i),$())}function q(){f.velocityDecay(.8).alpha(.05).restart()}function Q(){S&&(f.nodes(h).force("link",zE(m).strength(I=>Ct(I.target,d)?S.f2*.025:S.f2*.01).id(I=>I.id).distance(I=>I.source.levels||I.target.levels?Ct(I.source,d)?S.f1+12:S.f1+17:Ct(I.source,d)?S.f1+5:S.f1+10)).force("charge",WE().strength(-(S.f3*6))).force("center",NE(g/4,v/4)).force("collision",UE().radius(I=>S.f3).iterations(4)).velocityDecay(S.f4*.01),f.alpha(1).restart()),z(),$()}function z(){for(let I=p.children.length-1;I>=0;I--)p.children[I].destroy();p.clear(),p.removeChildren(),p.alpha=.8,m.forEach((I,O)=>{let{source:L,target:Y}=I,K=4473924,ue=2,ne=L&&Ct(L,d)&&Ct(Y,d);if(Y.id&&L&&(ne||y==="edit"?K=Ui(L,d,"selected"):K=10198691,ue=Ct(Y,d)&&Ct(L,d)?2:1),p.lineStyle(ue,K,ne?1:.2),L.requirementType==="or"&&!ne){const Ee=new tR(p,{dash:[5,5],width:1,color:K});Ee.moveTo(L.x,L.y),Ee.lineTo(Y.x,Y.y)}else p.moveTo(L.x,L.y),p.lineTo(Y.x,Y.y)}),p.endFill()}function $(I){h.forEach(O=>{const L=x===O.id,Y=Ct(O,d),K=rR(O,d);O.gfx.clear();let ue=O.cost||1;if(y==="build"?O.gfx.cursor=K?"pointer":"default":O.gfx.cursor="pointer",!I||O.id!==I||O.levels||!Y)if(O.levels&&O.levels>1){const ne=4+O.levels*15,Ee=d.acquired[O.id];let oe=-(ne/2);O.gfx.lineStyle(2,L&&y==="edit"?ts("#ffffff"):Ui(O,d)),O.gfx.beginFill(ts(l)),O.gfx.drawShape(new ta(oe,-6,ne,16,4)),O.gfx.endFill(),O.gfx.beginFill(ts(u)),O.gfx.lineStyle(),Ou(Ee,fe=>{O.gfx.drawCircle(oe+11+fe*14,2,4)}),O.gfx.endFill(),O.gfx.hitArea=new ta(oe,-6,ne,16,4)}else{let ne;y==="edit"?ne=8:ne=Y?ue*2+6:ue*2+2,L&&y==="edit"?(O.gfx.beginFill(16777215),O.gfx.drawCircle(0,0,ne+2),O.gfx.endFill(),O.gfx.beginFill(Ui(O,d,"selected")),O.gfx.drawCircle(0,0,ne),O.gfx.endFill()):Y?(O.gfx.beginFill(Ui(O,d)),O.gfx.drawCircle(0,0,ne),O.gfx.endFill()):K?(O.gfx.lineStyle(1,Ui(O,d),1),O.gfx.drawCircle(0,0,ne+4),O.gfx.endFill(),O.gfx.beginFill(14540253),O.gfx.lineStyle(),O.gfx.drawCircle(0,0,ne),O.gfx.endFill()):(O.gfx.beginFill(Ui(O,d)),O.gfx.drawCircle(0,0,ne),O.gfx.endFill()),O.gfx.hitArea=new Hu(0,0,ne+10)}else if(O.id===I&&Y){const ne=we(h,{id:I});let Ee=Y?ue*2+6:ue*2+2,oe=Y?ue*2+2:ue*2+6,fe=0;const Ae=setInterval(()=>{fe++,Y?oe+=fe*.4:oe-=fe*.4,ne==null||ne.gfx.clear(),ne==null||ne.gfx.beginFill(Ui(ne,d)),ne==null||ne.gfx.drawCircle(0,0,oe),ne==null||ne.gfx.endFill(),Y?oe>=Ee&&clearInterval(Ae):oe<=Ee&&clearInterval(Ae)},5)}T(O.gfx,O.name),O.gfx.interactive=!0})}function W(){e.length?h=ve(e,L=>({...L})):h=[{id:"reset",name:"Info",description:"Press the Reset Button to start",colors:{selected:"#fff",unavailable:"#fff"}}],m=[],A();const I=t.getBoundingClientRect();v=I.height,g=I.width,t.innerHTML="",c=new Wf({width:g,height:v,antialias:!0,autoDensity:!0,resizeTo:window,backgroundColor:l,backgroundAlpha:1,resolution:4}),t.appendChild(c.view),b=new Qce({screenWidth:g,screenHeight:v,worldWidth:g*4,worldHeight:v*4,passiveWheel:!1,events:c.renderer.plugins.interaction}),c.stage.addChild(b),b.drag().pinch().wheel().decelerate().clampZoom({minWidth:g/4,minHeight:v/4}),f=GE(h).force("link",zE(m).strength(L=>Ct(L.target,d)?.8:.7).id(L=>L.id).distance(L=>Ct(L.source,d)?20:30)).force("charge",WE().strength(-200)).force("center",NE(g/4,v/2)).force("collision",UE().radius(L=>L.radius).iterations(2)).velocityDecay(.8),p=new _s,b.addChild(p),h.forEach(L=>{D(L)}),$(),Q();const O=()=>{h.forEach(L=>{let{x:Y,y:K,gfx:ue}=L;ue.position=new le(Y,K)}),z()};f.on("tick",O),C(o)}function D(I){let O=new _s;const L=F.bind(I);let Y=!1;O.on("touchstart",K=>{Y=!0,Li(I,d,h,i),setTimeout(()=>{Y&&F(K,I)},100)}),O.on("touchend",K=>{Y=!1}),O.on("click",K=>L(K,I)),O.on("mouseover",K=>{y==="build"&&Li(I,d,h,i)}),I.gfx=O,b.addChild(O),T(I.gfx,I.name)}const G={Inter:"https://fonts.googleapis.com/css2?family=Inter:wght@100;400;500;700&display=swap"};return es.add("font-Inter",G.Inter),es.load(G.Inter).then(()=>{W()}),{destroy:()=>{f.stop(),h.forEach(I=>{I.gfx.clear(),I.gfx.removeChildren(),I.gfx.destroy()}),p.clear(),a.unsubscribe()}}}const nhe="_container_1up64_1",rhe="_node_1up64_15",ihe="_tooltip_1up64_19",she="_contextMenu_1up64_32",ohe="_menuEntry_1up64_37",ahe={container:nhe,node:rhe,tooltip:ihe,contextMenu:she,menuEntry:ohe},lhe=(t,e)=>{const n={lockedStats:{},stats:{},abilities:{},pointsInvested:0,exportableBuild:{}},r=(a,l,u,c)=>{if(gr(n.stats[l])&&(n.stats[l]=0),!n.lockedStats[l]||c&&u&&n.lockedStats[l]<u)if(c)n.stats[l]=u,n.lockedStats[l]=u;else if(a.levels){const h=a.acquired||0;u=u||0,n.stats[l]+=u*h}else n.stats[l]+=u},i=(a,l)=>{const u=we(e,{id:a});gr(n.abilities[a])&&(n.abilities[a]=Pe(u)||{},n.abilities[a].modifiers={}),n.abilities[a].learned=n.abilities[a].learned||l},s=a=>{const l=we(e,{id:a});l&&(i(l.id),n.abilities[a].replaced=!0)},o=(a,l,u={},c)=>{const h=we(e,{id:a});i(a,l),h!=null&&h.replaces&&n.abilities[a].learned&&s(h==null?void 0:h.replaces),u&&et(u,d=>{if(rB(d.id,"tag-")){gr(n.abilities[a].tags)&&(n.abilities[a].tags=[]);const p=d.id.substring(4);n.abilities[a].tags=Jd([...n.abilities[a].tags,p])}let f=d.modifier;c.levels&&(f=c.acquired*d.modifier),gr(n.abilities[a].modifiers[d.id])&&(n.abilities[a].modifiers[d.id]=0),n.abilities[a].modifiers[d.id]+=f})};return et(t,a=>{if(a.levels){const l=a.acquired||0;n.exportableBuild[a.id]=a.acquired||0,a.levelCost?Array.isArray(a.levelCost)?Ou(l,u=>{n.pointsInvested+=a.levelCost[u]}):n.pointsInvested+=l*a.levelCost:n.pointsInvested+=a.acquired||0}else n.exportableBuild[a.id]=!0,n.pointsInvested+=a.cost||1;a.providedStats&&et(a.providedStats,l=>{r(a,l.id,l.modifier,l.set)}),a.providedAbilities&&et(a.providedAbilities,l=>{o(l.id,l.gain,l.modifiers,a)})}),n};function uhe({infoUpdated:t,graphEvents:e}){const n=_.useRef(null),{abilities:r}=_.useContext(Wt),{nodes:i,setNodeMeta:s}=_.useContext(Zr),o=new qh,a=new qh,{savedBuild:l,setBuild:u}=_.useContext(ha),{theme:c}=_.useContext(Ru),{appMode:h}=_.useContext(Mi),d=_.useRef(r);return _.useEffect(()=>{e.next({event:"modeChanged",data:{mode:h}})},[h]),_.useEffect(()=>{d.current=r},[r]),_.useEffect(()=>{e.next({event:"themeChanged",data:c})},[c]),_.useEffect(()=>{let f;if(e.subscribe({next:p=>{}}),o.subscribe({next:p=>{const m=mn(p.nodes,g=>g.selected||g.acquired);u({type:"set",build:lhe(m,d.current)}),s(p.nodeMeta)}}),a.subscribe({next:p=>{t(p)}}),n.current){const{destroy:p}=the(n.current,i,l,o,a,e,c);f=p}return t({}),f},[l]),E("div",{ref:n,className:ahe.container})}const US=new qh;function che(){const{setSelectedNodeId:t}=_.useContext(Zr),{build:e}=_.useContext(ha),{theme:n}=_.useContext(Ru),{appMode:r,setAppMode:i}=_.useContext(Mi),s=_.useRef(r);_.useEffect(()=>{s.current=r},[r]);const o=_.useCallback(l=>{var c;const u=["INPUT","SELECT","TEXTAREA"];l.shiftKey&&l.key==="E"&&!Au(u,(c=document.activeElement)==null?void 0:c.tagName)&&i(s.current==="build"?"edit":"build")},[]);_.useEffect(()=>(document.addEventListener("keydown",o),()=>{document.removeEventListener("keydown",o)}),[o]);const a=l=>{var u;t((u=l.node)==null?void 0:u.id)};return j("div",{className:Yl({App:!0,light:n==="light"}),children:[j("div",{className:"appLeft",children:[E(uee,{graphEvents$:US}),E(pre,{pointsSpent:e.pointsInvested})]}),E("div",{className:"appRight",children:E(fre,{})}),E("div",{className:"skill-panel",children:E(uhe,{infoUpdated:a,graphEvents:US})})]})}function hhe(){return E(VJ,{children:E(iL,{children:E(TB,{children:E(gB,{children:E(EB,{children:E(ree,{children:E(tL,{children:E(che,{})})})})})})})})}vm.createRoot(document.getElementById("root")).render(E(hhe,{}))});export default dhe();
