var bk=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Rhe=bk((on,an)=>{function xk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var $r=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function _k(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Ah={},Ek={get exports(){return Ah},set exports(t){Ah=t}},Dd={},w={},Sk={get exports(){return w},set exports(t){w=t}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _u=Symbol.for("react.element"),Ck=Symbol.for("react.portal"),Tk=Symbol.for("react.fragment"),Ak=Symbol.for("react.strict_mode"),Pk=Symbol.for("react.profiler"),Ok=Symbol.for("react.provider"),Ik=Symbol.for("react.context"),kk=Symbol.for("react.forward_ref"),Rk=Symbol.for("react.suspense"),Mk=Symbol.for("react.memo"),Fk=Symbol.for("react.lazy"),qb=Symbol.iterator;function Dk(t){return t===null||typeof t!="object"?null:(t=qb&&t[qb]||t["@@iterator"],typeof t=="function"?t:null)}var o2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},a2=Object.assign,l2={};function fa(t,e,n){this.props=t,this.context=e,this.refs=l2,this.updater=n||o2}fa.prototype.isReactComponent={};fa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function u2(){}u2.prototype=fa.prototype;function i0(t,e,n){this.props=t,this.context=e,this.refs=l2,this.updater=n||o2}var s0=i0.prototype=new u2;s0.constructor=i0;a2(s0,fa.prototype);s0.isPureReactComponent=!0;var Yb=Array.isArray,c2=Object.prototype.hasOwnProperty,o0={current:null},h2={key:!0,ref:!0,__self:!0,__source:!0};function d2(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)c2.call(e,r)&&!h2.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:_u,type:t,key:s,ref:o,props:i,_owner:o0.current}}function $k(t,e){return{$$typeof:_u,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function a0(t){return typeof t=="object"&&t!==null&&t.$$typeof===_u}function Bk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Kb=/\/+/g;function ep(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Bk(""+t.key):e.toString(36)}function Jc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case _u:case Ck:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ep(o,0):r,Yb(i)?(n="",t!=null&&(n=t.replace(Kb,"$&/")+"/"),Jc(i,e,n,"",function(u){return u})):i!=null&&(a0(i)&&(i=$k(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Kb,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Yb(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+ep(s,a);o+=Jc(s,e,n,l,i)}else if(l=Dk(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+ep(s,a++),o+=Jc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function tc(t,e,n){if(t==null)return t;var r=[],i=0;return Jc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Nk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Lt={current:null},eh={transition:null},Lk={ReactCurrentDispatcher:Lt,ReactCurrentBatchConfig:eh,ReactCurrentOwner:o0};ye.Children={map:tc,forEach:function(t,e,n){tc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return tc(t,function(){e++}),e},toArray:function(t){return tc(t,function(e){return e})||[]},only:function(t){if(!a0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=fa;ye.Fragment=Tk;ye.Profiler=Pk;ye.PureComponent=i0;ye.StrictMode=Ak;ye.Suspense=Rk;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lk;ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=a2({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=o0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)c2.call(e,l)&&!h2.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:_u,type:t.type,key:i,ref:s,props:r,_owner:o}};ye.createContext=function(t){return t={$$typeof:Ik,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ok,_context:t},t.Consumer=t};ye.createElement=d2;ye.createFactory=function(t){var e=d2.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:kk,render:t}};ye.isValidElement=a0;ye.lazy=function(t){return{$$typeof:Fk,_payload:{_status:-1,_result:t},_init:Nk}};ye.memo=function(t,e){return{$$typeof:Mk,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=eh.transition;eh.transition={};try{t()}finally{eh.transition=e}};ye.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ye.useCallback=function(t,e){return Lt.current.useCallback(t,e)};ye.useContext=function(t){return Lt.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return Lt.current.useDeferredValue(t)};ye.useEffect=function(t,e){return Lt.current.useEffect(t,e)};ye.useId=function(){return Lt.current.useId()};ye.useImperativeHandle=function(t,e,n){return Lt.current.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return Lt.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return Lt.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return Lt.current.useMemo(t,e)};ye.useReducer=function(t,e,n){return Lt.current.useReducer(t,e,n)};ye.useRef=function(t){return Lt.current.useRef(t)};ye.useState=function(t){return Lt.current.useState(t)};ye.useSyncExternalStore=function(t,e,n){return Lt.current.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return Lt.current.useTransition()};ye.version="18.2.0";(function(t){t.exports=ye})(Sk);const _=wk(w),Zb=xk({__proto__:null,default:_},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uk=w,jk=Symbol.for("react.element"),zk=Symbol.for("react.fragment"),Hk=Object.prototype.hasOwnProperty,Gk=Uk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wk={key:!0,ref:!0,__self:!0,__source:!0};function f2(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Hk.call(e,r)&&!Wk.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:jk,type:t,key:s,ref:o,props:i,_owner:Gk.current}}Dd.Fragment=zk;Dd.jsx=f2;Dd.jsxs=f2;(function(t){t.exports=Dd})(Ek);const E=Ah.jsx,U=Ah.jsxs;var Em={},Ol={},Vk={get exports(){return Ol},set exports(t){Ol=t}},mn={},Sm={},Xk={get exports(){return Sm},set exports(t){Sm=t}},p2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,G){var R=L.length;L.push(G);e:for(;0<R;){var X=R-1>>>1,Z=L[X];if(0<i(Z,G))L[X]=G,L[R]=Z,R=X;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var G=L[0],R=L.pop();if(R!==G){L[0]=R;e:for(var X=0,Z=L.length,F=Z>>>1;X<F;){var $=2*(X+1)-1,P=L[$],W=$+1,Q=L[W];if(0>i(P,R))W<Z&&0>i(Q,P)?(L[X]=Q,L[W]=R,X=W):(L[X]=P,L[$]=R,X=$);else if(W<Z&&0>i(Q,R))L[X]=Q,L[W]=R,X=W;else break e}}return G}function i(L,G){var R=L.sortIndex-G.sortIndex;return R!==0?R:L.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,p=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(L){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=L)r(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(u)}}function x(L){if(m=!1,y(L),!p)if(n(l)!==null)p=!0,q(S);else{var G=n(u);G!==null&&z(x,G.startTime-L)}}function S(L,G){p=!1,m&&(m=!1,g(A),A=-1),f=!0;var R=d;try{for(y(G),h=n(l);h!==null&&(!(h.expirationTime>G)||L&&!N());){var X=h.callback;if(typeof X=="function"){h.callback=null,d=h.priorityLevel;var Z=X(h.expirationTime<=G);G=t.unstable_now(),typeof Z=="function"?h.callback=Z:h===n(l)&&r(l),y(G)}else r(l);h=n(l)}if(h!==null)var F=!0;else{var $=n(u);$!==null&&z(x,$.startTime-G),F=!1}return F}finally{h=null,d=R,f=!1}}var C=!1,T=null,A=-1,I=5,M=-1;function N(){return!(t.unstable_now()-M<I)}function D(){if(T!==null){var L=t.unstable_now();M=L;var G=!0;try{G=T(!0,L)}finally{G?B():(C=!1,T=null)}}else C=!1}var B;if(typeof b=="function")B=function(){b(D)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,H=k.port2;k.port1.onmessage=D,B=function(){H.postMessage(null)}}else B=function(){v(D,0)};function q(L){T=L,C||(C=!0,B())}function z(L,G){A=v(function(){L(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,q(S))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(d){case 1:case 2:case 3:var G=3;break;default:G=d}var R=d;d=G;try{return L()}finally{d=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,G){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var R=d;d=L;try{return G()}finally{d=R}},t.unstable_scheduleCallback=function(L,G,R){var X=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?X+R:X):R=X,L){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=R+Z,L={id:c++,callback:G,priorityLevel:L,startTime:R,expirationTime:Z,sortIndex:-1},R>X?(L.sortIndex=R,e(u,L),n(l)===null&&L===n(u)&&(m?(g(A),A=-1):m=!0,z(x,R-X))):(L.sortIndex=Z,e(l,L),p||f||(p=!0,q(S))),L},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(L){var G=d;return function(){var R=d;d=G;try{return L.apply(this,arguments)}finally{d=R}}}})(p2);(function(t){t.exports=p2})(Xk);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m2=w,fn=Sm;function V(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g2=new Set,Il={};function Ps(t,e){Ho(t,e),Ho(t+"Capture",e)}function Ho(t,e){for(Il[t]=e,t=0;t<e.length;t++)g2.add(e[t])}var Hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cm=Object.prototype.hasOwnProperty,qk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qb={},Jb={};function Yk(t){return Cm.call(Jb,t)?!0:Cm.call(Qb,t)?!1:qk.test(t)?Jb[t]=!0:(Qb[t]=!0,!1)}function Kk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Zk(t,e,n,r){if(e===null||typeof e>"u"||Kk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ut(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Tt[t]=new Ut(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Tt[e]=new Ut(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Tt[t]=new Ut(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Tt[t]=new Ut(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Tt[t]=new Ut(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Tt[t]=new Ut(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Tt[t]=new Ut(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Tt[t]=new Ut(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Tt[t]=new Ut(t,5,!1,t.toLowerCase(),null,!1,!1)});var l0=/[\-:]([a-z])/g;function u0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(l0,u0);Tt[e]=new Ut(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(l0,u0);Tt[e]=new Ut(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(l0,u0);Tt[e]=new Ut(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Tt[t]=new Ut(t,1,!1,t.toLowerCase(),null,!1,!1)});Tt.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Tt[t]=new Ut(t,1,!1,t.toLowerCase(),null,!0,!0)});function c0(t,e,n,r){var i=Tt.hasOwnProperty(e)?Tt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Zk(e,n,i,r)&&(n=null),r||i===null?Yk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Zr=m2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nc=Symbol.for("react.element"),yo=Symbol.for("react.portal"),bo=Symbol.for("react.fragment"),h0=Symbol.for("react.strict_mode"),Tm=Symbol.for("react.profiler"),v2=Symbol.for("react.provider"),y2=Symbol.for("react.context"),d0=Symbol.for("react.forward_ref"),Am=Symbol.for("react.suspense"),Pm=Symbol.for("react.suspense_list"),f0=Symbol.for("react.memo"),oi=Symbol.for("react.lazy"),b2=Symbol.for("react.offscreen"),ex=Symbol.iterator;function ka(t){return t===null||typeof t!="object"?null:(t=ex&&t[ex]||t["@@iterator"],typeof t=="function"?t:null)}var Ze=Object.assign,tp;function tl(t){if(tp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);tp=e&&e[1]||""}return`
`+tp+t}var np=!1;function rp(t,e){if(!t||np)return"";np=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{np=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?tl(t):""}function Qk(t){switch(t.tag){case 5:return tl(t.type);case 16:return tl("Lazy");case 13:return tl("Suspense");case 19:return tl("SuspenseList");case 0:case 2:case 15:return t=rp(t.type,!1),t;case 11:return t=rp(t.type.render,!1),t;case 1:return t=rp(t.type,!0),t;default:return""}}function Om(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case bo:return"Fragment";case yo:return"Portal";case Tm:return"Profiler";case h0:return"StrictMode";case Am:return"Suspense";case Pm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case y2:return(t.displayName||"Context")+".Consumer";case v2:return(t._context.displayName||"Context")+".Provider";case d0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case f0:return e=t.displayName||null,e!==null?e:Om(t.type)||"Memo";case oi:e=t._payload,t=t._init;try{return Om(t(e))}catch{}}return null}function Jk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Om(e);case 8:return e===h0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ci(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function x2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function eR(t){var e=x2(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function rc(t){t._valueTracker||(t._valueTracker=eR(t))}function w2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=x2(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ph(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Im(t,e){var n=e.checked;return Ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function tx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ci(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _2(t,e){e=e.checked,e!=null&&c0(t,"checked",e,!1)}function km(t,e){_2(t,e);var n=Ci(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Rm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Rm(t,e.type,Ci(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function nx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Rm(t,e,n){(e!=="number"||Ph(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var nl=Array.isArray;function ko(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ci(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Mm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(V(91));return Ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(V(92));if(nl(n)){if(1<n.length)throw Error(V(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ci(n)}}function E2(t,e){var n=Ci(e.value),r=Ci(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ix(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function S2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?S2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ic,C2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ic=ic||document.createElement("div"),ic.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ic.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function kl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var vl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tR=["Webkit","ms","Moz","O"];Object.keys(vl).forEach(function(t){tR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vl[e]=vl[t]})});function T2(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||vl.hasOwnProperty(t)&&vl[t]?(""+e).trim():e+"px"}function A2(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=T2(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var nR=Ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dm(t,e){if(e){if(nR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(V(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(V(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(V(61))}if(e.style!=null&&typeof e.style!="object")throw Error(V(62))}}function $m(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bm=null;function p0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Nm=null,Ro=null,Mo=null;function sx(t){if(t=Cu(t)){if(typeof Nm!="function")throw Error(V(280));var e=t.stateNode;e&&(e=Ud(e),Nm(t.stateNode,t.type,e))}}function P2(t){Ro?Mo?Mo.push(t):Mo=[t]:Ro=t}function O2(){if(Ro){var t=Ro,e=Mo;if(Mo=Ro=null,sx(t),e)for(t=0;t<e.length;t++)sx(e[t])}}function I2(t,e){return t(e)}function k2(){}var ip=!1;function R2(t,e,n){if(ip)return t(e,n);ip=!0;try{return I2(t,e,n)}finally{ip=!1,(Ro!==null||Mo!==null)&&(k2(),O2())}}function Rl(t,e){var n=t.stateNode;if(n===null)return null;var r=Ud(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(V(231,e,typeof n));return n}var Lm=!1;if(Hr)try{var Ra={};Object.defineProperty(Ra,"passive",{get:function(){Lm=!0}}),window.addEventListener("test",Ra,Ra),window.removeEventListener("test",Ra,Ra)}catch{Lm=!1}function rR(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var yl=!1,Oh=null,Ih=!1,Um=null,iR={onError:function(t){yl=!0,Oh=t}};function sR(t,e,n,r,i,s,o,a,l){yl=!1,Oh=null,rR.apply(iR,arguments)}function oR(t,e,n,r,i,s,o,a,l){if(sR.apply(this,arguments),yl){if(yl){var u=Oh;yl=!1,Oh=null}else throw Error(V(198));Ih||(Ih=!0,Um=u)}}function Os(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function M2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ox(t){if(Os(t)!==t)throw Error(V(188))}function aR(t){var e=t.alternate;if(!e){if(e=Os(t),e===null)throw Error(V(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ox(i),t;if(s===r)return ox(i),e;s=s.sibling}throw Error(V(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?t:e}function F2(t){return t=aR(t),t!==null?D2(t):null}function D2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=D2(t);if(e!==null)return e;t=t.sibling}return null}var $2=fn.unstable_scheduleCallback,ax=fn.unstable_cancelCallback,lR=fn.unstable_shouldYield,uR=fn.unstable_requestPaint,ot=fn.unstable_now,cR=fn.unstable_getCurrentPriorityLevel,m0=fn.unstable_ImmediatePriority,B2=fn.unstable_UserBlockingPriority,kh=fn.unstable_NormalPriority,hR=fn.unstable_LowPriority,N2=fn.unstable_IdlePriority,$d=null,_r=null;function dR(t){if(_r&&typeof _r.onCommitFiberRoot=="function")try{_r.onCommitFiberRoot($d,t,void 0,(t.current.flags&128)===128)}catch{}}var Jn=Math.clz32?Math.clz32:mR,fR=Math.log,pR=Math.LN2;function mR(t){return t>>>=0,t===0?32:31-(fR(t)/pR|0)|0}var sc=64,oc=4194304;function rl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Rh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=rl(a):(s&=o,s!==0&&(r=rl(s)))}else o=n&~i,o!==0?r=rl(o):s!==0&&(r=rl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Jn(e),i=1<<n,r|=t[n],e&=~i;return r}function gR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Jn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=gR(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function jm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function L2(){var t=sc;return sc<<=1,!(sc&4194240)&&(sc=64),t}function sp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Eu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jn(e),t[e]=n}function yR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Jn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function g0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Jn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ke=0;function U2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var j2,v0,z2,H2,G2,zm=!1,ac=[],mi=null,gi=null,vi=null,Ml=new Map,Fl=new Map,ui=[],bR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lx(t,e){switch(t){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":gi=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":Ml.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(e.pointerId)}}function Ma(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Cu(e),e!==null&&v0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function xR(t,e,n,r,i){switch(e){case"focusin":return mi=Ma(mi,t,e,n,r,i),!0;case"dragenter":return gi=Ma(gi,t,e,n,r,i),!0;case"mouseover":return vi=Ma(vi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ml.set(s,Ma(Ml.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Fl.set(s,Ma(Fl.get(s)||null,t,e,n,r,i)),!0}return!1}function W2(t){var e=Ji(t.target);if(e!==null){var n=Os(e);if(n!==null){if(e=n.tag,e===13){if(e=M2(n),e!==null){t.blockedOn=e,G2(t.priority,function(){z2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function th(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Hm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Bm=r,n.target.dispatchEvent(r),Bm=null}else return e=Cu(n),e!==null&&v0(e),t.blockedOn=n,!1;e.shift()}return!0}function ux(t,e,n){th(t)&&n.delete(e)}function wR(){zm=!1,mi!==null&&th(mi)&&(mi=null),gi!==null&&th(gi)&&(gi=null),vi!==null&&th(vi)&&(vi=null),Ml.forEach(ux),Fl.forEach(ux)}function Fa(t,e){t.blockedOn===e&&(t.blockedOn=null,zm||(zm=!0,fn.unstable_scheduleCallback(fn.unstable_NormalPriority,wR)))}function Dl(t){function e(i){return Fa(i,t)}if(0<ac.length){Fa(ac[0],t);for(var n=1;n<ac.length;n++){var r=ac[n];r.blockedOn===t&&(r.blockedOn=null)}}for(mi!==null&&Fa(mi,t),gi!==null&&Fa(gi,t),vi!==null&&Fa(vi,t),Ml.forEach(e),Fl.forEach(e),n=0;n<ui.length;n++)r=ui[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ui.length&&(n=ui[0],n.blockedOn===null);)W2(n),n.blockedOn===null&&ui.shift()}var Fo=Zr.ReactCurrentBatchConfig,Mh=!0;function _R(t,e,n,r){var i=ke,s=Fo.transition;Fo.transition=null;try{ke=1,y0(t,e,n,r)}finally{ke=i,Fo.transition=s}}function ER(t,e,n,r){var i=ke,s=Fo.transition;Fo.transition=null;try{ke=4,y0(t,e,n,r)}finally{ke=i,Fo.transition=s}}function y0(t,e,n,r){if(Mh){var i=Hm(t,e,n,r);if(i===null)mp(t,e,r,Fh,n),lx(t,r);else if(xR(i,t,e,n,r))r.stopPropagation();else if(lx(t,r),e&4&&-1<bR.indexOf(t)){for(;i!==null;){var s=Cu(i);if(s!==null&&j2(s),s=Hm(t,e,n,r),s===null&&mp(t,e,r,Fh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else mp(t,e,r,null,n)}}var Fh=null;function Hm(t,e,n,r){if(Fh=null,t=p0(r),t=Ji(t),t!==null)if(e=Os(t),e===null)t=null;else if(n=e.tag,n===13){if(t=M2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Fh=t,null}function V2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cR()){case m0:return 1;case B2:return 4;case kh:case hR:return 16;case N2:return 536870912;default:return 16}default:return 16}}var hi=null,b0=null,nh=null;function X2(){if(nh)return nh;var t,e=b0,n=e.length,r,i="value"in hi?hi.value:hi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return nh=i.slice(t,1<r?1-r:void 0)}function rh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function lc(){return!0}function cx(){return!1}function gn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?lc:cx,this.isPropagationStopped=cx,this}return Ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=lc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=lc)},persist:function(){},isPersistent:lc}),e}var pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},x0=gn(pa),Su=Ze({},pa,{view:0,detail:0}),SR=gn(Su),op,ap,Da,Bd=Ze({},Su,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:w0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Da&&(Da&&t.type==="mousemove"?(op=t.screenX-Da.screenX,ap=t.screenY-Da.screenY):ap=op=0,Da=t),op)},movementY:function(t){return"movementY"in t?t.movementY:ap}}),hx=gn(Bd),CR=Ze({},Bd,{dataTransfer:0}),TR=gn(CR),AR=Ze({},Su,{relatedTarget:0}),lp=gn(AR),PR=Ze({},pa,{animationName:0,elapsedTime:0,pseudoElement:0}),OR=gn(PR),IR=Ze({},pa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kR=gn(IR),RR=Ze({},pa,{data:0}),dx=gn(RR),MR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $R(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=DR[t])?!!e[t]:!1}function w0(){return $R}var BR=Ze({},Su,{key:function(t){if(t.key){var e=MR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?FR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:w0,charCode:function(t){return t.type==="keypress"?rh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),NR=gn(BR),LR=Ze({},Bd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fx=gn(LR),UR=Ze({},Su,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:w0}),jR=gn(UR),zR=Ze({},pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),HR=gn(zR),GR=Ze({},Bd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),WR=gn(GR),VR=[9,13,27,32],_0=Hr&&"CompositionEvent"in window,bl=null;Hr&&"documentMode"in document&&(bl=document.documentMode);var XR=Hr&&"TextEvent"in window&&!bl,q2=Hr&&(!_0||bl&&8<bl&&11>=bl),px=String.fromCharCode(32),mx=!1;function Y2(t,e){switch(t){case"keyup":return VR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function K2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xo=!1;function qR(t,e){switch(t){case"compositionend":return K2(e);case"keypress":return e.which!==32?null:(mx=!0,px);case"textInput":return t=e.data,t===px&&mx?null:t;default:return null}}function YR(t,e){if(xo)return t==="compositionend"||!_0&&Y2(t,e)?(t=X2(),nh=b0=hi=null,xo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return q2&&e.locale!=="ko"?null:e.data;default:return null}}var KR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!KR[t.type]:e==="textarea"}function Z2(t,e,n,r){P2(r),e=Dh(e,"onChange"),0<e.length&&(n=new x0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var xl=null,$l=null;function ZR(t){lC(t,0)}function Nd(t){var e=Eo(t);if(w2(e))return t}function QR(t,e){if(t==="change")return e}var Q2=!1;if(Hr){var up;if(Hr){var cp="oninput"in document;if(!cp){var vx=document.createElement("div");vx.setAttribute("oninput","return;"),cp=typeof vx.oninput=="function"}up=cp}else up=!1;Q2=up&&(!document.documentMode||9<document.documentMode)}function yx(){xl&&(xl.detachEvent("onpropertychange",J2),$l=xl=null)}function J2(t){if(t.propertyName==="value"&&Nd($l)){var e=[];Z2(e,$l,t,p0(t)),R2(ZR,e)}}function JR(t,e,n){t==="focusin"?(yx(),xl=e,$l=n,xl.attachEvent("onpropertychange",J2)):t==="focusout"&&yx()}function eM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nd($l)}function tM(t,e){if(t==="click")return Nd(e)}function nM(t,e){if(t==="input"||t==="change")return Nd(e)}function rM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sr=typeof Object.is=="function"?Object.is:rM;function Bl(t,e){if(sr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Cm.call(e,i)||!sr(t[i],e[i]))return!1}return!0}function bx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xx(t,e){var n=bx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bx(n)}}function eC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?eC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tC(){for(var t=window,e=Ph();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ph(t.document)}return e}function E0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function iM(t){var e=tC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&eC(n.ownerDocument.documentElement,n)){if(r!==null&&E0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=xx(n,s);var o=xx(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sM=Hr&&"documentMode"in document&&11>=document.documentMode,wo=null,Gm=null,wl=null,Wm=!1;function wx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wm||wo==null||wo!==Ph(r)||(r=wo,"selectionStart"in r&&E0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wl&&Bl(wl,r)||(wl=r,r=Dh(Gm,"onSelect"),0<r.length&&(e=new x0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=wo)))}function uc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _o={animationend:uc("Animation","AnimationEnd"),animationiteration:uc("Animation","AnimationIteration"),animationstart:uc("Animation","AnimationStart"),transitionend:uc("Transition","TransitionEnd")},hp={},nC={};Hr&&(nC=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function Ld(t){if(hp[t])return hp[t];if(!_o[t])return t;var e=_o[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in nC)return hp[t]=e[n];return t}var rC=Ld("animationend"),iC=Ld("animationiteration"),sC=Ld("animationstart"),oC=Ld("transitionend"),aC=new Map,_x="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mi(t,e){aC.set(t,e),Ps(e,[t])}for(var dp=0;dp<_x.length;dp++){var fp=_x[dp],oM=fp.toLowerCase(),aM=fp[0].toUpperCase()+fp.slice(1);Mi(oM,"on"+aM)}Mi(rC,"onAnimationEnd");Mi(iC,"onAnimationIteration");Mi(sC,"onAnimationStart");Mi("dblclick","onDoubleClick");Mi("focusin","onFocus");Mi("focusout","onBlur");Mi(oC,"onTransitionEnd");Ho("onMouseEnter",["mouseout","mouseover"]);Ho("onMouseLeave",["mouseout","mouseover"]);Ho("onPointerEnter",["pointerout","pointerover"]);Ho("onPointerLeave",["pointerout","pointerover"]);Ps("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ps("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ps("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ps("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ps("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ps("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lM=new Set("cancel close invalid load scroll toggle".split(" ").concat(il));function Ex(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,oR(r,e,void 0,t),t.currentTarget=null}function lC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Ex(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Ex(i,a,u),s=l}}}if(Ih)throw t=Um,Ih=!1,Um=null,t}function Be(t,e){var n=e[Km];n===void 0&&(n=e[Km]=new Set);var r=t+"__bubble";n.has(r)||(uC(e,t,2,!1),n.add(r))}function pp(t,e,n){var r=0;e&&(r|=4),uC(n,t,r,e)}var cc="_reactListening"+Math.random().toString(36).slice(2);function Nl(t){if(!t[cc]){t[cc]=!0,g2.forEach(function(n){n!=="selectionchange"&&(lM.has(n)||pp(n,!1,t),pp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[cc]||(e[cc]=!0,pp("selectionchange",!1,e))}}function uC(t,e,n,r){switch(V2(e)){case 1:var i=_R;break;case 4:i=ER;break;default:i=y0}n=i.bind(null,e,n,t),i=void 0,!Lm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function mp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ji(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}R2(function(){var u=s,c=p0(n),h=[];e:{var d=aC.get(t);if(d!==void 0){var f=x0,p=t;switch(t){case"keypress":if(rh(n)===0)break e;case"keydown":case"keyup":f=NR;break;case"focusin":p="focus",f=lp;break;case"focusout":p="blur",f=lp;break;case"beforeblur":case"afterblur":f=lp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=hx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=TR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=jR;break;case rC:case iC:case sC:f=OR;break;case oC:f=HR;break;case"scroll":f=SR;break;case"wheel":f=WR;break;case"copy":case"cut":case"paste":f=kR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=fx}var m=(e&4)!==0,v=!m&&t==="scroll",g=m?d!==null?d+"Capture":null:d;m=[];for(var b=u,y;b!==null;){y=b;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,g!==null&&(x=Rl(b,g),x!=null&&m.push(Ll(b,x,y)))),v)break;b=b.return}0<m.length&&(d=new f(d,p,null,n,c),h.push({event:d,listeners:m}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==Bm&&(p=n.relatedTarget||n.fromElement)&&(Ji(p)||p[Gr]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=u,p=p?Ji(p):null,p!==null&&(v=Os(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(m=hx,x="onMouseLeave",g="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(m=fx,x="onPointerLeave",g="onPointerEnter",b="pointer"),v=f==null?d:Eo(f),y=p==null?d:Eo(p),d=new m(x,b+"leave",f,n,c),d.target=v,d.relatedTarget=y,x=null,Ji(c)===u&&(m=new m(g,b+"enter",p,n,c),m.target=y,m.relatedTarget=v,x=m),v=x,f&&p)t:{for(m=f,g=p,b=0,y=m;y;y=Ls(y))b++;for(y=0,x=g;x;x=Ls(x))y++;for(;0<b-y;)m=Ls(m),b--;for(;0<y-b;)g=Ls(g),y--;for(;b--;){if(m===g||g!==null&&m===g.alternate)break t;m=Ls(m),g=Ls(g)}m=null}else m=null;f!==null&&Sx(h,d,f,m,!1),p!==null&&v!==null&&Sx(h,v,p,m,!0)}}e:{if(d=u?Eo(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var S=QR;else if(gx(d))if(Q2)S=nM;else{S=eM;var C=JR}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=tM);if(S&&(S=S(t,u))){Z2(h,S,n,c);break e}C&&C(t,d,u),t==="focusout"&&(C=d._wrapperState)&&C.controlled&&d.type==="number"&&Rm(d,"number",d.value)}switch(C=u?Eo(u):window,t){case"focusin":(gx(C)||C.contentEditable==="true")&&(wo=C,Gm=u,wl=null);break;case"focusout":wl=Gm=wo=null;break;case"mousedown":Wm=!0;break;case"contextmenu":case"mouseup":case"dragend":Wm=!1,wx(h,n,c);break;case"selectionchange":if(sM)break;case"keydown":case"keyup":wx(h,n,c)}var T;if(_0)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else xo?Y2(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(q2&&n.locale!=="ko"&&(xo||A!=="onCompositionStart"?A==="onCompositionEnd"&&xo&&(T=X2()):(hi=c,b0="value"in hi?hi.value:hi.textContent,xo=!0)),C=Dh(u,A),0<C.length&&(A=new dx(A,t,null,n,c),h.push({event:A,listeners:C}),T?A.data=T:(T=K2(n),T!==null&&(A.data=T)))),(T=XR?qR(t,n):YR(t,n))&&(u=Dh(u,"onBeforeInput"),0<u.length&&(c=new dx("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=T))}lC(h,e)})}function Ll(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Dh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Rl(t,n),s!=null&&r.unshift(Ll(t,s,i)),s=Rl(t,e),s!=null&&r.push(Ll(t,s,i))),t=t.return}return r}function Ls(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Sx(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Rl(n,s),l!=null&&o.unshift(Ll(n,l,a))):i||(l=Rl(n,s),l!=null&&o.push(Ll(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var uM=/\r\n?/g,cM=/\u0000|\uFFFD/g;function Cx(t){return(typeof t=="string"?t:""+t).replace(uM,`
`).replace(cM,"")}function hc(t,e,n){if(e=Cx(e),Cx(t)!==e&&n)throw Error(V(425))}function $h(){}var Vm=null,Xm=null;function qm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ym=typeof setTimeout=="function"?setTimeout:void 0,hM=typeof clearTimeout=="function"?clearTimeout:void 0,Tx=typeof Promise=="function"?Promise:void 0,dM=typeof queueMicrotask=="function"?queueMicrotask:typeof Tx<"u"?function(t){return Tx.resolve(null).then(t).catch(fM)}:Ym;function fM(t){setTimeout(function(){throw t})}function gp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Dl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Dl(e)}function yi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ax(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ma=Math.random().toString(36).slice(2),vr="__reactFiber$"+ma,Ul="__reactProps$"+ma,Gr="__reactContainer$"+ma,Km="__reactEvents$"+ma,pM="__reactListeners$"+ma,mM="__reactHandles$"+ma;function Ji(t){var e=t[vr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Gr]||n[vr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ax(t);t!==null;){if(n=t[vr])return n;t=Ax(t)}return e}t=n,n=t.parentNode}return null}function Cu(t){return t=t[vr]||t[Gr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Eo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(V(33))}function Ud(t){return t[Ul]||null}var Zm=[],So=-1;function Fi(t){return{current:t}}function Ue(t){0>So||(t.current=Zm[So],Zm[So]=null,So--)}function $e(t,e){So++,Zm[So]=t.current,t.current=e}var Ti={},kt=Fi(Ti),Wt=Fi(!1),ms=Ti;function Go(t,e){var n=t.type.contextTypes;if(!n)return Ti;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Vt(t){return t=t.childContextTypes,t!=null}function Bh(){Ue(Wt),Ue(kt)}function Px(t,e,n){if(kt.current!==Ti)throw Error(V(168));$e(kt,e),$e(Wt,n)}function cC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(V(108,Jk(t)||"Unknown",i));return Ze({},n,r)}function Nh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ti,ms=kt.current,$e(kt,t),$e(Wt,Wt.current),!0}function Ox(t,e,n){var r=t.stateNode;if(!r)throw Error(V(169));n?(t=cC(t,e,ms),r.__reactInternalMemoizedMergedChildContext=t,Ue(Wt),Ue(kt),$e(kt,t)):Ue(Wt),$e(Wt,n)}var Dr=null,jd=!1,vp=!1;function hC(t){Dr===null?Dr=[t]:Dr.push(t)}function gM(t){jd=!0,hC(t)}function Di(){if(!vp&&Dr!==null){vp=!0;var t=0,e=ke;try{var n=Dr;for(ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Dr=null,jd=!1}catch(i){throw Dr!==null&&(Dr=Dr.slice(t+1)),$2(m0,Di),i}finally{ke=e,vp=!1}}return null}var Co=[],To=0,Lh=null,Uh=0,_n=[],En=0,gs=null,Br=1,Nr="";function Wi(t,e){Co[To++]=Uh,Co[To++]=Lh,Lh=t,Uh=e}function dC(t,e,n){_n[En++]=Br,_n[En++]=Nr,_n[En++]=gs,gs=t;var r=Br;t=Nr;var i=32-Jn(r)-1;r&=~(1<<i),n+=1;var s=32-Jn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Br=1<<32-Jn(e)+i|n<<i|r,Nr=s+t}else Br=1<<s|n<<i|r,Nr=t}function S0(t){t.return!==null&&(Wi(t,1),dC(t,1,0))}function C0(t){for(;t===Lh;)Lh=Co[--To],Co[To]=null,Uh=Co[--To],Co[To]=null;for(;t===gs;)gs=_n[--En],_n[En]=null,Nr=_n[--En],_n[En]=null,Br=_n[--En],_n[En]=null}var ln=null,rn=null,We=!1,qn=null;function fC(t,e){var n=Pn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ix(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ln=t,rn=yi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ln=t,rn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=gs!==null?{id:Br,overflow:Nr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Pn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ln=t,rn=null,!0):!1;default:return!1}}function Qm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Jm(t){if(We){var e=rn;if(e){var n=e;if(!Ix(t,e)){if(Qm(t))throw Error(V(418));e=yi(n.nextSibling);var r=ln;e&&Ix(t,e)?fC(r,n):(t.flags=t.flags&-4097|2,We=!1,ln=t)}}else{if(Qm(t))throw Error(V(418));t.flags=t.flags&-4097|2,We=!1,ln=t}}}function kx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ln=t}function dc(t){if(t!==ln)return!1;if(!We)return kx(t),We=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qm(t.type,t.memoizedProps)),e&&(e=rn)){if(Qm(t))throw pC(),Error(V(418));for(;e;)fC(t,e),e=yi(e.nextSibling)}if(kx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(V(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){rn=yi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}rn=null}}else rn=ln?yi(t.stateNode.nextSibling):null;return!0}function pC(){for(var t=rn;t;)t=yi(t.nextSibling)}function Wo(){rn=ln=null,We=!1}function T0(t){qn===null?qn=[t]:qn.push(t)}var vM=Zr.ReactCurrentBatchConfig;function Vn(t,e){if(t&&t.defaultProps){e=Ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var jh=Fi(null),zh=null,Ao=null,A0=null;function P0(){A0=Ao=zh=null}function O0(t){var e=jh.current;Ue(jh),t._currentValue=e}function eg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Do(t,e){zh=t,A0=Ao=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gt=!0),t.firstContext=null)}function Mn(t){var e=t._currentValue;if(A0!==t)if(t={context:t,memoizedValue:e,next:null},Ao===null){if(zh===null)throw Error(V(308));Ao=t,zh.dependencies={lanes:0,firstContext:t}}else Ao=Ao.next=t;return e}var es=null;function I0(t){es===null?es=[t]:es.push(t)}function mC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,I0(e)):(n.next=i.next,i.next=n),e.interleaved=n,Wr(t,r)}function Wr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ai=!1;function k0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ur(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Wr(t,n)}return i=r.interleaved,i===null?(e.next=e,I0(r)):(e.next=i.next,i.next=e),r.interleaved=e,Wr(t,n)}function ih(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,g0(t,n)}}function Rx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hh(t,e,n,r){var i=t.updateQueue;ai=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(d=e,f=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,d=typeof p=="function"?p.call(f,h,d):p,d==null)break e;h=Ze({},h,d);break e;case 2:ai=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ys|=o,t.lanes=o,t.memoizedState=h}}function Mx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(V(191,i));i.call(r)}}}var vC=new m2.Component().refs;function tg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zd={isMounted:function(t){return(t=t._reactInternals)?Os(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=$t(),i=wi(t),s=Ur(r,i);s.payload=e,n!=null&&(s.callback=n),e=bi(t,s,i),e!==null&&(er(e,t,i,r),ih(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=$t(),i=wi(t),s=Ur(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=bi(t,s,i),e!==null&&(er(e,t,i,r),ih(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=$t(),r=wi(t),i=Ur(n,r);i.tag=2,e!=null&&(i.callback=e),e=bi(t,i,r),e!==null&&(er(e,t,r,n),ih(e,t,r))}};function Fx(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Bl(n,r)||!Bl(i,s):!0}function yC(t,e,n){var r=!1,i=Ti,s=e.contextType;return typeof s=="object"&&s!==null?s=Mn(s):(i=Vt(e)?ms:kt.current,r=e.contextTypes,s=(r=r!=null)?Go(t,i):Ti),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Dx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zd.enqueueReplaceState(e,e.state,null)}function ng(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=vC,k0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Mn(s):(s=Vt(e)?ms:kt.current,i.context=Go(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(tg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&zd.enqueueReplaceState(i,i.state,null),Hh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function $a(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===vC&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,t))}return t}function fc(t,e){throw t=Object.prototype.toString.call(e),Error(V(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $x(t){var e=t._init;return e(t._payload)}function bC(t){function e(g,b){if(t){var y=g.deletions;y===null?(g.deletions=[b],g.flags|=16):y.push(b)}}function n(g,b){if(!t)return null;for(;b!==null;)e(g,b),b=b.sibling;return null}function r(g,b){for(g=new Map;b!==null;)b.key!==null?g.set(b.key,b):g.set(b.index,b),b=b.sibling;return g}function i(g,b){return g=_i(g,b),g.index=0,g.sibling=null,g}function s(g,b,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<b?(g.flags|=2,b):y):(g.flags|=2,b)):(g.flags|=1048576,b)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,b,y,x){return b===null||b.tag!==6?(b=Sp(y,g.mode,x),b.return=g,b):(b=i(b,y),b.return=g,b)}function l(g,b,y,x){var S=y.type;return S===bo?c(g,b,y.props.children,x,y.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===oi&&$x(S)===b.type)?(x=i(b,y.props),x.ref=$a(g,b,y),x.return=g,x):(x=ch(y.type,y.key,y.props,null,g.mode,x),x.ref=$a(g,b,y),x.return=g,x)}function u(g,b,y,x){return b===null||b.tag!==4||b.stateNode.containerInfo!==y.containerInfo||b.stateNode.implementation!==y.implementation?(b=Cp(y,g.mode,x),b.return=g,b):(b=i(b,y.children||[]),b.return=g,b)}function c(g,b,y,x,S){return b===null||b.tag!==7?(b=as(y,g.mode,x,S),b.return=g,b):(b=i(b,y),b.return=g,b)}function h(g,b,y){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Sp(""+b,g.mode,y),b.return=g,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case nc:return y=ch(b.type,b.key,b.props,null,g.mode,y),y.ref=$a(g,null,b),y.return=g,y;case yo:return b=Cp(b,g.mode,y),b.return=g,b;case oi:var x=b._init;return h(g,x(b._payload),y)}if(nl(b)||ka(b))return b=as(b,g.mode,y,null),b.return=g,b;fc(g,b)}return null}function d(g,b,y,x){var S=b!==null?b.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:a(g,b,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case nc:return y.key===S?l(g,b,y,x):null;case yo:return y.key===S?u(g,b,y,x):null;case oi:return S=y._init,d(g,b,S(y._payload),x)}if(nl(y)||ka(y))return S!==null?null:c(g,b,y,x,null);fc(g,y)}return null}function f(g,b,y,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(y)||null,a(b,g,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case nc:return g=g.get(x.key===null?y:x.key)||null,l(b,g,x,S);case yo:return g=g.get(x.key===null?y:x.key)||null,u(b,g,x,S);case oi:var C=x._init;return f(g,b,y,C(x._payload),S)}if(nl(x)||ka(x))return g=g.get(y)||null,c(b,g,x,S,null);fc(b,x)}return null}function p(g,b,y,x){for(var S=null,C=null,T=b,A=b=0,I=null;T!==null&&A<y.length;A++){T.index>A?(I=T,T=null):I=T.sibling;var M=d(g,T,y[A],x);if(M===null){T===null&&(T=I);break}t&&T&&M.alternate===null&&e(g,T),b=s(M,b,A),C===null?S=M:C.sibling=M,C=M,T=I}if(A===y.length)return n(g,T),We&&Wi(g,A),S;if(T===null){for(;A<y.length;A++)T=h(g,y[A],x),T!==null&&(b=s(T,b,A),C===null?S=T:C.sibling=T,C=T);return We&&Wi(g,A),S}for(T=r(g,T);A<y.length;A++)I=f(T,g,A,y[A],x),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?A:I.key),b=s(I,b,A),C===null?S=I:C.sibling=I,C=I);return t&&T.forEach(function(N){return e(g,N)}),We&&Wi(g,A),S}function m(g,b,y,x){var S=ka(y);if(typeof S!="function")throw Error(V(150));if(y=S.call(y),y==null)throw Error(V(151));for(var C=S=null,T=b,A=b=0,I=null,M=y.next();T!==null&&!M.done;A++,M=y.next()){T.index>A?(I=T,T=null):I=T.sibling;var N=d(g,T,M.value,x);if(N===null){T===null&&(T=I);break}t&&T&&N.alternate===null&&e(g,T),b=s(N,b,A),C===null?S=N:C.sibling=N,C=N,T=I}if(M.done)return n(g,T),We&&Wi(g,A),S;if(T===null){for(;!M.done;A++,M=y.next())M=h(g,M.value,x),M!==null&&(b=s(M,b,A),C===null?S=M:C.sibling=M,C=M);return We&&Wi(g,A),S}for(T=r(g,T);!M.done;A++,M=y.next())M=f(T,g,A,M.value,x),M!==null&&(t&&M.alternate!==null&&T.delete(M.key===null?A:M.key),b=s(M,b,A),C===null?S=M:C.sibling=M,C=M);return t&&T.forEach(function(D){return e(g,D)}),We&&Wi(g,A),S}function v(g,b,y,x){if(typeof y=="object"&&y!==null&&y.type===bo&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case nc:e:{for(var S=y.key,C=b;C!==null;){if(C.key===S){if(S=y.type,S===bo){if(C.tag===7){n(g,C.sibling),b=i(C,y.props.children),b.return=g,g=b;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===oi&&$x(S)===C.type){n(g,C.sibling),b=i(C,y.props),b.ref=$a(g,C,y),b.return=g,g=b;break e}n(g,C);break}else e(g,C);C=C.sibling}y.type===bo?(b=as(y.props.children,g.mode,x,y.key),b.return=g,g=b):(x=ch(y.type,y.key,y.props,null,g.mode,x),x.ref=$a(g,b,y),x.return=g,g=x)}return o(g);case yo:e:{for(C=y.key;b!==null;){if(b.key===C)if(b.tag===4&&b.stateNode.containerInfo===y.containerInfo&&b.stateNode.implementation===y.implementation){n(g,b.sibling),b=i(b,y.children||[]),b.return=g,g=b;break e}else{n(g,b);break}else e(g,b);b=b.sibling}b=Cp(y,g.mode,x),b.return=g,g=b}return o(g);case oi:return C=y._init,v(g,b,C(y._payload),x)}if(nl(y))return p(g,b,y,x);if(ka(y))return m(g,b,y,x);fc(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,b!==null&&b.tag===6?(n(g,b.sibling),b=i(b,y),b.return=g,g=b):(n(g,b),b=Sp(y,g.mode,x),b.return=g,g=b),o(g)):n(g,b)}return v}var Vo=bC(!0),xC=bC(!1),Tu={},Er=Fi(Tu),jl=Fi(Tu),zl=Fi(Tu);function ts(t){if(t===Tu)throw Error(V(174));return t}function R0(t,e){switch($e(zl,e),$e(jl,t),$e(Er,Tu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Fm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Fm(e,t)}Ue(Er),$e(Er,e)}function Xo(){Ue(Er),Ue(jl),Ue(zl)}function wC(t){ts(zl.current);var e=ts(Er.current),n=Fm(e,t.type);e!==n&&($e(jl,t),$e(Er,n))}function M0(t){jl.current===t&&(Ue(Er),Ue(jl))}var Xe=Fi(0);function Gh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yp=[];function F0(){for(var t=0;t<yp.length;t++)yp[t]._workInProgressVersionPrimary=null;yp.length=0}var sh=Zr.ReactCurrentDispatcher,bp=Zr.ReactCurrentBatchConfig,vs=0,Ke=null,ht=null,pt=null,Wh=!1,_l=!1,Hl=0,yM=0;function At(){throw Error(V(321))}function D0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sr(t[n],e[n]))return!1;return!0}function $0(t,e,n,r,i,s){if(vs=s,Ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,sh.current=t===null||t.memoizedState===null?_M:EM,t=n(r,i),_l){s=0;do{if(_l=!1,Hl=0,25<=s)throw Error(V(301));s+=1,pt=ht=null,e.updateQueue=null,sh.current=SM,t=n(r,i)}while(_l)}if(sh.current=Vh,e=ht!==null&&ht.next!==null,vs=0,pt=ht=Ke=null,Wh=!1,e)throw Error(V(300));return t}function B0(){var t=Hl!==0;return Hl=0,t}function fr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Ke.memoizedState=pt=t:pt=pt.next=t,pt}function Fn(){if(ht===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var e=pt===null?Ke.memoizedState:pt.next;if(e!==null)pt=e,ht=t;else{if(t===null)throw Error(V(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},pt===null?Ke.memoizedState=pt=t:pt=pt.next=t}return pt}function Gl(t,e){return typeof e=="function"?e(t):e}function xp(t){var e=Fn(),n=e.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=t;var r=ht,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((vs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ke.lanes|=c,ys|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,sr(r,e.memoizedState)||(Gt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ke.lanes|=s,ys|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function wp(t){var e=Fn(),n=e.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);sr(s,e.memoizedState)||(Gt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function _C(){}function EC(t,e){var n=Ke,r=Fn(),i=e(),s=!sr(r.memoizedState,i);if(s&&(r.memoizedState=i,Gt=!0),r=r.queue,N0(TC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||pt!==null&&pt.memoizedState.tag&1){if(n.flags|=2048,Wl(9,CC.bind(null,n,r,i,e),void 0,null),yt===null)throw Error(V(349));vs&30||SC(n,e,i)}return i}function SC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function CC(t,e,n,r){e.value=n,e.getSnapshot=r,AC(e)&&PC(t)}function TC(t,e,n){return n(function(){AC(e)&&PC(t)})}function AC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sr(t,n)}catch{return!0}}function PC(t){var e=Wr(t,1);e!==null&&er(e,t,1,-1)}function Bx(t){var e=fr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gl,lastRenderedState:t},e.queue=t,t=t.dispatch=wM.bind(null,Ke,t),[e.memoizedState,t]}function Wl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function OC(){return Fn().memoizedState}function oh(t,e,n,r){var i=fr();Ke.flags|=t,i.memoizedState=Wl(1|e,n,void 0,r===void 0?null:r)}function Hd(t,e,n,r){var i=Fn();r=r===void 0?null:r;var s=void 0;if(ht!==null){var o=ht.memoizedState;if(s=o.destroy,r!==null&&D0(r,o.deps)){i.memoizedState=Wl(e,n,s,r);return}}Ke.flags|=t,i.memoizedState=Wl(1|e,n,s,r)}function Nx(t,e){return oh(8390656,8,t,e)}function N0(t,e){return Hd(2048,8,t,e)}function IC(t,e){return Hd(4,2,t,e)}function kC(t,e){return Hd(4,4,t,e)}function RC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function MC(t,e,n){return n=n!=null?n.concat([t]):null,Hd(4,4,RC.bind(null,e,t),n)}function L0(){}function FC(t,e){var n=Fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&D0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function DC(t,e){var n=Fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&D0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function $C(t,e,n){return vs&21?(sr(n,e)||(n=L2(),Ke.lanes|=n,ys|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gt=!0),t.memoizedState=n)}function bM(t,e){var n=ke;ke=n!==0&&4>n?n:4,t(!0);var r=bp.transition;bp.transition={};try{t(!1),e()}finally{ke=n,bp.transition=r}}function BC(){return Fn().memoizedState}function xM(t,e,n){var r=wi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},NC(t))LC(e,n);else if(n=mC(t,e,n,r),n!==null){var i=$t();er(n,t,r,i),UC(n,e,r)}}function wM(t,e,n){var r=wi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(NC(t))LC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,sr(a,o)){var l=e.interleaved;l===null?(i.next=i,I0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=mC(t,e,i,r),n!==null&&(i=$t(),er(n,t,r,i),UC(n,e,r))}}function NC(t){var e=t.alternate;return t===Ke||e!==null&&e===Ke}function LC(t,e){_l=Wh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function UC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,g0(t,n)}}var Vh={readContext:Mn,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},_M={readContext:Mn,useCallback:function(t,e){return fr().memoizedState=[t,e===void 0?null:e],t},useContext:Mn,useEffect:Nx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,oh(4194308,4,RC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return oh(4194308,4,t,e)},useInsertionEffect:function(t,e){return oh(4,2,t,e)},useMemo:function(t,e){var n=fr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=fr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=xM.bind(null,Ke,t),[r.memoizedState,t]},useRef:function(t){var e=fr();return t={current:t},e.memoizedState=t},useState:Bx,useDebugValue:L0,useDeferredValue:function(t){return fr().memoizedState=t},useTransition:function(){var t=Bx(!1),e=t[0];return t=bM.bind(null,t[1]),fr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ke,i=fr();if(We){if(n===void 0)throw Error(V(407));n=n()}else{if(n=e(),yt===null)throw Error(V(349));vs&30||SC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Nx(TC.bind(null,r,s,t),[t]),r.flags|=2048,Wl(9,CC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=fr(),e=yt.identifierPrefix;if(We){var n=Nr,r=Br;n=(r&~(1<<32-Jn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Hl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=yM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},EM={readContext:Mn,useCallback:FC,useContext:Mn,useEffect:N0,useImperativeHandle:MC,useInsertionEffect:IC,useLayoutEffect:kC,useMemo:DC,useReducer:xp,useRef:OC,useState:function(){return xp(Gl)},useDebugValue:L0,useDeferredValue:function(t){var e=Fn();return $C(e,ht.memoizedState,t)},useTransition:function(){var t=xp(Gl)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:_C,useSyncExternalStore:EC,useId:BC,unstable_isNewReconciler:!1},SM={readContext:Mn,useCallback:FC,useContext:Mn,useEffect:N0,useImperativeHandle:MC,useInsertionEffect:IC,useLayoutEffect:kC,useMemo:DC,useReducer:wp,useRef:OC,useState:function(){return wp(Gl)},useDebugValue:L0,useDeferredValue:function(t){var e=Fn();return ht===null?e.memoizedState=t:$C(e,ht.memoizedState,t)},useTransition:function(){var t=wp(Gl)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:_C,useSyncExternalStore:EC,useId:BC,unstable_isNewReconciler:!1};function qo(t,e){try{var n="",r=e;do n+=Qk(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function _p(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function rg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var CM=typeof WeakMap=="function"?WeakMap:Map;function jC(t,e,n){n=Ur(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){qh||(qh=!0,fg=r),rg(t,e)},n}function zC(t,e,n){n=Ur(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){rg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){rg(t,e),typeof r!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Lx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new CM;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=LM.bind(null,t,e,n),e.then(t,t))}function Ux(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function jx(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ur(-1,1),e.tag=2,bi(n,e,1))),n.lanes|=1),t)}var TM=Zr.ReactCurrentOwner,Gt=!1;function Rt(t,e,n,r){e.child=t===null?xC(e,null,n,r):Vo(e,t.child,n,r)}function zx(t,e,n,r,i){n=n.render;var s=e.ref;return Do(e,i),r=$0(t,e,n,r,s,i),n=B0(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vr(t,e,i)):(We&&n&&S0(e),e.flags|=1,Rt(t,e,r,i),e.child)}function Hx(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!X0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,HC(t,e,s,r,i)):(t=ch(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Bl,n(o,r)&&t.ref===e.ref)return Vr(t,e,i)}return e.flags|=1,t=_i(s,r),t.ref=e.ref,t.return=e,e.child=t}function HC(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Bl(s,r)&&t.ref===e.ref)if(Gt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Gt=!0);else return e.lanes=t.lanes,Vr(t,e,i)}return ig(t,e,n,r,i)}function GC(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Oo,en),en|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$e(Oo,en),en|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,$e(Oo,en),en|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,$e(Oo,en),en|=r;return Rt(t,e,i,n),e.child}function WC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ig(t,e,n,r,i){var s=Vt(n)?ms:kt.current;return s=Go(e,s),Do(e,i),n=$0(t,e,n,r,s,i),r=B0(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vr(t,e,i)):(We&&r&&S0(e),e.flags|=1,Rt(t,e,n,i),e.child)}function Gx(t,e,n,r,i){if(Vt(n)){var s=!0;Nh(e)}else s=!1;if(Do(e,i),e.stateNode===null)ah(t,e),yC(e,n,r),ng(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Mn(u):(u=Vt(n)?ms:kt.current,u=Go(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Dx(e,o,r,u),ai=!1;var d=e.memoizedState;o.state=d,Hh(e,r,o,i),l=e.memoizedState,a!==r||d!==l||Wt.current||ai?(typeof c=="function"&&(tg(e,n,c,r),l=e.memoizedState),(a=ai||Fx(e,n,a,r,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,gC(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Vn(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Mn(l):(l=Vt(n)?ms:kt.current,l=Go(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&Dx(e,o,r,l),ai=!1,d=e.memoizedState,o.state=d,Hh(e,r,o,i);var p=e.memoizedState;a!==h||d!==p||Wt.current||ai?(typeof f=="function"&&(tg(e,n,f,r),p=e.memoizedState),(u=ai||Fx(e,n,u,r,d,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return sg(t,e,n,r,s,i)}function sg(t,e,n,r,i,s){WC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Ox(e,n,!1),Vr(t,e,s);r=e.stateNode,TM.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Vo(e,t.child,null,s),e.child=Vo(e,null,a,s)):Rt(t,e,a,s),e.memoizedState=r.state,i&&Ox(e,n,!0),e.child}function VC(t){var e=t.stateNode;e.pendingContext?Px(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Px(t,e.context,!1),R0(t,e.containerInfo)}function Wx(t,e,n,r,i){return Wo(),T0(i),e.flags|=256,Rt(t,e,n,r),e.child}var og={dehydrated:null,treeContext:null,retryLane:0};function ag(t){return{baseLanes:t,cachePool:null,transitions:null}}function XC(t,e,n){var r=e.pendingProps,i=Xe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),$e(Xe,i&1),t===null)return Jm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Vd(o,r,0,null),t=as(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ag(n),e.memoizedState=og,t):U0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return AM(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=_i(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=_i(a,s):(s=as(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ag(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=og,r}return s=t.child,t=s.sibling,r=_i(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function U0(t,e){return e=Vd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function pc(t,e,n,r){return r!==null&&T0(r),Vo(e,t.child,null,n),t=U0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function AM(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=_p(Error(V(422))),pc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Vd({mode:"visible",children:r.children},i,0,null),s=as(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Vo(e,t.child,null,o),e.child.memoizedState=ag(o),e.memoizedState=og,s);if(!(e.mode&1))return pc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(V(419)),r=_p(s,r,void 0),pc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Gt||a){if(r=yt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Wr(t,i),er(r,t,i,-1))}return V0(),r=_p(Error(V(421))),pc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=UM.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,rn=yi(i.nextSibling),ln=e,We=!0,qn=null,t!==null&&(_n[En++]=Br,_n[En++]=Nr,_n[En++]=gs,Br=t.id,Nr=t.overflow,gs=e),e=U0(e,r.children),e.flags|=4096,e)}function Vx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),eg(t.return,e,n)}function Ep(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Rt(t,e,r.children,n),r=Xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vx(t,n,e);else if(t.tag===19)Vx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if($e(Xe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Gh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ep(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Gh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ep(e,!0,n,null,s);break;case"together":Ep(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ah(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ys|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(V(153));if(e.child!==null){for(t=e.child,n=_i(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=_i(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function PM(t,e,n){switch(e.tag){case 3:VC(e),Wo();break;case 5:wC(e);break;case 1:Vt(e.type)&&Nh(e);break;case 4:R0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;$e(jh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?($e(Xe,Xe.current&1),e.flags|=128,null):n&e.child.childLanes?XC(t,e,n):($e(Xe,Xe.current&1),t=Vr(t,e,n),t!==null?t.sibling:null);$e(Xe,Xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return qC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$e(Xe,Xe.current),r)break;return null;case 22:case 23:return e.lanes=0,GC(t,e,n)}return Vr(t,e,n)}var YC,lg,KC,ZC;YC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lg=function(){};KC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ts(Er.current);var s=null;switch(n){case"input":i=Im(t,i),r=Im(t,r),s=[];break;case"select":i=Ze({},i,{value:void 0}),r=Ze({},r,{value:void 0}),s=[];break;case"textarea":i=Mm(t,i),r=Mm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=$h)}Dm(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Il.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Il.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Be("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};ZC=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ba(t,e){if(!We)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function OM(t,e,n){var r=e.pendingProps;switch(C0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(e),null;case 1:return Vt(e.type)&&Bh(),Pt(e),null;case 3:return r=e.stateNode,Xo(),Ue(Wt),Ue(kt),F0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(dc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qn!==null&&(gg(qn),qn=null))),lg(t,e),Pt(e),null;case 5:M0(e);var i=ts(zl.current);if(n=e.type,t!==null&&e.stateNode!=null)KC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(V(166));return Pt(e),null}if(t=ts(Er.current),dc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[vr]=e,r[Ul]=s,t=(e.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(i=0;i<il.length;i++)Be(il[i],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":tx(r,s),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Be("invalid",r);break;case"textarea":rx(r,s),Be("invalid",r)}Dm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&hc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&hc(r.textContent,a,t),i=["children",""+a]):Il.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Be("scroll",r)}switch(n){case"input":rc(r),nx(r,s,!0);break;case"textarea":rc(r),ix(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=$h)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=S2(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[vr]=e,t[Ul]=r,YC(t,e,!1,!1),e.stateNode=t;e:{switch(o=$m(n,r),n){case"dialog":Be("cancel",t),Be("close",t),i=r;break;case"iframe":case"object":case"embed":Be("load",t),i=r;break;case"video":case"audio":for(i=0;i<il.length;i++)Be(il[i],t);i=r;break;case"source":Be("error",t),i=r;break;case"img":case"image":case"link":Be("error",t),Be("load",t),i=r;break;case"details":Be("toggle",t),i=r;break;case"input":tx(t,r),i=Im(t,r),Be("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ze({},r,{value:void 0}),Be("invalid",t);break;case"textarea":rx(t,r),i=Mm(t,r),Be("invalid",t);break;default:i=r}Dm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?A2(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&C2(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&kl(t,l):typeof l=="number"&&kl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Il.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Be("scroll",t):l!=null&&c0(t,s,l,o))}switch(n){case"input":rc(t),nx(t,r,!1);break;case"textarea":rc(t),ix(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ci(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ko(t,!!r.multiple,s,!1):r.defaultValue!=null&&ko(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=$h)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pt(e),null;case 6:if(t&&e.stateNode!=null)ZC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(V(166));if(n=ts(zl.current),ts(Er.current),dc(e)){if(r=e.stateNode,n=e.memoizedProps,r[vr]=e,(s=r.nodeValue!==n)&&(t=ln,t!==null))switch(t.tag){case 3:hc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vr]=e,e.stateNode=r}return Pt(e),null;case 13:if(Ue(Xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&rn!==null&&e.mode&1&&!(e.flags&128))pC(),Wo(),e.flags|=98560,s=!1;else if(s=dc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(V(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(V(317));s[vr]=e}else Wo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pt(e),s=!1}else qn!==null&&(gg(qn),qn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Xe.current&1?dt===0&&(dt=3):V0())),e.updateQueue!==null&&(e.flags|=4),Pt(e),null);case 4:return Xo(),lg(t,e),t===null&&Nl(e.stateNode.containerInfo),Pt(e),null;case 10:return O0(e.type._context),Pt(e),null;case 17:return Vt(e.type)&&Bh(),Pt(e),null;case 19:if(Ue(Xe),s=e.memoizedState,s===null)return Pt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ba(s,!1);else{if(dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Gh(t),o!==null){for(e.flags|=128,Ba(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return $e(Xe,Xe.current&1|2),e.child}t=t.sibling}s.tail!==null&&ot()>Yo&&(e.flags|=128,r=!0,Ba(s,!1),e.lanes=4194304)}else{if(!r)if(t=Gh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ba(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!We)return Pt(e),null}else 2*ot()-s.renderingStartTime>Yo&&n!==1073741824&&(e.flags|=128,r=!0,Ba(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ot(),e.sibling=null,n=Xe.current,$e(Xe,r?n&1|2:n&1),e):(Pt(e),null);case 22:case 23:return W0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?en&1073741824&&(Pt(e),e.subtreeFlags&6&&(e.flags|=8192)):Pt(e),null;case 24:return null;case 25:return null}throw Error(V(156,e.tag))}function IM(t,e){switch(C0(e),e.tag){case 1:return Vt(e.type)&&Bh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xo(),Ue(Wt),Ue(kt),F0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return M0(e),null;case 13:if(Ue(Xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(V(340));Wo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ue(Xe),null;case 4:return Xo(),null;case 10:return O0(e.type._context),null;case 22:case 23:return W0(),null;case 24:return null;default:return null}}var mc=!1,It=!1,kM=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Po(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tt(t,e,r)}else n.current=null}function ug(t,e,n){try{n()}catch(r){tt(t,e,r)}}var Xx=!1;function RM(t,e){if(Vm=Mh,t=tC(),E0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xm={focusedElem:t,selectionRange:n},Mh=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,v=p.memoizedState,g=e.stateNode,b=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:Vn(e.type,m),v);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(x){tt(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return p=Xx,Xx=!1,p}function El(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ug(e,n,s)}i=i.next}while(i!==r)}}function Gd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function cg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function QC(t){var e=t.alternate;e!==null&&(t.alternate=null,QC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vr],delete e[Ul],delete e[Km],delete e[pM],delete e[mM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function JC(t){return t.tag===5||t.tag===3||t.tag===4}function qx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||JC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=$h));else if(r!==4&&(t=t.child,t!==null))for(hg(t,e,n),t=t.sibling;t!==null;)hg(t,e,n),t=t.sibling}function dg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(dg(t,e,n),t=t.sibling;t!==null;)dg(t,e,n),t=t.sibling}var _t=null,Xn=!1;function ii(t,e,n){for(n=n.child;n!==null;)eT(t,e,n),n=n.sibling}function eT(t,e,n){if(_r&&typeof _r.onCommitFiberUnmount=="function")try{_r.onCommitFiberUnmount($d,n)}catch{}switch(n.tag){case 5:It||Po(n,e);case 6:var r=_t,i=Xn;_t=null,ii(t,e,n),_t=r,Xn=i,_t!==null&&(Xn?(t=_t,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):_t.removeChild(n.stateNode));break;case 18:_t!==null&&(Xn?(t=_t,n=n.stateNode,t.nodeType===8?gp(t.parentNode,n):t.nodeType===1&&gp(t,n),Dl(t)):gp(_t,n.stateNode));break;case 4:r=_t,i=Xn,_t=n.stateNode.containerInfo,Xn=!0,ii(t,e,n),_t=r,Xn=i;break;case 0:case 11:case 14:case 15:if(!It&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ug(n,e,o),i=i.next}while(i!==r)}ii(t,e,n);break;case 1:if(!It&&(Po(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){tt(n,e,a)}ii(t,e,n);break;case 21:ii(t,e,n);break;case 22:n.mode&1?(It=(r=It)||n.memoizedState!==null,ii(t,e,n),It=r):ii(t,e,n);break;default:ii(t,e,n)}}function Yx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new kM),e.forEach(function(r){var i=jM.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ln(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:_t=a.stateNode,Xn=!1;break e;case 3:_t=a.stateNode.containerInfo,Xn=!0;break e;case 4:_t=a.stateNode.containerInfo,Xn=!0;break e}a=a.return}if(_t===null)throw Error(V(160));eT(s,o,i),_t=null,Xn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){tt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)tT(e,t),e=e.sibling}function tT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ln(e,t),hr(t),r&4){try{El(3,t,t.return),Gd(3,t)}catch(m){tt(t,t.return,m)}try{El(5,t,t.return)}catch(m){tt(t,t.return,m)}}break;case 1:Ln(e,t),hr(t),r&512&&n!==null&&Po(n,n.return);break;case 5:if(Ln(e,t),hr(t),r&512&&n!==null&&Po(n,n.return),t.flags&32){var i=t.stateNode;try{kl(i,"")}catch(m){tt(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&_2(i,s),$m(a,o);var u=$m(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?A2(i,h):c==="dangerouslySetInnerHTML"?C2(i,h):c==="children"?kl(i,h):c0(i,c,h,u)}switch(a){case"input":km(i,s);break;case"textarea":E2(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?ko(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?ko(i,!!s.multiple,s.defaultValue,!0):ko(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ul]=s}catch(m){tt(t,t.return,m)}}break;case 6:if(Ln(e,t),hr(t),r&4){if(t.stateNode===null)throw Error(V(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){tt(t,t.return,m)}}break;case 3:if(Ln(e,t),hr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Dl(e.containerInfo)}catch(m){tt(t,t.return,m)}break;case 4:Ln(e,t),hr(t);break;case 13:Ln(e,t),hr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(H0=ot())),r&4&&Yx(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(It=(u=It)||c,Ln(e,t),It=u):Ln(e,t),hr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ne=t,c=t.child;c!==null;){for(h=ne=c;ne!==null;){switch(d=ne,f=d.child,d.tag){case 0:case 11:case 14:case 15:El(4,d,d.return);break;case 1:Po(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){tt(r,n,m)}}break;case 5:Po(d,d.return);break;case 22:if(d.memoizedState!==null){Zx(h);continue}}f!==null?(f.return=d,ne=f):Zx(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=T2("display",o))}catch(m){tt(t,t.return,m)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){tt(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ln(e,t),hr(t),r&4&&Yx(t);break;case 21:break;default:Ln(e,t),hr(t)}}function hr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(JC(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(kl(i,""),r.flags&=-33);var s=qx(t);dg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=qx(t);hg(t,a,o);break;default:throw Error(V(161))}}catch(l){tt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function MM(t,e,n){ne=t,nT(t)}function nT(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var i=ne,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||mc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||It;a=mc;var u=It;if(mc=o,(It=l)&&!u)for(ne=i;ne!==null;)o=ne,l=o.child,o.tag===22&&o.memoizedState!==null?Qx(i):l!==null?(l.return=o,ne=l):Qx(i);for(;s!==null;)ne=s,nT(s),s=s.sibling;ne=i,mc=a,It=u}Kx(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ne=s):Kx(t)}}function Kx(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:It||Gd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!It)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Vn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Mx(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Mx(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Dl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}It||e.flags&512&&cg(e)}catch(d){tt(e,e.return,d)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function Zx(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function Qx(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Gd(4,e)}catch(l){tt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){tt(e,i,l)}}var s=e.return;try{cg(e)}catch(l){tt(e,s,l)}break;case 5:var o=e.return;try{cg(e)}catch(l){tt(e,o,l)}}}catch(l){tt(e,e.return,l)}if(e===t){ne=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ne=a;break}ne=e.return}}var FM=Math.ceil,Xh=Zr.ReactCurrentDispatcher,j0=Zr.ReactCurrentOwner,In=Zr.ReactCurrentBatchConfig,Se=0,yt=null,ct=null,Ct=0,en=0,Oo=Fi(0),dt=0,Vl=null,ys=0,Wd=0,z0=0,Sl=null,Ht=null,H0=0,Yo=1/0,Fr=null,qh=!1,fg=null,xi=null,gc=!1,di=null,Yh=0,Cl=0,pg=null,lh=-1,uh=0;function $t(){return Se&6?ot():lh!==-1?lh:lh=ot()}function wi(t){return t.mode&1?Se&2&&Ct!==0?Ct&-Ct:vM.transition!==null?(uh===0&&(uh=L2()),uh):(t=ke,t!==0||(t=window.event,t=t===void 0?16:V2(t.type)),t):1}function er(t,e,n,r){if(50<Cl)throw Cl=0,pg=null,Error(V(185));Eu(t,n,r),(!(Se&2)||t!==yt)&&(t===yt&&(!(Se&2)&&(Wd|=n),dt===4&&ci(t,Ct)),Xt(t,r),n===1&&Se===0&&!(e.mode&1)&&(Yo=ot()+500,jd&&Di()))}function Xt(t,e){var n=t.callbackNode;vR(t,e);var r=Rh(t,t===yt?Ct:0);if(r===0)n!==null&&ax(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ax(n),e===1)t.tag===0?gM(Jx.bind(null,t)):hC(Jx.bind(null,t)),dM(function(){!(Se&6)&&Di()}),n=null;else{switch(U2(r)){case 1:n=m0;break;case 4:n=B2;break;case 16:n=kh;break;case 536870912:n=N2;break;default:n=kh}n=cT(n,rT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function rT(t,e){if(lh=-1,uh=0,Se&6)throw Error(V(327));var n=t.callbackNode;if($o()&&t.callbackNode!==n)return null;var r=Rh(t,t===yt?Ct:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Kh(t,r);else{e=r;var i=Se;Se|=2;var s=sT();(yt!==t||Ct!==e)&&(Fr=null,Yo=ot()+500,os(t,e));do try{BM();break}catch(a){iT(t,a)}while(1);P0(),Xh.current=s,Se=i,ct!==null?e=0:(yt=null,Ct=0,e=dt)}if(e!==0){if(e===2&&(i=jm(t),i!==0&&(r=i,e=mg(t,i))),e===1)throw n=Vl,os(t,0),ci(t,r),Xt(t,ot()),n;if(e===6)ci(t,r);else{if(i=t.current.alternate,!(r&30)&&!DM(i)&&(e=Kh(t,r),e===2&&(s=jm(t),s!==0&&(r=s,e=mg(t,s))),e===1))throw n=Vl,os(t,0),ci(t,r),Xt(t,ot()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(V(345));case 2:Vi(t,Ht,Fr);break;case 3:if(ci(t,r),(r&130023424)===r&&(e=H0+500-ot(),10<e)){if(Rh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){$t(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ym(Vi.bind(null,t,Ht,Fr),e);break}Vi(t,Ht,Fr);break;case 4:if(ci(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Jn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*FM(r/1960))-r,10<r){t.timeoutHandle=Ym(Vi.bind(null,t,Ht,Fr),r);break}Vi(t,Ht,Fr);break;case 5:Vi(t,Ht,Fr);break;default:throw Error(V(329))}}}return Xt(t,ot()),t.callbackNode===n?rT.bind(null,t):null}function mg(t,e){var n=Sl;return t.current.memoizedState.isDehydrated&&(os(t,e).flags|=256),t=Kh(t,e),t!==2&&(e=Ht,Ht=n,e!==null&&gg(e)),t}function gg(t){Ht===null?Ht=t:Ht.push.apply(Ht,t)}function DM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!sr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ci(t,e){for(e&=~z0,e&=~Wd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jn(e),r=1<<n;t[n]=-1,e&=~r}}function Jx(t){if(Se&6)throw Error(V(327));$o();var e=Rh(t,0);if(!(e&1))return Xt(t,ot()),null;var n=Kh(t,e);if(t.tag!==0&&n===2){var r=jm(t);r!==0&&(e=r,n=mg(t,r))}if(n===1)throw n=Vl,os(t,0),ci(t,e),Xt(t,ot()),n;if(n===6)throw Error(V(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vi(t,Ht,Fr),Xt(t,ot()),null}function G0(t,e){var n=Se;Se|=1;try{return t(e)}finally{Se=n,Se===0&&(Yo=ot()+500,jd&&Di())}}function bs(t){di!==null&&di.tag===0&&!(Se&6)&&$o();var e=Se;Se|=1;var n=In.transition,r=ke;try{if(In.transition=null,ke=1,t)return t()}finally{ke=r,In.transition=n,Se=e,!(Se&6)&&Di()}}function W0(){en=Oo.current,Ue(Oo)}function os(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hM(n)),ct!==null)for(n=ct.return;n!==null;){var r=n;switch(C0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bh();break;case 3:Xo(),Ue(Wt),Ue(kt),F0();break;case 5:M0(r);break;case 4:Xo();break;case 13:Ue(Xe);break;case 19:Ue(Xe);break;case 10:O0(r.type._context);break;case 22:case 23:W0()}n=n.return}if(yt=t,ct=t=_i(t.current,null),Ct=en=e,dt=0,Vl=null,z0=Wd=ys=0,Ht=Sl=null,es!==null){for(e=0;e<es.length;e++)if(n=es[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}es=null}return t}function iT(t,e){do{var n=ct;try{if(P0(),sh.current=Vh,Wh){for(var r=Ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Wh=!1}if(vs=0,pt=ht=Ke=null,_l=!1,Hl=0,j0.current=null,n===null||n.return===null){dt=1,Vl=e,ct=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ct,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=Ux(o);if(f!==null){f.flags&=-257,jx(f,o,a,s,e),f.mode&1&&Lx(s,u,e),e=f,l=u;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){Lx(s,u,e),V0();break e}l=Error(V(426))}}else if(We&&a.mode&1){var v=Ux(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),jx(v,o,a,s,e),T0(qo(l,a));break e}}s=l=qo(l,a),dt!==4&&(dt=2),Sl===null?Sl=[s]:Sl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=jC(s,l,e);Rx(s,g);break e;case 1:a=l;var b=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(xi===null||!xi.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=zC(s,a,e);Rx(s,x);break e}}s=s.return}while(s!==null)}aT(n)}catch(S){e=S,ct===n&&n!==null&&(ct=n=n.return);continue}break}while(1)}function sT(){var t=Xh.current;return Xh.current=Vh,t===null?Vh:t}function V0(){(dt===0||dt===3||dt===2)&&(dt=4),yt===null||!(ys&268435455)&&!(Wd&268435455)||ci(yt,Ct)}function Kh(t,e){var n=Se;Se|=2;var r=sT();(yt!==t||Ct!==e)&&(Fr=null,os(t,e));do try{$M();break}catch(i){iT(t,i)}while(1);if(P0(),Se=n,Xh.current=r,ct!==null)throw Error(V(261));return yt=null,Ct=0,dt}function $M(){for(;ct!==null;)oT(ct)}function BM(){for(;ct!==null&&!lR();)oT(ct)}function oT(t){var e=uT(t.alternate,t,en);t.memoizedProps=t.pendingProps,e===null?aT(t):ct=e,j0.current=null}function aT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=IM(n,e),n!==null){n.flags&=32767,ct=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dt=6,ct=null;return}}else if(n=OM(n,e,en),n!==null){ct=n;return}if(e=e.sibling,e!==null){ct=e;return}ct=e=t}while(e!==null);dt===0&&(dt=5)}function Vi(t,e,n){var r=ke,i=In.transition;try{In.transition=null,ke=1,NM(t,e,n,r)}finally{In.transition=i,ke=r}return null}function NM(t,e,n,r){do $o();while(di!==null);if(Se&6)throw Error(V(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(V(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(yR(t,s),t===yt&&(ct=yt=null,Ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gc||(gc=!0,cT(kh,function(){return $o(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=In.transition,In.transition=null;var o=ke;ke=1;var a=Se;Se|=4,j0.current=null,RM(t,n),tT(n,t),iM(Xm),Mh=!!Vm,Xm=Vm=null,t.current=n,MM(n),uR(),Se=a,ke=o,In.transition=s}else t.current=n;if(gc&&(gc=!1,di=t,Yh=i),s=t.pendingLanes,s===0&&(xi=null),dR(n.stateNode),Xt(t,ot()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(qh)throw qh=!1,t=fg,fg=null,t;return Yh&1&&t.tag!==0&&$o(),s=t.pendingLanes,s&1?t===pg?Cl++:(Cl=0,pg=t):Cl=0,Di(),null}function $o(){if(di!==null){var t=U2(Yh),e=In.transition,n=ke;try{if(In.transition=null,ke=16>t?16:t,di===null)var r=!1;else{if(t=di,di=null,Yh=0,Se&6)throw Error(V(331));var i=Se;for(Se|=4,ne=t.current;ne!==null;){var s=ne,o=s.child;if(ne.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ne=u;ne!==null;){var c=ne;switch(c.tag){case 0:case 11:case 15:El(8,c,s)}var h=c.child;if(h!==null)h.return=c,ne=h;else for(;ne!==null;){c=ne;var d=c.sibling,f=c.return;if(QC(c),c===u){ne=null;break}if(d!==null){d.return=f,ne=d;break}ne=f}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}ne=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ne=o;else e:for(;ne!==null;){if(s=ne,s.flags&2048)switch(s.tag){case 0:case 11:case 15:El(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,ne=g;break e}ne=s.return}}var b=t.current;for(ne=b;ne!==null;){o=ne;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,ne=y;else e:for(o=b;ne!==null;){if(a=ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gd(9,a)}}catch(S){tt(a,a.return,S)}if(a===o){ne=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,ne=x;break e}ne=a.return}}if(Se=i,Di(),_r&&typeof _r.onPostCommitFiberRoot=="function")try{_r.onPostCommitFiberRoot($d,t)}catch{}r=!0}return r}finally{ke=n,In.transition=e}}return!1}function ew(t,e,n){e=qo(n,e),e=jC(t,e,1),t=bi(t,e,1),e=$t(),t!==null&&(Eu(t,1,e),Xt(t,e))}function tt(t,e,n){if(t.tag===3)ew(t,t,n);else for(;e!==null;){if(e.tag===3){ew(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xi===null||!xi.has(r))){t=qo(n,t),t=zC(e,t,1),e=bi(e,t,1),t=$t(),e!==null&&(Eu(e,1,t),Xt(e,t));break}}e=e.return}}function LM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=$t(),t.pingedLanes|=t.suspendedLanes&n,yt===t&&(Ct&n)===n&&(dt===4||dt===3&&(Ct&130023424)===Ct&&500>ot()-H0?os(t,0):z0|=n),Xt(t,e)}function lT(t,e){e===0&&(t.mode&1?(e=oc,oc<<=1,!(oc&130023424)&&(oc=4194304)):e=1);var n=$t();t=Wr(t,e),t!==null&&(Eu(t,e,n),Xt(t,n))}function UM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),lT(t,n)}function jM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(e),lT(t,n)}var uT;uT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wt.current)Gt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Gt=!1,PM(t,e,n);Gt=!!(t.flags&131072)}else Gt=!1,We&&e.flags&1048576&&dC(e,Uh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ah(t,e),t=e.pendingProps;var i=Go(e,kt.current);Do(e,n),i=$0(null,e,r,t,i,n);var s=B0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Vt(r)?(s=!0,Nh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,k0(e),i.updater=zd,e.stateNode=i,i._reactInternals=e,ng(e,r,t,n),e=sg(null,e,r,!0,s,n)):(e.tag=0,We&&s&&S0(e),Rt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ah(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=HM(r),t=Vn(r,t),i){case 0:e=ig(null,e,r,t,n);break e;case 1:e=Gx(null,e,r,t,n);break e;case 11:e=zx(null,e,r,t,n);break e;case 14:e=Hx(null,e,r,Vn(r.type,t),n);break e}throw Error(V(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),ig(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),Gx(t,e,r,i,n);case 3:e:{if(VC(e),t===null)throw Error(V(387));r=e.pendingProps,s=e.memoizedState,i=s.element,gC(t,e),Hh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=qo(Error(V(423)),e),e=Wx(t,e,r,n,i);break e}else if(r!==i){i=qo(Error(V(424)),e),e=Wx(t,e,r,n,i);break e}else for(rn=yi(e.stateNode.containerInfo.firstChild),ln=e,We=!0,qn=null,n=xC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wo(),r===i){e=Vr(t,e,n);break e}Rt(t,e,r,n)}e=e.child}return e;case 5:return wC(e),t===null&&Jm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,qm(r,i)?o=null:s!==null&&qm(r,s)&&(e.flags|=32),WC(t,e),Rt(t,e,o,n),e.child;case 6:return t===null&&Jm(e),null;case 13:return XC(t,e,n);case 4:return R0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Vo(e,null,r,n):Rt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),zx(t,e,r,i,n);case 7:return Rt(t,e,e.pendingProps,n),e.child;case 8:return Rt(t,e,e.pendingProps.children,n),e.child;case 12:return Rt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,$e(jh,r._currentValue),r._currentValue=o,s!==null)if(sr(s.value,o)){if(s.children===i.children&&!Wt.current){e=Vr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ur(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),eg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(V(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),eg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Rt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Do(e,n),i=Mn(i),r=r(i),e.flags|=1,Rt(t,e,r,n),e.child;case 14:return r=e.type,i=Vn(r,e.pendingProps),i=Vn(r.type,i),Hx(t,e,r,i,n);case 15:return HC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),ah(t,e),e.tag=1,Vt(r)?(t=!0,Nh(e)):t=!1,Do(e,n),yC(e,r,i),ng(e,r,i,n),sg(null,e,r,!0,t,n);case 19:return qC(t,e,n);case 22:return GC(t,e,n)}throw Error(V(156,e.tag))};function cT(t,e){return $2(t,e)}function zM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(t,e,n,r){return new zM(t,e,n,r)}function X0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function HM(t){if(typeof t=="function")return X0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===d0)return 11;if(t===f0)return 14}return 2}function _i(t,e){var n=t.alternate;return n===null?(n=Pn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ch(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")X0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case bo:return as(n.children,i,s,e);case h0:o=8,i|=8;break;case Tm:return t=Pn(12,n,e,i|2),t.elementType=Tm,t.lanes=s,t;case Am:return t=Pn(13,n,e,i),t.elementType=Am,t.lanes=s,t;case Pm:return t=Pn(19,n,e,i),t.elementType=Pm,t.lanes=s,t;case b2:return Vd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case v2:o=10;break e;case y2:o=9;break e;case d0:o=11;break e;case f0:o=14;break e;case oi:o=16,r=null;break e}throw Error(V(130,t==null?t:typeof t,""))}return e=Pn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function as(t,e,n,r){return t=Pn(7,t,r,e),t.lanes=n,t}function Vd(t,e,n,r){return t=Pn(22,t,r,e),t.elementType=b2,t.lanes=n,t.stateNode={isHidden:!1},t}function Sp(t,e,n){return t=Pn(6,t,null,e),t.lanes=n,t}function Cp(t,e,n){return e=Pn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function GM(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sp(0),this.expirationTimes=sp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function q0(t,e,n,r,i,s,o,a,l){return t=new GM(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Pn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},k0(s),t}function WM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function hT(t){if(!t)return Ti;t=t._reactInternals;e:{if(Os(t)!==t||t.tag!==1)throw Error(V(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Vt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(V(171))}if(t.tag===1){var n=t.type;if(Vt(n))return cC(t,n,e)}return e}function dT(t,e,n,r,i,s,o,a,l){return t=q0(n,r,!0,t,i,s,o,a,l),t.context=hT(null),n=t.current,r=$t(),i=wi(n),s=Ur(r,i),s.callback=e??null,bi(n,s,i),t.current.lanes=i,Eu(t,i,r),Xt(t,r),t}function Xd(t,e,n,r){var i=e.current,s=$t(),o=wi(i);return n=hT(n),e.context===null?e.context=n:e.pendingContext=n,e=Ur(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=bi(i,e,o),t!==null&&(er(t,i,o,s),ih(t,i,o)),o}function Zh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function tw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Y0(t,e){tw(t,e),(t=t.alternate)&&tw(t,e)}function VM(){return null}var fT=typeof reportError=="function"?reportError:function(t){console.error(t)};function K0(t){this._internalRoot=t}qd.prototype.render=K0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(V(409));Xd(t,e,null,null)};qd.prototype.unmount=K0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bs(function(){Xd(null,t,null,null)}),e[Gr]=null}};function qd(t){this._internalRoot=t}qd.prototype.unstable_scheduleHydration=function(t){if(t){var e=H2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ui.length&&e!==0&&e<ui[n].priority;n++);ui.splice(n,0,t),n===0&&W2(t)}};function Z0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function nw(){}function XM(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Zh(o);s.call(u)}}var o=dT(e,r,t,0,null,!1,!1,"",nw);return t._reactRootContainer=o,t[Gr]=o.current,Nl(t.nodeType===8?t.parentNode:t),bs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Zh(l);a.call(u)}}var l=q0(t,0,!1,null,null,!1,!1,"",nw);return t._reactRootContainer=l,t[Gr]=l.current,Nl(t.nodeType===8?t.parentNode:t),bs(function(){Xd(e,l,n,r)}),l}function Kd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Zh(o);a.call(l)}}Xd(e,o,t,i)}else o=XM(n,e,t,i,r);return Zh(o)}j2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=rl(e.pendingLanes);n!==0&&(g0(e,n|1),Xt(e,ot()),!(Se&6)&&(Yo=ot()+500,Di()))}break;case 13:bs(function(){var r=Wr(t,1);if(r!==null){var i=$t();er(r,t,1,i)}}),Y0(t,1)}};v0=function(t){if(t.tag===13){var e=Wr(t,134217728);if(e!==null){var n=$t();er(e,t,134217728,n)}Y0(t,134217728)}};z2=function(t){if(t.tag===13){var e=wi(t),n=Wr(t,e);if(n!==null){var r=$t();er(n,t,e,r)}Y0(t,e)}};H2=function(){return ke};G2=function(t,e){var n=ke;try{return ke=t,e()}finally{ke=n}};Nm=function(t,e,n){switch(e){case"input":if(km(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ud(r);if(!i)throw Error(V(90));w2(r),km(r,i)}}}break;case"textarea":E2(t,n);break;case"select":e=n.value,e!=null&&ko(t,!!n.multiple,e,!1)}};I2=G0;k2=bs;var qM={usingClientEntryPoint:!1,Events:[Cu,Eo,Ud,P2,O2,G0]},Na={findFiberByHostInstance:Ji,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},YM={bundleType:Na.bundleType,version:Na.version,rendererPackageName:Na.rendererPackageName,rendererConfig:Na.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=F2(t),t===null?null:t.stateNode},findFiberByHostInstance:Na.findFiberByHostInstance||VM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{$d=vc.inject(YM),_r=vc}catch{}}mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qM;mn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Z0(e))throw Error(V(200));return WM(t,e,null,n)};mn.createRoot=function(t,e){if(!Z0(t))throw Error(V(299));var n=!1,r="",i=fT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=q0(t,1,!1,null,null,n,!1,r,i),t[Gr]=e.current,Nl(t.nodeType===8?t.parentNode:t),new K0(e)};mn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(V(188)):(t=Object.keys(t).join(","),Error(V(268,t)));return t=F2(e),t=t===null?null:t.stateNode,t};mn.flushSync=function(t){return bs(t)};mn.hydrate=function(t,e,n){if(!Yd(e))throw Error(V(200));return Kd(null,t,e,!0,n)};mn.hydrateRoot=function(t,e,n){if(!Z0(t))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=fT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=dT(e,null,t,1,n??null,i,!1,s,o),t[Gr]=e.current,Nl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new qd(e)};mn.render=function(t,e,n){if(!Yd(e))throw Error(V(200));return Kd(null,t,e,!1,n)};mn.unmountComponentAtNode=function(t){if(!Yd(t))throw Error(V(40));return t._reactRootContainer?(bs(function(){Kd(null,null,t,!1,function(){t._reactRootContainer=null,t[Gr]=null})}),!0):!1};mn.unstable_batchedUpdates=G0;mn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Yd(n))throw Error(V(200));if(t==null||t._reactInternals===void 0)throw Error(V(38));return Kd(t,e,n,!1,r)};mn.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=mn})(Vk);var rw=Ol;Em.createRoot=rw.createRoot,Em.hydrateRoot=rw.hydrateRoot;var vg=function(t,e){return vg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},vg(t,e)};function Zd(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");vg(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function yg(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qh(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Jh(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function jr(t){return typeof t=="function"}function pT(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Tp=pT(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function bg(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Qd=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=yg(o),l=a.next();!l.done;l=a.next()){var u=l.value;u.remove(this)}}catch(m){e={error:m}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}else o.remove(this);var c=this.initialTeardown;if(jr(c))try{c()}catch(m){s=m instanceof Tp?m.errors:[m]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var d=yg(h),f=d.next();!f.done;f=d.next()){var p=f.value;try{iw(p)}catch(m){s=s??[],m instanceof Tp?s=Jh(Jh([],Qh(s)),Qh(m.errors)):s.push(m)}}}catch(m){r={error:m}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}if(s)throw new Tp(s)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)iw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&bg(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&bg(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),mT=Qd.EMPTY;function gT(t){return t instanceof Qd||t&&"closed"in t&&jr(t.remove)&&jr(t.add)&&jr(t.unsubscribe)}function iw(t){jr(t)?t():t.unsubscribe()}var vT={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},xg={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=xg.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,Jh([t,e],Qh(n))):setTimeout.apply(void 0,Jh([t,e],Qh(n)))},clearTimeout:function(t){var e=xg.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function KM(t){xg.setTimeout(function(){throw t})}function sw(){}function hh(t){t()}var yT=function(t){Zd(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,gT(n)&&n.add(r)):r.destination=e3,r}return e.create=function(n,r,i){return new wg(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Qd),ZM=Function.prototype.bind;function Ap(t,e){return ZM.call(t,e)}var QM=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){yc(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){yc(r)}else yc(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){yc(n)}},t}(),wg=function(t){Zd(e,t);function e(n,r,i){var s=t.call(this)||this,o;if(jr(n)||!n)o={next:n??void 0,error:r??void 0,complete:i??void 0};else{var a;s&&vT.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return s.unsubscribe()},o={next:n.next&&Ap(n.next,a),error:n.error&&Ap(n.error,a),complete:n.complete&&Ap(n.complete,a)}):o=n}return s.destination=new QM(o),s}return e}(yT);function yc(t){KM(t)}function JM(t){throw t}var e3={closed:!0,next:sw,error:JM,complete:sw},t3=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function n3(t){return t}function r3(t){return t.length===0?n3:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var ow=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,s=s3(e)?e:new wg(e,n,r);return hh(function(){var o=i,a=o.operator,l=o.source;s.add(a?a.call(s,l):l?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=aw(n),new n(function(i,s){var o=new wg({next:function(a){try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[t3]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return r3(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=aw(e),new e(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},t.create=function(e){return new t(e)},t}();function aw(t){var e;return(e=t??vT.Promise)!==null&&e!==void 0?e:Promise}function i3(t){return t&&jr(t.next)&&jr(t.error)&&jr(t.complete)}function s3(t){return t&&t instanceof yT||i3(t)&&gT(t)}var o3=pT(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),ed=function(t){Zd(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new lw(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new o3},e.prototype.next=function(n){var r=this;hh(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=yg(r.currentObservers),a=o.next();!a.done;a=o.next()){var l=a.value;l.next(n)}}catch(u){i={error:u}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;hh(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;hh(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?mT:(this.currentObservers=null,a.push(n),new Qd(function(){r.currentObservers=null,bg(a,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,s=r.thrownError,o=r.isStopped;i?n.error(s):o&&n.complete()},e.prototype.asObservable=function(){var n=new ow;return n.source=this,n},e.create=function(n,r){return new lw(n,r)},e}(ow),lw=function(t){Zd(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:mT},e}(ed),a3=typeof global=="object"&&global&&global.Object===Object&&global;const bT=a3;var l3=typeof self=="object"&&self&&self.Object===Object&&self,u3=bT||l3||Function("return this")();const lr=u3;var c3=lr.Symbol;const Dn=c3;var xT=Object.prototype,h3=xT.hasOwnProperty,d3=xT.toString,La=Dn?Dn.toStringTag:void 0;function f3(t){var e=h3.call(t,La),n=t[La];try{t[La]=void 0;var r=!0}catch{}var i=d3.call(t);return r&&(e?t[La]=n:delete t[La]),i}var p3=Object.prototype,m3=p3.toString;function g3(t){return m3.call(t)}var v3="[object Null]",y3="[object Undefined]",uw=Dn?Dn.toStringTag:void 0;function Qr(t){return t==null?t===void 0?y3:v3:uw&&uw in Object(t)?f3(t):g3(t)}function $n(t){return t!=null&&typeof t=="object"}var b3="[object Symbol]";function Ko(t){return typeof t=="symbol"||$n(t)&&Qr(t)==b3}function ls(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var x3=Array.isArray;const st=x3;var w3=1/0,cw=Dn?Dn.prototype:void 0,hw=cw?cw.toString:void 0;function Q0(t){if(typeof t=="string")return t;if(st(t))return ls(t,Q0)+"";if(Ko(t))return hw?hw.call(t):"";var e=t+"";return e=="0"&&1/t==-w3?"-0":e}var _3=/\s/;function E3(t){for(var e=t.length;e--&&_3.test(t.charAt(e)););return e}var S3=/^\s+/;function C3(t){return t&&t.slice(0,E3(t)+1).replace(S3,"")}function pn(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var dw=0/0,T3=/^[-+]0x[0-9a-f]+$/i,A3=/^0b[01]+$/i,P3=/^0o[0-7]+$/i,O3=parseInt;function _g(t){if(typeof t=="number")return t;if(Ko(t))return dw;if(pn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=pn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=C3(t);var n=A3.test(t);return n||P3.test(t)?O3(t.slice(2),n?2:8):T3.test(t)?dw:+t}var fw=1/0,I3=17976931348623157e292;function k3(t){if(!t)return t===0?t:0;if(t=_g(t),t===fw||t===-fw){var e=t<0?-1:1;return e*I3}return t===t?t:0}function Jd(t){var e=k3(t),n=e%1;return e===e?n?e-n:e:0}function Au(t){return t}var R3="[object AsyncFunction]",M3="[object Function]",F3="[object GeneratorFunction]",D3="[object Proxy]";function br(t){if(!pn(t))return!1;var e=Qr(t);return e==M3||e==F3||e==R3||e==D3}var $3=lr["__core-js_shared__"];const Pp=$3;var pw=function(){var t=/[^.]+$/.exec(Pp&&Pp.keys&&Pp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function B3(t){return!!pw&&pw in t}var N3=Function.prototype,L3=N3.toString;function Is(t){if(t!=null){try{return L3.call(t)}catch{}try{return t+""}catch{}}return""}var U3=/[\\^$.*+?()[\]{}|]/g,j3=/^\[object .+?Constructor\]$/,z3=Function.prototype,H3=Object.prototype,G3=z3.toString,W3=H3.hasOwnProperty,V3=RegExp("^"+G3.call(W3).replace(U3,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function X3(t){if(!pn(t)||B3(t))return!1;var e=br(t)?V3:j3;return e.test(Is(t))}function q3(t,e){return t==null?void 0:t[e]}function ks(t,e){var n=q3(t,e);return X3(n)?n:void 0}var Y3=ks(lr,"WeakMap");const Eg=Y3;var mw=Object.create,K3=function(){function t(){}return function(e){if(!pn(e))return{};if(mw)return mw(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const Z3=K3;function Q3(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function J3(){}function wT(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var e4=800,t4=16,n4=Date.now;function r4(t){var e=0,n=0;return function(){var r=n4(),i=t4-(r-n);if(n=r,i>0){if(++e>=e4)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function i4(t){return function(){return t}}var s4=function(){try{var t=ks(Object,"defineProperty");return t({},"",{}),t}catch{}}();const td=s4;var o4=td?function(t,e){return td(t,"toString",{configurable:!0,enumerable:!1,value:i4(e),writable:!0})}:Au;const a4=o4;var l4=r4(a4);const u4=l4;function _T(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function ET(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function c4(t){return t!==t}function h4(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function ST(t,e,n){return e===e?h4(t,e,n):ET(t,c4,n)}function CT(t,e){var n=t==null?0:t.length;return!!n&&ST(t,e,0)>-1}var d4=9007199254740991,f4=/^(?:0|[1-9]\d*)$/;function J0(t,e){var n=typeof t;return e=e??d4,!!e&&(n=="number"||n!="symbol"&&f4.test(t))&&t>-1&&t%1==0&&t<e}function ef(t,e,n){e=="__proto__"&&td?td(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Pu(t,e){return t===e||t!==t&&e!==e}var p4=Object.prototype,m4=p4.hasOwnProperty;function TT(t,e,n){var r=t[e];(!(m4.call(t,e)&&Pu(r,n))||n===void 0&&!(e in t))&&ef(t,e,n)}function Ou(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?ef(n,a,l):TT(n,a,l)}return n}var gw=Math.max;function g4(t,e,n){return e=gw(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=gw(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),Q3(t,this,a)}}function ey(t,e){return u4(g4(t,e,Au),t+"")}var v4=9007199254740991;function ty(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=v4}function $i(t){return t!=null&&ty(t.length)&&!br(t)}function nd(t,e,n){if(!pn(n))return!1;var r=typeof e;return(r=="number"?$i(n)&&J0(e,n.length):r=="string"&&e in n)?Pu(n[e],t):!1}function y4(t){return ey(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&nd(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var b4=Object.prototype;function ny(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||b4;return t===n}function AT(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var x4="[object Arguments]";function vw(t){return $n(t)&&Qr(t)==x4}var PT=Object.prototype,w4=PT.hasOwnProperty,_4=PT.propertyIsEnumerable,E4=vw(function(){return arguments}())?vw:function(t){return $n(t)&&w4.call(t,"callee")&&!_4.call(t,"callee")};const Xl=E4;function S4(){return!1}var OT=typeof on=="object"&&on&&!on.nodeType&&on,yw=OT&&typeof an=="object"&&an&&!an.nodeType&&an,C4=yw&&yw.exports===OT,bw=C4?lr.Buffer:void 0,T4=bw?bw.isBuffer:void 0,A4=T4||S4;const ql=A4;var P4="[object Arguments]",O4="[object Array]",I4="[object Boolean]",k4="[object Date]",R4="[object Error]",M4="[object Function]",F4="[object Map]",D4="[object Number]",$4="[object Object]",B4="[object RegExp]",N4="[object Set]",L4="[object String]",U4="[object WeakMap]",j4="[object ArrayBuffer]",z4="[object DataView]",H4="[object Float32Array]",G4="[object Float64Array]",W4="[object Int8Array]",V4="[object Int16Array]",X4="[object Int32Array]",q4="[object Uint8Array]",Y4="[object Uint8ClampedArray]",K4="[object Uint16Array]",Z4="[object Uint32Array]",Ne={};Ne[H4]=Ne[G4]=Ne[W4]=Ne[V4]=Ne[X4]=Ne[q4]=Ne[Y4]=Ne[K4]=Ne[Z4]=!0;Ne[P4]=Ne[O4]=Ne[j4]=Ne[I4]=Ne[z4]=Ne[k4]=Ne[R4]=Ne[M4]=Ne[F4]=Ne[D4]=Ne[$4]=Ne[B4]=Ne[N4]=Ne[L4]=Ne[U4]=!1;function Q4(t){return $n(t)&&ty(t.length)&&!!Ne[Qr(t)]}function Iu(t){return function(e){return t(e)}}var IT=typeof on=="object"&&on&&!on.nodeType&&on,Tl=IT&&typeof an=="object"&&an&&!an.nodeType&&an,J4=Tl&&Tl.exports===IT,Op=J4&&bT.process,e5=function(){try{var t=Tl&&Tl.require&&Tl.require("util").types;return t||Op&&Op.binding&&Op.binding("util")}catch{}}();const Zo=e5;var xw=Zo&&Zo.isTypedArray,t5=xw?Iu(xw):Q4;const ry=t5;var n5=Object.prototype,r5=n5.hasOwnProperty;function kT(t,e){var n=st(t),r=!n&&Xl(t),i=!n&&!r&&ql(t),s=!n&&!r&&!i&&ry(t),o=n||r||i||s,a=o?AT(t.length,String):[],l=a.length;for(var u in t)(e||r5.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||J0(u,l)))&&a.push(u);return a}function RT(t,e){return function(n){return t(e(n))}}var i5=RT(Object.keys,Object);const s5=i5;var o5=Object.prototype,a5=o5.hasOwnProperty;function l5(t){if(!ny(t))return s5(t);var e=[];for(var n in Object(t))a5.call(t,n)&&n!="constructor"&&e.push(n);return e}function Rs(t){return $i(t)?kT(t):l5(t)}function u5(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var c5=Object.prototype,h5=c5.hasOwnProperty;function d5(t){if(!pn(t))return u5(t);var e=ny(t),n=[];for(var r in t)r=="constructor"&&(e||!h5.call(t,r))||n.push(r);return n}function ku(t){return $i(t)?kT(t,!0):d5(t)}var f5=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,p5=/^\w*$/;function iy(t,e){if(st(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Ko(t)?!0:p5.test(t)||!f5.test(t)||e!=null&&t in Object(e)}var m5=ks(Object,"create");const Yl=m5;function g5(){this.__data__=Yl?Yl(null):{},this.size=0}function v5(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var y5="__lodash_hash_undefined__",b5=Object.prototype,x5=b5.hasOwnProperty;function w5(t){var e=this.__data__;if(Yl){var n=e[t];return n===y5?void 0:n}return x5.call(e,t)?e[t]:void 0}var _5=Object.prototype,E5=_5.hasOwnProperty;function S5(t){var e=this.__data__;return Yl?e[t]!==void 0:E5.call(e,t)}var C5="__lodash_hash_undefined__";function T5(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Yl&&e===void 0?C5:e,this}function xs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}xs.prototype.clear=g5;xs.prototype.delete=v5;xs.prototype.get=w5;xs.prototype.has=S5;xs.prototype.set=T5;function A5(){this.__data__=[],this.size=0}function tf(t,e){for(var n=t.length;n--;)if(Pu(t[n][0],e))return n;return-1}var P5=Array.prototype,O5=P5.splice;function I5(t){var e=this.__data__,n=tf(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():O5.call(e,n,1),--this.size,!0}function k5(t){var e=this.__data__,n=tf(e,t);return n<0?void 0:e[n][1]}function R5(t){return tf(this.__data__,t)>-1}function M5(t,e){var n=this.__data__,r=tf(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Jr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Jr.prototype.clear=A5;Jr.prototype.delete=I5;Jr.prototype.get=k5;Jr.prototype.has=R5;Jr.prototype.set=M5;var F5=ks(lr,"Map");const Kl=F5;function D5(){this.size=0,this.__data__={hash:new xs,map:new(Kl||Jr),string:new xs}}function $5(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function nf(t,e){var n=t.__data__;return $5(e)?n[typeof e=="string"?"string":"hash"]:n.map}function B5(t){var e=nf(this,t).delete(t);return this.size-=e?1:0,e}function N5(t){return nf(this,t).get(t)}function L5(t){return nf(this,t).has(t)}function U5(t,e){var n=nf(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function ei(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ei.prototype.clear=D5;ei.prototype.delete=B5;ei.prototype.get=N5;ei.prototype.has=L5;ei.prototype.set=U5;var j5="Expected a function";function sy(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(j5);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(sy.Cache||ei),n}sy.Cache=ei;var z5=500;function H5(t){var e=sy(t,function(r){return n.size===z5&&n.clear(),r}),n=e.cache;return e}var G5=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,W5=/\\(\\)?/g,V5=H5(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(G5,function(n,r,i,s){e.push(i?s.replace(W5,"$1"):r||n)}),e});const X5=V5;function MT(t){return t==null?"":Q0(t)}function FT(t,e){return st(t)?t:iy(t,e)?[t]:X5(MT(t))}var q5=1/0;function rf(t){if(typeof t=="string"||Ko(t))return t;var e=t+"";return e=="0"&&1/t==-q5?"-0":e}function oy(t,e){e=FT(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[rf(e[n++])];return n&&n==r?t:void 0}function Y5(t,e,n){var r=t==null?void 0:oy(t,e);return r===void 0?n:r}function ay(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var ww=Dn?Dn.isConcatSpreadable:void 0;function K5(t){return st(t)||Xl(t)||!!(ww&&t&&t[ww])}function ly(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=K5),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?ly(a,e-1,n,r,i):ay(i,a):r||(i[i.length]=a)}return i}var Z5=RT(Object.getPrototypeOf,Object);const uy=Z5;var Q5="[object Object]",J5=Function.prototype,eF=Object.prototype,DT=J5.toString,tF=eF.hasOwnProperty,nF=DT.call(Object);function rF(t){if(!$n(t)||Qr(t)!=Q5)return!1;var e=uy(t);if(e===null)return!0;var n=tF.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&DT.call(n)==nF}function iF(t,e,n,r){var i=-1,s=t==null?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}function sF(t,e,n){return t===t&&(n!==void 0&&(t=t<=n?t:n),e!==void 0&&(t=t>=e?t:e)),t}function oF(){this.__data__=new Jr,this.size=0}function aF(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function lF(t){return this.__data__.get(t)}function uF(t){return this.__data__.has(t)}var cF=200;function hF(t,e){var n=this.__data__;if(n instanceof Jr){var r=n.__data__;if(!Kl||r.length<cF-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ei(r)}return n.set(t,e),this.size=n.size,this}function tr(t){var e=this.__data__=new Jr(t);this.size=e.size}tr.prototype.clear=oF;tr.prototype.delete=aF;tr.prototype.get=lF;tr.prototype.has=uF;tr.prototype.set=hF;function dF(t,e){return t&&Ou(e,Rs(e),t)}function fF(t,e){return t&&Ou(e,ku(e),t)}var $T=typeof on=="object"&&on&&!on.nodeType&&on,_w=$T&&typeof an=="object"&&an&&!an.nodeType&&an,pF=_w&&_w.exports===$T,Ew=pF?lr.Buffer:void 0,Sw=Ew?Ew.allocUnsafe:void 0;function BT(t,e){if(e)return t.slice();var n=t.length,r=Sw?Sw(n):new t.constructor(n);return t.copy(r),r}function NT(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function LT(){return[]}var mF=Object.prototype,gF=mF.propertyIsEnumerable,Cw=Object.getOwnPropertySymbols,vF=Cw?function(t){return t==null?[]:(t=Object(t),NT(Cw(t),function(e){return gF.call(t,e)}))}:LT;const cy=vF;function yF(t,e){return Ou(t,cy(t),e)}var bF=Object.getOwnPropertySymbols,xF=bF?function(t){for(var e=[];t;)ay(e,cy(t)),t=uy(t);return e}:LT;const UT=xF;function wF(t,e){return Ou(t,UT(t),e)}function jT(t,e,n){var r=e(t);return st(t)?r:ay(r,n(t))}function Sg(t){return jT(t,Rs,cy)}function _F(t){return jT(t,ku,UT)}var EF=ks(lr,"DataView");const Cg=EF;var SF=ks(lr,"Promise");const Tg=SF;var CF=ks(lr,"Set");const Bo=CF;var Tw="[object Map]",TF="[object Object]",Aw="[object Promise]",Pw="[object Set]",Ow="[object WeakMap]",Iw="[object DataView]",AF=Is(Cg),PF=Is(Kl),OF=Is(Tg),IF=Is(Bo),kF=Is(Eg),Xi=Qr;(Cg&&Xi(new Cg(new ArrayBuffer(1)))!=Iw||Kl&&Xi(new Kl)!=Tw||Tg&&Xi(Tg.resolve())!=Aw||Bo&&Xi(new Bo)!=Pw||Eg&&Xi(new Eg)!=Ow)&&(Xi=function(t){var e=Qr(t),n=e==TF?t.constructor:void 0,r=n?Is(n):"";if(r)switch(r){case AF:return Iw;case PF:return Tw;case OF:return Aw;case IF:return Pw;case kF:return Ow}return e});const Zl=Xi;var RF=Object.prototype,MF=RF.hasOwnProperty;function FF(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&MF.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var DF=lr.Uint8Array;const rd=DF;function hy(t){var e=new t.constructor(t.byteLength);return new rd(e).set(new rd(t)),e}function $F(t,e){var n=e?hy(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var BF=/\w*$/;function NF(t){var e=new t.constructor(t.source,BF.exec(t));return e.lastIndex=t.lastIndex,e}var kw=Dn?Dn.prototype:void 0,Rw=kw?kw.valueOf:void 0;function LF(t){return Rw?Object(Rw.call(t)):{}}function zT(t,e){var n=e?hy(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var UF="[object Boolean]",jF="[object Date]",zF="[object Map]",HF="[object Number]",GF="[object RegExp]",WF="[object Set]",VF="[object String]",XF="[object Symbol]",qF="[object ArrayBuffer]",YF="[object DataView]",KF="[object Float32Array]",ZF="[object Float64Array]",QF="[object Int8Array]",JF="[object Int16Array]",eD="[object Int32Array]",tD="[object Uint8Array]",nD="[object Uint8ClampedArray]",rD="[object Uint16Array]",iD="[object Uint32Array]";function sD(t,e,n){var r=t.constructor;switch(e){case qF:return hy(t);case UF:case jF:return new r(+t);case YF:return $F(t,n);case KF:case ZF:case QF:case JF:case eD:case tD:case nD:case rD:case iD:return zT(t,n);case zF:return new r;case HF:case VF:return new r(t);case GF:return NF(t);case WF:return new r;case XF:return LF(t)}}function HT(t){return typeof t.constructor=="function"&&!ny(t)?Z3(uy(t)):{}}var oD="[object Map]";function aD(t){return $n(t)&&Zl(t)==oD}var Mw=Zo&&Zo.isMap,lD=Mw?Iu(Mw):aD;const uD=lD;var cD="[object Set]";function hD(t){return $n(t)&&Zl(t)==cD}var Fw=Zo&&Zo.isSet,dD=Fw?Iu(Fw):hD;const fD=dD;var pD=1,mD=2,gD=4,GT="[object Arguments]",vD="[object Array]",yD="[object Boolean]",bD="[object Date]",xD="[object Error]",WT="[object Function]",wD="[object GeneratorFunction]",_D="[object Map]",ED="[object Number]",VT="[object Object]",SD="[object RegExp]",CD="[object Set]",TD="[object String]",AD="[object Symbol]",PD="[object WeakMap]",OD="[object ArrayBuffer]",ID="[object DataView]",kD="[object Float32Array]",RD="[object Float64Array]",MD="[object Int8Array]",FD="[object Int16Array]",DD="[object Int32Array]",$D="[object Uint8Array]",BD="[object Uint8ClampedArray]",ND="[object Uint16Array]",LD="[object Uint32Array]",Fe={};Fe[GT]=Fe[vD]=Fe[OD]=Fe[ID]=Fe[yD]=Fe[bD]=Fe[kD]=Fe[RD]=Fe[MD]=Fe[FD]=Fe[DD]=Fe[_D]=Fe[ED]=Fe[VT]=Fe[SD]=Fe[CD]=Fe[TD]=Fe[AD]=Fe[$D]=Fe[BD]=Fe[ND]=Fe[LD]=!0;Fe[xD]=Fe[WT]=Fe[PD]=!1;function dh(t,e,n,r,i,s){var o,a=e&pD,l=e&mD,u=e&gD;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!pn(t))return t;var c=st(t);if(c){if(o=FF(t),!a)return wT(t,o)}else{var h=Zl(t),d=h==WT||h==wD;if(ql(t))return BT(t,a);if(h==VT||h==GT||d&&!i){if(o=l||d?{}:HT(t),!a)return l?wF(t,fF(o,t)):yF(t,dF(o,t))}else{if(!Fe[h])return i?t:{};o=sD(t,h,a)}}s||(s=new tr);var f=s.get(t);if(f)return f;s.set(t,o),fD(t)?t.forEach(function(v){o.add(dh(v,e,n,v,t,s))}):uD(t)&&t.forEach(function(v,g){o.set(g,dh(v,e,n,g,t,s))});var p=u?l?_F:Sg:l?ku:Rs,m=c?void 0:p(t);return _T(m||t,function(v,g){m&&(g=v,v=t[g]),TT(o,g,dh(v,e,n,g,t,s))}),o}var UD=4;function Ie(t){return dh(t,UD)}function Dw(t){for(var e=-1,n=t==null?0:t.length,r=0,i=[];++e<n;){var s=t[e];s&&(i[r++]=s)}return i}var jD="__lodash_hash_undefined__";function zD(t){return this.__data__.set(t,jD),this}function HD(t){return this.__data__.has(t)}function Qo(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ei;++e<n;)this.add(t[e])}Qo.prototype.add=Qo.prototype.push=zD;Qo.prototype.has=HD;function XT(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function dy(t,e){return t.has(e)}var GD=1,WD=2;function qT(t,e,n,r,i,s){var o=n&GD,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(t),c=s.get(e);if(u&&c)return u==e&&c==t;var h=-1,d=!0,f=n&WD?new Qo:void 0;for(s.set(t,e),s.set(e,t);++h<a;){var p=t[h],m=e[h];if(r)var v=o?r(m,p,h,e,t,s):r(p,m,h,t,e,s);if(v!==void 0){if(v)continue;d=!1;break}if(f){if(!XT(e,function(g,b){if(!dy(f,b)&&(p===g||i(p,g,n,r,s)))return f.push(b)})){d=!1;break}}else if(!(p===m||i(p,m,n,r,s))){d=!1;break}}return s.delete(t),s.delete(e),d}function VD(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function fy(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var XD=1,qD=2,YD="[object Boolean]",KD="[object Date]",ZD="[object Error]",QD="[object Map]",JD="[object Number]",e$="[object RegExp]",t$="[object Set]",n$="[object String]",r$="[object Symbol]",i$="[object ArrayBuffer]",s$="[object DataView]",$w=Dn?Dn.prototype:void 0,Ip=$w?$w.valueOf:void 0;function o$(t,e,n,r,i,s,o){switch(n){case s$:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case i$:return!(t.byteLength!=e.byteLength||!s(new rd(t),new rd(e)));case YD:case KD:case JD:return Pu(+t,+e);case ZD:return t.name==e.name&&t.message==e.message;case e$:case n$:return t==e+"";case QD:var a=VD;case t$:var l=r&XD;if(a||(a=fy),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=qD,o.set(t,e);var c=qT(a(t),a(e),r,i,s,o);return o.delete(t),c;case r$:if(Ip)return Ip.call(t)==Ip.call(e)}return!1}var a$=1,l$=Object.prototype,u$=l$.hasOwnProperty;function c$(t,e,n,r,i,s){var o=n&a$,a=Sg(t),l=a.length,u=Sg(e),c=u.length;if(l!=c&&!o)return!1;for(var h=l;h--;){var d=a[h];if(!(o?d in e:u$.call(e,d)))return!1}var f=s.get(t),p=s.get(e);if(f&&p)return f==e&&p==t;var m=!0;s.set(t,e),s.set(e,t);for(var v=o;++h<l;){d=a[h];var g=t[d],b=e[d];if(r)var y=o?r(b,g,d,e,t,s):r(g,b,d,t,e,s);if(!(y===void 0?g===b||i(g,b,n,r,s):y)){m=!1;break}v||(v=d=="constructor")}if(m&&!v){var x=t.constructor,S=e.constructor;x!=S&&"constructor"in t&&"constructor"in e&&!(typeof x=="function"&&x instanceof x&&typeof S=="function"&&S instanceof S)&&(m=!1)}return s.delete(t),s.delete(e),m}var h$=1,Bw="[object Arguments]",Nw="[object Array]",bc="[object Object]",d$=Object.prototype,Lw=d$.hasOwnProperty;function f$(t,e,n,r,i,s){var o=st(t),a=st(e),l=o?Nw:Zl(t),u=a?Nw:Zl(e);l=l==Bw?bc:l,u=u==Bw?bc:u;var c=l==bc,h=u==bc,d=l==u;if(d&&ql(t)){if(!ql(e))return!1;o=!0,c=!1}if(d&&!c)return s||(s=new tr),o||ry(t)?qT(t,e,n,r,i,s):o$(t,e,l,n,r,i,s);if(!(n&h$)){var f=c&&Lw.call(t,"__wrapped__"),p=h&&Lw.call(e,"__wrapped__");if(f||p){var m=f?t.value():t,v=p?e.value():e;return s||(s=new tr),i(m,v,n,r,s)}}return d?(s||(s=new tr),c$(t,e,n,r,i,s)):!1}function py(t,e,n,r,i){return t===e?!0:t==null||e==null||!$n(t)&&!$n(e)?t!==t&&e!==e:f$(t,e,n,r,py,i)}var p$=1,m$=2;function g$(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],u=t[l],c=a[1];if(o&&a[2]){if(u===void 0&&!(l in t))return!1}else{var h=new tr;if(r)var d=r(u,c,l,t,e,h);if(!(d===void 0?py(c,u,p$|m$,r,h):d))return!1}}return!0}function YT(t){return t===t&&!pn(t)}function v$(t){for(var e=Rs(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,YT(i)]}return e}function KT(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function y$(t){var e=v$(t);return e.length==1&&e[0][2]?KT(e[0][0],e[0][1]):function(n){return n===t||g$(n,t,e)}}function b$(t,e){return t!=null&&e in Object(t)}function x$(t,e,n){e=FT(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=rf(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&ty(i)&&J0(o,i)&&(st(t)||Xl(t)))}function w$(t,e){return t!=null&&x$(t,e,b$)}var _$=1,E$=2;function S$(t,e){return iy(t)&&YT(e)?KT(rf(t),e):function(n){var r=Y5(n,t);return r===void 0&&r===e?w$(n,t):py(e,r,_$|E$)}}function C$(t){return function(e){return e==null?void 0:e[t]}}function T$(t){return function(e){return oy(e,t)}}function A$(t){return iy(t)?C$(rf(t)):T$(t)}function Bi(t){return typeof t=="function"?t:t==null?Au:typeof t=="object"?st(t)?S$(t[0],t[1]):y$(t):A$(t)}function P$(t,e,n,r){for(var i=-1,s=t==null?0:t.length;++i<s;){var o=t[i];e(r,o,n(o),t)}return r}function O$(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var I$=O$();const ZT=I$;function k$(t,e){return t&&ZT(t,e,Rs)}function R$(t,e){return function(n,r){if(n==null)return n;if(!$i(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var M$=R$(k$);const ga=M$;function F$(t,e,n,r){return ga(t,function(i,s,o){e(r,i,n(i),o)}),r}function D$(t,e){return function(n,r){var i=st(n)?P$:F$,s=e?e():{};return i(n,t,Bi(r),s)}}var $$=function(){return lr.Date.now()};const kp=$$;var B$="Expected a function",N$=Math.max,L$=Math.min;function QT(t,e,n){var r,i,s,o,a,l,u=0,c=!1,h=!1,d=!0;if(typeof t!="function")throw new TypeError(B$);e=_g(e)||0,pn(n)&&(c=!!n.leading,h="maxWait"in n,s=h?N$(_g(n.maxWait)||0,e):s,d="trailing"in n?!!n.trailing:d);function f(C){var T=r,A=i;return r=i=void 0,u=C,o=t.apply(A,T),o}function p(C){return u=C,a=setTimeout(g,e),c?f(C):o}function m(C){var T=C-l,A=C-u,I=e-T;return h?L$(I,s-A):I}function v(C){var T=C-l,A=C-u;return l===void 0||T>=e||T<0||h&&A>=s}function g(){var C=kp();if(v(C))return b(C);a=setTimeout(g,m(C))}function b(C){return a=void 0,d&&r?f(C):(r=i=void 0,o)}function y(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function x(){return a===void 0?o:b(kp())}function S(){var C=kp(),T=v(C);if(r=arguments,i=this,l=C,T){if(a===void 0)return p(l);if(h)return clearTimeout(a),a=setTimeout(g,e),f(l)}return a===void 0&&(a=setTimeout(g,e)),o}return S.cancel=y,S.flush=x,S}function Ag(t,e,n){(n!==void 0&&!Pu(t[e],n)||n===void 0&&!(e in t))&&ef(t,e,n)}function Pg(t){return $n(t)&&$i(t)}function Og(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function U$(t){return Ou(t,ku(t))}function j$(t,e,n,r,i,s,o){var a=Og(t,n),l=Og(e,n),u=o.get(l);if(u){Ag(t,n,u);return}var c=s?s(a,l,n+"",t,e,o):void 0,h=c===void 0;if(h){var d=st(l),f=!d&&ql(l),p=!d&&!f&&ry(l);c=l,d||f||p?st(a)?c=a:Pg(a)?c=wT(a):f?(h=!1,c=BT(l,!0)):p?(h=!1,c=zT(l,!0)):c=[]:rF(l)||Xl(l)?(c=a,Xl(a)?c=U$(a):(!pn(a)||br(a))&&(c=HT(l))):h=!1}h&&(o.set(l,c),i(c,l,r,s,o),o.delete(l)),Ag(t,n,c)}function JT(t,e,n,r,i){t!==e&&ZT(e,function(s,o){if(i||(i=new tr),pn(s))j$(t,e,o,n,JT,r,i);else{var a=r?r(Og(t,o),s,o+"",t,e,i):void 0;a===void 0&&(a=s),Ag(t,o,a)}},ku)}function eA(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var z$=200;function H$(t,e,n,r){var i=-1,s=CT,o=!0,a=t.length,l=[],u=e.length;if(!a)return l;n&&(e=ls(e,Iu(n))),r?(s=eA,o=!1):e.length>=z$&&(s=dy,o=!1,e=new Qo(e));e:for(;++i<a;){var c=t[i],h=n==null?c:n(c);if(c=r||c!==0?c:0,o&&h===h){for(var d=u;d--;)if(e[d]===h)continue e;l.push(c)}else s(e,h,r)||l.push(c)}return l}var G$=ey(function(t,e){return Pg(t)?H$(t,ly(e,1,Pg,!0)):[]});const tA=G$;function nA(t){return typeof t=="function"?t:Au}function Me(t,e){var n=st(t)?_T:ga;return n(t,nA(e))}function W$(t,e){var n=[];return ga(t,function(r,i,s){e(r,i,s)&&n.push(r)}),n}function vn(t,e){var n=st(t)?NT:W$;return n(t,Bi(e))}function V$(t){return function(e,n,r){var i=Object(e);if(!$i(e)){var s=Bi(n);e=Rs(e),n=function(a){return s(i[a],a,i)}}var o=t(e,n,r);return o>-1?i[s?e[o]:o]:void 0}}var X$=Math.max;function q$(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Jd(n);return i<0&&(i=X$(r+i,0)),ET(t,Bi(e),i)}var Y$=V$(q$);const _e=Y$;function rA(t,e){var n=-1,r=$i(t)?Array(t.length):[];return ga(t,function(i,s,o){r[++n]=e(i,s,o)}),r}function pe(t,e){var n=st(t)?ls:rA;return n(t,Bi(e))}var K$=Object.prototype,Z$=K$.hasOwnProperty,Q$=D$(function(t,e,n){Z$.call(t,n)?t[n].push(e):ef(t,n,[e])});const J$=Q$;var eB="[object String]";function iA(t){return typeof t=="string"||!st(t)&&$n(t)&&Qr(t)==eB}function tB(t,e){return ls(e,function(n){return t[n]})}function sA(t){return t==null?[]:tB(t,Rs(t))}var nB=Math.max;function Ru(t,e,n,r){t=$i(t)?t:sA(t),n=n&&!r?Jd(n):0;var i=t.length;return n<0&&(n=nB(i+n,0)),iA(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&ST(t,e,n)>-1}var rB="[object Number]";function iB(t){return typeof t=="number"||$n(t)&&Qr(t)==rB}function Tn(t){return t===void 0}var sB=y4(function(t,e,n){JT(t,e,n)});const Yt=sB;function oB(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function aB(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=Ko(t),o=e!==void 0,a=e===null,l=e===e,u=Ko(e);if(!a&&!u&&!s&&t>e||s&&o&&l&&!a&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!u&&t<e||u&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}function lB(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var l=aB(i[r],s[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}function uB(t,e,n){e.length?e=ls(e,function(s){return st(s)?function(o){return oy(o,s.length===1?s[0]:s)}:s}):e=[Au];var r=-1;e=ls(e,Iu(Bi));var i=rA(t,function(s,o,a){var l=ls(e,function(u){return u(s)});return{criteria:l,index:++r,value:s}});return oB(i,function(s,o){return lB(s,o,n)})}var cB=Math.floor,hB=Math.random;function dB(t,e){return t+cB(hB()*(e-t+1))}function fB(t,e,n,r,i){return i(t,function(s,o,a){n=r?(r=!1,s):e(n,s,o,a)}),n}function oA(t,e,n){var r=st(t)?iF:fB,i=arguments.length<3;return r(t,Bi(e),n,i,ga)}function aA(t){var e=t.length;return e?t[dB(0,e-1)]:void 0}function pB(t){return aA(sA(t))}function Uw(t){var e=st(t)?aA:pB;return e(t)}function mB(t,e){var n;return ga(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}function Mu(t,e,n){var r=st(t)?XT:mB;return n&&nd(t,e,n)&&(e=void 0),r(t,Bi(e))}var gB=ey(function(t,e){if(t==null)return[];var n=e.length;return n>1&&nd(t,e[0],e[1])?e=[]:n>2&&nd(e[0],e[1],e[2])&&(e=[e[0]]),uB(t,ly(e,1),[])});const Ms=gB;function vB(t,e,n){return t=MT(t),n=n==null?0:sF(Jd(n),0,t.length),e=Q0(e),t.slice(n,n+e.length)==e}var yB="Expected a function";function bB(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(yB);return pn(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),QT(t,e,{leading:r,maxWait:e,trailing:i})}var xB=9007199254740991,Rp=4294967295,wB=Math.min;function Fu(t,e){if(t=Jd(t),t<1||t>xB)return[];var n=Rp,r=wB(t,Rp);e=nA(e),t-=Rp;for(var i=AT(r,e);++n<t;)e(n);return i}var _B=1/0,EB=Bo&&1/fy(new Bo([,-0]))[1]==_B?function(t){return new Bo(t)}:J3;const SB=EB;var CB=200;function TB(t,e,n){var r=-1,i=CT,s=t.length,o=!0,a=[],l=a;if(n)o=!1,i=eA;else if(s>=CB){var u=e?null:SB(t);if(u)return fy(u);o=!1,i=dy,l=new Qo}else l=e?[]:a;e:for(;++r<s;){var c=t[r],h=e?e(c):c;if(c=n||c!==0?c:0,o&&h===h){for(var d=l.length;d--;)if(l[d]===h)continue e;e&&l.push(h),a.push(c)}else i(l,h,n)||(l!==a&&l.push(h),a.push(c))}return a}function Ql(t){return t&&t.length?TB(t):[]}const Fs=w.createContext({});function AB(){const t=window.localStorage.getItem("dragon-build");return t?JSON.parse(t):[]}const PB=(t,e)=>{const{build:n,type:r}=e;let i=Ie(t);return r==="imported"?(i=n,i):t},OB=(t,e)=>{const{build:n,type:r}=e;let i=Ie(t);return r==="set"?(i=n,window.localStorage.setItem("dragon-build",JSON.stringify(i)),i):t},IB=({children:t})=>{const[e,n]=w.useReducer(OB,AB()),[r,i]=w.useReducer(PB,e==null?void 0:e.exportableBuild);return E(Fs.Provider,{value:{build:e,setBuild:n,savedBuild:r,setSavedBuild:i},children:t})};var Ig={},kB={get exports(){return Ig},set exports(t){Ig=t}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(kB);const Ai=Ig,Bt=w.createContext({});function RB(){const t=window.localStorage.getItem("dragon-abilities");return t?JSON.parse(t):[]}function MB(){const t=window.localStorage.getItem("dragon-ability-types");return t?JSON.parse(t):[]}function FB(){const t=window.localStorage.getItem("dragon-global-params");return t?JSON.parse(t):[]}const DB=(t,e)=>{const{targetId:n,index:r,param:i,params:s,type:o}=e;let a=Ie(t);if(o==="save")try{window.localStorage.setItem("dragon-global-params",JSON.stringify(a))}catch{}if(o==="add")return a=[...a,i],a;if(o==="set")return a=s,window.localStorage.setItem("dragon-global-params",JSON.stringify(a)),a;if(o==="update")return a=pe(a,l=>l.id===n?i:l),a;if(o==="remove"){const l=t.findIndex(c=>c.id===i.id);if(l<0)return t;const u=[...t];return u.splice(l,1),u}return t},$B=(t,e)=>{const{targetId:n,index:r,ability:i,abilities:s,type:o}=e;let a=Ie(t);if(o==="save")try{window.localStorage.setItem("dragon-abilities",JSON.stringify(a))}catch{}if(o==="add")return a=[...a,i],a;if(o==="set")return a=s,window.localStorage.setItem("dragon-abilities",JSON.stringify(a)),a;if(o==="update")return a=pe(a,l=>l.id===n?i:l),a;if(o==="remove"){const l=t.findIndex(c=>c.id===i.id);if(l<0)return t;const u=[...t];return u.splice(l,1),u}return t},BB=(t,e)=>{const{index:n,abilityType:r,abilityTypes:i,type:s}=e;let o=Ie(t);if(s==="save")try{window.localStorage.setItem("dragon-ability-types",JSON.stringify(o))}catch{}if(s==="add")return o=[...o,r],o;if(s==="set")return o=i,window.localStorage.setItem("dragon-ability-types",JSON.stringify(o)),o;if(s==="update")return o[n]=r,o;if(s==="remove"){const a=t.findIndex(u=>u.id===r.id);if(a<0)return t;const l=[...t];return l.splice(a,1),l}return t},NB=({children:t})=>{const[e,n]=w.useReducer($B,RB()),[r,i]=w.useReducer(BB,MB()),[s,o]=w.useReducer(DB,FB());return E(Bt.Provider,{value:{abilities:e,setAbilities:n,abilityTypes:r,setAbilityTypes:i,globalParams:s,setGlobalParams:o},children:t})},ti=w.createContext({});function LB(){const t=window.localStorage.getItem("dragon-nodes");if(t)try{return JSON.parse(t)}catch{return[{}]}else return lA()}function lA(){return[{id:"initial-node",name:"Example Node",description:"Press the Edit button on the left to edit this node. Press the edit button on the right to add stats and abilities.",colors:{selected:"#eee",unavailable:"aaa"}}]}const UB=(t,e)=>{const{targetId:n,index:r,node:i,nodes:s,type:o}=e;let a=Ie(t);if(o==="reset")return a=lA(),window.localStorage.setItem("dragon-nodes",JSON.stringify(a)),a;if(o==="save")try{window.localStorage.setItem("dragon-nodes",JSON.stringify(a))}catch{}if(o==="add")return a=[...a,i],a;if(o==="set")return a=s,window.localStorage.setItem("dragon-nodes",JSON.stringify(a)),a;if(o==="update")return a=pe(a,l=>l.id===n?i:l),window.localStorage.setItem("dragon-nodes",JSON.stringify(a)),a;if(o==="remove"){const l=t.findIndex(c=>c.id===i.id);if(l<0)return t;let u=[...t];return u.splice(l,1),u=pe(vn(u,c=>c.id!==i.id),c=>{let h=c.requires;return c.requires===i.id&&(h=i==null?void 0:i.requires),{...c,requires:h}}),window.localStorage.setItem("dragon-nodes",JSON.stringify(a)),u}return t},jB=({children:t})=>{const[e,n]=w.useReducer(UB,LB()),[r,i]=w.useState(null),[s,o]=w.useState({acquired:{},selected:{},available:{}});return E(ti.Provider,{value:{nodes:e,setNodes:n,selectedNodeId:r,setSelectedNodeId:i,nodeMeta:s,setNodeMeta:o},children:t})};var O={},zB={get exports(){return O},set exports(t){O=t}},HB="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",GB=HB,WB=GB;function uA(){}function cA(){}cA.resetWarningCache=uA;var VB=function(){function t(r,i,s,o,a,l){if(l!==WB){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:cA,resetWarningCache:uA};return n.PropTypes=n,n};zB.exports=VB();function kg(){return kg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kg.apply(this,arguments)}function XB(t,e){if(t==null)return{};var n=qB(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qB(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var my=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=XB(t,["color","size"]);return _.createElement("svg",kg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),_.createElement("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),_.createElement("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"}))});my.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};my.displayName="BookOpen";const YB=my;function Rg(){return Rg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rg.apply(this,arguments)}function KB(t,e){if(t==null)return{};var n=ZB(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZB(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var gy=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=KB(t,["color","size"]);return _.createElement("svg",Rg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),_.createElement("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),_.createElement("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"}))});gy.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};gy.displayName="Book";const QB=gy;function Mg(){return Mg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mg.apply(this,arguments)}function JB(t,e){if(t==null)return{};var n=eN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var vy=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=JB(t,["color","size"]);return _.createElement("svg",Mg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),_.createElement("polyline",{points:"20 6 9 17 4 12"}))});vy.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};vy.displayName="Check";const tN=vy;function Fg(){return Fg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fg.apply(this,arguments)}function nN(t,e){if(t==null)return{};var n=rN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var yy=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=nN(t,["color","size"]);return _.createElement("svg",Fg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),_.createElement("polyline",{points:"6 9 12 15 18 9"}))});yy.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};yy.displayName="ChevronDown";const hA=yy;function Dg(){return Dg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dg.apply(this,arguments)}function iN(t,e){if(t==null)return{};var n=sN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var by=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=iN(t,["color","size"]);return _.createElement("svg",Dg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),_.createElement("polyline",{points:"18 15 12 9 6 15"}))});by.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};by.displayName="ChevronUp";const dA=by;function $g(){return $g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$g.apply(this,arguments)}function oN(t,e){if(t==null)return{};var n=aN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var xy=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=oN(t,["color","size"]);return _.createElement("svg",$g({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),_.createElement("polyline",{points:"7 13 12 18 17 13"}),_.createElement("polyline",{points:"7 6 12 11 17 6"}))});xy.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};xy.displayName="ChevronsDown";const fA=xy;function Bg(){return Bg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bg.apply(this,arguments)}function lN(t,e){if(t==null)return{};var n=uN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var wy=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=lN(t,["color","size"]);return _.createElement("svg",Bg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),_.createElement("polyline",{points:"11 17 6 12 11 7"}),_.createElement("polyline",{points:"18 17 13 12 18 7"}))});wy.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};wy.displayName="ChevronsLeft";const cN=wy;function Ng(){return Ng=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ng.apply(this,arguments)}function hN(t,e){if(t==null)return{};var n=dN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var _y=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=hN(t,["color","size"]);return _.createElement("svg",Ng({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),_.createElement("polyline",{points:"13 17 18 12 13 7"}),_.createElement("polyline",{points:"6 17 11 12 6 7"}))});_y.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};_y.displayName="ChevronsRight";const fN=_y;function Lg(){return Lg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lg.apply(this,arguments)}function pN(t,e){if(t==null)return{};var n=mN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Ey=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=pN(t,["color","size"]);return _.createElement("svg",Lg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),_.createElement("polyline",{points:"17 11 12 6 7 11"}),_.createElement("polyline",{points:"17 18 12 13 7 18"}))});Ey.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Ey.displayName="ChevronsUp";const pA=Ey;function Ug(){return Ug=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ug.apply(this,arguments)}function gN(t,e){if(t==null)return{};var n=vN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Sy=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=gN(t,["color","size"]);return _.createElement("svg",Ug({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),_.createElement("path",{d:"M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"}),_.createElement("polyline",{points:"13 11 9 17 15 17 11 23"}))});Sy.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Sy.displayName="CloudLightning";const yN=Sy;function jg(){return jg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jg.apply(this,arguments)}function bN(t,e){if(t==null)return{};var n=xN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Cy=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=bN(t,["color","size"]);return _.createElement("svg",jg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),_.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),_.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))});Cy.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Cy.displayName="Copy";const wN=Cy;function zg(){return zg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zg.apply(this,arguments)}function _N(t,e){if(t==null)return{};var n=EN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function EN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Ty=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=_N(t,["color","size"]);return _.createElement("svg",zg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),_.createElement("circle",{cx:"12",cy:"12",r:"10"}),_.createElement("circle",{cx:"12",cy:"12",r:"3"}))});Ty.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Ty.displayName="Disc";const SN=Ty;function Hg(){return Hg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hg.apply(this,arguments)}function CN(t,e){if(t==null)return{};var n=TN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Ay=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=CN(t,["color","size"]);return _.createElement("svg",Hg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),_.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),_.createElement("polyline",{points:"7 10 12 15 17 10"}),_.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"}))});Ay.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Ay.displayName="Download";const Gg=Ay;function Wg(){return Wg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wg.apply(this,arguments)}function AN(t,e){if(t==null)return{};var n=PN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function PN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Py=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=AN(t,["color","size"]);return _.createElement("svg",Wg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),_.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),_.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))});Py.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Py.displayName="Edit";const mA=Py;function Vg(){return Vg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vg.apply(this,arguments)}function ON(t,e){if(t==null)return{};var n=IN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Oy=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=ON(t,["color","size"]);return _.createElement("svg",Vg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),_.createElement("circle",{cx:"12",cy:"12",r:"10"}),_.createElement("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),_.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}))});Oy.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Oy.displayName="HelpCircle";const kN=Oy;function Xg(){return Xg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xg.apply(this,arguments)}function RN(t,e){if(t==null)return{};var n=MN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Iy=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=RN(t,["color","size"]);return _.createElement("svg",Xg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),_.createElement("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),_.createElement("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}))});Iy.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Iy.displayName="Lock";const FN=Iy;function qg(){return qg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qg.apply(this,arguments)}function DN(t,e){if(t==null)return{};var n=$N(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $N(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var ky=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=DN(t,["color","size"]);return _.createElement("svg",qg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),_.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),_.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))});ky.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};ky.displayName="MinusSquare";const BN=ky;function Yg(){return Yg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yg.apply(this,arguments)}function NN(t,e){if(t==null)return{};var n=LN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Ry=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=NN(t,["color","size"]);return _.createElement("svg",Yg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),_.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});Ry.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Ry.displayName="Minus";const UN=Ry;function Kg(){return Kg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kg.apply(this,arguments)}function jN(t,e){if(t==null)return{};var n=zN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var My=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=jN(t,["color","size"]);return _.createElement("svg",Kg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),_.createElement("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}))});My.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};My.displayName="Moon";const HN=My;function Zg(){return Zg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zg.apply(this,arguments)}function GN(t,e){if(t==null)return{};var n=WN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Fy=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=GN(t,["color","size"]);return _.createElement("svg",Zg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),_.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),_.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),_.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))});Fy.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Fy.displayName="PlusSquare";const or=Fy;function Qg(){return Qg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qg.apply(this,arguments)}function VN(t,e){if(t==null)return{};var n=XN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Dy=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=VN(t,["color","size"]);return _.createElement("svg",Qg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),_.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),_.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});Dy.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Dy.displayName="Plus";const gA=Dy;function Jg(){return Jg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jg.apply(this,arguments)}function qN(t,e){if(t==null)return{};var n=YN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var $y=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=qN(t,["color","size"]);return _.createElement("svg",Jg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),_.createElement("polyline",{points:"1 4 1 10 7 10"}),_.createElement("polyline",{points:"23 20 23 14 17 14"}),_.createElement("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"}))});$y.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};$y.displayName="RefreshCcw";const KN=$y;function ev(){return ev=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ev.apply(this,arguments)}function ZN(t,e){if(t==null)return{};var n=QN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var By=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=ZN(t,["color","size"]);return _.createElement("svg",ev({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),_.createElement("polyline",{points:"1 4 1 10 7 10"}),_.createElement("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"}))});By.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};By.displayName="RotateCcw";const vA=By;function tv(){return tv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tv.apply(this,arguments)}function JN(t,e){if(t==null)return{};var n=eL(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eL(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Ny=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=JN(t,["color","size"]);return _.createElement("svg",tv({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),_.createElement("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),_.createElement("polyline",{points:"17 21 17 13 7 13 7 21"}),_.createElement("polyline",{points:"7 3 7 8 15 8"}))});Ny.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Ny.displayName="Save";const Jo=Ny;function nv(){return nv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nv.apply(this,arguments)}function tL(t,e){if(t==null)return{};var n=nL(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nL(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Ly=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=tL(t,["color","size"]);return _.createElement("svg",nv({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),_.createElement("line",{x1:"4",y1:"21",x2:"4",y2:"14"}),_.createElement("line",{x1:"4",y1:"10",x2:"4",y2:"3"}),_.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"12"}),_.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"3"}),_.createElement("line",{x1:"20",y1:"21",x2:"20",y2:"16"}),_.createElement("line",{x1:"20",y1:"12",x2:"20",y2:"3"}),_.createElement("line",{x1:"1",y1:"14",x2:"7",y2:"14"}),_.createElement("line",{x1:"9",y1:"8",x2:"15",y2:"8"}),_.createElement("line",{x1:"17",y1:"16",x2:"23",y2:"16"}))});Ly.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Ly.displayName="Sliders";const rL=Ly;function rv(){return rv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rv.apply(this,arguments)}function iL(t,e){if(t==null)return{};var n=sL(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sL(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Uy=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=iL(t,["color","size"]);return _.createElement("svg",rv({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),_.createElement("circle",{cx:"12",cy:"12",r:"5"}),_.createElement("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),_.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),_.createElement("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),_.createElement("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),_.createElement("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),_.createElement("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),_.createElement("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),_.createElement("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"}))});Uy.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Uy.displayName="Sun";const oL=Uy;function iv(){return iv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iv.apply(this,arguments)}function aL(t,e){if(t==null)return{};var n=lL(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lL(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var jy=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=aL(t,["color","size"]);return _.createElement("svg",iv({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),_.createElement("polyline",{points:"3 6 5 6 21 6"}),_.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),_.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),_.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}))});jy.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};jy.displayName="Trash2";const va=jy;function sv(){return sv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sv.apply(this,arguments)}function uL(t,e){if(t==null)return{};var n=cL(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cL(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var zy=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=uL(t,["color","size"]);return _.createElement("svg",sv({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),_.createElement("polyline",{points:"3 6 5 6 21 6"}),_.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}))});zy.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};zy.displayName="Trash";const hL=zy;function ov(){return ov=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ov.apply(this,arguments)}function dL(t,e){if(t==null)return{};var n=fL(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fL(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Hy=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=dL(t,["color","size"]);return _.createElement("svg",ov({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),_.createElement("circle",{cx:"12",cy:"12",r:"10"}),_.createElement("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),_.createElement("line",{x1:"9",y1:"9",x2:"15",y2:"15"}))});Hy.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Hy.displayName="XCircle";const yA=Hy;function av(){return av=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},av.apply(this,arguments)}function pL(t,e){if(t==null)return{};var n=mL(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mL(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Gy=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=pL(t,["color","size"]);return _.createElement("svg",av({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),_.createElement("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"}))});Gy.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Gy.displayName="Zap";const gL=Gy,Du=w.createContext({});function vL(){const t=window.localStorage.getItem("dragon-tagColors");if(t)try{return JSON.parse(t)}catch{return{}}else return{}}const yL=(t,e)=>{const{tag:n,color:r,type:i,colors:s}=e;let o=Ie(t);return i==="add"?(o[n]=r,o):i==="set"?(o=s||{},window.localStorage.setItem("dragon-tagColors",JSON.stringify(o)),s):(i==="save"&&window.localStorage.setItem("dragon-tagColors",JSON.stringify(o)),t)},bL=({children:t})=>{const[e,n]=w.useReducer(yL,vL());return E(Du.Provider,{value:{tagColors:e,setTagColors:n},children:t})};function rt({type:t="default",color:e="white",children:n,clicked:r,noPadding:i=!1,disabled:s=!1}){const o=i?{padding:0}:{};return E("button",{className:"smol-button "+t+" "+e+" "+(s?"disabled":""),onClick:s?()=>{}:r,style:o,children:n})}const $u=w.createContext({});function xL(){const t=window.localStorage.getItem("dragon-theme");return t?JSON.parse(t):[]}const wL=(t,e)=>{const{theme:n,type:r}=e;let i=Ie(t);return r==="set"?(i=n,window.localStorage.setItem("dragon-theme",JSON.stringify(i)),i):t},_L=({children:t})=>{const[e,n]=w.useReducer(wL,xL());return E($u.Provider,{value:{theme:e,setTheme:n},children:t})};function EL(t,e,n,r,i,s){let o={};const a=i||n;return o.borderColor=a,e&&(o.backgroundColor=a,o.fontWeight=500),r&&(o.borderColor="transparent",o.backgroundColor=a,o.color="#222",o.fontWeight=600,o.borderRadius=12),br(t)&&(o.cursor="pointer",o.paddingRight="32px"),s==="light"&&(o.borderWidth=2,o.color="#333"),o}function lv({label:t,clicked:e,selected:n,children:r,emphasize:i,color:s}){const{tagColors:o}=w.useContext(Du),{theme:a}=w.useContext($u);return U("span",{onClick:u=>{br(e)&&e(t)},className:"stat-tag",style:EL(e,n,o&&o[t]||"#fff",i,s,a),children:[t," ",e&&E("div",{className:"check",children:n?E(tN,{size:14}):""}),r&&r]})}function us({type:t="default",color:e="white",children:n,clicked:r,disabled:i=!1}){return E("button",{className:"big-button "+t+" "+e+" "+(i?"disabled":""),onClick:i?()=>{}:r,children:n})}function Wy({value:t,valueChanged:e,className:n="",minWidth:r=48,min:i=void 0,max:s=void 0}){const[o,a]=w.useState(+t),[l,u]=w.useState(r),c=w.useRef({offsetWidth:0});w.useEffect(()=>{var f;const d=((f=c==null?void 0:c.current)==null?void 0:f.offsetWidth)+24;u(d>r?d:r)},[o]);const h=d=>{a(+d.target.value),e(+d.target.value)};return U("div",{className:"fancy-text-input form-control "+n,children:[E("span",{className:"hidden-text",ref:c,children:o}),E("input",{min:i,max:s,value:o,type:"number",style:{width:l},onChange:h})]})}function Ar({value:t,valueChanged:e,className:n,blur:r,minWidth:i=48,placeholder:s="",fullWidth:o=!1,autoFocus:a=void 0,unsavedData:l=!1}){const[u,c]=w.useState(t),[h,d]=w.useState(o?"100%":i),f=w.useRef({offsetWidth:0}),p=w.useRef(null);w.useEffect(()=>{var v;if(!Tn(u)&&!o){const g=((v=f==null?void 0:f.current)==null?void 0:v.clientWidth)+24;d(g>i?g:i)}},[u]),w.useEffect(()=>{c(t)},[t]),w.useEffect(()=>{var v;!Tn(a)&&a&&((v=p.current)==null||v.focus())},[a]);const m=v=>{e(v.target.value)};return U("div",{className:"fancy-text-input form-control "+n,children:[E("span",{className:"hidden-text",ref:f,children:u}),E("input",{className:Ai({unsavedData:l}),ref:p,placeholder:s,onBlur:r,value:u,type:"text",style:{width:h},onChange:m})]})}function SL({params:t,paramsChanged:e}){const[n,r]=w.useState(t);w.useEffect(()=>{r(t)},[t]);const i=(l,u)=>{let c=Ie(n);c[u].name=l,e(c)},s=(l,u)=>{let c=Ie(n);c[u].value=l,e(c)},o=()=>{e([...t,{name:"",value:0}])},a=l=>{let u=Ie(n);u.splice(l,1),e(u)};return U("div",{className:"param-editor",children:[n&&pe(n,(l,u)=>U("div",{className:"param-line",children:[E(rt,{color:"danger",clicked:()=>a(u),children:E(va,{size:"18"})}),E(Ar,{minWidth:120,placeholder:"name",className:"param-input",value:l.name,valueChanged:c=>i(c,u)}),E(Wy,{className:"param-input",value:l.value,valueChanged:c=>s(c,u)})]})),E("div",{className:"add-button",children:U(us,{disabled:Mu(n,{name:""}),color:"theme",clicked:o,children:["Add Param ",E(or,{size:20})]})})]})}var An={},Bu={},CL=typeof $r=="object"&&$r&&$r.Object===Object&&$r,bA=CL,TL=bA,AL=typeof self=="object"&&self&&self.Object===Object&&self,PL=TL||AL||Function("return this")(),Pr=PL,OL=Pr,IL=OL.Symbol,Nu=IL,jw=Nu,xA=Object.prototype,kL=xA.hasOwnProperty,RL=xA.toString,Ua=jw?jw.toStringTag:void 0;function ML(t){var e=kL.call(t,Ua),n=t[Ua];try{t[Ua]=void 0;var r=!0}catch{}var i=RL.call(t);return r&&(e?t[Ua]=n:delete t[Ua]),i}var FL=ML,DL=Object.prototype,$L=DL.toString;function BL(t){return $L.call(t)}var NL=BL,zw=Nu,LL=FL,UL=NL,jL="[object Null]",zL="[object Undefined]",Hw=zw?zw.toStringTag:void 0;function HL(t){return t==null?t===void 0?zL:jL:Hw&&Hw in Object(t)?LL(t):UL(t)}var Ds=HL,GL=Array.isArray,ur=GL;function WL(t){return t!=null&&typeof t=="object"}var ni=WL,VL=Ds,XL=ur,qL=ni,YL="[object String]";function KL(t){return typeof t=="string"||!XL(t)&&qL(t)&&VL(t)==YL}var ZL=KL;function QL(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var JL=QL,e6=JL,t6=e6(),n6=t6;function r6(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var i6=r6,s6=Ds,o6=ni,a6="[object Arguments]";function l6(t){return o6(t)&&s6(t)==a6}var u6=l6,Gw=u6,c6=ni,wA=Object.prototype,h6=wA.hasOwnProperty,d6=wA.propertyIsEnumerable,f6=Gw(function(){return arguments}())?Gw:function(t){return c6(t)&&h6.call(t,"callee")&&!d6.call(t,"callee")},_A=f6,ea={},p6={get exports(){return ea},set exports(t){ea=t}};function m6(){return!1}var g6=m6;(function(t,e){var n=Pr,r=g6,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(p6,ea);var v6=9007199254740991,y6=/^(?:0|[1-9]\d*)$/;function b6(t,e){var n=typeof t;return e=e??v6,!!e&&(n=="number"||n!="symbol"&&y6.test(t))&&t>-1&&t%1==0&&t<e}var EA=b6,x6=9007199254740991;function w6(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=x6}var Vy=w6,_6=Ds,E6=Vy,S6=ni,C6="[object Arguments]",T6="[object Array]",A6="[object Boolean]",P6="[object Date]",O6="[object Error]",I6="[object Function]",k6="[object Map]",R6="[object Number]",M6="[object Object]",F6="[object RegExp]",D6="[object Set]",$6="[object String]",B6="[object WeakMap]",N6="[object ArrayBuffer]",L6="[object DataView]",U6="[object Float32Array]",j6="[object Float64Array]",z6="[object Int8Array]",H6="[object Int16Array]",G6="[object Int32Array]",W6="[object Uint8Array]",V6="[object Uint8ClampedArray]",X6="[object Uint16Array]",q6="[object Uint32Array]",Le={};Le[U6]=Le[j6]=Le[z6]=Le[H6]=Le[G6]=Le[W6]=Le[V6]=Le[X6]=Le[q6]=!0;Le[C6]=Le[T6]=Le[N6]=Le[A6]=Le[L6]=Le[P6]=Le[O6]=Le[I6]=Le[k6]=Le[R6]=Le[M6]=Le[F6]=Le[D6]=Le[$6]=Le[B6]=!1;function Y6(t){return S6(t)&&E6(t.length)&&!!Le[_6(t)]}var K6=Y6;function Z6(t){return function(e){return t(e)}}var Xy=Z6,ta={},Q6={get exports(){return ta},set exports(t){ta=t}};(function(t,e){var n=bA,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(Q6,ta);var J6=K6,e8=Xy,Ww=ta,Vw=Ww&&Ww.isTypedArray,t8=Vw?e8(Vw):J6,SA=t8,n8=i6,r8=_A,i8=ur,s8=ea,o8=EA,a8=SA,l8=Object.prototype,u8=l8.hasOwnProperty;function c8(t,e){var n=i8(t),r=!n&&r8(t),i=!n&&!r&&s8(t),s=!n&&!r&&!i&&a8(t),o=n||r||i||s,a=o?n8(t.length,String):[],l=a.length;for(var u in t)(e||u8.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||o8(u,l)))&&a.push(u);return a}var CA=c8,h8=Object.prototype;function d8(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||h8;return t===n}var qy=d8;function f8(t,e){return function(n){return t(e(n))}}var TA=f8,p8=TA,m8=p8(Object.keys,Object),g8=m8,v8=qy,y8=g8,b8=Object.prototype,x8=b8.hasOwnProperty;function w8(t){if(!v8(t))return y8(t);var e=[];for(var n in Object(t))x8.call(t,n)&&n!="constructor"&&e.push(n);return e}var _8=w8;function E8(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ya=E8,S8=Ds,C8=ya,T8="[object AsyncFunction]",A8="[object Function]",P8="[object GeneratorFunction]",O8="[object Proxy]";function I8(t){if(!C8(t))return!1;var e=S8(t);return e==A8||e==P8||e==T8||e==O8}var AA=I8,k8=AA,R8=Vy;function M8(t){return t!=null&&R8(t.length)&&!k8(t)}var sf=M8,F8=CA,D8=_8,$8=sf;function B8(t){return $8(t)?F8(t):D8(t)}var Lu=B8,N8=n6,L8=Lu;function U8(t,e){return t&&N8(t,e,L8)}var PA=U8;function j8(t){return t}var OA=j8,z8=OA;function H8(t){return typeof t=="function"?t:z8}var G8=H8,W8=PA,V8=G8;function X8(t,e){return t&&W8(t,V8(e))}var Yy=X8,q8=TA,Y8=q8(Object.getPrototypeOf,Object),Ky=Y8,K8=Ds,Z8=Ky,Q8=ni,J8="[object Object]",e7=Function.prototype,t7=Object.prototype,IA=e7.toString,n7=t7.hasOwnProperty,r7=IA.call(Object);function i7(t){if(!Q8(t)||K8(t)!=J8)return!1;var e=Z8(t);if(e===null)return!0;var n=n7.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&IA.call(n)==r7}var s7=i7;function o7(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var kA=o7;function a7(){this.__data__=[],this.size=0}var l7=a7;function u7(t,e){return t===e||t!==t&&e!==e}var Zy=u7,c7=Zy;function h7(t,e){for(var n=t.length;n--;)if(c7(t[n][0],e))return n;return-1}var of=h7,d7=of,f7=Array.prototype,p7=f7.splice;function m7(t){var e=this.__data__,n=d7(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():p7.call(e,n,1),--this.size,!0}var g7=m7,v7=of;function y7(t){var e=this.__data__,n=v7(e,t);return n<0?void 0:e[n][1]}var b7=y7,x7=of;function w7(t){return x7(this.__data__,t)>-1}var _7=w7,E7=of;function S7(t,e){var n=this.__data__,r=E7(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var C7=S7,T7=l7,A7=g7,P7=b7,O7=_7,I7=C7;function ba(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ba.prototype.clear=T7;ba.prototype.delete=A7;ba.prototype.get=P7;ba.prototype.has=O7;ba.prototype.set=I7;var af=ba,k7=af;function R7(){this.__data__=new k7,this.size=0}var M7=R7;function F7(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var D7=F7;function $7(t){return this.__data__.get(t)}var B7=$7;function N7(t){return this.__data__.has(t)}var L7=N7,U7=Pr,j7=U7["__core-js_shared__"],z7=j7,Mp=z7,Xw=function(){var t=/[^.]+$/.exec(Mp&&Mp.keys&&Mp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function H7(t){return!!Xw&&Xw in t}var G7=H7,W7=Function.prototype,V7=W7.toString;function X7(t){if(t!=null){try{return V7.call(t)}catch{}try{return t+""}catch{}}return""}var RA=X7,q7=AA,Y7=G7,K7=ya,Z7=RA,Q7=/[\\^$.*+?()[\]{}|]/g,J7=/^\[object .+?Constructor\]$/,eU=Function.prototype,tU=Object.prototype,nU=eU.toString,rU=tU.hasOwnProperty,iU=RegExp("^"+nU.call(rU).replace(Q7,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function sU(t){if(!K7(t)||Y7(t))return!1;var e=q7(t)?iU:J7;return e.test(Z7(t))}var oU=sU;function aU(t,e){return t==null?void 0:t[e]}var lU=aU,uU=oU,cU=lU;function hU(t,e){var n=cU(t,e);return uU(n)?n:void 0}var $s=hU,dU=$s,fU=Pr,pU=dU(fU,"Map"),Qy=pU,mU=$s,gU=mU(Object,"create"),lf=gU,qw=lf;function vU(){this.__data__=qw?qw(null):{},this.size=0}var yU=vU;function bU(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var xU=bU,wU=lf,_U="__lodash_hash_undefined__",EU=Object.prototype,SU=EU.hasOwnProperty;function CU(t){var e=this.__data__;if(wU){var n=e[t];return n===_U?void 0:n}return SU.call(e,t)?e[t]:void 0}var TU=CU,AU=lf,PU=Object.prototype,OU=PU.hasOwnProperty;function IU(t){var e=this.__data__;return AU?e[t]!==void 0:OU.call(e,t)}var kU=IU,RU=lf,MU="__lodash_hash_undefined__";function FU(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=RU&&e===void 0?MU:e,this}var DU=FU,$U=yU,BU=xU,NU=TU,LU=kU,UU=DU;function xa(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}xa.prototype.clear=$U;xa.prototype.delete=BU;xa.prototype.get=NU;xa.prototype.has=LU;xa.prototype.set=UU;var jU=xa,Yw=jU,zU=af,HU=Qy;function GU(){this.size=0,this.__data__={hash:new Yw,map:new(HU||zU),string:new Yw}}var WU=GU;function VU(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var XU=VU,qU=XU;function YU(t,e){var n=t.__data__;return qU(e)?n[typeof e=="string"?"string":"hash"]:n.map}var uf=YU,KU=uf;function ZU(t){var e=KU(this,t).delete(t);return this.size-=e?1:0,e}var QU=ZU,JU=uf;function ej(t){return JU(this,t).get(t)}var tj=ej,nj=uf;function rj(t){return nj(this,t).has(t)}var ij=rj,sj=uf;function oj(t,e){var n=sj(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var aj=oj,lj=WU,uj=QU,cj=tj,hj=ij,dj=aj;function wa(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}wa.prototype.clear=lj;wa.prototype.delete=uj;wa.prototype.get=cj;wa.prototype.has=hj;wa.prototype.set=dj;var Jy=wa,fj=af,pj=Qy,mj=Jy,gj=200;function vj(t,e){var n=this.__data__;if(n instanceof fj){var r=n.__data__;if(!pj||r.length<gj-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new mj(r)}return n.set(t,e),this.size=n.size,this}var yj=vj,bj=af,xj=M7,wj=D7,_j=B7,Ej=L7,Sj=yj;function _a(t){var e=this.__data__=new bj(t);this.size=e.size}_a.prototype.clear=xj;_a.prototype.delete=wj;_a.prototype.get=_j;_a.prototype.has=Ej;_a.prototype.set=Sj;var e1=_a,Cj="__lodash_hash_undefined__";function Tj(t){return this.__data__.set(t,Cj),this}var Aj=Tj;function Pj(t){return this.__data__.has(t)}var Oj=Pj,Ij=Jy,kj=Aj,Rj=Oj;function id(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Ij;++e<n;)this.add(t[e])}id.prototype.add=id.prototype.push=kj;id.prototype.has=Rj;var Mj=id;function Fj(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Dj=Fj;function $j(t,e){return t.has(e)}var Bj=$j,Nj=Mj,Lj=Dj,Uj=Bj,jj=1,zj=2;function Hj(t,e,n,r,i,s){var o=n&jj,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(t),c=s.get(e);if(u&&c)return u==e&&c==t;var h=-1,d=!0,f=n&zj?new Nj:void 0;for(s.set(t,e),s.set(e,t);++h<a;){var p=t[h],m=e[h];if(r)var v=o?r(m,p,h,e,t,s):r(p,m,h,t,e,s);if(v!==void 0){if(v)continue;d=!1;break}if(f){if(!Lj(e,function(g,b){if(!Uj(f,b)&&(p===g||i(p,g,n,r,s)))return f.push(b)})){d=!1;break}}else if(!(p===m||i(p,m,n,r,s))){d=!1;break}}return s.delete(t),s.delete(e),d}var MA=Hj,Gj=Pr,Wj=Gj.Uint8Array,FA=Wj;function Vj(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Xj=Vj;function qj(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Yj=qj,Kw=Nu,Zw=FA,Kj=Zy,Zj=MA,Qj=Xj,Jj=Yj,ez=1,tz=2,nz="[object Boolean]",rz="[object Date]",iz="[object Error]",sz="[object Map]",oz="[object Number]",az="[object RegExp]",lz="[object Set]",uz="[object String]",cz="[object Symbol]",hz="[object ArrayBuffer]",dz="[object DataView]",Qw=Kw?Kw.prototype:void 0,Fp=Qw?Qw.valueOf:void 0;function fz(t,e,n,r,i,s,o){switch(n){case dz:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case hz:return!(t.byteLength!=e.byteLength||!s(new Zw(t),new Zw(e)));case nz:case rz:case oz:return Kj(+t,+e);case iz:return t.name==e.name&&t.message==e.message;case az:case uz:return t==e+"";case sz:var a=Qj;case lz:var l=r&ez;if(a||(a=Jj),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=tz,o.set(t,e);var c=Zj(a(t),a(e),r,i,s,o);return o.delete(t),c;case cz:if(Fp)return Fp.call(t)==Fp.call(e)}return!1}var pz=fz;function mz(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var DA=mz,gz=DA,vz=ur;function yz(t,e,n){var r=e(t);return vz(t)?r:gz(r,n(t))}var $A=yz;function bz(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var xz=bz;function wz(){return[]}var BA=wz,_z=xz,Ez=BA,Sz=Object.prototype,Cz=Sz.propertyIsEnumerable,Jw=Object.getOwnPropertySymbols,Tz=Jw?function(t){return t==null?[]:(t=Object(t),_z(Jw(t),function(e){return Cz.call(t,e)}))}:Ez,t1=Tz,Az=$A,Pz=t1,Oz=Lu;function Iz(t){return Az(t,Oz,Pz)}var NA=Iz,e_=NA,kz=1,Rz=Object.prototype,Mz=Rz.hasOwnProperty;function Fz(t,e,n,r,i,s){var o=n&kz,a=e_(t),l=a.length,u=e_(e),c=u.length;if(l!=c&&!o)return!1;for(var h=l;h--;){var d=a[h];if(!(o?d in e:Mz.call(e,d)))return!1}var f=s.get(t),p=s.get(e);if(f&&p)return f==e&&p==t;var m=!0;s.set(t,e),s.set(e,t);for(var v=o;++h<l;){d=a[h];var g=t[d],b=e[d];if(r)var y=o?r(b,g,d,e,t,s):r(g,b,d,t,e,s);if(!(y===void 0?g===b||i(g,b,n,r,s):y)){m=!1;break}v||(v=d=="constructor")}if(m&&!v){var x=t.constructor,S=e.constructor;x!=S&&"constructor"in t&&"constructor"in e&&!(typeof x=="function"&&x instanceof x&&typeof S=="function"&&S instanceof S)&&(m=!1)}return s.delete(t),s.delete(e),m}var Dz=Fz,$z=$s,Bz=Pr,Nz=$z(Bz,"DataView"),Lz=Nz,Uz=$s,jz=Pr,zz=Uz(jz,"Promise"),Hz=zz,Gz=$s,Wz=Pr,Vz=Gz(Wz,"Set"),Xz=Vz,qz=$s,Yz=Pr,Kz=qz(Yz,"WeakMap"),Zz=Kz,uv=Lz,cv=Qy,hv=Hz,dv=Xz,fv=Zz,LA=Ds,Ea=RA,t_="[object Map]",Qz="[object Object]",n_="[object Promise]",r_="[object Set]",i_="[object WeakMap]",s_="[object DataView]",Jz=Ea(uv),e9=Ea(cv),t9=Ea(hv),n9=Ea(dv),r9=Ea(fv),qi=LA;(uv&&qi(new uv(new ArrayBuffer(1)))!=s_||cv&&qi(new cv)!=t_||hv&&qi(hv.resolve())!=n_||dv&&qi(new dv)!=r_||fv&&qi(new fv)!=i_)&&(qi=function(t){var e=LA(t),n=e==Qz?t.constructor:void 0,r=n?Ea(n):"";if(r)switch(r){case Jz:return s_;case e9:return t_;case t9:return n_;case n9:return r_;case r9:return i_}return e});var cf=qi,Dp=e1,i9=MA,s9=pz,o9=Dz,o_=cf,a_=ur,l_=ea,a9=SA,l9=1,u_="[object Arguments]",c_="[object Array]",xc="[object Object]",u9=Object.prototype,h_=u9.hasOwnProperty;function c9(t,e,n,r,i,s){var o=a_(t),a=a_(e),l=o?c_:o_(t),u=a?c_:o_(e);l=l==u_?xc:l,u=u==u_?xc:u;var c=l==xc,h=u==xc,d=l==u;if(d&&l_(t)){if(!l_(e))return!1;o=!0,c=!1}if(d&&!c)return s||(s=new Dp),o||a9(t)?i9(t,e,n,r,i,s):s9(t,e,l,n,r,i,s);if(!(n&l9)){var f=c&&h_.call(t,"__wrapped__"),p=h&&h_.call(e,"__wrapped__");if(f||p){var m=f?t.value():t,v=p?e.value():e;return s||(s=new Dp),i(m,v,n,r,s)}}return d?(s||(s=new Dp),o9(t,e,n,r,i,s)):!1}var h9=c9,d9=h9,d_=ni;function UA(t,e,n,r,i){return t===e?!0:t==null||e==null||!d_(t)&&!d_(e)?t!==t&&e!==e:d9(t,e,n,r,UA,i)}var jA=UA,f9=e1,p9=jA,m9=1,g9=2;function v9(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],u=t[l],c=a[1];if(o&&a[2]){if(u===void 0&&!(l in t))return!1}else{var h=new f9;if(r)var d=r(u,c,l,t,e,h);if(!(d===void 0?p9(c,u,m9|g9,r,h):d))return!1}}return!0}var y9=v9,b9=ya;function x9(t){return t===t&&!b9(t)}var zA=x9,w9=zA,_9=Lu;function E9(t){for(var e=_9(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,w9(i)]}return e}var S9=E9;function C9(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var HA=C9,T9=y9,A9=S9,P9=HA;function O9(t){var e=A9(t);return e.length==1&&e[0][2]?P9(e[0][0],e[0][1]):function(n){return n===t||T9(n,t,e)}}var I9=O9,k9=Ds,R9=ni,M9="[object Symbol]";function F9(t){return typeof t=="symbol"||R9(t)&&k9(t)==M9}var n1=F9,D9=ur,$9=n1,B9=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,N9=/^\w*$/;function L9(t,e){if(D9(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||$9(t)?!0:N9.test(t)||!B9.test(t)||e!=null&&t in Object(e)}var r1=L9,GA=Jy,U9="Expected a function";function i1(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(U9);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(i1.Cache||GA),n}i1.Cache=GA;var j9=i1,z9=j9,H9=500;function G9(t){var e=z9(t,function(r){return n.size===H9&&n.clear(),r}),n=e.cache;return e}var W9=G9,V9=W9,X9=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,q9=/\\(\\)?/g,Y9=V9(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(X9,function(n,r,i,s){e.push(i?s.replace(q9,"$1"):r||n)}),e}),K9=Y9,f_=Nu,Z9=kA,Q9=ur,J9=n1,eH=1/0,p_=f_?f_.prototype:void 0,m_=p_?p_.toString:void 0;function WA(t){if(typeof t=="string")return t;if(Q9(t))return Z9(t,WA)+"";if(J9(t))return m_?m_.call(t):"";var e=t+"";return e=="0"&&1/t==-eH?"-0":e}var tH=WA,nH=tH;function rH(t){return t==null?"":nH(t)}var iH=rH,sH=ur,oH=r1,aH=K9,lH=iH;function uH(t,e){return sH(t)?t:oH(t,e)?[t]:aH(lH(t))}var VA=uH,cH=n1,hH=1/0;function dH(t){if(typeof t=="string"||cH(t))return t;var e=t+"";return e=="0"&&1/t==-hH?"-0":e}var hf=dH,fH=VA,pH=hf;function mH(t,e){e=fH(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[pH(e[n++])];return n&&n==r?t:void 0}var XA=mH,gH=XA;function vH(t,e,n){var r=t==null?void 0:gH(t,e);return r===void 0?n:r}var yH=vH;function bH(t,e){return t!=null&&e in Object(t)}var xH=bH,wH=VA,_H=_A,EH=ur,SH=EA,CH=Vy,TH=hf;function AH(t,e,n){e=wH(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=TH(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&CH(i)&&SH(o,i)&&(EH(t)||_H(t)))}var PH=AH,OH=xH,IH=PH;function kH(t,e){return t!=null&&IH(t,e,OH)}var RH=kH,MH=jA,FH=yH,DH=RH,$H=r1,BH=zA,NH=HA,LH=hf,UH=1,jH=2;function zH(t,e){return $H(t)&&BH(e)?NH(LH(t),e):function(n){var r=FH(n,t);return r===void 0&&r===e?DH(n,t):MH(e,r,UH|jH)}}var HH=zH;function GH(t){return function(e){return e==null?void 0:e[t]}}var WH=GH,VH=XA;function XH(t){return function(e){return VH(e,t)}}var qH=XH,YH=WH,KH=qH,ZH=r1,QH=hf;function JH(t){return ZH(t)?YH(QH(t)):KH(t)}var eG=JH,tG=I9,nG=HH,rG=OA,iG=ur,sG=eG;function oG(t){return typeof t=="function"?t:t==null?rG:typeof t=="object"?iG(t)?nG(t[0],t[1]):tG(t):sG(t)}var aG=oG,lG=sf;function uG(t,e){return function(n,r){if(n==null)return n;if(!lG(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var cG=uG,hG=PA,dG=cG,fG=dG(hG),pG=fG,mG=pG,gG=sf;function vG(t,e){var n=-1,r=gG(t)?Array(t.length):[];return mG(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var yG=vG,bG=kA,xG=aG,wG=yG,_G=ur;function EG(t,e){var n=_G(t)?bG:wG;return n(t,xG(e))}var SG=EG;Object.defineProperty(Bu,"__esModule",{value:!0});Bu.flattenNames=void 0;var CG=ZL,TG=df(CG),AG=Yy,PG=df(AG),OG=s7,IG=df(OG),kG=SG,RG=df(kG);function df(t){return t&&t.__esModule?t:{default:t}}var MG=Bu.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,RG.default)(e,function(r){Array.isArray(r)?t(r).map(function(i){return n.push(i)}):(0,IG.default)(r)?(0,PG.default)(r,function(i,s){i===!0&&n.push(s),n.push(s+"-"+i)}):(0,TG.default)(r)&&n.push(r)}),n};Bu.default=MG;var Uu={};function FG(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var DG=FG,$G=$s,BG=function(){try{var t=$G(Object,"defineProperty");return t({},"",{}),t}catch{}}(),NG=BG,g_=NG;function LG(t,e,n){e=="__proto__"&&g_?g_(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var qA=LG,UG=qA,jG=Zy,zG=Object.prototype,HG=zG.hasOwnProperty;function GG(t,e,n){var r=t[e];(!(HG.call(t,e)&&jG(r,n))||n===void 0&&!(e in t))&&UG(t,e,n)}var YA=GG,WG=YA,VG=qA;function XG(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?VG(n,a,l):WG(n,a,l)}return n}var ff=XG,qG=ff,YG=Lu;function KG(t,e){return t&&qG(e,YG(e),t)}var ZG=KG;function QG(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var JG=QG,eW=ya,tW=qy,nW=JG,rW=Object.prototype,iW=rW.hasOwnProperty;function sW(t){if(!eW(t))return nW(t);var e=tW(t),n=[];for(var r in t)r=="constructor"&&(e||!iW.call(t,r))||n.push(r);return n}var oW=sW,aW=CA,lW=oW,uW=sf;function cW(t){return uW(t)?aW(t,!0):lW(t)}var s1=cW,hW=ff,dW=s1;function fW(t,e){return t&&hW(e,dW(e),t)}var pW=fW,sd={},mW={get exports(){return sd},set exports(t){sd=t}};(function(t,e){var n=Pr,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var h=u.length,d=a?a(h):new u.constructor(h);return u.copy(d),d}t.exports=l})(mW,sd);function gW(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var vW=gW,yW=ff,bW=t1;function xW(t,e){return yW(t,bW(t),e)}var wW=xW,_W=DA,EW=Ky,SW=t1,CW=BA,TW=Object.getOwnPropertySymbols,AW=TW?function(t){for(var e=[];t;)_W(e,SW(t)),t=EW(t);return e}:CW,KA=AW,PW=ff,OW=KA;function IW(t,e){return PW(t,OW(t),e)}var kW=IW,RW=$A,MW=KA,FW=s1;function DW(t){return RW(t,FW,MW)}var $W=DW,BW=Object.prototype,NW=BW.hasOwnProperty;function LW(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&NW.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var UW=LW,v_=FA;function jW(t){var e=new t.constructor(t.byteLength);return new v_(e).set(new v_(t)),e}var o1=jW,zW=o1;function HW(t,e){var n=e?zW(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var GW=HW,WW=/\w*$/;function VW(t){var e=new t.constructor(t.source,WW.exec(t));return e.lastIndex=t.lastIndex,e}var XW=VW,y_=Nu,b_=y_?y_.prototype:void 0,x_=b_?b_.valueOf:void 0;function qW(t){return x_?Object(x_.call(t)):{}}var YW=qW,KW=o1;function ZW(t,e){var n=e?KW(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var QW=ZW,JW=o1,eV=GW,tV=XW,nV=YW,rV=QW,iV="[object Boolean]",sV="[object Date]",oV="[object Map]",aV="[object Number]",lV="[object RegExp]",uV="[object Set]",cV="[object String]",hV="[object Symbol]",dV="[object ArrayBuffer]",fV="[object DataView]",pV="[object Float32Array]",mV="[object Float64Array]",gV="[object Int8Array]",vV="[object Int16Array]",yV="[object Int32Array]",bV="[object Uint8Array]",xV="[object Uint8ClampedArray]",wV="[object Uint16Array]",_V="[object Uint32Array]";function EV(t,e,n){var r=t.constructor;switch(e){case dV:return JW(t);case iV:case sV:return new r(+t);case fV:return eV(t,n);case pV:case mV:case gV:case vV:case yV:case bV:case xV:case wV:case _V:return rV(t,n);case oV:return new r;case aV:case cV:return new r(t);case lV:return tV(t);case uV:return new r;case hV:return nV(t)}}var SV=EV,CV=ya,w_=Object.create,TV=function(){function t(){}return function(e){if(!CV(e))return{};if(w_)return w_(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),AV=TV,PV=AV,OV=Ky,IV=qy;function kV(t){return typeof t.constructor=="function"&&!IV(t)?PV(OV(t)):{}}var RV=kV,MV=cf,FV=ni,DV="[object Map]";function $V(t){return FV(t)&&MV(t)==DV}var BV=$V,NV=BV,LV=Xy,__=ta,E_=__&&__.isMap,UV=E_?LV(E_):NV,jV=UV,zV=cf,HV=ni,GV="[object Set]";function WV(t){return HV(t)&&zV(t)==GV}var VV=WV,XV=VV,qV=Xy,S_=ta,C_=S_&&S_.isSet,YV=C_?qV(C_):XV,KV=YV,ZV=e1,QV=DG,JV=YA,eX=ZG,tX=pW,nX=sd,rX=vW,iX=wW,sX=kW,oX=NA,aX=$W,lX=cf,uX=UW,cX=SV,hX=RV,dX=ur,fX=ea,pX=jV,mX=ya,gX=KV,vX=Lu,yX=s1,bX=1,xX=2,wX=4,ZA="[object Arguments]",_X="[object Array]",EX="[object Boolean]",SX="[object Date]",CX="[object Error]",QA="[object Function]",TX="[object GeneratorFunction]",AX="[object Map]",PX="[object Number]",JA="[object Object]",OX="[object RegExp]",IX="[object Set]",kX="[object String]",RX="[object Symbol]",MX="[object WeakMap]",FX="[object ArrayBuffer]",DX="[object DataView]",$X="[object Float32Array]",BX="[object Float64Array]",NX="[object Int8Array]",LX="[object Int16Array]",UX="[object Int32Array]",jX="[object Uint8Array]",zX="[object Uint8ClampedArray]",HX="[object Uint16Array]",GX="[object Uint32Array]",De={};De[ZA]=De[_X]=De[FX]=De[DX]=De[EX]=De[SX]=De[$X]=De[BX]=De[NX]=De[LX]=De[UX]=De[AX]=De[PX]=De[JA]=De[OX]=De[IX]=De[kX]=De[RX]=De[jX]=De[zX]=De[HX]=De[GX]=!0;De[CX]=De[QA]=De[MX]=!1;function fh(t,e,n,r,i,s){var o,a=e&bX,l=e&xX,u=e&wX;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!mX(t))return t;var c=dX(t);if(c){if(o=uX(t),!a)return rX(t,o)}else{var h=lX(t),d=h==QA||h==TX;if(fX(t))return nX(t,a);if(h==JA||h==ZA||d&&!i){if(o=l||d?{}:hX(t),!a)return l?sX(t,tX(o,t)):iX(t,eX(o,t))}else{if(!De[h])return i?t:{};o=cX(t,h,a)}}s||(s=new ZV);var f=s.get(t);if(f)return f;s.set(t,o),gX(t)?t.forEach(function(v){o.add(fh(v,e,n,v,t,s))}):pX(t)&&t.forEach(function(v,g){o.set(g,fh(v,e,n,g,t,s))});var p=u?l?aX:oX:l?yX:vX,m=c?void 0:p(t);return QV(m||t,function(v,g){m&&(g=v,v=t[g]),JV(o,g,fh(v,e,n,g,t,s))}),o}var WX=fh,VX=WX,XX=1,qX=4;function YX(t){return VX(t,XX|qX)}var KX=YX;Object.defineProperty(Uu,"__esModule",{value:!0});Uu.mergeClasses=void 0;var ZX=Yy,QX=eP(ZX),JX=KX,eq=eP(JX),tq=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function eP(t){return t&&t.__esModule?t:{default:t}}var nq=Uu.mergeClasses=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,eq.default)(e.default)||{};return n.map(function(i){var s=e[i];return s&&(0,QX.default)(s,function(o,a){r[a]||(r[a]={}),r[a]=tq({},r[a],s[a])}),i}),r};Uu.default=nq;var ju={};Object.defineProperty(ju,"__esModule",{value:!0});ju.autoprefix=void 0;var rq=Yy,T_=sq(rq),iq=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function sq(t){return t&&t.__esModule?t:{default:t}}var oq={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var n=e&&e.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(e,n){var r=n[e];return r||{extend:e}}},aq=ju.autoprefix=function(e){var n={};return(0,T_.default)(e,function(r,i){var s={};(0,T_.default)(r,function(o,a){var l=oq[a];l?s=iq({},s,l(o)):s[a]=o}),n[i]=s}),n};ju.default=aq;var zu={};Object.defineProperty(zu,"__esModule",{value:!0});zu.hover=void 0;var lq=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uq=w,$p=cq(uq);function cq(t){return t&&t.__esModule?t:{default:t}}function hq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A_(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function dq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var fq=zu.hover=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){dq(i,r);function i(){var s,o,a,l;hq(this,i);for(var u=arguments.length,c=Array(u),h=0;h<u;h++)c[h]=arguments[h];return l=(o=(a=A_(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(c))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return $p.default.createElement(n,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},$p.default.createElement(e,lq({},a.props,a.state)))},o),A_(a,l)}return i}($p.default.Component)};zu.default=fq;var Hu={};Object.defineProperty(Hu,"__esModule",{value:!0});Hu.active=void 0;var pq=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mq=w,Bp=gq(mq);function gq(t){return t&&t.__esModule?t:{default:t}}function vq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P_(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function yq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var bq=Hu.active=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){yq(i,r);function i(){var s,o,a,l;vq(this,i);for(var u=arguments.length,c=Array(u),h=0;h<u;h++)c[h]=arguments[h];return l=(o=(a=P_(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(c))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return Bp.default.createElement(n,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},Bp.default.createElement(e,pq({},a.props,a.state)))},o),P_(a,l)}return i}(Bp.default.Component)};Hu.default=bq;var a1={};Object.defineProperty(a1,"__esModule",{value:!0});var xq=function(e,n){var r={},i=function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[o]=a};return e===0&&i("first-child"),e===n-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),r};a1.default=xq;Object.defineProperty(An,"__esModule",{value:!0});An.ReactCSS=An.loop=An.handleActive=l1=An.handleHover=An.hover=void 0;var wq=Bu,_q=Sa(wq),Eq=Uu,Sq=Sa(Eq),Cq=ju,Tq=Sa(Cq),Aq=zu,tP=Sa(Aq),Pq=Hu,Oq=Sa(Pq),Iq=a1,kq=Sa(Iq);function Sa(t){return t&&t.__esModule?t:{default:t}}An.hover=tP.default;var l1=An.handleHover=tP.default;An.handleActive=Oq.default;An.loop=kq.default;var Rq=An.ReactCSS=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=(0,_q.default)(r),o=(0,Sq.default)(e,s);return(0,Tq.default)(o)},he=An.default=Rq,Mq=function(e,n,r,i,s){var o=s.clientWidth,a=s.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,u=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=l-(s.getBoundingClientRect().left+window.pageXOffset),h=u-(s.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var d=void 0;if(h<0?d=0:h>a?d=1:d=Math.round(h*100/a)/100,n.a!==d)return{h:n.h,s:n.s,l:n.l,a:d,source:"rgb"}}else{var f=void 0;if(c<0?f=0:c>o?f=1:f=Math.round(c*100/o)/100,i!==f)return{h:n.h,s:n.s,l:n.l,a:f,source:"rgb"}}return null},Np={},Fq=function(e,n,r,i){if(typeof document>"u"&&!i)return null;var s=i?new i:document.createElement("canvas");s.width=r*2,s.height=r*2;var o=s.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,s.width,s.height),o.fillStyle=n,o.fillRect(0,0,r,r),o.translate(r,r),o.fillRect(0,0,r,r),s.toDataURL()):null},Dq=function(e,n,r,i){var s=e+"-"+n+"-"+r+(i?"-server":"");if(Np[s])return Np[s];var o=Fq(e,n,r,i);return Np[s]=o,o},O_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ca=function(e){var n=e.white,r=e.grey,i=e.size,s=e.renderers,o=e.borderRadius,a=e.boxShadow,l=e.children,u=he({default:{grid:{borderRadius:o,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+Dq(n,r,i,s.canvas)+") center left"}}});return w.isValidElement(l)?_.cloneElement(l,O_({},l.props,{style:O_({},l.props.style,u.grid)})):_.createElement("div",{style:u.grid})};Ca.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var $q=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bq=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Nq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I_(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Lq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u1=function(t){Lq(e,t);function e(){var n,r,i,s;Nq(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=I_(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(u){var c=Mq(u,i.props.hsl,i.props.direction,i.props.a,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),I_(i,s)}return Bq(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,s=he({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:$q({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return _.createElement("div",{style:s.alpha},_.createElement("div",{style:s.checkboard},_.createElement(Ca,{renderers:this.props.renderers})),_.createElement("div",{style:s.gradient}),_.createElement("div",{style:s.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},_.createElement("div",{style:s.pointer},this.props.pointer?_.createElement(this.props.pointer,this.props):_.createElement("div",{style:s.slider}))))}}]),e}(w.PureComponent||w.Component),Uq=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function jq(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hq(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Gq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Wq=1,nP=38,Vq=40,Xq=[nP,Vq],qq=function(e){return Xq.indexOf(e)>-1},Yq=function(e){return Number(String(e).replace(/%/g,""))},Kq=1,xe=function(t){Gq(e,t);function e(n){zq(this,e);var r=Hq(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var s=Yq(i.target.value);if(!isNaN(s)&&qq(i.keyCode)){var o=r.getArrowOffset(),a=i.keyCode===nP?s+o:s-o;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var s=Math.round(r.props.value+i.movementX);s>=0&&s<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(s),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+Kq++,r}return Uq(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return jq({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||Wq}},{key:"setUpdatedValue",value:function(r,i){var s=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(s,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=he({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return _.createElement("div",{style:i.wrap},_.createElement("input",{id:this.inputId,style:i.input,ref:function(o){return r.input=o},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?_.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(w.PureComponent||w.Component),Zq=function(e,n,r,i){var s=i.clientWidth,o=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(i.getBoundingClientRect().left+window.pageXOffset),c=l-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var h=void 0;if(c<0)h=359;else if(c>o)h=0;else{var d=-(c*100/o)+100;h=360*d/100}if(r.h!==h)return{h,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var f=void 0;if(u<0)f=0;else if(u>s)f=359;else{var p=u*100/s;f=360*p/100}if(r.h!==f)return{h:f,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},Qq=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Jq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k_(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function eY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ta=function(t){eY(e,t);function e(){var n,r,i,s;Jq(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=k_(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(u){var c=Zq(u,i.props.direction,i.props.hsl,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),k_(i,s)}return Qq(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,s=i===void 0?"horizontal":i,o=he({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:s==="vertical"});return _.createElement("div",{style:o.hue},_.createElement("div",{className:"hue-"+s,style:o.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},_.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),_.createElement("div",{style:o.pointer},this.props.pointer?_.createElement(this.props.pointer,this.props):_.createElement("div",{style:o.slider}))))}}]),e}(w.PureComponent||w.Component),Gu=function(e){var n=e.zDepth,r=e.radius,i=e.background,s=e.children,o=e.styles,a=o===void 0?{}:o,l=he(Yt({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":n===1});return _.createElement("div",{style:l.wrap},_.createElement("div",{style:l.bg}),_.createElement("div",{style:l.content},s))};Gu.propTypes={background:O.string,zDepth:O.oneOf([0,1,2,3,4,5]),radius:O.number,styles:O.object};Gu.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var tY=function(e,n,r){var i=r.getBoundingClientRect(),s=i.width,o=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(r.getBoundingClientRect().left+window.pageXOffset),c=l-(r.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>s&&(u=s),c<0?c=0:c>o&&(c=o);var h=u/s,d=1-c/o;return{h:n.h,s:h,v:d,a:n.a,source:"hsv"}},nY=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function rY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iY(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function sY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var pf=function(t){sY(e,t);function e(n){rY(this,e);var r=iY(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,tY(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var s=r.getContainerRenderWindow();s.addEventListener("mousemove",r.handleChange),s.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=bB(function(i,s,o){i(s,o)},50),r}return nY(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},s=i.color,o=i.white,a=i.black,l=i.pointer,u=i.circle,c=he({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:s,white:o,black:a,pointer:l,circle:u}},{custom:!!this.props.style});return _.createElement("div",{style:c.color,ref:function(d){return r.container=d},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},_.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),_.createElement("div",{style:c.white,className:"saturation-white"},_.createElement("div",{style:c.black,className:"saturation-black"}),_.createElement("div",{style:c.pointer},this.props.pointer?_.createElement(this.props.pointer,this.props):_.createElement("div",{style:c.circle}))))}}]),e}(w.PureComponent||w.Component);function od(t){return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}var oY=/^\s+/,aY=/\s+$/;function ie(t,e){if(t=t||"",e=e||{},t instanceof ie)return t;if(!(this instanceof ie))return new ie(t,e);var n=lY(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}ie.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,s,o,a;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(e){return this._a=rP(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=M_(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=M_(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=R_(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=R_(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return F_(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return dY(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Ge(this._r,255)*100)+"%",g:Math.round(Ge(this._g,255)*100)+"%",b:Math.round(Ge(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Ge(this._r,255)*100)+"%, "+Math.round(Ge(this._g,255)*100)+"%, "+Math.round(Ge(this._b,255)*100)+"%)":"rgba("+Math.round(Ge(this._r,255)*100)+"%, "+Math.round(Ge(this._g,255)*100)+"%, "+Math.round(Ge(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:SY[F_(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+D_(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=ie(e);r="#"+D_(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return ie(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(gY,arguments)},brighten:function(){return this._applyModification(vY,arguments)},darken:function(){return this._applyModification(yY,arguments)},desaturate:function(){return this._applyModification(fY,arguments)},saturate:function(){return this._applyModification(pY,arguments)},greyscale:function(){return this._applyModification(mY,arguments)},spin:function(){return this._applyModification(bY,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(_Y,arguments)},complement:function(){return this._applyCombination(xY,arguments)},monochromatic:function(){return this._applyCombination(EY,arguments)},splitcomplement:function(){return this._applyCombination(wY,arguments)},triad:function(){return this._applyCombination($_,[3])},tetrad:function(){return this._applyCombination($_,[4])}};ie.fromRatio=function(t,e){if(od(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=sl(t[r]));t=n}return ie(t,e)};function lY(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,o=!1,a=!1;return typeof t=="string"&&(t=PY(t)),od(t)=="object"&&(Ir(t.r)&&Ir(t.g)&&Ir(t.b)?(e=uY(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Ir(t.h)&&Ir(t.s)&&Ir(t.v)?(r=sl(t.s),i=sl(t.v),e=hY(t.h,r,i),o=!0,a="hsv"):Ir(t.h)&&Ir(t.s)&&Ir(t.l)&&(r=sl(t.s),s=sl(t.l),e=cY(t.h,r,s),o=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=rP(n),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function uY(t,e,n){return{r:Ge(t,255)*255,g:Ge(e,255)*255,b:Ge(n,255)*255}}function R_(t,e,n){t=Ge(t,255),e=Ge(e,255),n=Ge(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=(r+i)/2;if(r==i)s=o=0;else{var l=r-i;switch(o=a>.5?l/(2-r-i):l/(r+i),r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,l:a}}function cY(t,e,n){var r,i,s;t=Ge(t,360),e=Ge(e,100),n=Ge(n,100);function o(u,c,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?u+(c-u)*6*h:h<1/2?c:h<2/3?u+(c-u)*(2/3-h)*6:u}if(e===0)r=i=s=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=o(l,a,t+1/3),i=o(l,a,t),s=o(l,a,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function M_(t,e,n){t=Ge(t,255),e=Ge(e,255),n=Ge(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=r,l=r-i;if(o=r===0?0:l/r,r==i)s=0;else{switch(r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,v:a}}function hY(t,e,n){t=Ge(t,360)*6,e=Ge(e,100),n=Ge(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),o=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,u=[n,o,s,s,a,n][l],c=[a,n,n,o,s,s][l],h=[s,s,a,n,n,o][l];return{r:u*255,g:c*255,b:h*255}}function F_(t,e,n,r){var i=[Kn(Math.round(t).toString(16)),Kn(Math.round(e).toString(16)),Kn(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function dY(t,e,n,r,i){var s=[Kn(Math.round(t).toString(16)),Kn(Math.round(e).toString(16)),Kn(Math.round(n).toString(16)),Kn(iP(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function D_(t,e,n,r){var i=[Kn(iP(r)),Kn(Math.round(t).toString(16)),Kn(Math.round(e).toString(16)),Kn(Math.round(n).toString(16))];return i.join("")}ie.equals=function(t,e){return!t||!e?!1:ie(t).toRgbString()==ie(e).toRgbString()};ie.random=function(){return ie.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function fY(t,e){e=e===0?0:e||10;var n=ie(t).toHsl();return n.s-=e/100,n.s=mf(n.s),ie(n)}function pY(t,e){e=e===0?0:e||10;var n=ie(t).toHsl();return n.s+=e/100,n.s=mf(n.s),ie(n)}function mY(t){return ie(t).desaturate(100)}function gY(t,e){e=e===0?0:e||10;var n=ie(t).toHsl();return n.l+=e/100,n.l=mf(n.l),ie(n)}function vY(t,e){e=e===0?0:e||10;var n=ie(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),ie(n)}function yY(t,e){e=e===0?0:e||10;var n=ie(t).toHsl();return n.l-=e/100,n.l=mf(n.l),ie(n)}function bY(t,e){var n=ie(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,ie(n)}function xY(t){var e=ie(t).toHsl();return e.h=(e.h+180)%360,ie(e)}function $_(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=ie(t).toHsl(),r=[ie(t)],i=360/e,s=1;s<e;s++)r.push(ie({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function wY(t){var e=ie(t).toHsl(),n=e.h;return[ie(t),ie({h:(n+72)%360,s:e.s,l:e.l}),ie({h:(n+216)%360,s:e.s,l:e.l})]}function _Y(t,e,n){e=e||6,n=n||30;var r=ie(t).toHsl(),i=360/n,s=[ie(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(ie(r));return s}function EY(t,e){e=e||6;for(var n=ie(t).toHsv(),r=n.h,i=n.s,s=n.v,o=[],a=1/e;e--;)o.push(ie({h:r,s:i,v:s})),s=(s+a)%1;return o}ie.mix=function(t,e,n){n=n===0?0:n||50;var r=ie(t).toRgb(),i=ie(e).toRgb(),s=n/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return ie(o)};ie.readability=function(t,e){var n=ie(t),r=ie(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};ie.isReadable=function(t,e,n){var r=ie.readability(t,e),i,s;switch(s=!1,i=OY(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};ie.mostReadable=function(t,e,n){var r=null,i=0,s,o,a,l;n=n||{},o=n.includeFallbackColors,a=n.level,l=n.size;for(var u=0;u<e.length;u++)s=ie.readability(t,e[u]),s>i&&(i=s,r=ie(e[u]));return ie.isReadable(t,r,{level:a,size:l})||!o?r:(n.includeFallbackColors=!1,ie.mostReadable(t,["#fff","#000"],n))};var pv=ie.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},SY=ie.hexNames=CY(pv);function CY(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function rP(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Ge(t,e){TY(t)&&(t="100%");var n=AY(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function mf(t){return Math.min(1,Math.max(0,t))}function Qt(t){return parseInt(t,16)}function TY(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function AY(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Kn(t){return t.length==1?"0"+t:""+t}function sl(t){return t<=1&&(t=t*100+"%"),t}function iP(t){return Math.round(parseFloat(t)*255).toString(16)}function B_(t){return Qt(t)/255}var Hn=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Ir(t){return!!Hn.CSS_UNIT.exec(t)}function PY(t){t=t.replace(oY,"").replace(aY,"").toLowerCase();var e=!1;if(pv[t])t=pv[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Hn.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=Hn.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Hn.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=Hn.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Hn.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=Hn.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Hn.hex8.exec(t))?{r:Qt(n[1]),g:Qt(n[2]),b:Qt(n[3]),a:B_(n[4]),format:e?"name":"hex8"}:(n=Hn.hex6.exec(t))?{r:Qt(n[1]),g:Qt(n[2]),b:Qt(n[3]),format:e?"name":"hex"}:(n=Hn.hex4.exec(t))?{r:Qt(n[1]+""+n[1]),g:Qt(n[2]+""+n[2]),b:Qt(n[3]+""+n[3]),a:B_(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=Hn.hex3.exec(t))?{r:Qt(n[1]+""+n[1]),g:Qt(n[2]+""+n[2]),b:Qt(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function OY(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var N_=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return Me(n,function(s){if(e[s]&&(r+=1,isNaN(e[s])||(i+=1),s==="s"||s==="l")){var o=/^\d+%$/;o.test(e[s])&&(i+=1)}}),r===i?e:!1},ol=function(e,n){var r=e.hex?ie(e.hex):ie(e),i=r.toHsl(),s=r.toHsv(),o=r.toRgb(),a=r.toHex();i.s===0&&(i.h=n||0,s.h=n||0);var l=a==="000000"&&o.a===0;return{hsl:i,hex:l?"transparent":"#"+a,rgb:o,hsv:s,oldHue:e.h||n||i.h,source:e.source}},Ni=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&ie(e).isValid()},c1=function(e){if(!e)return"#fff";var n=ol(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},Lp=function(e,n){var r=e.replace("","");return ie(n+" ("+r+")")._ok},ja=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IY=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function kY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RY(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function MY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Kt=function(e){var n=function(r){MY(i,r);function i(s){kY(this,i);var o=RY(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return o.handleChange=function(a,l){var u=N_(a);if(u){var c=ol(a,a.h||o.state.oldHue);o.setState(c),o.props.onChangeComplete&&o.debounce(o.props.onChangeComplete,c,l),o.props.onChange&&o.props.onChange(c,l)}},o.handleSwatchHover=function(a,l){var u=N_(a);if(u){var c=ol(a,a.h||o.state.oldHue);o.props.onSwatchHover&&o.props.onSwatchHover(c,l)}},o.state=ja({},ol(s.color,0)),o.debounce=QT(function(a,l,u){a(l,u)},100),o}return IY(i,[{key:"render",value:function(){var o={};return this.props.onSwatchHover&&(o.onSwatchHover=this.handleSwatchHover),_.createElement(e,ja({},this.props,this.state,{onChange:this.handleChange},o))}}],[{key:"getDerivedStateFromProps",value:function(o,a){return ja({},ol(o.color,a.oldHue))}}]),i}(w.PureComponent||w.Component);return n.propTypes=ja({},e.propTypes),n.defaultProps=ja({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},FY=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DY=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function $Y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L_(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function BY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var NY=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){BY(i,r);function i(){var s,o,a,l;$Y(this,i);for(var u=arguments.length,c=Array(u),h=0;h<u;h++)c[h]=arguments[h];return l=(o=(a=L_(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(c))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},o),L_(a,l)}return DY(i,[{key:"render",value:function(){return _.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},_.createElement(e,FY({},this.props,this.state)))}}]),i}(_.Component)},U_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LY=13,UY=function(e){var n=e.color,r=e.style,i=e.onClick,s=i===void 0?function(){}:i,o=e.onHover,a=e.title,l=a===void 0?n:a,u=e.children,c=e.focus,h=e.focusStyle,d=h===void 0?{}:h,f=n==="transparent",p=he({default:{swatch:U_({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,c?d:{})}}),m=function(x){return s(n,x)},v=function(x){return x.keyCode===LY&&s(n,x)},g=function(x){return o(n,x)},b={};return o&&(b.onMouseOver=g),_.createElement("div",U_({style:p.swatch,onClick:m,title:l,tabIndex:0,onKeyDown:v},b),u,f&&_.createElement(Ca,{borderRadius:p.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const Bs=NY(UY);var jY=function(e){var n=e.direction,r=he({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return _.createElement("div",{style:r.picker})},zY=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sP=function(e){var n=e.rgb,r=e.hsl,i=e.width,s=e.height,o=e.onChange,a=e.direction,l=e.style,u=e.renderers,c=e.pointer,h=e.className,d=h===void 0?"":h,f=he({default:{picker:{position:"relative",width:i,height:s},alpha:{radius:"2px",style:l}}});return _.createElement("div",{style:f.picker,className:"alpha-picker "+d},_.createElement(u1,zY({},f.alpha,{rgb:n,hsl:r,pointer:c,renderers:u,onChange:o,direction:a})))};sP.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:jY};Kt(sP);var HY=function(e){var n=e.colors,r=e.onClick,i=e.onSwatchHover,s=he({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return _.createElement("div",{style:s.swatches},pe(n,function(o){return _.createElement(Bs,{key:o,color:o,style:s.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+o}})}),_.createElement("div",{style:s.clear}))},h1=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,h=c===void 0?"":c,d=i==="transparent",f=function(v,g){Ni(v)&&n({hex:v,source:"hex"},g)},p=he(Yt({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:c1(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},u),{"hide-triangle":a==="hide"});return _.createElement("div",{style:p.card,className:"block-picker "+h},_.createElement("div",{style:p.triangle}),_.createElement("div",{style:p.head},d&&_.createElement(Ca,{borderRadius:"6px 6px 0 0"}),_.createElement("div",{style:p.label},i)),_.createElement("div",{style:p.body},_.createElement(HY,{colors:s,onClick:f,onSwatchHover:r}),_.createElement(xe,{style:{input:p.input},value:i,onChange:f})))};h1.propTypes={width:O.oneOfType([O.string,O.number]),colors:O.arrayOf(O.string),triangle:O.oneOf(["top","hide"]),styles:O.object};h1.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};Kt(h1);var Ys={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},Ks={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},Zs={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},Qs={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},Js={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},eo={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},to={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},no={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},ro={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},al={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},io={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},so={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},oo={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},ao={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},lo={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},uo={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},co={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},ho={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},oP=function(e){var n=e.color,r=e.onClick,i=e.onSwatchHover,s=e.hover,o=e.active,a=e.circleSize,l=e.circleSpacing,u=he({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:s,active:o});return _.createElement("div",{style:u.swatch},_.createElement(Bs,{style:u.Swatch,color:n,onClick:r,onHover:i,focusStyle:{boxShadow:u.Swatch.boxShadow+", 0 0 5px "+n}}))};oP.defaultProps={circleSize:28,circleSpacing:14};const GY=l1(oP);var d1=function(e){var n=e.width,r=e.onChange,i=e.onSwatchHover,s=e.colors,o=e.hex,a=e.circleSize,l=e.styles,u=l===void 0?{}:l,c=e.circleSpacing,h=e.className,d=h===void 0?"":h,f=he(Yt({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-c,marginBottom:-c}}},u)),p=function(v,g){return r({hex:v,source:"hex"},g)};return _.createElement("div",{style:f.card,className:"circle-picker "+d},pe(s,function(m){return _.createElement(GY,{key:m,color:m,onClick:p,onSwatchHover:i,active:o===m.toLowerCase(),circleSize:a,circleSpacing:c})}))};d1.propTypes={width:O.oneOfType([O.string,O.number]),circleSize:O.number,circleSpacing:O.number,styles:O.object};d1.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Ys[500],Ks[500],Zs[500],Qs[500],Js[500],eo[500],to[500],no[500],ro[500],al[500],io[500],so[500],oo[500],ao[500],lo[500],uo[500],co[500],ho[500]],styles:{}};Kt(d1);var aP={};Object.defineProperty(aP,"__esModule",{value:!0});var j_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WY=w,z_=VY(WY);function VY(t){return t&&t.__esModule?t:{default:t}}function XY(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var wc=24,qY=aP.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?wc:r,s=t.height,o=s===void 0?wc:s,a=t.style,l=a===void 0?{}:a,u=XY(t,["fill","width","height","style"]);return z_.default.createElement("svg",j_({viewBox:"0 0 "+wc+" "+wc,style:j_({fill:n,width:i,height:o},l)},u),z_.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},YY=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function KY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZY(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function QY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var lP=function(t){QY(e,t);function e(n){KY(this,e);var r=ZY(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,s){i.hex?Ni(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},s):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},s):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},s)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(Tn(i.s)?r.props.hsl.s:i.s),l:Number(Tn(i.l)?r.props.hsl.l:i.l),source:"hsl"},s))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return YY(e,[{key:"render",value:function(){var r=this,i=he({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),s=void 0;return this.state.view==="hex"?s=_.createElement("div",{style:i.fields,className:"flexbox-fix"},_.createElement("div",{style:i.field},_.createElement(xe,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?s=_.createElement("div",{style:i.fields,className:"flexbox-fix"},_.createElement("div",{style:i.field},_.createElement(xe,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),_.createElement("div",{style:i.field},_.createElement(xe,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),_.createElement("div",{style:i.field},_.createElement(xe,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),_.createElement("div",{style:i.alpha},_.createElement(xe,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(s=_.createElement("div",{style:i.fields,className:"flexbox-fix"},_.createElement("div",{style:i.field},_.createElement(xe,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),_.createElement("div",{style:i.field},_.createElement(xe,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),_.createElement("div",{style:i.field},_.createElement(xe,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),_.createElement("div",{style:i.alpha},_.createElement(xe,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),_.createElement("div",{style:i.wrap,className:"flexbox-fix"},s,_.createElement("div",{style:i.toggle},_.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},_.createElement(qY,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(_.Component);lP.defaultProps={view:"hex"};var H_=function(){var e=he({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return _.createElement("div",{style:e.picker})},JY=function(){var e=he({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return _.createElement("div",{style:e.picker})},f1=function(e){var n=e.width,r=e.onChange,i=e.disableAlpha,s=e.rgb,o=e.hsl,a=e.hsv,l=e.hex,u=e.renderers,c=e.styles,h=c===void 0?{}:c,d=e.className,f=d===void 0?"":d,p=e.defaultView,m=he(Yt({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+s.r+", "+s.g+", "+s.b+", "+s.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},h),{disableAlpha:i});return _.createElement("div",{style:m.picker,className:"chrome-picker "+f},_.createElement("div",{style:m.saturation},_.createElement(pf,{style:m.Saturation,hsl:o,hsv:a,pointer:JY,onChange:r})),_.createElement("div",{style:m.body},_.createElement("div",{style:m.controls,className:"flexbox-fix"},_.createElement("div",{style:m.color},_.createElement("div",{style:m.swatch},_.createElement("div",{style:m.active}),_.createElement(Ca,{renderers:u}))),_.createElement("div",{style:m.toggles},_.createElement("div",{style:m.hue},_.createElement(Ta,{style:m.Hue,hsl:o,pointer:H_,onChange:r})),_.createElement("div",{style:m.alpha},_.createElement(u1,{style:m.Alpha,rgb:s,hsl:o,pointer:H_,renderers:u,onChange:r})))),_.createElement(lP,{rgb:s,hsl:o,hex:l,view:p,onChange:r,disableAlpha:i})))};f1.propTypes={width:O.oneOfType([O.string,O.number]),disableAlpha:O.bool,styles:O.object,defaultView:O.oneOf(["hex","rgb","hsl"])};f1.defaultProps={width:225,disableAlpha:!1,styles:{}};const eK=Kt(f1);var tK=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.active,a=he({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:c1(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return _.createElement(Bs,{style:a.color,color:n,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n}},_.createElement("div",{style:a.dot}))},nK=function(e){var n=e.hex,r=e.rgb,i=e.onChange,s=he({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(l,u){l.r||l.g||l.b?i({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},u):i({hex:l.hex,source:"hex"},u)};return _.createElement("div",{style:s.fields,className:"flexbox-fix"},_.createElement("div",{style:s.active}),_.createElement(xe,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:n,onChange:o}),_.createElement(xe,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:o}),_.createElement(xe,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:o}),_.createElement(xe,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:o}))},p1=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.colors,s=e.hex,o=e.rgb,a=e.styles,l=a===void 0?{}:a,u=e.className,c=u===void 0?"":u,h=he(Yt({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),d=function(p,m){p.hex?Ni(p.hex)&&n({hex:p.hex,source:"hex"},m):n(p,m)};return _.createElement(Gu,{style:h.Compact,styles:l},_.createElement("div",{style:h.compact,className:"compact-picker "+c},_.createElement("div",null,pe(i,function(f){return _.createElement(tK,{key:f,color:f,active:f.toLowerCase()===s,onClick:d,onSwatchHover:r})}),_.createElement("div",{style:h.clear})),_.createElement(nK,{hex:s,rgb:o,onChange:d})))};p1.propTypes={colors:O.arrayOf(O.string),styles:O.object};p1.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};Kt(p1);var rK=function(e){var n=e.hover,r=e.color,i=e.onClick,s=e.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=he({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:n});return _.createElement("div",{style:a.swatch},_.createElement(Bs,{color:r,onClick:i,onHover:s,focusStyle:o}))};const iK=l1(rK);var m1=function(e){var n=e.width,r=e.colors,i=e.onChange,s=e.onSwatchHover,o=e.triangle,a=e.styles,l=a===void 0?{}:a,u=e.className,c=u===void 0?"":u,h=he(Yt({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":o==="hide","top-left-triangle":o==="top-left","top-right-triangle":o==="top-right","bottom-left-triangle":o==="bottom-left","bottom-right-triangle":o==="bottom-right"}),d=function(p,m){return i({hex:p,source:"hex"},m)};return _.createElement("div",{style:h.card,className:"github-picker "+c},_.createElement("div",{style:h.triangleShadow}),_.createElement("div",{style:h.triangle}),pe(r,function(f){return _.createElement(iK,{color:f,key:f,onClick:d,onSwatchHover:s})}))};m1.propTypes={width:O.oneOfType([O.string,O.number]),colors:O.arrayOf(O.string),triangle:O.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:O.object};m1.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};Kt(m1);var sK=function(e){var n=e.direction,r=he({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return _.createElement("div",{style:r.picker})},oK=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g1=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.hsl,o=e.direction,a=e.pointer,l=e.styles,u=l===void 0?{}:l,c=e.className,h=c===void 0?"":c,d=he(Yt({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},u)),f=function(m){return i({a:1,h:m.h,l:.5,s:1})};return _.createElement("div",{style:d.picker,className:"hue-picker "+h},_.createElement(Ta,oK({},d.hue,{hsl:s,pointer:a,onChange:f,direction:o})))};g1.propTypes={styles:O.object};g1.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:sK,styles:{}};Kt(g1);var aK=function(e){var n=e.onChange,r=e.hex,i=e.rgb,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,u=he(Yt({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},o)),c=function(d,f){d.hex?Ni(d.hex)&&n({hex:d.hex,source:"hex"},f):(d.r||d.g||d.b)&&n({r:d.r||i.r,g:d.g||i.g,b:d.b||i.b,source:"rgb"},f)};return _.createElement(Gu,{styles:o},_.createElement("div",{style:u.material,className:"material-picker "+l},_.createElement(xe,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"hex",value:r,onChange:c}),_.createElement("div",{style:u.split,className:"flexbox-fix"},_.createElement("div",{style:u.third},_.createElement(xe,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:i.r,onChange:c})),_.createElement("div",{style:u.third},_.createElement(xe,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:i.g,onChange:c})),_.createElement("div",{style:u.third},_.createElement(xe,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:i.b,onChange:c})))))};Kt(aK);var lK=function(e){var n=e.onChange,r=e.rgb,i=e.hsv,s=e.hex,o=he({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(u,c){u["#"]?Ni(u["#"])&&n({hex:u["#"],source:"hex"},c):u.r||u.g||u.b?n({r:u.r||r.r,g:u.g||r.g,b:u.b||r.b,source:"rgb"},c):(u.h||u.s||u.v)&&n({h:u.h||i.h,s:u.s||i.s,v:u.v||i.v,source:"hsv"},c)};return _.createElement("div",{style:o.fields},_.createElement(xe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(i.h),onChange:a}),_.createElement(xe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:a}),_.createElement(xe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:a}),_.createElement("div",{style:o.divider}),_.createElement(xe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:a}),_.createElement(xe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:a}),_.createElement(xe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:a}),_.createElement("div",{style:o.divider}),_.createElement(xe,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:s.replace("#",""),onChange:a}),_.createElement("div",{style:o.fieldSymbols},_.createElement("div",{style:o.symbol},""),_.createElement("div",{style:o.symbol},"%"),_.createElement("div",{style:o.symbol},"%")))},uK=function(e){var n=e.hsl,r=he({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return _.createElement("div",{style:r.picker})},cK=function(){var e=he({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return _.createElement("div",{style:e.pointer},_.createElement("div",{style:e.left},_.createElement("div",{style:e.leftInside})),_.createElement("div",{style:e.right},_.createElement("div",{style:e.rightInside})))},G_=function(e){var n=e.onClick,r=e.label,i=e.children,s=e.active,o=he({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:s});return _.createElement("div",{style:o.button,onClick:n},r||i)},hK=function(e){var n=e.rgb,r=e.currentColor,i=he({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return _.createElement("div",null,_.createElement("div",{style:i.label},"new"),_.createElement("div",{style:i.swatches},_.createElement("div",{style:i.new}),_.createElement("div",{style:i.current})),_.createElement("div",{style:i.label},"current"))},dK=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function fK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pK(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function mK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v1=function(t){mK(e,t);function e(n){fK(this,e);var r=pK(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:n.hex},r}return dK(e,[{key:"render",value:function(){var r=this.props,i=r.styles,s=i===void 0?{}:i,o=r.className,a=o===void 0?"":o,l=he(Yt({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},s));return _.createElement("div",{style:l.picker,className:"photoshop-picker "+a},_.createElement("div",{style:l.head},this.props.header),_.createElement("div",{style:l.body,className:"flexbox-fix"},_.createElement("div",{style:l.saturation},_.createElement(pf,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:uK,onChange:this.props.onChange})),_.createElement("div",{style:l.hue},_.createElement(Ta,{direction:"vertical",hsl:this.props.hsl,pointer:cK,onChange:this.props.onChange})),_.createElement("div",{style:l.controls},_.createElement("div",{style:l.top,className:"flexbox-fix"},_.createElement("div",{style:l.previews},_.createElement(hK,{rgb:this.props.rgb,currentColor:this.state.currentColor})),_.createElement("div",{style:l.actions},_.createElement(G_,{label:"OK",onClick:this.props.onAccept,active:!0}),_.createElement(G_,{label:"Cancel",onClick:this.props.onCancel}),_.createElement(lK,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(_.Component);v1.propTypes={header:O.string,styles:O.object};v1.defaultProps={header:"Color Picker",styles:{}};Kt(v1);var gK=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.disableAlpha,a=he({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),l=function(c,h){c.hex?Ni(c.hex)&&n({hex:c.hex,source:"hex"},h):c.r||c.g||c.b?n({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,a:r.a,source:"rgb"},h):c.a&&(c.a<0?c.a=0:c.a>100&&(c.a=100),c.a/=100,n({h:i.h,s:i.s,l:i.l,a:c.a,source:"rgb"},h))};return _.createElement("div",{style:a.fields,className:"flexbox-fix"},_.createElement("div",{style:a.double},_.createElement(xe,{style:{input:a.input,label:a.label},label:"hex",value:s.replace("#",""),onChange:l})),_.createElement("div",{style:a.single},_.createElement(xe,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),_.createElement("div",{style:a.single},_.createElement(xe,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),_.createElement("div",{style:a.single},_.createElement(xe,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),_.createElement("div",{style:a.alpha},_.createElement(xe,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},vK=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uP=function(e){var n=e.colors,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=he({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),a=function(u,c){i({hex:u,source:"hex"},c)};return _.createElement("div",{style:o.colors,className:"flexbox-fix"},n.map(function(l){var u=typeof l=="string"?{color:l}:l,c=""+u.color+(u.title||"");return _.createElement("div",{key:c,style:o.swatchWrap},_.createElement(Bs,vK({},u,{style:o.swatch,onClick:a,onHover:s,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+u.color}})))}))};uP.propTypes={colors:O.arrayOf(O.oneOfType([O.string,O.shape({color:O.string,title:O.string})])).isRequired};var yK=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y1=function(e){var n=e.width,r=e.rgb,i=e.hex,s=e.hsv,o=e.hsl,a=e.onChange,l=e.onSwatchHover,u=e.disableAlpha,c=e.presetColors,h=e.renderers,d=e.styles,f=d===void 0?{}:d,p=e.className,m=p===void 0?"":p,v=he(Yt({default:yK({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},f),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},f),{disableAlpha:u});return _.createElement("div",{style:v.picker,className:"sketch-picker "+m},_.createElement("div",{style:v.saturation},_.createElement(pf,{style:v.Saturation,hsl:o,hsv:s,onChange:a})),_.createElement("div",{style:v.controls,className:"flexbox-fix"},_.createElement("div",{style:v.sliders},_.createElement("div",{style:v.hue},_.createElement(Ta,{style:v.Hue,hsl:o,onChange:a})),_.createElement("div",{style:v.alpha},_.createElement(u1,{style:v.Alpha,rgb:r,hsl:o,renderers:h,onChange:a}))),_.createElement("div",{style:v.color},_.createElement(Ca,null),_.createElement("div",{style:v.activeColor}))),_.createElement(gK,{rgb:r,hsl:o,hex:i,onChange:a,disableAlpha:u}),_.createElement(uP,{colors:c,onClick:a,onSwatchHover:l}))};y1.propTypes={disableAlpha:O.bool,width:O.oneOfType([O.string,O.number]),styles:O.object};y1.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};Kt(y1);var za=function(e){var n=e.hsl,r=e.offset,i=e.onClick,s=i===void 0?function(){}:i,o=e.active,a=e.first,l=e.last,u=he({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:a,last:l}),c=function(d){return s({h:n.h,s:.5,l:r,source:"hsl"},d)};return _.createElement("div",{style:u.swatch,onClick:c})},bK=function(e){var n=e.onClick,r=e.hsl,i=he({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),s=.1;return _.createElement("div",{style:i.swatches},_.createElement("div",{style:i.swatch},_.createElement(za,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<s&&Math.abs(r.s-.5)<s,onClick:n,first:!0})),_.createElement("div",{style:i.swatch},_.createElement(za,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<s&&Math.abs(r.s-.5)<s,onClick:n})),_.createElement("div",{style:i.swatch},_.createElement(za,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<s&&Math.abs(r.s-.5)<s,onClick:n})),_.createElement("div",{style:i.swatch},_.createElement(za,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<s&&Math.abs(r.s-.5)<s,onClick:n})),_.createElement("div",{style:i.swatch},_.createElement(za,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<s&&Math.abs(r.s-.5)<s,onClick:n,last:!0})),_.createElement("div",{style:i.clear}))},xK=function(){var e=he({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return _.createElement("div",{style:e.picker})},b1=function(e){var n=e.hsl,r=e.onChange,i=e.pointer,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,u=he(Yt({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},o));return _.createElement("div",{style:u.wrap||{},className:"slider-picker "+l},_.createElement("div",{style:u.hue},_.createElement(Ta,{style:u.Hue,hsl:n,pointer:i,onChange:r})),_.createElement("div",{style:u.swatches},_.createElement(bK,{hsl:n,onClick:r})))};b1.propTypes={styles:O.object};b1.defaultProps={pointer:xK,styles:{}};Kt(b1);var cP={};Object.defineProperty(cP,"__esModule",{value:!0});var W_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wK=w,V_=_K(wK);function _K(t){return t&&t.__esModule?t:{default:t}}function EK(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var _c=24,SK=cP.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?_c:r,s=t.height,o=s===void 0?_c:s,a=t.style,l=a===void 0?{}:a,u=EK(t,["fill","width","height","style"]);return V_.default.createElement("svg",W_({viewBox:"0 0 "+_c+" "+_c,style:W_({fill:n,width:i,height:o},l)},u),V_.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},CK=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.first,a=e.last,l=e.active,u=he({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:c1(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:o,last:a,active:l,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return _.createElement(Bs,{color:n,style:u.color,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n}},_.createElement("div",{style:u.check},_.createElement(SK,null)))},TK=function(e){var n=e.onClick,r=e.onSwatchHover,i=e.group,s=e.active,o=he({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return _.createElement("div",{style:o.group},pe(i,function(a,l){return _.createElement(CK,{key:a,color:a,active:a.toLowerCase()===s,first:l===0,last:l===i.length-1,onClick:n,onSwatchHover:r})}))},x1=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.onSwatchHover,o=e.colors,a=e.hex,l=e.styles,u=l===void 0?{}:l,c=e.className,h=c===void 0?"":c,d=he(Yt({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},u)),f=function(m,v){return i({hex:m,source:"hex"},v)};return _.createElement("div",{style:d.picker,className:"swatches-picker "+h},_.createElement(Gu,null,_.createElement("div",{style:d.overflow},_.createElement("div",{style:d.body},pe(o,function(p){return _.createElement(TK,{key:p.toString(),group:p,active:a,onClick:f,onSwatchHover:s})}),_.createElement("div",{style:d.clear})))))};x1.propTypes={width:O.oneOfType([O.string,O.number]),height:O.oneOfType([O.string,O.number]),colors:O.arrayOf(O.arrayOf(O.string)),styles:O.object};x1.defaultProps={width:320,height:240,colors:[[Ys[900],Ys[700],Ys[500],Ys[300],Ys[100]],[Ks[900],Ks[700],Ks[500],Ks[300],Ks[100]],[Zs[900],Zs[700],Zs[500],Zs[300],Zs[100]],[Qs[900],Qs[700],Qs[500],Qs[300],Qs[100]],[Js[900],Js[700],Js[500],Js[300],Js[100]],[eo[900],eo[700],eo[500],eo[300],eo[100]],[to[900],to[700],to[500],to[300],to[100]],[no[900],no[700],no[500],no[300],no[100]],[ro[900],ro[700],ro[500],ro[300],ro[100]],["#194D33",al[700],al[500],al[300],al[100]],[io[900],io[700],io[500],io[300],io[100]],[so[900],so[700],so[500],so[300],so[100]],[oo[900],oo[700],oo[500],oo[300],oo[100]],[ao[900],ao[700],ao[500],ao[300],ao[100]],[lo[900],lo[700],lo[500],lo[300],lo[100]],[uo[900],uo[700],uo[500],uo[300],uo[100]],[co[900],co[700],co[500],co[300],co[100]],[ho[900],ho[700],ho[500],ho[300],ho[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};Kt(x1);var w1=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,h=c===void 0?"":c,d=he(Yt({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},u),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),f=function(m,v){Ni(m)&&n({hex:m,source:"hex"},v)};return _.createElement("div",{style:d.card,className:"twitter-picker "+h},_.createElement("div",{style:d.triangleShadow}),_.createElement("div",{style:d.triangle}),_.createElement("div",{style:d.body},pe(s,function(p,m){return _.createElement(Bs,{key:m,color:p,hex:p,style:d.swatch,onClick:f,onHover:r,focusStyle:{boxShadow:"0 0 4px "+p}})}),_.createElement("div",{style:d.hash},"#"),_.createElement(xe,{label:null,style:{input:d.input},value:i.replace("#",""),onChange:f}),_.createElement("div",{style:d.clear})))};w1.propTypes={width:O.oneOfType([O.string,O.number]),triangle:O.oneOf(["hide","top-left","top-right"]),colors:O.arrayOf(O.string),styles:O.object};w1.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};Kt(w1);var _1=function(e){var n=he({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return _.createElement("div",{style:n.picker})};_1.propTypes={hsl:O.shape({h:O.number,s:O.number,l:O.number,a:O.number})};_1.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var E1=function(e){var n=he({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return _.createElement("div",{style:n.picker})};E1.propTypes={hsl:O.shape({h:O.number,s:O.number,l:O.number,a:O.number})};E1.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var AK=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.hsv,a=function(f,p){if(f.hex)Ni(f.hex)&&n({hex:f.hex,source:"hex"},p);else if(f.rgb){var m=f.rgb.split(",");Lp(f.rgb,"rgb")&&n({r:m[0],g:m[1],b:m[2],a:1,source:"rgb"},p)}else if(f.hsv){var v=f.hsv.split(",");Lp(f.hsv,"hsv")&&(v[2]=v[2].replace("%",""),v[1]=v[1].replace("%",""),v[0]=v[0].replace("",""),v[1]==1?v[1]=.01:v[2]==1&&(v[2]=.01),n({h:Number(v[0]),s:Number(v[1]),v:Number(v[2]),source:"hsv"},p))}else if(f.hsl){var g=f.hsl.split(",");Lp(f.hsl,"hsl")&&(g[2]=g[2].replace("%",""),g[1]=g[1].replace("%",""),g[0]=g[0].replace("",""),h[1]==1?h[1]=.01:h[2]==1&&(h[2]=.01),n({h:Number(g[0]),s:Number(g[1]),v:Number(g[2]),source:"hsl"},p))}},l=he({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),u=r.r+", "+r.g+", "+r.b,c=Math.round(i.h)+", "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",h=Math.round(o.h)+", "+Math.round(o.s*100)+"%, "+Math.round(o.v*100)+"%";return _.createElement("div",{style:l.wrap,className:"flexbox-fix"},_.createElement("div",{style:l.fields},_.createElement("div",{style:l.double},_.createElement(xe,{style:{input:l.input,label:l.label},label:"hex",value:s,onChange:a})),_.createElement("div",{style:l.column},_.createElement("div",{style:l.single},_.createElement(xe,{style:{input:l.input2,label:l.label2},label:"rgb",value:u,onChange:a})),_.createElement("div",{style:l.single},_.createElement(xe,{style:{input:l.input2,label:l.label2},label:"hsv",value:h,onChange:a})),_.createElement("div",{style:l.single},_.createElement(xe,{style:{input:l.input2,label:l.label2},label:"hsl",value:c,onChange:a})))))},S1=function(e){var n=e.width,r=e.onChange,i=e.rgb,s=e.hsl,o=e.hsv,a=e.hex,l=e.header,u=e.styles,c=u===void 0?{}:u,h=e.className,d=h===void 0?"":h,f=he(Yt({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},c));return _.createElement("div",{style:f.picker,className:"google-picker "+d},_.createElement("div",{style:f.head},l),_.createElement("div",{style:f.swatch}),_.createElement("div",{style:f.saturation},_.createElement(pf,{hsl:s,hsv:o,pointer:_1,onChange:r})),_.createElement("div",{style:f.body},_.createElement("div",{style:f.controls,className:"flexbox-fix"},_.createElement("div",{style:f.hue},_.createElement(Ta,{style:f.Hue,hsl:s,radius:"4px",pointer:E1,onChange:r}))),_.createElement(AK,{rgb:i,hsl:s,hex:a,hsv:o,onChange:r})))};S1.propTypes={width:O.oneOfType([O.string,O.number]),styles:O.object,header:O.string};S1.defaultProps={width:652,styles:{},header:"Color picker"};Kt(S1);function PK(t,e){w.useEffect(()=>{function n(r){t.current&&!t.current.contains(r.target)&&e()}return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[t])}function Jl({color:t,colorChanged:e}){const[n,r]=w.useState(!1),[i,s]=w.useState(t||"#ffffff"),o=w.useRef(null);PK(o,()=>{r(!1)}),w.useEffect(()=>{s(t||"#fff")},[t]);const a=()=>{r(!n)},l=c=>{s(c.hex),e(c.hex)},u=he({default:{color:{background:i},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return U("div",{className:"color-picker",ref:o,children:[E("div",{className:"swatch",style:u.color,onClick:a}),n?E("div",{style:u.popover,children:E(eK,{color:i,onChange:l,disableAlpha:!0})}):null]})}function ws(t){return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ws(t)}function OK(t,e){if(ws(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ws(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hP(t){var e=OK(t,"string");return ws(e)==="symbol"?e:String(e)}function ll(t,e,n){return e=hP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function de(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X_(Object(n),!0).forEach(function(r){ll(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IK(t){if(Array.isArray(t))return t}function kK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function mv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dP(t,e){if(t){if(typeof t=="string")return mv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mv(t,e)}}function RK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zr(t,e){return IK(t)||kK(t,e)||dP(t,e)||RK()}function un(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Aa(t,e){if(t==null)return{};var n=un(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var MK=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function FK(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,s=t.defaultValue,o=s===void 0?null:s,a=t.inputValue,l=t.menuIsOpen,u=t.onChange,c=t.onInputChange,h=t.onMenuClose,d=t.onMenuOpen,f=t.value,p=Aa(t,MK),m=w.useState(a!==void 0?a:n),v=zr(m,2),g=v[0],b=v[1],y=w.useState(l!==void 0?l:i),x=zr(y,2),S=x[0],C=x[1],T=w.useState(f!==void 0?f:o),A=zr(T,2),I=A[0],M=A[1],N=w.useCallback(function(L,G){typeof u=="function"&&u(L,G),M(L)},[u]),D=w.useCallback(function(L,G){var R;typeof c=="function"&&(R=c(L,G)),b(R!==void 0?R:L)},[c]),B=w.useCallback(function(){typeof d=="function"&&d(),C(!0)},[d]),k=w.useCallback(function(){typeof h=="function"&&h(),C(!1)},[h]),H=a!==void 0?a:g,q=l!==void 0?l:S,z=f!==void 0?f:I;return de(de({},p),{},{inputValue:H,menuIsOpen:q,onChange:N,onInputChange:D,onMenuClose:k,onMenuOpen:B,value:z})}function K(){return K=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K.apply(this,arguments)}function DK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hP(r.key),r)}}function $K(t,e,n){return e&&q_(t.prototype,e),n&&q_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ad(t,e){return ad=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ad(t,e)}function BK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ad(t,e)}function ld(t){return ld=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ld(t)}function NK(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function LK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UK(t,e){if(e&&(ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LK(t)}function jK(t){var e=NK();return function(){var r=ld(t),i;if(e){var s=ld(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return UK(this,i)}}function zK(t){if(Array.isArray(t))return mv(t)}function HK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fP(t){return zK(t)||HK(t)||dP(t)||GK()}function WK(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function VK(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var XK=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(VK(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=WK(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Ot="-ms-",ud="-moz-",Te="-webkit-",pP="comm",C1="rule",T1="decl",qK="@import",mP="@keyframes",YK=Math.abs,gf=String.fromCharCode,KK=Object.assign;function ZK(t,e){return Et(t,0)^45?(((e<<2^Et(t,0))<<2^Et(t,1))<<2^Et(t,2))<<2^Et(t,3):0}function gP(t){return t.trim()}function QK(t,e){return(t=e.exec(t))?t[0]:t}function Pe(t,e,n){return t.replace(e,n)}function gv(t,e){return t.indexOf(e)}function Et(t,e){return t.charCodeAt(e)|0}function eu(t,e,n){return t.slice(e,n)}function pr(t){return t.length}function A1(t){return t.length}function Ec(t,e){return e.push(t),t}function JK(t,e){return t.map(e).join("")}var vf=1,na=1,vP=0,qt=0,lt=0,Pa="";function yf(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:vf,column:na,length:o,return:""}}function Ha(t,e){return KK(yf("",null,null,"",null,null,0),t,{length:-t.length},e)}function eZ(){return lt}function tZ(){return lt=qt>0?Et(Pa,--qt):0,na--,lt===10&&(na=1,vf--),lt}function cn(){return lt=qt<vP?Et(Pa,qt++):0,na++,lt===10&&(na=1,vf++),lt}function Sr(){return Et(Pa,qt)}function ph(){return qt}function Wu(t,e){return eu(Pa,t,e)}function tu(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function yP(t){return vf=na=1,vP=pr(Pa=t),qt=0,[]}function bP(t){return Pa="",t}function mh(t){return gP(Wu(qt-1,vv(t===91?t+2:t===40?t+1:t)))}function nZ(t){for(;(lt=Sr())&&lt<33;)cn();return tu(t)>2||tu(lt)>3?"":" "}function rZ(t,e){for(;--e&&cn()&&!(lt<48||lt>102||lt>57&&lt<65||lt>70&&lt<97););return Wu(t,ph()+(e<6&&Sr()==32&&cn()==32))}function vv(t){for(;cn();)switch(lt){case t:return qt;case 34:case 39:t!==34&&t!==39&&vv(lt);break;case 40:t===41&&vv(t);break;case 92:cn();break}return qt}function iZ(t,e){for(;cn()&&t+lt!==47+10;)if(t+lt===42+42&&Sr()===47)break;return"/*"+Wu(e,qt-1)+"*"+gf(t===47?t:cn())}function sZ(t){for(;!tu(Sr());)cn();return Wu(t,qt)}function oZ(t){return bP(gh("",null,null,null,[""],t=yP(t),0,[0],t))}function gh(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,h=o,d=0,f=0,p=0,m=1,v=1,g=1,b=0,y="",x=i,S=s,C=r,T=y;v;)switch(p=b,b=cn()){case 40:if(p!=108&&Et(T,h-1)==58){gv(T+=Pe(mh(b),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:T+=mh(b);break;case 9:case 10:case 13:case 32:T+=nZ(p);break;case 92:T+=rZ(ph()-1,7);continue;case 47:switch(Sr()){case 42:case 47:Ec(aZ(iZ(cn(),ph()),e,n),l);break;default:T+="/"}break;case 123*m:a[u++]=pr(T)*g;case 125*m:case 59:case 0:switch(b){case 0:case 125:v=0;case 59+c:f>0&&pr(T)-h&&Ec(f>32?K_(T+";",r,n,h-1):K_(Pe(T," ","")+";",r,n,h-2),l);break;case 59:T+=";";default:if(Ec(C=Y_(T,e,n,u,c,i,a,y,x=[],S=[],h),s),b===123)if(c===0)gh(T,e,C,C,x,s,h,a,S);else switch(d===99&&Et(T,3)===110?100:d){case 100:case 109:case 115:gh(t,C,C,r&&Ec(Y_(t,C,C,0,0,i,a,y,i,x=[],h),S),i,S,h,a,r?x:S);break;default:gh(T,C,C,C,[""],S,0,a,S)}}u=c=f=0,m=g=1,y=T="",h=o;break;case 58:h=1+pr(T),f=p;default:if(m<1){if(b==123)--m;else if(b==125&&m++==0&&tZ()==125)continue}switch(T+=gf(b),b*m){case 38:g=c>0?1:(T+="\f",-1);break;case 44:a[u++]=(pr(T)-1)*g,g=1;break;case 64:Sr()===45&&(T+=mh(cn())),d=Sr(),c=h=pr(y=T+=sZ(ph())),b++;break;case 45:p===45&&pr(T)==2&&(m=0)}}return s}function Y_(t,e,n,r,i,s,o,a,l,u,c){for(var h=i-1,d=i===0?s:[""],f=A1(d),p=0,m=0,v=0;p<r;++p)for(var g=0,b=eu(t,h+1,h=YK(m=o[p])),y=t;g<f;++g)(y=gP(m>0?d[g]+" "+b:Pe(b,/&\f/g,d[g])))&&(l[v++]=y);return yf(t,e,n,i===0?C1:a,l,u,c)}function aZ(t,e,n){return yf(t,e,n,pP,gf(eZ()),eu(t,2,-2),0)}function K_(t,e,n,r){return yf(t,e,n,T1,eu(t,0,r),eu(t,r+1,-1),r)}function No(t,e){for(var n="",r=A1(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function lZ(t,e,n,r){switch(t.type){case qK:case T1:return t.return=t.return||t.value;case pP:return"";case mP:return t.return=t.value+"{"+No(t.children,r)+"}";case C1:t.value=t.props.join(",")}return pr(n=No(t.children,r))?t.return=t.value+"{"+n+"}":""}function uZ(t){var e=A1(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function cZ(t){return function(e){e.root||(e=e.return)&&t(e)}}function xP(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var hZ=function(e,n,r){for(var i=0,s=0;i=s,s=Sr(),i===38&&s===12&&(n[r]=1),!tu(s);)cn();return Wu(e,qt)},dZ=function(e,n){var r=-1,i=44;do switch(tu(i)){case 0:i===38&&Sr()===12&&(n[r]=1),e[r]+=hZ(qt-1,n,r);break;case 2:e[r]+=mh(i);break;case 4:if(i===44){e[++r]=Sr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=gf(i)}while(i=cn());return e},fZ=function(e,n){return bP(dZ(yP(e),n))},Z_=new WeakMap,pZ=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Z_.get(r))&&!i){Z_.set(e,!0);for(var s=[],o=fZ(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},mZ=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function wP(t,e){switch(ZK(t,e)){case 5103:return Te+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Te+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Te+t+ud+t+Ot+t+t;case 6828:case 4268:return Te+t+Ot+t+t;case 6165:return Te+t+Ot+"flex-"+t+t;case 5187:return Te+t+Pe(t,/(\w+).+(:[^]+)/,Te+"box-$1$2"+Ot+"flex-$1$2")+t;case 5443:return Te+t+Ot+"flex-item-"+Pe(t,/flex-|-self/,"")+t;case 4675:return Te+t+Ot+"flex-line-pack"+Pe(t,/align-content|flex-|-self/,"")+t;case 5548:return Te+t+Ot+Pe(t,"shrink","negative")+t;case 5292:return Te+t+Ot+Pe(t,"basis","preferred-size")+t;case 6060:return Te+"box-"+Pe(t,"-grow","")+Te+t+Ot+Pe(t,"grow","positive")+t;case 4554:return Te+Pe(t,/([^-])(transform)/g,"$1"+Te+"$2")+t;case 6187:return Pe(Pe(Pe(t,/(zoom-|grab)/,Te+"$1"),/(image-set)/,Te+"$1"),t,"")+t;case 5495:case 3959:return Pe(t,/(image-set\([^]*)/,Te+"$1$`$1");case 4968:return Pe(Pe(t,/(.+:)(flex-)?(.*)/,Te+"box-pack:$3"+Ot+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Te+t+t;case 4095:case 3583:case 4068:case 2532:return Pe(t,/(.+)-inline(.+)/,Te+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(pr(t)-1-e>6)switch(Et(t,e+1)){case 109:if(Et(t,e+4)!==45)break;case 102:return Pe(t,/(.+:)(.+)-([^]+)/,"$1"+Te+"$2-$3$1"+ud+(Et(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~gv(t,"stretch")?wP(Pe(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Et(t,e+1)!==115)break;case 6444:switch(Et(t,pr(t)-3-(~gv(t,"!important")&&10))){case 107:return Pe(t,":",":"+Te)+t;case 101:return Pe(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Te+(Et(t,14)===45?"inline-":"")+"box$3$1"+Te+"$2$3$1"+Ot+"$2box$3")+t}break;case 5936:switch(Et(t,e+11)){case 114:return Te+t+Ot+Pe(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Te+t+Ot+Pe(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Te+t+Ot+Pe(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Te+t+Ot+t+t}return t}var gZ=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case T1:e.return=wP(e.value,e.length);break;case mP:return No([Ha(e,{value:Pe(e.value,"@","@"+Te)})],i);case C1:if(e.length)return JK(e.props,function(s){switch(QK(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return No([Ha(e,{props:[Pe(s,/:(read-\w+)/,":"+ud+"$1")]})],i);case"::placeholder":return No([Ha(e,{props:[Pe(s,/:(plac\w+)/,":"+Te+"input-$1")]}),Ha(e,{props:[Pe(s,/:(plac\w+)/,":"+ud+"$1")]}),Ha(e,{props:[Pe(s,/:(plac\w+)/,Ot+"input-$1")]})],i)}return""})}},vZ=[gZ],yZ=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var v=m.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||vZ,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var v=m.getAttribute("data-emotion").split(" "),g=1;g<v.length;g++)s[v[g]]=!0;a.push(m)});var l,u=[pZ,mZ];{var c,h=[lZ,cZ(function(m){c.insert(m)})],d=uZ(u.concat(i,h)),f=function(v){return No(oZ(v),d)};l=function(v,g,b,y){c=b,f(v?v+"{"+g.styles+"}":g.styles),y&&(p.inserted[g.name]=!0)}}var p={key:n,sheet:new XK({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return p.sheet.hydrate(a),p},yv={},bZ={get exports(){return yv},set exports(t){yv=t}},Re={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xt=typeof Symbol=="function"&&Symbol.for,P1=xt?Symbol.for("react.element"):60103,O1=xt?Symbol.for("react.portal"):60106,bf=xt?Symbol.for("react.fragment"):60107,xf=xt?Symbol.for("react.strict_mode"):60108,wf=xt?Symbol.for("react.profiler"):60114,_f=xt?Symbol.for("react.provider"):60109,Ef=xt?Symbol.for("react.context"):60110,I1=xt?Symbol.for("react.async_mode"):60111,Sf=xt?Symbol.for("react.concurrent_mode"):60111,Cf=xt?Symbol.for("react.forward_ref"):60112,Tf=xt?Symbol.for("react.suspense"):60113,xZ=xt?Symbol.for("react.suspense_list"):60120,Af=xt?Symbol.for("react.memo"):60115,Pf=xt?Symbol.for("react.lazy"):60116,wZ=xt?Symbol.for("react.block"):60121,_Z=xt?Symbol.for("react.fundamental"):60117,EZ=xt?Symbol.for("react.responder"):60118,SZ=xt?Symbol.for("react.scope"):60119;function yn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case P1:switch(t=t.type,t){case I1:case Sf:case bf:case wf:case xf:case Tf:return t;default:switch(t=t&&t.$$typeof,t){case Ef:case Cf:case Pf:case Af:case _f:return t;default:return e}}case O1:return e}}}function _P(t){return yn(t)===Sf}Re.AsyncMode=I1;Re.ConcurrentMode=Sf;Re.ContextConsumer=Ef;Re.ContextProvider=_f;Re.Element=P1;Re.ForwardRef=Cf;Re.Fragment=bf;Re.Lazy=Pf;Re.Memo=Af;Re.Portal=O1;Re.Profiler=wf;Re.StrictMode=xf;Re.Suspense=Tf;Re.isAsyncMode=function(t){return _P(t)||yn(t)===I1};Re.isConcurrentMode=_P;Re.isContextConsumer=function(t){return yn(t)===Ef};Re.isContextProvider=function(t){return yn(t)===_f};Re.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===P1};Re.isForwardRef=function(t){return yn(t)===Cf};Re.isFragment=function(t){return yn(t)===bf};Re.isLazy=function(t){return yn(t)===Pf};Re.isMemo=function(t){return yn(t)===Af};Re.isPortal=function(t){return yn(t)===O1};Re.isProfiler=function(t){return yn(t)===wf};Re.isStrictMode=function(t){return yn(t)===xf};Re.isSuspense=function(t){return yn(t)===Tf};Re.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===bf||t===Sf||t===wf||t===xf||t===Tf||t===xZ||typeof t=="object"&&t!==null&&(t.$$typeof===Pf||t.$$typeof===Af||t.$$typeof===_f||t.$$typeof===Ef||t.$$typeof===Cf||t.$$typeof===_Z||t.$$typeof===EZ||t.$$typeof===SZ||t.$$typeof===wZ)};Re.typeOf=yn;(function(t){t.exports=Re})(bZ);var EP=yv,CZ={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},TZ={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},SP={};SP[EP.ForwardRef]=CZ;SP[EP.Memo]=TZ;var AZ=!0;function CP(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var k1=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||AZ===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},TP=function(e,n,r){k1(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function PZ(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var OZ={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},IZ=/[A-Z]|^ms/g,kZ=/_EMO_([^_]+?)_([^]*?)_EMO_/g,AP=function(e){return e.charCodeAt(1)===45},Q_=function(e){return e!=null&&typeof e!="boolean"},Up=xP(function(t){return AP(t)?t:t.replace(IZ,"-$&").toLowerCase()}),J_=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(kZ,function(r,i,s){return mr={name:i,styles:s,next:mr},i})}return OZ[e]!==1&&!AP(e)&&typeof n=="number"&&n!==0?n+"px":n};function nu(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return mr={name:n.name,styles:n.styles,next:mr},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)mr={name:r.name,styles:r.styles,next:mr},r=r.next;var i=n.styles+";";return i}return RZ(t,e,n)}case"function":{if(t!==void 0){var s=mr,o=n(t);return mr=s,nu(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function RZ(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=nu(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":Q_(o)&&(r+=Up(s)+":"+J_(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)Q_(o[a])&&(r+=Up(s)+":"+J_(s,o[a])+";");else{var l=nu(t,e,o);switch(s){case"animation":case"animationName":{r+=Up(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var eE=/label:\s*([^\s;\n{]+)\s*(;|$)/g,mr,R1=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";mr=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=nu(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=nu(r,n,e[a]),i&&(s+=o[a]);eE.lastIndex=0;for(var l="",u;(u=eE.exec(s))!==null;)l+="-"+u[1];var c=PZ(s)+l;return{name:c,styles:s,next:mr}},MZ=function(e){return e()},FZ=Zb["useInsertionEffect"]?Zb["useInsertionEffect"]:!1,PP=FZ||MZ,M1={}.hasOwnProperty,OP=w.createContext(typeof HTMLElement<"u"?yZ({key:"css"}):null);OP.Provider;var IP=function(e){return w.forwardRef(function(n,r){var i=w.useContext(OP);return e(n,i,r)})},kP=w.createContext({}),bv="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",DZ=function(e,n){var r={};for(var i in n)M1.call(n,i)&&(r[i]=n[i]);return r[bv]=e,r},$Z=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return k1(n,r,i),PP(function(){return TP(n,r,i)}),null},BZ=IP(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[bv],s=[r],o="";typeof t.className=="string"?o=CP(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=R1(s,void 0,w.useContext(kP));o+=e.key+"-"+a.name;var l={};for(var u in t)M1.call(t,u)&&u!=="css"&&u!==bv&&(l[u]=t[u]);return l.ref=n,l.className=o,w.createElement(w.Fragment,null,w.createElement($Z,{cache:e,serialized:a,isStringTag:typeof i=="string"}),w.createElement(i,l))}),ce=function(e,n){var r=arguments;if(n==null||!M1.call(n,"css"))return w.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=BZ,s[1]=DZ(e,n);for(var o=2;o<i;o++)s[o]=r[o];return w.createElement.apply(null,s)};function F1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return R1(e)}var NZ=function(){var e=F1.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function LZ(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function UZ(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}const jZ=["top","right","bottom","left"];jZ.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);function xr(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function RP(t){return xr(t).getComputedStyle(t)}function MP(t){return t instanceof xr(t).Node}function FP(t){return MP(t)?(t.nodeName||"").toLowerCase():""}let Sc;function zZ(){if(Sc)return Sc;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(Sc=t.brands.map(e=>e.brand+"/"+e.version).join(" "),Sc):navigator.userAgent}function D1(t){return t instanceof xr(t).HTMLElement}function Lo(t){return t instanceof xr(t).Element}function tE(t){return typeof ShadowRoot>"u"?!1:t instanceof xr(t).ShadowRoot||t instanceof ShadowRoot}function DP(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=RP(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function HZ(){return/^((?!chrome|android).)*safari/i.test(zZ())}function GZ(t){return["html","body","#document"].includes(FP(t))}const cd=Math.round;function WZ(t){const e=RP(t);let n=parseFloat(e.width),r=parseFloat(e.height);const i=D1(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=cd(n)!==s||cd(r)!==o;return a&&(n=s,r=o),{width:n,height:r,fallback:a}}function $P(t){return Lo(t)?t:t.contextElement}const BP={x:1,y:1};function jp(t){const e=$P(t);if(!D1(e))return BP;const n=e.getBoundingClientRect(),{width:r,height:i,fallback:s}=WZ(e);let o=(s?cd(n.width):n.width)/r,a=(s?cd(n.height):n.height)/i;return o&&Number.isFinite(o)||(o=1),a&&Number.isFinite(a)||(a=1),{x:o,y:a}}function nE(t,e,n,r){var i,s;e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),a=$P(t);let l=BP;e&&(r?Lo(r)&&(l=jp(r)):l=jp(t));const u=a?xr(a):window,c=HZ()&&n;let h=(o.left+(c&&((i=u.visualViewport)==null?void 0:i.offsetLeft)||0))/l.x,d=(o.top+(c&&((s=u.visualViewport)==null?void 0:s.offsetTop)||0))/l.y,f=o.width/l.x,p=o.height/l.y;if(a){const m=xr(a),v=r&&Lo(r)?xr(r):r;let g=m.frameElement;for(;g&&r&&v!==m;){const b=jp(g),y=g.getBoundingClientRect(),x=getComputedStyle(g);y.x+=(g.clientLeft+parseFloat(x.paddingLeft))*b.x,y.y+=(g.clientTop+parseFloat(x.paddingTop))*b.y,h*=b.x,d*=b.y,f*=b.x,p*=b.y,h+=y.x,d+=y.y,g=xr(g).frameElement}}return UZ({width:f,height:p,x:h,y:d})}function VZ(t){return((MP(t)?t.ownerDocument:t.document)||window.document).documentElement}function XZ(t){if(FP(t)==="html")return t;const e=t.assignedSlot||t.parentNode||tE(t)&&t.host||VZ(t);return tE(e)?e.host:e}function NP(t){const e=XZ(t);return GZ(e)?e.ownerDocument.body:D1(e)&&DP(e)?e:NP(e)}function vh(t,e){var n;e===void 0&&(e=[]);const r=NP(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=xr(r);return i?e.concat(s,s.visualViewport||[],DP(r)?r:[]):e.concat(r,vh(r))}function qZ(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=!0,animationFrame:a=!1}=r,l=i&&!a,u=l||s?[...Lo(t)?vh(t):t.contextElement?vh(t.contextElement):[],...vh(e)]:[];u.forEach(f=>{l&&f.addEventListener("scroll",n,{passive:!0}),s&&f.addEventListener("resize",n)});let c,h=null;if(o){let f=!0;h=new ResizeObserver(()=>{f||n(),f=!1}),Lo(t)&&!a&&h.observe(t),Lo(t)||!t.contextElement||a||h.observe(t.contextElement),h.observe(e)}let d=a?nE(t):null;return a&&function f(){const p=nE(t);!d||p.x===d.x&&p.y===d.y&&p.width===d.width&&p.height===d.height||n(),d=p,c=requestAnimationFrame(f)}(),n(),()=>{var f;u.forEach(p=>{l&&p.removeEventListener("scroll",n),s&&p.removeEventListener("resize",n)}),(f=h)==null||f.disconnect(),h=null,a&&cancelAnimationFrame(c)}}var hd=w.useLayoutEffect,YZ=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],dd=function(){};function KZ(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function ZZ(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&s.push("".concat(KZ(t,o)));return s.filter(function(a){return a}).map(function(a){return String(a).trim()}).join(" ")}var rE=function(e){return oQ(e)?e.filter(Boolean):ws(e)==="object"&&e!==null?[e]:[]},LP=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=Aa(e,YZ);return de({},n)},it=function(e,n,r){var i=e.cx,s=e.getStyles,o=e.getClassNames,a=e.className;return{css:s(n,e),className:i(r??{},o(n,e),a)}};function Of(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function QZ(t){return Of(t)?window.innerHeight:t.clientHeight}function UP(t){return Of(t)?window.pageYOffset:t.scrollTop}function fd(t,e){if(Of(t)){window.scrollTo(0,e);return}t.scrollTop=e}function JZ(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function eQ(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function Cc(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:dd,i=UP(t),s=e-i,o=10,a=0;function l(){a+=o;var u=eQ(a,i,s,n);fd(t,u),a<n?window.requestAnimationFrame(l):r(t)}l()}function iE(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?fd(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&fd(t,Math.max(e.offsetTop-i,0))}function tQ(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function sE(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function nQ(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var jP=!1,rQ={get passive(){return jP=!0}},Tc=typeof window<"u"?window:{};Tc.addEventListener&&Tc.removeEventListener&&(Tc.addEventListener("p",dd,rQ),Tc.removeEventListener("p",dd,!1));var iQ=jP;function sQ(t){return t!=null}function oQ(t){return Array.isArray(t)}function Ac(t,e,n){return t?e:n}var aQ=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(o){var a=zr(o,1),l=a[0];return!r.includes(l)});return s.reduce(function(o,a){var l=zr(a,2),u=l[0],c=l[1];return o[u]=c,o},{})};function lQ(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,s=t.shouldScroll,o=t.isFixedPosition,a=t.controlHeight,l=JZ(n),u={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return u;var c=l.getBoundingClientRect(),h=c.height,d=n.getBoundingClientRect(),f=d.bottom,p=d.height,m=d.top,v=n.offsetParent.getBoundingClientRect(),g=v.top,b=o?window.innerHeight:QZ(l),y=UP(l),x=parseInt(getComputedStyle(n).marginBottom,10),S=parseInt(getComputedStyle(n).marginTop,10),C=g-S,T=b-m,A=C+y,I=h-y-m,M=f-b+y+x,N=y+m-S,D=160;switch(i){case"auto":case"bottom":if(T>=p)return{placement:"bottom",maxHeight:e};if(I>=p&&!o)return s&&Cc(l,M,D),{placement:"bottom",maxHeight:e};if(!o&&I>=r||o&&T>=r){s&&Cc(l,M,D);var B=o?T-x:I-x;return{placement:"bottom",maxHeight:B}}if(i==="auto"||o){var k=e,H=o?C:A;return H>=r&&(k=Math.min(H-x-a,e)),{placement:"top",maxHeight:k}}if(i==="bottom")return s&&fd(l,M),{placement:"bottom",maxHeight:e};break;case"top":if(C>=p)return{placement:"top",maxHeight:e};if(A>=p&&!o)return s&&Cc(l,N,D),{placement:"top",maxHeight:e};if(!o&&A>=r||o&&C>=r){var q=e;return(!o&&A>=r||o&&C>=r)&&(q=o?C-S:A-S),s&&Cc(l,N,D),{placement:"top",maxHeight:q}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return u}function uQ(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var zP=function(e){return e==="auto"?"bottom":e},cQ=function(e,n){var r,i=e.placement,s=e.theme,o=s.borderRadius,a=s.spacing,l=s.colors;return de((r={label:"menu"},ll(r,uQ(i),"100%"),ll(r,"position","absolute"),ll(r,"width","100%"),ll(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},HP=w.createContext(null),hQ=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,o=e.menuPosition,a=e.menuShouldScrollIntoView,l=e.theme,u=w.useContext(HP)||{},c=u.setPortalPlacement,h=w.useRef(null),d=w.useState(i),f=zr(d,2),p=f[0],m=f[1],v=w.useState(null),g=zr(v,2),b=g[0],y=g[1],x=l.spacing.controlHeight;return hd(function(){var S=h.current;if(S){var C=o==="fixed",T=a&&!C,A=lQ({maxHeight:i,menuEl:S,minHeight:r,placement:s,shouldScroll:T,isFixedPosition:C,controlHeight:x});m(A.maxHeight),y(A.placement),c==null||c(A.placement)}},[i,s,o,a,r,c,x]),n({ref:h,placerProps:de(de({},e),{},{placement:b||zP(s),maxHeight:p})})},dQ=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return ce("div",K({},it(e,"menu",{menu:!0}),{ref:r},i),n)},fQ=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return de({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},pQ=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return ce("div",K({},it(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),n)},GP=function(e,n){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return de({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},mQ=GP,gQ=GP,WP=function(e){var n=e.children,r=e.innerProps;return ce("div",K({},it(e,"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)};WP.defaultProps={children:"No options"};var VP=function(e){var n=e.children,r=e.innerProps;return ce("div",K({},it(e,"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)};VP.defaultProps={children:"Loading..."};var vQ=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},yQ=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,o=e.menuPlacement,a=e.menuPosition,l=w.useRef(null),u=w.useRef(null),c=w.useState(zP(o)),h=zr(c,2),d=h[0],f=h[1],p=w.useMemo(function(){return{setPortalPlacement:f}},[]),m=w.useState(null),v=zr(m,2),g=v[0],b=v[1],y=w.useCallback(function(){if(i){var T=tQ(i),A=a==="fixed"?0:window.pageYOffset,I=T[d]+A;(I!==(g==null?void 0:g.offset)||T.left!==(g==null?void 0:g.rect.left)||T.width!==(g==null?void 0:g.rect.width))&&b({offset:I,rect:T})}},[i,a,d,g==null?void 0:g.offset,g==null?void 0:g.rect.left,g==null?void 0:g.rect.width]);hd(function(){y()},[y]);var x=w.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),i&&l.current&&(u.current=qZ(i,l.current,y,{elementResize:"ResizeObserver"in window}))},[i,y]);hd(function(){x()},[x]);var S=w.useCallback(function(T){l.current=T,x()},[x]);if(!n&&a!=="fixed"||!g)return null;var C=ce("div",K({ref:S},it(de(de({},e),{},{offset:g.offset,position:a,rect:g.rect}),"menuPortal",{"menu-portal":!0}),s),r);return ce(HP.Provider,{value:p},n?Ol.createPortal(C,n):C)},bQ=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},xQ=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return ce("div",K({},it(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),n)},wQ=function(e,n){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,o=e.selectProps.controlShouldRenderValue;return de({alignItems:"center",display:i&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},_Q=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return ce("div",K({},it(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),n)},EQ=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},SQ=function(e){var n=e.children,r=e.innerProps;return ce("div",K({},it(e,"indicatorsContainer",{indicators:!0}),r),n)},oE,CQ=["size"],TQ={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},XP=function(e){var n=e.size,r=Aa(e,CQ);return ce("svg",K({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:TQ},r))},$1=function(e){return ce(XP,K({size:20},e),ce("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},qP=function(e){return ce(XP,K({size:20},e),ce("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},YP=function(e,n){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return de({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?o.neutral60:o.neutral20,padding:s*2,":hover":{color:r?o.neutral80:o.neutral40}})},AQ=YP,PQ=function(e){var n=e.children,r=e.innerProps;return ce("div",K({},it(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||ce(qP,null))},OQ=YP,IQ=function(e){var n=e.children,r=e.innerProps;return ce("div",K({},it(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||ce($1,null))},kQ=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return de({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},RQ=function(e){var n=e.innerProps;return ce("span",K({},n,it(e,"indicatorSeparator",{"indicator-separator":!0})))},MQ=NZ(oE||(oE=LZ([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),FQ=function(e,n){var r=e.isFocused,i=e.size,s=e.theme,o=s.colors,a=s.spacing.baseUnit;return de({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?o.neutral60:o.neutral20,padding:a*2})},zp=function(e){var n=e.delay,r=e.offset;return ce("span",{css:F1({animation:"".concat(MQ," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},KP=function(e){var n=e.innerProps,r=e.isRtl;return ce("div",K({},it(e,"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),ce(zp,{delay:0,offset:r}),ce(zp,{delay:160,offset:!0}),ce(zp,{delay:320,offset:!r}))};KP.defaultProps={size:4};var DQ=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.theme,o=s.colors,a=s.borderRadius,l=s.spacing;return de({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:i?o.primary:o.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},$Q=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,o=e.innerProps,a=e.menuIsOpen;return ce("div",K({ref:s},it(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":a}),o),n)},BQ=["data"],NQ=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},LQ=function(e){var n=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,o=e.Heading,a=e.headingProps,l=e.innerProps,u=e.label,c=e.theme,h=e.selectProps;return ce("div",K({},it(e,"group",{group:!0}),l),ce(o,K({},a,{selectProps:h,theme:c,getStyles:i,getClassNames:s,cx:r}),u),ce("div",null,n))},UQ=function(e,n){var r=e.theme,i=r.colors,s=r.spacing;return de({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},jQ=function(e){var n=LP(e);n.data;var r=Aa(n,BQ);return ce("div",K({},it(e,"groupHeading",{"group-heading":!0}),r))},zQ=["innerRef","isDisabled","isHidden","inputClassName"],HQ=function(e,n){var r=e.isDisabled,i=e.value,s=e.theme,o=s.spacing,a=s.colors;return de(de({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},GQ),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:a.neutral80})},ZP={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},GQ={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":de({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},ZP)},WQ=function(e){return de({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},ZP)},VQ=function(e){var n=e.cx,r=e.value,i=LP(e),s=i.innerRef,o=i.isDisabled,a=i.isHidden,l=i.inputClassName,u=Aa(i,zQ);return ce("div",K({},it(e,"input",{"input-container":!0}),{"data-value":r||""}),ce("input",K({className:n({input:!0},l),ref:s,style:WQ(a),disabled:o},u)))},XQ=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors;return de({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},qQ=function(e,n){var r=e.theme,i=r.borderRadius,s=r.colors,o=e.cropWithEllipsis;return de({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},YQ=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors,a=e.isFocused;return de({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:a?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},QP=function(e){var n=e.children,r=e.innerProps;return ce("div",r,n)},KQ=QP,ZQ=QP;function QQ(t){var e=t.children,n=t.innerProps;return ce("div",K({role:"button"},n),e||ce($1,{size:14}))}var JQ=function(e){var n=e.children,r=e.components,i=e.data,s=e.innerProps,o=e.isDisabled,a=e.removeProps,l=e.selectProps,u=r.Container,c=r.Label,h=r.Remove;return ce(u,{data:i,innerProps:de(de({},it(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:l},ce(c,{data:i,innerProps:de({},it(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),ce(h,{data:i,innerProps:de(de({},it(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},a),selectProps:l}))},eJ=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.theme,a=o.spacing,l=o.colors;return de({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:s?l.neutral0:"inherit",padding:"".concat(a.baseUnit*2,"px ").concat(a.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?l.primary:l.primary50}})},tJ=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.innerRef,a=e.innerProps;return ce("div",K({},it(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:o,"aria-disabled":r},a),n)},nJ=function(e,n){var r=e.theme,i=r.spacing,s=r.colors;return de({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},rJ=function(e){var n=e.children,r=e.innerProps;return ce("div",K({},it(e,"placeholder",{placeholder:!0}),r),n)},iJ=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing,o=i.colors;return de({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},sJ=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return ce("div",K({},it(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},oJ={ClearIndicator:IQ,Control:$Q,DropdownIndicator:PQ,DownChevron:qP,CrossIcon:$1,Group:LQ,GroupHeading:jQ,IndicatorsContainer:SQ,IndicatorSeparator:RQ,Input:VQ,LoadingIndicator:KP,Menu:dQ,MenuList:pQ,MenuPortal:yQ,LoadingMessage:VP,NoOptionsMessage:WP,MultiValue:JQ,MultiValueContainer:KQ,MultiValueLabel:ZQ,MultiValueRemove:QQ,Option:tJ,Placeholder:rJ,SelectContainer:xQ,SingleValue:sJ,ValueContainer:_Q},aJ=function(e){return de(de({},oJ),e.components)},aE=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function lJ(t,e){return!!(t===e||aE(t)&&aE(e))}function uJ(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!lJ(t[n],e[n]))return!1;return!0}function cJ(t,e){e===void 0&&(e=uJ);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var hJ={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},lE=function(e){return ce("span",K({css:hJ},e))},dJ={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.isDisabled,s=e.tabSelectsValue,o=e.context;switch(o){case"menu":return"Use Up and Down to choose options".concat(i?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,o=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,s=e.label,o=s===void 0?"":s,a=e.selectValue,l=e.isDisabled,u=e.isSelected,c=function(p,m){return p&&p.length?"".concat(p.indexOf(m)+1," of ").concat(p.length):""};if(n==="value"&&a)return"value ".concat(o," focused, ").concat(c(a,r),".");if(n==="menu"){var h=l?" disabled":"",d="".concat(u?"selected":"focused").concat(h);return"option ".concat(o," ").concat(d,", ").concat(c(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},fJ=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,o=e.isFocused,a=e.selectValue,l=e.selectProps,u=e.id,c=l.ariaLiveMessages,h=l.getOptionLabel,d=l.inputValue,f=l.isMulti,p=l.isOptionDisabled,m=l.isSearchable,v=l.menuIsOpen,g=l.options,b=l.screenReaderStatus,y=l.tabSelectsValue,x=l["aria-label"],S=l["aria-live"],C=w.useMemo(function(){return de(de({},dJ),c||{})},[c]),T=w.useMemo(function(){var k="";if(n&&C.onChange){var H=n.option,q=n.options,z=n.removedValue,L=n.removedValues,G=n.value,R=function(Q){return Array.isArray(Q)?null:Q},X=z||H||R(G),Z=X?h(X):"",F=q||L||void 0,$=F?F.map(h):[],P=de({isDisabled:X&&p(X,a),label:Z,labels:$},n);k=C.onChange(P)}return k},[n,C,p,a,h]),A=w.useMemo(function(){var k="",H=r||i,q=!!(r&&a&&a.includes(r));if(H&&C.onFocus){var z={focused:H,label:h(H),isDisabled:p(H,a),isSelected:q,options:s,context:H===r?"menu":"value",selectValue:a};k=C.onFocus(z)}return k},[r,i,h,p,C,s,a]),I=w.useMemo(function(){var k="";if(v&&g.length&&C.onFilter){var H=b({count:s.length});k=C.onFilter({inputValue:d,resultsMessage:H})}return k},[s,d,v,C,g,b]),M=w.useMemo(function(){var k="";if(C.guidance){var H=i?"value":v?"menu":"input";k=C.guidance({"aria-label":x,context:H,isDisabled:r&&p(r,a),isMulti:f,isSearchable:m,tabSelectsValue:y})}return k},[x,r,i,f,p,m,v,C,a,y]),N="".concat(A," ").concat(I," ").concat(M),D=ce(w.Fragment,null,ce("span",{id:"aria-selection"},T),ce("span",{id:"aria-context"},N)),B=(n==null?void 0:n.action)==="initial-input-focus";return ce(w.Fragment,null,ce(lE,{id:u},B&&D),ce(lE,{"aria-live":S,"aria-atomic":"false","aria-relevant":"additions text"},o&&!B&&D))},xv=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],pJ=new RegExp("["+xv.map(function(t){return t.letters}).join("")+"]","g"),JP={};for(var Hp=0;Hp<xv.length;Hp++)for(var Gp=xv[Hp],Wp=0;Wp<Gp.letters.length;Wp++)JP[Gp.letters[Wp]]=Gp.base;var eO=function(e){return e.replace(pJ,function(n){return JP[n]})},mJ=cJ(eO),uE=function(e){return e.replace(/^\s+|\s+$/g,"")},gJ=function(e){return"".concat(e.label," ").concat(e.value)},vJ=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=de({ignoreCase:!0,ignoreAccents:!0,stringify:gJ,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,o=i.ignoreAccents,a=i.stringify,l=i.trim,u=i.matchFrom,c=l?uE(r):r,h=l?uE(a(n)):a(n);return s&&(c=c.toLowerCase(),h=h.toLowerCase()),o&&(c=mJ(c),h=eO(h)),u==="start"?h.substr(0,c.length)===c:h.indexOf(c)>-1}},yJ=["innerRef"];function bJ(t){var e=t.innerRef,n=Aa(t,yJ),r=aQ(n,"onExited","in","enter","exit","appear");return ce("input",K({ref:e},r,{css:F1({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var xJ=function(e){e.preventDefault(),e.stopPropagation()};function wJ(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,o=w.useRef(!1),a=w.useRef(!1),l=w.useRef(0),u=w.useRef(null),c=w.useCallback(function(v,g){if(u.current!==null){var b=u.current,y=b.scrollTop,x=b.scrollHeight,S=b.clientHeight,C=u.current,T=g>0,A=x-S-y,I=!1;A>g&&o.current&&(r&&r(v),o.current=!1),T&&a.current&&(s&&s(v),a.current=!1),T&&g>A?(n&&!o.current&&n(v),C.scrollTop=x,I=!0,o.current=!0):!T&&-g>y&&(i&&!a.current&&i(v),C.scrollTop=0,I=!0,a.current=!0),I&&xJ(v)}},[n,r,i,s]),h=w.useCallback(function(v){c(v,v.deltaY)},[c]),d=w.useCallback(function(v){l.current=v.changedTouches[0].clientY},[]),f=w.useCallback(function(v){var g=l.current-v.changedTouches[0].clientY;c(v,g)},[c]),p=w.useCallback(function(v){if(v){var g=iQ?{passive:!1}:!1;v.addEventListener("wheel",h,g),v.addEventListener("touchstart",d,g),v.addEventListener("touchmove",f,g)}},[f,d,h]),m=w.useCallback(function(v){v&&(v.removeEventListener("wheel",h,!1),v.removeEventListener("touchstart",d,!1),v.removeEventListener("touchmove",f,!1))},[f,d,h]);return w.useEffect(function(){if(e){var v=u.current;return p(v),function(){m(v)}}},[e,p,m]),function(v){u.current=v}}var cE=["boxSizing","height","overflow","paddingRight","position"],hE={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function dE(t){t.preventDefault()}function fE(t){t.stopPropagation()}function pE(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function mE(){return"ontouchstart"in window||navigator.maxTouchPoints}var gE=!!(typeof window<"u"&&window.document&&window.document.createElement),Ga=0,Us={capture:!1,passive:!1};function _J(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=w.useRef({}),s=w.useRef(null),o=w.useCallback(function(l){if(gE){var u=document.body,c=u&&u.style;if(r&&cE.forEach(function(p){var m=c&&c[p];i.current[p]=m}),r&&Ga<1){var h=parseInt(i.current.paddingRight,10)||0,d=document.body?document.body.clientWidth:0,f=window.innerWidth-d+h||0;Object.keys(hE).forEach(function(p){var m=hE[p];c&&(c[p]=m)}),c&&(c.paddingRight="".concat(f,"px"))}u&&mE()&&(u.addEventListener("touchmove",dE,Us),l&&(l.addEventListener("touchstart",pE,Us),l.addEventListener("touchmove",fE,Us))),Ga+=1}},[r]),a=w.useCallback(function(l){if(gE){var u=document.body,c=u&&u.style;Ga=Math.max(Ga-1,0),r&&Ga<1&&cE.forEach(function(h){var d=i.current[h];c&&(c[h]=d)}),u&&mE()&&(u.removeEventListener("touchmove",dE,Us),l&&(l.removeEventListener("touchstart",pE,Us),l.removeEventListener("touchmove",fE,Us)))}},[r]);return w.useEffect(function(){if(e){var l=s.current;return o(l),function(){a(l)}}},[e,o,a]),function(l){s.current=l}}var EJ=function(){return document.activeElement&&document.activeElement.blur()},SJ={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function CJ(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,s=t.onBottomArrive,o=t.onBottomLeave,a=t.onTopArrive,l=t.onTopLeave,u=wJ({isEnabled:i,onBottomArrive:s,onBottomLeave:o,onTopArrive:a,onTopLeave:l}),c=_J({isEnabled:n}),h=function(f){u(f),c(f)};return ce(w.Fragment,null,n&&ce("div",{onClick:EJ,css:SJ}),e(h))}var TJ={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},AJ=function(e){var n=e.name,r=e.onFocus;return ce("input",{required:!0,name:n,tabIndex:-1,onFocus:r,css:TJ,value:"",onChange:function(){}})},PJ=function(e){return e.label},OJ=function(e){return e.label},IJ=function(e){return e.value},kJ=function(e){return!!e.isDisabled},RJ={clearIndicator:OQ,container:bQ,control:DQ,dropdownIndicator:AQ,group:NQ,groupHeading:UQ,indicatorsContainer:EQ,indicatorSeparator:kQ,input:HQ,loadingIndicator:FQ,loadingMessage:gQ,menu:cQ,menuList:fQ,menuPortal:vQ,multiValue:XQ,multiValueLabel:qQ,multiValueRemove:YQ,noOptionsMessage:mQ,option:eJ,placeholder:nJ,singleValue:iJ,valueContainer:wQ},MJ={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},FJ=4,tO=4,DJ=38,$J=tO*2,BJ={baseUnit:tO,controlHeight:DJ,menuGutter:$J},Vp={borderRadius:FJ,colors:MJ,spacing:BJ},NJ={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:sE(),captureMenuScroll:!sE(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:vJ(),formatGroupLabel:PJ,getOptionLabel:OJ,getOptionValue:IJ,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:kJ,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!nQ(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function vE(t,e,n,r){var i=sO(t,e,n),s=oO(t,e,n),o=iO(t,e),a=pd(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:o,value:a,index:r}}function nO(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(o,a){return vE(t,o,e,a)}).filter(function(o){return yE(t,o)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=vE(t,n,e,r);return yE(t,s)?s:void 0}).filter(sQ)}function rO(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,fP(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function LJ(t,e){return rO(nO(t,e))}function yE(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,s=e.isSelected,o=e.label,a=e.value;return(!lO(t)||!s)&&aO(t,{label:o,value:a,data:i},r)}function UJ(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var s=e.indexOf(n);if(s>-1)return n;if(i<e.length)return e[i]}return null}function jJ(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var iO=function(e,n){return e.getOptionLabel(n)},pd=function(e,n){return e.getOptionValue(n)};function sO(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function oO(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=pd(t,e);return n.some(function(i){return pd(t,i)===r})}function aO(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var lO=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},zJ=1,uO=function(t){BK(n,t);var e=jK(n);function n(r){var i;if(DK(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.instancePrefix="",i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.controlRef=null,i.getControlRef=function(a){i.controlRef=a},i.focusedOptionRef=null,i.getFocusedOptionRef=function(a){i.focusedOptionRef=a},i.menuListRef=null,i.getMenuListRef=function(a){i.menuListRef=a},i.inputRef=null,i.getInputRef=function(a){i.inputRef=a},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(a,l){var u=i.props,c=u.onChange,h=u.name;l.name=h,i.ariaOnChange(a,l),c(a,l)},i.setValue=function(a,l,u){var c=i.props,h=c.closeMenuOnSelect,d=c.isMulti,f=c.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:f}),h&&(i.setState({inputIsHiddenAfterUpdate:!d}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(a,{action:l,option:u})},i.selectOption=function(a){var l=i.props,u=l.blurInputOnSelect,c=l.isMulti,h=l.name,d=i.state.selectValue,f=c&&i.isOptionSelected(a,d),p=i.isOptionDisabled(a,d);if(f){var m=i.getOptionValue(a);i.setValue(d.filter(function(v){return i.getOptionValue(v)!==m}),"deselect-option",a)}else if(!p)c?i.setValue([].concat(fP(d),[a]),"select-option",a):i.setValue(a,"select-option");else{i.ariaOnChange(a,{action:"select-option",option:a,name:h});return}u&&i.blurInput()},i.removeValue=function(a){var l=i.props.isMulti,u=i.state.selectValue,c=i.getOptionValue(a),h=u.filter(function(f){return i.getOptionValue(f)!==c}),d=Ac(l,h,h[0]||null);i.onChange(d,{action:"remove-value",removedValue:a}),i.focusInput()},i.clearValue=function(){var a=i.state.selectValue;i.onChange(Ac(i.props.isMulti,[],null),{action:"clear",removedValues:a})},i.popValue=function(){var a=i.props.isMulti,l=i.state.selectValue,u=l[l.length-1],c=l.slice(0,l.length-1),h=Ac(a,c,c[0]||null);i.onChange(h,{action:"pop-value",removedValue:u})},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return ZZ.apply(void 0,[i.props.classNamePrefix].concat(l))},i.getOptionLabel=function(a){return iO(i.props,a)},i.getOptionValue=function(a){return pd(i.props,a)},i.getStyles=function(a,l){var u=i.props.unstyled,c=RJ[a](l,u);c.boxSizing="border-box";var h=i.props.styles[a];return h?h(c,l):c},i.getClassNames=function(a,l){var u,c;return(u=(c=i.props.classNames)[a])===null||u===void 0?void 0:u.call(c,l)},i.getElementId=function(a){return"".concat(i.instancePrefix,"-").concat(a)},i.getComponents=function(){return aJ(i.props)},i.buildCategorizedOptions=function(){return nO(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return rO(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(a,l){i.setState({ariaSelection:de({value:a},l)})},i.onMenuMouseDown=function(a){a.button===0&&(a.stopPropagation(),a.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(a){i.blockOptionHover=!1},i.onControlMouseDown=function(a){if(!a.defaultPrevented){var l=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&i.onMenuClose():l&&i.openMenu("first"):(l&&(i.openAfterFocus=!0),i.focusInput()),a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&a.preventDefault()}},i.onDropdownIndicatorMouseDown=function(a){if(!(a&&a.type==="mousedown"&&a.button!==0)&&!i.props.isDisabled){var l=i.props,u=l.isMulti,c=l.menuIsOpen;i.focusInput(),c?(i.setState({inputIsHiddenAfterUpdate:!u}),i.onMenuClose()):i.openMenu("first"),a.preventDefault()}},i.onClearIndicatorMouseDown=function(a){a&&a.type==="mousedown"&&a.button!==0||(i.clearValue(),a.preventDefault(),i.openAfterFocus=!1,a.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(a){typeof i.props.closeMenuOnScroll=="boolean"?a.target instanceof HTMLElement&&Of(a.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(a)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(a){var l=a.touches,u=l&&l.item(0);u&&(i.initialTouchX=u.clientX,i.initialTouchY=u.clientY,i.userIsDragging=!1)},i.onTouchMove=function(a){var l=a.touches,u=l&&l.item(0);if(u){var c=Math.abs(u.clientX-i.initialTouchX),h=Math.abs(u.clientY-i.initialTouchY),d=5;i.userIsDragging=c>d||h>d}},i.onTouchEnd=function(a){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(a.target)&&i.menuListRef&&!i.menuListRef.contains(a.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(a){i.userIsDragging||i.onControlMouseDown(a)},i.onClearIndicatorTouchEnd=function(a){i.userIsDragging||i.onClearIndicatorMouseDown(a)},i.onDropdownIndicatorTouchEnd=function(a){i.userIsDragging||i.onDropdownIndicatorMouseDown(a)},i.handleInputChange=function(a){var l=i.props.inputValue,u=a.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(u,{action:"input-change",prevInputValue:l}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(a){i.props.onFocus&&i.props.onFocus(a),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(a){var l=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(a),i.onInputChange("",{action:"input-blur",prevInputValue:l}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(a){i.blockOptionHover||i.state.focusedOption===a||i.setState({focusedOption:a})},i.shouldHideSelectedOptions=function(){return lO(i.props)},i.onValueInputFocus=function(a){a.preventDefault(),a.stopPropagation(),i.focus()},i.onKeyDown=function(a){var l=i.props,u=l.isMulti,c=l.backspaceRemovesValue,h=l.escapeClearsValue,d=l.inputValue,f=l.isClearable,p=l.isDisabled,m=l.menuIsOpen,v=l.onKeyDown,g=l.tabSelectsValue,b=l.openMenuOnFocus,y=i.state,x=y.focusedOption,S=y.focusedValue,C=y.selectValue;if(!p&&!(typeof v=="function"&&(v(a),a.defaultPrevented))){switch(i.blockOptionHover=!0,a.key){case"ArrowLeft":if(!u||d)return;i.focusValue("previous");break;case"ArrowRight":if(!u||d)return;i.focusValue("next");break;case"Delete":case"Backspace":if(d)return;if(S)i.removeValue(S);else{if(!c)return;u?i.popValue():f&&i.clearValue()}break;case"Tab":if(i.isComposing||a.shiftKey||!m||!g||!x||b&&i.isOptionSelected(x,C))return;i.selectOption(x);break;case"Enter":if(a.keyCode===229)break;if(m){if(!x||i.isComposing)return;i.selectOption(x);break}return;case"Escape":m?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:d}),i.onMenuClose()):f&&h&&i.clearValue();break;case" ":if(d)return;if(!m){i.openMenu("first");break}if(!x)return;i.selectOption(x);break;case"ArrowUp":m?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":m?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!m)return;i.focusOption("pageup");break;case"PageDown":if(!m)return;i.focusOption("pagedown");break;case"Home":if(!m)return;i.focusOption("first");break;case"End":if(!m)return;i.focusOption("last");break;default:return}a.preventDefault()}},i.instancePrefix="react-select-"+(i.props.instanceId||++zJ),i.state.selectValue=rE(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.buildFocusableOptions(),o=s.indexOf(i.state.selectValue[0]);i.state.focusedOption=s[o]}return i}return $K(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&iE(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isDisabled,a=s.menuIsOpen,l=this.state.isFocused;(l&&!o&&i.isDisabled||l&&a&&!i.menuIsOpen)&&this.focusInput(),l&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(iE(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,o=this.state,a=o.selectValue,l=o.isFocused,u=this.buildFocusableOptions(),c=i==="first"?0:u.length-1;if(!this.props.isMulti){var h=u.indexOf(a[0]);h>-1&&(c=h)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[c]},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,o=s.selectValue,a=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=o.indexOf(a);a||(l=-1);var u=o.length-1,c=-1;if(o.length){switch(i){case"previous":l===0?c=0:l===-1?c=u:c=l-1;break;case"next":l>-1&&l<u&&(c=l+1);break}this.setState({inputIsHidden:c!==-1,focusedValue:o[c]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var l=0,u=a.indexOf(o);o||(u=-1),i==="up"?l=u>0?u-1:a.length-1:i==="down"?l=(u+1)%a.length:i==="pageup"?(l=u-s,l<0&&(l=0)):i==="pagedown"?(l=u+s,l>a.length-1&&(l=a.length-1)):i==="last"&&(l=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[l],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Vp):de(de({},Vp),this.props.theme):Vp}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,o=this.getStyles,a=this.getClassNames,l=this.getValue,u=this.selectOption,c=this.setValue,h=this.props,d=h.isMulti,f=h.isRtl,p=h.options,m=this.hasValue();return{clearValue:i,cx:s,getStyles:o,getClassNames:a,getValue:l,hasValue:m,isMulti:d,isRtl:f,options:p,selectOption:u,selectProps:h,setValue:c,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,o=i.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(i,s){return sO(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return oO(this.props,i,s)}},{key:"filterOption",value:function(i,s){return aO(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:o,selectValue:a})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,o=i.isSearchable,a=i.inputId,l=i.inputValue,u=i.tabIndex,c=i.form,h=i.menuIsOpen,d=i.required,f=this.getComponents(),p=f.Input,m=this.state,v=m.inputIsHidden,g=m.ariaSelection,b=this.commonProps,y=a||this.getElementId("input"),x=de(de(de({"aria-autocomplete":"list","aria-expanded":h,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":d,role:"combobox"},h&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(g==null?void 0:g.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?w.createElement(p,K({},b,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:y,innerRef:this.getInputRef,isDisabled:s,isHidden:v,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:c,type:"text",value:l},x)):w.createElement(bJ,K({id:y,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:dd,onFocus:this.onInputFocus,disabled:s,tabIndex:u,inputMode:"none",form:c,value:""},x))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),o=s.MultiValue,a=s.MultiValueContainer,l=s.MultiValueLabel,u=s.MultiValueRemove,c=s.SingleValue,h=s.Placeholder,d=this.commonProps,f=this.props,p=f.controlShouldRenderValue,m=f.isDisabled,v=f.isMulti,g=f.inputValue,b=f.placeholder,y=this.state,x=y.selectValue,S=y.focusedValue,C=y.isFocused;if(!this.hasValue()||!p)return g?null:w.createElement(h,K({},d,{key:"placeholder",isDisabled:m,isFocused:C,innerProps:{id:this.getElementId("placeholder")}}),b);if(v)return x.map(function(A,I){var M=A===S,N="".concat(i.getOptionLabel(A),"-").concat(i.getOptionValue(A));return w.createElement(o,K({},d,{components:{Container:a,Label:l,Remove:u},isFocused:M,isDisabled:m,key:N,index:I,removeProps:{onClick:function(){return i.removeValue(A)},onTouchEnd:function(){return i.removeValue(A)},onMouseDown:function(B){B.preventDefault()}},data:A}),i.formatOptionLabel(A,"value"))});if(g)return null;var T=x[0];return w.createElement(c,K({},d,{data:T,isDisabled:m}),this.formatOptionLabel(T,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,u=a.isLoading,c=this.state.isFocused;if(!this.isClearable()||!s||l||!this.hasValue()||u)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return w.createElement(s,K({},o,{innerProps:h,isFocused:c}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,u=a.isLoading,c=this.state.isFocused;if(!s||!u)return null;var h={"aria-hidden":"true"};return w.createElement(s,K({},o,{innerProps:h,isDisabled:l,isFocused:c}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,o=i.IndicatorSeparator;if(!s||!o)return null;var a=this.commonProps,l=this.props.isDisabled,u=this.state.isFocused;return w.createElement(o,K({},a,{isDisabled:l,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var o=this.commonProps,a=this.props.isDisabled,l=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return w.createElement(s,K({},o,{innerProps:u,isDisabled:a,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),o=s.Group,a=s.GroupHeading,l=s.Menu,u=s.MenuList,c=s.MenuPortal,h=s.LoadingMessage,d=s.NoOptionsMessage,f=s.Option,p=this.commonProps,m=this.state.focusedOption,v=this.props,g=v.captureMenuScroll,b=v.inputValue,y=v.isLoading,x=v.loadingMessage,S=v.minMenuHeight,C=v.maxMenuHeight,T=v.menuIsOpen,A=v.menuPlacement,I=v.menuPosition,M=v.menuPortalTarget,N=v.menuShouldBlockScroll,D=v.menuShouldScrollIntoView,B=v.noOptionsMessage,k=v.onMenuScrollToTop,H=v.onMenuScrollToBottom;if(!T)return null;var q=function(F,$){var P=F.type,W=F.data,Q=F.isDisabled,ve=F.isSelected,ge=F.label,Ce=F.value,oe=m===W,Ae=Q?void 0:function(){return i.onOptionHover(W)},Ee=Q?void 0:function(){return i.selectOption(W)},Qe="".concat(i.getElementId("option"),"-").concat($),wt={id:Qe,onClick:Ee,onMouseMove:Ae,onMouseOver:Ae,tabIndex:-1};return w.createElement(f,K({},p,{innerProps:wt,data:W,isDisabled:Q,isSelected:ve,key:Qe,label:ge,type:P,value:Ce,isFocused:oe,innerRef:oe?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(F.data,"menu"))},z;if(this.hasOptions())z=this.getCategorizedOptions().map(function(Z){if(Z.type==="group"){var F=Z.data,$=Z.options,P=Z.index,W="".concat(i.getElementId("group"),"-").concat(P),Q="".concat(W,"-heading");return w.createElement(o,K({},p,{key:W,data:F,options:$,Heading:a,headingProps:{id:Q,data:Z.data},label:i.formatGroupLabel(Z.data)}),Z.options.map(function(ve){return q(ve,"".concat(P,"-").concat(ve.index))}))}else if(Z.type==="option")return q(Z,"".concat(Z.index))});else if(y){var L=x({inputValue:b});if(L===null)return null;z=w.createElement(h,p,L)}else{var G=B({inputValue:b});if(G===null)return null;z=w.createElement(d,p,G)}var R={minMenuHeight:S,maxMenuHeight:C,menuPlacement:A,menuPosition:I,menuShouldScrollIntoView:D},X=w.createElement(hQ,K({},p,R),function(Z){var F=Z.ref,$=Z.placerProps,P=$.placement,W=$.maxHeight;return w.createElement(l,K({},p,R,{innerRef:F,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove,id:i.getElementId("listbox")},isLoading:y,placement:P}),w.createElement(CJ,{captureEnabled:g,onTopArrive:k,onBottomArrive:H,lockEnabled:N},function(Q){return w.createElement(u,K({},p,{innerRef:function(ge){i.getMenuListRef(ge),Q(ge)},isLoading:y,maxHeight:W,focusedOption:m}),z)}))});return M||I==="fixed"?w.createElement(c,K({},p,{appendTo:M,controlElement:this.controlRef,menuPlacement:A,menuPosition:I}),X):X}},{key:"renderFormField",value:function(){var i=this,s=this.props,o=s.delimiter,a=s.isDisabled,l=s.isMulti,u=s.name,c=s.required,h=this.state.selectValue;if(!(!u||a)){if(c&&!this.hasValue())return w.createElement(AJ,{name:u,onFocus:this.onValueInputFocus});if(l)if(o){var d=h.map(function(m){return i.getOptionValue(m)}).join(o);return w.createElement("input",{name:u,type:"hidden",value:d})}else{var f=h.length>0?h.map(function(m,v){return w.createElement("input",{key:"i-".concat(v),name:u,type:"hidden",value:i.getOptionValue(m)})}):w.createElement("input",{name:u,type:"hidden",value:""});return w.createElement("div",null,f)}else{var p=h[0]?this.getOptionValue(h[0]):"";return w.createElement("input",{name:u,type:"hidden",value:p})}}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,o=s.ariaSelection,a=s.focusedOption,l=s.focusedValue,u=s.isFocused,c=s.selectValue,h=this.getFocusableOptions();return w.createElement(fJ,K({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:a,focusedValue:l,isFocused:u,selectValue:c,focusableOptions:h}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,o=i.IndicatorsContainer,a=i.SelectContainer,l=i.ValueContainer,u=this.props,c=u.className,h=u.id,d=u.isDisabled,f=u.menuIsOpen,p=this.state.isFocused,m=this.commonProps=this.getCommonProps();return w.createElement(a,K({},m,{className:c,innerProps:{id:h,onKeyDown:this.onKeyDown},isDisabled:d,isFocused:p}),this.renderLiveRegion(),w.createElement(s,K({},m,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:d,isFocused:p,menuIsOpen:f}),w.createElement(l,K({},m,{isDisabled:d}),this.renderPlaceholderOrValue(),this.renderInput()),w.createElement(o,K({},m,{isDisabled:d}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var o=s.prevProps,a=s.clearFocusValueOnUpdate,l=s.inputIsHiddenAfterUpdate,u=s.ariaSelection,c=s.isFocused,h=s.prevWasFocused,d=i.options,f=i.value,p=i.menuIsOpen,m=i.inputValue,v=i.isMulti,g=rE(f),b={};if(o&&(f!==o.value||d!==o.options||p!==o.menuIsOpen||m!==o.inputValue)){var y=p?LJ(i,g):[],x=a?UJ(s,g):null,S=jJ(s,y);b={selectValue:g,focusedOption:S,focusedValue:x,clearFocusValueOnUpdate:!1}}var C=l!=null&&i!==o?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},T=u,A=c&&h;return c&&!A&&(T={value:Ac(v,g,g[0]||null),options:g,action:"initial-input-focus"},A=!h),(u==null?void 0:u.action)==="initial-input-focus"&&(T=null),de(de(de({},b),C),{},{prevProps:i,ariaSelection:T,prevWasFocused:A})}}]),n}(w.Component);uO.defaultProps=NJ;var HJ=w.forwardRef(function(t,e){var n=FK(t);return w.createElement(uO,K({ref:e},n))});const If=HJ;function bE(t,e){return _e(t,{value:e})}function GJ(t){return pe(t,e=>({value:e.id,label:e.name}))}function WJ({valueChanged:t,defaultValue:e}){const{abilityTypes:n}=w.useContext(Bt),[r,i]=w.useState(GJ(n));return E(If,{className:"ability-select",classNames:{control:()=>"select",singleValue:()=>"single-value",menu:()=>"select-menu"},options:r,onChange:s=>t(s==null?void 0:s.value),defaultValue:e?bE(r,e):null,value:bE(r,e)})}function xE(t,e){t&&e&&Me(Object.keys(t),n=>{e[n]&&e[n]})}function VJ({tags:t,type:e,tagsChanged:n,typeChanged:r}){const{tagColors:i,setTagColors:s}=w.useContext(Du),[o,a]=w.useState(t||[]),[l,u]=w.useState(e),[c,h]=w.useState(xE(t,i)||{}),[d,f]=w.useState(null);w.useEffect(()=>{h(xE(t,i)||{})},[i]);const p=(y,x)=>{let S=[...o];S[x]=y,a(S),n(S)},m=()=>{a([...o,""]),n([...o,""]),f(t==null?void 0:t.length)},v=y=>{let x=[...o];x.splice(y,1),a(x),n(x)},g=y=>{u(y),r(y)},b=(y,x)=>{s({type:"add",color:y,tag:x})};return U("div",{className:"tag-select",children:[E(WJ,{defaultValue:e,valueChanged:g}),o==null?void 0:o.map((y,x)=>U("span",{className:"stat-tag form-control",style:{borderColor:i[y]},children:[E("div",{className:"tag-color",children:E(Jl,{color:i[y],colorChanged:S=>b(S,y)})}),E(Ar,{autoFocus:d===x,value:y,valueChanged:S=>p(S,x)}),E(rt,{clicked:()=>v(x),children:"x"})]},x)),E("button",{className:"add-tag",onClick:m,children:E(gA,{size:18})})]})}var XJ=function(e){var n=w.useRef(e);return hd(function(){n.current=e}),n},wE=function(e,n){if(typeof e=="function"){e(n);return}e.current=n},qJ=function(e,n){var r=w.useRef();return w.useCallback(function(i){e.current=i,r.current&&wE(r.current,null),r.current=n,n&&wE(n,i)},[n])},_E={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},EE=function(e){Object.keys(_E).forEach(function(n){e.style.setProperty(n,_E[n],"important")})},Zt=null,YJ=function(e,n){var r=e.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function KJ(t,e,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),Zt||(Zt=document.createElement("textarea"),Zt.setAttribute("tabindex","-1"),Zt.setAttribute("aria-hidden","true"),EE(Zt)),Zt.parentNode===null&&document.body.appendChild(Zt);var i=t.paddingSize,s=t.borderSize,o=t.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(d){var f=d;Zt.style[f]=o[f]}),EE(Zt),Zt.value=e;var l=YJ(Zt,t);Zt.value="x";var u=Zt.scrollHeight-i,c=u*n;a==="border-box"&&(c=c+i+s),l=Math.max(c,l);var h=u*r;return a==="border-box"&&(h=h+i+s),l=Math.min(h,l),[l,u]}var SE=function(){},ZJ=function(e,n){return e.reduce(function(r,i){return r[i]=n[i],r},{})},QJ=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],JJ=!!document.documentElement.currentStyle,eee=function(e){var n=window.getComputedStyle(e);if(n===null)return null;var r=ZJ(QJ,n),i=r.boxSizing;if(i==="")return null;JJ&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},tee=function(e){var n=XJ(e);w.useLayoutEffect(function(){var r=function(s){n.current(s)};return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}},[])},nee=function(e,n){var r=e.cacheMeasurements,i=e.maxRows,s=e.minRows,o=e.onChange,a=o===void 0?SE:o,l=e.onHeightChange,u=l===void 0?SE:l,c=un(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),h=c.value!==void 0,d=w.useRef(null),f=qJ(d,n),p=w.useRef(0),m=w.useRef(),v=function(){var y=d.current,x=r&&m.current?m.current:eee(y);if(x){m.current=x;var S=KJ(x,y.value||y.placeholder||"x",s,i),C=S[0],T=S[1];p.current!==C&&(p.current=C,y.style.setProperty("height",C+"px","important"),u(C,{rowHeight:T}))}},g=function(y){h||v(),a(y)};return w.useLayoutEffect(v),tee(v),w.createElement("textarea",K({},c,{onChange:g,ref:f}))},ree=w.forwardRef(nee);const cO=ree;function CE(t,e){return _e(t,{value:e})}function iee(t){return pe(t,e=>({value:e.id,label:e.name}))}function TE(t,e,n){const r=Ms(vn(iee(e),i=>!Ru(t,i.value)),"label");return n?[{value:null,label:"(None)"},...r]:r}function hO({usedOptions:t,valueChanged:e,defaultValue:n,showEmptyOption:r=!1}){const{abilities:i}=w.useContext(Bt),[s,o]=w.useState(TE(t,i,r));return E(If,{className:"ability-select",classNames:{control:()=>"select",singleValue:()=>"single-value",menu:()=>"select-menu"},options:TE(t,i,r),onChange:a=>e(a==null?void 0:a.value),defaultValue:n?CE(s,n):null,value:CE(s,n)})}function St({children:t,name:e,startOpen:n,disabled:r=!1}){const[i,s]=w.useState(n),o=a=>{r||s(!i)};return i?U("div",{className:Ai({accordion:!0,open:!0,disabled:r}),children:[U("button",{className:"accordion-button",onClick:o,children:[e,E(dA,{})]}),E("div",{className:"container",children:t})]}):E("div",{className:Ai({accordion:!0,closed:!0,disabled:r}),children:U("button",{className:"accordion-button",onClick:o,children:[e,E("span",{className:"icon",children:E(hA,{})})]})})}function AE(t={}){return t?pe(Object.keys(t),e=>({name:e,value:t[e]})):[]}function PE(t){let e={};return Me(t,n=>{e[n.name]=n.value}),e}function see({ability:t,abilityChanged:e,editingCanceled:n,abilityRemoved:r,abilityCopied:i}){const{setAbilities:s}=w.useContext(Bt),[o,a]=w.useState(t.id),[l,u]=w.useState(t),[c,h]=w.useState(AE(t.params)),d=w.useRef(null);w.useEffect(()=>{var x;(x=d.current)==null||x.focus()},[]),w.useEffect(()=>{h(AE(t.params))},[t]);const f=(x,S)=>{u({...l,[x]:S})},p=x=>{u({...l,tags:x})},m=x=>{u({...l,type:x})},v=x=>{h(x)},g=()=>{br(e)&&e({ability:{...l,params:PE(c)},id:t.id}),s({type:"update",ability:{...l,params:PE(c),tags:Dw(l.tags)},targetId:o}),s({type:"save"})},b=()=>{br(r)&&r(t.id)},y=()=>{const x=`${t.id}-copy`;g(),s({type:"add",ability:{...l,tags:Dw(l.tags),id:x,name:`${t.name} Copy`}}),br(i)&&i({id:x})};return U("div",{className:"ability-card editable",children:[U("div",{className:"name",children:[E(rt,{color:"info",clicked:()=>{br(n)&&n()},children:E(vA,{})}),E("div",{className:"form-control",children:E("input",{ref:d,type:"text",value:l.name,onChange:x=>f("name",x.target.value)})})]}),E("div",{className:"form-control id",children:E("input",{type:"text",value:l.id,onChange:x=>f("id",x.target.value)})}),U("div",{className:"replaces",children:[E("div",{className:"replaces-name",children:"Replaces"}),E(hO,{usedOptions:[l.id],defaultValue:l.replaces,valueChanged:x=>f("replaces",x),showEmptyOption:!0})]}),U("p",{className:"description form-control",children:[" ",E(cO,{placeholder:"Description",rows:10,value:l.description||"",onChange:x=>f("description",x.target.value)})]}),U("div",{className:"accordions",children:[E(St,{name:"Tags",startOpen:!0,children:E("div",{className:"tags",children:E(VJ,{tags:l.tags,type:l.type,tagsChanged:p,typeChanged:m})})}),E(St,{name:"Params",startOpen:!1,children:E("div",{className:"params",children:E(SL,{params:c,paramsChanged:v})})})]}),U("div",{className:"buttons",children:[U(us,{type:"outline",color:"success",clicked:g,children:["Save ",E(Jo,{})]}),U(us,{type:"outline",color:"theme",clicked:y,children:["Save & Copy ",E(wN,{})]}),U(us,{type:"outline",color:"danger",clicked:b,children:["Delete ",E(va,{})]})]})]})}function oee(t){let e={};Me(t,n=>{e[n.id]=n.modifier})}function aee(t,e,n){let r=t;return Me(Object.keys(e),i=>{let s=e[i];e[i]?r=r.replace(new RegExp(`{\\b${i}\\b}([^*]+)\\{/\\b${i}\\b}`),"$1"):r=r.replace(new RegExp(`{\\b${i}\\b}([^*]+)\\{/\\b${i}\\b}`),""),r=r.replace(new RegExp("%"+i+"%","g"),s)}),n&&Me(Object.keys(n),i=>{let s=n[i];n[i]?r=r.replace(new RegExp(`{@\\b${i}\\b}([^*]+)\\{/\\b${i}\\b}`),"$1"):r=r.replace(new RegExp(`{@\\b${i}\\b}([^*]+)\\{/\\b${i}\\b}`),""),r=r.replace(new RegExp(`%@${i}%`,"g"),s)}),r}function OE(t,e,n){let r,i=Ie(t.params);return i&&e&&Me(Object.keys(i),s=>{e[s]&&(i[s]=i[s]+e[s])}),t.params?r=aee(t.description,i,n):br(t.description)?r=t.description({}):r=t.description,r}function ru({ability:t,modifiers:e,tags:n,startOpen:r=!0,editable:i=!1,abilityCopied:s,abilityRemoved:o,forceIsEditing:a=!1,isExpanded:l}){var D,B,k,H,q;const{abilityTypes:u,globalParams:c}=w.useContext(Bt),{build:h}=w.useContext(Fs),{abilities:d}=w.useContext(Bt),{tagColors:f,setTagColors:p}=w.useContext(Du),[m,v]=w.useState(Tn(h==null?void 0:h.globalParams)?oee(c):h.globalParams),[g,b]=w.useState(OE(t,e,m)),[y,x]=w.useState(r),[S,C]=w.useState(!1),[T,A]=w.useState((D=_e(u,{id:t.type}))==null?void 0:D.color);w.useEffect(()=>{v(h.globalParams)},[h]),w.useEffect(()=>{Tn(l)||x(!!l)},[l]),w.useEffect(()=>{a&&C(!0)},[a]);const I=z=>{C(!1),p({type:"save"})},M=z=>{s(z)},N=z=>{C(!1),o(z)};return w.useEffect(()=>{b(OE(t,e,m))},[t,e]),S?E(see,{ability:t,abilityChanged:I,editingCanceled:()=>C(!1),abilityCopied:M,abilityRemoved:N}):U("div",{className:"ability-card",style:{borderColor:T},children:[U("div",{className:"name",children:[i&&E(rt,{color:"mutedText",clicked:()=>C(!S),children:E(mA,{})}),U("button",{className:"card-title",onClick:()=>x(!y),children:[U("div",{className:"left",children:[t.name,E("div",{className:"dots",children:!y&&pe(t.tags,z=>E("span",{className:"dot",style:{backgroundColor:f[z]}},z))})]}),E("div",{className:"chevron",children:y?E(dA,{}):E(hA,{})})]})]}),y?U("div",{className:"collapsible-content",children:[U("div",{className:"top",children:[t.replaces&&U("div",{className:"replaces",children:["Replaces"," ",E("span",{children:(B=_e(d,{id:t.replaces}))==null?void 0:B.name})]}),E("p",{className:"description",children:g})]}),E("div",{className:"bottom",children:U("div",{className:"tags",children:[E(lv,{color:((k=_e(u,{id:t.type}))==null?void 0:k.color)||"#ffffff",label:(H=_e(u,{id:t.type}))==null?void 0:H.name,emphasize:!0}),(q=Ms(Ql([...t.tags||[],...n||[]])))==null?void 0:q.map(z=>E(lv,{label:z},z))]})})]}):""]})}function Xp(t,e){return t?t.levels&&t.levels>1?e==null?void 0:e.acquired[t.id]:e!=null&&e.selected[t.id]?1:0:[]}function IE(t,e){return pe(t==null?void 0:t.providedAbilities,n=>({..._e(e,{id:n.id}),modifiers:{}}))}function kE(t,e,n){let r={};return Me(t,i=>{var o;let s={...(o=e==null?void 0:e.abilities[i==null?void 0:i.id])==null?void 0:o.modifiers};Me(i.modifiers,a=>{n||(Tn(s[a.id])?s[a.id]=a.modifier:s[a.id]+=a.modifier)}),r[i.id]=s}),r}function Pc(t,e){var r;let n="";return(r=t==null?void 0:t.requires)!=null&&r.length&&(n=oA(t.requires,(i,s)=>{const o=_e(e,{id:s.id});let a;return s.levels&&s.levels>1?a=`${o==null?void 0:o.name} (${s.levels})`:a=o==null?void 0:o.name,[...i,`${a}`]},[]).join(t.requirementType==="or"?" or ":" and ")),`${n}`}function lee({graphEvents:t}){var y;const{selectedNodeId:e,nodes:n,nodeMeta:r}=w.useContext(ti),{build:i}=w.useContext(Fs),{abilities:s}=w.useContext(Bt),[o,a]=w.useState(_e(n,{id:e})),[l,u]=w.useState(IE(o,s)),[c,h]=w.useState(o?kE(o==null?void 0:o.providedAbilities,i,o==null?void 0:o.selected):{}),[d,f]=w.useState(Pc(o,n)),[p,m]=w.useState(Xp(o,r)),v=w.useRef(d);let g=(y=o==null?void 0:o.colors)==null?void 0:y.selected;w.useEffect(()=>{a(_e(n,{id:e}))},[e]),w.useEffect(()=>{var x;o&&(m(Xp(o,r)),g=(x=o==null?void 0:o.colors)==null?void 0:x.selected,u(IE(o,s)),h(kE(o==null?void 0:o.providedAbilities,i,o==null?void 0:o.selected)),f(Pc(o,o)),v.current=Pc(o,n))},[o]),w.useEffect(()=>{m(Xp(o,r)),v.current=Pc(o,n)},[r]);const b=x=>{if(r.available[e]){let S=p;o.levels&&o.levels>1?p===x+1?S=x:S=x+1:S=!S,m(S),t.next({event:"nodeAcquisitionChanged",data:{id:e,acquired:S}})}};return o?U("div",{className:"info-panel",children:[E("div",{children:o!=null&&o.levels?E("span",{className:"cost",children:Fu(o==null?void 0:o.levels,x=>{var S;return E("span",{onClick:()=>b(x),className:Ai({unavailable:!r.available[e],"level-points":!0,"not-acquired":p<x+1}),style:p>x?{background:g}:{},children:(S=o==null?void 0:o.levelCost)!=null&&S.length?o==null?void 0:o.levelCost[x]:o==null?void 0:o.levelCost},x)})}):E("span",{className:"cost",children:E("span",{onClick:()=>b(),className:Ai({unavailable:!r.available[e],"level-points":!0,"not-acquired":!p}),style:p?{background:g}:{},children:(o==null?void 0:o.cost)>1?o==null?void 0:o.cost:""})})}),U("div",{className:"title",children:[o==null?void 0:o.name," "]}),E("div",{className:"divider",style:{backgroundColor:g}}),r!=null&&r.available[o==null?void 0:o.id]?null:U("div",{className:"requires",children:["Requires ",E("span",{className:"skill",children:v.current})]}),E("div",{className:"info-description",children:o==null?void 0:o.description}),l.length>0&&U("div",{className:"abilities",children:[E("div",{className:"title",children:"Related Abilities:"}),l&&l.map(x=>E(ru,{ability:x,modifiers:c[x.id]},x.id))]})]}):E("div",{className:"info-panel",children:"Select a Node "})}const ri=w.createContext({});function uee(){const t=window.localStorage.getItem("dragon-config-version");if(t)try{return JSON.parse(t)}catch{return"0.0.0"}else return"0.0.0"}function cee(t,e){const{type:n,version:r}=e;if(n==="set")return window.localStorage.setItem("dragon-config-version",JSON.stringify(r)),r}const hee=({children:t})=>{const[e,n]=w.useState("build-slow"),[r,i]=w.useState("build-slow"),[s,o]=w.useState(!0),[a,l]=w.useState(!0),[u,c]=w.useReducer(cee,uee());return E(ri.Provider,{value:{appMode:e,setAppMode:n,rightExpanded:s,setRightExpanded:o,leftExpanded:a,setLeftExpanded:l,version:u,setVersion:c,buildMode:r,setBuildMode:i},children:t})};function RE({itemSelected:t}){return U("div",{className:"left-menu",children:[E("button",{type:"button",onClick:r=>t(r,"info"),children:E(SN,{})}),E("button",{type:"button",onClick:r=>t(r,"settings"),children:E(rL,{})})]})}function dee({children:t,itemSelected:e,expanded:n}){const[r,i]=w.useState(null),{leftExpanded:s,setLeftExpanded:o,rightExpanded:a,setRightExpanded:l}=w.useContext(ri),u=(c,h)=>{(h===r||!s)&&o(!s),i(h),e(h)};return s?U("div",{className:"sidebar-left",children:[E(RE,{itemSelected:u}),E("div",{className:"sidebar-left-panel",children:t})]}):E("div",{className:"sidebar-left",children:E(RE,{itemSelected:u})})}function fee(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ad(t,e)}function qp(t){return t&&t.stopPropagation&&t.stopPropagation(),t&&t.preventDefault&&t.preventDefault(),!1}function Yp(t){return t==null?[]:Array.isArray(t)?t.slice():[t]}function Oc(t){return t!==null&&t.length===1?t[0]:t.slice()}function Ic(t){Object.keys(t).forEach(e=>{typeof document<"u"&&document.addEventListener(e,t[e],!1)})}function zi(t,e){return wv(function(n,r){let i=n;return i<=r.min&&(i=r.min),i>=r.max&&(i=r.max),i}(t,e),e)}function wv(t,e){const n=(t-e.min)%e.step;let r=t-n;return 2*Math.abs(n)>=e.step&&(r+=n>0?e.step:-e.step),parseFloat(r.toFixed(5))}let _v=function(t){function e(r){var i;(i=t.call(this,r)||this).onKeyUp=()=>{i.onEnd()},i.onMouseUp=()=>{i.onEnd(i.getMouseEventMap())},i.onTouchEnd=()=>{i.onEnd(i.getTouchEventMap())},i.onBlur=()=>{i.setState({index:-1},i.onEnd(i.getKeyDownEventMap()))},i.onMouseMove=a=>{i.setState({pending:!0});const l=i.getMousePosition(a),u=i.getDiffPosition(l[0]),c=i.getValueFromPosition(u);i.move(c)},i.onTouchMove=a=>{if(a.touches.length>1)return;i.setState({pending:!0});const l=i.getTouchPosition(a);if(i.isScrolling===void 0){const h=l[0]-i.startPosition[0],d=l[1]-i.startPosition[1];i.isScrolling=Math.abs(d)>Math.abs(h)}if(i.isScrolling)return void i.setState({index:-1});const u=i.getDiffPosition(l[0]),c=i.getValueFromPosition(u);i.move(c)},i.onKeyDown=a=>{if(!(a.ctrlKey||a.shiftKey||a.altKey||a.metaKey))switch(i.setState({pending:!0}),a.key){case"ArrowLeft":case"ArrowDown":case"Left":case"Down":a.preventDefault(),i.moveDownByStep();break;case"ArrowRight":case"ArrowUp":case"Right":case"Up":a.preventDefault(),i.moveUpByStep();break;case"Home":a.preventDefault(),i.move(i.props.min);break;case"End":a.preventDefault(),i.move(i.props.max);break;case"PageDown":a.preventDefault(),i.moveDownByStep(i.props.pageFn(i.props.step));break;case"PageUp":a.preventDefault(),i.moveUpByStep(i.props.pageFn(i.props.step))}},i.onSliderMouseDown=a=>{if(!i.props.disabled&&a.button!==2){if(i.setState({pending:!0}),!i.props.snapDragDisabled){const l=i.getMousePosition(a);i.forceValueFromPosition(l[0],u=>{i.start(u,l[0]),Ic(i.getMouseEventMap())})}qp(a)}},i.onSliderClick=a=>{if(!i.props.disabled&&i.props.onSliderClick&&!i.hasMoved){const l=i.getMousePosition(a),u=zi(i.calcValue(i.calcOffsetFromPosition(l[0])),i.props);i.props.onSliderClick(u)}},i.createOnKeyDown=a=>l=>{i.props.disabled||(i.start(a),Ic(i.getKeyDownEventMap()),qp(l))},i.createOnMouseDown=a=>l=>{if(i.props.disabled||l.button===2)return;i.setState({pending:!0});const u=i.getMousePosition(l);i.start(a,u[0]),Ic(i.getMouseEventMap()),qp(l)},i.createOnTouchStart=a=>l=>{if(i.props.disabled||l.touches.length>1)return;i.setState({pending:!0});const u=i.getTouchPosition(l);i.startPosition=u,i.isScrolling=void 0,i.start(a,u[0]),Ic(i.getTouchEventMap()),function(c){c.stopPropagation&&c.stopPropagation()}(l)},i.handleResize=()=>{const a=window.setTimeout(()=>{i.pendingResizeTimeouts.shift(),i.resize()},0);i.pendingResizeTimeouts.push(a)},i.renderThumb=(a,l)=>{const u=i.props.thumbClassName+" "+i.props.thumbClassName+"-"+l+" "+(i.state.index===l?i.props.thumbActiveClassName:""),c={ref:d=>{i["thumb"+l]=d},key:i.props.thumbClassName+"-"+l,className:u,style:a,onMouseDown:i.createOnMouseDown(l),onTouchStart:i.createOnTouchStart(l),onFocus:i.createOnKeyDown(l),tabIndex:0,role:"slider","aria-orientation":i.props.orientation,"aria-valuenow":i.state.value[l],"aria-valuemin":i.props.min,"aria-valuemax":i.props.max,"aria-label":Array.isArray(i.props.ariaLabel)?i.props.ariaLabel[l]:i.props.ariaLabel,"aria-labelledby":Array.isArray(i.props.ariaLabelledby)?i.props.ariaLabelledby[l]:i.props.ariaLabelledby},h={index:l,value:Oc(i.state.value),valueNow:i.state.value[l]};return i.props.ariaValuetext&&(c["aria-valuetext"]=typeof i.props.ariaValuetext=="string"?i.props.ariaValuetext:i.props.ariaValuetext(h)),i.props.renderThumb(c,h)},i.renderTrack=(a,l,u)=>{const c={key:i.props.trackClassName+"-"+a,className:i.props.trackClassName+" "+i.props.trackClassName+"-"+a,style:i.buildTrackStyle(l,i.state.upperBound-u)},h={index:a,value:Oc(i.state.value)};return i.props.renderTrack(c,h)};let s=Yp(r.value);s.length||(s=Yp(r.defaultValue)),i.pendingResizeTimeouts=[];const o=[];for(let a=0;a<s.length;a+=1)s[a]=zi(s[a],r),o.push(a);return i.resizeObserver=null,i.resizeElementRef=_.createRef(),i.state={index:-1,upperBound:0,sliderLength:0,value:s,zIndices:o},i}fee(e,t);var n=e.prototype;return n.componentDidMount=function(){typeof window<"u"&&(this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.resizeElementRef.current),this.resize())},e.getDerivedStateFromProps=function(r,i){const s=Yp(r.value);return s.length?i.pending?null:{value:s.map(o=>zi(o,r))}:null},n.componentDidUpdate=function(){this.state.upperBound===0&&this.resize()},n.componentWillUnmount=function(){this.clearPendingResizeTimeouts(),this.resizeObserver&&this.resizeObserver.disconnect()},n.onEnd=function(r){r&&function(i){Object.keys(i).forEach(s=>{typeof document<"u"&&document.removeEventListener(s,i[s],!1)})}(r),this.hasMoved&&this.fireChangeEvent("onAfterChange"),this.setState({pending:!1}),this.hasMoved=!1},n.getValue=function(){return Oc(this.state.value)},n.getClosestIndex=function(r){let i=Number.MAX_VALUE,s=-1;const{value:o}=this.state,a=o.length;for(let l=0;l<a;l+=1){const u=this.calcOffset(o[l]),c=Math.abs(r-u);c<i&&(i=c,s=l)}return s},n.getMousePosition=function(r){return[r["page"+this.axisKey()],r["page"+this.orthogonalAxisKey()]]},n.getTouchPosition=function(r){const i=r.touches[0];return[i["page"+this.axisKey()],i["page"+this.orthogonalAxisKey()]]},n.getKeyDownEventMap=function(){return{keydown:this.onKeyDown,keyup:this.onKeyUp,focusout:this.onBlur}},n.getMouseEventMap=function(){return{mousemove:this.onMouseMove,mouseup:this.onMouseUp}},n.getTouchEventMap=function(){return{touchmove:this.onTouchMove,touchend:this.onTouchEnd}},n.getValueFromPosition=function(r){const i=r/(this.state.sliderLength-this.state.thumbSize)*(this.props.max-this.props.min);return zi(this.state.startValue+i,this.props)},n.getDiffPosition=function(r){let i=r-this.state.startPosition;return this.props.invert&&(i*=-1),i},n.resize=function(){const{slider:r,thumb0:i}=this;if(!r||!i)return;const s=this.sizeKey(),o=r.getBoundingClientRect(),a=r[s],l=o[this.posMaxKey()],u=o[this.posMinKey()],c=i.getBoundingClientRect()[s.replace("client","").toLowerCase()],h=a-c,d=Math.abs(l-u);this.state.upperBound===h&&this.state.sliderLength===d&&this.state.thumbSize===c||this.setState({upperBound:h,sliderLength:d,thumbSize:c})},n.calcOffset=function(r){const i=this.props.max-this.props.min;return i===0?0:(r-this.props.min)/i*this.state.upperBound},n.calcValue=function(r){return r/this.state.upperBound*(this.props.max-this.props.min)+this.props.min},n.calcOffsetFromPosition=function(r){const{slider:i}=this,s=i.getBoundingClientRect(),o=s[this.posMaxKey()],a=s[this.posMinKey()];let l=r-(window["page"+this.axisKey()+"Offset"]+(this.props.invert?o:a));return this.props.invert&&(l=this.state.sliderLength-l),l-=this.state.thumbSize/2,l},n.forceValueFromPosition=function(r,i){const s=this.calcOffsetFromPosition(r),o=this.getClosestIndex(s),a=zi(this.calcValue(s),this.props),l=this.state.value.slice();l[o]=a;for(let u=0;u<l.length-1;u+=1)if(l[u+1]-l[u]<this.props.minDistance)return;this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0,this.setState({value:l},()=>{i(o),this.fireChangeEvent("onChange")})},n.clearPendingResizeTimeouts=function(){do{const r=this.pendingResizeTimeouts.shift();clearTimeout(r)}while(this.pendingResizeTimeouts.length)},n.start=function(r,i){const s=this["thumb"+r];s&&s.focus();const{zIndices:o}=this.state;o.splice(o.indexOf(r),1),o.push(r),this.setState(a=>({startValue:a.value[r],startPosition:i!==void 0?i:a.startPosition,index:r,zIndices:o}))},n.moveUpByStep=function(r){r===void 0&&(r=this.props.step);const i=zi(this.state.value[this.state.index]+r,this.props);this.move(Math.min(i,this.props.max))},n.moveDownByStep=function(r){r===void 0&&(r=this.props.step);const i=zi(this.state.value[this.state.index]-r,this.props);this.move(Math.max(i,this.props.min))},n.move=function(r){const{index:i,value:s}=this.state,{length:o}=s,a=s[i];if(r===a)return;this.hasMoved||this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0;const{pearling:l,max:u,min:c,minDistance:h}=this.props;if(!l){if(i>0){const d=s[i-1];r<d+h&&(r=d+h)}if(i<o-1){const d=s[i+1];r>d-h&&(r=d-h)}}s[i]=r,l&&o>1&&(r>a?(this.pushSucceeding(s,h,i),function(d,f,p,m){for(let v=0;v<d;v+=1){const g=m-v*p;f[d-1-v]>g&&(f[d-1-v]=g)}}(o,s,h,u)):r<a&&(this.pushPreceding(s,h,i),function(d,f,p,m){for(let v=0;v<d;v+=1){const g=m+v*p;f[v]<g&&(f[v]=g)}}(o,s,h,c))),this.setState({value:s},this.fireChangeEvent.bind(this,"onChange"))},n.pushSucceeding=function(r,i,s){let o,a;for(o=s,a=r[o]+i;r[o+1]!==null&&a>r[o+1];o+=1,a=r[o]+i)r[o+1]=wv(a,this.props)},n.pushPreceding=function(r,i,s){for(let o=s,a=r[o]-i;r[o-1]!==null&&a<r[o-1];o-=1,a=r[o]-i)r[o-1]=wv(a,this.props)},n.axisKey=function(){return this.props.orientation==="vertical"?"Y":"X"},n.orthogonalAxisKey=function(){return this.props.orientation==="vertical"?"X":"Y"},n.posMinKey=function(){return this.props.orientation==="vertical"?this.props.invert?"bottom":"top":this.props.invert?"right":"left"},n.posMaxKey=function(){return this.props.orientation==="vertical"?this.props.invert?"top":"bottom":this.props.invert?"left":"right"},n.sizeKey=function(){return this.props.orientation==="vertical"?"clientHeight":"clientWidth"},n.fireChangeEvent=function(r){this.props[r]&&this.props[r](Oc(this.state.value),this.state.index)},n.buildThumbStyle=function(r,i){const s={position:"absolute",touchAction:"none",willChange:this.state.index>=0?this.posMinKey():void 0,zIndex:this.state.zIndices.indexOf(i)+1};return s[this.posMinKey()]=r+"px",s},n.buildTrackStyle=function(r,i){const s={position:"absolute",willChange:this.state.index>=0?this.posMinKey()+","+this.posMaxKey():void 0};return s[this.posMinKey()]=r,s[this.posMaxKey()]=i,s},n.buildMarkStyle=function(r){var i;return(i={position:"absolute"})[this.posMinKey()]=r,i},n.renderThumbs=function(r){const{length:i}=r,s=[];for(let a=0;a<i;a+=1)s[a]=this.buildThumbStyle(r[a],a);const o=[];for(let a=0;a<i;a+=1)o[a]=this.renderThumb(s[a],a);return o},n.renderTracks=function(r){const i=[],s=r.length-1;i.push(this.renderTrack(0,0,r[0]));for(let o=0;o<s;o+=1)i.push(this.renderTrack(o+1,r[o],r[o+1]));return i.push(this.renderTrack(s+1,r[s],this.state.upperBound)),i},n.renderMarks=function(){let{marks:r}=this.props;const i=this.props.max-this.props.min+1;return typeof r=="boolean"?r=Array.from({length:i}).map((s,o)=>o):typeof r=="number"&&(r=Array.from({length:i}).map((s,o)=>o).filter(s=>s%r==0)),r.map(parseFloat).sort((s,o)=>s-o).map(s=>{const o=this.calcOffset(s),a={key:s,className:this.props.markClassName,style:this.buildMarkStyle(o)};return this.props.renderMark(a)})},n.render=function(){const r=[],{value:i}=this.state,s=i.length;for(let u=0;u<s;u+=1)r[u]=this.calcOffset(i[u],u);const o=this.props.withTracks?this.renderTracks(r):null,a=this.renderThumbs(r),l=this.props.marks?this.renderMarks():null;return _.createElement("div",{ref:u=>{this.slider=u,this.resizeElementRef.current=u},style:{position:"relative"},className:this.props.className+(this.props.disabled?" disabled":""),onMouseDown:this.onSliderMouseDown,onClick:this.onSliderClick},o,a,l)},e}(_.Component);_v.displayName="ReactSlider",_v.defaultProps={min:0,max:100,step:1,pageFn:t=>10*t,minDistance:0,defaultValue:0,orientation:"horizontal",className:"slider",thumbClassName:"thumb",thumbActiveClassName:"active",trackClassName:"track",markClassName:"mark",withTracks:!0,pearling:!1,disabled:!1,snapDragDisabled:!1,invert:!1,marks:[],renderThumb:t=>_.createElement("div",t),renderTrack:t=>_.createElement("div",t),renderMark:t=>_.createElement("span",t)};var kc=_v;function pee({graphEvents$:t}){const[e,n]=w.useState(50),[r,i]=w.useState(50),[s,o]=w.useState(50),[a,l]=w.useState(50),[u,c]=w.useState({});w.useEffect(()=>{},[u]);const h=v=>{n(v),m()},d=v=>{i(v),m()},f=v=>{o(v),m()},p=v=>{l(v),m()},m=()=>{t.next({event:"forcesUpdated",data:{forces:{f1:e,f2:r,f3:s,f4:a}}})};return U("div",{children:[E("div",{className:"slider",children:E(kc,{min:0,max:100,defaultValue:[25],className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:h,renderThumb:(v,g)=>E("div",{...v,children:g.valueNow})})}),E("div",{className:"slider",children:E(kc,{min:0,max:50,defaultValue:[25],className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:d,renderThumb:(v,g)=>E("div",{...v,children:g.valueNow})})}),E("div",{className:"slider",children:E(kc,{defaultValue:[70],className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:f,renderThumb:(v,g)=>E("div",{...v,children:g.valueNow})})}),E("div",{className:"slider",children:E(kc,{className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:p,renderThumb:(v,g)=>E("div",{...v,children:g.valueNow})})})]})}function mee(t,e){const n=pe(t,r=>r.id);return vn(e,r=>!Ru(n,r.value))}function Ev({providedStats:t=[],providedStatsChanged:e,options:n,name:r}){const i=(u,c)=>{const h=Ie(t);h[c].id=u.value,e(h)},s=(u,c)=>{const h=Ie(t);h[c].modifier=parseInt(u.target.value,10),e(h)},o=(u,c)=>{let h=Ie(t);h=vn(h,(d,f)=>c!==f),e(h)},a=()=>{let u=Ie(t);u.push({id:"",modifier:1,set:!1}),e(u)},l=u=>{const c=Ie(t);c[u].set=!c[u].set,e(c)};return U("div",{className:"stats-panel",children:[t!=null&&t.length?pe(t,(u,c)=>U("div",{className:"stat-edit-line",children:[E("button",{className:"remove",onClick:h=>o(h,c),children:E(yA,{})}),E(If,{classNames:{control:()=>"select",singleValue:()=>"single-value",menu:()=>"select-menu"},options:mee(t,n),onChange:h=>i(h,c),value:_e(n,{value:u.id})}),E("input",{type:"number",value:u==null?void 0:u.modifier,onChange:h=>s(h,c)}),E("button",{onClick:h=>l(c),style:{color:u!=null&&u.set?"#fff":"#222"},children:E(FN,{})})]},c)):"",E("div",{className:"add-button",children:U("button",{onClick:a,children:["Add ",r,E(or,{})]})})]})}function gee(t,e){const n=_e(e,{id:t});return n!=null&&n.params?pe(Object.keys(n.params),r=>({label:r,value:r})):[]}function vee(t){let e={};return Me(t,n=>{e[n.id]=n.modifier}),e}function yee({providedAbilities:t,providedAbilitiesChanged:e}){const n=w.useContext(Bt).abilities,[r,i]=w.useState(t),s=(c,h)=>{const d=Ie(r);d[h].id=c,d[h].modifiers=[],e(d)},o=(c,h)=>{let d=Ie(r);d=vn(d,(f,p)=>h!==p),e(d)},a=()=>{let c=Ie(r);c.push({id:"",modifier:1}),e(c)},l=(c,h)=>{const d=Ie(r);d[h].modifiers=c,e(d)},u=(c,h)=>{const d=Ie(r);d[h].gain=!d[h].gain,e(d)};return w.useEffect(()=>{i(()=>t)},[t]),U("div",{className:"abilities-panel",children:[r.length?pe(r,(c,h)=>{var d;return U("div",{className:"stat-edit-line",children:[U("div",{className:"ability-select",children:[E("button",{className:"remove-ability-button",onClick:f=>o(f,h),children:E(yA,{})}),E(hO,{usedOptions:pe(r,"id"),defaultValue:c.id,valueChanged:f=>s(f,h)})]}),c.id?U("div",{className:"ability-options",children:[_e(n,{id:c==null?void 0:c.id})&&E(ru,{ability:_e(n,{id:c==null?void 0:c.id}),modifiers:vee(c.modifiers),isPlayerAbility:!1,editable:!0,startOpen:!1}),E("div",{className:"grant",children:U("label",{children:["Grant",E("input",{type:"checkbox",checked:c.gain,onChange:f=>u(f,h)})]})}),(d=_e(n,{id:c==null?void 0:c.id}))!=null&&d.params?E(Ev,{providedStats:c.modifiers,providedStatsChanged:f=>l(f,h),options:gee(c.id,n),name:"Modifier"}):""]}):""]},h)}):"",E("div",{className:"add-button",children:U("button",{onClick:a,children:["Add Ability",E(or,{})]})})]})}function ME(t,e,n){if(e){if(t!=null&&t.length)return t;{const r=[];return Fu(e,()=>r.push(t||n||1)),r}}else return[n||1]}function Kp(t,e,n){n({levels:t,levelCost:e})}function bee({levels:t,levelCost:e,cost:n,color:r,levelsChanged:i}){const[s,o]=w.useState(t||1),[a,l]=w.useState(ME(e,t||1,n||1));w.useEffect(()=>{o(t||1),l(ME(e,t,n))},[t,e,n]);const u=d=>{let f=s+1,p=a;p.length&&(p=[...p,1]),Kp(f,p,i)},c=d=>{let f=t,p=e;t>1&&(f=t-1,p.length&&(p=p.slice(0,p.length-1))),Kp(f,p,i)},h=(d,f)=>{let p=Ie(a);d.shiftKey?p[f]>1&&(p[f]-=1):p[f]+=1,Kp(s,p,i)};return U("div",{className:"cost-panel",children:[E("button",{onClick:c,children:E(BN,{})}),E("div",{className:"levels",children:Fu(s,d=>E("span",{onClick:f=>h(f,d),className:"level-points",children:E("span",{className:"level-dot",style:{background:r},children:a.length?a[d]:a})},d))}),E("button",{onClick:u,children:E(or,{})})]})}const Vu=w.createContext({});function xee(){const t=window.localStorage.getItem("dragon-stats");return t?JSON.parse(t):[]}const wee=(t,e)=>{const{index:n,stat:r,stats:i,type:s}=e;let o=Ie(t);if(s==="save")try{window.localStorage.setItem("dragon-stats",JSON.stringify(o))}catch{}if(s==="add")return o=[...o,r],o;if(s==="set")return o=i,window.localStorage.setItem("dragon-stats",JSON.stringify(o)),o;if(s==="update")return o[n]=r,o;if(s==="remove"){const a=t.findIndex(u=>u.id===r.id);if(a<0)return t;const l=[...t];return l.splice(a,1),l}return t},_ee=({children:t})=>{const[e,n]=w.useReducer(wee,xee());return E(Vu.Provider,{value:{stats:e,setStats:n},children:t})};function FE(t,e,n){return n?pe(e,r=>_e(t,{value:r})):_e(t,{value:e})}function Eee(t){return pe(t,e=>({value:e.id,label:e.name}))}function Zp(t,e,n){const r=Ms(vn(Eee(e),i=>!Ru(t,i.value)),"label");return n?[{value:null,label:"(None)"},...r]:r}function dO({usedOptions:t,valueChanged:e,defaultValue:n,showEmptyOption:r=!1,isMulti:i=!1}){const{nodes:s}=w.useContext(ti),[o,a]=w.useState(Zp(t,s,r)),[l,u]=w.useState(FE(o,n,i));return w.useEffect(()=>{a(Zp(t,s,r))},[s]),w.useEffect(()=>{a(Zp(t,s,r))},[n]),w.useEffect(()=>{u(FE(o,n,i))},[o]),E(If,{isMulti:i,className:"node-select",classNames:{control:()=>"select",singleValue:()=>"single-value",menu:()=>"select-menu"},options:o,onChange:h=>{e(i?pe(h,"value"):h.value)},defaultValue:l,value:l})}function See({value:t,requirementType:e,valueChanged:n,nodeId:r}){const[i,s]=w.useState(t),[o,a]=w.useState(e==="or"),{nodes:l}=w.useContext(ti);w.useEffect(()=>{s(t),a(e==="or")},[t,e]);const u=(f,p,m)=>{let v=[...i];v[p][m]=f,n({requires:v,requirementType:o?"or":"and"})},c=f=>{let p=[...i];p.splice(f,1),n({requires:p,requirementType:o?"or":"and"})},h=()=>{let f=[...i];f.push({levels:"1"}),n({requires:f,requirementType:o?"or":"and"})},d=()=>{n({requires:i,requirementType:o?"and":"or"})};return U("div",{className:"require-select",children:[pe(i,(f,p)=>{var m;return U("div",{className:"requirement",children:[U("div",{className:"select",children:[E(dO,{defaultValue:f.id,usedOptions:[r],valueChanged:v=>u(v,p,"id")}),((m=_e(l,{id:f.id}))==null?void 0:m.levels)>1?E(Wy,{value:f.levels,valueChanged:v=>u(v,p,"levels"),min:1,max:_e(l,{id:f.id}).levels||1}):E("span",{})]}),E(rt,{clicked:v=>c(p),color:"danger",children:E(hL,{})})]},p)}),i.length>1&&E("div",{className:"requirementType",children:U("label",{children:[E("input",{type:"checkbox",checked:o,onChange:d}),"Requires only one"]})}),E(rt,{color:"mutdWhite",clicked:h,children:E(or,{})})]})}function Cee({value:t,valueChanged:e,nodeId:n}){const[r,i]=w.useState(t);return w.useEffect(()=>{i(t)},[t]),E("div",{className:"require-select",children:E("div",{className:"requirement",children:E("div",{className:"select",children:E(dO,{defaultValue:r,usedOptions:[n],valueChanged:o=>{let a=[...r];a=o,e(a)},isMulti:!0})})})})}function Tee(t){return pe(t,e=>({value:e.id,label:e.name}))}function Aee(t){return pe(t,e=>({value:e.id,label:e.id}))}function Pee({graphEvents:t}){const{selectedNodeId:e,nodes:n,setNodes:r}=w.useContext(ti),{stats:i}=w.useContext(Vu),[s,o]=w.useState(_e(n,{id:e})||{}),[a,l]=w.useState(s.id),[u,c]=w.useState(s.name),[h,d]=w.useState(s.description),[f,p]=w.useState(s.levels),[m,v]=w.useState(s.levelCost),[g,b]=w.useState(s.cost),[y,x]=w.useState(s.providedStats||[]),[S,C]=w.useState(s.providedAbilities||[]),[T,A]=w.useState(s.colors||{}),[I,M]=w.useState(s.id),[N,D]=w.useState(s.requires||[]),[B,k]=w.useState(s.requirementType||"and"),[H,q]=w.useState(!1),{globalParams:z,setGlobalParams:L}=w.useContext(Bt),[G,R]=w.useState(s.globalParams||[]),X=w.useRef(null),Z=w.useRef(s.id),[F,$]=w.useState(s.exclusiveWith||[]);w.useEffect(()=>{o(_e(n,{id:e})||{}),q(!1)},[e]);const P=we=>{l(we.target.value),Z.current=we.target.value,q(!0)},W=we=>{c(we.target.value),q(!0)},Q=we=>{d(we.target.value),q(!0)},ve=we=>{var Wb,Vb;Ce();const bn=(Wb=vn(n,Xb=>Mu(Xb.requires,{id:Xb.id})))==null?void 0:Wb.length;let Gb={name:"NEW NODE",requires:[{id:Z.current,levels:1}],id:`${Z.current}-${bn+1}-${Uw(["a","b","c","d","e"])}${Uw(["x","z","y","v","d"])}`,colors:T};r({type:"add",node:Gb}),t.next({event:"nodeAdded",data:{node:Gb}}),(Vb=X.current)==null||Vb.focus()},ge=we=>{t.next({event:"nodeDeleted",data:{id:a}}),r({type:"remove",node:s})},Ce=we=>{const bn={id:a,name:u,requires:N,requirementType:N.length<2?"and":B,description:h,globalParams:G,exclusiveWith:F,colors:T};f===1?m!=null&&m.length?bn.cost=m[0]:bn.cost=1:(bn.levels=f,bn.levelCost=m),y.length&&(bn.providedStats=y),S.length&&(bn.providedAbilities=S),t.next({event:"nodeEdited",data:{id:I,node:bn}}),q(!1),r({type:"update",node:bn,targetId:I})},oe=we=>{x(we),q(!0)},Ae=we=>{C(we),q(!0)},Ee=we=>{v(we.levelCost),p(we.levels),q(!0)},Qe=(we,bn)=>{A({...T,[bn]:we}),q(!0)},wt=we=>{D(we.requires),k(we.requirementType),q(!0)},ji=we=>{R(we),q(!0)},Jf=we=>{$(we),q(!0)};return _.useEffect(()=>{A(s.colors||{}),l(s.id),Z.current=s.id,c(s.name),d(s.description),p(s.levels||1),v(s.levelCost),b(s.cost),x(s.providedStats||[]),C(s.providedAbilities||[]),M(s.id),D(s.requires||[]),k(s.requirementType||"and"),R(s.globalParams||[]),$(s.exclusiveWith||[])},[s]),s.id?U("div",{className:"edit-panel",children:[E("div",{className:"edit-panel-top",children:E(bee,{levels:f,levelCost:m,cost:g,color:T.selected,levelsChanged:Ee})}),E("div",{className:"form-control name",children:E("input",{type:"text",ref:X,onChange:W,value:u||""})}),E("div",{className:"form-control id",children:E("input",{type:"text",onChange:P,value:a||""})}),U("div",{className:"colors",children:[E("div",{className:"color-item",children:E(Jl,{color:T.unavailable,colorChanged:we=>Qe(we,"unavailable")})}),E("div",{className:"color-item",children:E(Jl,{color:T.selected,colorChanged:we=>Qe(we,"selected")})})]}),E("div",{className:"form-control node-description",children:E(cO,{rows:6,onChange:Q,value:h||""})}),U("div",{className:"accordions",children:[E(St,{name:"Requires",startOpen:!1,children:E("div",{className:"requires",children:E(See,{requirementType:B,value:N,valueChanged:wt,nodeId:a})})}),E(St,{name:"Excludes",startOpen:!1,children:E("div",{className:"excludes",children:E(Cee,{value:F,valueChanged:Jf,nodeId:a})})}),E(St,{name:"Stats",startOpen:!1,children:E(Ev,{providedStats:y,providedStatsChanged:oe,options:Tee(i),name:"Stat"})}),E(St,{name:"Abilities",startOpen:!1,children:E(yee,{providedAbilities:S,providedAbilitiesChanged:Ae})}),E(St,{name:"Global Params",startOpen:!1,children:E(Ev,{providedStats:G,providedStatsChanged:ji,options:Aee(z),name:"Stat"})})]}),U("div",{className:"buttons",children:[U(us,{disabled:!H,type:"outline",color:"success",clicked:Ce,children:[E(Jo,{}),H?"Save Node":"Node Saved"]}),U(us,{type:"outline",color:"success",clicked:ve,children:[U("span",{children:[E(Jo,{}),E(or,{})]}),"Save and Add Child Node"]}),U(us,{type:"outline",clicked:ge,color:"danger",children:[E(va,{}),"Delete Node"]})]})]}):E("div",{className:"edit-panel",children:"Select a Node"})}function Oee({graphEvents$:t}){const{node:e,selectedNodeId:n}=w.useContext(ti),{appMode:r}=w.useContext(ri),[i,s]=w.useState("info"),[o,a]=w.useState(!!e),l=u=>{s(u)};return w.useEffect(()=>{a(!!n)},[n]),U(dee,{itemSelected:l,expanded:void 0,children:[i==="info"?E("div",{children:r==="edit"?E(Pee,{graphEvents:t}):E(lee,{graphEvents:t})}):"",i==="settings"?E(pee,{graphEvents$:t}):""]})}function fo(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function fO(t){if(!fo(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=fO(t[n])}),e}function kn(t,e,n={clone:!0}){const r=n.clone?K({},t):t;return fo(t)&&fo(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(fo(e[i])&&i in t&&fo(t[i])?r[i]=kn(t[i],e[i],n):n.clone?r[i]=fo(e[i])?fO(e[i]):e[i]:r[i]=e[i])}),r}function ra(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}function Uo(t){if(typeof t!="string")throw new Error(ra(7));return t.charAt(0).toUpperCase()+t.slice(1)}function Iee(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function kee(...t){return w.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{Iee(n,e)})},t)}function pO(t,e){const n=K({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=K({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=K({},s),Object.keys(i).forEach(o=>{n[r][o]=pO(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function Ree(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const DE=t=>t,Mee=()=>{let t=DE;return{configure(e){t=e},generate(e){return t(e)},reset(){t=DE}}},Fee=Mee(),Dee=Fee,$ee={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function mO(t,e,n="Mui"){const r=$ee[e];return r?`${n}-${r}`:`${Dee.generate(t)}-${e}`}function Bee(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=mO(t,i,n)}),r}function gO(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=gO(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Nee(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=gO(t))&&(r&&(r+=" "),r+=e);return r}var Lee=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Uee=xP(function(t){return Lee.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),jee=Uee,zee=function(e){return e!=="theme"},$E=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?jee:zee},BE=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},Hee=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return k1(n,r,i),PP(function(){return TP(n,r,i)}),null},Gee=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=BE(e,n,r),l=a||$E(i),u=!l("as");return function(){var c=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)h.push.apply(h,c);else{h.push(c[0][0]);for(var d=c.length,f=1;f<d;f++)h.push(c[f],c[0][f])}var p=IP(function(m,v,g){var b=u&&m.as||i,y="",x=[],S=m;if(m.theme==null){S={};for(var C in m)S[C]=m[C];S.theme=w.useContext(kP)}typeof m.className=="string"?y=CP(v.registered,x,m.className):m.className!=null&&(y=m.className+" ");var T=R1(h.concat(x),v.registered,S);y+=v.key+"-"+T.name,o!==void 0&&(y+=" "+o);var A=u&&a===void 0?$E(b):l,I={};for(var M in m)u&&M==="as"||A(M)&&(I[M]=m[M]);return I.className=y,I.ref=g,w.createElement(w.Fragment,null,w.createElement(Hee,{cache:v,serialized:T,isStringTag:typeof b=="string"}),w.createElement(b,I))});return p.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",p.defaultProps=e.defaultProps,p.__emotion_real=p,p.__emotion_base=i,p.__emotion_styles=h,p.__emotion_forwardProp=a,Object.defineProperty(p,"toString",{value:function(){return"."+o}}),p.withComponent=function(m,v){return t(m,K({},n,v,{shouldForwardProp:BE(p,v,!0)})).apply(void 0,h)},p}};const Wee=Gee;var Vee=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Sv=Wee.bind();Vee.forEach(function(t){Sv[t]=Sv(t)});const Xee=Sv;/**
 * @mui/styled-engine v5.11.11
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function qee(t,e){return Xee(t,e)}const Yee=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))};function Al(t,e){return e?kn(t,e,{clone:!1}):t}const B1={xs:0,sm:600,md:900,lg:1200,xl:1536},NE={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${B1[t]}px)`};function hn(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||NE;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||NE;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||B1).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function Kee(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function Zee(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Qee(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function LE({values:t,breakpoints:e,base:n}){const r=n||Qee(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[s],s=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function kf(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function md(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=kf(t,n)||r,e&&(i=e(i,r,t)),i}function Oe(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=kf(l,r)||{};return hn(o,a,h=>{let d=md(u,i,h);return h===d&&typeof h=="string"&&(d=md(u,i,`${e}${h==="default"?"":Uo(h)}`,h)),n===!1?d:{[n]:d}})};return s.propTypes={},s.filterProps=[e],s}function Rf(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?Al(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Jee(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const ete={m:"margin",p:"padding"},tte={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},UE={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},nte=Jee(t=>{if(t.length>2)if(UE[t])t=UE[t];else return[t];const[e,n]=t.split(""),r=ete[e],i=tte[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),N1=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],L1=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...N1,...L1];function Xu(t,e,n,r){var i;const s=(i=kf(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function U1(t){return Xu(t,"spacing",8)}function Ei(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function rte(t,e){return n=>t.reduce((r,i)=>(r[i]=Ei(e,n),r),{})}function ite(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=nte(n),s=rte(i,r),o=t[n];return hn(t,o,s)}function vO(t,e){const n=U1(t.theme);return Object.keys(t).map(r=>ite(t,e,r,n)).reduce(Al,{})}function Je(t){return vO(t,N1)}Je.propTypes={};Je.filterProps=N1;function et(t){return vO(t,L1)}et.propTypes={};et.filterProps=L1;function yr(t){return typeof t!="number"?t:`${t}px solid`}const ste=Oe({prop:"border",themeKey:"borders",transform:yr}),ote=Oe({prop:"borderTop",themeKey:"borders",transform:yr}),ate=Oe({prop:"borderRight",themeKey:"borders",transform:yr}),lte=Oe({prop:"borderBottom",themeKey:"borders",transform:yr}),ute=Oe({prop:"borderLeft",themeKey:"borders",transform:yr}),cte=Oe({prop:"borderColor",themeKey:"palette"}),hte=Oe({prop:"borderTopColor",themeKey:"palette"}),dte=Oe({prop:"borderRightColor",themeKey:"palette"}),fte=Oe({prop:"borderBottomColor",themeKey:"palette"}),pte=Oe({prop:"borderLeftColor",themeKey:"palette"}),Mf=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Xu(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Ei(e,r)});return hn(t,t.borderRadius,n)}return null};Mf.propTypes={};Mf.filterProps=["borderRadius"];Rf(ste,ote,ate,lte,ute,cte,hte,dte,fte,pte,Mf);const Ff=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Xu(t.theme,"spacing",8),n=r=>({gap:Ei(e,r)});return hn(t,t.gap,n)}return null};Ff.propTypes={};Ff.filterProps=["gap"];const Df=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Xu(t.theme,"spacing",8),n=r=>({columnGap:Ei(e,r)});return hn(t,t.columnGap,n)}return null};Df.propTypes={};Df.filterProps=["columnGap"];const $f=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Xu(t.theme,"spacing",8),n=r=>({rowGap:Ei(e,r)});return hn(t,t.rowGap,n)}return null};$f.propTypes={};$f.filterProps=["rowGap"];const mte=Oe({prop:"gridColumn"}),gte=Oe({prop:"gridRow"}),vte=Oe({prop:"gridAutoFlow"}),yte=Oe({prop:"gridAutoColumns"}),bte=Oe({prop:"gridAutoRows"}),xte=Oe({prop:"gridTemplateColumns"}),wte=Oe({prop:"gridTemplateRows"}),_te=Oe({prop:"gridTemplateAreas"}),Ete=Oe({prop:"gridArea"});Rf(Ff,Df,$f,mte,gte,vte,yte,bte,xte,wte,_te,Ete);function jo(t,e){return e==="grey"?e:t}const Ste=Oe({prop:"color",themeKey:"palette",transform:jo}),Cte=Oe({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:jo}),Tte=Oe({prop:"backgroundColor",themeKey:"palette",transform:jo});Rf(Ste,Cte,Tte);function nn(t){return t<=1&&t!==0?`${t*100}%`:t}const Ate=Oe({prop:"width",transform:nn}),j1=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i,s;return{maxWidth:((r=t.theme)==null||(i=r.breakpoints)==null||(s=i.values)==null?void 0:s[n])||B1[n]||nn(n)}};return hn(t,t.maxWidth,e)}return null};j1.filterProps=["maxWidth"];const Pte=Oe({prop:"minWidth",transform:nn}),Ote=Oe({prop:"height",transform:nn}),Ite=Oe({prop:"maxHeight",transform:nn}),kte=Oe({prop:"minHeight",transform:nn});Oe({prop:"size",cssProperty:"width",transform:nn});Oe({prop:"size",cssProperty:"height",transform:nn});const Rte=Oe({prop:"boxSizing"});Rf(Ate,j1,Pte,Ote,Ite,kte,Rte);const Qp=t=>e=>{if(e[t]!==void 0&&e[t]!==null){const n=r=>{var i;let s=(i=e.theme.typography)==null?void 0:i[r];if(typeof s=="object"&&(s=null),!s){var o,a;s=(o=e.theme.typography)==null?void 0:o[`${t}${e[t]==="default"||e[t]===t?"":Uo((a=e[t])==null?void 0:a.toString())}`]}if(!s){var l,u,c;s=(l=(u=e.theme.typography)==null||(c=u[r])==null?void 0:c[t])!=null?l:r}return{[t]:s}};return hn(e,e[t],n)}return null},Mte={border:{themeKey:"borders",transform:yr},borderTop:{themeKey:"borders",transform:yr},borderRight:{themeKey:"borders",transform:yr},borderBottom:{themeKey:"borders",transform:yr},borderLeft:{themeKey:"borders",transform:yr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Mf},color:{themeKey:"palette",transform:jo},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:jo},backgroundColor:{themeKey:"palette",transform:jo},p:{style:et},pt:{style:et},pr:{style:et},pb:{style:et},pl:{style:et},px:{style:et},py:{style:et},padding:{style:et},paddingTop:{style:et},paddingRight:{style:et},paddingBottom:{style:et},paddingLeft:{style:et},paddingX:{style:et},paddingY:{style:et},paddingInline:{style:et},paddingInlineStart:{style:et},paddingInlineEnd:{style:et},paddingBlock:{style:et},paddingBlockStart:{style:et},paddingBlockEnd:{style:et},m:{style:Je},mt:{style:Je},mr:{style:Je},mb:{style:Je},ml:{style:Je},mx:{style:Je},my:{style:Je},margin:{style:Je},marginTop:{style:Je},marginRight:{style:Je},marginBottom:{style:Je},marginLeft:{style:Je},marginX:{style:Je},marginY:{style:Je},marginInline:{style:Je},marginInlineStart:{style:Je},marginInlineEnd:{style:Je},marginBlock:{style:Je},marginBlockStart:{style:Je},marginBlockEnd:{style:Je},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Ff},rowGap:{style:$f},columnGap:{style:Df},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:nn},maxWidth:{style:j1},minWidth:{transform:nn},height:{transform:nn},maxHeight:{transform:nn},minHeight:{transform:nn},boxSizing:{},fontFamily:{themeKey:"typography",style:Qp("fontFamily")},fontSize:{themeKey:"typography",style:Qp("fontSize")},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography",style:Qp("fontWeight")},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},z1=Mte;function Fte(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function Dte(t,e){return typeof t=="function"?t(e):t}function $te(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:c,style:h}=a;if(r==null)return null;const d=kf(i,u)||{};return h?h(o):hn(o,r,p=>{let m=md(d,c,p);return p===m&&typeof p=="string"&&(m=md(d,c,`${n}${p==="default"?"":Uo(p)}`,p)),l===!1?m:{[l]:m}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:z1;function a(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const c=Kee(s.breakpoints),h=Object.keys(c);let d=c;return Object.keys(u).forEach(f=>{const p=Dte(u[f],s);if(p!=null)if(typeof p=="object")if(o[f])d=Al(d,t(f,p,s,o));else{const m=hn({theme:s},p,v=>({[f]:v}));Fte(m,p)?d[f]=e({sx:p,theme:s}):d=Al(d,m)}else d=Al(d,t(f,p,s,o))}),Zee(h,d)}return Array.isArray(i)?i.map(a):a(i)}return e}const yO=$te();yO.filterProps=["sx"];const H1=yO,Bte=["values","unit","step"],Nte=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>K({},n,{[r.key]:r.val}),{})};function Lte(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=un(t,Bte),s=Nte(e),o=Object.keys(s);function a(d){return`@media (min-width:${typeof e[d]=="number"?e[d]:d}${n})`}function l(d){return`@media (max-width:${(typeof e[d]=="number"?e[d]:d)-r/100}${n})`}function u(d,f){const p=o.indexOf(f);return`@media (min-width:${typeof e[d]=="number"?e[d]:d}${n}) and (max-width:${(p!==-1&&typeof e[o[p]]=="number"?e[o[p]]:f)-r/100}${n})`}function c(d){return o.indexOf(d)+1<o.length?u(d,o[o.indexOf(d)+1]):a(d)}function h(d){const f=o.indexOf(d);return f===0?a(o[1]):f===o.length-1?l(o[f]):u(d,o[o.indexOf(d)+1]).replace("@media","@media not all and")}return K({keys:o,values:s,up:a,down:l,between:u,only:c,not:h,unit:n},i)}const Ute={borderRadius:4},jte=Ute;function zte(t=8){if(t.mui)return t;const e=U1({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}const Hte=["breakpoints","palette","spacing","shape"];function G1(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=un(t,Hte),a=Lte(n),l=zte(i);let u=kn({breakpoints:a,direction:"ltr",components:{},palette:K({mode:"light"},r),spacing:l,shape:K({},jte,s)},o);return u=e.reduce((c,h)=>kn(c,h),u),u.unstable_sxConfig=K({},z1,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(h){return H1({sx:h,theme:this})},u}const Gte=w.createContext(null),Wte=Gte;function Vte(){return w.useContext(Wte)}function Xte(t){return Object.keys(t).length===0}function qte(t=null){const e=Vte();return!e||Xte(e)?t:e}const Yte=G1();function Kte(t=Yte){return qte(t)}const Zte=["variant"];function jE(t){return t.length===0}function bO(t){const{variant:e}=t,n=un(t,Zte);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=jE(r)?t[i]:Uo(t[i]):r+=`${jE(r)?i:Uo(i)}${Uo(t[i].toString())}`}),r}const Qte=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],Jte=["theme"],ene=["theme"];function Wa(t){return Object.keys(t).length===0}function tne(t){return typeof t=="string"&&t.charCodeAt(0)>96}const nne=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,rne=(t,e)=>{let n=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants);const r={};return n.forEach(i=>{const s=bO(i.props);r[s]=i.style}),r},ine=(t,e,n,r)=>{var i,s;const{ownerState:o={}}=t,a=[],l=n==null||(i=n.components)==null||(s=i[r])==null?void 0:s.variants;return l&&l.forEach(u=>{let c=!0;Object.keys(u.props).forEach(h=>{o[h]!==u.props[h]&&t[h]!==u.props[h]&&(c=!1)}),c&&a.push(e[bO(u.props)])}),a};function yh(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const sne=G1();function one(t={}){const{defaultTheme:e=sne,rootShouldForwardProp:n=yh,slotShouldForwardProp:r=yh}=t,i=s=>{const o=Wa(s.theme)?e:s.theme;return H1(K({},s,{theme:o}))};return i.__mui_systemSx=!0,(s,o={})=>{Yee(s,y=>y.filter(x=>!(x!=null&&x.__mui_systemSx)));const{name:a,slot:l,skipVariantsResolver:u,skipSx:c,overridesResolver:h}=o,d=un(o,Qte),f=u!==void 0?u:l&&l!=="Root"||!1,p=c||!1;let m,v=yh;l==="Root"?v=n:l?v=r:tne(s)&&(v=void 0);const g=qee(s,K({shouldForwardProp:v,label:m},d)),b=(y,...x)=>{const S=x?x.map(I=>typeof I=="function"&&I.__emotion_real!==I?M=>{let{theme:N}=M,D=un(M,Jte);return I(K({theme:Wa(N)?e:N},D))}:I):[];let C=y;a&&h&&S.push(I=>{const M=Wa(I.theme)?e:I.theme,N=nne(a,M);if(N){const D={};return Object.entries(N).forEach(([B,k])=>{D[B]=typeof k=="function"?k(K({},I,{theme:M})):k}),h(I,D)}return null}),a&&!f&&S.push(I=>{const M=Wa(I.theme)?e:I.theme;return ine(I,rne(a,M),M,a)}),p||S.push(i);const T=S.length-x.length;if(Array.isArray(y)&&T>0){const I=new Array(T).fill("");C=[...y,...I],C.raw=[...y.raw,...I]}else typeof y=="function"&&y.__emotion_real!==y&&(C=I=>{let{theme:M}=I,N=un(I,ene);return y(K({theme:Wa(M)?e:M},N))});return g(C,...S)};return g.withConfig&&(b.withConfig=g.withConfig),b}}function ane(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:pO(e.components[n].defaultProps,r)}function lne({props:t,name:e,defaultTheme:n}){const r=Kte(n);return ane({theme:r,name:e,props:t})}function xO(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function une(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ia(t){if(t.type)return t;if(t.charAt(0)==="#")return ia(une(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(ra(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(ra(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function W1(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function cne(t){t=ia(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,c=(u+n/30)%12)=>i-s*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),W1({type:a,values:l})}function zE(t){t=ia(t);let e=t.type==="hsl"||t.type==="hsla"?ia(cne(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function hne(t,e){const n=zE(t),r=zE(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function dne(t,e){if(t=ia(t),e=xO(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return W1(t)}function fne(t,e){if(t=ia(t),e=xO(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return W1(t)}function pne(t,e){return K({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const mne={black:"#000",white:"#fff"},iu=mne,gne={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},vne=gne,yne={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},js=yne,bne={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},zs=bne,xne={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Va=xne,wne={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Hs=wne,_ne={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Gs=_ne,Ene={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Ws=Ene,Sne=["mode","contrastThreshold","tonalOffset"],HE={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:iu.white,default:iu.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Jp={text:{primary:iu.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:iu.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function GE(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=fne(t.main,i):e==="dark"&&(t.dark=dne(t.main,s)))}function Cne(t="light"){return t==="dark"?{main:Hs[200],light:Hs[50],dark:Hs[400]}:{main:Hs[700],light:Hs[400],dark:Hs[800]}}function Tne(t="light"){return t==="dark"?{main:js[200],light:js[50],dark:js[400]}:{main:js[500],light:js[300],dark:js[700]}}function Ane(t="light"){return t==="dark"?{main:zs[500],light:zs[300],dark:zs[700]}:{main:zs[700],light:zs[400],dark:zs[800]}}function Pne(t="light"){return t==="dark"?{main:Gs[400],light:Gs[300],dark:Gs[700]}:{main:Gs[700],light:Gs[500],dark:Gs[900]}}function One(t="light"){return t==="dark"?{main:Ws[400],light:Ws[300],dark:Ws[700]}:{main:Ws[800],light:Ws[500],dark:Ws[900]}}function Ine(t="light"){return t==="dark"?{main:Va[400],light:Va[300],dark:Va[700]}:{main:"#ed6c02",light:Va[500],dark:Va[900]}}function kne(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=un(t,Sne),s=t.primary||Cne(e),o=t.secondary||Tne(e),a=t.error||Ane(e),l=t.info||Pne(e),u=t.success||One(e),c=t.warning||Ine(e);function h(m){return hne(m,Jp.text.primary)>=n?Jp.text.primary:HE.text.primary}const d=({color:m,name:v,mainShade:g=500,lightShade:b=300,darkShade:y=700})=>{if(m=K({},m),!m.main&&m[g]&&(m.main=m[g]),!m.hasOwnProperty("main"))throw new Error(ra(11,v?` (${v})`:"",g));if(typeof m.main!="string")throw new Error(ra(12,v?` (${v})`:"",JSON.stringify(m.main)));return GE(m,"light",b,r),GE(m,"dark",y,r),m.contrastText||(m.contrastText=h(m.main)),m},f={dark:Jp,light:HE};return kn(K({common:K({},iu),mode:e,primary:d({color:s,name:"primary"}),secondary:d({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:d({color:a,name:"error"}),warning:d({color:c,name:"warning"}),info:d({color:l,name:"info"}),success:d({color:u,name:"success"}),grey:vne,contrastThreshold:n,getContrastText:h,augmentColor:d,tonalOffset:r},f[e]),i)}const Rne=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Mne(t){return Math.round(t*1e5)/1e5}const WE={textTransform:"uppercase"},VE='"Roboto", "Helvetica", "Arial", sans-serif';function Fne(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=VE,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:h}=n,d=un(n,Rne),f=i/14,p=h||(g=>`${g/u*f}rem`),m=(g,b,y,x,S)=>K({fontFamily:r,fontWeight:g,fontSize:p(b),lineHeight:y},r===VE?{letterSpacing:`${Mne(x/b)}em`}:{},S,c),v={h1:m(s,96,1.167,-1.5),h2:m(s,60,1.2,-.5),h3:m(o,48,1.167,0),h4:m(o,34,1.235,.25),h5:m(o,24,1.334,0),h6:m(a,20,1.6,.15),subtitle1:m(o,16,1.75,.15),subtitle2:m(a,14,1.57,.1),body1:m(o,16,1.5,.15),body2:m(o,14,1.43,.15),button:m(a,14,1.75,.4,WE),caption:m(o,12,1.66,.4),overline:m(o,12,2.66,1,WE),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return kn(K({htmlFontSize:u,pxToRem:p,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},v),d,{clone:!1})}const Dne=.2,$ne=.14,Bne=.12;function ze(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Dne})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${$ne})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Bne})`].join(",")}const Nne=["none",ze(0,2,1,-1,0,1,1,0,0,1,3,0),ze(0,3,1,-2,0,2,2,0,0,1,5,0),ze(0,3,3,-2,0,3,4,0,0,1,8,0),ze(0,2,4,-1,0,4,5,0,0,1,10,0),ze(0,3,5,-1,0,5,8,0,0,1,14,0),ze(0,3,5,-1,0,6,10,0,0,1,18,0),ze(0,4,5,-2,0,7,10,1,0,2,16,1),ze(0,5,5,-3,0,8,10,1,0,3,14,2),ze(0,5,6,-3,0,9,12,1,0,3,16,2),ze(0,6,6,-3,0,10,14,1,0,4,18,3),ze(0,6,7,-4,0,11,15,1,0,4,20,3),ze(0,7,8,-4,0,12,17,2,0,5,22,4),ze(0,7,8,-4,0,13,19,2,0,5,24,4),ze(0,7,9,-4,0,14,21,2,0,5,26,4),ze(0,8,9,-5,0,15,22,2,0,6,28,5),ze(0,8,10,-5,0,16,24,2,0,6,30,5),ze(0,8,11,-5,0,17,26,2,0,6,32,5),ze(0,9,11,-5,0,18,28,2,0,7,34,6),ze(0,9,12,-6,0,19,29,2,0,7,36,6),ze(0,10,13,-6,0,20,31,3,0,8,38,7),ze(0,10,13,-6,0,21,33,3,0,8,40,7),ze(0,10,14,-6,0,22,35,3,0,8,42,7),ze(0,11,14,-7,0,23,36,3,0,9,44,8),ze(0,11,15,-7,0,24,38,3,0,9,46,8)],Lne=Nne,Une=["duration","easing","delay"],jne={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},zne={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function XE(t){return`${Math.round(t)}ms`}function Hne(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function Gne(t){const e=K({},jne,t.easing),n=K({},zne,t.duration);return K({getAutoHeightDuration:Hne,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return un(s,Une),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:XE(o)} ${a} ${typeof l=="string"?l:XE(l)}`).join(",")}},t,{easing:e,duration:n})}const Wne={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Vne=Wne,Xne=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function qne(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=un(t,Xne);if(t.vars)throw new Error(ra(18));const a=kne(r),l=G1(t);let u=kn(l,{mixins:pne(l.breakpoints,n),palette:a,shadows:Lne.slice(),typography:Fne(a,s),transitions:Gne(i),zIndex:K({},Vne)});return u=kn(u,o),u=e.reduce((c,h)=>kn(c,h),u),u.unstable_sxConfig=K({},z1,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(h){return H1({sx:h,theme:this})},u}const Yne=qne(),wO=Yne;function Kne({props:t,name:e}){return lne({props:t,name:e,defaultTheme:wO})}const Zne=t=>yh(t)&&t!=="classes",Qne=one({defaultTheme:wO,rootShouldForwardProp:Zne}),Jne=Qne;function ere(t){return mO("MuiMasonry",t)}Bee("MuiMasonry",["root"]);const tre=["children","className","component","columns","spacing","defaultColumns","defaultHeight","defaultSpacing"],li=t=>Number(t.replace("px","")),nre={flexBasis:"100%",width:0,margin:0,padding:0},rre=t=>{const{classes:e}=t;return Ree({root:["root"]},ere,e)},ire=({ownerState:t,theme:e})=>{let n={width:"100%",display:"flex",flexFlow:"column wrap",alignContent:"flex-start",boxSizing:"border-box","& > *":{boxSizing:"border-box"}};const r={};if(t.isSSR){const u={},c=li(e.spacing(t.defaultSpacing));for(let h=1;h<=t.defaultColumns;h+=1)u[`&:nth-of-type(${t.defaultColumns}n+${h%t.defaultColumns})`]={order:h};return r.height=t.defaultHeight,r.margin=-(c/2),r["& > *"]=K({},n["& > *"],u,{margin:c/2,width:`calc(${(100/t.defaultColumns).toFixed(2)}% - ${c}px)`}),K({},n,r)}const i=LE({values:t.spacing,breakpoints:e.breakpoints.values}),s=U1(e);n=kn(n,hn({theme:e},i,u=>{let c;if(typeof u=="string"&&!Number.isNaN(Number(u))||typeof u=="number"){const h=Number(u);c=Ei(s,h)}else c=u;return K({margin:`calc(0px - (${c} / 2))`,"& > *":{margin:`calc(${c} / 2)`}},t.maxColumnHeight&&{height:typeof c=="number"?Math.ceil(t.maxColumnHeight+li(c)):`calc(${t.maxColumnHeight}px + ${c})`})}));const a=LE({values:t.columns,breakpoints:e.breakpoints.values});return n=kn(n,hn({theme:e},a,u=>{const h=`${(100/Number(u)).toFixed(2)}%`,d=typeof i=="string"&&!Number.isNaN(Number(i))||typeof i=="number"?Ei(s,Number(i)):"0px";return{"& > *":{width:`calc(${h} - ${d})`}}})),typeof i=="object"&&(n=kn(n,hn({theme:e},i,(u,c)=>{if(c){const h=Number(u),d=Object.keys(a).pop(),f=Ei(s,h);return{"& > *":{width:`calc(${`${(100/(typeof a=="object"?a[c]||a[d]:a)).toFixed(2)}%`} - ${f})`}}}return null}))),n},sre=Jne("div",{name:"MuiMasonry",slot:"Root",overridesResolver:(t,e)=>[e.root]})(ire),ore=w.forwardRef(function(e,n){const r=Kne({props:e,name:"MuiMasonry"}),{children:i,className:s,component:o="div",columns:a=4,spacing:l=1,defaultColumns:u,defaultHeight:c,defaultSpacing:h}=r,d=un(r,tre),f=w.useRef(),[p,m]=w.useState(),v=!p&&c&&u!==void 0&&h!==void 0,[g,b]=w.useState(v?u-1:0),y=K({},r,{spacing:l,columns:a,maxColumnHeight:p,defaultColumns:u,defaultHeight:c,defaultSpacing:h,isSSR:v}),x=rre(y),S=I=>{if(!f.current||!I||I.length===0)return;const M=f.current,N=f.current.firstChild,D=M.clientWidth,B=N.clientWidth;if(D===0||B===0)return;const k=window.getComputedStyle(N),H=li(k.marginLeft),q=li(k.marginRight),z=Math.round(D/(B+H+q)),L=new Array(z).fill(0);let G=!1;M.childNodes.forEach(R=>{if(R.nodeType!==Node.ELEMENT_NODE||R.dataset.class==="line-break"||G)return;const X=window.getComputedStyle(R),Z=li(X.marginTop),F=li(X.marginBottom),$=li(X.height)?Math.ceil(li(X.height))+Z+F:0;if($===0){G=!0;return}for(let P=0;P<R.childNodes.length;P+=1){const W=R.childNodes[P];if(W.tagName==="IMG"&&W.clientHeight===0){G=!0;break}}if(!G){const P=L.indexOf(Math.min(...L));L[P]+=$;const W=P+1;R.style.order=W}}),G||Ol.flushSync(()=>{m(Math.max(...L)),b(z>0?z-1:0)})},C=w.useRef(typeof ResizeObserver>"u"?void 0:new ResizeObserver(S));w.useEffect(()=>{const I=C.current;if(I!==void 0)return f.current&&f.current.childNodes.forEach(M=>{I.observe(M)}),()=>I?I.disconnect():{}},[a,l,i]);const T=kee(n,f),A=new Array(g).fill("").map((I,M)=>E("span",{"data-class":"line-break",style:K({},nre,{order:M+1})},M));return U(sre,K({as:o,className:Nee(x.root,s),ref:T,ownerState:y},d,{children:[i,A]}))}),Cv=ore;function qE({label:t,value:e}){return U("div",{className:"stat-line",children:[U("span",{className:"label",children:[t,": "]}),E("span",{className:"value",children:e})]})}function Tv(){return Tv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tv.apply(this,arguments)}var are=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?w.useLayoutEffect:w.useEffect;function Av(t){var e=t.breakpoints,n=t.ignoreDimensions,r=n===void 0?!0:n,i=Object.keys(e)[0],s=w.useState({activeBreakpoint:i,width:0}),o=s[0],a=s[1],l=w.useRef(null),u=w.useRef(null),c=w.useCallback(function(f,p){for(var m,v=0,g=Object.entries(e);v<g.length;v++){var b=g[v],y=b[0],x=b[1],S=x[0],C=x[1];if(p>=S){if(C===void 0){m=y;break}else if(p<=C){m=y;break}}}return{activeBreakpoint:m||f,width:p}},[e]),h=w.useCallback(function(f){var p=f[0],m;if(p.borderBoxSize?m=Math.round(Array.isArray(p.borderBoxSize)?p.borderBoxSize[0].inlineSize:p.borderBoxSize.inlineSize):m=Math.round(p.contentRect.width),r){var v=c(o.activeBreakpoint,m),g=v.activeBreakpoint;g!==o.activeBreakpoint&&a(function(b){return Tv({},b,{activeBreakpoint:g})})}else a(c(o.activeBreakpoint,m))},[o.activeBreakpoint,r,c]);are(function(){return l.current||(l.current=new ResizeObserver(h)),u.current&&l.current.observe(u.current,{box:"border-box"}),function(){var f;(f=l.current)==null||f.disconnect(),l.current=null}},[h]);var d=w.useCallback(function(f){if(u.current){var p;(p=l.current)==null||p.unobserve(u.current)}if(u.current=f,f){var m;(m=l.current)==null||m.observe(f)}},[]);return{ref:d,width:o.width,active:o.activeBreakpoint}}const V1=w.createContext({}),Pv=({children:t})=>{const[e,n]=w.useState({textFilter:"",tags:[]});return E(V1.Provider,{value:{filters:e,setFilters:n},children:t})};function lre({tags:t}){const{filters:e,setFilters:n}=w.useContext(V1),r=i=>{e.tags.includes(i)?n({...e,tags:e.tags.filter(s=>s!==i)}):n({...e,tags:[...e.tags,i]})};return t?E("div",{className:"tag-filters",children:t.map(i=>E(lv,{label:i,clicked:r,selected:Ru(e.tags,i)},i))}):E("div",{})}function Ov({tags:t,expanded:e,filtersUpdated:n,name:r="filters"}){const{filters:i,setFilters:s}=w.useContext(V1),[o,a]=w.useState(e),l=()=>{s({tags:[],textFilter:""})};return w.useEffect(()=>{n(i)},[i]),o?U("div",{className:"ability-filters open",children:[E(Ar,{fullWidth:!0,placeholder:"Filter by name",minWidth:200,className:"text-filter",value:i==null?void 0:i.textFilter,valueChanged:u=>s({...i,textFilter:u})}),E("div",{className:"tag-filters",children:E(lre,{tags:t})}),U("div",{className:"controls",children:[U(rt,{color:"theme",noPadding:!0,clicked:l,disabled:!i.tags.length&&!i.textFilter.length,children:[E(vA,{size:18}),"reset"]}),E(rt,{color:"mutedText",clicked:()=>a(!o),children:E(UN,{size:18})})]})]}):E("div",{className:"ability-filters closed",children:U("button",{onClick:()=>a(!o),className:"controls",children:[r,E(gA,{size:18})]})})}function ure(t){return pe(vn(t.abilities,e=>!e.replaced&&e.learned),e=>({...e}))}function YE(t,e){let n=t;return e?n=vn(t,r=>{var s,o;let i=!0;return(s=e.tags)!=null&&s.length&&(i=tA(e.tags,r.tags).length===0),(o=e.textFilter)!=null&&o.length&&(i=i&&r.name.toLowerCase().includes(e.textFilter.toLowerCase())),i}):n=t,Ms(n,"name")}const KE={small:[0,600],med:[600,900],large:[901,1150],xl:[1151,1400],xxl:[1401,1600],xxxl:[1601,2e3]};function ZE(t){return{small:1,med:2,large:3,xl:4,xxl:5,xxxl:6}[t]}function cre(t,e){let n=ure(t),r=J$(n,"type"),i={},s=[];return Me(n,o=>{i[o.name]=o.tags}),Me(Object.keys(r),o=>{let a=[];Me(r[o],l=>{const u=l.id;l.ability=_e(e,{id:u}),l.tags&&(a=Ql([...a,...l.tags]))}),s=Ql([...s,...a]),i[o]=Ms(a)}),{abilityTags:i,knownAbilities:n,knownAbilitiesByType:r,allAbilityTags:s}}function hre(){var N;const{build:t}=w.useContext(Fs),{abilityTypes:e,abilities:n}=w.useContext(Bt),[r,i]=w.useState({}),[s,o]=w.useState({}),[a,l]=w.useState({}),[u,c]=w.useState([]),{stats:h}=w.useContext(Vu),[d,f]=w.useState({}),[p,m]=w.useState({}),{ref:v,active:g,width:b}=Av({breakpoints:KE}),{ref:y,active:x}=Av({breakpoints:KE}),[S,C]=w.useState({}),[T,A]=w.useState(!1),I=D=>{C({...S,[D]:!S[D]})},M=D=>{A(D.tags.length||D.textFilter.length),m(D)};return w.useEffect(()=>{const D=cre(t,n);i(D.knownAbilities),o(D.knownAbilitiesByType),l(D.abilityTags),c(D.allAbilityTags)},[t,n]),U("div",{className:"character-sheet",children:[U("div",{className:"stats",children:[E("div",{className:"title",children:"Stats"}),E(qE,{label:" Skill Points Spent",value:t.pointsInvested}),pe(h,(D,B)=>E(qE,{label:D.name,value:t.stats[D.id]||0},B))]}),U("div",{className:"abilities",children:[E("div",{className:"title",children:"Abilities"}),E(Pv,{children:E(Ov,{name:"filter all",tags:u,expanded:!0,filtersUpdated:M})}),!T&&E("div",{className:"accordions",children:Ms(e,"name").map((D,B)=>{var k,H;return U(St,{startOpen:!1,name:D.name,disabled:!((k=s[D.id])!=null&&k.length),children:[E(Pv,{children:E(Ov,{name:"filter "+D.name+" abilities",expanded:!1,tags:a[D.id]||[],filtersUpdated:q=>f({...d,[D.id]:q})})}),U("div",{ref:v,className:"ability-cards",children:[E("div",{className:"expand-button",children:E(rt,{color:"theme",clicked:()=>I(D.id),children:S[D.id]?E(pA,{size:30}):E(fA,{size:30})})}),E(Cv,{columns:ZE(g),spacing:2,children:(H=YE(s[D.id],d[D.id]))==null?void 0:H.map((q,z)=>E("div",{children:(q==null?void 0:q.ability)&&E(ru,{ability:q.ability,isPlayerAbility:!0,modifiers:q.modifiers,tags:q.tags,startOpen:!1,isExpanded:!!S[D.id]})},z))})]})]},B)})}),!!T&&E("div",{ref:y,className:"ability-cards",children:E(Cv,{columns:ZE(x),spacing:1.5,children:(N=YE(r,p))==null?void 0:N.map((D,B)=>E("div",{children:(D==null?void 0:D.ability)&&E(ru,{ability:D.ability,isPlayerAbility:!0,modifiers:D.modifiers,tags:D.tags,startOpen:!0})},B))})})]})]})}const dre="0.0.10",fre=[{id:"advanced-flying",name:"Advanced Flying",description:`This unit can fly. It now can exist on three different battlefield planes. The ground, and the air level 1, and air level 2, and air level 3. It costs 1 hex of movement to move upward but not downward.

    Additionally, you are immune to environmental effects.`,type:"passive",tags:["flying"],replaces:"flying"},{id:"aerial-combat",name:"Aerial Combat",type:"passive",description:"Gains +1 on attacks made against flying units.",tags:["flying"]},{id:"aerial-evasion",name:"Aerial Evasion",type:"passive",description:"Gains +1 to AC while in the air.",tags:["flying","defense"]},{id:"alert",name:"Alert",type:"movement",description:"This unit always musters and can muster 1 adjacent unit (during movement).",replaces:"attentive",tags:["defense","mustering"]},{name:"Alter Emotions",id:"alter-emotions",description:`Increase or decrease the organization (HP) of any non-elite group of soldiers by %amt%. {sooth-amt} Non-elites can instead gain %amt%+%sooth-amt% hp.{/sooth-amt}  {riot-amt} Non-elites now lose %amt%+%riot-amt% hp. {/riot}
{spread-ae} Units with an adjacency of %spread-ae% to the target are also effected in the same way {/spread-ae}`,tags:["enchantment","spell"],type:"action",params:{amt:1,"sooth-amt":0,"riot-amt":0,"spread-ae":0}},{id:"aquatic-combat",name:"Aquatic Attack",description:"Add +1 to any attack made from the water.",type:"passive",tags:["aquatic","attack"]},{id:"attack-from-the-deep",name:"Attack from the Deeps",description:"Gain +2 damage on attacks made against other targets in the water that are at ground level.",type:"passive",tags:["aquatic","attack"]},{id:"attentive",name:"Attentive",type:"movement",description:"This unit always musters",tags:["defense","mustering"]},{id:"basic-attack",name:"Basic Attack",description:"You make 1 melee attack against an adjacent enemy. Roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.",type:"action",params:{dmg:-1},tags:["attack"]},{name:"Beguile",id:"beguile",description:`Beguile %be-units% unit(s) into one of the following:

Frightened of you - the unit cannot move towards you on its turn.

{compelled}Compelled -  The unit MUST move at least 2 hexes toward you (if it can/it has to try to){/compelled}

{charmed}Charmed - the unit makes %numAttacks% less attack(s) against you{/charmed}`,tags:["enchantment","spell"],type:"action",params:{frightened:1,compelled:0,charmed:0,numAttacks:1,"be-units":1}},{id:"bless",name:"Bless",description:"Buff up %bless_tars% ally(s) within range, granting them +1 on their first attack/cantrip strike of their turn.",type:"action",tags:["holy","spell"],params:{bless_tars:1}},{id:"cantrip-barrage",name:"Cantrip Strike",description:`Deal 1d6+%can_dmg% damage to an enemy.

{can_pierce} This attack always does %can_dmg% {/can_pierce}`,type:"action",tags:["magic","evocation"],params:{can_dmg:0,can_pierce:0}},{id:"charge",name:"Charge",type:"movement",description:`If this unit moves 4 hexes in a straight line before becoming adjacent to an enemy they automatically do +%dmg% damage on first melee attack. The movement for the rest of the turn becomes 0. 
        {breakthrough}
          If after a charge, this unit still has remaining movement, it can use that movement to continue on its charge-line through enemy units.
        {/breakthrough}`,params:{dmg:1,breakthrough:0}},{id:"dash",name:"Dash",type:"action",description:"Move %movement% hexes.",params:{movement:2},tags:["movement","fast"]},{id:"dash-expert",name:"Dash Expert",type:"passive",description:"Once per turn, you can replace any one of your attacks with movement up to your speed.",tags:["movement"]},{id:"death-bomb",name:"Death Bomb",type:"action",description:"This unit can dive bomb and forcefully smash itself into enemy units. This kills this unit. It does 2 damage to a target's HP.",tags:["undead","flying"]},{id:"death-ward",name:"Death Ward",description:"Place a ward against death on a unit. If that unit is reduced to 0 HP it instead goes to %hp% HP. When this happens the spell is used up and you lose concentration on it.",type:"action",tags:["concentration","holy","spell"],params:{hp:2}},{id:"defend",name:"Defend",description:`Gain    %hp% hp.

{def_regen} You can regain up to %def_regen% hp per day.
{/def_regen}

{brace}For this turn, gain the following effects:

1. You are Immune to Charge effects.
2. Enemies that move adjacent to you take 1 damage.
{/brace}`,type:"action",params:{brace:0,hp:1,def_regen:5},tags:["healing"]},{id:"deflect",name:"Deflect",type:"reaction",description:`Block %deflect% ranged attack that is made at you. Declare before the attack is rolled. 

For magic attacks, deflect on a roll of %lowerRange% or higher.`,tags:["defense"],params:{lowerRange:4,deflect:1}},{id:"dive-bomb",name:"Dive Bomb",type:"passive",tags:["flying"],description:"When this unit moves from a higher elevation to a lower elevation it gains +1 damage for each air level it decends through for its next attack."},{id:"diving",name:"Diving",description:"This unit can swim under water. Gain access to a -1 vertical space in water. Gain +3 to AC from units that are ground or above. You get a -2 dice roll on all attacks on units that are at ground or above.",type:"movement",tags:["aquatic"]},{name:"Dominate",id:"dominate",description:"{base} Take control of non-elite units (so common soliders and such). The unit is under your control until the battle ends or it loses half its current health. Can only have %unit% unit(s) dominated at a time. {/base} {elite} Take control of any unit. The unit is under your control until the battle ends or it loses half its current health. Can only have %unit% unit(s) dominated at a time.{/elite}",tags:["enchantment","spell"],type:"action",params:{units:1,elite:0,base:1}},{id:"extra-versatile",name:"Extra Versatile",description:"You can choose to take actions before or after each unit of movement.",type:"passive",replaces:"versatile"},{id:"ferry",name:"Ferry",description:"This unit can carry other units on water. It takes 1 action to load an ally (action used during movement). No action required to disembark.",type:"passive",tags:["aquatic","movement"]},{id:"flying",name:"Flying",description:`This unit can fly. It now can exist on two different battlefield planes. The ground, and the air level 1. It costs 1 hex of movement to move upward but not downward.

    Additionally, you are immune to environmental effects.`,type:"passive",tags:["flying"]},{id:"greater-knitting",name:"Greater Knitting",description:"Restore %hp% HP to all adjacent undead units",type:"action",replaces:"knit-flesh",tags:["undead","healing","necromancy"],params:{hp:1}},{id:"guardian",name:"Guardian",type:"reaction",description:"As a reaction, can intercept %attacks% attack(s) going towards an adjacent ally. You now take that attack - also take 1 damage.",tags:["defense"],params:{attacks:1}},{id:"guiding-bolt",name:"Guiding Bolt",description:"You hit an enemy with a blast of light, dealing %dmg% nonabsorbable damage. Next round, allies have +%roll% on all attacks/cantrip strikes against this target.",type:"action",tags:["holy","piercing","spell"],params:{roll:1,dmg:1}},{id:"knit-flesh",name:"Knit Flesh",description:"Restore %hp% HP to an adjacent undead unit",type:"action",params:{hp:1},tags:["undead","healing","necromancy"]},{id:"mass-knitting",name:"Mass Knitting",description:"Restore %hp% HP to all undead units within 2 hexes (100m area)",type:"action",replaces:"greater-knitting",tags:["undead","healing","necromancy"],params:{hp:1}},{id:"multi-attack",name:"Multi Attack",description:`You make %numatks% melee attack against an adjacent enemy.
      
      Each Attack: 1d6{dmg}+%dmg%{/dmg}  

{dmg2} This attack always does at least %dmg2% damage {/dmg2}
 `,type:"action",replaces:"Attack_norm",params:{dmg2:0,dmg:0,numatks:1},tags:["attack"]},{id:"reactive-armor",name:"Reactive Armor",description:"When an enemy attacks you, gain 1 AC. Lose 1 AC at the start of each turn.",type:"passive",tags:["defense"]},{id:"restoration",name:"Restoration",description:`Heal a unit %hp%+%@holyheal% HP within spell range.{divine}

Restoration can now be cast for 2 spell slots and heals 10 HP if done this way.{/divine}`,type:"action",tags:["holy","spell","healing"],params:{hp:3,divine:0}},{id:"smite",name:"Smite",description:`When an attack hits (does damage to HP), you may spend 1 spell slot to make that attack do +%dmg%
      damage`,type:"bonus action",tags:["holy","spell"],params:{dmg:3}},{id:"spellcasting",name:"Spellcasting",description:`You can now cast spells and cantrips. Casting spells and cantrips take action to cast and require 1 spell slot of the coresponding school of magic. 
    Cantrips barrage does not cost a spell slot. 
    
    Range: %range%
    Contentration Bonus: %concentration%`,type:"school",tags:["magic"],params:{range:1,concentration:1}},{id:"spirit-guardians",name:"Spirit Guardians",description:"Call upon spiritual guardians to protect you. You gain %ac% AC and adjacent enemies take %dmg% unabsorbable damage at the start of your turn. {armor_debuff} Enemies within the zone also have their armor reduced by %armor_debuff% {/armor_debuff}",type:"action",tags:["concentration","holy","piercing","spell"],params:{dmg:1,ac:1,armor_debuff:0}},{id:"strafing-run",name:"Strafing Run",type:"passive",tags:["flying"],description:"As part of movement can make a breath attack against up to %targets% target(s) (adjacent to each) that you fly over in a straight line. This costs 1 breath attack use and does half breath damage (but full effect). Costs 1 movement to initiate for each targeted hex."},{id:"submarine-transportation",name:"Submarine Transportation",description:"This unit can carry other units on water and underwater. It takes 1 action to load an ally (action used during movement). No action required to disembark.",type:"passive",tags:["aquatic","movement"],replaces:"ferry"},{id:"swarm",name:"Swarm",type:"action",tags:["flying"],description:"Swarm around an adjacent enemy unit, co-existing in their hex, and blocking ranged attacks against targets other than itself. This unit can now move 3 hexes as a reaction to stay with its swarmed unit, any more movement breaks the swarm. In addition it can choose to be hit by ranged attacks that would pass through its hex."},{id:"swimming",name:"Swimming",description:"If this unit can move up to %movement% hexes in the water. If the unit's speed is less than %movement% it can move up to its speed.",type:"movement",tags:["aquatic"]},{id:"turn-undead",name:"Turn Undead",description:"Force undead on their turn to move at least %range% hex away from you and get no closer for %rounds% round.",type:"action",tags:["holy","spell"],params:{dmg:1,range:1,rounds:1}},{id:"versatile",name:"Versatile",description:"You can choose to take actions prior to movement.",type:"passive"},{name:"Command",id:"command",description:"Gain a command aura of %commandRadius% m radius (every adjacent hex)",tags:["command"],type:"passive",params:{commandRadius:50}},{name:"Rally",id:"rally",description:`As an action, allied units in your command aura regain %hp% HP.

{bonus}
1 unit within your command aura can make an attack.
{/bonus}`,tags:["command"],type:"action",params:{bonus:0,hp:1}},{name:"Aggressive Commander",id:"aggro-command",description:"Allied units adjacent to this unit can make 1 extra attack, unmodified.",tags:[],type:"action"},{name:"Energetic Commander",id:"energetic-commander",description:"Allied units in this units command aura can move 1 extra hex.",tags:[],type:"action"},{name:"Rally+",id:"rally-2",description:`As an action, allied units in your command aura regain %hp% HP.

2 units within your command aura can make 1 attack 
OR
1 unit within your command aura can make 2 attacks`,tags:["command"],type:"action",params:{hp:1},replaces:"rally"},{name:"Attack of Opportunity",id:"attack-of-opportunity",description:"This unit can make a single melee attack (with modified damage) against any enemy that moves out of adjacency with it. The attack takes place immediately.",tags:["defense","attack"],type:"reaction"},{name:"Professionals",id:"professionals",description:"This unit is always active (doesnt count to active unit count).",tags:["mustering"],type:"movement"},{name:"Raise Dead",id:"raise-dead",description:"Raise a deceased unit as a zombie horde with %raiseHp%% health.",tags:["necromancy","spell"],type:"action",params:{raiseHp:25}},{name:"Life Drain",id:"raise-dead-copy",description:`Create a link between you and a target within range. Each turn as a bonus action you can tap that link (including turn 1) . Tapping the link deals 1 damage to the target's HP and gives that HP to you. 

 This spell lasts as long as the target remains within 6 hexes of the caster.`,tags:["necromancy","spell","healing","concentration"],type:"action"},{name:"Wither",id:"wither",description:`curse a target within range with:
   
-1 armor
   -1 attack 
   -1 movement

Lasts 2 turns. This spell lasts as long as the target remains within 6 hexes of the caster.`,tags:["spell","necromancy"],type:"action"},{name:"Unrelenting Horde",id:"unrelenting-horde",description:"If this unit kills an adjacent unit. It spawns a new zombie unit from the dead unit. The new zombie has %hpPercent%% health",tags:["undead","necromancy"],type:"passive",params:{hpPercent:50}},{name:"Necromancy",id:"necromancy",description:`You can cast Necromancy spells.

Spell Slots: %slots%
Spells Per action: %spellsPerAction%`,tags:["necromancy"],type:"school",params:{slots:1,spellsPerAction:1}},{name:"Holy Casting",id:"holy-casting",description:`You can cast holy spells.

Spell Slots: %slots%
Spells Per action: %spells%`,tags:["holy"],type:"school",params:{spells:1,slots:2}},{id:"Attack_norm",name:"Melee Attack",description:`You make 1 melee attack against an adjacent enemy. Roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.

{dmg2} This attack always does at least %dmg2% damage {/dmg2}`,type:"action",params:{dmg2:0,dmg:-1},tags:["attack"],replaces:"basic-attack"},{name:"Ranged Attack",id:"id-44",description:`You make 1 ranged attack against an enemy. First roll 1d6{range}+%range%{/range} against the number of hexes between you and the target. Must beat this distance. For each success now roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.

{dmg2} This attack always does at least %dmg2% damage {/dmg2}`,tags:[],type:"action",params:{dmg2:0,dmg:0,range:0}},{name:"Tie Down",id:"tie_down_001",description:"The unit can spend an attack to tie down an adjacent enemy, restricting their movement by %spd_down% hexes.",tags:[],type:"action",params:{spd_down:0}},{name:"Seige Attack",id:"seige-id-8",description:`This unit can attack walls/towers and gains a bonus to attack gates.

Do %seige_atk% more damage against all buildings.`,tags:[],type:"action",params:{seige_atk:1}},{name:"Massive",id:"anti-air-180",description:"This unit can attack airborne target or targets on walls with no penalty.",tags:["attack"],type:"passive",params:{}},{name:"Hurl",id:"id-43",description:"This unit can now throw entities from adjacent units at targets within %hurl_range% hexes. This attack does %hurl_dmg% of which 1 is piercing.",tags:["attack","ranged"],type:"action",params:{hurl_range:6,hurl_dmg:5}},{name:"Critical Strike",id:"critical-id-98",description:`{base}When you roll a 1 on an attack you may reroll that die once and add the 1 to the result.{/base}
{explode} Explode on 1s.{/explode}`,tags:["attack"],type:"passive",params:{base:1,explode:0}},{name:"Evocation Casting",id:"id-33",description:`You can cast evocation spells.

Spell Slots: %evo_slots%
Spells Per action: %evo_spells%`,tags:["evocation","spell"],type:"school",params:{evo_slots:2,evo_spells:1}},{name:"Magical Barrage",id:"magic-barrageid-22",description:`As an action, you unleash a magical barrage against a unit within range. This attack deals %mb_dmg% absorbable damage. {mb_con}
 
Or, when you cast Magical Barrage you can choose to instead {mb_con2} take no action and {/mb_con2} deal no damage but cause the enemy to be unable to move on their next turn. {/mb_con}
{mb_effect} 
When you cast the Magical Barrage Spell you can add one of the following effects to the target unit:
1. Frostbite - units loses %mb_effect%  movement
2. Burning - unit loses %mb_effect% hp
3. Weakened - minus %mb_effect% damage
4. Armor Sundered - loses %mb_effect% armor
{/mb_effect}`,tags:["spell","evocation"],type:"action",params:{mb_dmg:3,mb_con:0,mb_con2:-1,mb_effect:0}},{name:"New Ability",id:"id-195",description:"",tags:["evocation"],type:"action",params:{}},{name:"Shield",id:"shield-id-152",description:"As a reaction, cast shield on an ally that is within your spell casting range. They gain %shield_armor% armor against the %shield_count% attack. {shield_dmg} If an attack fails to do damage, the absorbed damage is done to the attacker's hp pool. {/shield_dmg}",tags:["abjuration","defense","spell"],type:"reaction",params:{shield_armor:1,shield_count:1,shield_dmg:0}},{name:"Abjuration Casting",id:"abjuration-id-11",description:`You can cast abjuration spells.

Spell Slots: %abju_slots%
Spells Per action: %abju_spells%`,tags:["abjuration"],type:"school",params:{abju_slots:2,abju_spells:1}},{name:"Armor of Agathys",id:"id-4",description:"As an action, cast Armor of Agathys on an ally (or self). That entity gains %temp_hp% temp HP and when hit by another creature (and still has at least 1 temp HP) it does damge to the attacker equal to the current (pre-hit) temp hp. {Aga_effect} Enemies that take damage by this effect gain the frostbite effect (lose 1 movement) {/aga_effect}",tags:["abjuration","spell","defense"],type:"action",params:{temp_hp:2,aga_effect:0}},{name:"Mage Armor",id:"Mage-armor-id-92",description:"As an action, cast Mage armor on self. Gains %m_armor% armor for %m-armor-turns% turns.",tags:["abjuration","spell","defense"],type:"action",params:{m_armor:1,"m-armor-turns":3}},{name:"Magical Deflection",id:"Magical-Deflection-id-57",description:`As a reaction in response to projectiles or spells targeting you. You create a magical shield that deflects projectiles.  This causes %mdef_count% ranged attack(s) made against you to miss.
{redirect} Any deflected attack can be redirected, use the original attack's stats {/redirect}`,tags:["abjuration","spell","defense"],type:"reaction",params:{mdef_count:1,redirect:0}},{name:"Divination Casting",id:"id-57",description:`You can cast divination spells.

Spell Slots: %div_slots%
Spells Per action: %div_spells%`,tags:["divination"],type:"school",params:{div_slots:2,div_spells:1}},{name:"Gift of Foresight",id:"Gift-fore-id-135",description:"Choose %gof_num% ally within spell range and grant them %gof_ac% AC. {gof_atk} Also give them +1 on their dice rolls. {/gof_atk} {gof_react} A unit with the Gift of Forsight on them can, as a reaction to another unit becoming adjacent, move %gof_react% hex away. They can only do this once. This movement would never provoke and attack of oppourtunity. {/gof_react}",tags:["divination","concentration","spell"],type:"action",params:{gof_ac:1,gof_atk:0,gof_num:1,gof_react:0}},{name:"Portent",id:"Portent-id-145",description:"Before a battle, roll %Port_num%x1d6 and save that roll. You can replace any attack roll within spell range by yourself, an ally, or enemy with this number. Uses a reaction if used to replace an enemy roll. Within magical range.",tags:["divination","spell"],type:"action",params:{Port_num:1}},{name:"Phantom Sight",id:"Phan-sight-id-124",description:"Choose %ps-num% of enemy unit(s). {base1}The DM will tell you what action they will use on their next turn. {/base1} {ps-adv} The DM will tell you what movement and action they will use on their next turn. {/ps-adv} {base2} Only effective on non-command units {/base2} {ps-comm} Effective on all unit types. {/ps-comm}",tags:["divination","spell"],type:"bonus action",params:{base1:1,base2:1,"ps-num":1,"ps-comm":0,"ps-adv":0}},{name:"Enchantment Casting",id:"Enchan-casting-id-26",description:`You can cast %enc-slots% spells per day.

You can cast %enc-spells% spells per action.`,tags:["enchantment"],type:"school",params:{"enc-slots":2,"enc-spells":0}}],pre=[{id:"action",name:"Action",color:"#8eb0ff"},{id:"movement",name:"Movement",color:"#c7f8af"},{id:"passive",name:"Passive",color:"#cabfbf"},{id:"reaction",name:"Reaction",color:"#ffb0fc"},{id:"bonus action",name:"Bonus Action",color:"#a887ff"},{id:"school",name:"Magic Proficiency",color:"#5ec5e1"}],mre=[{id:"holyheal",value:2},{id:"holy-damage",value:0}],gre=[{id:"basic",name:"Basic",requires:[],description:"Congrats! You are a unit.",colors:{unavailable:"#121212",selected:"#d2d2d2"},cost:1,providedStats:[{id:"hp",modifier:5},{id:"armor",modifier:2}],providedAbilities:[{id:"basic-attack",modifier:1,modifiers:[],gain:!0}]},{id:"basic-magic",name:"Spellcasting",requires:[{id:"basic",levels:1}],requirementType:"and",description:"Grants your unit the ability to cast spells",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"cantrip-barrage",gain:!0},{id:"spellcasting",gain:!0}]},{id:"speed",name:"Speed",requires:[{id:"basic",levels:1}],description:"Allows you to move one additional hex per turn",colors:{unavailable:"#648264",selected:"#51db53"},levels:8,providedStats:[{id:"movement",modifier:1}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"versatile",requires:[{id:"speed",levels:4}],name:"Versatile",description:"Grants the Versatile ability",cost:1,providedAbilities:[{id:"versatile",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"extra-versatile",requires:[{id:"versatile",levels:1}],name:"Extra Versatile",description:"Grants the Extra Versatile ability",cost:1,providedAbilities:[{id:"extra-versatile",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"dash",requires:[{id:"speed",levels:2}],name:"Dash",description:"Grants the Dash ability",cost:1,providedAbilities:[{id:"dash",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"advanced-dash",requires:[{id:"charge",levels:1}],name:"Dash+",description:"Increases the movement of Dash by 2",cost:1,levels:2,providedAbilities:[{id:"dash",modifiers:[{id:"movement",modifier:2}]}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"dash-expert",requires:[{id:"advanced-dash",levels:2}],name:"Dash Expert",description:"Grants the Dash Expert ability",cost:1,providedAbilities:[{id:"dash-expert",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"charge",requires:[{id:"dash",levels:1}],name:"Charge",description:"Grants the Charge ability",cost:1,providedAbilities:[{id:"charge",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"breakthrough",requires:[{id:"charge",levels:1}],name:"Breakthrough",description:"Grants you the ability to continue moving through units after a charge.",cost:1,providedAbilities:[{id:"charge",modifiers:[{id:"breakthrough",modifer:1,modifier:1}]}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"advanced-charge",requires:[{id:"charge",levels:1}],name:"Charge+",description:"Increases the movement of Charge by 2",cost:1,providedAbilities:[{id:"charge",modifiers:[{id:"dmg",modifer:1}]}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"flying",requires:[{id:"speed",levels:4}],name:"Flying",description:"Grants you the ability to fly",cost:1,providedAbilities:[{id:"flying",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"death-bomb",requires:[{id:"flying",levels:1}],name:"Death Bomb",description:"Grants you the Death Bomb ability. Must be undead to use.",cost:1,providedAbilities:[{id:"death-bomb",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"swarm",requires:[{id:"flying",levels:1}],name:"Swarm",description:"Grants you the Swarm ability.",cost:1,providedAbilities:[{id:"swarm",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"strafing-run",requires:[{id:"flying",levels:1}],name:"Strafing Run",description:"Grants you the Strafing Run ability.",cost:1,providedAbilities:[{id:"strafing-run",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"advanced-strafing-run",requires:[{id:"strafing-run",levels:1}],name:"Strafing Run+",description:"Increases the number of targets by 3.",levels:2,providedAbilities:[{id:"strafing-run",modifiers:{targets:3}}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"advanced-flying",requires:[{id:"flying",levels:1}],name:"Advanced Flying",description:"Increases the number of targets by 3.",cost:1,providedAbilities:[{id:"advanced-flying",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"dive-bomb",requires:[{id:"advanced-flying",levels:1}],name:"Dive Bomb",description:"Grants you the Dive Bomb ability.",cost:1,providedAbilities:[{id:"dive-bomb",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"aerial-combat",requires:[{id:"advanced-flying",levels:1},{id:"dive-bomb",levels:1}],name:"Aerial Combat",description:"Grants you the Aerial Combat ability.",cost:1,providedAbilities:[{id:"aerial-combat",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"aerial-evasion",requires:[{id:"aerial-combat",levels:1}],name:"Aerial Evasion",description:"Grants you the Aerial Evasion ability.",cost:1,providedAbilities:[{id:"aerial-evasion",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"armor",requires:[{id:"basic",levels:1}],name:"Armor",description:"Adds 1 Armor",levels:7,levelCost:[1,1,2,2,3,4,4],providedStats:[{id:"armor",modifier:1}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"attentive",requires:[{id:"armor",levels:2}],name:"Attentive",description:"Grants the Attentive ability",providedAbilities:[{id:"attentive",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"alert",requires:[{id:"attentive",levels:1}],name:"Alert",description:"Grants the Alert ability",providedAbilities:[{id:"alert",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8550"},id:"reactive-armor",requires:[{id:"armor",levels:5}],name:"Reactive Armor",description:"Sets your AC to 1 and grants Reactive Armor.",cost:1,providedStats:[{id:"armor",set:1,modifier:1}],providedAbilities:[{id:"reactive-armor",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"reactive-armor-2",requires:[{id:"reactive-armor",levels:1}],name:"Reactive Armor 2",description:"Increases your base AC to 2",cost:1,providedStats:[{id:"armor",set:2,modifier:2}]},{id:"defend-1",name:"Defend 1",requires:[{id:"armor",levels:1}],requirementType:"and",description:"Grants the ability to defend and adds 1 HP. You can regain half of your HP this way, per day.",globalParams:[],colors:{unavailable:"#403c3a",selected:"#cd8150"},levels:4,levelCost:[1,2,3,4],providedAbilities:[{id:"defend",gain:!0,modifiers:[{id:"hp",modifier:1,set:!1}]}]},{id:"deflect-1",name:"Deflection",requires:[{id:"defend-1",levels:1}],requirementType:"and",description:"Grants the Deflect ability.",globalParams:[],colors:{unavailable:"#403c3a",selected:"#cd8150"},cost:1,providedAbilities:[{id:"deflect",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"deflect-2",requires:[{id:"deflect-1",levels:1}],name:"Deflection+",description:"Makes it easier to deflect magic attacks.",cost:1,providedAbilities:[{id:"deflect",modifiers:[{id:"lowerRange",modifier:-1,set:!1}]}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"guardian-1",requires:[{id:"defend-1",levels:1}],name:"Guardian",description:"Grants the Guardian ability",cost:1,providedAbilities:[{id:"guardian",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"guardian-2",requires:[{id:"guardian-1",levels:1}],name:"Guardian+",description:"Allows you guard an additional attack",cost:1,providedAbilities:[{id:"guardian",modifiers:[{id:"attacks",modifier:1,set:!1}]}]},{colors:{unavailable:"#65748f",selected:"#7391c9"},id:"magic-range-1",requires:[{id:"basic-magic",levels:1}],name:"Spell Range",description:"Increases the range of your magic.",levels:3,providedAbilities:[{id:"spellcasting",modifiers:[{id:"range",modifier:1}]}]},{colors:{unavailable:"#65748f",selected:"#7391c9"},id:"concentration-1",requires:[{id:"basic-magic",levels:1}],name:"Concentration+",description:"Add +1 to concentration checks.",levels:2,providedAbilities:[{id:"spellcasting",modifiers:[{id:"concentration",modifier:1}]}]},{id:"holy-casting",name:"Holy-Divine Casting",requires:[{id:"basic-magic",levels:1}],requirementType:"and",description:"Grants you the ability to cast Holy/Divine Spells.",globalParams:[],colors:{unavailable:"#C5B986",selected:"#e2c846"},cost:1,providedAbilities:[{id:"smite",gain:!0},{id:"guiding-bolt",gain:!0},{id:"death-ward",gain:!0},{id:"restoration",gain:!0},{id:"turn-undead",gain:!0},{id:"bless",gain:!0},{id:"spirit-guardians",gain:!0},{id:"holy-casting",modifier:1,modifiers:[],gain:!0}]},{id:"holy-power",name:"Holy Power",requires:[{id:"holy-casting",levels:1}],description:"Increases the damage of Smite and Guiding Bolt by 1",colors:{unavailable:"#C5B986",selected:"#948540"},cost:1,providedAbilities:[{id:"smite",modifiers:[{id:"dmg",modifier:1}]},{id:"guiding-bolt",modifiers:[{id:"dmg",modifier:1}]}]},{colors:{unavailable:"#C5B986",selected:"#e6c11d"},id:"advanced-guiding-bolt",requires:[{id:"holy-power",levels:1}],name:"Advanced Guiding Bolt",description:"Guiding bolt now gives allies +2 to hit the target next round.",cost:1,providedAbilities:[{id:"guiding-bolt",modifiers:{hit:1}}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"swimming",requires:[{id:"speed",levels:1}],name:"Swimming",description:"Congrats! You are a unit.",cost:1,providedAbilities:[{id:"swimming",gain:!0}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"advanced-swimming",requires:[{id:"swimming",levels:1}],name:"Advanded Swimming",description:"Increases potential water speed by 3.",cost:1,providedAbilities:[{id:"swimming",modifiers:{movement:3}}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"ferry",requires:[{id:"advanced-swimming",levels:1}],name:"Ferry",description:"Grants the Ferry ability",cost:1,providedAbilities:[{id:"ferry",gain:!0}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"diving",requires:[{id:"advanced-swimming",levels:1}],name:"Diving",description:"Grants the Diving ability",cost:2,providedAbilities:[{id:"diving",gain:!0}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"submarine-transportation",requires:[{id:"diving",levels:1}],name:"Submarine Transportation",description:"Grants the Submarine Transportation ability",cost:1,providedAbilities:[{id:"submarine-transportation",gain:!0}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"attack-from-the-deep",requires:[{id:"diving",levels:1}],name:"Attack From The Deep",description:"Grants the Attack From The Deep ability",cost:2,providedAbilities:[{id:"attack-from-the-deep",gain:!0}]},{id:"191",name:"Enchantment",requires:[{id:"basic-magic",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[],gain:!0},{id:"beguile",modifier:1,modifiers:[],gain:!0},{id:"dominate",modifier:1,modifiers:[],gain:!0},{id:"Enchan-casting-id-26",modifier:1,modifiers:[],gain:!0}]},{id:"180",name:"Compelling Beguile",requires:[{id:"alter-emotions-1",levels:1}],requirementType:"and",description:"Beguiled opponents can now be Compelled and Charmed.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"beguile",modifier:1,modifiers:[{id:"compelled",modifier:1,set:!1},{id:"charmed",modifier:1,set:!1}]}]},{id:"beguile-3",name:"Weakining beguile",requires:[{id:"alter-emotions-1",levels:1}],requirementType:"and",description:"Charmed opponents make 1 fewer attack against you.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"beguile",modifier:1,modifiers:[{id:"numAttacks",modifier:1,set:!1}]}]},{id:"alter-emotions-1",name:"Manipulator",requires:[{id:"191",levels:1}],requirementType:"and",description:"You are better at altering emotions and beguiling.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[{id:"amt",modifier:1,set:!1}]},{id:"beguile",modifier:1,modifiers:[{id:"be-units",modifier:1,set:!1}]}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command",requires:[{id:"basic",levels:1}],name:"Command",cost:1,providedAbilities:[{id:"command",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-plus",requires:[{id:"command",levels:1}],name:"Command+",levels:3,levelCost:[1,1,1],providedAbilities:[{id:"command",modifier:1,modifiers:[{id:"commandRadius",modifier:50,set:!1}]}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"aggro-command",requires:[{id:"command-plus",levels:1}],name:"Aggressive Commander",cost:1,providedAbilities:[{id:"aggro-command",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-plus-2",requires:[{id:"command-plus",levels:2}],name:"Energetic Commander",cost:1,providedAbilities:[{id:"energetic-commander",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-2",requires:[{id:"command",levels:1}],name:"Rally",cost:1,providedAbilities:[{id:"rally",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"rally+",requires:[{id:"command-2",levels:1}],name:"Rally+",cost:1,providedAbilities:[{id:"rally",modifier:1,modifiers:[{id:"hp",modifier:2,set:!1}]},{id:"rally-2",modifiers:[{id:"hp",modifier:2,set:!1}],gain:!1}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-2-2",requires:[{id:"command-2",levels:1}],name:"Ordered Strike",cost:1,providedAbilities:[{id:"rally",modifiers:[{id:"bonus",modifier:1,set:!1}]}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-2-2-1",requires:[{id:"command-2-2",levels:1}],name:"Ordered Strike 2",cost:1,providedAbilities:[{id:"rally-2",modifier:1,modifiers:[],gain:!0}]},{id:"brace",name:"Brace",requires:[{id:"defend-1",levels:1}],requirementType:"and",description:"Brace for attacks while defending, negating charge effects and damaging nearby enemies.",globalParams:[],colors:{unavailable:"#bd7859",selected:"#d48630"},cost:1,providedAbilities:[{id:"defend",modifier:1,modifiers:[{id:"brace",modifier:1,set:!1}]}]},{id:"defend-2-3",name:"Attack of Opportunity",requires:[{id:"defend-1",levels:2}],requirementType:"and",globalParams:[],colors:{unavailable:"#d3976b",selected:"#d46430"},cost:1,providedAbilities:[{id:"attack-of-opportunity",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"professionals",requires:[{id:"armor",levels:3}],name:"Professionals",description:'Grants the "Professionals" ability.',cost:1,providedAbilities:[{id:"professionals",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"basic-magic-5",requires:[{id:"basic-magic",levels:1}],name:"Necromancy",description:"Cast Necromancer spells.",cost:1,providedAbilities:[{id:"necromancy",modifier:1,modifiers:[],gain:!0},{id:"raise-dead-copy",modifier:1,modifiers:[],gain:!0},{id:"raise-dead",modifier:1,modifiers:[],gain:!0},{id:"knit-flesh",modifier:1,modifiers:[],gain:!0},{id:"wither",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necromancy-raise-dead",requires:[{id:"basic-magic-5",levels:1}],name:"Raise Dead+",description:"Increases the health of raised units.",cost:1,providedAbilities:[{id:"raise-dead",modifier:1,modifiers:[{id:"raiseHp",modifier:25,set:!1}]}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necromancy-raise-dead-1",requires:[{id:"necromancy-raise-dead",levels:1}],name:"Raise Dead++",description:"Raise units to full health.",cost:1,providedAbilities:[{id:"raise-dead",modifier:1,modifiers:[{id:"raiseHp",modifier:50,set:!1}]}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necro-prof",requires:[{id:"basic-magic-5",levels:1}],name:"Necromantic Profiency",description:"Increases the number of necromancy spells you can cast",levels:2,levelCost:[1,1],providedAbilities:[{id:"necromancy",modifier:1,modifiers:[{id:"slots",modifier:2,set:!1}]}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necro-prof-1",requires:[{id:"necro-prof",levels:1}],name:"Necromantic Mastery",description:"Further increases the number of spells you can cast",cost:1,providedAbilities:[{id:"necromancy",modifier:1,modifiers:[{id:"slots",modifier:1,set:!1}]}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necro-prof-2",requires:[{id:"necro-prof",levels:1}],name:"Necromancer",description:"You can now cast 2 necromancy spells per action.",cost:1,providedAbilities:[{id:"necromancy",modifier:1,modifiers:[{id:"spellsPerAction",modifier:1,set:!1}]}]},{id:"greater-restoration",name:"Greater Restoration",requires:[{id:"holy-casting",levels:1}],description:`Restoration now heals 5 HP.

Death Ward restores units to 3 HP.`,colors:{unavailable:"#C5B986",selected:"#bda841"},cost:1,providedAbilities:[{id:"restoration",modifier:1,modifiers:[{id:"hp",modifier:2,set:!1}]},{id:"death-ward",modifier:1,modifiers:[{id:"hp",modifier:1,set:!1}]}]},{id:"divine-restoration",name:"Divine Restoration",requires:[{id:"greater-restoration",levels:1}],description:"Restoration can now be cast for 2 spell slots and heals 10 HP if done this way.",colors:{unavailable:"#C5B986",selected:"#bda841"},cost:1,providedAbilities:[{id:"restoration",modifier:1,modifiers:[{id:"divine",modifier:1,set:!1}]}]},{id:"holy-avenger",name:"Holy Avenger",requires:[{id:"holy-power",levels:1}],colors:{unavailable:"#C5B986",selected:"#948540"},cost:1},{id:"undead-scourge",name:"Undead Scourge",requires:[{id:"holy-power",levels:1},{levels:"1",id:"paragon-of-divintiy"}],requirementType:"and",globalParams:[],colors:{unavailable:"#C5B986",selected:"#948540"},levels:2,levelCost:[1,1],providedAbilities:[{id:"turn-undead",modifier:1,modifiers:[{id:"range",modifier:1,set:!1}]}]},{id:"paragon-of-divintiy",name:"Paragon of Divinity",requires:[{id:"holy-casting",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#C5B986",selected:"#e2c846"},cost:1,providedAbilities:[{id:"bless",modifier:1,modifiers:[{id:"bless_tars",modifier:1,set:!1}]},{id:"spirit-guardians",modifier:1,modifiers:[{id:"armor_debuff",modifier:1,set:!1}]}]},{id:"divine-prof",name:"Divine Proficiency",requires:[{id:"holy-casting",levels:1}],colors:{unavailable:"#C5B986",selected:"#e2c846"},levels:3,levelCost:[2,2,2],providedAbilities:[{id:"holy-casting",modifier:1,modifiers:[{id:"slots",modifier:2,set:!1}]}]},{id:"cleric",name:"Cleric",requires:[{id:"divine-prof",levels:2}],requirementType:"and",description:"Holy spells heal for 1 additional HP.",globalParams:[{id:"holyheal",modifier:1,set:!1}],exclusiveWith:["paladin"],colors:{unavailable:"#C5B986",selected:"#e2c846"},cost:1,providedAbilities:[{id:"restoration",modifier:1,modifiers:[{id:"hp",modifier:1,set:!1}]},{id:"death-ward",modifier:1,modifiers:[{id:"hp",modifier:1,set:!1}]}]},{id:"paladin",name:"Paladin",requires:[{id:"divine-prof",levels:2}],requirementType:"and",description:"Holy spells deal +1 damage",globalParams:[],exclusiveWith:["cleric"],colors:{unavailable:"#C5B986",selected:"#e2c846"},cost:1,providedAbilities:[{id:"smite",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]},{id:"turn-undead",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]},{id:"spirit-guardians",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]},{id:"guiding-bolt",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]}]},{id:"attack-node",name:"Melee Attack",requires:[{id:"basic",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#520505",selected:"#d81b1b"},levels:4,levelCost:[1,3,4,5],providedAbilities:[{id:"Attack_norm",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}],gain:!0},{id:"multi-attack",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]}]},{id:"Multi_attack-1-dz",name:"Multistrike",requires:[{id:"attack-node",levels:1}],colors:{unavailable:"#520505",selected:"#d81b1b"},levels:2,levelCost:[3,4],providedAbilities:[{id:"multi-attack",modifier:1,modifiers:[{id:"numatks",modifier:1,set:!1}],gain:!0}]},{id:"attack-node-1-dv",name:"Piercing attack",requires:[{id:"attack-node",levels:1}],colors:{unavailable:"#520505",selected:"#d81b1b"},levels:2,levelCost:[1,3],providedAbilities:[{id:"Attack_norm",modifier:1,modifiers:[{id:"dmg2",modifier:1,set:!1}]},{id:"multi-attack",modifier:1,modifiers:[{id:"dmg2",modifier:1,set:!1}]}]},{id:"basic-1-ay",name:"Ranged Attack",requires:[{id:"basic",levels:1}],colors:{unavailable:"#330722",selected:"#831256"},levels:4,levelCost:[1,3,4,5],providedAbilities:[{id:"id-44",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}],gain:!0}]},{id:"basic-1-ay-1-ed",name:"Marksman",requires:[{id:"basic-1-ay",levels:1}],colors:{unavailable:"#330722",selected:"#831256"},levels:5,levelCost:[1,2,3,4,5],providedAbilities:[{id:"id-44",modifier:1,modifiers:[{id:"range",modifier:1,set:!1}]}]},{id:"ranged-piercing-001",name:"Advanced Arrowheads",requires:[{id:"basic-1-ay",levels:1}],colors:{unavailable:"#330722",selected:"#831256"},cost:1,providedAbilities:[{id:"id-44",modifier:1,modifiers:[{id:"dmg2",modifier:1,set:!1}]}]},{id:"attack-node-1-bv",name:"Tie Down",requires:[{id:"attack-node",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#521505",selected:"#d8431b"},levels:7,levelCost:[1,1,1,1,1,1,1],providedAbilities:[{id:"tie_down_001",modifier:1,modifiers:[{id:"spd_down",modifier:2,set:!1}],gain:!0}]},{id:"Seige-attacker",name:"Seige Attacker",requires:[{id:"attack-node",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#520505",selected:"#d81b1b"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"seige-id-8",modifier:1,modifiers:[{id:"seige_atk",modifier:1,set:!1}],gain:!0}]},{id:"Massive-1-dx",name:"Massive",requires:[{id:"Seige-attacker",levels:1}],requirementType:"and",description:"This unit has learned how to project its enormity across the battlefield.",globalParams:[],colors:{unavailable:"#520505",selected:"#d81b1b"},cost:1,providedAbilities:[{id:"anti-air-180",modifier:1,modifiers:[]}]},{id:"Hurler-1-dx-1-bv",name:"Hurler",requires:[{id:"Massive-1-dx",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#520505",selected:"#d81b1b"},levels:3,levelCost:[1,2,3],providedAbilities:[{id:"id-43",modifier:1,modifiers:[{id:"hurl_range",modifier:1,set:!1},{id:"hurl_dmg",modifier:2,set:!1}],gain:!0}]},{id:"deflect-1-1-ev",name:"Deflecter",requires:[{id:"deflect-1",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#403c3a",selected:"#cd8150"},levels:2,levelCost:[1,1],providedAbilities:[{id:"deflect",modifier:1,modifiers:[{id:"deflect",modifier:1,set:!1}]}]},{id:"attack-node-1-cy",name:"Critical Strike",requires:[{id:"attack-node",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#520505",selected:"#d81b1b"},cost:1,providedAbilities:[{id:"critical-id-98",modifier:1,modifiers:[],gain:!0}]},{id:"attack-node-1-cy-1-ez",name:"Exploding Critical Strike",requires:[{id:"attack-node-1-cy",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#520505",selected:"#d81b1b"},cost:1,providedAbilities:[{id:"critical-id-98",modifier:1,modifiers:[{id:"base",modifier:-1,set:!1},{id:"explode",modifier:1,set:!1}]}]},{id:"basic-magic-1-ev",name:"Evocation",requires:[{id:"basic-magic",levels:1}],requirementType:"and",description:"Grants you the ability to cast Evocation spells.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},cost:1,providedAbilities:[{id:"id-33",modifier:1,modifiers:[],gain:!0},{id:"magic-barrageid-22",modifier:1,modifiers:[],gain:!0}]},{id:"basic-magic-1-ev-1-dd",name:"Concussive Barrage",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"When you cast Magical Barrage you can choose to instead deal no damage but cause the enemy to be unable to move on their next turn.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:2,levelCost:[1,1],providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_con",modifier:1,set:!1},{id:"mb_con2",modifier:1,set:!1}]}]},{id:"basic-magic-1-ev-1-dz",name:"Barrage Effect",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"When you cast the Magical Barrage Spell you can add an effect on the target.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:2,levelCost:[1,1],providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_effect",modifier:1,set:!1}]}]},{id:"basic-magic-1-ev-1-dv",name:"Enhanced Barrage",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"Magical barrage now does more damage.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:3,levelCost:[1,2,3],providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_dmg",modifier:2,set:!1}]}]},{id:"basic-magic-1-ev-1-cd",name:"Evocation Proficiency",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"You can cast more evocation spells",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"id-33",modifier:1,modifiers:[{id:"evo_slots",modifier:2,set:!1}]}]},{id:"basic-magic-1-ev-1-dv-1-bz",name:"Lasting magics",requires:[{id:"basic-magic-1-ev-1-cd",levels:4}],requirementType:"and",description:"Trade damage now for damage later.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},cost:1,providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_effect",modifier:2,set:!1},{id:"mb_dmg",modifier:-1,set:!1}]}]},{id:"basic-magic-1-ev-1-cd-1-ez",name:"Powerful Magics",requires:[{id:"basic-magic-1-ev-1-cd",levels:4}],requirementType:"and",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},cost:1,providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_dmg",modifier:2,set:!1}]}]},{id:"basic-magic-1-ev-1-az",name:"Enhanced Cantrip Strike",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"Increases the potency of Cantrip Strike.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"cantrip-barrage",modifier:1,modifiers:[]}]},{id:"basic-magic-1-ev-1-az-1-dy",name:"Piercing Cantrip Strike",requires:[{id:"basic-magic-1-ev-1-az",levels:1}],requirementType:"and",description:"Cantrip strike now does piercing damage.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},cost:1,providedAbilities:[{id:"cantrip-barrage",modifier:1,modifiers:[{id:"can_pierce",modifier:1,set:!1}]}]},{id:"basic-magic-1-by",name:"Abjuration",requires:[{id:"basic-magic",levels:1}],requirementType:"and",description:"You can now cast abjuration spells.",globalParams:[],colors:{unavailable:"#080837",selected:"#141487"},cost:1,providedAbilities:[{id:"abjuration-id-11",modifier:1,modifiers:[{id:"",modifier:1,set:!1}],gain:!0},{id:"shield-id-152",modifier:1,modifiers:[],gain:!0},{id:"Magical-Deflection-id-57",modifier:1,modifiers:[],gain:!0},{id:"id-4",modifier:1,modifiers:[],gain:!0},{id:"Mage-armor-id-92",modifier:1,modifiers:[],gain:!0}]},{id:"basic-magic-1-by-1-ex",name:"Abjuration Proficiency",requires:[{id:"basic-magic-1-by",levels:1}],requirementType:"and",description:"You can cast more abjuration spells.",globalParams:[],colors:{unavailable:"#080837",selected:"#141487"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"abjuration-id-11",modifier:1,modifiers:[{id:"abju_slots",modifier:2,set:!1}]}]},{id:"basic-magic-1-by-1-ey",name:"Magical Shielding",requires:[{id:"basic-magic-1-by",levels:1}],requirementType:"and",description:"Shield and magical deflection are upgraded.",globalParams:[],colors:{unavailable:"#080837",selected:"#141487"},levels:2,levelCost:[2,3],providedAbilities:[{id:"shield-id-152",modifier:1,modifiers:[{id:"shield_armor",modifier:1,set:!1},{id:"shield_count",modifier:1,set:!1}]},{id:"Magical-Deflection-id-57",modifier:1,modifiers:[{id:"mdef_count",modifier:2,set:!1}]}]},{id:"basic-magic-1-by-1-ey-1-ey",name:"Magical redirection",requires:[{id:"basic-magic-1-by-1-ey",levels:1}],requirementType:"and",description:"Ranged returned to sender.",globalParams:[],colors:{unavailable:"#080837",selected:"#141487"},cost:1,providedAbilities:[{id:"Magical-Deflection-id-57",modifier:1,modifiers:[{id:"redirect",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-ey-1-ez",name:"Volitile Shield",requires:[{id:"basic-magic-1-by-1-ey",levels:1}],requirementType:"and",description:"Attacks fully absorbed by shield (reg. armor + shield armor) hurt the attacker.",globalParams:[],colors:{unavailable:"#080837",selected:"#141487"},cost:1,providedAbilities:[{id:"shield-id-152",modifier:1,modifiers:[{id:"shield_dmg",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-by",name:"Magical Armor",requires:[{id:"basic-magic-1-by",levels:1}],requirementType:"and",description:"Upgrade your magical armor.",globalParams:[],colors:{unavailable:"#080837",selected:"#141487"},levels:2,levelCost:[2,2],providedAbilities:[{id:"id-4",modifier:1,modifiers:[{id:"temp_hp",modifier:1,set:!1}]},{id:"Mage-armor-id-92",modifier:1,modifiers:[{id:"m_armor",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-by-1-cd",name:"Lasting Armor",requires:[{id:"basic-magic-1-by-1-by",levels:1}],requirementType:"and",description:"Mage armor lasts longer",globalParams:[],colors:{unavailable:"#080837",selected:"#141487"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"Mage-armor-id-92",modifier:1,modifiers:[{id:"m-armor-turns",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-by-1-ex",name:"Subzero Armor",requires:[{id:"basic-magic-1-by-1-by",levels:1}],requirementType:"and",description:"Armor of agathys is more effective.",globalParams:[],colors:{unavailable:"#080837",selected:"#141487"},levels:2,levelCost:[1,2],providedAbilities:[{id:"id-4",modifier:1,modifiers:[{id:"temp_hp",modifier:1,set:!1},{id:"aga_effect",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-ex-1-dy",name:"Reactive Abjurer",requires:[{id:"basic-magic-1-by-1-ex",levels:2}],requirementType:"and",description:"Makes shield and magical deflection at the cost of mage armor and armor of agathys.",globalParams:[],exclusiveWith:["basic-magic-1-by-1-ex-1-ey"],colors:{unavailable:"#080837",selected:"#141487"},cost:1,providedAbilities:[{id:"Mage-armor-id-92",modifier:1,modifiers:[{id:"m_armor",modifier:-1,set:!1}]},{id:"id-4",modifier:1,modifiers:[{id:"temp_hp",modifier:-2,set:!1}]},{id:"shield-id-152",modifier:1,modifiers:[{id:"shield_armor",modifier:3,set:!1}]},{id:"Magical-Deflection-id-57",modifier:1,modifiers:[{id:"mdef_count",modifier:3,set:!1}]}]},{id:"basic-magic-1-by-1-ex-1-ey",name:"Prepared Abjurer",requires:[{id:"basic-magic-1-by-1-ex",levels:2}],requirementType:"and",description:"Improve Mage armor and armor of agathys at the cost of reactive shielding.",globalParams:[],exclusiveWith:["basic-magic-1-by-1-ex-1-dy"],colors:{unavailable:"#080837",selected:"#141487"},cost:1,providedAbilities:[{id:"id-4",modifier:1,modifiers:[{id:"temp_hp",modifier:2,set:!1}]},{id:"Mage-armor-id-92",modifier:1,modifiers:[{id:"m_armor",modifier:1,set:!1},{id:"m-armor-turns",modifier:1,set:!1}]},{id:"shield-id-152",modifier:1,modifiers:[{id:"shield_armor",modifier:-1,set:!1}]},{id:"Magical-Deflection-id-57",modifier:1,modifiers:[{id:"mdef_count",modifier:-1,set:!1}]}]},{id:"basic-magic-1-av",name:"Divination",requires:[{id:"basic-magic",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"id-57",modifier:1,modifiers:[],gain:!0},{id:"Gift-fore-id-135",modifier:1,modifiers:[],gain:!0},{id:"Portent-id-145",modifier:1,modifiers:[],gain:!0},{id:"Phan-sight-id-124",modifier:1,modifiers:[],gain:!0}]},{id:"basic-magic-1-av-1-dd",name:"Divination Proficiency",requires:[{id:"basic-magic-1-av",levels:1}],requirementType:"and",description:"You can cast more divination spells.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"id-57",modifier:1,modifiers:[{id:"div_slots",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-ad",name:"Gift of Foresight",requires:[{id:"basic-magic-1-av",levels:1}],requirementType:"and",description:"Improved gift of foresight.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_ac",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-ad-1-ed",name:"Advantage of Foresight",requires:[{id:"basic-magic-1-av-1-ad",levels:1}],requirementType:"and",description:"Gift of foresight now grains bonuses to attacking.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_atk",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-ad-1-az",name:"Multiple foresight",requires:[{id:"basic-magic-1-av-1-ad",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_num",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-ad-1-az-1-bz",name:"Gift of reaction",requires:[{id:"basic-magic-1-av-1-ad-1-az",levels:1},{levels:"1",id:"basic-magic-1-av-1-ad-1-ed"}],requirementType:"or",description:"Gift of foresight now allows a unit to move away from an enemy.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_react",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-cy",name:"Deep Portent",requires:[{id:"basic-magic-1-av",levels:1}],requirementType:"and",description:"Reroll more dice from portent.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},levels:2,levelCost:[1,1],providedAbilities:[{id:"Portent-id-145",modifier:1,modifiers:[{id:"Port_num",modifier:1,set:!1}]}]},{id:"basic-magic-1-av-1-ez",name:"Spectre Sight",requires:[{id:"basic-magic-1-av",levels:1}],requirementType:"and",description:"Improved Phantom sight.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Phan-sight-id-124",modifier:1,modifiers:[{id:"ps-num",modifier:1,set:!1},{id:"base1",modifier:-1,set:!1},{id:"ps-adv",modifier:1,set:!1}],gain:!0}]},{id:"basic-magic-1-av-1-ez-1-ax",name:"Command Sight",requires:[{id:"basic-magic-1-av-1-ez",levels:1}],requirementType:"and",description:"Improved phantom sight for command units.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Phan-sight-id-124",modifier:1,modifiers:[{id:"base2",modifier:-1,set:!1},{id:"ps-comm",modifier:1,set:!1},{id:"ps-num",modifier:1,set:!1}],gain:!1}]},{id:"basic-magic-1-av-1-dd-1-bx",name:"Precognitist",requires:[{id:"basic-magic-1-av-1-dd",levels:1}],requirementType:"and",description:"Improves gift of foresight and phantom sight at the cost of portent.",globalParams:[],exclusiveWith:["basic-magic-1-av-1-dd-1-av"],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_atk",modifier:1,set:!1},{id:"gof_num",modifier:1,set:!1},{id:"gof_ac",modifier:1,set:!1}]},{id:"Phan-sight-id-124",modifier:1,modifiers:[{id:"ps-num",modifier:1,set:!1}]},{id:"Portent-id-145",modifier:1,modifiers:[{id:"Port_num",modifier:-1,set:!1}]}]},{id:"basic-magic-1-av-1-dd-1-av",name:"Tea reader",requires:[{id:"basic-magic-1-av-1-dd",levels:1}],requirementType:"and",description:"Greatly improves portent at the cost of gift of foresight and spectre sight.",globalParams:[],exclusiveWith:["basic-magic-1-av-1-dd-1-bx"],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"Portent-id-145",modifier:1,modifiers:[{id:"Port_num",modifier:5,set:!1}]},{id:"Phan-sight-id-124",modifier:1,modifiers:[{id:"ps-num",modifier:-1,set:!1}]},{id:"Gift-fore-id-135",modifier:1,modifiers:[{id:"gof_ac",modifier:-1,set:!1},{id:"gof_atk",modifier:-1,set:!1}]}]},{id:"enc-prof-191-1-az",name:"Enchantment Proficiency",requires:[{id:"191",levels:1}],requirementType:"and",description:"You can cast more enchantment spells.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"Enchan-casting-id-26",modifier:1,modifiers:[{id:"enc-slots",modifier:2,set:!1}]}]},{id:"alter-emotions-1-1-az",name:"Soother",requires:[{id:"alter-emotions-1",levels:1}],requirementType:"and",description:"Alter emotions increase a units hp significantly.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1},{id:"alter-emotions-1-1-bx",name:"Rioter",requires:[{id:"alter-emotions-1",levels:1}],requirementType:"and",description:"Alter emotions does more damage.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[{id:"riot-amt",modifier:1,set:!1}]}]},{id:"alter-emotions-1-1-bx-1-ez",name:"Mass manipulation",requires:[{id:"alter-emotions-1-1-bx",levels:1},{levels:"1",id:"alter-emotions-1-1-az"}],requirementType:"or",description:"Alter emotions now spreads through the ranks.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[{id:"spread-ae",modifier:1,set:!1}]}]},{id:"beguile-3-1-dd",name:"Mass beguiling",requires:[{id:"beguile-3",levels:1},{levels:"1",id:"180"}],requirementType:"or",description:"Beguile now hits more targets.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"beguile",modifier:1,modifiers:[{id:"be-units",modifier:1,set:!1}]}]},{id:"191-1-ey",name:"Controlling",requires:[{id:"191",levels:1}],requirementType:"and",description:"You can dominate more units",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},levels:2,levelCost:[1,1],providedAbilities:[{id:"dominate",modifier:1,modifiers:[{id:"units",modifier:1,set:!1}]}]},{id:"dominant-191-1-ey-1-ev",name:"Dominant",requires:[{id:"191-1-ey",levels:1}],requirementType:"and",description:"You can control elite units.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"dominate",modifier:1,modifiers:[{id:"base",modifier:-1,set:!1},{id:"elite",modifier:1,set:!1}]}]},{id:"enc-prof-191-1-az-1-dy",name:"Master Manipulator",requires:[{id:"enc-prof-191-1-az",levels:1}],requirementType:"and",description:"You are even better at manipulation.",globalParams:[],exclusiveWith:["enc-prof-191-1-az-1-ex"],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"beguile",modifier:1,modifiers:[{id:"frightened",modifier:2,set:!1}]},{id:"alter-emotions",modifier:1,modifiers:[{id:"amt",modifier:2,set:!1}]}]},{id:"enc-prof-191-1-az-1-ex",name:"Iron will",requires:[{id:"enc-prof-191-1-az",levels:1}],requirementType:"and",description:"Greatly increases domination.",globalParams:[],exclusiveWith:["enc-prof-191-1-az-1-dy"],colors:{unavailable:"#7b5290",selected:"#ab38d9"},cost:1,providedAbilities:[{id:"dominate",modifier:1,modifiers:[{id:"units",modifier:2,set:!1}]}]}],vre={attack:"#d92a2d",tag:"#c74141",holy:"#d7a435",enchantment:"#ab38d9",defense:"#bb864c",flying:"#6dcb20",aquatic:"#2698a8",magic:"#5269bd",movement:"#459068",undead:"#849064",concentration:"#e28baf",piercing:"#ec9569",command:"#46ddcb",healing:"#e15fab",mustering:"#dca542",necromancy:"#aded23",spell:"#3579cf",evocation:"#ff0000",abjuration:"#08084c",divination:"#05def7"},yre=[{id:"armor",name:"Armor"},{id:"hp",name:"Hit Points"},{id:"movement",name:"Movement"}],Rc={version:dre,abilities:fre,abilityTypes:pre,globalParams:mre,nodes:gre,tagColors:vre,stats:yre};function bre(){const{build:t,setSavedBuild:e}=w.useContext(Fs),{tagColors:n,setTagColors:r}=w.useContext(Du),{stats:i,setStats:s}=w.useContext(Vu),{abilityTypes:o,abilities:a,setAbilities:l,setAbilityTypes:u,globalParams:c,setGlobalParams:h}=w.useContext(Bt),{nodes:d,setNodes:f}=w.useContext(ti),{version:p,setVersion:m}=w.useContext(ri),[v,g]=w.useState(""),[b,y]=w.useState(""),[x,S]=w.useState(`dragon-build-${new Date().toDateString()}`),[C,T]=w.useState(`dragon-trees-${new Date().toDateString()}`),A=(k,H)=>{const q=k.target.files,z=new FileReader;z.onload=L=>{var G,R,X;iA((G=L.target)==null?void 0:G.result)&&(H==="build"?g(((R=L.target)==null?void 0:R.result)||""):H==="tree"&&y(((X=L.target)==null?void 0:X.result)||""))},z.readAsText(q[0])},I=k=>{let H={},q="";if(k==="build")H=t==null?void 0:t.exportableBuild,q=`${x||"dragon-build"}.json`;else if(k==="trees"){const z=C||"dragon-trees";H={abilities:a,abilityTypes:o,globalParams:c,nodes:d,tagColors:n,stats:i},q=`${z}.json`}if(q.length&&H){const z=JSON.stringify(H,null,2),L=new Blob([z],{type:"application/json"}),G=URL.createObjectURL(L),R=document.createElement("a");R.href=G,R.download=q,document.body.appendChild(R),R.click(),document.body.removeChild(R),URL.revokeObjectURL(G)}},M=k=>{v.length;const H=JSON.parse(v);H&&e({type:"imported",build:H})},N=k=>{if(b.length){const H=JSON.parse(b);e({type:"imported",build:{}}),H&&(H.nodes&&f({type:"set",nodes:H.nodes}),H.abilities&&l({type:"set",abilities:H.abilities}),H.tagColors&&r({type:"set",colors:H.tagColors}),H.stats&&s({type:"set",stats:H.stats}),H.globalParams&&h({type:"set",params:H.globalParams}),H.abilityTypes&&u({type:"set",abilityTypes:H.abilityTypes}))}},D=k=>{f({type:"reset"}),m({type:"set",version:"0.0.0"}),l({type:"set",abilities:[]}),u({type:"set",abilityTypes:[]}),r({type:"set",tagColors:{}}),s({type:"set",stats:[]}),h({type:"set",params:[]}),e({type:"imported",build:{}})};return U("div",{className:"code-panel",children:[E(St,{name:"Character Build",startOpen:!1,children:U("div",{className:"section",children:[U("div",{className:"uploader",children:[E("input",{type:"file",id:"1",onChange:k=>A(k,"build")}),U(rt,{disabled:!v,clicked:M,children:["Import Build ",E(Gg,{})]})]}),U("div",{className:"downloader",children:[U("div",{children:["Save as:",E(Ar,{value:x,valueChanged:k=>S(k)})]}),U(rt,{type:"outline",color:"success",clicked:()=>I("build"),children:["Save Build ",E(Jo,{})]})]})]})}),E(St,{name:"Trees, Abilities, Etc",startOpen:!1,children:U("div",{className:"section",children:[U("div",{className:"uploader",children:[E("input",{type:"file",id:"1",onChange:k=>A(k,"tree")}),U(rt,{disabled:!b,clicked:N,children:["Import Trees/Abilities ",E(Gg,{})]})]}),U("div",{className:"downloader",children:[U("div",{children:["Save as:",E(Ar,{value:C,valueChanged:k=>T(k)})]}),U(rt,{color:"success",clicked:()=>I("trees"),children:["Save Current Trees/Abilities ",E(Jo,{})]})]})]})}),U(St,{name:"Presets",startOpen:!0,children:[U("div",{className:"reset",children:[U(rt,{color:"info",clicked:k=>{const H=Rc;m({type:"set",version:H.version}),f({type:"set",nodes:H.nodes}),s({type:"set",stats:H.stats}),u({type:"set",abilityTypes:H.abilityTypes}),l({type:"set",abilities:H.abilities}),r({type:"set",colors:H.tagColors}),h({type:"set",params:H.globalParams}),e({type:"imported",build:{}})},children:[E(yN,{}),"Load Ed's Latest Build"]}),E("br",{})]}),U("div",{className:"version",children:[U("span",{children:["Ed's latest version:"," ",E("span",{className:"version-number",children:Rc.version})]}),U("span",{children:["Your Version:"," ",E("span",{className:Ai({"version-number":!0,success:p===Rc.version,outdated:p!==Rc.version}),children:p})," "]})]}),E("div",{}),E("div",{className:"reset",children:U(rt,{color:"danger",clicked:D,children:[E(KN,{}),"Start from Scratch"]})})]})]})}function QE({itemSelected:t,selectedItem:e}){const{theme:n,setTheme:r}=w.useContext($u),{appMode:i,setAppMode:s,buildMode:o,setBuildMode:a}=w.useContext(ri);return U("div",{className:"right-menu",children:[i==="build-slow"||i==="build-fast"?E("button",{type:"button",className:e==="sheet"?"selected":"",onClick:u=>t("sheet"),children:E(YB,{})}):E("button",{type:"button",className:e==="sheet"?"selected":"",onClick:u=>t("sheet"),children:E(QB,{})}),E("button",{type:"button",className:e==="code"?"selected":"",onClick:u=>t("code"),children:E(Gg,{})}),E("button",{type:"button",className:e==="help"?"selected":"",onClick:u=>t("help"),children:E(kN,{})}),E("hr",{}),E(rt,{color:"info",clicked:()=>r({type:"set",theme:n==="light"?"dark":"light"}),children:n==="light"?E(HN,{}):E(oL,{})}),E(rt,{color:o==="build-fast"?"success":"mutedText",clicked:()=>{o==="build-fast"?(a("build-slow"),s("build-slow")):(s("build-fast"),a("build-fast"))},children:E(gL,{})}),E(rt,{color:i==="edit"?"success":"mutedText",clicked:()=>s(i==="edit"?o:"edit"),children:E(mA,{})})]})}function xre({children:t,itemSelected:e,title:n}){const[r,i]=w.useState(null),{leftExpanded:s,setLeftExpanded:o,rightExpanded:a,setRightExpanded:l}=w.useContext(ri),[u,c]=w.useState(!1);let h;const d=p=>{(p===r||!a)&&l(!a),i(p),e(p)},f=p=>{c(!u)};return h=u?E(fN,{}):E(cN,{}),a?U("div",{className:"sidebar-right expanded",children:[U("div",{className:Ai({"sidebar-right-panel":!0,full:u,partial:a,"minus-right":s}),children:[U("div",{onClick:f,className:"sidebar-right-panel-heading",children:[E("button",{className:"expander",children:h}),n]}),E("div",{className:"sidebar-right-panel-content",children:t})]}),E(QE,{itemSelected:d,selectedItem:r})]}):E("div",{className:"sidebar-right",children:E(QE,{itemSelected:d,selectedItem:void 0})})}const wre={small:[0,600],med:[600,900],large:[901,1150],xl:[1151,1400],xxl:[1401,1600],xxxl:[1601,2e3]};function _re(t){return{small:1,med:2,large:3,xl:4,xxl:5,xxxl:6}[t]}function JE(t,e){return vn(t,n=>{var i,s;let r=!0;return(i=e.tags)!=null&&i.length&&(r=tA(e.tags,n.tags).length===0),(s=e.textFilter)!=null&&s.length&&(r=r&&n.name.toLowerCase().includes(e.textFilter.toLowerCase())),r})}function Ere(t){const e=oA(t,(n,r)=>{var i;return(i=r==null?void 0:r.tags)!=null&&i.length?[...n,...r.tags]:n},[]);return Ms(Ql(e))}function Sre(){const{abilities:t,setAbilities:e}=w.useContext(Bt),[n,r]=w.useState({tags:[],textFilter:""}),[i,s]=w.useState(!1),[o,a]=w.useState(""),{ref:l,active:u,width:c}=Av({breakpoints:wre}),h=g=>{},d=g=>{a(g.id)},f=g=>{e({type:"remove",ability:{id:g}}),e({type:"save"})},p=g=>{r(g)},m=()=>{const g=`id-${Math.floor(Math.random()*200)}`;e({type:"add",ability:{name:n.textFilter||"New Ability",id:g,description:"",tags:n.tags,type:"action"}}),a(g)},v=()=>{s(!i)};return U("div",{className:"ability-editor",children:[E(Pv,{children:E(Ov,{expanded:!0,tags:Ere(t),filtersUpdated:p})}),U("div",{className:"expand-button",children:["Abilities",E(rt,{color:"theme",clicked:v,children:i?E(pA,{size:30}):E(fA,{size:30})})]}),E("div",{ref:l,className:"ability-cards",children:U(Cv,{columns:_re(u),spacing:2,children:[E("div",{className:"card-wrapper new-button",children:U("button",{onClick:m,children:[E(or,{})," New Ability"]})}),JE(t,n).map((g,b)=>E("div",{className:"card-wrapper",children:E(ru,{ability:g,isPlayerAbility:!0,modifiers:g.modifiers,startOpen:!1,isExpanded:i,editable:!0,forceIsEditing:g.id===o,abilityEdited:h,abilityCopied:d,abilityRemoved:f},b)},b)),JE(t,n).length>10&&E("div",{className:"card-wrapper new-button",children:U("button",{onClick:m,children:[E(or,{})," New Ability"]})})]})})]})}function Cre(){const{abilityTypes:t,setAbilityTypes:e}=w.useContext(Bt),n=o=>{e({type:"add",abilityType:{id:"new-abilityType-type",name:"New Ability Type"}})},r=o=>{e({type:"remove",abilityType:{id:o}})},i=(o,a,l)=>{e({type:"update",index:a,abilityType:{...t[a],[l]:o}})},s=()=>{e({type:"save"})};return E("div",{className:"abilityType-editor",children:U("div",{className:"abilityTypes",children:[pe(t,(o,a)=>U("div",{className:"abilityType-instance",children:[E("div",{className:"color",children:E(Jl,{color:o.color||"#ffffff",colorChanged:l=>i(l,a,"color")})}),U("div",{className:"top",children:[E("div",{className:"name",children:E(Ar,{blur:s,value:o.name,valueChanged:l=>i(l,a,"name")})}),E("button",{className:"remove-button",onClick:l=>r(o.id),children:E(va,{})})]}),E("div",{className:"bottom",children:E("div",{className:"id",children:E(Ar,{blur:s,value:o.id,valueChanged:l=>i(l,a,"id")})})})]},a)),U("button",{className:"new-button",onClick:n,children:["Add Type ",E(or,{})]})]})})}function Tre(){const{globalParams:t,setGlobalParams:e}=w.useContext(Bt),[n,r]=w.useState(!1),[i,s]=w.useState(t);w.useEffect(()=>{s(t)},[t]);const o=(h,d)=>{let f=Ie(i);f[d].id=h,s(f),r(!0)},a=(h,d)=>{let f=Ie(i);f[d].value=h,s(f),r(!0)},l=()=>{let h=[...i,{id:"",value:0}];s(h),r(!0)},u=h=>{let d=Ie(i);d.splice(h,1),e(d)},c=()=>{e({type:"set",params:Ie(i)}),e({type:"save"}),r(!1)};return U("div",{className:"param-editor",children:[i&&pe(i,(h,d)=>U("div",{className:"param-line",children:[E(rt,{color:"danger",clicked:()=>u(d),children:E(va,{size:"18"})}),E(Ar,{minWidth:120,placeholder:"name",className:"param-input",value:h.id,valueChanged:f=>o(f,d)}),E(Wy,{className:"param-input",value:h.value,valueChanged:f=>a(f,d)})]},d)),U("div",{className:"add-button",children:[E("div",{children:U(rt,{disabled:Mu(i,{name:""}),color:"theme",clicked:l,children:[E(or,{size:20})," Add Param"]})}),U(rt,{disabled:!n,color:"success",clicked:c,children:[E(Jo,{size:20})," Save Changes"]})]})]})}const Are="{myParam}This only appears when 'myParam' is at least 1{/myParam}",Pre="%myParam% will be replaced with the value of 'myParam'",Ore="You make 1 melee attack against an adjacent enemy. Roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.",Ire="{@myParam}This only appears when 'myParam' is at least 1{/myParam}",kre="%@myParam% will be replaced with the value of 'myParam'",Rre="You make 1 melee attack against an adjacent enemy. Roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.";function Mre(){return U("div",{className:"help",children:[E(St,{name:"Description Syntax",startOpen:!1,children:U("div",{className:"padding-md",style:{textAlign:"left"},children:[E("h2",{className:"text-info book",children:"Ability Params:"}),E("h3",{children:"Condition"}),E("p",{children:Are}),E("h3",{children:"Value"}),E("p",{children:Pre}),E("h3",{children:"Example"}),E("p",{children:Ore}),E("h2",{className:"text-info book",children:"Global Params:"}),E("h3",{children:"Condition"}),E("p",{children:Ire}),E("h3",{children:"Value"}),E("p",{children:kre}),E("h3",{children:"Example"}),E("p",{children:Rre})]})}),E(St,{name:"Hotkeys",startOpen:!0,children:E("div",{className:"padding-md",style:{textAlign:"left"},children:E("p",{children:U("ul",{children:[U("li",{children:[E("span",{className:"bold",children:"Shift + E"})," - Toggle Edit Mode"]}),U("li",{children:[E("span",{className:"bold",children:"Shift + F"})," - Toggle Fast Build Mode"]})]})})})})]})}function eS(){const{stats:t,setStats:e}=w.useContext(Vu),n=o=>{e({type:"add",stat:{id:"new-stat",name:"New Stat",color:"#fff"}})},r=o=>{e({type:"remove",stat:{id:o}})},i=(o,a,l)=>{e({type:"update",index:a,stat:{...t[a],[l]:o}})},s=()=>{e({type:"save"})};return E("div",{className:"stat-editor",children:U("div",{className:"stats",children:[pe(t,(o,a)=>U("div",{className:"stat-instance",children:[E("div",{className:"color",children:E(Jl,{color:o.color||"#ffffff",colorChanged:l=>i(l,a,"color")})}),U("div",{className:"top",children:[E("div",{className:"name",children:E(Ar,{blur:s,value:o.name,valueChanged:l=>i(l,a,"name")})}),E("button",{className:"remove-button",onClick:l=>r(o.id),children:E(va,{})})]}),E("div",{className:"bottom",children:E("div",{className:"id",children:E(Ar,{blur:s,value:o.id,valueChanged:l=>i(l,a,"id")})})})]},a)),U("button",{className:"new-button",onClick:n,children:["Add Stat ",E(or,{})]})]})})}function Fre(){const[t,e]=w.useState("info"),[n,r]=w.useState("info"),{appMode:i}=w.useContext(ri);return U(xre,{itemSelected:o=>{switch(e(o),o){case"sheet":r("Character Sheet");break;case"code":r("Import/Export");break;case"help":r("Help");break;case"list":r("Edit Data");break}},title:n,children:[t==="sheet"&&E("div",{children:i==="build-slow"||i==="build-fast"?E(hre,{}):U("div",{children:[E(St,{name:"Abilities",startOpen:!1,children:E(Sre,{})}),E(St,{name:"Ability Types",startOpen:!1,children:E(Cre,{})}),E(St,{name:"Global Params",startOpen:!1,children:E(Tre,{})}),E(St,{name:"Stats",startOpen:!1,children:E(eS,{})})]})}),t==="code"?E(bre,{}):"",t==="help"?E(Mre,{}):"",t==="stats"?E(eS,{}):""]})}function Dre({pointsSpent:t}){return U("div",{className:"point-counter",children:["Spent: ",t]})}var $re={value:()=>{}};function _O(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new bh(n)}function bh(t){this._=t}function Bre(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}bh.prototype=_O.prototype={constructor:bh,on:function(t,e){var n=this._,r=Bre(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=Nre(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=tS(n[i],t.name,e);else if(e==null)for(i in n)n[i]=tS(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new bh(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function Nre(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function tS(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=$re,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var sa=0,ul=0,Xa=0,EO=1e3,gd,cl,vd=0,_s=0,Bf=0,su=typeof performance=="object"&&performance.now?performance:Date,SO=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function CO(){return _s||(SO(Lre),_s=su.now()+Bf)}function Lre(){_s=0}function Iv(){this._call=this._time=this._next=null}Iv.prototype=TO.prototype={constructor:Iv,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?CO():+n)+(e==null?0:+e),!this._next&&cl!==this&&(cl?cl._next=this:gd=this,cl=this),this._call=t,this._time=n,kv()},stop:function(){this._call&&(this._call=null,this._time=1/0,kv())}};function TO(t,e,n){var r=new Iv;return r.restart(t,e,n),r}function Ure(){CO(),++sa;for(var t=gd,e;t;)(e=_s-t._time)>=0&&t._call.call(void 0,e),t=t._next;--sa}function nS(){_s=(vd=su.now())+Bf,sa=ul=0;try{Ure()}finally{sa=0,zre(),_s=0}}function jre(){var t=su.now(),e=t-vd;e>EO&&(Bf-=e,vd=t)}function zre(){for(var t,e=gd,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:gd=n);cl=t,kv(r)}function kv(t){if(!sa){ul&&(ul=clearTimeout(ul));var e=t-_s;e>24?(t<1/0&&(ul=setTimeout(nS,t-su.now()-Bf)),Xa&&(Xa=clearInterval(Xa))):(Xa||(vd=su.now(),Xa=setInterval(jre,EO)),sa=1,SO(nS))}}function rS(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function i(){var s,o=n.length,a,l=0,u=0;for(s=0;s<o;++s)a=n[s],l+=a.x,u+=a.y;for(l=(l/o-t)*r,u=(u/o-e)*r,s=0;s<o;++s)a=n[s],a.x-=l,a.y-=u}return i.initialize=function(s){n=s},i.x=function(s){return arguments.length?(t=+s,i):t},i.y=function(s){return arguments.length?(e=+s,i):e},i.strength=function(s){return arguments.length?(r=+s,i):r},i}function Hre(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return AO(this.cover(e,n),e,n,t)}function AO(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,s=t._root,o={data:r},a=t._x0,l=t._y0,u=t._x1,c=t._y1,h,d,f,p,m,v,g,b;if(!s)return t._root=o,t;for(;s.length;)if((m=e>=(h=(a+u)/2))?a=h:u=h,(v=n>=(d=(l+c)/2))?l=d:c=d,i=s,!(s=s[g=v<<1|m]))return i[g]=o,t;if(f=+t._x.call(null,s.data),p=+t._y.call(null,s.data),e===f&&n===p)return o.next=s,i?i[g]=o:t._root=o,t;do i=i?i[g]=new Array(4):t._root=new Array(4),(m=e>=(h=(a+u)/2))?a=h:u=h,(v=n>=(d=(l+c)/2))?l=d:c=d;while((g=v<<1|m)===(b=(p>=d)<<1|f>=h));return i[b]=s,i[g]=o,t}function Gre(t){var e,n,r=t.length,i,s,o=new Array(r),a=new Array(r),l=1/0,u=1/0,c=-1/0,h=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(s=+this._y.call(null,e))||(o[n]=i,a[n]=s,i<l&&(l=i),i>c&&(c=i),s<u&&(u=s),s>h&&(h=s));if(l>c||u>h)return this;for(this.cover(l,u).cover(c,h),n=0;n<r;++n)AO(this,o[n],a[n],t[n]);return this}function Wre(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,s=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,s=(r=Math.floor(e))+1;else{for(var o=i-n||1,a=this._root,l,u;n>t||t>=i||r>e||e>=s;)switch(u=(e<r)<<1|t<n,l=new Array(4),l[u]=a,a=l,o*=2,u){case 0:i=n+o,s=r+o;break;case 1:n=i-o,s=r+o;break;case 2:i=n+o,r=s-o;break;case 3:n=i-o,r=s-o;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=s,this}function Vre(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function Xre(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Dt(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function qre(t,e,n){var r,i=this._x0,s=this._y0,o,a,l,u,c=this._x1,h=this._y1,d=[],f=this._root,p,m;for(f&&d.push(new Dt(f,i,s,c,h)),n==null?n=1/0:(i=t-n,s=e-n,c=t+n,h=e+n,n*=n);p=d.pop();)if(!(!(f=p.node)||(o=p.x0)>c||(a=p.y0)>h||(l=p.x1)<i||(u=p.y1)<s))if(f.length){var v=(o+l)/2,g=(a+u)/2;d.push(new Dt(f[3],v,g,l,u),new Dt(f[2],o,g,v,u),new Dt(f[1],v,a,l,g),new Dt(f[0],o,a,v,g)),(m=(e>=g)<<1|t>=v)&&(p=d[d.length-1],d[d.length-1]=d[d.length-1-m],d[d.length-1-m]=p)}else{var b=t-+this._x.call(null,f.data),y=e-+this._y.call(null,f.data),x=b*b+y*y;if(x<n){var S=Math.sqrt(n=x);i=t-S,s=e-S,c=t+S,h=e+S,r=f.data}}return r}function Yre(t){if(isNaN(c=+this._x.call(null,t))||isNaN(h=+this._y.call(null,t)))return this;var e,n=this._root,r,i,s,o=this._x0,a=this._y0,l=this._x1,u=this._y1,c,h,d,f,p,m,v,g;if(!n)return this;if(n.length)for(;;){if((p=c>=(d=(o+l)/2))?o=d:l=d,(m=h>=(f=(a+u)/2))?a=f:u=f,e=n,!(n=n[v=m<<1|p]))return this;if(!n.length)break;(e[v+1&3]||e[v+2&3]||e[v+3&3])&&(r=e,g=v)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(s=n.next)&&delete n.next,i?(s?i.next=s:delete i.next,this):e?(s?e[v]=s:delete e[v],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[g]=n:this._root=n),this):(this._root=s,this)}function Kre(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function Zre(){return this._root}function Qre(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function Jre(t){var e=[],n,r=this._root,i,s,o,a,l;for(r&&e.push(new Dt(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,s=n.x0,o=n.y0,a=n.x1,l=n.y1)&&r.length){var u=(s+a)/2,c=(o+l)/2;(i=r[3])&&e.push(new Dt(i,u,c,a,l)),(i=r[2])&&e.push(new Dt(i,s,c,u,l)),(i=r[1])&&e.push(new Dt(i,u,o,a,c)),(i=r[0])&&e.push(new Dt(i,s,o,u,c))}return this}function eie(t){var e=[],n=[],r;for(this._root&&e.push(new Dt(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var s,o=r.x0,a=r.y0,l=r.x1,u=r.y1,c=(o+l)/2,h=(a+u)/2;(s=i[0])&&e.push(new Dt(s,o,a,c,h)),(s=i[1])&&e.push(new Dt(s,c,a,l,h)),(s=i[2])&&e.push(new Dt(s,o,h,c,u)),(s=i[3])&&e.push(new Dt(s,c,h,l,u))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function tie(t){return t[0]}function nie(t){return arguments.length?(this._x=t,this):this._x}function rie(t){return t[1]}function iie(t){return arguments.length?(this._y=t,this):this._y}function X1(t,e,n){var r=new q1(e??tie,n??rie,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function q1(t,e,n,r,i,s){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=s,this._root=void 0}function iS(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var jt=X1.prototype=q1.prototype;jt.copy=function(){var t=new q1(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=iS(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=iS(r));return t};jt.add=Hre;jt.addAll=Gre;jt.cover=Wre;jt.data=Vre;jt.extent=Xre;jt.find=qre;jt.remove=Yre;jt.removeAll=Kre;jt.root=Zre;jt.size=Qre;jt.visit=Jre;jt.visitAfter=eie;jt.x=nie;jt.y=iie;function cs(t){return function(){return t}}function fi(t){return(t()-.5)*1e-6}function sie(t){return t.x+t.vx}function oie(t){return t.y+t.vy}function sS(t){var e,n,r,i=1,s=1;typeof t!="function"&&(t=cs(t==null?1:+t));function o(){for(var u,c=e.length,h,d,f,p,m,v,g=0;g<s;++g)for(h=X1(e,sie,oie).visitAfter(a),u=0;u<c;++u)d=e[u],m=n[d.index],v=m*m,f=d.x+d.vx,p=d.y+d.vy,h.visit(b);function b(y,x,S,C,T){var A=y.data,I=y.r,M=m+I;if(A){if(A.index>d.index){var N=f-A.x-A.vx,D=p-A.y-A.vy,B=N*N+D*D;B<M*M&&(N===0&&(N=fi(r),B+=N*N),D===0&&(D=fi(r),B+=D*D),B=(M-(B=Math.sqrt(B)))/B*i,d.vx+=(N*=B)*(M=(I*=I)/(v+I)),d.vy+=(D*=B)*M,A.vx-=N*(M=1-M),A.vy-=D*M)}return}return x>f+M||C<f-M||S>p+M||T<p-M}}function a(u){if(u.data)return u.r=n[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function l(){if(e){var u,c=e.length,h;for(n=new Array(c),u=0;u<c;++u)h=e[u],n[h.index]=+t(h,u,e)}}return o.initialize=function(u,c){e=u,r=c,l()},o.iterations=function(u){return arguments.length?(s=+u,o):s},o.strength=function(u){return arguments.length?(i=+u,o):i},o.radius=function(u){return arguments.length?(t=typeof u=="function"?u:cs(+u),l(),o):t},o}function aie(t){return t.index}function oS(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function aS(t){var e=aie,n=h,r,i=cs(30),s,o,a,l,u,c=1;t==null&&(t=[]);function h(v){return 1/Math.min(a[v.source.index],a[v.target.index])}function d(v){for(var g=0,b=t.length;g<c;++g)for(var y=0,x,S,C,T,A,I,M;y<b;++y)x=t[y],S=x.source,C=x.target,T=C.x+C.vx-S.x-S.vx||fi(u),A=C.y+C.vy-S.y-S.vy||fi(u),I=Math.sqrt(T*T+A*A),I=(I-s[y])/I*v*r[y],T*=I,A*=I,C.vx-=T*(M=l[y]),C.vy-=A*M,S.vx+=T*(M=1-M),S.vy+=A*M}function f(){if(o){var v,g=o.length,b=t.length,y=new Map(o.map((S,C)=>[e(S,C,o),S])),x;for(v=0,a=new Array(g);v<b;++v)x=t[v],x.index=v,typeof x.source!="object"&&(x.source=oS(y,x.source)),typeof x.target!="object"&&(x.target=oS(y,x.target)),a[x.source.index]=(a[x.source.index]||0)+1,a[x.target.index]=(a[x.target.index]||0)+1;for(v=0,l=new Array(b);v<b;++v)x=t[v],l[v]=a[x.source.index]/(a[x.source.index]+a[x.target.index]);r=new Array(b),p(),s=new Array(b),m()}}function p(){if(o)for(var v=0,g=t.length;v<g;++v)r[v]=+n(t[v],v,t)}function m(){if(o)for(var v=0,g=t.length;v<g;++v)s[v]=+i(t[v],v,t)}return d.initialize=function(v,g){o=v,u=g,f()},d.links=function(v){return arguments.length?(t=v,f(),d):t},d.id=function(v){return arguments.length?(e=v,d):e},d.iterations=function(v){return arguments.length?(c=+v,d):c},d.strength=function(v){return arguments.length?(n=typeof v=="function"?v:cs(+v),p(),d):n},d.distance=function(v){return arguments.length?(i=typeof v=="function"?v:cs(+v),m(),d):i},d}const lie=1664525,uie=1013904223,lS=4294967296;function cie(){let t=1;return()=>(t=(lie*t+uie)%lS)/lS}function hie(t){return t.x}function die(t){return t.y}var fie=10,pie=Math.PI*(3-Math.sqrt(5));function uS(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),s=0,o=.6,a=new Map,l=TO(h),u=_O("tick","end"),c=cie();t==null&&(t=[]);function h(){d(),u.call("tick",e),n<r&&(l.stop(),u.call("end",e))}function d(m){var v,g=t.length,b;m===void 0&&(m=1);for(var y=0;y<m;++y)for(n+=(s-n)*i,a.forEach(function(x){x(n)}),v=0;v<g;++v)b=t[v],b.fx==null?b.x+=b.vx*=o:(b.x=b.fx,b.vx=0),b.fy==null?b.y+=b.vy*=o:(b.y=b.fy,b.vy=0);return e}function f(){for(var m=0,v=t.length,g;m<v;++m){if(g=t[m],g.index=m,g.fx!=null&&(g.x=g.fx),g.fy!=null&&(g.y=g.fy),isNaN(g.x)||isNaN(g.y)){var b=fie*Math.sqrt(.5+m),y=m*pie;g.x=b*Math.cos(y),g.y=b*Math.sin(y)}(isNaN(g.vx)||isNaN(g.vy))&&(g.vx=g.vy=0)}}function p(m){return m.initialize&&m.initialize(t,c),m}return f(),e={tick:d,restart:function(){return l.restart(h),e},stop:function(){return l.stop(),e},nodes:function(m){return arguments.length?(t=m,f(),a.forEach(p),e):t},alpha:function(m){return arguments.length?(n=+m,e):n},alphaMin:function(m){return arguments.length?(r=+m,e):r},alphaDecay:function(m){return arguments.length?(i=+m,e):+i},alphaTarget:function(m){return arguments.length?(s=+m,e):s},velocityDecay:function(m){return arguments.length?(o=1-m,e):1-o},randomSource:function(m){return arguments.length?(c=m,a.forEach(p),e):c},force:function(m,v){return arguments.length>1?(v==null?a.delete(m):a.set(m,p(v)),e):a.get(m)},find:function(m,v,g){var b=0,y=t.length,x,S,C,T,A;for(g==null?g=1/0:g*=g,b=0;b<y;++b)T=t[b],x=m-T.x,S=v-T.y,C=x*x+S*S,C<g&&(A=T,g=C);return A},on:function(m,v){return arguments.length>1?(u.on(m,v),e):u.on(m)}}}function cS(){var t,e,n,r,i=cs(-30),s,o=1,a=1/0,l=.81;function u(f){var p,m=t.length,v=X1(t,hie,die).visitAfter(h);for(r=f,p=0;p<m;++p)e=t[p],v.visit(d)}function c(){if(t){var f,p=t.length,m;for(s=new Array(p),f=0;f<p;++f)m=t[f],s[m.index]=+i(m,f,t)}}function h(f){var p=0,m,v,g=0,b,y,x;if(f.length){for(b=y=x=0;x<4;++x)(m=f[x])&&(v=Math.abs(m.value))&&(p+=m.value,g+=v,b+=v*m.x,y+=v*m.y);f.x=b/g,f.y=y/g}else{m=f,m.x=m.data.x,m.y=m.data.y;do p+=s[m.data.index];while(m=m.next)}f.value=p}function d(f,p,m,v){if(!f.value)return!0;var g=f.x-e.x,b=f.y-e.y,y=v-p,x=g*g+b*b;if(y*y/l<x)return x<a&&(g===0&&(g=fi(n),x+=g*g),b===0&&(b=fi(n),x+=b*b),x<o&&(x=Math.sqrt(o*x)),e.vx+=g*f.value*r/x,e.vy+=b*f.value*r/x),!0;if(f.length||x>=a)return;(f.data!==e||f.next)&&(g===0&&(g=fi(n),x+=g*g),b===0&&(b=fi(n),x+=b*b),x<o&&(x=Math.sqrt(o*x)));do f.data!==e&&(y=s[f.data.index]*r/x,e.vx+=g*y,e.vy+=b*y);while(f=f.next)}return u.initialize=function(f,p){t=f,n=p,c()},u.strength=function(f){return arguments.length?(i=typeof f=="function"?f:cs(+f),c(),u):i},u.distanceMin=function(f){return arguments.length?(o=f*f,u):Math.sqrt(o)},u.distanceMax=function(f){return arguments.length?(a=f*f,u):Math.sqrt(a)},u.theta=function(f){return arguments.length?(l=f*f,u):Math.sqrt(l)},u}function hl(t,e,n){this.k=t,this.x=e,this.y=n}hl.prototype={constructor:hl,scale:function(t){return t===1?this:new hl(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new hl(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};hl.prototype;var Li=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(Li||{}),Y1=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(Y1||{}),yd=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(yd||{}),ue=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(ue||{}),Zn=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(Zn||{}),Y=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(Y||{}),hs=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(hs||{}),ae=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(ae||{}),bd=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(bd||{}),wr=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(wr||{}),Cr=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(Cr||{}),ar=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(ar||{}),Bn=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(Bn||{}),Yn=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(Yn||{}),Nf=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(Nf||{}),sn=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(sn||{}),at=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(at||{}),PO=(t=>(t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA",t))(PO||{}),qe=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(qe||{}),nr=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(nr||{});const OO={createCanvas:(t,e)=>{const n=document.createElement("canvas");return n.width=t,n.height=e,n},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},te={ADAPTER:OO,RESOLUTION:1,RENDER_OPTIONS:{view:null,width:800,height:600,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,clearBeforeRender:!0,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,hello:!1},CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var em=/iPhone/i,hS=/iPod/i,dS=/iPad/i,fS=/\biOS-universal(?:.+)Mac\b/i,tm=/\bAndroid(?:.+)Mobile\b/i,pS=/Android/i,Vs=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Mc=/Silk/i,kr=/Windows Phone/i,mS=/\bWindows(?:.+)ARM\b/i,gS=/BlackBerry/i,vS=/BB10/i,yS=/Opera Mini/i,bS=/\b(CriOS|Chrome)(?:.+)Mobile/i,xS=/Mobile(?:.+)Firefox\b/i,wS=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function mie(t){return function(e){return e.test(t)}}function gie(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var n=e.userAgent,r=n.split("[FBAN");typeof r[1]<"u"&&(n=r[0]),r=n.split("Twitter"),typeof r[1]<"u"&&(n=r[0]);var i=mie(n),s={apple:{phone:i(em)&&!i(kr),ipod:i(hS),tablet:!i(em)&&(i(dS)||wS(e))&&!i(kr),universal:i(fS),device:(i(em)||i(hS)||i(dS)||i(fS)||wS(e))&&!i(kr)},amazon:{phone:i(Vs),tablet:!i(Vs)&&i(Mc),device:i(Vs)||i(Mc)},android:{phone:!i(kr)&&i(Vs)||!i(kr)&&i(tm),tablet:!i(kr)&&!i(Vs)&&!i(tm)&&(i(Mc)||i(pS)),device:!i(kr)&&(i(Vs)||i(Mc)||i(tm)||i(pS))||i(/\bokhttp\b/i)},windows:{phone:i(kr),tablet:i(mS),device:i(kr)||i(mS)},other:{blackberry:i(gS),blackberry10:i(vS),opera:i(yS),firefox:i(xS),chrome:i(bS),device:i(gS)||i(vS)||i(yS)||i(xS)||i(bS)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const Qn=gie(globalThis.navigator);te.RETINA_PREFIX=/@([0-9\.]+)x/;te.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Pi={},vie={get exports(){return Pi},set exports(t){Pi=t}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function s(l,u,c,h,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var f=new i(c,h||l,d),p=n?n+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],f]:l._events[p].push(f):(l._events[p]=f,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,h;if(this._eventsCount===0)return u;for(h in c=this._events)e.call(c,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,h=this._events[c];if(!h)return[];if(h.fn)return[h.fn];for(var d=0,f=h.length,p=new Array(f);d<f;d++)p[d]=h[d].fn;return p},a.prototype.listenerCount=function(u){var c=n?n+u:u,h=this._events[c];return h?h.fn?1:h.length:0},a.prototype.emit=function(u,c,h,d,f,p){var m=n?n+u:u;if(!this._events[m])return!1;var v=this._events[m],g=arguments.length,b,y;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),g){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,h),!0;case 4:return v.fn.call(v.context,c,h,d),!0;case 5:return v.fn.call(v.context,c,h,d,f),!0;case 6:return v.fn.call(v.context,c,h,d,f,p),!0}for(y=1,b=new Array(g-1);y<g;y++)b[y-1]=arguments[y];v.fn.apply(v.context,b)}else{var x=v.length,S;for(y=0;y<x;y++)switch(v[y].once&&this.removeListener(u,v[y].fn,void 0,!0),g){case 1:v[y].fn.call(v[y].context);break;case 2:v[y].fn.call(v[y].context,c);break;case 3:v[y].fn.call(v[y].context,c,h);break;case 4:v[y].fn.call(v[y].context,c,h,d);break;default:if(!b)for(S=1,b=new Array(g-1);S<g;S++)b[S-1]=arguments[S];v[y].fn.apply(v[y].context,b)}}return!0},a.prototype.on=function(u,c,h){return s(this,u,c,h,!1)},a.prototype.once=function(u,c,h){return s(this,u,c,h,!0)},a.prototype.removeListener=function(u,c,h,d){var f=n?n+u:u;if(!this._events[f])return this;if(!c)return o(this,f),this;var p=this._events[f];if(p.fn)p.fn===c&&(!d||p.once)&&(!h||p.context===h)&&o(this,f);else{for(var m=0,v=[],g=p.length;m<g;m++)(p[m].fn!==c||d&&!p[m].once||h&&p[m].context!==h)&&v.push(p[m]);v.length?this._events[f]=v.length===1?v[0]:v:o(this,f)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(vie);var ou={},yie={get exports(){return ou},set exports(t){ou=t}};yie.exports=Lf;ou.default=Lf;function Lf(t,e,n){n=n||2;var r=e&&e.length,i=r?e[0]*n:t.length,s=IO(t,0,i,n,!0),o=[];if(!s||s.next===s.prev)return o;var a,l,u,c,h,d,f;if(r&&(s=Eie(t,e,s,n)),t.length>80*n){a=u=t[0],l=c=t[1];for(var p=n;p<i;p+=n)h=t[p],d=t[p+1],h<a&&(a=h),d<l&&(l=d),h>u&&(u=h),d>c&&(c=d);f=Math.max(u-a,c-l),f=f!==0?32767/f:0}return au(s,o,n,a,l,f,0),o}function IO(t,e,n,r,i){var s,o;if(i===Fv(t,e,n,r)>0)for(s=e;s<n;s+=r)o=_S(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=_S(s,t[s],t[s+1],o);return o&&Uf(o,o.next)&&(uu(o),o=o.next),o}function Es(t,e){if(!t)return t;e||(e=t);var n=t,r;do if(r=!1,!n.steiner&&(Uf(n,n.next)||Ye(n.prev,n,n.next)===0)){if(uu(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function au(t,e,n,r,i,s,o){if(t){!o&&s&&Pie(t,r,i,s);for(var a=t,l,u;t.prev!==t.next;){if(l=t.prev,u=t.next,s?xie(t,r,i,s):bie(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),uu(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=wie(Es(t),e,n),au(t,e,n,r,i,s,2)):o===2&&_ie(t,e,n,r,i,s):au(Es(t),e,n,r,i,s,1);break}}}}function bie(t){var e=t.prev,n=t,r=t.next;if(Ye(e,n,r)>=0)return!1;for(var i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,u=r.y,c=i<s?i<o?i:o:s<o?s:o,h=a<l?a<u?a:u:l<u?l:u,d=i>s?i>o?i:o:s>o?s:o,f=a>l?a>u?a:u:l>u?l:u,p=r.next;p!==e;){if(p.x>=c&&p.x<=d&&p.y>=h&&p.y<=f&&Io(i,a,s,l,o,u,p.x,p.y)&&Ye(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function xie(t,e,n,r){var i=t.prev,s=t,o=t.next;if(Ye(i,s,o)>=0)return!1;for(var a=i.x,l=s.x,u=o.x,c=i.y,h=s.y,d=o.y,f=a<l?a<u?a:u:l<u?l:u,p=c<h?c<d?c:d:h<d?h:d,m=a>l?a>u?a:u:l>u?l:u,v=c>h?c>d?c:d:h>d?h:d,g=Rv(f,p,e,n,r),b=Rv(m,v,e,n,r),y=t.prevZ,x=t.nextZ;y&&y.z>=g&&x&&x.z<=b;){if(y.x>=f&&y.x<=m&&y.y>=p&&y.y<=v&&y!==i&&y!==o&&Io(a,c,l,h,u,d,y.x,y.y)&&Ye(y.prev,y,y.next)>=0||(y=y.prevZ,x.x>=f&&x.x<=m&&x.y>=p&&x.y<=v&&x!==i&&x!==o&&Io(a,c,l,h,u,d,x.x,x.y)&&Ye(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;y&&y.z>=g;){if(y.x>=f&&y.x<=m&&y.y>=p&&y.y<=v&&y!==i&&y!==o&&Io(a,c,l,h,u,d,y.x,y.y)&&Ye(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;x&&x.z<=b;){if(x.x>=f&&x.x<=m&&x.y>=p&&x.y<=v&&x!==i&&x!==o&&Io(a,c,l,h,u,d,x.x,x.y)&&Ye(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function wie(t,e,n){var r=t;do{var i=r.prev,s=r.next.next;!Uf(i,s)&&kO(i,r,r.next,s)&&lu(i,s)&&lu(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),uu(r),uu(r.next),r=t=s),r=r.next}while(r!==t);return Es(r)}function _ie(t,e,n,r,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&kie(o,a)){var l=RO(o,a);o=Es(o,o.next),l=Es(l,l.next),au(o,e,n,r,i,s,0),au(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function Eie(t,e,n,r){var i=[],s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,u=IO(t,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(Iie(u));for(i.sort(Sie),s=0;s<i.length;s++)n=Cie(i[s],n);return n}function Sie(t,e){return t.x-e.x}function Cie(t,e){var n=Tie(t,e);if(!n)return e;var r=RO(n,t);return Es(r,r.next),Es(n,n.next)}function Tie(t,e){var n=e,r=t.x,i=t.y,s=-1/0,o;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var a=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=r&&a>s&&(s=a,o=n.x<n.next.x?n:n.next,a===r))return o}n=n.next}while(n!==e);if(!o)return null;var l=o,u=o.x,c=o.y,h=1/0,d;n=o;do r>=n.x&&n.x>=u&&r!==n.x&&Io(i<c?r:s,i,u,c,i<c?s:r,i,n.x,n.y)&&(d=Math.abs(i-n.y)/(r-n.x),lu(n,t)&&(d<h||d===h&&(n.x>o.x||n.x===o.x&&Aie(o,n)))&&(o=n,h=d)),n=n.next;while(n!==l);return o}function Aie(t,e){return Ye(t.prev,t,e.prev)<0&&Ye(e.next,t,t.next)<0}function Pie(t,e,n,r){var i=t;do i.z===0&&(i.z=Rv(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,Oie(i)}function Oie(t){var e,n,r,i,s,o,a,l,u=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,u*=2}while(o>1);return t}function Rv(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Iie(t){var e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Io(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function kie(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Rie(t,e)&&(lu(t,e)&&lu(e,t)&&Mie(t,e)&&(Ye(t.prev,t,e.prev)||Ye(t,e.prev,e))||Uf(t,e)&&Ye(t.prev,t,t.next)>0&&Ye(e.prev,e,e.next)>0)}function Ye(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Uf(t,e){return t.x===e.x&&t.y===e.y}function kO(t,e,n,r){var i=Dc(Ye(t,e,n)),s=Dc(Ye(t,e,r)),o=Dc(Ye(n,r,t)),a=Dc(Ye(n,r,e));return!!(i!==s&&o!==a||i===0&&Fc(t,n,e)||s===0&&Fc(t,r,e)||o===0&&Fc(n,t,r)||a===0&&Fc(n,e,r))}function Fc(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Dc(t){return t>0?1:t<0?-1:0}function Rie(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&kO(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function lu(t,e){return Ye(t.prev,t,t.next)<0?Ye(t,e,t.next)>=0&&Ye(t,t.prev,e)>=0:Ye(t,e,t.prev)<0||Ye(t,t.next,e)<0}function Mie(t,e){var n=t,r=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function RO(t,e){var n=new Mv(t.i,t.x,t.y),r=new Mv(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function _S(t,e,n,r){var i=new Mv(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function uu(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Mv(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Lf.deviation=function(t,e,n,r){var i=e&&e.length,s=i?e[0]*n:t.length,o=Math.abs(Fv(t,0,s,n));if(i)for(var a=0,l=e.length;a<l;a++){var u=e[a]*n,c=a<l-1?e[a+1]*n:t.length;o-=Math.abs(Fv(t,u,c,n))}var h=0;for(a=0;a<r.length;a+=3){var d=r[a]*n,f=r[a+1]*n,p=r[a+2]*n;h+=Math.abs((t[d]-t[p])*(t[f+1]-t[d+1])-(t[d]-t[f])*(t[p+1]-t[d+1]))}return o===0&&h===0?0:Math.abs((h-o)/o)};function Fv(t,e,n,r){for(var i=0,s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}Lf.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)n.vertices.push(t[i][s][o]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n};var xd={},Fie={get exports(){return xd},set exports(t){xd=t}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(t,e){(function(n){var r=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof $r=="object"&&$r;(s.global===s||s.window===s||s.self===s)&&(n=s);var o,a=2147483647,l=36,u=1,c=26,h=38,d=700,f=72,p=128,m="-",v=/^xn--/,g=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=l-u,S=Math.floor,C=String.fromCharCode,T;function A(R){throw RangeError(y[R])}function I(R,X){for(var Z=R.length,F=[];Z--;)F[Z]=X(R[Z]);return F}function M(R,X){var Z=R.split("@"),F="";Z.length>1&&(F=Z[0]+"@",R=Z[1]),R=R.replace(b,".");var $=R.split("."),P=I($,X).join(".");return F+P}function N(R){for(var X=[],Z=0,F=R.length,$,P;Z<F;)$=R.charCodeAt(Z++),$>=55296&&$<=56319&&Z<F?(P=R.charCodeAt(Z++),(P&64512)==56320?X.push((($&1023)<<10)+(P&1023)+65536):(X.push($),Z--)):X.push($);return X}function D(R){return I(R,function(X){var Z="";return X>65535&&(X-=65536,Z+=C(X>>>10&1023|55296),X=56320|X&1023),Z+=C(X),Z}).join("")}function B(R){return R-48<10?R-22:R-65<26?R-65:R-97<26?R-97:l}function k(R,X){return R+22+75*(R<26)-((X!=0)<<5)}function H(R,X,Z){var F=0;for(R=Z?S(R/d):R>>1,R+=S(R/X);R>x*c>>1;F+=l)R=S(R/x);return S(F+(x+1)*R/(R+h))}function q(R){var X=[],Z=R.length,F,$=0,P=p,W=f,Q,ve,ge,Ce,oe,Ae,Ee,Qe,wt;for(Q=R.lastIndexOf(m),Q<0&&(Q=0),ve=0;ve<Q;++ve)R.charCodeAt(ve)>=128&&A("not-basic"),X.push(R.charCodeAt(ve));for(ge=Q>0?Q+1:0;ge<Z;){for(Ce=$,oe=1,Ae=l;ge>=Z&&A("invalid-input"),Ee=B(R.charCodeAt(ge++)),(Ee>=l||Ee>S((a-$)/oe))&&A("overflow"),$+=Ee*oe,Qe=Ae<=W?u:Ae>=W+c?c:Ae-W,!(Ee<Qe);Ae+=l)wt=l-Qe,oe>S(a/wt)&&A("overflow"),oe*=wt;F=X.length+1,W=H($-Ce,F,Ce==0),S($/F)>a-P&&A("overflow"),P+=S($/F),$%=F,X.splice($++,0,P)}return D(X)}function z(R){var X,Z,F,$,P,W,Q,ve,ge,Ce,oe,Ae=[],Ee,Qe,wt,ji;for(R=N(R),Ee=R.length,X=p,Z=0,P=f,W=0;W<Ee;++W)oe=R[W],oe<128&&Ae.push(C(oe));for(F=$=Ae.length,$&&Ae.push(m);F<Ee;){for(Q=a,W=0;W<Ee;++W)oe=R[W],oe>=X&&oe<Q&&(Q=oe);for(Qe=F+1,Q-X>S((a-Z)/Qe)&&A("overflow"),Z+=(Q-X)*Qe,X=Q,W=0;W<Ee;++W)if(oe=R[W],oe<X&&++Z>a&&A("overflow"),oe==X){for(ve=Z,ge=l;Ce=ge<=P?u:ge>=P+c?c:ge-P,!(ve<Ce);ge+=l)ji=ve-Ce,wt=l-Ce,Ae.push(C(k(Ce+ji%wt,0))),ve=S(ji/wt);Ae.push(C(k(ve,0))),P=H(Z,Qe,F==$),Z=0,++F}++Z,++X}return Ae.join("")}function L(R){return M(R,function(X){return v.test(X)?q(X.slice(4).toLowerCase()):X})}function G(R){return M(R,function(X){return g.test(X)?"xn--"+z(X):X})}if(o={version:"1.3.2",ucs2:{decode:N,encode:D},decode:q,encode:z,toASCII:G,toUnicode:L},r&&i)if(t.exports==r)i.exports=o;else for(T in o)o.hasOwnProperty(T)&&(r[T]=o[T]);else n.punycode=o})($r)})(Fie,xd);var Die={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},cu={};function $ie(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Bie=function(t,e,n,r){e=e||"&",n=n||"=";var i={};if(typeof t!="string"||t.length===0)return i;var s=/\+/g;t=t.split(e);var o=1e3;r&&typeof r.maxKeys=="number"&&(o=r.maxKeys);var a=t.length;o>0&&a>o&&(a=o);for(var l=0;l<a;++l){var u=t[l].replace(s,"%20"),c=u.indexOf(n),h,d,f,p;c>=0?(h=u.substr(0,c),d=u.substr(c+1)):(h=u,d=""),f=decodeURIComponent(h),p=decodeURIComponent(d),$ie(i,f)?Array.isArray(i[f])?i[f].push(p):i[f]=[i[f],p]:i[f]=p}return i},qa=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},Nie=function(t,e,n,r){return e=e||"&",n=n||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(i){var s=encodeURIComponent(qa(i))+n;return Array.isArray(t[i])?t[i].map(function(o){return s+encodeURIComponent(qa(o))}).join(e):s+encodeURIComponent(qa(t[i]))}).join(e):r?encodeURIComponent(qa(r))+n+encodeURIComponent(qa(t)):""};cu.decode=cu.parse=Bie;cu.encode=cu.stringify=Nie;var Lie=xd,gr=Die,Uie=jf,jie=Qie,zie=Zie;function rr(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Hie=/^([a-z0-9.+-]+:)/i,Gie=/:[0-9]*$/,Wie=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Vie=["<",">",'"',"`"," ","\r",`
`,"	"],Xie=["{","}","|","\\","^","`"].concat(Vie),Dv=["'"].concat(Xie),ES=["%","/","?",";","#"].concat(Dv),SS=["/","?","#"],qie=255,CS=/^[+a-z0-9A-Z_-]{0,63}$/,Yie=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Kie={javascript:!0,"javascript:":!0},$v={javascript:!0,"javascript:":!0},zo={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Bv=cu;function jf(t,e,n){if(t&&gr.isObject(t)&&t instanceof rr)return t;var r=new rr;return r.parse(t,e,n),r}rr.prototype.parse=function(t,e,n){if(!gr.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),i=r!==-1&&r<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!n&&t.split("#").length===1){var l=Wie.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=Bv.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var u=Hie.exec(a);if(u){u=u[0];var c=u.toLowerCase();this.protocol=c,a=a.substr(u.length)}if(n||u||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var h=a.substr(0,2)==="//";h&&!(u&&$v[u])&&(a=a.substr(2),this.slashes=!0)}if(!$v[u]&&(h||u&&!zo[u])){for(var d=-1,f=0;f<SS.length;f++){var p=a.indexOf(SS[f]);p!==-1&&(d===-1||p<d)&&(d=p)}var m,v;d===-1?v=a.lastIndexOf("@"):v=a.lastIndexOf("@",d),v!==-1&&(m=a.slice(0,v),a=a.slice(v+1),this.auth=decodeURIComponent(m)),d=-1;for(var f=0;f<ES.length;f++){var p=a.indexOf(ES[f]);p!==-1&&(d===-1||p<d)&&(d=p)}d===-1&&(d=a.length),this.host=a.slice(0,d),a=a.slice(d),this.parseHost(),this.hostname=this.hostname||"";var g=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!g)for(var b=this.hostname.split(/\./),f=0,y=b.length;f<y;f++){var x=b[f];if(x&&!x.match(CS)){for(var S="",C=0,T=x.length;C<T;C++)x.charCodeAt(C)>127?S+="x":S+=x[C];if(!S.match(CS)){var A=b.slice(0,f),I=b.slice(f+1),M=x.match(Yie);M&&(A.push(M[1]),I.unshift(M[2])),I.length&&(a="/"+I.join(".")+a),this.hostname=A.join(".");break}}}this.hostname.length>qie?this.hostname="":this.hostname=this.hostname.toLowerCase(),g||(this.hostname=Lie.toASCII(this.hostname));var N=this.port?":"+this.port:"",D=this.hostname||"";this.host=D+N,this.href+=this.host,g&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!Kie[c])for(var f=0,y=Dv.length;f<y;f++){var B=Dv[f];if(a.indexOf(B)!==-1){var k=encodeURIComponent(B);k===B&&(k=escape(B)),a=a.split(B).join(k)}}var H=a.indexOf("#");H!==-1&&(this.hash=a.substr(H),a=a.slice(0,H));var q=a.indexOf("?");if(q!==-1?(this.search=a.substr(q),this.query=a.substr(q+1),e&&(this.query=Bv.parse(this.query)),a=a.slice(0,q)):e&&(this.search="",this.query={}),a&&(this.pathname=a),zo[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var N=this.pathname||"",z=this.search||"";this.path=N+z}return this.href=this.format(),this};function Zie(t){return gr.isString(t)&&(t=jf(t)),t instanceof rr?t.format():rr.prototype.format.call(t)}rr.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&gr.isObject(this.query)&&Object.keys(this.query).length&&(s=Bv.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||zo[e])&&i!==!1?(i="//"+(i||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),o&&o.charAt(0)!=="?"&&(o="?"+o),n=n.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+n+o+r};function Qie(t,e){return jf(t,!1,!0).resolve(e)}rr.prototype.resolve=function(t){return this.resolveObject(jf(t,!1,!0)).format()};rr.prototype.resolveObject=function(t){if(gr.isString(t)){var e=new rr;e.parse(t,!1,!0),t=e}for(var n=new rr,r=Object.keys(this),i=0;i<r.length;i++){var s=r[i];n[s]=this[s]}if(n.hash=t.hash,t.href==="")return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var l=o[a];l!=="protocol"&&(n[l]=t[l])}return zo[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!zo[t.protocol]){for(var u=Object.keys(t),c=0;c<u.length;c++){var h=u[c];n[h]=t[h]}return n.href=n.format(),n}if(n.protocol=t.protocol,!t.host&&!$v[t.protocol]){for(var y=(t.pathname||"").split("/");y.length&&!(t.host=y.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),y[0]!==""&&y.unshift(""),y.length<2&&y.unshift(""),n.pathname=y.join("/")}else n.pathname=t.pathname;if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var d=n.pathname||"",f=n.search||"";n.path=d+f}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var p=n.pathname&&n.pathname.charAt(0)==="/",m=t.host||t.pathname&&t.pathname.charAt(0)==="/",v=m||p||n.host&&t.pathname,g=v,b=n.pathname&&n.pathname.split("/")||[],y=t.pathname&&t.pathname.split("/")||[],x=n.protocol&&!zo[n.protocol];if(x&&(n.hostname="",n.port=null,n.host&&(b[0]===""?b[0]=n.host:b.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(y[0]===""?y[0]=t.host:y.unshift(t.host)),t.host=null),v=v&&(y[0]===""||b[0]==="")),m)n.host=t.host||t.host===""?t.host:n.host,n.hostname=t.hostname||t.hostname===""?t.hostname:n.hostname,n.search=t.search,n.query=t.query,b=y;else if(y.length)b||(b=[]),b.pop(),b=b.concat(y),n.search=t.search,n.query=t.query;else if(!gr.isNullOrUndefined(t.search)){if(x){n.hostname=n.host=b.shift();var S=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;S&&(n.auth=S.shift(),n.host=n.hostname=S.shift())}return n.search=t.search,n.query=t.query,(!gr.isNull(n.pathname)||!gr.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!b.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var C=b.slice(-1)[0],T=(n.host||t.host||b.length>1)&&(C==="."||C==="..")||C==="",A=0,I=b.length;I>=0;I--)C=b[I],C==="."?b.splice(I,1):C===".."?(b.splice(I,1),A++):A&&(b.splice(I,1),A--);if(!v&&!g)for(;A--;A)b.unshift("..");v&&b[0]!==""&&(!b[0]||b[0].charAt(0)!=="/")&&b.unshift(""),T&&b.join("/").substr(-1)!=="/"&&b.push("");var M=b[0]===""||b[0]&&b[0].charAt(0)==="/";if(x){n.hostname=n.host=M?"":b.length?b.shift():"";var S=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;S&&(n.auth=S.shift(),n.host=n.hostname=S.shift())}return v=v||n.host&&b.length,v&&!M&&b.unshift(""),b.length?n.pathname=b.join("/"):(n.pathname=null,n.path=null),(!gr.isNull(n.pathname)||!gr.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n};rr.prototype.parseHost=function(){var t=this.host,e=Gie.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const MO={parse:Uie,format:zie,resolve:jie};function Un(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Ya(t){return t.split("?")[0].split("#")[0]}function Jie(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ese(t,e,n){return t.replace(new RegExp(Jie(e),"g"),n)}function tse(t,e){let n="",r=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){const l=n.lastIndexOf("/");if(l!==n.length-1){l===-1?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length===2||n.length===1){n="",r=0,i=a,s=0;continue}}e&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+=`/${t.slice(i+1,a)}`:n=t.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return n}const bt={toPosix(t){return ese(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol(t){Un(t),t=this.toPosix(t);let e="";const n=/^file:\/\/\//.exec(t),r=/^[^/:]+:\/\//.exec(t),i=/^[^/:]+:\//.exec(t);if(n||r||i){const s=(n==null?void 0:n[0])||(r==null?void 0:r[0])||(i==null?void 0:i[0]);e=s,t=t.slice(s.length)}return e},toAbsolute(t,e,n){if(this.isDataUrl(t))return t;const r=Ya(this.toPosix(e??te.ADAPTER.getBaseUrl())),i=Ya(this.toPosix(n??this.rootname(r)));return Un(t),t=this.toPosix(t),t.startsWith("/")?bt.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(r,t)},normalize(t){if(t=this.toPosix(t),Un(t),t.length===0)return".";let e="";const n=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const r=t.endsWith("/");return t=tse(t,!1),t.length>0&&r&&(t+="/"),n?`/${t}`:e+t},isAbsolute(t){return Un(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let n=0;n<t.length;++n){const r=t[n];if(Un(r),r.length>0)if(e===void 0)e=r;else{const i=t[n-1]??"";this.extname(i)?e+=`/../${r}`:e+=`/${r}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(Un(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const n=e===47;let r=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){r=a;break}}else i=!1;return r===-1?n?"/":this.isUrl(o)?s+t:s:n&&r===1?"//":s+t.slice(0,r)},rootname(t){Un(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const n=t.indexOf("/",e.length);n!==-1?e=t.slice(0,n):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Un(t),e&&Un(e),t=Ya(this.toPosix(t));let n=0,r=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const l=t.charCodeAt(s);if(l===47){if(!i){n=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(r=s):(o=-1,r=a))}return n===r?r=a:r===-1&&(r=t.length),t.slice(n,r)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){n=s+1;break}}else r===-1&&(i=!1,r=s+1);return r===-1?"":t.slice(n,r)},extname(t){Un(t),t=Ya(this.toPosix(t));let e=-1,n=0,r=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){n=o+1;break}continue}r===-1&&(i=!1,r=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||r===-1||s===0||s===1&&e===r-1&&e===n+1?"":t.slice(e,r)},parse(t){Un(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Ya(this.toPosix(t));let n=t.charCodeAt(0);const r=this.isAbsolute(t);let i;e.root=this.rootname(t),r||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,l=!0,u=t.length-1,c=0;for(;u>=i;--u){if(n=t.charCodeAt(u),n===47){if(!l){o=u+1;break}continue}a===-1&&(l=!1,a=u+1),n===46?s===-1?s=u:c!==1&&(c=1):s!==-1&&(c=-1)}return s===-1||a===-1||c===0||c===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&r?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&r?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"},TS={};function be(t,e,n=3){if(TS[e])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(r=r.split(`
`).splice(n).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(r))),TS[e]=!0}function nse(){be("7.0.0","skipHello is deprecated, please use settings.RENDER_OPTIONS.hello")}function rse(){be("7.0.0",`sayHello is deprecated, please use Renderer's "hello" option`)}let nm;function FO(){return typeof nm>"u"&&(nm=function(){var n;const e={stencil:!0,failIfMajorPerformanceCaveat:te.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!te.ADAPTER.getWebGLRenderingContext())return!1;const r=te.ADAPTER.createCanvas();let i=r.getContext("webgl",e)||r.getContext("experimental-webgl",e);const s=!!((n=i==null?void 0:i.getContextAttributes())!=null&&n.stencil);if(i){const o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,s}catch{return!1}}()),nm}var ise="#f0f8ff",sse="#faebd7",ose="#00ffff",ase="#7fffd4",lse="#f0ffff",use="#f5f5dc",cse="#ffe4c4",hse="#000000",dse="#ffebcd",fse="#0000ff",pse="#8a2be2",mse="#a52a2a",gse="#deb887",vse="#5f9ea0",yse="#7fff00",bse="#d2691e",xse="#ff7f50",wse="#6495ed",_se="#fff8dc",Ese="#dc143c",Sse="#00ffff",Cse="#00008b",Tse="#008b8b",Ase="#b8860b",Pse="#a9a9a9",Ose="#006400",Ise="#a9a9a9",kse="#bdb76b",Rse="#8b008b",Mse="#556b2f",Fse="#ff8c00",Dse="#9932cc",$se="#8b0000",Bse="#e9967a",Nse="#8fbc8f",Lse="#483d8b",Use="#2f4f4f",jse="#2f4f4f",zse="#00ced1",Hse="#9400d3",Gse="#ff1493",Wse="#00bfff",Vse="#696969",Xse="#696969",qse="#1e90ff",Yse="#b22222",Kse="#fffaf0",Zse="#228b22",Qse="#ff00ff",Jse="#dcdcdc",eoe="#f8f8ff",toe="#daa520",noe="#ffd700",roe="#808080",ioe="#008000",soe="#adff2f",ooe="#808080",aoe="#f0fff0",loe="#ff69b4",uoe="#cd5c5c",coe="#4b0082",hoe="#fffff0",doe="#f0e68c",foe="#fff0f5",poe="#e6e6fa",moe="#7cfc00",goe="#fffacd",voe="#add8e6",yoe="#f08080",boe="#e0ffff",xoe="#fafad2",woe="#d3d3d3",_oe="#90ee90",Eoe="#d3d3d3",Soe="#ffb6c1",Coe="#ffa07a",Toe="#20b2aa",Aoe="#87cefa",Poe="#778899",Ooe="#778899",Ioe="#b0c4de",koe="#ffffe0",Roe="#00ff00",Moe="#32cd32",Foe="#faf0e6",Doe="#ff00ff",$oe="#800000",Boe="#66cdaa",Noe="#0000cd",Loe="#ba55d3",Uoe="#9370db",joe="#3cb371",zoe="#7b68ee",Hoe="#00fa9a",Goe="#48d1cc",Woe="#c71585",Voe="#191970",Xoe="#f5fffa",qoe="#ffe4e1",Yoe="#ffe4b5",Koe="#ffdead",Zoe="#000080",Qoe="#fdf5e6",Joe="#808000",eae="#6b8e23",tae="#ffa500",nae="#ff4500",rae="#da70d6",iae="#eee8aa",sae="#98fb98",oae="#afeeee",aae="#db7093",lae="#ffefd5",uae="#ffdab9",cae="#cd853f",hae="#ffc0cb",dae="#dda0dd",fae="#b0e0e6",pae="#800080",mae="#663399",gae="#ff0000",vae="#bc8f8f",yae="#4169e1",bae="#8b4513",xae="#fa8072",wae="#f4a460",_ae="#2e8b57",Eae="#fff5ee",Sae="#a0522d",Cae="#c0c0c0",Tae="#87ceeb",Aae="#6a5acd",Pae="#708090",Oae="#708090",Iae="#fffafa",kae="#00ff7f",Rae="#4682b4",Mae="#d2b48c",Fae="#008080",Dae="#d8bfd8",$ae="#ff6347",Bae="#40e0d0",Nae="#ee82ee",Lae="#f5deb3",Uae="#ffffff",jae="#f5f5f5",zae="#ffff00",Hae="#9acd32",Gae={aliceblue:ise,antiquewhite:sse,aqua:ose,aquamarine:ase,azure:lse,beige:use,bisque:cse,black:hse,blanchedalmond:dse,blue:fse,blueviolet:pse,brown:mse,burlywood:gse,cadetblue:vse,chartreuse:yse,chocolate:bse,coral:xse,cornflowerblue:wse,cornsilk:_se,crimson:Ese,cyan:Sse,darkblue:Cse,darkcyan:Tse,darkgoldenrod:Ase,darkgray:Pse,darkgreen:Ose,darkgrey:Ise,darkkhaki:kse,darkmagenta:Rse,darkolivegreen:Mse,darkorange:Fse,darkorchid:Dse,darkred:$se,darksalmon:Bse,darkseagreen:Nse,darkslateblue:Lse,darkslategray:Use,darkslategrey:jse,darkturquoise:zse,darkviolet:Hse,deeppink:Gse,deepskyblue:Wse,dimgray:Vse,dimgrey:Xse,dodgerblue:qse,firebrick:Yse,floralwhite:Kse,forestgreen:Zse,fuchsia:Qse,gainsboro:Jse,ghostwhite:eoe,goldenrod:toe,gold:noe,gray:roe,green:ioe,greenyellow:soe,grey:ooe,honeydew:aoe,hotpink:loe,indianred:uoe,indigo:coe,ivory:hoe,khaki:doe,lavenderblush:foe,lavender:poe,lawngreen:moe,lemonchiffon:goe,lightblue:voe,lightcoral:yoe,lightcyan:boe,lightgoldenrodyellow:xoe,lightgray:woe,lightgreen:_oe,lightgrey:Eoe,lightpink:Soe,lightsalmon:Coe,lightseagreen:Toe,lightskyblue:Aoe,lightslategray:Poe,lightslategrey:Ooe,lightsteelblue:Ioe,lightyellow:koe,lime:Roe,limegreen:Moe,linen:Foe,magenta:Doe,maroon:$oe,mediumaquamarine:Boe,mediumblue:Noe,mediumorchid:Loe,mediumpurple:Uoe,mediumseagreen:joe,mediumslateblue:zoe,mediumspringgreen:Hoe,mediumturquoise:Goe,mediumvioletred:Woe,midnightblue:Voe,mintcream:Xoe,mistyrose:qoe,moccasin:Yoe,navajowhite:Koe,navy:Zoe,oldlace:Qoe,olive:Joe,olivedrab:eae,orange:tae,orangered:nae,orchid:rae,palegoldenrod:iae,palegreen:sae,paleturquoise:oae,palevioletred:aae,papayawhip:lae,peachpuff:uae,peru:cae,pink:hae,plum:dae,powderblue:fae,purple:pae,rebeccapurple:mae,red:gae,rosybrown:vae,royalblue:yae,saddlebrown:bae,salmon:xae,sandybrown:wae,seagreen:_ae,seashell:Eae,sienna:Sae,silver:Cae,skyblue:Tae,slateblue:Aae,slategray:Pae,slategrey:Oae,snow:Iae,springgreen:kae,steelblue:Rae,tan:Mae,teal:Fae,thistle:Dae,tomato:$ae,turquoise:Bae,violet:Nae,wheat:Lae,white:Uae,whitesmoke:jae,yellow:zae,yellowgreen:Hae};function Ss(t,e=[]){return e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function K1(t){let e=t.toString(16);return e="000000".substring(0,6-e.length)+e,`#${e}`}function zf(t){if(typeof t=="string"&&(t=Gae[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1)),t.length===3)){const[e,n,r]=t;t=e+e+n+n+r+r}return parseInt(t,16)}function Wae(t){return(t[0]*255<<16)+(t[1]*255<<8)+(t[2]*255|0)}function Vae(){const t=[],e=[];for(let r=0;r<32;r++)t[r]=r,e[r]=r;t[ue.NORMAL_NPM]=ue.NORMAL,t[ue.ADD_NPM]=ue.ADD,t[ue.SCREEN_NPM]=ue.SCREEN,e[ue.NORMAL]=ue.NORMAL_NPM,e[ue.ADD]=ue.ADD_NPM,e[ue.SCREEN]=ue.SCREEN_NPM;const n=[];return n.push(e),n.push(t),n}const Z1=Vae();function Q1(t,e){return Z1[e?1:0][t]}function DO(t,e,n,r){return n=n||new Float32Array(4),r||r===void 0?(n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e):(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=e,n}function Hf(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;let n=t>>16&255,r=t>>8&255,i=t&255;return n=n*e+.5|0,r=r*e+.5|0,i=i*e+.5|0,(e*255<<24)+(n<<16)+(r<<8)+i}function J1(t,e,n,r){return n=n||new Float32Array(4),n[0]=(t>>16&255)/255,n[1]=(t>>8&255)/255,n[2]=(t&255)/255,(r||r===void 0)&&(n[0]*=e,n[1]*=e,n[2]*=e),n[3]=e,n}const $O=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function BO(t,e=null){const n=t*6;if(e=e||new Uint16Array(n),e.length!==n)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${n}`);for(let r=0,i=0;r<n;r+=6,i+=4)e[r+0]=i+0,e[r+1]=i+1,e[r+2]=i+2,e[r+3]=i+0,e[r+4]=i+2,e[r+5]=i+3;return e}function Gf(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}const Xae={Float32Array,Uint32Array,Int32Array,Uint8Array};function qae(t,e){let n=0,r=0;const i={};for(let l=0;l<t.length;l++)r+=e[l],n+=t[l].length;const s=new ArrayBuffer(n*4);let o=null,a=0;for(let l=0;l<t.length;l++){const u=e[l],c=t[l],h=Gf(c);i[h]||(i[h]=new Xae[h](s)),o=i[h];for(let d=0;d<c.length;d++){const f=(d/u|0)*r+a,p=d%u;o[f+p]=c[d]}a+=u}return new Float32Array(s)}function hu(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function Nv(t){return!(t&t-1)&&!!t}function Lv(t){let e=(t>65535?1:0)<<4;t>>>=e;let n=(t>255?1:0)<<3;return t>>>=n,e|=n,n=(t>15?1:0)<<2,t>>>=n,e|=n,n=(t>3?1:0)<<1,t>>>=n,e|=n,e|t>>1}function ds(t,e,n){const r=t.length;let i;if(e>=r||n===0)return;n=e+n>r?r-e:n;const s=r-n;for(i=e;i<s;++i)t[i]=t[i+n];t.length=s}function ns(t){return t===0?0:t<0?-1:1}let Yae=0;function Oi(){return++Yae}const NO=class{constructor(t,e,n,r){this.left=t,this.top=e,this.right=n,this.bottom=r}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let wd=NO;wd.EMPTY=new NO(0,0,0,0);const Uv={},Mt=Object.create(null),tn=Object.create(null);function Kae(){let t;for(t in Mt)Mt[t].destroy();for(t in tn)tn[t].destroy()}function Zae(){let t;for(t in Mt)delete Mt[t];for(t in tn)delete tn[t]}class jv{constructor(e,n,r){this._canvas=te.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=r||te.RESOLUTION,this.resize(e,n)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,n){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(n*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function AS(t,e,n){for(let r=0,i=4*n*e;r<e;++r,i+=4)if(t[i+3]!==0)return!1;return!0}function PS(t,e,n,r,i){const s=4*e;for(let o=r,a=r*s+4*n;o<=i;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function LO(t){const{width:e,height:n}=t,r=t.getContext("2d",{willReadFrequently:!0});if(r===null)throw new TypeError("Failed to get canvas 2D context");const s=r.getImageData(0,0,e,n).data;let o=0,a=0,l=e-1,u=n-1;for(;a<n&&AS(s,e,a);)++a;if(a===n)return wd.EMPTY;for(;AS(s,e,u);)--u;for(;PS(s,e,o,a,u);)++o;for(;PS(s,e,l,a,u);)--l;return++l,++u,new wd(o,a,l,u)}function UO(t){const e=LO(t),{width:n,height:r}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,n,r)}return{width:n,height:r,data:i}}function Qae(t){const e=$O.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}let $c;function jO(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location,$c||($c=document.createElement("a")),$c.href=t;const n=MO.parse($c.href),r=!n.port&&e.port===""||n.port===e.port;return n.hostname!==e.hostname||!r||n.protocol!==e.protocol?"anonymous":""}function Xr(t,e=1){var r;const n=(r=te.RETINA_PREFIX)==null?void 0:r.exec(t);return n?parseFloat(n[1]):e}const Jae=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:tn,BoundingBox:wd,CanvasRenderTarget:jv,DATA_URI:$O,EventEmitter:Pi,ProgramCache:Uv,TextureCache:Mt,clearTextureCache:Zae,correctBlendMode:Q1,createIndicesForQuads:BO,decomposeDataUri:Qae,deprecation:be,destroyTextureCache:Kae,determineCrossOrigin:jO,get earcut(){return ou},getBufferType:Gf,getCanvasBoundingBox:LO,getResolutionOfUrl:Xr,hex2rgb:Ss,hex2string:K1,interleaveTypedArrays:qae,isMobile:Qn,isPow2:Nv,isWebGLSupported:FO,log2:Lv,nextPow2:hu,path:bt,premultiplyBlendMode:Z1,premultiplyRgba:DO,premultiplyTint:Hf,premultiplyTintToRgba:J1,removeItems:ds,rgb2hex:Wae,sayHello:rse,sign:ns,skipHello:nse,string2hex:zf,trimCanvas:UO,uid:Oi,url:MO},Symbol.toStringTag,{value:"Module"}));var J=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(J||{});const zv=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},OS=(t,e)=>zv(t).priority??e,se={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(zv).forEach(e=>{e.type.forEach(n=>{var r,i;return(i=(r=this._removeHandlers)[n])==null?void 0:i.call(r,e)})}),this},add(...t){return t.map(zv).forEach(e=>{e.type.forEach(n=>{const r=this._addHandlers,i=this._queue;r[n]?r[n](e):(i[n]=i[n]||[],i[n].push(e))})}),this},handle(t,e,n){const r=this._addHandlers,i=this._removeHandlers;if(r[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);r[t]=e,i[t]=n;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,n=>{e[n.name]=n.ref},n=>{delete e[n.name]})},handleByList(t,e,n=-1){return this.handle(t,r=>{e.includes(r.ref)||(e.push(r.ref),e.sort((i,s)=>OS(s,n)-OS(i,n)))},r=>{const i=e.indexOf(r.ref);i!==-1&&e.splice(i,1)})}};class _d{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const ele=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function tle(t){let e="";for(let n=0;n<t;++n)n>0&&(e+=`
else `),n<t-1&&(e+=`if(test == ${n}.0){}`);return e}function zO(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const n=e.createShader(e.FRAGMENT_SHADER);for(;;){const r=ele.replace(/%forloop%/gi,tle(t));if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))t=t/2|0;else break}return t}const rm=0,im=1,sm=2,om=3,am=4,lm=5;class Or{constructor(){this.data=0,this.blendMode=ue.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<rm)}set blend(e){!!(this.data&1<<rm)!==e&&(this.data^=1<<rm)}get offsets(){return!!(this.data&1<<im)}set offsets(e){!!(this.data&1<<im)!==e&&(this.data^=1<<im)}get culling(){return!!(this.data&1<<sm)}set culling(e){!!(this.data&1<<sm)!==e&&(this.data^=1<<sm)}get depthTest(){return!!(this.data&1<<om)}set depthTest(e){!!(this.data&1<<om)!==e&&(this.data^=1<<om)}get depthMask(){return!!(this.data&1<<lm)}set depthMask(e){!!(this.data&1<<lm)!==e&&(this.data^=1<<lm)}get clockwiseFrontFace(){return!!(this.data&1<<am)}set clockwiseFrontFace(e){!!(this.data&1<<am)!==e&&(this.data^=1<<am)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==ue.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new Or;return e.depthTest=!1,e.blend=!0,e}}const Ed=[];function eb(t,e){if(!t)return null;let n="";if(typeof t=="string"){const r=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);r&&(n=r[1].toLowerCase())}for(let r=Ed.length-1;r>=0;--r){const i=Ed[r];if(i.test&&i.test(t,n))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class dn{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,n,r,i,s,o,a,l){if(arguments.length>8)throw new Error("max arguments reached");const{name:u,items:c}=this;this._aliasCount++;for(let h=0,d=c.length;h<d;h++)c[h][u](e,n,r,i,s,o,a,l);return c===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const n=this.items.indexOf(e);return n!==-1&&(this.ensureNonAliasedItems(),this.items.splice(n,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(dn.prototype,{dispatch:{value:dn.prototype.emit},run:{value:dn.prototype.emit}});class oa{constructor(e=0,n=0){this._width=e,this._height=n,this.destroyed=!1,this.internal=!1,this.onResize=new dn("setRealSize"),this.onUpdate=new dn("update"),this.onError=new dn("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,n){(e!==this._width||n!==this._height)&&(this._width=e,this._height=n,this.onResize.emit(e,n))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,n,r){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,n){return!1}}class Oa extends oa{constructor(e,n){const{width:r,height:i}=n||{};if(!r||!i)throw new Error("BufferResource width or height invalid");super(r,i),this.data=e}upload(e,n,r){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Bn.UNPACK);const s=n.realWidth,o=n.realHeight;return r.width===s&&r.height===o?i.texSubImage2D(n.target,0,0,0,s,o,n.format,r.type,this.data):(r.width=s,r.height=o,i.texImage2D(n.target,0,r.internalFormat,s,o,0,n.format,r.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const nle={scaleMode:wr.NEAREST,format:Y.RGBA,alphaMode:Bn.NPM},po=class extends Pi{constructor(t=null,e=null){super(),e=Object.assign({},po.defaultOptions,e);const{alphaMode:n,mipmap:r,anisotropicLevel:i,scaleMode:s,width:o,height:a,wrapMode:l,format:u,type:c,target:h,resolution:d,resourceOptions:f}=e;t&&!(t instanceof oa)&&(t=eb(t,f),t.internal=!0),this.resolution=d||te.RESOLUTION,this.width=Math.round((o||0)*this.resolution)/this.resolution,this.height=Math.round((a||0)*this.resolution)/this.resolution,this._mipmap=r,this.anisotropicLevel=i,this._wrapMode=l,this._scaleMode=s,this.format=u,this.type=c,this.target=h,this.alphaMode=n,this.uid=Oi(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&a>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let n;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,n=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,n=!0),n&&this.dirtyStyleId++,this}setSize(t,e,n){return n=n||this.resolution,this.setRealSize(t*n,e*n,n)}setRealSize(t,e,n){return this.resolution=n||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=Nv(this.realWidth)&&Nv(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete tn[this.cacheId],delete Mt[this.cacheId],this.cacheId=null),this.dispose(),po.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,n=te.STRICT_TEXTURE_CACHE){const r=typeof t=="string";let i=null;if(r)i=t;else{if(!t._pixiId){const o=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${o}_${Oi()}`}i=t._pixiId}let s=tn[i];if(r&&n&&!s)throw new Error(`The cacheId "${i}" does not exist in BaseTextureCache.`);return s||(s=new po(t,e),s.cacheId=i,po.addToCache(s,i)),s}static fromBuffer(t,e,n,r){t=t||new Float32Array(e*n*4);const i=new Oa(t,{width:e,height:n}),s=t instanceof Float32Array?ae.FLOAT:ae.UNSIGNED_BYTE;return new po(i,Object.assign({},nle,r||{width:e,height:n,type:s}))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),tn[e]&&tn[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),tn[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=tn[t];if(e){const n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete tn[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete tn[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};let fe=po;fe.defaultOptions={mipmap:ar.POW2,anisotropicLevel:0,scaleMode:wr.LINEAR,wrapMode:Cr.CLAMP,alphaMode:Bn.UNPACK,target:hs.TEXTURE_2D,format:Y.RGBA,type:ae.UNSIGNED_BYTE};fe._globalBatch=0;class Sd{constructor(){this.texArray=null,this.blend=0,this.type=Zn.TRIANGLES,this.start=0,this.size=0,this.data=null}}let rle=0;class nt{constructor(e,n=!0,r=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=n,this.id=rle++,this.disposeRunner=new dn("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?nr.ELEMENT_ARRAY_BUFFER:nr.ARRAY_BUFFER}get index(){return this.type===nr.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new nt(e)}}class du{constructor(e,n=0,r=!1,i=ae.FLOAT,s,o,a,l=1){this.buffer=e,this.size=n,this.normalized=r,this.type=i,this.stride=s,this.start=o,this.instance=a,this.divisor=l}destroy(){this.buffer=null}static from(e,n,r,i,s){return new du(e,n,r,i,s)}}const ile={Float32Array,Uint32Array,Int32Array,Uint8Array};function sle(t,e){let n=0,r=0;const i={};for(let l=0;l<t.length;l++)r+=e[l],n+=t[l].length;const s=new ArrayBuffer(n*4);let o=null,a=0;for(let l=0;l<t.length;l++){const u=e[l],c=t[l],h=Gf(c);i[h]||(i[h]=new ile[h](s)),o=i[h];for(let d=0;d<c.length;d++){const f=(d/u|0)*r+a,p=d%u;o[f+p]=c[d]}a+=u}return new Float32Array(s)}const IS={5126:4,5123:2,5121:1};let ole=0;const ale={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class qr{constructor(e=[],n={}){this.buffers=e,this.indexBuffer=null,this.attributes=n,this.glVertexArrayObjects={},this.id=ole++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new dn("disposeGeometry"),this.refCount=0}addAttribute(e,n,r=0,i=!1,s,o,a,l=!1){if(!n)throw new Error("You must pass a buffer when creating an attribute");n instanceof nt||(n instanceof Array&&(n=new Float32Array(n)),n=new nt(n));const u=e.split("|");if(u.length>1){for(let h=0;h<u.length;h++)this.addAttribute(u[h],n,r,i,s);return this}let c=this.buffers.indexOf(n);return c===-1&&(this.buffers.push(n),c=this.buffers.length-1),this.attributes[e]=new du(c,r,i,s,o,a,l),this.instanced=this.instanced||l,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof nt||(e instanceof Array&&(e=new Uint16Array(e)),e=new nt(e)),e.type=nr.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],n=[],r=new nt;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),n.push(s.size*IS[s.type]/4),s.buffer=0}for(r.data=sle(e,n),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const n=this.attributes[e];return this.buffers[n.buffer].data.length/(n.stride/4||n.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new qr;for(let n=0;n<this.buffers.length;n++)e.buffers[n]=new nt(this.buffers[n].data.slice(0));for(const n in this.attributes){const r=this.attributes[n];e.attributes[n]=new du(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=nr.ELEMENT_ARRAY_BUFFER),e}static merge(e){const n=new qr,r=[],i=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)i[l]=i[l]||0,i[l]+=o.buffers[l].data.length,s[l]=0}for(let a=0;a<o.buffers.length;a++)r[a]=new ale[Gf(o.buffers[a].data)](i[a]),n.buffers[a]=new nt(r[a]);for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)r[l].set(o.buffers[l].data,s[l]),s[l]+=o.buffers[l].data.length}if(n.attributes=o.attributes,o.indexBuffer){n.indexBuffer=n.buffers[o.buffers.indexOf(o.indexBuffer)],n.indexBuffer.type=nr.ELEMENT_ARRAY_BUFFER;let a=0,l=0,u=0,c=0;for(let h=0;h<o.buffers.length;h++)if(o.buffers[h]!==o.indexBuffer){c=h;break}for(const h in o.attributes){const d=o.attributes[h];(d.buffer|0)===c&&(l+=d.size*IS[d.type]/4)}for(let h=0;h<e.length;h++){const d=e[h].indexBuffer.data;for(let f=0;f<d.length;f++)n.indexBuffer.data[f+u]+=a;a+=e[h].buffers[c].data.length/l,u+=d.length}}return n}}class tb extends qr{constructor(e=!1){super(),this._buffer=new nt(null,e,!1),this._indexBuffer=new nt(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,ae.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,ae.FLOAT).addAttribute("aColor",this._buffer,4,!0,ae.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,ae.FLOAT).addIndex(this._indexBuffer)}}const fu=Math.PI*2,HO=180/Math.PI,GO=Math.PI/180;var gt=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(gt||{});class le{constructor(e=0,n=0){this.x=0,this.y=0,this.x=e,this.y=n}clone(){return new le(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,n=e){return this.x=e,this.y=n,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const Bc=[new le,new le,new le,new le];class me{constructor(e=0,n=0,r=0,i=0){this.x=Number(e),this.y=Number(n),this.width=Number(r),this.height=Number(i),this.type=gt.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new me(0,0,0,0)}clone(){return new me(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,n){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&n>=this.y&&n<this.y+this.height}intersects(e,n){if(!n){const A=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=A)return!1;const M=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>M}const r=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=r||o<=s)return!1;const a=Bc[0].set(e.left,e.top),l=Bc[1].set(e.left,e.bottom),u=Bc[2].set(e.right,e.top),c=Bc[3].set(e.right,e.bottom);if(u.x<=a.x||l.y<=a.y)return!1;const h=Math.sign(n.a*n.d-n.b*n.c);if(h===0||(n.apply(a,a),n.apply(l,l),n.apply(u,u),n.apply(c,c),Math.max(a.x,l.x,u.x,c.x)<=r||Math.min(a.x,l.x,u.x,c.x)>=i||Math.max(a.y,l.y,u.y,c.y)<=s||Math.min(a.y,l.y,u.y,c.y)>=o))return!1;const d=h*(l.y-a.y),f=h*(a.x-l.x),p=d*r+f*s,m=d*i+f*s,v=d*r+f*o,g=d*i+f*o;if(Math.max(p,m,v,g)<=d*a.x+f*a.y||Math.min(p,m,v,g)>=d*c.x+f*c.y)return!1;const b=h*(a.y-u.y),y=h*(u.x-a.x),x=b*r+y*s,S=b*i+y*s,C=b*r+y*o,T=b*i+y*o;return!(Math.max(x,S,C,T)<=b*a.x+y*a.y||Math.min(x,S,C,T)>=b*c.x+y*c.y)}pad(e=0,n=e){return this.x-=e,this.y-=n,this.width+=e*2,this.height+=n*2,this}fit(e){const n=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=n,this.width=Math.max(r-n,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,n=.001){const r=Math.ceil((this.x+this.width-n)*e)/e,i=Math.ceil((this.y+this.height-n)*e)/e;return this.x=Math.floor((this.x+n)*e)/e,this.y=Math.floor((this.y+n)*e)/e,this.width=r-this.x,this.height=i-this.y,this}enlarge(e){const n=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=n,this.width=r-n,this.y=i,this.height=s-i,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class aa{constructor(e=0,n=0,r=0){this.x=e,this.y=n,this.radius=r,this.type=gt.CIRC}clone(){return new aa(this.x,this.y,this.radius)}contains(e,n){if(this.radius<=0)return!1;const r=this.radius*this.radius;let i=this.x-e,s=this.y-n;return i*=i,s*=s,i+s<=r}getBounds(){return new me(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Wf{constructor(e=0,n=0,r=0,i=0){this.x=e,this.y=n,this.width=r,this.height=i,this.type=gt.ELIP}clone(){return new Wf(this.x,this.y,this.width,this.height)}contains(e,n){if(this.width<=0||this.height<=0)return!1;let r=(e-this.x)/this.width,i=(n-this.y)/this.height;return r*=r,i*=i,r+i<=1}getBounds(){return new me(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class fs{constructor(...e){let n=Array.isArray(e[0])?e[0]:e;if(typeof n[0]!="number"){const r=[];for(let i=0,s=n.length;i<s;i++)r.push(n[i].x,n[i].y);n=r}this.points=n,this.type=gt.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),n=new fs(e);return n.closeStroke=this.closeStroke,n}contains(e,n){let r=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],l=this.points[s*2+1],u=this.points[o*2],c=this.points[o*2+1];l>n!=c>n&&e<(u-a)*((n-l)/(c-l))+a&&(r=!r)}return r}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,n)=>`${e}, ${n}`,"")}]`}}class la{constructor(e=0,n=0,r=0,i=0,s=20){this.x=e,this.y=n,this.width=r,this.height=i,this.radius=s,this.type=gt.RREC}clone(){return new la(this.x,this.y,this.width,this.height,this.radius)}contains(e,n){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(n>=this.y+r&&n<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;let i=e-(this.x+r),s=n-(this.y+r);const o=r*r;if(i*i+s*s<=o||(i=e-(this.x+this.width-r),i*i+s*s<=o)||(s=n-(this.y+this.height-r),i*i+s*s<=o)||(i=e-(this.x+r),i*i+s*s<=o))return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}class je{constructor(e=1,n=0,r=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,n,r,i,s,o){return this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=o,this}toArray(e,n){this.array||(this.array=new Float32Array(9));const r=n||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(e,n){n=n||new le;const r=e.x,i=e.y;return n.x=this.a*r+this.c*i+this.tx,n.y=this.b*r+this.d*i+this.ty,n}applyInverse(e,n){n=n||new le;const r=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return n.x=this.d*r*i+-this.c*r*s+(this.ty*this.c-this.tx*this.d)*r,n.y=this.a*r*s+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,n}translate(e,n){return this.tx+=e,this.ty+=n,this}scale(e,n){return this.a*=e,this.d*=n,this.c*=e,this.b*=n,this.tx*=e,this.ty*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*n-this.b*r,this.b=i*r+this.b*n,this.c=s*n-this.d*r,this.d=s*r+this.d*n,this.tx=o*n-this.ty*r,this.ty=o*r+this.ty*n,this}append(e){const n=this.a,r=this.b,i=this.c,s=this.d;return this.a=e.a*n+e.b*i,this.b=e.a*r+e.b*s,this.c=e.c*n+e.d*i,this.d=e.c*r+e.d*s,this.tx=e.tx*n+e.ty*i+this.tx,this.ty=e.tx*r+e.ty*s+this.ty,this}setTransform(e,n,r,i,s,o,a,l,u){return this.a=Math.cos(a+u)*s,this.b=Math.sin(a+u)*s,this.c=-Math.sin(a-l)*o,this.d=Math.cos(a-l)*o,this.tx=e-(r*this.a+i*this.c),this.ty=n-(r*this.b+i*this.d),this}prepend(e){const n=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const r=this.a,i=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=n*e.a+this.ty*e.c+e.tx,this.ty=n*e.b+this.ty*e.d+e.ty,this}decompose(e){const n=this.a,r=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),l=Math.atan2(r,n),u=Math.abs(a+l);return u<1e-5||Math.abs(fu-u)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(n*n+r*r),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*n+o.y*i),e.position.y=this.ty+(o.x*r+o.y*s),e}invert(){const e=this.a,n=this.b,r=this.c,i=this.d,s=this.tx,o=e*i-n*r;return this.a=i/o,this.b=-n/o,this.c=-r/o,this.d=e/o,this.tx=(r*this.ty-i*s)/o,this.ty=-(e*this.ty-n*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new je;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new je}static get TEMP_MATRIX(){return new je}}const Yi=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Ki=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Zi=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Qi=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Hv=[],WO=[],Nc=Math.sign;function lle(){for(let t=0;t<16;t++){const e=[];Hv.push(e);for(let n=0;n<16;n++){const r=Nc(Yi[t]*Yi[n]+Zi[t]*Ki[n]),i=Nc(Ki[t]*Yi[n]+Qi[t]*Ki[n]),s=Nc(Yi[t]*Zi[n]+Zi[t]*Qi[n]),o=Nc(Ki[t]*Zi[n]+Qi[t]*Qi[n]);for(let a=0;a<16;a++)if(Yi[a]===r&&Ki[a]===i&&Zi[a]===s&&Qi[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new je;e.set(Yi[t],Ki[t],Zi[t],Qi[t],0,0),WO.push(e)}}lle();const He={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Yi[t],uY:t=>Ki[t],vX:t=>Zi[t],vY:t=>Qi[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>Hv[t][e],sub:(t,e)=>Hv[t][He.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?He.S:He.N:Math.abs(e)*2<=Math.abs(t)?t>0?He.E:He.W:e>0?t>0?He.SE:He.SW:t>0?He.NE:He.NW,matrixAppendRotationInv:(t,e,n=0,r=0)=>{const i=WO[He.inv(e)];i.tx=n,i.ty=r,t.append(i)}};class Lr{constructor(e,n,r=0,i=0){this._x=r,this._y=i,this.cb=e,this.scope=n}clone(e=this.cb,n=this.scope){return new Lr(e,n,this._x,this._y)}set(e=0,n=e){return(this._x!==e||this._y!==n)&&(this._x=e,this._y=n,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=${0} y=${0} scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}const VO=class{constructor(){this.worldTransform=new je,this.localTransform=new je,this.position=new Lr(this.onChange,this,0,0),this.scale=new Lr(this.onChange,this,1,1),this.pivot=new Lr(this.onChange,this,0,0),this.skew=new Lr(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const n=t.worldTransform,r=this.worldTransform;r.a=e.a*n.a+e.b*n.c,r.b=e.a*n.b+e.b*n.d,r.c=e.c*n.a+e.d*n.c,r.d=e.c*n.b+e.d*n.d,r.tx=e.tx*n.a+e.ty*n.c+n.tx,r.ty=e.tx*n.b+e.ty*n.d+n.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};let qu=VO;qu.IDENTITY=new VO;var ule=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,cle=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function kS(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}function um(t){const e=new Array(t);for(let n=0;n<e.length;n++)e[n]=!1;return e}function XO(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return um(2*e);case"bvec3":return um(3*e);case"bvec4":return um(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const ps=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],hle={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},dle={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function fle(t,e){var r;const n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){(r=t.uniforms[i])!=null&&r.group&&(t.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let a=!1;for(let l=0;l<ps.length;l++)if(ps[l].test(s,o)){n.push(ps[l].code(i,o)),a=!0;break}if(!a){const u=(s.size===1&&!s.isArray?hle:dle)[s.type].replace("location",`ud["${i}"].location`);n.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${u};`)}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}const qO={};let Xs=qO;function YO(){if(Xs===qO||Xs!=null&&Xs.isContextLost()){const t=te.ADAPTER.createCanvas();let e;te.PREFER_ENV>=Li.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Xs=e}return Xs}let Lc;function ple(){if(!Lc){Lc=sn.MEDIUM;const t=YO();t&&t.getShaderPrecisionFormat&&(Lc=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?sn.HIGH:sn.MEDIUM)}return Lc}function RS(t,e){const n=t.getShaderSource(e).split(`
`).map((u,c)=>`${c}: ${u}`),r=t.getShaderInfoLog(e),i=r.split(`
`),s={},o=i.map(u=>parseFloat(u.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(u=>u&&!s[u]?(s[u]=!0,!0):!1),a=[""];o.forEach(u=>{n[u-1]=`%c${n[u-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=n.join(`
`);a[0]=l,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function mle(t,e,n,r){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(n,t.COMPILE_STATUS)||RS(t,n),t.getShaderParameter(r,t.COMPILE_STATUS)||RS(t,r),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const gle={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function KO(t){return gle[t]}let Uc=null;const MS={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function ZO(t,e){if(!Uc){const n=Object.keys(MS);Uc={};for(let r=0;r<n.length;++r){const i=n[r];Uc[t[i]]=MS[i]}}return Uc[e]}function FS(t,e,n){if(t.substring(0,9)!=="precision"){let r=e;return e===sn.HIGH&&n!==sn.HIGH&&(r=sn.MEDIUM),`precision ${r} float;
${t}`}else if(n!==sn.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let Ka;function QO(){if(typeof Ka=="boolean")return Ka;try{Ka=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Ka=!1}return Ka}let vle=0;const jc={},mo=class{constructor(t,e,n="pixi-shader",r={}){this.extra={},this.id=vle++,this.vertexSrc=t||mo.defaultVertexSrc,this.fragmentSrc=e||mo.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=r,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),jc[n]?(jc[n]++,n+=`-${jc[n]}`):jc[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=FS(this.vertexSrc,mo.defaultVertexPrecision,sn.HIGH),this.fragmentSrc=FS(this.fragmentSrc,mo.defaultFragmentPrecision,ple())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return cle}static get defaultFragmentSrc(){return ule}static from(t,e,n){const r=t+e;let i=Uv[r];return i||(Uv[r]=i=new mo(t,e,n)),i}};let On=mo;On.defaultVertexPrecision=sn.HIGH;On.defaultFragmentPrecision=Qn.apple.device?sn.HIGH:sn.MEDIUM;let yle=0;class Rn{constructor(e,n,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=yle++,this.static=!!n,this.ubo=!!r,e instanceof nt?(this.buffer=e,this.buffer.type=nr.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new nt(new Float32Array(1)),this.buffer.type=nr.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,n,r){if(!this.ubo)this.uniforms[e]=new Rn(n,r);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,n,r){return new Rn(e,n,r)}static uboFrom(e,n){return new Rn(e,n??!0,!0)}}class ir{constructor(e,n){this.uniformBindCount=0,this.program=e,n?n instanceof Rn?this.uniformGroup=n:this.uniformGroup=new Rn(n):this.uniformGroup=new Rn({}),this.disposeRunner=new dn("disposeShader")}checkUniformExists(e,n){if(n.uniforms[e])return!0;for(const r in n.uniforms){const i=n.uniforms[r];if(i.group&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,n,r){const i=On.from(e,n);return new ir(i,r)}}class JO{constructor(e,n){if(this.vertexSrc=e,this.fragTemplate=n,this.programCache={},this.defaultGroupCache={},!n.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!n.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const r=new Int32Array(e);for(let s=0;s<e;s++)r[s]=s;this.defaultGroupCache[e]=Rn.from({uSamplers:r},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new On(this.vertexSrc,i)}const n={tint:new Float32Array([1,1,1,1]),translationMatrix:new je,default:this.defaultGroupCache[e]};return new ir(this.programCache[e],n)}generateSampleSrc(e){let n="";n+=`
`,n+=`
`;for(let r=0;r<e;r++)r>0&&(n+=`
else `),r<e-1&&(n+=`if(vTextureId < ${r}.5)`),n+=`
{`,n+=`
	color = texture2D(uSamplers[${r}], vTextureCoord);`,n+=`
}`;return n+=`
`,n+=`
`,n}}class Cd{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function ble(){return!Qn.apple.device}function xle(t){let e=!0;const n=te.ADAPTER.getNavigator();if(Qn.tablet||Qn.phone){if(Qn.apple.device){const r=n.userAgent.match(/OS (\d+)_(\d+)?/);r&&parseInt(r[1],10)<11&&(e=!1)}if(Qn.android.device){const r=n.userAgent.match(/Android\s([0-9.]*)/);r&&parseInt(r[1],10)<7&&(e=!1)}}return e?t:4}class Yu{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var wle=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,_le=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const Gn=class extends Yu{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=tb,this.vertexSize=6,this.state=Or.for2d(),this.size=Gn.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??xle(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??ble(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return be("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return _le}static get defaultFragmentTemplate(){return wle}setShaderGenerator({vertex:t=Gn.defaultVertexSrc,fragment:e=Gn.defaultFragmentTemplate}={}){this.shaderGenerator=new JO(t,e)}contextChange(){const t=this.renderer.gl;te.PREFER_ENV===Li.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Gn.defaultMaxTextures),this.maxTextures=zO(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=Gn,n=this.size/4,r=Math.floor(n/this.maxTextures)+1;for(;t.length<n;)t.push(new Sd);for(;e.length<r;)e.push(new Cd);for(let i=0;i<this.maxTextures;i++)this._tempBoundTextures[i]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,n=Gn._textureArrayPool,r=this.renderer.batch,i=this._tempBoundTextures,s=this.renderer.textureGC.count;let o=++fe._globalBatch,a=0,l=n[0],u=0;r.copyBoundTextures(i,e);for(let c=0;c<this._bufferSize;++c){const h=t[c];t[c]=null,h._batchEnabled!==o&&(l.count>=e&&(r.boundArray(l,i,o,e),this.buildDrawCalls(l,u,c),u=c,l=n[++a],++o),h._batchEnabled=o,h.touched=s,l.elements[l.count++]=h)}l.count>0&&(r.boundArray(l,i,o,e),this.buildDrawCalls(l,u,this._bufferSize),++a,++o);for(let c=0;c<i.length;c++)i[c]=null;fe._globalBatch=o}buildDrawCalls(t,e,n){const{_bufferedElements:r,_attributeBuffer:i,_indexBuffer:s,vertexSize:o}=this,a=Gn._drawCallPool;let l=this._dcIndex,u=this._aIndex,c=this._iIndex,h=a[l];h.start=this._iIndex,h.texArray=t;for(let d=e;d<n;++d){const f=r[d],p=f._texture.baseTexture,m=Z1[p.alphaMode?1:0][f.blendMode];r[d]=null,e<d&&h.blend!==m&&(h.size=c-h.start,e=d,h=a[++l],h.texArray=t,h.start=c),this.packInterleavedGeometry(f,i,s,u,c),u+=f.vertexData.length/2*o,c+=f.indices.length,h.blend=m}e<n&&(h.size=c-h.start,++l),this._dcIndex=l,this._aIndex=u,this._iIndex=c}bindAndClearTexArray(t){const e=this.renderer.texture;for(let n=0;n<t.count;n++)e.bind(t.elements[n],t.ids[n]),t.elements[n]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:n}=this;Gn.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:n}=this.renderer,r=Gn._drawCallPool;let i=null;for(let s=0;s<t;s++){const{texArray:o,type:a,size:l,start:u,blend:c}=r[s];i!==o&&(i=o,this.bindAndClearTexArray(o)),this.state.blendMode=c,n.set(this.state),e.drawElements(a,l,e.UNSIGNED_SHORT,u*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Gn.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=hu(Math.ceil(t/8)),n=Lv(e),r=e*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let i=this._aBuffers[r];return i||(this._aBuffers[r]=i=new _d(r*this.vertexSize*4)),i}getIndexBuffer(t){const e=hu(Math.ceil(t/12)),n=Lv(e),r=e*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let i=this._iBuffers[n];return i||(this._iBuffers[n]=i=new Uint16Array(r)),i}packInterleavedGeometry(t,e,n,r,i){const{uint32View:s,float32View:o}=e,a=r/this.vertexSize,l=t.uvs,u=t.indices,c=t.vertexData,h=t._texture.baseTexture._batchLocation,d=Math.min(t.worldAlpha,1),f=d<1&&t._texture.baseTexture.alphaMode?Hf(t._tintRGB,d):t._tintRGB+(d*255<<24);for(let p=0;p<c.length;p+=2)o[r++]=c[p],o[r++]=c[p+1],o[r++]=l[p],o[r++]=l[p+1],s[r++]=f,o[r++]=h;for(let p=0;p<u.length;p++)n[i++]=a+u[p]}};let Sn=Gn;Sn.defaultBatchSize=4096;Sn.extension={name:"batch",type:J.RendererPlugin};Sn._drawCallPool=[];Sn._textureArrayPool=[];se.add(Sn);var Ele=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,Sle=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const dl=class extends ir{constructor(t,e,n){const r=On.from(t||dl.defaultVertexSrc,e||dl.defaultFragmentSrc);super(r,n),this.padding=0,this.resolution=dl.defaultResolution,this.multisample=dl.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Or}apply(t,e,n,r,i){t.applyFilter(this,e,n,r)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return Sle}static get defaultFragmentSrc(){return Ele}};let vt=dl;vt.defaultResolution=1;vt.defaultMultisample=qe.NONE;class nb{constructor(){this.clearBeforeRender=!0,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,1],this._backgroundColorString="#000000",this.color=this._backgroundColor,this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender,e.color&&(this.color=typeof e.color=="string"?zf(e.color):e.color),this.alpha=e.alpha}get color(){return this._backgroundColor}set color(e){this._backgroundColor=e,this._backgroundColorString=K1(e),Ss(e,this._backgroundColorRgba)}get alpha(){return this._backgroundColorRgba[3]}set alpha(e){this._backgroundColorRgba[3]=e}get colorRgba(){return this._backgroundColorRgba}get colorString(){return this._backgroundColorString}destroy(){}}nb.extension={type:[J.RendererSystem,J.CanvasRendererSystem],name:"background"};se.add(nb);class rb{constructor(e){this.renderer=e,this.emptyRenderer=new Yu(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,n){const{boundTextures:r}=this.renderer.texture;for(let i=n-1;i>=0;--i)e[i]=r[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,n,r,i){const{elements:s,ids:o,count:a}=e;let l=0;for(let u=0;u<a;u++){const c=s[u],h=c._batchLocation;if(h>=0&&h<i&&n[h]===c){o[u]=h;continue}for(;l<i;){const d=n[l];if(d&&d._batchEnabled===r&&d._batchLocation===l){l++;continue}o[u]=l,c._batchLocation=l,n[l]=c;break}}}destroy(){this.renderer=null}}rb.extension={type:J.RendererSystem,name:"batch"};se.add(rb);let DS=0;class ib{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=DS++}init(e){if(e.context)this.initFromContext(e.context);else{const n=this.renderer.background.alpha<1,r=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:n,premultipliedAlpha:r,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=DS++,this.renderer.runners.contextChange.emit(e);const n=this.renderer.view;n.addEventListener!==void 0&&(n.addEventListener("webglcontextlost",this.handleContextLost,!1),n.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const n=this.createContext(this.renderer.view,e);this.initFromContext(n)}createContext(e,n){let r;if(te.PREFER_ENV>=Li.WEBGL2&&(r=e.getContext("webgl2",n)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=e.getContext("webgl",n)||e.getContext("experimental-webgl",n),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,n={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,n,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,n,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const n=e.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),n&&!n.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}ib.extension={type:J.RendererSystem,name:"context"};se.add(ib);class Cle extends Oa{upload(e,n,r){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Bn.UNPACK);const s=n.realWidth,o=n.realHeight;return r.width===s&&r.height===o?i.texSubImage2D(n.target,0,0,0,s,o,n.format,r.type,this.data):(r.width=s,r.height=o,i.texImage2D(n.target,0,r.internalFormat,s,o,0,n.format,r.type,this.data)),!0}}class Td{constructor(e,n){this.width=Math.round(e||100),this.height=Math.round(n||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new dn("disposeFramebuffer"),this.multisample=qe.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,n){return this.colorTextures[e]=n||new fe(null,{scaleMode:wr.NEAREST,resolution:1,mipmap:ar.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new fe(new Cle(null,{width:this.width,height:this.height}),{scaleMode:wr.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:ar.OFF,format:Y.DEPTH_COMPONENT,type:ae.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,n){if(e=Math.round(e),n=Math.round(n),!(e===this.width&&n===this.height)){this.width=e,this.height=n,this.dirtyId++,this.dirtySize++;for(let r=0;r<this.colorTextures.length;r++){const i=this.colorTextures[r],s=i.resolution;i.setSize(e/s,n/s)}if(this.depthTexture){const r=this.depthTexture.resolution;this.depthTexture.setSize(e/r,n/r)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class sb extends fe{constructor(e={}){if(typeof e=="number"){const n=arguments[0],r=arguments[1],i=arguments[2],s=arguments[3];e={width:n,height:r,scaleMode:i,resolution:s}}e.width=e.width||100,e.height=e.height||100,e.multisample??(e.multisample=qe.NONE),super(null,e),this.mipmap=ar.OFF,this.valid=!0,this.clearColor=[0,0,0,0],this.framebuffer=new Td(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}resize(e,n){this.framebuffer.resize(e*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Yr extends oa{constructor(e){const n=e,r=n.naturalWidth||n.videoWidth||n.width,i=n.naturalHeight||n.videoHeight||n.height;super(r,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,n,r){r===void 0&&!n.startsWith("data:")?e.crossOrigin=jO(n):r!==!1&&(e.crossOrigin=typeof r=="string"?r:"anonymous")}upload(e,n,r,i){const s=e.gl,o=n.realWidth,a=n.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1&&i.buffered.length===0)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Bn.UNPACK),!this.noSubImage&&n.target===s.TEXTURE_2D&&r.width===o&&r.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,n.format,r.type,i):(r.width=o,r.height=a,s.texImage2D(n.target,0,r.internalFormat,n.format,r.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,n=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(n,r),super.update()}dispose(){this.source=null}}class ob extends Yr{constructor(e,n){if(n=n||{},typeof e=="string"){const r=new Image;Yr.crossOrigin(r,e,n.crossorigin),r.src=e,e=r}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(n.createBitmap??te.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,this.bitmap=null,this._load=null,n.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((n,r)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.resize(i.width,i.height),this._load=null,this.createBitmap?n(this.process()):n(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{r(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const n=globalThis.createImageBitmap,r=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:r?"cors":"no-cors"}).then(i=>i.blob()).then(i=>n(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Bn.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,n,r){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,n,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,n,r,this.bitmap),!this.preserveBitmap){let i=!0;const s=n._glTextures;for(const o in s){const a=s[o];if(a!==r&&a.dirtyId!==n.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class ab{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,n,r){const i=n.width,s=n.height;if(r){const o=e.width/2/i,a=e.height/2/s,l=e.x/i+o,u=e.y/s+a;r=He.add(r,He.NW),this.x0=l+o*He.uX(r),this.y0=u+a*He.uY(r),r=He.add(r,2),this.x1=l+o*He.uX(r),this.y1=u+a*He.uY(r),r=He.add(r,2),this.x2=l+o*He.uX(r),this.y2=u+a*He.uY(r),r=He.add(r,2),this.x3=l+o*He.uX(r),this.y3=u+a*He.uY(r)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const $S=new ab;function zc(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class ee extends Pi{constructor(e,n,r,i,s,o){if(super(),this.noFrame=!1,n||(this.noFrame=!0,n=new me(0,0,1,1)),e instanceof ee&&(e=e.baseTexture),this.baseTexture=e,this._frame=n,this.trim=i,this.valid=!1,this._uvs=$S,this.uvMatrix=null,this.orig=r||n,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new le(o.x,o.y):new le(0,0),this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=n:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:n}=this.baseTexture;n!=null&&n.url&&Mt[n.url]&&ee.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,ee.removeFromCache(this),this.textureCacheIds=null}clone(){var i;const e=this._frame.clone(),n=this._frame===this.orig?e:this.orig.clone(),r=new ee(this.baseTexture,!this.noFrame&&e,n,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(r._frame=e),r}updateUvs(){this._uvs===$S&&(this._uvs=new ab),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,n={},r=te.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof fe){if(!e.cacheId){const a=(n==null?void 0:n.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${Oi()}`,fe.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(n==null?void 0:n.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${Oi()}`}s=e._pixiId}let o=Mt[s];if(i&&r&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof fe)?(n.resolution||(n.resolution=Xr(e)),o=new ee(new fe(e,n)),o.baseTexture.cacheId=s,fe.addToCache(o.baseTexture,s),ee.addToCache(o,s)):!o&&e instanceof fe&&(o=new ee(e),ee.addToCache(o,s)),o}static fromURL(e,n){const r=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),i=ee.from(e,Object.assign({resourceOptions:r},n),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,n,r,i){return new ee(fe.fromBuffer(e,n,r,i))}static fromLoader(e,n,r,i){const s=new fe(e,Object.assign({scaleMode:fe.defaultOptions.scaleMode,resolution:Xr(n)},i)),{resource:o}=s;o instanceof ob&&(o.url=n);const a=new ee(s);return r||(r=n),fe.addToCache(a.baseTexture,r),ee.addToCache(a,r),r!==n&&(fe.addToCache(a.baseTexture,n),ee.addToCache(a,n)),a.baseTexture.valid?Promise.resolve(a):new Promise(l=>{a.baseTexture.once("loaded",()=>l(a))})}static addToCache(e,n){n&&(e.textureCacheIds.includes(n)||e.textureCacheIds.push(n),Mt[n]&&Mt[n]!==e&&console.warn(`Texture added to the cache with an id [${n}] that already had an entry`),Mt[n]=e)}static removeFromCache(e){if(typeof e=="string"){const n=Mt[e];if(n){const r=n.textureCacheIds.indexOf(e);return r>-1&&n.textureCacheIds.splice(r,1),delete Mt[e],n}}else if(e!=null&&e.textureCacheIds){for(let n=0;n<e.textureCacheIds.length;++n)Mt[e.textureCacheIds[n]]===e&&delete Mt[e.textureCacheIds[n]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:n,y:r,width:i,height:s}=e,o=n+i>this.baseTexture.width,a=r+s>this.baseTexture.height;if(o||a){const l=o&&a?"and":"or",u=`X: ${n} + ${i} = ${n+i} > ${this.baseTexture.width}`,c=`Y: ${r} + ${s} = ${r+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${u} ${l} ${c}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return ee._EMPTY||(ee._EMPTY=new ee(new fe),zc(ee._EMPTY),zc(ee._EMPTY.baseTexture)),ee._EMPTY}static get WHITE(){if(!ee._WHITE){const e=te.ADAPTER.createCanvas(16,16),n=e.getContext("2d");e.width=16,e.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),ee._WHITE=new ee(fe.from(e)),zc(ee._WHITE),zc(ee._WHITE.baseTexture)}return ee._WHITE}}class Kr extends ee{constructor(e,n){super(e,n),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,n,r=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(n*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,r&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:n}=this;n.resolution!==e&&(n.setResolution(e),this.resize(n.width,n.height,!1))}static create(e){return new Kr(new sb(e))}}class lb{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,n,r=qe.NONE){const i=new sb(Object.assign({width:e,height:n,resolution:1,multisample:r},this.textureOptions));return new Kr(i)}getOptimalTexture(e,n,r=1,i=qe.NONE){let s;e=Math.ceil(e*r-1e-6),n=Math.ceil(n*r-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||n!==this._pixelsHeight?(e=hu(e),n=hu(n),s=((e&65535)<<16|n&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,n,i)),o.filterPoolKey=s,o.setResolution(r),o}getFilterTexture(e,n,r){const i=this.getOptimalTexture(e.width,e.height,n||e.resolution,r||qe.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const n=e.filterPoolKey;e.filterFrame=null,this.texturePool[n].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const n in this.texturePool){const r=this.texturePool[n];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const n in this.texturePool){if(!(Number(n)<0))continue;const r=this.texturePool[n];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[n]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}lb.SCREEN_KEY=-1;class eI extends qr{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class ub extends qr{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new nt(this.vertices),this.uvBuffer=new nt(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,n){let r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+n.width/e.width,this.uvs[3]=i,this.uvs[4]=r+n.width/e.width,this.uvs[5]=i+n.height/e.height,this.uvs[6]=r,this.uvs[7]=i+n.height/e.height,r=n.x,i=n.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+n.width,this.vertices[3]=i,this.vertices[4]=r+n.width,this.vertices[5]=i+n.height,this.vertices[6]=r,this.vertices[7]=i+n.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class tI{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=qe.NONE,this.sourceFrame=new me,this.destinationFrame=new me,this.bindingSourceFrame=new me,this.bindingDestinationFrame=new me,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Hc=[new le,new le,new le,new le],cm=new je;class cb{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new lb,this.statePool=[],this.quad=new eI,this.quadUv=new ub,this.tempRect=new me,this.activeState={},this.globalUniforms=new Rn({outputFrame:new me,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,n){const r=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new tI,o=this.renderer.renderTexture;let a=n[0].resolution,l=n[0].multisample,u=n[0].padding,c=n[0].autoFit,h=n[0].legacy??!0;for(let p=1;p<n.length;p++){const m=n[p];a=Math.min(a,m.resolution),l=Math.min(l,m.multisample),u=this.useMaxPadding?Math.max(u,m.padding):u+m.padding,c=c&&m.autoFit,h=h||(m.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=a,s.multisample=l,s.legacy=h,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(u);const d=this.tempRect.copyFrom(o.sourceFrame);r.projection.transform&&this.transformAABB(cm.copyFrom(r.projection.transform).invert(),d),c?(s.sourceFrame.fit(d),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(d)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:r.resolution,o.sourceFrame,o.destinationFrame,r.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,a,l),s.filters=n,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const f=this.tempRect;f.x=0,f.y=0,f.width=s.sourceFrame.width,f.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=r.projection.transform,r.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,f),r.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,n=e.pop(),r=n.filters;this.activeState=n;const i=this.globalUniforms.uniforms;i.outputFrame=n.sourceFrame,i.resolution=n.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=n.destinationFrame.width,s[1]=n.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*n.resolution),o[1]=Math.round(s[1]*n.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=n.sourceFrame.width*s[2]-.5*o[2],a[3]=n.sourceFrame.height*s[3]-.5*o[3],n.legacy){const u=i.filterArea;u[0]=n.destinationFrame.width,u[1]=n.destinationFrame.height,u[2]=n.sourceFrame.x,u[3]=n.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const l=e[e.length-1];if(this.renderer.framebuffer.blit(),r.length===1)r[0].apply(this,n.renderTexture,l.renderTexture,Yn.BLEND,n),this.returnFilterTexture(n.renderTexture);else{let u=n.renderTexture,c=this.getOptimalFilterTexture(u.width,u.height,n.resolution);c.filterFrame=u.filterFrame;let h=0;for(h=0;h<r.length-1;++h){h===1&&n.multisample>1&&(c=this.getOptimalFilterTexture(u.width,u.height,n.resolution),c.filterFrame=u.filterFrame),r[h].apply(this,u,c,Yn.CLEAR,n);const d=u;u=c,c=d}r[h].apply(this,u,l.renderTexture,Yn.BLEND,n),h>1&&n.multisample>1&&this.returnFilterTexture(n.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(c)}n.clear(),this.statePool.push(n)}bindAndClear(e,n=Yn.CLEAR){const{renderTexture:r,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e!=null&&e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,r.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(n===Yn.CLEAR||n===Yn.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,n,r,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(r,i),e.uniforms.uSampler=n,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(n._frame,n.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(Zn.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(Zn.TRIANGLE_STRIP))}calculateSpriteMatrix(e,n){const{sourceFrame:r,destinationFrame:i}=this.activeState,{orig:s}=n._texture,o=e.set(i.width,0,0,i.height,r.x,r.y),a=n.worldTransform.copyTo(je.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(n.anchor.x,n.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,n,r=1,i=qe.NONE){return this.texturePool.getOptimalTexture(e,n,r,i)}getFilterTexture(e,n,r){if(typeof e=="number"){const s=e;e=n,n=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,n||e.resolution,r||qe.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,n){const r=Hc[0],i=Hc[1],s=Hc[2],o=Hc[3];r.set(n.left,n.top),i.set(n.left,n.bottom),s.set(n.right,n.top),o.set(n.right,n.bottom),e.apply(r,r),e.apply(i,i),e.apply(s,s),e.apply(o,o);const a=Math.min(r.x,i.x,s.x,o.x),l=Math.min(r.y,i.y,s.y,o.y),u=Math.max(r.x,i.x,s.x,o.x),c=Math.max(r.y,i.y,s.y,o.y);n.x=a,n.y=l,n.width=u-a,n.height=c-l}roundFrame(e,n,r,i,s){if(!(e.width<=0||e.height<=0||r.width<=0||r.height<=0)){if(s){const{a:o,b:a,c:l,d:u}=s;if((Math.abs(a)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(u)>1e-4))return}s=s?cm.copyFrom(s):cm.identity(),s.translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(n),this.transformAABB(s.invert(),e)}}}cb.extension={type:J.RendererSystem,name:"filter"};se.add(cb);class nI{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=qe.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const Tle=new me;class hb{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new Td(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new me,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let n=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;te.PREFER_ENV===Li.WEBGL_LEGACY&&(n=null,r=null),n?e.drawBuffers=i=>n.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,n,r=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==r&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=r),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,r)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),n){const o=n.width>>r,a=n.height>>r,l=o/n.width;this.setViewport(n.x*l,n.y*l,o,a)}else{const o=e.width>>r,a=e.height>>r;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),n?this.setViewport(n.x,n.y,n.width,n.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,n,r,i){const s=this.viewport;e=Math.round(e),n=Math.round(n),r=Math.round(r),i=Math.round(i),(s.width!==r||s.height!==i||s.x!==e||s.y!==n)&&(s.x=e,s.y=n,s.width=r,s.height=i,this.gl.viewport(e,n,r,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,n,r,i,s=yd.COLOR|yd.DEPTH){const{gl:o}=this;o.clearColor(e,n,r,i),o.clear(s)}initFramebuffer(e){const{gl:n}=this,r=new nI(n.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r}resizeFramebuffer(e){const{gl:n}=this,r=e.glFramebuffers[this.CONTEXT_UID];r.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,r.stencil),r.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height));const i=e.colorTextures;let s=i.length;n.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],l=a.parentTextureArray||a;this.renderer.texture.bind(l,0),o===0&&r.msaaBuffer&&(n.bindRenderbuffer(n.RENDERBUFFER,r.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,n){const{gl:r}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;r.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||r.createRenderbuffer():i.msaaBuffer&&(r.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let l=0;l<o;l++){const u=s[l],c=u.parentTextureArray||u;this.renderer.texture.bind(c,0),l===0&&i.msaaBuffer?(r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,i.msaaBuffer)):(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+l,u.target,c._glTextures[this.CONTEXT_UID].texture,n),a.push(r.COLOR_ATTACHMENT0+l))}if(a.length>1&&r.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const u=e.depthTexture;this.renderer.texture.bind(u,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,u._glTextures[this.CONTEXT_UID].texture,n)}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.stencil),i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,i.stencil)):i.stencil&&(r.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:n}=this;let r=qe.NONE;if(e<=1||n===null)return r;for(let i=0;i<n.length;i++)if(n[i]<=e){r=n[i];break}return r===1&&(r=qe.NONE),r}blit(e,n,r){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const l=i.glFramebuffers[a];if(!l)return;if(!e){if(!l.msaaBuffer)return;const c=i.colorTextures[0];if(!c)return;l.blitFramebuffer||(l.blitFramebuffer=new Td(i.width,i.height),l.blitFramebuffer.addColorTexture(0,c)),e=l.blitFramebuffer,e.colorTextures[0]!==c&&(e.colorTextures[0]=c,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}n||(n=Tle,n.width=i.width,n.height=i.height),r||(r=n);const u=n.width===r.width&&n.height===r.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,l.framebuffer),o.blitFramebuffer(n.left,n.top,n.right,n.bottom,r.left,r.top,r.right,r.bottom,o.COLOR_BUFFER_BIT,u?o.NEAREST:o.LINEAR)}disposeFramebuffer(e,n){const r=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!r)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),n||(i.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&i.deleteRenderbuffer(r.msaaBuffer),r.stencil&&i.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&r.blitFramebuffer.dispose()}disposeAll(e){const n=this.managedFramebuffers;this.managedFramebuffers=[];for(let r=0;r<n.length;r++)this.disposeFramebuffer(n[r],e)}forceStencil(){const e=this.current;if(!e)return;const n=e.glFramebuffers[this.CONTEXT_UID];if(!n||n.stencil)return;e.stencil=!0;const r=e.width,i=e.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),n.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,n.multisample,s.DEPTH24_STENCIL8,r,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,r,i),n.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new me}destroy(){this.renderer=null}}hb.extension={type:J.RendererSystem,name:"framebuffer"};se.add(hb);const hm={5126:4,5123:2,5121:1};class db{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,n=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,n.webGLVersion!==2){let r=this.renderer.context.extensions.vertexArrayObject;te.PREFER_ENV===Li.WEBGL_LEGACY&&(r=null),r?(e.createVertexArray=()=>r.createVertexArrayOES(),e.bindVertexArray=i=>r.bindVertexArrayOES(i),e.deleteVertexArray=i=>r.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(n.webGLVersion!==2){const r=e.getExtension("ANGLE_instanced_arrays");r?(e.vertexAttribDivisor=(i,s)=>r.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,a,l)=>r.drawElementsInstancedANGLE(i,s,o,a,l),e.drawArraysInstanced=(i,s,o,a)=>r.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=n.webGLVersion===2||!!n.extensions.uint32ElementIndex}bind(e,n){n=n||this.renderer.shader.shader;const{gl:r}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[n.program.id]||this.initGeometryVao(e,n,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?r.bindVertexArray(o):this.activateVao(e,n.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,n=this.renderer.buffer;for(let r=0;r<e.buffers.length;r++){const i=e.buffers[r];n.update(i)}}checkCompatibility(e,n){const r=e.attributes,i=n.attributeData;for(const s in i)if(!r[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,n){const r=e.attributes,i=n.attributeData,s=["g",e.id];for(const o in r)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,n,r=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=n.program;a.glPrograms[s]||this.renderer.shader.generateProgram(n),this.checkCompatibility(e,a);const l=this.getSignature(e,a),u=e.glVertexArrayObjects[this.CONTEXT_UID];let c=u[l];if(c)return u[a.id]=c,c;const h=e.buffers,d=e.attributes,f={},p={};for(const m in h)f[m]=0,p[m]=0;for(const m in d)!d[m].size&&a.attributeData[m]?d[m].size=a.attributeData[m].size:d[m].size||console.warn(`PIXI Geometry attribute '${m}' size cannot be determined (likely the bound shader does not have the attribute)`),f[d[m].buffer]+=d[m].size*hm[d[m].type];for(const m in d){const v=d[m],g=v.size;v.stride===void 0&&(f[v.buffer]===g*hm[v.type]?v.stride=0:v.stride=f[v.buffer]),v.start===void 0&&(v.start=p[v.buffer],p[v.buffer]+=g*hm[v.type])}c=i.createVertexArray(),i.bindVertexArray(c);for(let m=0;m<h.length;m++){const v=h[m];o.bind(v),r&&v._glBuffers[s].refCount++}return this.activateVao(e,a),u[a.id]=c,u[l]=c,i.bindVertexArray(null),o.unbind(nr.ARRAY_BUFFER),c}disposeGeometry(e,n){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const r=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!r){if(o)for(let l=0;l<s.length;l++){const u=s[l]._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,u.refCount===0&&!n&&o.dispose(s[l],n))}if(!n){for(const l in r)if(l[0]==="g"){const u=r[l];this._activeVao===u&&this.unbind(),i.deleteVertexArray(u)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const n=Object.keys(this.managedGeometries);for(let r=0;r<n.length;r++)this.disposeGeometry(this.managedGeometries[n[r]],e)}activateVao(e,n){const r=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let l=null;for(const u in a){const c=a[u],h=o[c.buffer],d=h._glBuffers[i];if(n.attributeData[u]){l!==d&&(s.bind(h),l=d);const f=n.attributeData[u].location;if(r.enableVertexAttribArray(f),r.vertexAttribPointer(f,c.size,c.type||r.FLOAT,c.normalized,c.stride,c.start),c.instance)if(this.hasInstance)r.vertexAttribDivisor(f,c.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,n,r,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,l=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,n||o.indexBuffer.data.length,l,(r||0)*a,i||1):s.drawElements(e,n||o.indexBuffer.data.length,l,(r||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,r,n||o.getSize(),i||1):s.drawArrays(e,r,n||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}db.extension={type:J.RendererSystem,name:"geometry"};se.add(db);const BS=new je;class Vf{constructor(e,n){this._texture=e,this.mapCoord=new je,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof n>"u"?.5:n,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,n){n===void 0&&(n=e);const r=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];n[i]=s*r.a+o*r.c+r.tx,n[i+1]=s*r.b+o*r.d+r.ty}return n}update(e){const n=this._texture;if(!n||!n.valid||!e&&this._textureID===n._updateID)return!1;this._textureID=n._updateID,this._updateID++;const r=n._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const i=n.orig,s=n.trim;s&&(BS.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(BS));const o=n.baseTexture,a=this.uClampFrame,l=this.clampMargin/o.resolution,u=this.clampOffset;return a[0]=(n._frame.x+l+u)/o.width,a[1]=(n._frame.y+l+u)/o.height,a[2]=(n._frame.x+n._frame.width-l+u)/o.width,a[3]=(n._frame.y+n._frame.height-l+u)/o.height,this.uClampOffset[0]=u/o.realWidth,this.uClampOffset[1]=u/o.realHeight,this.isSimple=n._frame.width===o.width&&n._frame.height===o.height&&n.rotate===0,!0}}var Ale=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,Ple=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class rI extends vt{constructor(e,n,r){let i=null;typeof e!="string"&&n===void 0&&r===void 0&&(i=e,e=void 0,n=void 0,r=void 0),super(e||Ple,n||Ale,r),this.maskSprite=i,this.maskMatrix=new je}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,n,r,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Vf(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,n,r,i))}}class iI{constructor(e=null){this.type=at.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=vt.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=at.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class fb{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,n){let r=n;if(!r.isMaskData){const s=this.maskDataPool.pop()||new iI;s.pooled=!0,s.maskObject=n,r=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(i),r._colorMask=i?i._colorMask:15,r.autoDetect&&this.detect(r),r._target=e,r.type!==at.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case at.SCISSOR:this.renderer.scissor.push(r);break;case at.STENCIL:this.renderer.stencil.push(r);break;case at.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case at.COLOR:this.pushColorMask(r);break}r.type===at.SPRITE&&this.maskStack.push(r)}pop(e){const n=this.maskStack.pop();if(!(!n||n._target!==e)){if(n.enabled)switch(n.type){case at.SCISSOR:this.renderer.scissor.pop(n);break;case at.STENCIL:this.renderer.stencil.pop(n.maskObject);break;case at.SPRITE:this.popSpriteMask(n);break;case at.COLOR:this.popColorMask(n);break}if(n.reset(),n.pooled&&this.maskDataPool.push(n),this.maskStack.length!==0){const r=this.maskStack[this.maskStack.length-1];r.type===at.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}}detect(e){const n=e.maskObject;n?n.isSprite?e.type=at.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=at.SCISSOR:e.type=at.STENCIL:e.type=at.COLOR}pushSpriteMask(e){const{maskObject:n}=e,r=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new rI]));const s=this.renderer,o=s.renderTexture;let a,l;if(o.current){const c=o.current;a=e.resolution||c.resolution,l=e.multisample??c.multisample}else a=e.resolution||s.resolution,l=e.multisample??s.multisample;i[0].resolution=a,i[0].multisample=l,i[0].maskSprite=n;const u=r.filterArea;r.filterArea=n.getBounds(!0),s.filter.push(r,i),r.filterArea=u,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const n=e._colorMask,r=e._colorMask=n&e.colorMask;r!==n&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}popColorMask(e){const n=e._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==n&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}destroy(){this.renderer=null}}fb.extension={type:J.RendererSystem,name:"mask"};se.add(fb);class sI{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:n}=this.renderer,r=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==r&&(i===0?n.disable(this.glConst):(n.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const NS=new je,LS=[],xh=class extends sI{constructor(t){super(t),this.glConst=te.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:n}=t,{renderer:r}=this,i=r.renderTexture,s=n.getBounds(!0,LS.pop()??new me);this.roundFrameToPixels(s,i.current?i.current.resolution:r.resolution,i.sourceFrame,i.destinationFrame,r.projection.transform),e&&s.fit(e),t._scissorRectLocal=s}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:n,c:r,d:i}=t;return(Math.abs(n)>1e-4||Math.abs(r)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||xh.isMatrixRotated(e.worldTransform)||xh.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const n=t._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(t,e,n,r,i){xh.isMatrixRotated(i)||(i=i?NS.copyFrom(i):NS.identity(),i.translate(-n.x,-n.y).scale(r.width/n.width,r.height/n.height).translate(r.x,r.y),this.renderer.filter.transformAABB(i,t),t.fit(r),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&LS.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};let pb=xh;pb.extension={type:J.RendererSystem,name:"scissor"};se.add(pb);class mb extends sI{constructor(e){super(e),this.glConst=te.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const n=e.maskObject,{gl:r}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,i,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,s!==0&&(e._colorMask=s,r.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const n=this.renderer.gl;if(this.getStackLength()===0)n.disable(n.STENCIL_TEST);else{const r=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=r?r._colorMask:15;i!==0&&(r._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilOp(n.KEEP,n.KEEP,n.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(r._colorMask=i,n.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}mb.extension={type:J.RendererSystem,name:"stencil"};se.add(mb);class gb{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return be("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return be("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return be("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(e){for(const n in e)this.plugins[n]=new e[n](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}gb.extension={type:[J.RendererSystem,J.CanvasRendererSystem],name:"_plugin"};se.add(gb);class vb{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new je,this.transform=null}update(e,n,r,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=n||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,n,r,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/n.width*2,s.d=o*(1/n.height*2),s.tx=-1-n.x*s.a,s.ty=-o-n.y*s.d}setTransform(e){}destroy(){this.renderer=null}}vb.extension={type:J.RendererSystem,name:"projection"};se.add(vb);const Ole=new qu;class yb{constructor(e){this.renderer=e,this._tempMatrix=new je}generateTexture(e,n){const{region:r,...i}=n||{},s=r||e.getLocalBounds(null,!0);s.width===0&&(s.width=1),s.height===0&&(s.height=1);const o=Kr.create({width:s.width,height:s.height,...i});this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const a=e.transform;return e.transform=Ole,this.renderer.render(e,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=a,o}destroy(){}}yb.extension={type:[J.RendererSystem,J.CanvasRendererSystem],name:"textureGenerator"};se.add(yb);const Hi=new me,Za=new me;class bb{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new me,this.destinationFrame=new me,this.viewportFrame=new me}bind(e=null,n,r){const i=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,n||(Hi.width=e.frame.width,Hi.height=e.frame.height,n=Hi),r||(Za.x=e.frame.x,Za.y=e.frame.y,Za.width=n.width,Za.height=n.height,r=Za),o=s.framebuffer):(a=i.resolution,n||(Hi.width=i._view.screen.width,Hi.height=i._view.screen.height,n=Hi),r||(r=Hi,r.width=n.width,r.height=n.height));const l=this.viewportFrame;l.x=r.x*a,l.y=r.y*a,l.width=r.width*a,l.height=r.height*a,e||(l.y=i.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(o,l),this.renderer.projection.update(r,n,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(n),this.destinationFrame.copyFrom(r)}clear(e,n){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.renderer.background.colorRgba;const r=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer._view.screen,s=r.width!==i.width||r.height!==i.height;if(s){let{x:o,y:a,width:l,height:u}=this.viewportFrame;o=Math.round(o),a=Math.round(a),l=Math.round(l),u=Math.round(u),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(o,a,l,u)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],n),s&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}bb.extension={type:J.RendererSystem,name:"renderTexture"};se.add(bb);class Ile{}class oI{constructor(e,n){this.program=e,this.uniformData=n,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function kle(t,e){const n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=ZO(e,s.type),a={type:o,name:s.name,size:KO(o),location:e.getAttribLocation(t,s.name)};n[s.name]=a}return n}function Rle(t,e){const n={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),l=ZO(e,s.type);n[o]={name:o,index:i,type:l,size:s.size,isArray:a,value:XO(l,s.size)}}return n}function aI(t,e){var l;const n=kS(t,t.VERTEX_SHADER,e.vertexSrc),r=kS(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,n),t.attachShader(i,r);const s=(l=e.extra)==null?void 0:l.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||mle(t,i,n,r),e.attributeData=kle(i,t),e.uniformData=Rle(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const u=Object.keys(e.attributeData);u.sort((c,h)=>c>h?1:-1);for(let c=0;c<u.length;c++)e.attributeData[u[c]].location=c,t.bindAttribLocation(i,c,u[c]);t.linkProgram(i)}t.deleteShader(n),t.deleteShader(r);const o={};for(const u in e.uniformData){const c=e.uniformData[u];o[u]={location:t.getUniformLocation(i,u),value:XO(c.type,c.size)}}return new oI(i,o)}function Mle(t,e,n,r,i){n.buffer.update(i)}const Fle={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},lI={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function uI(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let n=0,r=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(n=lI[o.data.type],o.data.size>1&&(n=Math.max(n,16)*o.data.size),o.dataLen=n,r%n!==0&&r<16){const a=r%n%16;r+=a,i+=a}r+n>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=n,r=n):(o.offset=i,r+=n,i+=n)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function cI(t,e){const n=[];for(const r in t)e[r]&&n.push(e[r]);return n.sort((r,i)=>r.index-i.index),n}function hI(t,e){if(!t.autoManage)return{size:0,syncFunc:Mle};const n=cI(t.uniforms,e),{uboElements:r,size:i}=uI(n),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<r.length;o++){const a=r[o],l=t.uniforms[a.data.name],u=a.data.name;let c=!1;for(let h=0;h<ps.length;h++){const d=ps[h];if(d.codeUbo&&d.test(a.data,l)){s.push(`offset = ${a.offset/4};`,ps[h].codeUbo(a.data.name,l)),c=!0;break}}if(!c)if(a.data.size>1){const h=KO(a.data.type),d=Math.max(lI[a.data.type]/16,1),f=h/d,p=(4-f%4)%4;s.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*d}; i++)
                {
                    for(var j = 0; j < ${f}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${p};
                }

                `)}else{const h=Fle[a.data.type];s.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${a.offset/4};
                ${h};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let Dle=0;const Gc={textureCount:0,uboCount:0};class xb{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Dle++}systemCheck(){if(!QO())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,n){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const r=e.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),n||(Gc.textureCount=0,Gc.uboCount=0,this.syncUniformGroup(e.uniformGroup,Gc)),i}setUniforms(e){const n=this.shader.program,r=n.glPrograms[this.renderer.CONTEXT_UID];n.syncUniforms(r.uniformData,e,this.renderer)}syncUniformGroup(e,n){const r=this.getGlProgram();(!e.static||e.dirtyId!==r.uniformDirtyGroups[e.id])&&(r.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,n))}syncUniforms(e,n,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(n.uniformData,e.uniforms,this.renderer,r)}createSyncGroups(e){const n=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[n]||(this.cache[n]=fle(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[n],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,n){const r=this.getGlProgram();if(!e.static||e.dirtyId!==0||!r.uniformGroups[e.id]){e.dirtyId=0;const i=r.uniformGroups[e.id]||this.createSyncBufferGroup(e,r,n);e.buffer.update(),i(r.uniformData,e.uniforms,this.renderer,Gc,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,r.uniformBufferBindings[n])}createSyncBufferGroup(e,n,r){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(n.program,r);n.uniformBufferBindings[r]=this.shader.uniformBindCount,i.uniformBlockBinding(n.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=hI(e,this.shader.program.uniformData)),e.autoManage){const l=new Float32Array(a.size/4);e.buffer.update(l)}return n.uniformGroups[e.id]=a.syncFunc,n.uniformGroups[e.id]}getSignature(e,n,r){const i=e.uniforms,s=[`${r}-`];for(const o in i)s.push(o),n[o]&&s.push(n[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const n=this.gl,r=e.program,i=aI(n,r);return r.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}xb.extension={type:J.RendererSystem,name:"shader"};se.add(xb);class wb{constructor(e){this.renderer=e}run(e){const n=this.renderer;n.emitWithCustomOptions(n.runners.init,e),e.hello&&console.log(`PixiJS 7.1.4 - ${n.rendererLogId} - https://pixijs.com`),n.resize(this.renderer.screen.width,this.renderer.screen.height)}destroy(){}}wb.extension={type:[J.RendererSystem,J.CanvasRendererSystem],name:"startup"};se.add(wb);function $le(t,e=[]){return e[ue.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ue.ADD]=[t.ONE,t.ONE],e[ue.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ue.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ue.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ue.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ue.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ue.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ue.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ue.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ue.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ue.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ue.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ue.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ue.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ue.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ue.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ue.NONE]=[0,0],e[ue.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ue.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[ue.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ue.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[ue.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[ue.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ue.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[ue.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[ue.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[ue.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[ue.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ue.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const Ble=0,Nle=1,Lle=2,Ule=3,jle=4,zle=5,Gv=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=ue.NONE,this._blendEq=!1,this.map=[],this.map[Ble]=this.setBlend,this.map[Nle]=this.setOffset,this.map[Lle]=this.setCullFace,this.map[Ule]=this.setDepthTest,this.map[jle]=this.setFrontFace,this.map[zle]=this.setDepthMask,this.checks=[],this.defaultState=new Or,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=$le(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,n=0;for(;e;)e&1&&this.map[n].call(this,!!(t.data&1<<n)),e=e>>1,n++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(Gv.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(Gv.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],n=this.gl;e.length===2?n.blendFunc(e[0],e[1]):n.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,n.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const n=this.checks.indexOf(t);e&&n===-1?this.checks.push(t):!e&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let _b=Gv;_b.extension={type:J.RendererSystem,name:"state"};se.add(_b);class dI extends Pi{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const n=(e.priority??[]).filter(i=>e.systems[i]),r=[...n,...Object.keys(e.systems).filter(i=>!n.includes(i))];for(const i of r)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(n=>{this.runners[n]=new dn(n)})}addSystem(e,n){const r=new e(this);if(this[n])throw new Error(`Whoops! The name "${n}" is already in use`);this[n]=r,this._systemsHash[n]=r;for(const i in this.runners)this.runners[i].add(r);return this}emitWithCustomOptions(e,n){const r=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=r.find(o=>this._systemsHash[o]===i);i[e.name](n[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const wh=class{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=wh.defaultMaxIdle,this.checkCountMax=wh.defaultCheckCountMax,this.mode=wh.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Nf.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let n=!1;for(let r=0;r<e.length;r++){const i=e[r];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[r]=null,n=!0)}if(n){let r=0;for(let i=0;i<e.length;i++)e[i]!==null&&(e[r++]=e[i]);e.length=r}}unload(t){const e=this.renderer.texture,n=t._texture;n&&!n.framebuffer&&e.destroyTexture(n);for(let r=t.children.length-1;r>=0;r--)this.unload(t.children[r])}destroy(){this.renderer=null}};let Cn=wh;Cn.defaultMode=Nf.AUTO;Cn.defaultMaxIdle=60*60;Cn.defaultCheckCountMax=60*10;Cn.extension={type:J.RendererSystem,name:"textureGC"};se.add(Cn);class _h{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=ae.UNSIGNED_BYTE,this.internalFormat=Y.RGBA,this.samplerType=0}}function Hle(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[ae.UNSIGNED_BYTE]:{[Y.RGBA]:t.RGBA8,[Y.RGB]:t.RGB8,[Y.RG]:t.RG8,[Y.RED]:t.R8,[Y.RGBA_INTEGER]:t.RGBA8UI,[Y.RGB_INTEGER]:t.RGB8UI,[Y.RG_INTEGER]:t.RG8UI,[Y.RED_INTEGER]:t.R8UI,[Y.ALPHA]:t.ALPHA,[Y.LUMINANCE]:t.LUMINANCE,[Y.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ae.BYTE]:{[Y.RGBA]:t.RGBA8_SNORM,[Y.RGB]:t.RGB8_SNORM,[Y.RG]:t.RG8_SNORM,[Y.RED]:t.R8_SNORM,[Y.RGBA_INTEGER]:t.RGBA8I,[Y.RGB_INTEGER]:t.RGB8I,[Y.RG_INTEGER]:t.RG8I,[Y.RED_INTEGER]:t.R8I},[ae.UNSIGNED_SHORT]:{[Y.RGBA_INTEGER]:t.RGBA16UI,[Y.RGB_INTEGER]:t.RGB16UI,[Y.RG_INTEGER]:t.RG16UI,[Y.RED_INTEGER]:t.R16UI,[Y.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[ae.SHORT]:{[Y.RGBA_INTEGER]:t.RGBA16I,[Y.RGB_INTEGER]:t.RGB16I,[Y.RG_INTEGER]:t.RG16I,[Y.RED_INTEGER]:t.R16I},[ae.UNSIGNED_INT]:{[Y.RGBA_INTEGER]:t.RGBA32UI,[Y.RGB_INTEGER]:t.RGB32UI,[Y.RG_INTEGER]:t.RG32UI,[Y.RED_INTEGER]:t.R32UI,[Y.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[ae.INT]:{[Y.RGBA_INTEGER]:t.RGBA32I,[Y.RGB_INTEGER]:t.RGB32I,[Y.RG_INTEGER]:t.RG32I,[Y.RED_INTEGER]:t.R32I},[ae.FLOAT]:{[Y.RGBA]:t.RGBA32F,[Y.RGB]:t.RGB32F,[Y.RG]:t.RG32F,[Y.RED]:t.R32F,[Y.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[ae.HALF_FLOAT]:{[Y.RGBA]:t.RGBA16F,[Y.RGB]:t.RGB16F,[Y.RG]:t.RG16F,[Y.RED]:t.R16F},[ae.UNSIGNED_SHORT_5_6_5]:{[Y.RGB]:t.RGB565},[ae.UNSIGNED_SHORT_4_4_4_4]:{[Y.RGBA]:t.RGBA4},[ae.UNSIGNED_SHORT_5_5_5_1]:{[Y.RGBA]:t.RGB5_A1},[ae.UNSIGNED_INT_2_10_10_10_REV]:{[Y.RGBA]:t.RGB10_A2,[Y.RGBA_INTEGER]:t.RGB10_A2UI},[ae.UNSIGNED_INT_10F_11F_11F_REV]:{[Y.RGB]:t.R11F_G11F_B10F},[ae.UNSIGNED_INT_5_9_9_9_REV]:{[Y.RGB]:t.RGB9_E5},[ae.UNSIGNED_INT_24_8]:{[Y.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[ae.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[Y.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[ae.UNSIGNED_BYTE]:{[Y.RGBA]:t.RGBA,[Y.RGB]:t.RGB,[Y.ALPHA]:t.ALPHA,[Y.LUMINANCE]:t.LUMINANCE,[Y.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ae.UNSIGNED_SHORT_5_6_5]:{[Y.RGB]:t.RGB},[ae.UNSIGNED_SHORT_4_4_4_4]:{[Y.RGBA]:t.RGBA},[ae.UNSIGNED_SHORT_5_5_5_1]:{[Y.RGBA]:t.RGBA}},e}class Eb{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new fe,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=Hle(e);const n=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=n;for(let i=0;i<n;i++)this.boundTextures[i]=null;this.emptyTextures={};const r=new _h(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new _h(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,n=0){const{gl:r}=this;if(e=e==null?void 0:e.castToBaseTexture(),e!=null&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[n]!==e&&(this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),r.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[n]=e}else this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[n]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:n,boundTextures:r}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<r.length;i++)r[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<r.length;i++)r[i]===e&&(this.currentLocation!==i&&(n.activeTexture(n.TEXTURE0+i),this.currentLocation=i),n.bindTexture(e.target,this.emptyTextures[e.target].texture),r[i]=null)}ensureSamplerType(e){const{boundTextures:n,hasIntegerTextures:r,CONTEXT_UID:i}=this;if(r)for(let s=e-1;s>=0;--s){const o=n[s];o&&o._glTextures[i].samplerType!==bd.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const n=new _h(this.gl.createTexture());return n.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=n,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),n}initTextureType(e,n){var r;n.internalFormat=((r=this.internalFormats[e.type])==null?void 0:r[e.format])??e.format,this.webGLVersion===2&&e.type===ae.HALF_FLOAT?n.type=this.gl.HALF_FLOAT:n.type=e.type}updateTexture(e){var i;const n=e._glTextures[this.CONTEXT_UID];if(!n)return;const r=this.renderer;if(this.initTextureType(e,n),(i=e.resource)!=null&&i.upload(r,e,n))n.samplerType!==bd.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=r.gl;(n.width!==s||n.height!==o||n.dirtyId<0)&&(n.width=s,n.height=o,a.texImage2D(e.target,0,n.internalFormat,s,o,0,e.format,n.type,null))}e.dirtyStyleId!==n.dirtyStyleId&&this.updateTextureStyle(e),n.dirtyId=e.dirtyId}destroyTexture(e,n){const{gl:r}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!n)){const i=this.managedTextures.indexOf(e);i!==-1&&ds(this.managedTextures,i,1)}}updateTextureStyle(e){var r;const n=e._glTextures[this.CONTEXT_UID];n&&((e.mipmap===ar.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?n.mipmap=!1:n.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?n.wrapMode=Cr.CLAMP:n.wrapMode=e.wrapMode,(r=e.resource)!=null&&r.style(this.renderer,e,n)||this.setStyle(e,n),n.dirtyStyleId=e.dirtyStyleId)}setStyle(e,n){const r=this.gl;if(n.mipmap&&e.mipmap!==ar.ON_MANUAL&&r.generateMipmap(e.target),r.texParameteri(e.target,r.TEXTURE_WRAP_S,n.wrapMode),r.texParameteri(e.target,r.TEXTURE_WRAP_T,n.wrapMode),n.mipmap){r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===wr.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===wr.LINEAR){const s=Math.min(e.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===wr.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(e.target,r.TEXTURE_MAG_FILTER,e.scaleMode===wr.LINEAR?r.LINEAR:r.NEAREST)}destroy(){this.renderer=null}}Eb.extension={type:J.RendererSystem,name:"texture"};se.add(Eb);class Sb{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glTransformFeedbacks[r]||this.createGLTransformFeedback(e);n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,n){const{gl:r,renderer:i}=this;n&&i.shader.bind(n),r.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:n,renderer:r,CONTEXT_UID:i}=this,s=n.createTransformFeedback();e._glTransformFeedbacks[i]=s,n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(r.buffer.update(a),a._glBuffers[i].refCount++,n.bindBufferBase(n.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,n){const r=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const l=a._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!n&&s.dispose(a,n))}r&&(n||i.deleteTransformFeedback(r),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}Sb.extension={type:J.RendererSystem,name:"transformFeedback"};se.add(Sb);class Cb{constructor(e){this.renderer=e}init(e){this.screen=new me(0,0,e.width,e.height),this.element=e.view||te.ADAPTER.createCanvas(),this.resolution=e.resolution||te.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,n){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(n*this.resolution);const r=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=r,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${r}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",r,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var n;e&&((n=this.element.parentNode)==null||n.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}Cb.extension={type:[J.RendererSystem,J.CanvasRendererSystem],name:"_view"};se.add(Cb);te.PREFER_ENV=Li.WEBGL2;te.STRICT_TEXTURE_CACHE=!1;Object.defineProperties(te,{WRAP_MODE:{get(){return fe.defaultOptions.wrapMode},set(t){be("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),fe.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return fe.defaultOptions.scaleMode},set(t){be("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),fe.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return fe.defaultOptions.mipmap},set(t){be("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),fe.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return fe.defaultOptions.anisotropicLevel},set(t){be("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),fe.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return be("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),vt.defaultResolution},set(t){vt.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return be("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),vt.defaultMultisample},set(t){vt.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return Sn.defaultMaxTextures},set(t){be("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Sn.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return Sn.defaultBatchSize},set(t){be("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Sn.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return Sn.canUploadSameBuffer},set(t){be("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Sn.canUploadSameBuffer=t}},GC_MODE:{get(){return Cn.defaultMode},set(t){be("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Cn.defaultMode=t}},GC_MAX_IDLE:{get(){return Cn.defaultMaxIdle},set(t){be("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Cn.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return Cn.defaultCheckCountMax},set(t){be("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Cn.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return On.defaultVertexPrecision},set(t){be("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),On.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return On.defaultFragmentPrecision},set(t){be("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),On.defaultFragmentPrecision=t}}});var Ii=(t=>(t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(Ii||{});class dm{constructor(e,n=null,r=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=n,this.priority=r,this.once=i}match(e,n=null){return this.fn===e&&this.context===n}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const n=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),n}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const n=this.next;return this.next=e?null:n,this.previous=null,n}}const Jt=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new dm(null,null,1/0),this.deltaMS=1/Jt.targetFPMS,this.elapsedMS=1/Jt.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,n=Ii.NORMAL){return this._addListener(new dm(t,e,n))}addOnce(t,e,n=Ii.NORMAL){return this._addListener(new dm(t,e,n,!0))}_addListener(t){let e=this._head.next,n=this._head;if(!e)t.connect(n);else{for(;e;){if(t.priority>e.priority){t.connect(n);break}n=e,e=e.next}t.previous||t.connect(n)}return this._startIfPossible(),this}remove(t,e){let n=this._head.next;for(;n;)n.match(t,e)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*Jt.targetFPMS;const n=this._head;let r=n.next;for(;r;)r=r.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,e)/1e3,Jt.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!Jt._shared){const t=Jt._shared=new Jt;t.autoStart=!0,t._protected=!0}return Jt._shared}static get system(){if(!Jt._system){const t=Jt._system=new Jt;t.autoStart=!0,t._protected=!0}return Jt._system}};let ut=Jt;ut.targetFPMS=.06;Object.defineProperties(te,{TARGET_FPMS:{get(){return ut.targetFPMS},set(t){be("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),ut.targetFPMS=t}}});class Tb{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,Ii.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?ut.shared:new ut,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}Tb.extension=J.Application;se.add(Tb);const fI=[];se.handleByList(J.Renderer,fI);function pI(t){for(const e of fI)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var Gle=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Wle=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const mI=Gle,Ab=Wle;class Pb{constructor(e){this.renderer=e}contextChange(e){let n;if(this.renderer.context.webGLVersion===1){const r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else{const r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r)}n>=qe.HIGH?this.multisample=qe.HIGH:n>=qe.MEDIUM?this.multisample=qe.MEDIUM:n>=qe.LOW?this.multisample=qe.LOW:this.multisample=qe.NONE}destroy(){}}Pb.extension={type:J.RendererSystem,name:"_multisample"};se.add(Pb);class Vle{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class Ob{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);n.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:n}=this;n.bindBuffer(e,null)}bindBufferBase(e,n){const{gl:r,CONTEXT_UID:i}=this;if(this.boundBufferBases[n]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[n]=e,r.bindBufferBase(r.UNIFORM_BUFFER,n,s.buffer)}}bindBufferRange(e,n,r){const{gl:i,CONTEXT_UID:s}=this;r=r||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,n||0,o.buffer,r*256,256)}update(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,n.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)n.bufferSubData(e.type,0,e.data);else{const s=e.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,n.bufferData(e.type,e.data,s)}}dispose(e,n){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const r=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),r&&(n||i.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const n=Object.keys(this.managedBuffers);for(let r=0;r<n.length;r++)this.dispose(this.managedBuffers[n[r]],e)}createGLBuffer(e){const{CONTEXT_UID:n,gl:r}=this;return e._glBuffers[n]=new Vle(r.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[n]}}Ob.extension={type:J.RendererSystem,name:"buffer"};se.add(Ob);class Ib{constructor(e){this.renderer=e}render(e,n){const r=this.renderer;let i,s,o,a;if(n&&(i=n.renderTexture,s=n.clear,o=n.transform,a=n.skipUpdateTransform),this.renderingToScreen=!i,r.runners.prerender.emit(),r.emit("prerender"),r.projection.transform=o,!r.context.isLost){if(i||(this.lastObjectRendered=e),!a){const l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}r.renderTexture.bind(i),r.batch.currentRenderer.start(),(s??r.background.clearBeforeRender)&&r.renderTexture.clear(),e.render(r),r.batch.currentRenderer.flush(),i&&(n.blit&&r.framebuffer.blit(),i.baseTexture.update()),r.runners.postrender.emit(),r.projection.transform=null,r.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}Ib.extension={type:J.RendererSystem,name:"objectRenderer"};se.add(Ib);const Wv=class extends dI{constructor(t){super(),this.type=Y1.WEBGL,t=Object.assign({},te.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Rn({projectionMatrix:new je},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:Wv.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(be("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha);const n={hello:t.hello,_plugin:Wv.__plugins,background:{alpha:t.backgroundAlpha,color:t.background??t.backgroundColor,clearBeforeRender:t.clearBeforeRender},_view:{height:t.height,width:t.width,autoDensity:t.autoDensity,resolution:t.resolution,view:t.view},context:{antialias:t.antialias,context:t.context,powerPreference:t.powerPreference,premultipliedAlpha:t.premultipliedAlpha,preserveDrawingBuffer:t.preserveDrawingBuffer}};this.options=t,this.startup.run(n)}static test(t){return t!=null&&t.forceCanvas?!1:FO()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return be("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return be("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return be("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return be("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){be("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return be("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.color}set backgroundAlpha(t){be("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return be("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};let Ns=Wv;Ns.extension={type:J.Renderer,priority:1};Ns.__plugins={};Ns.__systems={};se.handleByMap(J.RendererPlugin,Ns.__plugins);se.handleByMap(J.RendererSystem,Ns.__systems);se.add(Ns);class kb extends oa{constructor(e,n){const{width:r,height:i}=n||{};super(r,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new fe;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,n){for(let r=0;r<this.length;r++)e[r]&&(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof oa?this.addResourceAt(e[r],r):this.addResourceAt(eb(e[r],n),r))}dispose(){for(let e=0,n=this.length;e<n;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,n){if(!this.items[n])throw new Error(`Index ${n} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[n].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let n=0;n<this.length;n++)this.items[n].parentTextureArray=e,this.items[n].on("update",e.update,e)}unbind(e){super.unbind(e);for(let n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",e.update,e)}load(){if(this._load)return this._load;const n=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(n).then(()=>{const{realWidth:r,realHeight:i}=this.items[0];return this.resize(r,i),Promise.resolve(this)}),this._load}}class gI extends kb{constructor(e,n){const{width:r,height:i}=n||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:r,height:i}),s&&this.initFromArray(s,n)}addBaseTextureAt(e,n){if(e.resource)this.addResourceAt(e.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=hs.TEXTURE_2D_ARRAY}upload(e,n,r){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=e;r.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,i,0,n.format,r.type,null);for(let l=0;l<i;l++){const u=o[l];s[l]<u.dirtyId&&(s[l]=u.dirtyId,u.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,l,u.resource.width,u.resource.height,1,n.format,r.type,u.resource.source))}return!0}}class vI extends Yr{constructor(e){super(e)}static test(e){const{OffscreenCanvas:n}=globalThis;return n&&e instanceof n?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const fl=class extends kb{constructor(t,e){const{width:n,height:r,autoLoad:i,linkBaseTexture:s}=e||{};if(t&&t.length!==fl.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:n,height:r});for(let o=0;o<fl.SIDES;o++)this.items[o].target=hs.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=s!==!1,t&&this.initFromArray(t,e),i!==!1&&this.load()}bind(t){super.bind(t),t.target=hs.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=hs.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,n){const r=this.itemDirtyIds;for(let i=0;i<fl.SIDES;i++){const s=this.items[i];(r[i]<s.dirtyId||n.dirtyId<e.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(t,s,n),r[i]=s.dirtyId):r[i]<-1&&(t.gl.texImage2D(s.target,0,n.internalFormat,e.realWidth,e.realHeight,0,e.format,n.type,null),r[i]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===fl.SIDES}};let Rb=fl;Rb.SIDES=6;class rs extends Yr{constructor(e,n){n=n||{};let r,i;typeof e=="string"?(r=rs.EMPTY,i=e):(r=e,i=null),super(r),this.url=i,this.crossOrigin=n.crossOrigin??!0,this.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,this._load=null,n.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,n)=>{if(this.url===null){e(this);return}try{const r=await te.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await r.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Bn.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),e(this)}catch(r){if(this.destroyed)return;n(r),this.onError.emit(r)}}),this._load)}upload(e,n,r){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),super.upload(e,n,r)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return rs._EMPTY=rs._EMPTY??te.ADAPTER.createCanvas(0,0),rs._EMPTY}}const Eh=class extends Yr{constructor(t,e){e=e||{},super(te.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),t(this)},Eh.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;Yr.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,n=t.height;if(!e||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let r=e*this.scale,i=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(r=this._overrideWidth||this._overrideHeight/n*e,i=this._overrideHeight||this._overrideWidth/e*n),r=Math.round(r),i=Math.round(i);const s=this.source;s.width=r,s.height=i,s._pixiId=`canvas_${Oi()}`,s.getContext("2d").drawImage(t,0,0,e,n,0,0,r,i),this._resolve(),this._resolve=null}}static getSize(t){const e=Eh.SVG_SIZE.exec(t),n={};return e&&(n[e[1]]=Math.round(parseFloat(e[3])),n[e[5]]=Math.round(parseFloat(e[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&Eh.SVG_XML.test(t)}};let ua=Eh;ua.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;ua.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const Vv=class extends Yr{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const n=document.createElement("video");n.setAttribute("preload","auto"),n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);const r=t[0].src||t[0];Yr.crossOrigin(n,r,e.crossorigin);for(let i=0;i<t.length;++i){const s=document.createElement("source");let{src:o,mime:a}=t[i];o=o||t[i];const l=o.split("?").shift().toLowerCase(),u=l.slice(l.lastIndexOf(".")+1);a=a||Vv.MIME_TYPES[u]||`video/${u}`,s.src=o,s.type=a,n.appendChild(s)}t=n}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){const e=ut.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(ut.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(ut.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._isConnectedToTicker&&(ut.shared.remove(this.update,this),this._isConnectedToTicker=!1);const t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(ut.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(ut.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t)}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||Vv.TYPES.includes(e)}};let Xf=Vv;Xf.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];Xf.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};Ed.push(rs,ob,vI,Xf,ua,Oa,Rb,gI);class Xle{constructor(){this._glTransformFeedbacks={},this.buffers=[],this.disposeRunner=new dn("disposeTransformFeedback")}bindBuffer(e,n){this.buffers[e]=n}destroy(){this.disposeRunner.emit(this,!1)}}const qle="7.1.4";class pu{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?me.EMPTY:(e=e||new me(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,n){const{a:r,b:i,c:s,d:o,tx:a,ty:l}=e,u=r*n.x+s*n.y+a,c=i*n.x+o*n.y+l;this.minX=Math.min(this.minX,u),this.maxX=Math.max(this.maxX,u),this.minY=Math.min(this.minY,c),this.maxY=Math.max(this.maxY,c)}addQuad(e){let n=this.minX,r=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,this.minX=n,this.minY=r,this.maxX=i,this.maxY=s}addFrame(e,n,r,i,s){this.addFrameMatrix(e.worldTransform,n,r,i,s)}addFrameMatrix(e,n,r,i,s){const o=e.a,a=e.b,l=e.c,u=e.d,c=e.tx,h=e.ty;let d=this.minX,f=this.minY,p=this.maxX,m=this.maxY,v=o*n+l*r+c,g=a*n+u*r+h;d=v<d?v:d,f=g<f?g:f,p=v>p?v:p,m=g>m?g:m,v=o*i+l*r+c,g=a*i+u*r+h,d=v<d?v:d,f=g<f?g:f,p=v>p?v:p,m=g>m?g:m,v=o*n+l*s+c,g=a*n+u*s+h,d=v<d?v:d,f=g<f?g:f,p=v>p?v:p,m=g>m?g:m,v=o*i+l*s+c,g=a*i+u*s+h,d=v<d?v:d,f=g<f?g:f,p=v>p?v:p,m=g>m?g:m,this.minX=d,this.minY=f,this.maxX=p,this.maxY=m}addVertexData(e,n,r){let i=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let l=n;l<r;l+=2){const u=e[l],c=e[l+1];i=u<i?u:i,s=c<s?c:s,o=u>o?u:o,a=c>a?c:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,n,r,i){this.addVerticesMatrix(e.worldTransform,n,r,i)}addVerticesMatrix(e,n,r,i,s=0,o=s){const a=e.a,l=e.b,u=e.c,c=e.d,h=e.tx,d=e.ty;let f=this.minX,p=this.minY,m=this.maxX,v=this.maxY;for(let g=r;g<i;g+=2){const b=n[g],y=n[g+1],x=a*b+u*y+h,S=c*y+l*b+d;f=Math.min(f,x-s),m=Math.max(m,x+s),p=Math.min(p,S-o),v=Math.max(v,S+o)}this.minX=f,this.minY=p,this.maxX=m,this.maxY=v}addBounds(e){const n=this.minX,r=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<n?e.minX:n,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,n){const r=e.minX>n.minX?e.minX:n.minX,i=e.minY>n.minY?e.minY:n.minY,s=e.maxX<n.maxX?e.maxX:n.maxX,o=e.maxY<n.maxY?e.maxY:n.maxY;if(r<=s&&i<=o){const a=this.minX,l=this.minY,u=this.maxX,c=this.maxY;this.minX=r<a?r:a,this.minY=i<l?i:l,this.maxX=s>u?s:u,this.maxY=o>c?o:c}}addBoundsMatrix(e,n){this.addFrameMatrix(n,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,n){const r=e.minX>n.x?e.minX:n.x,i=e.minY>n.y?e.minY:n.y,s=e.maxX<n.x+n.width?e.maxX:n.x+n.width,o=e.maxY<n.y+n.height?e.maxY:n.y+n.height;if(r<=s&&i<=o){const a=this.minX,l=this.minY,u=this.maxX,c=this.maxY;this.minX=r<a?r:a,this.minY=i<l?i:l,this.maxX=s>u?s:u,this.maxY=o>c?o:c}}pad(e=0,n=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=n,this.maxY+=n)}addFramePad(e,n,r,i,s,o){e-=s,n-=o,r+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<n?this.minY:n,this.maxY=this.maxY>i?this.maxY:i}}class Ve extends Pi{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new qu,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new pu,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const n=Object.keys(e);for(let r=0;r<n.length;++r){const i=n[r];Object.defineProperty(Ve.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,n){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new me),n=this._boundsRect),this._bounds.getRectangle(n)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new me),e=this._localBoundsRect),this._localBounds||(this._localBounds=new pu);const n=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=r,this.transform=n,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,n,r=!1){return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,n)}toLocal(e,n,r,i){return n&&(e=n.toGlobal(e,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,n=0,r=1,i=1,s=0,o=0,a=0,l=0,u=0){return this.position.x=e,this.position.y=n,this.scale.x=r||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=l,this.pivot.y=u,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new yI),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*HO}set angle(e){this.transform.rotation=e*GO}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1))}if(this._mask=e,this._mask){const n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++)}}}}class yI extends Ve{constructor(){super(...arguments),this.sortDirty=null}}Ve.prototype.displayObjectUpdateTransform=Ve.prototype.updateTransform;const Yle=new je;function Kle(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const Xv=class extends Ve{constructor(){super(),this.children=[],this.sortableChildren=Xv.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const n=this.getChildIndex(t),r=this.getChildIndex(e);this.children[n]=e,this.children[r]=t,this.onChildrenChange(n<r?n:r)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(t);ds(this.children,n,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],n=this.children.indexOf(e);if(n===-1)return null;e.parent=null,e.transform._parentID=-1,ds(this.children,n,1),this._boundsID++,this.onChildrenChange(n),e.emit("removed",this),this.emit("childRemoved",e,this,n)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,ds(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const n=t,r=e,i=r-n;let s;if(i>0&&i<=r){s=this.children.splice(n,i);for(let o=0;o<s.length;++o)s[o].parent=null,s[o].transform&&(s[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let o=0;o<s.length;++o)s[o].emit("removed",this),this.emit("childRemoved",s[o],this,o);return s}else if(i===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,n=this.children.length;e<n;++e){const r=this.children[e];r._lastSortedIndex=e,!t&&r.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(Kle),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const n=this.children[t];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const n=e._mask.isMaskData?e._mask.maskObject:e._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(e._bounds,n._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const n=super.getLocalBounds(t);if(!e)for(let r=0,i=this.children.length;r<i;++r){const s=this.children[r];s.visible&&s.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let n,r;this.cullArea?(n=this.cullArea,r=this.worldTransform):this._render!==Xv.prototype._render&&(n=this.getBounds(!0));const i=t.projection.transform;if(i&&(r?(r=Yle.copyFrom(r),r.prepend(i)):r=i),n&&e.intersects(n,r))this._render(t);else if(this.cullArea)return;for(let s=0,o=this.children.length;s<o;++s){const a=this.children[s],l=a.cullable;a.cullable=l||!this.cullArea,a.render(t),a.cullable=l}}render(t){var e;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(e=this.filters)!=null&&e.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let n=0,r=this.children.length;n<r;++n)this.children[n].render(t)}}renderAdvanced(t){var i,s,o;const e=this.filters,n=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let a=0;a<e.length;a++)e[a].enabled&&this._enabledFilters.push(e[a])}const r=e&&((i=this._enabledFilters)==null?void 0:i.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==at.NONE));if(r&&t.batch.flush(),e&&((s=this._enabledFilters)!=null&&s.length)&&t.filter.push(this,this._enabledFilters),n&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let a=0,l=this.children.length;a<l;++a)this.children[a].render(t)}r&&t.batch.flush(),n&&t.mask.pop(this),e&&((o=this._enabledFilters)!=null&&o.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t==null?void 0:t.children,n=this.removeChildren(0,this.children.length);if(e)for(let r=0;r<n.length;++r)n[r].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};let Nt=Xv;Nt.defaultSortableChildren=!1;Nt.prototype.containerUpdateTransform=Nt.prototype.updateTransform;Object.defineProperties(te,{SORTABLE_CHILDREN:{get(){return Nt.defaultSortableChildren},set(t){be("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),Nt.defaultSortableChildren=t}}});const Qa=new le,Zle=new Uint16Array([0,1,2,0,2,3]);class Ui extends Nt{constructor(e){super(),this._anchor=new Lr(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=ue.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||ee.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=Zle,this.pluginName="batch",this.isSprite=!0,this._roundPixels=te.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=ns(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=ns(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const n=this.transform.worldTransform,r=n.a,i=n.b,s=n.c,o=n.d,a=n.tx,l=n.ty,u=this.vertexData,c=e.trim,h=e.orig,d=this._anchor;let f=0,p=0,m=0,v=0;if(c?(p=c.x-d._x*h.width,f=p+c.width,v=c.y-d._y*h.height,m=v+c.height):(p=-d._x*h.width,f=p+h.width,v=-d._y*h.height,m=v+h.height),u[0]=r*p+s*v+a,u[1]=o*v+i*p+l,u[2]=r*f+s*v+a,u[3]=o*v+i*f+l,u[4]=r*f+s*m+a,u[5]=o*m+i*f+l,u[6]=r*p+s*m+a,u[7]=o*m+i*p+l,this._roundPixels){const g=te.RESOLUTION;for(let b=0;b<u.length;++b)u[b]=Math.round(u[b]*g)/g}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,n=this.vertexTrimmedData,r=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,l=s.c,u=s.d,c=s.tx,h=s.ty,d=-i._x*r.width,f=d+r.width,p=-i._y*r.height,m=p+r.height;n[0]=o*d+l*p+c,n[1]=u*p+a*d+h,n[2]=o*f+l*p+c,n[3]=u*p+a*f+h,n[4]=o*f+l*m+c,n[5]=u*m+a*f+h,n[6]=o*d+l*m+c,n[7]=u*m+a*d+h}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,n=this._texture.orig;!e||e.width===n.width&&e.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new pu),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new me),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Qa);const n=this._texture.orig.width,r=this._texture.orig.height,i=-n*this.anchor.x;let s=0;return Qa.x>=i&&Qa.x<i+n&&(s=-r*this.anchor.y,Qa.y>=s&&Qa.y<s+r)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,n){const r=e instanceof ee?e:ee.from(e,n);return new Ui(r)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const n=ns(this.scale.x)||1;this.scale.x=n*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const n=ns(this.scale.y)||1;this.scale.y=n*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tint}set tint(e){this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16)}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||ee.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const bI=new je;Ve.prototype._cacheAsBitmap=!1;Ve.prototype._cacheData=null;Ve.prototype._cacheAsBitmapResolution=null;Ve.prototype._cacheAsBitmapMultisample=null;class Qle{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Ve.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new Qle),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});Ve.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};Ve.prototype._initCachedDisplayObject=function(e){var d,f;if((d=this._cacheData)!=null&&d.sprite)return;const n=this.alpha;this.alpha=1,e.batch.flush();const r=this.getLocalBounds(null,!0).clone();if((f=this.filters)!=null&&f.length){const p=this.filters[0].padding;r.pad(p)}r.ceil(te.RESOLUTION);const i=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),o=e.renderTexture.destinationFrame.clone(),a=e.projection.transform,l=Kr.create({width:r.width,height:r.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:this.cacheAsBitmapMultisample??e.multisample}),u=`cacheAsBitmap_${Oi()}`;this._cacheData.textureCacheId=u,fe.addToCache(l.baseTexture,u),ee.addToCache(l,u);const c=this.transform.localTransform.copyTo(bI).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:l,clear:!0,transform:c,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=a,e.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;const h=new Ui(l);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(r.x/r.width),h.anchor.y=-(r.y/r.height),h.alpha=n,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=h.containsPoint.bind(h)};Ve.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};Ve.prototype._initCachedDisplayObjectCanvas=function(e){var c;if((c=this._cacheData)!=null&&c.sprite)return;const n=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;const i=e.canvasContext.activeContext,s=e._projTransform;n.ceil(te.RESOLUTION);const o=Kr.create({width:n.width,height:n.height}),a=`cacheAsBitmap_${Oi()}`;this._cacheData.textureCacheId=a,fe.addToCache(o.baseTexture,a),ee.addToCache(o,a);const l=bI;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=n.x,l.ty-=n.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:l,skipUpdateTransform:!1}),e.canvasContext.activeContext=i,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const u=new Ui(o);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-(n.x/n.width),u.anchor.y=-(n.y/n.height),u.alpha=r,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)};Ve.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Ve.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Ve.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,fe.removeFromCache(this._cacheData.textureCacheId),ee.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Ve.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};Ve.prototype.name=null;Nt.prototype.getChildByName=function(e,n){for(let r=0,i=this.children.length;r<i;r++)if(this.children[r].name===e)return this.children[r];if(n)for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r];if(!s.getChildByName)continue;const o=s.getChildByName(e,!0);if(o)return o}return null};Ve.prototype.getGlobalPosition=function(e=new le,n=!1){return this.parent?this.parent.toGlobal(this.position,e,n):(e.x=this.position.x,e.y=this.position.y),e};var Jle=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class xI extends vt{constructor(e=1){super(mI,Jle,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const eue={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},tue=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function nue(t){const e=eue[t],n=e.length;let r=tue,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let l=s.replace("%index%",a.toString());o=a,a>=n&&(o=t-a-1),l=l.replace("%value%",e[o].toString()),i+=l,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",t.toString()),r}const rue=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function iue(t,e){const n=Math.ceil(t/2);let r=rue,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(n-1)}.0`),i+=a,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",t.toString()),r}class Ad extends vt{constructor(e,n=8,r=4,i=vt.defaultResolution,s=5){const o=iue(s,e),a=nue(s);super(o,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=r,this.blur=n}apply(e,n,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/n.width):this.uniforms.strength=1/r.height*(r.height/n.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/n.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,n,r,i);else{const s=e.getFilterTexture(),o=e.renderer;let a=n,l=s;this.state.blend=!1,e.applyFilter(this,a,l,Yn.CLEAR);for(let u=1;u<this.passes-1;u++){e.bindAndClear(a,Yn.BLIT),this.uniforms.uSampler=l;const c=l;l=a,a=c,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,l,r,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class wI extends vt{constructor(e=8,n=4,r=vt.defaultResolution,i=5){super(),this.blurXFilter=new Ad(!0,e,n,r,i),this.blurYFilter=new Ad(!1,e,n,r,i),this.resolution=r,this.quality=n,this.blur=e,this.repeatEdgePixels=!1}apply(e,n,r,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,n,a,Yn.CLEAR),this.blurYFilter.apply(e,a,r,i),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,n,r,i):this.blurXFilter.apply(e,n,r,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var sue=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class Pd extends vt{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(Ab,sue,e),this.alpha=1}_loadMatrix(e,n=!1){let r=e;n&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r}_multiply(e,n,r){return e[0]=n[0]*r[0]+n[1]*r[5]+n[2]*r[10]+n[3]*r[15],e[1]=n[0]*r[1]+n[1]*r[6]+n[2]*r[11]+n[3]*r[16],e[2]=n[0]*r[2]+n[1]*r[7]+n[2]*r[12]+n[3]*r[17],e[3]=n[0]*r[3]+n[1]*r[8]+n[2]*r[13]+n[3]*r[18],e[4]=n[0]*r[4]+n[1]*r[9]+n[2]*r[14]+n[3]*r[19]+n[4],e[5]=n[5]*r[0]+n[6]*r[5]+n[7]*r[10]+n[8]*r[15],e[6]=n[5]*r[1]+n[6]*r[6]+n[7]*r[11]+n[8]*r[16],e[7]=n[5]*r[2]+n[6]*r[7]+n[7]*r[12]+n[8]*r[17],e[8]=n[5]*r[3]+n[6]*r[8]+n[7]*r[13]+n[8]*r[18],e[9]=n[5]*r[4]+n[6]*r[9]+n[7]*r[14]+n[8]*r[19]+n[9],e[10]=n[10]*r[0]+n[11]*r[5]+n[12]*r[10]+n[13]*r[15],e[11]=n[10]*r[1]+n[11]*r[6]+n[12]*r[11]+n[13]*r[16],e[12]=n[10]*r[2]+n[11]*r[7]+n[12]*r[12]+n[13]*r[17],e[13]=n[10]*r[3]+n[11]*r[8]+n[12]*r[13]+n[13]*r[18],e[14]=n[10]*r[4]+n[11]*r[9]+n[12]*r[14]+n[13]*r[19]+n[14],e[15]=n[15]*r[0]+n[16]*r[5]+n[17]*r[10]+n[18]*r[15],e[16]=n[15]*r[1]+n[16]*r[6]+n[17]*r[11]+n[18]*r[16],e[17]=n[15]*r[2]+n[16]*r[7]+n[17]*r[12]+n[18]*r[17],e[18]=n[15]*r[3]+n[16]*r[8]+n[17]*r[13]+n[18]*r[18],e[19]=n[15]*r[4]+n[16]*r[9]+n[17]*r[14]+n[18]*r[19]+n[19],e}_colorMatrix(e){const n=new Float32Array(e);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n}brightness(e,n){const r=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(r,n)}tint(e,n){const r=e>>16&255,i=e>>8&255,s=e&255,o=[r/255,0,0,0,0,0,i/255,0,0,0,0,0,s/255,0,0,0,0,0,1,0];this._loadMatrix(o,n)}greyscale(e,n){const r=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(r,n)}blackAndWhite(e){const n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,e)}hue(e,n){e=(e||0)/180*Math.PI;const r=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),l=r+(1-r)*o,u=o*(1-r)-a*i,c=o*(1-r)+a*i,h=o*(1-r)+a*i,d=r+o*(1-r),f=o*(1-r)-a*i,p=o*(1-r)-a*i,m=o*(1-r)+a*i,v=r+o*(1-r),g=[l,u,c,0,0,h,d,f,0,0,p,m,v,0,0,0,0,0,1,0];this._loadMatrix(g,n)}contrast(e,n){const r=(e||0)+1,i=-.5*(r-1),s=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(s,n)}saturate(e=0,n){const r=e*2/3+1,i=(r-1)*-.5,s=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(s,n)}desaturate(){this.saturate(-1)}negative(e){const n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,e)}sepia(e){const n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,e)}technicolor(e){const n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,e)}polaroid(e){const n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,e)}toBGR(e){const n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,e)}kodachrome(e){const n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,e)}browni(e){const n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,e)}vintage(e){const n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,e)}colorTone(e,n,r,i,s){e=e||.2,n=n||.15,r=r||16770432,i=i||3375104;const o=(r>>16&255)/255,a=(r>>8&255)/255,l=(r&255)/255,u=(i>>16&255)/255,c=(i>>8&255)/255,h=(i&255)/255,d=[.3,.59,.11,0,0,o,a,l,e,0,u,c,h,n,0,o-u,a-c,l-h,0,0];this._loadMatrix(d,s)}night(e,n){e=e||.1;const r=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(r,n)}predator(e,n){const r=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(r,n)}lsd(e){const n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}Pd.prototype.grayscale=Pd.prototype.greyscale;var oue=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,aue=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class _I extends vt{constructor(e,n){const r=new je;e.renderable=!1,super(aue,oue,{mapSampler:e._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=r,n==null&&(n=20),this.scale=new le(n,n)}apply(e,n,r,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,n,r,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var lue=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,uue=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class EI extends vt{constructor(){super(uue,lue)}}var cue=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class SI extends vt{constructor(e=.5,n=Math.random()){super(Ab,cue,{uNoise:0,uSeed:0}),this.noise=e,this.seed=n}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const qv={AlphaFilter:xI,BlurFilter:wI,BlurFilterPass:Ad,ColorMatrixFilter:Pd,DisplacementFilter:_I,FXAAFilter:EI,NoiseFilter:SI};Object.entries(qv).forEach(([t,e])=>{Object.defineProperty(qv,t,{get(){return be("7.1.0",`filters.${t} has moved to ${t}`),e}})});class Ia{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Ia.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new le,this.page=new le,this.AT_TARGET=1,this.BUBBLING_PHASE=2,this.CAPTURING_PHASE=3,this.NONE=0,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,n,r){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,n,r,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class mu extends Ia{constructor(){super(...arguments),this.client=new le,this.movement=new le,this.offset=new le,this.global=new le,this.screen=new le}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,n,r,i,s,o,a,l,u,c,h,d,f,p,m){throw new Error("Method not implemented.")}}class xn extends mu{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Cs extends mu{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Cs.DOM_DELTA_PIXEL=0;Cs.DOM_DELTA_LINE=1;Cs.DOM_DELTA_PAGE=2;const hue=2048,due=new le,fm=new le;class CI{constructor(e){this.dispatch=new Pi,this.moveOnAll=!1,this.mappingState={trackingData:{}},this.eventPool=new Map,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,n){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:n,priority:0}),this.mappingTable[e].sort((r,i)=>r.priority-i.priority)}dispatchEvent(e,n){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,n),this.dispatch.emit(n||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const n=this.mappingTable[e.type];if(n)for(let r=0,i=n.length;r<i;r++)n[r].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,n){const r=this.hitTestRecursive(this.rootTarget,this.rootTarget.interactive,due.set(e,n),this.hitTestFn,this.hitPruneFn);return r&&r[0]}propagate(e,n){if(!e.target)return;const r=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=r.length-1;i<s;i++)if(e.currentTarget=r[i],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,n),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=r.length-2;i>=0;i--)if(e.currentTarget=r[i],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,n,r=this.rootTarget){e.eventPhase=e.BUBBLING_PHASE;const i=r.children;if(i)for(let s=0;s<i.length;s++)this.all(e,n,i[s]);e.currentTarget=r,this.notifyTarget(e,n)}propagationPath(e){const n=[e];for(let r=0;r<hue&&e!==this.rootTarget;r++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");n.push(e.parent),e=e.parent}return n.reverse(),n}hitTestRecursive(e,n,r,i,s){if(!e||!e.visible||s(e,r))return null;if(e.interactiveChildren&&e.children){const o=e.children;for(let a=o.length-1;a>=0;a--){const l=o[a],u=this.hitTestRecursive(l,n||l.interactive,r,i,s);if(u){if(u.length>0&&!u[u.length-1].parent)continue;return(u.length>0||e.interactive)&&u.push(e),u}}}return n&&i(e,r)?e.interactive?[e]:[]:null}hitPruneFn(e,n){var r;if(e.hitArea&&(e.worldTransform.applyInverse(n,fm),!e.hitArea.contains(fm.x,fm.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((r=i.containsPoint)!=null&&r.call(i,n)))return!0}return!1}hitTestFn(e,n){return e.hitArea?!0:e.containsPoint?e.containsPoint(n):!1}notifyTarget(e,n){var s,o;n=n??e.type;const r=`on${n}`;(o=(s=e.currentTarget)[r])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${n}capture`:n;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,n)}mapPointerDown(e){if(!(e instanceof xn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerdown"),n.pointerType==="touch")this.dispatchEvent(n,"touchstart");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const i=n.button===2;this.dispatchEvent(n,i?"rightdown":"mousedown")}const r=this.trackingData(e.pointerId);r.pressTargetsByButton[e.button]=n.composedPath(),this.freeEvent(n)}mapPointerMove(e){var a,l;if(!(e instanceof xn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.createPointerEvent(e),r=n.pointerType==="mouse"||n.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((a=i.overTargets)==null?void 0:a.length)>0&&s!==n.target){const u=e.type==="mousemove"?"mouseout":"pointerout",c=this.createPointerEvent(e,u,s);if(this.dispatchEvent(c,"pointerout"),r&&this.dispatchEvent(c,"mouseout"),!n.composedPath().includes(s)){const h=this.createPointerEvent(e,"pointerleave",s);for(h.eventPhase=h.AT_TARGET;h.target&&!n.composedPath().includes(h.target);)h.currentTarget=h.target,this.notifyTarget(h),r&&this.notifyTarget(h,"mouseleave"),h.target=h.target.parent;this.freeEvent(h)}this.freeEvent(c)}if(s!==n.target){const u=e.type==="mousemove"?"mouseover":"pointerover",c=this.clonePointerEvent(n,u);this.dispatchEvent(c,"pointerover"),r&&this.dispatchEvent(c,"mouseover");let h=s==null?void 0:s.parent;for(;h&&h!==this.rootTarget.parent&&h!==n.target;)h=h.parent;if(!h||h===this.rootTarget.parent){const f=this.clonePointerEvent(n,"pointerenter");for(f.eventPhase=f.AT_TARGET;f.target&&f.target!==s&&f.target!==this.rootTarget.parent;)f.currentTarget=f.target,this.notifyTarget(f),r&&this.notifyTarget(f,"mouseenter"),f.target=f.target.parent;this.freeEvent(f)}this.freeEvent(c)}const o=this.moveOnAll?"all":"dispatchEvent";this[o](n,"pointermove"),this.all(n,"globalpointermove"),n.pointerType==="touch"&&(this[o](n,"touchmove"),this.all(n,"globaltouchmove")),r&&(this[o](n,"mousemove"),this.all(n,"globalmousemove"),this.cursor=(l=n.target)==null?void 0:l.cursor),i.overTargets=n.composedPath(),this.freeEvent(n)}mapPointerOver(e){var o;if(!(e instanceof xn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId),r=this.createPointerEvent(e),i=r.pointerType==="mouse"||r.pointerType==="pen";this.dispatchEvent(r,"pointerover"),i&&this.dispatchEvent(r,"mouseover"),r.pointerType==="mouse"&&(this.cursor=(o=r.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(r,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;n.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof xn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId);if(n.overTargets){const r=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(n.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),r&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),r&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;n.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof xn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=performance.now(),r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerup"),r.pointerType==="touch")this.dispatchEvent(r,"touchend");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const a=r.button===2;this.dispatchEvent(r,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!r.composedPath().includes(s)){let a=s;for(;a&&!r.composedPath().includes(a);){if(r.currentTarget=a,this.notifyTarget(r,"pointerupoutside"),r.pointerType==="touch")this.notifyTarget(r,"touchendoutside");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const l=r.button===2;this.notifyTarget(r,l?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(r,"click");a.target=o,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:n});const l=i.clicksByButton[e.button];if(l.target===a.target&&n-l.timeStamp<200?++l.clickCount:l.clickCount=1,l.target=a.target,l.timeStamp=n,a.detail=l.clickCount,a.pointerType==="mouse"){const u=a.button===2;this.dispatchEvent(a,u?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(r)}mapPointerUpOutside(e){if(!(e instanceof xn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId),r=this.findMountedTarget(n.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(r){let s=r;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete n.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof Cs)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const n=this.createWheelEvent(e);this.dispatchEvent(n),this.freeEvent(n)}findMountedTarget(e){if(!e)return null;let n=e[0];for(let r=1;r<e.length&&e[r].parent===n;r++)n=e[r];return n}createPointerEvent(e,n,r){const i=this.allocateEvent(xn);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=r??this.hitTest(i.global.x,i.global.y),typeof n=="string"&&(i.type=n),i}createWheelEvent(e){const n=this.allocateEvent(Cs);return this.copyWheelData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.nativeEvent=e.nativeEvent,n.originalEvent=e,n.target=this.hitTest(n.global.x,n.global.y),n}clonePointerEvent(e,n){const r=this.allocateEvent(xn);return r.nativeEvent=e.nativeEvent,r.originalEvent=e.originalEvent,this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.target=e.target,r.path=e.composedPath().slice(),r.type=n??r.type,r}copyWheelData(e,n){n.deltaMode=e.deltaMode,n.deltaX=e.deltaX,n.deltaY=e.deltaY,n.deltaZ=e.deltaZ}copyPointerData(e,n){e instanceof xn&&n instanceof xn&&(n.pointerId=e.pointerId,n.width=e.width,n.height=e.height,n.isPrimary=e.isPrimary,n.pointerType=e.pointerType,n.pressure=e.pressure,n.tangentialPressure=e.tangentialPressure,n.tiltX=e.tiltX,n.tiltY=e.tiltY,n.twist=e.twist)}copyMouseData(e,n){e instanceof mu&&n instanceof mu&&(n.altKey=e.altKey,n.button=e.button,n.buttons=e.buttons,n.client.copyFrom(e.client),n.ctrlKey=e.ctrlKey,n.metaKey=e.metaKey,n.movement.copyFrom(e.movement),n.screen.copyFrom(e.screen),n.global.copyFrom(e.global))}copyData(e,n){n.isTrusted=e.isTrusted,n.srcElement=e.srcElement,n.timeStamp=performance.now(),n.type=e.type,n.detail=e.detail,n.view=e.view,n.which=e.which,n.layer.copyFrom(e.layer),n.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const n=this.eventPool.get(e).pop()||new e(this);return n.eventPhase=n.NONE,n.currentTarget=null,n.path=null,n.target=null,n}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const n=e.constructor;this.eventPool.has(n)||this.eventPool.set(n,[]),this.eventPool.get(n).push(e)}notifyListeners(e,n){const r=e.currentTarget._events[n];if(r)if("fn"in r)r.once&&e.currentTarget.removeListener(n,r.fn,void 0,!0),r.fn.call(r.context,e);else for(let i=0,s=r.length;i<s&&!e.propagationImmediatelyStopped;i++)r[i].once&&e.currentTarget.removeListener(n,r[i].fn,void 0,!0),r[i].fn.call(r[i].context,e)}}const fue=1,pue={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"};class Mb{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new CI(null),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new xn(null),this.rootWheelEvent=new Cs(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}init(){const{view:e,resolution:n}=this.renderer;this.setTargetElement(e),this.resolution=n}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let n=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(n=!1),this.currentCursor===e)return;this.currentCursor=e;const r=this.cursorStyles[e];if(r)switch(typeof r){case"string":n&&(this.domElement.style.cursor=r);break;case"function":r(e);break;case"object":n&&Object.assign(this.domElement.style,r);break}else n&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}onPointerDown(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);this.autoPreventDefault&&n[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let r=0,i=n.length;r<i;r++){const s=n[r],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);for(let r=0,i=n.length;r<i;r++){const s=this.bootstrapEvent(this.rootPointerEvent,n[r]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;let n=e.target;e.composedPath&&e.composedPath().length>0&&(n=e.composedPath()[0]);const r=n!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let s=0,o=i.length;s<o;s++){const a=this.bootstrapEvent(this.rootPointerEvent,i[s]);a.type+=r,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);for(let r=0,i=n.length;r<i;r++){const s=this.bootstrapEvent(this.rootPointerEvent,n[r]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){const n=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(n)}setTargetElement(e){this.removeEvents(),this.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,n,r){let i;this.domElement.parentElement?i=this.domElement.getBoundingClientRect():i={x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const s=1/this.resolution;e.x=(n-i.left)*(this.domElement.width/i.width)*s,e.y=(r-i.top)*(this.domElement.height/i.height)*s}normalizeToPointerData(e){const n=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let r=0,i=e.changedTouches.length;r<i;r++){const s=e.changedTouches[r];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,n.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const r=e;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=fue),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,n.push(r)}else n.push(e);return n}normalizeWheelEvent(e){const n=this.rootWheelEvent;return this.transferMouseData(n,e),n.deltaX=e.deltaX,n.deltaY=e.deltaY,n.deltaZ=e.deltaZ,n.deltaMode=e.deltaMode,this.mapPositionToPoint(n.screen,e.clientX,e.clientY),n.global.copyFrom(n.screen),n.offset.copyFrom(n.screen),n.nativeEvent=e,n.type=e.type,n}bootstrapEvent(e,n){return e.originalEvent=null,e.nativeEvent=n,e.pointerId=n.pointerId,e.width=n.width,e.height=n.height,e.isPrimary=n.isPrimary,e.pointerType=n.pointerType,e.pressure=n.pressure,e.tangentialPressure=n.tangentialPressure,e.tiltX=n.tiltX,e.tiltY=n.tiltY,e.twist=n.twist,this.transferMouseData(e,n),this.mapPositionToPoint(e.screen,n.clientX,n.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=n.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=pue[e.type]||e.type),e}transferMouseData(e,n){e.isTrusted=n.isTrusted,e.srcElement=n.srcElement,e.timeStamp=performance.now(),e.type=n.type,e.altKey=n.altKey,e.button=n.button,e.buttons=n.buttons,e.client.x=n.clientX,e.client.y=n.clientY,e.ctrlKey=n.ctrlKey,e.metaKey=n.metaKey,e.movement.x=n.movementX,e.movement.y=n.movementY,e.page.x=n.pageX,e.page.y=n.pageY,e.relatedTarget=null,e.shiftKey=n.shiftKey}}Mb.extension={name:"events",type:[J.RendererSystem,J.CanvasRendererSystem]};se.add(Mb);const TI={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,interactive:!1,interactiveChildren:!0,hitArea:null,addEventListener(t,e,n){const r=typeof n=="boolean"&&n||typeof n=="object"&&n.capture,i=typeof e=="function"?void 0:e;t=r?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,n){const r=typeof n=="boolean"&&n||typeof n=="object"&&n.capture,i=typeof e=="function"?void 0:e;t=r?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof Ia))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};Ve.mixin(TI);const AI={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Ve.mixin(AI);const mue=9,Wc=100,gue=0,vue=0,US=2,jS=1,yue=-1e3,bue=-1e3,xue=2;class Fb{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Qn.tablet||Qn.phone)&&this.createTouchHook();const n=document.createElement("div");n.style.width=`${Wc}px`,n.style.height=`${Wc}px`,n.style.position="absolute",n.style.top=`${gue}px`,n.style.left=`${vue}px`,n.style.zIndex=US.toString(),this.div=n,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${jS}px`,e.style.height=`${jS}px`,e.style.position="absolute",e.style.top=`${yue}px`,e.style.left=`${bue}px`,e.style.zIndex=xue.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const n=e.children;if(n)for(let r=0;r<n.length;r++)this.updateAccessibleObjects(n[r])}update(){const e=performance.now();if(Qn.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:n,y:r,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:l}=this.renderer,u=i/o*l,c=s/a*l;let h=this.div;h.style.left=`${n}px`,h.style.top=`${r}px`,h.style.width=`${o}px`,h.style.height=`${a}px`;for(let d=0;d<this.children.length;d++){const f=this.children[d];if(f.renderId!==this.renderId)f._accessibleActive=!1,ds(this.children,d,1),this.div.removeChild(f._accessibleDiv),this.pool.push(f._accessibleDiv),f._accessibleDiv=null,d--;else{h=f._accessibleDiv;let p=f.hitArea;const m=f.worldTransform;f.hitArea?(h.style.left=`${(m.tx+p.x*m.a)*u}px`,h.style.top=`${(m.ty+p.y*m.d)*c}px`,h.style.width=`${p.width*m.a*u}px`,h.style.height=`${p.height*m.d*c}px`):(p=f.getBounds(),this.capHitArea(p),h.style.left=`${p.x*u}px`,h.style.top=`${p.y*c}px`,h.style.width=`${p.width*u}px`,h.style.height=`${p.height*c}px`,h.title!==f.accessibleTitle&&f.accessibleTitle!==null&&(h.title=f.accessibleTitle),h.getAttribute("aria-label")!==f.accessibleHint&&f.accessibleHint!==null&&h.setAttribute("aria-label",f.accessibleHint)),(f.accessibleTitle!==h.title||f.tabIndex!==h.tabIndex)&&(h.title=f.accessibleTitle,h.tabIndex=f.tabIndex,this.debug&&this.updateDebugHTML(h))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:n,height:r}=this.renderer;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>r&&(e.height=r-e.y)}addChild(e){let n=this.pool.pop();n||(n=document.createElement("button"),n.style.width=`${Wc}px`,n.style.height=`${Wc}px`,n.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",n.style.position="absolute",n.style.zIndex=US.toString(),n.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?n.setAttribute("aria-live","off"):n.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?n.setAttribute("aria-relevant","additions"):n.setAttribute("aria-relevant","text"),n.addEventListener("click",this._onClick.bind(this)),n.addEventListener("focus",this._onFocus.bind(this)),n.addEventListener("focusout",this._onFocusOut.bind(this))),n.style.pointerEvents=e.accessiblePointerEvents,n.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?n.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(n.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&n.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(n),e._accessibleActive=!0,e._accessibleDiv=n,n.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,n){const{displayObject:r}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new Ia(i),{target:r});i.rootTarget=this.renderer.lastObjectRendered,n.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===mue&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}Fb.extension={name:"accessibility",type:[J.RendererPlugin,J.CanvasRendererPlugin]};se.add(Fb);const Yv=class{constructor(t){this.stage=new Nt,t=Object.assign({forceCanvas:!1},t),this.renderer=pI(t),Yv._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(t,e){const n=Yv._plugins.slice(0);n.reverse(),n.forEach(r=>{r.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};let qf=Yv;qf._plugins=[];se.handleByList(J.Application,qf._plugins);class Db{static init(e){Object.defineProperty(this,"resizeTo",{set(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let n,r;if(this._resizeTo===globalThis.window)n=globalThis.innerWidth,r=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;n=i,r=s}this.renderer.resize(n,r),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}Db.extension=J.Application;se.add(Db);const zS={loader:J.LoadParser,resolver:J.ResolveParser,cache:J.CacheParser,detection:J.DetectionParser};se.handle(J.Asset,t=>{const e=t.ref;Object.entries(zS).filter(([n])=>!!e[n]).forEach(([n,r])=>se.add(Object.assign(e[n],{extension:e[n].extension??r})))},t=>{const e=t.ref;Object.keys(zS).filter(n=>!!e[n]).forEach(n=>se.remove(e[n]))});class wue{constructor(e,n=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=n}add(e){e.forEach(n=>{this._assetList.push(n)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],n=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<n;r++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function $b(t,e){if(Array.isArray(e)){for(const n of e)if(t.startsWith(`data:${n}`))return!0;return!1}return t.startsWith(`data:${e}`)}function Ku(t,e){const n=t.split("?")[0],r=bt.extname(n).toLowerCase();return Array.isArray(e)?e.includes(r):r===e}const Tr=(t,e)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"?e(n):n):t),Od=(t,e)=>{const n=e.split("?")[1];return n&&(t+=`?${n}`),t};function PI(t,e,n,r,i){const s=e[n];for(let o=0;o<s.length;o++){const a=s[o];n<e.length-1?PI(t.replace(r[n],a),e,n+1,r,i):i.push(t.replace(r[n],a))}}function OI(t){const e=/\{(.*?)\}/g,n=t.match(e),r=[];if(n){const i=[];n.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),PI(t,i,0,n,r)}else r.push(t);return r}const gu=t=>!Array.isArray(t);class _ue{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const n=this._cache.get(e);return n||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),n}set(e,n){const r=Tr(e);let i;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.test(n)){i=l.getCacheableAssets(r,n);break}}i||(i={},r.forEach(a=>{i[a]=n}));const s=Object.keys(i),o={cacheKeys:s,keys:r};if(r.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==n&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),n instanceof ee){const a=n;r.forEach(l=>{a.baseTexture!==ee.EMPTY.baseTexture&&fe.addToCache(a.baseTexture,l),ee.addToCache(a,l)})}}remove(e){if(this._cacheMap.get(e),!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const n=this._cacheMap.get(e);n.cacheKeys.forEach(i=>{this._cache.delete(i)}),n.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const go=new _ue;class Eue{constructor(){this._parsers=[],this.promiseCache={}}reset(){this.promiseCache={}}_getLoadPromiseAndParser(e,n){const r={promise:null,parser:null};return r.promise=(async()=>{var s,o;let i=null;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.load&&((s=l.test)!=null&&s.call(l,e,n,this))){i=await l.load(e,n,this),r.parser=l;break}}if(!r.parser)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has being added`),null;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];l.parse&&l.parse&&await((o=l.testParse)==null?void 0:o.call(l,i,n,this))&&(i=await l.parse(i,n,this)||i,r.parser=l)}return i})(),r}async load(e,n){let r=0;const i={},s=gu(e),o=Tr(e,u=>({src:u})),a=o.length,l=o.map(async u=>{const c=bt.toAbsolute(u.src);if(!i[u.src])try{this.promiseCache[c]||(this.promiseCache[c]=this._getLoadPromiseAndParser(c,u)),i[u.src]=await this.promiseCache[c].promise,n&&n(++r/a)}catch(h){throw delete this.promiseCache[c],delete i[u.src],new Error(`[Loader.load] Failed to load ${c}.
${h}`)}});return await Promise.all(l),s?i[o[0].src]:i}async unload(e){const r=Tr(e,i=>({src:i})).map(async i=>{var a,l;const s=bt.toAbsolute(i.src),o=this.promiseCache[s];if(o){const u=await o.promise;(l=(a=o.parser)==null?void 0:a.unload)==null||l.call(a,u,i,this),delete this.promiseCache[s]}});await Promise.all(r)}get parsers(){return this._parsers}}var cr=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(cr||{});const II={extension:{type:J.LoadParser,priority:cr.Low},test(t){return bt.extname(t).toLowerCase()===".json"},async load(t){return await(await te.ADAPTER.fetch(t)).json()}};se.add(II);const kI={extension:{type:J.LoadParser,priority:cr.Low},test(t){return bt.extname(t).toLowerCase()===".txt"},async load(t){return await(await te.ADAPTER.fetch(t)).text()}};se.add(kI);const Sue=["normal","bold","100","200","300","400","500","600","700","800","900"],Cue=[".ttf",".otf",".woff",".woff2"],Tue=["font/ttf","font/otf","font/woff","font/woff2"];function RI(t){const e=bt.extname(t);return bt.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ")}const MI={extension:{type:J.LoadParser,priority:cr.Low},test(t){return $b(t,Tue)||Ku(t,Cue)},async load(t,e){var r,i,s;const n=te.ADAPTER.getFontFaceSet();if(n){const o=[],a=((r=e.data)==null?void 0:r.family)??RI(t),l=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(c=>Sue.includes(c)))??["normal"],u=e.data??{};for(let c=0;c<l.length;c++){const h=l[c],d=new FontFace(a,`url(${encodeURI(t)})`,{...u,weight:h});await d.load(),n.add(d),o.push(d)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>te.ADAPTER.getFontFaceSet().delete(e))}};se.add(MI);let HS=0,pm;const Aue="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",Pue={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${Aue}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},Oue={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let mm;class Iue{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const n=URL.createObjectURL(new Blob([Pue.code],{type:"application/javascript"})),r=new Worker(n);r.addEventListener("message",i=>{r.terminate(),URL.revokeObjectURL(n),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){pm===void 0&&(pm=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<pm&&(mm||(mm=URL.createObjectURL(new Blob([Oue.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(mm),e.addEventListener("message",n=>{this.complete(n.data),this.returnWorker(n.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,n){await this._initWorkers();const r=new Promise((i,s)=>{this.queue.push({id:e,arguments:n,resolve:i,reject:s})});return this.next(),r}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const n=this.queue.pop(),r=n.id;this.resolveHash[HS]={resolve:n.resolve,reject:n.reject},e.postMessage({data:n.arguments,uuid:HS++,id:r})}}const GS=new Iue;function Zu(t,e,n){const r=new ee(t);return r.baseTexture.on("dispose",()=>{delete e.promiseCache[n]}),r}const kue=[".jpeg",".jpg",".png",".webp",".avif"],Rue=["image/jpeg","image/png","image/webp","image/avif"];async function FI(t){const e=await te.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const n=await e.blob();return await createImageBitmap(n)}const ca={extension:{type:J.LoadParser,priority:cr.High},config:{preferWorkers:!0},test(t){return $b(t,Rue)||Ku(t,kue)},async load(t,e,n){let r=null;globalThis.createImageBitmap?this.config.preferWorkers&&await GS.isImageBitmapSupported()?r=await GS.loadImageBitmap(t):r=await FI(t):r=await new Promise(s=>{r=new Image,r.crossOrigin="anonymous",r.src=t,r.complete?s(r):r.onload=()=>{s(r)}});const i=new fe(r,{resolution:Xr(t),...e.data});return i.resource.src=t,Zu(i,n,t)},unload(t){t.destroy(!0)}};se.add(ca);const DI={extension:{type:J.LoadParser,priority:cr.High},test(t){return bt.extname(t).toLowerCase()===".svg"},async testParse(t){return ua.test(t)},async parse(t,e,n){var o,a,l;const r=new ua(t,(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions),i=new fe(r,{resolution:Xr(t),...e==null?void 0:e.data});i.resource.src=t;const s=Zu(i,n,t);return(l=(a=e==null?void 0:e.data)==null?void 0:a.resourceOptions)!=null&&l.autoLoad||await r.load(),s},async load(t,e){return(await te.ADAPTER.fetch(t)).text()},unload:ca.unload};se.add(DI);class Mue{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,n)=>`${e}${this._bundleIdConnector}${n}`,extractAssetIdFromBundle:(e,n)=>n.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(n=>{this._preferredOrder.push(n),n.priority||(n.priority=Object.keys(n.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const n=e;this._defaultSearchParams=Object.keys(n).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(n[r])}`).join("&")}}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(n=>{this.addBundle(n.name,n.assets)})}addBundle(e,n){const r=[];Array.isArray(n)?n.forEach(i=>{if(typeof i.name=="string"){const s=this._createBundleAssetId(e,i.name);r.push(s),this.add([i.name,s],i.srcs,i.data)}else{const s=i.name.map(o=>this._createBundleAssetId(e,o));s.forEach(o=>{r.push(o)}),this.add([...i.name,...s],i.srcs)}}):Object.keys(n).forEach(i=>{r.push(this._createBundleAssetId(e,i)),this.add([i,this._createBundleAssetId(e,i)],n[i])}),this._bundles[e]=r}add(e,n,r){const i=Tr(e);i.forEach(o=>{this.hasKey(o)&&console.warn(`[Resolver] already has key: ${o} overwriting`)}),Array.isArray(n)||(typeof n=="string"?n=OI(n):n=[n]);const s=n.map(o=>{let a=o;if(typeof o=="string"){let l=!1;for(let u=0;u<this._parsers.length;u++){const c=this._parsers[u];if(c.test(o)){a=c.parse(o),l=!0;break}}l||(a={src:o})}return a.format||(a.format=a.src.split(".").pop()),a.alias||(a.alias=i),(this._basePath||this._rootPath)&&(a.src=bt.toAbsolute(a.src,this._basePath,this._rootPath)),a.src=this._appendDefaultSearchParams(a.src),a.data=a.data??r,a});i.forEach(o=>{this._assetMap[o]=s})}resolveBundle(e){const n=gu(e);e=Tr(e);const r={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const l in o){const u=o[l];a[this._extractAssetIdFromBundle(i,l)]=u}r[i]=a}}),n?r[e[0]]:r}resolveUrl(e){const n=this.resolve(e);if(typeof e!="string"){const r={};for(const i in n)r[i]=n[i].src;return r}return n.src}resolve(e){const n=gu(e);e=Tr(e);const r={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=this._getPreferredOrder(s),a=s[0];o==null||o.priority.forEach(l=>{o.params[l].forEach(u=>{const c=s.filter(h=>h[l]?h[l]===u:!1);c.length&&(s=c)})}),this._resolverHash[i]=s[0]??a}else{let s=i;(this._basePath||this._rootPath)&&(s=bt.toAbsolute(s,this._basePath,this._rootPath)),s=this._appendDefaultSearchParams(s),this._resolverHash[i]={src:s}}r[i]=this._resolverHash[i]}),n?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let n=0;n<e.length;n++){const r=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(r.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const n=/\?/.test(e)?"&":"?";return`${e}${n}${this._defaultSearchParams}`}}class $I{constructor(){this._detections=[],this._initialized=!1,this.resolver=new Mue,this.loader=new Eue,this.cache=go,this._backgroundLoader=new wue(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o,a;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let l=e.manifest;typeof l=="string"&&(l=await this.load(l)),this.resolver.addManifest(l)}const n=((s=e.texturePreference)==null?void 0:s.resolution)??1,r=typeof n=="number"?[n]:n;let i=[];if((o=e.texturePreference)!=null&&o.format){const l=(a=e.texturePreference)==null?void 0:a.format;i=typeof l=="string"?[l]:l;for(const u of this._detections)await u.test()||(i=await u.remove(i))}else for(const l of this._detections)await l.test()&&(i=await l.add(i));this.resolver.prefer({params:{format:i,resolution:r}})}add(e,n,r){this.resolver.add(e,n,r)}async load(e,n){this._initialized||await this.init();const r=gu(e),i=Tr(e).map(a=>typeof a!="string"?(this.resolver.add(a.src,a),a.src):(this.resolver.hasKey(a)||this.resolver.add(a,a),a)),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,n);return r?o[i[0]]:o}addBundle(e,n){this.resolver.addBundle(e,n)}async loadBundle(e,n){this._initialized||await this.init();let r=!1;typeof e=="string"&&(r=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0,l=0;const u=()=>{n==null||n(++a/l)},c=o.map(h=>{const d=i[h];return l+=Object.keys(d).length,this._mapLoadToResolve(d,u).then(f=>{s[h]=f})});return await Promise.all(c),r?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(n))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolveBundle(e);Object.values(n).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return go.get(e);const n={};for(let r=0;r<e.length;r++)n[r]=go.get(e[r]);return n}async _mapLoadToResolve(e,n){const r=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(r,n);this._backgroundLoader.active=!0;const o={};return r.forEach((a,l)=>{const u=s[a.src],c=[a.src];a.alias&&c.push(...a.alias),o[i[l]]=u,go.set(c,u)}),o}async unload(e){this._initialized||await this.init();const n=Tr(e).map(i=>typeof i!="string"?i.src:i),r=this.resolver.resolve(n);await this._unloadFromResolved(r)}async unloadBundle(e){this._initialized||await this.init(),e=Tr(e);const n=this.resolver.resolveBundle(e),r=Object.keys(n).map(i=>this._unloadFromResolved(n[i]));await Promise.all(r)}async _unloadFromResolved(e){const n=Object.values(e);n.forEach(r=>{go.remove(r.src)}),await this.loader.unload(n)}get detections(){return this._detections}get preferWorkers(){return ca.config.preferWorkers}set preferWorkers(e){ca.config.preferWorkers=e}}const is=new $I;se.handleByList(J.LoadParser,is.loader.parsers).handleByList(J.ResolveParser,is.resolver.parsers).handleByList(J.CacheParser,is.cache.parsers).handleByList(J.DetectionParser,is.detections);const BI={extension:J.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof ee),getCacheableAssets:(t,e)=>{const n={};return t.forEach(r=>{e.forEach((i,s)=>{n[r+(s===0?"":s+1)]=i})}),n}};se.add(BI);const NI={extension:{type:J.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",e=await te.ADAPTER.fetch(t).then(n=>n.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};se.add(NI);const LI={extension:{type:J.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",e=await te.ADAPTER.fetch(t).then(n=>n.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};se.add(LI);const WS=["png","jpg","jpeg"],UI={extension:{type:J.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...WS],remove:async t=>t.filter(e=>!WS.includes(e))};se.add(UI);const jI={extension:J.ResolveParser,test:ca.test,parse:t=>{var e;return{resolution:parseFloat(((e=te.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}};se.add(jI);var zt=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(zt||{});const vu={[33776]:.5,[33777]:.5,[33778]:1,[33779]:1,[35916]:.5,[35917]:.5,[35918]:1,[35919]:1,[37488]:.5,[37489]:.5,[37490]:1,[37491]:1,[37492]:.5,[37496]:1,[37493]:.5,[37497]:1,[37494]:.5,[37495]:.5,[35840]:.5,[35842]:.5,[35841]:.25,[35843]:.25,[36196]:.5,[35986]:.5,[35986]:1,[34798]:1,[37808]:1};let Mr,vo;function VS(){vo={s3tc:Mr.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:Mr.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:Mr.getExtension("WEBGL_compressed_texture_etc"),etc1:Mr.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:Mr.getExtension("WEBGL_compressed_texture_pvrtc")||Mr.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:Mr.getExtension("WEBGL_compressed_texture_atc"),astc:Mr.getExtension("WEBGL_compressed_texture_astc")}}const zI={extension:{type:J.DetectionParser,priority:2},test:async()=>{const e=te.ADAPTER.createCanvas().getContext("webgl");return e?(Mr=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{vo||VS();const e=[];for(const n in vo)vo[n]&&e.push(n);return[...e,...t]},remove:async t=>(vo||VS(),t.filter(e=>!(e in vo)))};se.add(zI);class HI extends Oa{constructor(e,n={width:1,height:1,autoLoad:!0}){let r,i;typeof e=="string"?(r=e,i=new Uint8Array):(r=null,i=e),super(i,n),this.origin=r,this.buffer=i?new _d(i):null,this.origin&&n.autoLoad!==!1&&this.load(),i!=null&&i.length&&(this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}async load(){const r=await(await(await fetch(this.origin)).blob()).arrayBuffer();return this.data=new Uint32Array(r),this.buffer=new _d(r),this.loaded=!0,this.onBlobLoaded(r),this.update(),this}}class Si extends HI{constructor(e,n){super(e,n),this.format=n.format,this.levels=n.levels||1,this._width=n.width,this._height=n.height,this._extension=Si._formatToExtension(this.format),(n.levelBuffers||this.buffer)&&(this._levelBuffers=n.levelBuffers||Si._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,n,r){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let o=0,a=this.levels;o<a;o++){const{levelID:l,levelWidth:u,levelHeight:c,levelBuffer:h}=this._levelBuffers[o];i.compressedTexImage2D(i.TEXTURE_2D,l,this.format,u,c,0,h)}return!0}onBlobLoaded(){this._levelBuffers=Si._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,n,r,i,s,o,a){const l=new Array(r);let u=e.byteOffset,c=o,h=a,d=c+i-1&~(i-1),f=h+s-1&~(s-1),p=d*f*vu[n];for(let m=0;m<r;m++)l[m]={levelID:m,levelWidth:r>1?c:d,levelHeight:r>1?h:f,levelBuffer:new Uint8Array(e.buffer,u,p)},u+=p,c=c>>1||1,h=h>>1||1,d=c+i-1&~(i-1),f=h+s-1&~(s-1),p=d*f*vu[n];return l}}const gm=4,Vc=124,Fue=32,XS=20,Due=542327876,Xc={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},$ue={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},qc={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},Bue=1,Nue=2,Lue=4,Uue=64,jue=512,zue=131072,Hue=827611204,Gue=861165636,Wue=894720068,Vue=808540228,Xue=4,que={[Hue]:zt.COMPRESSED_RGBA_S3TC_DXT1_EXT,[Gue]:zt.COMPRESSED_RGBA_S3TC_DXT3_EXT,[Wue]:zt.COMPRESSED_RGBA_S3TC_DXT5_EXT},Yue={[70]:zt.COMPRESSED_RGBA_S3TC_DXT1_EXT,[71]:zt.COMPRESSED_RGBA_S3TC_DXT1_EXT,[73]:zt.COMPRESSED_RGBA_S3TC_DXT3_EXT,[74]:zt.COMPRESSED_RGBA_S3TC_DXT3_EXT,[76]:zt.COMPRESSED_RGBA_S3TC_DXT5_EXT,[77]:zt.COMPRESSED_RGBA_S3TC_DXT5_EXT,[72]:zt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,[75]:zt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,[78]:zt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function GI(t){const e=new Uint32Array(t);if(e[0]!==Due)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,Vc/Uint32Array.BYTES_PER_ELEMENT),i=r[Xc.HEIGHT],s=r[Xc.WIDTH],o=r[Xc.MIPMAP_COUNT],a=new Uint32Array(t,Xc.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,Fue/Uint32Array.BYTES_PER_ELEMENT),l=a[Bue];if(l&Lue){const u=a[$ue.FOURCC];if(u!==Vue){const y=que[u],x=gm+Vc,S=new Uint8Array(t,x);return[new Si(S,{format:y,width:s,height:i,levels:o})]}const c=gm+Vc,h=new Uint32Array(e.buffer,c,XS/Uint32Array.BYTES_PER_ELEMENT),d=h[qc.DXGI_FORMAT],f=h[qc.RESOURCE_DIMENSION],p=h[qc.MISC_FLAG],m=h[qc.ARRAY_SIZE],v=Yue[d];if(v===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${d}`);if(p===Xue)throw new Error("DDSParser does not support cubemap textures");if(f===6)throw new Error("DDSParser does not supported 3D texture data");const g=new Array,b=gm+Vc+XS;if(m===1)g.push(new Uint8Array(t,b));else{const y=vu[v];let x=0,S=s,C=i;for(let A=0;A<o;A++){const I=Math.max(1,S+3&-4),M=Math.max(1,C+3&-4),N=I*M*y;x+=N,S=S>>>1,C=C>>>1}let T=b;for(let A=0;A<m;A++)g.push(new Uint8Array(t,T,x)),T+=x}return g.map(y=>new Si(y,{format:v,width:s,height:i,levels:o}))}throw l&Uue?new Error("DDSParser does not support uncompressed texture data."):l&jue?new Error("DDSParser does not supported YUV uncompressed texture data."):l&zue?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&Nue?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const qS=[171,75,84,88,32,49,49,187,13,10,26,10],Kue=67305985,jn={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},Kv=64,Zv={[ae.UNSIGNED_BYTE]:1,[ae.UNSIGNED_SHORT]:2,[ae.INT]:4,[ae.UNSIGNED_INT]:4,[ae.FLOAT]:4,[ae.HALF_FLOAT]:8},WI={[Y.RGBA]:4,[Y.RGB]:3,[Y.RG]:2,[Y.RED]:1,[Y.LUMINANCE]:1,[Y.LUMINANCE_ALPHA]:2,[Y.ALPHA]:1},VI={[ae.UNSIGNED_SHORT_4_4_4_4]:2,[ae.UNSIGNED_SHORT_5_5_5_1]:2,[ae.UNSIGNED_SHORT_5_6_5]:2};function XI(t,e,n=!1){const r=new DataView(e);if(!Zue(t,r))return null;const i=r.getUint32(jn.ENDIANNESS,!0)===Kue,s=r.getUint32(jn.GL_TYPE,i),o=r.getUint32(jn.GL_FORMAT,i),a=r.getUint32(jn.GL_INTERNAL_FORMAT,i),l=r.getUint32(jn.PIXEL_WIDTH,i),u=r.getUint32(jn.PIXEL_HEIGHT,i)||1,c=r.getUint32(jn.PIXEL_DEPTH,i)||1,h=r.getUint32(jn.NUMBER_OF_ARRAY_ELEMENTS,i)||1,d=r.getUint32(jn.NUMBER_OF_FACES,i),f=r.getUint32(jn.NUMBER_OF_MIPMAP_LEVELS,i),p=r.getUint32(jn.BYTES_OF_KEY_VALUE_DATA,i);if(u===0||c!==1)throw new Error("Only 2D textures are supported");if(d!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(h!==1)throw new Error("WebGL does not support array textures");const m=4,v=4,g=l+3&-4,b=u+3&-4,y=new Array(h);let x=l*u;s===0&&(x=g*b);let S;if(s!==0?Zv[s]?S=Zv[s]*WI[o]:S=VI[s]:S=vu[a],S===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const C=n?Jue(r,p,i):null;let A=x*S,I=l,M=u,N=g,D=b,B=Kv+p;for(let k=0;k<f;k++){const H=r.getUint32(B,i);let q=B+4;for(let z=0;z<h;z++){let L=y[z];L||(L=y[z]=new Array(f)),L[k]={levelID:k,levelWidth:f>1||s!==0?I:N,levelHeight:f>1||s!==0?M:D,levelBuffer:new Uint8Array(e,q,A)},q+=A}B+=H+4,B=B%4!==0?B+4-B%4:B,I=I>>1||1,M=M>>1||1,N=I+m-1&~(m-1),D=M+v-1&~(v-1),A=N*D*S}return s!==0?{uncompressed:y.map(k=>{let H=k[0].levelBuffer,q=!1;return s===ae.FLOAT?H=new Float32Array(k[0].levelBuffer.buffer,k[0].levelBuffer.byteOffset,k[0].levelBuffer.byteLength/4):s===ae.UNSIGNED_INT?(q=!0,H=new Uint32Array(k[0].levelBuffer.buffer,k[0].levelBuffer.byteOffset,k[0].levelBuffer.byteLength/4)):s===ae.INT&&(q=!0,H=new Int32Array(k[0].levelBuffer.buffer,k[0].levelBuffer.byteOffset,k[0].levelBuffer.byteLength/4)),{resource:new Oa(H,{width:k[0].levelWidth,height:k[0].levelHeight}),type:s,format:q?Que(o):o}}),kvData:C}:{compressed:y.map(k=>new Si(null,{format:a,width:l,height:u,levels:f,levelBuffers:k})),kvData:C}}function Zue(t,e){for(let n=0;n<qS.length;n++)if(e.getUint8(n)!==qS[n])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function Que(t){switch(t){case Y.RGBA:return Y.RGBA_INTEGER;case Y.RGB:return Y.RGB_INTEGER;case Y.RG:return Y.RG_INTEGER;case Y.RED:return Y.RED_INTEGER;default:return t}}function Jue(t,e,n){const r=new Map;let i=0;for(;i<e;){const s=t.getUint32(Kv+i,n),o=Kv+i+4,a=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<s&&t.getUint8(o+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const u=new TextDecoder().decode(new Uint8Array(t.buffer,o,l)),c=new DataView(t.buffer,o+l+1,s-l-1);r.set(u,c),i+=4+s+a}return r}const qI={extension:{type:J.LoadParser,priority:cr.High},test(t){return Ku(t,".dds")},async load(t,e,n){const i=await(await te.ADAPTER.fetch(t)).arrayBuffer(),o=GI(i).map(a=>{const l=new fe(a,{mipmap:ar.OFF,alphaMode:Bn.NO_PREMULTIPLIED_ALPHA,resolution:Xr(t),...e.data});return Zu(l,n,t)});return o.length===1?o[0]:o},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};se.add(qI);const YI={extension:{type:J.LoadParser,priority:cr.High},test(t){return Ku(t,".ktx")},async load(t,e,n){const i=await(await te.ADAPTER.fetch(t)).arrayBuffer(),{compressed:s,uncompressed:o,kvData:a}=XI(t,i),l=s??o,u={mipmap:ar.OFF,alphaMode:Bn.NO_PREMULTIPLIED_ALPHA,resolution:Xr(t),...e.data},c=l.map(h=>{l===o&&Object.assign(u,{type:h.type,format:h.format});const d=new fe(h,u);return d.ktxKeyValueData=a,Zu(d,n,t)});return c.length===1?c[0]:c},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};se.add(YI);const KI={extension:J.ResolveParser,test:t=>{const n=t.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(n)},parse:t=>{var r,i;if(t.split("?")[0].split(".").pop()==="ktx"){const s=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(s.some(o=>t.endsWith(o)))return{resolution:parseFloat(((r=te.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:s.find(o=>t.endsWith(o)),src:t}}return{resolution:parseFloat(((i=te.RETINA_PREFIX.exec(t))==null?void 0:i[1])??"1"),format:t.split(".").pop(),src:t}}};se.add(KI);const ece=new me,tce=4,Qv=class{constructor(t){this.renderer=t}async image(t,e,n){const r=new Image;return r.src=await this.base64(t,e,n),r}async base64(t,e,n){const r=this.canvas(t);if(r.toDataURL!==void 0)return r.toDataURL(e,n);if(r.convertToBlob!==void 0){const i=await r.convertToBlob({type:e,quality:n});return await new Promise(s=>{const o=new FileReader;o.onload=()=>s(o.result),o.readAsDataURL(i)})}throw new Error("Extract.base64() requires ICanvas.toDataURL or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:n,width:r,height:i,flipY:s}=this._rawPixels(t,e);let o=new jv(r,i,1);const a=o.context.getImageData(0,0,r,i);if(Qv.arrayPostDivide(n,a.data),o.context.putImageData(a,0,0),s){const l=new jv(o.width,o.height,1);l.context.scale(1,-1),l.context.drawImage(o.canvas,0,-i),o.destroy(),o=l}return o.canvas}pixels(t,e){const{pixels:n}=this._rawPixels(t,e);return Qv.arrayPostDivide(n,n),n}_rawPixels(t,e){const n=this.renderer;let r,i=!1,s,o=!1;if(t)if(t instanceof Kr)s=t;else{const h=n.context.webGLVersion>=2?n.multisample:qe.NONE;if(s=this.renderer.generateTexture(t,{multisample:h}),h!==qe.NONE){const d=Kr.create({width:s.width,height:s.height});n.framebuffer.bind(s.framebuffer),n.framebuffer.blit(d.framebuffer),n.framebuffer.bind(null),s.destroy(!0),s=d}o=!0}s?(r=s.baseTexture.resolution,e=e??s.frame,i=!1,n.renderTexture.bind(s)):(r=n.resolution,e||(e=ece,e.width=n.width,e.height=n.height),i=!0,n.renderTexture.bind(null));const a=Math.round(e.width*r),l=Math.round(e.height*r),u=new Uint8Array(tce*a*l),c=n.gl;return c.readPixels(Math.round(e.x*r),Math.round(e.y*r),a,l,c.RGBA,c.UNSIGNED_BYTE,u),o&&s.destroy(!0),{pixels:u,width:a,height:l,flipY:i}}destroy(){this.renderer=null}static arrayPostDivide(t,e){for(let n=0;n<t.length;n+=4){const r=e[n+3]=t[n+3];r!==0?(e[n]=Math.round(Math.min(t[n]*255/r,255)),e[n+1]=Math.round(Math.min(t[n+1]*255/r,255)),e[n+2]=Math.round(Math.min(t[n+2]*255/r,255))):(e[n]=t[n],e[n+1]=t[n+1],e[n+2]=t[n+2])}}};let Bb=Qv;Bb.extension={name:"extract",type:J.RendererSystem};se.add(Bb);const yu={build(t){const e=t.points;let n,r,i,s,o,a;if(t.type===gt.CIRC){const p=t.shape;n=p.x,r=p.y,o=a=p.radius,i=s=0}else if(t.type===gt.ELIP){const p=t.shape;n=p.x,r=p.y,o=p.width,a=p.height,i=s=0}else{const p=t.shape,m=p.width/2,v=p.height/2;n=p.x+m,r=p.y+v,o=a=Math.max(0,Math.min(p.radius,Math.min(m,v))),i=m-o,s=v-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}const l=Math.ceil(2.3*Math.sqrt(o+a)),u=l*8+(i?4:0)+(s?4:0);if(e.length=u,u===0)return;if(l===0){e.length=8,e[0]=e[6]=n+i,e[1]=e[3]=r+s,e[2]=e[4]=n-i,e[5]=e[7]=r-s;return}let c=0,h=l*4+(i?2:0)+2,d=h,f=u;{const p=i+o,m=s,v=n+p,g=n-p,b=r+m;if(e[c++]=v,e[c++]=b,e[--h]=b,e[--h]=g,s){const y=r-m;e[d++]=g,e[d++]=y,e[--f]=y,e[--f]=v}}for(let p=1;p<l;p++){const m=Math.PI/2*(p/l),v=i+Math.cos(m)*o,g=s+Math.sin(m)*a,b=n+v,y=n-v,x=r+g,S=r-g;e[c++]=b,e[c++]=x,e[--h]=x,e[--h]=y,e[d++]=y,e[d++]=S,e[--f]=S,e[--f]=b}{const p=i,m=s+a,v=n+p,g=n-p,b=r+m,y=r-m;e[c++]=v,e[c++]=b,e[--f]=y,e[--f]=v,i&&(e[c++]=g,e[c++]=b,e[--f]=y,e[--f]=g)}},triangulate(t,e){const n=t.points,r=e.points,i=e.indices;if(n.length===0)return;let s=r.length/2;const o=s;let a,l;if(t.type!==gt.RREC){const c=t.shape;a=c.x,l=c.y}else{const c=t.shape;a=c.x+c.width/2,l=c.y+c.height/2}const u=t.matrix;r.push(t.matrix?u.a*a+u.c*l+u.tx:a,t.matrix?u.b*a+u.d*l+u.ty:l),s++,r.push(n[0],n[1]);for(let c=2;c<n.length;c+=2)r.push(n[c],n[c+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function YS(t,e=!1){const n=t.length;if(n<6)return;let r=0;for(let i=0,s=t[n-2],o=t[n-1];i<n;i+=2){const a=t[i],l=t[i+1];r+=(a-s)*(l+o),s=a,o=l}if(!e&&r>0||e&&r<=0){const i=n/2;for(let s=i+i%2;s<n;s+=2){const o=n-s-2,a=n-s-1,l=s,u=s+1;[t[o],t[l]]=[t[l],t[o]],[t[a],t[u]]=[t[u],t[a]]}}}const Nb={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let n=t.points;const r=t.holes,i=e.points,s=e.indices;if(n.length>=6){YS(n,!1);const o=[];for(let u=0;u<r.length;u++){const c=r[u];YS(c.points,!0),o.push(n.length/2),n=n.concat(c.points)}const a=ou(n,o,2);if(!a)return;const l=i.length/2;for(let u=0;u<a.length;u+=3)s.push(a[u]+l),s.push(a[u+1]+l),s.push(a[u+2]+l);for(let u=0;u<n.length;u++)i.push(n[u])}}},ZI={build(t){const e=t.shape,n=e.x,r=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(n,r,n+i,r,n+i,r+s,n,r+s)},triangulate(t,e){const n=t.points,r=e.points;if(n.length===0)return;const i=r.length/2;r.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},QI={build(t){yu.build(t)},triangulate(t,e){yu.triangulate(t,e)}};var wn=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(wn||{}),pi=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(pi||{});const ki={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let n=Math.ceil(t/this.maxLength);return n<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n}},nce=ki;class Jv{static curveTo(e,n,r,i,s,o){const a=o[o.length-2],u=o[o.length-1]-n,c=a-e,h=i-n,d=r-e,f=Math.abs(u*d-c*h);if(f<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==n)&&o.push(e,n),null;const p=u*u+c*c,m=h*h+d*d,v=u*h+c*d,g=s*Math.sqrt(p)/f,b=s*Math.sqrt(m)/f,y=g*v/p,x=b*v/m,S=g*d+b*c,C=g*h+b*u,T=c*(b+y),A=u*(b+y),I=d*(g+x),M=h*(g+x),N=Math.atan2(A-C,T-S),D=Math.atan2(M-C,I-S);return{cx:S+e,cy:C+n,radius:s,startAngle:N,endAngle:D,anticlockwise:c*h>d*u}}static arc(e,n,r,i,s,o,a,l,u){const c=a-o,h=ki._segmentsCount(Math.abs(c)*s,Math.ceil(Math.abs(c)/fu)*40),d=c/(h*2),f=d*2,p=Math.cos(d),m=Math.sin(d),v=h-1,g=v%1/v;for(let b=0;b<=v;++b){const y=b+g*b,x=d+o+f*y,S=Math.cos(x),C=-Math.sin(x);u.push((p*S+m*C)*s+r,(p*-C+m*S)*s+i)}}}class JI{constructor(){this.reset()}begin(e,n,r){this.reset(),this.style=e,this.start=n,this.attribStart=r}end(e,n){this.attribSize=n-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class Yf{static curveLength(e,n,r,i,s,o,a,l){let c=0,h=0,d=0,f=0,p=0,m=0,v=0,g=0,b=0,y=0,x=0,S=e,C=n;for(let T=1;T<=10;++T)h=T/10,d=h*h,f=d*h,p=1-h,m=p*p,v=m*p,g=v*e+3*m*h*r+3*p*d*s+f*a,b=v*n+3*m*h*i+3*p*d*o+f*l,y=S-g,x=C-b,S=g,C=b,c+=Math.sqrt(y*y+x*x);return c}static curveTo(e,n,r,i,s,o,a){const l=a[a.length-2],u=a[a.length-1];a.length-=2;const c=ki._segmentsCount(Yf.curveLength(l,u,e,n,r,i,s,o));let h=0,d=0,f=0,p=0,m=0;a.push(l,u);for(let v=1,g=0;v<=c;++v)g=v/c,h=1-g,d=h*h,f=d*h,p=g*g,m=p*g,a.push(f*l+3*d*g*e+3*h*p*r+m*s,f*u+3*d*g*n+3*h*p*i+m*o)}}function KS(t,e,n,r,i,s,o,a){const l=t-n*i,u=e-r*i,c=t+n*s,h=e+r*s;let d,f;o?(d=r,f=-n):(d=-r,f=n);const p=l+d,m=u+f,v=c+d,g=h+f;return a.push(p,m,v,g),2}function Gi(t,e,n,r,i,s,o,a){const l=n-t,u=r-e;let c=Math.atan2(l,u),h=Math.atan2(i-t,s-e);a&&c<h?c+=Math.PI*2:!a&&c>h&&(h+=Math.PI*2);let d=c;const f=h-c,p=Math.abs(f),m=Math.sqrt(l*l+u*u),v=(15*p*Math.sqrt(m)/Math.PI>>0)+1,g=f/v;if(d+=g,a){o.push(t,e,n,r);for(let b=1,y=d;b<v;b++,y+=g)o.push(t,e,t+Math.sin(y)*m,e+Math.cos(y)*m);o.push(t,e,i,s)}else{o.push(n,r,t,e);for(let b=1,y=d;b<v;b++,y+=g)o.push(t+Math.sin(y)*m,e+Math.cos(y)*m,t,e);o.push(i,s,t,e)}return v*2}function rce(t,e){const n=t.shape;let r=t.points||n.points.slice();const i=e.closePointEps;if(r.length===0)return;const s=t.lineStyle,o=new le(r[0],r[1]),a=new le(r[r.length-2],r[r.length-1]),l=n.type!==gt.POLY||n.closeStroke,u=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(l){r=r.slice(),u&&(r.pop(),r.pop(),a.set(r[r.length-2],r[r.length-1]));const z=(o.x+a.x)*.5,L=(a.y+o.y)*.5;r.unshift(z,L),r.push(z,L)}const c=e.points,h=r.length/2;let d=r.length;const f=c.length/2,p=s.width/2,m=p*p,v=s.miterLimit*s.miterLimit;let g=r[0],b=r[1],y=r[2],x=r[3],S=0,C=0,T=-(b-x),A=g-y,I=0,M=0,N=Math.sqrt(T*T+A*A);T/=N,A/=N,T*=p,A*=p;const D=s.alignment,B=(1-D)*2,k=D*2;l||(s.cap===pi.ROUND?d+=Gi(g-T*(B-k)*.5,b-A*(B-k)*.5,g-T*B,b-A*B,g+T*k,b+A*k,c,!0)+2:s.cap===pi.SQUARE&&(d+=KS(g,b,T,A,B,k,!0,c))),c.push(g-T*B,b-A*B,g+T*k,b+A*k);for(let z=1;z<h-1;++z){g=r[(z-1)*2],b=r[(z-1)*2+1],y=r[z*2],x=r[z*2+1],S=r[(z+1)*2],C=r[(z+1)*2+1],T=-(b-x),A=g-y,N=Math.sqrt(T*T+A*A),T/=N,A/=N,T*=p,A*=p,I=-(x-C),M=y-S,N=Math.sqrt(I*I+M*M),I/=N,M/=N,I*=p,M*=p;const L=y-g,G=b-x,R=y-S,X=C-x,Z=L*R+G*X,F=G*R-X*L,$=F<0;if(Math.abs(F)<.001*Math.abs(Z)){c.push(y-T*B,x-A*B,y+T*k,x+A*k),Z>=0&&(s.join===wn.ROUND?d+=Gi(y,x,y-T*B,x-A*B,y-I*B,x-M*B,c,!1)+4:d+=2,c.push(y-I*k,x-M*k,y+I*B,x+M*B));continue}const P=(-T+g)*(-A+x)-(-T+y)*(-A+b),W=(-I+S)*(-M+x)-(-I+y)*(-M+C),Q=(L*W-R*P)/F,ve=(X*P-G*W)/F,ge=(Q-y)*(Q-y)+(ve-x)*(ve-x),Ce=y+(Q-y)*B,oe=x+(ve-x)*B,Ae=y-(Q-y)*k,Ee=x-(ve-x)*k,Qe=Math.min(L*L+G*G,R*R+X*X),wt=$?B:k,ji=Qe+wt*wt*m,Jf=ge<=ji;let we=s.join;if(we===wn.MITER&&ge/m>v&&(we=wn.BEVEL),Jf)switch(we){case wn.MITER:{c.push(Ce,oe,Ae,Ee);break}case wn.BEVEL:{$?c.push(Ce,oe,y+T*k,x+A*k,Ce,oe,y+I*k,x+M*k):c.push(y-T*B,x-A*B,Ae,Ee,y-I*B,x-M*B,Ae,Ee),d+=2;break}case wn.ROUND:{$?(c.push(Ce,oe,y+T*k,x+A*k),d+=Gi(y,x,y+T*k,x+A*k,y+I*k,x+M*k,c,!0)+4,c.push(Ce,oe,y+I*k,x+M*k)):(c.push(y-T*B,x-A*B,Ae,Ee),d+=Gi(y,x,y-T*B,x-A*B,y-I*B,x-M*B,c,!1)+4,c.push(y-I*B,x-M*B,Ae,Ee));break}}else{switch(c.push(y-T*B,x-A*B,y+T*k,x+A*k),we){case wn.MITER:{$?c.push(Ae,Ee,Ae,Ee):c.push(Ce,oe,Ce,oe),d+=2;break}case wn.ROUND:{$?d+=Gi(y,x,y+T*k,x+A*k,y+I*k,x+M*k,c,!0)+2:d+=Gi(y,x,y-T*B,x-A*B,y-I*B,x-M*B,c,!1)+2;break}}c.push(y-I*B,x-M*B,y+I*k,x+M*k),d+=2}}g=r[(h-2)*2],b=r[(h-2)*2+1],y=r[(h-1)*2],x=r[(h-1)*2+1],T=-(b-x),A=g-y,N=Math.sqrt(T*T+A*A),T/=N,A/=N,T*=p,A*=p,c.push(y-T*B,x-A*B,y+T*k,x+A*k),l||(s.cap===pi.ROUND?d+=Gi(y-T*(B-k)*.5,x-A*(B-k)*.5,y-T*B,x-A*B,y+T*k,x+A*k,c,!1)+2:s.cap===pi.SQUARE&&(d+=KS(y,x,T,A,B,k,!1,c)));const H=e.indices,q=ki.epsilon*ki.epsilon;for(let z=f;z<d+f-2;++z)g=c[z*2],b=c[z*2+1],y=c[(z+1)*2],x=c[(z+1)*2+1],S=c[(z+2)*2],C=c[(z+2)*2+1],!(Math.abs(g*(x-C)+y*(C-b)+S*(b-x))<q)&&H.push(z,z+1,z+2)}function ice(t,e){let n=0;const r=t.shape,i=t.points||r.points,s=r.type!==gt.POLY||r.closeStroke;if(i.length===0)return;const o=e.points,a=e.indices,l=i.length/2,u=o.length/2;let c=u;for(o.push(i[0],i[1]),n=1;n<l;n++)o.push(i[n*2],i[n*2+1]),a.push(c,c+1),c++;s&&a.push(c,u)}function e0(t,e){t.lineStyle.native?ice(t,e):rce(t,e)}class Kf{static curveLength(e,n,r,i,s,o){const a=e-2*r+s,l=n-2*i+o,u=2*r-2*e,c=2*i-2*n,h=4*(a*a+l*l),d=4*(a*u+l*c),f=u*u+c*c,p=2*Math.sqrt(h+d+f),m=Math.sqrt(h),v=2*h*m,g=2*Math.sqrt(f),b=d/m;return(v*p+m*d*(p-g)+(4*f*h-d*d)*Math.log((2*m+b+p)/(b+g)))/(4*v)}static curveTo(e,n,r,i,s){const o=s[s.length-2],a=s[s.length-1],l=ki._segmentsCount(Kf.curveLength(o,a,e,n,r,i));let u=0,c=0;for(let h=1;h<=l;++h){const d=h/l;u=o+(e-o)*d,c=a+(n-a)*d,s.push(u+(e+(r-e)*d-u)*d,c+(n+(i-n)*d-c)*d)}}}const Sh={[gt.POLY]:Nb,[gt.CIRC]:yu,[gt.ELIP]:yu,[gt.RECT]:ZI,[gt.RREC]:QI},t0=[],pl=[];class bu{constructor(e,n=null,r=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=r,this.fillStyle=n,this.matrix=i,this.type=e.type}clone(){return new bu(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const qs=new le,ek=class extends tb{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new pu,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),pl.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),t0.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,n=null,r=null){const i=new bu(t,e,n,r);return this.graphicsData.push(i),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const n=new bu(t,null,null,e),r=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=r.lineStyle,r.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let n=0;n<e.length;++n){const r=e[n];if(r.fillStyle.visible&&r.shape&&(r.matrix?r.matrix.applyInverse(t,qs):qs.copyFrom(t),r.shape.contains(qs.x,qs.y))){let i=!1;if(r.holes){for(let s=0;s<r.holes.length;s++)if(r.holes[s].shape.contains(qs.x,qs.y)){i=!0;break}}if(!i)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let n=null,r=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],r=n.style);for(let a=this.shapeIndex;a<e.length;a++){this.shapeIndex++;const l=e[a],u=l.fillStyle,c=l.lineStyle;Sh[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix),(u.visible||c.visible)&&this.processHoles(l.holes);for(let d=0;d<2;d++){const f=d===0?u:c;if(!f.visible)continue;const p=f.texture.baseTexture,m=this.indices.length,v=this.points.length/2;p.wrapMode=Cr.REPEAT,d===0?this.processFill(l):this.processLine(l);const g=this.points.length/2-v;g!==0&&(n&&!this._compareStyles(r,f)&&(n.end(m,v),n=null),n||(n=t0.pop()||new JI,n.begin(f,m,v),this.batches.push(n),r=f),this.addUvs(this.points,t,f.texture,v,g,f.matrix))}}const i=this.indices.length,s=this.points.length/2;if(n&&n.end(i,s),this.batches.length===0){this.batchable=!0;return}const o=s>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&o===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=o?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const n=this.graphicsData[t],r=n.fillStyle,i=n.lineStyle;if(r&&!r.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,n=t.length;e<n;e++){const r=t[e];for(let i=0;i<r.size;i++){const s=r.start+i;this.indicesUint16[s]=this.indicesUint16[s]-r.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<ek.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++fe._globalBatch;for(let c=0;c<this.drawCalls.length;c++)this.drawCalls[c].texArray.clear(),pl.push(this.drawCalls[c]);this.drawCalls.length=0;const e=this.colors,n=this.textureIds;let r=pl.pop();r||(r=new Sd,r.texArray=new Cd),r.texArray.count=0,r.start=0,r.size=0,r.type=Zn.TRIANGLES;let i=0,s=null,o=0,a=!1,l=Zn.TRIANGLES,u=0;this.drawCalls.push(r);for(let c=0;c<this.batches.length;c++){const h=this.batches[c],d=8,f=h.style,p=f.texture.baseTexture;a!==!!f.native&&(a=!!f.native,l=a?Zn.LINES:Zn.TRIANGLES,s=null,i=d,t++),s!==p&&(s=p,p._batchEnabled!==t&&(i===d&&(t++,i=0,r.size>0&&(r=pl.pop(),r||(r=new Sd,r.texArray=new Cd),this.drawCalls.push(r)),r.start=u,r.size=0,r.texArray.count=0,r.type=l),p.touched=1,p._batchEnabled=t,p._batchLocation=i,p.wrapMode=Cr.REPEAT,r.texArray.elements[r.texArray.count++]=p,i++)),r.size+=h.size,u+=h.size,o=p._batchLocation,this.addColors(e,f.color,f.alpha,h.attribSize,h.attribStart),this.addTextureIds(n,o,h.attribSize,h.attribStart)}fe._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,n=this.colors,r=this.textureIds,i=new ArrayBuffer(t.length*3*4),s=new Float32Array(i),o=new Uint32Array(i);let a=0;for(let l=0;l<t.length/2;l++)s[a++]=t[l*2],s[a++]=t[l*2+1],s[a++]=e[l*2],s[a++]=e[l*2+1],o[a++]=n[l],s[a++]=r[l];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?Nb.triangulate(t,this):Sh[t.type].triangulate(t,this)}processLine(t){e0(t,this);for(let e=0;e<t.holes.length;e++)e0(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const n=t[e];Sh[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let n=0;n<t.length/2;n++){const r=t[n*2],i=t[n*2+1];t[n*2]=e.a*r+e.c*i+e.tx,t[n*2+1]=e.b*r+e.d*i+e.ty}}addColors(t,e,n,r,i=0){const s=(e>>16)+(e&65280)+((e&255)<<16),o=Hf(s,n);t.length=Math.max(t.length,i+r);for(let a=0;a<r;a++)t[i+a]=o}addTextureIds(t,e,n,r=0){t.length=Math.max(t.length,r+n);for(let i=0;i<n;i++)t[r+i]=e}addUvs(t,e,n,r,i,s=null){let o=0;const a=e.length,l=n.frame;for(;o<i;){let c=t[(r+o)*2],h=t[(r+o)*2+1];if(s){const d=s.a*c+s.c*h+s.tx;h=s.b*c+s.d*h+s.ty,c=d}o++,e.push(c/l.width,h/l.height)}const u=n.baseTexture;(l.width<u.width||l.height<u.height)&&this.adjustUvs(e,n,a,i)}adjustUvs(t,e,n,r){const i=e.baseTexture,s=1e-6,o=n+r*2,a=e.frame,l=a.width/i.width,u=a.height/i.height;let c=a.x/a.width,h=a.y/a.height,d=Math.floor(t[n]+s),f=Math.floor(t[n+1]+s);for(let p=n+2;p<o;p+=2)d=Math.min(d,Math.floor(t[p]+s)),f=Math.min(f,Math.floor(t[p+1]+s));c-=d,h-=f;for(let p=n;p<o;p+=2)t[p]=(t[p]+c)*l,t[p+1]=(t[p+1]+h)*u}};let Lb=ek;Lb.BATCHABLE_SIZE=100;class Qu{constructor(){this.color=16777215,this.alpha=1,this.texture=ee.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Qu;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=ee.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class Zf extends Qu{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=pi.BUTT,this.join=wn.MITER,this.miterLimit=10}clone(){const e=new Zf;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const sce=new Float32Array(3),vm={},Ch=class extends Nt{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Qu,this._lineStyle=new Zf,this._matrix=null,this._holeMode=!1,this.state=Or.for2d(),this._geometry=t||new Lb,this._geometry.refCount++,this._transformID=-1,this.tint=16777215,this.blendMode=ue.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Ch(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tint}set tint(t){this._tint=t}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,n=1,r=.5,i=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:n,alignment:r,native:i}),this.lineTextureStyle(t)}lineTextureStyle(t){t=Object.assign({width:0,texture:ee.WHITE,color:t!=null&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:pi.BUTT,join:wn.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();const e=t.width>0&&t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:e},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new fs,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new fs,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,r=n[n.length-2],i=n[n.length-1];return(r!==t||i!==e)&&n.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,n,r){this._initCurve();const i=this.currentPath.points;return i.length===0&&this.moveTo(0,0),Kf.curveTo(t,e,n,r,i),this}bezierCurveTo(t,e,n,r,i,s){return this._initCurve(),Yf.curveTo(t,e,n,r,i,s,this.currentPath.points),this}arcTo(t,e,n,r,i){this._initCurve(t,e);const s=this.currentPath.points,o=Jv.curveTo(t,e,n,r,i,s);if(o){const{cx:a,cy:l,radius:u,startAngle:c,endAngle:h,anticlockwise:d}=o;this.arc(a,l,u,c,h,d)}return this}arc(t,e,n,r,i,s=!1){if(r===i)return this;if(!s&&i<=r?i+=fu:s&&r<=i&&(r+=fu),i-r===0)return this;const a=t+Math.cos(r)*n,l=e+Math.sin(r)*n,u=this._geometry.closePointEps;let c=this.currentPath?this.currentPath.points:null;if(c){const h=Math.abs(c[c.length-2]-a),d=Math.abs(c[c.length-1]-l);h<u&&d<u||c.push(a,l)}else this.moveTo(a,l),c=this.currentPath.points;return Jv.arc(a,l,t,e,n,r,i,s,c),this}beginFill(t=0,e=1){return this.beginTextureFill({texture:ee.WHITE,color:t,alpha:e})}beginTextureFill(t){t=Object.assign({texture:ee.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();const e=t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:e},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,n,r){return this.drawShape(new me(t,e,n,r))}drawRoundedRect(t,e,n,r,i){return this.drawShape(new la(t,e,n,r,i))}drawCircle(t,e,n){return this.drawShape(new aa(t,e,n))}drawEllipse(t,e,n,r){return this.drawShape(new Wf(t,e,n,r))}drawPolygon(...t){let e,n=!0;const r=t[0];r.points?(n=r.closeStroke,e=r.points):Array.isArray(t[0])?e=t[0]:e=t;const i=new fs(e);return i.closeStroke=n,this.drawShape(i),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===gt.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,n=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(t.points);for(let r=0;r<n;r++){const i=t.batches[r],s=i.style.color,o=new Float32Array(this.vertexData.buffer,i.attribStart*4*2,i.attribSize*2),a=new Float32Array(t.uvsFloat32.buffer,i.attribStart*4*2,i.attribSize*2),l=new Uint16Array(t.indicesUint16.buffer,i.start*2,i.size),u={vertexData:o,blendMode:e,indices:l,uvs:a,_batchRGB:Ss(s),_tintRGB:s,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[r]=u}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,n=this.batches.length;e<n;e++){const r=this.batches[e];r.worldAlpha=this.worldAlpha*r.alpha,t.plugins[this.pluginName].render(r)}}}_renderDirect(t){const e=this._resolveDirectShader(t),n=this._geometry,r=this.tint,i=this.worldAlpha,s=e.uniforms,o=n.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(r>>16&255)/255*i,s.tint[1]=(r>>8&255)/255*i,s.tint[2]=(r&255)/255*i,s.tint[3]=i,t.shader.bind(e),t.geometry.bind(n,e),t.state.set(this.state);for(let a=0,l=o.length;a<l;a++)this._renderDrawCallDirect(t,n.drawCalls[a])}_renderDrawCallDirect(t,e){const{texArray:n,type:r,size:i,start:s}=e,o=n.count;for(let a=0;a<o;a++)t.texture.bind(n.elements[a],a);t.geometry.draw(r,i,s)}_resolveDirectShader(t){let e=this.shader;const n=this.pluginName;if(!e){if(!vm[n]){const{maxTextures:r}=t.plugins[n],i=new Int32Array(r);for(let a=0;a<r;a++)i[a]=a;const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new je,default:Rn.from({uSamplers:i},!0)},o=t.plugins[n]._shader.program;vm[n]=new ir(o,s)}e=vm[n]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:n,maxX:r,maxY:i}=t.bounds;this._bounds.addFrame(this.transform,e,n,r,i)}containsPoint(t){return this.worldTransform.applyInverse(t,Ch._TEMP_POINT),this._geometry.containsPoint(Ch._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this.tint;const t=Ss(this.tint,sce);for(let e=0;e<this.batches.length;e++){const n=this.batches[e],r=n._batchRGB,i=t[0]*r[0]*255,s=t[1]*r[1]*255,o=t[2]*r[2]*255,a=(i<<16)+(s<<8)+(o|0);n._tintRGB=(a>>16)+(a&65280)+((a&255)<<16)}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,n=e.a,r=e.b,i=e.c,s=e.d,o=e.tx,a=e.ty,l=this._geometry.points,u=this.vertexData;let c=0;for(let h=0;h<l.length;h+=2){const d=l[h],f=l[h+1];u[c++]=n*d+i*f+o,u[c++]=s*f+r*d+a}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};let Ts=Ch;Ts.curves=ki;Ts._TEMP_POINT=new le;const oce={buildPoly:Nb,buildCircle:yu,buildRectangle:ZI,buildRoundedRectangle:QI,buildLine:e0,ArcUtils:Jv,BezierUtils:Yf,QuadraticUtils:Kf,BatchPart:JI,FILL_COMMANDS:Sh,BATCH_POOL:t0,DRAW_CALL_POOL:pl};class tk{constructor(e,n){this.uvBuffer=e,this.uvMatrix=n,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const n=this.uvBuffer.data;(!this.data||this.data.length!==n.length)&&(this.data=new Float32Array(n.length)),this.uvMatrix.multiplyUvs(n,this.data),this._updateID++}}const ym=new le,ZS=new fs,nk=class extends Nt{constructor(t,e,n,r=Zn.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=n||Or.for2d(),this.drawMode=r,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=te.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Zn.TRIANGLES&&e.length<nk.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]),t.plugins[r].render(this)}calculateVertices(){const e=this.geometry.buffers[0],n=e.data,r=e._updateID;if(r===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==n.length&&(this.vertexData=new Float32Array(n.length));const i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,l=i.d,u=i.tx,c=i.ty,h=this.vertexData;for(let d=0;d<h.length/2;d++){const f=n[d*2],p=n[d*2+1];h[d*2]=s*f+a*p+u,h[d*2+1]=o*f+l*p+c}if(this._roundPixels){const d=te.RESOLUTION;for(let f=0;f<h.length;++f)h[f]=Math.round(h[f]*d)/d}this.vertexDirty=r}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new tk(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,ym);const e=this.geometry.getBuffer("aVertexPosition").data,n=ZS.points,r=this.geometry.getIndex().data,i=r.length,s=this.drawMode===4?3:1;for(let o=0;o+2<i;o+=s){const a=r[o]*2,l=r[o+1]*2,u=r[o+2]*2;if(n[0]=e[a],n[1]=e[a+1],n[2]=e[l],n[3]=e[l+1],n[4]=e[u],n[5]=e[u+1],ZS.contains(ym.x,ym.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let As=nk;As.BATCHABLE_SIZE=100;class Ju extends qr{constructor(e,n,r){super();const i=new nt(e),s=new nt(n,!0),o=new nt(r,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,ae.FLOAT).addAttribute("aTextureCoord",s,2,!1,ae.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var ace=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,lce=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class ha extends ir{constructor(e,n){const r={uSampler:e,alpha:1,uTextureMatrix:je.IDENTITY,uColor:new Float32Array([1,1,1,1])};n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(r,n.uniforms),super(n.program||On.from(lce,ace),r),this._colorDirty=!1,this.uvMatrix=new Vf(e),this.batchable=n.program===void 0,this.pluginName=n.pluginName,this.tint=n.tint,this.alpha=n.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16),this._colorDirty=!0)}get tint(){return this._tint}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture;J1(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class rk extends Ju{constructor(e=100,n=100,r=10,i=10){super(),this.segWidth=r,this.segHeight=i,this.width=e,this.height=n,this.build()}build(){const e=this.segWidth*this.segHeight,n=[],r=[],i=[],s=this.segWidth-1,o=this.segHeight-1,a=this.width/s,l=this.height/o;for(let c=0;c<e;c++){const h=c%this.segWidth,d=c/this.segWidth|0;n.push(h*a,d*l),r.push(h/s,d/o)}const u=s*o;for(let c=0;c<u;c++){const h=c%s,d=c/s|0,f=d*this.segWidth+h,p=d*this.segWidth+h+1,m=(d+1)*this.segWidth+h,v=(d+1)*this.segWidth+h+1;i.push(f,p,m,p,v,m)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class ik extends Ju{constructor(e=200,n,r=0){super(new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6)),this.points=n,this._width=e,this.textureScale=r,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const n=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;n.data.length/4!==e.length&&(n.data=new Float32Array(e.length*4),r.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=r.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let a=0,l=e[0];const u=this._width*this.textureScale,c=e.length;for(let d=0;d<c;d++){const f=d*4;if(this.textureScale>0){const p=l.x-e[d].x,m=l.y-e[d].y,v=Math.sqrt(p*p+m*m);l=e[d],a+=v/u}else a=d/(c-1);s[f]=a,s[f+1]=0,s[f+2]=a,s[f+3]=1}let h=0;for(let d=0;d<c-1;d++){const f=d*2;o[h++]=f,o[h++]=f+1,o[h++]=f+2,o[h++]=f+2,o[h++]=f+1,o[h++]=f+3}r.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let n=e[0],r,i=0,s=0;const o=this.buffers[0].data,a=e.length,l=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let u=0;u<a;u++){const c=e[u],h=u*4;u<e.length-1?r=e[u+1]:r=c,s=-(r.x-n.x),i=r.y-n.y;const d=Math.sqrt(i*i+s*s);d<1e-6?(i=0,s=0):(i/=d,s/=d,i*=l,s*=l),o[h]=c.x+i,o[h+1]=c.y+s,o[h+2]=c.x-i,o[h+3]=c.y-s,n=c}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class sk extends As{constructor(e,n,r){const i=new rk(e.width,e.height,n,r),s=new ha(ee.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:n,height:r}=this.shader.texture;this.autoResize&&(e.width!==n||e.height!==r)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const Yc=10;class uce extends sk{constructor(e,n=Yc,r=Yc,i=Yc,s=Yc){super(ee.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=n,this._rightWidth=i,this._topHeight=r,this._bottomHeight=s,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,n=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*n,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*n,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,n=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*n,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*n,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,n=this._width>e?1:this._width/e,r=this._topHeight+this._bottomHeight,i=this._height>r?1:this._height/r;return Math.min(n,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,n=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const r=1/this._origWidth,i=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=r*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-r*this._rightWidth,n[9]=n[11]=n[13]=n[15]=i*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class cce extends As{constructor(e=ee.EMPTY,n,r,i,s){const o=new Ju(n,r,i);o.getBuffer("aVertexPosition").static=!1;const a=new ha(e);super(o,a,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class hce extends As{constructor(e,n,r=0){const i=new ik(e.height,n,r),s=new ha(e);r>0&&(e.baseTexture.wrapMode=Cr.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),super._render(e)}}class dce extends Nt{constructor(e=1500,n,r=16384,i=!1){super();const s=16384;r>s&&(r=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=r,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=ue.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(n),this._tint=0,this.tintRgb=new Float32Array(4),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tint}set tint(e){this._tint=e,Ss(e,this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const n=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class QS{constructor(e,n,r){this.geometry=new qr,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||ae.FLOAT,offset:s.offset},n[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let n=0;this.indexBuffer=new nt(BO(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=n,n+=a.size,this.dynamicStride+=a.size}const r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new nt(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new nt(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===ae.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===ae.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,n,r){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,n,r,s.type===ae.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,n,r){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,n,r,s.type===ae.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var fce=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,pce=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class Ub extends Yu{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new je,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:ae.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=ir.from(pce,fce,{}),this.state=Or.for2d()}render(e){const n=e.children,r=e._maxSize,i=e._batchSize,s=this.renderer;let o=n.length;if(o===0)return;o>r&&!e.autoResize&&(o=r);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const l=n[0]._texture.baseTexture,u=l.alphaMode>0;this.state.blendMode=Q1(e.blendMode,u),s.state.set(this.state);const c=s.gl,h=e.worldTransform.copyTo(this.tempMatrix);h.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=h.toArray(!0),this.shader.uniforms.uColor=DO(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,u),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);let d=!1;for(let f=0,p=0;f<o;f+=i,p+=1){let m=o-f;m>i&&(m=i),p>=a.length&&a.push(this._generateOneMoreBuffer(e));const v=a[p];v.uploadDynamic(n,f,m);const g=e._bufferUpdateIDs[p]||0;d=d||v._updateID<g,d&&(v._updateID=e._updateID,v.uploadStatic(n,f,m)),s.geometry.bind(v.geometry),c.drawElements(c.TRIANGLES,m*6,c.UNSIGNED_SHORT,0)}}generateBuffers(e){const n=[],r=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<r;o+=i)n.push(new QS(this.properties,s,i));return n}_generateOneMoreBuffer(e){const n=e._batchSize,r=e._properties;return new QS(this.properties,r,n)}uploadVertices(e,n,r,i,s,o){let a=0,l=0,u=0,c=0;for(let h=0;h<r;++h){const d=e[n+h],f=d._texture,p=d.scale.x,m=d.scale.y,v=f.trim,g=f.orig;v?(l=v.x-d.anchor.x*g.width,a=l+v.width,c=v.y-d.anchor.y*g.height,u=c+v.height):(a=g.width*(1-d.anchor.x),l=g.width*-d.anchor.x,u=g.height*(1-d.anchor.y),c=g.height*-d.anchor.y),i[o]=l*p,i[o+1]=c*m,i[o+s]=a*p,i[o+s+1]=c*m,i[o+s*2]=a*p,i[o+s*2+1]=u*m,i[o+s*3]=l*p,i[o+s*3+1]=u*m,o+=s*4}}uploadPosition(e,n,r,i,s,o){for(let a=0;a<r;a++){const l=e[n+a].position;i[o]=l.x,i[o+1]=l.y,i[o+s]=l.x,i[o+s+1]=l.y,i[o+s*2]=l.x,i[o+s*2+1]=l.y,i[o+s*3]=l.x,i[o+s*3+1]=l.y,o+=s*4}}uploadRotation(e,n,r,i,s,o){for(let a=0;a<r;a++){const l=e[n+a].rotation;i[o]=l,i[o+s]=l,i[o+s*2]=l,i[o+s*3]=l,o+=s*4}}uploadUvs(e,n,r,i,s,o){for(let a=0;a<r;++a){const l=e[n+a]._texture._uvs;l?(i[o]=l.x0,i[o+1]=l.y0,i[o+s]=l.x1,i[o+s+1]=l.y1,i[o+s*2]=l.x2,i[o+s*2+1]=l.y2,i[o+s*3]=l.x3,i[o+s*3+1]=l.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,n,r,i,s,o){for(let a=0;a<r;++a){const l=e[n+a],u=l._texture.baseTexture.alphaMode>0,c=l.alpha,h=c<1&&u?Hf(l._tintRGB,c):l._tintRGB+(c*255<<24);i[o]=h,i[o+s]=h,i[o+s*2]=h,i[o+s*3]=h,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}Ub.extension={name:"particle",type:J.RendererPlugin};se.add(Ub);var ec=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(ec||{});const Kc={willReadFrequently:!0},re=class{static get experimentalLetterSpacingSupported(){let t=re._experimentalLetterSpacingSupported;if(t!==void 0){const e=te.ADAPTER.getCanvasRenderingContext2D().prototype;t=re._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,n,r,i,s,o,a,l){this.text=t,this.style=e,this.width=n,this.height=r,this.lines=i,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=l}static measureText(t,e,n,r=re._canvas){n=n??e.wordWrap;const i=e.toFontString(),s=re.measureFont(i);s.fontSize===0&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);const o=r.getContext("2d",Kc);o.font=i;const l=(n?re.wordWrap(t,e,r):t).split(/(?:\r\n|\r|\n)/),u=new Array(l.length);let c=0;for(let p=0;p<l.length;p++){const m=re._measureText(l[p],e.letterSpacing,o);u[p]=m,c=Math.max(c,m)}let h=c+e.strokeThickness;e.dropShadow&&(h+=e.dropShadowDistance);const d=e.lineHeight||s.fontSize+e.strokeThickness;let f=Math.max(d,s.fontSize+e.strokeThickness*2)+(l.length-1)*(d+e.leading);return e.dropShadow&&(f+=e.dropShadowDistance),new re(t,e,h,f,l,u,d+e.leading,c,s)}static _measureText(t,e,n){let r=!1;re.experimentalLetterSpacingSupported&&(re.experimentalLetterSpacing?(n.letterSpacing=`${e}px`,n.textLetterSpacing=`${e}px`,r=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let i=n.measureText(t).width;return i>0&&(r?i-=e:i+=(re.graphemeSegmenter(t).length-1)*e),i}static wordWrap(t,e,n=re._canvas){const r=n.getContext("2d",Kc);let i=0,s="",o="";const a=Object.create(null),{letterSpacing:l,whiteSpace:u}=e,c=re.collapseSpaces(u),h=re.collapseNewlines(u);let d=!c;const f=e.wordWrapWidth+l,p=re.tokenize(t);for(let m=0;m<p.length;m++){let v=p[m];if(re.isNewline(v)){if(!h){o+=re.addLine(s),d=!c,s="",i=0;continue}v=" "}if(c){const b=re.isBreakingSpace(v),y=re.isBreakingSpace(s[s.length-1]);if(b&&y)continue}const g=re.getFromCache(v,l,a,r);if(g>f)if(s!==""&&(o+=re.addLine(s),s="",i=0),re.canBreakWords(v,e.breakWords)){const b=re.wordWrapSplit(v);for(let y=0;y<b.length;y++){let x=b[y],S=x,C=1;for(;b[y+C];){const A=b[y+C];if(!re.canBreakChars(S,A,v,y,e.breakWords))x+=A;else break;S=A,C++}y+=C-1;const T=re.getFromCache(x,l,a,r);T+i>f&&(o+=re.addLine(s),d=!1,s="",i=0),s+=x,i+=T}}else{s.length>0&&(o+=re.addLine(s),s="",i=0);const b=m===p.length-1;o+=re.addLine(v,!b),d=!1,s="",i=0}else g+i>f&&(d=!1,o+=re.addLine(s),s="",i=0),(s.length>0||!re.isBreakingSpace(v)||d)&&(s+=v,i+=g)}return o+=re.addLine(s,!1),o}static addLine(t,e=!0){return t=re.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,n,r){let i=n[t];return typeof i!="number"&&(i=re._measureText(t,e,r)+e,n[t]=i),i}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const n=t[e];if(!re.isBreakingSpace(n))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:re._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:re._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let n="";if(typeof t!="string")return e;for(let r=0;r<t.length;r++){const i=t[r],s=t[r+1];if(re.isBreakingSpace(i,s)||re.isNewline(i)){n!==""&&(e.push(n),n=""),e.push(i);continue}n+=i}return n!==""&&e.push(n),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,n,r,i){return!0}static wordWrapSplit(t){return re.graphemeSegmenter(t)}static measureFont(t){if(re._fonts[t])return re._fonts[t];const e={ascent:0,descent:0,fontSize:0},n=re._canvas,r=re._context;r.font=t;const i=re.METRICS_STRING+re.BASELINE_SYMBOL,s=Math.ceil(r.measureText(i).width);let o=Math.ceil(r.measureText(re.BASELINE_SYMBOL).width);const a=Math.ceil(re.HEIGHT_MULTIPLIER*o);if(o=o*re.BASELINE_MULTIPLIER|0,s===0||a===0)return re._fonts[t]=e,e;n.width=s,n.height=a,r.fillStyle="#f00",r.fillRect(0,0,s,a),r.font=t,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(i,0,o);const l=r.getImageData(0,0,s,a).data,u=l.length,c=s*4;let h=0,d=0,f=!1;for(h=0;h<o;++h){for(let p=0;p<c;p+=4)if(l[d+p]!==255){f=!0;break}if(!f)d+=c;else break}for(e.ascent=o-h,d=u-c,f=!1,h=a;h>o;--h){for(let p=0;p<c;p+=4)if(l[d+p]!==255){f=!0;break}if(!f)d-=c;else break}return e.descent=h-o,e.fontSize=e.ascent+e.descent,re._fonts[t]=e,e}static clearMetrics(t=""){t?delete re._fonts[t]:re._fonts={}}static get _canvas(){if(!re.__canvas){let t;try{const e=new OffscreenCanvas(0,0),n=e.getContext("2d",Kc);if(n!=null&&n.measureText)return re.__canvas=e,e;t=te.ADAPTER.createCanvas()}catch{t=te.ADAPTER.createCanvas()}t.width=t.height=10,re.__canvas=t}return re.__canvas}static get _context(){return re.__context||(re.__context=re._canvas.getContext("2d",Kc)),re.__context}};let mt=re;mt.METRICS_STRING="|q";mt.BASELINE_SYMBOL="M";mt.BASELINE_MULTIPLIER=1.4;mt.HEIGHT_MULTIPLIER=2;mt.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(n=>n.segment)}return t=>[...t]})();mt.experimentalLetterSpacing=!1;mt._fonts={};mt._newlines=[10,13];mt._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const mce=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],ml=class{constructor(t){this.styleID=0,this.reset(),xm(this,t,t)}clone(){const t={};return xm(t,this,ml.defaultStyle),new ml(t)}reset(){xm(this,ml.defaultStyle,ml.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=bm(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=bm(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){gce(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=bm(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let n=e.length-1;n>=0;n--){let r=e[n].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&!mce.includes(r)&&(r=`"${r}"`),e[n]=r}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};let Ri=ml;Ri.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:ec.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};function JS(t){return typeof t=="number"?K1(t):(typeof t=="string"&&t.startsWith("0x")&&(t=t.replace("0x","#")),t)}function bm(t){if(Array.isArray(t)){for(let e=0;e<t.length;++e)t[e]=JS(t[e]);return t}else return JS(t)}function gce(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}function xm(t,e,n){for(const r in n)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}const vce={texture:!0,children:!1,baseTexture:!0},n0=class extends Ui{constructor(t,e,n){let r=!1;n||(n=te.ADAPTER.createCanvas(),r=!0),n.width=3,n.height=3;const i=ee.from(n);i.orig=new me,i.trim=new me,super(i),this._ownCanvas=r,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=n0.defaultResolution??te.RESOLUTION,this._autoResolution=n0.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return mt.experimentalLetterSpacing}static set experimentalLetterSpacing(t){be("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),mt.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const n=this.context,r=mt.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=r.width,s=r.height,o=r.lines,a=r.lineHeight,l=r.lineWidths,u=r.maxLineWidth,c=r.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,i)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+e.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;let h,d;const f=e.dropShadow?2:1;for(let p=0;p<f;++p){const m=e.dropShadow&&p===0,v=m?Math.ceil(Math.max(1,s)+e.padding*2):0,g=v*this._resolution;if(m){n.fillStyle="black",n.strokeStyle="black";const y=e.dropShadowColor,x=Ss(typeof y=="number"?y:zf(y)),S=e.dropShadowBlur*this._resolution,C=e.dropShadowDistance*this._resolution;n.shadowColor=`rgba(${x[0]*255},${x[1]*255},${x[2]*255},${e.dropShadowAlpha})`,n.shadowBlur=S,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*C,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*C+g}else n.fillStyle=this._generateFillStyle(e,o,r),n.strokeStyle=e.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let b=(a-c.fontSize)/2;a-c.fontSize<0&&(b=0);for(let y=0;y<o.length;y++)h=e.strokeThickness/2,d=e.strokeThickness/2+y*a+c.ascent+b,e.align==="right"?h+=u-l[y]:e.align==="center"&&(h+=(u-l[y])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(o[y],h+e.padding,d+e.padding-v,!0),e.fill&&this.drawLetterSpacing(o[y],h+e.padding,d+e.padding-v)}this.updateTexture()}drawLetterSpacing(t,e,n,r=!1){const s=this._style.letterSpacing;let o=!1;if(mt.experimentalLetterSpacingSupported&&(mt.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){r?this.context.strokeText(t,e,n):this.context.fillText(t,e,n);return}let a=e;const l=mt.graphemeSegmenter(t);let u=this.context.measureText(t).width,c=0;for(let h=0;h<l.length;++h){const d=l[h];r?this.context.strokeText(d,a,n):this.context.fillText(d,a,n);let f="";for(let p=h+1;p<l.length;++p)f+=l[p];c=this.context.measureText(f).width,a+=u-c+s,u=c}}updateTexture(){const t=this.canvas;if(this._style.trim){const s=UO(t);s.data&&(t.width=s.width,t.height=s.height,this.context.putImageData(s.data,0,0))}const e=this._texture,n=this._style,r=n.trim?0:n.padding,i=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-r,e.trim.y=-r,e.orig.width=e._frame.width-r*2,e.orig.height=e._frame.height-r*2,this._onTextureUpdate(),i.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,n){const r=t.fill;if(Array.isArray(r)){if(r.length===1)return r[0]}else return r;let i;const s=t.dropShadow?t.dropShadowDistance:0,o=t.padding||0,a=this.canvas.width/this._resolution-s-o*2,l=this.canvas.height/this._resolution-s-o*2,u=r.slice(),c=t.fillGradientStops.slice();if(!c.length){const h=u.length+1;for(let d=1;d<h;++d)c.push(d/h)}if(u.unshift(r[0]),c.unshift(0),u.push(r[r.length-1]),c.push(1),t.fillGradientType===ec.LINEAR_VERTICAL){i=this.context.createLinearGradient(a/2,o,a/2,l+o);const h=n.fontProperties.fontSize+t.strokeThickness;for(let d=0;d<e.length;d++){const f=n.lineHeight*(d-1)+h,p=n.lineHeight*d;let m=p;d>0&&f>p&&(m=(p+f)/2);const v=p+h,g=n.lineHeight*(d+1);let b=v;d+1<e.length&&g<v&&(b=(v+g)/2);const y=(b-m)/l;for(let x=0;x<u.length;x++){let S=0;typeof c[x]=="number"?S=c[x]:S=x/u.length;let C=Math.min(1,Math.max(0,m/l+S*y));C=Number(C.toFixed(5)),i.addColorStop(C,u[x])}}}else{i=this.context.createLinearGradient(o,l/2,a+o,l/2);const h=u.length+1;let d=1;for(let f=0;f<u.length;f++){let p;typeof c[f]=="number"?p=c[f]:p=d/h,i.addColorStop(p,u[f]),d++}}return i}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},vce,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=ns(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=ns(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof Ri?this._style=t:this._style=new Ri(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};let da=n0;da.defaultAutoResolution=!0;class ok{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function yce(t,e){var r;let n=!1;if((r=t==null?void 0:t._textures)!=null&&r.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof ee){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),n=!0)}}return n}function bce(t,e){if(t.baseTexture instanceof fe){const n=t.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function xce(t,e){if(t._texture&&t._texture instanceof ee){const n=t._texture.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function wce(t,e){return e instanceof da?(e.updateText(!0),!0):!1}function _ce(t,e){if(e instanceof Ri){const n=e.toFontString();return mt.measureFont(n),!0}return!1}function Ece(t,e){if(t instanceof da){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const n=t._texture.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function Sce(t,e){return t instanceof Ri?(e.includes(t)||e.push(t),!0):!1}const ak=class{constructor(t){this.limiter=new ok(ak.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(Ece),this.registerFindHook(Sce),this.registerFindHook(yce),this.registerFindHook(bce),this.registerFindHook(xce),this.registerUploadHook(wce),this.registerUploadHook(_ce)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,ut.system.addOnce(this.tick,this,Ii.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed){for(let n=0,r=this.uploadHooks.length;n<r;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)ut.system.addOnce(this.tick,this,Ii.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,n=t.length;e<n;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,n=this.addHooks.length;e<n&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Nt)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&ut.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let xu=ak;xu.uploadsPerFrame=4;Object.defineProperties(te,{UPLOADS_PER_FRAME:{get(){return xu.uploadsPerFrame},set(t){be("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),xu.uploadsPerFrame=t}}});function lk(t,e){return e instanceof fe?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function Cce(t,e){if(!(e instanceof Ts))return!1;const{geometry:n}=e;e.finishPoly(),n.updateBatches();const{batches:r}=n;for(let i=0;i<r.length;i++){const{texture:s}=r[i].style;s&&lk(t,s.baseTexture)}return n.batchable||t.geometry.bind(n,e._resolveDirectShader(t)),!0}function Tce(t,e){return t instanceof Ts?(e.push(t),!0):!1}class jb extends xu{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(Tce),this.registerUploadHook(lk),this.registerUploadHook(Cce)}}jb.extension={name:"prepare",type:J.RendererSystem};se.add(jb);class Ace{constructor(e){this.maxMilliseconds=e,this.frameStart=0}beginFrame(){this.frameStart=Date.now()}allowedToUpload(){return Date.now()-this.frameStart<this.maxMilliseconds}}class Id extends Ui{constructor(e,n=!0){super(e[0]instanceof ee?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=n,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(ut.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(ut.shared.add(this.update,this,Ii.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const n=this.animationSpeed*e,r=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=n/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const n=[];for(let r=0;r<e.length;++r)n.push(ee.from(e[r]));return new Id(n)}static fromImages(e){const n=[];for(let r=0;r<e.length;++r)n.push(ee.from(e[r]));return new Id(n)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof ee)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let n=0;n<e.length;n++)this._textures.push(e[n].texture),this._durations.push(e[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const n=this.currentFrame;this._currentTime=e,n!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(ut.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(ut.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const Ja=new le;class zb extends Ui{constructor(e,n=100,r=100){super(e),this.tileTransform=new qu,this._width=n,this._height=r,this.uvMatrix=this.texture.uvMatrix||new Vf(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,n=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,n,r,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new me),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Ja);const n=this._width,r=this._height,i=-n*this.anchor._x;if(Ja.x>=i&&Ja.x<i+n){const s=-r*this.anchor._y;if(Ja.y>=s&&Ja.y<s+r)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,n){const r=e instanceof ee?e:ee.from(e,n);return new zb(r,n.width,n.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var Pce=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,Oce=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Ice=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,e2=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,kce=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const Zc=new je;class Hb extends Yu{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new ub,this.state=Or.for2d()}contextChange(){const e=this.renderer,n={globals:e.globalUniforms};this.simpleShader=ir.from(e2,kce,n),this.shader=e.context.webGLVersion>1?ir.from(Oce,Pce,n):ir.from(e2,Ice,n)}render(e){const n=this.renderer,r=this.quad;let i=r.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=r.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,r.invalidate();const a=e._texture,l=a.baseTexture,u=l.alphaMode>0,c=e.tileTransform.localTransform,h=e.uvMatrix;let d=l.isPowerOfTwo&&a.frame.width===l.width&&a.frame.height===l.height;d&&(l._glTextures[n.CONTEXT_UID]?d=l.wrapMode!==Cr.CLAMP:l.wrapMode===Cr.CLAMP&&(l.wrapMode=Cr.REPEAT));const f=d?this.simpleShader:this.shader,p=a.width,m=a.height,v=e._width,g=e._height;Zc.set(c.a*p/v,c.b*p/g,c.c*m/v,c.d*m/g,c.tx/v,c.ty/g),Zc.invert(),d?Zc.prepend(h.mapCoord):(f.uniforms.uMapCoord=h.mapCoord.toArray(!0),f.uniforms.uClampFrame=h.uClampFrame,f.uniforms.uClampOffset=h.uClampOffset),f.uniforms.uTransform=Zc.toArray(!0),f.uniforms.uColor=J1(e.tint,e.worldAlpha,f.uniforms.uColor,u),f.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),f.uniforms.uSampler=a,n.shader.bind(f),n.geometry.bind(r),this.state.blendMode=Q1(e.blendMode,u),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}Hb.extension={name:"tilingSprite",type:J.RendererPlugin};se.add(Hb);const gl=class{constructor(t,e,n=null){this.linkedSheets=[],this._texture=t instanceof ee?t:null,this.baseTexture=t instanceof fe?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const r=this.baseTexture.resource;this.resolution=this._updateResolution(n||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let n=Xr(t,null);return n===null&&(n=parseFloat(e??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=gl.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const n=gl.BATCH_SIZE;for(;e-t<n&&e<this._frameKeys.length;){const r=this._frameKeys[e],i=this._frames[r],s=i.frame;if(s){let o=null,a=null;const l=i.trimmed!==!1&&i.sourceSize?i.sourceSize:i.frame,u=new me(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);i.rotated?o=new me(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):o=new me(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),i.trimmed!==!1&&i.spriteSourceSize&&(a=new me(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[r]=new ee(this.baseTexture,o,u,a,i.rotated?2:0,i.anchor),ee.addToCache(this.textures[r],r)}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let n=0;n<t[e].length;n++){const r=t[e][n];this.animations[e].push(this.textures[r])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*gl.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*gl.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var e;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)==null||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let kd=gl;kd.BATCH_SIZE=1e3;const Rce=["jpg","png","jpeg","avif","webp"];function uk(t,e,n){const r={};if(t.forEach(i=>{r[i]=e}),Object.keys(e.textures).forEach(i=>{r[i]=e.textures[i]}),!n){const i=bt.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const a=uk([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(r,a)})}return r}const ck={extension:J.Asset,cache:{test:t=>t instanceof kd,getCacheableAssets:(t,e)=>uk(t,e,!1)},resolver:{test:t=>{const n=t.split("?")[0].split("."),r=n.pop(),i=n.pop();return r==="json"&&Rce.includes(i)},parse:t=>{var n;const e=t.split(".");return{resolution:parseFloat(((n=te.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:e[e.length-2],src:t}}},loader:{extension:{type:J.LoadParser,priority:cr.Normal},async testParse(t,e){return bt.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,n){var u,c;let r=bt.dirname(e.src);r&&r.lastIndexOf("/")!==r.length-1&&(r+="/");let i=r+t.meta.image;i=Od(i,e.src);const o=(await n.load([i]))[i],a=new kd(o.baseTexture,t,e.src);await a.parse();const l=(u=t==null?void 0:t.meta)==null?void 0:u.related_multi_packs;if(Array.isArray(l)){const h=[];for(const f of l){if(typeof f!="string")continue;let p=r+f;(c=e.data)!=null&&c.ignoreMultiPack||(p=Od(p,e.src),h.push(n.load({src:p,data:{ignoreMultiPack:!0}})))}const d=await Promise.all(h);a.linkedSheets=d,d.forEach(f=>{f.linkedSheets=[a].concat(a.linkedSheets.filter(p=>p!==f))})}return a},unload(t){t.destroy(!0)}}};se.add(ck);class wu{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Pl{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const n=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in n){const o=n[s].match(/^[a-z]+/gm)[0],a=n[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),l={};for(const u in a){const c=a[u].split("="),h=c[0],d=c[1].replace(/"/gm,""),f=parseFloat(d),p=isNaN(f)?d:f;l[h]=p}r[o].push(l)}const i=new wu;return r.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),r.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),r.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),r.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),r.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),r.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class Rd{static test(e){const n=e;return"getElementsByTagName"in n&&n.getElementsByTagName("page").length&&n.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const n=new wu,r=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField");for(let u=0;u<r.length;u++)n.info.push({face:r[u].getAttribute("face"),size:parseInt(r[u].getAttribute("size"),10)});for(let u=0;u<i.length;u++)n.common.push({lineHeight:parseInt(i[u].getAttribute("lineHeight"),10)});for(let u=0;u<s.length;u++)n.page.push({id:parseInt(s[u].getAttribute("id"),10)||0,file:s[u].getAttribute("file")});for(let u=0;u<o.length;u++){const c=o[u];n.char.push({id:parseInt(c.getAttribute("id"),10),page:parseInt(c.getAttribute("page"),10)||0,x:parseInt(c.getAttribute("x"),10),y:parseInt(c.getAttribute("y"),10),width:parseInt(c.getAttribute("width"),10),height:parseInt(c.getAttribute("height"),10),xoffset:parseInt(c.getAttribute("xoffset"),10),yoffset:parseInt(c.getAttribute("yoffset"),10),xadvance:parseInt(c.getAttribute("xadvance"),10)})}for(let u=0;u<a.length;u++)n.kerning.push({first:parseInt(a[u].getAttribute("first"),10),second:parseInt(a[u].getAttribute("second"),10),amount:parseInt(a[u].getAttribute("amount"),10)});for(let u=0;u<l.length;u++)n.distanceField.push({fieldType:l[u].getAttribute("fieldType"),distanceRange:parseInt(l[u].getAttribute("distanceRange"),10)});return n}}class Md{static test(e){return typeof e=="string"&&e.includes("<font>")?Rd.test(te.ADAPTER.parseXML(e)):!1}static parse(e){return Rd.parse(te.ADAPTER.parseXML(e))}}const wm=[Pl,Rd,Md];function hk(t){for(let e=0;e<wm.length;e++)if(wm[e].test(t))return wm[e];return null}function Mce(t,e,n,r,i,s){const o=n.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const l=n.dropShadow?n.dropShadowDistance:0,u=n.padding||0,c=t.width/r-l-u*2,h=t.height/r-l-u*2,d=o.slice(),f=n.fillGradientStops.slice();if(!f.length){const p=d.length+1;for(let m=1;m<p;++m)f.push(m/p)}if(d.unshift(o[0]),f.unshift(0),d.push(o[o.length-1]),f.push(1),n.fillGradientType===ec.LINEAR_VERTICAL){a=e.createLinearGradient(c/2,u,c/2,h+u);let p=0;const v=(s.fontProperties.fontSize+n.strokeThickness)/h;for(let g=0;g<i.length;g++){const b=s.lineHeight*g;for(let y=0;y<d.length;y++){let x=0;typeof f[y]=="number"?x=f[y]:x=y/d.length;const S=b/h+x*v;let C=Math.max(p,S);C=Math.min(C,1),a.addColorStop(C,d[y]),p=C}}}else{a=e.createLinearGradient(u,h/2,c+u,h/2);const p=d.length+1;let m=1;for(let v=0;v<d.length;v++){let g;typeof f[v]=="number"?g=f[v]:g=m/p,a.addColorStop(g,d[v]),m++}}return a}function Fce(t,e,n,r,i,s,o){const a=n.text,l=n.fontProperties;e.translate(r,i),e.scale(s,s);const u=o.strokeThickness/2,c=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=Mce(t,e,o,s,[a],n),e.strokeStyle=o.stroke,o.dropShadow){const h=o.dropShadowColor,d=Ss(typeof h=="number"?h:zf(h)),f=o.dropShadowBlur*s,p=o.dropShadowDistance*s;e.shadowColor=`rgba(${d[0]*255},${d[1]*255},${d[2]*255},${o.dropShadowAlpha})`,e.shadowBlur=f,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*p,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*p}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,u,c+n.lineHeight-l.descent),o.fill&&e.fillText(a,u,c+n.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Th(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function dk(t){return Array.from?Array.from(t):t.split("")}function Dce(t){typeof t=="string"&&(t=[t]);const e=[];for(let n=0,r=t.length;n<r;n++){const i=t[n];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,l=o;a<=l;a++)e.push(String.fromCharCode(a))}else e.push(...dk(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const Wn=class{constructor(t,e,n){var u;const[r]=t.info,[i]=t.common,[s]=t.page,[o]=t.distanceField,a=Xr(s.file),l={};this._ownsTextures=n,this.font=r.face,this.size=r.size,this.lineHeight=i.lineHeight/a,this.chars={},this.pageTextures=l;for(let c=0;c<t.page.length;c++){const{id:h,file:d}=t.page[c];l[h]=e instanceof Array?e[c]:e[d],o!=null&&o.fieldType&&o.fieldType!=="none"&&(l[h].baseTexture.alphaMode=Bn.NO_PREMULTIPLIED_ALPHA,l[h].baseTexture.mipmap=ar.OFF)}for(let c=0;c<t.char.length;c++){const{id:h,page:d}=t.char[c];let{x:f,y:p,width:m,height:v,xoffset:g,yoffset:b,xadvance:y}=t.char[c];f/=a,p/=a,m/=a,v/=a,g/=a,b/=a,y/=a;const x=new me(f+l[d].frame.x/a,p+l[d].frame.y/a,m,v);this.chars[h]={xOffset:g,yOffset:b,xAdvance:y,kerning:{},texture:new ee(l[d].baseTexture,x),page:d}}for(let c=0;c<t.kerning.length;c++){let{first:h,second:d,amount:f}=t.kerning[c];h/=a,d/=a,f/=a,this.chars[d]&&(this.chars[d].kerning[h]=f)}this.distanceFieldRange=o==null?void 0:o.distanceRange,this.distanceFieldType=((u=o==null?void 0:o.fieldType)==null?void 0:u.toLowerCase())??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,n){let r;if(t instanceof wu)r=t;else{const s=hk(t);if(!s)throw new Error("Unrecognized data format for font.");r=s.parse(t)}e instanceof ee&&(e=[e]);const i=new Wn(r,e,n);return Wn.available[i.font]=i,i}static uninstall(t){const e=Wn.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete Wn.available[t]}static from(t,e,n){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:r,padding:i,resolution:s,textureWidth:o,textureHeight:a,...l}=Object.assign({},Wn.defaultOptions,n),u=Dce(r),c=e instanceof Ri?e:new Ri(e),h=o,d=new wu;d.info[0]={face:c.fontFamily,size:c.fontSize},d.common[0]={lineHeight:c.fontSize};let f=0,p=0,m,v,g,b=0;const y=[];for(let S=0;S<u.length;S++){m||(m=te.ADAPTER.createCanvas(),m.width=o,m.height=a,v=m.getContext("2d"),g=new fe(m,{resolution:s,...l}),y.push(new ee(g)),d.page.push({id:y.length-1,file:""}));const C=u[S],T=mt.measureText(C,c,!1,m),A=T.width,I=Math.ceil(T.height),M=Math.ceil((c.fontStyle==="italic"?2:1)*A);if(p>=a-I*s){if(p===0)throw new Error(`[BitmapFont] textureHeight ${a}px is too small (fontFamily: '${c.fontFamily}', fontSize: ${c.fontSize}px, char: '${C}')`);--S,m=null,v=null,g=null,p=0,f=0,b=0;continue}if(b=Math.max(I+T.fontProperties.descent,b),M*s+f>=h){if(f===0)throw new Error(`[BitmapFont] textureWidth ${o}px is too small (fontFamily: '${c.fontFamily}', fontSize: ${c.fontSize}px, char: '${C}')`);--S,p+=b*s,p=Math.ceil(p),f=0,b=0;continue}Fce(m,v,T,f,p,s,c);const N=Th(T.text);d.char.push({id:N,page:y.length-1,x:f/s,y:p/s,width:M,height:I,xoffset:0,yoffset:0,xadvance:A-(c.dropShadow?c.dropShadowDistance:0)-(c.stroke?c.strokeThickness:0)}),f+=(M+2*i)*s,f=Math.ceil(f)}for(let S=0,C=u.length;S<C;S++){const T=u[S];for(let A=0;A<C;A++){const I=u[A],M=v.measureText(T).width,N=v.measureText(I).width,B=v.measureText(T+I).width-(M+N);B&&d.kerning.push({first:Th(T),second:Th(I),amount:B})}}const x=new Wn(d,y,!0);return Wn.available[t]!==void 0&&Wn.uninstall(t),Wn.available[t]=x,x}};let Ft=Wn;Ft.ALPHA=[["a","z"],["A","Z"]," "];Ft.NUMERIC=[["0","9"]];Ft.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];Ft.ASCII=[[" ","~"]];Ft.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Wn.ALPHANUMERIC};Ft.available={};var $ce=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,Bce=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const t2=[],n2=[],r2=[],fk=class extends Nt{constructor(t,e={}){super(),this._tint=16777215;const{align:n,tint:r,maxWidth:i,letterSpacing:s,fontName:o,fontSize:a}=Object.assign({},fk.styleDefaults,e);if(!Ft.available[o])throw new Error(`Missing BitmapFont "${o}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tint=r,this._font=void 0,this._fontName=o,this._fontSize=a,this.text=t,this._maxWidth=i,this._maxLineHeight=0,this._letterSpacing=s,this._anchor=new Lr(()=>{this.dirty=!0},this,0,0),this._roundPixels=te.ROUND_PIXELS,this.dirty=!0,this._resolution=te.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var M;const t=Ft.available[this._fontName],e=this.fontSize,n=e/t.size,r=new le,i=[],s=[],o=[],a=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",l=dk(a),u=this._maxWidth*t.size/e,c=t.distanceFieldType==="none"?t2:n2;let h=null,d=0,f=0,p=0,m=-1,v=0,g=0,b=0,y=0;for(let N=0;N<l.length;N++){const D=l[N],B=Th(D);if(/(?:\s)/.test(D)&&(m=N,v=d,y++),D==="\r"||D===`
`){s.push(d),o.push(-1),f=Math.max(f,d),++p,++g,r.x=0,r.y+=t.lineHeight,h=null,y=0;continue}const k=t.chars[B];if(!k)continue;h&&k.kerning[h]&&(r.x+=k.kerning[h]);const H=r2.pop()||{texture:ee.EMPTY,line:0,charCode:0,prevSpaces:0,position:new le};H.texture=k.texture,H.line=p,H.charCode=B,H.position.x=Math.round(r.x+k.xOffset+this._letterSpacing/2),H.position.y=Math.round(r.y+k.yOffset),H.prevSpaces=y,i.push(H),d=H.position.x+Math.max(k.xAdvance-k.xOffset,k.texture.orig.width),r.x+=k.xAdvance+this._letterSpacing,b=Math.max(b,k.yOffset+k.texture.height),h=B,m!==-1&&u>0&&r.x>u&&(++g,ds(i,1+m-g,1+N-m),N=m,m=-1,s.push(v),o.push(i.length>0?i[i.length-1].prevSpaces:0),f=Math.max(f,v),p++,r.x=0,r.y+=t.lineHeight,h=null,y=0)}const x=l[l.length-1];x!=="\r"&&x!==`
`&&(/(?:\s)/.test(x)&&(d=v),s.push(d),f=Math.max(f,d),o.push(-1));const S=[];for(let N=0;N<=p;N++){let D=0;this._align==="right"?D=f-s[N]:this._align==="center"?D=(f-s[N])/2:this._align==="justify"&&(D=o[N]<0?0:(f-s[N])/o[N]),S.push(D)}const C=i.length,T={},A=[],I=this._activePagesMeshData;c.push(...I);for(let N=0;N<C;N++){const D=i[N].texture,B=D.baseTexture.uid;if(!T[B]){let k=c.pop();if(!k){const q=new Ju;let z,L;t.distanceFieldType==="none"?(z=new ha(ee.EMPTY),L=ue.NORMAL):(z=new ha(ee.EMPTY,{program:On.from(Bce,$ce),uniforms:{uFWidth:0}}),L=ue.NORMAL_NPM);const G=new As(q,z);G.blendMode=L,k={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:G,vertices:null,uvs:null,indices:null}}k.index=0,k.indexCount=0,k.vertexCount=0,k.uvsCount=0,k.total=0;const{_textureCache:H}=this;H[B]=H[B]||new ee(D.baseTexture),k.mesh.texture=H[B],k.mesh.tint=this._tint,A.push(k),T[B]=k}T[B].total++}for(let N=0;N<I.length;N++)A.includes(I[N])||this.removeChild(I[N].mesh);for(let N=0;N<A.length;N++)A[N].mesh.parent!==this&&this.addChild(A[N].mesh);this._activePagesMeshData=A;for(const N in T){const D=T[N],B=D.total;if(!(((M=D.indices)==null?void 0:M.length)>6*B)||D.vertices.length<As.BATCHABLE_SIZE*2)D.vertices=new Float32Array(4*2*B),D.uvs=new Float32Array(4*2*B),D.indices=new Uint16Array(6*B);else{const k=D.total,H=D.vertices;for(let q=k*4*2;q<H.length;q++)H[q]=0}D.mesh.size=6*B}for(let N=0;N<C;N++){const D=i[N];let B=D.position.x+S[D.line]*(this._align==="justify"?D.prevSpaces:1);this._roundPixels&&(B=Math.round(B));const k=B*n,H=D.position.y*n,q=D.texture,z=T[q.baseTexture.uid],L=q.frame,G=q._uvs,R=z.index++;z.indices[R*6+0]=0+R*4,z.indices[R*6+1]=1+R*4,z.indices[R*6+2]=2+R*4,z.indices[R*6+3]=0+R*4,z.indices[R*6+4]=2+R*4,z.indices[R*6+5]=3+R*4,z.vertices[R*8+0]=k,z.vertices[R*8+1]=H,z.vertices[R*8+2]=k+L.width*n,z.vertices[R*8+3]=H,z.vertices[R*8+4]=k+L.width*n,z.vertices[R*8+5]=H+L.height*n,z.vertices[R*8+6]=k,z.vertices[R*8+7]=H+L.height*n,z.uvs[R*8+0]=G.x0,z.uvs[R*8+1]=G.y0,z.uvs[R*8+2]=G.x1,z.uvs[R*8+3]=G.y1,z.uvs[R*8+4]=G.x2,z.uvs[R*8+5]=G.y2,z.uvs[R*8+6]=G.x3,z.uvs[R*8+7]=G.y3}this._textWidth=f*n,this._textHeight=(r.y+t.lineHeight)*n;for(const N in T){const D=T[N];if(this.anchor.x!==0||this.anchor.y!==0){let q=0;const z=this._textWidth*this.anchor.x,L=this._textHeight*this.anchor.y;for(let G=0;G<D.total;G++)D.vertices[q++]-=z,D.vertices[q++]-=L,D.vertices[q++]-=z,D.vertices[q++]-=L,D.vertices[q++]-=z,D.vertices[q++]-=L,D.vertices[q++]-=z,D.vertices[q++]-=L}this._maxLineHeight=b*n;const B=D.mesh.geometry.getBuffer("aVertexPosition"),k=D.mesh.geometry.getBuffer("aTextureCoord"),H=D.mesh.geometry.getIndex();B.data=D.vertices,k.data=D.uvs,H.data=D.indices,B.update(),k.update(),H.update()}for(let N=0;N<i.length;N++)r2.push(i[N]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:n,size:r}=Ft.available[this._fontName];if(n!=="none"){const{a:i,b:s,c:o,d:a}=this.worldTransform,l=Math.sqrt(i*i+s*s),u=Math.sqrt(o*o+a*a),c=(Math.abs(l)+Math.abs(u))/2,h=this.fontSize/r,d=t._view.resolution;for(const f of this._activePagesMeshData)f.mesh.shader.uniforms.uFWidth=c*e*h*d}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=Ft.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tint}set tint(t){if(this._tint!==t){this._tint=t;for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!Ft.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??Ft.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,r=Ft.available[this._fontName].distanceFieldType==="none"?t2:n2;r.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],r.filter(i=>e[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=ee.EMPTY});for(const i in e)e[i].destroy(),delete e[i];this._font=null,this._textureCache=null,super.destroy(t)}};let pk=fk;pk.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const Nce=[".xml",".fnt"],mk={extension:{type:J.LoadParser,priority:cr.Normal},test(t){return Nce.includes(bt.extname(t).toLowerCase())},async testParse(t){return Pl.test(t)||Md.test(t)},async parse(t,e,n){const r=Pl.test(t)?Pl.parse(t):Md.parse(t),{src:i}=e,{page:s}=r,o=[];for(let u=0;u<s.length;++u){const c=s[u].file;let h=bt.join(bt.dirname(i),c);h=Od(h,i),o.push(h)}const a=await n.load(o),l=o.map(u=>a[u]);return Ft.install(r,l,!0)},async load(t,e){return(await te.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};se.add(mk);const Lce=Object.freeze(Object.defineProperty({__proto__:null,ALPHA_MODES:Bn,AbstractMultiResource:kb,AccessibilityManager:Fb,AlphaFilter:xI,AnimatedSprite:Id,Application:qf,ArrayResource:gI,Assets:is,AssetsClass:$I,Attribute:du,BLEND_MODES:ue,BUFFER_BITS:yd,BUFFER_TYPE:nr,BackgroundSystem:nb,BaseImageResource:Yr,BasePrepare:xu,BaseRenderTexture:sb,BaseTexture:fe,BatchDrawCall:Sd,BatchGeometry:tb,BatchRenderer:Sn,BatchShaderGenerator:JO,BatchSystem:rb,BatchTextureArray:Cd,BitmapFont:Ft,BitmapFontData:wu,BitmapText:pk,BlobResource:HI,BlurFilter:wI,BlurFilterPass:Ad,Bounds:pu,BrowserAdapter:OO,Buffer:nt,BufferResource:Oa,BufferSystem:Ob,CLEAR_MODES:Yn,COLOR_MASK_BITS:PO,Cache:go,CanvasResource:vI,Circle:aa,ColorMatrixFilter:Pd,CompressedTextureResource:Si,Container:Nt,ContextSystem:ib,CountLimiter:ok,CubeResource:Rb,DEG_TO_RAD:GO,DRAW_MODES:Zn,DisplacementFilter:_I,DisplayObject:Ve,ENV:Li,Ellipse:Wf,EventBoundary:CI,EventSystem:Mb,ExtensionType:J,Extract:Bb,FORMATS:Y,FORMATS_TO_COMPONENTS:WI,FXAAFilter:EI,FederatedDisplayObject:TI,FederatedEvent:Ia,FederatedMouseEvent:mu,FederatedPointerEvent:xn,FederatedWheelEvent:Cs,FillStyle:Qu,Filter:vt,FilterState:tI,FilterSystem:cb,Framebuffer:Td,FramebufferSystem:hb,GC_MODES:Nf,GLFramebuffer:nI,GLProgram:oI,GLTexture:_h,GRAPHICS_CURVES:nce,GenerateTextureSystem:yb,Geometry:qr,GeometrySystem:db,Graphics:Ts,GraphicsData:bu,GraphicsGeometry:Lb,IGLUniformData:Ile,INSTALLED:Ed,INTERNAL_FORMATS:zt,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:vu,ImageBitmapResource:rs,ImageResource:ob,LINE_CAP:pi,LINE_JOIN:wn,LineStyle:Zf,LoaderParserPriority:cr,MASK_TYPES:at,MIPMAP_MODES:ar,MSAA_QUALITY:qe,MaskData:iI,MaskSystem:fb,Matrix:je,Mesh:As,MeshBatchUvs:tk,MeshGeometry:Ju,MeshMaterial:ha,MultisampleSystem:Pb,NineSlicePlane:uce,NoiseFilter:SI,ObjectRenderer:Yu,ObjectRendererSystem:Ib,ObservablePoint:Lr,PI_2:fu,PRECISION:sn,ParticleContainer:dce,ParticleRenderer:Ub,PlaneGeometry:rk,PluginSystem:gb,Point:le,Polygon:fs,Prepare:jb,Program:On,ProjectionSystem:vb,Quad:eI,QuadUv:ub,RAD_TO_DEG:HO,RENDERER_TYPE:Y1,Rectangle:me,RenderTexture:Kr,RenderTexturePool:lb,RenderTextureSystem:bb,Renderer:Ns,ResizePlugin:Db,Resource:oa,RopeGeometry:ik,RoundedRectangle:la,Runner:dn,SAMPLER_TYPES:bd,SCALE_MODES:wr,SHAPES:gt,SVGResource:ua,ScissorSystem:pb,Shader:ir,ShaderSystem:xb,SimpleMesh:cce,SimplePlane:sk,SimpleRope:hce,Sprite:Ui,SpriteMaskFilter:rI,Spritesheet:kd,StartupSystem:wb,State:Or,StateSystem:_b,StencilSystem:mb,SystemManager:dI,TARGETS:hs,TEXT_GRADIENT:ec,TYPES:ae,TYPES_TO_BYTES_PER_COMPONENT:Zv,TYPES_TO_BYTES_PER_PIXEL:VI,TemporaryDisplayObject:yI,Text:da,TextFormat:Pl,TextMetrics:mt,TextStyle:Ri,Texture:ee,TextureGCSystem:Cn,TextureMatrix:Vf,TextureSystem:Eb,TextureUvs:ab,Ticker:ut,TickerPlugin:Tb,TilingSprite:zb,TilingSpriteRenderer:Hb,TimeLimiter:Ace,Transform:qu,TransformFeedback:Xle,TransformFeedbackSystem:Sb,UPDATE_PRIORITY:Ii,UniformGroup:Rn,VERSION:qle,VideoResource:Xf,ViewSystem:Cb,ViewableBuffer:_d,WRAP_MODES:Cr,XMLFormat:Rd,XMLStringFormat:Md,accessibleTarget:AI,autoDetectFormat:hk,autoDetectRenderer:pI,autoDetectResource:eb,cacheTextureArray:BI,checkDataUrl:$b,checkExtension:Ku,checkMaxIfStatementsInShader:zO,convertToList:Tr,copySearchParams:Od,createStringVariations:OI,createTexture:Zu,createUBOElements:uI,curves:ki,defaultFilterVertex:Ab,defaultVertex:mI,detectAvif:NI,detectCompressedTextures:zI,detectDefaults:UI,detectWebp:LI,extensions:se,filters:qv,generateProgram:aI,generateUniformBufferSync:hI,getFontFamilyName:RI,getTestContext:YO,getUBOData:cI,graphicsUtils:oce,groupD8:He,isMobile:Qn,isSingleItem:gu,loadBitmapFont:mk,loadDDS:qI,loadImageBitmap:FI,loadJson:II,loadKTX:YI,loadSVG:DI,loadTextures:ca,loadTxt:kI,loadWebFont:MI,parseDDS:GI,parseKTX:XI,resolveCompressedTextureUrl:KI,resolveTextureUrl:jI,settings:te,spritesheetAsset:ck,uniformParsers:ps,unsafeEvalSupported:QO,utils:Jae},Symbol.toStringTag,{value:"Module"})),Uce=_k(Lce);var Fd=$r&&$r.__assign||function(){return Fd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Fd.apply(this,arguments)},gk=void 0,dr=Uce,jce={dash:[10,5],width:1,color:16777215,alpha:1,scale:1,useTexture:!1,alignment:.5},zce=function(){function t(e,n){n===void 0&&(n={}),this.cursor=new dr.Point,this.scale=1,this.graphics=e,n=Fd(Fd({},jce),n),this.dash=n.dash,this.dashSize=this.dash.reduce(function(r,i){return r+i}),this.useTexture=n.useTexture,this.options=n,this.setLineStyle()}return t.prototype.setLineStyle=function(){var e=this.options;if(this.useTexture){var n=t.getTexture(e,this.dashSize);this.graphics.lineTextureStyle({width:e.width*e.scale,color:e.color,alpha:e.alpha,texture:n,alignment:e.alignment}),this.activeTexture=n}else this.graphics.lineStyle({width:e.width*e.scale,color:e.color,alpha:e.alpha,cap:e.cap,join:e.join,alignment:e.alignment});this.scale=e.scale},t.distance=function(e,n,r,i){return Math.sqrt(Math.pow(r-e,2)+Math.pow(i-n,2))},t.prototype.moveTo=function(e,n){return this.lineLength=0,this.cursor.set(e,n),this.start=new dr.Point(e,n),this.graphics.moveTo(this.cursor.x,this.cursor.y),this},t.prototype.lineTo=function(e,n,r){typeof this.lineLength===void 0&&this.moveTo(0,0);var i=t.distance(this.cursor.x,this.cursor.y,e,n),s=Math.atan2(n-this.cursor.y,e-this.cursor.x),o=r&&e===this.start.x&&n===this.start.y;if(this.useTexture)if(this.graphics.moveTo(this.cursor.x,this.cursor.y),this.adjustLineStyle(s),o&&this.dash.length%2===0){var a=Math.min(this.dash[this.dash.length-1],i);this.graphics.lineTo(e-Math.cos(s)*a,n-Math.sin(s)*a),this.graphics.closePath()}else this.graphics.lineTo(e,n);else{for(var l=Math.cos(s),u=Math.sin(s),c=this.cursor.x,h=this.cursor.y,d=this.lineLength%(this.dashSize*this.scale),f=0,p=0,m=0,v=0;v<this.dash.length;v++){var g=this.dash[v]*this.scale;if(d<m+g){f=v,p=d-m;break}else m+=g}for(var b=i;b>0;){var g=this.dash[f]*this.scale-p,y=b>g?g:b;if(o){var x=t.distance(c+l*y,h+u*y,this.start.x,this.start.y);if(x<=y){if(f%2===0){var S=t.distance(c,h,this.start.x,this.start.y)-this.dash[this.dash.length-1]*this.scale;c+=l*S,h+=u*S,this.graphics.lineTo(c,h)}break}}c+=l*y,h+=u*y,f%2?this.graphics.moveTo(c,h):this.graphics.lineTo(c,h),b-=y,f++,f=f===this.dash.length?0:f,p=0}}return this.lineLength+=i,this.cursor.set(e,n),this},t.prototype.closePath=function(){this.lineTo(this.start.x,this.start.y,!0)},t.prototype.drawCircle=function(e,n,r,i,s){i===void 0&&(i=80);var o=Math.PI*2/i,a=0,l;s?(l=new dr.Point(e+Math.cos(a)*r,n+Math.sin(a)*r),s.apply(l,l),this.moveTo(l[0],l[1])):(l=new dr.Point(e+Math.cos(a)*r,n+Math.sin(a)*r),this.moveTo(l.x,l.y)),a+=o;for(var u=1;u<i+1;u++){var c=u===i?l:[e+Math.cos(a)*r,n+Math.sin(a)*r];this.lineTo(c[0],c[1]),a+=o}return this},t.prototype.drawEllipse=function(e,n,r,i,s,o){s===void 0&&(s=80);for(var a=Math.PI*2/s,l,u=new dr.Point,c=0;c<Math.PI*2;c+=a){var h=e-r*Math.sin(c),d=n-i*Math.cos(c);o&&(u.set(h,d),o.apply(u,u),h=u.x,d=u.y),c===0?(this.moveTo(h,d),l={x:h,y:d}):this.lineTo(h,d)}return this.lineTo(l.x,l.y,!0),this},t.prototype.drawPolygon=function(e,n){var r=new dr.Point;if(typeof e[0]=="number")if(n){r.set(e[0],e[1]),n.apply(r,r),this.moveTo(r.x,r.y);for(var i=2;i<e.length;i+=2)r.set(e[i],e[i+1]),n.apply(r,r),this.lineTo(r.x,r.y,i===e.length-2)}else{this.moveTo(e[0],e[1]);for(var i=2;i<e.length;i+=2)this.lineTo(e[i],e[i+1],i===e.length-2)}else if(n){var s=e[0];r.copyFrom(s),n.apply(r,r),this.moveTo(r.x,r.y);for(var i=1;i<e.length;i++){var o=e[i];r.copyFrom(o),n.apply(r,r),this.lineTo(r.x,r.y,i===e.length-1)}}else{var s=e[0];this.moveTo(s.x,s.y);for(var i=1;i<e.length;i++){var a=e[i];this.lineTo(a.x,a.y,i===e.length-1)}}return this},t.prototype.drawRect=function(e,n,r,i,s){if(s){var o=new dr.Point;o.set(e,n),s.apply(o,o),this.moveTo(o.x,o.y),o.set(e+r,n),s.apply(o,o),this.lineTo(o.x,o.y),o.set(e+r,n+i),s.apply(o,o),this.lineTo(o.x,o.y),o.set(e,n+i),s.apply(o,o),this.lineTo(o.x,o.y),o.set(e,n),s.apply(o,o),this.lineTo(o.x,o.y,!0)}else this.moveTo(e,n).lineTo(e+r,n).lineTo(e+r,n+i).lineTo(e,n+i).lineTo(e,n,!0);return this},t.prototype.adjustLineStyle=function(e){var n=this.graphics.line;n.matrix=new dr.Matrix,e&&n.matrix.rotate(e),this.scale!==1&&n.matrix.scale(this.scale,this.scale);var r=-this.lineLength;n.matrix.translate(this.cursor.x+r*Math.cos(e),this.cursor.y+r*Math.sin(e)),this.graphics.lineStyle(n)},t.getTexture=function(e,n){var r=e.dash.toString();if(t.dashTextureCache[r])return t.dashTextureCache[r];var i=document.createElement("canvas");i.width=n,i.height=Math.ceil(e.width);var s=i.getContext("2d");if(!s){console.warn("Did not get context from canvas");return}s.strokeStyle="white",s.globalAlpha=e.alpha,s.lineWidth=e.width;var o=0,a=e.width/2;s.moveTo(o,a);for(var l=0;l<e.dash.length;l+=2)o+=e.dash[l],s.lineTo(o,a),e.dash.length!==l+1&&(o+=e.dash[l+1],s.moveTo(o,a));s.stroke();var u=t.dashTextureCache[r]=dr.Texture.from(i);return u.baseTexture.scaleMode=dr.SCALE_MODES.NEAREST,u},t.dashTextureCache={},t}();gk=zce;var Hce=Object.defineProperty,Gce=(t,e,n)=>e in t?Hce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,j=(t,e,n)=>(Gce(t,typeof e!="symbol"?e+"":e,n),n);class Nn{constructor(e){j(this,"parent"),j(this,"paused"),this.parent=e,this.paused=!1}destroy(){}down(e){return!1}move(e){return!1}up(e){return!1}wheel(e){return!1}update(e){}resize(){}reset(){}pause(){this.paused=!0}resume(){this.paused=!1}}var Wce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vk={exports:{}};(function(t,e){(function(){var n,r;r=function(i){return t.exports=i},n={linear:function(i,s,o,a){return o*i/a+s},easeInQuad:function(i,s,o,a){return o*(i/=a)*i+s},easeOutQuad:function(i,s,o,a){return-o*(i/=a)*(i-2)+s},easeInOutQuad:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i+s:-o/2*(--i*(i-2)-1)+s},easeInCubic:function(i,s,o,a){return o*(i/=a)*i*i+s},easeOutCubic:function(i,s,o,a){return o*((i=i/a-1)*i*i+1)+s},easeInOutCubic:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i+s:o/2*((i-=2)*i*i+2)+s},easeInQuart:function(i,s,o,a){return o*(i/=a)*i*i*i+s},easeOutQuart:function(i,s,o,a){return-o*((i=i/a-1)*i*i*i-1)+s},easeInOutQuart:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i*i+s:-o/2*((i-=2)*i*i*i-2)+s},easeInQuint:function(i,s,o,a){return o*(i/=a)*i*i*i*i+s},easeOutQuint:function(i,s,o,a){return o*((i=i/a-1)*i*i*i*i+1)+s},easeInOutQuint:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i*i*i+s:o/2*((i-=2)*i*i*i*i+2)+s},easeInSine:function(i,s,o,a){return-o*Math.cos(i/a*(Math.PI/2))+o+s},easeOutSine:function(i,s,o,a){return o*Math.sin(i/a*(Math.PI/2))+s},easeInOutSine:function(i,s,o,a){return-o/2*(Math.cos(Math.PI*i/a)-1)+s},easeInExpo:function(i,s,o,a){return i===0?s:o*Math.pow(2,10*(i/a-1))+s},easeOutExpo:function(i,s,o,a){return i===a?s+o:o*(-Math.pow(2,-10*i/a)+1)+s},easeInOutExpo:function(i,s,o,a){return(i/=a/2)<1?o/2*Math.pow(2,10*(i-1))+s:o/2*(-Math.pow(2,-10*--i)+2)+s},easeInCirc:function(i,s,o,a){return-o*(Math.sqrt(1-(i/=a)*i)-1)+s},easeOutCirc:function(i,s,o,a){return o*Math.sqrt(1-(i=i/a-1)*i)+s},easeInOutCirc:function(i,s,o,a){return(i/=a/2)<1?-o/2*(Math.sqrt(1-i*i)-1)+s:o/2*(Math.sqrt(1-(i-=2)*i)+1)+s},easeInElastic:function(i,s,o,a){var l,u,c;return c=1.70158,u=0,l=o,i===0||(i/=a),u||(u=a*.3),l<Math.abs(o)?(l=o,c=u/4):c=u/(2*Math.PI)*Math.asin(o/l),-(l*Math.pow(2,10*(i-=1))*Math.sin((i*a-c)*(2*Math.PI)/u))+s},easeOutElastic:function(i,s,o,a){var l,u,c;return c=1.70158,u=0,l=o,i===0||(i/=a),u||(u=a*.3),l<Math.abs(o)?(l=o,c=u/4):c=u/(2*Math.PI)*Math.asin(o/l),l*Math.pow(2,-10*i)*Math.sin((i*a-c)*(2*Math.PI)/u)+o+s},easeInOutElastic:function(i,s,o,a){var l,u,c;return c=1.70158,u=0,l=o,i===0||(i/=a/2),u||(u=a*(.3*1.5)),l<Math.abs(o)?(l=o,c=u/4):c=u/(2*Math.PI)*Math.asin(o/l),i<1?-.5*(l*Math.pow(2,10*(i-=1))*Math.sin((i*a-c)*(2*Math.PI)/u))+s:l*Math.pow(2,-10*(i-=1))*Math.sin((i*a-c)*(2*Math.PI)/u)*.5+o+s},easeInBack:function(i,s,o,a,l){return l===void 0&&(l=1.70158),o*(i/=a)*i*((l+1)*i-l)+s},easeOutBack:function(i,s,o,a,l){return l===void 0&&(l=1.70158),o*((i=i/a-1)*i*((l+1)*i+l)+1)+s},easeInOutBack:function(i,s,o,a,l){return l===void 0&&(l=1.70158),(i/=a/2)<1?o/2*(i*i*(((l*=1.525)+1)*i-l))+s:o/2*((i-=2)*i*(((l*=1.525)+1)*i+l)+2)+s},easeInBounce:function(i,s,o,a){var l;return l=n.easeOutBounce(a-i,0,o,a),o-l+s},easeOutBounce:function(i,s,o,a){return(i/=a)<1/2.75?o*(7.5625*i*i)+s:i<2/2.75?o*(7.5625*(i-=1.5/2.75)*i+.75)+s:i<2.5/2.75?o*(7.5625*(i-=2.25/2.75)*i+.9375)+s:o*(7.5625*(i-=2.625/2.75)*i+.984375)+s},easeInOutBounce:function(i,s,o,a){var l;return i<a/2?(l=n.easeInBounce(i*2,0,o,a),l*.5+s):(l=n.easeOutBounce(i*2-a,0,o,a),l*.5+o*.5+s)}},r(n)}).call(Wce)})(vk);const i2=vk.exports;function Qf(t,e){if(t){if(typeof t=="function")return t;if(typeof t=="string")return i2[t]}else return i2[e]}const Vce={removeOnInterrupt:!1,ease:"linear",time:1e3};class Xce extends Nn{constructor(e,n={}){super(e),j(this,"options"),j(this,"startX"),j(this,"startY"),j(this,"deltaX"),j(this,"deltaY"),j(this,"keepCenter"),j(this,"startWidth",null),j(this,"startHeight",null),j(this,"deltaWidth",null),j(this,"deltaHeight",null),j(this,"width",null),j(this,"height",null),j(this,"time",0),this.options=Object.assign({},Vce,n),this.options.ease=Qf(this.options.ease),this.setupPosition(),this.setupZoom(),this.time=0}setupPosition(){typeof this.options.position<"u"?(this.startX=this.parent.center.x,this.startY=this.parent.center.y,this.deltaX=this.options.position.x-this.parent.center.x,this.deltaY=this.options.position.y-this.parent.center.y,this.keepCenter=!1):this.keepCenter=!0}setupZoom(){this.width=null,this.height=null,typeof this.options.scale<"u"?this.width=this.parent.screenWidth/this.options.scale:typeof this.options.scaleX<"u"||typeof this.options.scaleY<"u"?(typeof this.options.scaleX<"u"&&(this.width=this.parent.screenWidth/this.options.scaleX),typeof this.options.scaleY<"u"&&(this.height=this.parent.screenHeight/this.options.scaleY)):(typeof this.options.width<"u"&&(this.width=this.options.width),typeof this.options.height<"u"&&(this.height=this.options.height)),this.width!==null&&(this.startWidth=this.parent.screenWidthInWorldPixels,this.deltaWidth=this.width-this.startWidth),this.height!==null&&(this.startHeight=this.parent.screenHeightInWorldPixels,this.deltaHeight=this.height-this.startHeight)}down(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("animate"),!1}complete(){this.parent.plugins.remove("animate"),this.width!==null&&this.parent.fitWidth(this.width,this.keepCenter,this.height===null),this.height!==null&&this.parent.fitHeight(this.height,this.keepCenter,this.width===null),!this.keepCenter&&this.options.position&&this.parent.moveCenter(this.options.position),this.parent.emit("animate-end",this.parent),this.options.callbackOnComplete&&this.options.callbackOnComplete(this.parent)}update(e){if(this.paused)return;this.time+=e;const n=new le(this.parent.scale.x,this.parent.scale.y);if(this.time>=this.options.time){const r=this.parent.width,i=this.parent.height;this.complete(),(r!==this.parent.width||i!==this.parent.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:n,type:"animate"})}else{const r=this.options.ease(this.time,0,1,this.options.time);if(this.width!==null){const i=this.startWidth,s=this.deltaWidth;this.parent.fitWidth(i+s*r,this.keepCenter,this.height===null)}if(this.height!==null){const i=this.startHeight,s=this.deltaHeight;this.parent.fitHeight(i+s*r,this.keepCenter,this.width===null)}if(this.width===null?this.parent.scale.x=this.parent.scale.y:this.height===null&&(this.parent.scale.y=this.parent.scale.x),!this.keepCenter){const i=this.startX,s=this.startY,o=this.deltaX,a=this.deltaY,l=new le(this.parent.x,this.parent.y);this.parent.moveCenter(i+o*r,s+a*r),this.parent.emit("moved",{viewport:this.parent,original:l,type:"animate"})}(this.width||this.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:n,type:"animate"})}}}const qce={sides:"all",friction:.5,time:150,ease:"easeInOutSine",underflow:"center",bounceBox:null};class Yce extends Nn{constructor(e,n={}){super(e),j(this,"options"),j(this,"left"),j(this,"top"),j(this,"right"),j(this,"bottom"),j(this,"underflowX"),j(this,"underflowY"),j(this,"ease"),j(this,"toX"),j(this,"toY"),this.options=Object.assign({},qce,n),this.ease=Qf(this.options.ease,"easeInOutSine"),this.options.sides?this.options.sides==="all"?this.top=this.bottom=this.left=this.right=!0:this.options.sides==="horizontal"?(this.right=this.left=!0,this.top=this.bottom=!1):this.options.sides==="vertical"?(this.left=this.right=!1,this.top=this.bottom=!0):(this.top=this.options.sides.indexOf("top")!==-1,this.bottom=this.options.sides.indexOf("bottom")!==-1,this.left=this.options.sides.indexOf("left")!==-1,this.right=this.options.sides.indexOf("right")!==-1):this.left=this.top=this.right=this.bottom=!1;const r=this.options.underflow.toLowerCase();r==="center"?(this.underflowX=0,this.underflowY=0):(this.underflowX=r.indexOf("left")!==-1?-1:r.indexOf("right")!==-1?1:0,this.underflowY=r.indexOf("top")!==-1?-1:r.indexOf("bottom")!==-1?1:0),this.reset()}isActive(){return this.toX!==null||this.toY!==null}down(){return this.toX=this.toY=null,!1}up(){return this.bounce(),!1}update(e){if(!this.paused){if(this.bounce(),this.toX){const n=this.toX;n.time+=e,this.parent.emit("moved",{viewport:this.parent,type:"bounce-x"}),n.time>=this.options.time?(this.parent.x=n.end,this.toX=null,this.parent.emit("bounce-x-end",this.parent)):this.parent.x=this.ease(n.time,n.start,n.delta,this.options.time)}if(this.toY){const n=this.toY;n.time+=e,this.parent.emit("moved",{viewport:this.parent,type:"bounce-y"}),n.time>=this.options.time?(this.parent.y=n.end,this.toY=null,this.parent.emit("bounce-y-end",this.parent)):this.parent.y=this.ease(n.time,n.start,n.delta,this.options.time)}}}calcUnderflowX(){let e;switch(this.underflowX){case-1:e=0;break;case 1:e=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:e=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}return e}calcUnderflowY(){let e;switch(this.underflowY){case-1:e=0;break;case 1:e=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:e=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}return e}oob(){const e=this.options.bounceBox;if(e){const n=typeof e.x>"u"?0:e.x,r=typeof e.y>"u"?0:e.y,i=typeof e.width>"u"?this.parent.worldWidth:e.width,s=typeof e.height>"u"?this.parent.worldHeight:e.height;return{left:this.parent.left<n,right:this.parent.right>i,top:this.parent.top<r,bottom:this.parent.bottom>s,topLeft:new le(n*this.parent.scale.x,r*this.parent.scale.y),bottomRight:new le(i*this.parent.scale.x-this.parent.screenWidth,s*this.parent.scale.y-this.parent.screenHeight)}}return{left:this.parent.left<0,right:this.parent.right>this.parent.worldWidth,top:this.parent.top<0,bottom:this.parent.bottom>this.parent.worldHeight,topLeft:new le(0,0),bottomRight:new le(this.parent.worldWidth*this.parent.scale.x-this.parent.screenWidth,this.parent.worldHeight*this.parent.scale.y-this.parent.screenHeight)}}bounce(){var e,n;if(this.paused)return;let r,i=this.parent.plugins.get("decelerate",!0);i&&(i.x||i.y)&&(i.x&&i.percentChangeX===((e=i.options)==null?void 0:e.friction)||i.y&&i.percentChangeY===((n=i.options)==null?void 0:n.friction))&&(r=this.oob(),(r.left&&this.left||r.right&&this.right)&&(i.percentChangeX=this.options.friction),(r.top&&this.top||r.bottom&&this.bottom)&&(i.percentChangeY=this.options.friction));const s=this.parent.plugins.get("drag",!0)||{},o=this.parent.plugins.get("pinch",!0)||{};if(i=i||{},!(s!=null&&s.active)&&!(o!=null&&o.active)&&(!this.toX||!this.toY)&&(!i.x||!i.y)){r=r||this.oob();const a=r.topLeft,l=r.bottomRight;if(!this.toX&&!i.x){let u=null;r.left&&this.left?u=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-a.x:r.right&&this.right&&(u=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-l.x),u!==null&&this.parent.x!==u&&(this.toX={time:0,start:this.parent.x,delta:u-this.parent.x,end:u},this.parent.emit("bounce-x-start",this.parent))}if(!this.toY&&!i.y){let u=null;r.top&&this.top?u=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-a.y:r.bottom&&this.bottom&&(u=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-l.y),u!==null&&this.parent.y!==u&&(this.toY={time:0,start:this.parent.y,delta:u-this.parent.y,end:u},this.parent.emit("bounce-y-start",this.parent))}}}reset(){this.toX=this.toY=null,this.bounce()}}const Kce={left:!1,right:!1,top:!1,bottom:!1,direction:null,underflow:"center"};class Zce extends Nn{constructor(e,n={}){super(e),j(this,"options"),j(this,"last"),j(this,"noUnderflow"),j(this,"underflowX"),j(this,"underflowY"),this.options=Object.assign({},Kce,n),this.options.direction&&(this.options.left=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.right=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.top=this.options.direction==="y"||this.options.direction==="all"?!0:null,this.options.bottom=this.options.direction==="y"||this.options.direction==="all"?!0:null),this.parseUnderflow(),this.last={x:null,y:null,scaleX:null,scaleY:null},this.update()}parseUnderflow(){const e=this.options.underflow.toLowerCase();e==="none"?this.noUnderflow=!0:e==="center"?(this.underflowX=this.underflowY=0,this.noUnderflow=!1):(this.underflowX=e.indexOf("left")!==-1?-1:e.indexOf("right")!==-1?1:0,this.underflowY=e.indexOf("top")!==-1?-1:e.indexOf("bottom")!==-1?1:0,this.noUnderflow=!1)}move(){return this.update(),!1}update(){if(this.paused||this.parent.x===this.last.x&&this.parent.y===this.last.y&&this.parent.scale.x===this.last.scaleX&&this.parent.scale.y===this.last.scaleY)return;const e=new le(this.parent.x,this.parent.y),n=this.parent.plugins.decelerate||{};if(this.options.left!==null||this.options.right!==null){let r=!1;if(!this.noUnderflow&&this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x!==0&&(this.parent.x=0,r=!0);break;case 1:this.parent.x!==this.parent.screenWidth-this.parent.screenWorldWidth&&(this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth,r=!0);break;default:this.parent.x!==(this.parent.screenWidth-this.parent.screenWorldWidth)/2&&(this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2,r=!0)}else this.options.left!==null&&this.parent.left<(this.options.left===!0?0:this.options.left)&&(this.parent.x=-(this.options.left===!0?0:this.options.left)*this.parent.scale.x,n.x=0,r=!0),this.options.right!==null&&this.parent.right>(this.options.right===!0?this.parent.worldWidth:this.options.right)&&(this.parent.x=-(this.options.right===!0?this.parent.worldWidth:this.options.right)*this.parent.scale.x+this.parent.screenWidth,n.x=0,r=!0);r&&this.parent.emit("moved",{viewport:this.parent,original:e,type:"clamp-x"})}if(this.options.top!==null||this.options.bottom!==null){let r=!1;if(!this.noUnderflow&&this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y!==0&&(this.parent.y=0,r=!0);break;case 1:this.parent.y!==this.parent.screenHeight-this.parent.screenWorldHeight&&(this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight,r=!0);break;default:this.parent.y!==(this.parent.screenHeight-this.parent.screenWorldHeight)/2&&(this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2,r=!0)}else this.options.top!==null&&this.parent.top<(this.options.top===!0?0:this.options.top)&&(this.parent.y=-(this.options.top===!0?0:this.options.top)*this.parent.scale.y,n.y=0,r=!0),this.options.bottom!==null&&this.parent.bottom>(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)&&(this.parent.y=-(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)*this.parent.scale.y+this.parent.screenHeight,n.y=0,r=!0);r&&this.parent.emit("moved",{viewport:this.parent,original:e,type:"clamp-y"})}this.last.x=this.parent.x,this.last.y=this.parent.y,this.last.scaleX=this.parent.scale.x,this.last.scaleY=this.parent.scale.y}reset(){this.update()}}const Qce={minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,minScale:null,maxScale:null};class Jce extends Nn{constructor(e,n={}){super(e),j(this,"options"),this.options=Object.assign({},Qce,n),this.clamp()}resize(){this.clamp()}clamp(){if(!this.paused){if(this.options.minWidth||this.options.minHeight||this.options.maxWidth||this.options.maxHeight){let e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight;if(this.options.minWidth!==null&&e<this.options.minWidth){const r=this.parent.scale.x;this.parent.fitWidth(this.options.minWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/r,e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxWidth!==null&&e>this.options.maxWidth){const r=this.parent.scale.x;this.parent.fitWidth(this.options.maxWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/r,e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.minHeight!==null&&n<this.options.minHeight){const r=this.parent.scale.y;this.parent.fitHeight(this.options.minHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/r,e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxHeight!==null&&n>this.options.maxHeight){const r=this.parent.scale.y;this.parent.fitHeight(this.options.maxHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/r,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}}else if(this.options.minScale||this.options.maxScale){const e={x:null,y:null},n={x:null,y:null};if(typeof this.options.minScale=="number")e.x=this.options.minScale,e.y=this.options.minScale;else if(this.options.minScale!==null){const s=this.options.minScale;e.x=typeof s.x>"u"?null:s.x,e.y=typeof s.y>"u"?null:s.y}if(typeof this.options.maxScale=="number")n.x=this.options.maxScale,n.y=this.options.maxScale;else if(this.options.maxScale!==null){const s=this.options.maxScale;n.x=typeof s.x>"u"?null:s.x,n.y=typeof s.y>"u"?null:s.y}let r=this.parent.scale.x,i=this.parent.scale.y;e.x!==null&&r<e.x&&(r=e.x),n.x!==null&&r>n.x&&(r=n.x),e.y!==null&&i<e.y&&(i=e.y),n.y!==null&&i>n.y&&(i=n.y),(r!==this.parent.scale.x||i!==this.parent.scale.y)&&(this.parent.scale.set(r,i),this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"}))}}}reset(){this.clamp()}}const ehe={friction:.98,bounce:.8,minSpeed:.01},si=16;class the extends Nn{constructor(e,n={}){super(e),j(this,"options"),j(this,"x"),j(this,"y"),j(this,"percentChangeX"),j(this,"percentChangeY"),j(this,"saved"),j(this,"timeSinceRelease"),this.options=Object.assign({},ehe,n),this.saved=[],this.timeSinceRelease=0,this.reset(),this.parent.on("moved",r=>this.handleMoved(r))}down(){return this.saved=[],this.x=this.y=null,!1}isActive(){return!!(this.x||this.y)}move(){if(this.paused)return!1;const e=this.parent.input.count();return(e===1||e>1&&!this.parent.plugins.get("pinch",!0))&&(this.saved.push({x:this.parent.x,y:this.parent.y,time:performance.now()}),this.saved.length>60&&this.saved.splice(0,30)),!1}handleMoved(e){if(this.saved.length){const n=this.saved[this.saved.length-1];e.type==="clamp-x"&&e.original?n.x===e.original.x&&(n.x=this.parent.x):e.type==="clamp-y"&&e.original&&n.y===e.original.y&&(n.y=this.parent.y)}}up(){if(this.parent.input.count()===0&&this.saved.length){const e=performance.now();for(const n of this.saved)if(n.time>=e-100){const r=e-n.time;this.x=(this.parent.x-n.x)/r,this.y=(this.parent.y-n.y)/r,this.percentChangeX=this.percentChangeY=this.options.friction,this.timeSinceRelease=0;break}}return!1}activate(e){e=e||{},typeof e.x<"u"&&(this.x=e.x,this.percentChangeX=this.options.friction),typeof e.y<"u"&&(this.y=e.y,this.percentChangeY=this.options.friction)}update(e){if(this.paused)return;const n=this.x||this.y,r=this.timeSinceRelease,i=this.timeSinceRelease+e;if(this.x){const s=this.percentChangeX,o=Math.log(s);this.parent.x+=this.x*si/o*(Math.pow(s,i/si)-Math.pow(s,r/si)),this.x*=Math.pow(this.percentChangeX,e/si)}if(this.y){const s=this.percentChangeY,o=Math.log(s);this.parent.y+=this.y*si/o*(Math.pow(s,i/si)-Math.pow(s,r/si)),this.y*=Math.pow(this.percentChangeY,e/si)}this.timeSinceRelease+=e,this.x&&this.y?Math.abs(this.x)<this.options.minSpeed&&Math.abs(this.y)<this.options.minSpeed&&(this.x=0,this.y=0):(Math.abs(this.x||0)<this.options.minSpeed&&(this.x=0),Math.abs(this.y||0)<this.options.minSpeed&&(this.y=0)),n&&this.parent.emit("moved",{viewport:this.parent,type:"decelerate"})}reset(){this.x=this.y=null}}const nhe={direction:"all",pressDrag:!0,wheel:!0,wheelScroll:1,reverse:!1,clampWheel:!1,underflow:"center",factor:1,mouseButtons:"all",keyToPress:null,ignoreKeyToPressOnTouch:!1,lineHeight:20,wheelSwapAxes:!1};class rhe extends Nn{constructor(e,n={}){super(e),j(this,"options"),j(this,"moved"),j(this,"reverse"),j(this,"xDirection"),j(this,"yDirection"),j(this,"keyIsPressed"),j(this,"mouse"),j(this,"underflowX"),j(this,"underflowY"),j(this,"last"),j(this,"current"),j(this,"windowEventHandlers",[]),this.options=Object.assign({},nhe,n),this.moved=!1,this.reverse=this.options.reverse?1:-1,this.xDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="x",this.yDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="y",this.keyIsPressed=!1,this.parseUnderflow(),this.mouseButtons(this.options.mouseButtons),this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(e){const n=i=>{e.includes(i.code)&&(this.keyIsPressed=!0)},r=i=>{e.includes(i.code)&&(this.keyIsPressed=!1)};this.addWindowEventHandler("keyup",r),this.addWindowEventHandler("keydown",n)}addWindowEventHandler(e,n){window.addEventListener(e,n),this.windowEventHandlers.push({event:e,handler:n})}destroy(){this.windowEventHandlers.forEach(({event:e,handler:n})=>{window.removeEventListener(e,n)})}mouseButtons(e){!e||e==="all"?this.mouse=[!0,!0,!0]:this.mouse=[e.indexOf("left")!==-1,e.indexOf("middle")!==-1,e.indexOf("right")!==-1]}parseUnderflow(){const e=this.options.underflow.toLowerCase();e==="center"?(this.underflowX=0,this.underflowY=0):(e.includes("left")?this.underflowX=-1:e.includes("right")?this.underflowX=1:this.underflowX=0,e.includes("top")?this.underflowY=-1:e.includes("bottom")?this.underflowY=1:this.underflowY=0)}checkButtons(e){const n=e.pointerType==="mouse",r=this.parent.input.count();return!!((r===1||r>1&&!this.parent.plugins.get("pinch",!0))&&(!n||this.mouse[e.button]))}checkKeyPress(e){return!this.options.keyToPress||this.keyIsPressed||this.options.ignoreKeyToPressOnTouch&&e.data.pointerType==="touch"}down(e){return this.paused||!this.options.pressDrag?!1:this.checkButtons(e)&&this.checkKeyPress(e)?(this.last={x:e.global.x,y:e.global.y},this.current=e.pointerId,!0):(this.last=null,!1)}get active(){return this.moved}move(e){if(this.paused||!this.options.pressDrag)return!1;if(this.last&&this.current===e.data.pointerId){const n=e.global.x,r=e.global.y,i=this.parent.input.count();if(i===1||i>1&&!this.parent.plugins.get("pinch",!0)){const s=n-this.last.x,o=r-this.last.y;if(this.moved||this.xDirection&&this.parent.input.checkThreshold(s)||this.yDirection&&this.parent.input.checkThreshold(o)){const a={x:n,y:r};return this.xDirection&&(this.parent.x+=(a.x-this.last.x)*this.options.factor),this.yDirection&&(this.parent.y+=(a.y-this.last.y)*this.options.factor),this.last=a,this.moved||this.parent.emit("drag-start",{event:e,screen:new le(this.last.x,this.last.y),world:this.parent.toWorld(new le(this.last.x,this.last.y)),viewport:this.parent}),this.moved=!0,this.parent.emit("moved",{viewport:this.parent,type:"drag"}),!0}}else this.moved=!1}return!1}up(e){if(this.paused)return!1;const n=this.parent.input.touches;if(n.length===1){const r=n[0];return r.last&&(this.last={x:r.last.x,y:r.last.y},this.current=r.id),this.moved=!1,!0}else if(this.last&&this.moved){const r=new le(this.last.x,this.last.y);return this.parent.emit("drag-end",{event:e,screen:r,world:this.parent.toWorld(r),viewport:this.parent}),this.last=null,this.moved=!1,!0}return!1}wheel(e){if(this.paused)return!1;if(this.options.wheel){const n=this.parent.plugins.get("wheel",!0);if(!n||!n.options.wheelZoom&&!e.ctrlKey){const r=e.deltaMode?this.options.lineHeight:1,i=[e.deltaX,e.deltaY],[s,o]=this.options.wheelSwapAxes?i.reverse():i;return this.xDirection&&(this.parent.x+=s*r*this.options.wheelScroll*this.reverse),this.yDirection&&(this.parent.y+=o*r*this.options.wheelScroll*this.reverse),this.options.clampWheel&&this.clamp(),this.parent.emit("wheel-scroll",this.parent),this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.options.passiveWheel||e.preventDefault(),this.parent.options.stopPropagation&&e.stopPropagation(),!0}}return!1}resume(){this.last=null,this.paused=!1}clamp(){const e=this.parent.plugins.get("decelerate",!0)||{};if(this.options.clampWheel!=="y")if(this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x=0;break;case 1:this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}else this.parent.left<0?(this.parent.x=0,e.x=0):this.parent.right>this.parent.worldWidth&&(this.parent.x=-this.parent.worldWidth*this.parent.scale.x+this.parent.screenWidth,e.x=0);if(this.options.clampWheel!=="x")if(this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y=0;break;case 1:this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}else this.parent.top<0&&(this.parent.y=0,e.y=0),this.parent.bottom>this.parent.worldHeight&&(this.parent.y=-this.parent.worldHeight*this.parent.scale.y+this.parent.screenHeight,e.y=0)}}const ihe={speed:0,acceleration:null,radius:null};class she extends Nn{constructor(e,n,r={}){super(e),j(this,"options"),j(this,"target"),j(this,"velocity"),this.target=n,this.options=Object.assign({},ihe,r),this.velocity={x:0,y:0}}update(e){if(this.paused)return;const n=this.parent.center;let r=this.target.x,i=this.target.y;if(this.options.radius)if(Math.sqrt(Math.pow(this.target.y-n.y,2)+Math.pow(this.target.x-n.x,2))>this.options.radius){const a=Math.atan2(this.target.y-n.y,this.target.x-n.x);r=this.target.x-Math.cos(a)*this.options.radius,i=this.target.y-Math.sin(a)*this.options.radius}else return;const s=r-n.x,o=i-n.y;if(s||o)if(this.options.speed)if(this.options.acceleration){const a=Math.atan2(i-n.y,r-n.x),l=Math.sqrt(Math.pow(s,2)+Math.pow(o,2));if(l){const u=(Math.pow(this.velocity.x,2)+Math.pow(this.velocity.y,2))/(2*this.options.acceleration);l>u?this.velocity={x:Math.min(this.velocity.x+(this.options.acceleration*e,this.options.speed)),y:Math.min(this.velocity.y+(this.options.acceleration*e,this.options.speed))}:this.velocity={x:Math.max(this.velocity.x-this.options.acceleration*this.options.speed,0),y:Math.max(this.velocity.y-this.options.acceleration*this.options.speed,0)};const c=Math.cos(a)*this.velocity.x,h=Math.sin(a)*this.velocity.y,d=Math.abs(c)>Math.abs(s)?r:n.x+c,f=Math.abs(h)>Math.abs(o)?i:n.y+h;this.parent.moveCenter(d,f),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}else{const a=Math.atan2(i-n.y,r-n.x),l=Math.cos(a)*this.options.speed,u=Math.sin(a)*this.options.speed,c=Math.abs(l)>Math.abs(s)?r:n.x+l,h=Math.abs(u)>Math.abs(o)?i:n.y+u;this.parent.moveCenter(c,h),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}else this.parent.moveCenter(r,i),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}const ohe={radius:null,distance:null,top:null,bottom:null,left:null,right:null,speed:8,reverse:!1,noDecelerate:!1,linear:!1,allowButtons:!1};class ahe extends Nn{constructor(e,n={}){super(e),j(this,"options"),j(this,"reverse"),j(this,"radiusSquared"),j(this,"left"),j(this,"top"),j(this,"right"),j(this,"bottom"),j(this,"horizontal"),j(this,"vertical"),this.options=Object.assign({},ohe,n),this.reverse=this.options.reverse?1:-1,this.radiusSquared=typeof this.options.radius=="number"?Math.pow(this.options.radius,2):null,this.resize()}resize(){const e=this.options.distance;e!==null?(this.left=e,this.top=e,this.right=this.parent.screenWidth-e,this.bottom=this.parent.screenHeight-e):this.options.radius||(this.left=this.options.left,this.top=this.options.top,this.right=this.options.right===null?null:this.parent.screenWidth-this.options.right,this.bottom=this.options.bottom===null?null:this.parent.screenHeight-this.options.bottom)}down(){return this.paused||this.options.allowButtons||(this.horizontal=this.vertical=null),!1}move(e){if(this.paused||e.pointerType!=="mouse"&&e.pointerId!==1||!this.options.allowButtons&&e.buttons!==0)return!1;const n=e.global.x,r=e.global.y;if(this.radiusSquared){const i=this.parent.toScreen(this.parent.center);if(Math.pow(i.x-n,2)+Math.pow(i.y-r,2)>=this.radiusSquared){const s=Math.atan2(i.y-r,i.x-n);this.options.linear?(this.horizontal=Math.round(Math.cos(s))*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.round(Math.sin(s))*this.options.speed*this.reverse*(60/1e3)):(this.horizontal=Math.cos(s)*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.sin(s)*this.options.speed*this.reverse*(60/1e3))}else this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=0}else this.left!==null&&n<this.left?this.horizontal=Number(this.reverse)*this.options.speed*(60/1e3):this.right!==null&&n>this.right?this.horizontal=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateHorizontal(),this.horizontal=0),this.top!==null&&r<this.top?this.vertical=Number(this.reverse)*this.options.speed*(60/1e3):this.bottom!==null&&r>this.bottom?this.vertical=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateVertical(),this.vertical=0);return!1}decelerateHorizontal(){const e=this.parent.plugins.get("decelerate",!0);this.horizontal&&e&&!this.options.noDecelerate&&e.activate({x:this.horizontal*this.options.speed*this.reverse/(1e3/60)})}decelerateVertical(){const e=this.parent.plugins.get("decelerate",!0);this.vertical&&e&&!this.options.noDecelerate&&e.activate({y:this.vertical*this.options.speed*this.reverse/(1e3/60)})}up(){return this.paused||(this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=null),!1}update(){if(!this.paused&&(this.horizontal||this.vertical)){const e=this.parent.center;this.horizontal&&(e.x+=this.horizontal*this.options.speed),this.vertical&&(e.y+=this.vertical*this.options.speed),this.parent.moveCenter(e),this.parent.emit("moved",{viewport:this.parent,type:"mouse-edges"})}}}const lhe={noDrag:!1,percent:1,center:null,factor:1,axis:"all"};class uhe extends Nn{constructor(e,n={}){super(e),j(this,"options"),j(this,"active",!1),j(this,"pinching",!1),j(this,"moved",!1),j(this,"lastCenter"),this.options=Object.assign({},lhe,n)}down(){return this.parent.input.count()>=2?(this.active=!0,!0):!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}move(e){if(this.paused||!this.active)return!1;const n=e.global.x,r=e.global.y,i=this.parent.input.touches;if(i.length>=2){const s=i[0],o=i[1],a=s.last&&o.last?Math.sqrt(Math.pow(o.last.x-s.last.x,2)+Math.pow(o.last.y-s.last.y,2)):null;if(s.id===e.pointerId?s.last={x:n,y:r,data:e}:o.id===e.pointerId&&(o.last={x:n,y:r,data:e}),a){let l;const u=new le(s.last.x+(o.last.x-s.last.x)/2,s.last.y+(o.last.y-s.last.y)/2);this.options.center||(l=this.parent.toLocal(u));let c=Math.sqrt(Math.pow(o.last.x-s.last.x,2)+Math.pow(o.last.y-s.last.y,2));c=c===0?c=1e-10:c;const h=(1-a/c)*this.options.percent*(this.isAxisX()?this.parent.scale.x:this.parent.scale.y);this.isAxisX()&&(this.parent.scale.x+=h),this.isAxisY()&&(this.parent.scale.y+=h),this.parent.emit("zoomed",{viewport:this.parent,type:"pinch",center:u});const d=this.parent.plugins.get("clamp-zoom",!0);if(d&&d.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const f=this.parent.toGlobal(l);this.parent.x+=(u.x-f.x)*this.options.factor,this.parent.y+=(u.y-f.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})}!this.options.noDrag&&this.lastCenter&&(this.parent.x+=(u.x-this.lastCenter.x)*this.options.factor,this.parent.y+=(u.y-this.lastCenter.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})),this.lastCenter=u,this.moved=!0}else this.pinching||(this.parent.emit("pinch-start",this.parent),this.pinching=!0);return!0}return!1}up(){return this.pinching&&this.parent.input.touches.length<=1?(this.active=!1,this.lastCenter=null,this.pinching=!1,this.moved=!1,this.parent.emit("pinch-end",this.parent),!0):!1}}const che={topLeft:!1,friction:.8,time:1e3,ease:"easeInOutSine",interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1};class hhe extends Nn{constructor(e,n,r,i={}){super(e),j(this,"options"),j(this,"ease"),j(this,"x"),j(this,"y"),j(this,"percent"),j(this,"snapping"),j(this,"deltaX"),j(this,"deltaY"),j(this,"startX"),j(this,"startY"),this.options=Object.assign({},che,i),this.ease=Qf(i.ease,"easeInOutSine"),this.x=n,this.y=r,this.options.forceStart&&this.snapStart()}snapStart(){this.percent=0,this.snapping={time:0};const e=this.options.topLeft?this.parent.corner:this.parent.center;this.deltaX=this.x-e.x,this.deltaY=this.y-e.y,this.startX=e.x,this.startY=e.y,this.parent.emit("snap-start",this.parent)}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap"):this.options.interrupt&&(this.snapping=null),!1}up(){if(this.parent.input.count()===0){const e=this.parent.plugins.get("decelerate",!0);e&&(e.x||e.y)&&(e.percentChangeX=e.percentChangeY=this.options.friction)}return!1}update(e){if(!this.paused&&!(this.options.interrupt&&this.parent.input.count()!==0))if(this.snapping){const n=this.snapping;n.time+=e;let r,i,s;const o=this.startX,a=this.startY,l=this.deltaX,u=this.deltaY;if(n.time>this.options.time)r=!0,i=o+l,s=a+u;else{const c=this.ease(n.time,0,1,this.options.time);i=o+l*c,s=a+u*c}this.options.topLeft?this.parent.moveCorner(i,s):this.parent.moveCenter(i,s),this.parent.emit("moved",{viewport:this.parent,type:"snap"}),r&&(this.options.removeOnComplete&&this.parent.plugins.remove("snap"),this.parent.emit("snap-end",this.parent),this.snapping=null)}else{const n=this.options.topLeft?this.parent.corner:this.parent.center;(n.x!==this.x||n.y!==this.y)&&this.snapStart()}}}const dhe={width:0,height:0,time:1e3,ease:"easeInOutSine",center:null,interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1,noMove:!1};class fhe extends Nn{constructor(e,n={}){super(e),j(this,"options"),j(this,"ease"),j(this,"xScale"),j(this,"yScale"),j(this,"xIndependent"),j(this,"yIndependent"),j(this,"snapping"),this.options=Object.assign({},dhe,n),this.ease=Qf(this.options.ease),this.xIndependent=!1,this.yIndependent=!1,this.xScale=0,this.yScale=0,this.options.width>0&&(this.xScale=e.screenWidth/this.options.width,this.xIndependent=!0),this.options.height>0&&(this.yScale=e.screenHeight/this.options.height,this.yIndependent=!0),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale,this.options.time===0?(e.container.scale.x=this.xScale,e.container.scale.y=this.yScale,this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom")):n.forceStart&&this.createSnapping()}createSnapping(){const e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,r=this.parent.screenWidth/this.xScale,i=this.parent.screenHeight/this.yScale;this.snapping={time:0,startX:e,startY:n,deltaX:r-e,deltaY:i-n},this.parent.emit("snap-zoom-start",this.parent)}resize(){this.snapping=null,this.options.width>0&&(this.xScale=this.parent.screenWidth/this.options.width),this.options.height>0&&(this.yScale=this.parent.screenHeight/this.options.height),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap-zoom"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap-zoom"):this.options.interrupt&&(this.snapping=null),!1}update(e){if(this.paused||this.options.interrupt&&this.parent.input.count()!==0)return;let n;if(!this.options.center&&!this.options.noMove&&(n=this.parent.center),!this.snapping)(this.parent.scale.x!==this.xScale||this.parent.scale.y!==this.yScale)&&this.createSnapping();else if(this.snapping){const r=this.snapping;if(r.time+=e,r.time>=this.options.time)this.parent.scale.set(this.xScale,this.yScale),this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom"),this.parent.emit("snap-zoom-end",this.parent),this.snapping=null;else{const s=this.snapping,o=this.ease(s.time,s.startX,s.deltaX,this.options.time),a=this.ease(s.time,s.startY,s.deltaY,this.options.time);this.parent.scale.x=this.parent.screenWidth/o,this.parent.scale.y=this.parent.screenHeight/a}const i=this.parent.plugins.get("clamp-zoom",!0);i&&i.clamp(),this.options.noMove||(this.options.center?this.parent.moveCenter(this.options.center):this.parent.moveCenter(n))}}resume(){this.snapping=null,super.resume()}}const phe={percent:.1,smooth:!1,interrupt:!0,reverse:!1,center:null,lineHeight:20,axis:"all",keyToPress:null,trackpadPinch:!1,wheelZoom:!0};class mhe extends Nn{constructor(e,n={}){super(e),j(this,"options"),j(this,"smoothing"),j(this,"smoothingCenter"),j(this,"smoothingCount"),j(this,"keyIsPressed"),this.options=Object.assign({},phe,n),this.keyIsPressed=!1,this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(e){window.addEventListener("keydown",n=>{e.includes(n.code)&&(this.keyIsPressed=!0)}),window.addEventListener("keyup",n=>{e.includes(n.code)&&(this.keyIsPressed=!1)})}checkKeyPress(){return!this.options.keyToPress||this.keyIsPressed}down(){return this.options.interrupt&&(this.smoothing=null),!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}update(){if(this.smoothing){const e=this.smoothingCenter,n=this.smoothing;let r;this.options.center||(r=this.parent.toLocal(e)),this.isAxisX()&&(this.parent.scale.x+=n.x),this.isAxisY()&&(this.parent.scale.y+=n.y),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const i=this.parent.plugins.get("clamp-zoom",!0);if(i&&i.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const s=this.parent.toGlobal(r);this.parent.x+=e.x-s.x,this.parent.y+=e.y-s.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.smoothingCount++,this.smoothingCount>=this.options.smooth&&(this.smoothing=null)}}pinch(e){if(this.paused)return;const n=this.parent.input.getPointerPosition(e),r=-e.deltaY*(e.deltaMode?this.options.lineHeight:1)/200,i=Math.pow(2,(1+this.options.percent)*r);let s;this.options.center||(s=this.parent.toLocal(n)),this.isAxisX()&&(this.parent.scale.x*=i),this.isAxisY()&&(this.parent.scale.y*=i),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const o=this.parent.plugins.get("clamp-zoom",!0);if(o&&o.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const a=this.parent.toGlobal(s);this.parent.x+=n.x-a.x,this.parent.y+=n.y-a.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:e,viewport:this.parent})}wheel(e){if(this.paused||!this.checkKeyPress())return!1;if(e.ctrlKey&&this.options.trackpadPinch)this.pinch(e);else if(this.options.wheelZoom){const n=this.parent.input.getPointerPosition(e),r=(this.options.reverse?-1:1)*-e.deltaY*(e.deltaMode?this.options.lineHeight:1)/500,i=Math.pow(2,(1+this.options.percent)*r);if(this.options.smooth){const s={x:this.smoothing?this.smoothing.x*(this.options.smooth-this.smoothingCount):0,y:this.smoothing?this.smoothing.y*(this.options.smooth-this.smoothingCount):0};this.smoothing={x:((this.parent.scale.x+s.x)*i-this.parent.scale.x)/this.options.smooth,y:((this.parent.scale.y+s.y)*i-this.parent.scale.y)/this.options.smooth},this.smoothingCount=0,this.smoothingCenter=n}else{let s;this.options.center||(s=this.parent.toLocal(n)),this.isAxisX()&&(this.parent.scale.x*=i),this.isAxisY()&&(this.parent.scale.y*=i),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const o=this.parent.plugins.get("clamp-zoom",!0);if(o&&o.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const a=this.parent.toGlobal(s);this.parent.x+=n.x-a.x,this.parent.y+=n.y-a.y}}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:e,viewport:this.parent})}return!this.parent.options.passiveWheel}}class ghe{constructor(e){j(this,"viewport"),j(this,"clickedAvailable"),j(this,"isMouseDown"),j(this,"last"),j(this,"wheelFunction"),j(this,"touches"),this.viewport=e,this.touches=[],this.addListeners()}addListeners(){this.viewport.interactive=!0,this.viewport.forceHitArea||(this.viewport.hitArea=new me(0,0,this.viewport.worldWidth,this.viewport.worldHeight)),this.viewport.on("pointerdown",this.down,this),this.viewport.options.allowPreserveDragOutside?this.viewport.on("globalpointermove",this.move,this):this.viewport.on("pointermove",this.move,this),this.viewport.on("pointerup",this.up,this),this.viewport.on("pointerupoutside",this.up,this),this.viewport.on("pointercancel",this.up,this),this.viewport.options.allowPreserveDragOutside||this.viewport.on("pointerleave",this.up,this),this.wheelFunction=e=>this.handleWheel(e),this.viewport.options.events.domElement.addEventListener("wheel",this.wheelFunction,{passive:this.viewport.options.passiveWheel}),this.isMouseDown=!1}destroy(){this.viewport.options.events.domElement.removeEventListener("wheel",this.wheelFunction)}down(e){if(!(this.viewport.pause||!this.viewport.worldVisible)){if(e.pointerType==="mouse"?this.isMouseDown=!0:this.get(e.pointerId)||this.touches.push({id:e.pointerId,last:null}),this.count()===1){this.last=e.global.clone();const n=this.viewport.plugins.get("decelerate",!0),r=this.viewport.plugins.get("bounce",!0);(!n||!n.isActive())&&(!r||!r.isActive())?this.clickedAvailable=!0:this.clickedAvailable=!1}else this.clickedAvailable=!1;this.viewport.plugins.down(e)&&this.viewport.options.stopPropagation&&e.stopPropagation()}}clear(){this.isMouseDown=!1,this.touches=[],this.last=null}checkThreshold(e){return Math.abs(e)>=this.viewport.threshold}move(e){if(this.viewport.pause||!this.viewport.worldVisible)return;const n=this.viewport.plugins.move(e);if(this.clickedAvailable&&this.last){const r=e.global.x-this.last.x,i=e.global.y-this.last.y;(this.checkThreshold(r)||this.checkThreshold(i))&&(this.clickedAvailable=!1)}n&&this.viewport.options.stopPropagation&&e.stopPropagation()}up(e){if(this.viewport.pause||!this.viewport.worldVisible)return;e.pointerType==="mouse"&&(this.isMouseDown=!1),e.pointerType!=="mouse"&&this.remove(e.pointerId);const n=this.viewport.plugins.up(e);this.clickedAvailable&&this.count()===0&&this.last&&(this.viewport.emit("clicked",{event:e,screen:this.last,world:this.viewport.toWorld(this.last),viewport:this.viewport}),this.clickedAvailable=!1),n&&this.viewport.options.stopPropagation&&e.stopPropagation()}getPointerPosition(e){const n=new le;return this.viewport.options.events.mapPositionToPoint(n,e.clientX,e.clientY),n}handleWheel(e){if(this.viewport.pause||!this.viewport.worldVisible)return;const n=this.viewport.toLocal(this.getPointerPosition(e));this.viewport.left<=n.x&&n.x<=this.viewport.right&&this.viewport.top<=n.y&&n.y<=this.viewport.bottom&&this.viewport.plugins.wheel(e)&&!this.viewport.options.passiveWheel&&e.preventDefault()}pause(){this.touches=[],this.isMouseDown=!1}get(e){for(const n of this.touches)if(n.id===e)return n;return null}remove(e){for(let n=0;n<this.touches.length;n++)if(this.touches[n].id===e){this.touches.splice(n,1);return}}count(){return(this.isMouseDown?1:0)+this.touches.length}}const el=["drag","pinch","wheel","follow","mouse-edges","decelerate","animate","bounce","snap-zoom","clamp-zoom","snap","clamp"];class vhe{constructor(e){j(this,"plugins"),j(this,"list"),j(this,"viewport"),this.viewport=e,this.list=[],this.plugins={}}add(e,n,r=el.length){const i=this.plugins[e];i&&i.destroy(),this.plugins[e]=n;const s=el.indexOf(e);s!==-1&&el.splice(s,1),el.splice(r,0,e),this.sort()}get(e,n){var r;return n&&(r=this.plugins[e])!=null&&r.paused?null:this.plugins[e]}update(e){for(const n of this.list)n.update(e)}resize(){for(const e of this.list)e.resize()}reset(){for(const e of this.list)e.reset()}removeAll(){this.list.forEach(e=>{e.destroy()}),this.plugins={},this.sort()}remove(e){var n;this.plugins[e]&&((n=this.plugins[e])==null||n.destroy(),delete this.plugins[e],this.viewport.emit("plugin-remove",e),this.sort())}pause(e){var n;(n=this.plugins[e])==null||n.pause()}resume(e){var n;(n=this.plugins[e])==null||n.resume()}sort(){this.list=[];for(const e of el)this.plugins[e]&&this.list.push(this.plugins[e])}down(e){let n=!1;for(const r of this.list)r.down(e)&&(n=!0);return n}move(e){let n=!1;for(const r of this.viewport.plugins.list)r.move(e)&&(n=!0);return n}up(e){let n=!1;for(const r of this.list)r.up(e)&&(n=!0);return n}wheel(e){let n=!1;for(const r of this.list)r.wheel(e)&&(n=!0);return n}}const yhe={screenWidth:window.innerWidth,screenHeight:window.innerHeight,worldWidth:null,worldHeight:null,threshold:5,passiveWheel:!0,stopPropagation:!1,forceHitArea:null,noTicker:!1,disableOnContextMenu:!1,ticker:ut.shared,allowPreserveDragOutside:!1};class bhe extends Nt{constructor(e){super(),j(this,"moving"),j(this,"screenWidth"),j(this,"screenHeight"),j(this,"threshold"),j(this,"input"),j(this,"plugins"),j(this,"zooming"),j(this,"lastViewport"),j(this,"options"),j(this,"_dirty"),j(this,"_forceHitArea"),j(this,"_hitAreaDefault"),j(this,"_pause"),j(this,"tickerFunction"),j(this,"_worldWidth"),j(this,"_worldHeight"),j(this,"_disableOnContextMenu",n=>n.preventDefault()),this.options={...yhe,...e},this.screenWidth=this.options.screenWidth,this.screenHeight=this.options.screenHeight,this._worldWidth=this.options.worldWidth,this._worldHeight=this.options.worldHeight,this.forceHitArea=this.options.forceHitArea,this.threshold=this.options.threshold,this.options.disableOnContextMenu&&this.options.events.domElement.addEventListener("contextmenu",this._disableOnContextMenu),this.options.noTicker||(this.tickerFunction=()=>this.update(this.options.ticker.elapsedMS),this.options.ticker.add(this.tickerFunction)),this.input=new ghe(this),this.plugins=new vhe(this)}destroy(e){!this.options.noTicker&&this.tickerFunction&&this.options.ticker.remove(this.tickerFunction),this.options.disableOnContextMenu&&this.options.events.domElement.removeEventListener("contextmenu",this._disableOnContextMenu),this.input.destroy(),super.destroy(e)}update(e){this.pause||(this.plugins.update(e),this.lastViewport&&(this.lastViewport.x!==this.x||this.lastViewport.y!==this.y?this.moving=!0:this.moving&&(this.emit("moved-end",this),this.moving=!1),this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y?this.zooming=!0:this.zooming&&(this.emit("zoomed-end",this),this.zooming=!1)),this.forceHitArea||(this._hitAreaDefault=new me(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight),this.hitArea=this._hitAreaDefault),this._dirty=this._dirty||!this.lastViewport||this.lastViewport.x!==this.x||this.lastViewport.y!==this.y||this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y,this.lastViewport={x:this.x,y:this.y,scaleX:this.scale.x,scaleY:this.scale.y},this.emit("frame-end",this))}resize(e=window.innerWidth,n=window.innerHeight,r,i){this.screenWidth=e,this.screenHeight=n,typeof r<"u"&&(this._worldWidth=r),typeof i<"u"&&(this._worldHeight=i),this.plugins.resize(),this.dirty=!0}get worldWidth(){return this._worldWidth?this._worldWidth:this.width/this.scale.x}set worldWidth(e){this._worldWidth=e,this.plugins.resize()}get worldHeight(){return this._worldHeight?this._worldHeight:this.height/this.scale.y}set worldHeight(e){this._worldHeight=e,this.plugins.resize()}getVisibleBounds(){return new me(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight)}toWorld(e,n){return arguments.length===2?this.toLocal(new le(e,n)):this.toLocal(e)}toScreen(e,n){return arguments.length===2?this.toGlobal(new le(e,n)):this.toGlobal(e)}get worldScreenWidth(){return this.screenWidth/this.scale.x}get worldScreenHeight(){return this.screenHeight/this.scale.y}get screenWorldWidth(){return this.worldWidth*this.scale.x}get screenWorldHeight(){return this.worldHeight*this.scale.y}get center(){return new le(this.worldScreenWidth/2-this.x/this.scale.x,this.worldScreenHeight/2-this.y/this.scale.y)}set center(e){this.moveCenter(e)}moveCenter(...e){let n,r;typeof e[0]=="number"?(n=e[0],r=e[1]):(n=e[0].x,r=e[0].y);const i=(this.worldScreenWidth/2-n)*this.scale.x,s=(this.worldScreenHeight/2-r)*this.scale.y;return(this.x!==i||this.y!==s)&&(this.position.set(i,s),this.plugins.reset(),this.dirty=!0),this}get corner(){return new le(-this.x/this.scale.x,-this.y/this.scale.y)}set corner(e){this.moveCorner(e)}moveCorner(...e){let n,r;return e.length===1?(n=-e[0].x*this.scale.x,r=-e[0].y*this.scale.y):(n=-e[0]*this.scale.x,r=-e[1]*this.scale.y),(n!==this.x||r!==this.y)&&(this.position.set(n,r),this.plugins.reset(),this.dirty=!0),this}get screenWidthInWorldPixels(){return this.screenWidth/this.scale.x}get screenHeightInWorldPixels(){return this.screenHeight/this.scale.y}findFitWidth(e){return this.screenWidth/e}findFitHeight(e){return this.screenHeight/e}findFit(e,n){const r=this.screenWidth/e,i=this.screenHeight/n;return Math.min(r,i)}findCover(e,n){const r=this.screenWidth/e,i=this.screenHeight/n;return Math.max(r,i)}fitWidth(e=this.worldWidth,n,r=!0,i){let s;n&&(s=this.center),this.scale.x=this.screenWidth/e,r&&(this.scale.y=this.scale.x);const o=this.plugins.get("clamp-zoom",!0);return!i&&o&&o.clamp(),n&&s&&this.moveCenter(s),this}fitHeight(e=this.worldHeight,n,r=!0,i){let s;n&&(s=this.center),this.scale.y=this.screenHeight/e,r&&(this.scale.x=this.scale.y);const o=this.plugins.get("clamp-zoom",!0);return!i&&o&&o.clamp(),n&&s&&this.moveCenter(s),this}fitWorld(e){let n;e&&(n=this.center),this.scale.x=this.screenWidth/this.worldWidth,this.scale.y=this.screenHeight/this.worldHeight,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const r=this.plugins.get("clamp-zoom",!0);return r&&r.clamp(),e&&n&&this.moveCenter(n),this}fit(e,n=this.worldWidth,r=this.worldHeight){let i;e&&(i=this.center),this.scale.x=this.screenWidth/n,this.scale.y=this.screenHeight/r,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const s=this.plugins.get("clamp-zoom",!0);return s&&s.clamp(),e&&i&&this.moveCenter(i),this}setZoom(e,n){let r;n&&(r=this.center),this.scale.set(e);const i=this.plugins.get("clamp-zoom",!0);return i&&i.clamp(),n&&r&&this.moveCenter(r),this}zoomPercent(e,n){return this.setZoom(this.scale.x+this.scale.x*e,n)}zoom(e,n){return this.fitWidth(e+this.worldScreenWidth,n),this}get scaled(){return this.scale.x}set scaled(e){this.setZoom(e,!0)}snapZoom(e){return this.plugins.add("snap-zoom",new fhe(this,e)),this}OOB(){return{left:this.left<0,right:this.right>this.worldWidth,top:this.top<0,bottom:this.bottom>this.worldHeight,cornerPoint:new le(this.worldWidth*this.scale.x-this.screenWidth,this.worldHeight*this.scale.y-this.screenHeight)}}get right(){return-this.x/this.scale.x+this.worldScreenWidth}set right(e){this.x=-e*this.scale.x+this.screenWidth,this.plugins.reset()}get left(){return-this.x/this.scale.x}set left(e){this.x=-e*this.scale.x,this.plugins.reset()}get top(){return-this.y/this.scale.y}set top(e){this.y=-e*this.scale.y,this.plugins.reset()}get bottom(){return-this.y/this.scale.y+this.worldScreenHeight}set bottom(e){this.y=-e*this.scale.y+this.screenHeight,this.plugins.reset()}get dirty(){return!!this._dirty}set dirty(e){this._dirty=e}get forceHitArea(){return this._forceHitArea}set forceHitArea(e){e?(this._forceHitArea=e,this.hitArea=e):(this._forceHitArea=null,this.hitArea=new me(0,0,this.worldWidth,this.worldHeight))}drag(e){return this.plugins.add("drag",new rhe(this,e)),this}clamp(e){return this.plugins.add("clamp",new Zce(this,e)),this}decelerate(e){return this.plugins.add("decelerate",new the(this,e)),this}bounce(e){return this.plugins.add("bounce",new Yce(this,e)),this}pinch(e){return this.plugins.add("pinch",new uhe(this,e)),this}snap(e,n,r){return this.plugins.add("snap",new hhe(this,e,n,r)),this}follow(e,n){return this.plugins.add("follow",new she(this,e,n)),this}wheel(e){return this.plugins.add("wheel",new mhe(this,e)),this}animate(e){return this.plugins.add("animate",new Xce(this,e)),this}clampZoom(e){return this.plugins.add("clamp-zoom",new Jce(this,e)),this}mouseEdges(e){return this.plugins.add("mouse-edges",new ahe(this,e)),this}get pause(){return!!this._pause}set pause(e){this._pause=e,this.lastViewport=null,this.moving=!1,this.zooming=!1,e&&this.input.pause()}ensureVisible(e,n,r,i,s){s&&(r>this.worldScreenWidth||i>this.worldScreenHeight)&&(this.fit(!0,r,i),this.emit("zoomed",{viewport:this,type:"ensureVisible"}));let o=!1;e<this.left?(this.left=e,o=!0):e+r>this.right&&(this.right=e+r,o=!0),n<this.top?(this.top=n,o=!0):n+i>this.bottom&&(this.bottom=n+i,o=!0),o&&this.emit("moved",{viewport:this,type:"ensureVisible"})}}const ft=(t,e)=>t!=null&&t.levels?e.acquired[t==null?void 0:t.id]>0:e.selected[t==null?void 0:t.id],yk=(t,e)=>e.available[t.id],Qc=(t,e,n,r=1)=>{let i=n;return i.available[t.id]&&(t.levels?(i.acquired[t.id]||(i.acquired[t.id]=0),r>=0&&r<=t.levels&&(i.acquired[t.id]=r)):i.selected[t.id]=!i.selected[t.id]),i=xhe(e,t,i),i=r0(e,n),i},xhe=(t,e,n)=>{let r={...n};const i=s=>{const o=vn(t,a=>Mu(a.requires,{id:s.id}));r=r0(t,n),o&&Me(o,a=>{n.available[a.id]||(n.selected[a.id]=!1,n.acquired[a.id]=0,r=r0(t,n),i(a))})};return i(e),r},r0=(t,e)=>(Me(t,n=>{var r;if(n.requires){let i=n.requirementType||"and",s=i==="and";Me(n.requires,o=>{const a=_e(t,{id:o.id});if(a.levels){const l=o.levels||a.levels,u=e.acquired[a.id];i==="and"?s=s&&u>=l:i==="or"&&(s=s||u>=l)}else i==="and"?s=s&&e.selected[o.id]:i==="or"&&(s=s||e.selected[o.id])}),e.available[n.id]=s}if((r=n.exclusiveWith)!=null&&r.length){let i=!0;Me(n.exclusiveWith,s=>{i=!e.selected[s]&&!e.acquired[s]}),e.available[n.id]=i&&e.available[n.id]}}),e),Rr=(t,e,n,r)=>{var i;r.next({node:{...t,acquired:e.acquired[t.id],selected:e.selected[t.id],available:e.available[t.id],requiredName:(i=_e(n,{id:t.requires}))==null?void 0:i.name}})},ss=t=>typeof t=="string"?parseInt(t.replace("#",""),16):0,zn=(t,e,n)=>n?ss(t.colors[n]):yk(t,e)?ss(t.colors.selected):ss(t.colors.unavailable),_m=(t,e)=>{e.next({event:"nodesChanged",data:{nodes:pe(t,n=>({colors:n.colors,id:n.id,requires:n.requires,name:n.name,description:n.description,cost:n.cost,levels:n.levels,levelCost:n.levelCost,providedStats:n.providedStats,providedAbilities:n.providedAbilities}))}})};function whe(t,e,n={},r,i,s,o){let a=s.subscribe({next:F=>{switch(F.event){case"forcesUpdated":S=F.data.forces,z();break;case"modeChanged":k(F.data.mode);break;case"nodeAdded":B(F.data.node);break;case"nodeDeleted":I(F.data.id);break;case"nodeAcquisitionChanged":N(F.data.id,F.data.acquired);break;case"nodeEdited":D(F.data.id,F.data.node);break;case"themeChanged":C(F.data);break}}}),l="#1d1b21",u="#ddd",c,h,d={selected:{},acquired:{},available:{}},f=uS(),p,m,v,g,b,y="build-slow",x,S={f1:10,f2:44,f3:40,f4:10};function C(F){F==="light"?(l="#ffffff",u="#666666"):(l="#1d1b21",u="#dddddd"),c.renderer.backgroundColor=ss(l),G()}function T(F,$){F.children.length>0&&F.children[0].destroy();const P=new da($,{fontFamily:"Inter",fontSize:14,fill:u,align:"center"});P.anchor.set(.5,-.75),P.resolution=12,F.addChild(P)}function A(){d={selected:{},acquired:{},available:{}},Me(h,F=>{d.selected[F.id]=n[F.id]===!0,d.acquired[F.id]=iB(n[F.id])?n[F.id]:!1}),M(),r.next({nodes:pe(h,F=>({...F,selected:ft(F,d),acquired:d.acquired[F.id]})),nodeMeta:d})}function I(F){if(F==="basic")return;const $=_e(h,{id:F});if($){$==null||$.gfx.removeChildren(),$==null||$.gfx.clear(),h=pe(vn(h,W=>W.id!==F),W=>{let Q=W.requires;return Mu(W.requires,{id:$==null?void 0:$.id})&&(Q=$==null?void 0:$.requires),{...W,requires:Q}});const P=_e(h,{id:($==null?void 0:$.requires)&&($==null?void 0:$.requires[0].id)});M(),x=P==null?void 0:P.id,Rr(P,d,h,i),G(),z(),L(),_m(h,s)}}function M(){m=[],Me(h,F=>{var $;if(($=F==null?void 0:F.requires)!=null&&$.length){let P=!0;Me(F.requires,W=>{const Q=_e(h,{id:W==null?void 0:W.id});P=P&&ft(Q,d),m.push({source:F,target:Q})}),d.available[F.id]=P}else d.available[F.id]=!0})}function N(F,$){let P=_e(h,{id:F}),W=d.acquired[F];console.log("old",W),console.log("new",$),P.levels&&P.levels>1?d=Qc(P,h,d,$):d=Qc(P,h,d),r.next({nodes:pe(h,Q=>({...Q,selected:ft(Q,d),acquired:d.acquired[Q.id]})),nodeMeta:d}),Rr(P,d,h,i),G()}function D(F,$){let P=_e(h,{id:F}),W=P.requires,Q=P.requirementType;P.name=$.name,P.id=$.id,P.description=$.description,P.levels=$.levels,P.cost=$.cost,P.levelCost=$.levelCost,P.providedStats=$.providedStats,P.providedAbilities=$.providedAbilities,P.colors=$.colors,P.requires=$.requires,P.requirementType=$.requirementType,(W!==$.requires||Q!==$.requirementType)&&M(),d.acquired[F]&&d.acquired[F]>$.levels&&(d.acquired[F]=$.levels),P==null||P.gfx.removeChildren();const ve=new da($.name,{fontFamily:"Inter",fontSize:12,fontWeight:"500",fill:"#fff",align:"center"});ve.anchor.set(.5,-.75),ve.resolution=12,P==null||P.gfx.addChild(ve),h=pe(h,ge=>{if(ge.id===F)return P;{let Ce=ge;return ge.requires===F&&(Ce.requires=[{id:P.id,levels:1}]),Ce}}),G(),L(),z(),Rr(P,d,h,i),r.next({nodes:pe(h,ge=>({...ge,selected:ft(ge,d),acquired:d.acquired[ge.id]})),nodeMeta:d}),_m(h,s)}function B(F){let $={...F};$.colors||($.colors={}),X($),x=$.id,h=[...h,$],Me($.requires,P=>{m.push({source:$,target:_e(h,{id:P.id})})}),G(),L(),q(),_m(h,s),Rr($,d,h,i),setTimeout(()=>{b.follow($,{acceleration:.4}),b.setZoom(1.4),setTimeout(()=>{b.plugins.remove("follow")},200)},100)}function k(F){console.log(F);let $=y;y=F,$!==F&&((y==="build-slow"||y==="build-fast")&&(x=null),G(),L())}function H(F,$){if(y==="build-fast"||F.ctrlKey){const P=ft($,d);$.levels&&$.levels>1?d=Qc($,h,d,F.nativeEvent.shiftKey?d.acquired[$.id]-1:d.acquired[$.id]+1):d=Qc($,h,d),r.next({nodes:pe(h,Q=>({...Q,selected:ft(Q,d),acquired:d.acquired[Q.id]})),nodeMeta:d}),Rr($,d,h,i);const W=ft($,d)!==P;G(W?$.id:null),L()}else y==="build-slow"?Rr($,d,h,i):y==="edit"&&(x=$.id,Rr($,d,h,i),G())}function q(){z(4,.7)}function z(F,$){S&&(f.nodes(h).force("link",aS(m).strength(P=>{const W=P.source.requires.length?.1:-.2;return ft(P.target,d)?S.f2*.015+W:S.f2*.013+W}).id(P=>P.id).distance(P=>{let W=P.source.requires.length?1:6;return P.target.requires.length||(W+=10),P.source.levels||P.target.levels?ft(P.source,d)?S.f1+18+W:S.f1+20+W:ft(P.source,d)?S.f1+10+W:S.f1+14+W})).force("charge",cS().strength(-(S.f3*6))).force("center",rS(v/3,g/2)).force("collision",sS().radius(P=>S.f3).iterations(F||1)).velocityDecay($||S.f4*.01),f.alpha(1).restart()),L(),G()}function L(){for(let F=p.children.length-1;F>=0;F--)p.children[F].destroy();p.clear(),p.removeChildren(),p.alpha=.8,m.forEach((F,$)=>{let{source:P,target:W}=F,Q=4473924,ve=2,ge=P&&ft(P,d)&&ft(W,d);if(W.id&&P&&(ge||y==="edit"?Q=zn(P,d,"selected"):Q=10198691,ve=ft(W,d)&&ft(P,d)?2:1),p.lineStyle(ve,Q,ge?1:.2),P.requirementType==="or"&&!ge){const Ce=new gk(p,{dash:[5,5],width:1,color:Q});Ce.moveTo(P.x,P.y),Ce.lineTo(W.x,W.y)}else p.moveTo(P.x,P.y),p.lineTo(W.x,W.y)}),p.endFill()}function G(F){const $=(P,W)=>{P.moveTo(W,-(W/2)),P.lineTo(0,W*1.5),P.lineTo(-W,-(W/2)),P.lineTo(W,-(W/2))};h.forEach(P=>{var Ce;const W=x===P.id,Q=ft(P,d),ve=yk(P,d);P.gfx.clear();let ge=P.cost||1;if(y==="build-fast"?P.gfx.cursor=ve?"pointer":"default":P.gfx.cursor="pointer",((Ce=P.exclusiveWith)==null?void 0:Ce.length)>0)W&&y==="edit"?(P.gfx.beginFill(zn(P,d,"selected")),$(P.gfx,8),P.gfx.endFill()):Q?(P.gfx.beginFill(zn(P,d)),$(P.gfx,8),P.gfx.endFill()):ve?(P.gfx.lineStyle(1,zn(P,d),1),$(P.gfx,8),P.gfx.endFill(),P.gfx.beginFill(16777215),P.gfx.lineStyle(),$(P.gfx,4),P.gfx.endFill()):(P.gfx.beginFill(zn(P,d)),$(P.gfx,6),P.gfx.endFill()),P.gfx.hitArea=new aa(0,0,12+10);else if(!F||P.id!==F||P.levels||!Q)if(P.levels&&P.levels>1){const oe=4+P.levels*15,Ae=d.acquired[P.id];let Ee=-(oe/2);P.gfx.lineStyle(2,W&&y==="edit"?ss("#ffffff"):zn(P,d)),P.gfx.beginFill(ss(l)),P.gfx.drawShape(new la(Ee,-6,oe,16,4)),P.gfx.endFill(),P.gfx.beginFill(ss(u)),P.gfx.lineStyle(),Fu(Ae,Qe=>{P.gfx.drawCircle(Ee+11+Qe*14,2,4)}),P.gfx.endFill(),P.gfx.hitArea=new la(Ee,-6,oe,16,4)}else{let oe;y==="edit"?oe=8:oe=Q?ge*2+6:ge*2+2,W&&y==="edit"?(P.gfx.beginFill(16777215),P.gfx.drawCircle(0,0,oe+2),P.gfx.endFill(),P.gfx.beginFill(zn(P,d,"selected")),P.gfx.drawCircle(0,0,oe),P.gfx.endFill()):Q?(P.gfx.beginFill(zn(P,d)),P.gfx.drawCircle(0,0,oe),P.gfx.endFill()):ve?(P.gfx.lineStyle(1,zn(P,d),1),P.gfx.drawCircle(0,0,oe+4),P.gfx.endFill(),P.gfx.beginFill(14540253),P.gfx.lineStyle(),P.gfx.drawCircle(0,0,oe),P.gfx.endFill()):(P.gfx.beginFill(zn(P,d)),P.gfx.drawCircle(0,0,oe),P.gfx.endFill()),P.gfx.hitArea=new aa(0,0,oe+10)}else if(P.id===F&&Q){const oe=_e(h,{id:F});let Ae=Q?ge*2+6:ge*2+2,Ee=Q?ge*2+2:ge*2+6,Qe=0;const wt=setInterval(()=>{Qe++,Q?Ee+=Qe*.4:Ee-=Qe*.4,oe==null||oe.gfx.clear(),oe==null||oe.gfx.beginFill(zn(oe,d)),oe==null||oe.gfx.drawCircle(0,0,Ee),oe==null||oe.gfx.endFill(),Q?Ee>=Ae&&clearInterval(wt):Ee<=Ae&&clearInterval(wt)},5)}T(P.gfx,P.name),P.gfx.interactive=!0})}function R(){e.length?h=pe(e,P=>({...P})):h=[{id:"reset",name:"Info",description:"Press the Reset Button to start",colors:{selected:"#fff",unavailable:"#fff"}}],m=[],A();const F=t.getBoundingClientRect();g=F.height,v=F.width,t.innerHTML="",c=new qf({width:v,height:g,antialias:!0,autoDensity:!0,resizeTo:window,backgroundColor:l,backgroundAlpha:1,resolution:4}),t.appendChild(c.view),b=new bhe({screenWidth:v,screenHeight:g,worldWidth:v*4,worldHeight:g*4,passiveWheel:!1,events:c.renderer.plugins.interaction}),b.setZoom(.6,!0),c.stage.addChild(b),b.drag().pinch().wheel().decelerate().clampZoom({minWidth:v/4,minHeight:g/4}),f=uS(h).force("link",aS(m).strength(P=>ft(P.target,d)?.8:.7).id(P=>P.id).distance(P=>ft(P.source,d)?20:30)).force("charge",cS().strength(-200)).force("center",rS(v/4,g/2)).force("collision",sS().radius(P=>P.radius).iterations(2)).velocityDecay(.8),p=new Ts,b.addChild(p),h.forEach(P=>{X(P)}),G(),z();const $=()=>{h.forEach(P=>{let{x:W,y:Q,gfx:ve}=P;ve.position=new le(W,Q)}),L()};f.on("tick",$),r.next({nodes:pe(h,P=>({...P,selected:ft(P,d),acquired:d.acquired[P.id]})),nodeMeta:d}),C(o)}function X(F){let $=new Ts;const P=H.bind(F);let W=!1;$.on("touchstart",Q=>{W=!0,Rr(F,d,h,i),setTimeout(()=>{W&&H(Q,F)},100)}),$.on("touchend",Q=>{W=!1}),$.on("click",Q=>P(Q,F)),$.on("mouseover",Q=>{y==="build-fast"&&Rr(F,d,h,i)}),F.gfx=$,b.addChild($),T(F.gfx,F.name)}const Z={Inter:"https://fonts.googleapis.com/css2?family=Inter:wght@100;400;500;700&display=swap"};return is.add("font-Inter",Z.Inter),is.load(Z.Inter).then(()=>{R()}),{destroy:()=>{f.stop(),h.forEach(F=>{F.gfx&&(F.gfx.clear(),F.gfx.removeChildren(),F.gfx.destroy())}),p.clear(),p.clear(),a.unsubscribe(),c.destroy()}}}const _he="_container_1up64_1",Ehe="_node_1up64_15",She="_tooltip_1up64_19",Che="_contextMenu_1up64_32",The="_menuEntry_1up64_37",Ahe={container:_he,node:Ehe,tooltip:She,contextMenu:Che,menuEntry:The},Phe=(t,e,n)=>{let r={};const i={globalParams:{},lockedStats:{},stats:{},abilities:{},pointsInvested:0,exportableBuild:{}},s=(u,c,h,d)=>{if(Tn(i.stats[c])&&(i.stats[c]=0),!i.lockedStats[c]||d&&h&&i.lockedStats[c]<h)if(d)i.stats[c]=h,i.lockedStats[c]=h;else if(u.levels){const f=u.acquired||0;h=h||0,i.stats[c]+=h*f}else i.stats[c]+=h},o=(u,c)=>{const h=_e(e,{id:u});Tn(i.abilities[u])&&(i.abilities[u]=Ie(h)||{},i.abilities[u].modifiers={}),i.abilities[u].learned=i.abilities[u].learned||c},a=u=>{const c=_e(e,{id:u});c&&(o(c.id),i.abilities[u].replaced=!0)},l=(u,c,h={},d)=>{const f=_e(e,{id:u});o(u,c),f!=null&&f.replaces&&i.abilities[u].learned&&a(f==null?void 0:f.replaces),h&&Me(h,p=>{if(vB(p.id,"tag-")){Tn(i.abilities[u].tags)&&(i.abilities[u].tags=[]);const v=p.id.substring(4);i.abilities[u].tags=Ql([...i.abilities[u].tags,v])}let m=p.modifier;d.levels&&(m=d.acquired*p.modifier),Tn(i.abilities[u].modifiers[p.id])&&(i.abilities[u].modifiers[p.id]=0),i.abilities[u].modifiers[p.id]+=m})};return Me(n,u=>{i.globalParams[u.id]=u.value}),Me(t,u=>{u.globalParams&&Me(u.globalParams,c=>{Tn(i.globalParams[c.id])&&(i.globalParams[c.id]=0),c.set?(!r[c.id]||c.modifier>r[c.id])&&(r[c.id]=c.modifier):i.globalParams[c.id]+=c.modifier})}),Me(t,u=>{if(u.levels){const c=u.acquired||0;i.exportableBuild[u.id]=u.acquired||0,u.levelCost?Array.isArray(u.levelCost)?Fu(c,h=>{i.pointsInvested+=u.levelCost[h]}):i.pointsInvested+=c*u.levelCost:i.pointsInvested+=u.acquired||0}else i.exportableBuild[u.id]=!0,i.pointsInvested+=u.cost||1;u.providedStats&&Me(u.providedStats,c=>{s(u,c.id,c.modifier,c.set)}),u.providedAbilities&&Me(u.providedAbilities,c=>{l(c.id,c.gain,c.modifiers,u)})}),i};function Ohe({infoUpdated:t,graphEvents:e}){const n=w.useRef(null),{abilities:r,globalParams:i}=w.useContext(Bt),{nodes:s,setNodeMeta:o}=w.useContext(ti),a=new ed,l=new ed,{savedBuild:u,setBuild:c}=w.useContext(Fs),{theme:h}=w.useContext($u),{appMode:d}=w.useContext(ri),f=w.useRef(r),p=w.useRef(i);return w.useEffect(()=>{e.next({event:"modeChanged",data:{mode:d}})},[d]),w.useEffect(()=>{f.current=r},[r]),w.useEffect(()=>{p.current=i},[i]),w.useEffect(()=>{e.next({event:"themeChanged",data:h})},[h]),w.useEffect(()=>{let m;if(e.subscribe({next:v=>{}}),a.subscribe({next:v=>{const g=vn(v.nodes,b=>b.selected||b.acquired);c({type:"set",build:Phe(g,f.current,p.current)}),v.nodeMeta&&o(v.nodeMeta)}}),l.subscribe({next:v=>{t(v)}}),n.current){const{destroy:v}=whe(n.current,s,u,a,l,e,h);m=v}return t({}),m},[u]),E("div",{ref:n,className:Ahe.container})}const s2=new ed;function Ihe(){const{setSelectedNodeId:t}=w.useContext(ti),{build:e}=w.useContext(Fs),{theme:n}=w.useContext($u),{appMode:r,setAppMode:i,buildMode:s,setBuildMode:o}=w.useContext(ri),a=w.useRef(r),l=w.useRef(s);w.useEffect(()=>{a.current=r},[r]),w.useEffect(()=>{l.current=s},[s]);const u=w.useCallback(h=>{var f;const d=["INPUT","SELECT","TEXTAREA"];h.shiftKey&&!Ru(d,(f=document.activeElement)==null?void 0:f.tagName)&&(h.key==="E"?i(a.current==="edit"?s:"edit"):h.key==="F"&&(l.current==="build-slow"?(i("build-fast"),o("build-fast")):(i("build-slow"),o("build-slow"))))},[]);w.useEffect(()=>(document.addEventListener("keydown",u),()=>{document.removeEventListener("keydown",u)}),[u]);const c=h=>{var d;t((d=h.node)==null?void 0:d.id)};return U("div",{className:Ai({App:!0,light:n==="light"}),children:[U("div",{className:"appLeft",children:[E(Oee,{graphEvents$:s2}),E(Dre,{pointsSpent:e.pointsInvested})]}),E("div",{className:"appRight",children:E(Fre,{})}),E("div",{className:"skill-panel",children:E(Ohe,{infoUpdated:c,graphEvents:s2})})]})}function khe(){return E(hee,{children:E(_L,{children:E(jB,{children:E(IB,{children:E(NB,{children:E(_ee,{children:E(bL,{children:E(Ihe,{})})})})})})})})}Em.createRoot(document.getElementById("root")).render(E(khe,{}))});export default Rhe();
