var hk=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var bhe=hk((on,an)=>{function dk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Dr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function pk(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var _h={},mk={get exports(){return _h},set exports(t){_h=t}},Id={},_={},gk={get exports(){return _},set exports(t){_=t}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xu=Symbol.for("react.element"),vk=Symbol.for("react.portal"),yk=Symbol.for("react.fragment"),bk=Symbol.for("react.strict_mode"),xk=Symbol.for("react.profiler"),wk=Symbol.for("react.provider"),_k=Symbol.for("react.context"),Ek=Symbol.for("react.forward_ref"),Sk=Symbol.for("react.suspense"),Ck=Symbol.for("react.memo"),Tk=Symbol.for("react.lazy"),Nb=Symbol.iterator;function Ak(t){return t===null||typeof t!="object"?null:(t=Nb&&t[Nb]||t["@@iterator"],typeof t=="function"?t:null)}var YS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qS=Object.assign,KS={};function ha(t,e,n){this.props=t,this.context=e,this.refs=KS,this.updater=n||YS}ha.prototype.isReactComponent={};ha.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ha.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ZS(){}ZS.prototype=ha.prototype;function qv(t,e,n){this.props=t,this.context=e,this.refs=KS,this.updater=n||YS}var Kv=qv.prototype=new ZS;Kv.constructor=qv;qS(Kv,ha.prototype);Kv.isPureReactComponent=!0;var Lb=Array.isArray,QS=Object.prototype.hasOwnProperty,Zv={current:null},JS={key:!0,ref:!0,__self:!0,__source:!0};function e2(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)QS.call(e,r)&&!JS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:xu,type:t,key:s,ref:o,props:i,_owner:Zv.current}}function Pk(t,e){return{$$typeof:xu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Qv(t){return typeof t=="object"&&t!==null&&t.$$typeof===xu}function Ok(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ub=/\/+/g;function Zf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ok(""+t.key):e.toString(36)}function Yc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case xu:case vk:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Zf(o,0):r,Lb(i)?(n="",t!=null&&(n=t.replace(Ub,"$&/")+"/"),Yc(i,e,n,"",function(u){return u})):i!=null&&(Qv(i)&&(i=Pk(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ub,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Lb(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Zf(s,a);o+=Yc(s,e,n,l,i)}else if(l=Ak(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Zf(s,a++),o+=Yc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ju(t,e,n){if(t==null)return t;var r=[],i=0;return Yc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Ik(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Nt={current:null},qc={transition:null},kk={ReactCurrentDispatcher:Nt,ReactCurrentBatchConfig:qc,ReactCurrentOwner:Zv};ve.Children={map:Ju,forEach:function(t,e,n){Ju(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ju(t,function(){e++}),e},toArray:function(t){return Ju(t,function(e){return e})||[]},only:function(t){if(!Qv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ve.Component=ha;ve.Fragment=yk;ve.Profiler=xk;ve.PureComponent=qv;ve.StrictMode=bk;ve.Suspense=Sk;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kk;ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=qS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Zv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)QS.call(e,l)&&!JS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:xu,type:t.type,key:i,ref:s,props:r,_owner:o}};ve.createContext=function(t){return t={$$typeof:_k,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wk,_context:t},t.Consumer=t};ve.createElement=e2;ve.createFactory=function(t){var e=e2.bind(null,t);return e.type=t,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:Ek,render:t}};ve.isValidElement=Qv;ve.lazy=function(t){return{$$typeof:Tk,_payload:{_status:-1,_result:t},_init:Ik}};ve.memo=function(t,e){return{$$typeof:Ck,type:t,compare:e===void 0?null:e}};ve.startTransition=function(t){var e=qc.transition;qc.transition={};try{t()}finally{qc.transition=e}};ve.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ve.useCallback=function(t,e){return Nt.current.useCallback(t,e)};ve.useContext=function(t){return Nt.current.useContext(t)};ve.useDebugValue=function(){};ve.useDeferredValue=function(t){return Nt.current.useDeferredValue(t)};ve.useEffect=function(t,e){return Nt.current.useEffect(t,e)};ve.useId=function(){return Nt.current.useId()};ve.useImperativeHandle=function(t,e,n){return Nt.current.useImperativeHandle(t,e,n)};ve.useInsertionEffect=function(t,e){return Nt.current.useInsertionEffect(t,e)};ve.useLayoutEffect=function(t,e){return Nt.current.useLayoutEffect(t,e)};ve.useMemo=function(t,e){return Nt.current.useMemo(t,e)};ve.useReducer=function(t,e,n){return Nt.current.useReducer(t,e,n)};ve.useRef=function(t){return Nt.current.useRef(t)};ve.useState=function(t){return Nt.current.useState(t)};ve.useSyncExternalStore=function(t,e,n){return Nt.current.useSyncExternalStore(t,e,n)};ve.useTransition=function(){return Nt.current.useTransition()};ve.version="18.2.0";(function(t){t.exports=ve})(gk);const w=fk(_),jb=dk({__proto__:null,default:w},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rk=_,Mk=Symbol.for("react.element"),Fk=Symbol.for("react.fragment"),Dk=Object.prototype.hasOwnProperty,$k=Rk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bk={key:!0,ref:!0,__self:!0,__source:!0};function t2(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Dk.call(e,r)&&!Bk.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Mk,type:t,key:s,ref:o,props:i,_owner:$k.current}}Id.Fragment=Fk;Id.jsx=t2;Id.jsxs=t2;(function(t){t.exports=Id})(mk);const E=_h.jsx,j=_h.jsxs;var bm={},Pl={},Nk={get exports(){return Pl},set exports(t){Pl=t}},mn={},xm={},Lk={get exports(){return xm},set exports(t){xm=t}},n2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,V){var F=B.length;B.push(V);e:for(;0<F;){var W=F-1>>>1,R=B[W];if(0<i(R,V))B[W]=V,B[F]=R,F=W;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var V=B[0],F=B.pop();if(F!==V){B[0]=F;e:for(var W=0,R=B.length,$=R>>>1;W<$;){var P=2*(W+1)-1,G=B[P],K=P+1,ce=B[K];if(0>i(G,F))K<R&&0>i(ce,G)?(B[W]=ce,B[K]=F,W=K):(B[W]=G,B[P]=F,W=P);else if(K<R&&0>i(ce,F))B[W]=ce,B[K]=F,W=K;else break e}}return V}function i(B,V){var F=B.sortIndex-V.sortIndex;return F!==0?F:B.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,p=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(B){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=B)r(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(u)}}function x(B){if(m=!1,y(B),!p)if(n(l)!==null)p=!0,q(S);else{var V=n(u);V!==null&&z(x,V.startTime-B)}}function S(B,V){p=!1,m&&(m=!1,v(A),A=-1),f=!0;var F=d;try{for(y(V),h=n(l);h!==null&&(!(h.expirationTime>V)||B&&!N());){var W=h.callback;if(typeof W=="function"){h.callback=null,d=h.priorityLevel;var R=W(h.expirationTime<=V);V=t.unstable_now(),typeof R=="function"?h.callback=R:h===n(l)&&r(l),y(V)}else r(l);h=n(l)}if(h!==null)var $=!0;else{var P=n(u);P!==null&&z(x,P.startTime-V),$=!1}return $}finally{h=null,d=F,f=!1}}var C=!1,T=null,A=-1,k=5,M=-1;function N(){return!(t.unstable_now()-M<k)}function L(){if(T!==null){var B=t.unstable_now();M=B;var V=!0;try{V=T(!0,B)}finally{V?I():(C=!1,T=null)}}else C=!1}var I;if(typeof b=="function")I=function(){b(L)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Z=D.port2;D.port1.onmessage=L,I=function(){Z.postMessage(null)}}else I=function(){g(L,0)};function q(B){T=B,C||(C=!0,I())}function z(B,V){A=g(function(){B(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,q(S))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(d){case 1:case 2:case 3:var V=3;break;default:V=d}var F=d;d=V;try{return B()}finally{d=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,V){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var F=d;d=B;try{return V()}finally{d=F}},t.unstable_scheduleCallback=function(B,V,F){var W=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?W+F:W):F=W,B){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=F+R,B={id:c++,callback:V,priorityLevel:B,startTime:F,expirationTime:R,sortIndex:-1},F>W?(B.sortIndex=F,e(u,B),n(l)===null&&B===n(u)&&(m?(v(A),A=-1):m=!0,z(x,F-W))):(B.sortIndex=R,e(l,B),p||f||(p=!0,q(S))),B},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(B){var V=d;return function(){var F=d;d=V;try{return B.apply(this,arguments)}finally{d=F}}}})(n2);(function(t){t.exports=n2})(Lk);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r2=_,fn=xm;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i2=new Set,Ol={};function As(t,e){jo(t,e),jo(t+"Capture",e)}function jo(t,e){for(Ol[t]=e,t=0;t<e.length;t++)i2.add(e[t])}var zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wm=Object.prototype.hasOwnProperty,Uk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zb={},Hb={};function jk(t){return wm.call(Hb,t)?!0:wm.call(zb,t)?!1:Uk.test(t)?Hb[t]=!0:(zb[t]=!0,!1)}function zk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Hk(t,e,n,r){if(e===null||typeof e>"u"||zk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Lt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Et[t]=new Lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Et[e]=new Lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Et[t]=new Lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Et[t]=new Lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Et[t]=new Lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Et[t]=new Lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Et[t]=new Lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Et[t]=new Lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Et[t]=new Lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jv=/[\-:]([a-z])/g;function e0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jv,e0);Et[e]=new Lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jv,e0);Et[e]=new Lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jv,e0);Et[e]=new Lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Et[t]=new Lt(t,1,!1,t.toLowerCase(),null,!1,!1)});Et.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Et[t]=new Lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function t0(t,e,n,r){var i=Et.hasOwnProperty(e)?Et[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Hk(e,n,i,r)&&(n=null),r||i===null?jk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Kr=r2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ec=Symbol.for("react.element"),go=Symbol.for("react.portal"),vo=Symbol.for("react.fragment"),n0=Symbol.for("react.strict_mode"),_m=Symbol.for("react.profiler"),s2=Symbol.for("react.provider"),o2=Symbol.for("react.context"),r0=Symbol.for("react.forward_ref"),Em=Symbol.for("react.suspense"),Sm=Symbol.for("react.suspense_list"),i0=Symbol.for("react.memo"),ii=Symbol.for("react.lazy"),a2=Symbol.for("react.offscreen"),Gb=Symbol.iterator;function Ia(t){return t===null||typeof t!="object"?null:(t=Gb&&t[Gb]||t["@@iterator"],typeof t=="function"?t:null)}var Ze=Object.assign,Qf;function el(t){if(Qf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Qf=e&&e[1]||""}return`
`+Qf+t}var Jf=!1;function ep(t,e){if(!t||Jf)return"";Jf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Jf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?el(t):""}function Gk(t){switch(t.tag){case 5:return el(t.type);case 16:return el("Lazy");case 13:return el("Suspense");case 19:return el("SuspenseList");case 0:case 2:case 15:return t=ep(t.type,!1),t;case 11:return t=ep(t.type.render,!1),t;case 1:return t=ep(t.type,!0),t;default:return""}}function Cm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vo:return"Fragment";case go:return"Portal";case _m:return"Profiler";case n0:return"StrictMode";case Em:return"Suspense";case Sm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case o2:return(t.displayName||"Context")+".Consumer";case s2:return(t._context.displayName||"Context")+".Provider";case r0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case i0:return e=t.displayName||null,e!==null?e:Cm(t.type)||"Memo";case ii:e=t._payload,t=t._init;try{return Cm(t(e))}catch{}}return null}function Wk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cm(e);case 8:return e===n0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ei(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function l2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Vk(t){var e=l2(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function tc(t){t._valueTracker||(t._valueTracker=Vk(t))}function u2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=l2(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Eh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Tm(t,e){var n=e.checked;return Ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Wb(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ei(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function c2(t,e){e=e.checked,e!=null&&t0(t,"checked",e,!1)}function Am(t,e){c2(t,e);var n=Ei(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Pm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Pm(t,e.type,Ei(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Vb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Pm(t,e,n){(e!=="number"||Eh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var tl=Array.isArray;function Oo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ei(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Om(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return Ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xb(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(tl(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ei(n)}}function h2(t,e){var n=Ei(e.value),r=Ei(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Yb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function d2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Im(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?d2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nc,f2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(nc=nc||document.createElement("div"),nc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Il(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var gl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xk=["Webkit","ms","Moz","O"];Object.keys(gl).forEach(function(t){Xk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),gl[e]=gl[t]})});function p2(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||gl.hasOwnProperty(t)&&gl[t]?(""+e).trim():e+"px"}function m2(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=p2(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Yk=Ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function km(t,e){if(e){if(Yk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function Rm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mm=null;function s0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fm=null,Io=null,ko=null;function qb(t){if(t=Eu(t)){if(typeof Fm!="function")throw Error(H(280));var e=t.stateNode;e&&(e=Dd(e),Fm(t.stateNode,t.type,e))}}function g2(t){Io?ko?ko.push(t):ko=[t]:Io=t}function v2(){if(Io){var t=Io,e=ko;if(ko=Io=null,qb(t),e)for(t=0;t<e.length;t++)qb(e[t])}}function y2(t,e){return t(e)}function b2(){}var tp=!1;function x2(t,e,n){if(tp)return t(e,n);tp=!0;try{return y2(t,e,n)}finally{tp=!1,(Io!==null||ko!==null)&&(b2(),v2())}}function kl(t,e){var n=t.stateNode;if(n===null)return null;var r=Dd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Dm=!1;if(zr)try{var ka={};Object.defineProperty(ka,"passive",{get:function(){Dm=!0}}),window.addEventListener("test",ka,ka),window.removeEventListener("test",ka,ka)}catch{Dm=!1}function qk(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var vl=!1,Sh=null,Ch=!1,$m=null,Kk={onError:function(t){vl=!0,Sh=t}};function Zk(t,e,n,r,i,s,o,a,l){vl=!1,Sh=null,qk.apply(Kk,arguments)}function Qk(t,e,n,r,i,s,o,a,l){if(Zk.apply(this,arguments),vl){if(vl){var u=Sh;vl=!1,Sh=null}else throw Error(H(198));Ch||(Ch=!0,$m=u)}}function Ps(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function w2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Kb(t){if(Ps(t)!==t)throw Error(H(188))}function Jk(t){var e=t.alternate;if(!e){if(e=Ps(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Kb(i),t;if(s===r)return Kb(i),e;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function _2(t){return t=Jk(t),t!==null?E2(t):null}function E2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=E2(t);if(e!==null)return e;t=t.sibling}return null}var S2=fn.unstable_scheduleCallback,Zb=fn.unstable_cancelCallback,eR=fn.unstable_shouldYield,tR=fn.unstable_requestPaint,it=fn.unstable_now,nR=fn.unstable_getCurrentPriorityLevel,o0=fn.unstable_ImmediatePriority,C2=fn.unstable_UserBlockingPriority,Th=fn.unstable_NormalPriority,rR=fn.unstable_LowPriority,T2=fn.unstable_IdlePriority,kd=null,_r=null;function iR(t){if(_r&&typeof _r.onCommitFiberRoot=="function")try{_r.onCommitFiberRoot(kd,t,void 0,(t.current.flags&128)===128)}catch{}}var Jn=Math.clz32?Math.clz32:aR,sR=Math.log,oR=Math.LN2;function aR(t){return t>>>=0,t===0?32:31-(sR(t)/oR|0)|0}var rc=64,ic=4194304;function nl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ah(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=nl(a):(s&=o,s!==0&&(r=nl(s)))}else o=n&~i,o!==0?r=nl(o):s!==0&&(r=nl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Jn(e),i=1<<n,r|=t[n],e&=~i;return r}function lR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Jn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=lR(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Bm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function A2(){var t=rc;return rc<<=1,!(rc&4194240)&&(rc=64),t}function np(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function wu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jn(e),t[e]=n}function cR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Jn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function a0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Jn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ke=0;function P2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var O2,l0,I2,k2,R2,Nm=!1,sc=[],fi=null,pi=null,mi=null,Rl=new Map,Ml=new Map,ai=[],hR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qb(t,e){switch(t){case"focusin":case"focusout":fi=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":mi=null;break;case"pointerover":case"pointerout":Rl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(e.pointerId)}}function Ra(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Eu(e),e!==null&&l0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function dR(t,e,n,r,i){switch(e){case"focusin":return fi=Ra(fi,t,e,n,r,i),!0;case"dragenter":return pi=Ra(pi,t,e,n,r,i),!0;case"mouseover":return mi=Ra(mi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Rl.set(s,Ra(Rl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ml.set(s,Ra(Ml.get(s)||null,t,e,n,r,i)),!0}return!1}function M2(t){var e=Qi(t.target);if(e!==null){var n=Ps(e);if(n!==null){if(e=n.tag,e===13){if(e=w2(n),e!==null){t.blockedOn=e,R2(t.priority,function(){I2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Lm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Mm=r,n.target.dispatchEvent(r),Mm=null}else return e=Eu(n),e!==null&&l0(e),t.blockedOn=n,!1;e.shift()}return!0}function Jb(t,e,n){Kc(t)&&n.delete(e)}function fR(){Nm=!1,fi!==null&&Kc(fi)&&(fi=null),pi!==null&&Kc(pi)&&(pi=null),mi!==null&&Kc(mi)&&(mi=null),Rl.forEach(Jb),Ml.forEach(Jb)}function Ma(t,e){t.blockedOn===e&&(t.blockedOn=null,Nm||(Nm=!0,fn.unstable_scheduleCallback(fn.unstable_NormalPriority,fR)))}function Fl(t){function e(i){return Ma(i,t)}if(0<sc.length){Ma(sc[0],t);for(var n=1;n<sc.length;n++){var r=sc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fi!==null&&Ma(fi,t),pi!==null&&Ma(pi,t),mi!==null&&Ma(mi,t),Rl.forEach(e),Ml.forEach(e),n=0;n<ai.length;n++)r=ai[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ai.length&&(n=ai[0],n.blockedOn===null);)M2(n),n.blockedOn===null&&ai.shift()}var Ro=Kr.ReactCurrentBatchConfig,Ph=!0;function pR(t,e,n,r){var i=ke,s=Ro.transition;Ro.transition=null;try{ke=1,u0(t,e,n,r)}finally{ke=i,Ro.transition=s}}function mR(t,e,n,r){var i=ke,s=Ro.transition;Ro.transition=null;try{ke=4,u0(t,e,n,r)}finally{ke=i,Ro.transition=s}}function u0(t,e,n,r){if(Ph){var i=Lm(t,e,n,r);if(i===null)dp(t,e,r,Oh,n),Qb(t,r);else if(dR(i,t,e,n,r))r.stopPropagation();else if(Qb(t,r),e&4&&-1<hR.indexOf(t)){for(;i!==null;){var s=Eu(i);if(s!==null&&O2(s),s=Lm(t,e,n,r),s===null&&dp(t,e,r,Oh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else dp(t,e,r,null,n)}}var Oh=null;function Lm(t,e,n,r){if(Oh=null,t=s0(r),t=Qi(t),t!==null)if(e=Ps(t),e===null)t=null;else if(n=e.tag,n===13){if(t=w2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Oh=t,null}function F2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nR()){case o0:return 1;case C2:return 4;case Th:case rR:return 16;case T2:return 536870912;default:return 16}default:return 16}}var ui=null,c0=null,Zc=null;function D2(){if(Zc)return Zc;var t,e=c0,n=e.length,r,i="value"in ui?ui.value:ui.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Zc=i.slice(t,1<r?1-r:void 0)}function Qc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function oc(){return!0}function ex(){return!1}function gn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?oc:ex,this.isPropagationStopped=ex,this}return Ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oc)},persist:function(){},isPersistent:oc}),e}var da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},h0=gn(da),_u=Ze({},da,{view:0,detail:0}),gR=gn(_u),rp,ip,Fa,Rd=Ze({},_u,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:d0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fa&&(Fa&&t.type==="mousemove"?(rp=t.screenX-Fa.screenX,ip=t.screenY-Fa.screenY):ip=rp=0,Fa=t),rp)},movementY:function(t){return"movementY"in t?t.movementY:ip}}),tx=gn(Rd),vR=Ze({},Rd,{dataTransfer:0}),yR=gn(vR),bR=Ze({},_u,{relatedTarget:0}),sp=gn(bR),xR=Ze({},da,{animationName:0,elapsedTime:0,pseudoElement:0}),wR=gn(xR),_R=Ze({},da,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ER=gn(_R),SR=Ze({},da,{data:0}),nx=gn(SR),CR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=AR[t])?!!e[t]:!1}function d0(){return PR}var OR=Ze({},_u,{key:function(t){if(t.key){var e=CR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?TR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:d0,charCode:function(t){return t.type==="keypress"?Qc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),IR=gn(OR),kR=Ze({},Rd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rx=gn(kR),RR=Ze({},_u,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:d0}),MR=gn(RR),FR=Ze({},da,{propertyName:0,elapsedTime:0,pseudoElement:0}),DR=gn(FR),$R=Ze({},Rd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),BR=gn($R),NR=[9,13,27,32],f0=zr&&"CompositionEvent"in window,yl=null;zr&&"documentMode"in document&&(yl=document.documentMode);var LR=zr&&"TextEvent"in window&&!yl,$2=zr&&(!f0||yl&&8<yl&&11>=yl),ix=String.fromCharCode(32),sx=!1;function B2(t,e){switch(t){case"keyup":return NR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yo=!1;function UR(t,e){switch(t){case"compositionend":return N2(e);case"keypress":return e.which!==32?null:(sx=!0,ix);case"textInput":return t=e.data,t===ix&&sx?null:t;default:return null}}function jR(t,e){if(yo)return t==="compositionend"||!f0&&B2(t,e)?(t=D2(),Zc=c0=ui=null,yo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $2&&e.locale!=="ko"?null:e.data;default:return null}}var zR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ox(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!zR[t.type]:e==="textarea"}function L2(t,e,n,r){g2(r),e=Ih(e,"onChange"),0<e.length&&(n=new h0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var bl=null,Dl=null;function HR(t){K2(t,0)}function Md(t){var e=wo(t);if(u2(e))return t}function GR(t,e){if(t==="change")return e}var U2=!1;if(zr){var op;if(zr){var ap="oninput"in document;if(!ap){var ax=document.createElement("div");ax.setAttribute("oninput","return;"),ap=typeof ax.oninput=="function"}op=ap}else op=!1;U2=op&&(!document.documentMode||9<document.documentMode)}function lx(){bl&&(bl.detachEvent("onpropertychange",j2),Dl=bl=null)}function j2(t){if(t.propertyName==="value"&&Md(Dl)){var e=[];L2(e,Dl,t,s0(t)),x2(HR,e)}}function WR(t,e,n){t==="focusin"?(lx(),bl=e,Dl=n,bl.attachEvent("onpropertychange",j2)):t==="focusout"&&lx()}function VR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Md(Dl)}function XR(t,e){if(t==="click")return Md(e)}function YR(t,e){if(t==="input"||t==="change")return Md(e)}function qR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sr=typeof Object.is=="function"?Object.is:qR;function $l(t,e){if(sr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!wm.call(e,i)||!sr(t[i],e[i]))return!1}return!0}function ux(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cx(t,e){var n=ux(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ux(n)}}function z2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?z2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function H2(){for(var t=window,e=Eh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Eh(t.document)}return e}function p0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function KR(t){var e=H2(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&z2(n.ownerDocument.documentElement,n)){if(r!==null&&p0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=cx(n,s);var o=cx(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ZR=zr&&"documentMode"in document&&11>=document.documentMode,bo=null,Um=null,xl=null,jm=!1;function hx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jm||bo==null||bo!==Eh(r)||(r=bo,"selectionStart"in r&&p0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xl&&$l(xl,r)||(xl=r,r=Ih(Um,"onSelect"),0<r.length&&(e=new h0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=bo)))}function ac(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xo={animationend:ac("Animation","AnimationEnd"),animationiteration:ac("Animation","AnimationIteration"),animationstart:ac("Animation","AnimationStart"),transitionend:ac("Transition","TransitionEnd")},lp={},G2={};zr&&(G2=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function Fd(t){if(lp[t])return lp[t];if(!xo[t])return t;var e=xo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in G2)return lp[t]=e[n];return t}var W2=Fd("animationend"),V2=Fd("animationiteration"),X2=Fd("animationstart"),Y2=Fd("transitionend"),q2=new Map,dx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ii(t,e){q2.set(t,e),As(e,[t])}for(var up=0;up<dx.length;up++){var cp=dx[up],QR=cp.toLowerCase(),JR=cp[0].toUpperCase()+cp.slice(1);Ii(QR,"on"+JR)}Ii(W2,"onAnimationEnd");Ii(V2,"onAnimationIteration");Ii(X2,"onAnimationStart");Ii("dblclick","onDoubleClick");Ii("focusin","onFocus");Ii("focusout","onBlur");Ii(Y2,"onTransitionEnd");jo("onMouseEnter",["mouseout","mouseover"]);jo("onMouseLeave",["mouseout","mouseover"]);jo("onPointerEnter",["pointerout","pointerover"]);jo("onPointerLeave",["pointerout","pointerover"]);As("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));As("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));As("onBeforeInput",["compositionend","keypress","textInput","paste"]);As("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));As("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));As("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eM=new Set("cancel close invalid load scroll toggle".split(" ").concat(rl));function fx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Qk(r,e,void 0,t),t.currentTarget=null}function K2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;fx(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;fx(i,a,u),s=l}}}if(Ch)throw t=$m,Ch=!1,$m=null,t}function Be(t,e){var n=e[Vm];n===void 0&&(n=e[Vm]=new Set);var r=t+"__bubble";n.has(r)||(Z2(e,t,2,!1),n.add(r))}function hp(t,e,n){var r=0;e&&(r|=4),Z2(n,t,r,e)}var lc="_reactListening"+Math.random().toString(36).slice(2);function Bl(t){if(!t[lc]){t[lc]=!0,i2.forEach(function(n){n!=="selectionchange"&&(eM.has(n)||hp(n,!1,t),hp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lc]||(e[lc]=!0,hp("selectionchange",!1,e))}}function Z2(t,e,n,r){switch(F2(e)){case 1:var i=pR;break;case 4:i=mR;break;default:i=u0}n=i.bind(null,e,n,t),i=void 0,!Dm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function dp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Qi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}x2(function(){var u=s,c=s0(n),h=[];e:{var d=q2.get(t);if(d!==void 0){var f=h0,p=t;switch(t){case"keypress":if(Qc(n)===0)break e;case"keydown":case"keyup":f=IR;break;case"focusin":p="focus",f=sp;break;case"focusout":p="blur",f=sp;break;case"beforeblur":case"afterblur":f=sp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=tx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=yR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=MR;break;case W2:case V2:case X2:f=wR;break;case Y2:f=DR;break;case"scroll":f=gR;break;case"wheel":f=BR;break;case"copy":case"cut":case"paste":f=ER;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=rx}var m=(e&4)!==0,g=!m&&t==="scroll",v=m?d!==null?d+"Capture":null:d;m=[];for(var b=u,y;b!==null;){y=b;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,v!==null&&(x=kl(b,v),x!=null&&m.push(Nl(b,x,y)))),g)break;b=b.return}0<m.length&&(d=new f(d,p,null,n,c),h.push({event:d,listeners:m}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==Mm&&(p=n.relatedTarget||n.fromElement)&&(Qi(p)||p[Hr]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=u,p=p?Qi(p):null,p!==null&&(g=Ps(p),p!==g||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(m=tx,x="onMouseLeave",v="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(m=rx,x="onPointerLeave",v="onPointerEnter",b="pointer"),g=f==null?d:wo(f),y=p==null?d:wo(p),d=new m(x,b+"leave",f,n,c),d.target=g,d.relatedTarget=y,x=null,Qi(c)===u&&(m=new m(v,b+"enter",p,n,c),m.target=y,m.relatedTarget=g,x=m),g=x,f&&p)t:{for(m=f,v=p,b=0,y=m;y;y=Bs(y))b++;for(y=0,x=v;x;x=Bs(x))y++;for(;0<b-y;)m=Bs(m),b--;for(;0<y-b;)v=Bs(v),y--;for(;b--;){if(m===v||v!==null&&m===v.alternate)break t;m=Bs(m),v=Bs(v)}m=null}else m=null;f!==null&&px(h,d,f,m,!1),p!==null&&g!==null&&px(h,g,p,m,!0)}}e:{if(d=u?wo(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var S=GR;else if(ox(d))if(U2)S=YR;else{S=VR;var C=WR}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=XR);if(S&&(S=S(t,u))){L2(h,S,n,c);break e}C&&C(t,d,u),t==="focusout"&&(C=d._wrapperState)&&C.controlled&&d.type==="number"&&Pm(d,"number",d.value)}switch(C=u?wo(u):window,t){case"focusin":(ox(C)||C.contentEditable==="true")&&(bo=C,Um=u,xl=null);break;case"focusout":xl=Um=bo=null;break;case"mousedown":jm=!0;break;case"contextmenu":case"mouseup":case"dragend":jm=!1,hx(h,n,c);break;case"selectionchange":if(ZR)break;case"keydown":case"keyup":hx(h,n,c)}var T;if(f0)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else yo?B2(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&($2&&n.locale!=="ko"&&(yo||A!=="onCompositionStart"?A==="onCompositionEnd"&&yo&&(T=D2()):(ui=c,c0="value"in ui?ui.value:ui.textContent,yo=!0)),C=Ih(u,A),0<C.length&&(A=new nx(A,t,null,n,c),h.push({event:A,listeners:C}),T?A.data=T:(T=N2(n),T!==null&&(A.data=T)))),(T=LR?UR(t,n):jR(t,n))&&(u=Ih(u,"onBeforeInput"),0<u.length&&(c=new nx("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=T))}K2(h,e)})}function Nl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ih(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=kl(t,n),s!=null&&r.unshift(Nl(t,s,i)),s=kl(t,e),s!=null&&r.push(Nl(t,s,i))),t=t.return}return r}function Bs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function px(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=kl(n,s),l!=null&&o.unshift(Nl(n,l,a))):i||(l=kl(n,s),l!=null&&o.push(Nl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var tM=/\r\n?/g,nM=/\u0000|\uFFFD/g;function mx(t){return(typeof t=="string"?t:""+t).replace(tM,`
`).replace(nM,"")}function uc(t,e,n){if(e=mx(e),mx(t)!==e&&n)throw Error(H(425))}function kh(){}var zm=null,Hm=null;function Gm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wm=typeof setTimeout=="function"?setTimeout:void 0,rM=typeof clearTimeout=="function"?clearTimeout:void 0,gx=typeof Promise=="function"?Promise:void 0,iM=typeof queueMicrotask=="function"?queueMicrotask:typeof gx<"u"?function(t){return gx.resolve(null).then(t).catch(sM)}:Wm;function sM(t){setTimeout(function(){throw t})}function fp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Fl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Fl(e)}function gi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function vx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fa=Math.random().toString(36).slice(2),vr="__reactFiber$"+fa,Ll="__reactProps$"+fa,Hr="__reactContainer$"+fa,Vm="__reactEvents$"+fa,oM="__reactListeners$"+fa,aM="__reactHandles$"+fa;function Qi(t){var e=t[vr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Hr]||n[vr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=vx(t);t!==null;){if(n=t[vr])return n;t=vx(t)}return e}t=n,n=t.parentNode}return null}function Eu(t){return t=t[vr]||t[Hr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function wo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function Dd(t){return t[Ll]||null}var Xm=[],_o=-1;function ki(t){return{current:t}}function Ue(t){0>_o||(t.current=Xm[_o],Xm[_o]=null,_o--)}function $e(t,e){_o++,Xm[_o]=t.current,t.current=e}var Si={},Ot=ki(Si),Wt=ki(!1),ps=Si;function zo(t,e){var n=t.type.contextTypes;if(!n)return Si;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Vt(t){return t=t.childContextTypes,t!=null}function Rh(){Ue(Wt),Ue(Ot)}function yx(t,e,n){if(Ot.current!==Si)throw Error(H(168));$e(Ot,e),$e(Wt,n)}function Q2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,Wk(t)||"Unknown",i));return Ze({},n,r)}function Mh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Si,ps=Ot.current,$e(Ot,t),$e(Wt,Wt.current),!0}function bx(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=Q2(t,e,ps),r.__reactInternalMemoizedMergedChildContext=t,Ue(Wt),Ue(Ot),$e(Ot,t)):Ue(Wt),$e(Wt,n)}var Fr=null,$d=!1,pp=!1;function J2(t){Fr===null?Fr=[t]:Fr.push(t)}function lM(t){$d=!0,J2(t)}function Ri(){if(!pp&&Fr!==null){pp=!0;var t=0,e=ke;try{var n=Fr;for(ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Fr=null,$d=!1}catch(i){throw Fr!==null&&(Fr=Fr.slice(t+1)),S2(o0,Ri),i}finally{ke=e,pp=!1}}return null}var Eo=[],So=0,Fh=null,Dh=0,_n=[],En=0,ms=null,$r=1,Br="";function Gi(t,e){Eo[So++]=Dh,Eo[So++]=Fh,Fh=t,Dh=e}function eC(t,e,n){_n[En++]=$r,_n[En++]=Br,_n[En++]=ms,ms=t;var r=$r;t=Br;var i=32-Jn(r)-1;r&=~(1<<i),n+=1;var s=32-Jn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$r=1<<32-Jn(e)+i|n<<i|r,Br=s+t}else $r=1<<s|n<<i|r,Br=t}function m0(t){t.return!==null&&(Gi(t,1),eC(t,1,0))}function g0(t){for(;t===Fh;)Fh=Eo[--So],Eo[So]=null,Dh=Eo[--So],Eo[So]=null;for(;t===ms;)ms=_n[--En],_n[En]=null,Br=_n[--En],_n[En]=null,$r=_n[--En],_n[En]=null}var ln=null,rn=null,We=!1,Xn=null;function tC(t,e){var n=An(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function xx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ln=t,rn=gi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ln=t,rn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ms!==null?{id:$r,overflow:Br}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=An(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ln=t,rn=null,!0):!1;default:return!1}}function Ym(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qm(t){if(We){var e=rn;if(e){var n=e;if(!xx(t,e)){if(Ym(t))throw Error(H(418));e=gi(n.nextSibling);var r=ln;e&&xx(t,e)?tC(r,n):(t.flags=t.flags&-4097|2,We=!1,ln=t)}}else{if(Ym(t))throw Error(H(418));t.flags=t.flags&-4097|2,We=!1,ln=t}}}function wx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ln=t}function cc(t){if(t!==ln)return!1;if(!We)return wx(t),We=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Gm(t.type,t.memoizedProps)),e&&(e=rn)){if(Ym(t))throw nC(),Error(H(418));for(;e;)tC(t,e),e=gi(e.nextSibling)}if(wx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){rn=gi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}rn=null}}else rn=ln?gi(t.stateNode.nextSibling):null;return!0}function nC(){for(var t=rn;t;)t=gi(t.nextSibling)}function Ho(){rn=ln=null,We=!1}function v0(t){Xn===null?Xn=[t]:Xn.push(t)}var uM=Kr.ReactCurrentBatchConfig;function Wn(t,e){if(t&&t.defaultProps){e=Ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var $h=ki(null),Bh=null,Co=null,y0=null;function b0(){y0=Co=Bh=null}function x0(t){var e=$h.current;Ue($h),t._currentValue=e}function Km(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Mo(t,e){Bh=t,y0=Co=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gt=!0),t.firstContext=null)}function Rn(t){var e=t._currentValue;if(y0!==t)if(t={context:t,memoizedValue:e,next:null},Co===null){if(Bh===null)throw Error(H(308));Co=t,Bh.dependencies={lanes:0,firstContext:t}}else Co=Co.next=t;return e}var Ji=null;function w0(t){Ji===null?Ji=[t]:Ji.push(t)}function rC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,w0(e)):(n.next=i.next,i.next=n),e.interleaved=n,Gr(t,r)}function Gr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var si=!1;function _0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Lr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Gr(t,n)}return i=r.interleaved,i===null?(e.next=e,w0(r)):(e.next=i.next,i.next=e),r.interleaved=e,Gr(t,n)}function Jc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,a0(t,n)}}function _x(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Nh(t,e,n,r){var i=t.updateQueue;si=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(d=e,f=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,d=typeof p=="function"?p.call(f,h,d):p,d==null)break e;h=Ze({},h,d);break e;case 2:si=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);vs|=o,t.lanes=o,t.memoizedState=h}}function Ex(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var sC=new r2.Component().refs;function Zm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Bd={isMounted:function(t){return(t=t._reactInternals)?Ps(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Dt(),i=bi(t),s=Lr(r,i);s.payload=e,n!=null&&(s.callback=n),e=vi(t,s,i),e!==null&&(er(e,t,i,r),Jc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Dt(),i=bi(t),s=Lr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=vi(t,s,i),e!==null&&(er(e,t,i,r),Jc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Dt(),r=bi(t),i=Lr(n,r);i.tag=2,e!=null&&(i.callback=e),e=vi(t,i,r),e!==null&&(er(e,t,r,n),Jc(e,t,r))}};function Sx(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!$l(n,r)||!$l(i,s):!0}function oC(t,e,n){var r=!1,i=Si,s=e.contextType;return typeof s=="object"&&s!==null?s=Rn(s):(i=Vt(e)?ps:Ot.current,r=e.contextTypes,s=(r=r!=null)?zo(t,i):Si),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Bd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Cx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Bd.enqueueReplaceState(e,e.state,null)}function Qm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=sC,_0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Rn(s):(s=Vt(e)?ps:Ot.current,i.context=zo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Zm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Bd.enqueueReplaceState(i,i.state,null),Nh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Da(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===sC&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function hc(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Tx(t){var e=t._init;return e(t._payload)}function aC(t){function e(v,b){if(t){var y=v.deletions;y===null?(v.deletions=[b],v.flags|=16):y.push(b)}}function n(v,b){if(!t)return null;for(;b!==null;)e(v,b),b=b.sibling;return null}function r(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=xi(v,b),v.index=0,v.sibling=null,v}function s(v,b,y){return v.index=y,t?(y=v.alternate,y!==null?(y=y.index,y<b?(v.flags|=2,b):y):(v.flags|=2,b)):(v.flags|=1048576,b)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,b,y,x){return b===null||b.tag!==6?(b=wp(y,v.mode,x),b.return=v,b):(b=i(b,y),b.return=v,b)}function l(v,b,y,x){var S=y.type;return S===vo?c(v,b,y.props.children,x,y.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ii&&Tx(S)===b.type)?(x=i(b,y.props),x.ref=Da(v,b,y),x.return=v,x):(x=sh(y.type,y.key,y.props,null,v.mode,x),x.ref=Da(v,b,y),x.return=v,x)}function u(v,b,y,x){return b===null||b.tag!==4||b.stateNode.containerInfo!==y.containerInfo||b.stateNode.implementation!==y.implementation?(b=_p(y,v.mode,x),b.return=v,b):(b=i(b,y.children||[]),b.return=v,b)}function c(v,b,y,x,S){return b===null||b.tag!==7?(b=os(y,v.mode,x,S),b.return=v,b):(b=i(b,y),b.return=v,b)}function h(v,b,y){if(typeof b=="string"&&b!==""||typeof b=="number")return b=wp(""+b,v.mode,y),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ec:return y=sh(b.type,b.key,b.props,null,v.mode,y),y.ref=Da(v,null,b),y.return=v,y;case go:return b=_p(b,v.mode,y),b.return=v,b;case ii:var x=b._init;return h(v,x(b._payload),y)}if(tl(b)||Ia(b))return b=os(b,v.mode,y,null),b.return=v,b;hc(v,b)}return null}function d(v,b,y,x){var S=b!==null?b.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:a(v,b,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ec:return y.key===S?l(v,b,y,x):null;case go:return y.key===S?u(v,b,y,x):null;case ii:return S=y._init,d(v,b,S(y._payload),x)}if(tl(y)||Ia(y))return S!==null?null:c(v,b,y,x,null);hc(v,y)}return null}function f(v,b,y,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(y)||null,a(b,v,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ec:return v=v.get(x.key===null?y:x.key)||null,l(b,v,x,S);case go:return v=v.get(x.key===null?y:x.key)||null,u(b,v,x,S);case ii:var C=x._init;return f(v,b,y,C(x._payload),S)}if(tl(x)||Ia(x))return v=v.get(y)||null,c(b,v,x,S,null);hc(b,x)}return null}function p(v,b,y,x){for(var S=null,C=null,T=b,A=b=0,k=null;T!==null&&A<y.length;A++){T.index>A?(k=T,T=null):k=T.sibling;var M=d(v,T,y[A],x);if(M===null){T===null&&(T=k);break}t&&T&&M.alternate===null&&e(v,T),b=s(M,b,A),C===null?S=M:C.sibling=M,C=M,T=k}if(A===y.length)return n(v,T),We&&Gi(v,A),S;if(T===null){for(;A<y.length;A++)T=h(v,y[A],x),T!==null&&(b=s(T,b,A),C===null?S=T:C.sibling=T,C=T);return We&&Gi(v,A),S}for(T=r(v,T);A<y.length;A++)k=f(T,v,A,y[A],x),k!==null&&(t&&k.alternate!==null&&T.delete(k.key===null?A:k.key),b=s(k,b,A),C===null?S=k:C.sibling=k,C=k);return t&&T.forEach(function(N){return e(v,N)}),We&&Gi(v,A),S}function m(v,b,y,x){var S=Ia(y);if(typeof S!="function")throw Error(H(150));if(y=S.call(y),y==null)throw Error(H(151));for(var C=S=null,T=b,A=b=0,k=null,M=y.next();T!==null&&!M.done;A++,M=y.next()){T.index>A?(k=T,T=null):k=T.sibling;var N=d(v,T,M.value,x);if(N===null){T===null&&(T=k);break}t&&T&&N.alternate===null&&e(v,T),b=s(N,b,A),C===null?S=N:C.sibling=N,C=N,T=k}if(M.done)return n(v,T),We&&Gi(v,A),S;if(T===null){for(;!M.done;A++,M=y.next())M=h(v,M.value,x),M!==null&&(b=s(M,b,A),C===null?S=M:C.sibling=M,C=M);return We&&Gi(v,A),S}for(T=r(v,T);!M.done;A++,M=y.next())M=f(T,v,A,M.value,x),M!==null&&(t&&M.alternate!==null&&T.delete(M.key===null?A:M.key),b=s(M,b,A),C===null?S=M:C.sibling=M,C=M);return t&&T.forEach(function(L){return e(v,L)}),We&&Gi(v,A),S}function g(v,b,y,x){if(typeof y=="object"&&y!==null&&y.type===vo&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ec:e:{for(var S=y.key,C=b;C!==null;){if(C.key===S){if(S=y.type,S===vo){if(C.tag===7){n(v,C.sibling),b=i(C,y.props.children),b.return=v,v=b;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ii&&Tx(S)===C.type){n(v,C.sibling),b=i(C,y.props),b.ref=Da(v,C,y),b.return=v,v=b;break e}n(v,C);break}else e(v,C);C=C.sibling}y.type===vo?(b=os(y.props.children,v.mode,x,y.key),b.return=v,v=b):(x=sh(y.type,y.key,y.props,null,v.mode,x),x.ref=Da(v,b,y),x.return=v,v=x)}return o(v);case go:e:{for(C=y.key;b!==null;){if(b.key===C)if(b.tag===4&&b.stateNode.containerInfo===y.containerInfo&&b.stateNode.implementation===y.implementation){n(v,b.sibling),b=i(b,y.children||[]),b.return=v,v=b;break e}else{n(v,b);break}else e(v,b);b=b.sibling}b=_p(y,v.mode,x),b.return=v,v=b}return o(v);case ii:return C=y._init,g(v,b,C(y._payload),x)}if(tl(y))return p(v,b,y,x);if(Ia(y))return m(v,b,y,x);hc(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,b!==null&&b.tag===6?(n(v,b.sibling),b=i(b,y),b.return=v,v=b):(n(v,b),b=wp(y,v.mode,x),b.return=v,v=b),o(v)):n(v,b)}return g}var Go=aC(!0),lC=aC(!1),Su={},Er=ki(Su),Ul=ki(Su),jl=ki(Su);function es(t){if(t===Su)throw Error(H(174));return t}function E0(t,e){switch($e(jl,e),$e(Ul,t),$e(Er,Su),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Im(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Im(e,t)}Ue(Er),$e(Er,e)}function Wo(){Ue(Er),Ue(Ul),Ue(jl)}function uC(t){es(jl.current);var e=es(Er.current),n=Im(e,t.type);e!==n&&($e(Ul,t),$e(Er,n))}function S0(t){Ul.current===t&&(Ue(Er),Ue(Ul))}var Xe=ki(0);function Lh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var mp=[];function C0(){for(var t=0;t<mp.length;t++)mp[t]._workInProgressVersionPrimary=null;mp.length=0}var eh=Kr.ReactCurrentDispatcher,gp=Kr.ReactCurrentBatchConfig,gs=0,Ke=null,ht=null,ft=null,Uh=!1,wl=!1,zl=0,cM=0;function St(){throw Error(H(321))}function T0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sr(t[n],e[n]))return!1;return!0}function A0(t,e,n,r,i,s){if(gs=s,Ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,eh.current=t===null||t.memoizedState===null?pM:mM,t=n(r,i),wl){s=0;do{if(wl=!1,zl=0,25<=s)throw Error(H(301));s+=1,ft=ht=null,e.updateQueue=null,eh.current=gM,t=n(r,i)}while(wl)}if(eh.current=jh,e=ht!==null&&ht.next!==null,gs=0,ft=ht=Ke=null,Uh=!1,e)throw Error(H(300));return t}function P0(){var t=zl!==0;return zl=0,t}function fr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Ke.memoizedState=ft=t:ft=ft.next=t,ft}function Mn(){if(ht===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var e=ft===null?Ke.memoizedState:ft.next;if(e!==null)ft=e,ht=t;else{if(t===null)throw Error(H(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},ft===null?Ke.memoizedState=ft=t:ft=ft.next=t}return ft}function Hl(t,e){return typeof e=="function"?e(t):e}function vp(t){var e=Mn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=ht,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((gs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ke.lanes|=c,vs|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,sr(r,e.memoizedState)||(Gt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ke.lanes|=s,vs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function yp(t){var e=Mn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);sr(s,e.memoizedState)||(Gt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function cC(){}function hC(t,e){var n=Ke,r=Mn(),i=e(),s=!sr(r.memoizedState,i);if(s&&(r.memoizedState=i,Gt=!0),r=r.queue,O0(pC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ft!==null&&ft.memoizedState.tag&1){if(n.flags|=2048,Gl(9,fC.bind(null,n,r,i,e),void 0,null),vt===null)throw Error(H(349));gs&30||dC(n,e,i)}return i}function dC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function fC(t,e,n,r){e.value=n,e.getSnapshot=r,mC(e)&&gC(t)}function pC(t,e,n){return n(function(){mC(e)&&gC(t)})}function mC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sr(t,n)}catch{return!0}}function gC(t){var e=Gr(t,1);e!==null&&er(e,t,1,-1)}function Ax(t){var e=fr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hl,lastRenderedState:t},e.queue=t,t=t.dispatch=fM.bind(null,Ke,t),[e.memoizedState,t]}function Gl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function vC(){return Mn().memoizedState}function th(t,e,n,r){var i=fr();Ke.flags|=t,i.memoizedState=Gl(1|e,n,void 0,r===void 0?null:r)}function Nd(t,e,n,r){var i=Mn();r=r===void 0?null:r;var s=void 0;if(ht!==null){var o=ht.memoizedState;if(s=o.destroy,r!==null&&T0(r,o.deps)){i.memoizedState=Gl(e,n,s,r);return}}Ke.flags|=t,i.memoizedState=Gl(1|e,n,s,r)}function Px(t,e){return th(8390656,8,t,e)}function O0(t,e){return Nd(2048,8,t,e)}function yC(t,e){return Nd(4,2,t,e)}function bC(t,e){return Nd(4,4,t,e)}function xC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wC(t,e,n){return n=n!=null?n.concat([t]):null,Nd(4,4,xC.bind(null,e,t),n)}function I0(){}function _C(t,e){var n=Mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&T0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function EC(t,e){var n=Mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&T0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function SC(t,e,n){return gs&21?(sr(n,e)||(n=A2(),Ke.lanes|=n,vs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gt=!0),t.memoizedState=n)}function hM(t,e){var n=ke;ke=n!==0&&4>n?n:4,t(!0);var r=gp.transition;gp.transition={};try{t(!1),e()}finally{ke=n,gp.transition=r}}function CC(){return Mn().memoizedState}function dM(t,e,n){var r=bi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},TC(t))AC(e,n);else if(n=rC(t,e,n,r),n!==null){var i=Dt();er(n,t,r,i),PC(n,e,r)}}function fM(t,e,n){var r=bi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(TC(t))AC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,sr(a,o)){var l=e.interleaved;l===null?(i.next=i,w0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=rC(t,e,i,r),n!==null&&(i=Dt(),er(n,t,r,i),PC(n,e,r))}}function TC(t){var e=t.alternate;return t===Ke||e!==null&&e===Ke}function AC(t,e){wl=Uh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function PC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,a0(t,n)}}var jh={readContext:Rn,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},pM={readContext:Rn,useCallback:function(t,e){return fr().memoizedState=[t,e===void 0?null:e],t},useContext:Rn,useEffect:Px,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,th(4194308,4,xC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return th(4194308,4,t,e)},useInsertionEffect:function(t,e){return th(4,2,t,e)},useMemo:function(t,e){var n=fr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=fr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=dM.bind(null,Ke,t),[r.memoizedState,t]},useRef:function(t){var e=fr();return t={current:t},e.memoizedState=t},useState:Ax,useDebugValue:I0,useDeferredValue:function(t){return fr().memoizedState=t},useTransition:function(){var t=Ax(!1),e=t[0];return t=hM.bind(null,t[1]),fr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ke,i=fr();if(We){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),vt===null)throw Error(H(349));gs&30||dC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Px(pC.bind(null,r,s,t),[t]),r.flags|=2048,Gl(9,fC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=fr(),e=vt.identifierPrefix;if(We){var n=Br,r=$r;n=(r&~(1<<32-Jn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=zl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=cM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},mM={readContext:Rn,useCallback:_C,useContext:Rn,useEffect:O0,useImperativeHandle:wC,useInsertionEffect:yC,useLayoutEffect:bC,useMemo:EC,useReducer:vp,useRef:vC,useState:function(){return vp(Hl)},useDebugValue:I0,useDeferredValue:function(t){var e=Mn();return SC(e,ht.memoizedState,t)},useTransition:function(){var t=vp(Hl)[0],e=Mn().memoizedState;return[t,e]},useMutableSource:cC,useSyncExternalStore:hC,useId:CC,unstable_isNewReconciler:!1},gM={readContext:Rn,useCallback:_C,useContext:Rn,useEffect:O0,useImperativeHandle:wC,useInsertionEffect:yC,useLayoutEffect:bC,useMemo:EC,useReducer:yp,useRef:vC,useState:function(){return yp(Hl)},useDebugValue:I0,useDeferredValue:function(t){var e=Mn();return ht===null?e.memoizedState=t:SC(e,ht.memoizedState,t)},useTransition:function(){var t=yp(Hl)[0],e=Mn().memoizedState;return[t,e]},useMutableSource:cC,useSyncExternalStore:hC,useId:CC,unstable_isNewReconciler:!1};function Vo(t,e){try{var n="",r=e;do n+=Gk(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function bp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Jm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var vM=typeof WeakMap=="function"?WeakMap:Map;function OC(t,e,n){n=Lr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Hh||(Hh=!0,ug=r),Jm(t,e)},n}function IC(t,e,n){n=Lr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Jm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Jm(t,e),typeof r!="function"&&(yi===null?yi=new Set([this]):yi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ox(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new vM;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=kM.bind(null,t,e,n),e.then(t,t))}function Ix(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function kx(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Lr(-1,1),e.tag=2,vi(n,e,1))),n.lanes|=1),t)}var yM=Kr.ReactCurrentOwner,Gt=!1;function It(t,e,n,r){e.child=t===null?lC(e,null,n,r):Go(e,t.child,n,r)}function Rx(t,e,n,r,i){n=n.render;var s=e.ref;return Mo(e,i),r=A0(t,e,n,r,s,i),n=P0(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wr(t,e,i)):(We&&n&&m0(e),e.flags|=1,It(t,e,r,i),e.child)}function Mx(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!N0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,kC(t,e,s,r,i)):(t=sh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:$l,n(o,r)&&t.ref===e.ref)return Wr(t,e,i)}return e.flags|=1,t=xi(s,r),t.ref=e.ref,t.return=e,e.child=t}function kC(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if($l(s,r)&&t.ref===e.ref)if(Gt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Gt=!0);else return e.lanes=t.lanes,Wr(t,e,i)}return eg(t,e,n,r,i)}function RC(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Ao,en),en|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$e(Ao,en),en|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,$e(Ao,en),en|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,$e(Ao,en),en|=r;return It(t,e,i,n),e.child}function MC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function eg(t,e,n,r,i){var s=Vt(n)?ps:Ot.current;return s=zo(e,s),Mo(e,i),n=A0(t,e,n,r,s,i),r=P0(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wr(t,e,i)):(We&&r&&m0(e),e.flags|=1,It(t,e,n,i),e.child)}function Fx(t,e,n,r,i){if(Vt(n)){var s=!0;Mh(e)}else s=!1;if(Mo(e,i),e.stateNode===null)nh(t,e),oC(e,n,r),Qm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Rn(u):(u=Vt(n)?ps:Ot.current,u=zo(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Cx(e,o,r,u),si=!1;var d=e.memoizedState;o.state=d,Nh(e,r,o,i),l=e.memoizedState,a!==r||d!==l||Wt.current||si?(typeof c=="function"&&(Zm(e,n,c,r),l=e.memoizedState),(a=si||Sx(e,n,a,r,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,iC(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Wn(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Rn(l):(l=Vt(n)?ps:Ot.current,l=zo(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&Cx(e,o,r,l),si=!1,d=e.memoizedState,o.state=d,Nh(e,r,o,i);var p=e.memoizedState;a!==h||d!==p||Wt.current||si?(typeof f=="function"&&(Zm(e,n,f,r),p=e.memoizedState),(u=si||Sx(e,n,u,r,d,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return tg(t,e,n,r,s,i)}function tg(t,e,n,r,i,s){MC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&bx(e,n,!1),Wr(t,e,s);r=e.stateNode,yM.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Go(e,t.child,null,s),e.child=Go(e,null,a,s)):It(t,e,a,s),e.memoizedState=r.state,i&&bx(e,n,!0),e.child}function FC(t){var e=t.stateNode;e.pendingContext?yx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&yx(t,e.context,!1),E0(t,e.containerInfo)}function Dx(t,e,n,r,i){return Ho(),v0(i),e.flags|=256,It(t,e,n,r),e.child}var ng={dehydrated:null,treeContext:null,retryLane:0};function rg(t){return{baseLanes:t,cachePool:null,transitions:null}}function DC(t,e,n){var r=e.pendingProps,i=Xe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),$e(Xe,i&1),t===null)return qm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=jd(o,r,0,null),t=os(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=rg(n),e.memoizedState=ng,t):k0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return bM(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=xi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=xi(a,s):(s=os(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?rg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ng,r}return s=t.child,t=s.sibling,r=xi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function k0(t,e){return e=jd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function dc(t,e,n,r){return r!==null&&v0(r),Go(e,t.child,null,n),t=k0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bM(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=bp(Error(H(422))),dc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=jd({mode:"visible",children:r.children},i,0,null),s=os(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Go(e,t.child,null,o),e.child.memoizedState=rg(o),e.memoizedState=ng,s);if(!(e.mode&1))return dc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(H(419)),r=bp(s,r,void 0),dc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Gt||a){if(r=vt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Gr(t,i),er(r,t,i,-1))}return B0(),r=bp(Error(H(421))),dc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=RM.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,rn=gi(i.nextSibling),ln=e,We=!0,Xn=null,t!==null&&(_n[En++]=$r,_n[En++]=Br,_n[En++]=ms,$r=t.id,Br=t.overflow,ms=e),e=k0(e,r.children),e.flags|=4096,e)}function $x(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Km(t.return,e,n)}function xp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function $C(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(It(t,e,r.children,n),r=Xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$x(t,n,e);else if(t.tag===19)$x(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if($e(Xe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Lh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),xp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Lh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}xp(e,!0,n,null,s);break;case"together":xp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function nh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=xi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function xM(t,e,n){switch(e.tag){case 3:FC(e),Ho();break;case 5:uC(e);break;case 1:Vt(e.type)&&Mh(e);break;case 4:E0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;$e($h,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?($e(Xe,Xe.current&1),e.flags|=128,null):n&e.child.childLanes?DC(t,e,n):($e(Xe,Xe.current&1),t=Wr(t,e,n),t!==null?t.sibling:null);$e(Xe,Xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return $C(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$e(Xe,Xe.current),r)break;return null;case 22:case 23:return e.lanes=0,RC(t,e,n)}return Wr(t,e,n)}var BC,ig,NC,LC;BC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ig=function(){};NC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,es(Er.current);var s=null;switch(n){case"input":i=Tm(t,i),r=Tm(t,r),s=[];break;case"select":i=Ze({},i,{value:void 0}),r=Ze({},r,{value:void 0}),s=[];break;case"textarea":i=Om(t,i),r=Om(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=kh)}km(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ol.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ol.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Be("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};LC=function(t,e,n,r){n!==r&&(e.flags|=4)};function $a(t,e){if(!We)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ct(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function wM(t,e,n){var r=e.pendingProps;switch(g0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(e),null;case 1:return Vt(e.type)&&Rh(),Ct(e),null;case 3:return r=e.stateNode,Wo(),Ue(Wt),Ue(Ot),C0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(cc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xn!==null&&(dg(Xn),Xn=null))),ig(t,e),Ct(e),null;case 5:S0(e);var i=es(jl.current);if(n=e.type,t!==null&&e.stateNode!=null)NC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Ct(e),null}if(t=es(Er.current),cc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[vr]=e,r[Ll]=s,t=(e.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(i=0;i<rl.length;i++)Be(rl[i],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":Wb(r,s),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Be("invalid",r);break;case"textarea":Xb(r,s),Be("invalid",r)}km(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&uc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&uc(r.textContent,a,t),i=["children",""+a]):Ol.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Be("scroll",r)}switch(n){case"input":tc(r),Vb(r,s,!0);break;case"textarea":tc(r),Yb(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=kh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=d2(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[vr]=e,t[Ll]=r,BC(t,e,!1,!1),e.stateNode=t;e:{switch(o=Rm(n,r),n){case"dialog":Be("cancel",t),Be("close",t),i=r;break;case"iframe":case"object":case"embed":Be("load",t),i=r;break;case"video":case"audio":for(i=0;i<rl.length;i++)Be(rl[i],t);i=r;break;case"source":Be("error",t),i=r;break;case"img":case"image":case"link":Be("error",t),Be("load",t),i=r;break;case"details":Be("toggle",t),i=r;break;case"input":Wb(t,r),i=Tm(t,r),Be("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ze({},r,{value:void 0}),Be("invalid",t);break;case"textarea":Xb(t,r),i=Om(t,r),Be("invalid",t);break;default:i=r}km(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?m2(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&f2(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Il(t,l):typeof l=="number"&&Il(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ol.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Be("scroll",t):l!=null&&t0(t,s,l,o))}switch(n){case"input":tc(t),Vb(t,r,!1);break;case"textarea":tc(t),Yb(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ei(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Oo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Oo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=kh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ct(e),null;case 6:if(t&&e.stateNode!=null)LC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=es(jl.current),es(Er.current),cc(e)){if(r=e.stateNode,n=e.memoizedProps,r[vr]=e,(s=r.nodeValue!==n)&&(t=ln,t!==null))switch(t.tag){case 3:uc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&uc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vr]=e,e.stateNode=r}return Ct(e),null;case 13:if(Ue(Xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&rn!==null&&e.mode&1&&!(e.flags&128))nC(),Ho(),e.flags|=98560,s=!1;else if(s=cc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(H(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[vr]=e}else Ho(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ct(e),s=!1}else Xn!==null&&(dg(Xn),Xn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Xe.current&1?dt===0&&(dt=3):B0())),e.updateQueue!==null&&(e.flags|=4),Ct(e),null);case 4:return Wo(),ig(t,e),t===null&&Bl(e.stateNode.containerInfo),Ct(e),null;case 10:return x0(e.type._context),Ct(e),null;case 17:return Vt(e.type)&&Rh(),Ct(e),null;case 19:if(Ue(Xe),s=e.memoizedState,s===null)return Ct(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)$a(s,!1);else{if(dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Lh(t),o!==null){for(e.flags|=128,$a(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return $e(Xe,Xe.current&1|2),e.child}t=t.sibling}s.tail!==null&&it()>Xo&&(e.flags|=128,r=!0,$a(s,!1),e.lanes=4194304)}else{if(!r)if(t=Lh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),$a(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!We)return Ct(e),null}else 2*it()-s.renderingStartTime>Xo&&n!==1073741824&&(e.flags|=128,r=!0,$a(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=it(),e.sibling=null,n=Xe.current,$e(Xe,r?n&1|2:n&1),e):(Ct(e),null);case 22:case 23:return $0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?en&1073741824&&(Ct(e),e.subtreeFlags&6&&(e.flags|=8192)):Ct(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function _M(t,e){switch(g0(e),e.tag){case 1:return Vt(e.type)&&Rh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wo(),Ue(Wt),Ue(Ot),C0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return S0(e),null;case 13:if(Ue(Xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Ho()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ue(Xe),null;case 4:return Wo(),null;case 10:return x0(e.type._context),null;case 22:case 23:return $0(),null;case 24:return null;default:return null}}var fc=!1,Pt=!1,EM=typeof WeakSet=="function"?WeakSet:Set,te=null;function To(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){et(t,e,r)}else n.current=null}function sg(t,e,n){try{n()}catch(r){et(t,e,r)}}var Bx=!1;function SM(t,e){if(zm=Ph,t=H2(),p0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hm={focusedElem:t,selectionRange:n},Ph=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,g=p.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:Wn(e.type,m),g);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(x){et(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return p=Bx,Bx=!1,p}function _l(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&sg(e,n,s)}i=i.next}while(i!==r)}}function Ld(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function og(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function UC(t){var e=t.alternate;e!==null&&(t.alternate=null,UC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vr],delete e[Ll],delete e[Vm],delete e[oM],delete e[aM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function jC(t){return t.tag===5||t.tag===3||t.tag===4}function Nx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ag(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=kh));else if(r!==4&&(t=t.child,t!==null))for(ag(t,e,n),t=t.sibling;t!==null;)ag(t,e,n),t=t.sibling}function lg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(lg(t,e,n),t=t.sibling;t!==null;)lg(t,e,n),t=t.sibling}var xt=null,Vn=!1;function ni(t,e,n){for(n=n.child;n!==null;)zC(t,e,n),n=n.sibling}function zC(t,e,n){if(_r&&typeof _r.onCommitFiberUnmount=="function")try{_r.onCommitFiberUnmount(kd,n)}catch{}switch(n.tag){case 5:Pt||To(n,e);case 6:var r=xt,i=Vn;xt=null,ni(t,e,n),xt=r,Vn=i,xt!==null&&(Vn?(t=xt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):xt.removeChild(n.stateNode));break;case 18:xt!==null&&(Vn?(t=xt,n=n.stateNode,t.nodeType===8?fp(t.parentNode,n):t.nodeType===1&&fp(t,n),Fl(t)):fp(xt,n.stateNode));break;case 4:r=xt,i=Vn,xt=n.stateNode.containerInfo,Vn=!0,ni(t,e,n),xt=r,Vn=i;break;case 0:case 11:case 14:case 15:if(!Pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&sg(n,e,o),i=i.next}while(i!==r)}ni(t,e,n);break;case 1:if(!Pt&&(To(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){et(n,e,a)}ni(t,e,n);break;case 21:ni(t,e,n);break;case 22:n.mode&1?(Pt=(r=Pt)||n.memoizedState!==null,ni(t,e,n),Pt=r):ni(t,e,n);break;default:ni(t,e,n)}}function Lx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new EM),e.forEach(function(r){var i=MM.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Nn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:xt=a.stateNode,Vn=!1;break e;case 3:xt=a.stateNode.containerInfo,Vn=!0;break e;case 4:xt=a.stateNode.containerInfo,Vn=!0;break e}a=a.return}if(xt===null)throw Error(H(160));zC(s,o,i),xt=null,Vn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){et(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)HC(e,t),e=e.sibling}function HC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nn(e,t),hr(t),r&4){try{_l(3,t,t.return),Ld(3,t)}catch(m){et(t,t.return,m)}try{_l(5,t,t.return)}catch(m){et(t,t.return,m)}}break;case 1:Nn(e,t),hr(t),r&512&&n!==null&&To(n,n.return);break;case 5:if(Nn(e,t),hr(t),r&512&&n!==null&&To(n,n.return),t.flags&32){var i=t.stateNode;try{Il(i,"")}catch(m){et(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&c2(i,s),Rm(a,o);var u=Rm(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?m2(i,h):c==="dangerouslySetInnerHTML"?f2(i,h):c==="children"?Il(i,h):t0(i,c,h,u)}switch(a){case"input":Am(i,s);break;case"textarea":h2(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Oo(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?Oo(i,!!s.multiple,s.defaultValue,!0):Oo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ll]=s}catch(m){et(t,t.return,m)}}break;case 6:if(Nn(e,t),hr(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){et(t,t.return,m)}}break;case 3:if(Nn(e,t),hr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fl(e.containerInfo)}catch(m){et(t,t.return,m)}break;case 4:Nn(e,t),hr(t);break;case 13:Nn(e,t),hr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(F0=it())),r&4&&Lx(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Pt=(u=Pt)||c,Nn(e,t),Pt=u):Nn(e,t),hr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(te=t,c=t.child;c!==null;){for(h=te=c;te!==null;){switch(d=te,f=d.child,d.tag){case 0:case 11:case 14:case 15:_l(4,d,d.return);break;case 1:To(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){et(r,n,m)}}break;case 5:To(d,d.return);break;case 22:if(d.memoizedState!==null){jx(h);continue}}f!==null?(f.return=d,te=f):jx(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=p2("display",o))}catch(m){et(t,t.return,m)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){et(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Nn(e,t),hr(t),r&4&&Lx(t);break;case 21:break;default:Nn(e,t),hr(t)}}function hr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(jC(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Il(i,""),r.flags&=-33);var s=Nx(t);lg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Nx(t);ag(t,a,o);break;default:throw Error(H(161))}}catch(l){et(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function CM(t,e,n){te=t,GC(t)}function GC(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var i=te,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||fc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Pt;a=fc;var u=Pt;if(fc=o,(Pt=l)&&!u)for(te=i;te!==null;)o=te,l=o.child,o.tag===22&&o.memoizedState!==null?zx(i):l!==null?(l.return=o,te=l):zx(i);for(;s!==null;)te=s,GC(s),s=s.sibling;te=i,fc=a,Pt=u}Ux(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,te=s):Ux(t)}}function Ux(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pt||Ld(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Pt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Wn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Ex(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ex(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Fl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Pt||e.flags&512&&og(e)}catch(d){et(e,e.return,d)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function jx(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function zx(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ld(4,e)}catch(l){et(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){et(e,i,l)}}var s=e.return;try{og(e)}catch(l){et(e,s,l)}break;case 5:var o=e.return;try{og(e)}catch(l){et(e,o,l)}}}catch(l){et(e,e.return,l)}if(e===t){te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,te=a;break}te=e.return}}var TM=Math.ceil,zh=Kr.ReactCurrentDispatcher,R0=Kr.ReactCurrentOwner,On=Kr.ReactCurrentBatchConfig,Se=0,vt=null,ut=null,_t=0,en=0,Ao=ki(0),dt=0,Wl=null,vs=0,Ud=0,M0=0,El=null,Ht=null,F0=0,Xo=1/0,Mr=null,Hh=!1,ug=null,yi=null,pc=!1,ci=null,Gh=0,Sl=0,cg=null,rh=-1,ih=0;function Dt(){return Se&6?it():rh!==-1?rh:rh=it()}function bi(t){return t.mode&1?Se&2&&_t!==0?_t&-_t:uM.transition!==null?(ih===0&&(ih=A2()),ih):(t=ke,t!==0||(t=window.event,t=t===void 0?16:F2(t.type)),t):1}function er(t,e,n,r){if(50<Sl)throw Sl=0,cg=null,Error(H(185));wu(t,n,r),(!(Se&2)||t!==vt)&&(t===vt&&(!(Se&2)&&(Ud|=n),dt===4&&li(t,_t)),Xt(t,r),n===1&&Se===0&&!(e.mode&1)&&(Xo=it()+500,$d&&Ri()))}function Xt(t,e){var n=t.callbackNode;uR(t,e);var r=Ah(t,t===vt?_t:0);if(r===0)n!==null&&Zb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Zb(n),e===1)t.tag===0?lM(Hx.bind(null,t)):J2(Hx.bind(null,t)),iM(function(){!(Se&6)&&Ri()}),n=null;else{switch(P2(r)){case 1:n=o0;break;case 4:n=C2;break;case 16:n=Th;break;case 536870912:n=T2;break;default:n=Th}n=QC(n,WC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function WC(t,e){if(rh=-1,ih=0,Se&6)throw Error(H(327));var n=t.callbackNode;if(Fo()&&t.callbackNode!==n)return null;var r=Ah(t,t===vt?_t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Wh(t,r);else{e=r;var i=Se;Se|=2;var s=XC();(vt!==t||_t!==e)&&(Mr=null,Xo=it()+500,ss(t,e));do try{OM();break}catch(a){VC(t,a)}while(1);b0(),zh.current=s,Se=i,ut!==null?e=0:(vt=null,_t=0,e=dt)}if(e!==0){if(e===2&&(i=Bm(t),i!==0&&(r=i,e=hg(t,i))),e===1)throw n=Wl,ss(t,0),li(t,r),Xt(t,it()),n;if(e===6)li(t,r);else{if(i=t.current.alternate,!(r&30)&&!AM(i)&&(e=Wh(t,r),e===2&&(s=Bm(t),s!==0&&(r=s,e=hg(t,s))),e===1))throw n=Wl,ss(t,0),li(t,r),Xt(t,it()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:Wi(t,Ht,Mr);break;case 3:if(li(t,r),(r&130023424)===r&&(e=F0+500-it(),10<e)){if(Ah(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Dt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Wm(Wi.bind(null,t,Ht,Mr),e);break}Wi(t,Ht,Mr);break;case 4:if(li(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Jn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=it()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*TM(r/1960))-r,10<r){t.timeoutHandle=Wm(Wi.bind(null,t,Ht,Mr),r);break}Wi(t,Ht,Mr);break;case 5:Wi(t,Ht,Mr);break;default:throw Error(H(329))}}}return Xt(t,it()),t.callbackNode===n?WC.bind(null,t):null}function hg(t,e){var n=El;return t.current.memoizedState.isDehydrated&&(ss(t,e).flags|=256),t=Wh(t,e),t!==2&&(e=Ht,Ht=n,e!==null&&dg(e)),t}function dg(t){Ht===null?Ht=t:Ht.push.apply(Ht,t)}function AM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!sr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function li(t,e){for(e&=~M0,e&=~Ud,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jn(e),r=1<<n;t[n]=-1,e&=~r}}function Hx(t){if(Se&6)throw Error(H(327));Fo();var e=Ah(t,0);if(!(e&1))return Xt(t,it()),null;var n=Wh(t,e);if(t.tag!==0&&n===2){var r=Bm(t);r!==0&&(e=r,n=hg(t,r))}if(n===1)throw n=Wl,ss(t,0),li(t,e),Xt(t,it()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Wi(t,Ht,Mr),Xt(t,it()),null}function D0(t,e){var n=Se;Se|=1;try{return t(e)}finally{Se=n,Se===0&&(Xo=it()+500,$d&&Ri())}}function ys(t){ci!==null&&ci.tag===0&&!(Se&6)&&Fo();var e=Se;Se|=1;var n=On.transition,r=ke;try{if(On.transition=null,ke=1,t)return t()}finally{ke=r,On.transition=n,Se=e,!(Se&6)&&Ri()}}function $0(){en=Ao.current,Ue(Ao)}function ss(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,rM(n)),ut!==null)for(n=ut.return;n!==null;){var r=n;switch(g0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Rh();break;case 3:Wo(),Ue(Wt),Ue(Ot),C0();break;case 5:S0(r);break;case 4:Wo();break;case 13:Ue(Xe);break;case 19:Ue(Xe);break;case 10:x0(r.type._context);break;case 22:case 23:$0()}n=n.return}if(vt=t,ut=t=xi(t.current,null),_t=en=e,dt=0,Wl=null,M0=Ud=vs=0,Ht=El=null,Ji!==null){for(e=0;e<Ji.length;e++)if(n=Ji[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ji=null}return t}function VC(t,e){do{var n=ut;try{if(b0(),eh.current=jh,Uh){for(var r=Ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Uh=!1}if(gs=0,ft=ht=Ke=null,wl=!1,zl=0,R0.current=null,n===null||n.return===null){dt=1,Wl=e,ut=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=_t,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=Ix(o);if(f!==null){f.flags&=-257,kx(f,o,a,s,e),f.mode&1&&Ox(s,u,e),e=f,l=u;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){Ox(s,u,e),B0();break e}l=Error(H(426))}}else if(We&&a.mode&1){var g=Ix(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),kx(g,o,a,s,e),v0(Vo(l,a));break e}}s=l=Vo(l,a),dt!==4&&(dt=2),El===null?El=[s]:El.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=OC(s,l,e);_x(s,v);break e;case 1:a=l;var b=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(yi===null||!yi.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=IC(s,a,e);_x(s,x);break e}}s=s.return}while(s!==null)}qC(n)}catch(S){e=S,ut===n&&n!==null&&(ut=n=n.return);continue}break}while(1)}function XC(){var t=zh.current;return zh.current=jh,t===null?jh:t}function B0(){(dt===0||dt===3||dt===2)&&(dt=4),vt===null||!(vs&268435455)&&!(Ud&268435455)||li(vt,_t)}function Wh(t,e){var n=Se;Se|=2;var r=XC();(vt!==t||_t!==e)&&(Mr=null,ss(t,e));do try{PM();break}catch(i){VC(t,i)}while(1);if(b0(),Se=n,zh.current=r,ut!==null)throw Error(H(261));return vt=null,_t=0,dt}function PM(){for(;ut!==null;)YC(ut)}function OM(){for(;ut!==null&&!eR();)YC(ut)}function YC(t){var e=ZC(t.alternate,t,en);t.memoizedProps=t.pendingProps,e===null?qC(t):ut=e,R0.current=null}function qC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=_M(n,e),n!==null){n.flags&=32767,ut=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dt=6,ut=null;return}}else if(n=wM(n,e,en),n!==null){ut=n;return}if(e=e.sibling,e!==null){ut=e;return}ut=e=t}while(e!==null);dt===0&&(dt=5)}function Wi(t,e,n){var r=ke,i=On.transition;try{On.transition=null,ke=1,IM(t,e,n,r)}finally{On.transition=i,ke=r}return null}function IM(t,e,n,r){do Fo();while(ci!==null);if(Se&6)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(cR(t,s),t===vt&&(ut=vt=null,_t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pc||(pc=!0,QC(Th,function(){return Fo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=On.transition,On.transition=null;var o=ke;ke=1;var a=Se;Se|=4,R0.current=null,SM(t,n),HC(n,t),KR(Hm),Ph=!!zm,Hm=zm=null,t.current=n,CM(n),tR(),Se=a,ke=o,On.transition=s}else t.current=n;if(pc&&(pc=!1,ci=t,Gh=i),s=t.pendingLanes,s===0&&(yi=null),iR(n.stateNode),Xt(t,it()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hh)throw Hh=!1,t=ug,ug=null,t;return Gh&1&&t.tag!==0&&Fo(),s=t.pendingLanes,s&1?t===cg?Sl++:(Sl=0,cg=t):Sl=0,Ri(),null}function Fo(){if(ci!==null){var t=P2(Gh),e=On.transition,n=ke;try{if(On.transition=null,ke=16>t?16:t,ci===null)var r=!1;else{if(t=ci,ci=null,Gh=0,Se&6)throw Error(H(331));var i=Se;for(Se|=4,te=t.current;te!==null;){var s=te,o=s.child;if(te.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(te=u;te!==null;){var c=te;switch(c.tag){case 0:case 11:case 15:_l(8,c,s)}var h=c.child;if(h!==null)h.return=c,te=h;else for(;te!==null;){c=te;var d=c.sibling,f=c.return;if(UC(c),c===u){te=null;break}if(d!==null){d.return=f,te=d;break}te=f}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}te=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,te=o;else e:for(;te!==null;){if(s=te,s.flags&2048)switch(s.tag){case 0:case 11:case 15:_l(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,te=v;break e}te=s.return}}var b=t.current;for(te=b;te!==null;){o=te;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,te=y;else e:for(o=b;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ld(9,a)}}catch(S){et(a,a.return,S)}if(a===o){te=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,te=x;break e}te=a.return}}if(Se=i,Ri(),_r&&typeof _r.onPostCommitFiberRoot=="function")try{_r.onPostCommitFiberRoot(kd,t)}catch{}r=!0}return r}finally{ke=n,On.transition=e}}return!1}function Gx(t,e,n){e=Vo(n,e),e=OC(t,e,1),t=vi(t,e,1),e=Dt(),t!==null&&(wu(t,1,e),Xt(t,e))}function et(t,e,n){if(t.tag===3)Gx(t,t,n);else for(;e!==null;){if(e.tag===3){Gx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yi===null||!yi.has(r))){t=Vo(n,t),t=IC(e,t,1),e=vi(e,t,1),t=Dt(),e!==null&&(wu(e,1,t),Xt(e,t));break}}e=e.return}}function kM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Dt(),t.pingedLanes|=t.suspendedLanes&n,vt===t&&(_t&n)===n&&(dt===4||dt===3&&(_t&130023424)===_t&&500>it()-F0?ss(t,0):M0|=n),Xt(t,e)}function KC(t,e){e===0&&(t.mode&1?(e=ic,ic<<=1,!(ic&130023424)&&(ic=4194304)):e=1);var n=Dt();t=Gr(t,e),t!==null&&(wu(t,e,n),Xt(t,n))}function RM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),KC(t,n)}function MM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),KC(t,n)}var ZC;ZC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wt.current)Gt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Gt=!1,xM(t,e,n);Gt=!!(t.flags&131072)}else Gt=!1,We&&e.flags&1048576&&eC(e,Dh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;nh(t,e),t=e.pendingProps;var i=zo(e,Ot.current);Mo(e,n),i=A0(null,e,r,t,i,n);var s=P0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Vt(r)?(s=!0,Mh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_0(e),i.updater=Bd,e.stateNode=i,i._reactInternals=e,Qm(e,r,t,n),e=tg(null,e,r,!0,s,n)):(e.tag=0,We&&s&&m0(e),It(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(nh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=DM(r),t=Wn(r,t),i){case 0:e=eg(null,e,r,t,n);break e;case 1:e=Fx(null,e,r,t,n);break e;case 11:e=Rx(null,e,r,t,n);break e;case 14:e=Mx(null,e,r,Wn(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),eg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),Fx(t,e,r,i,n);case 3:e:{if(FC(e),t===null)throw Error(H(387));r=e.pendingProps,s=e.memoizedState,i=s.element,iC(t,e),Nh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Vo(Error(H(423)),e),e=Dx(t,e,r,n,i);break e}else if(r!==i){i=Vo(Error(H(424)),e),e=Dx(t,e,r,n,i);break e}else for(rn=gi(e.stateNode.containerInfo.firstChild),ln=e,We=!0,Xn=null,n=lC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ho(),r===i){e=Wr(t,e,n);break e}It(t,e,r,n)}e=e.child}return e;case 5:return uC(e),t===null&&qm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Gm(r,i)?o=null:s!==null&&Gm(r,s)&&(e.flags|=32),MC(t,e),It(t,e,o,n),e.child;case 6:return t===null&&qm(e),null;case 13:return DC(t,e,n);case 4:return E0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Go(e,null,r,n):It(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),Rx(t,e,r,i,n);case 7:return It(t,e,e.pendingProps,n),e.child;case 8:return It(t,e,e.pendingProps.children,n),e.child;case 12:return It(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,$e($h,r._currentValue),r._currentValue=o,s!==null)if(sr(s.value,o)){if(s.children===i.children&&!Wt.current){e=Wr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Lr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Km(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Km(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}It(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Mo(e,n),i=Rn(i),r=r(i),e.flags|=1,It(t,e,r,n),e.child;case 14:return r=e.type,i=Wn(r,e.pendingProps),i=Wn(r.type,i),Mx(t,e,r,i,n);case 15:return kC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),nh(t,e),e.tag=1,Vt(r)?(t=!0,Mh(e)):t=!1,Mo(e,n),oC(e,r,i),Qm(e,r,i,n),tg(null,e,r,!0,t,n);case 19:return $C(t,e,n);case 22:return RC(t,e,n)}throw Error(H(156,e.tag))};function QC(t,e){return S2(t,e)}function FM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,e,n,r){return new FM(t,e,n,r)}function N0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function DM(t){if(typeof t=="function")return N0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===r0)return 11;if(t===i0)return 14}return 2}function xi(t,e){var n=t.alternate;return n===null?(n=An(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function sh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")N0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case vo:return os(n.children,i,s,e);case n0:o=8,i|=8;break;case _m:return t=An(12,n,e,i|2),t.elementType=_m,t.lanes=s,t;case Em:return t=An(13,n,e,i),t.elementType=Em,t.lanes=s,t;case Sm:return t=An(19,n,e,i),t.elementType=Sm,t.lanes=s,t;case a2:return jd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case s2:o=10;break e;case o2:o=9;break e;case r0:o=11;break e;case i0:o=14;break e;case ii:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=An(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function os(t,e,n,r){return t=An(7,t,r,e),t.lanes=n,t}function jd(t,e,n,r){return t=An(22,t,r,e),t.elementType=a2,t.lanes=n,t.stateNode={isHidden:!1},t}function wp(t,e,n){return t=An(6,t,null,e),t.lanes=n,t}function _p(t,e,n){return e=An(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $M(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=np(0),this.expirationTimes=np(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=np(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function L0(t,e,n,r,i,s,o,a,l){return t=new $M(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=An(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_0(s),t}function BM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:go,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function JC(t){if(!t)return Si;t=t._reactInternals;e:{if(Ps(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Vt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(Vt(n))return Q2(t,n,e)}return e}function eT(t,e,n,r,i,s,o,a,l){return t=L0(n,r,!0,t,i,s,o,a,l),t.context=JC(null),n=t.current,r=Dt(),i=bi(n),s=Lr(r,i),s.callback=e??null,vi(n,s,i),t.current.lanes=i,wu(t,i,r),Xt(t,r),t}function zd(t,e,n,r){var i=e.current,s=Dt(),o=bi(i);return n=JC(n),e.context===null?e.context=n:e.pendingContext=n,e=Lr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=vi(i,e,o),t!==null&&(er(t,i,o,s),Jc(t,i,o)),o}function Vh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Wx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function U0(t,e){Wx(t,e),(t=t.alternate)&&Wx(t,e)}function NM(){return null}var tT=typeof reportError=="function"?reportError:function(t){console.error(t)};function j0(t){this._internalRoot=t}Hd.prototype.render=j0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));zd(t,e,null,null)};Hd.prototype.unmount=j0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ys(function(){zd(null,t,null,null)}),e[Hr]=null}};function Hd(t){this._internalRoot=t}Hd.prototype.unstable_scheduleHydration=function(t){if(t){var e=k2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ai.length&&e!==0&&e<ai[n].priority;n++);ai.splice(n,0,t),n===0&&M2(t)}};function z0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Vx(){}function LM(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Vh(o);s.call(u)}}var o=eT(e,r,t,0,null,!1,!1,"",Vx);return t._reactRootContainer=o,t[Hr]=o.current,Bl(t.nodeType===8?t.parentNode:t),ys(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Vh(l);a.call(u)}}var l=L0(t,0,!1,null,null,!1,!1,"",Vx);return t._reactRootContainer=l,t[Hr]=l.current,Bl(t.nodeType===8?t.parentNode:t),ys(function(){zd(e,l,n,r)}),l}function Wd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Vh(o);a.call(l)}}zd(e,o,t,i)}else o=LM(n,e,t,i,r);return Vh(o)}O2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=nl(e.pendingLanes);n!==0&&(a0(e,n|1),Xt(e,it()),!(Se&6)&&(Xo=it()+500,Ri()))}break;case 13:ys(function(){var r=Gr(t,1);if(r!==null){var i=Dt();er(r,t,1,i)}}),U0(t,1)}};l0=function(t){if(t.tag===13){var e=Gr(t,134217728);if(e!==null){var n=Dt();er(e,t,134217728,n)}U0(t,134217728)}};I2=function(t){if(t.tag===13){var e=bi(t),n=Gr(t,e);if(n!==null){var r=Dt();er(n,t,e,r)}U0(t,e)}};k2=function(){return ke};R2=function(t,e){var n=ke;try{return ke=t,e()}finally{ke=n}};Fm=function(t,e,n){switch(e){case"input":if(Am(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Dd(r);if(!i)throw Error(H(90));u2(r),Am(r,i)}}}break;case"textarea":h2(t,n);break;case"select":e=n.value,e!=null&&Oo(t,!!n.multiple,e,!1)}};y2=D0;b2=ys;var UM={usingClientEntryPoint:!1,Events:[Eu,wo,Dd,g2,v2,D0]},Ba={findFiberByHostInstance:Qi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},jM={bundleType:Ba.bundleType,version:Ba.version,rendererPackageName:Ba.rendererPackageName,rendererConfig:Ba.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_2(t),t===null?null:t.stateNode},findFiberByHostInstance:Ba.findFiberByHostInstance||NM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{kd=mc.inject(jM),_r=mc}catch{}}mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UM;mn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!z0(e))throw Error(H(200));return BM(t,e,null,n)};mn.createRoot=function(t,e){if(!z0(t))throw Error(H(299));var n=!1,r="",i=tT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=L0(t,1,!1,null,null,n,!1,r,i),t[Hr]=e.current,Bl(t.nodeType===8?t.parentNode:t),new j0(e)};mn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=_2(e),t=t===null?null:t.stateNode,t};mn.flushSync=function(t){return ys(t)};mn.hydrate=function(t,e,n){if(!Gd(e))throw Error(H(200));return Wd(null,t,e,!0,n)};mn.hydrateRoot=function(t,e,n){if(!z0(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=tT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=eT(e,null,t,1,n??null,i,!1,s,o),t[Hr]=e.current,Bl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Hd(e)};mn.render=function(t,e,n){if(!Gd(e))throw Error(H(200));return Wd(null,t,e,!1,n)};mn.unmountComponentAtNode=function(t){if(!Gd(t))throw Error(H(40));return t._reactRootContainer?(ys(function(){Wd(null,null,t,!1,function(){t._reactRootContainer=null,t[Hr]=null})}),!0):!1};mn.unstable_batchedUpdates=D0;mn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Gd(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Wd(t,e,n,!1,r)};mn.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=mn})(Nk);var Xx=Pl;bm.createRoot=Xx.createRoot,bm.hydrateRoot=Xx.hydrateRoot;var fg=function(t,e){return fg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},fg(t,e)};function Vd(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");fg(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function pg(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xh(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Yh(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Ur(t){return typeof t=="function"}function nT(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ep=nT(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function mg(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Xd=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=pg(o),l=a.next();!l.done;l=a.next()){var u=l.value;u.remove(this)}}catch(m){e={error:m}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}else o.remove(this);var c=this.initialTeardown;if(Ur(c))try{c()}catch(m){s=m instanceof Ep?m.errors:[m]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var d=pg(h),f=d.next();!f.done;f=d.next()){var p=f.value;try{Yx(p)}catch(m){s=s??[],m instanceof Ep?s=Yh(Yh([],Xh(s)),Xh(m.errors)):s.push(m)}}}catch(m){r={error:m}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}if(s)throw new Ep(s)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)Yx(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&mg(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&mg(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),rT=Xd.EMPTY;function iT(t){return t instanceof Xd||t&&"closed"in t&&Ur(t.remove)&&Ur(t.add)&&Ur(t.unsubscribe)}function Yx(t){Ur(t)?t():t.unsubscribe()}var sT={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},gg={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=gg.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,Yh([t,e],Xh(n))):setTimeout.apply(void 0,Yh([t,e],Xh(n)))},clearTimeout:function(t){var e=gg.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function zM(t){gg.setTimeout(function(){throw t})}function qx(){}function oh(t){t()}var oT=function(t){Vd(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,iT(n)&&n.add(r)):r.destination=VM,r}return e.create=function(n,r,i){return new vg(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Xd),HM=Function.prototype.bind;function Sp(t,e){return HM.call(t,e)}var GM=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){gc(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){gc(r)}else gc(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){gc(n)}},t}(),vg=function(t){Vd(e,t);function e(n,r,i){var s=t.call(this)||this,o;if(Ur(n)||!n)o={next:n??void 0,error:r??void 0,complete:i??void 0};else{var a;s&&sT.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return s.unsubscribe()},o={next:n.next&&Sp(n.next,a),error:n.error&&Sp(n.error,a),complete:n.complete&&Sp(n.complete,a)}):o=n}return s.destination=new GM(o),s}return e}(oT);function gc(t){zM(t)}function WM(t){throw t}var VM={closed:!0,next:qx,error:WM,complete:qx},XM=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function YM(t){return t}function qM(t){return t.length===0?YM:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var Kx=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,s=ZM(e)?e:new vg(e,n,r);return oh(function(){var o=i,a=o.operator,l=o.source;s.add(a?a.call(s,l):l?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=Zx(n),new n(function(i,s){var o=new vg({next:function(a){try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[XM]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return qM(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=Zx(e),new e(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},t.create=function(e){return new t(e)},t}();function Zx(t){var e;return(e=t??sT.Promise)!==null&&e!==void 0?e:Promise}function KM(t){return t&&Ur(t.next)&&Ur(t.error)&&Ur(t.complete)}function ZM(t){return t&&t instanceof oT||KM(t)&&iT(t)}var QM=nT(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),qh=function(t){Vd(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new Qx(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new QM},e.prototype.next=function(n){var r=this;oh(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=pg(r.currentObservers),a=o.next();!a.done;a=o.next()){var l=a.value;l.next(n)}}catch(u){i={error:u}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;oh(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;oh(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?rT:(this.currentObservers=null,a.push(n),new Xd(function(){r.currentObservers=null,mg(a,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,s=r.thrownError,o=r.isStopped;i?n.error(s):o&&n.complete()},e.prototype.asObservable=function(){var n=new Kx;return n.source=this,n},e.create=function(n,r){return new Qx(n,r)},e}(Kx),Qx=function(t){Vd(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:rT},e}(qh),JM=typeof global=="object"&&global&&global.Object===Object&&global;const aT=JM;var e3=typeof self=="object"&&self&&self.Object===Object&&self,t3=aT||e3||Function("return this")();const lr=t3;var n3=lr.Symbol;const Fn=n3;var lT=Object.prototype,r3=lT.hasOwnProperty,i3=lT.toString,Na=Fn?Fn.toStringTag:void 0;function s3(t){var e=r3.call(t,Na),n=t[Na];try{t[Na]=void 0;var r=!0}catch{}var i=i3.call(t);return r&&(e?t[Na]=n:delete t[Na]),i}var o3=Object.prototype,a3=o3.toString;function l3(t){return a3.call(t)}var u3="[object Null]",c3="[object Undefined]",Jx=Fn?Fn.toStringTag:void 0;function Zr(t){return t==null?t===void 0?c3:u3:Jx&&Jx in Object(t)?s3(t):l3(t)}function Dn(t){return t!=null&&typeof t=="object"}var h3="[object Symbol]";function Yo(t){return typeof t=="symbol"||Dn(t)&&Zr(t)==h3}function as(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var d3=Array.isArray;const rt=d3;var f3=1/0,ew=Fn?Fn.prototype:void 0,tw=ew?ew.toString:void 0;function H0(t){if(typeof t=="string")return t;if(rt(t))return as(t,H0)+"";if(Yo(t))return tw?tw.call(t):"";var e=t+"";return e=="0"&&1/t==-f3?"-0":e}var p3=/\s/;function m3(t){for(var e=t.length;e--&&p3.test(t.charAt(e)););return e}var g3=/^\s+/;function v3(t){return t&&t.slice(0,m3(t)+1).replace(g3,"")}function pn(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var nw=0/0,y3=/^[-+]0x[0-9a-f]+$/i,b3=/^0b[01]+$/i,x3=/^0o[0-7]+$/i,w3=parseInt;function yg(t){if(typeof t=="number")return t;if(Yo(t))return nw;if(pn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=pn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=v3(t);var n=b3.test(t);return n||x3.test(t)?w3(t.slice(2),n?2:8):y3.test(t)?nw:+t}var rw=1/0,_3=17976931348623157e292;function E3(t){if(!t)return t===0?t:0;if(t=yg(t),t===rw||t===-rw){var e=t<0?-1:1;return e*_3}return t===t?t:0}function Yd(t){var e=E3(t),n=e%1;return e===e?n?e-n:e:0}function Cu(t){return t}var S3="[object AsyncFunction]",C3="[object Function]",T3="[object GeneratorFunction]",A3="[object Proxy]";function br(t){if(!pn(t))return!1;var e=Zr(t);return e==C3||e==T3||e==S3||e==A3}var P3=lr["__core-js_shared__"];const Cp=P3;var iw=function(){var t=/[^.]+$/.exec(Cp&&Cp.keys&&Cp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function O3(t){return!!iw&&iw in t}var I3=Function.prototype,k3=I3.toString;function Os(t){if(t!=null){try{return k3.call(t)}catch{}try{return t+""}catch{}}return""}var R3=/[\\^$.*+?()[\]{}|]/g,M3=/^\[object .+?Constructor\]$/,F3=Function.prototype,D3=Object.prototype,$3=F3.toString,B3=D3.hasOwnProperty,N3=RegExp("^"+$3.call(B3).replace(R3,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function L3(t){if(!pn(t)||O3(t))return!1;var e=br(t)?N3:M3;return e.test(Os(t))}function U3(t,e){return t==null?void 0:t[e]}function Is(t,e){var n=U3(t,e);return L3(n)?n:void 0}var j3=Is(lr,"WeakMap");const bg=j3;var sw=Object.create,z3=function(){function t(){}return function(e){if(!pn(e))return{};if(sw)return sw(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const H3=z3;function G3(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function W3(){}function uT(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var V3=800,X3=16,Y3=Date.now;function q3(t){var e=0,n=0;return function(){var r=Y3(),i=X3-(r-n);if(n=r,i>0){if(++e>=V3)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function K3(t){return function(){return t}}var Z3=function(){try{var t=Is(Object,"defineProperty");return t({},"",{}),t}catch{}}();const Kh=Z3;var Q3=Kh?function(t,e){return Kh(t,"toString",{configurable:!0,enumerable:!1,value:K3(e),writable:!0})}:Cu;const J3=Q3;var e4=q3(J3);const t4=e4;function cT(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function hT(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function n4(t){return t!==t}function r4(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function dT(t,e,n){return e===e?r4(t,e,n):hT(t,n4,n)}function fT(t,e){var n=t==null?0:t.length;return!!n&&dT(t,e,0)>-1}var i4=9007199254740991,s4=/^(?:0|[1-9]\d*)$/;function G0(t,e){var n=typeof t;return e=e??i4,!!e&&(n=="number"||n!="symbol"&&s4.test(t))&&t>-1&&t%1==0&&t<e}function qd(t,e,n){e=="__proto__"&&Kh?Kh(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Tu(t,e){return t===e||t!==t&&e!==e}var o4=Object.prototype,a4=o4.hasOwnProperty;function pT(t,e,n){var r=t[e];(!(a4.call(t,e)&&Tu(r,n))||n===void 0&&!(e in t))&&qd(t,e,n)}function Au(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?qd(n,a,l):pT(n,a,l)}return n}var ow=Math.max;function l4(t,e,n){return e=ow(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=ow(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),G3(t,this,a)}}function W0(t,e){return t4(l4(t,e,Cu),t+"")}var u4=9007199254740991;function V0(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=u4}function Mi(t){return t!=null&&V0(t.length)&&!br(t)}function Zh(t,e,n){if(!pn(n))return!1;var r=typeof e;return(r=="number"?Mi(n)&&G0(e,n.length):r=="string"&&e in n)?Tu(n[e],t):!1}function c4(t){return W0(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&Zh(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var h4=Object.prototype;function X0(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||h4;return t===n}function mT(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var d4="[object Arguments]";function aw(t){return Dn(t)&&Zr(t)==d4}var gT=Object.prototype,f4=gT.hasOwnProperty,p4=gT.propertyIsEnumerable,m4=aw(function(){return arguments}())?aw:function(t){return Dn(t)&&f4.call(t,"callee")&&!p4.call(t,"callee")};const Vl=m4;function g4(){return!1}var vT=typeof on=="object"&&on&&!on.nodeType&&on,lw=vT&&typeof an=="object"&&an&&!an.nodeType&&an,v4=lw&&lw.exports===vT,uw=v4?lr.Buffer:void 0,y4=uw?uw.isBuffer:void 0,b4=y4||g4;const Xl=b4;var x4="[object Arguments]",w4="[object Array]",_4="[object Boolean]",E4="[object Date]",S4="[object Error]",C4="[object Function]",T4="[object Map]",A4="[object Number]",P4="[object Object]",O4="[object RegExp]",I4="[object Set]",k4="[object String]",R4="[object WeakMap]",M4="[object ArrayBuffer]",F4="[object DataView]",D4="[object Float32Array]",$4="[object Float64Array]",B4="[object Int8Array]",N4="[object Int16Array]",L4="[object Int32Array]",U4="[object Uint8Array]",j4="[object Uint8ClampedArray]",z4="[object Uint16Array]",H4="[object Uint32Array]",Ne={};Ne[D4]=Ne[$4]=Ne[B4]=Ne[N4]=Ne[L4]=Ne[U4]=Ne[j4]=Ne[z4]=Ne[H4]=!0;Ne[x4]=Ne[w4]=Ne[M4]=Ne[_4]=Ne[F4]=Ne[E4]=Ne[S4]=Ne[C4]=Ne[T4]=Ne[A4]=Ne[P4]=Ne[O4]=Ne[I4]=Ne[k4]=Ne[R4]=!1;function G4(t){return Dn(t)&&V0(t.length)&&!!Ne[Zr(t)]}function Pu(t){return function(e){return t(e)}}var yT=typeof on=="object"&&on&&!on.nodeType&&on,Cl=yT&&typeof an=="object"&&an&&!an.nodeType&&an,W4=Cl&&Cl.exports===yT,Tp=W4&&aT.process,V4=function(){try{var t=Cl&&Cl.require&&Cl.require("util").types;return t||Tp&&Tp.binding&&Tp.binding("util")}catch{}}();const qo=V4;var cw=qo&&qo.isTypedArray,X4=cw?Pu(cw):G4;const Y0=X4;var Y4=Object.prototype,q4=Y4.hasOwnProperty;function bT(t,e){var n=rt(t),r=!n&&Vl(t),i=!n&&!r&&Xl(t),s=!n&&!r&&!i&&Y0(t),o=n||r||i||s,a=o?mT(t.length,String):[],l=a.length;for(var u in t)(e||q4.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||G0(u,l)))&&a.push(u);return a}function xT(t,e){return function(n){return t(e(n))}}var K4=xT(Object.keys,Object);const Z4=K4;var Q4=Object.prototype,J4=Q4.hasOwnProperty;function eF(t){if(!X0(t))return Z4(t);var e=[];for(var n in Object(t))J4.call(t,n)&&n!="constructor"&&e.push(n);return e}function ks(t){return Mi(t)?bT(t):eF(t)}function tF(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var nF=Object.prototype,rF=nF.hasOwnProperty;function iF(t){if(!pn(t))return tF(t);var e=X0(t),n=[];for(var r in t)r=="constructor"&&(e||!rF.call(t,r))||n.push(r);return n}function Ou(t){return Mi(t)?bT(t,!0):iF(t)}var sF=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,oF=/^\w*$/;function q0(t,e){if(rt(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Yo(t)?!0:oF.test(t)||!sF.test(t)||e!=null&&t in Object(e)}var aF=Is(Object,"create");const Yl=aF;function lF(){this.__data__=Yl?Yl(null):{},this.size=0}function uF(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var cF="__lodash_hash_undefined__",hF=Object.prototype,dF=hF.hasOwnProperty;function fF(t){var e=this.__data__;if(Yl){var n=e[t];return n===cF?void 0:n}return dF.call(e,t)?e[t]:void 0}var pF=Object.prototype,mF=pF.hasOwnProperty;function gF(t){var e=this.__data__;return Yl?e[t]!==void 0:mF.call(e,t)}var vF="__lodash_hash_undefined__";function yF(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Yl&&e===void 0?vF:e,this}function bs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}bs.prototype.clear=lF;bs.prototype.delete=uF;bs.prototype.get=fF;bs.prototype.has=gF;bs.prototype.set=yF;function bF(){this.__data__=[],this.size=0}function Kd(t,e){for(var n=t.length;n--;)if(Tu(t[n][0],e))return n;return-1}var xF=Array.prototype,wF=xF.splice;function _F(t){var e=this.__data__,n=Kd(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():wF.call(e,n,1),--this.size,!0}function EF(t){var e=this.__data__,n=Kd(e,t);return n<0?void 0:e[n][1]}function SF(t){return Kd(this.__data__,t)>-1}function CF(t,e){var n=this.__data__,r=Kd(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Qr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Qr.prototype.clear=bF;Qr.prototype.delete=_F;Qr.prototype.get=EF;Qr.prototype.has=SF;Qr.prototype.set=CF;var TF=Is(lr,"Map");const ql=TF;function AF(){this.size=0,this.__data__={hash:new bs,map:new(ql||Qr),string:new bs}}function PF(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Zd(t,e){var n=t.__data__;return PF(e)?n[typeof e=="string"?"string":"hash"]:n.map}function OF(t){var e=Zd(this,t).delete(t);return this.size-=e?1:0,e}function IF(t){return Zd(this,t).get(t)}function kF(t){return Zd(this,t).has(t)}function RF(t,e){var n=Zd(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Jr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Jr.prototype.clear=AF;Jr.prototype.delete=OF;Jr.prototype.get=IF;Jr.prototype.has=kF;Jr.prototype.set=RF;var MF="Expected a function";function K0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(MF);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(K0.Cache||Jr),n}K0.Cache=Jr;var FF=500;function DF(t){var e=K0(t,function(r){return n.size===FF&&n.clear(),r}),n=e.cache;return e}var $F=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,BF=/\\(\\)?/g,NF=DF(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace($F,function(n,r,i,s){e.push(i?s.replace(BF,"$1"):r||n)}),e});const LF=NF;function wT(t){return t==null?"":H0(t)}function _T(t,e){return rt(t)?t:q0(t,e)?[t]:LF(wT(t))}var UF=1/0;function Qd(t){if(typeof t=="string"||Yo(t))return t;var e=t+"";return e=="0"&&1/t==-UF?"-0":e}function Z0(t,e){e=_T(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Qd(e[n++])];return n&&n==r?t:void 0}function jF(t,e,n){var r=t==null?void 0:Z0(t,e);return r===void 0?n:r}function Q0(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var hw=Fn?Fn.isConcatSpreadable:void 0;function zF(t){return rt(t)||Vl(t)||!!(hw&&t&&t[hw])}function J0(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=zF),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?J0(a,e-1,n,r,i):Q0(i,a):r||(i[i.length]=a)}return i}var HF=xT(Object.getPrototypeOf,Object);const ey=HF;var GF="[object Object]",WF=Function.prototype,VF=Object.prototype,ET=WF.toString,XF=VF.hasOwnProperty,YF=ET.call(Object);function qF(t){if(!Dn(t)||Zr(t)!=GF)return!1;var e=ey(t);if(e===null)return!0;var n=XF.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&ET.call(n)==YF}function KF(t,e,n,r){var i=-1,s=t==null?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}function ZF(t,e,n){return t===t&&(n!==void 0&&(t=t<=n?t:n),e!==void 0&&(t=t>=e?t:e)),t}function QF(){this.__data__=new Qr,this.size=0}function JF(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function eD(t){return this.__data__.get(t)}function tD(t){return this.__data__.has(t)}var nD=200;function rD(t,e){var n=this.__data__;if(n instanceof Qr){var r=n.__data__;if(!ql||r.length<nD-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Jr(r)}return n.set(t,e),this.size=n.size,this}function tr(t){var e=this.__data__=new Qr(t);this.size=e.size}tr.prototype.clear=QF;tr.prototype.delete=JF;tr.prototype.get=eD;tr.prototype.has=tD;tr.prototype.set=rD;function iD(t,e){return t&&Au(e,ks(e),t)}function sD(t,e){return t&&Au(e,Ou(e),t)}var ST=typeof on=="object"&&on&&!on.nodeType&&on,dw=ST&&typeof an=="object"&&an&&!an.nodeType&&an,oD=dw&&dw.exports===ST,fw=oD?lr.Buffer:void 0,pw=fw?fw.allocUnsafe:void 0;function CT(t,e){if(e)return t.slice();var n=t.length,r=pw?pw(n):new t.constructor(n);return t.copy(r),r}function TT(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function AT(){return[]}var aD=Object.prototype,lD=aD.propertyIsEnumerable,mw=Object.getOwnPropertySymbols,uD=mw?function(t){return t==null?[]:(t=Object(t),TT(mw(t),function(e){return lD.call(t,e)}))}:AT;const ty=uD;function cD(t,e){return Au(t,ty(t),e)}var hD=Object.getOwnPropertySymbols,dD=hD?function(t){for(var e=[];t;)Q0(e,ty(t)),t=ey(t);return e}:AT;const PT=dD;function fD(t,e){return Au(t,PT(t),e)}function OT(t,e,n){var r=e(t);return rt(t)?r:Q0(r,n(t))}function xg(t){return OT(t,ks,ty)}function pD(t){return OT(t,Ou,PT)}var mD=Is(lr,"DataView");const wg=mD;var gD=Is(lr,"Promise");const _g=gD;var vD=Is(lr,"Set");const Do=vD;var gw="[object Map]",yD="[object Object]",vw="[object Promise]",yw="[object Set]",bw="[object WeakMap]",xw="[object DataView]",bD=Os(wg),xD=Os(ql),wD=Os(_g),_D=Os(Do),ED=Os(bg),Vi=Zr;(wg&&Vi(new wg(new ArrayBuffer(1)))!=xw||ql&&Vi(new ql)!=gw||_g&&Vi(_g.resolve())!=vw||Do&&Vi(new Do)!=yw||bg&&Vi(new bg)!=bw)&&(Vi=function(t){var e=Zr(t),n=e==yD?t.constructor:void 0,r=n?Os(n):"";if(r)switch(r){case bD:return xw;case xD:return gw;case wD:return vw;case _D:return yw;case ED:return bw}return e});const Kl=Vi;var SD=Object.prototype,CD=SD.hasOwnProperty;function TD(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&CD.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var AD=lr.Uint8Array;const Qh=AD;function ny(t){var e=new t.constructor(t.byteLength);return new Qh(e).set(new Qh(t)),e}function PD(t,e){var n=e?ny(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var OD=/\w*$/;function ID(t){var e=new t.constructor(t.source,OD.exec(t));return e.lastIndex=t.lastIndex,e}var ww=Fn?Fn.prototype:void 0,_w=ww?ww.valueOf:void 0;function kD(t){return _w?Object(_w.call(t)):{}}function IT(t,e){var n=e?ny(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var RD="[object Boolean]",MD="[object Date]",FD="[object Map]",DD="[object Number]",$D="[object RegExp]",BD="[object Set]",ND="[object String]",LD="[object Symbol]",UD="[object ArrayBuffer]",jD="[object DataView]",zD="[object Float32Array]",HD="[object Float64Array]",GD="[object Int8Array]",WD="[object Int16Array]",VD="[object Int32Array]",XD="[object Uint8Array]",YD="[object Uint8ClampedArray]",qD="[object Uint16Array]",KD="[object Uint32Array]";function ZD(t,e,n){var r=t.constructor;switch(e){case UD:return ny(t);case RD:case MD:return new r(+t);case jD:return PD(t,n);case zD:case HD:case GD:case WD:case VD:case XD:case YD:case qD:case KD:return IT(t,n);case FD:return new r;case DD:case ND:return new r(t);case $D:return ID(t);case BD:return new r;case LD:return kD(t)}}function kT(t){return typeof t.constructor=="function"&&!X0(t)?H3(ey(t)):{}}var QD="[object Map]";function JD(t){return Dn(t)&&Kl(t)==QD}var Ew=qo&&qo.isMap,e5=Ew?Pu(Ew):JD;const t5=e5;var n5="[object Set]";function r5(t){return Dn(t)&&Kl(t)==n5}var Sw=qo&&qo.isSet,i5=Sw?Pu(Sw):r5;const s5=i5;var o5=1,a5=2,l5=4,RT="[object Arguments]",u5="[object Array]",c5="[object Boolean]",h5="[object Date]",d5="[object Error]",MT="[object Function]",f5="[object GeneratorFunction]",p5="[object Map]",m5="[object Number]",FT="[object Object]",g5="[object RegExp]",v5="[object Set]",y5="[object String]",b5="[object Symbol]",x5="[object WeakMap]",w5="[object ArrayBuffer]",_5="[object DataView]",E5="[object Float32Array]",S5="[object Float64Array]",C5="[object Int8Array]",T5="[object Int16Array]",A5="[object Int32Array]",P5="[object Uint8Array]",O5="[object Uint8ClampedArray]",I5="[object Uint16Array]",k5="[object Uint32Array]",Me={};Me[RT]=Me[u5]=Me[w5]=Me[_5]=Me[c5]=Me[h5]=Me[E5]=Me[S5]=Me[C5]=Me[T5]=Me[A5]=Me[p5]=Me[m5]=Me[FT]=Me[g5]=Me[v5]=Me[y5]=Me[b5]=Me[P5]=Me[O5]=Me[I5]=Me[k5]=!0;Me[d5]=Me[MT]=Me[x5]=!1;function ah(t,e,n,r,i,s){var o,a=e&o5,l=e&a5,u=e&l5;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!pn(t))return t;var c=rt(t);if(c){if(o=TD(t),!a)return uT(t,o)}else{var h=Kl(t),d=h==MT||h==f5;if(Xl(t))return CT(t,a);if(h==FT||h==RT||d&&!i){if(o=l||d?{}:kT(t),!a)return l?fD(t,sD(o,t)):cD(t,iD(o,t))}else{if(!Me[h])return i?t:{};o=ZD(t,h,a)}}s||(s=new tr);var f=s.get(t);if(f)return f;s.set(t,o),s5(t)?t.forEach(function(g){o.add(ah(g,e,n,g,t,s))}):t5(t)&&t.forEach(function(g,v){o.set(v,ah(g,e,n,v,t,s))});var p=u?l?pD:xg:l?Ou:ks,m=c?void 0:p(t);return cT(m||t,function(g,v){m&&(v=g,g=t[v]),pT(o,v,ah(g,e,n,v,t,s))}),o}var R5=4;function Ie(t){return ah(t,R5)}function Cw(t){for(var e=-1,n=t==null?0:t.length,r=0,i=[];++e<n;){var s=t[e];s&&(i[r++]=s)}return i}var M5="__lodash_hash_undefined__";function F5(t){return this.__data__.set(t,M5),this}function D5(t){return this.__data__.has(t)}function Ko(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Jr;++e<n;)this.add(t[e])}Ko.prototype.add=Ko.prototype.push=F5;Ko.prototype.has=D5;function DT(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function ry(t,e){return t.has(e)}var $5=1,B5=2;function $T(t,e,n,r,i,s){var o=n&$5,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(t),c=s.get(e);if(u&&c)return u==e&&c==t;var h=-1,d=!0,f=n&B5?new Ko:void 0;for(s.set(t,e),s.set(e,t);++h<a;){var p=t[h],m=e[h];if(r)var g=o?r(m,p,h,e,t,s):r(p,m,h,t,e,s);if(g!==void 0){if(g)continue;d=!1;break}if(f){if(!DT(e,function(v,b){if(!ry(f,b)&&(p===v||i(p,v,n,r,s)))return f.push(b)})){d=!1;break}}else if(!(p===m||i(p,m,n,r,s))){d=!1;break}}return s.delete(t),s.delete(e),d}function N5(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function iy(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var L5=1,U5=2,j5="[object Boolean]",z5="[object Date]",H5="[object Error]",G5="[object Map]",W5="[object Number]",V5="[object RegExp]",X5="[object Set]",Y5="[object String]",q5="[object Symbol]",K5="[object ArrayBuffer]",Z5="[object DataView]",Tw=Fn?Fn.prototype:void 0,Ap=Tw?Tw.valueOf:void 0;function Q5(t,e,n,r,i,s,o){switch(n){case Z5:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case K5:return!(t.byteLength!=e.byteLength||!s(new Qh(t),new Qh(e)));case j5:case z5:case W5:return Tu(+t,+e);case H5:return t.name==e.name&&t.message==e.message;case V5:case Y5:return t==e+"";case G5:var a=N5;case X5:var l=r&L5;if(a||(a=iy),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=U5,o.set(t,e);var c=$T(a(t),a(e),r,i,s,o);return o.delete(t),c;case q5:if(Ap)return Ap.call(t)==Ap.call(e)}return!1}var J5=1,e$=Object.prototype,t$=e$.hasOwnProperty;function n$(t,e,n,r,i,s){var o=n&J5,a=xg(t),l=a.length,u=xg(e),c=u.length;if(l!=c&&!o)return!1;for(var h=l;h--;){var d=a[h];if(!(o?d in e:t$.call(e,d)))return!1}var f=s.get(t),p=s.get(e);if(f&&p)return f==e&&p==t;var m=!0;s.set(t,e),s.set(e,t);for(var g=o;++h<l;){d=a[h];var v=t[d],b=e[d];if(r)var y=o?r(b,v,d,e,t,s):r(v,b,d,t,e,s);if(!(y===void 0?v===b||i(v,b,n,r,s):y)){m=!1;break}g||(g=d=="constructor")}if(m&&!g){var x=t.constructor,S=e.constructor;x!=S&&"constructor"in t&&"constructor"in e&&!(typeof x=="function"&&x instanceof x&&typeof S=="function"&&S instanceof S)&&(m=!1)}return s.delete(t),s.delete(e),m}var r$=1,Aw="[object Arguments]",Pw="[object Array]",vc="[object Object]",i$=Object.prototype,Ow=i$.hasOwnProperty;function s$(t,e,n,r,i,s){var o=rt(t),a=rt(e),l=o?Pw:Kl(t),u=a?Pw:Kl(e);l=l==Aw?vc:l,u=u==Aw?vc:u;var c=l==vc,h=u==vc,d=l==u;if(d&&Xl(t)){if(!Xl(e))return!1;o=!0,c=!1}if(d&&!c)return s||(s=new tr),o||Y0(t)?$T(t,e,n,r,i,s):Q5(t,e,l,n,r,i,s);if(!(n&r$)){var f=c&&Ow.call(t,"__wrapped__"),p=h&&Ow.call(e,"__wrapped__");if(f||p){var m=f?t.value():t,g=p?e.value():e;return s||(s=new tr),i(m,g,n,r,s)}}return d?(s||(s=new tr),n$(t,e,n,r,i,s)):!1}function sy(t,e,n,r,i){return t===e?!0:t==null||e==null||!Dn(t)&&!Dn(e)?t!==t&&e!==e:s$(t,e,n,r,sy,i)}var o$=1,a$=2;function l$(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],u=t[l],c=a[1];if(o&&a[2]){if(u===void 0&&!(l in t))return!1}else{var h=new tr;if(r)var d=r(u,c,l,t,e,h);if(!(d===void 0?sy(c,u,o$|a$,r,h):d))return!1}}return!0}function BT(t){return t===t&&!pn(t)}function u$(t){for(var e=ks(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,BT(i)]}return e}function NT(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function c$(t){var e=u$(t);return e.length==1&&e[0][2]?NT(e[0][0],e[0][1]):function(n){return n===t||l$(n,t,e)}}function h$(t,e){return t!=null&&e in Object(t)}function d$(t,e,n){e=_T(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=Qd(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&V0(i)&&G0(o,i)&&(rt(t)||Vl(t)))}function f$(t,e){return t!=null&&d$(t,e,h$)}var p$=1,m$=2;function g$(t,e){return q0(t)&&BT(e)?NT(Qd(t),e):function(n){var r=jF(n,t);return r===void 0&&r===e?f$(n,t):sy(e,r,p$|m$)}}function v$(t){return function(e){return e==null?void 0:e[t]}}function y$(t){return function(e){return Z0(e,t)}}function b$(t){return q0(t)?v$(Qd(t)):y$(t)}function Fi(t){return typeof t=="function"?t:t==null?Cu:typeof t=="object"?rt(t)?g$(t[0],t[1]):c$(t):b$(t)}function x$(t,e,n,r){for(var i=-1,s=t==null?0:t.length;++i<s;){var o=t[i];e(r,o,n(o),t)}return r}function w$(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var _$=w$();const LT=_$;function E$(t,e){return t&&LT(t,e,ks)}function S$(t,e){return function(n,r){if(n==null)return n;if(!Mi(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var C$=S$(E$);const pa=C$;function T$(t,e,n,r){return pa(t,function(i,s,o){e(r,i,n(i),o)}),r}function A$(t,e){return function(n,r){var i=rt(n)?x$:T$,s=e?e():{};return i(n,t,Fi(r),s)}}var P$=function(){return lr.Date.now()};const Pp=P$;var O$="Expected a function",I$=Math.max,k$=Math.min;function UT(t,e,n){var r,i,s,o,a,l,u=0,c=!1,h=!1,d=!0;if(typeof t!="function")throw new TypeError(O$);e=yg(e)||0,pn(n)&&(c=!!n.leading,h="maxWait"in n,s=h?I$(yg(n.maxWait)||0,e):s,d="trailing"in n?!!n.trailing:d);function f(C){var T=r,A=i;return r=i=void 0,u=C,o=t.apply(A,T),o}function p(C){return u=C,a=setTimeout(v,e),c?f(C):o}function m(C){var T=C-l,A=C-u,k=e-T;return h?k$(k,s-A):k}function g(C){var T=C-l,A=C-u;return l===void 0||T>=e||T<0||h&&A>=s}function v(){var C=Pp();if(g(C))return b(C);a=setTimeout(v,m(C))}function b(C){return a=void 0,d&&r?f(C):(r=i=void 0,o)}function y(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function x(){return a===void 0?o:b(Pp())}function S(){var C=Pp(),T=g(C);if(r=arguments,i=this,l=C,T){if(a===void 0)return p(l);if(h)return clearTimeout(a),a=setTimeout(v,e),f(l)}return a===void 0&&(a=setTimeout(v,e)),o}return S.cancel=y,S.flush=x,S}function Eg(t,e,n){(n!==void 0&&!Tu(t[e],n)||n===void 0&&!(e in t))&&qd(t,e,n)}function Sg(t){return Dn(t)&&Mi(t)}function Cg(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function R$(t){return Au(t,Ou(t))}function M$(t,e,n,r,i,s,o){var a=Cg(t,n),l=Cg(e,n),u=o.get(l);if(u){Eg(t,n,u);return}var c=s?s(a,l,n+"",t,e,o):void 0,h=c===void 0;if(h){var d=rt(l),f=!d&&Xl(l),p=!d&&!f&&Y0(l);c=l,d||f||p?rt(a)?c=a:Sg(a)?c=uT(a):f?(h=!1,c=CT(l,!0)):p?(h=!1,c=IT(l,!0)):c=[]:qF(l)||Vl(l)?(c=a,Vl(a)?c=R$(a):(!pn(a)||br(a))&&(c=kT(l))):h=!1}h&&(o.set(l,c),i(c,l,r,s,o),o.delete(l)),Eg(t,n,c)}function jT(t,e,n,r,i){t!==e&&LT(e,function(s,o){if(i||(i=new tr),pn(s))M$(t,e,o,n,jT,r,i);else{var a=r?r(Cg(t,o),s,o+"",t,e,i):void 0;a===void 0&&(a=s),Eg(t,o,a)}},Ou)}function zT(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var F$=200;function D$(t,e,n,r){var i=-1,s=fT,o=!0,a=t.length,l=[],u=e.length;if(!a)return l;n&&(e=as(e,Pu(n))),r?(s=zT,o=!1):e.length>=F$&&(s=ry,o=!1,e=new Ko(e));e:for(;++i<a;){var c=t[i],h=n==null?c:n(c);if(c=r||c!==0?c:0,o&&h===h){for(var d=u;d--;)if(e[d]===h)continue e;l.push(c)}else s(e,h,r)||l.push(c)}return l}var $$=W0(function(t,e){return Sg(t)?D$(t,J0(e,1,Sg,!0)):[]});const HT=$$;function GT(t){return typeof t=="function"?t:Cu}function De(t,e){var n=rt(t)?cT:pa;return n(t,GT(e))}function B$(t,e){var n=[];return pa(t,function(r,i,s){e(r,i,s)&&n.push(r)}),n}function vn(t,e){var n=rt(t)?TT:B$;return n(t,Fi(e))}function N$(t){return function(e,n,r){var i=Object(e);if(!Mi(e)){var s=Fi(n);e=ks(e),n=function(a){return s(i[a],a,i)}}var o=t(e,n,r);return o>-1?i[s?e[o]:o]:void 0}}var L$=Math.max;function U$(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Yd(n);return i<0&&(i=L$(r+i,0)),hT(t,Fi(e),i)}var j$=N$(U$);const Ee=j$;function WT(t,e){var n=-1,r=Mi(t)?Array(t.length):[];return pa(t,function(i,s,o){r[++n]=e(i,s,o)}),r}function ge(t,e){var n=rt(t)?as:WT;return n(t,Fi(e))}var z$=Object.prototype,H$=z$.hasOwnProperty,G$=A$(function(t,e,n){H$.call(t,n)?t[n].push(e):qd(t,n,[e])});const W$=G$;var V$="[object String]";function VT(t){return typeof t=="string"||!rt(t)&&Dn(t)&&Zr(t)==V$}function X$(t,e){return as(e,function(n){return t[n]})}function XT(t){return t==null?[]:X$(t,ks(t))}var Y$=Math.max;function Iu(t,e,n,r){t=Mi(t)?t:XT(t),n=n&&!r?Yd(n):0;var i=t.length;return n<0&&(n=Y$(i+n,0)),VT(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&dT(t,e,n)>-1}var q$="[object Number]";function K$(t){return typeof t=="number"||Dn(t)&&Zr(t)==q$}function qn(t){return t===void 0}var Z$=c4(function(t,e,n){jT(t,e,n)});const qt=Z$;function Q$(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function J$(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=Yo(t),o=e!==void 0,a=e===null,l=e===e,u=Yo(e);if(!a&&!u&&!s&&t>e||s&&o&&l&&!a&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!u&&t<e||u&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}function eB(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var l=J$(i[r],s[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}function tB(t,e,n){e.length?e=as(e,function(s){return rt(s)?function(o){return Z0(o,s.length===1?s[0]:s)}:s}):e=[Cu];var r=-1;e=as(e,Pu(Fi));var i=WT(t,function(s,o,a){var l=as(e,function(u){return u(s)});return{criteria:l,index:++r,value:s}});return Q$(i,function(s,o){return eB(s,o,n)})}var nB=Math.floor,rB=Math.random;function iB(t,e){return t+nB(rB()*(e-t+1))}function sB(t,e,n,r,i){return i(t,function(s,o,a){n=r?(r=!1,s):e(n,s,o,a)}),n}function YT(t,e,n){var r=rt(t)?KF:sB,i=arguments.length<3;return r(t,Fi(e),n,i,pa)}function qT(t){var e=t.length;return e?t[iB(0,e-1)]:void 0}function oB(t){return qT(XT(t))}function Iw(t){var e=rt(t)?qT:oB;return e(t)}function aB(t,e){var n;return pa(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}function ku(t,e,n){var r=rt(t)?DT:aB;return n&&Zh(t,e,n)&&(e=void 0),r(t,Fi(e))}var lB=W0(function(t,e){if(t==null)return[];var n=e.length;return n>1&&Zh(t,e[0],e[1])?e=[]:n>2&&Zh(e[0],e[1],e[2])&&(e=[e[0]]),tB(t,J0(e,1),[])});const ma=lB;function uB(t,e,n){return t=wT(t),n=n==null?0:ZF(Yd(n),0,t.length),e=H0(e),t.slice(n,n+e.length)==e}var cB="Expected a function";function hB(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(cB);return pn(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),UT(t,e,{leading:r,maxWait:e,trailing:i})}var dB=9007199254740991,Op=4294967295,fB=Math.min;function Ru(t,e){if(t=Yd(t),t<1||t>dB)return[];var n=Op,r=fB(t,Op);e=GT(e),t-=Op;for(var i=mT(r,e);++n<t;)e(n);return i}var pB=1/0,mB=Do&&1/iy(new Do([,-0]))[1]==pB?function(t){return new Do(t)}:W3;const gB=mB;var vB=200;function yB(t,e,n){var r=-1,i=fT,s=t.length,o=!0,a=[],l=a;if(n)o=!1,i=zT;else if(s>=vB){var u=e?null:gB(t);if(u)return iy(u);o=!1,i=ry,l=new Ko}else l=e?[]:a;e:for(;++r<s;){var c=t[r],h=e?e(c):c;if(c=n||c!==0?c:0,o&&h===h){for(var d=l.length;d--;)if(l[d]===h)continue e;e&&l.push(h),a.push(c)}else i(l,h,n)||(l!==a&&l.push(h),a.push(c))}return a}function Jd(t){return t&&t.length?yB(t):[]}const Rs=_.createContext({});function bB(){const t=window.localStorage.getItem("dragon-build");return t?JSON.parse(t):[]}const xB=(t,e)=>{const{build:n,type:r}=e;let i=Ie(t);return r==="imported"?(i=n,i):t},wB=(t,e)=>{const{build:n,type:r}=e;let i=Ie(t);return r==="set"?(i=n,window.localStorage.setItem("dragon-build",JSON.stringify(i)),i):t},_B=({children:t})=>{const[e,n]=_.useReducer(wB,bB()),[r,i]=_.useReducer(xB,e==null?void 0:e.exportableBuild);return E(Rs.Provider,{value:{build:e,setBuild:n,savedBuild:r,setSavedBuild:i},children:t})},$t=_.createContext({});function EB(){const t=window.localStorage.getItem("dragon-abilities");return t?JSON.parse(t):[]}function SB(){const t=window.localStorage.getItem("dragon-ability-types");return t?JSON.parse(t):[]}function CB(){const t=window.localStorage.getItem("dragon-global-params");return t?JSON.parse(t):[]}const TB=(t,e)=>{const{targetId:n,index:r,param:i,params:s,type:o}=e;let a=Ie(t);if(o==="save")try{window.localStorage.setItem("dragon-global-params",JSON.stringify(a))}catch{}if(o==="add")return a=[...a,i],a;if(o==="set")return a=s,window.localStorage.setItem("dragon-global-params",JSON.stringify(a)),a;if(o==="update")return a=ge(a,l=>l.id===n?i:l),a;if(o==="remove"){const l=t.findIndex(c=>c.id===i.id);if(l<0)return t;const u=[...t];return u.splice(l,1),u}return t},AB=(t,e)=>{const{targetId:n,index:r,ability:i,abilities:s,type:o}=e;let a=Ie(t);if(o==="save")try{window.localStorage.setItem("dragon-abilities",JSON.stringify(a))}catch{}if(o==="add")return a=[...a,i],a;if(o==="set")return a=s,window.localStorage.setItem("dragon-abilities",JSON.stringify(a)),a;if(o==="update")return a=ge(a,l=>l.id===n?i:l),a;if(o==="remove"){const l=t.findIndex(c=>c.id===i.id);if(l<0)return t;const u=[...t];return u.splice(l,1),u}return t},PB=(t,e)=>{const{index:n,abilityType:r,abilityTypes:i,type:s}=e;let o=Ie(t);if(s==="save")try{window.localStorage.setItem("dragon-ability-types",JSON.stringify(o))}catch{}if(s==="add")return o=[...o,r],o;if(s==="set")return o=i,window.localStorage.setItem("dragon-ability-types",JSON.stringify(o)),o;if(s==="update")return o[n]=r,o;if(s==="remove"){const a=t.findIndex(u=>u.id===r.id);if(a<0)return t;const l=[...t];return l.splice(a,1),l}return t},OB=({children:t})=>{const[e,n]=_.useReducer(AB,EB()),[r,i]=_.useReducer(PB,SB()),[s,o]=_.useReducer(TB,CB());return E($t.Provider,{value:{abilities:e,setAbilities:n,abilityTypes:r,setAbilityTypes:i,globalParams:s,setGlobalParams:o},children:t})},ei=_.createContext({});function IB(){const t=window.localStorage.getItem("dragon-nodes");if(t)try{return JSON.parse(t)}catch{return[{}]}else return KT()}function KT(){return[{id:"initial-node",name:"Example Node",description:"Press the Edit button on the left to edit this node. Press the edit button on the right to add stats and abilities.",colors:{selected:"#eee",unavailable:"aaa"}}]}const kB=(t,e)=>{const{targetId:n,index:r,node:i,nodes:s,type:o}=e;let a=Ie(t);if(o==="reset")return a=KT(),window.localStorage.setItem("dragon-nodes",JSON.stringify(a)),a;if(o==="save")try{window.localStorage.setItem("dragon-nodes",JSON.stringify(a))}catch{}if(o==="add")return a=[...a,i],a;if(o==="set")return a=s,window.localStorage.setItem("dragon-nodes",JSON.stringify(a)),a;if(o==="update")return a=ge(a,l=>l.id===n?i:l),window.localStorage.setItem("dragon-nodes",JSON.stringify(a)),a;if(o==="remove"){const l=t.findIndex(c=>c.id===i.id);if(l<0)return t;let u=[...t];return u.splice(l,1),u=ge(vn(u,c=>c.id!==i.id),c=>{let h=c.requires;return c.requires===i.id&&(h=i==null?void 0:i.requires),{...c,requires:h}}),window.localStorage.setItem("dragon-nodes",JSON.stringify(a)),u}return t},RB=({children:t})=>{const[e,n]=_.useReducer(kB,IB()),[r,i]=_.useState(null),[s,o]=_.useState({acquired:{},selected:{},available:{}});return E(ei.Provider,{value:{nodes:e,setNodes:n,selectedNodeId:r,setSelectedNodeId:i,nodeMeta:s,setNodeMeta:o},children:t})};var O={},MB={get exports(){return O},set exports(t){O=t}},FB="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",DB=FB,$B=DB;function ZT(){}function QT(){}QT.resetWarningCache=ZT;var BB=function(){function t(r,i,s,o,a,l){if(l!==$B){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:QT,resetWarningCache:ZT};return n.PropTypes=n,n};MB.exports=BB();function Tg(){return Tg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tg.apply(this,arguments)}function NB(t,e){if(t==null)return{};var n=LB(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LB(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var oy=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=NB(t,["color","size"]);return w.createElement("svg",Tg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),w.createElement("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"}))});oy.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};oy.displayName="BookOpen";const UB=oy;function Ag(){return Ag=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ag.apply(this,arguments)}function jB(t,e){if(t==null)return{};var n=zB(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zB(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var ay=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=jB(t,["color","size"]);return w.createElement("svg",Ag({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),w.createElement("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"}))});ay.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};ay.displayName="Book";const HB=ay;function Pg(){return Pg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pg.apply(this,arguments)}function GB(t,e){if(t==null)return{};var n=WB(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WB(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var ly=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=GB(t,["color","size"]);return w.createElement("svg",Pg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"20 6 9 17 4 12"}))});ly.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};ly.displayName="Check";const VB=ly;function Og(){return Og=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Og.apply(this,arguments)}function XB(t,e){if(t==null)return{};var n=YB(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YB(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var uy=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=XB(t,["color","size"]);return w.createElement("svg",Og({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"6 9 12 15 18 9"}))});uy.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};uy.displayName="ChevronDown";const JT=uy;function Ig(){return Ig=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ig.apply(this,arguments)}function qB(t,e){if(t==null)return{};var n=KB(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function KB(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var cy=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=qB(t,["color","size"]);return w.createElement("svg",Ig({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"18 15 12 9 6 15"}))});cy.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};cy.displayName="ChevronUp";const eA=cy;function kg(){return kg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kg.apply(this,arguments)}function ZB(t,e){if(t==null)return{};var n=QB(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QB(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var hy=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=ZB(t,["color","size"]);return w.createElement("svg",kg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"7 13 12 18 17 13"}),w.createElement("polyline",{points:"7 6 12 11 17 6"}))});hy.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};hy.displayName="ChevronsDown";const tA=hy;function Rg(){return Rg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rg.apply(this,arguments)}function JB(t,e){if(t==null)return{};var n=eN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var dy=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=JB(t,["color","size"]);return w.createElement("svg",Rg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"11 17 6 12 11 7"}),w.createElement("polyline",{points:"18 17 13 12 18 7"}))});dy.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};dy.displayName="ChevronsLeft";const tN=dy;function Mg(){return Mg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mg.apply(this,arguments)}function nN(t,e){if(t==null)return{};var n=rN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var fy=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=nN(t,["color","size"]);return w.createElement("svg",Mg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"13 17 18 12 13 7"}),w.createElement("polyline",{points:"6 17 11 12 6 7"}))});fy.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};fy.displayName="ChevronsRight";const iN=fy;function Fg(){return Fg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fg.apply(this,arguments)}function sN(t,e){if(t==null)return{};var n=oN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var py=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=sN(t,["color","size"]);return w.createElement("svg",Fg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"17 11 12 6 7 11"}),w.createElement("polyline",{points:"17 18 12 13 7 18"}))});py.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};py.displayName="ChevronsUp";const nA=py;function Dg(){return Dg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dg.apply(this,arguments)}function aN(t,e){if(t==null)return{};var n=lN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var my=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=aN(t,["color","size"]);return w.createElement("svg",Dg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),w.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))});my.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};my.displayName="Copy";const uN=my;function $g(){return $g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$g.apply(this,arguments)}function cN(t,e){if(t==null)return{};var n=hN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var gy=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=cN(t,["color","size"]);return w.createElement("svg",$g({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("circle",{cx:"12",cy:"12",r:"10"}),w.createElement("circle",{cx:"12",cy:"12",r:"3"}))});gy.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};gy.displayName="Disc";const dN=gy;function Bg(){return Bg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bg.apply(this,arguments)}function fN(t,e){if(t==null)return{};var n=pN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var vy=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=fN(t,["color","size"]);return w.createElement("svg",Bg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),w.createElement("polyline",{points:"7 10 12 15 17 10"}),w.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"}))});vy.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};vy.displayName="Download";const Ng=vy;function Lg(){return Lg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lg.apply(this,arguments)}function mN(t,e){if(t==null)return{};var n=gN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var yy=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=mN(t,["color","size"]);return w.createElement("svg",Lg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),w.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))});yy.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};yy.displayName="Edit";const rA=yy;function Ug(){return Ug=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ug.apply(this,arguments)}function vN(t,e){if(t==null)return{};var n=yN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var by=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=vN(t,["color","size"]);return w.createElement("svg",Ug({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("circle",{cx:"12",cy:"12",r:"10"}),w.createElement("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),w.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}))});by.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};by.displayName="HelpCircle";const bN=by;function jg(){return jg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jg.apply(this,arguments)}function xN(t,e){if(t==null)return{};var n=wN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var xy=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=xN(t,["color","size"]);return w.createElement("svg",jg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),w.createElement("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}))});xy.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};xy.displayName="Lock";const _N=xy;function zg(){return zg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zg.apply(this,arguments)}function EN(t,e){if(t==null)return{};var n=SN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var wy=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=EN(t,["color","size"]);return w.createElement("svg",zg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),w.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))});wy.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};wy.displayName="MinusSquare";const CN=wy;function Hg(){return Hg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hg.apply(this,arguments)}function TN(t,e){if(t==null)return{};var n=AN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var _y=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=TN(t,["color","size"]);return w.createElement("svg",Hg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});_y.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};_y.displayName="Minus";const PN=_y;function Gg(){return Gg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gg.apply(this,arguments)}function ON(t,e){if(t==null)return{};var n=IN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Ey=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=ON(t,["color","size"]);return w.createElement("svg",Gg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}))});Ey.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Ey.displayName="Moon";const kN=Ey;function Wg(){return Wg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wg.apply(this,arguments)}function RN(t,e){if(t==null)return{};var n=MN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Sy=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=RN(t,["color","size"]);return w.createElement("svg",Wg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),w.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),w.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))});Sy.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Sy.displayName="PlusSquare";const or=Sy;function Vg(){return Vg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vg.apply(this,arguments)}function FN(t,e){if(t==null)return{};var n=DN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Cy=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=FN(t,["color","size"]);return w.createElement("svg",Vg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),w.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});Cy.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Cy.displayName="Plus";const iA=Cy;function Xg(){return Xg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xg.apply(this,arguments)}function $N(t,e){if(t==null)return{};var n=BN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Ty=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=$N(t,["color","size"]);return w.createElement("svg",Xg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"1 4 1 10 7 10"}),w.createElement("polyline",{points:"23 20 23 14 17 14"}),w.createElement("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"}))});Ty.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Ty.displayName="RefreshCcw";const NN=Ty;function Yg(){return Yg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yg.apply(this,arguments)}function LN(t,e){if(t==null)return{};var n=UN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Ay=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=LN(t,["color","size"]);return w.createElement("svg",Yg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"1 4 1 10 7 10"}),w.createElement("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"}))});Ay.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Ay.displayName="RotateCcw";const sA=Ay;function qg(){return qg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qg.apply(this,arguments)}function jN(t,e){if(t==null)return{};var n=zN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Py=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=jN(t,["color","size"]);return w.createElement("svg",qg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),w.createElement("polyline",{points:"17 21 17 13 7 13 7 21"}),w.createElement("polyline",{points:"7 3 7 8 15 8"}))});Py.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Py.displayName="Save";const Zo=Py;function Kg(){return Kg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kg.apply(this,arguments)}function HN(t,e){if(t==null)return{};var n=GN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Oy=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=HN(t,["color","size"]);return w.createElement("svg",Kg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}))});Oy.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Oy.displayName="Shield";const WN=Oy;function Zg(){return Zg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zg.apply(this,arguments)}function VN(t,e){if(t==null)return{};var n=XN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Iy=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=VN(t,["color","size"]);return w.createElement("svg",Zg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("line",{x1:"4",y1:"21",x2:"4",y2:"14"}),w.createElement("line",{x1:"4",y1:"10",x2:"4",y2:"3"}),w.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"12"}),w.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"3"}),w.createElement("line",{x1:"20",y1:"21",x2:"20",y2:"16"}),w.createElement("line",{x1:"20",y1:"12",x2:"20",y2:"3"}),w.createElement("line",{x1:"1",y1:"14",x2:"7",y2:"14"}),w.createElement("line",{x1:"9",y1:"8",x2:"15",y2:"8"}),w.createElement("line",{x1:"17",y1:"16",x2:"23",y2:"16"}))});Iy.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Iy.displayName="Sliders";const YN=Iy;function Qg(){return Qg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qg.apply(this,arguments)}function qN(t,e){if(t==null)return{};var n=KN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function KN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var ky=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=qN(t,["color","size"]);return w.createElement("svg",Qg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("circle",{cx:"12",cy:"12",r:"5"}),w.createElement("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),w.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),w.createElement("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),w.createElement("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),w.createElement("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),w.createElement("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),w.createElement("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),w.createElement("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"}))});ky.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};ky.displayName="Sun";const ZN=ky;function Jg(){return Jg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jg.apply(this,arguments)}function QN(t,e){if(t==null)return{};var n=JN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Ry=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=QN(t,["color","size"]);return w.createElement("svg",Jg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"3 6 5 6 21 6"}),w.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),w.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),w.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}))});Ry.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Ry.displayName="Trash2";const ga=Ry;function ev(){return ev=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ev.apply(this,arguments)}function eL(t,e){if(t==null)return{};var n=tL(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tL(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var My=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=eL(t,["color","size"]);return w.createElement("svg",ev({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("polyline",{points:"3 6 5 6 21 6"}),w.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}))});My.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};My.displayName="Trash";const nL=My;function tv(){return tv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tv.apply(this,arguments)}function rL(t,e){if(t==null)return{};var n=iL(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iL(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Fy=_.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=t.size,s=i===void 0?24:i,o=rL(t,["color","size"]);return w.createElement("svg",tv({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),w.createElement("circle",{cx:"12",cy:"12",r:"10"}),w.createElement("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),w.createElement("line",{x1:"9",y1:"9",x2:"15",y2:"15"}))});Fy.propTypes={color:O.string,size:O.oneOfType([O.string,O.number])};Fy.displayName="XCircle";const oA=Fy,Mu=_.createContext({});function sL(){const t=window.localStorage.getItem("dragon-tagColors");if(t)try{return JSON.parse(t)}catch{return{}}else return{}}const oL=(t,e)=>{const{tag:n,color:r,type:i,colors:s}=e;let o=Ie(t);return i==="add"?(o[n]=r,o):i==="set"?(o=s||{},window.localStorage.setItem("dragon-tagColors",JSON.stringify(o)),s):(i==="save"&&window.localStorage.setItem("dragon-tagColors",JSON.stringify(o)),t)},aL=({children:t})=>{const[e,n]=_.useReducer(oL,sL());return E(Mu.Provider,{value:{tagColors:e,setTagColors:n},children:t})};function ot({type:t="default",color:e="white",children:n,clicked:r,noPadding:i=!1,disabled:s=!1}){const o=i?{padding:0}:{};return E("button",{className:"smol-button "+t+" "+e+" "+(s?"disabled":""),onClick:s?()=>{}:r,style:o,children:n})}const Fu=_.createContext({});function lL(){const t=window.localStorage.getItem("dragon-theme");return t?JSON.parse(t):[]}const uL=(t,e)=>{const{theme:n,type:r}=e;let i=Ie(t);return r==="set"?(i=n,window.localStorage.setItem("dragon-theme",JSON.stringify(i)),i):t},cL=({children:t})=>{const[e,n]=_.useReducer(uL,lL());return E(Fu.Provider,{value:{theme:e,setTheme:n},children:t})};function hL(t,e,n,r,i,s){let o={};const a=i||n;return o.borderColor=a,e&&(o.backgroundColor=a,o.fontWeight=500),r&&(o.borderColor="transparent",o.backgroundColor=a,o.color="#222",o.fontWeight=600,o.borderRadius=12),br(t)&&(o.cursor="pointer",o.paddingRight="32px"),s==="light"&&(o.borderWidth=2,o.color="#333"),o}function nv({label:t,clicked:e,selected:n,children:r,emphasize:i,color:s}){const{tagColors:o}=_.useContext(Mu),{theme:a}=_.useContext(Fu);return j("span",{onClick:u=>{br(e)&&e(t)},className:"stat-tag",style:hL(e,n,o&&o[t]||"#fff",i,s,a),children:[t," ",e&&E("div",{className:"check",children:n?E(VB,{size:14}):""}),r&&r]})}function ls({type:t="default",color:e="white",children:n,clicked:r,disabled:i=!1}){return E("button",{className:"big-button "+t+" "+e+" "+(i?"disabled":""),onClick:i?()=>{}:r,children:n})}function Dy({value:t,valueChanged:e,className:n="",minWidth:r=48,min:i=void 0,max:s=void 0}){const[o,a]=_.useState(+t),[l,u]=_.useState(r),c=_.useRef({offsetWidth:0});_.useEffect(()=>{var f;const d=((f=c==null?void 0:c.current)==null?void 0:f.offsetWidth)+24;u(d>r?d:r)},[o]);const h=d=>{a(+d.target.value),e(+d.target.value)};return j("div",{className:"fancy-text-input form-control "+n,children:[E("span",{className:"hidden-text",ref:c,children:o}),E("input",{min:i,max:s,value:o,type:"number",style:{width:l},onChange:h})]})}var rv={},dL={get exports(){return rv},set exports(t){rv=t}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(dL);const Zl=rv;function Ar({value:t,valueChanged:e,className:n,blur:r,minWidth:i=48,placeholder:s="",fullWidth:o=!1,autoFocus:a=void 0,unsavedData:l=!1}){const[u,c]=_.useState(t),[h,d]=_.useState(o?"100%":i),f=_.useRef({offsetWidth:0}),p=_.useRef(null);_.useEffect(()=>{var g;if(!qn(u)&&!o){const v=((g=f==null?void 0:f.current)==null?void 0:g.clientWidth)+24;d(v>i?v:i)}},[u]),_.useEffect(()=>{c(t)},[t]),_.useEffect(()=>{var g;!qn(a)&&a&&((g=p.current)==null||g.focus())},[a]);const m=g=>{e(g.target.value)};return j("div",{className:"fancy-text-input form-control "+n,children:[E("span",{className:"hidden-text",ref:f,children:u}),E("input",{className:Zl({unsavedData:l}),ref:p,placeholder:s,onBlur:r,value:u,type:"text",style:{width:h},onChange:m})]})}function fL({params:t,paramsChanged:e}){const[n,r]=_.useState(t);_.useEffect(()=>{r(t)},[t]);const i=(l,u)=>{let c=Ie(n);c[u].name=l,e(c)},s=(l,u)=>{let c=Ie(n);c[u].value=l,e(c)},o=()=>{e([...t,{name:"",value:0}])},a=l=>{let u=Ie(n);u.splice(l,1),e(u)};return j("div",{className:"param-editor",children:[n&&ge(n,(l,u)=>j("div",{className:"param-line",children:[E(ot,{color:"danger",clicked:()=>a(u),children:E(ga,{size:"18"})}),E(Ar,{minWidth:120,placeholder:"name",className:"param-input",value:l.name,valueChanged:c=>i(c,u)}),E(Dy,{className:"param-input",value:l.value,valueChanged:c=>s(c,u)})]})),E("div",{className:"add-button",children:j(ls,{disabled:ku(n,{name:""}),color:"theme",clicked:o,children:["Add Param ",E(or,{size:20})]})})]})}var Tn={},Du={},pL=typeof Dr=="object"&&Dr&&Dr.Object===Object&&Dr,aA=pL,mL=aA,gL=typeof self=="object"&&self&&self.Object===Object&&self,vL=mL||gL||Function("return this")(),Pr=vL,yL=Pr,bL=yL.Symbol,$u=bL,kw=$u,lA=Object.prototype,xL=lA.hasOwnProperty,wL=lA.toString,La=kw?kw.toStringTag:void 0;function _L(t){var e=xL.call(t,La),n=t[La];try{t[La]=void 0;var r=!0}catch{}var i=wL.call(t);return r&&(e?t[La]=n:delete t[La]),i}var EL=_L,SL=Object.prototype,CL=SL.toString;function TL(t){return CL.call(t)}var AL=TL,Rw=$u,PL=EL,OL=AL,IL="[object Null]",kL="[object Undefined]",Mw=Rw?Rw.toStringTag:void 0;function RL(t){return t==null?t===void 0?kL:IL:Mw&&Mw in Object(t)?PL(t):OL(t)}var Ms=RL,ML=Array.isArray,ur=ML;function FL(t){return t!=null&&typeof t=="object"}var ti=FL,DL=Ms,$L=ur,BL=ti,NL="[object String]";function LL(t){return typeof t=="string"||!$L(t)&&BL(t)&&DL(t)==NL}var UL=LL;function jL(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var zL=jL,HL=zL,GL=HL(),WL=GL;function VL(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var XL=VL,YL=Ms,qL=ti,KL="[object Arguments]";function ZL(t){return qL(t)&&YL(t)==KL}var QL=ZL,Fw=QL,JL=ti,uA=Object.prototype,e6=uA.hasOwnProperty,t6=uA.propertyIsEnumerable,n6=Fw(function(){return arguments}())?Fw:function(t){return JL(t)&&e6.call(t,"callee")&&!t6.call(t,"callee")},cA=n6,Qo={},r6={get exports(){return Qo},set exports(t){Qo=t}};function i6(){return!1}var s6=i6;(function(t,e){var n=Pr,r=s6,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(r6,Qo);var o6=9007199254740991,a6=/^(?:0|[1-9]\d*)$/;function l6(t,e){var n=typeof t;return e=e??o6,!!e&&(n=="number"||n!="symbol"&&a6.test(t))&&t>-1&&t%1==0&&t<e}var hA=l6,u6=9007199254740991;function c6(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=u6}var $y=c6,h6=Ms,d6=$y,f6=ti,p6="[object Arguments]",m6="[object Array]",g6="[object Boolean]",v6="[object Date]",y6="[object Error]",b6="[object Function]",x6="[object Map]",w6="[object Number]",_6="[object Object]",E6="[object RegExp]",S6="[object Set]",C6="[object String]",T6="[object WeakMap]",A6="[object ArrayBuffer]",P6="[object DataView]",O6="[object Float32Array]",I6="[object Float64Array]",k6="[object Int8Array]",R6="[object Int16Array]",M6="[object Int32Array]",F6="[object Uint8Array]",D6="[object Uint8ClampedArray]",$6="[object Uint16Array]",B6="[object Uint32Array]",Le={};Le[O6]=Le[I6]=Le[k6]=Le[R6]=Le[M6]=Le[F6]=Le[D6]=Le[$6]=Le[B6]=!0;Le[p6]=Le[m6]=Le[A6]=Le[g6]=Le[P6]=Le[v6]=Le[y6]=Le[b6]=Le[x6]=Le[w6]=Le[_6]=Le[E6]=Le[S6]=Le[C6]=Le[T6]=!1;function N6(t){return f6(t)&&d6(t.length)&&!!Le[h6(t)]}var L6=N6;function U6(t){return function(e){return t(e)}}var By=U6,Jo={},j6={get exports(){return Jo},set exports(t){Jo=t}};(function(t,e){var n=aA,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(j6,Jo);var z6=L6,H6=By,Dw=Jo,$w=Dw&&Dw.isTypedArray,G6=$w?H6($w):z6,dA=G6,W6=XL,V6=cA,X6=ur,Y6=Qo,q6=hA,K6=dA,Z6=Object.prototype,Q6=Z6.hasOwnProperty;function J6(t,e){var n=X6(t),r=!n&&V6(t),i=!n&&!r&&Y6(t),s=!n&&!r&&!i&&K6(t),o=n||r||i||s,a=o?W6(t.length,String):[],l=a.length;for(var u in t)(e||Q6.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||q6(u,l)))&&a.push(u);return a}var fA=J6,e8=Object.prototype;function t8(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||e8;return t===n}var Ny=t8;function n8(t,e){return function(n){return t(e(n))}}var pA=n8,r8=pA,i8=r8(Object.keys,Object),s8=i8,o8=Ny,a8=s8,l8=Object.prototype,u8=l8.hasOwnProperty;function c8(t){if(!o8(t))return a8(t);var e=[];for(var n in Object(t))u8.call(t,n)&&n!="constructor"&&e.push(n);return e}var h8=c8;function d8(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var va=d8,f8=Ms,p8=va,m8="[object AsyncFunction]",g8="[object Function]",v8="[object GeneratorFunction]",y8="[object Proxy]";function b8(t){if(!p8(t))return!1;var e=f8(t);return e==g8||e==v8||e==m8||e==y8}var mA=b8,x8=mA,w8=$y;function _8(t){return t!=null&&w8(t.length)&&!x8(t)}var ef=_8,E8=fA,S8=h8,C8=ef;function T8(t){return C8(t)?E8(t):S8(t)}var Bu=T8,A8=WL,P8=Bu;function O8(t,e){return t&&A8(t,e,P8)}var gA=O8;function I8(t){return t}var vA=I8,k8=vA;function R8(t){return typeof t=="function"?t:k8}var M8=R8,F8=gA,D8=M8;function $8(t,e){return t&&F8(t,D8(e))}var Ly=$8,B8=pA,N8=B8(Object.getPrototypeOf,Object),Uy=N8,L8=Ms,U8=Uy,j8=ti,z8="[object Object]",H8=Function.prototype,G8=Object.prototype,yA=H8.toString,W8=G8.hasOwnProperty,V8=yA.call(Object);function X8(t){if(!j8(t)||L8(t)!=z8)return!1;var e=U8(t);if(e===null)return!0;var n=W8.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&yA.call(n)==V8}var Y8=X8;function q8(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var bA=q8;function K8(){this.__data__=[],this.size=0}var Z8=K8;function Q8(t,e){return t===e||t!==t&&e!==e}var jy=Q8,J8=jy;function eU(t,e){for(var n=t.length;n--;)if(J8(t[n][0],e))return n;return-1}var tf=eU,tU=tf,nU=Array.prototype,rU=nU.splice;function iU(t){var e=this.__data__,n=tU(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():rU.call(e,n,1),--this.size,!0}var sU=iU,oU=tf;function aU(t){var e=this.__data__,n=oU(e,t);return n<0?void 0:e[n][1]}var lU=aU,uU=tf;function cU(t){return uU(this.__data__,t)>-1}var hU=cU,dU=tf;function fU(t,e){var n=this.__data__,r=dU(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var pU=fU,mU=Z8,gU=sU,vU=lU,yU=hU,bU=pU;function ya(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ya.prototype.clear=mU;ya.prototype.delete=gU;ya.prototype.get=vU;ya.prototype.has=yU;ya.prototype.set=bU;var nf=ya,xU=nf;function wU(){this.__data__=new xU,this.size=0}var _U=wU;function EU(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var SU=EU;function CU(t){return this.__data__.get(t)}var TU=CU;function AU(t){return this.__data__.has(t)}var PU=AU,OU=Pr,IU=OU["__core-js_shared__"],kU=IU,Ip=kU,Bw=function(){var t=/[^.]+$/.exec(Ip&&Ip.keys&&Ip.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function RU(t){return!!Bw&&Bw in t}var MU=RU,FU=Function.prototype,DU=FU.toString;function $U(t){if(t!=null){try{return DU.call(t)}catch{}try{return t+""}catch{}}return""}var xA=$U,BU=mA,NU=MU,LU=va,UU=xA,jU=/[\\^$.*+?()[\]{}|]/g,zU=/^\[object .+?Constructor\]$/,HU=Function.prototype,GU=Object.prototype,WU=HU.toString,VU=GU.hasOwnProperty,XU=RegExp("^"+WU.call(VU).replace(jU,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function YU(t){if(!LU(t)||NU(t))return!1;var e=BU(t)?XU:zU;return e.test(UU(t))}var qU=YU;function KU(t,e){return t==null?void 0:t[e]}var ZU=KU,QU=qU,JU=ZU;function e7(t,e){var n=JU(t,e);return QU(n)?n:void 0}var Fs=e7,t7=Fs,n7=Pr,r7=t7(n7,"Map"),zy=r7,i7=Fs,s7=i7(Object,"create"),rf=s7,Nw=rf;function o7(){this.__data__=Nw?Nw(null):{},this.size=0}var a7=o7;function l7(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var u7=l7,c7=rf,h7="__lodash_hash_undefined__",d7=Object.prototype,f7=d7.hasOwnProperty;function p7(t){var e=this.__data__;if(c7){var n=e[t];return n===h7?void 0:n}return f7.call(e,t)?e[t]:void 0}var m7=p7,g7=rf,v7=Object.prototype,y7=v7.hasOwnProperty;function b7(t){var e=this.__data__;return g7?e[t]!==void 0:y7.call(e,t)}var x7=b7,w7=rf,_7="__lodash_hash_undefined__";function E7(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=w7&&e===void 0?_7:e,this}var S7=E7,C7=a7,T7=u7,A7=m7,P7=x7,O7=S7;function ba(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ba.prototype.clear=C7;ba.prototype.delete=T7;ba.prototype.get=A7;ba.prototype.has=P7;ba.prototype.set=O7;var I7=ba,Lw=I7,k7=nf,R7=zy;function M7(){this.size=0,this.__data__={hash:new Lw,map:new(R7||k7),string:new Lw}}var F7=M7;function D7(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var $7=D7,B7=$7;function N7(t,e){var n=t.__data__;return B7(e)?n[typeof e=="string"?"string":"hash"]:n.map}var sf=N7,L7=sf;function U7(t){var e=L7(this,t).delete(t);return this.size-=e?1:0,e}var j7=U7,z7=sf;function H7(t){return z7(this,t).get(t)}var G7=H7,W7=sf;function V7(t){return W7(this,t).has(t)}var X7=V7,Y7=sf;function q7(t,e){var n=Y7(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var K7=q7,Z7=F7,Q7=j7,J7=G7,ej=X7,tj=K7;function xa(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}xa.prototype.clear=Z7;xa.prototype.delete=Q7;xa.prototype.get=J7;xa.prototype.has=ej;xa.prototype.set=tj;var Hy=xa,nj=nf,rj=zy,ij=Hy,sj=200;function oj(t,e){var n=this.__data__;if(n instanceof nj){var r=n.__data__;if(!rj||r.length<sj-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ij(r)}return n.set(t,e),this.size=n.size,this}var aj=oj,lj=nf,uj=_U,cj=SU,hj=TU,dj=PU,fj=aj;function wa(t){var e=this.__data__=new lj(t);this.size=e.size}wa.prototype.clear=uj;wa.prototype.delete=cj;wa.prototype.get=hj;wa.prototype.has=dj;wa.prototype.set=fj;var Gy=wa,pj="__lodash_hash_undefined__";function mj(t){return this.__data__.set(t,pj),this}var gj=mj;function vj(t){return this.__data__.has(t)}var yj=vj,bj=Hy,xj=gj,wj=yj;function Jh(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new bj;++e<n;)this.add(t[e])}Jh.prototype.add=Jh.prototype.push=xj;Jh.prototype.has=wj;var _j=Jh;function Ej(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Sj=Ej;function Cj(t,e){return t.has(e)}var Tj=Cj,Aj=_j,Pj=Sj,Oj=Tj,Ij=1,kj=2;function Rj(t,e,n,r,i,s){var o=n&Ij,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(t),c=s.get(e);if(u&&c)return u==e&&c==t;var h=-1,d=!0,f=n&kj?new Aj:void 0;for(s.set(t,e),s.set(e,t);++h<a;){var p=t[h],m=e[h];if(r)var g=o?r(m,p,h,e,t,s):r(p,m,h,t,e,s);if(g!==void 0){if(g)continue;d=!1;break}if(f){if(!Pj(e,function(v,b){if(!Oj(f,b)&&(p===v||i(p,v,n,r,s)))return f.push(b)})){d=!1;break}}else if(!(p===m||i(p,m,n,r,s))){d=!1;break}}return s.delete(t),s.delete(e),d}var wA=Rj,Mj=Pr,Fj=Mj.Uint8Array,_A=Fj;function Dj(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var $j=Dj;function Bj(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Nj=Bj,Uw=$u,jw=_A,Lj=jy,Uj=wA,jj=$j,zj=Nj,Hj=1,Gj=2,Wj="[object Boolean]",Vj="[object Date]",Xj="[object Error]",Yj="[object Map]",qj="[object Number]",Kj="[object RegExp]",Zj="[object Set]",Qj="[object String]",Jj="[object Symbol]",ez="[object ArrayBuffer]",tz="[object DataView]",zw=Uw?Uw.prototype:void 0,kp=zw?zw.valueOf:void 0;function nz(t,e,n,r,i,s,o){switch(n){case tz:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ez:return!(t.byteLength!=e.byteLength||!s(new jw(t),new jw(e)));case Wj:case Vj:case qj:return Lj(+t,+e);case Xj:return t.name==e.name&&t.message==e.message;case Kj:case Qj:return t==e+"";case Yj:var a=jj;case Zj:var l=r&Hj;if(a||(a=zj),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=Gj,o.set(t,e);var c=Uj(a(t),a(e),r,i,s,o);return o.delete(t),c;case Jj:if(kp)return kp.call(t)==kp.call(e)}return!1}var rz=nz;function iz(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var EA=iz,sz=EA,oz=ur;function az(t,e,n){var r=e(t);return oz(t)?r:sz(r,n(t))}var SA=az;function lz(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var uz=lz;function cz(){return[]}var CA=cz,hz=uz,dz=CA,fz=Object.prototype,pz=fz.propertyIsEnumerable,Hw=Object.getOwnPropertySymbols,mz=Hw?function(t){return t==null?[]:(t=Object(t),hz(Hw(t),function(e){return pz.call(t,e)}))}:dz,Wy=mz,gz=SA,vz=Wy,yz=Bu;function bz(t){return gz(t,yz,vz)}var TA=bz,Gw=TA,xz=1,wz=Object.prototype,_z=wz.hasOwnProperty;function Ez(t,e,n,r,i,s){var o=n&xz,a=Gw(t),l=a.length,u=Gw(e),c=u.length;if(l!=c&&!o)return!1;for(var h=l;h--;){var d=a[h];if(!(o?d in e:_z.call(e,d)))return!1}var f=s.get(t),p=s.get(e);if(f&&p)return f==e&&p==t;var m=!0;s.set(t,e),s.set(e,t);for(var g=o;++h<l;){d=a[h];var v=t[d],b=e[d];if(r)var y=o?r(b,v,d,e,t,s):r(v,b,d,t,e,s);if(!(y===void 0?v===b||i(v,b,n,r,s):y)){m=!1;break}g||(g=d=="constructor")}if(m&&!g){var x=t.constructor,S=e.constructor;x!=S&&"constructor"in t&&"constructor"in e&&!(typeof x=="function"&&x instanceof x&&typeof S=="function"&&S instanceof S)&&(m=!1)}return s.delete(t),s.delete(e),m}var Sz=Ez,Cz=Fs,Tz=Pr,Az=Cz(Tz,"DataView"),Pz=Az,Oz=Fs,Iz=Pr,kz=Oz(Iz,"Promise"),Rz=kz,Mz=Fs,Fz=Pr,Dz=Mz(Fz,"Set"),$z=Dz,Bz=Fs,Nz=Pr,Lz=Bz(Nz,"WeakMap"),Uz=Lz,iv=Pz,sv=zy,ov=Rz,av=$z,lv=Uz,AA=Ms,_a=xA,Ww="[object Map]",jz="[object Object]",Vw="[object Promise]",Xw="[object Set]",Yw="[object WeakMap]",qw="[object DataView]",zz=_a(iv),Hz=_a(sv),Gz=_a(ov),Wz=_a(av),Vz=_a(lv),Xi=AA;(iv&&Xi(new iv(new ArrayBuffer(1)))!=qw||sv&&Xi(new sv)!=Ww||ov&&Xi(ov.resolve())!=Vw||av&&Xi(new av)!=Xw||lv&&Xi(new lv)!=Yw)&&(Xi=function(t){var e=AA(t),n=e==jz?t.constructor:void 0,r=n?_a(n):"";if(r)switch(r){case zz:return qw;case Hz:return Ww;case Gz:return Vw;case Wz:return Xw;case Vz:return Yw}return e});var of=Xi,Rp=Gy,Xz=wA,Yz=rz,qz=Sz,Kw=of,Zw=ur,Qw=Qo,Kz=dA,Zz=1,Jw="[object Arguments]",e_="[object Array]",yc="[object Object]",Qz=Object.prototype,t_=Qz.hasOwnProperty;function Jz(t,e,n,r,i,s){var o=Zw(t),a=Zw(e),l=o?e_:Kw(t),u=a?e_:Kw(e);l=l==Jw?yc:l,u=u==Jw?yc:u;var c=l==yc,h=u==yc,d=l==u;if(d&&Qw(t)){if(!Qw(e))return!1;o=!0,c=!1}if(d&&!c)return s||(s=new Rp),o||Kz(t)?Xz(t,e,n,r,i,s):Yz(t,e,l,n,r,i,s);if(!(n&Zz)){var f=c&&t_.call(t,"__wrapped__"),p=h&&t_.call(e,"__wrapped__");if(f||p){var m=f?t.value():t,g=p?e.value():e;return s||(s=new Rp),i(m,g,n,r,s)}}return d?(s||(s=new Rp),qz(t,e,n,r,i,s)):!1}var eH=Jz,tH=eH,n_=ti;function PA(t,e,n,r,i){return t===e?!0:t==null||e==null||!n_(t)&&!n_(e)?t!==t&&e!==e:tH(t,e,n,r,PA,i)}var OA=PA,nH=Gy,rH=OA,iH=1,sH=2;function oH(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],u=t[l],c=a[1];if(o&&a[2]){if(u===void 0&&!(l in t))return!1}else{var h=new nH;if(r)var d=r(u,c,l,t,e,h);if(!(d===void 0?rH(c,u,iH|sH,r,h):d))return!1}}return!0}var aH=oH,lH=va;function uH(t){return t===t&&!lH(t)}var IA=uH,cH=IA,hH=Bu;function dH(t){for(var e=hH(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,cH(i)]}return e}var fH=dH;function pH(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var kA=pH,mH=aH,gH=fH,vH=kA;function yH(t){var e=gH(t);return e.length==1&&e[0][2]?vH(e[0][0],e[0][1]):function(n){return n===t||mH(n,t,e)}}var bH=yH,xH=Ms,wH=ti,_H="[object Symbol]";function EH(t){return typeof t=="symbol"||wH(t)&&xH(t)==_H}var Vy=EH,SH=ur,CH=Vy,TH=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,AH=/^\w*$/;function PH(t,e){if(SH(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||CH(t)?!0:AH.test(t)||!TH.test(t)||e!=null&&t in Object(e)}var Xy=PH,RA=Hy,OH="Expected a function";function Yy(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(OH);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Yy.Cache||RA),n}Yy.Cache=RA;var IH=Yy,kH=IH,RH=500;function MH(t){var e=kH(t,function(r){return n.size===RH&&n.clear(),r}),n=e.cache;return e}var FH=MH,DH=FH,$H=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,BH=/\\(\\)?/g,NH=DH(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace($H,function(n,r,i,s){e.push(i?s.replace(BH,"$1"):r||n)}),e}),LH=NH,r_=$u,UH=bA,jH=ur,zH=Vy,HH=1/0,i_=r_?r_.prototype:void 0,s_=i_?i_.toString:void 0;function MA(t){if(typeof t=="string")return t;if(jH(t))return UH(t,MA)+"";if(zH(t))return s_?s_.call(t):"";var e=t+"";return e=="0"&&1/t==-HH?"-0":e}var GH=MA,WH=GH;function VH(t){return t==null?"":WH(t)}var XH=VH,YH=ur,qH=Xy,KH=LH,ZH=XH;function QH(t,e){return YH(t)?t:qH(t,e)?[t]:KH(ZH(t))}var FA=QH,JH=Vy,e9=1/0;function t9(t){if(typeof t=="string"||JH(t))return t;var e=t+"";return e=="0"&&1/t==-e9?"-0":e}var af=t9,n9=FA,r9=af;function i9(t,e){e=n9(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[r9(e[n++])];return n&&n==r?t:void 0}var DA=i9,s9=DA;function o9(t,e,n){var r=t==null?void 0:s9(t,e);return r===void 0?n:r}var a9=o9;function l9(t,e){return t!=null&&e in Object(t)}var u9=l9,c9=FA,h9=cA,d9=ur,f9=hA,p9=$y,m9=af;function g9(t,e,n){e=c9(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=m9(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&p9(i)&&f9(o,i)&&(d9(t)||h9(t)))}var v9=g9,y9=u9,b9=v9;function x9(t,e){return t!=null&&b9(t,e,y9)}var w9=x9,_9=OA,E9=a9,S9=w9,C9=Xy,T9=IA,A9=kA,P9=af,O9=1,I9=2;function k9(t,e){return C9(t)&&T9(e)?A9(P9(t),e):function(n){var r=E9(n,t);return r===void 0&&r===e?S9(n,t):_9(e,r,O9|I9)}}var R9=k9;function M9(t){return function(e){return e==null?void 0:e[t]}}var F9=M9,D9=DA;function $9(t){return function(e){return D9(e,t)}}var B9=$9,N9=F9,L9=B9,U9=Xy,j9=af;function z9(t){return U9(t)?N9(j9(t)):L9(t)}var H9=z9,G9=bH,W9=R9,V9=vA,X9=ur,Y9=H9;function q9(t){return typeof t=="function"?t:t==null?V9:typeof t=="object"?X9(t)?W9(t[0],t[1]):G9(t):Y9(t)}var K9=q9,Z9=ef;function Q9(t,e){return function(n,r){if(n==null)return n;if(!Z9(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var J9=Q9,eG=gA,tG=J9,nG=tG(eG),rG=nG,iG=rG,sG=ef;function oG(t,e){var n=-1,r=sG(t)?Array(t.length):[];return iG(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var aG=oG,lG=bA,uG=K9,cG=aG,hG=ur;function dG(t,e){var n=hG(t)?lG:cG;return n(t,uG(e))}var fG=dG;Object.defineProperty(Du,"__esModule",{value:!0});Du.flattenNames=void 0;var pG=UL,mG=lf(pG),gG=Ly,vG=lf(gG),yG=Y8,bG=lf(yG),xG=fG,wG=lf(xG);function lf(t){return t&&t.__esModule?t:{default:t}}var _G=Du.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,wG.default)(e,function(r){Array.isArray(r)?t(r).map(function(i){return n.push(i)}):(0,bG.default)(r)?(0,vG.default)(r,function(i,s){i===!0&&n.push(s),n.push(s+"-"+i)}):(0,mG.default)(r)&&n.push(r)}),n};Du.default=_G;var Nu={};function EG(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var SG=EG,CG=Fs,TG=function(){try{var t=CG(Object,"defineProperty");return t({},"",{}),t}catch{}}(),AG=TG,o_=AG;function PG(t,e,n){e=="__proto__"&&o_?o_(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var $A=PG,OG=$A,IG=jy,kG=Object.prototype,RG=kG.hasOwnProperty;function MG(t,e,n){var r=t[e];(!(RG.call(t,e)&&IG(r,n))||n===void 0&&!(e in t))&&OG(t,e,n)}var BA=MG,FG=BA,DG=$A;function $G(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?DG(n,a,l):FG(n,a,l)}return n}var uf=$G,BG=uf,NG=Bu;function LG(t,e){return t&&BG(e,NG(e),t)}var UG=LG;function jG(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var zG=jG,HG=va,GG=Ny,WG=zG,VG=Object.prototype,XG=VG.hasOwnProperty;function YG(t){if(!HG(t))return WG(t);var e=GG(t),n=[];for(var r in t)r=="constructor"&&(e||!XG.call(t,r))||n.push(r);return n}var qG=YG,KG=fA,ZG=qG,QG=ef;function JG(t){return QG(t)?KG(t,!0):ZG(t)}var qy=JG,eW=uf,tW=qy;function nW(t,e){return t&&eW(e,tW(e),t)}var rW=nW,ed={},iW={get exports(){return ed},set exports(t){ed=t}};(function(t,e){var n=Pr,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var h=u.length,d=a?a(h):new u.constructor(h);return u.copy(d),d}t.exports=l})(iW,ed);function sW(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var oW=sW,aW=uf,lW=Wy;function uW(t,e){return aW(t,lW(t),e)}var cW=uW,hW=EA,dW=Uy,fW=Wy,pW=CA,mW=Object.getOwnPropertySymbols,gW=mW?function(t){for(var e=[];t;)hW(e,fW(t)),t=dW(t);return e}:pW,NA=gW,vW=uf,yW=NA;function bW(t,e){return vW(t,yW(t),e)}var xW=bW,wW=SA,_W=NA,EW=qy;function SW(t){return wW(t,EW,_W)}var CW=SW,TW=Object.prototype,AW=TW.hasOwnProperty;function PW(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&AW.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var OW=PW,a_=_A;function IW(t){var e=new t.constructor(t.byteLength);return new a_(e).set(new a_(t)),e}var Ky=IW,kW=Ky;function RW(t,e){var n=e?kW(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var MW=RW,FW=/\w*$/;function DW(t){var e=new t.constructor(t.source,FW.exec(t));return e.lastIndex=t.lastIndex,e}var $W=DW,l_=$u,u_=l_?l_.prototype:void 0,c_=u_?u_.valueOf:void 0;function BW(t){return c_?Object(c_.call(t)):{}}var NW=BW,LW=Ky;function UW(t,e){var n=e?LW(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var jW=UW,zW=Ky,HW=MW,GW=$W,WW=NW,VW=jW,XW="[object Boolean]",YW="[object Date]",qW="[object Map]",KW="[object Number]",ZW="[object RegExp]",QW="[object Set]",JW="[object String]",eV="[object Symbol]",tV="[object ArrayBuffer]",nV="[object DataView]",rV="[object Float32Array]",iV="[object Float64Array]",sV="[object Int8Array]",oV="[object Int16Array]",aV="[object Int32Array]",lV="[object Uint8Array]",uV="[object Uint8ClampedArray]",cV="[object Uint16Array]",hV="[object Uint32Array]";function dV(t,e,n){var r=t.constructor;switch(e){case tV:return zW(t);case XW:case YW:return new r(+t);case nV:return HW(t,n);case rV:case iV:case sV:case oV:case aV:case lV:case uV:case cV:case hV:return VW(t,n);case qW:return new r;case KW:case JW:return new r(t);case ZW:return GW(t);case QW:return new r;case eV:return WW(t)}}var fV=dV,pV=va,h_=Object.create,mV=function(){function t(){}return function(e){if(!pV(e))return{};if(h_)return h_(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),gV=mV,vV=gV,yV=Uy,bV=Ny;function xV(t){return typeof t.constructor=="function"&&!bV(t)?vV(yV(t)):{}}var wV=xV,_V=of,EV=ti,SV="[object Map]";function CV(t){return EV(t)&&_V(t)==SV}var TV=CV,AV=TV,PV=By,d_=Jo,f_=d_&&d_.isMap,OV=f_?PV(f_):AV,IV=OV,kV=of,RV=ti,MV="[object Set]";function FV(t){return RV(t)&&kV(t)==MV}var DV=FV,$V=DV,BV=By,p_=Jo,m_=p_&&p_.isSet,NV=m_?BV(m_):$V,LV=NV,UV=Gy,jV=SG,zV=BA,HV=UG,GV=rW,WV=ed,VV=oW,XV=cW,YV=xW,qV=TA,KV=CW,ZV=of,QV=OW,JV=fV,eX=wV,tX=ur,nX=Qo,rX=IV,iX=va,sX=LV,oX=Bu,aX=qy,lX=1,uX=2,cX=4,LA="[object Arguments]",hX="[object Array]",dX="[object Boolean]",fX="[object Date]",pX="[object Error]",UA="[object Function]",mX="[object GeneratorFunction]",gX="[object Map]",vX="[object Number]",jA="[object Object]",yX="[object RegExp]",bX="[object Set]",xX="[object String]",wX="[object Symbol]",_X="[object WeakMap]",EX="[object ArrayBuffer]",SX="[object DataView]",CX="[object Float32Array]",TX="[object Float64Array]",AX="[object Int8Array]",PX="[object Int16Array]",OX="[object Int32Array]",IX="[object Uint8Array]",kX="[object Uint8ClampedArray]",RX="[object Uint16Array]",MX="[object Uint32Array]",Fe={};Fe[LA]=Fe[hX]=Fe[EX]=Fe[SX]=Fe[dX]=Fe[fX]=Fe[CX]=Fe[TX]=Fe[AX]=Fe[PX]=Fe[OX]=Fe[gX]=Fe[vX]=Fe[jA]=Fe[yX]=Fe[bX]=Fe[xX]=Fe[wX]=Fe[IX]=Fe[kX]=Fe[RX]=Fe[MX]=!0;Fe[pX]=Fe[UA]=Fe[_X]=!1;function lh(t,e,n,r,i,s){var o,a=e&lX,l=e&uX,u=e&cX;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!iX(t))return t;var c=tX(t);if(c){if(o=QV(t),!a)return VV(t,o)}else{var h=ZV(t),d=h==UA||h==mX;if(nX(t))return WV(t,a);if(h==jA||h==LA||d&&!i){if(o=l||d?{}:eX(t),!a)return l?YV(t,GV(o,t)):XV(t,HV(o,t))}else{if(!Fe[h])return i?t:{};o=JV(t,h,a)}}s||(s=new UV);var f=s.get(t);if(f)return f;s.set(t,o),sX(t)?t.forEach(function(g){o.add(lh(g,e,n,g,t,s))}):rX(t)&&t.forEach(function(g,v){o.set(v,lh(g,e,n,v,t,s))});var p=u?l?KV:qV:l?aX:oX,m=c?void 0:p(t);return jV(m||t,function(g,v){m&&(v=g,g=t[v]),zV(o,v,lh(g,e,n,v,t,s))}),o}var FX=lh,DX=FX,$X=1,BX=4;function NX(t){return DX(t,$X|BX)}var LX=NX;Object.defineProperty(Nu,"__esModule",{value:!0});Nu.mergeClasses=void 0;var UX=Ly,jX=zA(UX),zX=LX,HX=zA(zX),GX=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function zA(t){return t&&t.__esModule?t:{default:t}}var WX=Nu.mergeClasses=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,HX.default)(e.default)||{};return n.map(function(i){var s=e[i];return s&&(0,jX.default)(s,function(o,a){r[a]||(r[a]={}),r[a]=GX({},r[a],s[a])}),i}),r};Nu.default=WX;var Lu={};Object.defineProperty(Lu,"__esModule",{value:!0});Lu.autoprefix=void 0;var VX=Ly,g_=YX(VX),XX=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function YX(t){return t&&t.__esModule?t:{default:t}}var qX={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var n=e&&e.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(e,n){var r=n[e];return r||{extend:e}}},KX=Lu.autoprefix=function(e){var n={};return(0,g_.default)(e,function(r,i){var s={};(0,g_.default)(r,function(o,a){var l=qX[a];l?s=XX({},s,l(o)):s[a]=o}),n[i]=s}),n};Lu.default=KX;var Uu={};Object.defineProperty(Uu,"__esModule",{value:!0});Uu.hover=void 0;var ZX=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QX=_,Mp=JX(QX);function JX(t){return t&&t.__esModule?t:{default:t}}function eY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v_(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function tY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var nY=Uu.hover=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){tY(i,r);function i(){var s,o,a,l;eY(this,i);for(var u=arguments.length,c=Array(u),h=0;h<u;h++)c[h]=arguments[h];return l=(o=(a=v_(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(c))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return Mp.default.createElement(n,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},Mp.default.createElement(e,ZX({},a.props,a.state)))},o),v_(a,l)}return i}(Mp.default.Component)};Uu.default=nY;var ju={};Object.defineProperty(ju,"__esModule",{value:!0});ju.active=void 0;var rY=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iY=_,Fp=sY(iY);function sY(t){return t&&t.__esModule?t:{default:t}}function oY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y_(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function aY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var lY=ju.active=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){aY(i,r);function i(){var s,o,a,l;oY(this,i);for(var u=arguments.length,c=Array(u),h=0;h<u;h++)c[h]=arguments[h];return l=(o=(a=y_(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(c))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return Fp.default.createElement(n,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},Fp.default.createElement(e,rY({},a.props,a.state)))},o),y_(a,l)}return i}(Fp.default.Component)};ju.default=lY;var Zy={};Object.defineProperty(Zy,"__esModule",{value:!0});var uY=function(e,n){var r={},i=function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[o]=a};return e===0&&i("first-child"),e===n-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),r};Zy.default=uY;Object.defineProperty(Tn,"__esModule",{value:!0});Tn.ReactCSS=Tn.loop=Tn.handleActive=Qy=Tn.handleHover=Tn.hover=void 0;var cY=Du,hY=Ea(cY),dY=Nu,fY=Ea(dY),pY=Lu,mY=Ea(pY),gY=Uu,HA=Ea(gY),vY=ju,yY=Ea(vY),bY=Zy,xY=Ea(bY);function Ea(t){return t&&t.__esModule?t:{default:t}}Tn.hover=HA.default;var Qy=Tn.handleHover=HA.default;Tn.handleActive=yY.default;Tn.loop=xY.default;var wY=Tn.ReactCSS=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=(0,hY.default)(r),o=(0,fY.default)(e,s);return(0,mY.default)(o)},he=Tn.default=wY,_Y=function(e,n,r,i,s){var o=s.clientWidth,a=s.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,u=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=l-(s.getBoundingClientRect().left+window.pageXOffset),h=u-(s.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var d=void 0;if(h<0?d=0:h>a?d=1:d=Math.round(h*100/a)/100,n.a!==d)return{h:n.h,s:n.s,l:n.l,a:d,source:"rgb"}}else{var f=void 0;if(c<0?f=0:c>o?f=1:f=Math.round(c*100/o)/100,i!==f)return{h:n.h,s:n.s,l:n.l,a:f,source:"rgb"}}return null},Dp={},EY=function(e,n,r,i){if(typeof document>"u"&&!i)return null;var s=i?new i:document.createElement("canvas");s.width=r*2,s.height=r*2;var o=s.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,s.width,s.height),o.fillStyle=n,o.fillRect(0,0,r,r),o.translate(r,r),o.fillRect(0,0,r,r),s.toDataURL()):null},SY=function(e,n,r,i){var s=e+"-"+n+"-"+r+(i?"-server":"");if(Dp[s])return Dp[s];var o=EY(e,n,r,i);return Dp[s]=o,o},b_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sa=function(e){var n=e.white,r=e.grey,i=e.size,s=e.renderers,o=e.borderRadius,a=e.boxShadow,l=e.children,u=he({default:{grid:{borderRadius:o,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+SY(n,r,i,s.canvas)+") center left"}}});return _.isValidElement(l)?w.cloneElement(l,b_({},l.props,{style:b_({},l.props.style,u.grid)})):w.createElement("div",{style:u.grid})};Sa.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var CY=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TY=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function AY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x_(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function PY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Jy=function(t){PY(e,t);function e(){var n,r,i,s;AY(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=x_(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(u){var c=_Y(u,i.props.hsl,i.props.direction,i.props.a,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),x_(i,s)}return TY(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,s=he({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:CY({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return w.createElement("div",{style:s.alpha},w.createElement("div",{style:s.checkboard},w.createElement(Sa,{renderers:this.props.renderers})),w.createElement("div",{style:s.gradient}),w.createElement("div",{style:s.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},w.createElement("div",{style:s.pointer},this.props.pointer?w.createElement(this.props.pointer,this.props):w.createElement("div",{style:s.slider}))))}}]),e}(_.PureComponent||_.Component),OY=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function IY(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RY(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function MY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var FY=1,GA=38,DY=40,$Y=[GA,DY],BY=function(e){return $Y.indexOf(e)>-1},NY=function(e){return Number(String(e).replace(/%/g,""))},LY=1,xe=function(t){MY(e,t);function e(n){kY(this,e);var r=RY(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var s=NY(i.target.value);if(!isNaN(s)&&BY(i.keyCode)){var o=r.getArrowOffset(),a=i.keyCode===GA?s+o:s-o;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var s=Math.round(r.props.value+i.movementX);s>=0&&s<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(s),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+LY++,r}return OY(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return IY({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||FY}},{key:"setUpdatedValue",value:function(r,i){var s=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(s,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=he({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return w.createElement("div",{style:i.wrap},w.createElement("input",{id:this.inputId,style:i.input,ref:function(o){return r.input=o},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?w.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(_.PureComponent||_.Component),UY=function(e,n,r,i){var s=i.clientWidth,o=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(i.getBoundingClientRect().left+window.pageXOffset),c=l-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var h=void 0;if(c<0)h=359;else if(c>o)h=0;else{var d=-(c*100/o)+100;h=360*d/100}if(r.h!==h)return{h,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var f=void 0;if(u<0)f=0;else if(u>s)f=359;else{var p=u*100/s;f=360*p/100}if(r.h!==f)return{h:f,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},jY=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function zY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w_(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function HY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ca=function(t){HY(e,t);function e(){var n,r,i,s;zY(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=w_(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(u){var c=UY(u,i.props.direction,i.props.hsl,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),w_(i,s)}return jY(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,s=i===void 0?"horizontal":i,o=he({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:s==="vertical"});return w.createElement("div",{style:o.hue},w.createElement("div",{className:"hue-"+s,style:o.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},w.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),w.createElement("div",{style:o.pointer},this.props.pointer?w.createElement(this.props.pointer,this.props):w.createElement("div",{style:o.slider}))))}}]),e}(_.PureComponent||_.Component),zu=function(e){var n=e.zDepth,r=e.radius,i=e.background,s=e.children,o=e.styles,a=o===void 0?{}:o,l=he(qt({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":n===1});return w.createElement("div",{style:l.wrap},w.createElement("div",{style:l.bg}),w.createElement("div",{style:l.content},s))};zu.propTypes={background:O.string,zDepth:O.oneOf([0,1,2,3,4,5]),radius:O.number,styles:O.object};zu.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var GY=function(e,n,r){var i=r.getBoundingClientRect(),s=i.width,o=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(r.getBoundingClientRect().left+window.pageXOffset),c=l-(r.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>s&&(u=s),c<0?c=0:c>o&&(c=o);var h=u/s,d=1-c/o;return{h:n.h,s:h,v:d,a:n.a,source:"hsv"}},WY=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function VY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XY(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function YY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var cf=function(t){YY(e,t);function e(n){VY(this,e);var r=XY(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,GY(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var s=r.getContainerRenderWindow();s.addEventListener("mousemove",r.handleChange),s.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=hB(function(i,s,o){i(s,o)},50),r}return WY(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},s=i.color,o=i.white,a=i.black,l=i.pointer,u=i.circle,c=he({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:s,white:o,black:a,pointer:l,circle:u}},{custom:!!this.props.style});return w.createElement("div",{style:c.color,ref:function(d){return r.container=d},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},w.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),w.createElement("div",{style:c.white,className:"saturation-white"},w.createElement("div",{style:c.black,className:"saturation-black"}),w.createElement("div",{style:c.pointer},this.props.pointer?w.createElement(this.props.pointer,this.props):w.createElement("div",{style:c.circle}))))}}]),e}(_.PureComponent||_.Component);function td(t){return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}var qY=/^\s+/,KY=/\s+$/;function re(t,e){if(t=t||"",e=e||{},t instanceof re)return t;if(!(this instanceof re))return new re(t,e);var n=ZY(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}re.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,s,o,a;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(e){return this._a=WA(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=E_(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=E_(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=__(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=__(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return S_(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return tq(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Ge(this._r,255)*100)+"%",g:Math.round(Ge(this._g,255)*100)+"%",b:Math.round(Ge(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Ge(this._r,255)*100)+"%, "+Math.round(Ge(this._g,255)*100)+"%, "+Math.round(Ge(this._b,255)*100)+"%)":"rgba("+Math.round(Ge(this._r,255)*100)+"%, "+Math.round(Ge(this._g,255)*100)+"%, "+Math.round(Ge(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:fq[S_(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+C_(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=re(e);r="#"+C_(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return re(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(sq,arguments)},brighten:function(){return this._applyModification(oq,arguments)},darken:function(){return this._applyModification(aq,arguments)},desaturate:function(){return this._applyModification(nq,arguments)},saturate:function(){return this._applyModification(rq,arguments)},greyscale:function(){return this._applyModification(iq,arguments)},spin:function(){return this._applyModification(lq,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(hq,arguments)},complement:function(){return this._applyCombination(uq,arguments)},monochromatic:function(){return this._applyCombination(dq,arguments)},splitcomplement:function(){return this._applyCombination(cq,arguments)},triad:function(){return this._applyCombination(T_,[3])},tetrad:function(){return this._applyCombination(T_,[4])}};re.fromRatio=function(t,e){if(td(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=il(t[r]));t=n}return re(t,e)};function ZY(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,o=!1,a=!1;return typeof t=="string"&&(t=vq(t)),td(t)=="object"&&(Ir(t.r)&&Ir(t.g)&&Ir(t.b)?(e=QY(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Ir(t.h)&&Ir(t.s)&&Ir(t.v)?(r=il(t.s),i=il(t.v),e=eq(t.h,r,i),o=!0,a="hsv"):Ir(t.h)&&Ir(t.s)&&Ir(t.l)&&(r=il(t.s),s=il(t.l),e=JY(t.h,r,s),o=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=WA(n),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function QY(t,e,n){return{r:Ge(t,255)*255,g:Ge(e,255)*255,b:Ge(n,255)*255}}function __(t,e,n){t=Ge(t,255),e=Ge(e,255),n=Ge(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=(r+i)/2;if(r==i)s=o=0;else{var l=r-i;switch(o=a>.5?l/(2-r-i):l/(r+i),r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,l:a}}function JY(t,e,n){var r,i,s;t=Ge(t,360),e=Ge(e,100),n=Ge(n,100);function o(u,c,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?u+(c-u)*6*h:h<1/2?c:h<2/3?u+(c-u)*(2/3-h)*6:u}if(e===0)r=i=s=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=o(l,a,t+1/3),i=o(l,a,t),s=o(l,a,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function E_(t,e,n){t=Ge(t,255),e=Ge(e,255),n=Ge(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=r,l=r-i;if(o=r===0?0:l/r,r==i)s=0;else{switch(r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,v:a}}function eq(t,e,n){t=Ge(t,360)*6,e=Ge(e,100),n=Ge(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),o=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,u=[n,o,s,s,a,n][l],c=[a,n,n,o,s,s][l],h=[s,s,a,n,n,o][l];return{r:u*255,g:c*255,b:h*255}}function S_(t,e,n,r){var i=[Kn(Math.round(t).toString(16)),Kn(Math.round(e).toString(16)),Kn(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function tq(t,e,n,r,i){var s=[Kn(Math.round(t).toString(16)),Kn(Math.round(e).toString(16)),Kn(Math.round(n).toString(16)),Kn(VA(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function C_(t,e,n,r){var i=[Kn(VA(r)),Kn(Math.round(t).toString(16)),Kn(Math.round(e).toString(16)),Kn(Math.round(n).toString(16))];return i.join("")}re.equals=function(t,e){return!t||!e?!1:re(t).toRgbString()==re(e).toRgbString()};re.random=function(){return re.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function nq(t,e){e=e===0?0:e||10;var n=re(t).toHsl();return n.s-=e/100,n.s=hf(n.s),re(n)}function rq(t,e){e=e===0?0:e||10;var n=re(t).toHsl();return n.s+=e/100,n.s=hf(n.s),re(n)}function iq(t){return re(t).desaturate(100)}function sq(t,e){e=e===0?0:e||10;var n=re(t).toHsl();return n.l+=e/100,n.l=hf(n.l),re(n)}function oq(t,e){e=e===0?0:e||10;var n=re(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),re(n)}function aq(t,e){e=e===0?0:e||10;var n=re(t).toHsl();return n.l-=e/100,n.l=hf(n.l),re(n)}function lq(t,e){var n=re(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,re(n)}function uq(t){var e=re(t).toHsl();return e.h=(e.h+180)%360,re(e)}function T_(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=re(t).toHsl(),r=[re(t)],i=360/e,s=1;s<e;s++)r.push(re({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function cq(t){var e=re(t).toHsl(),n=e.h;return[re(t),re({h:(n+72)%360,s:e.s,l:e.l}),re({h:(n+216)%360,s:e.s,l:e.l})]}function hq(t,e,n){e=e||6,n=n||30;var r=re(t).toHsl(),i=360/n,s=[re(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(re(r));return s}function dq(t,e){e=e||6;for(var n=re(t).toHsv(),r=n.h,i=n.s,s=n.v,o=[],a=1/e;e--;)o.push(re({h:r,s:i,v:s})),s=(s+a)%1;return o}re.mix=function(t,e,n){n=n===0?0:n||50;var r=re(t).toRgb(),i=re(e).toRgb(),s=n/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return re(o)};re.readability=function(t,e){var n=re(t),r=re(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};re.isReadable=function(t,e,n){var r=re.readability(t,e),i,s;switch(s=!1,i=yq(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};re.mostReadable=function(t,e,n){var r=null,i=0,s,o,a,l;n=n||{},o=n.includeFallbackColors,a=n.level,l=n.size;for(var u=0;u<e.length;u++)s=re.readability(t,e[u]),s>i&&(i=s,r=re(e[u]));return re.isReadable(t,r,{level:a,size:l})||!o?r:(n.includeFallbackColors=!1,re.mostReadable(t,["#fff","#000"],n))};var uv=re.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},fq=re.hexNames=pq(uv);function pq(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function WA(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Ge(t,e){mq(t)&&(t="100%");var n=gq(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function hf(t){return Math.min(1,Math.max(0,t))}function Qt(t){return parseInt(t,16)}function mq(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function gq(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Kn(t){return t.length==1?"0"+t:""+t}function il(t){return t<=1&&(t=t*100+"%"),t}function VA(t){return Math.round(parseFloat(t)*255).toString(16)}function A_(t){return Qt(t)/255}var zn=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Ir(t){return!!zn.CSS_UNIT.exec(t)}function vq(t){t=t.replace(qY,"").replace(KY,"").toLowerCase();var e=!1;if(uv[t])t=uv[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=zn.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=zn.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=zn.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=zn.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=zn.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=zn.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=zn.hex8.exec(t))?{r:Qt(n[1]),g:Qt(n[2]),b:Qt(n[3]),a:A_(n[4]),format:e?"name":"hex8"}:(n=zn.hex6.exec(t))?{r:Qt(n[1]),g:Qt(n[2]),b:Qt(n[3]),format:e?"name":"hex"}:(n=zn.hex4.exec(t))?{r:Qt(n[1]+""+n[1]),g:Qt(n[2]+""+n[2]),b:Qt(n[3]+""+n[3]),a:A_(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=zn.hex3.exec(t))?{r:Qt(n[1]+""+n[1]),g:Qt(n[2]+""+n[2]),b:Qt(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function yq(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var P_=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return De(n,function(s){if(e[s]&&(r+=1,isNaN(e[s])||(i+=1),s==="s"||s==="l")){var o=/^\d+%$/;o.test(e[s])&&(i+=1)}}),r===i?e:!1},sl=function(e,n){var r=e.hex?re(e.hex):re(e),i=r.toHsl(),s=r.toHsv(),o=r.toRgb(),a=r.toHex();i.s===0&&(i.h=n||0,s.h=n||0);var l=a==="000000"&&o.a===0;return{hsl:i,hex:l?"transparent":"#"+a,rgb:o,hsv:s,oldHue:e.h||n||i.h,source:e.source}},Di=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&re(e).isValid()},e1=function(e){if(!e)return"#fff";var n=sl(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},$p=function(e,n){var r=e.replace("°","");return re(n+" ("+r+")")._ok},Ua=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bq=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function xq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wq(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function _q(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Kt=function(e){var n=function(r){_q(i,r);function i(s){xq(this,i);var o=wq(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return o.handleChange=function(a,l){var u=P_(a);if(u){var c=sl(a,a.h||o.state.oldHue);o.setState(c),o.props.onChangeComplete&&o.debounce(o.props.onChangeComplete,c,l),o.props.onChange&&o.props.onChange(c,l)}},o.handleSwatchHover=function(a,l){var u=P_(a);if(u){var c=sl(a,a.h||o.state.oldHue);o.props.onSwatchHover&&o.props.onSwatchHover(c,l)}},o.state=Ua({},sl(s.color,0)),o.debounce=UT(function(a,l,u){a(l,u)},100),o}return bq(i,[{key:"render",value:function(){var o={};return this.props.onSwatchHover&&(o.onSwatchHover=this.handleSwatchHover),w.createElement(e,Ua({},this.props,this.state,{onChange:this.handleChange},o))}}],[{key:"getDerivedStateFromProps",value:function(o,a){return Ua({},sl(o.color,a.oldHue))}}]),i}(_.PureComponent||_.Component);return n.propTypes=Ua({},e.propTypes),n.defaultProps=Ua({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},Eq=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sq=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Cq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O_(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Tq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Aq=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){Tq(i,r);function i(){var s,o,a,l;Cq(this,i);for(var u=arguments.length,c=Array(u),h=0;h<u;h++)c[h]=arguments[h];return l=(o=(a=O_(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(c))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},o),O_(a,l)}return Sq(i,[{key:"render",value:function(){return w.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},w.createElement(e,Eq({},this.props,this.state)))}}]),i}(w.Component)},I_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pq=13,Oq=function(e){var n=e.color,r=e.style,i=e.onClick,s=i===void 0?function(){}:i,o=e.onHover,a=e.title,l=a===void 0?n:a,u=e.children,c=e.focus,h=e.focusStyle,d=h===void 0?{}:h,f=n==="transparent",p=he({default:{swatch:I_({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,c?d:{})}}),m=function(x){return s(n,x)},g=function(x){return x.keyCode===Pq&&s(n,x)},v=function(x){return o(n,x)},b={};return o&&(b.onMouseOver=v),w.createElement("div",I_({style:p.swatch,onClick:m,title:l,tabIndex:0,onKeyDown:g},b),u,f&&w.createElement(Sa,{borderRadius:p.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const Ds=Aq(Oq);var Iq=function(e){var n=e.direction,r=he({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return w.createElement("div",{style:r.picker})},kq=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XA=function(e){var n=e.rgb,r=e.hsl,i=e.width,s=e.height,o=e.onChange,a=e.direction,l=e.style,u=e.renderers,c=e.pointer,h=e.className,d=h===void 0?"":h,f=he({default:{picker:{position:"relative",width:i,height:s},alpha:{radius:"2px",style:l}}});return w.createElement("div",{style:f.picker,className:"alpha-picker "+d},w.createElement(Jy,kq({},f.alpha,{rgb:n,hsl:r,pointer:c,renderers:u,onChange:o,direction:a})))};XA.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:Iq};Kt(XA);var Rq=function(e){var n=e.colors,r=e.onClick,i=e.onSwatchHover,s=he({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return w.createElement("div",{style:s.swatches},ge(n,function(o){return w.createElement(Ds,{key:o,color:o,style:s.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+o}})}),w.createElement("div",{style:s.clear}))},t1=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,h=c===void 0?"":c,d=i==="transparent",f=function(g,v){Di(g)&&n({hex:g,source:"hex"},v)},p=he(qt({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:e1(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},u),{"hide-triangle":a==="hide"});return w.createElement("div",{style:p.card,className:"block-picker "+h},w.createElement("div",{style:p.triangle}),w.createElement("div",{style:p.head},d&&w.createElement(Sa,{borderRadius:"6px 6px 0 0"}),w.createElement("div",{style:p.label},i)),w.createElement("div",{style:p.body},w.createElement(Rq,{colors:s,onClick:f,onSwatchHover:r}),w.createElement(xe,{style:{input:p.input},value:i,onChange:f})))};t1.propTypes={width:O.oneOfType([O.string,O.number]),colors:O.arrayOf(O.string),triangle:O.oneOf(["top","hide"]),styles:O.object};t1.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};Kt(t1);var Xs={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},Ys={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},qs={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},Ks={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},Zs={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},Qs={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},Js={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},eo={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},to={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},ol={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},no={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},ro={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},io={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},so={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},oo={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},ao={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},lo={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},uo={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},YA=function(e){var n=e.color,r=e.onClick,i=e.onSwatchHover,s=e.hover,o=e.active,a=e.circleSize,l=e.circleSpacing,u=he({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:s,active:o});return w.createElement("div",{style:u.swatch},w.createElement(Ds,{style:u.Swatch,color:n,onClick:r,onHover:i,focusStyle:{boxShadow:u.Swatch.boxShadow+", 0 0 5px "+n}}))};YA.defaultProps={circleSize:28,circleSpacing:14};const Mq=Qy(YA);var n1=function(e){var n=e.width,r=e.onChange,i=e.onSwatchHover,s=e.colors,o=e.hex,a=e.circleSize,l=e.styles,u=l===void 0?{}:l,c=e.circleSpacing,h=e.className,d=h===void 0?"":h,f=he(qt({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-c,marginBottom:-c}}},u)),p=function(g,v){return r({hex:g,source:"hex"},v)};return w.createElement("div",{style:f.card,className:"circle-picker "+d},ge(s,function(m){return w.createElement(Mq,{key:m,color:m,onClick:p,onSwatchHover:i,active:o===m.toLowerCase(),circleSize:a,circleSpacing:c})}))};n1.propTypes={width:O.oneOfType([O.string,O.number]),circleSize:O.number,circleSpacing:O.number,styles:O.object};n1.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Xs[500],Ys[500],qs[500],Ks[500],Zs[500],Qs[500],Js[500],eo[500],to[500],ol[500],no[500],ro[500],io[500],so[500],oo[500],ao[500],lo[500],uo[500]],styles:{}};Kt(n1);var qA={};Object.defineProperty(qA,"__esModule",{value:!0});var k_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fq=_,R_=Dq(Fq);function Dq(t){return t&&t.__esModule?t:{default:t}}function $q(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var bc=24,Bq=qA.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?bc:r,s=t.height,o=s===void 0?bc:s,a=t.style,l=a===void 0?{}:a,u=$q(t,["fill","width","height","style"]);return R_.default.createElement("svg",k_({viewBox:"0 0 "+bc+" "+bc,style:k_({fill:n,width:i,height:o},l)},u),R_.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},Nq=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Lq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uq(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function jq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var KA=function(t){jq(e,t);function e(n){Lq(this,e);var r=Uq(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,s){i.hex?Di(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},s):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},s):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},s)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(qn(i.s)?r.props.hsl.s:i.s),l:Number(qn(i.l)?r.props.hsl.l:i.l),source:"hsl"},s))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return Nq(e,[{key:"render",value:function(){var r=this,i=he({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),s=void 0;return this.state.view==="hex"?s=w.createElement("div",{style:i.fields,className:"flexbox-fix"},w.createElement("div",{style:i.field},w.createElement(xe,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?s=w.createElement("div",{style:i.fields,className:"flexbox-fix"},w.createElement("div",{style:i.field},w.createElement(xe,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),w.createElement("div",{style:i.field},w.createElement(xe,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),w.createElement("div",{style:i.field},w.createElement(xe,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),w.createElement("div",{style:i.alpha},w.createElement(xe,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(s=w.createElement("div",{style:i.fields,className:"flexbox-fix"},w.createElement("div",{style:i.field},w.createElement(xe,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),w.createElement("div",{style:i.field},w.createElement(xe,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),w.createElement("div",{style:i.field},w.createElement(xe,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),w.createElement("div",{style:i.alpha},w.createElement(xe,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),w.createElement("div",{style:i.wrap,className:"flexbox-fix"},s,w.createElement("div",{style:i.toggle},w.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},w.createElement(Bq,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(w.Component);KA.defaultProps={view:"hex"};var M_=function(){var e=he({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return w.createElement("div",{style:e.picker})},zq=function(){var e=he({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return w.createElement("div",{style:e.picker})},r1=function(e){var n=e.width,r=e.onChange,i=e.disableAlpha,s=e.rgb,o=e.hsl,a=e.hsv,l=e.hex,u=e.renderers,c=e.styles,h=c===void 0?{}:c,d=e.className,f=d===void 0?"":d,p=e.defaultView,m=he(qt({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+s.r+", "+s.g+", "+s.b+", "+s.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},h),{disableAlpha:i});return w.createElement("div",{style:m.picker,className:"chrome-picker "+f},w.createElement("div",{style:m.saturation},w.createElement(cf,{style:m.Saturation,hsl:o,hsv:a,pointer:zq,onChange:r})),w.createElement("div",{style:m.body},w.createElement("div",{style:m.controls,className:"flexbox-fix"},w.createElement("div",{style:m.color},w.createElement("div",{style:m.swatch},w.createElement("div",{style:m.active}),w.createElement(Sa,{renderers:u}))),w.createElement("div",{style:m.toggles},w.createElement("div",{style:m.hue},w.createElement(Ca,{style:m.Hue,hsl:o,pointer:M_,onChange:r})),w.createElement("div",{style:m.alpha},w.createElement(Jy,{style:m.Alpha,rgb:s,hsl:o,pointer:M_,renderers:u,onChange:r})))),w.createElement(KA,{rgb:s,hsl:o,hex:l,view:p,onChange:r,disableAlpha:i})))};r1.propTypes={width:O.oneOfType([O.string,O.number]),disableAlpha:O.bool,styles:O.object,defaultView:O.oneOf(["hex","rgb","hsl"])};r1.defaultProps={width:225,disableAlpha:!1,styles:{}};const Hq=Kt(r1);var Gq=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.active,a=he({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:e1(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return w.createElement(Ds,{style:a.color,color:n,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n}},w.createElement("div",{style:a.dot}))},Wq=function(e){var n=e.hex,r=e.rgb,i=e.onChange,s=he({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(l,u){l.r||l.g||l.b?i({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},u):i({hex:l.hex,source:"hex"},u)};return w.createElement("div",{style:s.fields,className:"flexbox-fix"},w.createElement("div",{style:s.active}),w.createElement(xe,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:n,onChange:o}),w.createElement(xe,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:o}),w.createElement(xe,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:o}),w.createElement(xe,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:o}))},i1=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.colors,s=e.hex,o=e.rgb,a=e.styles,l=a===void 0?{}:a,u=e.className,c=u===void 0?"":u,h=he(qt({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),d=function(p,m){p.hex?Di(p.hex)&&n({hex:p.hex,source:"hex"},m):n(p,m)};return w.createElement(zu,{style:h.Compact,styles:l},w.createElement("div",{style:h.compact,className:"compact-picker "+c},w.createElement("div",null,ge(i,function(f){return w.createElement(Gq,{key:f,color:f,active:f.toLowerCase()===s,onClick:d,onSwatchHover:r})}),w.createElement("div",{style:h.clear})),w.createElement(Wq,{hex:s,rgb:o,onChange:d})))};i1.propTypes={colors:O.arrayOf(O.string),styles:O.object};i1.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};Kt(i1);var Vq=function(e){var n=e.hover,r=e.color,i=e.onClick,s=e.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=he({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:n});return w.createElement("div",{style:a.swatch},w.createElement(Ds,{color:r,onClick:i,onHover:s,focusStyle:o}))};const Xq=Qy(Vq);var s1=function(e){var n=e.width,r=e.colors,i=e.onChange,s=e.onSwatchHover,o=e.triangle,a=e.styles,l=a===void 0?{}:a,u=e.className,c=u===void 0?"":u,h=he(qt({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":o==="hide","top-left-triangle":o==="top-left","top-right-triangle":o==="top-right","bottom-left-triangle":o==="bottom-left","bottom-right-triangle":o==="bottom-right"}),d=function(p,m){return i({hex:p,source:"hex"},m)};return w.createElement("div",{style:h.card,className:"github-picker "+c},w.createElement("div",{style:h.triangleShadow}),w.createElement("div",{style:h.triangle}),ge(r,function(f){return w.createElement(Xq,{color:f,key:f,onClick:d,onSwatchHover:s})}))};s1.propTypes={width:O.oneOfType([O.string,O.number]),colors:O.arrayOf(O.string),triangle:O.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:O.object};s1.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};Kt(s1);var Yq=function(e){var n=e.direction,r=he({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return w.createElement("div",{style:r.picker})},qq=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o1=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.hsl,o=e.direction,a=e.pointer,l=e.styles,u=l===void 0?{}:l,c=e.className,h=c===void 0?"":c,d=he(qt({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},u)),f=function(m){return i({a:1,h:m.h,l:.5,s:1})};return w.createElement("div",{style:d.picker,className:"hue-picker "+h},w.createElement(Ca,qq({},d.hue,{hsl:s,pointer:a,onChange:f,direction:o})))};o1.propTypes={styles:O.object};o1.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:Yq,styles:{}};Kt(o1);var Kq=function(e){var n=e.onChange,r=e.hex,i=e.rgb,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,u=he(qt({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},o)),c=function(d,f){d.hex?Di(d.hex)&&n({hex:d.hex,source:"hex"},f):(d.r||d.g||d.b)&&n({r:d.r||i.r,g:d.g||i.g,b:d.b||i.b,source:"rgb"},f)};return w.createElement(zu,{styles:o},w.createElement("div",{style:u.material,className:"material-picker "+l},w.createElement(xe,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"hex",value:r,onChange:c}),w.createElement("div",{style:u.split,className:"flexbox-fix"},w.createElement("div",{style:u.third},w.createElement(xe,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:i.r,onChange:c})),w.createElement("div",{style:u.third},w.createElement(xe,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:i.g,onChange:c})),w.createElement("div",{style:u.third},w.createElement(xe,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:i.b,onChange:c})))))};Kt(Kq);var Zq=function(e){var n=e.onChange,r=e.rgb,i=e.hsv,s=e.hex,o=he({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(u,c){u["#"]?Di(u["#"])&&n({hex:u["#"],source:"hex"},c):u.r||u.g||u.b?n({r:u.r||r.r,g:u.g||r.g,b:u.b||r.b,source:"rgb"},c):(u.h||u.s||u.v)&&n({h:u.h||i.h,s:u.s||i.s,v:u.v||i.v,source:"hsv"},c)};return w.createElement("div",{style:o.fields},w.createElement(xe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(i.h),onChange:a}),w.createElement(xe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:a}),w.createElement(xe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:a}),w.createElement("div",{style:o.divider}),w.createElement(xe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:a}),w.createElement(xe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:a}),w.createElement(xe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:a}),w.createElement("div",{style:o.divider}),w.createElement(xe,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:s.replace("#",""),onChange:a}),w.createElement("div",{style:o.fieldSymbols},w.createElement("div",{style:o.symbol},"°"),w.createElement("div",{style:o.symbol},"%"),w.createElement("div",{style:o.symbol},"%")))},Qq=function(e){var n=e.hsl,r=he({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return w.createElement("div",{style:r.picker})},Jq=function(){var e=he({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return w.createElement("div",{style:e.pointer},w.createElement("div",{style:e.left},w.createElement("div",{style:e.leftInside})),w.createElement("div",{style:e.right},w.createElement("div",{style:e.rightInside})))},F_=function(e){var n=e.onClick,r=e.label,i=e.children,s=e.active,o=he({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:s});return w.createElement("div",{style:o.button,onClick:n},r||i)},eK=function(e){var n=e.rgb,r=e.currentColor,i=he({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return w.createElement("div",null,w.createElement("div",{style:i.label},"new"),w.createElement("div",{style:i.swatches},w.createElement("div",{style:i.new}),w.createElement("div",{style:i.current})),w.createElement("div",{style:i.label},"current"))},tK=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function nK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rK(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function iK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a1=function(t){iK(e,t);function e(n){nK(this,e);var r=rK(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:n.hex},r}return tK(e,[{key:"render",value:function(){var r=this.props,i=r.styles,s=i===void 0?{}:i,o=r.className,a=o===void 0?"":o,l=he(qt({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},s));return w.createElement("div",{style:l.picker,className:"photoshop-picker "+a},w.createElement("div",{style:l.head},this.props.header),w.createElement("div",{style:l.body,className:"flexbox-fix"},w.createElement("div",{style:l.saturation},w.createElement(cf,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:Qq,onChange:this.props.onChange})),w.createElement("div",{style:l.hue},w.createElement(Ca,{direction:"vertical",hsl:this.props.hsl,pointer:Jq,onChange:this.props.onChange})),w.createElement("div",{style:l.controls},w.createElement("div",{style:l.top,className:"flexbox-fix"},w.createElement("div",{style:l.previews},w.createElement(eK,{rgb:this.props.rgb,currentColor:this.state.currentColor})),w.createElement("div",{style:l.actions},w.createElement(F_,{label:"OK",onClick:this.props.onAccept,active:!0}),w.createElement(F_,{label:"Cancel",onClick:this.props.onCancel}),w.createElement(Zq,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(w.Component);a1.propTypes={header:O.string,styles:O.object};a1.defaultProps={header:"Color Picker",styles:{}};Kt(a1);var sK=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.disableAlpha,a=he({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),l=function(c,h){c.hex?Di(c.hex)&&n({hex:c.hex,source:"hex"},h):c.r||c.g||c.b?n({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,a:r.a,source:"rgb"},h):c.a&&(c.a<0?c.a=0:c.a>100&&(c.a=100),c.a/=100,n({h:i.h,s:i.s,l:i.l,a:c.a,source:"rgb"},h))};return w.createElement("div",{style:a.fields,className:"flexbox-fix"},w.createElement("div",{style:a.double},w.createElement(xe,{style:{input:a.input,label:a.label},label:"hex",value:s.replace("#",""),onChange:l})),w.createElement("div",{style:a.single},w.createElement(xe,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),w.createElement("div",{style:a.single},w.createElement(xe,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),w.createElement("div",{style:a.single},w.createElement(xe,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),w.createElement("div",{style:a.alpha},w.createElement(xe,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},oK=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZA=function(e){var n=e.colors,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=he({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),a=function(u,c){i({hex:u,source:"hex"},c)};return w.createElement("div",{style:o.colors,className:"flexbox-fix"},n.map(function(l){var u=typeof l=="string"?{color:l}:l,c=""+u.color+(u.title||"");return w.createElement("div",{key:c,style:o.swatchWrap},w.createElement(Ds,oK({},u,{style:o.swatch,onClick:a,onHover:s,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+u.color}})))}))};ZA.propTypes={colors:O.arrayOf(O.oneOfType([O.string,O.shape({color:O.string,title:O.string})])).isRequired};var aK=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l1=function(e){var n=e.width,r=e.rgb,i=e.hex,s=e.hsv,o=e.hsl,a=e.onChange,l=e.onSwatchHover,u=e.disableAlpha,c=e.presetColors,h=e.renderers,d=e.styles,f=d===void 0?{}:d,p=e.className,m=p===void 0?"":p,g=he(qt({default:aK({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},f),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},f),{disableAlpha:u});return w.createElement("div",{style:g.picker,className:"sketch-picker "+m},w.createElement("div",{style:g.saturation},w.createElement(cf,{style:g.Saturation,hsl:o,hsv:s,onChange:a})),w.createElement("div",{style:g.controls,className:"flexbox-fix"},w.createElement("div",{style:g.sliders},w.createElement("div",{style:g.hue},w.createElement(Ca,{style:g.Hue,hsl:o,onChange:a})),w.createElement("div",{style:g.alpha},w.createElement(Jy,{style:g.Alpha,rgb:r,hsl:o,renderers:h,onChange:a}))),w.createElement("div",{style:g.color},w.createElement(Sa,null),w.createElement("div",{style:g.activeColor}))),w.createElement(sK,{rgb:r,hsl:o,hex:i,onChange:a,disableAlpha:u}),w.createElement(ZA,{colors:c,onClick:a,onSwatchHover:l}))};l1.propTypes={disableAlpha:O.bool,width:O.oneOfType([O.string,O.number]),styles:O.object};l1.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};Kt(l1);var ja=function(e){var n=e.hsl,r=e.offset,i=e.onClick,s=i===void 0?function(){}:i,o=e.active,a=e.first,l=e.last,u=he({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:a,last:l}),c=function(d){return s({h:n.h,s:.5,l:r,source:"hsl"},d)};return w.createElement("div",{style:u.swatch,onClick:c})},lK=function(e){var n=e.onClick,r=e.hsl,i=he({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),s=.1;return w.createElement("div",{style:i.swatches},w.createElement("div",{style:i.swatch},w.createElement(ja,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<s&&Math.abs(r.s-.5)<s,onClick:n,first:!0})),w.createElement("div",{style:i.swatch},w.createElement(ja,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<s&&Math.abs(r.s-.5)<s,onClick:n})),w.createElement("div",{style:i.swatch},w.createElement(ja,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<s&&Math.abs(r.s-.5)<s,onClick:n})),w.createElement("div",{style:i.swatch},w.createElement(ja,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<s&&Math.abs(r.s-.5)<s,onClick:n})),w.createElement("div",{style:i.swatch},w.createElement(ja,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<s&&Math.abs(r.s-.5)<s,onClick:n,last:!0})),w.createElement("div",{style:i.clear}))},uK=function(){var e=he({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return w.createElement("div",{style:e.picker})},u1=function(e){var n=e.hsl,r=e.onChange,i=e.pointer,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,u=he(qt({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},o));return w.createElement("div",{style:u.wrap||{},className:"slider-picker "+l},w.createElement("div",{style:u.hue},w.createElement(Ca,{style:u.Hue,hsl:n,pointer:i,onChange:r})),w.createElement("div",{style:u.swatches},w.createElement(lK,{hsl:n,onClick:r})))};u1.propTypes={styles:O.object};u1.defaultProps={pointer:uK,styles:{}};Kt(u1);var QA={};Object.defineProperty(QA,"__esModule",{value:!0});var D_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cK=_,$_=hK(cK);function hK(t){return t&&t.__esModule?t:{default:t}}function dK(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var xc=24,fK=QA.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?xc:r,s=t.height,o=s===void 0?xc:s,a=t.style,l=a===void 0?{}:a,u=dK(t,["fill","width","height","style"]);return $_.default.createElement("svg",D_({viewBox:"0 0 "+xc+" "+xc,style:D_({fill:n,width:i,height:o},l)},u),$_.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},pK=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.first,a=e.last,l=e.active,u=he({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:e1(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:o,last:a,active:l,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return w.createElement(Ds,{color:n,style:u.color,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n}},w.createElement("div",{style:u.check},w.createElement(fK,null)))},mK=function(e){var n=e.onClick,r=e.onSwatchHover,i=e.group,s=e.active,o=he({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return w.createElement("div",{style:o.group},ge(i,function(a,l){return w.createElement(pK,{key:a,color:a,active:a.toLowerCase()===s,first:l===0,last:l===i.length-1,onClick:n,onSwatchHover:r})}))},c1=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.onSwatchHover,o=e.colors,a=e.hex,l=e.styles,u=l===void 0?{}:l,c=e.className,h=c===void 0?"":c,d=he(qt({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},u)),f=function(m,g){return i({hex:m,source:"hex"},g)};return w.createElement("div",{style:d.picker,className:"swatches-picker "+h},w.createElement(zu,null,w.createElement("div",{style:d.overflow},w.createElement("div",{style:d.body},ge(o,function(p){return w.createElement(mK,{key:p.toString(),group:p,active:a,onClick:f,onSwatchHover:s})}),w.createElement("div",{style:d.clear})))))};c1.propTypes={width:O.oneOfType([O.string,O.number]),height:O.oneOfType([O.string,O.number]),colors:O.arrayOf(O.arrayOf(O.string)),styles:O.object};c1.defaultProps={width:320,height:240,colors:[[Xs[900],Xs[700],Xs[500],Xs[300],Xs[100]],[Ys[900],Ys[700],Ys[500],Ys[300],Ys[100]],[qs[900],qs[700],qs[500],qs[300],qs[100]],[Ks[900],Ks[700],Ks[500],Ks[300],Ks[100]],[Zs[900],Zs[700],Zs[500],Zs[300],Zs[100]],[Qs[900],Qs[700],Qs[500],Qs[300],Qs[100]],[Js[900],Js[700],Js[500],Js[300],Js[100]],[eo[900],eo[700],eo[500],eo[300],eo[100]],[to[900],to[700],to[500],to[300],to[100]],["#194D33",ol[700],ol[500],ol[300],ol[100]],[no[900],no[700],no[500],no[300],no[100]],[ro[900],ro[700],ro[500],ro[300],ro[100]],[io[900],io[700],io[500],io[300],io[100]],[so[900],so[700],so[500],so[300],so[100]],[oo[900],oo[700],oo[500],oo[300],oo[100]],[ao[900],ao[700],ao[500],ao[300],ao[100]],[lo[900],lo[700],lo[500],lo[300],lo[100]],[uo[900],uo[700],uo[500],uo[300],uo[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};Kt(c1);var h1=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,h=c===void 0?"":c,d=he(qt({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},u),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),f=function(m,g){Di(m)&&n({hex:m,source:"hex"},g)};return w.createElement("div",{style:d.card,className:"twitter-picker "+h},w.createElement("div",{style:d.triangleShadow}),w.createElement("div",{style:d.triangle}),w.createElement("div",{style:d.body},ge(s,function(p,m){return w.createElement(Ds,{key:m,color:p,hex:p,style:d.swatch,onClick:f,onHover:r,focusStyle:{boxShadow:"0 0 4px "+p}})}),w.createElement("div",{style:d.hash},"#"),w.createElement(xe,{label:null,style:{input:d.input},value:i.replace("#",""),onChange:f}),w.createElement("div",{style:d.clear})))};h1.propTypes={width:O.oneOfType([O.string,O.number]),triangle:O.oneOf(["hide","top-left","top-right"]),colors:O.arrayOf(O.string),styles:O.object};h1.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};Kt(h1);var d1=function(e){var n=he({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return w.createElement("div",{style:n.picker})};d1.propTypes={hsl:O.shape({h:O.number,s:O.number,l:O.number,a:O.number})};d1.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var f1=function(e){var n=he({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return w.createElement("div",{style:n.picker})};f1.propTypes={hsl:O.shape({h:O.number,s:O.number,l:O.number,a:O.number})};f1.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var gK=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.hsv,a=function(f,p){if(f.hex)Di(f.hex)&&n({hex:f.hex,source:"hex"},p);else if(f.rgb){var m=f.rgb.split(",");$p(f.rgb,"rgb")&&n({r:m[0],g:m[1],b:m[2],a:1,source:"rgb"},p)}else if(f.hsv){var g=f.hsv.split(",");$p(f.hsv,"hsv")&&(g[2]=g[2].replace("%",""),g[1]=g[1].replace("%",""),g[0]=g[0].replace("°",""),g[1]==1?g[1]=.01:g[2]==1&&(g[2]=.01),n({h:Number(g[0]),s:Number(g[1]),v:Number(g[2]),source:"hsv"},p))}else if(f.hsl){var v=f.hsl.split(",");$p(f.hsl,"hsl")&&(v[2]=v[2].replace("%",""),v[1]=v[1].replace("%",""),v[0]=v[0].replace("°",""),h[1]==1?h[1]=.01:h[2]==1&&(h[2]=.01),n({h:Number(v[0]),s:Number(v[1]),v:Number(v[2]),source:"hsl"},p))}},l=he({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),u=r.r+", "+r.g+", "+r.b,c=Math.round(i.h)+"°, "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",h=Math.round(o.h)+"°, "+Math.round(o.s*100)+"%, "+Math.round(o.v*100)+"%";return w.createElement("div",{style:l.wrap,className:"flexbox-fix"},w.createElement("div",{style:l.fields},w.createElement("div",{style:l.double},w.createElement(xe,{style:{input:l.input,label:l.label},label:"hex",value:s,onChange:a})),w.createElement("div",{style:l.column},w.createElement("div",{style:l.single},w.createElement(xe,{style:{input:l.input2,label:l.label2},label:"rgb",value:u,onChange:a})),w.createElement("div",{style:l.single},w.createElement(xe,{style:{input:l.input2,label:l.label2},label:"hsv",value:h,onChange:a})),w.createElement("div",{style:l.single},w.createElement(xe,{style:{input:l.input2,label:l.label2},label:"hsl",value:c,onChange:a})))))},p1=function(e){var n=e.width,r=e.onChange,i=e.rgb,s=e.hsl,o=e.hsv,a=e.hex,l=e.header,u=e.styles,c=u===void 0?{}:u,h=e.className,d=h===void 0?"":h,f=he(qt({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},c));return w.createElement("div",{style:f.picker,className:"google-picker "+d},w.createElement("div",{style:f.head},l),w.createElement("div",{style:f.swatch}),w.createElement("div",{style:f.saturation},w.createElement(cf,{hsl:s,hsv:o,pointer:d1,onChange:r})),w.createElement("div",{style:f.body},w.createElement("div",{style:f.controls,className:"flexbox-fix"},w.createElement("div",{style:f.hue},w.createElement(Ca,{style:f.Hue,hsl:s,radius:"4px",pointer:f1,onChange:r}))),w.createElement(gK,{rgb:i,hsl:s,hex:a,hsv:o,onChange:r})))};p1.propTypes={width:O.oneOfType([O.string,O.number]),styles:O.object,header:O.string};p1.defaultProps={width:652,styles:{},header:"Color picker"};Kt(p1);function vK(t,e){_.useEffect(()=>{function n(r){t.current&&!t.current.contains(r.target)&&e()}return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[t])}function Ql({color:t,colorChanged:e}){const[n,r]=_.useState(!1),[i,s]=_.useState(t||"#ffffff"),o=_.useRef(null);vK(o,()=>{r(!1)}),_.useEffect(()=>{s(t||"#fff")},[t]);const a=()=>{r(!n)},l=c=>{s(c.hex),e(c.hex)},u=he({default:{color:{background:i},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return j("div",{className:"color-picker",ref:o,children:[E("div",{className:"swatch",style:u.color,onClick:a}),n?E("div",{style:u.popover,children:E(Hq,{color:i,onChange:l,disableAlpha:!0})}):null]})}function xs(t){return xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xs(t)}function yK(t,e){if(xs(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xs(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JA(t){var e=yK(t,"string");return xs(e)==="symbol"?e:String(e)}function al(t,e,n){return e=JA(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function de(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B_(Object(n),!0).forEach(function(r){al(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bK(t){if(Array.isArray(t))return t}function xK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function cv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eP(t,e){if(t){if(typeof t=="string")return cv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cv(t,e)}}function wK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jr(t,e){return bK(t)||xK(t,e)||eP(t,e)||wK()}function un(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ta(t,e){if(t==null)return{};var n=un(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var _K=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function EK(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,s=t.defaultValue,o=s===void 0?null:s,a=t.inputValue,l=t.menuIsOpen,u=t.onChange,c=t.onInputChange,h=t.onMenuClose,d=t.onMenuOpen,f=t.value,p=Ta(t,_K),m=_.useState(a!==void 0?a:n),g=jr(m,2),v=g[0],b=g[1],y=_.useState(l!==void 0?l:i),x=jr(y,2),S=x[0],C=x[1],T=_.useState(f!==void 0?f:o),A=jr(T,2),k=A[0],M=A[1],N=_.useCallback(function(B,V){typeof u=="function"&&u(B,V),M(B)},[u]),L=_.useCallback(function(B,V){var F;typeof c=="function"&&(F=c(B,V)),b(F!==void 0?F:B)},[c]),I=_.useCallback(function(){typeof d=="function"&&d(),C(!0)},[d]),D=_.useCallback(function(){typeof h=="function"&&h(),C(!1)},[h]),Z=a!==void 0?a:v,q=l!==void 0?l:S,z=f!==void 0?f:k;return de(de({},p),{},{inputValue:Z,menuIsOpen:q,onChange:N,onInputChange:L,onMenuClose:D,onMenuOpen:I,value:z})}function Y(){return Y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y.apply(this,arguments)}function SK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JA(r.key),r)}}function CK(t,e,n){return e&&N_(t.prototype,e),n&&N_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nd(t,e){return nd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nd(t,e)}function TK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nd(t,e)}function rd(t){return rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rd(t)}function AK(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function PK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OK(t,e){if(e&&(xs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PK(t)}function IK(t){var e=AK();return function(){var r=rd(t),i;if(e){var s=rd(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return OK(this,i)}}function kK(t){if(Array.isArray(t))return cv(t)}function RK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tP(t){return kK(t)||RK(t)||eP(t)||MK()}function FK(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function DK(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var $K=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(DK(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=FK(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),At="-ms-",id="-moz-",Ce="-webkit-",nP="comm",m1="rule",g1="decl",BK="@import",rP="@keyframes",NK=Math.abs,df=String.fromCharCode,LK=Object.assign;function UK(t,e){return wt(t,0)^45?(((e<<2^wt(t,0))<<2^wt(t,1))<<2^wt(t,2))<<2^wt(t,3):0}function iP(t){return t.trim()}function jK(t,e){return(t=e.exec(t))?t[0]:t}function Te(t,e,n){return t.replace(e,n)}function hv(t,e){return t.indexOf(e)}function wt(t,e){return t.charCodeAt(e)|0}function Jl(t,e,n){return t.slice(e,n)}function pr(t){return t.length}function v1(t){return t.length}function wc(t,e){return e.push(t),t}function zK(t,e){return t.map(e).join("")}var ff=1,ea=1,sP=0,Yt=0,at=0,Aa="";function pf(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:ff,column:ea,length:o,return:""}}function za(t,e){return LK(pf("",null,null,"",null,null,0),t,{length:-t.length},e)}function HK(){return at}function GK(){return at=Yt>0?wt(Aa,--Yt):0,ea--,at===10&&(ea=1,ff--),at}function cn(){return at=Yt<sP?wt(Aa,Yt++):0,ea++,at===10&&(ea=1,ff++),at}function Sr(){return wt(Aa,Yt)}function uh(){return Yt}function Hu(t,e){return Jl(Aa,t,e)}function eu(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function oP(t){return ff=ea=1,sP=pr(Aa=t),Yt=0,[]}function aP(t){return Aa="",t}function ch(t){return iP(Hu(Yt-1,dv(t===91?t+2:t===40?t+1:t)))}function WK(t){for(;(at=Sr())&&at<33;)cn();return eu(t)>2||eu(at)>3?"":" "}function VK(t,e){for(;--e&&cn()&&!(at<48||at>102||at>57&&at<65||at>70&&at<97););return Hu(t,uh()+(e<6&&Sr()==32&&cn()==32))}function dv(t){for(;cn();)switch(at){case t:return Yt;case 34:case 39:t!==34&&t!==39&&dv(at);break;case 40:t===41&&dv(t);break;case 92:cn();break}return Yt}function XK(t,e){for(;cn()&&t+at!==47+10;)if(t+at===42+42&&Sr()===47)break;return"/*"+Hu(e,Yt-1)+"*"+df(t===47?t:cn())}function YK(t){for(;!eu(Sr());)cn();return Hu(t,Yt)}function qK(t){return aP(hh("",null,null,null,[""],t=oP(t),0,[0],t))}function hh(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,h=o,d=0,f=0,p=0,m=1,g=1,v=1,b=0,y="",x=i,S=s,C=r,T=y;g;)switch(p=b,b=cn()){case 40:if(p!=108&&wt(T,h-1)==58){hv(T+=Te(ch(b),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:T+=ch(b);break;case 9:case 10:case 13:case 32:T+=WK(p);break;case 92:T+=VK(uh()-1,7);continue;case 47:switch(Sr()){case 42:case 47:wc(KK(XK(cn(),uh()),e,n),l);break;default:T+="/"}break;case 123*m:a[u++]=pr(T)*v;case 125*m:case 59:case 0:switch(b){case 0:case 125:g=0;case 59+c:f>0&&pr(T)-h&&wc(f>32?U_(T+";",r,n,h-1):U_(Te(T," ","")+";",r,n,h-2),l);break;case 59:T+=";";default:if(wc(C=L_(T,e,n,u,c,i,a,y,x=[],S=[],h),s),b===123)if(c===0)hh(T,e,C,C,x,s,h,a,S);else switch(d===99&&wt(T,3)===110?100:d){case 100:case 109:case 115:hh(t,C,C,r&&wc(L_(t,C,C,0,0,i,a,y,i,x=[],h),S),i,S,h,a,r?x:S);break;default:hh(T,C,C,C,[""],S,0,a,S)}}u=c=f=0,m=v=1,y=T="",h=o;break;case 58:h=1+pr(T),f=p;default:if(m<1){if(b==123)--m;else if(b==125&&m++==0&&GK()==125)continue}switch(T+=df(b),b*m){case 38:v=c>0?1:(T+="\f",-1);break;case 44:a[u++]=(pr(T)-1)*v,v=1;break;case 64:Sr()===45&&(T+=ch(cn())),d=Sr(),c=h=pr(y=T+=YK(uh())),b++;break;case 45:p===45&&pr(T)==2&&(m=0)}}return s}function L_(t,e,n,r,i,s,o,a,l,u,c){for(var h=i-1,d=i===0?s:[""],f=v1(d),p=0,m=0,g=0;p<r;++p)for(var v=0,b=Jl(t,h+1,h=NK(m=o[p])),y=t;v<f;++v)(y=iP(m>0?d[v]+" "+b:Te(b,/&\f/g,d[v])))&&(l[g++]=y);return pf(t,e,n,i===0?m1:a,l,u,c)}function KK(t,e,n){return pf(t,e,n,nP,df(HK()),Jl(t,2,-2),0)}function U_(t,e,n,r){return pf(t,e,n,g1,Jl(t,0,r),Jl(t,r+1,-1),r)}function $o(t,e){for(var n="",r=v1(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function ZK(t,e,n,r){switch(t.type){case BK:case g1:return t.return=t.return||t.value;case nP:return"";case rP:return t.return=t.value+"{"+$o(t.children,r)+"}";case m1:t.value=t.props.join(",")}return pr(n=$o(t.children,r))?t.return=t.value+"{"+n+"}":""}function QK(t){var e=v1(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function JK(t){return function(e){e.root||(e=e.return)&&t(e)}}function lP(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var eZ=function(e,n,r){for(var i=0,s=0;i=s,s=Sr(),i===38&&s===12&&(n[r]=1),!eu(s);)cn();return Hu(e,Yt)},tZ=function(e,n){var r=-1,i=44;do switch(eu(i)){case 0:i===38&&Sr()===12&&(n[r]=1),e[r]+=eZ(Yt-1,n,r);break;case 2:e[r]+=ch(i);break;case 4:if(i===44){e[++r]=Sr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=df(i)}while(i=cn());return e},nZ=function(e,n){return aP(tZ(oP(e),n))},j_=new WeakMap,rZ=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!j_.get(r))&&!i){j_.set(e,!0);for(var s=[],o=nZ(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},iZ=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function uP(t,e){switch(UK(t,e)){case 5103:return Ce+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ce+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ce+t+id+t+At+t+t;case 6828:case 4268:return Ce+t+At+t+t;case 6165:return Ce+t+At+"flex-"+t+t;case 5187:return Ce+t+Te(t,/(\w+).+(:[^]+)/,Ce+"box-$1$2"+At+"flex-$1$2")+t;case 5443:return Ce+t+At+"flex-item-"+Te(t,/flex-|-self/,"")+t;case 4675:return Ce+t+At+"flex-line-pack"+Te(t,/align-content|flex-|-self/,"")+t;case 5548:return Ce+t+At+Te(t,"shrink","negative")+t;case 5292:return Ce+t+At+Te(t,"basis","preferred-size")+t;case 6060:return Ce+"box-"+Te(t,"-grow","")+Ce+t+At+Te(t,"grow","positive")+t;case 4554:return Ce+Te(t,/([^-])(transform)/g,"$1"+Ce+"$2")+t;case 6187:return Te(Te(Te(t,/(zoom-|grab)/,Ce+"$1"),/(image-set)/,Ce+"$1"),t,"")+t;case 5495:case 3959:return Te(t,/(image-set\([^]*)/,Ce+"$1$`$1");case 4968:return Te(Te(t,/(.+:)(flex-)?(.*)/,Ce+"box-pack:$3"+At+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ce+t+t;case 4095:case 3583:case 4068:case 2532:return Te(t,/(.+)-inline(.+)/,Ce+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(pr(t)-1-e>6)switch(wt(t,e+1)){case 109:if(wt(t,e+4)!==45)break;case 102:return Te(t,/(.+:)(.+)-([^]+)/,"$1"+Ce+"$2-$3$1"+id+(wt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~hv(t,"stretch")?uP(Te(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(wt(t,e+1)!==115)break;case 6444:switch(wt(t,pr(t)-3-(~hv(t,"!important")&&10))){case 107:return Te(t,":",":"+Ce)+t;case 101:return Te(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ce+(wt(t,14)===45?"inline-":"")+"box$3$1"+Ce+"$2$3$1"+At+"$2box$3")+t}break;case 5936:switch(wt(t,e+11)){case 114:return Ce+t+At+Te(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ce+t+At+Te(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ce+t+At+Te(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ce+t+At+t+t}return t}var sZ=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case g1:e.return=uP(e.value,e.length);break;case rP:return $o([za(e,{value:Te(e.value,"@","@"+Ce)})],i);case m1:if(e.length)return zK(e.props,function(s){switch(jK(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return $o([za(e,{props:[Te(s,/:(read-\w+)/,":"+id+"$1")]})],i);case"::placeholder":return $o([za(e,{props:[Te(s,/:(plac\w+)/,":"+Ce+"input-$1")]}),za(e,{props:[Te(s,/:(plac\w+)/,":"+id+"$1")]}),za(e,{props:[Te(s,/:(plac\w+)/,At+"input-$1")]})],i)}return""})}},oZ=[sZ],aZ=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var g=m.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||oZ,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var g=m.getAttribute("data-emotion").split(" "),v=1;v<g.length;v++)s[g[v]]=!0;a.push(m)});var l,u=[rZ,iZ];{var c,h=[ZK,JK(function(m){c.insert(m)})],d=QK(u.concat(i,h)),f=function(g){return $o(qK(g),d)};l=function(g,v,b,y){c=b,f(g?g+"{"+v.styles+"}":v.styles),y&&(p.inserted[v.name]=!0)}}var p={key:n,sheet:new $K({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return p.sheet.hydrate(a),p},fv={},lZ={get exports(){return fv},set exports(t){fv=t}},Re={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bt=typeof Symbol=="function"&&Symbol.for,y1=bt?Symbol.for("react.element"):60103,b1=bt?Symbol.for("react.portal"):60106,mf=bt?Symbol.for("react.fragment"):60107,gf=bt?Symbol.for("react.strict_mode"):60108,vf=bt?Symbol.for("react.profiler"):60114,yf=bt?Symbol.for("react.provider"):60109,bf=bt?Symbol.for("react.context"):60110,x1=bt?Symbol.for("react.async_mode"):60111,xf=bt?Symbol.for("react.concurrent_mode"):60111,wf=bt?Symbol.for("react.forward_ref"):60112,_f=bt?Symbol.for("react.suspense"):60113,uZ=bt?Symbol.for("react.suspense_list"):60120,Ef=bt?Symbol.for("react.memo"):60115,Sf=bt?Symbol.for("react.lazy"):60116,cZ=bt?Symbol.for("react.block"):60121,hZ=bt?Symbol.for("react.fundamental"):60117,dZ=bt?Symbol.for("react.responder"):60118,fZ=bt?Symbol.for("react.scope"):60119;function yn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case y1:switch(t=t.type,t){case x1:case xf:case mf:case vf:case gf:case _f:return t;default:switch(t=t&&t.$$typeof,t){case bf:case wf:case Sf:case Ef:case yf:return t;default:return e}}case b1:return e}}}function cP(t){return yn(t)===xf}Re.AsyncMode=x1;Re.ConcurrentMode=xf;Re.ContextConsumer=bf;Re.ContextProvider=yf;Re.Element=y1;Re.ForwardRef=wf;Re.Fragment=mf;Re.Lazy=Sf;Re.Memo=Ef;Re.Portal=b1;Re.Profiler=vf;Re.StrictMode=gf;Re.Suspense=_f;Re.isAsyncMode=function(t){return cP(t)||yn(t)===x1};Re.isConcurrentMode=cP;Re.isContextConsumer=function(t){return yn(t)===bf};Re.isContextProvider=function(t){return yn(t)===yf};Re.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===y1};Re.isForwardRef=function(t){return yn(t)===wf};Re.isFragment=function(t){return yn(t)===mf};Re.isLazy=function(t){return yn(t)===Sf};Re.isMemo=function(t){return yn(t)===Ef};Re.isPortal=function(t){return yn(t)===b1};Re.isProfiler=function(t){return yn(t)===vf};Re.isStrictMode=function(t){return yn(t)===gf};Re.isSuspense=function(t){return yn(t)===_f};Re.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===mf||t===xf||t===vf||t===gf||t===_f||t===uZ||typeof t=="object"&&t!==null&&(t.$$typeof===Sf||t.$$typeof===Ef||t.$$typeof===yf||t.$$typeof===bf||t.$$typeof===wf||t.$$typeof===hZ||t.$$typeof===dZ||t.$$typeof===fZ||t.$$typeof===cZ)};Re.typeOf=yn;(function(t){t.exports=Re})(lZ);var hP=fv,pZ={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},mZ={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},dP={};dP[hP.ForwardRef]=pZ;dP[hP.Memo]=mZ;var gZ=!0;function fP(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var w1=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||gZ===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},pP=function(e,n,r){w1(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function vZ(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var yZ={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},bZ=/[A-Z]|^ms/g,xZ=/_EMO_([^_]+?)_([^]*?)_EMO_/g,mP=function(e){return e.charCodeAt(1)===45},z_=function(e){return e!=null&&typeof e!="boolean"},Bp=lP(function(t){return mP(t)?t:t.replace(bZ,"-$&").toLowerCase()}),H_=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(xZ,function(r,i,s){return mr={name:i,styles:s,next:mr},i})}return yZ[e]!==1&&!mP(e)&&typeof n=="number"&&n!==0?n+"px":n};function tu(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return mr={name:n.name,styles:n.styles,next:mr},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)mr={name:r.name,styles:r.styles,next:mr},r=r.next;var i=n.styles+";";return i}return wZ(t,e,n)}case"function":{if(t!==void 0){var s=mr,o=n(t);return mr=s,tu(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function wZ(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=tu(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":z_(o)&&(r+=Bp(s)+":"+H_(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)z_(o[a])&&(r+=Bp(s)+":"+H_(s,o[a])+";");else{var l=tu(t,e,o);switch(s){case"animation":case"animationName":{r+=Bp(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var G_=/label:\s*([^\s;\n{]+)\s*(;|$)/g,mr,_1=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";mr=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=tu(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=tu(r,n,e[a]),i&&(s+=o[a]);G_.lastIndex=0;for(var l="",u;(u=G_.exec(s))!==null;)l+="-"+u[1];var c=vZ(s)+l;return{name:c,styles:s,next:mr}},_Z=function(e){return e()},EZ=jb["useInsertionEffect"]?jb["useInsertionEffect"]:!1,gP=EZ||_Z,E1={}.hasOwnProperty,vP=_.createContext(typeof HTMLElement<"u"?aZ({key:"css"}):null);vP.Provider;var yP=function(e){return _.forwardRef(function(n,r){var i=_.useContext(vP);return e(n,i,r)})},bP=_.createContext({}),pv="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",SZ=function(e,n){var r={};for(var i in n)E1.call(n,i)&&(r[i]=n[i]);return r[pv]=e,r},CZ=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return w1(n,r,i),gP(function(){return pP(n,r,i)}),null},TZ=yP(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[pv],s=[r],o="";typeof t.className=="string"?o=fP(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=_1(s,void 0,_.useContext(bP));o+=e.key+"-"+a.name;var l={};for(var u in t)E1.call(t,u)&&u!=="css"&&u!==pv&&(l[u]=t[u]);return l.ref=n,l.className=o,_.createElement(_.Fragment,null,_.createElement(CZ,{cache:e,serialized:a,isStringTag:typeof i=="string"}),_.createElement(i,l))}),le=function(e,n){var r=arguments;if(n==null||!E1.call(n,"css"))return _.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=TZ,s[1]=SZ(e,n);for(var o=2;o<i;o++)s[o]=r[o];return _.createElement.apply(null,s)};function S1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return _1(e)}var AZ=function(){var e=S1.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function PZ(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function OZ(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}const IZ=["top","right","bottom","left"];IZ.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);function xr(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function xP(t){return xr(t).getComputedStyle(t)}function wP(t){return t instanceof xr(t).Node}function _P(t){return wP(t)?(t.nodeName||"").toLowerCase():""}let _c;function kZ(){if(_c)return _c;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(_c=t.brands.map(e=>e.brand+"/"+e.version).join(" "),_c):navigator.userAgent}function C1(t){return t instanceof xr(t).HTMLElement}function Bo(t){return t instanceof xr(t).Element}function W_(t){return typeof ShadowRoot>"u"?!1:t instanceof xr(t).ShadowRoot||t instanceof ShadowRoot}function EP(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=xP(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function RZ(){return/^((?!chrome|android).)*safari/i.test(kZ())}function MZ(t){return["html","body","#document"].includes(_P(t))}const sd=Math.round;function FZ(t){const e=xP(t);let n=parseFloat(e.width),r=parseFloat(e.height);const i=C1(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=sd(n)!==s||sd(r)!==o;return a&&(n=s,r=o),{width:n,height:r,fallback:a}}function SP(t){return Bo(t)?t:t.contextElement}const CP={x:1,y:1};function Np(t){const e=SP(t);if(!C1(e))return CP;const n=e.getBoundingClientRect(),{width:r,height:i,fallback:s}=FZ(e);let o=(s?sd(n.width):n.width)/r,a=(s?sd(n.height):n.height)/i;return o&&Number.isFinite(o)||(o=1),a&&Number.isFinite(a)||(a=1),{x:o,y:a}}function V_(t,e,n,r){var i,s;e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),a=SP(t);let l=CP;e&&(r?Bo(r)&&(l=Np(r)):l=Np(t));const u=a?xr(a):window,c=RZ()&&n;let h=(o.left+(c&&((i=u.visualViewport)==null?void 0:i.offsetLeft)||0))/l.x,d=(o.top+(c&&((s=u.visualViewport)==null?void 0:s.offsetTop)||0))/l.y,f=o.width/l.x,p=o.height/l.y;if(a){const m=xr(a),g=r&&Bo(r)?xr(r):r;let v=m.frameElement;for(;v&&r&&g!==m;){const b=Np(v),y=v.getBoundingClientRect(),x=getComputedStyle(v);y.x+=(v.clientLeft+parseFloat(x.paddingLeft))*b.x,y.y+=(v.clientTop+parseFloat(x.paddingTop))*b.y,h*=b.x,d*=b.y,f*=b.x,p*=b.y,h+=y.x,d+=y.y,v=xr(v).frameElement}}return OZ({width:f,height:p,x:h,y:d})}function DZ(t){return((wP(t)?t.ownerDocument:t.document)||window.document).documentElement}function $Z(t){if(_P(t)==="html")return t;const e=t.assignedSlot||t.parentNode||W_(t)&&t.host||DZ(t);return W_(e)?e.host:e}function TP(t){const e=$Z(t);return MZ(e)?e.ownerDocument.body:C1(e)&&EP(e)?e:TP(e)}function dh(t,e){var n;e===void 0&&(e=[]);const r=TP(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=xr(r);return i?e.concat(s,s.visualViewport||[],EP(r)?r:[]):e.concat(r,dh(r))}function BZ(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=!0,animationFrame:a=!1}=r,l=i&&!a,u=l||s?[...Bo(t)?dh(t):t.contextElement?dh(t.contextElement):[],...dh(e)]:[];u.forEach(f=>{l&&f.addEventListener("scroll",n,{passive:!0}),s&&f.addEventListener("resize",n)});let c,h=null;if(o){let f=!0;h=new ResizeObserver(()=>{f||n(),f=!1}),Bo(t)&&!a&&h.observe(t),Bo(t)||!t.contextElement||a||h.observe(t.contextElement),h.observe(e)}let d=a?V_(t):null;return a&&function f(){const p=V_(t);!d||p.x===d.x&&p.y===d.y&&p.width===d.width&&p.height===d.height||n(),d=p,c=requestAnimationFrame(f)}(),n(),()=>{var f;u.forEach(p=>{l&&p.removeEventListener("scroll",n),s&&p.removeEventListener("resize",n)}),(f=h)==null||f.disconnect(),h=null,a&&cancelAnimationFrame(c)}}var od=_.useLayoutEffect,NZ=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],ad=function(){};function LZ(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function UZ(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&s.push("".concat(LZ(t,o)));return s.filter(function(a){return a}).map(function(a){return String(a).trim()}).join(" ")}var X_=function(e){return qZ(e)?e.filter(Boolean):xs(e)==="object"&&e!==null?[e]:[]},AP=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=Ta(e,NZ);return de({},n)},nt=function(e,n,r){var i=e.cx,s=e.getStyles,o=e.getClassNames,a=e.className;return{css:s(n,e),className:i(r??{},o(n,e),a)}};function Cf(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function jZ(t){return Cf(t)?window.innerHeight:t.clientHeight}function PP(t){return Cf(t)?window.pageYOffset:t.scrollTop}function ld(t,e){if(Cf(t)){window.scrollTo(0,e);return}t.scrollTop=e}function zZ(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function HZ(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function Ec(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ad,i=PP(t),s=e-i,o=10,a=0;function l(){a+=o;var u=HZ(a,i,s,n);ld(t,u),a<n?window.requestAnimationFrame(l):r(t)}l()}function Y_(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?ld(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&ld(t,Math.max(e.offsetTop-i,0))}function GZ(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function q_(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function WZ(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var OP=!1,VZ={get passive(){return OP=!0}},Sc=typeof window<"u"?window:{};Sc.addEventListener&&Sc.removeEventListener&&(Sc.addEventListener("p",ad,VZ),Sc.removeEventListener("p",ad,!1));var XZ=OP;function YZ(t){return t!=null}function qZ(t){return Array.isArray(t)}function Cc(t,e,n){return t?e:n}var KZ=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(o){var a=jr(o,1),l=a[0];return!r.includes(l)});return s.reduce(function(o,a){var l=jr(a,2),u=l[0],c=l[1];return o[u]=c,o},{})};function ZZ(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,s=t.shouldScroll,o=t.isFixedPosition,a=t.controlHeight,l=zZ(n),u={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return u;var c=l.getBoundingClientRect(),h=c.height,d=n.getBoundingClientRect(),f=d.bottom,p=d.height,m=d.top,g=n.offsetParent.getBoundingClientRect(),v=g.top,b=o?window.innerHeight:jZ(l),y=PP(l),x=parseInt(getComputedStyle(n).marginBottom,10),S=parseInt(getComputedStyle(n).marginTop,10),C=v-S,T=b-m,A=C+y,k=h-y-m,M=f-b+y+x,N=y+m-S,L=160;switch(i){case"auto":case"bottom":if(T>=p)return{placement:"bottom",maxHeight:e};if(k>=p&&!o)return s&&Ec(l,M,L),{placement:"bottom",maxHeight:e};if(!o&&k>=r||o&&T>=r){s&&Ec(l,M,L);var I=o?T-x:k-x;return{placement:"bottom",maxHeight:I}}if(i==="auto"||o){var D=e,Z=o?C:A;return Z>=r&&(D=Math.min(Z-x-a,e)),{placement:"top",maxHeight:D}}if(i==="bottom")return s&&ld(l,M),{placement:"bottom",maxHeight:e};break;case"top":if(C>=p)return{placement:"top",maxHeight:e};if(A>=p&&!o)return s&&Ec(l,N,L),{placement:"top",maxHeight:e};if(!o&&A>=r||o&&C>=r){var q=e;return(!o&&A>=r||o&&C>=r)&&(q=o?C-S:A-S),s&&Ec(l,N,L),{placement:"top",maxHeight:q}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return u}function QZ(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var IP=function(e){return e==="auto"?"bottom":e},JZ=function(e,n){var r,i=e.placement,s=e.theme,o=s.borderRadius,a=s.spacing,l=s.colors;return de((r={label:"menu"},al(r,QZ(i),"100%"),al(r,"position","absolute"),al(r,"width","100%"),al(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},kP=_.createContext(null),eQ=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,o=e.menuPosition,a=e.menuShouldScrollIntoView,l=e.theme,u=_.useContext(kP)||{},c=u.setPortalPlacement,h=_.useRef(null),d=_.useState(i),f=jr(d,2),p=f[0],m=f[1],g=_.useState(null),v=jr(g,2),b=v[0],y=v[1],x=l.spacing.controlHeight;return od(function(){var S=h.current;if(S){var C=o==="fixed",T=a&&!C,A=ZZ({maxHeight:i,menuEl:S,minHeight:r,placement:s,shouldScroll:T,isFixedPosition:C,controlHeight:x});m(A.maxHeight),y(A.placement),c==null||c(A.placement)}},[i,s,o,a,r,c,x]),n({ref:h,placerProps:de(de({},e),{},{placement:b||IP(s),maxHeight:p})})},tQ=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return le("div",Y({},nt(e,"menu",{menu:!0}),{ref:r},i),n)},nQ=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return de({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},rQ=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return le("div",Y({},nt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),n)},RP=function(e,n){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return de({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},iQ=RP,sQ=RP,MP=function(e){var n=e.children,r=e.innerProps;return le("div",Y({},nt(e,"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)};MP.defaultProps={children:"No options"};var FP=function(e){var n=e.children,r=e.innerProps;return le("div",Y({},nt(e,"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)};FP.defaultProps={children:"Loading..."};var oQ=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},aQ=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,o=e.menuPlacement,a=e.menuPosition,l=_.useRef(null),u=_.useRef(null),c=_.useState(IP(o)),h=jr(c,2),d=h[0],f=h[1],p=_.useMemo(function(){return{setPortalPlacement:f}},[]),m=_.useState(null),g=jr(m,2),v=g[0],b=g[1],y=_.useCallback(function(){if(i){var T=GZ(i),A=a==="fixed"?0:window.pageYOffset,k=T[d]+A;(k!==(v==null?void 0:v.offset)||T.left!==(v==null?void 0:v.rect.left)||T.width!==(v==null?void 0:v.rect.width))&&b({offset:k,rect:T})}},[i,a,d,v==null?void 0:v.offset,v==null?void 0:v.rect.left,v==null?void 0:v.rect.width]);od(function(){y()},[y]);var x=_.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),i&&l.current&&(u.current=BZ(i,l.current,y,{elementResize:"ResizeObserver"in window}))},[i,y]);od(function(){x()},[x]);var S=_.useCallback(function(T){l.current=T,x()},[x]);if(!n&&a!=="fixed"||!v)return null;var C=le("div",Y({ref:S},nt(de(de({},e),{},{offset:v.offset,position:a,rect:v.rect}),"menuPortal",{"menu-portal":!0}),s),r);return le(kP.Provider,{value:p},n?Pl.createPortal(C,n):C)},lQ=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},uQ=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return le("div",Y({},nt(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),n)},cQ=function(e,n){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,o=e.selectProps.controlShouldRenderValue;return de({alignItems:"center",display:i&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},hQ=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return le("div",Y({},nt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),n)},dQ=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},fQ=function(e){var n=e.children,r=e.innerProps;return le("div",Y({},nt(e,"indicatorsContainer",{indicators:!0}),r),n)},K_,pQ=["size"],mQ={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},DP=function(e){var n=e.size,r=Ta(e,pQ);return le("svg",Y({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:mQ},r))},T1=function(e){return le(DP,Y({size:20},e),le("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},$P=function(e){return le(DP,Y({size:20},e),le("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},BP=function(e,n){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return de({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?o.neutral60:o.neutral20,padding:s*2,":hover":{color:r?o.neutral80:o.neutral40}})},gQ=BP,vQ=function(e){var n=e.children,r=e.innerProps;return le("div",Y({},nt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||le($P,null))},yQ=BP,bQ=function(e){var n=e.children,r=e.innerProps;return le("div",Y({},nt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||le(T1,null))},xQ=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return de({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},wQ=function(e){var n=e.innerProps;return le("span",Y({},n,nt(e,"indicatorSeparator",{"indicator-separator":!0})))},_Q=AZ(K_||(K_=PZ([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),EQ=function(e,n){var r=e.isFocused,i=e.size,s=e.theme,o=s.colors,a=s.spacing.baseUnit;return de({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?o.neutral60:o.neutral20,padding:a*2})},Lp=function(e){var n=e.delay,r=e.offset;return le("span",{css:S1({animation:"".concat(_Q," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},NP=function(e){var n=e.innerProps,r=e.isRtl;return le("div",Y({},nt(e,"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),le(Lp,{delay:0,offset:r}),le(Lp,{delay:160,offset:!0}),le(Lp,{delay:320,offset:!r}))};NP.defaultProps={size:4};var SQ=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.theme,o=s.colors,a=s.borderRadius,l=s.spacing;return de({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:i?o.primary:o.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},CQ=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,o=e.innerProps,a=e.menuIsOpen;return le("div",Y({ref:s},nt(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":a}),o),n)},TQ=["data"],AQ=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},PQ=function(e){var n=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,o=e.Heading,a=e.headingProps,l=e.innerProps,u=e.label,c=e.theme,h=e.selectProps;return le("div",Y({},nt(e,"group",{group:!0}),l),le(o,Y({},a,{selectProps:h,theme:c,getStyles:i,getClassNames:s,cx:r}),u),le("div",null,n))},OQ=function(e,n){var r=e.theme,i=r.colors,s=r.spacing;return de({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},IQ=function(e){var n=AP(e);n.data;var r=Ta(n,TQ);return le("div",Y({},nt(e,"groupHeading",{"group-heading":!0}),r))},kQ=["innerRef","isDisabled","isHidden","inputClassName"],RQ=function(e,n){var r=e.isDisabled,i=e.value,s=e.theme,o=s.spacing,a=s.colors;return de(de({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},MQ),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:a.neutral80})},LP={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},MQ={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":de({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},LP)},FQ=function(e){return de({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},LP)},DQ=function(e){var n=e.cx,r=e.value,i=AP(e),s=i.innerRef,o=i.isDisabled,a=i.isHidden,l=i.inputClassName,u=Ta(i,kQ);return le("div",Y({},nt(e,"input",{"input-container":!0}),{"data-value":r||""}),le("input",Y({className:n({input:!0},l),ref:s,style:FQ(a),disabled:o},u)))},$Q=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors;return de({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},BQ=function(e,n){var r=e.theme,i=r.borderRadius,s=r.colors,o=e.cropWithEllipsis;return de({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},NQ=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors,a=e.isFocused;return de({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:a?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},UP=function(e){var n=e.children,r=e.innerProps;return le("div",r,n)},LQ=UP,UQ=UP;function jQ(t){var e=t.children,n=t.innerProps;return le("div",Y({role:"button"},n),e||le(T1,{size:14}))}var zQ=function(e){var n=e.children,r=e.components,i=e.data,s=e.innerProps,o=e.isDisabled,a=e.removeProps,l=e.selectProps,u=r.Container,c=r.Label,h=r.Remove;return le(u,{data:i,innerProps:de(de({},nt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:l},le(c,{data:i,innerProps:de({},nt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),le(h,{data:i,innerProps:de(de({},nt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},a),selectProps:l}))},HQ=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.theme,a=o.spacing,l=o.colors;return de({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:s?l.neutral0:"inherit",padding:"".concat(a.baseUnit*2,"px ").concat(a.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?l.primary:l.primary50}})},GQ=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.innerRef,a=e.innerProps;return le("div",Y({},nt(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:o,"aria-disabled":r},a),n)},WQ=function(e,n){var r=e.theme,i=r.spacing,s=r.colors;return de({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},VQ=function(e){var n=e.children,r=e.innerProps;return le("div",Y({},nt(e,"placeholder",{placeholder:!0}),r),n)},XQ=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing,o=i.colors;return de({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},YQ=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return le("div",Y({},nt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},qQ={ClearIndicator:bQ,Control:CQ,DropdownIndicator:vQ,DownChevron:$P,CrossIcon:T1,Group:PQ,GroupHeading:IQ,IndicatorsContainer:fQ,IndicatorSeparator:wQ,Input:DQ,LoadingIndicator:NP,Menu:tQ,MenuList:rQ,MenuPortal:aQ,LoadingMessage:FP,NoOptionsMessage:MP,MultiValue:zQ,MultiValueContainer:LQ,MultiValueLabel:UQ,MultiValueRemove:jQ,Option:GQ,Placeholder:VQ,SelectContainer:uQ,SingleValue:YQ,ValueContainer:hQ},KQ=function(e){return de(de({},qQ),e.components)},Z_=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function ZQ(t,e){return!!(t===e||Z_(t)&&Z_(e))}function QQ(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!ZQ(t[n],e[n]))return!1;return!0}function JQ(t,e){e===void 0&&(e=QQ);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var eJ={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Q_=function(e){return le("span",Y({css:eJ},e))},tJ={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.isDisabled,s=e.tabSelectsValue,o=e.context;switch(o){case"menu":return"Use Up and Down to choose options".concat(i?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,o=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,s=e.label,o=s===void 0?"":s,a=e.selectValue,l=e.isDisabled,u=e.isSelected,c=function(p,m){return p&&p.length?"".concat(p.indexOf(m)+1," of ").concat(p.length):""};if(n==="value"&&a)return"value ".concat(o," focused, ").concat(c(a,r),".");if(n==="menu"){var h=l?" disabled":"",d="".concat(u?"selected":"focused").concat(h);return"option ".concat(o," ").concat(d,", ").concat(c(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},nJ=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,o=e.isFocused,a=e.selectValue,l=e.selectProps,u=e.id,c=l.ariaLiveMessages,h=l.getOptionLabel,d=l.inputValue,f=l.isMulti,p=l.isOptionDisabled,m=l.isSearchable,g=l.menuIsOpen,v=l.options,b=l.screenReaderStatus,y=l.tabSelectsValue,x=l["aria-label"],S=l["aria-live"],C=_.useMemo(function(){return de(de({},tJ),c||{})},[c]),T=_.useMemo(function(){var D="";if(n&&C.onChange){var Z=n.option,q=n.options,z=n.removedValue,B=n.removedValues,V=n.value,F=function(ce){return Array.isArray(ce)?null:ce},W=z||Z||F(V),R=W?h(W):"",$=q||B||void 0,P=$?$.map(h):[],G=de({isDisabled:W&&p(W,a),label:R,labels:P},n);D=C.onChange(G)}return D},[n,C,p,a,h]),A=_.useMemo(function(){var D="",Z=r||i,q=!!(r&&a&&a.includes(r));if(Z&&C.onFocus){var z={focused:Z,label:h(Z),isDisabled:p(Z,a),isSelected:q,options:s,context:Z===r?"menu":"value",selectValue:a};D=C.onFocus(z)}return D},[r,i,h,p,C,s,a]),k=_.useMemo(function(){var D="";if(g&&v.length&&C.onFilter){var Z=b({count:s.length});D=C.onFilter({inputValue:d,resultsMessage:Z})}return D},[s,d,g,C,v,b]),M=_.useMemo(function(){var D="";if(C.guidance){var Z=i?"value":g?"menu":"input";D=C.guidance({"aria-label":x,context:Z,isDisabled:r&&p(r,a),isMulti:f,isSearchable:m,tabSelectsValue:y})}return D},[x,r,i,f,p,m,g,C,a,y]),N="".concat(A," ").concat(k," ").concat(M),L=le(_.Fragment,null,le("span",{id:"aria-selection"},T),le("span",{id:"aria-context"},N)),I=(n==null?void 0:n.action)==="initial-input-focus";return le(_.Fragment,null,le(Q_,{id:u},I&&L),le(Q_,{"aria-live":S,"aria-atomic":"false","aria-relevant":"additions text"},o&&!I&&L))},mv=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],rJ=new RegExp("["+mv.map(function(t){return t.letters}).join("")+"]","g"),jP={};for(var Up=0;Up<mv.length;Up++)for(var jp=mv[Up],zp=0;zp<jp.letters.length;zp++)jP[jp.letters[zp]]=jp.base;var zP=function(e){return e.replace(rJ,function(n){return jP[n]})},iJ=JQ(zP),J_=function(e){return e.replace(/^\s+|\s+$/g,"")},sJ=function(e){return"".concat(e.label," ").concat(e.value)},oJ=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=de({ignoreCase:!0,ignoreAccents:!0,stringify:sJ,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,o=i.ignoreAccents,a=i.stringify,l=i.trim,u=i.matchFrom,c=l?J_(r):r,h=l?J_(a(n)):a(n);return s&&(c=c.toLowerCase(),h=h.toLowerCase()),o&&(c=iJ(c),h=zP(h)),u==="start"?h.substr(0,c.length)===c:h.indexOf(c)>-1}},aJ=["innerRef"];function lJ(t){var e=t.innerRef,n=Ta(t,aJ),r=KZ(n,"onExited","in","enter","exit","appear");return le("input",Y({ref:e},r,{css:S1({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var uJ=function(e){e.preventDefault(),e.stopPropagation()};function cJ(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,o=_.useRef(!1),a=_.useRef(!1),l=_.useRef(0),u=_.useRef(null),c=_.useCallback(function(g,v){if(u.current!==null){var b=u.current,y=b.scrollTop,x=b.scrollHeight,S=b.clientHeight,C=u.current,T=v>0,A=x-S-y,k=!1;A>v&&o.current&&(r&&r(g),o.current=!1),T&&a.current&&(s&&s(g),a.current=!1),T&&v>A?(n&&!o.current&&n(g),C.scrollTop=x,k=!0,o.current=!0):!T&&-v>y&&(i&&!a.current&&i(g),C.scrollTop=0,k=!0,a.current=!0),k&&uJ(g)}},[n,r,i,s]),h=_.useCallback(function(g){c(g,g.deltaY)},[c]),d=_.useCallback(function(g){l.current=g.changedTouches[0].clientY},[]),f=_.useCallback(function(g){var v=l.current-g.changedTouches[0].clientY;c(g,v)},[c]),p=_.useCallback(function(g){if(g){var v=XZ?{passive:!1}:!1;g.addEventListener("wheel",h,v),g.addEventListener("touchstart",d,v),g.addEventListener("touchmove",f,v)}},[f,d,h]),m=_.useCallback(function(g){g&&(g.removeEventListener("wheel",h,!1),g.removeEventListener("touchstart",d,!1),g.removeEventListener("touchmove",f,!1))},[f,d,h]);return _.useEffect(function(){if(e){var g=u.current;return p(g),function(){m(g)}}},[e,p,m]),function(g){u.current=g}}var eE=["boxSizing","height","overflow","paddingRight","position"],tE={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function nE(t){t.preventDefault()}function rE(t){t.stopPropagation()}function iE(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function sE(){return"ontouchstart"in window||navigator.maxTouchPoints}var oE=!!(typeof window<"u"&&window.document&&window.document.createElement),Ha=0,Ns={capture:!1,passive:!1};function hJ(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=_.useRef({}),s=_.useRef(null),o=_.useCallback(function(l){if(oE){var u=document.body,c=u&&u.style;if(r&&eE.forEach(function(p){var m=c&&c[p];i.current[p]=m}),r&&Ha<1){var h=parseInt(i.current.paddingRight,10)||0,d=document.body?document.body.clientWidth:0,f=window.innerWidth-d+h||0;Object.keys(tE).forEach(function(p){var m=tE[p];c&&(c[p]=m)}),c&&(c.paddingRight="".concat(f,"px"))}u&&sE()&&(u.addEventListener("touchmove",nE,Ns),l&&(l.addEventListener("touchstart",iE,Ns),l.addEventListener("touchmove",rE,Ns))),Ha+=1}},[r]),a=_.useCallback(function(l){if(oE){var u=document.body,c=u&&u.style;Ha=Math.max(Ha-1,0),r&&Ha<1&&eE.forEach(function(h){var d=i.current[h];c&&(c[h]=d)}),u&&sE()&&(u.removeEventListener("touchmove",nE,Ns),l&&(l.removeEventListener("touchstart",iE,Ns),l.removeEventListener("touchmove",rE,Ns)))}},[r]);return _.useEffect(function(){if(e){var l=s.current;return o(l),function(){a(l)}}},[e,o,a]),function(l){s.current=l}}var dJ=function(){return document.activeElement&&document.activeElement.blur()},fJ={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function pJ(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,s=t.onBottomArrive,o=t.onBottomLeave,a=t.onTopArrive,l=t.onTopLeave,u=cJ({isEnabled:i,onBottomArrive:s,onBottomLeave:o,onTopArrive:a,onTopLeave:l}),c=hJ({isEnabled:n}),h=function(f){u(f),c(f)};return le(_.Fragment,null,n&&le("div",{onClick:dJ,css:fJ}),e(h))}var mJ={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},gJ=function(e){var n=e.name,r=e.onFocus;return le("input",{required:!0,name:n,tabIndex:-1,onFocus:r,css:mJ,value:"",onChange:function(){}})},vJ=function(e){return e.label},yJ=function(e){return e.label},bJ=function(e){return e.value},xJ=function(e){return!!e.isDisabled},wJ={clearIndicator:yQ,container:lQ,control:SQ,dropdownIndicator:gQ,group:AQ,groupHeading:OQ,indicatorsContainer:dQ,indicatorSeparator:xQ,input:RQ,loadingIndicator:EQ,loadingMessage:sQ,menu:JZ,menuList:nQ,menuPortal:oQ,multiValue:$Q,multiValueLabel:BQ,multiValueRemove:NQ,noOptionsMessage:iQ,option:HQ,placeholder:WQ,singleValue:XQ,valueContainer:cQ},_J={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},EJ=4,HP=4,SJ=38,CJ=HP*2,TJ={baseUnit:HP,controlHeight:SJ,menuGutter:CJ},Hp={borderRadius:EJ,colors:_J,spacing:TJ},AJ={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:q_(),captureMenuScroll:!q_(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:oJ(),formatGroupLabel:vJ,getOptionLabel:yJ,getOptionValue:bJ,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:xJ,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!WZ(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function aE(t,e,n,r){var i=XP(t,e,n),s=YP(t,e,n),o=VP(t,e),a=ud(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:o,value:a,index:r}}function GP(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(o,a){return aE(t,o,e,a)}).filter(function(o){return lE(t,o)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=aE(t,n,e,r);return lE(t,s)?s:void 0}).filter(YZ)}function WP(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,tP(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function PJ(t,e){return WP(GP(t,e))}function lE(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,s=e.isSelected,o=e.label,a=e.value;return(!KP(t)||!s)&&qP(t,{label:o,value:a,data:i},r)}function OJ(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var s=e.indexOf(n);if(s>-1)return n;if(i<e.length)return e[i]}return null}function IJ(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var VP=function(e,n){return e.getOptionLabel(n)},ud=function(e,n){return e.getOptionValue(n)};function XP(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function YP(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=ud(t,e);return n.some(function(i){return ud(t,i)===r})}function qP(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var KP=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},kJ=1,ZP=function(t){TK(n,t);var e=IK(n);function n(r){var i;if(SK(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.instancePrefix="",i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.controlRef=null,i.getControlRef=function(a){i.controlRef=a},i.focusedOptionRef=null,i.getFocusedOptionRef=function(a){i.focusedOptionRef=a},i.menuListRef=null,i.getMenuListRef=function(a){i.menuListRef=a},i.inputRef=null,i.getInputRef=function(a){i.inputRef=a},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(a,l){var u=i.props,c=u.onChange,h=u.name;l.name=h,i.ariaOnChange(a,l),c(a,l)},i.setValue=function(a,l,u){var c=i.props,h=c.closeMenuOnSelect,d=c.isMulti,f=c.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:f}),h&&(i.setState({inputIsHiddenAfterUpdate:!d}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(a,{action:l,option:u})},i.selectOption=function(a){var l=i.props,u=l.blurInputOnSelect,c=l.isMulti,h=l.name,d=i.state.selectValue,f=c&&i.isOptionSelected(a,d),p=i.isOptionDisabled(a,d);if(f){var m=i.getOptionValue(a);i.setValue(d.filter(function(g){return i.getOptionValue(g)!==m}),"deselect-option",a)}else if(!p)c?i.setValue([].concat(tP(d),[a]),"select-option",a):i.setValue(a,"select-option");else{i.ariaOnChange(a,{action:"select-option",option:a,name:h});return}u&&i.blurInput()},i.removeValue=function(a){var l=i.props.isMulti,u=i.state.selectValue,c=i.getOptionValue(a),h=u.filter(function(f){return i.getOptionValue(f)!==c}),d=Cc(l,h,h[0]||null);i.onChange(d,{action:"remove-value",removedValue:a}),i.focusInput()},i.clearValue=function(){var a=i.state.selectValue;i.onChange(Cc(i.props.isMulti,[],null),{action:"clear",removedValues:a})},i.popValue=function(){var a=i.props.isMulti,l=i.state.selectValue,u=l[l.length-1],c=l.slice(0,l.length-1),h=Cc(a,c,c[0]||null);i.onChange(h,{action:"pop-value",removedValue:u})},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return UZ.apply(void 0,[i.props.classNamePrefix].concat(l))},i.getOptionLabel=function(a){return VP(i.props,a)},i.getOptionValue=function(a){return ud(i.props,a)},i.getStyles=function(a,l){var u=i.props.unstyled,c=wJ[a](l,u);c.boxSizing="border-box";var h=i.props.styles[a];return h?h(c,l):c},i.getClassNames=function(a,l){var u,c;return(u=(c=i.props.classNames)[a])===null||u===void 0?void 0:u.call(c,l)},i.getElementId=function(a){return"".concat(i.instancePrefix,"-").concat(a)},i.getComponents=function(){return KQ(i.props)},i.buildCategorizedOptions=function(){return GP(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return WP(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(a,l){i.setState({ariaSelection:de({value:a},l)})},i.onMenuMouseDown=function(a){a.button===0&&(a.stopPropagation(),a.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(a){i.blockOptionHover=!1},i.onControlMouseDown=function(a){if(!a.defaultPrevented){var l=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&i.onMenuClose():l&&i.openMenu("first"):(l&&(i.openAfterFocus=!0),i.focusInput()),a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&a.preventDefault()}},i.onDropdownIndicatorMouseDown=function(a){if(!(a&&a.type==="mousedown"&&a.button!==0)&&!i.props.isDisabled){var l=i.props,u=l.isMulti,c=l.menuIsOpen;i.focusInput(),c?(i.setState({inputIsHiddenAfterUpdate:!u}),i.onMenuClose()):i.openMenu("first"),a.preventDefault()}},i.onClearIndicatorMouseDown=function(a){a&&a.type==="mousedown"&&a.button!==0||(i.clearValue(),a.preventDefault(),i.openAfterFocus=!1,a.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(a){typeof i.props.closeMenuOnScroll=="boolean"?a.target instanceof HTMLElement&&Cf(a.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(a)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(a){var l=a.touches,u=l&&l.item(0);u&&(i.initialTouchX=u.clientX,i.initialTouchY=u.clientY,i.userIsDragging=!1)},i.onTouchMove=function(a){var l=a.touches,u=l&&l.item(0);if(u){var c=Math.abs(u.clientX-i.initialTouchX),h=Math.abs(u.clientY-i.initialTouchY),d=5;i.userIsDragging=c>d||h>d}},i.onTouchEnd=function(a){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(a.target)&&i.menuListRef&&!i.menuListRef.contains(a.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(a){i.userIsDragging||i.onControlMouseDown(a)},i.onClearIndicatorTouchEnd=function(a){i.userIsDragging||i.onClearIndicatorMouseDown(a)},i.onDropdownIndicatorTouchEnd=function(a){i.userIsDragging||i.onDropdownIndicatorMouseDown(a)},i.handleInputChange=function(a){var l=i.props.inputValue,u=a.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(u,{action:"input-change",prevInputValue:l}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(a){i.props.onFocus&&i.props.onFocus(a),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(a){var l=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(a),i.onInputChange("",{action:"input-blur",prevInputValue:l}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(a){i.blockOptionHover||i.state.focusedOption===a||i.setState({focusedOption:a})},i.shouldHideSelectedOptions=function(){return KP(i.props)},i.onValueInputFocus=function(a){a.preventDefault(),a.stopPropagation(),i.focus()},i.onKeyDown=function(a){var l=i.props,u=l.isMulti,c=l.backspaceRemovesValue,h=l.escapeClearsValue,d=l.inputValue,f=l.isClearable,p=l.isDisabled,m=l.menuIsOpen,g=l.onKeyDown,v=l.tabSelectsValue,b=l.openMenuOnFocus,y=i.state,x=y.focusedOption,S=y.focusedValue,C=y.selectValue;if(!p&&!(typeof g=="function"&&(g(a),a.defaultPrevented))){switch(i.blockOptionHover=!0,a.key){case"ArrowLeft":if(!u||d)return;i.focusValue("previous");break;case"ArrowRight":if(!u||d)return;i.focusValue("next");break;case"Delete":case"Backspace":if(d)return;if(S)i.removeValue(S);else{if(!c)return;u?i.popValue():f&&i.clearValue()}break;case"Tab":if(i.isComposing||a.shiftKey||!m||!v||!x||b&&i.isOptionSelected(x,C))return;i.selectOption(x);break;case"Enter":if(a.keyCode===229)break;if(m){if(!x||i.isComposing)return;i.selectOption(x);break}return;case"Escape":m?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:d}),i.onMenuClose()):f&&h&&i.clearValue();break;case" ":if(d)return;if(!m){i.openMenu("first");break}if(!x)return;i.selectOption(x);break;case"ArrowUp":m?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":m?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!m)return;i.focusOption("pageup");break;case"PageDown":if(!m)return;i.focusOption("pagedown");break;case"Home":if(!m)return;i.focusOption("first");break;case"End":if(!m)return;i.focusOption("last");break;default:return}a.preventDefault()}},i.instancePrefix="react-select-"+(i.props.instanceId||++kJ),i.state.selectValue=X_(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.buildFocusableOptions(),o=s.indexOf(i.state.selectValue[0]);i.state.focusedOption=s[o]}return i}return CK(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Y_(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isDisabled,a=s.menuIsOpen,l=this.state.isFocused;(l&&!o&&i.isDisabled||l&&a&&!i.menuIsOpen)&&this.focusInput(),l&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Y_(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,o=this.state,a=o.selectValue,l=o.isFocused,u=this.buildFocusableOptions(),c=i==="first"?0:u.length-1;if(!this.props.isMulti){var h=u.indexOf(a[0]);h>-1&&(c=h)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[c]},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,o=s.selectValue,a=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=o.indexOf(a);a||(l=-1);var u=o.length-1,c=-1;if(o.length){switch(i){case"previous":l===0?c=0:l===-1?c=u:c=l-1;break;case"next":l>-1&&l<u&&(c=l+1);break}this.setState({inputIsHidden:c!==-1,focusedValue:o[c]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var l=0,u=a.indexOf(o);o||(u=-1),i==="up"?l=u>0?u-1:a.length-1:i==="down"?l=(u+1)%a.length:i==="pageup"?(l=u-s,l<0&&(l=0)):i==="pagedown"?(l=u+s,l>a.length-1&&(l=a.length-1)):i==="last"&&(l=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[l],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Hp):de(de({},Hp),this.props.theme):Hp}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,o=this.getStyles,a=this.getClassNames,l=this.getValue,u=this.selectOption,c=this.setValue,h=this.props,d=h.isMulti,f=h.isRtl,p=h.options,m=this.hasValue();return{clearValue:i,cx:s,getStyles:o,getClassNames:a,getValue:l,hasValue:m,isMulti:d,isRtl:f,options:p,selectOption:u,selectProps:h,setValue:c,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,o=i.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(i,s){return XP(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return YP(this.props,i,s)}},{key:"filterOption",value:function(i,s){return qP(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:o,selectValue:a})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,o=i.isSearchable,a=i.inputId,l=i.inputValue,u=i.tabIndex,c=i.form,h=i.menuIsOpen,d=i.required,f=this.getComponents(),p=f.Input,m=this.state,g=m.inputIsHidden,v=m.ariaSelection,b=this.commonProps,y=a||this.getElementId("input"),x=de(de(de({"aria-autocomplete":"list","aria-expanded":h,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":d,role:"combobox"},h&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(v==null?void 0:v.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?_.createElement(p,Y({},b,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:y,innerRef:this.getInputRef,isDisabled:s,isHidden:g,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:c,type:"text",value:l},x)):_.createElement(lJ,Y({id:y,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:ad,onFocus:this.onInputFocus,disabled:s,tabIndex:u,inputMode:"none",form:c,value:""},x))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),o=s.MultiValue,a=s.MultiValueContainer,l=s.MultiValueLabel,u=s.MultiValueRemove,c=s.SingleValue,h=s.Placeholder,d=this.commonProps,f=this.props,p=f.controlShouldRenderValue,m=f.isDisabled,g=f.isMulti,v=f.inputValue,b=f.placeholder,y=this.state,x=y.selectValue,S=y.focusedValue,C=y.isFocused;if(!this.hasValue()||!p)return v?null:_.createElement(h,Y({},d,{key:"placeholder",isDisabled:m,isFocused:C,innerProps:{id:this.getElementId("placeholder")}}),b);if(g)return x.map(function(A,k){var M=A===S,N="".concat(i.getOptionLabel(A),"-").concat(i.getOptionValue(A));return _.createElement(o,Y({},d,{components:{Container:a,Label:l,Remove:u},isFocused:M,isDisabled:m,key:N,index:k,removeProps:{onClick:function(){return i.removeValue(A)},onTouchEnd:function(){return i.removeValue(A)},onMouseDown:function(I){I.preventDefault()}},data:A}),i.formatOptionLabel(A,"value"))});if(v)return null;var T=x[0];return _.createElement(c,Y({},d,{data:T,isDisabled:m}),this.formatOptionLabel(T,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,u=a.isLoading,c=this.state.isFocused;if(!this.isClearable()||!s||l||!this.hasValue()||u)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return _.createElement(s,Y({},o,{innerProps:h,isFocused:c}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,u=a.isLoading,c=this.state.isFocused;if(!s||!u)return null;var h={"aria-hidden":"true"};return _.createElement(s,Y({},o,{innerProps:h,isDisabled:l,isFocused:c}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,o=i.IndicatorSeparator;if(!s||!o)return null;var a=this.commonProps,l=this.props.isDisabled,u=this.state.isFocused;return _.createElement(o,Y({},a,{isDisabled:l,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var o=this.commonProps,a=this.props.isDisabled,l=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return _.createElement(s,Y({},o,{innerProps:u,isDisabled:a,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),o=s.Group,a=s.GroupHeading,l=s.Menu,u=s.MenuList,c=s.MenuPortal,h=s.LoadingMessage,d=s.NoOptionsMessage,f=s.Option,p=this.commonProps,m=this.state.focusedOption,g=this.props,v=g.captureMenuScroll,b=g.inputValue,y=g.isLoading,x=g.loadingMessage,S=g.minMenuHeight,C=g.maxMenuHeight,T=g.menuIsOpen,A=g.menuPlacement,k=g.menuPosition,M=g.menuPortalTarget,N=g.menuShouldBlockScroll,L=g.menuShouldScrollIntoView,I=g.noOptionsMessage,D=g.onMenuScrollToTop,Z=g.onMenuScrollToBottom;if(!T)return null;var q=function($,P){var G=$.type,K=$.data,ce=$.isDisabled,pe=$.isSelected,Pe=$.label,ue=$.value,we=m===K,ye=ce?void 0:function(){return i.onOptionHover(K)},Oe=ce?void 0:function(){return i.selectOption(K)},ct="".concat(i.getElementId("option"),"-").concat(P),jt={id:ct,onClick:Oe,onMouseMove:ye,onMouseOver:ye,tabIndex:-1};return _.createElement(f,Y({},p,{innerProps:jt,data:K,isDisabled:ce,isSelected:pe,key:ct,label:Pe,type:G,value:ue,isFocused:we,innerRef:we?i.getFocusedOptionRef:void 0}),i.formatOptionLabel($.data,"menu"))},z;if(this.hasOptions())z=this.getCategorizedOptions().map(function(R){if(R.type==="group"){var $=R.data,P=R.options,G=R.index,K="".concat(i.getElementId("group"),"-").concat(G),ce="".concat(K,"-heading");return _.createElement(o,Y({},p,{key:K,data:$,options:P,Heading:a,headingProps:{id:ce,data:R.data},label:i.formatGroupLabel(R.data)}),R.options.map(function(pe){return q(pe,"".concat(G,"-").concat(pe.index))}))}else if(R.type==="option")return q(R,"".concat(R.index))});else if(y){var B=x({inputValue:b});if(B===null)return null;z=_.createElement(h,p,B)}else{var V=I({inputValue:b});if(V===null)return null;z=_.createElement(d,p,V)}var F={minMenuHeight:S,maxMenuHeight:C,menuPlacement:A,menuPosition:k,menuShouldScrollIntoView:L},W=_.createElement(eQ,Y({},p,F),function(R){var $=R.ref,P=R.placerProps,G=P.placement,K=P.maxHeight;return _.createElement(l,Y({},p,F,{innerRef:$,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove,id:i.getElementId("listbox")},isLoading:y,placement:G}),_.createElement(pJ,{captureEnabled:v,onTopArrive:D,onBottomArrive:Z,lockEnabled:N},function(ce){return _.createElement(u,Y({},p,{innerRef:function(Pe){i.getMenuListRef(Pe),ce(Pe)},isLoading:y,maxHeight:K,focusedOption:m}),z)}))});return M||k==="fixed"?_.createElement(c,Y({},p,{appendTo:M,controlElement:this.controlRef,menuPlacement:A,menuPosition:k}),W):W}},{key:"renderFormField",value:function(){var i=this,s=this.props,o=s.delimiter,a=s.isDisabled,l=s.isMulti,u=s.name,c=s.required,h=this.state.selectValue;if(!(!u||a)){if(c&&!this.hasValue())return _.createElement(gJ,{name:u,onFocus:this.onValueInputFocus});if(l)if(o){var d=h.map(function(m){return i.getOptionValue(m)}).join(o);return _.createElement("input",{name:u,type:"hidden",value:d})}else{var f=h.length>0?h.map(function(m,g){return _.createElement("input",{key:"i-".concat(g),name:u,type:"hidden",value:i.getOptionValue(m)})}):_.createElement("input",{name:u,type:"hidden",value:""});return _.createElement("div",null,f)}else{var p=h[0]?this.getOptionValue(h[0]):"";return _.createElement("input",{name:u,type:"hidden",value:p})}}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,o=s.ariaSelection,a=s.focusedOption,l=s.focusedValue,u=s.isFocused,c=s.selectValue,h=this.getFocusableOptions();return _.createElement(nJ,Y({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:a,focusedValue:l,isFocused:u,selectValue:c,focusableOptions:h}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,o=i.IndicatorsContainer,a=i.SelectContainer,l=i.ValueContainer,u=this.props,c=u.className,h=u.id,d=u.isDisabled,f=u.menuIsOpen,p=this.state.isFocused,m=this.commonProps=this.getCommonProps();return _.createElement(a,Y({},m,{className:c,innerProps:{id:h,onKeyDown:this.onKeyDown},isDisabled:d,isFocused:p}),this.renderLiveRegion(),_.createElement(s,Y({},m,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:d,isFocused:p,menuIsOpen:f}),_.createElement(l,Y({},m,{isDisabled:d}),this.renderPlaceholderOrValue(),this.renderInput()),_.createElement(o,Y({},m,{isDisabled:d}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var o=s.prevProps,a=s.clearFocusValueOnUpdate,l=s.inputIsHiddenAfterUpdate,u=s.ariaSelection,c=s.isFocused,h=s.prevWasFocused,d=i.options,f=i.value,p=i.menuIsOpen,m=i.inputValue,g=i.isMulti,v=X_(f),b={};if(o&&(f!==o.value||d!==o.options||p!==o.menuIsOpen||m!==o.inputValue)){var y=p?PJ(i,v):[],x=a?OJ(s,v):null,S=IJ(s,y);b={selectValue:v,focusedOption:S,focusedValue:x,clearFocusValueOnUpdate:!1}}var C=l!=null&&i!==o?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},T=u,A=c&&h;return c&&!A&&(T={value:Cc(g,v,v[0]||null),options:v,action:"initial-input-focus"},A=!h),(u==null?void 0:u.action)==="initial-input-focus"&&(T=null),de(de(de({},b),C),{},{prevProps:i,ariaSelection:T,prevWasFocused:A})}}]),n}(_.Component);ZP.defaultProps=AJ;var RJ=_.forwardRef(function(t,e){var n=EK(t);return _.createElement(ZP,Y({ref:e},n))});const Tf=RJ;function uE(t,e){return Ee(t,{value:e})}function MJ(t){return ge(t,e=>({value:e.id,label:e.name}))}function FJ({valueChanged:t,defaultValue:e}){const{abilityTypes:n}=_.useContext($t),[r,i]=_.useState(MJ(n));return E(Tf,{className:"ability-select",classNames:{control:()=>"select",singleValue:()=>"single-value",menu:()=>"select-menu"},options:r,onChange:s=>t(s==null?void 0:s.value),defaultValue:e?uE(r,e):null,value:uE(r,e)})}function cE(t,e){t&&e&&De(Object.keys(t),n=>{e[n]&&e[n]})}function DJ({tags:t,type:e,tagsChanged:n,typeChanged:r}){const{tagColors:i,setTagColors:s}=_.useContext(Mu),[o,a]=_.useState(t||[]),[l,u]=_.useState(e),[c,h]=_.useState(cE(t,i)||{}),[d,f]=_.useState(null);_.useEffect(()=>{h(cE(t,i)||{})},[i]);const p=(y,x)=>{let S=[...o];S[x]=y,a(S),n(S)},m=()=>{a([...o,""]),n([...o,""]),f(t==null?void 0:t.length)},g=y=>{let x=[...o];x.splice(y,1),a(x),n(x)},v=y=>{u(y),r(y)},b=(y,x)=>{s({type:"add",color:y,tag:x})};return j("div",{className:"tag-select",children:[E(FJ,{defaultValue:e,valueChanged:v}),o==null?void 0:o.map((y,x)=>j("span",{className:"stat-tag form-control",style:{borderColor:i[y]},children:[E("div",{className:"tag-color",children:E(Ql,{color:i[y],colorChanged:S=>b(S,y)})}),E(Ar,{autoFocus:d===x,value:y,valueChanged:S=>p(S,x)}),E(ot,{clicked:()=>g(x),children:"x"})]},x)),E("button",{className:"add-tag",onClick:m,children:E(iA,{size:18})})]})}var $J=function(e){var n=_.useRef(e);return od(function(){n.current=e}),n},hE=function(e,n){if(typeof e=="function"){e(n);return}e.current=n},BJ=function(e,n){var r=_.useRef();return _.useCallback(function(i){e.current=i,r.current&&hE(r.current,null),r.current=n,n&&hE(n,i)},[n])},dE={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},fE=function(e){Object.keys(dE).forEach(function(n){e.style.setProperty(n,dE[n],"important")})},Zt=null,NJ=function(e,n){var r=e.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function LJ(t,e,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),Zt||(Zt=document.createElement("textarea"),Zt.setAttribute("tabindex","-1"),Zt.setAttribute("aria-hidden","true"),fE(Zt)),Zt.parentNode===null&&document.body.appendChild(Zt);var i=t.paddingSize,s=t.borderSize,o=t.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(d){var f=d;Zt.style[f]=o[f]}),fE(Zt),Zt.value=e;var l=NJ(Zt,t);Zt.value="x";var u=Zt.scrollHeight-i,c=u*n;a==="border-box"&&(c=c+i+s),l=Math.max(c,l);var h=u*r;return a==="border-box"&&(h=h+i+s),l=Math.min(h,l),[l,u]}var pE=function(){},UJ=function(e,n){return e.reduce(function(r,i){return r[i]=n[i],r},{})},jJ=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],zJ=!!document.documentElement.currentStyle,HJ=function(e){var n=window.getComputedStyle(e);if(n===null)return null;var r=UJ(jJ,n),i=r.boxSizing;if(i==="")return null;zJ&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},GJ=function(e){var n=$J(e);_.useLayoutEffect(function(){var r=function(s){n.current(s)};return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}},[])},WJ=function(e,n){var r=e.cacheMeasurements,i=e.maxRows,s=e.minRows,o=e.onChange,a=o===void 0?pE:o,l=e.onHeightChange,u=l===void 0?pE:l,c=un(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),h=c.value!==void 0,d=_.useRef(null),f=BJ(d,n),p=_.useRef(0),m=_.useRef(),g=function(){var y=d.current,x=r&&m.current?m.current:HJ(y);if(x){m.current=x;var S=LJ(x,y.value||y.placeholder||"x",s,i),C=S[0],T=S[1];p.current!==C&&(p.current=C,y.style.setProperty("height",C+"px","important"),u(C,{rowHeight:T}))}},v=function(y){h||g(),a(y)};return _.useLayoutEffect(g),GJ(g),_.createElement("textarea",Y({},c,{onChange:v,ref:f}))},VJ=_.forwardRef(WJ);const QP=VJ;function mE(t,e){return Ee(t,{value:e})}function XJ(t){return ge(t,e=>({value:e.id,label:e.name}))}function gE(t,e,n){const r=ma(vn(XJ(e),i=>!Iu(t,i.value)),"label");return n?[{value:null,label:"(None)"},...r]:r}function JP({usedOptions:t,valueChanged:e,defaultValue:n,showEmptyOption:r=!1}){const{abilities:i}=_.useContext($t),[s,o]=_.useState(gE(t,i,r));return E(Tf,{className:"ability-select",classNames:{control:()=>"select",singleValue:()=>"single-value",menu:()=>"select-menu"},options:gE(t,i,r),onChange:a=>e(a==null?void 0:a.value),defaultValue:n?mE(s,n):null,value:mE(s,n)})}function Mt({children:t,name:e,startOpen:n,disabled:r=!1}){const[i,s]=_.useState(n),o=a=>{r||s(!i)};return i?j("div",{className:Zl({accordion:!0,open:!0,disabled:r}),children:[j("button",{className:"accordion-button",onClick:o,children:[e,E(eA,{})]}),E("div",{className:"container",children:t})]}):E("div",{className:Zl({accordion:!0,closed:!0,disabled:r}),children:j("button",{className:"accordion-button",onClick:o,children:[e,E("span",{className:"icon",children:E(JT,{})})]})})}function vE(t={}){return t?ge(Object.keys(t),e=>({name:e,value:t[e]})):[]}function yE(t){let e={};return De(t,n=>{e[n.name]=n.value}),e}function YJ({ability:t,abilityChanged:e,editingCanceled:n,abilityRemoved:r,abilityCopied:i}){const{setAbilities:s}=_.useContext($t),[o,a]=_.useState(t.id),[l,u]=_.useState(t),[c,h]=_.useState(vE(t.params)),d=_.useRef(null);_.useEffect(()=>{var x;(x=d.current)==null||x.focus()},[]),_.useEffect(()=>{h(vE(t.params))},[t]);const f=(x,S)=>{u({...l,[x]:S})},p=x=>{u({...l,tags:x})},m=x=>{u({...l,type:x})},g=x=>{h(x)},v=()=>{br(e)&&e({ability:{...l,params:yE(c)},id:t.id}),s({type:"update",ability:{...l,params:yE(c),tags:Cw(l.tags)},targetId:o}),s({type:"save"})},b=()=>{br(r)&&r(t.id)},y=()=>{const x=`${t.id}-copy`;v(),s({type:"add",ability:{...l,tags:Cw(l.tags),id:x,name:`${t.name} Copy`}}),br(i)&&i({id:x})};return j("div",{className:"ability-card editable",children:[j("div",{className:"name",children:[E(ot,{color:"info",clicked:()=>{br(n)&&n()},children:E(sA,{})}),E("div",{className:"form-control",children:E("input",{ref:d,type:"text",value:l.name,onChange:x=>f("name",x.target.value)})})]}),E("div",{className:"form-control id",children:E("input",{type:"text",value:l.id,onChange:x=>f("id",x.target.value)})}),j("div",{className:"replaces",children:[E("div",{className:"replaces-name",children:"Replaces"}),E(JP,{usedOptions:[l.id],defaultValue:l.replaces,valueChanged:x=>f("replaces",x),showEmptyOption:!0})]}),j("p",{className:"description form-control",children:[" ",E(QP,{placeholder:"Description",rows:10,value:l.description||"",onChange:x=>f("description",x.target.value)})]}),j("div",{className:"accordions",children:[E(Mt,{name:"Tags",startOpen:!0,children:E("div",{className:"tags",children:E(DJ,{tags:l.tags,type:l.type,tagsChanged:p,typeChanged:m})})}),E(Mt,{name:"Params",startOpen:!1,children:E("div",{className:"params",children:E(fL,{params:c,paramsChanged:g})})})]}),j("div",{className:"buttons",children:[j(ls,{type:"outline",color:"success",clicked:v,children:["Save ",E(Zo,{})]}),j(ls,{type:"outline",color:"theme",clicked:y,children:["Save & Copy ",E(uN,{})]}),j(ls,{type:"outline",color:"danger",clicked:b,children:["Delete ",E(ga,{})]})]})]})}function qJ(t,e,n){let r=t;return De(Object.keys(e),i=>{let s=e[i];e[i]?r=r.replace(new RegExp(`{\\b${i}\\b}([^*]+)\\{/\\b${i}\\b}`),"$1"):r=r.replace(new RegExp(`{\\b${i}\\b}([^*]+)\\{/\\b${i}\\b}`),""),r=r.replace(new RegExp("%"+i+"%","g"),s)}),n&&De(Object.keys(n),i=>{let s=n[i];n[i]?r=r.replace(new RegExp(`{@\\b${i}\\b}([^*]+)\\{/\\b${i}\\b}`),"$1"):r=r.replace(new RegExp(`{@\\b${i}\\b}([^*]+)\\{/\\b${i}\\b}`),""),r=r.replace(new RegExp(`%@${i}%`,"g"),s)}),r}function bE(t,e,n){let r,i=Ie(t.params);return i&&e&&De(Object.keys(i),s=>{e[s]&&(i[s]=i[s]+e[s])}),t.params?r=qJ(t.description,i,n):br(t.description)?r=t.description({}):r=t.description,r}function Af({ability:t,modifiers:e,playerGlobalParams:n,tags:r,startOpen:i=!0,editable:s=!1,abilityCopied:o,abilityRemoved:a,forceIsEditing:l=!1,isExpanded:u}){var L,I,D,Z,q;const{abilityTypes:c}=_.useContext($t),{build:h}=_.useContext(Rs),{abilities:d}=_.useContext($t),{tagColors:f,setTagColors:p}=_.useContext(Mu),[m,g]=_.useState(n),[v,b]=_.useState(bE(t,e,m)),[y,x]=_.useState(i),[S,C]=_.useState(!1),[T,A]=_.useState((L=Ee(c,{id:t.type}))==null?void 0:L.color);_.useEffect(()=>{g(h.globalParams)},[h]),_.useEffect(()=>{qn(u)||x(!!u)},[u]),_.useEffect(()=>{l&&C(!0)},[l]);const k=z=>{C(!1),p({type:"save"})},M=z=>{o(z)},N=z=>{C(!1),a(z)};return _.useEffect(()=>{b(bE(t,e,n))},[t,e]),S?E(YJ,{ability:t,abilityChanged:k,editingCanceled:()=>C(!1),abilityCopied:M,abilityRemoved:N}):j("div",{className:"ability-card",style:{borderColor:T},children:[j("div",{className:"name",children:[s&&E(ot,{color:"mutedText",clicked:()=>C(!S),children:E(rA,{})}),j("button",{className:"card-title",onClick:()=>x(!y),children:[j("div",{className:"left",children:[t.name,E("div",{className:"dots",children:!y&&ge(t.tags,z=>E("span",{className:"dot",style:{backgroundColor:f[z]}},z))})]}),E("div",{className:"chevron",children:y?E(eA,{}):E(JT,{})})]})]}),y?j("div",{className:"collapsible-content",children:[j("div",{className:"top",children:[t.replaces&&j("div",{className:"replaces",children:["Replaces"," ",E("span",{children:(I=Ee(d,{id:t.replaces}))==null?void 0:I.name})]}),E("p",{className:"description",children:v})]}),E("div",{className:"bottom",children:j("div",{className:"tags",children:[E(nv,{color:((D=Ee(c,{id:t.type}))==null?void 0:D.color)||"#ffffff",label:(Z=Ee(c,{id:t.type}))==null?void 0:Z.name,emphasize:!0}),(q=Jd([...t.tags||[],...r||[]]))==null?void 0:q.map(z=>E(nv,{label:z},z))]})})]}):""]})}const KJ=(t,e)=>{if(t)return t!=null&&t.levels?(e==null?void 0:e.acquired[t==null?void 0:t.id])>0:e==null?void 0:e.selected[t==null?void 0:t.id]};function xE(t,e){return ge(t==null?void 0:t.providedAbilities,n=>({...Ee(e,{id:n.id}),modifiers:{}}))}function wE(t,e,n){let r={};return De(t,i=>{var o;let s={...(o=e==null?void 0:e.abilities[i==null?void 0:i.id])==null?void 0:o.modifiers};De(i.modifiers,a=>{n||(qn(s[a.id])?s[a.id]=a.modifier:s[a.id]+=a.modifier)}),r[i.id]=s}),r}function _E(t,e){if(t!=null&&t.length)return YT(t,(n,r)=>{const i=Ee(e,{id:r.id});let s;return r.levels&&r.levels>1?s=`${i==null?void 0:i.name} (${r.levels})`:s=i==null?void 0:i.name,[...n,s]},[]).join(" + ")}function ZJ(){var m;const{selectedNodeId:t,nodes:e,nodeMeta:n}=_.useContext(ei),{build:r}=_.useContext(Rs),{abilities:i}=_.useContext($t),[s,o]=_.useState(Ee(e,{id:t})),[a,l]=_.useState(xE(s,i)),[u,c]=_.useState(s?wE(s==null?void 0:s.providedAbilities,r,s==null?void 0:s.selected):{}),[h,d]=_.useState(_E(s==null?void 0:s.requires,e));_.useState(!1);let f=(m=s==null?void 0:s.colors)==null?void 0:m.selected;_.useEffect(()=>{o(Ee(e,{id:t}))},[t]),_.useEffect(()=>{var g;s&&(f=(g=s==null?void 0:s.colors)==null?void 0:g.selected,l(xE(s,i)),c(wE(s==null?void 0:s.providedAbilities,r,s==null?void 0:s.selected)),d(_E(s==null?void 0:s.requires,e)))},[s]);const p=s!=null&&s.levels?E("span",{className:"cost",children:Ru(s==null?void 0:s.levels,g=>{var v;return E("span",{className:"level-points",style:{background:(n==null?void 0:n.acquired[s==null?void 0:s.id])>g?f:"#666"},children:(v=s==null?void 0:s.levelCost)!=null&&v.length?s==null?void 0:s.levelCost[g]:s==null?void 0:s.levelCost},g)})}):E("span",{className:"cost",children:E("span",{className:"level-points",style:{background:KJ(s,n)?f:"#666"},children:(s==null?void 0:s.cost)>1?s==null?void 0:s.cost:""})});return s?j("div",{className:"info-panel",children:[E("div",{className:"edit"}),p,j("div",{className:"title",children:[s==null?void 0:s.name," "]}),E("div",{className:"divider",style:{backgroundColor:f}}),n!=null&&n.available[s==null?void 0:s.id]?null:j("div",{className:"requires",children:["Requires ",E("span",{className:"skill",children:h})]}),E("div",{className:"info-description",children:s==null?void 0:s.description}),a.length>0&&j("div",{className:"abilities",children:[E("div",{className:"title",children:"Related Abilities:"}),a&&a.map(g=>E(Af,{ability:g,modifiers:u[g.id]},g.id))]})]}):E("div",{className:"info-panel",children:"Select a Node "})}const $i=_.createContext({}),QJ=({children:t})=>{const[e,n]=_.useState("build"),[r,i]=_.useState(!0),[s,o]=_.useState(!0);return E($i.Provider,{value:{appMode:e,setAppMode:n,rightExpanded:r,setRightExpanded:i,leftExpanded:s,setLeftExpanded:o},children:t})};function EE({itemSelected:t}){return j("div",{className:"left-menu",children:[E("button",{type:"button",onClick:r=>t(r,"info"),children:E(dN,{})}),E("button",{type:"button",onClick:r=>t(r,"settings"),children:E(YN,{})})]})}function JJ({children:t,itemSelected:e,expanded:n}){const[r,i]=_.useState(null),{leftExpanded:s,setLeftExpanded:o,rightExpanded:a,setRightExpanded:l}=_.useContext($i),u=(c,h)=>{(h===r||!s)&&o(!s),i(h),e(h)};return s?j("div",{className:"sidebar-left",children:[E(EE,{itemSelected:u}),E("div",{className:"sidebar-left-panel",children:t})]}):E("div",{className:"sidebar-left",children:E(EE,{itemSelected:u})})}function eee(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,nd(t,e)}function Gp(t){return t&&t.stopPropagation&&t.stopPropagation(),t&&t.preventDefault&&t.preventDefault(),!1}function Wp(t){return t==null?[]:Array.isArray(t)?t.slice():[t]}function Tc(t){return t!==null&&t.length===1?t[0]:t.slice()}function Ac(t){Object.keys(t).forEach(e=>{typeof document<"u"&&document.addEventListener(e,t[e],!1)})}function Ui(t,e){return gv(function(n,r){let i=n;return i<=r.min&&(i=r.min),i>=r.max&&(i=r.max),i}(t,e),e)}function gv(t,e){const n=(t-e.min)%e.step;let r=t-n;return 2*Math.abs(n)>=e.step&&(r+=n>0?e.step:-e.step),parseFloat(r.toFixed(5))}let vv=function(t){function e(r){var i;(i=t.call(this,r)||this).onKeyUp=()=>{i.onEnd()},i.onMouseUp=()=>{i.onEnd(i.getMouseEventMap())},i.onTouchEnd=()=>{i.onEnd(i.getTouchEventMap())},i.onBlur=()=>{i.setState({index:-1},i.onEnd(i.getKeyDownEventMap()))},i.onMouseMove=a=>{i.setState({pending:!0});const l=i.getMousePosition(a),u=i.getDiffPosition(l[0]),c=i.getValueFromPosition(u);i.move(c)},i.onTouchMove=a=>{if(a.touches.length>1)return;i.setState({pending:!0});const l=i.getTouchPosition(a);if(i.isScrolling===void 0){const h=l[0]-i.startPosition[0],d=l[1]-i.startPosition[1];i.isScrolling=Math.abs(d)>Math.abs(h)}if(i.isScrolling)return void i.setState({index:-1});const u=i.getDiffPosition(l[0]),c=i.getValueFromPosition(u);i.move(c)},i.onKeyDown=a=>{if(!(a.ctrlKey||a.shiftKey||a.altKey||a.metaKey))switch(i.setState({pending:!0}),a.key){case"ArrowLeft":case"ArrowDown":case"Left":case"Down":a.preventDefault(),i.moveDownByStep();break;case"ArrowRight":case"ArrowUp":case"Right":case"Up":a.preventDefault(),i.moveUpByStep();break;case"Home":a.preventDefault(),i.move(i.props.min);break;case"End":a.preventDefault(),i.move(i.props.max);break;case"PageDown":a.preventDefault(),i.moveDownByStep(i.props.pageFn(i.props.step));break;case"PageUp":a.preventDefault(),i.moveUpByStep(i.props.pageFn(i.props.step))}},i.onSliderMouseDown=a=>{if(!i.props.disabled&&a.button!==2){if(i.setState({pending:!0}),!i.props.snapDragDisabled){const l=i.getMousePosition(a);i.forceValueFromPosition(l[0],u=>{i.start(u,l[0]),Ac(i.getMouseEventMap())})}Gp(a)}},i.onSliderClick=a=>{if(!i.props.disabled&&i.props.onSliderClick&&!i.hasMoved){const l=i.getMousePosition(a),u=Ui(i.calcValue(i.calcOffsetFromPosition(l[0])),i.props);i.props.onSliderClick(u)}},i.createOnKeyDown=a=>l=>{i.props.disabled||(i.start(a),Ac(i.getKeyDownEventMap()),Gp(l))},i.createOnMouseDown=a=>l=>{if(i.props.disabled||l.button===2)return;i.setState({pending:!0});const u=i.getMousePosition(l);i.start(a,u[0]),Ac(i.getMouseEventMap()),Gp(l)},i.createOnTouchStart=a=>l=>{if(i.props.disabled||l.touches.length>1)return;i.setState({pending:!0});const u=i.getTouchPosition(l);i.startPosition=u,i.isScrolling=void 0,i.start(a,u[0]),Ac(i.getTouchEventMap()),function(c){c.stopPropagation&&c.stopPropagation()}(l)},i.handleResize=()=>{const a=window.setTimeout(()=>{i.pendingResizeTimeouts.shift(),i.resize()},0);i.pendingResizeTimeouts.push(a)},i.renderThumb=(a,l)=>{const u=i.props.thumbClassName+" "+i.props.thumbClassName+"-"+l+" "+(i.state.index===l?i.props.thumbActiveClassName:""),c={ref:d=>{i["thumb"+l]=d},key:i.props.thumbClassName+"-"+l,className:u,style:a,onMouseDown:i.createOnMouseDown(l),onTouchStart:i.createOnTouchStart(l),onFocus:i.createOnKeyDown(l),tabIndex:0,role:"slider","aria-orientation":i.props.orientation,"aria-valuenow":i.state.value[l],"aria-valuemin":i.props.min,"aria-valuemax":i.props.max,"aria-label":Array.isArray(i.props.ariaLabel)?i.props.ariaLabel[l]:i.props.ariaLabel,"aria-labelledby":Array.isArray(i.props.ariaLabelledby)?i.props.ariaLabelledby[l]:i.props.ariaLabelledby},h={index:l,value:Tc(i.state.value),valueNow:i.state.value[l]};return i.props.ariaValuetext&&(c["aria-valuetext"]=typeof i.props.ariaValuetext=="string"?i.props.ariaValuetext:i.props.ariaValuetext(h)),i.props.renderThumb(c,h)},i.renderTrack=(a,l,u)=>{const c={key:i.props.trackClassName+"-"+a,className:i.props.trackClassName+" "+i.props.trackClassName+"-"+a,style:i.buildTrackStyle(l,i.state.upperBound-u)},h={index:a,value:Tc(i.state.value)};return i.props.renderTrack(c,h)};let s=Wp(r.value);s.length||(s=Wp(r.defaultValue)),i.pendingResizeTimeouts=[];const o=[];for(let a=0;a<s.length;a+=1)s[a]=Ui(s[a],r),o.push(a);return i.resizeObserver=null,i.resizeElementRef=w.createRef(),i.state={index:-1,upperBound:0,sliderLength:0,value:s,zIndices:o},i}eee(e,t);var n=e.prototype;return n.componentDidMount=function(){typeof window<"u"&&(this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.resizeElementRef.current),this.resize())},e.getDerivedStateFromProps=function(r,i){const s=Wp(r.value);return s.length?i.pending?null:{value:s.map(o=>Ui(o,r))}:null},n.componentDidUpdate=function(){this.state.upperBound===0&&this.resize()},n.componentWillUnmount=function(){this.clearPendingResizeTimeouts(),this.resizeObserver&&this.resizeObserver.disconnect()},n.onEnd=function(r){r&&function(i){Object.keys(i).forEach(s=>{typeof document<"u"&&document.removeEventListener(s,i[s],!1)})}(r),this.hasMoved&&this.fireChangeEvent("onAfterChange"),this.setState({pending:!1}),this.hasMoved=!1},n.getValue=function(){return Tc(this.state.value)},n.getClosestIndex=function(r){let i=Number.MAX_VALUE,s=-1;const{value:o}=this.state,a=o.length;for(let l=0;l<a;l+=1){const u=this.calcOffset(o[l]),c=Math.abs(r-u);c<i&&(i=c,s=l)}return s},n.getMousePosition=function(r){return[r["page"+this.axisKey()],r["page"+this.orthogonalAxisKey()]]},n.getTouchPosition=function(r){const i=r.touches[0];return[i["page"+this.axisKey()],i["page"+this.orthogonalAxisKey()]]},n.getKeyDownEventMap=function(){return{keydown:this.onKeyDown,keyup:this.onKeyUp,focusout:this.onBlur}},n.getMouseEventMap=function(){return{mousemove:this.onMouseMove,mouseup:this.onMouseUp}},n.getTouchEventMap=function(){return{touchmove:this.onTouchMove,touchend:this.onTouchEnd}},n.getValueFromPosition=function(r){const i=r/(this.state.sliderLength-this.state.thumbSize)*(this.props.max-this.props.min);return Ui(this.state.startValue+i,this.props)},n.getDiffPosition=function(r){let i=r-this.state.startPosition;return this.props.invert&&(i*=-1),i},n.resize=function(){const{slider:r,thumb0:i}=this;if(!r||!i)return;const s=this.sizeKey(),o=r.getBoundingClientRect(),a=r[s],l=o[this.posMaxKey()],u=o[this.posMinKey()],c=i.getBoundingClientRect()[s.replace("client","").toLowerCase()],h=a-c,d=Math.abs(l-u);this.state.upperBound===h&&this.state.sliderLength===d&&this.state.thumbSize===c||this.setState({upperBound:h,sliderLength:d,thumbSize:c})},n.calcOffset=function(r){const i=this.props.max-this.props.min;return i===0?0:(r-this.props.min)/i*this.state.upperBound},n.calcValue=function(r){return r/this.state.upperBound*(this.props.max-this.props.min)+this.props.min},n.calcOffsetFromPosition=function(r){const{slider:i}=this,s=i.getBoundingClientRect(),o=s[this.posMaxKey()],a=s[this.posMinKey()];let l=r-(window["page"+this.axisKey()+"Offset"]+(this.props.invert?o:a));return this.props.invert&&(l=this.state.sliderLength-l),l-=this.state.thumbSize/2,l},n.forceValueFromPosition=function(r,i){const s=this.calcOffsetFromPosition(r),o=this.getClosestIndex(s),a=Ui(this.calcValue(s),this.props),l=this.state.value.slice();l[o]=a;for(let u=0;u<l.length-1;u+=1)if(l[u+1]-l[u]<this.props.minDistance)return;this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0,this.setState({value:l},()=>{i(o),this.fireChangeEvent("onChange")})},n.clearPendingResizeTimeouts=function(){do{const r=this.pendingResizeTimeouts.shift();clearTimeout(r)}while(this.pendingResizeTimeouts.length)},n.start=function(r,i){const s=this["thumb"+r];s&&s.focus();const{zIndices:o}=this.state;o.splice(o.indexOf(r),1),o.push(r),this.setState(a=>({startValue:a.value[r],startPosition:i!==void 0?i:a.startPosition,index:r,zIndices:o}))},n.moveUpByStep=function(r){r===void 0&&(r=this.props.step);const i=Ui(this.state.value[this.state.index]+r,this.props);this.move(Math.min(i,this.props.max))},n.moveDownByStep=function(r){r===void 0&&(r=this.props.step);const i=Ui(this.state.value[this.state.index]-r,this.props);this.move(Math.max(i,this.props.min))},n.move=function(r){const{index:i,value:s}=this.state,{length:o}=s,a=s[i];if(r===a)return;this.hasMoved||this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0;const{pearling:l,max:u,min:c,minDistance:h}=this.props;if(!l){if(i>0){const d=s[i-1];r<d+h&&(r=d+h)}if(i<o-1){const d=s[i+1];r>d-h&&(r=d-h)}}s[i]=r,l&&o>1&&(r>a?(this.pushSucceeding(s,h,i),function(d,f,p,m){for(let g=0;g<d;g+=1){const v=m-g*p;f[d-1-g]>v&&(f[d-1-g]=v)}}(o,s,h,u)):r<a&&(this.pushPreceding(s,h,i),function(d,f,p,m){for(let g=0;g<d;g+=1){const v=m+g*p;f[g]<v&&(f[g]=v)}}(o,s,h,c))),this.setState({value:s},this.fireChangeEvent.bind(this,"onChange"))},n.pushSucceeding=function(r,i,s){let o,a;for(o=s,a=r[o]+i;r[o+1]!==null&&a>r[o+1];o+=1,a=r[o]+i)r[o+1]=gv(a,this.props)},n.pushPreceding=function(r,i,s){for(let o=s,a=r[o]-i;r[o-1]!==null&&a<r[o-1];o-=1,a=r[o]-i)r[o-1]=gv(a,this.props)},n.axisKey=function(){return this.props.orientation==="vertical"?"Y":"X"},n.orthogonalAxisKey=function(){return this.props.orientation==="vertical"?"X":"Y"},n.posMinKey=function(){return this.props.orientation==="vertical"?this.props.invert?"bottom":"top":this.props.invert?"right":"left"},n.posMaxKey=function(){return this.props.orientation==="vertical"?this.props.invert?"top":"bottom":this.props.invert?"left":"right"},n.sizeKey=function(){return this.props.orientation==="vertical"?"clientHeight":"clientWidth"},n.fireChangeEvent=function(r){this.props[r]&&this.props[r](Tc(this.state.value),this.state.index)},n.buildThumbStyle=function(r,i){const s={position:"absolute",touchAction:"none",willChange:this.state.index>=0?this.posMinKey():void 0,zIndex:this.state.zIndices.indexOf(i)+1};return s[this.posMinKey()]=r+"px",s},n.buildTrackStyle=function(r,i){const s={position:"absolute",willChange:this.state.index>=0?this.posMinKey()+","+this.posMaxKey():void 0};return s[this.posMinKey()]=r,s[this.posMaxKey()]=i,s},n.buildMarkStyle=function(r){var i;return(i={position:"absolute"})[this.posMinKey()]=r,i},n.renderThumbs=function(r){const{length:i}=r,s=[];for(let a=0;a<i;a+=1)s[a]=this.buildThumbStyle(r[a],a);const o=[];for(let a=0;a<i;a+=1)o[a]=this.renderThumb(s[a],a);return o},n.renderTracks=function(r){const i=[],s=r.length-1;i.push(this.renderTrack(0,0,r[0]));for(let o=0;o<s;o+=1)i.push(this.renderTrack(o+1,r[o],r[o+1]));return i.push(this.renderTrack(s+1,r[s],this.state.upperBound)),i},n.renderMarks=function(){let{marks:r}=this.props;const i=this.props.max-this.props.min+1;return typeof r=="boolean"?r=Array.from({length:i}).map((s,o)=>o):typeof r=="number"&&(r=Array.from({length:i}).map((s,o)=>o).filter(s=>s%r==0)),r.map(parseFloat).sort((s,o)=>s-o).map(s=>{const o=this.calcOffset(s),a={key:s,className:this.props.markClassName,style:this.buildMarkStyle(o)};return this.props.renderMark(a)})},n.render=function(){const r=[],{value:i}=this.state,s=i.length;for(let u=0;u<s;u+=1)r[u]=this.calcOffset(i[u],u);const o=this.props.withTracks?this.renderTracks(r):null,a=this.renderThumbs(r),l=this.props.marks?this.renderMarks():null;return w.createElement("div",{ref:u=>{this.slider=u,this.resizeElementRef.current=u},style:{position:"relative"},className:this.props.className+(this.props.disabled?" disabled":""),onMouseDown:this.onSliderMouseDown,onClick:this.onSliderClick},o,a,l)},e}(w.Component);vv.displayName="ReactSlider",vv.defaultProps={min:0,max:100,step:1,pageFn:t=>10*t,minDistance:0,defaultValue:0,orientation:"horizontal",className:"slider",thumbClassName:"thumb",thumbActiveClassName:"active",trackClassName:"track",markClassName:"mark",withTracks:!0,pearling:!1,disabled:!1,snapDragDisabled:!1,invert:!1,marks:[],renderThumb:t=>w.createElement("div",t),renderTrack:t=>w.createElement("div",t),renderMark:t=>w.createElement("span",t)};var Pc=vv;function tee({graphEvents$:t}){const[e,n]=_.useState(50),[r,i]=_.useState(50),[s,o]=_.useState(50),[a,l]=_.useState(50),[u,c]=_.useState({});_.useEffect(()=>{},[u]);const h=g=>{n(g),m()},d=g=>{i(g),m()},f=g=>{o(g),m()},p=g=>{l(g),m()},m=()=>{t.next({event:"forcesUpdated",data:{forces:{f1:e,f2:r,f3:s,f4:a}}})};return j("div",{children:[E("div",{className:"slider",children:E(Pc,{min:0,max:100,defaultValue:[25],className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:h,renderThumb:(g,v)=>E("div",{...g,children:v.valueNow})})}),E("div",{className:"slider",children:E(Pc,{min:0,max:50,defaultValue:[25],className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:d,renderThumb:(g,v)=>E("div",{...g,children:v.valueNow})})}),E("div",{className:"slider",children:E(Pc,{defaultValue:[70],className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:f,renderThumb:(g,v)=>E("div",{...g,children:v.valueNow})})}),E("div",{className:"slider",children:E(Pc,{className:"horizontal-slider",thumbClassName:"thumb",trackClassName:"track",onChange:p,renderThumb:(g,v)=>E("div",{...g,children:v.valueNow})})})]})}function nee(t,e){const n=ge(t,r=>r.id);return vn(e,r=>!Iu(n,r.value))}function yv({providedStats:t=[],providedStatsChanged:e,options:n,name:r}){const i=(u,c)=>{const h=Ie(t);h[c].id=u.value,e(h)},s=(u,c)=>{const h=Ie(t);h[c].modifier=parseInt(u.target.value,10),e(h)},o=(u,c)=>{let h=Ie(t);h=vn(h,(d,f)=>c!==f),e(h)},a=()=>{let u=Ie(t);u.push({id:"",modifier:1,set:!1}),e(u)},l=u=>{const c=Ie(t);c[u].set=!c[u].set,e(c)};return j("div",{className:"stats-panel",children:[t!=null&&t.length?ge(t,(u,c)=>j("div",{className:"stat-edit-line",children:[E("button",{className:"remove",onClick:h=>o(h,c),children:E(oA,{})}),E(Tf,{classNames:{control:()=>"select",singleValue:()=>"single-value",menu:()=>"select-menu"},options:nee(t,n),onChange:h=>i(h,c),value:Ee(n,{value:u.id})}),E("input",{type:"number",value:u==null?void 0:u.modifier,onChange:h=>s(h,c)}),E("button",{onClick:h=>l(c),style:{color:u!=null&&u.set?"#fff":"#222"},children:E(_N,{})})]},c)):"",E("div",{className:"add-button",children:j("button",{onClick:a,children:["Add ",r,E(or,{})]})})]})}function ree(t,e){const n=Ee(e,{id:t});return n!=null&&n.params?ge(Object.keys(n.params),r=>({label:r,value:r})):[]}function iee(t){let e={};return De(t,n=>{e[n.id]=n.modifier}),e}function see({providedAbilities:t,providedAbilitiesChanged:e}){const n=_.useContext($t).abilities,[r,i]=_.useState(t),s=(c,h)=>{const d=Ie(r);d[h].id=c,d[h].modifiers=[],e(d)},o=(c,h)=>{let d=Ie(r);d=vn(d,(f,p)=>h!==p),e(d)},a=()=>{let c=Ie(r);c.push({id:"",modifier:1}),e(c)},l=(c,h)=>{const d=Ie(r);d[h].modifiers=c,e(d)},u=(c,h)=>{const d=Ie(r);d[h].gain=!d[h].gain,e(d)};return _.useEffect(()=>{i(()=>t)},[t]),j("div",{className:"abilities-panel",children:[r.length?ge(r,(c,h)=>{var d;return j("div",{className:"stat-edit-line",children:[j("div",{className:"ability-select",children:[E("button",{className:"remove-ability-button",onClick:f=>o(f,h),children:E(oA,{})}),E(JP,{usedOptions:ge(r,"id"),defaultValue:c.id,valueChanged:f=>s(f,h)})]}),c.id?j("div",{className:"ability-options",children:[Ee(n,{id:c==null?void 0:c.id})&&E(Af,{ability:Ee(n,{id:c==null?void 0:c.id}),modifiers:iee(c.modifiers),isPlayerAbility:!1,editable:!0,startOpen:!1}),E("div",{className:"grant",children:j("label",{children:["Grant",E("input",{type:"checkbox",checked:c.gain,onChange:f=>u(f,h)})]})}),(d=Ee(n,{id:c==null?void 0:c.id}))!=null&&d.params?E(yv,{providedStats:c.modifiers,providedStatsChanged:f=>l(f,h),options:ree(c.id,n),name:"Modifier"}):""]}):""]},h)}):"",E("div",{className:"add-button",children:j("button",{onClick:a,children:["Add Ability",E(or,{})]})})]})}function SE(t,e,n){if(e){if(t!=null&&t.length)return t;{const r=[];return Ru(e,()=>r.push(t||n||1)),r}}else return[n||1]}function Vp(t,e,n){n({levels:t,levelCost:e})}function oee({levels:t,levelCost:e,cost:n,color:r,levelsChanged:i}){const[s,o]=_.useState(t||1),[a,l]=_.useState(SE(e,t||1,n||1));_.useEffect(()=>{o(t||1),l(SE(e,t,n))},[t,e,n]);const u=d=>{let f=s+1,p=a;p.length&&(p=[...p,1]),Vp(f,p,i)},c=d=>{let f=t,p=e;t>1&&(f=t-1,p.length&&(p=p.slice(0,p.length-1))),Vp(f,p,i)},h=(d,f)=>{let p=Ie(a);d.shiftKey?p[f]>1&&(p[f]-=1):p[f]+=1,Vp(s,p,i)};return j("div",{className:"cost-panel",children:[E("button",{onClick:c,children:E(CN,{})}),E("div",{className:"levels",children:Ru(s,d=>E("span",{onClick:f=>h(f,d),className:"level-points",children:E("span",{className:"level-dot",style:{background:r},children:a.length?a[d]:a})},d))}),E("button",{onClick:u,children:E(or,{})})]})}const Gu=_.createContext({});function aee(){const t=window.localStorage.getItem("dragon-stats");return t?JSON.parse(t):[]}const lee=(t,e)=>{const{index:n,stat:r,stats:i,type:s}=e;let o=Ie(t);if(s==="save")try{window.localStorage.setItem("dragon-stats",JSON.stringify(o))}catch{}if(s==="add")return o=[...o,r],o;if(s==="set")return o=i,window.localStorage.setItem("dragon-stats",JSON.stringify(o)),o;if(s==="update")return o[n]=r,o;if(s==="remove"){const a=t.findIndex(u=>u.id===r.id);if(a<0)return t;const l=[...t];return l.splice(a,1),l}return t},uee=({children:t})=>{const[e,n]=_.useReducer(lee,aee());return E(Gu.Provider,{value:{stats:e,setStats:n},children:t})};function CE(t,e,n){return n?ge(e,r=>Ee(t,{value:r})):Ee(t,{value:e})}function cee(t){return ge(t,e=>({value:e.id,label:e.name}))}function Xp(t,e,n){const r=ma(vn(cee(e),i=>!Iu(t,i.value)),"label");return n?[{value:null,label:"(None)"},...r]:r}function eO({usedOptions:t,valueChanged:e,defaultValue:n,showEmptyOption:r=!1,isMulti:i=!1}){const{nodes:s}=_.useContext(ei),[o,a]=_.useState(Xp(t,s,r)),[l,u]=_.useState(CE(o,n,i));return _.useEffect(()=>{a(Xp(t,s,r))},[s]),_.useEffect(()=>{a(Xp(t,s,r))},[n]),_.useEffect(()=>{u(CE(o,n,i))},[o]),E(Tf,{isMulti:i,className:"node-select",classNames:{control:()=>"select",singleValue:()=>"single-value",menu:()=>"select-menu"},options:o,onChange:h=>{e(i?ge(h,"value"):h.value)},defaultValue:l,value:l})}function hee({value:t,requirementType:e,valueChanged:n,nodeId:r}){const[i,s]=_.useState(t),[o,a]=_.useState(e==="or"),{nodes:l}=_.useContext(ei);_.useEffect(()=>{s(t),a(e==="or")},[t,e]);const u=(f,p,m)=>{let g=[...i];g[p][m]=f,n({requires:g,requirementType:o?"or":"and"})},c=f=>{let p=[...i];p.splice(f,1),n({requires:p,requirementType:o?"or":"and"})},h=()=>{let f=[...i];f.push({levels:"1"}),n({requires:f,requirementType:o?"or":"and"})},d=()=>{n({requires:i,requirementType:o?"and":"or"})};return j("div",{className:"require-select",children:[ge(i,(f,p)=>{var m;return j("div",{className:"requirement",children:[j("div",{className:"select",children:[E(eO,{defaultValue:f.id,usedOptions:[r],valueChanged:g=>u(g,p,"id")}),((m=Ee(l,{id:f.id}))==null?void 0:m.levels)>1?E(Dy,{value:f.levels,valueChanged:g=>u(g,p,"levels"),min:1,max:Ee(l,{id:f.id}).levels||1}):E("span",{})]}),E(ot,{clicked:g=>c(p),color:"danger",children:E(nL,{})})]},p)}),i.length>1&&E("div",{className:"requirementType",children:j("label",{children:[E("input",{type:"checkbox",checked:o,onChange:d}),"Requires only one"]})}),E(ot,{color:"mutdWhite",clicked:h,children:E(or,{})})]})}function dee({value:t,valueChanged:e,nodeId:n}){const[r,i]=_.useState(t);return _.useEffect(()=>{i(t)},[t]),E("div",{className:"require-select",children:E("div",{className:"requirement",children:E("div",{className:"select",children:E(eO,{defaultValue:r,usedOptions:[n],valueChanged:o=>{let a=[...r];a=o,e(a)},isMulti:!0})})})})}function fee(t){return ge(t,e=>({value:e.id,label:e.name}))}function pee(t){return ge(t,e=>({value:e.id,label:e.id}))}function mee({graphEvents:t}){const{selectedNodeId:e,nodes:n,setNodes:r}=_.useContext(ei),{stats:i}=_.useContext(Gu),[s,o]=_.useState(Ee(n,{id:e})||{}),[a,l]=_.useState(s.id),[u,c]=_.useState(s.name),[h,d]=_.useState(s.description),[f,p]=_.useState(s.levels),[m,g]=_.useState(s.levelCost),[v,b]=_.useState(s.cost),[y,x]=_.useState(s.providedStats||[]),[S,C]=_.useState(s.providedAbilities||[]),[T,A]=_.useState(s.colors||{}),[k,M]=_.useState(s.id),[N,L]=_.useState(s.requires||[]),[I,D]=_.useState(s.requirementType||"and"),[Z,q]=_.useState(!1),{globalParams:z,setGlobalParams:B}=_.useContext($t),[V,F]=_.useState(s.globalParams||[]),W=_.useRef(null),R=_.useRef(s.id),[$,P]=_.useState(s.exclusiveWith||[]);_.useEffect(()=>{o(Ee(n,{id:e})||{}),q(!1)},[e]);const G=_e=>{l(_e.target.value),R.current=_e.target.value,q(!0)},K=_e=>{c(_e.target.value),q(!0)},ce=_e=>{d(_e.target.value),q(!0)},pe=_e=>{var Db,$b;ue();const bn=(Db=vn(n,Bb=>ku(Bb.requires,{id:Bb.id})))==null?void 0:Db.length;let Fb={name:"NEW NODE",requires:[{id:R.current,levels:1}],id:`${R.current}-${bn+1}-${Iw(["a","b","c","d","e"])}${Iw(["x","z","y","v","d"])}`,colors:T};r({type:"add",node:Fb}),t.next({event:"nodeAdded",data:{node:Fb}}),($b=W.current)==null||$b.focus()},Pe=_e=>{t.next({event:"nodeDeleted",data:{id:a}}),r({type:"remove",node:s})},ue=_e=>{const bn={id:a,name:u,requires:N,requirementType:N.length<2?"and":I,description:h,globalParams:V,exclusiveWith:$,colors:T};f===1?m!=null&&m.length?bn.cost=m[0]:bn.cost=1:(bn.levels=f,bn.levelCost=m),y.length&&(bn.providedStats=y),S.length&&(bn.providedAbilities=S),t.next({event:"nodeEdited",data:{id:k,node:bn}}),q(!1),r({type:"update",node:bn,targetId:k})},we=_e=>{x(_e),q(!0)},ye=_e=>{C(_e),q(!0)},Oe=_e=>{g(_e.levelCost),p(_e.levels),q(!0)},ct=(_e,bn)=>{A({...T,[bn]:_e}),q(!0)},jt=_e=>{L(_e.requires),D(_e.requirementType),q(!0)},Li=_e=>{F(_e),q(!0)},Kf=_e=>{P(_e),q(!0)};return w.useEffect(()=>{A(s.colors||{}),l(s.id),R.current=s.id,c(s.name),d(s.description),p(s.levels||1),g(s.levelCost),b(s.cost),x(s.providedStats||[]),C(s.providedAbilities||[]),M(s.id),L(s.requires||[]),D(s.requirementType||"and"),F(s.globalParams||[]),P(s.exclusiveWith||[])},[s]),s.id?j("div",{className:"edit-panel",children:[E("div",{className:"edit-panel-top",children:E(oee,{levels:f,levelCost:m,cost:v,color:T.selected,levelsChanged:Oe})}),E("div",{className:"form-control name",children:E("input",{type:"text",ref:W,onChange:K,value:u||""})}),E("div",{className:"form-control id",children:E("input",{type:"text",onChange:G,value:a||""})}),j("div",{className:"colors",children:[E("div",{className:"color-item",children:E(Ql,{color:T.unavailable,colorChanged:_e=>ct(_e,"unavailable")})}),E("div",{className:"color-item",children:E(Ql,{color:T.selected,colorChanged:_e=>ct(_e,"selected")})})]}),E("div",{className:"form-control node-description",children:E(QP,{rows:6,onChange:ce,value:h||""})}),j("div",{className:"accordions",children:[E(Mt,{name:"Requires",startOpen:!1,children:E("div",{className:"requires",children:E(hee,{requirementType:I,value:N,valueChanged:jt,nodeId:a})})}),E(Mt,{name:"Excludes",startOpen:!1,children:E("div",{className:"excludes",children:E(dee,{value:$,valueChanged:Kf,nodeId:a})})}),E(Mt,{name:"Stats",startOpen:!1,children:E(yv,{providedStats:y,providedStatsChanged:we,options:fee(i),name:"Stat"})}),E(Mt,{name:"Abilities",startOpen:!1,children:E(see,{providedAbilities:S,providedAbilitiesChanged:ye})}),E(Mt,{name:"Global Params",startOpen:!1,children:E(yv,{providedStats:V,providedStatsChanged:Li,options:pee(z),name:"Stat"})})]}),j("div",{className:"buttons",children:[j(ls,{disabled:!Z,type:"outline",color:"success",clicked:ue,children:[E(Zo,{}),Z?"Save Node":"Node Saved"]}),j(ls,{type:"outline",color:"success",clicked:pe,children:[j("span",{children:[E(Zo,{}),E(or,{})]}),"Save and Add Child Node"]}),j(ls,{type:"outline",clicked:Pe,color:"danger",children:[E(ga,{}),"Delete Node"]})]})]}):E("div",{className:"edit-panel",children:"Select a Node"})}function gee({graphEvents$:t}){const{node:e,selectedNodeId:n}=_.useContext(ei),{appMode:r}=_.useContext($i),[i,s]=_.useState("info"),[o,a]=_.useState(!!e),l=u=>{s(u)};return _.useEffect(()=>{a(!!n)},[n]),j(JJ,{itemSelected:l,expanded:void 0,children:[i==="info"?E("div",{children:r==="edit"?E(mee,{graphEvents:t}):E(ZJ,{})}):"",i==="settings"?E(tee,{graphEvents$:t}):""]})}function co(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function tO(t){if(!co(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=tO(t[n])}),e}function In(t,e,n={clone:!0}){const r=n.clone?Y({},t):t;return co(t)&&co(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(co(e[i])&&i in t&&co(t[i])?r[i]=In(t[i],e[i],n):n.clone?r[i]=co(e[i])?tO(e[i]):e[i]:r[i]=e[i])}),r}function ta(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}function No(t){if(typeof t!="string")throw new Error(ta(7));return t.charAt(0).toUpperCase()+t.slice(1)}function vee(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function yee(...t){return _.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{vee(n,e)})},t)}function nO(t,e){const n=Y({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=Y({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=Y({},s),Object.keys(i).forEach(o=>{n[r][o]=nO(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function bee(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const TE=t=>t,xee=()=>{let t=TE;return{configure(e){t=e},generate(e){return t(e)},reset(){t=TE}}},wee=xee(),_ee=wee,Eee={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function rO(t,e,n="Mui"){const r=Eee[e];return r?`${n}-${r}`:`${_ee.generate(t)}-${e}`}function See(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=rO(t,i,n)}),r}function iO(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=iO(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Cee(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=iO(t))&&(r&&(r+=" "),r+=e);return r}var Tee=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Aee=lP(function(t){return Tee.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),Pee=Aee,Oee=function(e){return e!=="theme"},AE=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Pee:Oee},PE=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},Iee=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return w1(n,r,i),gP(function(){return pP(n,r,i)}),null},kee=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=PE(e,n,r),l=a||AE(i),u=!l("as");return function(){var c=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)h.push.apply(h,c);else{h.push(c[0][0]);for(var d=c.length,f=1;f<d;f++)h.push(c[f],c[0][f])}var p=yP(function(m,g,v){var b=u&&m.as||i,y="",x=[],S=m;if(m.theme==null){S={};for(var C in m)S[C]=m[C];S.theme=_.useContext(bP)}typeof m.className=="string"?y=fP(g.registered,x,m.className):m.className!=null&&(y=m.className+" ");var T=_1(h.concat(x),g.registered,S);y+=g.key+"-"+T.name,o!==void 0&&(y+=" "+o);var A=u&&a===void 0?AE(b):l,k={};for(var M in m)u&&M==="as"||A(M)&&(k[M]=m[M]);return k.className=y,k.ref=v,_.createElement(_.Fragment,null,_.createElement(Iee,{cache:g,serialized:T,isStringTag:typeof b=="string"}),_.createElement(b,k))});return p.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",p.defaultProps=e.defaultProps,p.__emotion_real=p,p.__emotion_base=i,p.__emotion_styles=h,p.__emotion_forwardProp=a,Object.defineProperty(p,"toString",{value:function(){return"."+o}}),p.withComponent=function(m,g){return t(m,Y({},n,g,{shouldForwardProp:PE(p,g,!0)})).apply(void 0,h)},p}};const Ree=kee;var Mee=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],bv=Ree.bind();Mee.forEach(function(t){bv[t]=bv(t)});const Fee=bv;/**
 * @mui/styled-engine v5.11.11
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Dee(t,e){return Fee(t,e)}const $ee=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))};function Tl(t,e){return e?In(t,e,{clone:!1}):t}const A1={xs:0,sm:600,md:900,lg:1200,xl:1536},OE={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${A1[t]}px)`};function hn(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||OE;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||OE;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||A1).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function Bee(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function Nee(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Lee(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function IE({values:t,breakpoints:e,base:n}){const r=n||Lee(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[s],s=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function Pf(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function cd(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Pf(t,n)||r,e&&(i=e(i,r,t)),i}function Ae(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=Pf(l,r)||{};return hn(o,a,h=>{let d=cd(u,i,h);return h===d&&typeof h=="string"&&(d=cd(u,i,`${e}${h==="default"?"":No(h)}`,h)),n===!1?d:{[n]:d}})};return s.propTypes={},s.filterProps=[e],s}function Of(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?Tl(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Uee(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const jee={m:"margin",p:"padding"},zee={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},kE={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Hee=Uee(t=>{if(t.length>2)if(kE[t])t=kE[t];else return[t];const[e,n]=t.split(""),r=jee[e],i=zee[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),P1=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],O1=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...P1,...O1];function Wu(t,e,n,r){var i;const s=(i=Pf(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function I1(t){return Wu(t,"spacing",8)}function wi(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function Gee(t,e){return n=>t.reduce((r,i)=>(r[i]=wi(e,n),r),{})}function Wee(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=Hee(n),s=Gee(i,r),o=t[n];return hn(t,o,s)}function sO(t,e){const n=I1(t.theme);return Object.keys(t).map(r=>Wee(t,e,r,n)).reduce(Tl,{})}function Qe(t){return sO(t,P1)}Qe.propTypes={};Qe.filterProps=P1;function Je(t){return sO(t,O1)}Je.propTypes={};Je.filterProps=O1;function yr(t){return typeof t!="number"?t:`${t}px solid`}const Vee=Ae({prop:"border",themeKey:"borders",transform:yr}),Xee=Ae({prop:"borderTop",themeKey:"borders",transform:yr}),Yee=Ae({prop:"borderRight",themeKey:"borders",transform:yr}),qee=Ae({prop:"borderBottom",themeKey:"borders",transform:yr}),Kee=Ae({prop:"borderLeft",themeKey:"borders",transform:yr}),Zee=Ae({prop:"borderColor",themeKey:"palette"}),Qee=Ae({prop:"borderTopColor",themeKey:"palette"}),Jee=Ae({prop:"borderRightColor",themeKey:"palette"}),ete=Ae({prop:"borderBottomColor",themeKey:"palette"}),tte=Ae({prop:"borderLeftColor",themeKey:"palette"}),If=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Wu(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:wi(e,r)});return hn(t,t.borderRadius,n)}return null};If.propTypes={};If.filterProps=["borderRadius"];Of(Vee,Xee,Yee,qee,Kee,Zee,Qee,Jee,ete,tte,If);const kf=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Wu(t.theme,"spacing",8),n=r=>({gap:wi(e,r)});return hn(t,t.gap,n)}return null};kf.propTypes={};kf.filterProps=["gap"];const Rf=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Wu(t.theme,"spacing",8),n=r=>({columnGap:wi(e,r)});return hn(t,t.columnGap,n)}return null};Rf.propTypes={};Rf.filterProps=["columnGap"];const Mf=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Wu(t.theme,"spacing",8),n=r=>({rowGap:wi(e,r)});return hn(t,t.rowGap,n)}return null};Mf.propTypes={};Mf.filterProps=["rowGap"];const nte=Ae({prop:"gridColumn"}),rte=Ae({prop:"gridRow"}),ite=Ae({prop:"gridAutoFlow"}),ste=Ae({prop:"gridAutoColumns"}),ote=Ae({prop:"gridAutoRows"}),ate=Ae({prop:"gridTemplateColumns"}),lte=Ae({prop:"gridTemplateRows"}),ute=Ae({prop:"gridTemplateAreas"}),cte=Ae({prop:"gridArea"});Of(kf,Rf,Mf,nte,rte,ite,ste,ote,ate,lte,ute,cte);function Lo(t,e){return e==="grey"?e:t}const hte=Ae({prop:"color",themeKey:"palette",transform:Lo}),dte=Ae({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Lo}),fte=Ae({prop:"backgroundColor",themeKey:"palette",transform:Lo});Of(hte,dte,fte);function nn(t){return t<=1&&t!==0?`${t*100}%`:t}const pte=Ae({prop:"width",transform:nn}),k1=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i,s;return{maxWidth:((r=t.theme)==null||(i=r.breakpoints)==null||(s=i.values)==null?void 0:s[n])||A1[n]||nn(n)}};return hn(t,t.maxWidth,e)}return null};k1.filterProps=["maxWidth"];const mte=Ae({prop:"minWidth",transform:nn}),gte=Ae({prop:"height",transform:nn}),vte=Ae({prop:"maxHeight",transform:nn}),yte=Ae({prop:"minHeight",transform:nn});Ae({prop:"size",cssProperty:"width",transform:nn});Ae({prop:"size",cssProperty:"height",transform:nn});const bte=Ae({prop:"boxSizing"});Of(pte,k1,mte,gte,vte,yte,bte);const Yp=t=>e=>{if(e[t]!==void 0&&e[t]!==null){const n=r=>{var i;let s=(i=e.theme.typography)==null?void 0:i[r];if(typeof s=="object"&&(s=null),!s){var o,a;s=(o=e.theme.typography)==null?void 0:o[`${t}${e[t]==="default"||e[t]===t?"":No((a=e[t])==null?void 0:a.toString())}`]}if(!s){var l,u,c;s=(l=(u=e.theme.typography)==null||(c=u[r])==null?void 0:c[t])!=null?l:r}return{[t]:s}};return hn(e,e[t],n)}return null},xte={border:{themeKey:"borders",transform:yr},borderTop:{themeKey:"borders",transform:yr},borderRight:{themeKey:"borders",transform:yr},borderBottom:{themeKey:"borders",transform:yr},borderLeft:{themeKey:"borders",transform:yr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:If},color:{themeKey:"palette",transform:Lo},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Lo},backgroundColor:{themeKey:"palette",transform:Lo},p:{style:Je},pt:{style:Je},pr:{style:Je},pb:{style:Je},pl:{style:Je},px:{style:Je},py:{style:Je},padding:{style:Je},paddingTop:{style:Je},paddingRight:{style:Je},paddingBottom:{style:Je},paddingLeft:{style:Je},paddingX:{style:Je},paddingY:{style:Je},paddingInline:{style:Je},paddingInlineStart:{style:Je},paddingInlineEnd:{style:Je},paddingBlock:{style:Je},paddingBlockStart:{style:Je},paddingBlockEnd:{style:Je},m:{style:Qe},mt:{style:Qe},mr:{style:Qe},mb:{style:Qe},ml:{style:Qe},mx:{style:Qe},my:{style:Qe},margin:{style:Qe},marginTop:{style:Qe},marginRight:{style:Qe},marginBottom:{style:Qe},marginLeft:{style:Qe},marginX:{style:Qe},marginY:{style:Qe},marginInline:{style:Qe},marginInlineStart:{style:Qe},marginInlineEnd:{style:Qe},marginBlock:{style:Qe},marginBlockStart:{style:Qe},marginBlockEnd:{style:Qe},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:kf},rowGap:{style:Mf},columnGap:{style:Rf},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:nn},maxWidth:{style:k1},minWidth:{transform:nn},height:{transform:nn},maxHeight:{transform:nn},minHeight:{transform:nn},boxSizing:{},fontFamily:{themeKey:"typography",style:Yp("fontFamily")},fontSize:{themeKey:"typography",style:Yp("fontSize")},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography",style:Yp("fontWeight")},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},R1=xte;function wte(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function _te(t,e){return typeof t=="function"?t(e):t}function Ete(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:c,style:h}=a;if(r==null)return null;const d=Pf(i,u)||{};return h?h(o):hn(o,r,p=>{let m=cd(d,c,p);return p===m&&typeof p=="string"&&(m=cd(d,c,`${n}${p==="default"?"":No(p)}`,p)),l===!1?m:{[l]:m}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:R1;function a(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const c=Bee(s.breakpoints),h=Object.keys(c);let d=c;return Object.keys(u).forEach(f=>{const p=_te(u[f],s);if(p!=null)if(typeof p=="object")if(o[f])d=Tl(d,t(f,p,s,o));else{const m=hn({theme:s},p,g=>({[f]:g}));wte(m,p)?d[f]=e({sx:p,theme:s}):d=Tl(d,m)}else d=Tl(d,t(f,p,s,o))}),Nee(h,d)}return Array.isArray(i)?i.map(a):a(i)}return e}const oO=Ete();oO.filterProps=["sx"];const M1=oO,Ste=["values","unit","step"],Cte=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>Y({},n,{[r.key]:r.val}),{})};function Tte(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=un(t,Ste),s=Cte(e),o=Object.keys(s);function a(d){return`@media (min-width:${typeof e[d]=="number"?e[d]:d}${n})`}function l(d){return`@media (max-width:${(typeof e[d]=="number"?e[d]:d)-r/100}${n})`}function u(d,f){const p=o.indexOf(f);return`@media (min-width:${typeof e[d]=="number"?e[d]:d}${n}) and (max-width:${(p!==-1&&typeof e[o[p]]=="number"?e[o[p]]:f)-r/100}${n})`}function c(d){return o.indexOf(d)+1<o.length?u(d,o[o.indexOf(d)+1]):a(d)}function h(d){const f=o.indexOf(d);return f===0?a(o[1]):f===o.length-1?l(o[f]):u(d,o[o.indexOf(d)+1]).replace("@media","@media not all and")}return Y({keys:o,values:s,up:a,down:l,between:u,only:c,not:h,unit:n},i)}const Ate={borderRadius:4},Pte=Ate;function Ote(t=8){if(t.mui)return t;const e=I1({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}const Ite=["breakpoints","palette","spacing","shape"];function F1(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=un(t,Ite),a=Tte(n),l=Ote(i);let u=In({breakpoints:a,direction:"ltr",components:{},palette:Y({mode:"light"},r),spacing:l,shape:Y({},Pte,s)},o);return u=e.reduce((c,h)=>In(c,h),u),u.unstable_sxConfig=Y({},R1,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(h){return M1({sx:h,theme:this})},u}const kte=_.createContext(null),Rte=kte;function Mte(){return _.useContext(Rte)}function Fte(t){return Object.keys(t).length===0}function Dte(t=null){const e=Mte();return!e||Fte(e)?t:e}const $te=F1();function Bte(t=$te){return Dte(t)}const Nte=["variant"];function RE(t){return t.length===0}function aO(t){const{variant:e}=t,n=un(t,Nte);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=RE(r)?t[i]:No(t[i]):r+=`${RE(r)?i:No(i)}${No(t[i].toString())}`}),r}const Lte=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],Ute=["theme"],jte=["theme"];function Ga(t){return Object.keys(t).length===0}function zte(t){return typeof t=="string"&&t.charCodeAt(0)>96}const Hte=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,Gte=(t,e)=>{let n=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants);const r={};return n.forEach(i=>{const s=aO(i.props);r[s]=i.style}),r},Wte=(t,e,n,r)=>{var i,s;const{ownerState:o={}}=t,a=[],l=n==null||(i=n.components)==null||(s=i[r])==null?void 0:s.variants;return l&&l.forEach(u=>{let c=!0;Object.keys(u.props).forEach(h=>{o[h]!==u.props[h]&&t[h]!==u.props[h]&&(c=!1)}),c&&a.push(e[aO(u.props)])}),a};function fh(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Vte=F1();function Xte(t={}){const{defaultTheme:e=Vte,rootShouldForwardProp:n=fh,slotShouldForwardProp:r=fh}=t,i=s=>{const o=Ga(s.theme)?e:s.theme;return M1(Y({},s,{theme:o}))};return i.__mui_systemSx=!0,(s,o={})=>{$ee(s,y=>y.filter(x=>!(x!=null&&x.__mui_systemSx)));const{name:a,slot:l,skipVariantsResolver:u,skipSx:c,overridesResolver:h}=o,d=un(o,Lte),f=u!==void 0?u:l&&l!=="Root"||!1,p=c||!1;let m,g=fh;l==="Root"?g=n:l?g=r:zte(s)&&(g=void 0);const v=Dee(s,Y({shouldForwardProp:g,label:m},d)),b=(y,...x)=>{const S=x?x.map(k=>typeof k=="function"&&k.__emotion_real!==k?M=>{let{theme:N}=M,L=un(M,Ute);return k(Y({theme:Ga(N)?e:N},L))}:k):[];let C=y;a&&h&&S.push(k=>{const M=Ga(k.theme)?e:k.theme,N=Hte(a,M);if(N){const L={};return Object.entries(N).forEach(([I,D])=>{L[I]=typeof D=="function"?D(Y({},k,{theme:M})):D}),h(k,L)}return null}),a&&!f&&S.push(k=>{const M=Ga(k.theme)?e:k.theme;return Wte(k,Gte(a,M),M,a)}),p||S.push(i);const T=S.length-x.length;if(Array.isArray(y)&&T>0){const k=new Array(T).fill("");C=[...y,...k],C.raw=[...y.raw,...k]}else typeof y=="function"&&y.__emotion_real!==y&&(C=k=>{let{theme:M}=k,N=un(k,jte);return y(Y({theme:Ga(M)?e:M},N))});return v(C,...S)};return v.withConfig&&(b.withConfig=v.withConfig),b}}function Yte(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:nO(e.components[n].defaultProps,r)}function qte({props:t,name:e,defaultTheme:n}){const r=Bte(n);return Yte({theme:r,name:e,props:t})}function lO(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function Kte(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function na(t){if(t.type)return t;if(t.charAt(0)==="#")return na(Kte(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(ta(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(ta(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function D1(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function Zte(t){t=na(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,c=(u+n/30)%12)=>i-s*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),D1({type:a,values:l})}function ME(t){t=na(t);let e=t.type==="hsl"||t.type==="hsla"?na(Zte(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Qte(t,e){const n=ME(t),r=ME(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Jte(t,e){if(t=na(t),e=lO(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return D1(t)}function ene(t,e){if(t=na(t),e=lO(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return D1(t)}function tne(t,e){return Y({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const nne={black:"#000",white:"#fff"},nu=nne,rne={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},ine=rne,sne={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Ls=sne,one={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Us=one,ane={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Wa=ane,lne={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},js=lne,une={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},zs=une,cne={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Hs=cne,hne=["mode","contrastThreshold","tonalOffset"],FE={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:nu.white,default:nu.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},qp={text:{primary:nu.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:nu.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function DE(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=ene(t.main,i):e==="dark"&&(t.dark=Jte(t.main,s)))}function dne(t="light"){return t==="dark"?{main:js[200],light:js[50],dark:js[400]}:{main:js[700],light:js[400],dark:js[800]}}function fne(t="light"){return t==="dark"?{main:Ls[200],light:Ls[50],dark:Ls[400]}:{main:Ls[500],light:Ls[300],dark:Ls[700]}}function pne(t="light"){return t==="dark"?{main:Us[500],light:Us[300],dark:Us[700]}:{main:Us[700],light:Us[400],dark:Us[800]}}function mne(t="light"){return t==="dark"?{main:zs[400],light:zs[300],dark:zs[700]}:{main:zs[700],light:zs[500],dark:zs[900]}}function gne(t="light"){return t==="dark"?{main:Hs[400],light:Hs[300],dark:Hs[700]}:{main:Hs[800],light:Hs[500],dark:Hs[900]}}function vne(t="light"){return t==="dark"?{main:Wa[400],light:Wa[300],dark:Wa[700]}:{main:"#ed6c02",light:Wa[500],dark:Wa[900]}}function yne(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=un(t,hne),s=t.primary||dne(e),o=t.secondary||fne(e),a=t.error||pne(e),l=t.info||mne(e),u=t.success||gne(e),c=t.warning||vne(e);function h(m){return Qte(m,qp.text.primary)>=n?qp.text.primary:FE.text.primary}const d=({color:m,name:g,mainShade:v=500,lightShade:b=300,darkShade:y=700})=>{if(m=Y({},m),!m.main&&m[v]&&(m.main=m[v]),!m.hasOwnProperty("main"))throw new Error(ta(11,g?` (${g})`:"",v));if(typeof m.main!="string")throw new Error(ta(12,g?` (${g})`:"",JSON.stringify(m.main)));return DE(m,"light",b,r),DE(m,"dark",y,r),m.contrastText||(m.contrastText=h(m.main)),m},f={dark:qp,light:FE};return In(Y({common:Y({},nu),mode:e,primary:d({color:s,name:"primary"}),secondary:d({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:d({color:a,name:"error"}),warning:d({color:c,name:"warning"}),info:d({color:l,name:"info"}),success:d({color:u,name:"success"}),grey:ine,contrastThreshold:n,getContrastText:h,augmentColor:d,tonalOffset:r},f[e]),i)}const bne=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function xne(t){return Math.round(t*1e5)/1e5}const $E={textTransform:"uppercase"},BE='"Roboto", "Helvetica", "Arial", sans-serif';function wne(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=BE,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:h}=n,d=un(n,bne),f=i/14,p=h||(v=>`${v/u*f}rem`),m=(v,b,y,x,S)=>Y({fontFamily:r,fontWeight:v,fontSize:p(b),lineHeight:y},r===BE?{letterSpacing:`${xne(x/b)}em`}:{},S,c),g={h1:m(s,96,1.167,-1.5),h2:m(s,60,1.2,-.5),h3:m(o,48,1.167,0),h4:m(o,34,1.235,.25),h5:m(o,24,1.334,0),h6:m(a,20,1.6,.15),subtitle1:m(o,16,1.75,.15),subtitle2:m(a,14,1.57,.1),body1:m(o,16,1.5,.15),body2:m(o,14,1.43,.15),button:m(a,14,1.75,.4,$E),caption:m(o,12,1.66,.4),overline:m(o,12,2.66,1,$E),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return In(Y({htmlFontSize:u,pxToRem:p,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},g),d,{clone:!1})}const _ne=.2,Ene=.14,Sne=.12;function ze(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${_ne})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${Ene})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Sne})`].join(",")}const Cne=["none",ze(0,2,1,-1,0,1,1,0,0,1,3,0),ze(0,3,1,-2,0,2,2,0,0,1,5,0),ze(0,3,3,-2,0,3,4,0,0,1,8,0),ze(0,2,4,-1,0,4,5,0,0,1,10,0),ze(0,3,5,-1,0,5,8,0,0,1,14,0),ze(0,3,5,-1,0,6,10,0,0,1,18,0),ze(0,4,5,-2,0,7,10,1,0,2,16,1),ze(0,5,5,-3,0,8,10,1,0,3,14,2),ze(0,5,6,-3,0,9,12,1,0,3,16,2),ze(0,6,6,-3,0,10,14,1,0,4,18,3),ze(0,6,7,-4,0,11,15,1,0,4,20,3),ze(0,7,8,-4,0,12,17,2,0,5,22,4),ze(0,7,8,-4,0,13,19,2,0,5,24,4),ze(0,7,9,-4,0,14,21,2,0,5,26,4),ze(0,8,9,-5,0,15,22,2,0,6,28,5),ze(0,8,10,-5,0,16,24,2,0,6,30,5),ze(0,8,11,-5,0,17,26,2,0,6,32,5),ze(0,9,11,-5,0,18,28,2,0,7,34,6),ze(0,9,12,-6,0,19,29,2,0,7,36,6),ze(0,10,13,-6,0,20,31,3,0,8,38,7),ze(0,10,13,-6,0,21,33,3,0,8,40,7),ze(0,10,14,-6,0,22,35,3,0,8,42,7),ze(0,11,14,-7,0,23,36,3,0,9,44,8),ze(0,11,15,-7,0,24,38,3,0,9,46,8)],Tne=Cne,Ane=["duration","easing","delay"],Pne={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},One={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function NE(t){return`${Math.round(t)}ms`}function Ine(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function kne(t){const e=Y({},Pne,t.easing),n=Y({},One,t.duration);return Y({getAutoHeightDuration:Ine,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return un(s,Ane),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:NE(o)} ${a} ${typeof l=="string"?l:NE(l)}`).join(",")}},t,{easing:e,duration:n})}const Rne={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Mne=Rne,Fne=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Dne(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=un(t,Fne);if(t.vars)throw new Error(ta(18));const a=yne(r),l=F1(t);let u=In(l,{mixins:tne(l.breakpoints,n),palette:a,shadows:Tne.slice(),typography:wne(a,s),transitions:kne(i),zIndex:Y({},Mne)});return u=In(u,o),u=e.reduce((c,h)=>In(c,h),u),u.unstable_sxConfig=Y({},R1,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(h){return M1({sx:h,theme:this})},u}const $ne=Dne(),uO=$ne;function Bne({props:t,name:e}){return qte({props:t,name:e,defaultTheme:uO})}const Nne=t=>fh(t)&&t!=="classes",Lne=Xte({defaultTheme:uO,rootShouldForwardProp:Nne}),Une=Lne;function jne(t){return rO("MuiMasonry",t)}See("MuiMasonry",["root"]);const zne=["children","className","component","columns","spacing","defaultColumns","defaultHeight","defaultSpacing"],oi=t=>Number(t.replace("px","")),Hne={flexBasis:"100%",width:0,margin:0,padding:0},Gne=t=>{const{classes:e}=t;return bee({root:["root"]},jne,e)},Wne=({ownerState:t,theme:e})=>{let n={width:"100%",display:"flex",flexFlow:"column wrap",alignContent:"flex-start",boxSizing:"border-box","& > *":{boxSizing:"border-box"}};const r={};if(t.isSSR){const u={},c=oi(e.spacing(t.defaultSpacing));for(let h=1;h<=t.defaultColumns;h+=1)u[`&:nth-of-type(${t.defaultColumns}n+${h%t.defaultColumns})`]={order:h};return r.height=t.defaultHeight,r.margin=-(c/2),r["& > *"]=Y({},n["& > *"],u,{margin:c/2,width:`calc(${(100/t.defaultColumns).toFixed(2)}% - ${c}px)`}),Y({},n,r)}const i=IE({values:t.spacing,breakpoints:e.breakpoints.values}),s=I1(e);n=In(n,hn({theme:e},i,u=>{let c;if(typeof u=="string"&&!Number.isNaN(Number(u))||typeof u=="number"){const h=Number(u);c=wi(s,h)}else c=u;return Y({margin:`calc(0px - (${c} / 2))`,"& > *":{margin:`calc(${c} / 2)`}},t.maxColumnHeight&&{height:typeof c=="number"?Math.ceil(t.maxColumnHeight+oi(c)):`calc(${t.maxColumnHeight}px + ${c})`})}));const a=IE({values:t.columns,breakpoints:e.breakpoints.values});return n=In(n,hn({theme:e},a,u=>{const h=`${(100/Number(u)).toFixed(2)}%`,d=typeof i=="string"&&!Number.isNaN(Number(i))||typeof i=="number"?wi(s,Number(i)):"0px";return{"& > *":{width:`calc(${h} - ${d})`}}})),typeof i=="object"&&(n=In(n,hn({theme:e},i,(u,c)=>{if(c){const h=Number(u),d=Object.keys(a).pop(),f=wi(s,h);return{"& > *":{width:`calc(${`${(100/(typeof a=="object"?a[c]||a[d]:a)).toFixed(2)}%`} - ${f})`}}}return null}))),n},Vne=Une("div",{name:"MuiMasonry",slot:"Root",overridesResolver:(t,e)=>[e.root]})(Wne),Xne=_.forwardRef(function(e,n){const r=Bne({props:e,name:"MuiMasonry"}),{children:i,className:s,component:o="div",columns:a=4,spacing:l=1,defaultColumns:u,defaultHeight:c,defaultSpacing:h}=r,d=un(r,zne),f=_.useRef(),[p,m]=_.useState(),g=!p&&c&&u!==void 0&&h!==void 0,[v,b]=_.useState(g?u-1:0),y=Y({},r,{spacing:l,columns:a,maxColumnHeight:p,defaultColumns:u,defaultHeight:c,defaultSpacing:h,isSSR:g}),x=Gne(y),S=k=>{if(!f.current||!k||k.length===0)return;const M=f.current,N=f.current.firstChild,L=M.clientWidth,I=N.clientWidth;if(L===0||I===0)return;const D=window.getComputedStyle(N),Z=oi(D.marginLeft),q=oi(D.marginRight),z=Math.round(L/(I+Z+q)),B=new Array(z).fill(0);let V=!1;M.childNodes.forEach(F=>{if(F.nodeType!==Node.ELEMENT_NODE||F.dataset.class==="line-break"||V)return;const W=window.getComputedStyle(F),R=oi(W.marginTop),$=oi(W.marginBottom),P=oi(W.height)?Math.ceil(oi(W.height))+R+$:0;if(P===0){V=!0;return}for(let G=0;G<F.childNodes.length;G+=1){const K=F.childNodes[G];if(K.tagName==="IMG"&&K.clientHeight===0){V=!0;break}}if(!V){const G=B.indexOf(Math.min(...B));B[G]+=P;const K=G+1;F.style.order=K}}),V||Pl.flushSync(()=>{m(Math.max(...B)),b(z>0?z-1:0)})},C=_.useRef(typeof ResizeObserver>"u"?void 0:new ResizeObserver(S));_.useEffect(()=>{const k=C.current;if(k!==void 0)return f.current&&f.current.childNodes.forEach(M=>{k.observe(M)}),()=>k?k.disconnect():{}},[a,l,i]);const T=yee(n,f),A=new Array(v).fill("").map((k,M)=>E("span",{"data-class":"line-break",style:Y({},Hne,{order:M+1})},M));return j(Vne,Y({as:o,className:Cee(x.root,s),ref:T,ownerState:y},d,{children:[i,A]}))}),cO=Xne;function LE({label:t,value:e}){return j("div",{className:"stat-line",children:[j("span",{className:"label",children:[t,": "]}),E("span",{className:"value",children:e})]})}function xv(){return xv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xv.apply(this,arguments)}var Yne=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?_.useLayoutEffect:_.useEffect;function hO(t){var e=t.breakpoints,n=t.ignoreDimensions,r=n===void 0?!0:n,i=Object.keys(e)[0],s=_.useState({activeBreakpoint:i,width:0}),o=s[0],a=s[1],l=_.useRef(null),u=_.useRef(null),c=_.useCallback(function(f,p){for(var m,g=0,v=Object.entries(e);g<v.length;g++){var b=v[g],y=b[0],x=b[1],S=x[0],C=x[1];if(p>=S){if(C===void 0){m=y;break}else if(p<=C){m=y;break}}}return{activeBreakpoint:m||f,width:p}},[e]),h=_.useCallback(function(f){var p=f[0],m;if(p.borderBoxSize?m=Math.round(Array.isArray(p.borderBoxSize)?p.borderBoxSize[0].inlineSize:p.borderBoxSize.inlineSize):m=Math.round(p.contentRect.width),r){var g=c(o.activeBreakpoint,m),v=g.activeBreakpoint;v!==o.activeBreakpoint&&a(function(b){return xv({},b,{activeBreakpoint:v})})}else a(c(o.activeBreakpoint,m))},[o.activeBreakpoint,r,c]);Yne(function(){return l.current||(l.current=new ResizeObserver(h)),u.current&&l.current.observe(u.current,{box:"border-box"}),function(){var f;(f=l.current)==null||f.disconnect(),l.current=null}},[h]);var d=_.useCallback(function(f){if(u.current){var p;(p=l.current)==null||p.unobserve(u.current)}if(u.current=f,f){var m;(m=l.current)==null||m.observe(f)}},[]);return{ref:d,width:o.width,active:o.activeBreakpoint}}const $1=_.createContext({}),dO=({children:t})=>{const[e,n]=_.useState({textFilter:"",tags:[]});return E($1.Provider,{value:{filters:e,setFilters:n},children:t})};function qne({tags:t}){const{filters:e,setFilters:n}=_.useContext($1),r=i=>{e.tags.includes(i)?n({...e,tags:e.tags.filter(s=>s!==i)}):n({...e,tags:[...e.tags,i]})};return t?E("div",{className:"tag-filters",children:t.map(i=>E(nv,{label:i,clicked:r,selected:Iu(e.tags,i)},i))}):E("div",{})}function fO({tags:t,expanded:e,filtersUpdated:n}){const{filters:r,setFilters:i}=_.useContext($1),[s,o]=_.useState(e),a=()=>{i({tags:[],textFilter:""})};return _.useEffect(()=>{n(r)},[r]),s?j("div",{className:"ability-filters open",children:[E(Ar,{fullWidth:!0,placeholder:"Filter by name",minWidth:200,className:"text-filter",value:r==null?void 0:r.textFilter,valueChanged:l=>i({...r,textFilter:l})}),E("div",{className:"tag-filters",children:E(qne,{tags:t})}),j("div",{className:"controls",children:[j(ot,{color:"theme",noPadding:!0,clicked:a,disabled:!r.tags.length&&!r.textFilter.length,children:[E(sA,{size:18}),"reset"]}),E(ot,{color:"mutedText",clicked:()=>o(!s),children:E(PN,{size:18})})]})]}):E("div",{className:"ability-filters closed",children:j("button",{onClick:()=>o(!s),className:"controls",children:["filters",E(iA,{size:18})]})})}function Kne(t){return W$(ge(vn(t.abilities,e=>!e.replaced&&e.learned),e=>({...e})),"type")}function Zne(t,e){let n=t;return e?n=vn(t,r=>{var s,o;let i=!0;return(s=e.tags)!=null&&s.length&&(i=HT(e.tags,r.tags).length===0),(o=e.textFilter)!=null&&o.length&&(i=i&&r.name.toLowerCase().includes(e.textFilter.toLowerCase())),i}):n=t,ma(n,"name")}const Qne={small:[0,600],med:[600,900],large:[901,1150],xl:[1151,1400],xxl:[1401,1600],xxxl:[1601,2e3]};function Jne(t){return{small:1,med:2,large:3,xl:4,xxl:5,xxxl:6}[t]}function ere(t,e){let n=Kne(t),r={};return De(Object.keys(n),i=>{let s=[];De(n[i],o=>{const a=o.id;o.ability=Ee(e,{id:a}),o.tags&&(s=Jd([...s,...o.tags]))}),r[i]=ma(s)}),{abilityTags:r,knownAbilities:n}}function tre(){const{build:t}=_.useContext(Rs),{abilityTypes:e,abilities:n}=_.useContext($t),[r,i]=_.useState({}),[s,o]=_.useState({}),{stats:a}=_.useContext(Gu),[l,u]=_.useState({}),{ref:c,active:h,width:d}=hO({breakpoints:Qne}),[f,p]=_.useState({}),m=g=>{p({...f,[g]:!f[g]})};return _.useEffect(()=>{const g=ere(t,n);i(g.knownAbilities),o(g.abilityTags)},[t,n]),j("div",{className:"character-sheet",children:[j("div",{className:"stats",children:[E("div",{className:"title",children:"Stats"}),E(LE,{label:" Skill Points Spent",value:t.pointsInvested}),ge(a,(g,v)=>E(LE,{label:g.name,value:t.stats[g.id]||0},v))]}),j("div",{className:"abilities",children:[E("div",{className:"title",children:"Abilities"}),ma(e,"name").map((g,v)=>{var b,y;return j(Mt,{startOpen:!1,name:g.name,disabled:!((b=r[g.id])!=null&&b.length),children:[E(dO,{children:E(fO,{expanded:!1,tags:s[g.id]||[],filtersUpdated:x=>u({...l,[g.id]:x})})}),j("div",{ref:c,className:"ability-cards",children:[E("div",{className:"expand-button",children:E(ot,{color:"theme",clicked:()=>m(g.id),children:f[g.id]?E(nA,{size:30}):E(tA,{size:30})})}),E(cO,{columns:Jne(h),spacing:2,children:(y=Zne(r[g.id],l[g.id]))==null?void 0:y.map((x,S)=>E("div",{children:(x==null?void 0:x.ability)&&E(Af,{ability:x.ability,isPlayerAbility:!0,modifiers:x.modifiers,tags:x.tags,playerGlobalParams:t.globalParams,startOpen:!1,isExpanded:!!f[g.id]})},S))})]})]},v)})]})]})}const nre=[{id:"advanced-flying",name:"Advanced Flying",description:`This unit can fly. It now can exist on three different battlefield planes. The ground, and the air level 1, and air level 2, and air level 3. It costs 1 hex of movement to move upward but not downward.

    Additionally, you are immune to environmental effects.`,type:"passive",tags:["flying"],replaces:"flying"},{id:"aerial-combat",name:"Aerial Combat",type:"passive",description:"Gains +1 on attacks made against flying units.",tags:["flying"]},{id:"aerial-evasion",name:"Aerial Evasion",type:"passive",description:"Gains +1 to AC while in the air.",tags:["flying","defense"]},{id:"alert",name:"Alert",type:"movement",description:"This unit always musters and can muster 1 adjacent unit (during movement).",replaces:"attentive",tags:["defense","mustering"]},{name:"Alter Emotions",id:"alter-emotions",description:"Increase or decrease the organization (HP) of any non-elite group of soldiers by %amt%. ",tags:["enchantment"],type:"action",params:{amt:1}},{id:"aquatic-combat",name:"Aquatic Attack",description:"Add +1 to any attack made from the water.",type:"passive",tags:["aquatic","attack"]},{id:"attack-from-the-deep",name:"Attack from the Deeps",description:"Gain +2 damage on attacks made against other targets in the water that are at ground level.",type:"passive",tags:["aquatic","attack"]},{id:"attentive",name:"Attentive",type:"movement",description:"This unit always musters",tags:["defense","mustering"]},{id:"basic-attack",name:"Basic Attack",description:"You make 1 melee attack against an adjacent enemy. Roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.",type:"action",params:{dmg:-1},tags:["attack"]},{name:"Beguile",id:"beguile",description:`Beguile a unit into one of the following:

Frightened of you - the unit cannot move towards you on its turn.

{compelled}Compelled -  The unit MUST move at least 2 hexes toward you (if it can/it has to try to){/compelled}

{charmed}Charmed - the unit makes %numAttacks% less attack(s) against you{/charmed}`,tags:["enchantment"],type:"action",params:{frightened:1,compelled:0,charmed:0,numAttacks:1}},{id:"bless",name:"Bless",description:"Buff up %bless_tars% ally(s) within range, granting them +1 on their first attack/cantrip strike of their turn.",type:"action",tags:["holy","spell"],params:{bless_tars:1}},{id:"cantrip-barrage",name:"Cantrip Strike",description:`Deal 1d6+%can_dmg% damage to an enemy.

{can_pierce} This attack always does %can_dmg% {/can_pierce}`,type:"action",tags:["magic","evocation"],params:{can_dmg:0,can_pierce:0}},{id:"charge",name:"Charge",type:"movement",description:`If this unit moves 4 hexes in a straight line before becoming adjacent to an enemy they automatically do +%dmg% damage on first melee attack. The movement for the rest of the turn becomes 0. 
        {breakthrough}
          If after a charge, this unit still has remaining movement, it can use that movement to continue on its charge-line through enemy units.
        {/breakthrough}`,params:{dmg:1,breakthrough:0}},{id:"dash",name:"Dash",type:"action",description:"Move %movement% hexes.",params:{movement:2},tags:["movement","fast"]},{id:"dash-expert",name:"Dash Expert",type:"passive",description:"Once per turn, you can replace any one of your attacks with movement up to your speed.",tags:["movement"]},{id:"death-bomb",name:"Death Bomb",type:"action",description:"This unit can dive bomb and forcefully smash itself into enemy units. This kills this unit. It does 2 damage to a target's HP.",tags:["undead","flying"]},{id:"death-ward",name:"Death Ward",description:"Place a ward against death on a unit. If that unit is reduced to 0 HP it instead goes to %hp% HP. When this happens the spell is used up and you lose concentration on it.",type:"action",tags:["concentration","holy","spell"],params:{hp:2}},{id:"defend",name:"Defend",description:`Gain    %hp% hp.

{def_regen} You can regain up to %def_regen% hp per day.
{/def_regen}

{brace}For this turn, gain the following effects:

1. You are Immune to Charge effects.
2. Enemies that move adjacent to you take 1 damage.
{/brace}`,type:"action",params:{brace:0,hp:1,def_regen:5},tags:["healing"]},{id:"deflect",name:"Deflect",type:"reaction",description:`Block %deflect% ranged attack that is made at you. Declare before the attack is rolled. 

For magic attacks, deflect on a roll of %lowerRange% or higher.`,tags:["defense"],params:{lowerRange:4,deflect:1}},{id:"dive-bomb",name:"Dive Bomb",type:"passive",tags:["flying"],description:"When this unit moves from a higher elevation to a lower elevation it gains +1 damage for each air level it decends through for its next attack."},{id:"diving",name:"Diving",description:"This unit can swim under water. Gain access to a -1 vertical space in water. Gain +3 to AC from units that are ground or above. You get a -2 dice roll on all attacks on units that are at ground or above.",type:"movement",tags:["aquatic"]},{name:"Dominate",id:"dominate",description:"Target the leader of a company of troops and try to control their mind. Against non-elite units (so common soliders and such) this works and the unit is under your control until the battle ends or it loses half its current health. Can only have %unit% unit(s) dominated at a time.",tags:["enchantment"],type:"action",params:{units:1}},{id:"extra-versatile",name:"Extra Versatile",description:"You can choose to take actions before or after each unit of movement.",type:"passive",replaces:"versatile"},{id:"ferry",name:"Ferry",description:"This unit can carry other units on water. It takes 1 action to load an ally (action used during movement). No action required to disembark.",type:"passive",tags:["aquatic","movement"]},{id:"flying",name:"Flying",description:`This unit can fly. It now can exist on two different battlefield planes. The ground, and the air level 1. It costs 1 hex of movement to move upward but not downward.

    Additionally, you are immune to environmental effects.`,type:"passive",tags:["flying"]},{id:"greater-knitting",name:"Greater Knitting",description:"Restore %hp% HP to all adjacent undead units",type:"action",replaces:"knit-flesh",tags:["undead","healing","necromancy"],params:{hp:1}},{id:"guardian",name:"Guardian",type:"reaction",description:"As a reaction, can intercept %attacks% attack(s) going towards an adjacent ally. You now take that attack - also take 1 damage.",tags:["defense"],params:{attacks:1}},{id:"guiding-bolt",name:"Guiding Bolt",description:"You hit an enemy with a blast of light, dealing %dmg% nonabsorbable damage. Next round, allies have +%roll% on all attacks/cantrip strikes against this target.",type:"action",tags:["holy","piercing","spell"],params:{roll:1,dmg:1}},{id:"knit-flesh",name:"Knit Flesh",description:"Restore %hp% HP to an adjacent undead unit",type:"action",params:{hp:1},tags:["undead","healing","necromancy"]},{id:"mass-knitting",name:"Mass Knitting",description:"Restore %hp% HP to all undead units within 2 hexes (100m area)",type:"action",replaces:"greater-knitting",tags:["undead","healing","necromancy"],params:{hp:1}},{id:"multi-attack",name:"Multi Attack",description:`You make %numatks% melee attack against an adjacent enemy.
      
      Each Attack: 1d6{dmg}+%dmg%{/dmg}  

{dmg2} This attack always does at least %dmg2% damage {/dmg2}
 `,type:"action",replaces:"Attack_norm",params:{dmg2:0,dmg:0,numatks:1},tags:["attack"]},{id:"reactive-armor",name:"Reactive Armor",description:"When an enemy attacks you, gain 1 AC. Lose 1 AC at the start of each turn.",type:"passive",tags:["defense"]},{id:"restoration",name:"Restoration",description:`Heal a unit %hp%+%@holyheal% HP within spell range.{divine}

Restoration can now be cast for 2 spell slots and heals 10 HP if done this way.{/divine}`,type:"action",tags:["holy","spell","healing"],params:{hp:3,divine:0}},{id:"smite",name:"Smite",description:`When an attack hits (does damage to HP), you may spend 1 spell slot to make that attack do +%dmg%
      damage`,type:"bonus action",tags:["holy","spell"],params:{dmg:3}},{id:"spellcasting",name:"Spellcasting",description:`You can now cast spells and cantrips. Casting spells and cantrips take action to cast and require 1 spell slot of the coresponding school of magic. 
    Cantrips barrage does not cost a spell slot. 
    
    Range: %range%
    Contentration Bonus: %concentration%`,type:"school",tags:["magic"],params:{range:1,concentration:1}},{id:"spirit-guardians",name:"Spirit Guardians",description:"Call upon spiritual guardians to protect you. You gain %ac% AC and adjacent enemies take %dmg% unabsorbable damage at the start of your turn. {armor_debuff} Enemies within the zone also have their armor reduced by %armor_debuff% {/armor_debuff}",type:"action",tags:["concentration","holy","piercing","spell"],params:{dmg:1,ac:1,armor_debuff:0}},{id:"strafing-run",name:"Strafing Run",type:"passive",tags:["flying"],description:"As part of movement can make a breath attack against up to %targets% target(s) (adjacent to each) that you fly over in a straight line. This costs 1 breath attack use and does half breath damage (but full effect). Costs 1 movement to initiate for each targeted hex."},{id:"submarine-transportation",name:"Submarine Transportation",description:"This unit can carry other units on water and underwater. It takes 1 action to load an ally (action used during movement). No action required to disembark.",type:"passive",tags:["aquatic","movement"],replaces:"ferry"},{id:"swarm",name:"Swarm",type:"action",tags:["flying"],description:"Swarm around an adjacent enemy unit, co-existing in their hex, and blocking ranged attacks against targets other than itself. This unit can now move 3 hexes as a reaction to stay with its swarmed unit, any more movement breaks the swarm. In addition it can choose to be hit by ranged attacks that would pass through its hex."},{id:"swimming",name:"Swimming",description:"If this unit can move up to %movement% hexes in the water. If the unit's speed is less than %movement% it can move up to its speed.",type:"movement",tags:["aquatic"]},{id:"turn-undead",name:"Turn Undead",description:"Force undead on their turn to move at least %range% hex away from you and get no closer for %rounds% round.",type:"action",tags:["holy","spell"],params:{dmg:1,range:1,rounds:1}},{id:"versatile",name:"Versatile",description:"You can choose to take actions prior to movement.",type:"passive"},{name:"Command",id:"command",description:"Gain a command aura of %commandRadius% m radius (every adjacent hex)",tags:["command"],type:"passive",params:{commandRadius:50}},{name:"Rally",id:"rally",description:`As an action, allied units in your command aura regain %hp% HP.

{bonus}
1 unit within your command aura can make an attack.
{/bonus}`,tags:["command"],type:"action",params:{bonus:0,hp:1}},{name:"Aggressive Commander",id:"aggro-command",description:"Allied units adjacent to this unit can make 1 extra attack, unmodified.",tags:[],type:"action"},{name:"Energetic Commander",id:"energetic-commander",description:"Allied units in this units command aura can move 1 extra hex.",tags:[],type:"action"},{name:"Rally+",id:"rally-2",description:`As an action, allied units in your command aura regain %hp% HP.

2 units within your command aura can make 1 attack 
OR
1 unit within your command aura can make 2 attacks`,tags:["command"],type:"action",params:{hp:1},replaces:"rally"},{name:"Attack of Opportunity",id:"attack-of-opportunity",description:"This unit can make a single melee attack (with modified damage) against any enemy that moves out of adjacency with it. The attack takes place immediately.",tags:["defense","attack"],type:"reaction"},{name:"Professionals",id:"professionals",description:"This unit is always active (doesnt count to active unit count).",tags:["mustering"],type:"movement"},{name:"Raise Dead",id:"raise-dead",description:"Raise a deceased unit as a zombie horde with %raiseHp%% health.",tags:["necromancy","spell"],type:"action",params:{raiseHp:25}},{name:"Life Drain",id:"raise-dead-copy",description:`Create a link between you and a target within range. Each turn as a bonus action you can tap that link (including turn 1) . Tapping the link deals 1 damage to the target's HP and gives that HP to you. 

 This spell lasts as long as the target remains within 6 hexes of the caster.`,tags:["necromancy","spell","healing","concentration"],type:"action"},{name:"Wither",id:"wither",description:`curse a target within range with:
   
-1 armor
   -1 attack 
   -1 movement

Lasts 2 turns. This spell lasts as long as the target remains within 6 hexes of the caster.`,tags:["spell","necromancy"],type:"action"},{name:"Unrelenting Horde",id:"unrelenting-horde",description:"If this unit kills an adjacent unit. It spawns a new zombie unit from the dead unit. The new zombie has %hpPercent%% health",tags:["undead","necromancy"],type:"passive",params:{hpPercent:50}},{name:"Necromancy",id:"necromancy",description:`You can cast Necromancy spells.

Spell Slots: %slots%
Spells Per action: %spellsPerAction%`,tags:["necromancy"],type:"school",params:{slots:1,spellsPerAction:1}},{name:"Holy Casting",id:"holy-casting",description:`You can cast holy spells.

Spell Slots: %slots%
Spells Per action: %spells%`,tags:["holy"],type:"school",params:{spells:1,slots:2}},{id:"Attack_norm",name:"Melee Attack",description:`You make 1 melee attack against an adjacent enemy. Roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.

{dmg2} This attack always does at least %dmg2% damage {/dmg2}`,type:"action",params:{dmg2:0,dmg:-1},tags:["attack"],replaces:"basic-attack"},{name:"Ranged Attack",id:"id-44",description:`You make 1 ranged attack against an enemy. First roll 1d6{range}+%range%{/range} against the number of hexes between you and the target. Must beat this distance. For each success now roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.

{dmg2} This attack always does at least %dmg2% damage {/dmg2}`,tags:[],type:"action",params:{dmg2:0,dmg:0,range:0}},{name:"Tie Down",id:"tie_down_001",description:"The unit can spend an attack to tie down an adjacent enemy, restricting their movement by %spd_down% hexes.",tags:[],type:"action",params:{spd_down:0}},{name:"Seige Attack",id:"seige-id-8",description:`This unit can attack walls/towers and gains a bonus to attack gates.

Do %seige_atk% more damage against all buildings.`,tags:[],type:"action",params:{seige_atk:1}},{name:"Massive",id:"anti-air-180",description:"This unit can attack airborne target or targets on walls with no penalty.",tags:["attack"],type:"passive",params:{}},{name:"Hurl",id:"id-43",description:"This unit can now throw entities from adjacent units at targets within %hurl_range% hexes. This attack does %hurl_dmg% of which 1 is piercing.",tags:["attack","ranged"],type:"action",params:{hurl_range:6,hurl_dmg:5}},{name:"Critical Strike",id:"critical-id-98",description:`{base}When you roll a 1 on an attack you may reroll that die once and add the 1 to the result.{/base}
{explode} Explode on 1s.{/explode}`,tags:["attack"],type:"passive",params:{base:1,explode:0}},{name:"Evocation Casting",id:"id-33",description:`You can cast evocation spells.

Spell Slots: %evo_slots%
Spells Per action: %evo_spells%`,tags:["evocation","spell"],type:"school",params:{evo_slots:2,evo_spells:1}},{name:"Magical Barrage",id:"magic-barrageid-22",description:`As an action, you unleash a magical barrage against a unit within range. This attack deals %mb_dmg% absorbable damage. {mb_con}
 
Or, when you cast Magical Barrage you can choose to instead {mb_con2} take no action and {/mb_con2} deal no damage but cause the enemy to be unable to move on their next turn. {/mb_con}
{mb_effect} 
When you cast the Magical Barrage Spell you can add one of the following effects to the target unit:
1. Frostbite - units loses %mb_effect%  movement
2. Burning - unit loses %mb_effect% hp
3. Weakened - minus %mb_effect% damage
4. Armor Sundered - loses %mb_effect% armor
{/mb_effect}`,tags:["spell","evocation"],type:"action",params:{mb_dmg:3,mb_con:0,mb_con2:-1,mb_effect:0}},{name:"New Ability",id:"id-195",description:"",tags:["evocation"],type:"action",params:{}},{name:"Shield",id:"shield-id-152",description:"As a reaction, cast shield on an ally that is within your spell casting range. They gain %shield_armor% armor against the %shield_count% attack. {shield_dmg} If an attack fails to do damage, the absorbed damage is done to the attacker's hp pool. {/shield_dmg}",tags:["abjuration","defense","spell"],type:"reaction",params:{shield_armor:1,shield_count:1,shield_dmg:0}},{name:"Abjuration Casting",id:"abjuration-id-11",description:`You can cast abjuration spells.

Spell Slots: %abju_slots%
Spells Per action: %abju_spells%`,tags:["abjuration"],type:"school",params:{abju_slots:2,abju_spells:1}},{name:"Armor of Agathys",id:"id-4",description:"As an action, cast Armor of Agathys on an ally (or self). That entity gains %temp_hp% temp HP and when hit by another creature (and still has at least 1 temp HP) it does damge to the attacker equal to the current (pre-hit) temp hp. {Aga_effect} Enemies that take damage by this effect gain the frostbite effect (lose 1 movement) {/aga_effect}",tags:["abjuration","spell","defense"],type:"action",params:{temp_hp:2,aga_effect:0}},{name:"Mage Armor",id:"Mage-armor-id-92",description:"As an action, cast Mage armor on self. Gains %m_armor% armor for %m-armor-turns% turns.",tags:["abjuration","spell","defense"],type:"action",params:{m_armor:1,"m-armor-turns":3}},{name:"Magical Deflection",id:"magical-deflection",description:`As a reaction in response to projectiles or spells targeting you. You create a magical shield that deflects projectiles.  This causes %mdef_count% ranged attack(s) made against you to miss.
{redirect} Any deflected attack can be redirected, use the original attack's stats {/redirect}`,tags:["abjuration","spell","defense"],type:"reaction",params:{mdef_count:1,redirect:0}},{name:"Divination Casting",id:"divination-casting",description:`You can cast divination spells.

Spell Slots: %div_slots%
Spells Per action: %div_spells%`,tags:["divination"],type:"school",params:{div_slots:2,div_spells:1}},{name:"Gift of Foresight",id:"gift-of-foresight",description:"Choose %gof_num% ally within spell range and grant them %gof_ac% AC. {gof_atk} Also give them +1 on their dice rolls. {/gof_atk} {gof_react} A unit with the Gift of Forsight on them can, as a reaction to another unit becoming adjacent, move %gof_react% hex away. They can only do this once. This movement would never provoke and attack of oppourtunity. {/gof_react}",tags:["divination","concentration"],type:"action",params:{gof_ac:1,gof_atk:0,gof_num:1,gof_react:0}},{name:"Portent",id:"portent",description:"Before a battle, roll %Port_num%x1d6 and save that roll. You can replace any attack roll within spell range by yourself, an ally, or enemy with this number. Uses a reaction if used to replace an enemy roll. Within magical range.",tags:["divination"],type:"action",params:{Port_num:1}},{name:"Phantom Sight",id:"phantom-sight",description:"Choose %ps-num% of enemy unit(s). {base1}The DM will tell you what action they will use on their next turn. {/base1} {ps-adv} The DM will tell you what movement and action they will use on their next turn. {/ps-adv} {base2} Only effective on non-command units {/base2} {ps-comm} Effective on all unit types. {/ps-comm}",tags:["divination","spell"],type:"bonus action",params:{base1:1,base2:1,"ps-num":1,"ps-comm":0,"ps-adv":0}}],rre=[{id:"action",name:"Action",color:"#8eb0ff"},{id:"movement",name:"Movement",color:"#c7f8af"},{id:"passive",name:"Passive",color:"#cabfbf"},{id:"reaction",name:"Reaction",color:"#ffb0fc"},{id:"bonus action",name:"Bonus Action",color:"#a887ff"},{id:"school",name:"Magic Proficiency",color:"#5ec5e1"}],ire=[{id:"holyheal",value:2},{id:"holy-damage",value:0}],sre=[{id:"basic",name:"Basic",requires:[],description:"Congrats! You are a unit.",colors:{unavailable:"#121212",selected:"#d2d2d2"},cost:1,providedStats:[{id:"hp",modifier:5},{id:"armor",modifier:2}],providedAbilities:[{id:"basic-attack",modifier:1,modifiers:[],gain:!0}]},{id:"basic-magic",name:"Spellcasting",requires:[{id:"basic",levels:1}],requirementType:"and",description:"Grants your unit the ability to cast spells",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"cantrip-barrage",gain:!0},{id:"spellcasting",gain:!0}]},{id:"speed",name:"Speed",requires:[{id:"basic",levels:1}],description:"Allows you to move one additional hex per turn",colors:{unavailable:"#648264",selected:"#51db53"},levels:8,providedStats:[{id:"movement",modifier:1}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"versatile",requires:[{id:"speed",levels:4}],name:"Versatile",description:"Grants the Versatile ability",cost:1,providedAbilities:[{id:"versatile",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"extra-versatile",requires:[{id:"versatile",levels:1}],name:"Extra Versatile",description:"Grants the Extra Versatile ability",cost:1,providedAbilities:[{id:"extra-versatile",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"dash",requires:[{id:"speed",levels:2}],name:"Dash",description:"Grants the Dash ability",cost:1,providedAbilities:[{id:"dash",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"advanced-dash",requires:[{id:"charge",levels:1}],name:"Dash+",description:"Increases the movement of Dash by 2",cost:1,levels:2,providedAbilities:[{id:"dash",modifiers:[{id:"movement",modifier:2}]}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"dash-expert",requires:[{id:"advanced-dash",levels:2}],name:"Dash Expert",description:"Grants the Dash Expert ability",cost:1,providedAbilities:[{id:"dash-expert",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"charge",requires:[{id:"dash",levels:1}],name:"Charge",description:"Grants the Charge ability",cost:1,providedAbilities:[{id:"charge",gain:!0}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"breakthrough",requires:[{id:"charge",levels:1}],name:"Breakthrough",description:"Grants you the ability to continue moving through units after a charge.",cost:1,providedAbilities:[{id:"charge",modifiers:[{id:"breakthrough",modifer:1,modifier:1}]}]},{colors:{unavailable:"#648264",selected:"#51db53"},id:"advanced-charge",requires:[{id:"charge",levels:1}],name:"Charge+",description:"Increases the movement of Charge by 2",cost:1,providedAbilities:[{id:"charge",modifiers:[{id:"dmg",modifer:1}]}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"flying",requires:[{id:"speed",levels:4}],name:"Flying",description:"Grants you the ability to fly",cost:1,providedAbilities:[{id:"flying",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"death-bomb",requires:[{id:"flying",levels:1}],name:"Death Bomb",description:"Grants you the Death Bomb ability. Must be undead to use.",cost:1,providedAbilities:[{id:"death-bomb",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"swarm",requires:[{id:"flying",levels:1}],name:"Swarm",description:"Grants you the Swarm ability.",cost:1,providedAbilities:[{id:"swarm",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"strafing-run",requires:[{id:"flying",levels:1}],name:"Strafing Run",description:"Grants you the Strafing Run ability.",cost:1,providedAbilities:[{id:"strafing-run",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"advanced-strafing-run",requires:[{id:"strafing-run",levels:1}],name:"Strafing Run+",description:"Increases the number of targets by 3.",levels:2,providedAbilities:[{id:"strafing-run",modifiers:{targets:3}}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"advanced-flying",requires:[{id:"flying",levels:1}],name:"Advanced Flying",description:"Increases the number of targets by 3.",cost:1,providedAbilities:[{id:"advanced-flying",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"dive-bomb",requires:[{id:"advanced-flying",levels:1}],name:"Dive Bomb",description:"Grants you the Dive Bomb ability.",cost:1,providedAbilities:[{id:"dive-bomb",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"aerial-combat",requires:[{id:"advanced-flying",levels:1},{id:"dive-bomb",levels:1}],name:"Aerial Combat",description:"Grants you the Aerial Combat ability.",cost:1,providedAbilities:[{id:"aerial-combat",gain:!0}]},{colors:{unavailable:"#506b73",selected:"#4dd2f7"},id:"aerial-evasion",requires:[{id:"aerial-combat",levels:1}],name:"Aerial Evasion",description:"Grants you the Aerial Evasion ability.",cost:1,providedAbilities:[{id:"aerial-evasion",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"armor",requires:[{id:"basic",levels:1}],name:"Armor",description:"Adds 1 Armor",levels:7,levelCost:[1,1,2,2,3,4,4],providedStats:[{id:"armor",modifier:1}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"attentive",requires:[{id:"armor",levels:2}],name:"Attentive",description:"Grants the Attentive ability",providedAbilities:[{id:"attentive",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"alert",requires:[{id:"attentive",levels:1}],name:"Alert",description:"Grants the Alert ability",providedAbilities:[{id:"alert",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8550"},id:"reactive-armor",requires:[{id:"armor",levels:5}],name:"Reactive Armor",description:"Sets your AC to 1 and grants Reactive Armor.",cost:1,providedStats:[{id:"armor",set:1,modifier:1}],providedAbilities:[{id:"reactive-armor",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"reactive-armor-2",requires:[{id:"reactive-armor",levels:1}],name:"Reactive Armor 2",description:"Increases your base AC to 2",cost:1,providedStats:[{id:"armor",set:2,modifier:2}]},{id:"defend-1",name:"Defend 1",requires:[{id:"armor",levels:1}],requirementType:"and",description:"Grants the ability to defend and adds 1 HP. You can regain half of your HP this way, per day.",globalParams:[],colors:{unavailable:"#403c3a",selected:"#cd8150"},levels:4,levelCost:[1,2,3,4],providedAbilities:[{id:"defend",gain:!0,modifiers:[{id:"hp",modifier:1,set:!1}]}]},{id:"deflect-1",name:"Deflection",requires:[{id:"defend-1",levels:1}],requirementType:"and",description:"Grants the Deflect ability.",globalParams:[],colors:{unavailable:"#403c3a",selected:"#cd8150"},cost:1,providedAbilities:[{id:"deflect",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"deflect-2",requires:[{id:"deflect-1",levels:1}],name:"Deflection+",description:"Makes it easier to deflect magic attacks.",cost:1,providedAbilities:[{id:"deflect",modifiers:[{id:"lowerRange",modifier:-1,set:!1}]}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"guardian-1",requires:[{id:"defend-1",levels:1}],name:"Guardian",description:"Grants the Guardian ability",cost:1,providedAbilities:[{id:"guardian",gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"guardian-2",requires:[{id:"guardian-1",levels:1}],name:"Guardian+",description:"Allows you guard an additional attack",cost:1,providedAbilities:[{id:"guardian",modifiers:[{id:"attacks",modifier:1,set:!1}]}]},{colors:{unavailable:"#65748f",selected:"#7391c9"},id:"magic-range-1",requires:[{id:"basic-magic",levels:1}],name:"Spell Range",description:"Increases the range of your magic.",levels:3,providedAbilities:[{id:"spellcasting",modifiers:[{id:"range",modifier:1}]}]},{colors:{unavailable:"#65748f",selected:"#7391c9"},id:"concentration-1",requires:[{id:"basic-magic",levels:1}],name:"Concentration+",description:"Add +1 to concentration checks.",levels:2,providedAbilities:[{id:"spellcasting",modifiers:[{id:"concentration",modifier:1}]}]},{id:"holy-casting",name:"Holy-Divine Casting",requires:[{id:"basic-magic",levels:1}],requirementType:"and",description:"Grants you the ability to cast Holy/Divine Spells.",globalParams:[],colors:{unavailable:"#C5B986",selected:"#e2c846"},cost:1,providedAbilities:[{id:"smite",gain:!0},{id:"guiding-bolt",gain:!0},{id:"death-ward",gain:!0},{id:"restoration",gain:!0},{id:"turn-undead",gain:!0},{id:"bless",gain:!0},{id:"spirit-guardians",gain:!0},{id:"holy-casting",modifier:1,modifiers:[],gain:!0}]},{id:"holy-power",name:"Holy Power",requires:[{id:"holy-casting",levels:1}],description:"Increases the damage of Smite and Guiding Bolt by 1",colors:{unavailable:"#C5B986",selected:"#948540"},cost:1,providedAbilities:[{id:"smite",modifiers:[{id:"dmg",modifier:1}]},{id:"guiding-bolt",modifiers:[{id:"dmg",modifier:1}]}]},{colors:{unavailable:"#C5B986",selected:"#e6c11d"},id:"advanced-guiding-bolt",requires:[{id:"holy-power",levels:1}],name:"Advanced Guiding Bolt",description:"Guiding bolt now gives allies +2 to hit the target next round.",cost:1,providedAbilities:[{id:"guiding-bolt",modifiers:{hit:1}}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"swimming",requires:[{id:"speed",levels:1}],name:"Swimming",description:"Congrats! You are a unit.",cost:1,providedAbilities:[{id:"swimming",gain:!0}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"advanced-swimming",requires:[{id:"swimming",levels:1}],name:"Advanded Swimming",description:"Increases potential water speed by 3.",cost:1,providedAbilities:[{id:"swimming",modifiers:{movement:3}}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"ferry",requires:[{id:"advanced-swimming",levels:1}],name:"Ferry",description:"Grants the Ferry ability",cost:1,providedAbilities:[{id:"ferry",gain:!0}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"diving",requires:[{id:"advanced-swimming",levels:1}],name:"Diving",description:"Grants the Diving ability",cost:2,providedAbilities:[{id:"diving",gain:!0}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"submarine-transportation",requires:[{id:"diving",levels:1}],name:"Submarine Transportation",description:"Grants the Submarine Transportation ability",cost:1,providedAbilities:[{id:"submarine-transportation",gain:!0}]},{colors:{unavailable:"#3f5576",selected:"#1a72f5"},id:"attack-from-the-deep",requires:[{id:"diving",levels:1}],name:"Attack From The Deep",description:"Grants the Attack From The Deep ability",cost:2,providedAbilities:[{id:"attack-from-the-deep",gain:!0}]},{colors:{unavailable:"#7b5290",selected:"#ab38d9"},id:"191",requires:[{id:"basic-magic",levels:1}],name:"Enchantment",cost:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[],gain:!0},{id:"beguile",modifier:1,modifiers:[],gain:!0},{id:"dominate",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7b5290",selected:"#ab38d9"},id:"180",requires:[{id:"191",levels:1}],name:"Beguile+",description:"Beguiled opponents can now be Compelled and Charmed.",cost:1,providedAbilities:[{id:"beguile",modifier:1,modifiers:[{id:"compelled",modifier:1,set:!1},{id:"charmed",modifier:1,set:!1}]}]},{colors:{unavailable:"#7b5290",selected:"#ab38d9"},id:"beguile-3",requires:[{id:"180",levels:1}],name:"Beguile++",description:"Charmed opponents make 1 fewer attack against you.",cost:1,providedAbilities:[{id:"beguile",modifier:1,modifiers:[{id:"numAttacks",modifier:1,set:!1}]}]},{colors:{unavailable:"#7b5290",selected:"#ab38d9"},id:"alter-emotions-1",requires:[{id:"191",levels:1}],name:"Alter Emotions+",cost:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[{id:"amt",modifier:1,set:!1}]}]},{colors:{unavailable:"#7b5290",selected:"#ab38d9"},id:"soothe",requires:[{id:"alter-emotions-1",levels:1}],name:"Alter Emotions++",description:"You can cast Alter Emotions on additional targets adjacent to the spell's target.",cost:1,providedAbilities:[{id:"alter-emotions",modifier:1,modifiers:[{id:"adjacent",modifier:1,set:!1}]}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command",requires:[{id:"basic",levels:1}],name:"Command",cost:1,providedAbilities:[{id:"command",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-plus",requires:[{id:"command",levels:1}],name:"Command+",levels:3,levelCost:[1,1,1],providedAbilities:[{id:"command",modifier:1,modifiers:[{id:"commandRadius",modifier:50,set:!1}]}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"aggro-command",requires:[{id:"command-plus",levels:1}],name:"Aggressive Commander",cost:1,providedAbilities:[{id:"aggro-command",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-plus-2",requires:[{id:"command-plus",levels:2}],name:"Energetic Commander",cost:1,providedAbilities:[{id:"energetic-commander",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-2",requires:[{id:"command",levels:1}],name:"Rally",cost:1,providedAbilities:[{id:"rally",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"rally+",requires:[{id:"command-2",levels:1}],name:"Rally+",cost:1,providedAbilities:[{id:"rally",modifier:1,modifiers:[{id:"hp",modifier:2,set:!1}]},{id:"rally-2",modifiers:[{id:"hp",modifier:2,set:!1}],gain:!1}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-2-2",requires:[{id:"command-2",levels:1}],name:"Ordered Strike",cost:1,providedAbilities:[{id:"rally",modifiers:[{id:"bonus",modifier:1,set:!1}]}]},{colors:{unavailable:"#7fbfba",selected:"#3ceac8"},id:"command-2-2-1",requires:[{id:"command-2-2",levels:1}],name:"Ordered Strike 2",cost:1,providedAbilities:[{id:"rally-2",modifier:1,modifiers:[],gain:!0}]},{id:"brace",name:"Brace",requires:[{id:"defend-1",levels:1}],requirementType:"and",description:"Brace for attacks while defending, negating charge effects and damaging nearby enemies.",globalParams:[],colors:{unavailable:"#bd7859",selected:"#d48630"},cost:1,providedAbilities:[{id:"defend",modifier:1,modifiers:[{id:"brace",modifier:1,set:!1}]}]},{id:"defend-2-3",name:"Attack of Opportunity",requires:[{id:"defend-1",levels:2}],requirementType:"and",globalParams:[],colors:{unavailable:"#d3976b",selected:"#d46430"},cost:1,providedAbilities:[{id:"attack-of-opportunity",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#403c3a",selected:"#cd8150"},id:"professionals",requires:[{id:"armor",levels:3}],name:"Professionals",description:'Grants the "Professionals" ability.',cost:1,providedAbilities:[{id:"professionals",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"basic-magic-5",requires:[{id:"basic-magic",levels:1}],name:"Necromancy",description:"Cast Necromancer spells.",cost:1,providedAbilities:[{id:"necromancy",modifier:1,modifiers:[],gain:!0},{id:"raise-dead-copy",modifier:1,modifiers:[],gain:!0},{id:"raise-dead",modifier:1,modifiers:[],gain:!0},{id:"knit-flesh",modifier:1,modifiers:[],gain:!0},{id:"wither",modifier:1,modifiers:[],gain:!0}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necromancy-raise-dead",requires:[{id:"basic-magic-5",levels:1}],name:"Raise Dead+",description:"Increases the health of raised units.",cost:1,providedAbilities:[{id:"raise-dead",modifier:1,modifiers:[{id:"raiseHp",modifier:25,set:!1}]}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necromancy-raise-dead-1",requires:[{id:"necromancy-raise-dead",levels:1}],name:"Raise Dead++",description:"Raise units to full health.",cost:1,providedAbilities:[{id:"raise-dead",modifier:1,modifiers:[{id:"raiseHp",modifier:50,set:!1}]}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necro-prof",requires:[{id:"basic-magic-5",levels:1}],name:"Necromantic Profiency",description:"Increases the number of necromancy spells you can cast",levels:2,levelCost:[1,1],providedAbilities:[{id:"necromancy",modifier:1,modifiers:[{id:"slots",modifier:2,set:!1}]}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necro-prof-1",requires:[{id:"necro-prof",levels:1}],name:"Necromantic Mastery",description:"Further increases the number of spells you can cast",cost:1,providedAbilities:[{id:"necromancy",modifier:1,modifiers:[{id:"slots",modifier:1,set:!1}]}]},{colors:{unavailable:"#8eaf60",selected:"#b7ff2c"},id:"necro-prof-2",requires:[{id:"necro-prof",levels:1}],name:"Necromancer",description:"You can now cast 2 necromancy spells per action.",cost:1,providedAbilities:[{id:"necromancy",modifier:1,modifiers:[{id:"spellsPerAction",modifier:1,set:!1}]}]},{id:"greater-restoration",name:"Greater Restoration",requires:[{id:"holy-casting",levels:1}],description:`Restoration now heals 5 HP.

Death Ward restores units to 3 HP.`,colors:{unavailable:"#C5B986",selected:"#bda841"},cost:1,providedAbilities:[{id:"restoration",modifier:1,modifiers:[{id:"hp",modifier:2,set:!1}]},{id:"death-ward",modifier:1,modifiers:[{id:"hp",modifier:1,set:!1}]}]},{id:"divine-restoration",name:"Divine Restoration",requires:[{id:"greater-restoration",levels:1}],description:"Restoration can now be cast for 2 spell slots and heals 10 HP if done this way.",colors:{unavailable:"#C5B986",selected:"#bda841"},cost:1,providedAbilities:[{id:"restoration",modifier:1,modifiers:[{id:"divine",modifier:1,set:!1}]}]},{id:"holy-avenger",name:"Holy Avenger",requires:[{id:"holy-power",levels:1}],colors:{unavailable:"#C5B986",selected:"#948540"},cost:1},{id:"undead-scourge",name:"Undead Scourge",requires:[{id:"holy-power",levels:1},{levels:"1",id:"paragon-of-divintiy"}],requirementType:"and",globalParams:[],colors:{unavailable:"#C5B986",selected:"#948540"},levels:2,levelCost:[1,1],providedAbilities:[{id:"turn-undead",modifier:1,modifiers:[{id:"range",modifier:1,set:!1}]}]},{id:"paragon-of-divintiy",name:"Paragon of Divinity",requires:[{id:"holy-casting",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#C5B986",selected:"#e2c846"},cost:1,providedAbilities:[{id:"bless",modifier:1,modifiers:[{id:"bless_tars",modifier:1,set:!1}]},{id:"spirit-guardians",modifier:1,modifiers:[{id:"armor_debuff",modifier:1,set:!1}]}]},{id:"divine-prof",name:"Divine Proficiency",requires:[{id:"holy-casting",levels:1}],colors:{unavailable:"#C5B986",selected:"#e2c846"},levels:3,levelCost:[2,2,2],providedAbilities:[{id:"holy-casting",modifier:1,modifiers:[{id:"slots",modifier:2,set:!1}]}]},{id:"cleric",name:"Cleric",requires:[{id:"divine-prof",levels:2}],requirementType:"and",description:"Holy spells heal for 1 additional HP.",globalParams:[{id:"holyheal",modifier:1,set:!1}],exclusiveWith:["paladin"],colors:{unavailable:"#C5B986",selected:"#e2c846"},cost:1,providedAbilities:[{id:"restoration",modifier:1,modifiers:[{id:"hp",modifier:1,set:!1}]},{id:"death-ward",modifier:1,modifiers:[{id:"hp",modifier:1,set:!1}]}]},{id:"paladin",name:"Paladin",requires:[{id:"divine-prof",levels:2}],requirementType:"and",description:"Holy spells deal +1 damage",globalParams:[],exclusiveWith:["cleric"],colors:{unavailable:"#C5B986",selected:"#e2c846"},cost:1,providedAbilities:[{id:"smite",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]},{id:"turn-undead",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]},{id:"spirit-guardians",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]},{id:"guiding-bolt",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]}]},{id:"attack-node",name:"Melee Attack",requires:[{id:"basic",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#520505",selected:"#d81b1b"},levels:4,levelCost:[1,3,4,5],providedAbilities:[{id:"Attack_norm",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}],gain:!0},{id:"multi-attack",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}]}]},{id:"Multi_attack-1-dz",name:"Multistrike",requires:[{id:"attack-node",levels:1}],colors:{unavailable:"#520505",selected:"#d81b1b"},levels:2,levelCost:[3,4],providedAbilities:[{id:"multi-attack",modifier:1,modifiers:[{id:"numatks",modifier:1,set:!1}],gain:!0}]},{id:"attack-node-1-dv",name:"Piercing attack",requires:[{id:"attack-node",levels:1}],colors:{unavailable:"#520505",selected:"#d81b1b"},levels:2,levelCost:[1,3],providedAbilities:[{id:"Attack_norm",modifier:1,modifiers:[{id:"dmg2",modifier:1,set:!1}]},{id:"multi-attack",modifier:1,modifiers:[{id:"dmg2",modifier:1,set:!1}]}]},{id:"basic-1-ay",name:"Ranged Attack",requires:[{id:"basic",levels:1}],colors:{unavailable:"#330722",selected:"#831256"},levels:4,levelCost:[1,3,4,5],providedAbilities:[{id:"id-44",modifier:1,modifiers:[{id:"dmg",modifier:1,set:!1}],gain:!0}]},{id:"basic-1-ay-1-ed",name:"Marksman",requires:[{id:"basic-1-ay",levels:1}],colors:{unavailable:"#330722",selected:"#831256"},levels:5,levelCost:[1,2,3,4,5],providedAbilities:[{id:"id-44",modifier:1,modifiers:[{id:"range",modifier:1,set:!1}]}]},{id:"ranged-piercing-001",name:"Advanced Arrowheads",requires:[{id:"basic-1-ay",levels:1}],colors:{unavailable:"#330722",selected:"#831256"},cost:1,providedAbilities:[{id:"id-44",modifier:1,modifiers:[{id:"dmg2",modifier:1,set:!1}]}]},{id:"attack-node-1-bv",name:"Tie Down",requires:[{id:"attack-node",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#521505",selected:"#d8431b"},levels:7,levelCost:[1,1,1,1,1,1,1],providedAbilities:[{id:"tie_down_001",modifier:1,modifiers:[{id:"spd_down",modifier:2,set:!1}],gain:!0}]},{id:"Seige-attacker",name:"Seige Attacker",requires:[{id:"attack-node",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#520505",selected:"#d81b1b"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"seige-id-8",modifier:1,modifiers:[{id:"seige_atk",modifier:1,set:!1}],gain:!0}]},{id:"Massive-1-dx",name:"Massive",requires:[{id:"Seige-attacker",levels:1}],requirementType:"and",description:"This unit has learned how to project its enormity across the battlefield.",globalParams:[],colors:{unavailable:"#520505",selected:"#d81b1b"},cost:1,providedAbilities:[{id:"anti-air-180",modifier:1,modifiers:[]}]},{id:"Hurler-1-dx-1-bv",name:"Hurler",requires:[{id:"Massive-1-dx",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#520505",selected:"#d81b1b"},levels:3,levelCost:[1,2,3],providedAbilities:[{id:"id-43",modifier:1,modifiers:[{id:"hurl_range",modifier:1,set:!1},{id:"hurl_dmg",modifier:2,set:!1}],gain:!0}]},{id:"deflect-1-1-ev",name:"Deflecter",requires:[{id:"deflect-1",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#403c3a",selected:"#cd8150"},levels:2,levelCost:[1,1],providedAbilities:[{id:"deflect",modifier:1,modifiers:[{id:"deflect",modifier:1,set:!1}]}]},{id:"attack-node-1-cy",name:"Critical Strike",requires:[{id:"attack-node",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#520505",selected:"#d81b1b"},cost:1,providedAbilities:[{id:"critical-id-98",modifier:1,modifiers:[],gain:!0}]},{id:"attack-node-1-cy-1-ez",name:"Exploding Critical Strike",requires:[{id:"attack-node-1-cy",levels:1}],requirementType:"and",globalParams:[],colors:{unavailable:"#520505",selected:"#d81b1b"},cost:1,providedAbilities:[{id:"critical-id-98",modifier:1,modifiers:[{id:"base",modifier:-1,set:!1},{id:"explode",modifier:1,set:!1}]}]},{id:"basic-magic-1-ev",name:"Evocation",requires:[{id:"basic-magic",levels:1}],requirementType:"and",description:"Grants you the ability to cast Evocation spells.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},cost:1,providedAbilities:[{id:"id-33",modifier:1,modifiers:[],gain:!0},{id:"magic-barrageid-22",modifier:1,modifiers:[],gain:!0}]},{id:"basic-magic-1-ev-1-dd",name:"Concussive Barrage",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"When you cast Magical Barrage you can choose to instead deal no damage but cause the enemy to be unable to move on their next turn.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:2,levelCost:[1,1],providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_con",modifier:1,set:!1},{id:"mb_con2",modifier:1,set:!1}]}]},{id:"basic-magic-1-ev-1-dz",name:"Barrage Effect",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"When you cast the Magical Barrage Spell you can add an effect on the target.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:2,levelCost:[1,1],providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_effect",modifier:1,set:!1}]}]},{id:"basic-magic-1-ev-1-dv",name:"Enhanced Barrage",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"Magical barrage now does more damage.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:3,levelCost:[1,2,3],providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_dmg",modifier:2,set:!1}]}]},{id:"basic-magic-1-ev-1-cd",name:"Evocation Proficiency",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"You can cast more evocation spells",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"id-33",modifier:1,modifiers:[{id:"evo_slots",modifier:2,set:!1}]}]},{id:"basic-magic-1-ev-1-dv-1-bz",name:"Lasting magics",requires:[{id:"basic-magic-1-ev-1-cd",levels:4}],requirementType:"and",description:"Trade damage now for damage later.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},cost:1,providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_effect",modifier:2,set:!1},{id:"mb_dmg",modifier:-1,set:!1}]}]},{id:"basic-magic-1-ev-1-cd-1-ez",name:"Powerful Magics",requires:[{id:"basic-magic-1-ev-1-cd",levels:4}],requirementType:"and",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},cost:1,providedAbilities:[{id:"magic-barrageid-22",modifier:1,modifiers:[{id:"mb_dmg",modifier:2,set:!1}]}]},{id:"basic-magic-1-ev-1-az",name:"Enhanced Cantrip Strike",requires:[{id:"basic-magic-1-ev",levels:1}],requirementType:"and",description:"Increases the potency of Cantrip Strike.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"cantrip-barrage",modifier:1,modifiers:[]}]},{id:"basic-magic-1-ev-1-az-1-dy",name:"Piercing Cantrip Strike",requires:[{id:"basic-magic-1-ev-1-az",levels:1}],requirementType:"and",description:"Cantrip strike now does piercing damage.",globalParams:[],colors:{unavailable:"#850202",selected:"#ff0004"},cost:1,providedAbilities:[{id:"cantrip-barrage",modifier:1,modifiers:[{id:"can_pierce",modifier:1,set:!1}]}]},{id:"basic-magic-1-by",name:"Abjuration",requires:[{id:"basic-magic",levels:1}],requirementType:"and",description:"You can now cast abjuration spells.",globalParams:[],colors:{unavailable:"#6262CF",selected:"#483CE3"},cost:1,providedAbilities:[{id:"abjuration-id-11",modifier:1,modifiers:[{id:"",modifier:1,set:!1}],gain:!0},{id:"shield-id-152",modifier:1,modifiers:[],gain:!0},{id:"magical-deflection",modifier:1,modifiers:[],gain:!0},{id:"id-4",modifier:1,modifiers:[],gain:!0},{id:"Mage-armor-id-92",modifier:1,modifiers:[],gain:!0}]},{id:"basic-magic-1-by-1-ex",name:"Abjuration Proficiency",requires:[{id:"basic-magic-1-by",levels:1}],requirementType:"and",description:"You can cast more abjuration spells.",globalParams:[],colors:{unavailable:"#6262CF",selected:"#483CE3"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"abjuration-id-11",modifier:1,modifiers:[{id:"abju_slots",modifier:2,set:!1}]}]},{id:"basic-magic-1-by-1-ey",name:"Magical Shielding",requires:[{id:"basic-magic-1-by",levels:1}],requirementType:"and",description:"Shield and magical deflection are upgraded.",globalParams:[],colors:{unavailable:"#6262CF",selected:"#483CE3"},levels:2,levelCost:[2,3],providedAbilities:[{id:"shield-id-152",modifier:1,modifiers:[{id:"shield_armor",modifier:1,set:!1},{id:"shield_count",modifier:1,set:!1}]},{id:"magical-deflection",modifier:1,modifiers:[{id:"mdef_count",modifier:2,set:!1}]}]},{id:"basic-magic-1-by-1-ey-1-ey",name:"Magical redirection",requires:[{id:"basic-magic-1-by-1-ey",levels:1}],requirementType:"and",description:"Ranged returned to sender.",globalParams:[],colors:{unavailable:"#6262CF",selected:"#483CE3"},cost:1,providedAbilities:[{id:"magical-deflection",modifier:1,modifiers:[{id:"redirect",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-ey-1-ez",name:"Volitile Shield",requires:[{id:"basic-magic-1-by-1-ey",levels:1}],requirementType:"and",description:"Attacks fully absorbed by shield (reg. armor + shield armor) hurt the attacker.",globalParams:[],colors:{unavailable:"#6262CF",selected:"#483CE3"},cost:1,providedAbilities:[{id:"shield-id-152",modifier:1,modifiers:[{id:"shield_dmg",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-by",name:"Magical Armor",requires:[{id:"basic-magic-1-by",levels:1}],requirementType:"and",description:"Upgrade your magical armor.",globalParams:[],colors:{unavailable:"#6262CF",selected:"#483CE3"},levels:2,levelCost:[2,2],providedAbilities:[{id:"id-4",modifier:1,modifiers:[{id:"temp_hp",modifier:1,set:!1}]},{id:"Mage-armor-id-92",modifier:1,modifiers:[{id:"m_armor",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-by-1-cd",name:"Lasting Armor",requires:[{id:"basic-magic-1-by-1-by",levels:1}],requirementType:"and",description:"Mage armor lasts longer",globalParams:[],colors:{unavailable:"#6262CF",selected:"#483CE3"},levels:3,levelCost:[1,1,1],providedAbilities:[{id:"Mage-armor-id-92",modifier:1,modifiers:[{id:"m-armor-turns",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-by-1-ex",name:"Subzero Armor",requires:[{id:"basic-magic-1-by-1-by",levels:1}],requirementType:"and",description:"Armor of agathys is more effective.",globalParams:[],colors:{unavailable:"#6262CF",selected:"#483CE3"},levels:2,levelCost:[1,2],providedAbilities:[{id:"id-4",modifier:1,modifiers:[{id:"temp_hp",modifier:1,set:!1},{id:"aga_effect",modifier:1,set:!1}]}]},{id:"basic-magic-1-by-1-ex-1-dy",name:"Reactive Abjurer",requires:[{id:"basic-magic-1-by-1-ex",levels:2}],requirementType:"and",description:"Makes shield and magical deflection at the cost of mage armor and armor of agathys.",globalParams:[],exclusiveWith:["basic-magic-1-by-1-ex-1-ey"],colors:{unavailable:"#6262CF",selected:"#483CE3"},cost:1,providedAbilities:[{id:"Mage-armor-id-92",modifier:1,modifiers:[{id:"m_armor",modifier:-1,set:!1}]},{id:"id-4",modifier:1,modifiers:[{id:"temp_hp",modifier:-2,set:!1}]},{id:"shield-id-152",modifier:1,modifiers:[{id:"shield_armor",modifier:3,set:!1}]},{id:"magical-deflection",modifier:1,modifiers:[{id:"mdef_count",modifier:3,set:!1}]}]},{id:"basic-magic-1-by-1-ex-1-ey",name:"Prepared Abjurer",requires:[{id:"basic-magic-1-by-1-ex",levels:2}],requirementType:"and",description:"Improve Mage armor and armor of agathys at the cost of reactive shielding.",globalParams:[],exclusiveWith:["basic-magic-1-by-1-ex-1-dy"],colors:{unavailable:"#6262CF",selected:"#483CE3"},cost:1,providedAbilities:[{id:"id-4",modifier:1,modifiers:[{id:"temp_hp",modifier:2,set:!1}]},{id:"Mage-armor-id-92",modifier:1,modifiers:[{id:"m_armor",modifier:1,set:!1},{id:"m-armor-turns",modifier:1,set:!1}]},{id:"shield-id-152",modifier:1,modifiers:[{id:"shield_armor",modifier:-1,set:!1}]},{id:"magical-deflection",modifier:1,modifiers:[{id:"mdef_count",modifier:-1,set:!1}]}]},{id:"divination",name:"Divination",requires:[{id:"basic-magic",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"divination-casting",modifier:1,modifiers:[],gain:!0},{id:"gift-of-foresight",modifier:1,modifiers:[],gain:!0},{id:"portent",modifier:1,modifiers:[],gain:!0},{id:"phantom-sight",modifier:1,modifiers:[],gain:!0}]},{id:"divination-prof",name:"Divination Proficiency",requires:[{id:"divination",levels:1}],requirementType:"and",description:"You can cast more divination spells.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},levels:4,levelCost:[1,1,1,1],providedAbilities:[{id:"divination-casting",modifier:1,modifiers:[{id:"div_slots",modifier:1,set:!1}]}]},{id:"gift-of-foresight",name:"Gift of Foresight",requires:[{id:"divination",levels:1}],requirementType:"and",description:"Improved gift of foresight.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"gift-of-foresight",modifier:1,modifiers:[{id:"gof_ac",modifier:1,set:!1}]}]},{id:"foresight-advantage",name:"Advantage of Foresight",requires:[{id:"gift-of-foresight",levels:1}],requirementType:"and",description:"Gift of foresight now grains bonuses to attacking.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"gift-of-foresight",modifier:1,modifiers:[{id:"gof_atk",modifier:1,set:!1}]}]},{id:"foresight-multi",name:"Multiple foresight",requires:[{id:"gift-of-foresight",levels:1}],requirementType:"and",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"gift-of-foresight",modifier:1,modifiers:[{id:"gof_num",modifier:1,set:!1}]}]},{id:"foresight-reaction",name:"Gift of reaction",requires:[{id:"foresight-multi",levels:1},{levels:"1",id:"foresight-advantage"}],requirementType:"or",description:"Gift of foresight now allows a unit to move away from an enemy.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"gift-of-foresight",modifier:1,modifiers:[{id:"gof_react",modifier:1,set:!1}]}]},{id:"deep-portent",name:"Deep Portent",requires:[{id:"divination",levels:1}],requirementType:"and",description:"Reroll more dice from portent.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},levels:2,levelCost:[1,1],providedAbilities:[{id:"portent",modifier:1,modifiers:[{id:"Port_num",modifier:1,set:!1}]}]},{id:"spectre-sight",name:"Spectre Sight",requires:[{id:"divination",levels:1}],requirementType:"and",description:"Improved Phantom sight.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"phantom-sight",modifier:1,modifiers:[{id:"ps-num",modifier:1,set:!1},{id:"base1",modifier:-1,set:!1},{id:"ps-adv",modifier:1,set:!1}],gain:!0}]},{id:"command-sight",name:"Command Sight",requires:[{id:"spectre-sight",levels:1}],requirementType:"and",description:"Improved phantom sight for command units.",globalParams:[],exclusiveWith:[],colors:{unavailable:"#878787",selected:"#96b7bd"},cost:1,providedAbilities:[{id:"phantom-sight",modifier:1,modifiers:[{id:"base2",modifier:-1,set:!1},{id:"ps-comm",modifier:1,set:!1},{id:"ps-num",modifier:1,set:!1}],gain:!1}]}],ore={attack:"#d92a2d",tag:"#c74141",holy:"#d7a435",enchantment:"#ab38d9",defense:"#bb864c",flying:"#6dcb20",aquatic:"#2698a8",magic:"#5269bd",movement:"#459068",undead:"#849064",concentration:"#e28baf",piercing:"#ec9569",command:"#46ddcb",healing:"#e15fab",mustering:"#dca542",necromancy:"#aded23",spell:"#3579cf",evocation:"#ff0000",abjuration:"#08084c",divination:"#05def7"},are=[{id:"armor",name:"Armor"},{id:"hp",name:"Hit Points"},{id:"movement",name:"Movement"}],lre={abilities:nre,abilityTypes:rre,globalParams:ire,nodes:sre,tagColors:ore,stats:are};function ure(){const{build:t,setSavedBuild:e}=_.useContext(Rs),{tagColors:n,setTagColors:r}=_.useContext(Mu),{stats:i,setStats:s}=_.useContext(Gu),{abilityTypes:o,abilities:a,setAbilities:l,setAbilityTypes:u,globalParams:c,setGlobalParams:h}=_.useContext($t),{nodes:d,setNodes:f}=_.useContext(ei),[p,m]=_.useState(""),[g,v]=_.useState(""),[b,y]=_.useState(`dragon-build-${new Date().toDateString()}`),[x,S]=_.useState(`dragon-trees-${new Date().toDateString()}`),C=(L,I)=>{const D=L.target.files,Z=new FileReader;Z.onload=q=>{var z,B,V;VT((z=q.target)==null?void 0:z.result)&&(I==="build"?m(((B=q.target)==null?void 0:B.result)||""):I==="tree"&&v(((V=q.target)==null?void 0:V.result)||""))},Z.readAsText(D[0])},T=L=>{let I={},D="";if(L==="build")I=t==null?void 0:t.exportableBuild,D=`${b||"dragon-build"}.json`;else if(L==="trees"){const Z=x||"dragon-trees";I={abilities:a,abilityTypes:o,globalParams:c,nodes:d,tagColors:n,stats:i},D=`${Z}.json`}if(D.length&&I){const Z=JSON.stringify(I,null,2),q=new Blob([Z],{type:"application/json"}),z=URL.createObjectURL(q),B=document.createElement("a");B.href=z,B.download=D,document.body.appendChild(B),B.click(),document.body.removeChild(B),URL.revokeObjectURL(z)}};return j("div",{className:"code-panel",children:[E(Mt,{name:"Character Build",startOpen:!1,children:j("div",{className:"section",children:[j("div",{className:"uploader",children:[E("input",{type:"file",id:"1",onChange:L=>C(L,"build")}),j(ot,{disabled:!p,clicked:L=>{p.length;const I=JSON.parse(p);I&&e({type:"imported",build:I})},children:["Import Build ",E(Ng,{})]})]}),j("div",{className:"downloader",children:[j("div",{children:["Save as:",E(Ar,{value:b,valueChanged:L=>y(L)})]}),j(ot,{type:"outline",color:"success",clicked:()=>T("build"),children:["Save Build ",E(Zo,{})]})]})]})}),E(Mt,{name:"Trees, Abilities, Etc",startOpen:!1,children:j("div",{className:"section",children:[j("div",{className:"uploader",children:[E("input",{type:"file",id:"1",onChange:L=>C(L,"tree")}),j(ot,{disabled:!g,clicked:L=>{if(g.length){const I=JSON.parse(g);e({type:"imported",build:{}}),I&&(I.nodes&&f({type:"set",nodes:I.nodes}),I.abilities&&l({type:"set",abilities:I.abilities}),I.tagColors&&r({type:"set",colors:I.tagColors}),I.stats&&s({type:"set",stats:I.stats}),I.globalParams&&h({type:"set",params:I.globalParams}),I.abilityTypes&&u({type:"set",abilityTypes:I.abilityTypes}))}},children:["Import Trees/Abilities ",E(Ng,{})]})]}),j("div",{className:"downloader",children:[j("div",{children:["Save as:",E(Ar,{value:x,valueChanged:L=>S(L)})]}),j(ot,{color:"success",clicked:()=>T("trees"),children:["Save Current Trees/Abilities ",E(Zo,{})]})]})]})}),E(Mt,{name:"Defaults",startOpen:!0,children:j("div",{className:"reset",children:[j(ot,{color:"info",clicked:L=>{const I=lre;f({type:"set",nodes:I.nodes}),s({type:"set",stats:I.stats}),u({type:"set",abilityTypes:I.abilityTypes}),l({type:"set",abilities:I.abilities}),r({type:"set",colors:I.tagColors}),h({type:"set",params:I.globalParams}),e({type:"imported",build:{}})},children:[E(WN,{}),"Load Defaults"]}),E("br",{}),j(ot,{color:"danger",clicked:L=>{f({type:"reset"}),l({type:"set",abilities:[]}),u({type:"set",abilityTypes:[]}),r({type:"set",tagColors:{}}),s({type:"set",stats:[]}),h({type:"set",params:[]}),e({type:"imported",build:{}})},children:[E(NN,{}),"Reset Build, Trees, and Abilities"]})]})})]})}function UE({itemSelected:t,selectedItem:e}){const{theme:n,setTheme:r}=_.useContext(Fu),{appMode:i,setAppMode:s}=_.useContext($i);return j("div",{className:"right-menu",children:[i==="build"?E("button",{type:"button",className:e==="sheet"?"selected":"",onClick:o=>t("sheet"),children:E(UB,{})}):E("button",{type:"button",className:e==="sheet"?"selected":"",onClick:o=>t("sheet"),children:E(HB,{})}),E("button",{type:"button",className:e==="code"?"selected":"",onClick:o=>t("code"),children:E(Ng,{})}),E("button",{type:"button",className:e==="help"?"selected":"",onClick:o=>t("help"),children:E(bN,{})}),E("hr",{}),E("button",{onClick:()=>r({type:"set",theme:n==="light"?"dark":"light"}),children:n==="light"?E(kN,{}):E(ZN,{})}),E(ot,{color:i==="edit"?"success":"theme",clicked:()=>s(i==="edit"?"build":"edit"),children:E(rA,{})})]})}function cre({children:t,itemSelected:e,title:n}){const[r,i]=_.useState(null),{leftExpanded:s,setLeftExpanded:o,rightExpanded:a,setRightExpanded:l}=_.useContext($i),[u,c]=_.useState(!1);let h;const d=p=>{(p===r||!a)&&l(!a),i(p),e(p)},f=p=>{c(!u)};return h=u?E(iN,{}):E(tN,{}),a?j("div",{className:"sidebar-right expanded",children:[j("div",{className:Zl({"sidebar-right-panel":!0,full:u,partial:a,"minus-right":s}),children:[j("div",{onClick:f,className:"sidebar-right-panel-heading",children:[E("button",{className:"expander",children:h}),n]}),E("div",{className:"sidebar-right-panel-content",children:t})]}),E(UE,{itemSelected:d,selectedItem:r})]}):E("div",{className:"sidebar-right",children:E(UE,{itemSelected:d,selectedItem:void 0})})}const hre={small:[0,600],med:[600,900],large:[901,1150],xl:[1151,1400],xxl:[1401,1600],xxxl:[1601,2e3]};function dre(t){return{small:1,med:2,large:3,xl:4,xxl:5,xxxl:6}[t]}function jE(t,e){return vn(t,n=>{var i,s;let r=!0;return(i=e.tags)!=null&&i.length&&(r=HT(e.tags,n.tags).length===0),(s=e.textFilter)!=null&&s.length&&(r=r&&n.name.toLowerCase().includes(e.textFilter.toLowerCase())),r})}function fre(t){const e=YT(t,(n,r)=>{var i;return(i=r==null?void 0:r.tags)!=null&&i.length?[...n,...r.tags]:n},[]);return ma(Jd(e))}function pre(){const{abilities:t,setAbilities:e}=_.useContext($t),[n,r]=_.useState({tags:[],textFilter:""}),[i,s]=_.useState(!1),[o,a]=_.useState(""),{ref:l,active:u,width:c}=hO({breakpoints:hre}),h=v=>{},d=v=>{a(v.id)},f=v=>{e({type:"remove",ability:{id:v}}),e({type:"save"})},p=v=>{r(v)},m=()=>{const v=`id-${Math.floor(Math.random()*200)}`;e({type:"add",ability:{name:n.textFilter||"New Ability",id:v,description:"",tags:n.tags,type:"action"}}),a(v)},g=()=>{s(!i)};return j("div",{className:"ability-editor",children:[E(dO,{children:E(fO,{expanded:!0,tags:fre(t),filtersUpdated:p})}),j("div",{className:"expand-button",children:["Abilities",E(ot,{color:"theme",clicked:g,children:i?E(nA,{size:30}):E(tA,{size:30})})]}),E("div",{ref:l,className:"ability-cards",children:j(cO,{columns:dre(u),spacing:2,children:[E("div",{className:"card-wrapper new-button",children:j("button",{onClick:m,children:[E(or,{})," New Ability"]})}),jE(t,n).map((v,b)=>E("div",{className:"card-wrapper",children:E(Af,{ability:v,isPlayerAbility:!0,modifiers:v.modifiers,startOpen:!1,isExpanded:i,editable:!0,forceIsEditing:v.id===o,abilityEdited:h,abilityCopied:d,abilityRemoved:f},b)},b)),jE(t,n).length>10&&E("div",{className:"card-wrapper new-button",children:j("button",{onClick:m,children:[E(or,{})," New Ability"]})})]})})]})}function mre(){const{abilityTypes:t,setAbilityTypes:e}=_.useContext($t),n=o=>{e({type:"add",abilityType:{id:"new-abilityType-type",name:"New Ability Type"}})},r=o=>{e({type:"remove",abilityType:{id:o}})},i=(o,a,l)=>{e({type:"update",index:a,abilityType:{...t[a],[l]:o}})},s=()=>{e({type:"save"})};return E("div",{className:"abilityType-editor",children:j("div",{className:"abilityTypes",children:[ge(t,(o,a)=>j("div",{className:"abilityType-instance",children:[E("div",{className:"color",children:E(Ql,{color:o.color||"#ffffff",colorChanged:l=>i(l,a,"color")})}),j("div",{className:"top",children:[E("div",{className:"name",children:E(Ar,{blur:s,value:o.name,valueChanged:l=>i(l,a,"name")})}),E("button",{className:"remove-button",onClick:l=>r(o.id),children:E(ga,{})})]}),E("div",{className:"bottom",children:E("div",{className:"id",children:E(Ar,{blur:s,value:o.id,valueChanged:l=>i(l,a,"id")})})})]},a)),j("button",{className:"new-button",onClick:n,children:["Add Type ",E(or,{})]})]})})}function gre(){const{globalParams:t,setGlobalParams:e}=_.useContext($t),[n,r]=_.useState(!1),[i,s]=_.useState(t);_.useEffect(()=>{s(t)},[t]);const o=(h,d)=>{let f=Ie(i);f[d].id=h,s(f),r(!0)},a=(h,d)=>{let f=Ie(i);f[d].value=h,s(f),r(!0)},l=()=>{let h=[...i,{id:"",value:0}];s(h),r(!0)},u=h=>{let d=Ie(i);d.splice(h,1),e(d)},c=()=>{e({type:"set",params:Ie(i)}),e({type:"save"}),r(!1)};return j("div",{className:"param-editor",children:[i&&ge(i,(h,d)=>j("div",{className:"param-line",children:[E(ot,{color:"danger",clicked:()=>u(d),children:E(ga,{size:"18"})}),E(Ar,{minWidth:120,placeholder:"name",className:"param-input",value:h.id,valueChanged:f=>o(f,d)}),E(Dy,{className:"param-input",value:h.value,valueChanged:f=>a(f,d)})]},d)),j("div",{className:"add-button",children:[E("div",{children:j(ot,{disabled:ku(i,{name:""}),color:"theme",clicked:l,children:[E(or,{size:20})," Add Param"]})}),j(ot,{disabled:!n,color:"success",clicked:c,children:[E(Zo,{size:20})," Save Changes"]})]})]})}function zE(){const{stats:t,setStats:e}=_.useContext(Gu),n=o=>{e({type:"add",stat:{id:"new-stat",name:"New Stat",color:"#fff"}})},r=o=>{e({type:"remove",stat:{id:o}})},i=(o,a,l)=>{e({type:"update",index:a,stat:{...t[a],[l]:o}})},s=()=>{e({type:"save"})};return E("div",{className:"stat-editor",children:j("div",{className:"stats",children:[ge(t,(o,a)=>j("div",{className:"stat-instance",children:[E("div",{className:"color",children:E(Ql,{color:o.color||"#ffffff",colorChanged:l=>i(l,a,"color")})}),j("div",{className:"top",children:[E("div",{className:"name",children:E(Ar,{blur:s,value:o.name,valueChanged:l=>i(l,a,"name")})}),E("button",{className:"remove-button",onClick:l=>r(o.id),children:E(ga,{})})]}),E("div",{className:"bottom",children:E("div",{className:"id",children:E(Ar,{blur:s,value:o.id,valueChanged:l=>i(l,a,"id")})})})]},a)),j("button",{className:"new-button",onClick:n,children:["Add Stat ",E(or,{})]})]})})}const vre="{myParam}This only appears when 'myParam' is at least 1{/myParam}",yre="%myParam% will be replaced with the value of 'myParam'",bre="You make 1 melee attack against an adjacent enemy. Roll 1d6{dmg}+%dmg%{/dmg} and do that much damage.";function xre(){const[t,e]=_.useState("info"),[n,r]=_.useState("info"),{appMode:i}=_.useContext($i);return j(cre,{itemSelected:o=>{switch(e(o),o){case"sheet":r("Character Sheet");break;case"code":r("Import/Export");break;case"help":r("Help");break;case"list":r("Edit Data");break}},title:n,children:[t==="sheet"&&E("div",{children:i==="build"?E(tre,{}):j("div",{children:[E(Mt,{name:"Abilities",startOpen:!1,children:E(pre,{})}),E(Mt,{name:"Ability Types",startOpen:!1,children:E(mre,{})}),E(Mt,{name:"Global Params",startOpen:!1,children:E(gre,{})}),E(Mt,{name:"Stats",startOpen:!1,children:E(zE,{})})]})}),t==="code"?E(ure,{}):"",t==="help"?j("div",{className:"padding-md",style:{textAlign:"left"},children:[E("h2",{children:"Ability Description Syntax"}),E("h3",{children:"Condition"}),E("p",{children:vre}),E("h3",{children:"Value"}),E("p",{children:yre}),E("h3",{children:"Example"}),E("p",{children:bre})]}):"",t==="stats"?E(zE,{}):""]})}function wre({pointsSpent:t}){return j("div",{className:"point-counter",children:["Spent: ",t]})}var _re={value:()=>{}};function pO(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ph(n)}function ph(t){this._=t}function Ere(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ph.prototype=pO.prototype={constructor:ph,on:function(t,e){var n=this._,r=Ere(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=Sre(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=HE(n[i],t.name,e);else if(e==null)for(i in n)n[i]=HE(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ph(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function Sre(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function HE(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=_re,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var ra=0,ll=0,Va=0,mO=1e3,hd,ul,dd=0,ws=0,Ff=0,ru=typeof performance=="object"&&performance.now?performance:Date,gO=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function vO(){return ws||(gO(Cre),ws=ru.now()+Ff)}function Cre(){ws=0}function wv(){this._call=this._time=this._next=null}wv.prototype=yO.prototype={constructor:wv,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?vO():+n)+(e==null?0:+e),!this._next&&ul!==this&&(ul?ul._next=this:hd=this,ul=this),this._call=t,this._time=n,_v()},stop:function(){this._call&&(this._call=null,this._time=1/0,_v())}};function yO(t,e,n){var r=new wv;return r.restart(t,e,n),r}function Tre(){vO(),++ra;for(var t=hd,e;t;)(e=ws-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ra}function GE(){ws=(dd=ru.now())+Ff,ra=ll=0;try{Tre()}finally{ra=0,Pre(),ws=0}}function Are(){var t=ru.now(),e=t-dd;e>mO&&(Ff-=e,dd=t)}function Pre(){for(var t,e=hd,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:hd=n);ul=t,_v(r)}function _v(t){if(!ra){ll&&(ll=clearTimeout(ll));var e=t-ws;e>24?(t<1/0&&(ll=setTimeout(GE,t-ru.now()-Ff)),Va&&(Va=clearInterval(Va))):(Va||(dd=ru.now(),Va=setInterval(Are,mO)),ra=1,gO(GE))}}function WE(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function i(){var s,o=n.length,a,l=0,u=0;for(s=0;s<o;++s)a=n[s],l+=a.x,u+=a.y;for(l=(l/o-t)*r,u=(u/o-e)*r,s=0;s<o;++s)a=n[s],a.x-=l,a.y-=u}return i.initialize=function(s){n=s},i.x=function(s){return arguments.length?(t=+s,i):t},i.y=function(s){return arguments.length?(e=+s,i):e},i.strength=function(s){return arguments.length?(r=+s,i):r},i}function Ore(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return bO(this.cover(e,n),e,n,t)}function bO(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,s=t._root,o={data:r},a=t._x0,l=t._y0,u=t._x1,c=t._y1,h,d,f,p,m,g,v,b;if(!s)return t._root=o,t;for(;s.length;)if((m=e>=(h=(a+u)/2))?a=h:u=h,(g=n>=(d=(l+c)/2))?l=d:c=d,i=s,!(s=s[v=g<<1|m]))return i[v]=o,t;if(f=+t._x.call(null,s.data),p=+t._y.call(null,s.data),e===f&&n===p)return o.next=s,i?i[v]=o:t._root=o,t;do i=i?i[v]=new Array(4):t._root=new Array(4),(m=e>=(h=(a+u)/2))?a=h:u=h,(g=n>=(d=(l+c)/2))?l=d:c=d;while((v=g<<1|m)===(b=(p>=d)<<1|f>=h));return i[b]=s,i[v]=o,t}function Ire(t){var e,n,r=t.length,i,s,o=new Array(r),a=new Array(r),l=1/0,u=1/0,c=-1/0,h=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(s=+this._y.call(null,e))||(o[n]=i,a[n]=s,i<l&&(l=i),i>c&&(c=i),s<u&&(u=s),s>h&&(h=s));if(l>c||u>h)return this;for(this.cover(l,u).cover(c,h),n=0;n<r;++n)bO(this,o[n],a[n],t[n]);return this}function kre(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,s=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,s=(r=Math.floor(e))+1;else{for(var o=i-n||1,a=this._root,l,u;n>t||t>=i||r>e||e>=s;)switch(u=(e<r)<<1|t<n,l=new Array(4),l[u]=a,a=l,o*=2,u){case 0:i=n+o,s=r+o;break;case 1:n=i-o,s=r+o;break;case 2:i=n+o,r=s-o;break;case 3:n=i-o,r=s-o;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=s,this}function Rre(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function Mre(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Ft(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function Fre(t,e,n){var r,i=this._x0,s=this._y0,o,a,l,u,c=this._x1,h=this._y1,d=[],f=this._root,p,m;for(f&&d.push(new Ft(f,i,s,c,h)),n==null?n=1/0:(i=t-n,s=e-n,c=t+n,h=e+n,n*=n);p=d.pop();)if(!(!(f=p.node)||(o=p.x0)>c||(a=p.y0)>h||(l=p.x1)<i||(u=p.y1)<s))if(f.length){var g=(o+l)/2,v=(a+u)/2;d.push(new Ft(f[3],g,v,l,u),new Ft(f[2],o,v,g,u),new Ft(f[1],g,a,l,v),new Ft(f[0],o,a,g,v)),(m=(e>=v)<<1|t>=g)&&(p=d[d.length-1],d[d.length-1]=d[d.length-1-m],d[d.length-1-m]=p)}else{var b=t-+this._x.call(null,f.data),y=e-+this._y.call(null,f.data),x=b*b+y*y;if(x<n){var S=Math.sqrt(n=x);i=t-S,s=e-S,c=t+S,h=e+S,r=f.data}}return r}function Dre(t){if(isNaN(c=+this._x.call(null,t))||isNaN(h=+this._y.call(null,t)))return this;var e,n=this._root,r,i,s,o=this._x0,a=this._y0,l=this._x1,u=this._y1,c,h,d,f,p,m,g,v;if(!n)return this;if(n.length)for(;;){if((p=c>=(d=(o+l)/2))?o=d:l=d,(m=h>=(f=(a+u)/2))?a=f:u=f,e=n,!(n=n[g=m<<1|p]))return this;if(!n.length)break;(e[g+1&3]||e[g+2&3]||e[g+3&3])&&(r=e,v=g)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(s=n.next)&&delete n.next,i?(s?i.next=s:delete i.next,this):e?(s?e[g]=s:delete e[g],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[v]=n:this._root=n),this):(this._root=s,this)}function $re(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function Bre(){return this._root}function Nre(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function Lre(t){var e=[],n,r=this._root,i,s,o,a,l;for(r&&e.push(new Ft(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,s=n.x0,o=n.y0,a=n.x1,l=n.y1)&&r.length){var u=(s+a)/2,c=(o+l)/2;(i=r[3])&&e.push(new Ft(i,u,c,a,l)),(i=r[2])&&e.push(new Ft(i,s,c,u,l)),(i=r[1])&&e.push(new Ft(i,u,o,a,c)),(i=r[0])&&e.push(new Ft(i,s,o,u,c))}return this}function Ure(t){var e=[],n=[],r;for(this._root&&e.push(new Ft(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var s,o=r.x0,a=r.y0,l=r.x1,u=r.y1,c=(o+l)/2,h=(a+u)/2;(s=i[0])&&e.push(new Ft(s,o,a,c,h)),(s=i[1])&&e.push(new Ft(s,c,a,l,h)),(s=i[2])&&e.push(new Ft(s,o,h,c,u)),(s=i[3])&&e.push(new Ft(s,c,h,l,u))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function jre(t){return t[0]}function zre(t){return arguments.length?(this._x=t,this):this._x}function Hre(t){return t[1]}function Gre(t){return arguments.length?(this._y=t,this):this._y}function B1(t,e,n){var r=new N1(e??jre,n??Hre,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function N1(t,e,n,r,i,s){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=s,this._root=void 0}function VE(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Ut=B1.prototype=N1.prototype;Ut.copy=function(){var t=new N1(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=VE(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=VE(r));return t};Ut.add=Ore;Ut.addAll=Ire;Ut.cover=kre;Ut.data=Rre;Ut.extent=Mre;Ut.find=Fre;Ut.remove=Dre;Ut.removeAll=$re;Ut.root=Bre;Ut.size=Nre;Ut.visit=Lre;Ut.visitAfter=Ure;Ut.x=zre;Ut.y=Gre;function us(t){return function(){return t}}function hi(t){return(t()-.5)*1e-6}function Wre(t){return t.x+t.vx}function Vre(t){return t.y+t.vy}function XE(t){var e,n,r,i=1,s=1;typeof t!="function"&&(t=us(t==null?1:+t));function o(){for(var u,c=e.length,h,d,f,p,m,g,v=0;v<s;++v)for(h=B1(e,Wre,Vre).visitAfter(a),u=0;u<c;++u)d=e[u],m=n[d.index],g=m*m,f=d.x+d.vx,p=d.y+d.vy,h.visit(b);function b(y,x,S,C,T){var A=y.data,k=y.r,M=m+k;if(A){if(A.index>d.index){var N=f-A.x-A.vx,L=p-A.y-A.vy,I=N*N+L*L;I<M*M&&(N===0&&(N=hi(r),I+=N*N),L===0&&(L=hi(r),I+=L*L),I=(M-(I=Math.sqrt(I)))/I*i,d.vx+=(N*=I)*(M=(k*=k)/(g+k)),d.vy+=(L*=I)*M,A.vx-=N*(M=1-M),A.vy-=L*M)}return}return x>f+M||C<f-M||S>p+M||T<p-M}}function a(u){if(u.data)return u.r=n[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function l(){if(e){var u,c=e.length,h;for(n=new Array(c),u=0;u<c;++u)h=e[u],n[h.index]=+t(h,u,e)}}return o.initialize=function(u,c){e=u,r=c,l()},o.iterations=function(u){return arguments.length?(s=+u,o):s},o.strength=function(u){return arguments.length?(i=+u,o):i},o.radius=function(u){return arguments.length?(t=typeof u=="function"?u:us(+u),l(),o):t},o}function Xre(t){return t.index}function YE(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function qE(t){var e=Xre,n=h,r,i=us(30),s,o,a,l,u,c=1;t==null&&(t=[]);function h(g){return 1/Math.min(a[g.source.index],a[g.target.index])}function d(g){for(var v=0,b=t.length;v<c;++v)for(var y=0,x,S,C,T,A,k,M;y<b;++y)x=t[y],S=x.source,C=x.target,T=C.x+C.vx-S.x-S.vx||hi(u),A=C.y+C.vy-S.y-S.vy||hi(u),k=Math.sqrt(T*T+A*A),k=(k-s[y])/k*g*r[y],T*=k,A*=k,C.vx-=T*(M=l[y]),C.vy-=A*M,S.vx+=T*(M=1-M),S.vy+=A*M}function f(){if(o){var g,v=o.length,b=t.length,y=new Map(o.map((S,C)=>[e(S,C,o),S])),x;for(g=0,a=new Array(v);g<b;++g)x=t[g],x.index=g,typeof x.source!="object"&&(x.source=YE(y,x.source)),typeof x.target!="object"&&(x.target=YE(y,x.target)),a[x.source.index]=(a[x.source.index]||0)+1,a[x.target.index]=(a[x.target.index]||0)+1;for(g=0,l=new Array(b);g<b;++g)x=t[g],l[g]=a[x.source.index]/(a[x.source.index]+a[x.target.index]);r=new Array(b),p(),s=new Array(b),m()}}function p(){if(o)for(var g=0,v=t.length;g<v;++g)r[g]=+n(t[g],g,t)}function m(){if(o)for(var g=0,v=t.length;g<v;++g)s[g]=+i(t[g],g,t)}return d.initialize=function(g,v){o=g,u=v,f()},d.links=function(g){return arguments.length?(t=g,f(),d):t},d.id=function(g){return arguments.length?(e=g,d):e},d.iterations=function(g){return arguments.length?(c=+g,d):c},d.strength=function(g){return arguments.length?(n=typeof g=="function"?g:us(+g),p(),d):n},d.distance=function(g){return arguments.length?(i=typeof g=="function"?g:us(+g),m(),d):i},d}const Yre=1664525,qre=1013904223,KE=4294967296;function Kre(){let t=1;return()=>(t=(Yre*t+qre)%KE)/KE}function Zre(t){return t.x}function Qre(t){return t.y}var Jre=10,eie=Math.PI*(3-Math.sqrt(5));function ZE(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),s=0,o=.6,a=new Map,l=yO(h),u=pO("tick","end"),c=Kre();t==null&&(t=[]);function h(){d(),u.call("tick",e),n<r&&(l.stop(),u.call("end",e))}function d(m){var g,v=t.length,b;m===void 0&&(m=1);for(var y=0;y<m;++y)for(n+=(s-n)*i,a.forEach(function(x){x(n)}),g=0;g<v;++g)b=t[g],b.fx==null?b.x+=b.vx*=o:(b.x=b.fx,b.vx=0),b.fy==null?b.y+=b.vy*=o:(b.y=b.fy,b.vy=0);return e}function f(){for(var m=0,g=t.length,v;m<g;++m){if(v=t[m],v.index=m,v.fx!=null&&(v.x=v.fx),v.fy!=null&&(v.y=v.fy),isNaN(v.x)||isNaN(v.y)){var b=Jre*Math.sqrt(.5+m),y=m*eie;v.x=b*Math.cos(y),v.y=b*Math.sin(y)}(isNaN(v.vx)||isNaN(v.vy))&&(v.vx=v.vy=0)}}function p(m){return m.initialize&&m.initialize(t,c),m}return f(),e={tick:d,restart:function(){return l.restart(h),e},stop:function(){return l.stop(),e},nodes:function(m){return arguments.length?(t=m,f(),a.forEach(p),e):t},alpha:function(m){return arguments.length?(n=+m,e):n},alphaMin:function(m){return arguments.length?(r=+m,e):r},alphaDecay:function(m){return arguments.length?(i=+m,e):+i},alphaTarget:function(m){return arguments.length?(s=+m,e):s},velocityDecay:function(m){return arguments.length?(o=1-m,e):1-o},randomSource:function(m){return arguments.length?(c=m,a.forEach(p),e):c},force:function(m,g){return arguments.length>1?(g==null?a.delete(m):a.set(m,p(g)),e):a.get(m)},find:function(m,g,v){var b=0,y=t.length,x,S,C,T,A;for(v==null?v=1/0:v*=v,b=0;b<y;++b)T=t[b],x=m-T.x,S=g-T.y,C=x*x+S*S,C<v&&(A=T,v=C);return A},on:function(m,g){return arguments.length>1?(u.on(m,g),e):u.on(m)}}}function QE(){var t,e,n,r,i=us(-30),s,o=1,a=1/0,l=.81;function u(f){var p,m=t.length,g=B1(t,Zre,Qre).visitAfter(h);for(r=f,p=0;p<m;++p)e=t[p],g.visit(d)}function c(){if(t){var f,p=t.length,m;for(s=new Array(p),f=0;f<p;++f)m=t[f],s[m.index]=+i(m,f,t)}}function h(f){var p=0,m,g,v=0,b,y,x;if(f.length){for(b=y=x=0;x<4;++x)(m=f[x])&&(g=Math.abs(m.value))&&(p+=m.value,v+=g,b+=g*m.x,y+=g*m.y);f.x=b/v,f.y=y/v}else{m=f,m.x=m.data.x,m.y=m.data.y;do p+=s[m.data.index];while(m=m.next)}f.value=p}function d(f,p,m,g){if(!f.value)return!0;var v=f.x-e.x,b=f.y-e.y,y=g-p,x=v*v+b*b;if(y*y/l<x)return x<a&&(v===0&&(v=hi(n),x+=v*v),b===0&&(b=hi(n),x+=b*b),x<o&&(x=Math.sqrt(o*x)),e.vx+=v*f.value*r/x,e.vy+=b*f.value*r/x),!0;if(f.length||x>=a)return;(f.data!==e||f.next)&&(v===0&&(v=hi(n),x+=v*v),b===0&&(b=hi(n),x+=b*b),x<o&&(x=Math.sqrt(o*x)));do f.data!==e&&(y=s[f.data.index]*r/x,e.vx+=v*y,e.vy+=b*y);while(f=f.next)}return u.initialize=function(f,p){t=f,n=p,c()},u.strength=function(f){return arguments.length?(i=typeof f=="function"?f:us(+f),c(),u):i},u.distanceMin=function(f){return arguments.length?(o=f*f,u):Math.sqrt(o)},u.distanceMax=function(f){return arguments.length?(a=f*f,u):Math.sqrt(a)},u.theta=function(f){return arguments.length?(l=f*f,u):Math.sqrt(l)},u}function cl(t,e,n){this.k=t,this.x=e,this.y=n}cl.prototype={constructor:cl,scale:function(t){return t===1?this:new cl(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new cl(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};cl.prototype;var Bi=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(Bi||{}),L1=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(L1||{}),fd=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(fd||{}),ae=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(ae||{}),Zn=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(Zn||{}),X=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(X||{}),cs=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(cs||{}),se=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(se||{}),pd=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(pd||{}),wr=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(wr||{}),Cr=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(Cr||{}),ar=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(ar||{}),$n=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))($n||{}),Yn=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(Yn||{}),Df=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(Df||{}),sn=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(sn||{}),st=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(st||{}),xO=(t=>(t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA",t))(xO||{}),Ye=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(Ye||{}),nr=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(nr||{});const wO={createCanvas:(t,e)=>{const n=document.createElement("canvas");return n.width=t,n.height=e,n},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},ee={ADAPTER:wO,RESOLUTION:1,RENDER_OPTIONS:{view:null,width:800,height:600,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,clearBeforeRender:!0,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,hello:!1},CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Kp=/iPhone/i,JE=/iPod/i,eS=/iPad/i,tS=/\biOS-universal(?:.+)Mac\b/i,Zp=/\bAndroid(?:.+)Mobile\b/i,nS=/Android/i,Gs=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Oc=/Silk/i,kr=/Windows Phone/i,rS=/\bWindows(?:.+)ARM\b/i,iS=/BlackBerry/i,sS=/BB10/i,oS=/Opera Mini/i,aS=/\b(CriOS|Chrome)(?:.+)Mobile/i,lS=/Mobile(?:.+)Firefox\b/i,uS=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function tie(t){return function(e){return e.test(t)}}function nie(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var n=e.userAgent,r=n.split("[FBAN");typeof r[1]<"u"&&(n=r[0]),r=n.split("Twitter"),typeof r[1]<"u"&&(n=r[0]);var i=tie(n),s={apple:{phone:i(Kp)&&!i(kr),ipod:i(JE),tablet:!i(Kp)&&(i(eS)||uS(e))&&!i(kr),universal:i(tS),device:(i(Kp)||i(JE)||i(eS)||i(tS)||uS(e))&&!i(kr)},amazon:{phone:i(Gs),tablet:!i(Gs)&&i(Oc),device:i(Gs)||i(Oc)},android:{phone:!i(kr)&&i(Gs)||!i(kr)&&i(Zp),tablet:!i(kr)&&!i(Gs)&&!i(Zp)&&(i(Oc)||i(nS)),device:!i(kr)&&(i(Gs)||i(Oc)||i(Zp)||i(nS))||i(/\bokhttp\b/i)},windows:{phone:i(kr),tablet:i(rS),device:i(kr)||i(rS)},other:{blackberry:i(iS),blackberry10:i(sS),opera:i(oS),firefox:i(lS),chrome:i(aS),device:i(iS)||i(sS)||i(oS)||i(lS)||i(aS)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const Qn=nie(globalThis.navigator);ee.RETINA_PREFIX=/@([0-9\.]+)x/;ee.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Ci={},rie={get exports(){return Ci},set exports(t){Ci=t}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function s(l,u,c,h,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var f=new i(c,h||l,d),p=n?n+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],f]:l._events[p].push(f):(l._events[p]=f,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,h;if(this._eventsCount===0)return u;for(h in c=this._events)e.call(c,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,h=this._events[c];if(!h)return[];if(h.fn)return[h.fn];for(var d=0,f=h.length,p=new Array(f);d<f;d++)p[d]=h[d].fn;return p},a.prototype.listenerCount=function(u){var c=n?n+u:u,h=this._events[c];return h?h.fn?1:h.length:0},a.prototype.emit=function(u,c,h,d,f,p){var m=n?n+u:u;if(!this._events[m])return!1;var g=this._events[m],v=arguments.length,b,y;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,c),!0;case 3:return g.fn.call(g.context,c,h),!0;case 4:return g.fn.call(g.context,c,h,d),!0;case 5:return g.fn.call(g.context,c,h,d,f),!0;case 6:return g.fn.call(g.context,c,h,d,f,p),!0}for(y=1,b=new Array(v-1);y<v;y++)b[y-1]=arguments[y];g.fn.apply(g.context,b)}else{var x=g.length,S;for(y=0;y<x;y++)switch(g[y].once&&this.removeListener(u,g[y].fn,void 0,!0),v){case 1:g[y].fn.call(g[y].context);break;case 2:g[y].fn.call(g[y].context,c);break;case 3:g[y].fn.call(g[y].context,c,h);break;case 4:g[y].fn.call(g[y].context,c,h,d);break;default:if(!b)for(S=1,b=new Array(v-1);S<v;S++)b[S-1]=arguments[S];g[y].fn.apply(g[y].context,b)}}return!0},a.prototype.on=function(u,c,h){return s(this,u,c,h,!1)},a.prototype.once=function(u,c,h){return s(this,u,c,h,!0)},a.prototype.removeListener=function(u,c,h,d){var f=n?n+u:u;if(!this._events[f])return this;if(!c)return o(this,f),this;var p=this._events[f];if(p.fn)p.fn===c&&(!d||p.once)&&(!h||p.context===h)&&o(this,f);else{for(var m=0,g=[],v=p.length;m<v;m++)(p[m].fn!==c||d&&!p[m].once||h&&p[m].context!==h)&&g.push(p[m]);g.length?this._events[f]=g.length===1?g[0]:g:o(this,f)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(rie);var iu={},iie={get exports(){return iu},set exports(t){iu=t}};iie.exports=$f;iu.default=$f;function $f(t,e,n){n=n||2;var r=e&&e.length,i=r?e[0]*n:t.length,s=_O(t,0,i,n,!0),o=[];if(!s||s.next===s.prev)return o;var a,l,u,c,h,d,f;if(r&&(s=uie(t,e,s,n)),t.length>80*n){a=u=t[0],l=c=t[1];for(var p=n;p<i;p+=n)h=t[p],d=t[p+1],h<a&&(a=h),d<l&&(l=d),h>u&&(u=h),d>c&&(c=d);f=Math.max(u-a,c-l),f=f!==0?32767/f:0}return su(s,o,n,a,l,f,0),o}function _O(t,e,n,r,i){var s,o;if(i===Cv(t,e,n,r)>0)for(s=e;s<n;s+=r)o=cS(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=cS(s,t[s],t[s+1],o);return o&&Bf(o,o.next)&&(au(o),o=o.next),o}function _s(t,e){if(!t)return t;e||(e=t);var n=t,r;do if(r=!1,!n.steiner&&(Bf(n,n.next)||qe(n.prev,n,n.next)===0)){if(au(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function su(t,e,n,r,i,s,o){if(t){!o&&s&&pie(t,r,i,s);for(var a=t,l,u;t.prev!==t.next;){if(l=t.prev,u=t.next,s?oie(t,r,i,s):sie(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),au(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=aie(_s(t),e,n),su(t,e,n,r,i,s,2)):o===2&&lie(t,e,n,r,i,s):su(_s(t),e,n,r,i,s,1);break}}}}function sie(t){var e=t.prev,n=t,r=t.next;if(qe(e,n,r)>=0)return!1;for(var i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,u=r.y,c=i<s?i<o?i:o:s<o?s:o,h=a<l?a<u?a:u:l<u?l:u,d=i>s?i>o?i:o:s>o?s:o,f=a>l?a>u?a:u:l>u?l:u,p=r.next;p!==e;){if(p.x>=c&&p.x<=d&&p.y>=h&&p.y<=f&&Po(i,a,s,l,o,u,p.x,p.y)&&qe(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function oie(t,e,n,r){var i=t.prev,s=t,o=t.next;if(qe(i,s,o)>=0)return!1;for(var a=i.x,l=s.x,u=o.x,c=i.y,h=s.y,d=o.y,f=a<l?a<u?a:u:l<u?l:u,p=c<h?c<d?c:d:h<d?h:d,m=a>l?a>u?a:u:l>u?l:u,g=c>h?c>d?c:d:h>d?h:d,v=Ev(f,p,e,n,r),b=Ev(m,g,e,n,r),y=t.prevZ,x=t.nextZ;y&&y.z>=v&&x&&x.z<=b;){if(y.x>=f&&y.x<=m&&y.y>=p&&y.y<=g&&y!==i&&y!==o&&Po(a,c,l,h,u,d,y.x,y.y)&&qe(y.prev,y,y.next)>=0||(y=y.prevZ,x.x>=f&&x.x<=m&&x.y>=p&&x.y<=g&&x!==i&&x!==o&&Po(a,c,l,h,u,d,x.x,x.y)&&qe(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;y&&y.z>=v;){if(y.x>=f&&y.x<=m&&y.y>=p&&y.y<=g&&y!==i&&y!==o&&Po(a,c,l,h,u,d,y.x,y.y)&&qe(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;x&&x.z<=b;){if(x.x>=f&&x.x<=m&&x.y>=p&&x.y<=g&&x!==i&&x!==o&&Po(a,c,l,h,u,d,x.x,x.y)&&qe(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function aie(t,e,n){var r=t;do{var i=r.prev,s=r.next.next;!Bf(i,s)&&EO(i,r,r.next,s)&&ou(i,s)&&ou(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),au(r),au(r.next),r=t=s),r=r.next}while(r!==t);return _s(r)}function lie(t,e,n,r,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&vie(o,a)){var l=SO(o,a);o=_s(o,o.next),l=_s(l,l.next),su(o,e,n,r,i,s,0),su(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function uie(t,e,n,r){var i=[],s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,u=_O(t,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(gie(u));for(i.sort(cie),s=0;s<i.length;s++)n=hie(i[s],n);return n}function cie(t,e){return t.x-e.x}function hie(t,e){var n=die(t,e);if(!n)return e;var r=SO(n,t);return _s(r,r.next),_s(n,n.next)}function die(t,e){var n=e,r=t.x,i=t.y,s=-1/0,o;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var a=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=r&&a>s&&(s=a,o=n.x<n.next.x?n:n.next,a===r))return o}n=n.next}while(n!==e);if(!o)return null;var l=o,u=o.x,c=o.y,h=1/0,d;n=o;do r>=n.x&&n.x>=u&&r!==n.x&&Po(i<c?r:s,i,u,c,i<c?s:r,i,n.x,n.y)&&(d=Math.abs(i-n.y)/(r-n.x),ou(n,t)&&(d<h||d===h&&(n.x>o.x||n.x===o.x&&fie(o,n)))&&(o=n,h=d)),n=n.next;while(n!==l);return o}function fie(t,e){return qe(t.prev,t,e.prev)<0&&qe(e.next,t,t.next)<0}function pie(t,e,n,r){var i=t;do i.z===0&&(i.z=Ev(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,mie(i)}function mie(t){var e,n,r,i,s,o,a,l,u=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,u*=2}while(o>1);return t}function Ev(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function gie(t){var e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Po(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function vie(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!yie(t,e)&&(ou(t,e)&&ou(e,t)&&bie(t,e)&&(qe(t.prev,t,e.prev)||qe(t,e.prev,e))||Bf(t,e)&&qe(t.prev,t,t.next)>0&&qe(e.prev,e,e.next)>0)}function qe(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Bf(t,e){return t.x===e.x&&t.y===e.y}function EO(t,e,n,r){var i=kc(qe(t,e,n)),s=kc(qe(t,e,r)),o=kc(qe(n,r,t)),a=kc(qe(n,r,e));return!!(i!==s&&o!==a||i===0&&Ic(t,n,e)||s===0&&Ic(t,r,e)||o===0&&Ic(n,t,r)||a===0&&Ic(n,e,r))}function Ic(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function kc(t){return t>0?1:t<0?-1:0}function yie(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&EO(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function ou(t,e){return qe(t.prev,t,t.next)<0?qe(t,e,t.next)>=0&&qe(t,t.prev,e)>=0:qe(t,e,t.prev)<0||qe(t,t.next,e)<0}function bie(t,e){var n=t,r=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function SO(t,e){var n=new Sv(t.i,t.x,t.y),r=new Sv(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function cS(t,e,n,r){var i=new Sv(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function au(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Sv(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}$f.deviation=function(t,e,n,r){var i=e&&e.length,s=i?e[0]*n:t.length,o=Math.abs(Cv(t,0,s,n));if(i)for(var a=0,l=e.length;a<l;a++){var u=e[a]*n,c=a<l-1?e[a+1]*n:t.length;o-=Math.abs(Cv(t,u,c,n))}var h=0;for(a=0;a<r.length;a+=3){var d=r[a]*n,f=r[a+1]*n,p=r[a+2]*n;h+=Math.abs((t[d]-t[p])*(t[f+1]-t[d+1])-(t[d]-t[f])*(t[p+1]-t[d+1]))}return o===0&&h===0?0:Math.abs((h-o)/o)};function Cv(t,e,n,r){for(var i=0,s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}$f.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)n.vertices.push(t[i][s][o]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n};var md={},xie={get exports(){return md},set exports(t){md=t}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(t,e){(function(n){var r=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof Dr=="object"&&Dr;(s.global===s||s.window===s||s.self===s)&&(n=s);var o,a=2147483647,l=36,u=1,c=26,h=38,d=700,f=72,p=128,m="-",g=/^xn--/,v=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=l-u,S=Math.floor,C=String.fromCharCode,T;function A(F){throw RangeError(y[F])}function k(F,W){for(var R=F.length,$=[];R--;)$[R]=W(F[R]);return $}function M(F,W){var R=F.split("@"),$="";R.length>1&&($=R[0]+"@",F=R[1]),F=F.replace(b,".");var P=F.split("."),G=k(P,W).join(".");return $+G}function N(F){for(var W=[],R=0,$=F.length,P,G;R<$;)P=F.charCodeAt(R++),P>=55296&&P<=56319&&R<$?(G=F.charCodeAt(R++),(G&64512)==56320?W.push(((P&1023)<<10)+(G&1023)+65536):(W.push(P),R--)):W.push(P);return W}function L(F){return k(F,function(W){var R="";return W>65535&&(W-=65536,R+=C(W>>>10&1023|55296),W=56320|W&1023),R+=C(W),R}).join("")}function I(F){return F-48<10?F-22:F-65<26?F-65:F-97<26?F-97:l}function D(F,W){return F+22+75*(F<26)-((W!=0)<<5)}function Z(F,W,R){var $=0;for(F=R?S(F/d):F>>1,F+=S(F/W);F>x*c>>1;$+=l)F=S(F/x);return S($+(x+1)*F/(F+h))}function q(F){var W=[],R=F.length,$,P=0,G=p,K=f,ce,pe,Pe,ue,we,ye,Oe,ct,jt;for(ce=F.lastIndexOf(m),ce<0&&(ce=0),pe=0;pe<ce;++pe)F.charCodeAt(pe)>=128&&A("not-basic"),W.push(F.charCodeAt(pe));for(Pe=ce>0?ce+1:0;Pe<R;){for(ue=P,we=1,ye=l;Pe>=R&&A("invalid-input"),Oe=I(F.charCodeAt(Pe++)),(Oe>=l||Oe>S((a-P)/we))&&A("overflow"),P+=Oe*we,ct=ye<=K?u:ye>=K+c?c:ye-K,!(Oe<ct);ye+=l)jt=l-ct,we>S(a/jt)&&A("overflow"),we*=jt;$=W.length+1,K=Z(P-ue,$,ue==0),S(P/$)>a-G&&A("overflow"),G+=S(P/$),P%=$,W.splice(P++,0,G)}return L(W)}function z(F){var W,R,$,P,G,K,ce,pe,Pe,ue,we,ye=[],Oe,ct,jt,Li;for(F=N(F),Oe=F.length,W=p,R=0,G=f,K=0;K<Oe;++K)we=F[K],we<128&&ye.push(C(we));for($=P=ye.length,P&&ye.push(m);$<Oe;){for(ce=a,K=0;K<Oe;++K)we=F[K],we>=W&&we<ce&&(ce=we);for(ct=$+1,ce-W>S((a-R)/ct)&&A("overflow"),R+=(ce-W)*ct,W=ce,K=0;K<Oe;++K)if(we=F[K],we<W&&++R>a&&A("overflow"),we==W){for(pe=R,Pe=l;ue=Pe<=G?u:Pe>=G+c?c:Pe-G,!(pe<ue);Pe+=l)Li=pe-ue,jt=l-ue,ye.push(C(D(ue+Li%jt,0))),pe=S(Li/jt);ye.push(C(D(pe,0))),G=Z(R,ct,$==P),R=0,++$}++R,++W}return ye.join("")}function B(F){return M(F,function(W){return g.test(W)?q(W.slice(4).toLowerCase()):W})}function V(F){return M(F,function(W){return v.test(W)?"xn--"+z(W):W})}if(o={version:"1.3.2",ucs2:{decode:N,encode:L},decode:q,encode:z,toASCII:V,toUnicode:B},r&&i)if(t.exports==r)i.exports=o;else for(T in o)o.hasOwnProperty(T)&&(r[T]=o[T]);else n.punycode=o})(Dr)})(xie,md);var wie={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},lu={};function _ie(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Eie=function(t,e,n,r){e=e||"&",n=n||"=";var i={};if(typeof t!="string"||t.length===0)return i;var s=/\+/g;t=t.split(e);var o=1e3;r&&typeof r.maxKeys=="number"&&(o=r.maxKeys);var a=t.length;o>0&&a>o&&(a=o);for(var l=0;l<a;++l){var u=t[l].replace(s,"%20"),c=u.indexOf(n),h,d,f,p;c>=0?(h=u.substr(0,c),d=u.substr(c+1)):(h=u,d=""),f=decodeURIComponent(h),p=decodeURIComponent(d),_ie(i,f)?Array.isArray(i[f])?i[f].push(p):i[f]=[i[f],p]:i[f]=p}return i},Xa=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},Sie=function(t,e,n,r){return e=e||"&",n=n||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(i){var s=encodeURIComponent(Xa(i))+n;return Array.isArray(t[i])?t[i].map(function(o){return s+encodeURIComponent(Xa(o))}).join(e):s+encodeURIComponent(Xa(t[i]))}).join(e):r?encodeURIComponent(Xa(r))+n+encodeURIComponent(Xa(t)):""};lu.decode=lu.parse=Eie;lu.encode=lu.stringify=Sie;var Cie=md,gr=wie,Tie=Nf,Aie=Nie,Pie=Bie;function rr(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Oie=/^([a-z0-9.+-]+:)/i,Iie=/:[0-9]*$/,kie=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Rie=["<",">",'"',"`"," ","\r",`
`,"	"],Mie=["{","}","|","\\","^","`"].concat(Rie),Tv=["'"].concat(Mie),hS=["%","/","?",";","#"].concat(Tv),dS=["/","?","#"],Fie=255,fS=/^[+a-z0-9A-Z_-]{0,63}$/,Die=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,$ie={javascript:!0,"javascript:":!0},Av={javascript:!0,"javascript:":!0},Uo={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Pv=lu;function Nf(t,e,n){if(t&&gr.isObject(t)&&t instanceof rr)return t;var r=new rr;return r.parse(t,e,n),r}rr.prototype.parse=function(t,e,n){if(!gr.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),i=r!==-1&&r<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!n&&t.split("#").length===1){var l=kie.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=Pv.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var u=Oie.exec(a);if(u){u=u[0];var c=u.toLowerCase();this.protocol=c,a=a.substr(u.length)}if(n||u||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var h=a.substr(0,2)==="//";h&&!(u&&Av[u])&&(a=a.substr(2),this.slashes=!0)}if(!Av[u]&&(h||u&&!Uo[u])){for(var d=-1,f=0;f<dS.length;f++){var p=a.indexOf(dS[f]);p!==-1&&(d===-1||p<d)&&(d=p)}var m,g;d===-1?g=a.lastIndexOf("@"):g=a.lastIndexOf("@",d),g!==-1&&(m=a.slice(0,g),a=a.slice(g+1),this.auth=decodeURIComponent(m)),d=-1;for(var f=0;f<hS.length;f++){var p=a.indexOf(hS[f]);p!==-1&&(d===-1||p<d)&&(d=p)}d===-1&&(d=a.length),this.host=a.slice(0,d),a=a.slice(d),this.parseHost(),this.hostname=this.hostname||"";var v=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!v)for(var b=this.hostname.split(/\./),f=0,y=b.length;f<y;f++){var x=b[f];if(x&&!x.match(fS)){for(var S="",C=0,T=x.length;C<T;C++)x.charCodeAt(C)>127?S+="x":S+=x[C];if(!S.match(fS)){var A=b.slice(0,f),k=b.slice(f+1),M=x.match(Die);M&&(A.push(M[1]),k.unshift(M[2])),k.length&&(a="/"+k.join(".")+a),this.hostname=A.join(".");break}}}this.hostname.length>Fie?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=Cie.toASCII(this.hostname));var N=this.port?":"+this.port:"",L=this.hostname||"";this.host=L+N,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!$ie[c])for(var f=0,y=Tv.length;f<y;f++){var I=Tv[f];if(a.indexOf(I)!==-1){var D=encodeURIComponent(I);D===I&&(D=escape(I)),a=a.split(I).join(D)}}var Z=a.indexOf("#");Z!==-1&&(this.hash=a.substr(Z),a=a.slice(0,Z));var q=a.indexOf("?");if(q!==-1?(this.search=a.substr(q),this.query=a.substr(q+1),e&&(this.query=Pv.parse(this.query)),a=a.slice(0,q)):e&&(this.search="",this.query={}),a&&(this.pathname=a),Uo[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var N=this.pathname||"",z=this.search||"";this.path=N+z}return this.href=this.format(),this};function Bie(t){return gr.isString(t)&&(t=Nf(t)),t instanceof rr?t.format():rr.prototype.format.call(t)}rr.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&gr.isObject(this.query)&&Object.keys(this.query).length&&(s=Pv.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Uo[e])&&i!==!1?(i="//"+(i||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),o&&o.charAt(0)!=="?"&&(o="?"+o),n=n.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+n+o+r};function Nie(t,e){return Nf(t,!1,!0).resolve(e)}rr.prototype.resolve=function(t){return this.resolveObject(Nf(t,!1,!0)).format()};rr.prototype.resolveObject=function(t){if(gr.isString(t)){var e=new rr;e.parse(t,!1,!0),t=e}for(var n=new rr,r=Object.keys(this),i=0;i<r.length;i++){var s=r[i];n[s]=this[s]}if(n.hash=t.hash,t.href==="")return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var l=o[a];l!=="protocol"&&(n[l]=t[l])}return Uo[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!Uo[t.protocol]){for(var u=Object.keys(t),c=0;c<u.length;c++){var h=u[c];n[h]=t[h]}return n.href=n.format(),n}if(n.protocol=t.protocol,!t.host&&!Av[t.protocol]){for(var y=(t.pathname||"").split("/");y.length&&!(t.host=y.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),y[0]!==""&&y.unshift(""),y.length<2&&y.unshift(""),n.pathname=y.join("/")}else n.pathname=t.pathname;if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var d=n.pathname||"",f=n.search||"";n.path=d+f}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var p=n.pathname&&n.pathname.charAt(0)==="/",m=t.host||t.pathname&&t.pathname.charAt(0)==="/",g=m||p||n.host&&t.pathname,v=g,b=n.pathname&&n.pathname.split("/")||[],y=t.pathname&&t.pathname.split("/")||[],x=n.protocol&&!Uo[n.protocol];if(x&&(n.hostname="",n.port=null,n.host&&(b[0]===""?b[0]=n.host:b.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(y[0]===""?y[0]=t.host:y.unshift(t.host)),t.host=null),g=g&&(y[0]===""||b[0]==="")),m)n.host=t.host||t.host===""?t.host:n.host,n.hostname=t.hostname||t.hostname===""?t.hostname:n.hostname,n.search=t.search,n.query=t.query,b=y;else if(y.length)b||(b=[]),b.pop(),b=b.concat(y),n.search=t.search,n.query=t.query;else if(!gr.isNullOrUndefined(t.search)){if(x){n.hostname=n.host=b.shift();var S=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;S&&(n.auth=S.shift(),n.host=n.hostname=S.shift())}return n.search=t.search,n.query=t.query,(!gr.isNull(n.pathname)||!gr.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!b.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var C=b.slice(-1)[0],T=(n.host||t.host||b.length>1)&&(C==="."||C==="..")||C==="",A=0,k=b.length;k>=0;k--)C=b[k],C==="."?b.splice(k,1):C===".."?(b.splice(k,1),A++):A&&(b.splice(k,1),A--);if(!g&&!v)for(;A--;A)b.unshift("..");g&&b[0]!==""&&(!b[0]||b[0].charAt(0)!=="/")&&b.unshift(""),T&&b.join("/").substr(-1)!=="/"&&b.push("");var M=b[0]===""||b[0]&&b[0].charAt(0)==="/";if(x){n.hostname=n.host=M?"":b.length?b.shift():"";var S=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;S&&(n.auth=S.shift(),n.host=n.hostname=S.shift())}return g=g||n.host&&b.length,g&&!M&&b.unshift(""),b.length?n.pathname=b.join("/"):(n.pathname=null,n.path=null),(!gr.isNull(n.pathname)||!gr.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n};rr.prototype.parseHost=function(){var t=this.host,e=Iie.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const CO={parse:Tie,format:Pie,resolve:Aie};function Ln(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Ya(t){return t.split("?")[0].split("#")[0]}function Lie(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Uie(t,e,n){return t.replace(new RegExp(Lie(e),"g"),n)}function jie(t,e){let n="",r=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){const l=n.lastIndexOf("/");if(l!==n.length-1){l===-1?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length===2||n.length===1){n="",r=0,i=a,s=0;continue}}e&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+=`/${t.slice(i+1,a)}`:n=t.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return n}const yt={toPosix(t){return Uie(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol(t){Ln(t),t=this.toPosix(t);let e="";const n=/^file:\/\/\//.exec(t),r=/^[^/:]+:\/\//.exec(t),i=/^[^/:]+:\//.exec(t);if(n||r||i){const s=(n==null?void 0:n[0])||(r==null?void 0:r[0])||(i==null?void 0:i[0]);e=s,t=t.slice(s.length)}return e},toAbsolute(t,e,n){if(this.isDataUrl(t))return t;const r=Ya(this.toPosix(e??ee.ADAPTER.getBaseUrl())),i=Ya(this.toPosix(n??this.rootname(r)));return Ln(t),t=this.toPosix(t),t.startsWith("/")?yt.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(r,t)},normalize(t){if(t=this.toPosix(t),Ln(t),t.length===0)return".";let e="";const n=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const r=t.endsWith("/");return t=jie(t,!1),t.length>0&&r&&(t+="/"),n?`/${t}`:e+t},isAbsolute(t){return Ln(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let n=0;n<t.length;++n){const r=t[n];if(Ln(r),r.length>0)if(e===void 0)e=r;else{const i=t[n-1]??"";this.extname(i)?e+=`/../${r}`:e+=`/${r}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(Ln(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const n=e===47;let r=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){r=a;break}}else i=!1;return r===-1?n?"/":this.isUrl(o)?s+t:s:n&&r===1?"//":s+t.slice(0,r)},rootname(t){Ln(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const n=t.indexOf("/",e.length);n!==-1?e=t.slice(0,n):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Ln(t),e&&Ln(e),t=Ya(this.toPosix(t));let n=0,r=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const l=t.charCodeAt(s);if(l===47){if(!i){n=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(r=s):(o=-1,r=a))}return n===r?r=a:r===-1&&(r=t.length),t.slice(n,r)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){n=s+1;break}}else r===-1&&(i=!1,r=s+1);return r===-1?"":t.slice(n,r)},extname(t){Ln(t),t=Ya(this.toPosix(t));let e=-1,n=0,r=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){n=o+1;break}continue}r===-1&&(i=!1,r=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||r===-1||s===0||s===1&&e===r-1&&e===n+1?"":t.slice(e,r)},parse(t){Ln(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Ya(this.toPosix(t));let n=t.charCodeAt(0);const r=this.isAbsolute(t);let i;e.root=this.rootname(t),r||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,l=!0,u=t.length-1,c=0;for(;u>=i;--u){if(n=t.charCodeAt(u),n===47){if(!l){o=u+1;break}continue}a===-1&&(l=!1,a=u+1),n===46?s===-1?s=u:c!==1&&(c=1):s!==-1&&(c=-1)}return s===-1||a===-1||c===0||c===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&r?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&r?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"},pS={};function be(t,e,n=3){if(pS[e])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(r=r.split(`
`).splice(n).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(r))),pS[e]=!0}function zie(){be("7.0.0","skipHello is deprecated, please use settings.RENDER_OPTIONS.hello")}function Hie(){be("7.0.0",`sayHello is deprecated, please use Renderer's "hello" option`)}let Qp;function TO(){return typeof Qp>"u"&&(Qp=function(){var n;const e={stencil:!0,failIfMajorPerformanceCaveat:ee.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!ee.ADAPTER.getWebGLRenderingContext())return!1;const r=ee.ADAPTER.createCanvas();let i=r.getContext("webgl",e)||r.getContext("experimental-webgl",e);const s=!!((n=i==null?void 0:i.getContextAttributes())!=null&&n.stencil);if(i){const o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,s}catch{return!1}}()),Qp}var Gie="#f0f8ff",Wie="#faebd7",Vie="#00ffff",Xie="#7fffd4",Yie="#f0ffff",qie="#f5f5dc",Kie="#ffe4c4",Zie="#000000",Qie="#ffebcd",Jie="#0000ff",ese="#8a2be2",tse="#a52a2a",nse="#deb887",rse="#5f9ea0",ise="#7fff00",sse="#d2691e",ose="#ff7f50",ase="#6495ed",lse="#fff8dc",use="#dc143c",cse="#00ffff",hse="#00008b",dse="#008b8b",fse="#b8860b",pse="#a9a9a9",mse="#006400",gse="#a9a9a9",vse="#bdb76b",yse="#8b008b",bse="#556b2f",xse="#ff8c00",wse="#9932cc",_se="#8b0000",Ese="#e9967a",Sse="#8fbc8f",Cse="#483d8b",Tse="#2f4f4f",Ase="#2f4f4f",Pse="#00ced1",Ose="#9400d3",Ise="#ff1493",kse="#00bfff",Rse="#696969",Mse="#696969",Fse="#1e90ff",Dse="#b22222",$se="#fffaf0",Bse="#228b22",Nse="#ff00ff",Lse="#dcdcdc",Use="#f8f8ff",jse="#daa520",zse="#ffd700",Hse="#808080",Gse="#008000",Wse="#adff2f",Vse="#808080",Xse="#f0fff0",Yse="#ff69b4",qse="#cd5c5c",Kse="#4b0082",Zse="#fffff0",Qse="#f0e68c",Jse="#fff0f5",eoe="#e6e6fa",toe="#7cfc00",noe="#fffacd",roe="#add8e6",ioe="#f08080",soe="#e0ffff",ooe="#fafad2",aoe="#d3d3d3",loe="#90ee90",uoe="#d3d3d3",coe="#ffb6c1",hoe="#ffa07a",doe="#20b2aa",foe="#87cefa",poe="#778899",moe="#778899",goe="#b0c4de",voe="#ffffe0",yoe="#00ff00",boe="#32cd32",xoe="#faf0e6",woe="#ff00ff",_oe="#800000",Eoe="#66cdaa",Soe="#0000cd",Coe="#ba55d3",Toe="#9370db",Aoe="#3cb371",Poe="#7b68ee",Ooe="#00fa9a",Ioe="#48d1cc",koe="#c71585",Roe="#191970",Moe="#f5fffa",Foe="#ffe4e1",Doe="#ffe4b5",$oe="#ffdead",Boe="#000080",Noe="#fdf5e6",Loe="#808000",Uoe="#6b8e23",joe="#ffa500",zoe="#ff4500",Hoe="#da70d6",Goe="#eee8aa",Woe="#98fb98",Voe="#afeeee",Xoe="#db7093",Yoe="#ffefd5",qoe="#ffdab9",Koe="#cd853f",Zoe="#ffc0cb",Qoe="#dda0dd",Joe="#b0e0e6",eae="#800080",tae="#663399",nae="#ff0000",rae="#bc8f8f",iae="#4169e1",sae="#8b4513",oae="#fa8072",aae="#f4a460",lae="#2e8b57",uae="#fff5ee",cae="#a0522d",hae="#c0c0c0",dae="#87ceeb",fae="#6a5acd",pae="#708090",mae="#708090",gae="#fffafa",vae="#00ff7f",yae="#4682b4",bae="#d2b48c",xae="#008080",wae="#d8bfd8",_ae="#ff6347",Eae="#40e0d0",Sae="#ee82ee",Cae="#f5deb3",Tae="#ffffff",Aae="#f5f5f5",Pae="#ffff00",Oae="#9acd32",Iae={aliceblue:Gie,antiquewhite:Wie,aqua:Vie,aquamarine:Xie,azure:Yie,beige:qie,bisque:Kie,black:Zie,blanchedalmond:Qie,blue:Jie,blueviolet:ese,brown:tse,burlywood:nse,cadetblue:rse,chartreuse:ise,chocolate:sse,coral:ose,cornflowerblue:ase,cornsilk:lse,crimson:use,cyan:cse,darkblue:hse,darkcyan:dse,darkgoldenrod:fse,darkgray:pse,darkgreen:mse,darkgrey:gse,darkkhaki:vse,darkmagenta:yse,darkolivegreen:bse,darkorange:xse,darkorchid:wse,darkred:_se,darksalmon:Ese,darkseagreen:Sse,darkslateblue:Cse,darkslategray:Tse,darkslategrey:Ase,darkturquoise:Pse,darkviolet:Ose,deeppink:Ise,deepskyblue:kse,dimgray:Rse,dimgrey:Mse,dodgerblue:Fse,firebrick:Dse,floralwhite:$se,forestgreen:Bse,fuchsia:Nse,gainsboro:Lse,ghostwhite:Use,goldenrod:jse,gold:zse,gray:Hse,green:Gse,greenyellow:Wse,grey:Vse,honeydew:Xse,hotpink:Yse,indianred:qse,indigo:Kse,ivory:Zse,khaki:Qse,lavenderblush:Jse,lavender:eoe,lawngreen:toe,lemonchiffon:noe,lightblue:roe,lightcoral:ioe,lightcyan:soe,lightgoldenrodyellow:ooe,lightgray:aoe,lightgreen:loe,lightgrey:uoe,lightpink:coe,lightsalmon:hoe,lightseagreen:doe,lightskyblue:foe,lightslategray:poe,lightslategrey:moe,lightsteelblue:goe,lightyellow:voe,lime:yoe,limegreen:boe,linen:xoe,magenta:woe,maroon:_oe,mediumaquamarine:Eoe,mediumblue:Soe,mediumorchid:Coe,mediumpurple:Toe,mediumseagreen:Aoe,mediumslateblue:Poe,mediumspringgreen:Ooe,mediumturquoise:Ioe,mediumvioletred:koe,midnightblue:Roe,mintcream:Moe,mistyrose:Foe,moccasin:Doe,navajowhite:$oe,navy:Boe,oldlace:Noe,olive:Loe,olivedrab:Uoe,orange:joe,orangered:zoe,orchid:Hoe,palegoldenrod:Goe,palegreen:Woe,paleturquoise:Voe,palevioletred:Xoe,papayawhip:Yoe,peachpuff:qoe,peru:Koe,pink:Zoe,plum:Qoe,powderblue:Joe,purple:eae,rebeccapurple:tae,red:nae,rosybrown:rae,royalblue:iae,saddlebrown:sae,salmon:oae,sandybrown:aae,seagreen:lae,seashell:uae,sienna:cae,silver:hae,skyblue:dae,slateblue:fae,slategray:pae,slategrey:mae,snow:gae,springgreen:vae,steelblue:yae,tan:bae,teal:xae,thistle:wae,tomato:_ae,turquoise:Eae,violet:Sae,wheat:Cae,white:Tae,whitesmoke:Aae,yellow:Pae,yellowgreen:Oae};function Es(t,e=[]){return e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function U1(t){let e=t.toString(16);return e="000000".substring(0,6-e.length)+e,`#${e}`}function Lf(t){if(typeof t=="string"&&(t=Iae[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1)),t.length===3)){const[e,n,r]=t;t=e+e+n+n+r+r}return parseInt(t,16)}function kae(t){return(t[0]*255<<16)+(t[1]*255<<8)+(t[2]*255|0)}function Rae(){const t=[],e=[];for(let r=0;r<32;r++)t[r]=r,e[r]=r;t[ae.NORMAL_NPM]=ae.NORMAL,t[ae.ADD_NPM]=ae.ADD,t[ae.SCREEN_NPM]=ae.SCREEN,e[ae.NORMAL]=ae.NORMAL_NPM,e[ae.ADD]=ae.ADD_NPM,e[ae.SCREEN]=ae.SCREEN_NPM;const n=[];return n.push(e),n.push(t),n}const j1=Rae();function z1(t,e){return j1[e?1:0][t]}function AO(t,e,n,r){return n=n||new Float32Array(4),r||r===void 0?(n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e):(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=e,n}function Uf(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;let n=t>>16&255,r=t>>8&255,i=t&255;return n=n*e+.5|0,r=r*e+.5|0,i=i*e+.5|0,(e*255<<24)+(n<<16)+(r<<8)+i}function H1(t,e,n,r){return n=n||new Float32Array(4),n[0]=(t>>16&255)/255,n[1]=(t>>8&255)/255,n[2]=(t&255)/255,(r||r===void 0)&&(n[0]*=e,n[1]*=e,n[2]*=e),n[3]=e,n}const PO=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function OO(t,e=null){const n=t*6;if(e=e||new Uint16Array(n),e.length!==n)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${n}`);for(let r=0,i=0;r<n;r+=6,i+=4)e[r+0]=i+0,e[r+1]=i+1,e[r+2]=i+2,e[r+3]=i+0,e[r+4]=i+2,e[r+5]=i+3;return e}function jf(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}const Mae={Float32Array,Uint32Array,Int32Array,Uint8Array};function Fae(t,e){let n=0,r=0;const i={};for(let l=0;l<t.length;l++)r+=e[l],n+=t[l].length;const s=new ArrayBuffer(n*4);let o=null,a=0;for(let l=0;l<t.length;l++){const u=e[l],c=t[l],h=jf(c);i[h]||(i[h]=new Mae[h](s)),o=i[h];for(let d=0;d<c.length;d++){const f=(d/u|0)*r+a,p=d%u;o[f+p]=c[d]}a+=u}return new Float32Array(s)}function uu(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function Ov(t){return!(t&t-1)&&!!t}function Iv(t){let e=(t>65535?1:0)<<4;t>>>=e;let n=(t>255?1:0)<<3;return t>>>=n,e|=n,n=(t>15?1:0)<<2,t>>>=n,e|=n,n=(t>3?1:0)<<1,t>>>=n,e|=n,e|t>>1}function hs(t,e,n){const r=t.length;let i;if(e>=r||n===0)return;n=e+n>r?r-e:n;const s=r-n;for(i=e;i<s;++i)t[i]=t[i+n];t.length=s}function ts(t){return t===0?0:t<0?-1:1}let Dae=0;function Ti(){return++Dae}const IO=class{constructor(t,e,n,r){this.left=t,this.top=e,this.right=n,this.bottom=r}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let gd=IO;gd.EMPTY=new IO(0,0,0,0);const kv={},kt=Object.create(null),tn=Object.create(null);function $ae(){let t;for(t in kt)kt[t].destroy();for(t in tn)tn[t].destroy()}function Bae(){let t;for(t in kt)delete kt[t];for(t in tn)delete tn[t]}class Rv{constructor(e,n,r){this._canvas=ee.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=r||ee.RESOLUTION,this.resize(e,n)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,n){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(n*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function mS(t,e,n){for(let r=0,i=4*n*e;r<e;++r,i+=4)if(t[i+3]!==0)return!1;return!0}function gS(t,e,n,r,i){const s=4*e;for(let o=r,a=r*s+4*n;o<=i;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function kO(t){const{width:e,height:n}=t,r=t.getContext("2d",{willReadFrequently:!0});if(r===null)throw new TypeError("Failed to get canvas 2D context");const s=r.getImageData(0,0,e,n).data;let o=0,a=0,l=e-1,u=n-1;for(;a<n&&mS(s,e,a);)++a;if(a===n)return gd.EMPTY;for(;mS(s,e,u);)--u;for(;gS(s,e,o,a,u);)++o;for(;gS(s,e,l,a,u);)--l;return++l,++u,new gd(o,a,l,u)}function RO(t){const e=kO(t),{width:n,height:r}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,n,r)}return{width:n,height:r,data:i}}function Nae(t){const e=PO.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}let Rc;function MO(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location,Rc||(Rc=document.createElement("a")),Rc.href=t;const n=CO.parse(Rc.href),r=!n.port&&e.port===""||n.port===e.port;return n.hostname!==e.hostname||!r||n.protocol!==e.protocol?"anonymous":""}function Vr(t,e=1){var r;const n=(r=ee.RETINA_PREFIX)==null?void 0:r.exec(t);return n?parseFloat(n[1]):e}const Lae=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:tn,BoundingBox:gd,CanvasRenderTarget:Rv,DATA_URI:PO,EventEmitter:Ci,ProgramCache:kv,TextureCache:kt,clearTextureCache:Bae,correctBlendMode:z1,createIndicesForQuads:OO,decomposeDataUri:Nae,deprecation:be,destroyTextureCache:$ae,determineCrossOrigin:MO,get earcut(){return iu},getBufferType:jf,getCanvasBoundingBox:kO,getResolutionOfUrl:Vr,hex2rgb:Es,hex2string:U1,interleaveTypedArrays:Fae,isMobile:Qn,isPow2:Ov,isWebGLSupported:TO,log2:Iv,nextPow2:uu,path:yt,premultiplyBlendMode:j1,premultiplyRgba:AO,premultiplyTint:Uf,premultiplyTintToRgba:H1,removeItems:hs,rgb2hex:kae,sayHello:Hie,sign:ts,skipHello:zie,string2hex:Lf,trimCanvas:RO,uid:Ti,url:CO},Symbol.toStringTag,{value:"Module"}));var Q=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(Q||{});const Mv=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},vS=(t,e)=>Mv(t).priority??e,ie={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(Mv).forEach(e=>{e.type.forEach(n=>{var r,i;return(i=(r=this._removeHandlers)[n])==null?void 0:i.call(r,e)})}),this},add(...t){return t.map(Mv).forEach(e=>{e.type.forEach(n=>{const r=this._addHandlers,i=this._queue;r[n]?r[n](e):(i[n]=i[n]||[],i[n].push(e))})}),this},handle(t,e,n){const r=this._addHandlers,i=this._removeHandlers;if(r[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);r[t]=e,i[t]=n;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,n=>{e[n.name]=n.ref},n=>{delete e[n.name]})},handleByList(t,e,n=-1){return this.handle(t,r=>{e.includes(r.ref)||(e.push(r.ref),e.sort((i,s)=>vS(s,n)-vS(i,n)))},r=>{const i=e.indexOf(r.ref);i!==-1&&e.splice(i,1)})}};class vd{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const Uae=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function jae(t){let e="";for(let n=0;n<t;++n)n>0&&(e+=`
else `),n<t-1&&(e+=`if(test == ${n}.0){}`);return e}function FO(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const n=e.createShader(e.FRAGMENT_SHADER);for(;;){const r=Uae.replace(/%forloop%/gi,jae(t));if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))t=t/2|0;else break}return t}const Jp=0,em=1,tm=2,nm=3,rm=4,im=5;class Or{constructor(){this.data=0,this.blendMode=ae.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Jp)}set blend(e){!!(this.data&1<<Jp)!==e&&(this.data^=1<<Jp)}get offsets(){return!!(this.data&1<<em)}set offsets(e){!!(this.data&1<<em)!==e&&(this.data^=1<<em)}get culling(){return!!(this.data&1<<tm)}set culling(e){!!(this.data&1<<tm)!==e&&(this.data^=1<<tm)}get depthTest(){return!!(this.data&1<<nm)}set depthTest(e){!!(this.data&1<<nm)!==e&&(this.data^=1<<nm)}get depthMask(){return!!(this.data&1<<im)}set depthMask(e){!!(this.data&1<<im)!==e&&(this.data^=1<<im)}get clockwiseFrontFace(){return!!(this.data&1<<rm)}set clockwiseFrontFace(e){!!(this.data&1<<rm)!==e&&(this.data^=1<<rm)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==ae.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new Or;return e.depthTest=!1,e.blend=!0,e}}const yd=[];function G1(t,e){if(!t)return null;let n="";if(typeof t=="string"){const r=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);r&&(n=r[1].toLowerCase())}for(let r=yd.length-1;r>=0;--r){const i=yd[r];if(i.test&&i.test(t,n))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class dn{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,n,r,i,s,o,a,l){if(arguments.length>8)throw new Error("max arguments reached");const{name:u,items:c}=this;this._aliasCount++;for(let h=0,d=c.length;h<d;h++)c[h][u](e,n,r,i,s,o,a,l);return c===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const n=this.items.indexOf(e);return n!==-1&&(this.ensureNonAliasedItems(),this.items.splice(n,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(dn.prototype,{dispatch:{value:dn.prototype.emit},run:{value:dn.prototype.emit}});class ia{constructor(e=0,n=0){this._width=e,this._height=n,this.destroyed=!1,this.internal=!1,this.onResize=new dn("setRealSize"),this.onUpdate=new dn("update"),this.onError=new dn("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,n){(e!==this._width||n!==this._height)&&(this._width=e,this._height=n,this.onResize.emit(e,n))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,n,r){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,n){return!1}}class Pa extends ia{constructor(e,n){const{width:r,height:i}=n||{};if(!r||!i)throw new Error("BufferResource width or height invalid");super(r,i),this.data=e}upload(e,n,r){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===$n.UNPACK);const s=n.realWidth,o=n.realHeight;return r.width===s&&r.height===o?i.texSubImage2D(n.target,0,0,0,s,o,n.format,r.type,this.data):(r.width=s,r.height=o,i.texImage2D(n.target,0,r.internalFormat,s,o,0,n.format,r.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const zae={scaleMode:wr.NEAREST,format:X.RGBA,alphaMode:$n.NPM},ho=class extends Ci{constructor(t=null,e=null){super(),e=Object.assign({},ho.defaultOptions,e);const{alphaMode:n,mipmap:r,anisotropicLevel:i,scaleMode:s,width:o,height:a,wrapMode:l,format:u,type:c,target:h,resolution:d,resourceOptions:f}=e;t&&!(t instanceof ia)&&(t=G1(t,f),t.internal=!0),this.resolution=d||ee.RESOLUTION,this.width=Math.round((o||0)*this.resolution)/this.resolution,this.height=Math.round((a||0)*this.resolution)/this.resolution,this._mipmap=r,this.anisotropicLevel=i,this._wrapMode=l,this._scaleMode=s,this.format=u,this.type=c,this.target=h,this.alphaMode=n,this.uid=Ti(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&a>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let n;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,n=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,n=!0),n&&this.dirtyStyleId++,this}setSize(t,e,n){return n=n||this.resolution,this.setRealSize(t*n,e*n,n)}setRealSize(t,e,n){return this.resolution=n||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=Ov(this.realWidth)&&Ov(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete tn[this.cacheId],delete kt[this.cacheId],this.cacheId=null),this.dispose(),ho.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,n=ee.STRICT_TEXTURE_CACHE){const r=typeof t=="string";let i=null;if(r)i=t;else{if(!t._pixiId){const o=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${o}_${Ti()}`}i=t._pixiId}let s=tn[i];if(r&&n&&!s)throw new Error(`The cacheId "${i}" does not exist in BaseTextureCache.`);return s||(s=new ho(t,e),s.cacheId=i,ho.addToCache(s,i)),s}static fromBuffer(t,e,n,r){t=t||new Float32Array(e*n*4);const i=new Pa(t,{width:e,height:n}),s=t instanceof Float32Array?se.FLOAT:se.UNSIGNED_BYTE;return new ho(i,Object.assign({},zae,r||{width:e,height:n,type:s}))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),tn[e]&&tn[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),tn[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=tn[t];if(e){const n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete tn[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete tn[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};let fe=ho;fe.defaultOptions={mipmap:ar.POW2,anisotropicLevel:0,scaleMode:wr.LINEAR,wrapMode:Cr.CLAMP,alphaMode:$n.UNPACK,target:cs.TEXTURE_2D,format:X.RGBA,type:se.UNSIGNED_BYTE};fe._globalBatch=0;class bd{constructor(){this.texArray=null,this.blend=0,this.type=Zn.TRIANGLES,this.start=0,this.size=0,this.data=null}}let Hae=0;class tt{constructor(e,n=!0,r=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=n,this.id=Hae++,this.disposeRunner=new dn("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?nr.ELEMENT_ARRAY_BUFFER:nr.ARRAY_BUFFER}get index(){return this.type===nr.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new tt(e)}}class cu{constructor(e,n=0,r=!1,i=se.FLOAT,s,o,a,l=1){this.buffer=e,this.size=n,this.normalized=r,this.type=i,this.stride=s,this.start=o,this.instance=a,this.divisor=l}destroy(){this.buffer=null}static from(e,n,r,i,s){return new cu(e,n,r,i,s)}}const Gae={Float32Array,Uint32Array,Int32Array,Uint8Array};function Wae(t,e){let n=0,r=0;const i={};for(let l=0;l<t.length;l++)r+=e[l],n+=t[l].length;const s=new ArrayBuffer(n*4);let o=null,a=0;for(let l=0;l<t.length;l++){const u=e[l],c=t[l],h=jf(c);i[h]||(i[h]=new Gae[h](s)),o=i[h];for(let d=0;d<c.length;d++){const f=(d/u|0)*r+a,p=d%u;o[f+p]=c[d]}a+=u}return new Float32Array(s)}const yS={5126:4,5123:2,5121:1};let Vae=0;const Xae={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Xr{constructor(e=[],n={}){this.buffers=e,this.indexBuffer=null,this.attributes=n,this.glVertexArrayObjects={},this.id=Vae++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new dn("disposeGeometry"),this.refCount=0}addAttribute(e,n,r=0,i=!1,s,o,a,l=!1){if(!n)throw new Error("You must pass a buffer when creating an attribute");n instanceof tt||(n instanceof Array&&(n=new Float32Array(n)),n=new tt(n));const u=e.split("|");if(u.length>1){for(let h=0;h<u.length;h++)this.addAttribute(u[h],n,r,i,s);return this}let c=this.buffers.indexOf(n);return c===-1&&(this.buffers.push(n),c=this.buffers.length-1),this.attributes[e]=new cu(c,r,i,s,o,a,l),this.instanced=this.instanced||l,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof tt||(e instanceof Array&&(e=new Uint16Array(e)),e=new tt(e)),e.type=nr.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],n=[],r=new tt;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),n.push(s.size*yS[s.type]/4),s.buffer=0}for(r.data=Wae(e,n),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const n=this.attributes[e];return this.buffers[n.buffer].data.length/(n.stride/4||n.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Xr;for(let n=0;n<this.buffers.length;n++)e.buffers[n]=new tt(this.buffers[n].data.slice(0));for(const n in this.attributes){const r=this.attributes[n];e.attributes[n]=new cu(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=nr.ELEMENT_ARRAY_BUFFER),e}static merge(e){const n=new Xr,r=[],i=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)i[l]=i[l]||0,i[l]+=o.buffers[l].data.length,s[l]=0}for(let a=0;a<o.buffers.length;a++)r[a]=new Xae[jf(o.buffers[a].data)](i[a]),n.buffers[a]=new tt(r[a]);for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)r[l].set(o.buffers[l].data,s[l]),s[l]+=o.buffers[l].data.length}if(n.attributes=o.attributes,o.indexBuffer){n.indexBuffer=n.buffers[o.buffers.indexOf(o.indexBuffer)],n.indexBuffer.type=nr.ELEMENT_ARRAY_BUFFER;let a=0,l=0,u=0,c=0;for(let h=0;h<o.buffers.length;h++)if(o.buffers[h]!==o.indexBuffer){c=h;break}for(const h in o.attributes){const d=o.attributes[h];(d.buffer|0)===c&&(l+=d.size*yS[d.type]/4)}for(let h=0;h<e.length;h++){const d=e[h].indexBuffer.data;for(let f=0;f<d.length;f++)n.indexBuffer.data[f+u]+=a;a+=e[h].buffers[c].data.length/l,u+=d.length}}return n}}class W1 extends Xr{constructor(e=!1){super(),this._buffer=new tt(null,e,!1),this._indexBuffer=new tt(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,se.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,se.FLOAT).addAttribute("aColor",this._buffer,4,!0,se.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,se.FLOAT).addIndex(this._indexBuffer)}}const hu=Math.PI*2,DO=180/Math.PI,$O=Math.PI/180;var mt=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(mt||{});class oe{constructor(e=0,n=0){this.x=0,this.y=0,this.x=e,this.y=n}clone(){return new oe(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,n=e){return this.x=e,this.y=n,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const Mc=[new oe,new oe,new oe,new oe];class me{constructor(e=0,n=0,r=0,i=0){this.x=Number(e),this.y=Number(n),this.width=Number(r),this.height=Number(i),this.type=mt.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new me(0,0,0,0)}clone(){return new me(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,n){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&n>=this.y&&n<this.y+this.height}intersects(e,n){if(!n){const A=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=A)return!1;const M=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>M}const r=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=r||o<=s)return!1;const a=Mc[0].set(e.left,e.top),l=Mc[1].set(e.left,e.bottom),u=Mc[2].set(e.right,e.top),c=Mc[3].set(e.right,e.bottom);if(u.x<=a.x||l.y<=a.y)return!1;const h=Math.sign(n.a*n.d-n.b*n.c);if(h===0||(n.apply(a,a),n.apply(l,l),n.apply(u,u),n.apply(c,c),Math.max(a.x,l.x,u.x,c.x)<=r||Math.min(a.x,l.x,u.x,c.x)>=i||Math.max(a.y,l.y,u.y,c.y)<=s||Math.min(a.y,l.y,u.y,c.y)>=o))return!1;const d=h*(l.y-a.y),f=h*(a.x-l.x),p=d*r+f*s,m=d*i+f*s,g=d*r+f*o,v=d*i+f*o;if(Math.max(p,m,g,v)<=d*a.x+f*a.y||Math.min(p,m,g,v)>=d*c.x+f*c.y)return!1;const b=h*(a.y-u.y),y=h*(u.x-a.x),x=b*r+y*s,S=b*i+y*s,C=b*r+y*o,T=b*i+y*o;return!(Math.max(x,S,C,T)<=b*a.x+y*a.y||Math.min(x,S,C,T)>=b*c.x+y*c.y)}pad(e=0,n=e){return this.x-=e,this.y-=n,this.width+=e*2,this.height+=n*2,this}fit(e){const n=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=n,this.width=Math.max(r-n,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,n=.001){const r=Math.ceil((this.x+this.width-n)*e)/e,i=Math.ceil((this.y+this.height-n)*e)/e;return this.x=Math.floor((this.x+n)*e)/e,this.y=Math.floor((this.y+n)*e)/e,this.width=r-this.x,this.height=i-this.y,this}enlarge(e){const n=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=n,this.width=r-n,this.y=i,this.height=s-i,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class sa{constructor(e=0,n=0,r=0){this.x=e,this.y=n,this.radius=r,this.type=mt.CIRC}clone(){return new sa(this.x,this.y,this.radius)}contains(e,n){if(this.radius<=0)return!1;const r=this.radius*this.radius;let i=this.x-e,s=this.y-n;return i*=i,s*=s,i+s<=r}getBounds(){return new me(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class zf{constructor(e=0,n=0,r=0,i=0){this.x=e,this.y=n,this.width=r,this.height=i,this.type=mt.ELIP}clone(){return new zf(this.x,this.y,this.width,this.height)}contains(e,n){if(this.width<=0||this.height<=0)return!1;let r=(e-this.x)/this.width,i=(n-this.y)/this.height;return r*=r,i*=i,r+i<=1}getBounds(){return new me(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class ds{constructor(...e){let n=Array.isArray(e[0])?e[0]:e;if(typeof n[0]!="number"){const r=[];for(let i=0,s=n.length;i<s;i++)r.push(n[i].x,n[i].y);n=r}this.points=n,this.type=mt.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),n=new ds(e);return n.closeStroke=this.closeStroke,n}contains(e,n){let r=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],l=this.points[s*2+1],u=this.points[o*2],c=this.points[o*2+1];l>n!=c>n&&e<(u-a)*((n-l)/(c-l))+a&&(r=!r)}return r}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,n)=>`${e}, ${n}`,"")}]`}}class oa{constructor(e=0,n=0,r=0,i=0,s=20){this.x=e,this.y=n,this.width=r,this.height=i,this.radius=s,this.type=mt.RREC}clone(){return new oa(this.x,this.y,this.width,this.height,this.radius)}contains(e,n){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(n>=this.y+r&&n<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;let i=e-(this.x+r),s=n-(this.y+r);const o=r*r;if(i*i+s*s<=o||(i=e-(this.x+this.width-r),i*i+s*s<=o)||(s=n-(this.y+this.height-r),i*i+s*s<=o)||(i=e-(this.x+r),i*i+s*s<=o))return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}class je{constructor(e=1,n=0,r=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,n,r,i,s,o){return this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=o,this}toArray(e,n){this.array||(this.array=new Float32Array(9));const r=n||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(e,n){n=n||new oe;const r=e.x,i=e.y;return n.x=this.a*r+this.c*i+this.tx,n.y=this.b*r+this.d*i+this.ty,n}applyInverse(e,n){n=n||new oe;const r=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return n.x=this.d*r*i+-this.c*r*s+(this.ty*this.c-this.tx*this.d)*r,n.y=this.a*r*s+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,n}translate(e,n){return this.tx+=e,this.ty+=n,this}scale(e,n){return this.a*=e,this.d*=n,this.c*=e,this.b*=n,this.tx*=e,this.ty*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*n-this.b*r,this.b=i*r+this.b*n,this.c=s*n-this.d*r,this.d=s*r+this.d*n,this.tx=o*n-this.ty*r,this.ty=o*r+this.ty*n,this}append(e){const n=this.a,r=this.b,i=this.c,s=this.d;return this.a=e.a*n+e.b*i,this.b=e.a*r+e.b*s,this.c=e.c*n+e.d*i,this.d=e.c*r+e.d*s,this.tx=e.tx*n+e.ty*i+this.tx,this.ty=e.tx*r+e.ty*s+this.ty,this}setTransform(e,n,r,i,s,o,a,l,u){return this.a=Math.cos(a+u)*s,this.b=Math.sin(a+u)*s,this.c=-Math.sin(a-l)*o,this.d=Math.cos(a-l)*o,this.tx=e-(r*this.a+i*this.c),this.ty=n-(r*this.b+i*this.d),this}prepend(e){const n=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const r=this.a,i=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=n*e.a+this.ty*e.c+e.tx,this.ty=n*e.b+this.ty*e.d+e.ty,this}decompose(e){const n=this.a,r=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),l=Math.atan2(r,n),u=Math.abs(a+l);return u<1e-5||Math.abs(hu-u)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(n*n+r*r),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*n+o.y*i),e.position.y=this.ty+(o.x*r+o.y*s),e}invert(){const e=this.a,n=this.b,r=this.c,i=this.d,s=this.tx,o=e*i-n*r;return this.a=i/o,this.b=-n/o,this.c=-r/o,this.d=e/o,this.tx=(r*this.ty-i*s)/o,this.ty=-(e*this.ty-n*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new je;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new je}static get TEMP_MATRIX(){return new je}}const Yi=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],qi=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Ki=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Zi=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Fv=[],BO=[],Fc=Math.sign;function Yae(){for(let t=0;t<16;t++){const e=[];Fv.push(e);for(let n=0;n<16;n++){const r=Fc(Yi[t]*Yi[n]+Ki[t]*qi[n]),i=Fc(qi[t]*Yi[n]+Zi[t]*qi[n]),s=Fc(Yi[t]*Ki[n]+Ki[t]*Zi[n]),o=Fc(qi[t]*Ki[n]+Zi[t]*Zi[n]);for(let a=0;a<16;a++)if(Yi[a]===r&&qi[a]===i&&Ki[a]===s&&Zi[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new je;e.set(Yi[t],qi[t],Ki[t],Zi[t],0,0),BO.push(e)}}Yae();const He={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Yi[t],uY:t=>qi[t],vX:t=>Ki[t],vY:t=>Zi[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>Fv[t][e],sub:(t,e)=>Fv[t][He.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?He.S:He.N:Math.abs(e)*2<=Math.abs(t)?t>0?He.E:He.W:e>0?t>0?He.SE:He.SW:t>0?He.NE:He.NW,matrixAppendRotationInv:(t,e,n=0,r=0)=>{const i=BO[He.inv(e)];i.tx=n,i.ty=r,t.append(i)}};class Nr{constructor(e,n,r=0,i=0){this._x=r,this._y=i,this.cb=e,this.scope=n}clone(e=this.cb,n=this.scope){return new Nr(e,n,this._x,this._y)}set(e=0,n=e){return(this._x!==e||this._y!==n)&&(this._x=e,this._y=n,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=${0} y=${0} scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}const NO=class{constructor(){this.worldTransform=new je,this.localTransform=new je,this.position=new Nr(this.onChange,this,0,0),this.scale=new Nr(this.onChange,this,1,1),this.pivot=new Nr(this.onChange,this,0,0),this.skew=new Nr(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const n=t.worldTransform,r=this.worldTransform;r.a=e.a*n.a+e.b*n.c,r.b=e.a*n.b+e.b*n.d,r.c=e.c*n.a+e.d*n.c,r.d=e.c*n.b+e.d*n.d,r.tx=e.tx*n.a+e.ty*n.c+n.tx,r.ty=e.tx*n.b+e.ty*n.d+n.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};let Vu=NO;Vu.IDENTITY=new NO;var qae=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,Kae=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function bS(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}function sm(t){const e=new Array(t);for(let n=0;n<e.length;n++)e[n]=!1;return e}function LO(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return sm(2*e);case"bvec3":return sm(3*e);case"bvec4":return sm(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const fs=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],Zae={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},Qae={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function Jae(t,e){var r;const n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){(r=t.uniforms[i])!=null&&r.group&&(t.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let a=!1;for(let l=0;l<fs.length;l++)if(fs[l].test(s,o)){n.push(fs[l].code(i,o)),a=!0;break}if(!a){const u=(s.size===1&&!s.isArray?Zae:Qae)[s.type].replace("location",`ud["${i}"].location`);n.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${u};`)}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}const UO={};let Ws=UO;function jO(){if(Ws===UO||Ws!=null&&Ws.isContextLost()){const t=ee.ADAPTER.createCanvas();let e;ee.PREFER_ENV>=Bi.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Ws=e}return Ws}let Dc;function ele(){if(!Dc){Dc=sn.MEDIUM;const t=jO();t&&t.getShaderPrecisionFormat&&(Dc=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?sn.HIGH:sn.MEDIUM)}return Dc}function xS(t,e){const n=t.getShaderSource(e).split(`
`).map((u,c)=>`${c}: ${u}`),r=t.getShaderInfoLog(e),i=r.split(`
`),s={},o=i.map(u=>parseFloat(u.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(u=>u&&!s[u]?(s[u]=!0,!0):!1),a=[""];o.forEach(u=>{n[u-1]=`%c${n[u-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=n.join(`
`);a[0]=l,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function tle(t,e,n,r){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(n,t.COMPILE_STATUS)||xS(t,n),t.getShaderParameter(r,t.COMPILE_STATUS)||xS(t,r),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const nle={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function zO(t){return nle[t]}let $c=null;const wS={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function HO(t,e){if(!$c){const n=Object.keys(wS);$c={};for(let r=0;r<n.length;++r){const i=n[r];$c[t[i]]=wS[i]}}return $c[e]}function _S(t,e,n){if(t.substring(0,9)!=="precision"){let r=e;return e===sn.HIGH&&n!==sn.HIGH&&(r=sn.MEDIUM),`precision ${r} float;
${t}`}else if(n!==sn.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let qa;function GO(){if(typeof qa=="boolean")return qa;try{qa=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{qa=!1}return qa}let rle=0;const Bc={},fo=class{constructor(t,e,n="pixi-shader",r={}){this.extra={},this.id=rle++,this.vertexSrc=t||fo.defaultVertexSrc,this.fragmentSrc=e||fo.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=r,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),Bc[n]?(Bc[n]++,n+=`-${Bc[n]}`):Bc[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=_S(this.vertexSrc,fo.defaultVertexPrecision,sn.HIGH),this.fragmentSrc=_S(this.fragmentSrc,fo.defaultFragmentPrecision,ele())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return Kae}static get defaultFragmentSrc(){return qae}static from(t,e,n){const r=t+e;let i=kv[r];return i||(kv[r]=i=new fo(t,e,n)),i}};let Pn=fo;Pn.defaultVertexPrecision=sn.HIGH;Pn.defaultFragmentPrecision=Qn.apple.device?sn.HIGH:sn.MEDIUM;let ile=0;class kn{constructor(e,n,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=ile++,this.static=!!n,this.ubo=!!r,e instanceof tt?(this.buffer=e,this.buffer.type=nr.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new tt(new Float32Array(1)),this.buffer.type=nr.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,n,r){if(!this.ubo)this.uniforms[e]=new kn(n,r);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,n,r){return new kn(e,n,r)}static uboFrom(e,n){return new kn(e,n??!0,!0)}}class ir{constructor(e,n){this.uniformBindCount=0,this.program=e,n?n instanceof kn?this.uniformGroup=n:this.uniformGroup=new kn(n):this.uniformGroup=new kn({}),this.disposeRunner=new dn("disposeShader")}checkUniformExists(e,n){if(n.uniforms[e])return!0;for(const r in n.uniforms){const i=n.uniforms[r];if(i.group&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,n,r){const i=Pn.from(e,n);return new ir(i,r)}}class WO{constructor(e,n){if(this.vertexSrc=e,this.fragTemplate=n,this.programCache={},this.defaultGroupCache={},!n.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!n.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const r=new Int32Array(e);for(let s=0;s<e;s++)r[s]=s;this.defaultGroupCache[e]=kn.from({uSamplers:r},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Pn(this.vertexSrc,i)}const n={tint:new Float32Array([1,1,1,1]),translationMatrix:new je,default:this.defaultGroupCache[e]};return new ir(this.programCache[e],n)}generateSampleSrc(e){let n="";n+=`
`,n+=`
`;for(let r=0;r<e;r++)r>0&&(n+=`
else `),r<e-1&&(n+=`if(vTextureId < ${r}.5)`),n+=`
{`,n+=`
	color = texture2D(uSamplers[${r}], vTextureCoord);`,n+=`
}`;return n+=`
`,n+=`
`,n}}class xd{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function sle(){return!Qn.apple.device}function ole(t){let e=!0;const n=ee.ADAPTER.getNavigator();if(Qn.tablet||Qn.phone){if(Qn.apple.device){const r=n.userAgent.match(/OS (\d+)_(\d+)?/);r&&parseInt(r[1],10)<11&&(e=!1)}if(Qn.android.device){const r=n.userAgent.match(/Android\s([0-9.]*)/);r&&parseInt(r[1],10)<7&&(e=!1)}}return e?t:4}class Xu{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var ale=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,lle=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const Hn=class extends Xu{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=W1,this.vertexSize=6,this.state=Or.for2d(),this.size=Hn.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??ole(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??sle(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return be("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return lle}static get defaultFragmentTemplate(){return ale}setShaderGenerator({vertex:t=Hn.defaultVertexSrc,fragment:e=Hn.defaultFragmentTemplate}={}){this.shaderGenerator=new WO(t,e)}contextChange(){const t=this.renderer.gl;ee.PREFER_ENV===Bi.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Hn.defaultMaxTextures),this.maxTextures=FO(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=Hn,n=this.size/4,r=Math.floor(n/this.maxTextures)+1;for(;t.length<n;)t.push(new bd);for(;e.length<r;)e.push(new xd);for(let i=0;i<this.maxTextures;i++)this._tempBoundTextures[i]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,n=Hn._textureArrayPool,r=this.renderer.batch,i=this._tempBoundTextures,s=this.renderer.textureGC.count;let o=++fe._globalBatch,a=0,l=n[0],u=0;r.copyBoundTextures(i,e);for(let c=0;c<this._bufferSize;++c){const h=t[c];t[c]=null,h._batchEnabled!==o&&(l.count>=e&&(r.boundArray(l,i,o,e),this.buildDrawCalls(l,u,c),u=c,l=n[++a],++o),h._batchEnabled=o,h.touched=s,l.elements[l.count++]=h)}l.count>0&&(r.boundArray(l,i,o,e),this.buildDrawCalls(l,u,this._bufferSize),++a,++o);for(let c=0;c<i.length;c++)i[c]=null;fe._globalBatch=o}buildDrawCalls(t,e,n){const{_bufferedElements:r,_attributeBuffer:i,_indexBuffer:s,vertexSize:o}=this,a=Hn._drawCallPool;let l=this._dcIndex,u=this._aIndex,c=this._iIndex,h=a[l];h.start=this._iIndex,h.texArray=t;for(let d=e;d<n;++d){const f=r[d],p=f._texture.baseTexture,m=j1[p.alphaMode?1:0][f.blendMode];r[d]=null,e<d&&h.blend!==m&&(h.size=c-h.start,e=d,h=a[++l],h.texArray=t,h.start=c),this.packInterleavedGeometry(f,i,s,u,c),u+=f.vertexData.length/2*o,c+=f.indices.length,h.blend=m}e<n&&(h.size=c-h.start,++l),this._dcIndex=l,this._aIndex=u,this._iIndex=c}bindAndClearTexArray(t){const e=this.renderer.texture;for(let n=0;n<t.count;n++)e.bind(t.elements[n],t.ids[n]),t.elements[n]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:n}=this;Hn.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:n}=this.renderer,r=Hn._drawCallPool;let i=null;for(let s=0;s<t;s++){const{texArray:o,type:a,size:l,start:u,blend:c}=r[s];i!==o&&(i=o,this.bindAndClearTexArray(o)),this.state.blendMode=c,n.set(this.state),e.drawElements(a,l,e.UNSIGNED_SHORT,u*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Hn.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=uu(Math.ceil(t/8)),n=Iv(e),r=e*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let i=this._aBuffers[r];return i||(this._aBuffers[r]=i=new vd(r*this.vertexSize*4)),i}getIndexBuffer(t){const e=uu(Math.ceil(t/12)),n=Iv(e),r=e*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let i=this._iBuffers[n];return i||(this._iBuffers[n]=i=new Uint16Array(r)),i}packInterleavedGeometry(t,e,n,r,i){const{uint32View:s,float32View:o}=e,a=r/this.vertexSize,l=t.uvs,u=t.indices,c=t.vertexData,h=t._texture.baseTexture._batchLocation,d=Math.min(t.worldAlpha,1),f=d<1&&t._texture.baseTexture.alphaMode?Uf(t._tintRGB,d):t._tintRGB+(d*255<<24);for(let p=0;p<c.length;p+=2)o[r++]=c[p],o[r++]=c[p+1],o[r++]=l[p],o[r++]=l[p+1],s[r++]=f,o[r++]=h;for(let p=0;p<u.length;p++)n[i++]=a+u[p]}};let Sn=Hn;Sn.defaultBatchSize=4096;Sn.extension={name:"batch",type:Q.RendererPlugin};Sn._drawCallPool=[];Sn._textureArrayPool=[];ie.add(Sn);var ule=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,cle=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const hl=class extends ir{constructor(t,e,n){const r=Pn.from(t||hl.defaultVertexSrc,e||hl.defaultFragmentSrc);super(r,n),this.padding=0,this.resolution=hl.defaultResolution,this.multisample=hl.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Or}apply(t,e,n,r,i){t.applyFilter(this,e,n,r)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return cle}static get defaultFragmentSrc(){return ule}};let gt=hl;gt.defaultResolution=1;gt.defaultMultisample=Ye.NONE;class V1{constructor(){this.clearBeforeRender=!0,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,1],this._backgroundColorString="#000000",this.color=this._backgroundColor,this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender,e.color&&(this.color=typeof e.color=="string"?Lf(e.color):e.color),this.alpha=e.alpha}get color(){return this._backgroundColor}set color(e){this._backgroundColor=e,this._backgroundColorString=U1(e),Es(e,this._backgroundColorRgba)}get alpha(){return this._backgroundColorRgba[3]}set alpha(e){this._backgroundColorRgba[3]=e}get colorRgba(){return this._backgroundColorRgba}get colorString(){return this._backgroundColorString}destroy(){}}V1.extension={type:[Q.RendererSystem,Q.CanvasRendererSystem],name:"background"};ie.add(V1);class X1{constructor(e){this.renderer=e,this.emptyRenderer=new Xu(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,n){const{boundTextures:r}=this.renderer.texture;for(let i=n-1;i>=0;--i)e[i]=r[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,n,r,i){const{elements:s,ids:o,count:a}=e;let l=0;for(let u=0;u<a;u++){const c=s[u],h=c._batchLocation;if(h>=0&&h<i&&n[h]===c){o[u]=h;continue}for(;l<i;){const d=n[l];if(d&&d._batchEnabled===r&&d._batchLocation===l){l++;continue}o[u]=l,c._batchLocation=l,n[l]=c;break}}}destroy(){this.renderer=null}}X1.extension={type:Q.RendererSystem,name:"batch"};ie.add(X1);let ES=0;class Y1{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=ES++}init(e){if(e.context)this.initFromContext(e.context);else{const n=this.renderer.background.alpha<1,r=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:n,premultipliedAlpha:r,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=ES++,this.renderer.runners.contextChange.emit(e);const n=this.renderer.view;n.addEventListener!==void 0&&(n.addEventListener("webglcontextlost",this.handleContextLost,!1),n.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const n=this.createContext(this.renderer.view,e);this.initFromContext(n)}createContext(e,n){let r;if(ee.PREFER_ENV>=Bi.WEBGL2&&(r=e.getContext("webgl2",n)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=e.getContext("webgl",n)||e.getContext("experimental-webgl",n),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,n={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,n,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,n,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const n=e.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),n&&!n.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Y1.extension={type:Q.RendererSystem,name:"context"};ie.add(Y1);class hle extends Pa{upload(e,n,r){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===$n.UNPACK);const s=n.realWidth,o=n.realHeight;return r.width===s&&r.height===o?i.texSubImage2D(n.target,0,0,0,s,o,n.format,r.type,this.data):(r.width=s,r.height=o,i.texImage2D(n.target,0,r.internalFormat,s,o,0,n.format,r.type,this.data)),!0}}class wd{constructor(e,n){this.width=Math.round(e||100),this.height=Math.round(n||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new dn("disposeFramebuffer"),this.multisample=Ye.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,n){return this.colorTextures[e]=n||new fe(null,{scaleMode:wr.NEAREST,resolution:1,mipmap:ar.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new fe(new hle(null,{width:this.width,height:this.height}),{scaleMode:wr.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:ar.OFF,format:X.DEPTH_COMPONENT,type:se.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,n){if(e=Math.round(e),n=Math.round(n),!(e===this.width&&n===this.height)){this.width=e,this.height=n,this.dirtyId++,this.dirtySize++;for(let r=0;r<this.colorTextures.length;r++){const i=this.colorTextures[r],s=i.resolution;i.setSize(e/s,n/s)}if(this.depthTexture){const r=this.depthTexture.resolution;this.depthTexture.setSize(e/r,n/r)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class q1 extends fe{constructor(e={}){if(typeof e=="number"){const n=arguments[0],r=arguments[1],i=arguments[2],s=arguments[3];e={width:n,height:r,scaleMode:i,resolution:s}}e.width=e.width||100,e.height=e.height||100,e.multisample??(e.multisample=Ye.NONE),super(null,e),this.mipmap=ar.OFF,this.valid=!0,this.clearColor=[0,0,0,0],this.framebuffer=new wd(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}resize(e,n){this.framebuffer.resize(e*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Yr extends ia{constructor(e){const n=e,r=n.naturalWidth||n.videoWidth||n.width,i=n.naturalHeight||n.videoHeight||n.height;super(r,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,n,r){r===void 0&&!n.startsWith("data:")?e.crossOrigin=MO(n):r!==!1&&(e.crossOrigin=typeof r=="string"?r:"anonymous")}upload(e,n,r,i){const s=e.gl,o=n.realWidth,a=n.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1&&i.buffered.length===0)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===$n.UNPACK),!this.noSubImage&&n.target===s.TEXTURE_2D&&r.width===o&&r.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,n.format,r.type,i):(r.width=o,r.height=a,s.texImage2D(n.target,0,r.internalFormat,n.format,r.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,n=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(n,r),super.update()}dispose(){this.source=null}}class K1 extends Yr{constructor(e,n){if(n=n||{},typeof e=="string"){const r=new Image;Yr.crossOrigin(r,e,n.crossorigin),r.src=e,e=r}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(n.createBitmap??ee.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,this.bitmap=null,this._load=null,n.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((n,r)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.resize(i.width,i.height),this._load=null,this.createBitmap?n(this.process()):n(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{r(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const n=globalThis.createImageBitmap,r=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:r?"cors":"no-cors"}).then(i=>i.blob()).then(i=>n(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===$n.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,n,r){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,n,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,n,r,this.bitmap),!this.preserveBitmap){let i=!0;const s=n._glTextures;for(const o in s){const a=s[o];if(a!==r&&a.dirtyId!==n.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class Z1{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,n,r){const i=n.width,s=n.height;if(r){const o=e.width/2/i,a=e.height/2/s,l=e.x/i+o,u=e.y/s+a;r=He.add(r,He.NW),this.x0=l+o*He.uX(r),this.y0=u+a*He.uY(r),r=He.add(r,2),this.x1=l+o*He.uX(r),this.y1=u+a*He.uY(r),r=He.add(r,2),this.x2=l+o*He.uX(r),this.y2=u+a*He.uY(r),r=He.add(r,2),this.x3=l+o*He.uX(r),this.y3=u+a*He.uY(r)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const SS=new Z1;function Nc(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class J extends Ci{constructor(e,n,r,i,s,o){if(super(),this.noFrame=!1,n||(this.noFrame=!0,n=new me(0,0,1,1)),e instanceof J&&(e=e.baseTexture),this.baseTexture=e,this._frame=n,this.trim=i,this.valid=!1,this._uvs=SS,this.uvMatrix=null,this.orig=r||n,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new oe(o.x,o.y):new oe(0,0),this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=n:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:n}=this.baseTexture;n!=null&&n.url&&kt[n.url]&&J.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,J.removeFromCache(this),this.textureCacheIds=null}clone(){var i;const e=this._frame.clone(),n=this._frame===this.orig?e:this.orig.clone(),r=new J(this.baseTexture,!this.noFrame&&e,n,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(r._frame=e),r}updateUvs(){this._uvs===SS&&(this._uvs=new Z1),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,n={},r=ee.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof fe){if(!e.cacheId){const a=(n==null?void 0:n.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${Ti()}`,fe.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(n==null?void 0:n.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${Ti()}`}s=e._pixiId}let o=kt[s];if(i&&r&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof fe)?(n.resolution||(n.resolution=Vr(e)),o=new J(new fe(e,n)),o.baseTexture.cacheId=s,fe.addToCache(o.baseTexture,s),J.addToCache(o,s)):!o&&e instanceof fe&&(o=new J(e),J.addToCache(o,s)),o}static fromURL(e,n){const r=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),i=J.from(e,Object.assign({resourceOptions:r},n),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,n,r,i){return new J(fe.fromBuffer(e,n,r,i))}static fromLoader(e,n,r,i){const s=new fe(e,Object.assign({scaleMode:fe.defaultOptions.scaleMode,resolution:Vr(n)},i)),{resource:o}=s;o instanceof K1&&(o.url=n);const a=new J(s);return r||(r=n),fe.addToCache(a.baseTexture,r),J.addToCache(a,r),r!==n&&(fe.addToCache(a.baseTexture,n),J.addToCache(a,n)),a.baseTexture.valid?Promise.resolve(a):new Promise(l=>{a.baseTexture.once("loaded",()=>l(a))})}static addToCache(e,n){n&&(e.textureCacheIds.includes(n)||e.textureCacheIds.push(n),kt[n]&&kt[n]!==e&&console.warn(`Texture added to the cache with an id [${n}] that already had an entry`),kt[n]=e)}static removeFromCache(e){if(typeof e=="string"){const n=kt[e];if(n){const r=n.textureCacheIds.indexOf(e);return r>-1&&n.textureCacheIds.splice(r,1),delete kt[e],n}}else if(e!=null&&e.textureCacheIds){for(let n=0;n<e.textureCacheIds.length;++n)kt[e.textureCacheIds[n]]===e&&delete kt[e.textureCacheIds[n]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:n,y:r,width:i,height:s}=e,o=n+i>this.baseTexture.width,a=r+s>this.baseTexture.height;if(o||a){const l=o&&a?"and":"or",u=`X: ${n} + ${i} = ${n+i} > ${this.baseTexture.width}`,c=`Y: ${r} + ${s} = ${r+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${u} ${l} ${c}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return J._EMPTY||(J._EMPTY=new J(new fe),Nc(J._EMPTY),Nc(J._EMPTY.baseTexture)),J._EMPTY}static get WHITE(){if(!J._WHITE){const e=ee.ADAPTER.createCanvas(16,16),n=e.getContext("2d");e.width=16,e.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),J._WHITE=new J(fe.from(e)),Nc(J._WHITE),Nc(J._WHITE.baseTexture)}return J._WHITE}}class qr extends J{constructor(e,n){super(e,n),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,n,r=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(n*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,r&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:n}=this;n.resolution!==e&&(n.setResolution(e),this.resize(n.width,n.height,!1))}static create(e){return new qr(new q1(e))}}class Q1{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,n,r=Ye.NONE){const i=new q1(Object.assign({width:e,height:n,resolution:1,multisample:r},this.textureOptions));return new qr(i)}getOptimalTexture(e,n,r=1,i=Ye.NONE){let s;e=Math.ceil(e*r-1e-6),n=Math.ceil(n*r-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||n!==this._pixelsHeight?(e=uu(e),n=uu(n),s=((e&65535)<<16|n&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,n,i)),o.filterPoolKey=s,o.setResolution(r),o}getFilterTexture(e,n,r){const i=this.getOptimalTexture(e.width,e.height,n||e.resolution,r||Ye.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const n=e.filterPoolKey;e.filterFrame=null,this.texturePool[n].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const n in this.texturePool){const r=this.texturePool[n];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const n in this.texturePool){if(!(Number(n)<0))continue;const r=this.texturePool[n];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[n]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}Q1.SCREEN_KEY=-1;class VO extends Xr{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class J1 extends Xr{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new tt(this.vertices),this.uvBuffer=new tt(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,n){let r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+n.width/e.width,this.uvs[3]=i,this.uvs[4]=r+n.width/e.width,this.uvs[5]=i+n.height/e.height,this.uvs[6]=r,this.uvs[7]=i+n.height/e.height,r=n.x,i=n.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+n.width,this.vertices[3]=i,this.vertices[4]=r+n.width,this.vertices[5]=i+n.height,this.vertices[6]=r,this.vertices[7]=i+n.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class XO{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Ye.NONE,this.sourceFrame=new me,this.destinationFrame=new me,this.bindingSourceFrame=new me,this.bindingDestinationFrame=new me,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Lc=[new oe,new oe,new oe,new oe],om=new je;class eb{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new Q1,this.statePool=[],this.quad=new VO,this.quadUv=new J1,this.tempRect=new me,this.activeState={},this.globalUniforms=new kn({outputFrame:new me,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,n){const r=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new XO,o=this.renderer.renderTexture;let a=n[0].resolution,l=n[0].multisample,u=n[0].padding,c=n[0].autoFit,h=n[0].legacy??!0;for(let p=1;p<n.length;p++){const m=n[p];a=Math.min(a,m.resolution),l=Math.min(l,m.multisample),u=this.useMaxPadding?Math.max(u,m.padding):u+m.padding,c=c&&m.autoFit,h=h||(m.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=a,s.multisample=l,s.legacy=h,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(u);const d=this.tempRect.copyFrom(o.sourceFrame);r.projection.transform&&this.transformAABB(om.copyFrom(r.projection.transform).invert(),d),c?(s.sourceFrame.fit(d),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(d)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:r.resolution,o.sourceFrame,o.destinationFrame,r.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,a,l),s.filters=n,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const f=this.tempRect;f.x=0,f.y=0,f.width=s.sourceFrame.width,f.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=r.projection.transform,r.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,f),r.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,n=e.pop(),r=n.filters;this.activeState=n;const i=this.globalUniforms.uniforms;i.outputFrame=n.sourceFrame,i.resolution=n.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=n.destinationFrame.width,s[1]=n.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*n.resolution),o[1]=Math.round(s[1]*n.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=n.sourceFrame.width*s[2]-.5*o[2],a[3]=n.sourceFrame.height*s[3]-.5*o[3],n.legacy){const u=i.filterArea;u[0]=n.destinationFrame.width,u[1]=n.destinationFrame.height,u[2]=n.sourceFrame.x,u[3]=n.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const l=e[e.length-1];if(this.renderer.framebuffer.blit(),r.length===1)r[0].apply(this,n.renderTexture,l.renderTexture,Yn.BLEND,n),this.returnFilterTexture(n.renderTexture);else{let u=n.renderTexture,c=this.getOptimalFilterTexture(u.width,u.height,n.resolution);c.filterFrame=u.filterFrame;let h=0;for(h=0;h<r.length-1;++h){h===1&&n.multisample>1&&(c=this.getOptimalFilterTexture(u.width,u.height,n.resolution),c.filterFrame=u.filterFrame),r[h].apply(this,u,c,Yn.CLEAR,n);const d=u;u=c,c=d}r[h].apply(this,u,l.renderTexture,Yn.BLEND,n),h>1&&n.multisample>1&&this.returnFilterTexture(n.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(c)}n.clear(),this.statePool.push(n)}bindAndClear(e,n=Yn.CLEAR){const{renderTexture:r,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e!=null&&e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,r.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(n===Yn.CLEAR||n===Yn.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,n,r,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(r,i),e.uniforms.uSampler=n,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(n._frame,n.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(Zn.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(Zn.TRIANGLE_STRIP))}calculateSpriteMatrix(e,n){const{sourceFrame:r,destinationFrame:i}=this.activeState,{orig:s}=n._texture,o=e.set(i.width,0,0,i.height,r.x,r.y),a=n.worldTransform.copyTo(je.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(n.anchor.x,n.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,n,r=1,i=Ye.NONE){return this.texturePool.getOptimalTexture(e,n,r,i)}getFilterTexture(e,n,r){if(typeof e=="number"){const s=e;e=n,n=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,n||e.resolution,r||Ye.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,n){const r=Lc[0],i=Lc[1],s=Lc[2],o=Lc[3];r.set(n.left,n.top),i.set(n.left,n.bottom),s.set(n.right,n.top),o.set(n.right,n.bottom),e.apply(r,r),e.apply(i,i),e.apply(s,s),e.apply(o,o);const a=Math.min(r.x,i.x,s.x,o.x),l=Math.min(r.y,i.y,s.y,o.y),u=Math.max(r.x,i.x,s.x,o.x),c=Math.max(r.y,i.y,s.y,o.y);n.x=a,n.y=l,n.width=u-a,n.height=c-l}roundFrame(e,n,r,i,s){if(!(e.width<=0||e.height<=0||r.width<=0||r.height<=0)){if(s){const{a:o,b:a,c:l,d:u}=s;if((Math.abs(a)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(u)>1e-4))return}s=s?om.copyFrom(s):om.identity(),s.translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(n),this.transformAABB(s.invert(),e)}}}eb.extension={type:Q.RendererSystem,name:"filter"};ie.add(eb);class YO{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Ye.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const dle=new me;class tb{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new wd(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new me,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let n=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;ee.PREFER_ENV===Bi.WEBGL_LEGACY&&(n=null,r=null),n?e.drawBuffers=i=>n.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,n,r=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==r&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=r),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,r)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),n){const o=n.width>>r,a=n.height>>r,l=o/n.width;this.setViewport(n.x*l,n.y*l,o,a)}else{const o=e.width>>r,a=e.height>>r;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),n?this.setViewport(n.x,n.y,n.width,n.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,n,r,i){const s=this.viewport;e=Math.round(e),n=Math.round(n),r=Math.round(r),i=Math.round(i),(s.width!==r||s.height!==i||s.x!==e||s.y!==n)&&(s.x=e,s.y=n,s.width=r,s.height=i,this.gl.viewport(e,n,r,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,n,r,i,s=fd.COLOR|fd.DEPTH){const{gl:o}=this;o.clearColor(e,n,r,i),o.clear(s)}initFramebuffer(e){const{gl:n}=this,r=new YO(n.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r}resizeFramebuffer(e){const{gl:n}=this,r=e.glFramebuffers[this.CONTEXT_UID];r.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,r.stencil),r.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height));const i=e.colorTextures;let s=i.length;n.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],l=a.parentTextureArray||a;this.renderer.texture.bind(l,0),o===0&&r.msaaBuffer&&(n.bindRenderbuffer(n.RENDERBUFFER,r.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,n){const{gl:r}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;r.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||r.createRenderbuffer():i.msaaBuffer&&(r.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let l=0;l<o;l++){const u=s[l],c=u.parentTextureArray||u;this.renderer.texture.bind(c,0),l===0&&i.msaaBuffer?(r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,i.msaaBuffer)):(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+l,u.target,c._glTextures[this.CONTEXT_UID].texture,n),a.push(r.COLOR_ATTACHMENT0+l))}if(a.length>1&&r.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const u=e.depthTexture;this.renderer.texture.bind(u,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,u._glTextures[this.CONTEXT_UID].texture,n)}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.stencil),i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,i.stencil)):i.stencil&&(r.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:n}=this;let r=Ye.NONE;if(e<=1||n===null)return r;for(let i=0;i<n.length;i++)if(n[i]<=e){r=n[i];break}return r===1&&(r=Ye.NONE),r}blit(e,n,r){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const l=i.glFramebuffers[a];if(!l)return;if(!e){if(!l.msaaBuffer)return;const c=i.colorTextures[0];if(!c)return;l.blitFramebuffer||(l.blitFramebuffer=new wd(i.width,i.height),l.blitFramebuffer.addColorTexture(0,c)),e=l.blitFramebuffer,e.colorTextures[0]!==c&&(e.colorTextures[0]=c,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}n||(n=dle,n.width=i.width,n.height=i.height),r||(r=n);const u=n.width===r.width&&n.height===r.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,l.framebuffer),o.blitFramebuffer(n.left,n.top,n.right,n.bottom,r.left,r.top,r.right,r.bottom,o.COLOR_BUFFER_BIT,u?o.NEAREST:o.LINEAR)}disposeFramebuffer(e,n){const r=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!r)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),n||(i.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&i.deleteRenderbuffer(r.msaaBuffer),r.stencil&&i.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&r.blitFramebuffer.dispose()}disposeAll(e){const n=this.managedFramebuffers;this.managedFramebuffers=[];for(let r=0;r<n.length;r++)this.disposeFramebuffer(n[r],e)}forceStencil(){const e=this.current;if(!e)return;const n=e.glFramebuffers[this.CONTEXT_UID];if(!n||n.stencil)return;e.stencil=!0;const r=e.width,i=e.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),n.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,n.multisample,s.DEPTH24_STENCIL8,r,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,r,i),n.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new me}destroy(){this.renderer=null}}tb.extension={type:Q.RendererSystem,name:"framebuffer"};ie.add(tb);const am={5126:4,5123:2,5121:1};class nb{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,n=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,n.webGLVersion!==2){let r=this.renderer.context.extensions.vertexArrayObject;ee.PREFER_ENV===Bi.WEBGL_LEGACY&&(r=null),r?(e.createVertexArray=()=>r.createVertexArrayOES(),e.bindVertexArray=i=>r.bindVertexArrayOES(i),e.deleteVertexArray=i=>r.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(n.webGLVersion!==2){const r=e.getExtension("ANGLE_instanced_arrays");r?(e.vertexAttribDivisor=(i,s)=>r.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,a,l)=>r.drawElementsInstancedANGLE(i,s,o,a,l),e.drawArraysInstanced=(i,s,o,a)=>r.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=n.webGLVersion===2||!!n.extensions.uint32ElementIndex}bind(e,n){n=n||this.renderer.shader.shader;const{gl:r}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[n.program.id]||this.initGeometryVao(e,n,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?r.bindVertexArray(o):this.activateVao(e,n.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,n=this.renderer.buffer;for(let r=0;r<e.buffers.length;r++){const i=e.buffers[r];n.update(i)}}checkCompatibility(e,n){const r=e.attributes,i=n.attributeData;for(const s in i)if(!r[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,n){const r=e.attributes,i=n.attributeData,s=["g",e.id];for(const o in r)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,n,r=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=n.program;a.glPrograms[s]||this.renderer.shader.generateProgram(n),this.checkCompatibility(e,a);const l=this.getSignature(e,a),u=e.glVertexArrayObjects[this.CONTEXT_UID];let c=u[l];if(c)return u[a.id]=c,c;const h=e.buffers,d=e.attributes,f={},p={};for(const m in h)f[m]=0,p[m]=0;for(const m in d)!d[m].size&&a.attributeData[m]?d[m].size=a.attributeData[m].size:d[m].size||console.warn(`PIXI Geometry attribute '${m}' size cannot be determined (likely the bound shader does not have the attribute)`),f[d[m].buffer]+=d[m].size*am[d[m].type];for(const m in d){const g=d[m],v=g.size;g.stride===void 0&&(f[g.buffer]===v*am[g.type]?g.stride=0:g.stride=f[g.buffer]),g.start===void 0&&(g.start=p[g.buffer],p[g.buffer]+=v*am[g.type])}c=i.createVertexArray(),i.bindVertexArray(c);for(let m=0;m<h.length;m++){const g=h[m];o.bind(g),r&&g._glBuffers[s].refCount++}return this.activateVao(e,a),u[a.id]=c,u[l]=c,i.bindVertexArray(null),o.unbind(nr.ARRAY_BUFFER),c}disposeGeometry(e,n){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const r=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!r){if(o)for(let l=0;l<s.length;l++){const u=s[l]._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,u.refCount===0&&!n&&o.dispose(s[l],n))}if(!n){for(const l in r)if(l[0]==="g"){const u=r[l];this._activeVao===u&&this.unbind(),i.deleteVertexArray(u)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const n=Object.keys(this.managedGeometries);for(let r=0;r<n.length;r++)this.disposeGeometry(this.managedGeometries[n[r]],e)}activateVao(e,n){const r=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let l=null;for(const u in a){const c=a[u],h=o[c.buffer],d=h._glBuffers[i];if(n.attributeData[u]){l!==d&&(s.bind(h),l=d);const f=n.attributeData[u].location;if(r.enableVertexAttribArray(f),r.vertexAttribPointer(f,c.size,c.type||r.FLOAT,c.normalized,c.stride,c.start),c.instance)if(this.hasInstance)r.vertexAttribDivisor(f,c.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,n,r,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,l=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,n||o.indexBuffer.data.length,l,(r||0)*a,i||1):s.drawElements(e,n||o.indexBuffer.data.length,l,(r||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,r,n||o.getSize(),i||1):s.drawArrays(e,r,n||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}nb.extension={type:Q.RendererSystem,name:"geometry"};ie.add(nb);const CS=new je;class Hf{constructor(e,n){this._texture=e,this.mapCoord=new je,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof n>"u"?.5:n,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,n){n===void 0&&(n=e);const r=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];n[i]=s*r.a+o*r.c+r.tx,n[i+1]=s*r.b+o*r.d+r.ty}return n}update(e){const n=this._texture;if(!n||!n.valid||!e&&this._textureID===n._updateID)return!1;this._textureID=n._updateID,this._updateID++;const r=n._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const i=n.orig,s=n.trim;s&&(CS.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(CS));const o=n.baseTexture,a=this.uClampFrame,l=this.clampMargin/o.resolution,u=this.clampOffset;return a[0]=(n._frame.x+l+u)/o.width,a[1]=(n._frame.y+l+u)/o.height,a[2]=(n._frame.x+n._frame.width-l+u)/o.width,a[3]=(n._frame.y+n._frame.height-l+u)/o.height,this.uClampOffset[0]=u/o.realWidth,this.uClampOffset[1]=u/o.realHeight,this.isSimple=n._frame.width===o.width&&n._frame.height===o.height&&n.rotate===0,!0}}var fle=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,ple=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class qO extends gt{constructor(e,n,r){let i=null;typeof e!="string"&&n===void 0&&r===void 0&&(i=e,e=void 0,n=void 0,r=void 0),super(e||ple,n||fle,r),this.maskSprite=i,this.maskMatrix=new je}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,n,r,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Hf(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,n,r,i))}}class KO{constructor(e=null){this.type=st.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=gt.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=st.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class rb{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,n){let r=n;if(!r.isMaskData){const s=this.maskDataPool.pop()||new KO;s.pooled=!0,s.maskObject=n,r=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(i),r._colorMask=i?i._colorMask:15,r.autoDetect&&this.detect(r),r._target=e,r.type!==st.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case st.SCISSOR:this.renderer.scissor.push(r);break;case st.STENCIL:this.renderer.stencil.push(r);break;case st.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case st.COLOR:this.pushColorMask(r);break}r.type===st.SPRITE&&this.maskStack.push(r)}pop(e){const n=this.maskStack.pop();if(!(!n||n._target!==e)){if(n.enabled)switch(n.type){case st.SCISSOR:this.renderer.scissor.pop(n);break;case st.STENCIL:this.renderer.stencil.pop(n.maskObject);break;case st.SPRITE:this.popSpriteMask(n);break;case st.COLOR:this.popColorMask(n);break}if(n.reset(),n.pooled&&this.maskDataPool.push(n),this.maskStack.length!==0){const r=this.maskStack[this.maskStack.length-1];r.type===st.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}}detect(e){const n=e.maskObject;n?n.isSprite?e.type=st.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=st.SCISSOR:e.type=st.STENCIL:e.type=st.COLOR}pushSpriteMask(e){const{maskObject:n}=e,r=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new qO]));const s=this.renderer,o=s.renderTexture;let a,l;if(o.current){const c=o.current;a=e.resolution||c.resolution,l=e.multisample??c.multisample}else a=e.resolution||s.resolution,l=e.multisample??s.multisample;i[0].resolution=a,i[0].multisample=l,i[0].maskSprite=n;const u=r.filterArea;r.filterArea=n.getBounds(!0),s.filter.push(r,i),r.filterArea=u,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const n=e._colorMask,r=e._colorMask=n&e.colorMask;r!==n&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}popColorMask(e){const n=e._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==n&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}destroy(){this.renderer=null}}rb.extension={type:Q.RendererSystem,name:"mask"};ie.add(rb);class ZO{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:n}=this.renderer,r=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==r&&(i===0?n.disable(this.glConst):(n.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const TS=new je,AS=[],mh=class extends ZO{constructor(t){super(t),this.glConst=ee.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:n}=t,{renderer:r}=this,i=r.renderTexture,s=n.getBounds(!0,AS.pop()??new me);this.roundFrameToPixels(s,i.current?i.current.resolution:r.resolution,i.sourceFrame,i.destinationFrame,r.projection.transform),e&&s.fit(e),t._scissorRectLocal=s}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:n,c:r,d:i}=t;return(Math.abs(n)>1e-4||Math.abs(r)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||mh.isMatrixRotated(e.worldTransform)||mh.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const n=t._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(t,e,n,r,i){mh.isMatrixRotated(i)||(i=i?TS.copyFrom(i):TS.identity(),i.translate(-n.x,-n.y).scale(r.width/n.width,r.height/n.height).translate(r.x,r.y),this.renderer.filter.transformAABB(i,t),t.fit(r),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&AS.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};let ib=mh;ib.extension={type:Q.RendererSystem,name:"scissor"};ie.add(ib);class sb extends ZO{constructor(e){super(e),this.glConst=ee.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const n=e.maskObject,{gl:r}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,i,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,s!==0&&(e._colorMask=s,r.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const n=this.renderer.gl;if(this.getStackLength()===0)n.disable(n.STENCIL_TEST);else{const r=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=r?r._colorMask:15;i!==0&&(r._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilOp(n.KEEP,n.KEEP,n.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(r._colorMask=i,n.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}sb.extension={type:Q.RendererSystem,name:"stencil"};ie.add(sb);class ob{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return be("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return be("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return be("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(e){for(const n in e)this.plugins[n]=new e[n](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}ob.extension={type:[Q.RendererSystem,Q.CanvasRendererSystem],name:"_plugin"};ie.add(ob);class ab{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new je,this.transform=null}update(e,n,r,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=n||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,n,r,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/n.width*2,s.d=o*(1/n.height*2),s.tx=-1-n.x*s.a,s.ty=-o-n.y*s.d}setTransform(e){}destroy(){this.renderer=null}}ab.extension={type:Q.RendererSystem,name:"projection"};ie.add(ab);const mle=new Vu;class lb{constructor(e){this.renderer=e,this._tempMatrix=new je}generateTexture(e,n){const{region:r,...i}=n||{},s=r||e.getLocalBounds(null,!0);s.width===0&&(s.width=1),s.height===0&&(s.height=1);const o=qr.create({width:s.width,height:s.height,...i});this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const a=e.transform;return e.transform=mle,this.renderer.render(e,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=a,o}destroy(){}}lb.extension={type:[Q.RendererSystem,Q.CanvasRendererSystem],name:"textureGenerator"};ie.add(lb);const ji=new me,Ka=new me;class ub{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new me,this.destinationFrame=new me,this.viewportFrame=new me}bind(e=null,n,r){const i=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,n||(ji.width=e.frame.width,ji.height=e.frame.height,n=ji),r||(Ka.x=e.frame.x,Ka.y=e.frame.y,Ka.width=n.width,Ka.height=n.height,r=Ka),o=s.framebuffer):(a=i.resolution,n||(ji.width=i._view.screen.width,ji.height=i._view.screen.height,n=ji),r||(r=ji,r.width=n.width,r.height=n.height));const l=this.viewportFrame;l.x=r.x*a,l.y=r.y*a,l.width=r.width*a,l.height=r.height*a,e||(l.y=i.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(o,l),this.renderer.projection.update(r,n,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(n),this.destinationFrame.copyFrom(r)}clear(e,n){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.renderer.background.colorRgba;const r=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer._view.screen,s=r.width!==i.width||r.height!==i.height;if(s){let{x:o,y:a,width:l,height:u}=this.viewportFrame;o=Math.round(o),a=Math.round(a),l=Math.round(l),u=Math.round(u),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(o,a,l,u)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],n),s&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}ub.extension={type:Q.RendererSystem,name:"renderTexture"};ie.add(ub);class gle{}class QO{constructor(e,n){this.program=e,this.uniformData=n,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function vle(t,e){const n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=HO(e,s.type),a={type:o,name:s.name,size:zO(o),location:e.getAttribLocation(t,s.name)};n[s.name]=a}return n}function yle(t,e){const n={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),l=HO(e,s.type);n[o]={name:o,index:i,type:l,size:s.size,isArray:a,value:LO(l,s.size)}}return n}function JO(t,e){var l;const n=bS(t,t.VERTEX_SHADER,e.vertexSrc),r=bS(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,n),t.attachShader(i,r);const s=(l=e.extra)==null?void 0:l.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||tle(t,i,n,r),e.attributeData=vle(i,t),e.uniformData=yle(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const u=Object.keys(e.attributeData);u.sort((c,h)=>c>h?1:-1);for(let c=0;c<u.length;c++)e.attributeData[u[c]].location=c,t.bindAttribLocation(i,c,u[c]);t.linkProgram(i)}t.deleteShader(n),t.deleteShader(r);const o={};for(const u in e.uniformData){const c=e.uniformData[u];o[u]={location:t.getUniformLocation(i,u),value:LO(c.type,c.size)}}return new QO(i,o)}function ble(t,e,n,r,i){n.buffer.update(i)}const xle={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},eI={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function tI(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let n=0,r=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(n=eI[o.data.type],o.data.size>1&&(n=Math.max(n,16)*o.data.size),o.dataLen=n,r%n!==0&&r<16){const a=r%n%16;r+=a,i+=a}r+n>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=n,r=n):(o.offset=i,r+=n,i+=n)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function nI(t,e){const n=[];for(const r in t)e[r]&&n.push(e[r]);return n.sort((r,i)=>r.index-i.index),n}function rI(t,e){if(!t.autoManage)return{size:0,syncFunc:ble};const n=nI(t.uniforms,e),{uboElements:r,size:i}=tI(n),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<r.length;o++){const a=r[o],l=t.uniforms[a.data.name],u=a.data.name;let c=!1;for(let h=0;h<fs.length;h++){const d=fs[h];if(d.codeUbo&&d.test(a.data,l)){s.push(`offset = ${a.offset/4};`,fs[h].codeUbo(a.data.name,l)),c=!0;break}}if(!c)if(a.data.size>1){const h=zO(a.data.type),d=Math.max(eI[a.data.type]/16,1),f=h/d,p=(4-f%4)%4;s.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*d}; i++)
                {
                    for(var j = 0; j < ${f}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${p};
                }

                `)}else{const h=xle[a.data.type];s.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${a.offset/4};
                ${h};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let wle=0;const Uc={textureCount:0,uboCount:0};class cb{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=wle++}systemCheck(){if(!GO())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,n){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const r=e.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),n||(Uc.textureCount=0,Uc.uboCount=0,this.syncUniformGroup(e.uniformGroup,Uc)),i}setUniforms(e){const n=this.shader.program,r=n.glPrograms[this.renderer.CONTEXT_UID];n.syncUniforms(r.uniformData,e,this.renderer)}syncUniformGroup(e,n){const r=this.getGlProgram();(!e.static||e.dirtyId!==r.uniformDirtyGroups[e.id])&&(r.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,n))}syncUniforms(e,n,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(n.uniformData,e.uniforms,this.renderer,r)}createSyncGroups(e){const n=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[n]||(this.cache[n]=Jae(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[n],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,n){const r=this.getGlProgram();if(!e.static||e.dirtyId!==0||!r.uniformGroups[e.id]){e.dirtyId=0;const i=r.uniformGroups[e.id]||this.createSyncBufferGroup(e,r,n);e.buffer.update(),i(r.uniformData,e.uniforms,this.renderer,Uc,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,r.uniformBufferBindings[n])}createSyncBufferGroup(e,n,r){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(n.program,r);n.uniformBufferBindings[r]=this.shader.uniformBindCount,i.uniformBlockBinding(n.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=rI(e,this.shader.program.uniformData)),e.autoManage){const l=new Float32Array(a.size/4);e.buffer.update(l)}return n.uniformGroups[e.id]=a.syncFunc,n.uniformGroups[e.id]}getSignature(e,n,r){const i=e.uniforms,s=[`${r}-`];for(const o in i)s.push(o),n[o]&&s.push(n[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const n=this.gl,r=e.program,i=JO(n,r);return r.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}cb.extension={type:Q.RendererSystem,name:"shader"};ie.add(cb);class hb{constructor(e){this.renderer=e}run(e){const n=this.renderer;n.emitWithCustomOptions(n.runners.init,e),e.hello&&console.log(`PixiJS 7.1.4 - ${n.rendererLogId} - https://pixijs.com`),n.resize(this.renderer.screen.width,this.renderer.screen.height)}destroy(){}}hb.extension={type:[Q.RendererSystem,Q.CanvasRendererSystem],name:"startup"};ie.add(hb);function _le(t,e=[]){return e[ae.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.ADD]=[t.ONE,t.ONE],e[ae.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.NONE]=[0,0],e[ae.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[ae.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[ae.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[ae.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ae.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[ae.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[ae.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[ae.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[ae.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ae.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const Ele=0,Sle=1,Cle=2,Tle=3,Ale=4,Ple=5,Dv=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=ae.NONE,this._blendEq=!1,this.map=[],this.map[Ele]=this.setBlend,this.map[Sle]=this.setOffset,this.map[Cle]=this.setCullFace,this.map[Tle]=this.setDepthTest,this.map[Ale]=this.setFrontFace,this.map[Ple]=this.setDepthMask,this.checks=[],this.defaultState=new Or,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=_le(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,n=0;for(;e;)e&1&&this.map[n].call(this,!!(t.data&1<<n)),e=e>>1,n++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(Dv.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(Dv.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],n=this.gl;e.length===2?n.blendFunc(e[0],e[1]):n.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,n.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const n=this.checks.indexOf(t);e&&n===-1?this.checks.push(t):!e&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let db=Dv;db.extension={type:Q.RendererSystem,name:"state"};ie.add(db);class iI extends Ci{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const n=(e.priority??[]).filter(i=>e.systems[i]),r=[...n,...Object.keys(e.systems).filter(i=>!n.includes(i))];for(const i of r)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(n=>{this.runners[n]=new dn(n)})}addSystem(e,n){const r=new e(this);if(this[n])throw new Error(`Whoops! The name "${n}" is already in use`);this[n]=r,this._systemsHash[n]=r;for(const i in this.runners)this.runners[i].add(r);return this}emitWithCustomOptions(e,n){const r=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=r.find(o=>this._systemsHash[o]===i);i[e.name](n[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const gh=class{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=gh.defaultMaxIdle,this.checkCountMax=gh.defaultCheckCountMax,this.mode=gh.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Df.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let n=!1;for(let r=0;r<e.length;r++){const i=e[r];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[r]=null,n=!0)}if(n){let r=0;for(let i=0;i<e.length;i++)e[i]!==null&&(e[r++]=e[i]);e.length=r}}unload(t){const e=this.renderer.texture,n=t._texture;n&&!n.framebuffer&&e.destroyTexture(n);for(let r=t.children.length-1;r>=0;r--)this.unload(t.children[r])}destroy(){this.renderer=null}};let Cn=gh;Cn.defaultMode=Df.AUTO;Cn.defaultMaxIdle=60*60;Cn.defaultCheckCountMax=60*10;Cn.extension={type:Q.RendererSystem,name:"textureGC"};ie.add(Cn);class vh{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=se.UNSIGNED_BYTE,this.internalFormat=X.RGBA,this.samplerType=0}}function Ole(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[se.UNSIGNED_BYTE]:{[X.RGBA]:t.RGBA8,[X.RGB]:t.RGB8,[X.RG]:t.RG8,[X.RED]:t.R8,[X.RGBA_INTEGER]:t.RGBA8UI,[X.RGB_INTEGER]:t.RGB8UI,[X.RG_INTEGER]:t.RG8UI,[X.RED_INTEGER]:t.R8UI,[X.ALPHA]:t.ALPHA,[X.LUMINANCE]:t.LUMINANCE,[X.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[se.BYTE]:{[X.RGBA]:t.RGBA8_SNORM,[X.RGB]:t.RGB8_SNORM,[X.RG]:t.RG8_SNORM,[X.RED]:t.R8_SNORM,[X.RGBA_INTEGER]:t.RGBA8I,[X.RGB_INTEGER]:t.RGB8I,[X.RG_INTEGER]:t.RG8I,[X.RED_INTEGER]:t.R8I},[se.UNSIGNED_SHORT]:{[X.RGBA_INTEGER]:t.RGBA16UI,[X.RGB_INTEGER]:t.RGB16UI,[X.RG_INTEGER]:t.RG16UI,[X.RED_INTEGER]:t.R16UI,[X.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[se.SHORT]:{[X.RGBA_INTEGER]:t.RGBA16I,[X.RGB_INTEGER]:t.RGB16I,[X.RG_INTEGER]:t.RG16I,[X.RED_INTEGER]:t.R16I},[se.UNSIGNED_INT]:{[X.RGBA_INTEGER]:t.RGBA32UI,[X.RGB_INTEGER]:t.RGB32UI,[X.RG_INTEGER]:t.RG32UI,[X.RED_INTEGER]:t.R32UI,[X.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[se.INT]:{[X.RGBA_INTEGER]:t.RGBA32I,[X.RGB_INTEGER]:t.RGB32I,[X.RG_INTEGER]:t.RG32I,[X.RED_INTEGER]:t.R32I},[se.FLOAT]:{[X.RGBA]:t.RGBA32F,[X.RGB]:t.RGB32F,[X.RG]:t.RG32F,[X.RED]:t.R32F,[X.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[se.HALF_FLOAT]:{[X.RGBA]:t.RGBA16F,[X.RGB]:t.RGB16F,[X.RG]:t.RG16F,[X.RED]:t.R16F},[se.UNSIGNED_SHORT_5_6_5]:{[X.RGB]:t.RGB565},[se.UNSIGNED_SHORT_4_4_4_4]:{[X.RGBA]:t.RGBA4},[se.UNSIGNED_SHORT_5_5_5_1]:{[X.RGBA]:t.RGB5_A1},[se.UNSIGNED_INT_2_10_10_10_REV]:{[X.RGBA]:t.RGB10_A2,[X.RGBA_INTEGER]:t.RGB10_A2UI},[se.UNSIGNED_INT_10F_11F_11F_REV]:{[X.RGB]:t.R11F_G11F_B10F},[se.UNSIGNED_INT_5_9_9_9_REV]:{[X.RGB]:t.RGB9_E5},[se.UNSIGNED_INT_24_8]:{[X.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[se.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[X.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[se.UNSIGNED_BYTE]:{[X.RGBA]:t.RGBA,[X.RGB]:t.RGB,[X.ALPHA]:t.ALPHA,[X.LUMINANCE]:t.LUMINANCE,[X.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[se.UNSIGNED_SHORT_5_6_5]:{[X.RGB]:t.RGB},[se.UNSIGNED_SHORT_4_4_4_4]:{[X.RGBA]:t.RGBA},[se.UNSIGNED_SHORT_5_5_5_1]:{[X.RGBA]:t.RGBA}},e}class fb{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new fe,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=Ole(e);const n=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=n;for(let i=0;i<n;i++)this.boundTextures[i]=null;this.emptyTextures={};const r=new vh(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new vh(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,n=0){const{gl:r}=this;if(e=e==null?void 0:e.castToBaseTexture(),e!=null&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[n]!==e&&(this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),r.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[n]=e}else this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[n]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:n,boundTextures:r}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<r.length;i++)r[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<r.length;i++)r[i]===e&&(this.currentLocation!==i&&(n.activeTexture(n.TEXTURE0+i),this.currentLocation=i),n.bindTexture(e.target,this.emptyTextures[e.target].texture),r[i]=null)}ensureSamplerType(e){const{boundTextures:n,hasIntegerTextures:r,CONTEXT_UID:i}=this;if(r)for(let s=e-1;s>=0;--s){const o=n[s];o&&o._glTextures[i].samplerType!==pd.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const n=new vh(this.gl.createTexture());return n.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=n,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),n}initTextureType(e,n){var r;n.internalFormat=((r=this.internalFormats[e.type])==null?void 0:r[e.format])??e.format,this.webGLVersion===2&&e.type===se.HALF_FLOAT?n.type=this.gl.HALF_FLOAT:n.type=e.type}updateTexture(e){var i;const n=e._glTextures[this.CONTEXT_UID];if(!n)return;const r=this.renderer;if(this.initTextureType(e,n),(i=e.resource)!=null&&i.upload(r,e,n))n.samplerType!==pd.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=r.gl;(n.width!==s||n.height!==o||n.dirtyId<0)&&(n.width=s,n.height=o,a.texImage2D(e.target,0,n.internalFormat,s,o,0,e.format,n.type,null))}e.dirtyStyleId!==n.dirtyStyleId&&this.updateTextureStyle(e),n.dirtyId=e.dirtyId}destroyTexture(e,n){const{gl:r}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!n)){const i=this.managedTextures.indexOf(e);i!==-1&&hs(this.managedTextures,i,1)}}updateTextureStyle(e){var r;const n=e._glTextures[this.CONTEXT_UID];n&&((e.mipmap===ar.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?n.mipmap=!1:n.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?n.wrapMode=Cr.CLAMP:n.wrapMode=e.wrapMode,(r=e.resource)!=null&&r.style(this.renderer,e,n)||this.setStyle(e,n),n.dirtyStyleId=e.dirtyStyleId)}setStyle(e,n){const r=this.gl;if(n.mipmap&&e.mipmap!==ar.ON_MANUAL&&r.generateMipmap(e.target),r.texParameteri(e.target,r.TEXTURE_WRAP_S,n.wrapMode),r.texParameteri(e.target,r.TEXTURE_WRAP_T,n.wrapMode),n.mipmap){r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===wr.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===wr.LINEAR){const s=Math.min(e.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===wr.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(e.target,r.TEXTURE_MAG_FILTER,e.scaleMode===wr.LINEAR?r.LINEAR:r.NEAREST)}destroy(){this.renderer=null}}fb.extension={type:Q.RendererSystem,name:"texture"};ie.add(fb);class pb{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glTransformFeedbacks[r]||this.createGLTransformFeedback(e);n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,n){const{gl:r,renderer:i}=this;n&&i.shader.bind(n),r.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:n,renderer:r,CONTEXT_UID:i}=this,s=n.createTransformFeedback();e._glTransformFeedbacks[i]=s,n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(r.buffer.update(a),a._glBuffers[i].refCount++,n.bindBufferBase(n.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,n){const r=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const l=a._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!n&&s.dispose(a,n))}r&&(n||i.deleteTransformFeedback(r),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}pb.extension={type:Q.RendererSystem,name:"transformFeedback"};ie.add(pb);class mb{constructor(e){this.renderer=e}init(e){this.screen=new me(0,0,e.width,e.height),this.element=e.view||ee.ADAPTER.createCanvas(),this.resolution=e.resolution||ee.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,n){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(n*this.resolution);const r=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=r,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${r}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",r,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var n;e&&((n=this.element.parentNode)==null||n.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}mb.extension={type:[Q.RendererSystem,Q.CanvasRendererSystem],name:"_view"};ie.add(mb);ee.PREFER_ENV=Bi.WEBGL2;ee.STRICT_TEXTURE_CACHE=!1;Object.defineProperties(ee,{WRAP_MODE:{get(){return fe.defaultOptions.wrapMode},set(t){be("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),fe.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return fe.defaultOptions.scaleMode},set(t){be("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),fe.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return fe.defaultOptions.mipmap},set(t){be("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),fe.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return fe.defaultOptions.anisotropicLevel},set(t){be("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),fe.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return be("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),gt.defaultResolution},set(t){gt.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return be("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),gt.defaultMultisample},set(t){gt.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return Sn.defaultMaxTextures},set(t){be("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Sn.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return Sn.defaultBatchSize},set(t){be("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Sn.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return Sn.canUploadSameBuffer},set(t){be("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Sn.canUploadSameBuffer=t}},GC_MODE:{get(){return Cn.defaultMode},set(t){be("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Cn.defaultMode=t}},GC_MAX_IDLE:{get(){return Cn.defaultMaxIdle},set(t){be("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Cn.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return Cn.defaultCheckCountMax},set(t){be("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Cn.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return Pn.defaultVertexPrecision},set(t){be("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Pn.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return Pn.defaultFragmentPrecision},set(t){be("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Pn.defaultFragmentPrecision=t}}});var Ai=(t=>(t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(Ai||{});class lm{constructor(e,n=null,r=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=n,this.priority=r,this.once=i}match(e,n=null){return this.fn===e&&this.context===n}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const n=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),n}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const n=this.next;return this.next=e?null:n,this.previous=null,n}}const Jt=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new lm(null,null,1/0),this.deltaMS=1/Jt.targetFPMS,this.elapsedMS=1/Jt.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,n=Ai.NORMAL){return this._addListener(new lm(t,e,n))}addOnce(t,e,n=Ai.NORMAL){return this._addListener(new lm(t,e,n,!0))}_addListener(t){let e=this._head.next,n=this._head;if(!e)t.connect(n);else{for(;e;){if(t.priority>e.priority){t.connect(n);break}n=e,e=e.next}t.previous||t.connect(n)}return this._startIfPossible(),this}remove(t,e){let n=this._head.next;for(;n;)n.match(t,e)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*Jt.targetFPMS;const n=this._head;let r=n.next;for(;r;)r=r.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,e)/1e3,Jt.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!Jt._shared){const t=Jt._shared=new Jt;t.autoStart=!0,t._protected=!0}return Jt._shared}static get system(){if(!Jt._system){const t=Jt._system=new Jt;t.autoStart=!0,t._protected=!0}return Jt._system}};let lt=Jt;lt.targetFPMS=.06;Object.defineProperties(ee,{TARGET_FPMS:{get(){return lt.targetFPMS},set(t){be("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),lt.targetFPMS=t}}});class gb{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,Ai.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?lt.shared:new lt,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}gb.extension=Q.Application;ie.add(gb);const sI=[];ie.handleByList(Q.Renderer,sI);function oI(t){for(const e of sI)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var Ile=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,kle=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const aI=Ile,vb=kle;class yb{constructor(e){this.renderer=e}contextChange(e){let n;if(this.renderer.context.webGLVersion===1){const r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else{const r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r)}n>=Ye.HIGH?this.multisample=Ye.HIGH:n>=Ye.MEDIUM?this.multisample=Ye.MEDIUM:n>=Ye.LOW?this.multisample=Ye.LOW:this.multisample=Ye.NONE}destroy(){}}yb.extension={type:Q.RendererSystem,name:"_multisample"};ie.add(yb);class Rle{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class bb{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);n.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:n}=this;n.bindBuffer(e,null)}bindBufferBase(e,n){const{gl:r,CONTEXT_UID:i}=this;if(this.boundBufferBases[n]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[n]=e,r.bindBufferBase(r.UNIFORM_BUFFER,n,s.buffer)}}bindBufferRange(e,n,r){const{gl:i,CONTEXT_UID:s}=this;r=r||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,n||0,o.buffer,r*256,256)}update(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,n.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)n.bufferSubData(e.type,0,e.data);else{const s=e.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,n.bufferData(e.type,e.data,s)}}dispose(e,n){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const r=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),r&&(n||i.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const n=Object.keys(this.managedBuffers);for(let r=0;r<n.length;r++)this.dispose(this.managedBuffers[n[r]],e)}createGLBuffer(e){const{CONTEXT_UID:n,gl:r}=this;return e._glBuffers[n]=new Rle(r.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[n]}}bb.extension={type:Q.RendererSystem,name:"buffer"};ie.add(bb);class xb{constructor(e){this.renderer=e}render(e,n){const r=this.renderer;let i,s,o,a;if(n&&(i=n.renderTexture,s=n.clear,o=n.transform,a=n.skipUpdateTransform),this.renderingToScreen=!i,r.runners.prerender.emit(),r.emit("prerender"),r.projection.transform=o,!r.context.isLost){if(i||(this.lastObjectRendered=e),!a){const l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}r.renderTexture.bind(i),r.batch.currentRenderer.start(),(s??r.background.clearBeforeRender)&&r.renderTexture.clear(),e.render(r),r.batch.currentRenderer.flush(),i&&(n.blit&&r.framebuffer.blit(),i.baseTexture.update()),r.runners.postrender.emit(),r.projection.transform=null,r.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}xb.extension={type:Q.RendererSystem,name:"objectRenderer"};ie.add(xb);const $v=class extends iI{constructor(t){super(),this.type=L1.WEBGL,t=Object.assign({},ee.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new kn({projectionMatrix:new je},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:$v.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(be("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha);const n={hello:t.hello,_plugin:$v.__plugins,background:{alpha:t.backgroundAlpha,color:t.background??t.backgroundColor,clearBeforeRender:t.clearBeforeRender},_view:{height:t.height,width:t.width,autoDensity:t.autoDensity,resolution:t.resolution,view:t.view},context:{antialias:t.antialias,context:t.context,powerPreference:t.powerPreference,premultipliedAlpha:t.premultipliedAlpha,preserveDrawingBuffer:t.preserveDrawingBuffer}};this.options=t,this.startup.run(n)}static test(t){return t!=null&&t.forceCanvas?!1:TO()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return be("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return be("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return be("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return be("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){be("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return be("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.color}set backgroundAlpha(t){be("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return be("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};let $s=$v;$s.extension={type:Q.Renderer,priority:1};$s.__plugins={};$s.__systems={};ie.handleByMap(Q.RendererPlugin,$s.__plugins);ie.handleByMap(Q.RendererSystem,$s.__systems);ie.add($s);class wb extends ia{constructor(e,n){const{width:r,height:i}=n||{};super(r,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new fe;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,n){for(let r=0;r<this.length;r++)e[r]&&(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof ia?this.addResourceAt(e[r],r):this.addResourceAt(G1(e[r],n),r))}dispose(){for(let e=0,n=this.length;e<n;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,n){if(!this.items[n])throw new Error(`Index ${n} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[n].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let n=0;n<this.length;n++)this.items[n].parentTextureArray=e,this.items[n].on("update",e.update,e)}unbind(e){super.unbind(e);for(let n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",e.update,e)}load(){if(this._load)return this._load;const n=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(n).then(()=>{const{realWidth:r,realHeight:i}=this.items[0];return this.resize(r,i),Promise.resolve(this)}),this._load}}class lI extends wb{constructor(e,n){const{width:r,height:i}=n||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:r,height:i}),s&&this.initFromArray(s,n)}addBaseTextureAt(e,n){if(e.resource)this.addResourceAt(e.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=cs.TEXTURE_2D_ARRAY}upload(e,n,r){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=e;r.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,i,0,n.format,r.type,null);for(let l=0;l<i;l++){const u=o[l];s[l]<u.dirtyId&&(s[l]=u.dirtyId,u.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,l,u.resource.width,u.resource.height,1,n.format,r.type,u.resource.source))}return!0}}class uI extends Yr{constructor(e){super(e)}static test(e){const{OffscreenCanvas:n}=globalThis;return n&&e instanceof n?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const dl=class extends wb{constructor(t,e){const{width:n,height:r,autoLoad:i,linkBaseTexture:s}=e||{};if(t&&t.length!==dl.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:n,height:r});for(let o=0;o<dl.SIDES;o++)this.items[o].target=cs.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=s!==!1,t&&this.initFromArray(t,e),i!==!1&&this.load()}bind(t){super.bind(t),t.target=cs.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=cs.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,n){const r=this.itemDirtyIds;for(let i=0;i<dl.SIDES;i++){const s=this.items[i];(r[i]<s.dirtyId||n.dirtyId<e.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(t,s,n),r[i]=s.dirtyId):r[i]<-1&&(t.gl.texImage2D(s.target,0,n.internalFormat,e.realWidth,e.realHeight,0,e.format,n.type,null),r[i]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===dl.SIDES}};let _b=dl;_b.SIDES=6;class ns extends Yr{constructor(e,n){n=n||{};let r,i;typeof e=="string"?(r=ns.EMPTY,i=e):(r=e,i=null),super(r),this.url=i,this.crossOrigin=n.crossOrigin??!0,this.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,this._load=null,n.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,n)=>{if(this.url===null){e(this);return}try{const r=await ee.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await r.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===$n.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),e(this)}catch(r){if(this.destroyed)return;n(r),this.onError.emit(r)}}),this._load)}upload(e,n,r){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),super.upload(e,n,r)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return ns._EMPTY=ns._EMPTY??ee.ADAPTER.createCanvas(0,0),ns._EMPTY}}const yh=class extends Yr{constructor(t,e){e=e||{},super(ee.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),t(this)},yh.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;Yr.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,n=t.height;if(!e||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let r=e*this.scale,i=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(r=this._overrideWidth||this._overrideHeight/n*e,i=this._overrideHeight||this._overrideWidth/e*n),r=Math.round(r),i=Math.round(i);const s=this.source;s.width=r,s.height=i,s._pixiId=`canvas_${Ti()}`,s.getContext("2d").drawImage(t,0,0,e,n,0,0,r,i),this._resolve(),this._resolve=null}}static getSize(t){const e=yh.SVG_SIZE.exec(t),n={};return e&&(n[e[1]]=Math.round(parseFloat(e[3])),n[e[5]]=Math.round(parseFloat(e[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&yh.SVG_XML.test(t)}};let aa=yh;aa.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;aa.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const Bv=class extends Yr{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const n=document.createElement("video");n.setAttribute("preload","auto"),n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);const r=t[0].src||t[0];Yr.crossOrigin(n,r,e.crossorigin);for(let i=0;i<t.length;++i){const s=document.createElement("source");let{src:o,mime:a}=t[i];o=o||t[i];const l=o.split("?").shift().toLowerCase(),u=l.slice(l.lastIndexOf(".")+1);a=a||Bv.MIME_TYPES[u]||`video/${u}`,s.src=o,s.type=a,n.appendChild(s)}t=n}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){const e=lt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(lt.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(lt.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._isConnectedToTicker&&(lt.shared.remove(this.update,this),this._isConnectedToTicker=!1);const t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(lt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(lt.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t)}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||Bv.TYPES.includes(e)}};let Gf=Bv;Gf.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];Gf.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};yd.push(ns,K1,uI,Gf,aa,Pa,_b,lI);class Mle{constructor(){this._glTransformFeedbacks={},this.buffers=[],this.disposeRunner=new dn("disposeTransformFeedback")}bindBuffer(e,n){this.buffers[e]=n}destroy(){this.disposeRunner.emit(this,!1)}}const Fle="7.1.4";class du{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?me.EMPTY:(e=e||new me(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,n){const{a:r,b:i,c:s,d:o,tx:a,ty:l}=e,u=r*n.x+s*n.y+a,c=i*n.x+o*n.y+l;this.minX=Math.min(this.minX,u),this.maxX=Math.max(this.maxX,u),this.minY=Math.min(this.minY,c),this.maxY=Math.max(this.maxY,c)}addQuad(e){let n=this.minX,r=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],n=o<n?o:n,r=a<r?a:r,i=o>i?o:i,s=a>s?a:s,this.minX=n,this.minY=r,this.maxX=i,this.maxY=s}addFrame(e,n,r,i,s){this.addFrameMatrix(e.worldTransform,n,r,i,s)}addFrameMatrix(e,n,r,i,s){const o=e.a,a=e.b,l=e.c,u=e.d,c=e.tx,h=e.ty;let d=this.minX,f=this.minY,p=this.maxX,m=this.maxY,g=o*n+l*r+c,v=a*n+u*r+h;d=g<d?g:d,f=v<f?v:f,p=g>p?g:p,m=v>m?v:m,g=o*i+l*r+c,v=a*i+u*r+h,d=g<d?g:d,f=v<f?v:f,p=g>p?g:p,m=v>m?v:m,g=o*n+l*s+c,v=a*n+u*s+h,d=g<d?g:d,f=v<f?v:f,p=g>p?g:p,m=v>m?v:m,g=o*i+l*s+c,v=a*i+u*s+h,d=g<d?g:d,f=v<f?v:f,p=g>p?g:p,m=v>m?v:m,this.minX=d,this.minY=f,this.maxX=p,this.maxY=m}addVertexData(e,n,r){let i=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let l=n;l<r;l+=2){const u=e[l],c=e[l+1];i=u<i?u:i,s=c<s?c:s,o=u>o?u:o,a=c>a?c:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,n,r,i){this.addVerticesMatrix(e.worldTransform,n,r,i)}addVerticesMatrix(e,n,r,i,s=0,o=s){const a=e.a,l=e.b,u=e.c,c=e.d,h=e.tx,d=e.ty;let f=this.minX,p=this.minY,m=this.maxX,g=this.maxY;for(let v=r;v<i;v+=2){const b=n[v],y=n[v+1],x=a*b+u*y+h,S=c*y+l*b+d;f=Math.min(f,x-s),m=Math.max(m,x+s),p=Math.min(p,S-o),g=Math.max(g,S+o)}this.minX=f,this.minY=p,this.maxX=m,this.maxY=g}addBounds(e){const n=this.minX,r=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<n?e.minX:n,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,n){const r=e.minX>n.minX?e.minX:n.minX,i=e.minY>n.minY?e.minY:n.minY,s=e.maxX<n.maxX?e.maxX:n.maxX,o=e.maxY<n.maxY?e.maxY:n.maxY;if(r<=s&&i<=o){const a=this.minX,l=this.minY,u=this.maxX,c=this.maxY;this.minX=r<a?r:a,this.minY=i<l?i:l,this.maxX=s>u?s:u,this.maxY=o>c?o:c}}addBoundsMatrix(e,n){this.addFrameMatrix(n,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,n){const r=e.minX>n.x?e.minX:n.x,i=e.minY>n.y?e.minY:n.y,s=e.maxX<n.x+n.width?e.maxX:n.x+n.width,o=e.maxY<n.y+n.height?e.maxY:n.y+n.height;if(r<=s&&i<=o){const a=this.minX,l=this.minY,u=this.maxX,c=this.maxY;this.minX=r<a?r:a,this.minY=i<l?i:l,this.maxX=s>u?s:u,this.maxY=o>c?o:c}}pad(e=0,n=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=n,this.maxY+=n)}addFramePad(e,n,r,i,s,o){e-=s,n-=o,r+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<n?this.minY:n,this.maxY=this.maxY>i?this.maxY:i}}class Ve extends Ci{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Vu,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new du,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const n=Object.keys(e);for(let r=0;r<n.length;++r){const i=n[r];Object.defineProperty(Ve.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,n){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new me),n=this._boundsRect),this._bounds.getRectangle(n)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new me),e=this._localBoundsRect),this._localBounds||(this._localBounds=new du);const n=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=r,this.transform=n,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,n,r=!1){return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,n)}toLocal(e,n,r,i){return n&&(e=n.toGlobal(e,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,n=0,r=1,i=1,s=0,o=0,a=0,l=0,u=0){return this.position.x=e,this.position.y=n,this.scale.x=r||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=l,this.pivot.y=u,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new cI),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*DO}set angle(e){this.transform.rotation=e*$O}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1))}if(this._mask=e,this._mask){const n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++)}}}}class cI extends Ve{constructor(){super(...arguments),this.sortDirty=null}}Ve.prototype.displayObjectUpdateTransform=Ve.prototype.updateTransform;const Dle=new je;function $le(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const Nv=class extends Ve{constructor(){super(),this.children=[],this.sortableChildren=Nv.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const n=this.getChildIndex(t),r=this.getChildIndex(e);this.children[n]=e,this.children[r]=t,this.onChildrenChange(n<r?n:r)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(t);hs(this.children,n,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],n=this.children.indexOf(e);if(n===-1)return null;e.parent=null,e.transform._parentID=-1,hs(this.children,n,1),this._boundsID++,this.onChildrenChange(n),e.emit("removed",this),this.emit("childRemoved",e,this,n)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,hs(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const n=t,r=e,i=r-n;let s;if(i>0&&i<=r){s=this.children.splice(n,i);for(let o=0;o<s.length;++o)s[o].parent=null,s[o].transform&&(s[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let o=0;o<s.length;++o)s[o].emit("removed",this),this.emit("childRemoved",s[o],this,o);return s}else if(i===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,n=this.children.length;e<n;++e){const r=this.children[e];r._lastSortedIndex=e,!t&&r.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort($le),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const n=this.children[t];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const n=e._mask.isMaskData?e._mask.maskObject:e._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(e._bounds,n._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const n=super.getLocalBounds(t);if(!e)for(let r=0,i=this.children.length;r<i;++r){const s=this.children[r];s.visible&&s.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let n,r;this.cullArea?(n=this.cullArea,r=this.worldTransform):this._render!==Nv.prototype._render&&(n=this.getBounds(!0));const i=t.projection.transform;if(i&&(r?(r=Dle.copyFrom(r),r.prepend(i)):r=i),n&&e.intersects(n,r))this._render(t);else if(this.cullArea)return;for(let s=0,o=this.children.length;s<o;++s){const a=this.children[s],l=a.cullable;a.cullable=l||!this.cullArea,a.render(t),a.cullable=l}}render(t){var e;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(e=this.filters)!=null&&e.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let n=0,r=this.children.length;n<r;++n)this.children[n].render(t)}}renderAdvanced(t){var i,s,o;const e=this.filters,n=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let a=0;a<e.length;a++)e[a].enabled&&this._enabledFilters.push(e[a])}const r=e&&((i=this._enabledFilters)==null?void 0:i.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==st.NONE));if(r&&t.batch.flush(),e&&((s=this._enabledFilters)!=null&&s.length)&&t.filter.push(this,this._enabledFilters),n&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let a=0,l=this.children.length;a<l;++a)this.children[a].render(t)}r&&t.batch.flush(),n&&t.mask.pop(this),e&&((o=this._enabledFilters)!=null&&o.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t==null?void 0:t.children,n=this.removeChildren(0,this.children.length);if(e)for(let r=0;r<n.length;++r)n[r].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};let Bt=Nv;Bt.defaultSortableChildren=!1;Bt.prototype.containerUpdateTransform=Bt.prototype.updateTransform;Object.defineProperties(ee,{SORTABLE_CHILDREN:{get(){return Bt.defaultSortableChildren},set(t){be("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),Bt.defaultSortableChildren=t}}});const Za=new oe,Ble=new Uint16Array([0,1,2,0,2,3]);class Ni extends Bt{constructor(e){super(),this._anchor=new Nr(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=ae.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||J.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=Ble,this.pluginName="batch",this.isSprite=!0,this._roundPixels=ee.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=ts(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=ts(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const n=this.transform.worldTransform,r=n.a,i=n.b,s=n.c,o=n.d,a=n.tx,l=n.ty,u=this.vertexData,c=e.trim,h=e.orig,d=this._anchor;let f=0,p=0,m=0,g=0;if(c?(p=c.x-d._x*h.width,f=p+c.width,g=c.y-d._y*h.height,m=g+c.height):(p=-d._x*h.width,f=p+h.width,g=-d._y*h.height,m=g+h.height),u[0]=r*p+s*g+a,u[1]=o*g+i*p+l,u[2]=r*f+s*g+a,u[3]=o*g+i*f+l,u[4]=r*f+s*m+a,u[5]=o*m+i*f+l,u[6]=r*p+s*m+a,u[7]=o*m+i*p+l,this._roundPixels){const v=ee.RESOLUTION;for(let b=0;b<u.length;++b)u[b]=Math.round(u[b]*v)/v}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,n=this.vertexTrimmedData,r=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,l=s.c,u=s.d,c=s.tx,h=s.ty,d=-i._x*r.width,f=d+r.width,p=-i._y*r.height,m=p+r.height;n[0]=o*d+l*p+c,n[1]=u*p+a*d+h,n[2]=o*f+l*p+c,n[3]=u*p+a*f+h,n[4]=o*f+l*m+c,n[5]=u*m+a*f+h,n[6]=o*d+l*m+c,n[7]=u*m+a*d+h}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,n=this._texture.orig;!e||e.width===n.width&&e.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new du),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new me),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Za);const n=this._texture.orig.width,r=this._texture.orig.height,i=-n*this.anchor.x;let s=0;return Za.x>=i&&Za.x<i+n&&(s=-r*this.anchor.y,Za.y>=s&&Za.y<s+r)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,n){const r=e instanceof J?e:J.from(e,n);return new Ni(r)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const n=ts(this.scale.x)||1;this.scale.x=n*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const n=ts(this.scale.y)||1;this.scale.y=n*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tint}set tint(e){this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16)}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||J.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const hI=new je;Ve.prototype._cacheAsBitmap=!1;Ve.prototype._cacheData=null;Ve.prototype._cacheAsBitmapResolution=null;Ve.prototype._cacheAsBitmapMultisample=null;class Nle{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Ve.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new Nle),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});Ve.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};Ve.prototype._initCachedDisplayObject=function(e){var d,f;if((d=this._cacheData)!=null&&d.sprite)return;const n=this.alpha;this.alpha=1,e.batch.flush();const r=this.getLocalBounds(null,!0).clone();if((f=this.filters)!=null&&f.length){const p=this.filters[0].padding;r.pad(p)}r.ceil(ee.RESOLUTION);const i=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),o=e.renderTexture.destinationFrame.clone(),a=e.projection.transform,l=qr.create({width:r.width,height:r.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:this.cacheAsBitmapMultisample??e.multisample}),u=`cacheAsBitmap_${Ti()}`;this._cacheData.textureCacheId=u,fe.addToCache(l.baseTexture,u),J.addToCache(l,u);const c=this.transform.localTransform.copyTo(hI).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:l,clear:!0,transform:c,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=a,e.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;const h=new Ni(l);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(r.x/r.width),h.anchor.y=-(r.y/r.height),h.alpha=n,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=h.containsPoint.bind(h)};Ve.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};Ve.prototype._initCachedDisplayObjectCanvas=function(e){var c;if((c=this._cacheData)!=null&&c.sprite)return;const n=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;const i=e.canvasContext.activeContext,s=e._projTransform;n.ceil(ee.RESOLUTION);const o=qr.create({width:n.width,height:n.height}),a=`cacheAsBitmap_${Ti()}`;this._cacheData.textureCacheId=a,fe.addToCache(o.baseTexture,a),J.addToCache(o,a);const l=hI;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=n.x,l.ty-=n.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:l,skipUpdateTransform:!1}),e.canvasContext.activeContext=i,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const u=new Ni(o);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-(n.x/n.width),u.anchor.y=-(n.y/n.height),u.alpha=r,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)};Ve.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Ve.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Ve.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,fe.removeFromCache(this._cacheData.textureCacheId),J.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Ve.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};Ve.prototype.name=null;Bt.prototype.getChildByName=function(e,n){for(let r=0,i=this.children.length;r<i;r++)if(this.children[r].name===e)return this.children[r];if(n)for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r];if(!s.getChildByName)continue;const o=s.getChildByName(e,!0);if(o)return o}return null};Ve.prototype.getGlobalPosition=function(e=new oe,n=!1){return this.parent?this.parent.toGlobal(this.position,e,n):(e.x=this.position.x,e.y=this.position.y),e};var Lle=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class dI extends gt{constructor(e=1){super(aI,Lle,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const Ule={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},jle=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function zle(t){const e=Ule[t],n=e.length;let r=jle,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let l=s.replace("%index%",a.toString());o=a,a>=n&&(o=t-a-1),l=l.replace("%value%",e[o].toString()),i+=l,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",t.toString()),r}const Hle=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function Gle(t,e){const n=Math.ceil(t/2);let r=Hle,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(n-1)}.0`),i+=a,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",t.toString()),r}class _d extends gt{constructor(e,n=8,r=4,i=gt.defaultResolution,s=5){const o=Gle(s,e),a=zle(s);super(o,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=r,this.blur=n}apply(e,n,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/n.width):this.uniforms.strength=1/r.height*(r.height/n.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/n.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,n,r,i);else{const s=e.getFilterTexture(),o=e.renderer;let a=n,l=s;this.state.blend=!1,e.applyFilter(this,a,l,Yn.CLEAR);for(let u=1;u<this.passes-1;u++){e.bindAndClear(a,Yn.BLIT),this.uniforms.uSampler=l;const c=l;l=a,a=c,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,l,r,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class fI extends gt{constructor(e=8,n=4,r=gt.defaultResolution,i=5){super(),this.blurXFilter=new _d(!0,e,n,r,i),this.blurYFilter=new _d(!1,e,n,r,i),this.resolution=r,this.quality=n,this.blur=e,this.repeatEdgePixels=!1}apply(e,n,r,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,n,a,Yn.CLEAR),this.blurYFilter.apply(e,a,r,i),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,n,r,i):this.blurXFilter.apply(e,n,r,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var Wle=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class Ed extends gt{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(vb,Wle,e),this.alpha=1}_loadMatrix(e,n=!1){let r=e;n&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r}_multiply(e,n,r){return e[0]=n[0]*r[0]+n[1]*r[5]+n[2]*r[10]+n[3]*r[15],e[1]=n[0]*r[1]+n[1]*r[6]+n[2]*r[11]+n[3]*r[16],e[2]=n[0]*r[2]+n[1]*r[7]+n[2]*r[12]+n[3]*r[17],e[3]=n[0]*r[3]+n[1]*r[8]+n[2]*r[13]+n[3]*r[18],e[4]=n[0]*r[4]+n[1]*r[9]+n[2]*r[14]+n[3]*r[19]+n[4],e[5]=n[5]*r[0]+n[6]*r[5]+n[7]*r[10]+n[8]*r[15],e[6]=n[5]*r[1]+n[6]*r[6]+n[7]*r[11]+n[8]*r[16],e[7]=n[5]*r[2]+n[6]*r[7]+n[7]*r[12]+n[8]*r[17],e[8]=n[5]*r[3]+n[6]*r[8]+n[7]*r[13]+n[8]*r[18],e[9]=n[5]*r[4]+n[6]*r[9]+n[7]*r[14]+n[8]*r[19]+n[9],e[10]=n[10]*r[0]+n[11]*r[5]+n[12]*r[10]+n[13]*r[15],e[11]=n[10]*r[1]+n[11]*r[6]+n[12]*r[11]+n[13]*r[16],e[12]=n[10]*r[2]+n[11]*r[7]+n[12]*r[12]+n[13]*r[17],e[13]=n[10]*r[3]+n[11]*r[8]+n[12]*r[13]+n[13]*r[18],e[14]=n[10]*r[4]+n[11]*r[9]+n[12]*r[14]+n[13]*r[19]+n[14],e[15]=n[15]*r[0]+n[16]*r[5]+n[17]*r[10]+n[18]*r[15],e[16]=n[15]*r[1]+n[16]*r[6]+n[17]*r[11]+n[18]*r[16],e[17]=n[15]*r[2]+n[16]*r[7]+n[17]*r[12]+n[18]*r[17],e[18]=n[15]*r[3]+n[16]*r[8]+n[17]*r[13]+n[18]*r[18],e[19]=n[15]*r[4]+n[16]*r[9]+n[17]*r[14]+n[18]*r[19]+n[19],e}_colorMatrix(e){const n=new Float32Array(e);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n}brightness(e,n){const r=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(r,n)}tint(e,n){const r=e>>16&255,i=e>>8&255,s=e&255,o=[r/255,0,0,0,0,0,i/255,0,0,0,0,0,s/255,0,0,0,0,0,1,0];this._loadMatrix(o,n)}greyscale(e,n){const r=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(r,n)}blackAndWhite(e){const n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,e)}hue(e,n){e=(e||0)/180*Math.PI;const r=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),l=r+(1-r)*o,u=o*(1-r)-a*i,c=o*(1-r)+a*i,h=o*(1-r)+a*i,d=r+o*(1-r),f=o*(1-r)-a*i,p=o*(1-r)-a*i,m=o*(1-r)+a*i,g=r+o*(1-r),v=[l,u,c,0,0,h,d,f,0,0,p,m,g,0,0,0,0,0,1,0];this._loadMatrix(v,n)}contrast(e,n){const r=(e||0)+1,i=-.5*(r-1),s=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(s,n)}saturate(e=0,n){const r=e*2/3+1,i=(r-1)*-.5,s=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(s,n)}desaturate(){this.saturate(-1)}negative(e){const n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,e)}sepia(e){const n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,e)}technicolor(e){const n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,e)}polaroid(e){const n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,e)}toBGR(e){const n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,e)}kodachrome(e){const n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,e)}browni(e){const n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,e)}vintage(e){const n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,e)}colorTone(e,n,r,i,s){e=e||.2,n=n||.15,r=r||16770432,i=i||3375104;const o=(r>>16&255)/255,a=(r>>8&255)/255,l=(r&255)/255,u=(i>>16&255)/255,c=(i>>8&255)/255,h=(i&255)/255,d=[.3,.59,.11,0,0,o,a,l,e,0,u,c,h,n,0,o-u,a-c,l-h,0,0];this._loadMatrix(d,s)}night(e,n){e=e||.1;const r=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(r,n)}predator(e,n){const r=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(r,n)}lsd(e){const n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}Ed.prototype.grayscale=Ed.prototype.greyscale;var Vle=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,Xle=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class pI extends gt{constructor(e,n){const r=new je;e.renderable=!1,super(Xle,Vle,{mapSampler:e._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=r,n==null&&(n=20),this.scale=new oe(n,n)}apply(e,n,r,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,n,r,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var Yle=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,qle=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class mI extends gt{constructor(){super(qle,Yle)}}var Kle=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class gI extends gt{constructor(e=.5,n=Math.random()){super(vb,Kle,{uNoise:0,uSeed:0}),this.noise=e,this.seed=n}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const Lv={AlphaFilter:dI,BlurFilter:fI,BlurFilterPass:_d,ColorMatrixFilter:Ed,DisplacementFilter:pI,FXAAFilter:mI,NoiseFilter:gI};Object.entries(Lv).forEach(([t,e])=>{Object.defineProperty(Lv,t,{get(){return be("7.1.0",`filters.${t} has moved to ${t}`),e}})});class Oa{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Oa.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new oe,this.page=new oe,this.AT_TARGET=1,this.BUBBLING_PHASE=2,this.CAPTURING_PHASE=3,this.NONE=0,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,n,r){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,n,r,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class fu extends Oa{constructor(){super(...arguments),this.client=new oe,this.movement=new oe,this.offset=new oe,this.global=new oe,this.screen=new oe}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,n,r,i,s,o,a,l,u,c,h,d,f,p,m){throw new Error("Method not implemented.")}}class xn extends fu{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Ss extends fu{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Ss.DOM_DELTA_PIXEL=0;Ss.DOM_DELTA_LINE=1;Ss.DOM_DELTA_PAGE=2;const Zle=2048,Qle=new oe,um=new oe;class vI{constructor(e){this.dispatch=new Ci,this.moveOnAll=!1,this.mappingState={trackingData:{}},this.eventPool=new Map,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,n){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:n,priority:0}),this.mappingTable[e].sort((r,i)=>r.priority-i.priority)}dispatchEvent(e,n){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,n),this.dispatch.emit(n||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const n=this.mappingTable[e.type];if(n)for(let r=0,i=n.length;r<i;r++)n[r].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,n){const r=this.hitTestRecursive(this.rootTarget,this.rootTarget.interactive,Qle.set(e,n),this.hitTestFn,this.hitPruneFn);return r&&r[0]}propagate(e,n){if(!e.target)return;const r=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=r.length-1;i<s;i++)if(e.currentTarget=r[i],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,n),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=r.length-2;i>=0;i--)if(e.currentTarget=r[i],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,n,r=this.rootTarget){e.eventPhase=e.BUBBLING_PHASE;const i=r.children;if(i)for(let s=0;s<i.length;s++)this.all(e,n,i[s]);e.currentTarget=r,this.notifyTarget(e,n)}propagationPath(e){const n=[e];for(let r=0;r<Zle&&e!==this.rootTarget;r++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");n.push(e.parent),e=e.parent}return n.reverse(),n}hitTestRecursive(e,n,r,i,s){if(!e||!e.visible||s(e,r))return null;if(e.interactiveChildren&&e.children){const o=e.children;for(let a=o.length-1;a>=0;a--){const l=o[a],u=this.hitTestRecursive(l,n||l.interactive,r,i,s);if(u){if(u.length>0&&!u[u.length-1].parent)continue;return(u.length>0||e.interactive)&&u.push(e),u}}}return n&&i(e,r)?e.interactive?[e]:[]:null}hitPruneFn(e,n){var r;if(e.hitArea&&(e.worldTransform.applyInverse(n,um),!e.hitArea.contains(um.x,um.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((r=i.containsPoint)!=null&&r.call(i,n)))return!0}return!1}hitTestFn(e,n){return e.hitArea?!0:e.containsPoint?e.containsPoint(n):!1}notifyTarget(e,n){var s,o;n=n??e.type;const r=`on${n}`;(o=(s=e.currentTarget)[r])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${n}capture`:n;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,n)}mapPointerDown(e){if(!(e instanceof xn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerdown"),n.pointerType==="touch")this.dispatchEvent(n,"touchstart");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const i=n.button===2;this.dispatchEvent(n,i?"rightdown":"mousedown")}const r=this.trackingData(e.pointerId);r.pressTargetsByButton[e.button]=n.composedPath(),this.freeEvent(n)}mapPointerMove(e){var a,l;if(!(e instanceof xn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.createPointerEvent(e),r=n.pointerType==="mouse"||n.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((a=i.overTargets)==null?void 0:a.length)>0&&s!==n.target){const u=e.type==="mousemove"?"mouseout":"pointerout",c=this.createPointerEvent(e,u,s);if(this.dispatchEvent(c,"pointerout"),r&&this.dispatchEvent(c,"mouseout"),!n.composedPath().includes(s)){const h=this.createPointerEvent(e,"pointerleave",s);for(h.eventPhase=h.AT_TARGET;h.target&&!n.composedPath().includes(h.target);)h.currentTarget=h.target,this.notifyTarget(h),r&&this.notifyTarget(h,"mouseleave"),h.target=h.target.parent;this.freeEvent(h)}this.freeEvent(c)}if(s!==n.target){const u=e.type==="mousemove"?"mouseover":"pointerover",c=this.clonePointerEvent(n,u);this.dispatchEvent(c,"pointerover"),r&&this.dispatchEvent(c,"mouseover");let h=s==null?void 0:s.parent;for(;h&&h!==this.rootTarget.parent&&h!==n.target;)h=h.parent;if(!h||h===this.rootTarget.parent){const f=this.clonePointerEvent(n,"pointerenter");for(f.eventPhase=f.AT_TARGET;f.target&&f.target!==s&&f.target!==this.rootTarget.parent;)f.currentTarget=f.target,this.notifyTarget(f),r&&this.notifyTarget(f,"mouseenter"),f.target=f.target.parent;this.freeEvent(f)}this.freeEvent(c)}const o=this.moveOnAll?"all":"dispatchEvent";this[o](n,"pointermove"),this.all(n,"globalpointermove"),n.pointerType==="touch"&&(this[o](n,"touchmove"),this.all(n,"globaltouchmove")),r&&(this[o](n,"mousemove"),this.all(n,"globalmousemove"),this.cursor=(l=n.target)==null?void 0:l.cursor),i.overTargets=n.composedPath(),this.freeEvent(n)}mapPointerOver(e){var o;if(!(e instanceof xn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId),r=this.createPointerEvent(e),i=r.pointerType==="mouse"||r.pointerType==="pen";this.dispatchEvent(r,"pointerover"),i&&this.dispatchEvent(r,"mouseover"),r.pointerType==="mouse"&&(this.cursor=(o=r.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(r,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;n.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof xn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId);if(n.overTargets){const r=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(n.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),r&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),r&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;n.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof xn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=performance.now(),r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerup"),r.pointerType==="touch")this.dispatchEvent(r,"touchend");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const a=r.button===2;this.dispatchEvent(r,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!r.composedPath().includes(s)){let a=s;for(;a&&!r.composedPath().includes(a);){if(r.currentTarget=a,this.notifyTarget(r,"pointerupoutside"),r.pointerType==="touch")this.notifyTarget(r,"touchendoutside");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const l=r.button===2;this.notifyTarget(r,l?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(r,"click");a.target=o,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:n});const l=i.clicksByButton[e.button];if(l.target===a.target&&n-l.timeStamp<200?++l.clickCount:l.clickCount=1,l.target=a.target,l.timeStamp=n,a.detail=l.clickCount,a.pointerType==="mouse"){const u=a.button===2;this.dispatchEvent(a,u?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(r)}mapPointerUpOutside(e){if(!(e instanceof xn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId),r=this.findMountedTarget(n.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(r){let s=r;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete n.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof Ss)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const n=this.createWheelEvent(e);this.dispatchEvent(n),this.freeEvent(n)}findMountedTarget(e){if(!e)return null;let n=e[0];for(let r=1;r<e.length&&e[r].parent===n;r++)n=e[r];return n}createPointerEvent(e,n,r){const i=this.allocateEvent(xn);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=r??this.hitTest(i.global.x,i.global.y),typeof n=="string"&&(i.type=n),i}createWheelEvent(e){const n=this.allocateEvent(Ss);return this.copyWheelData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.nativeEvent=e.nativeEvent,n.originalEvent=e,n.target=this.hitTest(n.global.x,n.global.y),n}clonePointerEvent(e,n){const r=this.allocateEvent(xn);return r.nativeEvent=e.nativeEvent,r.originalEvent=e.originalEvent,this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.target=e.target,r.path=e.composedPath().slice(),r.type=n??r.type,r}copyWheelData(e,n){n.deltaMode=e.deltaMode,n.deltaX=e.deltaX,n.deltaY=e.deltaY,n.deltaZ=e.deltaZ}copyPointerData(e,n){e instanceof xn&&n instanceof xn&&(n.pointerId=e.pointerId,n.width=e.width,n.height=e.height,n.isPrimary=e.isPrimary,n.pointerType=e.pointerType,n.pressure=e.pressure,n.tangentialPressure=e.tangentialPressure,n.tiltX=e.tiltX,n.tiltY=e.tiltY,n.twist=e.twist)}copyMouseData(e,n){e instanceof fu&&n instanceof fu&&(n.altKey=e.altKey,n.button=e.button,n.buttons=e.buttons,n.client.copyFrom(e.client),n.ctrlKey=e.ctrlKey,n.metaKey=e.metaKey,n.movement.copyFrom(e.movement),n.screen.copyFrom(e.screen),n.global.copyFrom(e.global))}copyData(e,n){n.isTrusted=e.isTrusted,n.srcElement=e.srcElement,n.timeStamp=performance.now(),n.type=e.type,n.detail=e.detail,n.view=e.view,n.which=e.which,n.layer.copyFrom(e.layer),n.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const n=this.eventPool.get(e).pop()||new e(this);return n.eventPhase=n.NONE,n.currentTarget=null,n.path=null,n.target=null,n}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const n=e.constructor;this.eventPool.has(n)||this.eventPool.set(n,[]),this.eventPool.get(n).push(e)}notifyListeners(e,n){const r=e.currentTarget._events[n];if(r)if("fn"in r)r.once&&e.currentTarget.removeListener(n,r.fn,void 0,!0),r.fn.call(r.context,e);else for(let i=0,s=r.length;i<s&&!e.propagationImmediatelyStopped;i++)r[i].once&&e.currentTarget.removeListener(n,r[i].fn,void 0,!0),r[i].fn.call(r[i].context,e)}}const Jle=1,eue={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"};class Eb{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new vI(null),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new xn(null),this.rootWheelEvent=new Ss(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}init(){const{view:e,resolution:n}=this.renderer;this.setTargetElement(e),this.resolution=n}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let n=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(n=!1),this.currentCursor===e)return;this.currentCursor=e;const r=this.cursorStyles[e];if(r)switch(typeof r){case"string":n&&(this.domElement.style.cursor=r);break;case"function":r(e);break;case"object":n&&Object.assign(this.domElement.style,r);break}else n&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}onPointerDown(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);this.autoPreventDefault&&n[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let r=0,i=n.length;r<i;r++){const s=n[r],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);for(let r=0,i=n.length;r<i;r++){const s=this.bootstrapEvent(this.rootPointerEvent,n[r]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;let n=e.target;e.composedPath&&e.composedPath().length>0&&(n=e.composedPath()[0]);const r=n!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let s=0,o=i.length;s<o;s++){const a=this.bootstrapEvent(this.rootPointerEvent,i[s]);a.type+=r,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);for(let r=0,i=n.length;r<i;r++){const s=this.bootstrapEvent(this.rootPointerEvent,n[r]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){const n=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(n)}setTargetElement(e){this.removeEvents(),this.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,n,r){let i;this.domElement.parentElement?i=this.domElement.getBoundingClientRect():i={x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const s=1/this.resolution;e.x=(n-i.left)*(this.domElement.width/i.width)*s,e.y=(r-i.top)*(this.domElement.height/i.height)*s}normalizeToPointerData(e){const n=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let r=0,i=e.changedTouches.length;r<i;r++){const s=e.changedTouches[r];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,n.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const r=e;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=Jle),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,n.push(r)}else n.push(e);return n}normalizeWheelEvent(e){const n=this.rootWheelEvent;return this.transferMouseData(n,e),n.deltaX=e.deltaX,n.deltaY=e.deltaY,n.deltaZ=e.deltaZ,n.deltaMode=e.deltaMode,this.mapPositionToPoint(n.screen,e.clientX,e.clientY),n.global.copyFrom(n.screen),n.offset.copyFrom(n.screen),n.nativeEvent=e,n.type=e.type,n}bootstrapEvent(e,n){return e.originalEvent=null,e.nativeEvent=n,e.pointerId=n.pointerId,e.width=n.width,e.height=n.height,e.isPrimary=n.isPrimary,e.pointerType=n.pointerType,e.pressure=n.pressure,e.tangentialPressure=n.tangentialPressure,e.tiltX=n.tiltX,e.tiltY=n.tiltY,e.twist=n.twist,this.transferMouseData(e,n),this.mapPositionToPoint(e.screen,n.clientX,n.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=n.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=eue[e.type]||e.type),e}transferMouseData(e,n){e.isTrusted=n.isTrusted,e.srcElement=n.srcElement,e.timeStamp=performance.now(),e.type=n.type,e.altKey=n.altKey,e.button=n.button,e.buttons=n.buttons,e.client.x=n.clientX,e.client.y=n.clientY,e.ctrlKey=n.ctrlKey,e.metaKey=n.metaKey,e.movement.x=n.movementX,e.movement.y=n.movementY,e.page.x=n.pageX,e.page.y=n.pageY,e.relatedTarget=null,e.shiftKey=n.shiftKey}}Eb.extension={name:"events",type:[Q.RendererSystem,Q.CanvasRendererSystem]};ie.add(Eb);const yI={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,interactive:!1,interactiveChildren:!0,hitArea:null,addEventListener(t,e,n){const r=typeof n=="boolean"&&n||typeof n=="object"&&n.capture,i=typeof e=="function"?void 0:e;t=r?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,n){const r=typeof n=="boolean"&&n||typeof n=="object"&&n.capture,i=typeof e=="function"?void 0:e;t=r?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof Oa))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};Ve.mixin(yI);const bI={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Ve.mixin(bI);const tue=9,jc=100,nue=0,rue=0,PS=2,OS=1,iue=-1e3,sue=-1e3,oue=2;class Sb{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Qn.tablet||Qn.phone)&&this.createTouchHook();const n=document.createElement("div");n.style.width=`${jc}px`,n.style.height=`${jc}px`,n.style.position="absolute",n.style.top=`${nue}px`,n.style.left=`${rue}px`,n.style.zIndex=PS.toString(),this.div=n,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${OS}px`,e.style.height=`${OS}px`,e.style.position="absolute",e.style.top=`${iue}px`,e.style.left=`${sue}px`,e.style.zIndex=oue.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const n=e.children;if(n)for(let r=0;r<n.length;r++)this.updateAccessibleObjects(n[r])}update(){const e=performance.now();if(Qn.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:n,y:r,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:l}=this.renderer,u=i/o*l,c=s/a*l;let h=this.div;h.style.left=`${n}px`,h.style.top=`${r}px`,h.style.width=`${o}px`,h.style.height=`${a}px`;for(let d=0;d<this.children.length;d++){const f=this.children[d];if(f.renderId!==this.renderId)f._accessibleActive=!1,hs(this.children,d,1),this.div.removeChild(f._accessibleDiv),this.pool.push(f._accessibleDiv),f._accessibleDiv=null,d--;else{h=f._accessibleDiv;let p=f.hitArea;const m=f.worldTransform;f.hitArea?(h.style.left=`${(m.tx+p.x*m.a)*u}px`,h.style.top=`${(m.ty+p.y*m.d)*c}px`,h.style.width=`${p.width*m.a*u}px`,h.style.height=`${p.height*m.d*c}px`):(p=f.getBounds(),this.capHitArea(p),h.style.left=`${p.x*u}px`,h.style.top=`${p.y*c}px`,h.style.width=`${p.width*u}px`,h.style.height=`${p.height*c}px`,h.title!==f.accessibleTitle&&f.accessibleTitle!==null&&(h.title=f.accessibleTitle),h.getAttribute("aria-label")!==f.accessibleHint&&f.accessibleHint!==null&&h.setAttribute("aria-label",f.accessibleHint)),(f.accessibleTitle!==h.title||f.tabIndex!==h.tabIndex)&&(h.title=f.accessibleTitle,h.tabIndex=f.tabIndex,this.debug&&this.updateDebugHTML(h))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:n,height:r}=this.renderer;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>r&&(e.height=r-e.y)}addChild(e){let n=this.pool.pop();n||(n=document.createElement("button"),n.style.width=`${jc}px`,n.style.height=`${jc}px`,n.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",n.style.position="absolute",n.style.zIndex=PS.toString(),n.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?n.setAttribute("aria-live","off"):n.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?n.setAttribute("aria-relevant","additions"):n.setAttribute("aria-relevant","text"),n.addEventListener("click",this._onClick.bind(this)),n.addEventListener("focus",this._onFocus.bind(this)),n.addEventListener("focusout",this._onFocusOut.bind(this))),n.style.pointerEvents=e.accessiblePointerEvents,n.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?n.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(n.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&n.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(n),e._accessibleActive=!0,e._accessibleDiv=n,n.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,n){const{displayObject:r}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new Oa(i),{target:r});i.rootTarget=this.renderer.lastObjectRendered,n.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===tue&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}Sb.extension={name:"accessibility",type:[Q.RendererPlugin,Q.CanvasRendererPlugin]};ie.add(Sb);const Uv=class{constructor(t){this.stage=new Bt,t=Object.assign({forceCanvas:!1},t),this.renderer=oI(t),Uv._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(t,e){const n=Uv._plugins.slice(0);n.reverse(),n.forEach(r=>{r.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};let Wf=Uv;Wf._plugins=[];ie.handleByList(Q.Application,Wf._plugins);class Cb{static init(e){Object.defineProperty(this,"resizeTo",{set(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let n,r;if(this._resizeTo===globalThis.window)n=globalThis.innerWidth,r=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;n=i,r=s}this.renderer.resize(n,r),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}Cb.extension=Q.Application;ie.add(Cb);const IS={loader:Q.LoadParser,resolver:Q.ResolveParser,cache:Q.CacheParser,detection:Q.DetectionParser};ie.handle(Q.Asset,t=>{const e=t.ref;Object.entries(IS).filter(([n])=>!!e[n]).forEach(([n,r])=>ie.add(Object.assign(e[n],{extension:e[n].extension??r})))},t=>{const e=t.ref;Object.keys(IS).filter(n=>!!e[n]).forEach(n=>ie.remove(e[n]))});class aue{constructor(e,n=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=n}add(e){e.forEach(n=>{this._assetList.push(n)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],n=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<n;r++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function Tb(t,e){if(Array.isArray(e)){for(const n of e)if(t.startsWith(`data:${n}`))return!0;return!1}return t.startsWith(`data:${e}`)}function Yu(t,e){const n=t.split("?")[0],r=yt.extname(n).toLowerCase();return Array.isArray(e)?e.includes(r):r===e}const Tr=(t,e)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"?e(n):n):t),Sd=(t,e)=>{const n=e.split("?")[1];return n&&(t+=`?${n}`),t};function xI(t,e,n,r,i){const s=e[n];for(let o=0;o<s.length;o++){const a=s[o];n<e.length-1?xI(t.replace(r[n],a),e,n+1,r,i):i.push(t.replace(r[n],a))}}function wI(t){const e=/\{(.*?)\}/g,n=t.match(e),r=[];if(n){const i=[];n.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),xI(t,i,0,n,r)}else r.push(t);return r}const pu=t=>!Array.isArray(t);class lue{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const n=this._cache.get(e);return n||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),n}set(e,n){const r=Tr(e);let i;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.test(n)){i=l.getCacheableAssets(r,n);break}}i||(i={},r.forEach(a=>{i[a]=n}));const s=Object.keys(i),o={cacheKeys:s,keys:r};if(r.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==n&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),n instanceof J){const a=n;r.forEach(l=>{a.baseTexture!==J.EMPTY.baseTexture&&fe.addToCache(a.baseTexture,l),J.addToCache(a,l)})}}remove(e){if(this._cacheMap.get(e),!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const n=this._cacheMap.get(e);n.cacheKeys.forEach(i=>{this._cache.delete(i)}),n.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const po=new lue;class uue{constructor(){this._parsers=[],this.promiseCache={}}reset(){this.promiseCache={}}_getLoadPromiseAndParser(e,n){const r={promise:null,parser:null};return r.promise=(async()=>{var s,o;let i=null;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.load&&((s=l.test)!=null&&s.call(l,e,n,this))){i=await l.load(e,n,this),r.parser=l;break}}if(!r.parser)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has being added`),null;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];l.parse&&l.parse&&await((o=l.testParse)==null?void 0:o.call(l,i,n,this))&&(i=await l.parse(i,n,this)||i,r.parser=l)}return i})(),r}async load(e,n){let r=0;const i={},s=pu(e),o=Tr(e,u=>({src:u})),a=o.length,l=o.map(async u=>{const c=yt.toAbsolute(u.src);if(!i[u.src])try{this.promiseCache[c]||(this.promiseCache[c]=this._getLoadPromiseAndParser(c,u)),i[u.src]=await this.promiseCache[c].promise,n&&n(++r/a)}catch(h){throw delete this.promiseCache[c],delete i[u.src],new Error(`[Loader.load] Failed to load ${c}.
${h}`)}});return await Promise.all(l),s?i[o[0].src]:i}async unload(e){const r=Tr(e,i=>({src:i})).map(async i=>{var a,l;const s=yt.toAbsolute(i.src),o=this.promiseCache[s];if(o){const u=await o.promise;(l=(a=o.parser)==null?void 0:a.unload)==null||l.call(a,u,i,this),delete this.promiseCache[s]}});await Promise.all(r)}get parsers(){return this._parsers}}var cr=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(cr||{});const _I={extension:{type:Q.LoadParser,priority:cr.Low},test(t){return yt.extname(t).toLowerCase()===".json"},async load(t){return await(await ee.ADAPTER.fetch(t)).json()}};ie.add(_I);const EI={extension:{type:Q.LoadParser,priority:cr.Low},test(t){return yt.extname(t).toLowerCase()===".txt"},async load(t){return await(await ee.ADAPTER.fetch(t)).text()}};ie.add(EI);const cue=["normal","bold","100","200","300","400","500","600","700","800","900"],hue=[".ttf",".otf",".woff",".woff2"],due=["font/ttf","font/otf","font/woff","font/woff2"];function SI(t){const e=yt.extname(t);return yt.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ")}const CI={extension:{type:Q.LoadParser,priority:cr.Low},test(t){return Tb(t,due)||Yu(t,hue)},async load(t,e){var r,i,s;const n=ee.ADAPTER.getFontFaceSet();if(n){const o=[],a=((r=e.data)==null?void 0:r.family)??SI(t),l=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(c=>cue.includes(c)))??["normal"],u=e.data??{};for(let c=0;c<l.length;c++){const h=l[c],d=new FontFace(a,`url(${encodeURI(t)})`,{...u,weight:h});await d.load(),n.add(d),o.push(d)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>ee.ADAPTER.getFontFaceSet().delete(e))}};ie.add(CI);let kS=0,cm;const fue="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",pue={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${fue}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},mue={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let hm;class gue{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const n=URL.createObjectURL(new Blob([pue.code],{type:"application/javascript"})),r=new Worker(n);r.addEventListener("message",i=>{r.terminate(),URL.revokeObjectURL(n),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){cm===void 0&&(cm=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<cm&&(hm||(hm=URL.createObjectURL(new Blob([mue.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(hm),e.addEventListener("message",n=>{this.complete(n.data),this.returnWorker(n.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,n){await this._initWorkers();const r=new Promise((i,s)=>{this.queue.push({id:e,arguments:n,resolve:i,reject:s})});return this.next(),r}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const n=this.queue.pop(),r=n.id;this.resolveHash[kS]={resolve:n.resolve,reject:n.reject},e.postMessage({data:n.arguments,uuid:kS++,id:r})}}const RS=new gue;function qu(t,e,n){const r=new J(t);return r.baseTexture.on("dispose",()=>{delete e.promiseCache[n]}),r}const vue=[".jpeg",".jpg",".png",".webp",".avif"],yue=["image/jpeg","image/png","image/webp","image/avif"];async function TI(t){const e=await ee.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const n=await e.blob();return await createImageBitmap(n)}const la={extension:{type:Q.LoadParser,priority:cr.High},config:{preferWorkers:!0},test(t){return Tb(t,yue)||Yu(t,vue)},async load(t,e,n){let r=null;globalThis.createImageBitmap?this.config.preferWorkers&&await RS.isImageBitmapSupported()?r=await RS.loadImageBitmap(t):r=await TI(t):r=await new Promise(s=>{r=new Image,r.crossOrigin="anonymous",r.src=t,r.complete?s(r):r.onload=()=>{s(r)}});const i=new fe(r,{resolution:Vr(t),...e.data});return i.resource.src=t,qu(i,n,t)},unload(t){t.destroy(!0)}};ie.add(la);const AI={extension:{type:Q.LoadParser,priority:cr.High},test(t){return yt.extname(t).toLowerCase()===".svg"},async testParse(t){return aa.test(t)},async parse(t,e,n){var o,a,l;const r=new aa(t,(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions),i=new fe(r,{resolution:Vr(t),...e==null?void 0:e.data});i.resource.src=t;const s=qu(i,n,t);return(l=(a=e==null?void 0:e.data)==null?void 0:a.resourceOptions)!=null&&l.autoLoad||await r.load(),s},async load(t,e){return(await ee.ADAPTER.fetch(t)).text()},unload:la.unload};ie.add(AI);class bue{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,n)=>`${e}${this._bundleIdConnector}${n}`,extractAssetIdFromBundle:(e,n)=>n.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(n=>{this._preferredOrder.push(n),n.priority||(n.priority=Object.keys(n.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const n=e;this._defaultSearchParams=Object.keys(n).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(n[r])}`).join("&")}}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(n=>{this.addBundle(n.name,n.assets)})}addBundle(e,n){const r=[];Array.isArray(n)?n.forEach(i=>{if(typeof i.name=="string"){const s=this._createBundleAssetId(e,i.name);r.push(s),this.add([i.name,s],i.srcs,i.data)}else{const s=i.name.map(o=>this._createBundleAssetId(e,o));s.forEach(o=>{r.push(o)}),this.add([...i.name,...s],i.srcs)}}):Object.keys(n).forEach(i=>{r.push(this._createBundleAssetId(e,i)),this.add([i,this._createBundleAssetId(e,i)],n[i])}),this._bundles[e]=r}add(e,n,r){const i=Tr(e);i.forEach(o=>{this.hasKey(o)&&console.warn(`[Resolver] already has key: ${o} overwriting`)}),Array.isArray(n)||(typeof n=="string"?n=wI(n):n=[n]);const s=n.map(o=>{let a=o;if(typeof o=="string"){let l=!1;for(let u=0;u<this._parsers.length;u++){const c=this._parsers[u];if(c.test(o)){a=c.parse(o),l=!0;break}}l||(a={src:o})}return a.format||(a.format=a.src.split(".").pop()),a.alias||(a.alias=i),(this._basePath||this._rootPath)&&(a.src=yt.toAbsolute(a.src,this._basePath,this._rootPath)),a.src=this._appendDefaultSearchParams(a.src),a.data=a.data??r,a});i.forEach(o=>{this._assetMap[o]=s})}resolveBundle(e){const n=pu(e);e=Tr(e);const r={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const l in o){const u=o[l];a[this._extractAssetIdFromBundle(i,l)]=u}r[i]=a}}),n?r[e[0]]:r}resolveUrl(e){const n=this.resolve(e);if(typeof e!="string"){const r={};for(const i in n)r[i]=n[i].src;return r}return n.src}resolve(e){const n=pu(e);e=Tr(e);const r={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=this._getPreferredOrder(s),a=s[0];o==null||o.priority.forEach(l=>{o.params[l].forEach(u=>{const c=s.filter(h=>h[l]?h[l]===u:!1);c.length&&(s=c)})}),this._resolverHash[i]=s[0]??a}else{let s=i;(this._basePath||this._rootPath)&&(s=yt.toAbsolute(s,this._basePath,this._rootPath)),s=this._appendDefaultSearchParams(s),this._resolverHash[i]={src:s}}r[i]=this._resolverHash[i]}),n?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let n=0;n<e.length;n++){const r=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(r.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const n=/\?/.test(e)?"&":"?";return`${e}${n}${this._defaultSearchParams}`}}class PI{constructor(){this._detections=[],this._initialized=!1,this.resolver=new bue,this.loader=new uue,this.cache=po,this._backgroundLoader=new aue(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o,a;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let l=e.manifest;typeof l=="string"&&(l=await this.load(l)),this.resolver.addManifest(l)}const n=((s=e.texturePreference)==null?void 0:s.resolution)??1,r=typeof n=="number"?[n]:n;let i=[];if((o=e.texturePreference)!=null&&o.format){const l=(a=e.texturePreference)==null?void 0:a.format;i=typeof l=="string"?[l]:l;for(const u of this._detections)await u.test()||(i=await u.remove(i))}else for(const l of this._detections)await l.test()&&(i=await l.add(i));this.resolver.prefer({params:{format:i,resolution:r}})}add(e,n,r){this.resolver.add(e,n,r)}async load(e,n){this._initialized||await this.init();const r=pu(e),i=Tr(e).map(a=>typeof a!="string"?(this.resolver.add(a.src,a),a.src):(this.resolver.hasKey(a)||this.resolver.add(a,a),a)),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,n);return r?o[i[0]]:o}addBundle(e,n){this.resolver.addBundle(e,n)}async loadBundle(e,n){this._initialized||await this.init();let r=!1;typeof e=="string"&&(r=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0,l=0;const u=()=>{n==null||n(++a/l)},c=o.map(h=>{const d=i[h];return l+=Object.keys(d).length,this._mapLoadToResolve(d,u).then(f=>{s[h]=f})});return await Promise.all(c),r?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(n))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolveBundle(e);Object.values(n).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return po.get(e);const n={};for(let r=0;r<e.length;r++)n[r]=po.get(e[r]);return n}async _mapLoadToResolve(e,n){const r=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(r,n);this._backgroundLoader.active=!0;const o={};return r.forEach((a,l)=>{const u=s[a.src],c=[a.src];a.alias&&c.push(...a.alias),o[i[l]]=u,po.set(c,u)}),o}async unload(e){this._initialized||await this.init();const n=Tr(e).map(i=>typeof i!="string"?i.src:i),r=this.resolver.resolve(n);await this._unloadFromResolved(r)}async unloadBundle(e){this._initialized||await this.init(),e=Tr(e);const n=this.resolver.resolveBundle(e),r=Object.keys(n).map(i=>this._unloadFromResolved(n[i]));await Promise.all(r)}async _unloadFromResolved(e){const n=Object.values(e);n.forEach(r=>{po.remove(r.src)}),await this.loader.unload(n)}get detections(){return this._detections}get preferWorkers(){return la.config.preferWorkers}set preferWorkers(e){la.config.preferWorkers=e}}const rs=new PI;ie.handleByList(Q.LoadParser,rs.loader.parsers).handleByList(Q.ResolveParser,rs.resolver.parsers).handleByList(Q.CacheParser,rs.cache.parsers).handleByList(Q.DetectionParser,rs.detections);const OI={extension:Q.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof J),getCacheableAssets:(t,e)=>{const n={};return t.forEach(r=>{e.forEach((i,s)=>{n[r+(s===0?"":s+1)]=i})}),n}};ie.add(OI);const II={extension:{type:Q.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",e=await ee.ADAPTER.fetch(t).then(n=>n.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};ie.add(II);const kI={extension:{type:Q.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",e=await ee.ADAPTER.fetch(t).then(n=>n.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};ie.add(kI);const MS=["png","jpg","jpeg"],RI={extension:{type:Q.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...MS],remove:async t=>t.filter(e=>!MS.includes(e))};ie.add(RI);const MI={extension:Q.ResolveParser,test:la.test,parse:t=>{var e;return{resolution:parseFloat(((e=ee.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}};ie.add(MI);var zt=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(zt||{});const mu={[33776]:.5,[33777]:.5,[33778]:1,[33779]:1,[35916]:.5,[35917]:.5,[35918]:1,[35919]:1,[37488]:.5,[37489]:.5,[37490]:1,[37491]:1,[37492]:.5,[37496]:1,[37493]:.5,[37497]:1,[37494]:.5,[37495]:.5,[35840]:.5,[35842]:.5,[35841]:.25,[35843]:.25,[36196]:.5,[35986]:.5,[35986]:1,[34798]:1,[37808]:1};let Rr,mo;function FS(){mo={s3tc:Rr.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:Rr.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:Rr.getExtension("WEBGL_compressed_texture_etc"),etc1:Rr.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:Rr.getExtension("WEBGL_compressed_texture_pvrtc")||Rr.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:Rr.getExtension("WEBGL_compressed_texture_atc"),astc:Rr.getExtension("WEBGL_compressed_texture_astc")}}const FI={extension:{type:Q.DetectionParser,priority:2},test:async()=>{const e=ee.ADAPTER.createCanvas().getContext("webgl");return e?(Rr=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{mo||FS();const e=[];for(const n in mo)mo[n]&&e.push(n);return[...e,...t]},remove:async t=>(mo||FS(),t.filter(e=>!(e in mo)))};ie.add(FI);class DI extends Pa{constructor(e,n={width:1,height:1,autoLoad:!0}){let r,i;typeof e=="string"?(r=e,i=new Uint8Array):(r=null,i=e),super(i,n),this.origin=r,this.buffer=i?new vd(i):null,this.origin&&n.autoLoad!==!1&&this.load(),i!=null&&i.length&&(this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}async load(){const r=await(await(await fetch(this.origin)).blob()).arrayBuffer();return this.data=new Uint32Array(r),this.buffer=new vd(r),this.loaded=!0,this.onBlobLoaded(r),this.update(),this}}class _i extends DI{constructor(e,n){super(e,n),this.format=n.format,this.levels=n.levels||1,this._width=n.width,this._height=n.height,this._extension=_i._formatToExtension(this.format),(n.levelBuffers||this.buffer)&&(this._levelBuffers=n.levelBuffers||_i._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,n,r){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let o=0,a=this.levels;o<a;o++){const{levelID:l,levelWidth:u,levelHeight:c,levelBuffer:h}=this._levelBuffers[o];i.compressedTexImage2D(i.TEXTURE_2D,l,this.format,u,c,0,h)}return!0}onBlobLoaded(){this._levelBuffers=_i._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,n,r,i,s,o,a){const l=new Array(r);let u=e.byteOffset,c=o,h=a,d=c+i-1&~(i-1),f=h+s-1&~(s-1),p=d*f*mu[n];for(let m=0;m<r;m++)l[m]={levelID:m,levelWidth:r>1?c:d,levelHeight:r>1?h:f,levelBuffer:new Uint8Array(e.buffer,u,p)},u+=p,c=c>>1||1,h=h>>1||1,d=c+i-1&~(i-1),f=h+s-1&~(s-1),p=d*f*mu[n];return l}}const dm=4,zc=124,xue=32,DS=20,wue=542327876,Hc={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},_ue={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},Gc={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},Eue=1,Sue=2,Cue=4,Tue=64,Aue=512,Pue=131072,Oue=827611204,Iue=861165636,kue=894720068,Rue=808540228,Mue=4,Fue={[Oue]:zt.COMPRESSED_RGBA_S3TC_DXT1_EXT,[Iue]:zt.COMPRESSED_RGBA_S3TC_DXT3_EXT,[kue]:zt.COMPRESSED_RGBA_S3TC_DXT5_EXT},Due={[70]:zt.COMPRESSED_RGBA_S3TC_DXT1_EXT,[71]:zt.COMPRESSED_RGBA_S3TC_DXT1_EXT,[73]:zt.COMPRESSED_RGBA_S3TC_DXT3_EXT,[74]:zt.COMPRESSED_RGBA_S3TC_DXT3_EXT,[76]:zt.COMPRESSED_RGBA_S3TC_DXT5_EXT,[77]:zt.COMPRESSED_RGBA_S3TC_DXT5_EXT,[72]:zt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,[75]:zt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,[78]:zt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function $I(t){const e=new Uint32Array(t);if(e[0]!==wue)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,zc/Uint32Array.BYTES_PER_ELEMENT),i=r[Hc.HEIGHT],s=r[Hc.WIDTH],o=r[Hc.MIPMAP_COUNT],a=new Uint32Array(t,Hc.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,xue/Uint32Array.BYTES_PER_ELEMENT),l=a[Eue];if(l&Cue){const u=a[_ue.FOURCC];if(u!==Rue){const y=Fue[u],x=dm+zc,S=new Uint8Array(t,x);return[new _i(S,{format:y,width:s,height:i,levels:o})]}const c=dm+zc,h=new Uint32Array(e.buffer,c,DS/Uint32Array.BYTES_PER_ELEMENT),d=h[Gc.DXGI_FORMAT],f=h[Gc.RESOURCE_DIMENSION],p=h[Gc.MISC_FLAG],m=h[Gc.ARRAY_SIZE],g=Due[d];if(g===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${d}`);if(p===Mue)throw new Error("DDSParser does not support cubemap textures");if(f===6)throw new Error("DDSParser does not supported 3D texture data");const v=new Array,b=dm+zc+DS;if(m===1)v.push(new Uint8Array(t,b));else{const y=mu[g];let x=0,S=s,C=i;for(let A=0;A<o;A++){const k=Math.max(1,S+3&-4),M=Math.max(1,C+3&-4),N=k*M*y;x+=N,S=S>>>1,C=C>>>1}let T=b;for(let A=0;A<m;A++)v.push(new Uint8Array(t,T,x)),T+=x}return v.map(y=>new _i(y,{format:g,width:s,height:i,levels:o}))}throw l&Tue?new Error("DDSParser does not support uncompressed texture data."):l&Aue?new Error("DDSParser does not supported YUV uncompressed texture data."):l&Pue?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&Sue?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const $S=[171,75,84,88,32,49,49,187,13,10,26,10],$ue=67305985,Un={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},jv=64,zv={[se.UNSIGNED_BYTE]:1,[se.UNSIGNED_SHORT]:2,[se.INT]:4,[se.UNSIGNED_INT]:4,[se.FLOAT]:4,[se.HALF_FLOAT]:8},BI={[X.RGBA]:4,[X.RGB]:3,[X.RG]:2,[X.RED]:1,[X.LUMINANCE]:1,[X.LUMINANCE_ALPHA]:2,[X.ALPHA]:1},NI={[se.UNSIGNED_SHORT_4_4_4_4]:2,[se.UNSIGNED_SHORT_5_5_5_1]:2,[se.UNSIGNED_SHORT_5_6_5]:2};function LI(t,e,n=!1){const r=new DataView(e);if(!Bue(t,r))return null;const i=r.getUint32(Un.ENDIANNESS,!0)===$ue,s=r.getUint32(Un.GL_TYPE,i),o=r.getUint32(Un.GL_FORMAT,i),a=r.getUint32(Un.GL_INTERNAL_FORMAT,i),l=r.getUint32(Un.PIXEL_WIDTH,i),u=r.getUint32(Un.PIXEL_HEIGHT,i)||1,c=r.getUint32(Un.PIXEL_DEPTH,i)||1,h=r.getUint32(Un.NUMBER_OF_ARRAY_ELEMENTS,i)||1,d=r.getUint32(Un.NUMBER_OF_FACES,i),f=r.getUint32(Un.NUMBER_OF_MIPMAP_LEVELS,i),p=r.getUint32(Un.BYTES_OF_KEY_VALUE_DATA,i);if(u===0||c!==1)throw new Error("Only 2D textures are supported");if(d!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(h!==1)throw new Error("WebGL does not support array textures");const m=4,g=4,v=l+3&-4,b=u+3&-4,y=new Array(h);let x=l*u;s===0&&(x=v*b);let S;if(s!==0?zv[s]?S=zv[s]*BI[o]:S=NI[s]:S=mu[a],S===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const C=n?Lue(r,p,i):null;let A=x*S,k=l,M=u,N=v,L=b,I=jv+p;for(let D=0;D<f;D++){const Z=r.getUint32(I,i);let q=I+4;for(let z=0;z<h;z++){let B=y[z];B||(B=y[z]=new Array(f)),B[D]={levelID:D,levelWidth:f>1||s!==0?k:N,levelHeight:f>1||s!==0?M:L,levelBuffer:new Uint8Array(e,q,A)},q+=A}I+=Z+4,I=I%4!==0?I+4-I%4:I,k=k>>1||1,M=M>>1||1,N=k+m-1&~(m-1),L=M+g-1&~(g-1),A=N*L*S}return s!==0?{uncompressed:y.map(D=>{let Z=D[0].levelBuffer,q=!1;return s===se.FLOAT?Z=new Float32Array(D[0].levelBuffer.buffer,D[0].levelBuffer.byteOffset,D[0].levelBuffer.byteLength/4):s===se.UNSIGNED_INT?(q=!0,Z=new Uint32Array(D[0].levelBuffer.buffer,D[0].levelBuffer.byteOffset,D[0].levelBuffer.byteLength/4)):s===se.INT&&(q=!0,Z=new Int32Array(D[0].levelBuffer.buffer,D[0].levelBuffer.byteOffset,D[0].levelBuffer.byteLength/4)),{resource:new Pa(Z,{width:D[0].levelWidth,height:D[0].levelHeight}),type:s,format:q?Nue(o):o}}),kvData:C}:{compressed:y.map(D=>new _i(null,{format:a,width:l,height:u,levels:f,levelBuffers:D})),kvData:C}}function Bue(t,e){for(let n=0;n<$S.length;n++)if(e.getUint8(n)!==$S[n])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function Nue(t){switch(t){case X.RGBA:return X.RGBA_INTEGER;case X.RGB:return X.RGB_INTEGER;case X.RG:return X.RG_INTEGER;case X.RED:return X.RED_INTEGER;default:return t}}function Lue(t,e,n){const r=new Map;let i=0;for(;i<e;){const s=t.getUint32(jv+i,n),o=jv+i+4,a=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<s&&t.getUint8(o+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const u=new TextDecoder().decode(new Uint8Array(t.buffer,o,l)),c=new DataView(t.buffer,o+l+1,s-l-1);r.set(u,c),i+=4+s+a}return r}const UI={extension:{type:Q.LoadParser,priority:cr.High},test(t){return Yu(t,".dds")},async load(t,e,n){const i=await(await ee.ADAPTER.fetch(t)).arrayBuffer(),o=$I(i).map(a=>{const l=new fe(a,{mipmap:ar.OFF,alphaMode:$n.NO_PREMULTIPLIED_ALPHA,resolution:Vr(t),...e.data});return qu(l,n,t)});return o.length===1?o[0]:o},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};ie.add(UI);const jI={extension:{type:Q.LoadParser,priority:cr.High},test(t){return Yu(t,".ktx")},async load(t,e,n){const i=await(await ee.ADAPTER.fetch(t)).arrayBuffer(),{compressed:s,uncompressed:o,kvData:a}=LI(t,i),l=s??o,u={mipmap:ar.OFF,alphaMode:$n.NO_PREMULTIPLIED_ALPHA,resolution:Vr(t),...e.data},c=l.map(h=>{l===o&&Object.assign(u,{type:h.type,format:h.format});const d=new fe(h,u);return d.ktxKeyValueData=a,qu(d,n,t)});return c.length===1?c[0]:c},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};ie.add(jI);const zI={extension:Q.ResolveParser,test:t=>{const n=t.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(n)},parse:t=>{var r,i;if(t.split("?")[0].split(".").pop()==="ktx"){const s=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(s.some(o=>t.endsWith(o)))return{resolution:parseFloat(((r=ee.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:s.find(o=>t.endsWith(o)),src:t}}return{resolution:parseFloat(((i=ee.RETINA_PREFIX.exec(t))==null?void 0:i[1])??"1"),format:t.split(".").pop(),src:t}}};ie.add(zI);const Uue=new me,jue=4,Hv=class{constructor(t){this.renderer=t}async image(t,e,n){const r=new Image;return r.src=await this.base64(t,e,n),r}async base64(t,e,n){const r=this.canvas(t);if(r.toDataURL!==void 0)return r.toDataURL(e,n);if(r.convertToBlob!==void 0){const i=await r.convertToBlob({type:e,quality:n});return await new Promise(s=>{const o=new FileReader;o.onload=()=>s(o.result),o.readAsDataURL(i)})}throw new Error("Extract.base64() requires ICanvas.toDataURL or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:n,width:r,height:i,flipY:s}=this._rawPixels(t,e);let o=new Rv(r,i,1);const a=o.context.getImageData(0,0,r,i);if(Hv.arrayPostDivide(n,a.data),o.context.putImageData(a,0,0),s){const l=new Rv(o.width,o.height,1);l.context.scale(1,-1),l.context.drawImage(o.canvas,0,-i),o.destroy(),o=l}return o.canvas}pixels(t,e){const{pixels:n}=this._rawPixels(t,e);return Hv.arrayPostDivide(n,n),n}_rawPixels(t,e){const n=this.renderer;let r,i=!1,s,o=!1;if(t)if(t instanceof qr)s=t;else{const h=n.context.webGLVersion>=2?n.multisample:Ye.NONE;if(s=this.renderer.generateTexture(t,{multisample:h}),h!==Ye.NONE){const d=qr.create({width:s.width,height:s.height});n.framebuffer.bind(s.framebuffer),n.framebuffer.blit(d.framebuffer),n.framebuffer.bind(null),s.destroy(!0),s=d}o=!0}s?(r=s.baseTexture.resolution,e=e??s.frame,i=!1,n.renderTexture.bind(s)):(r=n.resolution,e||(e=Uue,e.width=n.width,e.height=n.height),i=!0,n.renderTexture.bind(null));const a=Math.round(e.width*r),l=Math.round(e.height*r),u=new Uint8Array(jue*a*l),c=n.gl;return c.readPixels(Math.round(e.x*r),Math.round(e.y*r),a,l,c.RGBA,c.UNSIGNED_BYTE,u),o&&s.destroy(!0),{pixels:u,width:a,height:l,flipY:i}}destroy(){this.renderer=null}static arrayPostDivide(t,e){for(let n=0;n<t.length;n+=4){const r=e[n+3]=t[n+3];r!==0?(e[n]=Math.round(Math.min(t[n]*255/r,255)),e[n+1]=Math.round(Math.min(t[n+1]*255/r,255)),e[n+2]=Math.round(Math.min(t[n+2]*255/r,255))):(e[n]=t[n],e[n+1]=t[n+1],e[n+2]=t[n+2])}}};let Ab=Hv;Ab.extension={name:"extract",type:Q.RendererSystem};ie.add(Ab);const gu={build(t){const e=t.points;let n,r,i,s,o,a;if(t.type===mt.CIRC){const p=t.shape;n=p.x,r=p.y,o=a=p.radius,i=s=0}else if(t.type===mt.ELIP){const p=t.shape;n=p.x,r=p.y,o=p.width,a=p.height,i=s=0}else{const p=t.shape,m=p.width/2,g=p.height/2;n=p.x+m,r=p.y+g,o=a=Math.max(0,Math.min(p.radius,Math.min(m,g))),i=m-o,s=g-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}const l=Math.ceil(2.3*Math.sqrt(o+a)),u=l*8+(i?4:0)+(s?4:0);if(e.length=u,u===0)return;if(l===0){e.length=8,e[0]=e[6]=n+i,e[1]=e[3]=r+s,e[2]=e[4]=n-i,e[5]=e[7]=r-s;return}let c=0,h=l*4+(i?2:0)+2,d=h,f=u;{const p=i+o,m=s,g=n+p,v=n-p,b=r+m;if(e[c++]=g,e[c++]=b,e[--h]=b,e[--h]=v,s){const y=r-m;e[d++]=v,e[d++]=y,e[--f]=y,e[--f]=g}}for(let p=1;p<l;p++){const m=Math.PI/2*(p/l),g=i+Math.cos(m)*o,v=s+Math.sin(m)*a,b=n+g,y=n-g,x=r+v,S=r-v;e[c++]=b,e[c++]=x,e[--h]=x,e[--h]=y,e[d++]=y,e[d++]=S,e[--f]=S,e[--f]=b}{const p=i,m=s+a,g=n+p,v=n-p,b=r+m,y=r-m;e[c++]=g,e[c++]=b,e[--f]=y,e[--f]=g,i&&(e[c++]=v,e[c++]=b,e[--f]=y,e[--f]=v)}},triangulate(t,e){const n=t.points,r=e.points,i=e.indices;if(n.length===0)return;let s=r.length/2;const o=s;let a,l;if(t.type!==mt.RREC){const c=t.shape;a=c.x,l=c.y}else{const c=t.shape;a=c.x+c.width/2,l=c.y+c.height/2}const u=t.matrix;r.push(t.matrix?u.a*a+u.c*l+u.tx:a,t.matrix?u.b*a+u.d*l+u.ty:l),s++,r.push(n[0],n[1]);for(let c=2;c<n.length;c+=2)r.push(n[c],n[c+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function BS(t,e=!1){const n=t.length;if(n<6)return;let r=0;for(let i=0,s=t[n-2],o=t[n-1];i<n;i+=2){const a=t[i],l=t[i+1];r+=(a-s)*(l+o),s=a,o=l}if(!e&&r>0||e&&r<=0){const i=n/2;for(let s=i+i%2;s<n;s+=2){const o=n-s-2,a=n-s-1,l=s,u=s+1;[t[o],t[l]]=[t[l],t[o]],[t[a],t[u]]=[t[u],t[a]]}}}const Pb={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let n=t.points;const r=t.holes,i=e.points,s=e.indices;if(n.length>=6){BS(n,!1);const o=[];for(let u=0;u<r.length;u++){const c=r[u];BS(c.points,!0),o.push(n.length/2),n=n.concat(c.points)}const a=iu(n,o,2);if(!a)return;const l=i.length/2;for(let u=0;u<a.length;u+=3)s.push(a[u]+l),s.push(a[u+1]+l),s.push(a[u+2]+l);for(let u=0;u<n.length;u++)i.push(n[u])}}},HI={build(t){const e=t.shape,n=e.x,r=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(n,r,n+i,r,n+i,r+s,n,r+s)},triangulate(t,e){const n=t.points,r=e.points;if(n.length===0)return;const i=r.length/2;r.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},GI={build(t){gu.build(t)},triangulate(t,e){gu.triangulate(t,e)}};var wn=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(wn||{}),di=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(di||{});const Pi={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let n=Math.ceil(t/this.maxLength);return n<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n}},zue=Pi;class Gv{static curveTo(e,n,r,i,s,o){const a=o[o.length-2],u=o[o.length-1]-n,c=a-e,h=i-n,d=r-e,f=Math.abs(u*d-c*h);if(f<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==n)&&o.push(e,n),null;const p=u*u+c*c,m=h*h+d*d,g=u*h+c*d,v=s*Math.sqrt(p)/f,b=s*Math.sqrt(m)/f,y=v*g/p,x=b*g/m,S=v*d+b*c,C=v*h+b*u,T=c*(b+y),A=u*(b+y),k=d*(v+x),M=h*(v+x),N=Math.atan2(A-C,T-S),L=Math.atan2(M-C,k-S);return{cx:S+e,cy:C+n,radius:s,startAngle:N,endAngle:L,anticlockwise:c*h>d*u}}static arc(e,n,r,i,s,o,a,l,u){const c=a-o,h=Pi._segmentsCount(Math.abs(c)*s,Math.ceil(Math.abs(c)/hu)*40),d=c/(h*2),f=d*2,p=Math.cos(d),m=Math.sin(d),g=h-1,v=g%1/g;for(let b=0;b<=g;++b){const y=b+v*b,x=d+o+f*y,S=Math.cos(x),C=-Math.sin(x);u.push((p*S+m*C)*s+r,(p*-C+m*S)*s+i)}}}class WI{constructor(){this.reset()}begin(e,n,r){this.reset(),this.style=e,this.start=n,this.attribStart=r}end(e,n){this.attribSize=n-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class Vf{static curveLength(e,n,r,i,s,o,a,l){let c=0,h=0,d=0,f=0,p=0,m=0,g=0,v=0,b=0,y=0,x=0,S=e,C=n;for(let T=1;T<=10;++T)h=T/10,d=h*h,f=d*h,p=1-h,m=p*p,g=m*p,v=g*e+3*m*h*r+3*p*d*s+f*a,b=g*n+3*m*h*i+3*p*d*o+f*l,y=S-v,x=C-b,S=v,C=b,c+=Math.sqrt(y*y+x*x);return c}static curveTo(e,n,r,i,s,o,a){const l=a[a.length-2],u=a[a.length-1];a.length-=2;const c=Pi._segmentsCount(Vf.curveLength(l,u,e,n,r,i,s,o));let h=0,d=0,f=0,p=0,m=0;a.push(l,u);for(let g=1,v=0;g<=c;++g)v=g/c,h=1-v,d=h*h,f=d*h,p=v*v,m=p*v,a.push(f*l+3*d*v*e+3*h*p*r+m*s,f*u+3*d*v*n+3*h*p*i+m*o)}}function NS(t,e,n,r,i,s,o,a){const l=t-n*i,u=e-r*i,c=t+n*s,h=e+r*s;let d,f;o?(d=r,f=-n):(d=-r,f=n);const p=l+d,m=u+f,g=c+d,v=h+f;return a.push(p,m,g,v),2}function zi(t,e,n,r,i,s,o,a){const l=n-t,u=r-e;let c=Math.atan2(l,u),h=Math.atan2(i-t,s-e);a&&c<h?c+=Math.PI*2:!a&&c>h&&(h+=Math.PI*2);let d=c;const f=h-c,p=Math.abs(f),m=Math.sqrt(l*l+u*u),g=(15*p*Math.sqrt(m)/Math.PI>>0)+1,v=f/g;if(d+=v,a){o.push(t,e,n,r);for(let b=1,y=d;b<g;b++,y+=v)o.push(t,e,t+Math.sin(y)*m,e+Math.cos(y)*m);o.push(t,e,i,s)}else{o.push(n,r,t,e);for(let b=1,y=d;b<g;b++,y+=v)o.push(t+Math.sin(y)*m,e+Math.cos(y)*m,t,e);o.push(i,s,t,e)}return g*2}function Hue(t,e){const n=t.shape;let r=t.points||n.points.slice();const i=e.closePointEps;if(r.length===0)return;const s=t.lineStyle,o=new oe(r[0],r[1]),a=new oe(r[r.length-2],r[r.length-1]),l=n.type!==mt.POLY||n.closeStroke,u=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(l){r=r.slice(),u&&(r.pop(),r.pop(),a.set(r[r.length-2],r[r.length-1]));const z=(o.x+a.x)*.5,B=(a.y+o.y)*.5;r.unshift(z,B),r.push(z,B)}const c=e.points,h=r.length/2;let d=r.length;const f=c.length/2,p=s.width/2,m=p*p,g=s.miterLimit*s.miterLimit;let v=r[0],b=r[1],y=r[2],x=r[3],S=0,C=0,T=-(b-x),A=v-y,k=0,M=0,N=Math.sqrt(T*T+A*A);T/=N,A/=N,T*=p,A*=p;const L=s.alignment,I=(1-L)*2,D=L*2;l||(s.cap===di.ROUND?d+=zi(v-T*(I-D)*.5,b-A*(I-D)*.5,v-T*I,b-A*I,v+T*D,b+A*D,c,!0)+2:s.cap===di.SQUARE&&(d+=NS(v,b,T,A,I,D,!0,c))),c.push(v-T*I,b-A*I,v+T*D,b+A*D);for(let z=1;z<h-1;++z){v=r[(z-1)*2],b=r[(z-1)*2+1],y=r[z*2],x=r[z*2+1],S=r[(z+1)*2],C=r[(z+1)*2+1],T=-(b-x),A=v-y,N=Math.sqrt(T*T+A*A),T/=N,A/=N,T*=p,A*=p,k=-(x-C),M=y-S,N=Math.sqrt(k*k+M*M),k/=N,M/=N,k*=p,M*=p;const B=y-v,V=b-x,F=y-S,W=C-x,R=B*F+V*W,$=V*F-W*B,P=$<0;if(Math.abs($)<.001*Math.abs(R)){c.push(y-T*I,x-A*I,y+T*D,x+A*D),R>=0&&(s.join===wn.ROUND?d+=zi(y,x,y-T*I,x-A*I,y-k*I,x-M*I,c,!1)+4:d+=2,c.push(y-k*D,x-M*D,y+k*I,x+M*I));continue}const G=(-T+v)*(-A+x)-(-T+y)*(-A+b),K=(-k+S)*(-M+x)-(-k+y)*(-M+C),ce=(B*K-F*G)/$,pe=(W*G-V*K)/$,Pe=(ce-y)*(ce-y)+(pe-x)*(pe-x),ue=y+(ce-y)*I,we=x+(pe-x)*I,ye=y-(ce-y)*D,Oe=x-(pe-x)*D,ct=Math.min(B*B+V*V,F*F+W*W),jt=P?I:D,Li=ct+jt*jt*m,Kf=Pe<=Li;let _e=s.join;if(_e===wn.MITER&&Pe/m>g&&(_e=wn.BEVEL),Kf)switch(_e){case wn.MITER:{c.push(ue,we,ye,Oe);break}case wn.BEVEL:{P?c.push(ue,we,y+T*D,x+A*D,ue,we,y+k*D,x+M*D):c.push(y-T*I,x-A*I,ye,Oe,y-k*I,x-M*I,ye,Oe),d+=2;break}case wn.ROUND:{P?(c.push(ue,we,y+T*D,x+A*D),d+=zi(y,x,y+T*D,x+A*D,y+k*D,x+M*D,c,!0)+4,c.push(ue,we,y+k*D,x+M*D)):(c.push(y-T*I,x-A*I,ye,Oe),d+=zi(y,x,y-T*I,x-A*I,y-k*I,x-M*I,c,!1)+4,c.push(y-k*I,x-M*I,ye,Oe));break}}else{switch(c.push(y-T*I,x-A*I,y+T*D,x+A*D),_e){case wn.MITER:{P?c.push(ye,Oe,ye,Oe):c.push(ue,we,ue,we),d+=2;break}case wn.ROUND:{P?d+=zi(y,x,y+T*D,x+A*D,y+k*D,x+M*D,c,!0)+2:d+=zi(y,x,y-T*I,x-A*I,y-k*I,x-M*I,c,!1)+2;break}}c.push(y-k*I,x-M*I,y+k*D,x+M*D),d+=2}}v=r[(h-2)*2],b=r[(h-2)*2+1],y=r[(h-1)*2],x=r[(h-1)*2+1],T=-(b-x),A=v-y,N=Math.sqrt(T*T+A*A),T/=N,A/=N,T*=p,A*=p,c.push(y-T*I,x-A*I,y+T*D,x+A*D),l||(s.cap===di.ROUND?d+=zi(y-T*(I-D)*.5,x-A*(I-D)*.5,y-T*I,x-A*I,y+T*D,x+A*D,c,!1)+2:s.cap===di.SQUARE&&(d+=NS(y,x,T,A,I,D,!1,c)));const Z=e.indices,q=Pi.epsilon*Pi.epsilon;for(let z=f;z<d+f-2;++z)v=c[z*2],b=c[z*2+1],y=c[(z+1)*2],x=c[(z+1)*2+1],S=c[(z+2)*2],C=c[(z+2)*2+1],!(Math.abs(v*(x-C)+y*(C-b)+S*(b-x))<q)&&Z.push(z,z+1,z+2)}function Gue(t,e){let n=0;const r=t.shape,i=t.points||r.points,s=r.type!==mt.POLY||r.closeStroke;if(i.length===0)return;const o=e.points,a=e.indices,l=i.length/2,u=o.length/2;let c=u;for(o.push(i[0],i[1]),n=1;n<l;n++)o.push(i[n*2],i[n*2+1]),a.push(c,c+1),c++;s&&a.push(c,u)}function Wv(t,e){t.lineStyle.native?Gue(t,e):Hue(t,e)}class Xf{static curveLength(e,n,r,i,s,o){const a=e-2*r+s,l=n-2*i+o,u=2*r-2*e,c=2*i-2*n,h=4*(a*a+l*l),d=4*(a*u+l*c),f=u*u+c*c,p=2*Math.sqrt(h+d+f),m=Math.sqrt(h),g=2*h*m,v=2*Math.sqrt(f),b=d/m;return(g*p+m*d*(p-v)+(4*f*h-d*d)*Math.log((2*m+b+p)/(b+v)))/(4*g)}static curveTo(e,n,r,i,s){const o=s[s.length-2],a=s[s.length-1],l=Pi._segmentsCount(Xf.curveLength(o,a,e,n,r,i));let u=0,c=0;for(let h=1;h<=l;++h){const d=h/l;u=o+(e-o)*d,c=a+(n-a)*d,s.push(u+(e+(r-e)*d-u)*d,c+(n+(i-n)*d-c)*d)}}}const bh={[mt.POLY]:Pb,[mt.CIRC]:gu,[mt.ELIP]:gu,[mt.RECT]:HI,[mt.RREC]:GI},Vv=[],fl=[];class vu{constructor(e,n=null,r=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=r,this.fillStyle=n,this.matrix=i,this.type=e.type}clone(){return new vu(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Vs=new oe,VI=class extends W1{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new du,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),fl.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),Vv.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,n=null,r=null){const i=new vu(t,e,n,r);return this.graphicsData.push(i),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const n=new vu(t,null,null,e),r=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=r.lineStyle,r.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let n=0;n<e.length;++n){const r=e[n];if(r.fillStyle.visible&&r.shape&&(r.matrix?r.matrix.applyInverse(t,Vs):Vs.copyFrom(t),r.shape.contains(Vs.x,Vs.y))){let i=!1;if(r.holes){for(let s=0;s<r.holes.length;s++)if(r.holes[s].shape.contains(Vs.x,Vs.y)){i=!0;break}}if(!i)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let n=null,r=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],r=n.style);for(let a=this.shapeIndex;a<e.length;a++){this.shapeIndex++;const l=e[a],u=l.fillStyle,c=l.lineStyle;bh[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix),(u.visible||c.visible)&&this.processHoles(l.holes);for(let d=0;d<2;d++){const f=d===0?u:c;if(!f.visible)continue;const p=f.texture.baseTexture,m=this.indices.length,g=this.points.length/2;p.wrapMode=Cr.REPEAT,d===0?this.processFill(l):this.processLine(l);const v=this.points.length/2-g;v!==0&&(n&&!this._compareStyles(r,f)&&(n.end(m,g),n=null),n||(n=Vv.pop()||new WI,n.begin(f,m,g),this.batches.push(n),r=f),this.addUvs(this.points,t,f.texture,g,v,f.matrix))}}const i=this.indices.length,s=this.points.length/2;if(n&&n.end(i,s),this.batches.length===0){this.batchable=!0;return}const o=s>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&o===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=o?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const n=this.graphicsData[t],r=n.fillStyle,i=n.lineStyle;if(r&&!r.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,n=t.length;e<n;e++){const r=t[e];for(let i=0;i<r.size;i++){const s=r.start+i;this.indicesUint16[s]=this.indicesUint16[s]-r.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<VI.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++fe._globalBatch;for(let c=0;c<this.drawCalls.length;c++)this.drawCalls[c].texArray.clear(),fl.push(this.drawCalls[c]);this.drawCalls.length=0;const e=this.colors,n=this.textureIds;let r=fl.pop();r||(r=new bd,r.texArray=new xd),r.texArray.count=0,r.start=0,r.size=0,r.type=Zn.TRIANGLES;let i=0,s=null,o=0,a=!1,l=Zn.TRIANGLES,u=0;this.drawCalls.push(r);for(let c=0;c<this.batches.length;c++){const h=this.batches[c],d=8,f=h.style,p=f.texture.baseTexture;a!==!!f.native&&(a=!!f.native,l=a?Zn.LINES:Zn.TRIANGLES,s=null,i=d,t++),s!==p&&(s=p,p._batchEnabled!==t&&(i===d&&(t++,i=0,r.size>0&&(r=fl.pop(),r||(r=new bd,r.texArray=new xd),this.drawCalls.push(r)),r.start=u,r.size=0,r.texArray.count=0,r.type=l),p.touched=1,p._batchEnabled=t,p._batchLocation=i,p.wrapMode=Cr.REPEAT,r.texArray.elements[r.texArray.count++]=p,i++)),r.size+=h.size,u+=h.size,o=p._batchLocation,this.addColors(e,f.color,f.alpha,h.attribSize,h.attribStart),this.addTextureIds(n,o,h.attribSize,h.attribStart)}fe._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,n=this.colors,r=this.textureIds,i=new ArrayBuffer(t.length*3*4),s=new Float32Array(i),o=new Uint32Array(i);let a=0;for(let l=0;l<t.length/2;l++)s[a++]=t[l*2],s[a++]=t[l*2+1],s[a++]=e[l*2],s[a++]=e[l*2+1],o[a++]=n[l],s[a++]=r[l];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?Pb.triangulate(t,this):bh[t.type].triangulate(t,this)}processLine(t){Wv(t,this);for(let e=0;e<t.holes.length;e++)Wv(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const n=t[e];bh[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let n=0;n<t.length/2;n++){const r=t[n*2],i=t[n*2+1];t[n*2]=e.a*r+e.c*i+e.tx,t[n*2+1]=e.b*r+e.d*i+e.ty}}addColors(t,e,n,r,i=0){const s=(e>>16)+(e&65280)+((e&255)<<16),o=Uf(s,n);t.length=Math.max(t.length,i+r);for(let a=0;a<r;a++)t[i+a]=o}addTextureIds(t,e,n,r=0){t.length=Math.max(t.length,r+n);for(let i=0;i<n;i++)t[r+i]=e}addUvs(t,e,n,r,i,s=null){let o=0;const a=e.length,l=n.frame;for(;o<i;){let c=t[(r+o)*2],h=t[(r+o)*2+1];if(s){const d=s.a*c+s.c*h+s.tx;h=s.b*c+s.d*h+s.ty,c=d}o++,e.push(c/l.width,h/l.height)}const u=n.baseTexture;(l.width<u.width||l.height<u.height)&&this.adjustUvs(e,n,a,i)}adjustUvs(t,e,n,r){const i=e.baseTexture,s=1e-6,o=n+r*2,a=e.frame,l=a.width/i.width,u=a.height/i.height;let c=a.x/a.width,h=a.y/a.height,d=Math.floor(t[n]+s),f=Math.floor(t[n+1]+s);for(let p=n+2;p<o;p+=2)d=Math.min(d,Math.floor(t[p]+s)),f=Math.min(f,Math.floor(t[p+1]+s));c-=d,h-=f;for(let p=n;p<o;p+=2)t[p]=(t[p]+c)*l,t[p+1]=(t[p+1]+h)*u}};let Ob=VI;Ob.BATCHABLE_SIZE=100;class Ku{constructor(){this.color=16777215,this.alpha=1,this.texture=J.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Ku;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=J.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class Yf extends Ku{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=di.BUTT,this.join=wn.MITER,this.miterLimit=10}clone(){const e=new Yf;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const Wue=new Float32Array(3),fm={},xh=class extends Bt{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Ku,this._lineStyle=new Yf,this._matrix=null,this._holeMode=!1,this.state=Or.for2d(),this._geometry=t||new Ob,this._geometry.refCount++,this._transformID=-1,this.tint=16777215,this.blendMode=ae.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new xh(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tint}set tint(t){this._tint=t}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,n=1,r=.5,i=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:n,alignment:r,native:i}),this.lineTextureStyle(t)}lineTextureStyle(t){t=Object.assign({width:0,texture:J.WHITE,color:t!=null&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:di.BUTT,join:wn.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();const e=t.width>0&&t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:e},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new ds,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new ds,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,r=n[n.length-2],i=n[n.length-1];return(r!==t||i!==e)&&n.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,n,r){this._initCurve();const i=this.currentPath.points;return i.length===0&&this.moveTo(0,0),Xf.curveTo(t,e,n,r,i),this}bezierCurveTo(t,e,n,r,i,s){return this._initCurve(),Vf.curveTo(t,e,n,r,i,s,this.currentPath.points),this}arcTo(t,e,n,r,i){this._initCurve(t,e);const s=this.currentPath.points,o=Gv.curveTo(t,e,n,r,i,s);if(o){const{cx:a,cy:l,radius:u,startAngle:c,endAngle:h,anticlockwise:d}=o;this.arc(a,l,u,c,h,d)}return this}arc(t,e,n,r,i,s=!1){if(r===i)return this;if(!s&&i<=r?i+=hu:s&&r<=i&&(r+=hu),i-r===0)return this;const a=t+Math.cos(r)*n,l=e+Math.sin(r)*n,u=this._geometry.closePointEps;let c=this.currentPath?this.currentPath.points:null;if(c){const h=Math.abs(c[c.length-2]-a),d=Math.abs(c[c.length-1]-l);h<u&&d<u||c.push(a,l)}else this.moveTo(a,l),c=this.currentPath.points;return Gv.arc(a,l,t,e,n,r,i,s,c),this}beginFill(t=0,e=1){return this.beginTextureFill({texture:J.WHITE,color:t,alpha:e})}beginTextureFill(t){t=Object.assign({texture:J.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();const e=t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:e},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,n,r){return this.drawShape(new me(t,e,n,r))}drawRoundedRect(t,e,n,r,i){return this.drawShape(new oa(t,e,n,r,i))}drawCircle(t,e,n){return this.drawShape(new sa(t,e,n))}drawEllipse(t,e,n,r){return this.drawShape(new zf(t,e,n,r))}drawPolygon(...t){let e,n=!0;const r=t[0];r.points?(n=r.closeStroke,e=r.points):Array.isArray(t[0])?e=t[0]:e=t;const i=new ds(e);return i.closeStroke=n,this.drawShape(i),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===mt.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,n=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(t.points);for(let r=0;r<n;r++){const i=t.batches[r],s=i.style.color,o=new Float32Array(this.vertexData.buffer,i.attribStart*4*2,i.attribSize*2),a=new Float32Array(t.uvsFloat32.buffer,i.attribStart*4*2,i.attribSize*2),l=new Uint16Array(t.indicesUint16.buffer,i.start*2,i.size),u={vertexData:o,blendMode:e,indices:l,uvs:a,_batchRGB:Es(s),_tintRGB:s,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[r]=u}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,n=this.batches.length;e<n;e++){const r=this.batches[e];r.worldAlpha=this.worldAlpha*r.alpha,t.plugins[this.pluginName].render(r)}}}_renderDirect(t){const e=this._resolveDirectShader(t),n=this._geometry,r=this.tint,i=this.worldAlpha,s=e.uniforms,o=n.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(r>>16&255)/255*i,s.tint[1]=(r>>8&255)/255*i,s.tint[2]=(r&255)/255*i,s.tint[3]=i,t.shader.bind(e),t.geometry.bind(n,e),t.state.set(this.state);for(let a=0,l=o.length;a<l;a++)this._renderDrawCallDirect(t,n.drawCalls[a])}_renderDrawCallDirect(t,e){const{texArray:n,type:r,size:i,start:s}=e,o=n.count;for(let a=0;a<o;a++)t.texture.bind(n.elements[a],a);t.geometry.draw(r,i,s)}_resolveDirectShader(t){let e=this.shader;const n=this.pluginName;if(!e){if(!fm[n]){const{maxTextures:r}=t.plugins[n],i=new Int32Array(r);for(let a=0;a<r;a++)i[a]=a;const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new je,default:kn.from({uSamplers:i},!0)},o=t.plugins[n]._shader.program;fm[n]=new ir(o,s)}e=fm[n]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:n,maxX:r,maxY:i}=t.bounds;this._bounds.addFrame(this.transform,e,n,r,i)}containsPoint(t){return this.worldTransform.applyInverse(t,xh._TEMP_POINT),this._geometry.containsPoint(xh._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this.tint;const t=Es(this.tint,Wue);for(let e=0;e<this.batches.length;e++){const n=this.batches[e],r=n._batchRGB,i=t[0]*r[0]*255,s=t[1]*r[1]*255,o=t[2]*r[2]*255,a=(i<<16)+(s<<8)+(o|0);n._tintRGB=(a>>16)+(a&65280)+((a&255)<<16)}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,n=e.a,r=e.b,i=e.c,s=e.d,o=e.tx,a=e.ty,l=this._geometry.points,u=this.vertexData;let c=0;for(let h=0;h<l.length;h+=2){const d=l[h],f=l[h+1];u[c++]=n*d+i*f+o,u[c++]=s*f+r*d+a}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};let Cs=xh;Cs.curves=Pi;Cs._TEMP_POINT=new oe;const Vue={buildPoly:Pb,buildCircle:gu,buildRectangle:HI,buildRoundedRectangle:GI,buildLine:Wv,ArcUtils:Gv,BezierUtils:Vf,QuadraticUtils:Xf,BatchPart:WI,FILL_COMMANDS:bh,BATCH_POOL:Vv,DRAW_CALL_POOL:fl};class XI{constructor(e,n){this.uvBuffer=e,this.uvMatrix=n,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const n=this.uvBuffer.data;(!this.data||this.data.length!==n.length)&&(this.data=new Float32Array(n.length)),this.uvMatrix.multiplyUvs(n,this.data),this._updateID++}}const pm=new oe,LS=new ds,YI=class extends Bt{constructor(t,e,n,r=Zn.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=n||Or.for2d(),this.drawMode=r,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=ee.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Zn.TRIANGLES&&e.length<YI.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]),t.plugins[r].render(this)}calculateVertices(){const e=this.geometry.buffers[0],n=e.data,r=e._updateID;if(r===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==n.length&&(this.vertexData=new Float32Array(n.length));const i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,l=i.d,u=i.tx,c=i.ty,h=this.vertexData;for(let d=0;d<h.length/2;d++){const f=n[d*2],p=n[d*2+1];h[d*2]=s*f+a*p+u,h[d*2+1]=o*f+l*p+c}if(this._roundPixels){const d=ee.RESOLUTION;for(let f=0;f<h.length;++f)h[f]=Math.round(h[f]*d)/d}this.vertexDirty=r}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new XI(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,pm);const e=this.geometry.getBuffer("aVertexPosition").data,n=LS.points,r=this.geometry.getIndex().data,i=r.length,s=this.drawMode===4?3:1;for(let o=0;o+2<i;o+=s){const a=r[o]*2,l=r[o+1]*2,u=r[o+2]*2;if(n[0]=e[a],n[1]=e[a+1],n[2]=e[l],n[3]=e[l+1],n[4]=e[u],n[5]=e[u+1],LS.contains(pm.x,pm.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let Ts=YI;Ts.BATCHABLE_SIZE=100;class Zu extends Xr{constructor(e,n,r){super();const i=new tt(e),s=new tt(n,!0),o=new tt(r,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,se.FLOAT).addAttribute("aTextureCoord",s,2,!1,se.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var Xue=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,Yue=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class ua extends ir{constructor(e,n){const r={uSampler:e,alpha:1,uTextureMatrix:je.IDENTITY,uColor:new Float32Array([1,1,1,1])};n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(r,n.uniforms),super(n.program||Pn.from(Yue,Xue),r),this._colorDirty=!1,this.uvMatrix=new Hf(e),this.batchable=n.program===void 0,this.pluginName=n.pluginName,this.tint=n.tint,this.alpha=n.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16),this._colorDirty=!0)}get tint(){return this._tint}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture;H1(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class qI extends Zu{constructor(e=100,n=100,r=10,i=10){super(),this.segWidth=r,this.segHeight=i,this.width=e,this.height=n,this.build()}build(){const e=this.segWidth*this.segHeight,n=[],r=[],i=[],s=this.segWidth-1,o=this.segHeight-1,a=this.width/s,l=this.height/o;for(let c=0;c<e;c++){const h=c%this.segWidth,d=c/this.segWidth|0;n.push(h*a,d*l),r.push(h/s,d/o)}const u=s*o;for(let c=0;c<u;c++){const h=c%s,d=c/s|0,f=d*this.segWidth+h,p=d*this.segWidth+h+1,m=(d+1)*this.segWidth+h,g=(d+1)*this.segWidth+h+1;i.push(f,p,m,p,g,m)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class KI extends Zu{constructor(e=200,n,r=0){super(new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6)),this.points=n,this._width=e,this.textureScale=r,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const n=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;n.data.length/4!==e.length&&(n.data=new Float32Array(e.length*4),r.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=r.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let a=0,l=e[0];const u=this._width*this.textureScale,c=e.length;for(let d=0;d<c;d++){const f=d*4;if(this.textureScale>0){const p=l.x-e[d].x,m=l.y-e[d].y,g=Math.sqrt(p*p+m*m);l=e[d],a+=g/u}else a=d/(c-1);s[f]=a,s[f+1]=0,s[f+2]=a,s[f+3]=1}let h=0;for(let d=0;d<c-1;d++){const f=d*2;o[h++]=f,o[h++]=f+1,o[h++]=f+2,o[h++]=f+2,o[h++]=f+1,o[h++]=f+3}r.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let n=e[0],r,i=0,s=0;const o=this.buffers[0].data,a=e.length,l=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let u=0;u<a;u++){const c=e[u],h=u*4;u<e.length-1?r=e[u+1]:r=c,s=-(r.x-n.x),i=r.y-n.y;const d=Math.sqrt(i*i+s*s);d<1e-6?(i=0,s=0):(i/=d,s/=d,i*=l,s*=l),o[h]=c.x+i,o[h+1]=c.y+s,o[h+2]=c.x-i,o[h+3]=c.y-s,n=c}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class ZI extends Ts{constructor(e,n,r){const i=new qI(e.width,e.height,n,r),s=new ua(J.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:n,height:r}=this.shader.texture;this.autoResize&&(e.width!==n||e.height!==r)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const Wc=10;class que extends ZI{constructor(e,n=Wc,r=Wc,i=Wc,s=Wc){super(J.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=n,this._rightWidth=i,this._topHeight=r,this._bottomHeight=s,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,n=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*n,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*n,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,n=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*n,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*n,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,n=this._width>e?1:this._width/e,r=this._topHeight+this._bottomHeight,i=this._height>r?1:this._height/r;return Math.min(n,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,n=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const r=1/this._origWidth,i=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=r*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-r*this._rightWidth,n[9]=n[11]=n[13]=n[15]=i*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class Kue extends Ts{constructor(e=J.EMPTY,n,r,i,s){const o=new Zu(n,r,i);o.getBuffer("aVertexPosition").static=!1;const a=new ua(e);super(o,a,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class Zue extends Ts{constructor(e,n,r=0){const i=new KI(e.height,n,r),s=new ua(e);r>0&&(e.baseTexture.wrapMode=Cr.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),super._render(e)}}class Que extends Bt{constructor(e=1500,n,r=16384,i=!1){super();const s=16384;r>s&&(r=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=r,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=ae.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(n),this._tint=0,this.tintRgb=new Float32Array(4),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tint}set tint(e){this._tint=e,Es(e,this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const n=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class US{constructor(e,n,r){this.geometry=new Xr,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||se.FLOAT,offset:s.offset},n[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let n=0;this.indexBuffer=new tt(OO(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=n,n+=a.size,this.dynamicStride+=a.size}const r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new tt(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new tt(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===se.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===se.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,n,r){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,n,r,s.type===se.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,n,r){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,n,r,s.type===se.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var Jue=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,ece=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class Ib extends Xu{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new je,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:se.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=ir.from(ece,Jue,{}),this.state=Or.for2d()}render(e){const n=e.children,r=e._maxSize,i=e._batchSize,s=this.renderer;let o=n.length;if(o===0)return;o>r&&!e.autoResize&&(o=r);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const l=n[0]._texture.baseTexture,u=l.alphaMode>0;this.state.blendMode=z1(e.blendMode,u),s.state.set(this.state);const c=s.gl,h=e.worldTransform.copyTo(this.tempMatrix);h.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=h.toArray(!0),this.shader.uniforms.uColor=AO(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,u),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);let d=!1;for(let f=0,p=0;f<o;f+=i,p+=1){let m=o-f;m>i&&(m=i),p>=a.length&&a.push(this._generateOneMoreBuffer(e));const g=a[p];g.uploadDynamic(n,f,m);const v=e._bufferUpdateIDs[p]||0;d=d||g._updateID<v,d&&(g._updateID=e._updateID,g.uploadStatic(n,f,m)),s.geometry.bind(g.geometry),c.drawElements(c.TRIANGLES,m*6,c.UNSIGNED_SHORT,0)}}generateBuffers(e){const n=[],r=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<r;o+=i)n.push(new US(this.properties,s,i));return n}_generateOneMoreBuffer(e){const n=e._batchSize,r=e._properties;return new US(this.properties,r,n)}uploadVertices(e,n,r,i,s,o){let a=0,l=0,u=0,c=0;for(let h=0;h<r;++h){const d=e[n+h],f=d._texture,p=d.scale.x,m=d.scale.y,g=f.trim,v=f.orig;g?(l=g.x-d.anchor.x*v.width,a=l+g.width,c=g.y-d.anchor.y*v.height,u=c+g.height):(a=v.width*(1-d.anchor.x),l=v.width*-d.anchor.x,u=v.height*(1-d.anchor.y),c=v.height*-d.anchor.y),i[o]=l*p,i[o+1]=c*m,i[o+s]=a*p,i[o+s+1]=c*m,i[o+s*2]=a*p,i[o+s*2+1]=u*m,i[o+s*3]=l*p,i[o+s*3+1]=u*m,o+=s*4}}uploadPosition(e,n,r,i,s,o){for(let a=0;a<r;a++){const l=e[n+a].position;i[o]=l.x,i[o+1]=l.y,i[o+s]=l.x,i[o+s+1]=l.y,i[o+s*2]=l.x,i[o+s*2+1]=l.y,i[o+s*3]=l.x,i[o+s*3+1]=l.y,o+=s*4}}uploadRotation(e,n,r,i,s,o){for(let a=0;a<r;a++){const l=e[n+a].rotation;i[o]=l,i[o+s]=l,i[o+s*2]=l,i[o+s*3]=l,o+=s*4}}uploadUvs(e,n,r,i,s,o){for(let a=0;a<r;++a){const l=e[n+a]._texture._uvs;l?(i[o]=l.x0,i[o+1]=l.y0,i[o+s]=l.x1,i[o+s+1]=l.y1,i[o+s*2]=l.x2,i[o+s*2+1]=l.y2,i[o+s*3]=l.x3,i[o+s*3+1]=l.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,n,r,i,s,o){for(let a=0;a<r;++a){const l=e[n+a],u=l._texture.baseTexture.alphaMode>0,c=l.alpha,h=c<1&&u?Uf(l._tintRGB,c):l._tintRGB+(c*255<<24);i[o]=h,i[o+s]=h,i[o+s*2]=h,i[o+s*3]=h,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}Ib.extension={name:"particle",type:Q.RendererPlugin};ie.add(Ib);var Qu=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Qu||{});const Vc={willReadFrequently:!0},ne=class{static get experimentalLetterSpacingSupported(){let t=ne._experimentalLetterSpacingSupported;if(t!==void 0){const e=ee.ADAPTER.getCanvasRenderingContext2D().prototype;t=ne._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,n,r,i,s,o,a,l){this.text=t,this.style=e,this.width=n,this.height=r,this.lines=i,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=l}static measureText(t,e,n,r=ne._canvas){n=n??e.wordWrap;const i=e.toFontString(),s=ne.measureFont(i);s.fontSize===0&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);const o=r.getContext("2d",Vc);o.font=i;const l=(n?ne.wordWrap(t,e,r):t).split(/(?:\r\n|\r|\n)/),u=new Array(l.length);let c=0;for(let p=0;p<l.length;p++){const m=ne._measureText(l[p],e.letterSpacing,o);u[p]=m,c=Math.max(c,m)}let h=c+e.strokeThickness;e.dropShadow&&(h+=e.dropShadowDistance);const d=e.lineHeight||s.fontSize+e.strokeThickness;let f=Math.max(d,s.fontSize+e.strokeThickness*2)+(l.length-1)*(d+e.leading);return e.dropShadow&&(f+=e.dropShadowDistance),new ne(t,e,h,f,l,u,d+e.leading,c,s)}static _measureText(t,e,n){let r=!1;ne.experimentalLetterSpacingSupported&&(ne.experimentalLetterSpacing?(n.letterSpacing=`${e}px`,n.textLetterSpacing=`${e}px`,r=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let i=n.measureText(t).width;return i>0&&(r?i-=e:i+=(ne.graphemeSegmenter(t).length-1)*e),i}static wordWrap(t,e,n=ne._canvas){const r=n.getContext("2d",Vc);let i=0,s="",o="";const a=Object.create(null),{letterSpacing:l,whiteSpace:u}=e,c=ne.collapseSpaces(u),h=ne.collapseNewlines(u);let d=!c;const f=e.wordWrapWidth+l,p=ne.tokenize(t);for(let m=0;m<p.length;m++){let g=p[m];if(ne.isNewline(g)){if(!h){o+=ne.addLine(s),d=!c,s="",i=0;continue}g=" "}if(c){const b=ne.isBreakingSpace(g),y=ne.isBreakingSpace(s[s.length-1]);if(b&&y)continue}const v=ne.getFromCache(g,l,a,r);if(v>f)if(s!==""&&(o+=ne.addLine(s),s="",i=0),ne.canBreakWords(g,e.breakWords)){const b=ne.wordWrapSplit(g);for(let y=0;y<b.length;y++){let x=b[y],S=x,C=1;for(;b[y+C];){const A=b[y+C];if(!ne.canBreakChars(S,A,g,y,e.breakWords))x+=A;else break;S=A,C++}y+=C-1;const T=ne.getFromCache(x,l,a,r);T+i>f&&(o+=ne.addLine(s),d=!1,s="",i=0),s+=x,i+=T}}else{s.length>0&&(o+=ne.addLine(s),s="",i=0);const b=m===p.length-1;o+=ne.addLine(g,!b),d=!1,s="",i=0}else v+i>f&&(d=!1,o+=ne.addLine(s),s="",i=0),(s.length>0||!ne.isBreakingSpace(g)||d)&&(s+=g,i+=v)}return o+=ne.addLine(s,!1),o}static addLine(t,e=!0){return t=ne.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,n,r){let i=n[t];return typeof i!="number"&&(i=ne._measureText(t,e,r)+e,n[t]=i),i}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const n=t[e];if(!ne.isBreakingSpace(n))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:ne._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:ne._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let n="";if(typeof t!="string")return e;for(let r=0;r<t.length;r++){const i=t[r],s=t[r+1];if(ne.isBreakingSpace(i,s)||ne.isNewline(i)){n!==""&&(e.push(n),n=""),e.push(i);continue}n+=i}return n!==""&&e.push(n),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,n,r,i){return!0}static wordWrapSplit(t){return ne.graphemeSegmenter(t)}static measureFont(t){if(ne._fonts[t])return ne._fonts[t];const e={ascent:0,descent:0,fontSize:0},n=ne._canvas,r=ne._context;r.font=t;const i=ne.METRICS_STRING+ne.BASELINE_SYMBOL,s=Math.ceil(r.measureText(i).width);let o=Math.ceil(r.measureText(ne.BASELINE_SYMBOL).width);const a=Math.ceil(ne.HEIGHT_MULTIPLIER*o);if(o=o*ne.BASELINE_MULTIPLIER|0,s===0||a===0)return ne._fonts[t]=e,e;n.width=s,n.height=a,r.fillStyle="#f00",r.fillRect(0,0,s,a),r.font=t,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(i,0,o);const l=r.getImageData(0,0,s,a).data,u=l.length,c=s*4;let h=0,d=0,f=!1;for(h=0;h<o;++h){for(let p=0;p<c;p+=4)if(l[d+p]!==255){f=!0;break}if(!f)d+=c;else break}for(e.ascent=o-h,d=u-c,f=!1,h=a;h>o;--h){for(let p=0;p<c;p+=4)if(l[d+p]!==255){f=!0;break}if(!f)d-=c;else break}return e.descent=h-o,e.fontSize=e.ascent+e.descent,ne._fonts[t]=e,e}static clearMetrics(t=""){t?delete ne._fonts[t]:ne._fonts={}}static get _canvas(){if(!ne.__canvas){let t;try{const e=new OffscreenCanvas(0,0),n=e.getContext("2d",Vc);if(n!=null&&n.measureText)return ne.__canvas=e,e;t=ee.ADAPTER.createCanvas()}catch{t=ee.ADAPTER.createCanvas()}t.width=t.height=10,ne.__canvas=t}return ne.__canvas}static get _context(){return ne.__context||(ne.__context=ne._canvas.getContext("2d",Vc)),ne.__context}};let pt=ne;pt.METRICS_STRING="|ÉqÅ";pt.BASELINE_SYMBOL="M";pt.BASELINE_MULTIPLIER=1.4;pt.HEIGHT_MULTIPLIER=2;pt.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(n=>n.segment)}return t=>[...t]})();pt.experimentalLetterSpacing=!1;pt._fonts={};pt._newlines=[10,13];pt._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const tce=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],pl=class{constructor(t){this.styleID=0,this.reset(),gm(this,t,t)}clone(){const t={};return gm(t,this,pl.defaultStyle),new pl(t)}reset(){gm(this,pl.defaultStyle,pl.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=mm(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=mm(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){nce(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=mm(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let n=e.length-1;n>=0;n--){let r=e[n].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&!tce.includes(r)&&(r=`"${r}"`),e[n]=r}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};let Oi=pl;Oi.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Qu.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};function jS(t){return typeof t=="number"?U1(t):(typeof t=="string"&&t.startsWith("0x")&&(t=t.replace("0x","#")),t)}function mm(t){if(Array.isArray(t)){for(let e=0;e<t.length;++e)t[e]=jS(t[e]);return t}else return jS(t)}function nce(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}function gm(t,e,n){for(const r in n)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}const rce={texture:!0,children:!1,baseTexture:!0},Xv=class extends Ni{constructor(t,e,n){let r=!1;n||(n=ee.ADAPTER.createCanvas(),r=!0),n.width=3,n.height=3;const i=J.from(n);i.orig=new me,i.trim=new me,super(i),this._ownCanvas=r,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=Xv.defaultResolution??ee.RESOLUTION,this._autoResolution=Xv.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return pt.experimentalLetterSpacing}static set experimentalLetterSpacing(t){be("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),pt.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const n=this.context,r=pt.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=r.width,s=r.height,o=r.lines,a=r.lineHeight,l=r.lineWidths,u=r.maxLineWidth,c=r.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,i)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+e.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;let h,d;const f=e.dropShadow?2:1;for(let p=0;p<f;++p){const m=e.dropShadow&&p===0,g=m?Math.ceil(Math.max(1,s)+e.padding*2):0,v=g*this._resolution;if(m){n.fillStyle="black",n.strokeStyle="black";const y=e.dropShadowColor,x=Es(typeof y=="number"?y:Lf(y)),S=e.dropShadowBlur*this._resolution,C=e.dropShadowDistance*this._resolution;n.shadowColor=`rgba(${x[0]*255},${x[1]*255},${x[2]*255},${e.dropShadowAlpha})`,n.shadowBlur=S,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*C,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*C+v}else n.fillStyle=this._generateFillStyle(e,o,r),n.strokeStyle=e.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let b=(a-c.fontSize)/2;a-c.fontSize<0&&(b=0);for(let y=0;y<o.length;y++)h=e.strokeThickness/2,d=e.strokeThickness/2+y*a+c.ascent+b,e.align==="right"?h+=u-l[y]:e.align==="center"&&(h+=(u-l[y])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(o[y],h+e.padding,d+e.padding-g,!0),e.fill&&this.drawLetterSpacing(o[y],h+e.padding,d+e.padding-g)}this.updateTexture()}drawLetterSpacing(t,e,n,r=!1){const s=this._style.letterSpacing;let o=!1;if(pt.experimentalLetterSpacingSupported&&(pt.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){r?this.context.strokeText(t,e,n):this.context.fillText(t,e,n);return}let a=e;const l=pt.graphemeSegmenter(t);let u=this.context.measureText(t).width,c=0;for(let h=0;h<l.length;++h){const d=l[h];r?this.context.strokeText(d,a,n):this.context.fillText(d,a,n);let f="";for(let p=h+1;p<l.length;++p)f+=l[p];c=this.context.measureText(f).width,a+=u-c+s,u=c}}updateTexture(){const t=this.canvas;if(this._style.trim){const s=RO(t);s.data&&(t.width=s.width,t.height=s.height,this.context.putImageData(s.data,0,0))}const e=this._texture,n=this._style,r=n.trim?0:n.padding,i=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-r,e.trim.y=-r,e.orig.width=e._frame.width-r*2,e.orig.height=e._frame.height-r*2,this._onTextureUpdate(),i.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,n){const r=t.fill;if(Array.isArray(r)){if(r.length===1)return r[0]}else return r;let i;const s=t.dropShadow?t.dropShadowDistance:0,o=t.padding||0,a=this.canvas.width/this._resolution-s-o*2,l=this.canvas.height/this._resolution-s-o*2,u=r.slice(),c=t.fillGradientStops.slice();if(!c.length){const h=u.length+1;for(let d=1;d<h;++d)c.push(d/h)}if(u.unshift(r[0]),c.unshift(0),u.push(r[r.length-1]),c.push(1),t.fillGradientType===Qu.LINEAR_VERTICAL){i=this.context.createLinearGradient(a/2,o,a/2,l+o);const h=n.fontProperties.fontSize+t.strokeThickness;for(let d=0;d<e.length;d++){const f=n.lineHeight*(d-1)+h,p=n.lineHeight*d;let m=p;d>0&&f>p&&(m=(p+f)/2);const g=p+h,v=n.lineHeight*(d+1);let b=g;d+1<e.length&&v<g&&(b=(g+v)/2);const y=(b-m)/l;for(let x=0;x<u.length;x++){let S=0;typeof c[x]=="number"?S=c[x]:S=x/u.length;let C=Math.min(1,Math.max(0,m/l+S*y));C=Number(C.toFixed(5)),i.addColorStop(C,u[x])}}}else{i=this.context.createLinearGradient(o,l/2,a+o,l/2);const h=u.length+1;let d=1;for(let f=0;f<u.length;f++){let p;typeof c[f]=="number"?p=c[f]:p=d/h,i.addColorStop(p,u[f]),d++}}return i}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},rce,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=ts(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=ts(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof Oi?this._style=t:this._style=new Oi(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};let ca=Xv;ca.defaultAutoResolution=!0;class QI{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function ice(t,e){var r;let n=!1;if((r=t==null?void 0:t._textures)!=null&&r.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof J){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),n=!0)}}return n}function sce(t,e){if(t.baseTexture instanceof fe){const n=t.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function oce(t,e){if(t._texture&&t._texture instanceof J){const n=t._texture.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function ace(t,e){return e instanceof ca?(e.updateText(!0),!0):!1}function lce(t,e){if(e instanceof Oi){const n=e.toFontString();return pt.measureFont(n),!0}return!1}function uce(t,e){if(t instanceof ca){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const n=t._texture.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function cce(t,e){return t instanceof Oi?(e.includes(t)||e.push(t),!0):!1}const JI=class{constructor(t){this.limiter=new QI(JI.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(uce),this.registerFindHook(cce),this.registerFindHook(ice),this.registerFindHook(sce),this.registerFindHook(oce),this.registerUploadHook(ace),this.registerUploadHook(lce)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,lt.system.addOnce(this.tick,this,Ai.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed){for(let n=0,r=this.uploadHooks.length;n<r;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)lt.system.addOnce(this.tick,this,Ai.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,n=t.length;e<n;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,n=this.addHooks.length;e<n&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Bt)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&lt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let yu=JI;yu.uploadsPerFrame=4;Object.defineProperties(ee,{UPLOADS_PER_FRAME:{get(){return yu.uploadsPerFrame},set(t){be("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),yu.uploadsPerFrame=t}}});function ek(t,e){return e instanceof fe?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function hce(t,e){if(!(e instanceof Cs))return!1;const{geometry:n}=e;e.finishPoly(),n.updateBatches();const{batches:r}=n;for(let i=0;i<r.length;i++){const{texture:s}=r[i].style;s&&ek(t,s.baseTexture)}return n.batchable||t.geometry.bind(n,e._resolveDirectShader(t)),!0}function dce(t,e){return t instanceof Cs?(e.push(t),!0):!1}class kb extends yu{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(dce),this.registerUploadHook(ek),this.registerUploadHook(hce)}}kb.extension={name:"prepare",type:Q.RendererSystem};ie.add(kb);class fce{constructor(e){this.maxMilliseconds=e,this.frameStart=0}beginFrame(){this.frameStart=Date.now()}allowedToUpload(){return Date.now()-this.frameStart<this.maxMilliseconds}}class Cd extends Ni{constructor(e,n=!0){super(e[0]instanceof J?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=n,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(lt.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(lt.shared.add(this.update,this,Ai.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const n=this.animationSpeed*e,r=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=n/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const n=[];for(let r=0;r<e.length;++r)n.push(J.from(e[r]));return new Cd(n)}static fromImages(e){const n=[];for(let r=0;r<e.length;++r)n.push(J.from(e[r]));return new Cd(n)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof J)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let n=0;n<e.length;n++)this._textures.push(e[n].texture),this._durations.push(e[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const n=this.currentFrame;this._currentTime=e,n!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(lt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(lt.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const Qa=new oe;class Rb extends Ni{constructor(e,n=100,r=100){super(e),this.tileTransform=new Vu,this._width=n,this._height=r,this.uvMatrix=this.texture.uvMatrix||new Hf(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,n=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,n,r,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new me),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Qa);const n=this._width,r=this._height,i=-n*this.anchor._x;if(Qa.x>=i&&Qa.x<i+n){const s=-r*this.anchor._y;if(Qa.y>=s&&Qa.y<s+r)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,n){const r=e instanceof J?e:J.from(e,n);return new Rb(r,n.width,n.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var pce=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,mce=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,gce=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,zS=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,vce=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const Xc=new je;class Mb extends Xu{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new J1,this.state=Or.for2d()}contextChange(){const e=this.renderer,n={globals:e.globalUniforms};this.simpleShader=ir.from(zS,vce,n),this.shader=e.context.webGLVersion>1?ir.from(mce,pce,n):ir.from(zS,gce,n)}render(e){const n=this.renderer,r=this.quad;let i=r.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=r.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,r.invalidate();const a=e._texture,l=a.baseTexture,u=l.alphaMode>0,c=e.tileTransform.localTransform,h=e.uvMatrix;let d=l.isPowerOfTwo&&a.frame.width===l.width&&a.frame.height===l.height;d&&(l._glTextures[n.CONTEXT_UID]?d=l.wrapMode!==Cr.CLAMP:l.wrapMode===Cr.CLAMP&&(l.wrapMode=Cr.REPEAT));const f=d?this.simpleShader:this.shader,p=a.width,m=a.height,g=e._width,v=e._height;Xc.set(c.a*p/g,c.b*p/v,c.c*m/g,c.d*m/v,c.tx/g,c.ty/v),Xc.invert(),d?Xc.prepend(h.mapCoord):(f.uniforms.uMapCoord=h.mapCoord.toArray(!0),f.uniforms.uClampFrame=h.uClampFrame,f.uniforms.uClampOffset=h.uClampOffset),f.uniforms.uTransform=Xc.toArray(!0),f.uniforms.uColor=H1(e.tint,e.worldAlpha,f.uniforms.uColor,u),f.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),f.uniforms.uSampler=a,n.shader.bind(f),n.geometry.bind(r),this.state.blendMode=z1(e.blendMode,u),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}Mb.extension={name:"tilingSprite",type:Q.RendererPlugin};ie.add(Mb);const ml=class{constructor(t,e,n=null){this.linkedSheets=[],this._texture=t instanceof J?t:null,this.baseTexture=t instanceof fe?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const r=this.baseTexture.resource;this.resolution=this._updateResolution(n||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let n=Vr(t,null);return n===null&&(n=parseFloat(e??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=ml.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const n=ml.BATCH_SIZE;for(;e-t<n&&e<this._frameKeys.length;){const r=this._frameKeys[e],i=this._frames[r],s=i.frame;if(s){let o=null,a=null;const l=i.trimmed!==!1&&i.sourceSize?i.sourceSize:i.frame,u=new me(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);i.rotated?o=new me(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):o=new me(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),i.trimmed!==!1&&i.spriteSourceSize&&(a=new me(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[r]=new J(this.baseTexture,o,u,a,i.rotated?2:0,i.anchor),J.addToCache(this.textures[r],r)}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let n=0;n<t[e].length;n++){const r=t[e][n];this.animations[e].push(this.textures[r])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*ml.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*ml.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var e;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)==null||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let Td=ml;Td.BATCH_SIZE=1e3;const yce=["jpg","png","jpeg","avif","webp"];function tk(t,e,n){const r={};if(t.forEach(i=>{r[i]=e}),Object.keys(e.textures).forEach(i=>{r[i]=e.textures[i]}),!n){const i=yt.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const a=tk([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(r,a)})}return r}const nk={extension:Q.Asset,cache:{test:t=>t instanceof Td,getCacheableAssets:(t,e)=>tk(t,e,!1)},resolver:{test:t=>{const n=t.split("?")[0].split("."),r=n.pop(),i=n.pop();return r==="json"&&yce.includes(i)},parse:t=>{var n;const e=t.split(".");return{resolution:parseFloat(((n=ee.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:e[e.length-2],src:t}}},loader:{extension:{type:Q.LoadParser,priority:cr.Normal},async testParse(t,e){return yt.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,n){var u,c;let r=yt.dirname(e.src);r&&r.lastIndexOf("/")!==r.length-1&&(r+="/");let i=r+t.meta.image;i=Sd(i,e.src);const o=(await n.load([i]))[i],a=new Td(o.baseTexture,t,e.src);await a.parse();const l=(u=t==null?void 0:t.meta)==null?void 0:u.related_multi_packs;if(Array.isArray(l)){const h=[];for(const f of l){if(typeof f!="string")continue;let p=r+f;(c=e.data)!=null&&c.ignoreMultiPack||(p=Sd(p,e.src),h.push(n.load({src:p,data:{ignoreMultiPack:!0}})))}const d=await Promise.all(h);a.linkedSheets=d,d.forEach(f=>{f.linkedSheets=[a].concat(a.linkedSheets.filter(p=>p!==f))})}return a},unload(t){t.destroy(!0)}}};ie.add(nk);class bu{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Al{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const n=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in n){const o=n[s].match(/^[a-z]+/gm)[0],a=n[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),l={};for(const u in a){const c=a[u].split("="),h=c[0],d=c[1].replace(/"/gm,""),f=parseFloat(d),p=isNaN(f)?d:f;l[h]=p}r[o].push(l)}const i=new bu;return r.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),r.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),r.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),r.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),r.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),r.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class Ad{static test(e){const n=e;return"getElementsByTagName"in n&&n.getElementsByTagName("page").length&&n.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const n=new bu,r=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField");for(let u=0;u<r.length;u++)n.info.push({face:r[u].getAttribute("face"),size:parseInt(r[u].getAttribute("size"),10)});for(let u=0;u<i.length;u++)n.common.push({lineHeight:parseInt(i[u].getAttribute("lineHeight"),10)});for(let u=0;u<s.length;u++)n.page.push({id:parseInt(s[u].getAttribute("id"),10)||0,file:s[u].getAttribute("file")});for(let u=0;u<o.length;u++){const c=o[u];n.char.push({id:parseInt(c.getAttribute("id"),10),page:parseInt(c.getAttribute("page"),10)||0,x:parseInt(c.getAttribute("x"),10),y:parseInt(c.getAttribute("y"),10),width:parseInt(c.getAttribute("width"),10),height:parseInt(c.getAttribute("height"),10),xoffset:parseInt(c.getAttribute("xoffset"),10),yoffset:parseInt(c.getAttribute("yoffset"),10),xadvance:parseInt(c.getAttribute("xadvance"),10)})}for(let u=0;u<a.length;u++)n.kerning.push({first:parseInt(a[u].getAttribute("first"),10),second:parseInt(a[u].getAttribute("second"),10),amount:parseInt(a[u].getAttribute("amount"),10)});for(let u=0;u<l.length;u++)n.distanceField.push({fieldType:l[u].getAttribute("fieldType"),distanceRange:parseInt(l[u].getAttribute("distanceRange"),10)});return n}}class Pd{static test(e){return typeof e=="string"&&e.includes("<font>")?Ad.test(ee.ADAPTER.parseXML(e)):!1}static parse(e){return Ad.parse(ee.ADAPTER.parseXML(e))}}const vm=[Al,Ad,Pd];function rk(t){for(let e=0;e<vm.length;e++)if(vm[e].test(t))return vm[e];return null}function bce(t,e,n,r,i,s){const o=n.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const l=n.dropShadow?n.dropShadowDistance:0,u=n.padding||0,c=t.width/r-l-u*2,h=t.height/r-l-u*2,d=o.slice(),f=n.fillGradientStops.slice();if(!f.length){const p=d.length+1;for(let m=1;m<p;++m)f.push(m/p)}if(d.unshift(o[0]),f.unshift(0),d.push(o[o.length-1]),f.push(1),n.fillGradientType===Qu.LINEAR_VERTICAL){a=e.createLinearGradient(c/2,u,c/2,h+u);let p=0;const g=(s.fontProperties.fontSize+n.strokeThickness)/h;for(let v=0;v<i.length;v++){const b=s.lineHeight*v;for(let y=0;y<d.length;y++){let x=0;typeof f[y]=="number"?x=f[y]:x=y/d.length;const S=b/h+x*g;let C=Math.max(p,S);C=Math.min(C,1),a.addColorStop(C,d[y]),p=C}}}else{a=e.createLinearGradient(u,h/2,c+u,h/2);const p=d.length+1;let m=1;for(let g=0;g<d.length;g++){let v;typeof f[g]=="number"?v=f[g]:v=m/p,a.addColorStop(v,d[g]),m++}}return a}function xce(t,e,n,r,i,s,o){const a=n.text,l=n.fontProperties;e.translate(r,i),e.scale(s,s);const u=o.strokeThickness/2,c=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=bce(t,e,o,s,[a],n),e.strokeStyle=o.stroke,o.dropShadow){const h=o.dropShadowColor,d=Es(typeof h=="number"?h:Lf(h)),f=o.dropShadowBlur*s,p=o.dropShadowDistance*s;e.shadowColor=`rgba(${d[0]*255},${d[1]*255},${d[2]*255},${o.dropShadowAlpha})`,e.shadowBlur=f,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*p,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*p}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,u,c+n.lineHeight-l.descent),o.fill&&e.fillText(a,u,c+n.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function wh(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function ik(t){return Array.from?Array.from(t):t.split("")}function wce(t){typeof t=="string"&&(t=[t]);const e=[];for(let n=0,r=t.length;n<r;n++){const i=t[n];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,l=o;a<=l;a++)e.push(String.fromCharCode(a))}else e.push(...ik(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const Gn=class{constructor(t,e,n){var u;const[r]=t.info,[i]=t.common,[s]=t.page,[o]=t.distanceField,a=Vr(s.file),l={};this._ownsTextures=n,this.font=r.face,this.size=r.size,this.lineHeight=i.lineHeight/a,this.chars={},this.pageTextures=l;for(let c=0;c<t.page.length;c++){const{id:h,file:d}=t.page[c];l[h]=e instanceof Array?e[c]:e[d],o!=null&&o.fieldType&&o.fieldType!=="none"&&(l[h].baseTexture.alphaMode=$n.NO_PREMULTIPLIED_ALPHA,l[h].baseTexture.mipmap=ar.OFF)}for(let c=0;c<t.char.length;c++){const{id:h,page:d}=t.char[c];let{x:f,y:p,width:m,height:g,xoffset:v,yoffset:b,xadvance:y}=t.char[c];f/=a,p/=a,m/=a,g/=a,v/=a,b/=a,y/=a;const x=new me(f+l[d].frame.x/a,p+l[d].frame.y/a,m,g);this.chars[h]={xOffset:v,yOffset:b,xAdvance:y,kerning:{},texture:new J(l[d].baseTexture,x),page:d}}for(let c=0;c<t.kerning.length;c++){let{first:h,second:d,amount:f}=t.kerning[c];h/=a,d/=a,f/=a,this.chars[d]&&(this.chars[d].kerning[h]=f)}this.distanceFieldRange=o==null?void 0:o.distanceRange,this.distanceFieldType=((u=o==null?void 0:o.fieldType)==null?void 0:u.toLowerCase())??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,n){let r;if(t instanceof bu)r=t;else{const s=rk(t);if(!s)throw new Error("Unrecognized data format for font.");r=s.parse(t)}e instanceof J&&(e=[e]);const i=new Gn(r,e,n);return Gn.available[i.font]=i,i}static uninstall(t){const e=Gn.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete Gn.available[t]}static from(t,e,n){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:r,padding:i,resolution:s,textureWidth:o,textureHeight:a,...l}=Object.assign({},Gn.defaultOptions,n),u=wce(r),c=e instanceof Oi?e:new Oi(e),h=o,d=new bu;d.info[0]={face:c.fontFamily,size:c.fontSize},d.common[0]={lineHeight:c.fontSize};let f=0,p=0,m,g,v,b=0;const y=[];for(let S=0;S<u.length;S++){m||(m=ee.ADAPTER.createCanvas(),m.width=o,m.height=a,g=m.getContext("2d"),v=new fe(m,{resolution:s,...l}),y.push(new J(v)),d.page.push({id:y.length-1,file:""}));const C=u[S],T=pt.measureText(C,c,!1,m),A=T.width,k=Math.ceil(T.height),M=Math.ceil((c.fontStyle==="italic"?2:1)*A);if(p>=a-k*s){if(p===0)throw new Error(`[BitmapFont] textureHeight ${a}px is too small (fontFamily: '${c.fontFamily}', fontSize: ${c.fontSize}px, char: '${C}')`);--S,m=null,g=null,v=null,p=0,f=0,b=0;continue}if(b=Math.max(k+T.fontProperties.descent,b),M*s+f>=h){if(f===0)throw new Error(`[BitmapFont] textureWidth ${o}px is too small (fontFamily: '${c.fontFamily}', fontSize: ${c.fontSize}px, char: '${C}')`);--S,p+=b*s,p=Math.ceil(p),f=0,b=0;continue}xce(m,g,T,f,p,s,c);const N=wh(T.text);d.char.push({id:N,page:y.length-1,x:f/s,y:p/s,width:M,height:k,xoffset:0,yoffset:0,xadvance:A-(c.dropShadow?c.dropShadowDistance:0)-(c.stroke?c.strokeThickness:0)}),f+=(M+2*i)*s,f=Math.ceil(f)}for(let S=0,C=u.length;S<C;S++){const T=u[S];for(let A=0;A<C;A++){const k=u[A],M=g.measureText(T).width,N=g.measureText(k).width,I=g.measureText(T+k).width-(M+N);I&&d.kerning.push({first:wh(T),second:wh(k),amount:I})}}const x=new Gn(d,y,!0);return Gn.available[t]!==void 0&&Gn.uninstall(t),Gn.available[t]=x,x}};let Rt=Gn;Rt.ALPHA=[["a","z"],["A","Z"]," "];Rt.NUMERIC=[["0","9"]];Rt.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];Rt.ASCII=[[" ","~"]];Rt.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Gn.ALPHANUMERIC};Rt.available={};var _ce=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,Ece=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const HS=[],GS=[],WS=[],sk=class extends Bt{constructor(t,e={}){super(),this._tint=16777215;const{align:n,tint:r,maxWidth:i,letterSpacing:s,fontName:o,fontSize:a}=Object.assign({},sk.styleDefaults,e);if(!Rt.available[o])throw new Error(`Missing BitmapFont "${o}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tint=r,this._font=void 0,this._fontName=o,this._fontSize=a,this.text=t,this._maxWidth=i,this._maxLineHeight=0,this._letterSpacing=s,this._anchor=new Nr(()=>{this.dirty=!0},this,0,0),this._roundPixels=ee.ROUND_PIXELS,this.dirty=!0,this._resolution=ee.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var M;const t=Rt.available[this._fontName],e=this.fontSize,n=e/t.size,r=new oe,i=[],s=[],o=[],a=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",l=ik(a),u=this._maxWidth*t.size/e,c=t.distanceFieldType==="none"?HS:GS;let h=null,d=0,f=0,p=0,m=-1,g=0,v=0,b=0,y=0;for(let N=0;N<l.length;N++){const L=l[N],I=wh(L);if(/(?:\s)/.test(L)&&(m=N,g=d,y++),L==="\r"||L===`
`){s.push(d),o.push(-1),f=Math.max(f,d),++p,++v,r.x=0,r.y+=t.lineHeight,h=null,y=0;continue}const D=t.chars[I];if(!D)continue;h&&D.kerning[h]&&(r.x+=D.kerning[h]);const Z=WS.pop()||{texture:J.EMPTY,line:0,charCode:0,prevSpaces:0,position:new oe};Z.texture=D.texture,Z.line=p,Z.charCode=I,Z.position.x=Math.round(r.x+D.xOffset+this._letterSpacing/2),Z.position.y=Math.round(r.y+D.yOffset),Z.prevSpaces=y,i.push(Z),d=Z.position.x+Math.max(D.xAdvance-D.xOffset,D.texture.orig.width),r.x+=D.xAdvance+this._letterSpacing,b=Math.max(b,D.yOffset+D.texture.height),h=I,m!==-1&&u>0&&r.x>u&&(++v,hs(i,1+m-v,1+N-m),N=m,m=-1,s.push(g),o.push(i.length>0?i[i.length-1].prevSpaces:0),f=Math.max(f,g),p++,r.x=0,r.y+=t.lineHeight,h=null,y=0)}const x=l[l.length-1];x!=="\r"&&x!==`
`&&(/(?:\s)/.test(x)&&(d=g),s.push(d),f=Math.max(f,d),o.push(-1));const S=[];for(let N=0;N<=p;N++){let L=0;this._align==="right"?L=f-s[N]:this._align==="center"?L=(f-s[N])/2:this._align==="justify"&&(L=o[N]<0?0:(f-s[N])/o[N]),S.push(L)}const C=i.length,T={},A=[],k=this._activePagesMeshData;c.push(...k);for(let N=0;N<C;N++){const L=i[N].texture,I=L.baseTexture.uid;if(!T[I]){let D=c.pop();if(!D){const q=new Zu;let z,B;t.distanceFieldType==="none"?(z=new ua(J.EMPTY),B=ae.NORMAL):(z=new ua(J.EMPTY,{program:Pn.from(Ece,_ce),uniforms:{uFWidth:0}}),B=ae.NORMAL_NPM);const V=new Ts(q,z);V.blendMode=B,D={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:V,vertices:null,uvs:null,indices:null}}D.index=0,D.indexCount=0,D.vertexCount=0,D.uvsCount=0,D.total=0;const{_textureCache:Z}=this;Z[I]=Z[I]||new J(L.baseTexture),D.mesh.texture=Z[I],D.mesh.tint=this._tint,A.push(D),T[I]=D}T[I].total++}for(let N=0;N<k.length;N++)A.includes(k[N])||this.removeChild(k[N].mesh);for(let N=0;N<A.length;N++)A[N].mesh.parent!==this&&this.addChild(A[N].mesh);this._activePagesMeshData=A;for(const N in T){const L=T[N],I=L.total;if(!(((M=L.indices)==null?void 0:M.length)>6*I)||L.vertices.length<Ts.BATCHABLE_SIZE*2)L.vertices=new Float32Array(4*2*I),L.uvs=new Float32Array(4*2*I),L.indices=new Uint16Array(6*I);else{const D=L.total,Z=L.vertices;for(let q=D*4*2;q<Z.length;q++)Z[q]=0}L.mesh.size=6*I}for(let N=0;N<C;N++){const L=i[N];let I=L.position.x+S[L.line]*(this._align==="justify"?L.prevSpaces:1);this._roundPixels&&(I=Math.round(I));const D=I*n,Z=L.position.y*n,q=L.texture,z=T[q.baseTexture.uid],B=q.frame,V=q._uvs,F=z.index++;z.indices[F*6+0]=0+F*4,z.indices[F*6+1]=1+F*4,z.indices[F*6+2]=2+F*4,z.indices[F*6+3]=0+F*4,z.indices[F*6+4]=2+F*4,z.indices[F*6+5]=3+F*4,z.vertices[F*8+0]=D,z.vertices[F*8+1]=Z,z.vertices[F*8+2]=D+B.width*n,z.vertices[F*8+3]=Z,z.vertices[F*8+4]=D+B.width*n,z.vertices[F*8+5]=Z+B.height*n,z.vertices[F*8+6]=D,z.vertices[F*8+7]=Z+B.height*n,z.uvs[F*8+0]=V.x0,z.uvs[F*8+1]=V.y0,z.uvs[F*8+2]=V.x1,z.uvs[F*8+3]=V.y1,z.uvs[F*8+4]=V.x2,z.uvs[F*8+5]=V.y2,z.uvs[F*8+6]=V.x3,z.uvs[F*8+7]=V.y3}this._textWidth=f*n,this._textHeight=(r.y+t.lineHeight)*n;for(const N in T){const L=T[N];if(this.anchor.x!==0||this.anchor.y!==0){let q=0;const z=this._textWidth*this.anchor.x,B=this._textHeight*this.anchor.y;for(let V=0;V<L.total;V++)L.vertices[q++]-=z,L.vertices[q++]-=B,L.vertices[q++]-=z,L.vertices[q++]-=B,L.vertices[q++]-=z,L.vertices[q++]-=B,L.vertices[q++]-=z,L.vertices[q++]-=B}this._maxLineHeight=b*n;const I=L.mesh.geometry.getBuffer("aVertexPosition"),D=L.mesh.geometry.getBuffer("aTextureCoord"),Z=L.mesh.geometry.getIndex();I.data=L.vertices,D.data=L.uvs,Z.data=L.indices,I.update(),D.update(),Z.update()}for(let N=0;N<i.length;N++)WS.push(i[N]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:n,size:r}=Rt.available[this._fontName];if(n!=="none"){const{a:i,b:s,c:o,d:a}=this.worldTransform,l=Math.sqrt(i*i+s*s),u=Math.sqrt(o*o+a*a),c=(Math.abs(l)+Math.abs(u))/2,h=this.fontSize/r,d=t._view.resolution;for(const f of this._activePagesMeshData)f.mesh.shader.uniforms.uFWidth=c*e*h*d}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=Rt.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tint}set tint(t){if(this._tint!==t){this._tint=t;for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!Rt.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??Rt.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,r=Rt.available[this._fontName].distanceFieldType==="none"?HS:GS;r.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],r.filter(i=>e[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=J.EMPTY});for(const i in e)e[i].destroy(),delete e[i];this._font=null,this._textureCache=null,super.destroy(t)}};let ok=sk;ok.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const Sce=[".xml",".fnt"],ak={extension:{type:Q.LoadParser,priority:cr.Normal},test(t){return Sce.includes(yt.extname(t).toLowerCase())},async testParse(t){return Al.test(t)||Pd.test(t)},async parse(t,e,n){const r=Al.test(t)?Al.parse(t):Pd.parse(t),{src:i}=e,{page:s}=r,o=[];for(let u=0;u<s.length;++u){const c=s[u].file;let h=yt.join(yt.dirname(i),c);h=Sd(h,i),o.push(h)}const a=await n.load(o),l=o.map(u=>a[u]);return Rt.install(r,l,!0)},async load(t,e){return(await ee.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};ie.add(ak);const Cce=Object.freeze(Object.defineProperty({__proto__:null,ALPHA_MODES:$n,AbstractMultiResource:wb,AccessibilityManager:Sb,AlphaFilter:dI,AnimatedSprite:Cd,Application:Wf,ArrayResource:lI,Assets:rs,AssetsClass:PI,Attribute:cu,BLEND_MODES:ae,BUFFER_BITS:fd,BUFFER_TYPE:nr,BackgroundSystem:V1,BaseImageResource:Yr,BasePrepare:yu,BaseRenderTexture:q1,BaseTexture:fe,BatchDrawCall:bd,BatchGeometry:W1,BatchRenderer:Sn,BatchShaderGenerator:WO,BatchSystem:X1,BatchTextureArray:xd,BitmapFont:Rt,BitmapFontData:bu,BitmapText:ok,BlobResource:DI,BlurFilter:fI,BlurFilterPass:_d,Bounds:du,BrowserAdapter:wO,Buffer:tt,BufferResource:Pa,BufferSystem:bb,CLEAR_MODES:Yn,COLOR_MASK_BITS:xO,Cache:po,CanvasResource:uI,Circle:sa,ColorMatrixFilter:Ed,CompressedTextureResource:_i,Container:Bt,ContextSystem:Y1,CountLimiter:QI,CubeResource:_b,DEG_TO_RAD:$O,DRAW_MODES:Zn,DisplacementFilter:pI,DisplayObject:Ve,ENV:Bi,Ellipse:zf,EventBoundary:vI,EventSystem:Eb,ExtensionType:Q,Extract:Ab,FORMATS:X,FORMATS_TO_COMPONENTS:BI,FXAAFilter:mI,FederatedDisplayObject:yI,FederatedEvent:Oa,FederatedMouseEvent:fu,FederatedPointerEvent:xn,FederatedWheelEvent:Ss,FillStyle:Ku,Filter:gt,FilterState:XO,FilterSystem:eb,Framebuffer:wd,FramebufferSystem:tb,GC_MODES:Df,GLFramebuffer:YO,GLProgram:QO,GLTexture:vh,GRAPHICS_CURVES:zue,GenerateTextureSystem:lb,Geometry:Xr,GeometrySystem:nb,Graphics:Cs,GraphicsData:vu,GraphicsGeometry:Ob,IGLUniformData:gle,INSTALLED:yd,INTERNAL_FORMATS:zt,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:mu,ImageBitmapResource:ns,ImageResource:K1,LINE_CAP:di,LINE_JOIN:wn,LineStyle:Yf,LoaderParserPriority:cr,MASK_TYPES:st,MIPMAP_MODES:ar,MSAA_QUALITY:Ye,MaskData:KO,MaskSystem:rb,Matrix:je,Mesh:Ts,MeshBatchUvs:XI,MeshGeometry:Zu,MeshMaterial:ua,MultisampleSystem:yb,NineSlicePlane:que,NoiseFilter:gI,ObjectRenderer:Xu,ObjectRendererSystem:xb,ObservablePoint:Nr,PI_2:hu,PRECISION:sn,ParticleContainer:Que,ParticleRenderer:Ib,PlaneGeometry:qI,PluginSystem:ob,Point:oe,Polygon:ds,Prepare:kb,Program:Pn,ProjectionSystem:ab,Quad:VO,QuadUv:J1,RAD_TO_DEG:DO,RENDERER_TYPE:L1,Rectangle:me,RenderTexture:qr,RenderTexturePool:Q1,RenderTextureSystem:ub,Renderer:$s,ResizePlugin:Cb,Resource:ia,RopeGeometry:KI,RoundedRectangle:oa,Runner:dn,SAMPLER_TYPES:pd,SCALE_MODES:wr,SHAPES:mt,SVGResource:aa,ScissorSystem:ib,Shader:ir,ShaderSystem:cb,SimpleMesh:Kue,SimplePlane:ZI,SimpleRope:Zue,Sprite:Ni,SpriteMaskFilter:qO,Spritesheet:Td,StartupSystem:hb,State:Or,StateSystem:db,StencilSystem:sb,SystemManager:iI,TARGETS:cs,TEXT_GRADIENT:Qu,TYPES:se,TYPES_TO_BYTES_PER_COMPONENT:zv,TYPES_TO_BYTES_PER_PIXEL:NI,TemporaryDisplayObject:cI,Text:ca,TextFormat:Al,TextMetrics:pt,TextStyle:Oi,Texture:J,TextureGCSystem:Cn,TextureMatrix:Hf,TextureSystem:fb,TextureUvs:Z1,Ticker:lt,TickerPlugin:gb,TilingSprite:Rb,TilingSpriteRenderer:Mb,TimeLimiter:fce,Transform:Vu,TransformFeedback:Mle,TransformFeedbackSystem:pb,UPDATE_PRIORITY:Ai,UniformGroup:kn,VERSION:Fle,VideoResource:Gf,ViewSystem:mb,ViewableBuffer:vd,WRAP_MODES:Cr,XMLFormat:Ad,XMLStringFormat:Pd,accessibleTarget:bI,autoDetectFormat:rk,autoDetectRenderer:oI,autoDetectResource:G1,cacheTextureArray:OI,checkDataUrl:Tb,checkExtension:Yu,checkMaxIfStatementsInShader:FO,convertToList:Tr,copySearchParams:Sd,createStringVariations:wI,createTexture:qu,createUBOElements:tI,curves:Pi,defaultFilterVertex:vb,defaultVertex:aI,detectAvif:II,detectCompressedTextures:FI,detectDefaults:RI,detectWebp:kI,extensions:ie,filters:Lv,generateProgram:JO,generateUniformBufferSync:rI,getFontFamilyName:SI,getTestContext:jO,getUBOData:nI,graphicsUtils:Vue,groupD8:He,isMobile:Qn,isSingleItem:pu,loadBitmapFont:ak,loadDDS:UI,loadImageBitmap:TI,loadJson:_I,loadKTX:jI,loadSVG:AI,loadTextures:la,loadTxt:EI,loadWebFont:CI,parseDDS:$I,parseKTX:LI,resolveCompressedTextureUrl:zI,resolveTextureUrl:MI,settings:ee,spritesheetAsset:nk,uniformParsers:fs,unsafeEvalSupported:GO,utils:Lae},Symbol.toStringTag,{value:"Module"})),Tce=pk(Cce);var Od=Dr&&Dr.__assign||function(){return Od=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Od.apply(this,arguments)},lk=void 0,dr=Tce,Ace={dash:[10,5],width:1,color:16777215,alpha:1,scale:1,useTexture:!1,alignment:.5},Pce=function(){function t(e,n){n===void 0&&(n={}),this.cursor=new dr.Point,this.scale=1,this.graphics=e,n=Od(Od({},Ace),n),this.dash=n.dash,this.dashSize=this.dash.reduce(function(r,i){return r+i}),this.useTexture=n.useTexture,this.options=n,this.setLineStyle()}return t.prototype.setLineStyle=function(){var e=this.options;if(this.useTexture){var n=t.getTexture(e,this.dashSize);this.graphics.lineTextureStyle({width:e.width*e.scale,color:e.color,alpha:e.alpha,texture:n,alignment:e.alignment}),this.activeTexture=n}else this.graphics.lineStyle({width:e.width*e.scale,color:e.color,alpha:e.alpha,cap:e.cap,join:e.join,alignment:e.alignment});this.scale=e.scale},t.distance=function(e,n,r,i){return Math.sqrt(Math.pow(r-e,2)+Math.pow(i-n,2))},t.prototype.moveTo=function(e,n){return this.lineLength=0,this.cursor.set(e,n),this.start=new dr.Point(e,n),this.graphics.moveTo(this.cursor.x,this.cursor.y),this},t.prototype.lineTo=function(e,n,r){typeof this.lineLength===void 0&&this.moveTo(0,0);var i=t.distance(this.cursor.x,this.cursor.y,e,n),s=Math.atan2(n-this.cursor.y,e-this.cursor.x),o=r&&e===this.start.x&&n===this.start.y;if(this.useTexture)if(this.graphics.moveTo(this.cursor.x,this.cursor.y),this.adjustLineStyle(s),o&&this.dash.length%2===0){var a=Math.min(this.dash[this.dash.length-1],i);this.graphics.lineTo(e-Math.cos(s)*a,n-Math.sin(s)*a),this.graphics.closePath()}else this.graphics.lineTo(e,n);else{for(var l=Math.cos(s),u=Math.sin(s),c=this.cursor.x,h=this.cursor.y,d=this.lineLength%(this.dashSize*this.scale),f=0,p=0,m=0,g=0;g<this.dash.length;g++){var v=this.dash[g]*this.scale;if(d<m+v){f=g,p=d-m;break}else m+=v}for(var b=i;b>0;){var v=this.dash[f]*this.scale-p,y=b>v?v:b;if(o){var x=t.distance(c+l*y,h+u*y,this.start.x,this.start.y);if(x<=y){if(f%2===0){var S=t.distance(c,h,this.start.x,this.start.y)-this.dash[this.dash.length-1]*this.scale;c+=l*S,h+=u*S,this.graphics.lineTo(c,h)}break}}c+=l*y,h+=u*y,f%2?this.graphics.moveTo(c,h):this.graphics.lineTo(c,h),b-=y,f++,f=f===this.dash.length?0:f,p=0}}return this.lineLength+=i,this.cursor.set(e,n),this},t.prototype.closePath=function(){this.lineTo(this.start.x,this.start.y,!0)},t.prototype.drawCircle=function(e,n,r,i,s){i===void 0&&(i=80);var o=Math.PI*2/i,a=0,l;s?(l=new dr.Point(e+Math.cos(a)*r,n+Math.sin(a)*r),s.apply(l,l),this.moveTo(l[0],l[1])):(l=new dr.Point(e+Math.cos(a)*r,n+Math.sin(a)*r),this.moveTo(l.x,l.y)),a+=o;for(var u=1;u<i+1;u++){var c=u===i?l:[e+Math.cos(a)*r,n+Math.sin(a)*r];this.lineTo(c[0],c[1]),a+=o}return this},t.prototype.drawEllipse=function(e,n,r,i,s,o){s===void 0&&(s=80);for(var a=Math.PI*2/s,l,u=new dr.Point,c=0;c<Math.PI*2;c+=a){var h=e-r*Math.sin(c),d=n-i*Math.cos(c);o&&(u.set(h,d),o.apply(u,u),h=u.x,d=u.y),c===0?(this.moveTo(h,d),l={x:h,y:d}):this.lineTo(h,d)}return this.lineTo(l.x,l.y,!0),this},t.prototype.drawPolygon=function(e,n){var r=new dr.Point;if(typeof e[0]=="number")if(n){r.set(e[0],e[1]),n.apply(r,r),this.moveTo(r.x,r.y);for(var i=2;i<e.length;i+=2)r.set(e[i],e[i+1]),n.apply(r,r),this.lineTo(r.x,r.y,i===e.length-2)}else{this.moveTo(e[0],e[1]);for(var i=2;i<e.length;i+=2)this.lineTo(e[i],e[i+1],i===e.length-2)}else if(n){var s=e[0];r.copyFrom(s),n.apply(r,r),this.moveTo(r.x,r.y);for(var i=1;i<e.length;i++){var o=e[i];r.copyFrom(o),n.apply(r,r),this.lineTo(r.x,r.y,i===e.length-1)}}else{var s=e[0];this.moveTo(s.x,s.y);for(var i=1;i<e.length;i++){var a=e[i];this.lineTo(a.x,a.y,i===e.length-1)}}return this},t.prototype.drawRect=function(e,n,r,i,s){if(s){var o=new dr.Point;o.set(e,n),s.apply(o,o),this.moveTo(o.x,o.y),o.set(e+r,n),s.apply(o,o),this.lineTo(o.x,o.y),o.set(e+r,n+i),s.apply(o,o),this.lineTo(o.x,o.y),o.set(e,n+i),s.apply(o,o),this.lineTo(o.x,o.y),o.set(e,n),s.apply(o,o),this.lineTo(o.x,o.y,!0)}else this.moveTo(e,n).lineTo(e+r,n).lineTo(e+r,n+i).lineTo(e,n+i).lineTo(e,n,!0);return this},t.prototype.adjustLineStyle=function(e){var n=this.graphics.line;n.matrix=new dr.Matrix,e&&n.matrix.rotate(e),this.scale!==1&&n.matrix.scale(this.scale,this.scale);var r=-this.lineLength;n.matrix.translate(this.cursor.x+r*Math.cos(e),this.cursor.y+r*Math.sin(e)),this.graphics.lineStyle(n)},t.getTexture=function(e,n){var r=e.dash.toString();if(t.dashTextureCache[r])return t.dashTextureCache[r];var i=document.createElement("canvas");i.width=n,i.height=Math.ceil(e.width);var s=i.getContext("2d");if(!s){console.warn("Did not get context from canvas");return}s.strokeStyle="white",s.globalAlpha=e.alpha,s.lineWidth=e.width;var o=0,a=e.width/2;s.moveTo(o,a);for(var l=0;l<e.dash.length;l+=2)o+=e.dash[l],s.lineTo(o,a),e.dash.length!==l+1&&(o+=e.dash[l+1],s.moveTo(o,a));s.stroke();var u=t.dashTextureCache[r]=dr.Texture.from(i);return u.baseTexture.scaleMode=dr.SCALE_MODES.NEAREST,u},t.dashTextureCache={},t}();lk=Pce;var Oce=Object.defineProperty,Ice=(t,e,n)=>e in t?Oce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,U=(t,e,n)=>(Ice(t,typeof e!="symbol"?e+"":e,n),n);class Bn{constructor(e){U(this,"parent"),U(this,"paused"),this.parent=e,this.paused=!1}destroy(){}down(e){return!1}move(e){return!1}up(e){return!1}wheel(e){return!1}update(e){}resize(){}reset(){}pause(){this.paused=!0}resume(){this.paused=!1}}var kce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},uk={exports:{}};(function(t,e){(function(){var n,r;r=function(i){return t.exports=i},n={linear:function(i,s,o,a){return o*i/a+s},easeInQuad:function(i,s,o,a){return o*(i/=a)*i+s},easeOutQuad:function(i,s,o,a){return-o*(i/=a)*(i-2)+s},easeInOutQuad:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i+s:-o/2*(--i*(i-2)-1)+s},easeInCubic:function(i,s,o,a){return o*(i/=a)*i*i+s},easeOutCubic:function(i,s,o,a){return o*((i=i/a-1)*i*i+1)+s},easeInOutCubic:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i+s:o/2*((i-=2)*i*i+2)+s},easeInQuart:function(i,s,o,a){return o*(i/=a)*i*i*i+s},easeOutQuart:function(i,s,o,a){return-o*((i=i/a-1)*i*i*i-1)+s},easeInOutQuart:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i*i+s:-o/2*((i-=2)*i*i*i-2)+s},easeInQuint:function(i,s,o,a){return o*(i/=a)*i*i*i*i+s},easeOutQuint:function(i,s,o,a){return o*((i=i/a-1)*i*i*i*i+1)+s},easeInOutQuint:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i*i*i+s:o/2*((i-=2)*i*i*i*i+2)+s},easeInSine:function(i,s,o,a){return-o*Math.cos(i/a*(Math.PI/2))+o+s},easeOutSine:function(i,s,o,a){return o*Math.sin(i/a*(Math.PI/2))+s},easeInOutSine:function(i,s,o,a){return-o/2*(Math.cos(Math.PI*i/a)-1)+s},easeInExpo:function(i,s,o,a){return i===0?s:o*Math.pow(2,10*(i/a-1))+s},easeOutExpo:function(i,s,o,a){return i===a?s+o:o*(-Math.pow(2,-10*i/a)+1)+s},easeInOutExpo:function(i,s,o,a){return(i/=a/2)<1?o/2*Math.pow(2,10*(i-1))+s:o/2*(-Math.pow(2,-10*--i)+2)+s},easeInCirc:function(i,s,o,a){return-o*(Math.sqrt(1-(i/=a)*i)-1)+s},easeOutCirc:function(i,s,o,a){return o*Math.sqrt(1-(i=i/a-1)*i)+s},easeInOutCirc:function(i,s,o,a){return(i/=a/2)<1?-o/2*(Math.sqrt(1-i*i)-1)+s:o/2*(Math.sqrt(1-(i-=2)*i)+1)+s},easeInElastic:function(i,s,o,a){var l,u,c;return c=1.70158,u=0,l=o,i===0||(i/=a),u||(u=a*.3),l<Math.abs(o)?(l=o,c=u/4):c=u/(2*Math.PI)*Math.asin(o/l),-(l*Math.pow(2,10*(i-=1))*Math.sin((i*a-c)*(2*Math.PI)/u))+s},easeOutElastic:function(i,s,o,a){var l,u,c;return c=1.70158,u=0,l=o,i===0||(i/=a),u||(u=a*.3),l<Math.abs(o)?(l=o,c=u/4):c=u/(2*Math.PI)*Math.asin(o/l),l*Math.pow(2,-10*i)*Math.sin((i*a-c)*(2*Math.PI)/u)+o+s},easeInOutElastic:function(i,s,o,a){var l,u,c;return c=1.70158,u=0,l=o,i===0||(i/=a/2),u||(u=a*(.3*1.5)),l<Math.abs(o)?(l=o,c=u/4):c=u/(2*Math.PI)*Math.asin(o/l),i<1?-.5*(l*Math.pow(2,10*(i-=1))*Math.sin((i*a-c)*(2*Math.PI)/u))+s:l*Math.pow(2,-10*(i-=1))*Math.sin((i*a-c)*(2*Math.PI)/u)*.5+o+s},easeInBack:function(i,s,o,a,l){return l===void 0&&(l=1.70158),o*(i/=a)*i*((l+1)*i-l)+s},easeOutBack:function(i,s,o,a,l){return l===void 0&&(l=1.70158),o*((i=i/a-1)*i*((l+1)*i+l)+1)+s},easeInOutBack:function(i,s,o,a,l){return l===void 0&&(l=1.70158),(i/=a/2)<1?o/2*(i*i*(((l*=1.525)+1)*i-l))+s:o/2*((i-=2)*i*(((l*=1.525)+1)*i+l)+2)+s},easeInBounce:function(i,s,o,a){var l;return l=n.easeOutBounce(a-i,0,o,a),o-l+s},easeOutBounce:function(i,s,o,a){return(i/=a)<1/2.75?o*(7.5625*i*i)+s:i<2/2.75?o*(7.5625*(i-=1.5/2.75)*i+.75)+s:i<2.5/2.75?o*(7.5625*(i-=2.25/2.75)*i+.9375)+s:o*(7.5625*(i-=2.625/2.75)*i+.984375)+s},easeInOutBounce:function(i,s,o,a){var l;return i<a/2?(l=n.easeInBounce(i*2,0,o,a),l*.5+s):(l=n.easeOutBounce(i*2-a,0,o,a),l*.5+o*.5+s)}},r(n)}).call(kce)})(uk);const VS=uk.exports;function qf(t,e){if(t){if(typeof t=="function")return t;if(typeof t=="string")return VS[t]}else return VS[e]}const Rce={removeOnInterrupt:!1,ease:"linear",time:1e3};class Mce extends Bn{constructor(e,n={}){super(e),U(this,"options"),U(this,"startX"),U(this,"startY"),U(this,"deltaX"),U(this,"deltaY"),U(this,"keepCenter"),U(this,"startWidth",null),U(this,"startHeight",null),U(this,"deltaWidth",null),U(this,"deltaHeight",null),U(this,"width",null),U(this,"height",null),U(this,"time",0),this.options=Object.assign({},Rce,n),this.options.ease=qf(this.options.ease),this.setupPosition(),this.setupZoom(),this.time=0}setupPosition(){typeof this.options.position<"u"?(this.startX=this.parent.center.x,this.startY=this.parent.center.y,this.deltaX=this.options.position.x-this.parent.center.x,this.deltaY=this.options.position.y-this.parent.center.y,this.keepCenter=!1):this.keepCenter=!0}setupZoom(){this.width=null,this.height=null,typeof this.options.scale<"u"?this.width=this.parent.screenWidth/this.options.scale:typeof this.options.scaleX<"u"||typeof this.options.scaleY<"u"?(typeof this.options.scaleX<"u"&&(this.width=this.parent.screenWidth/this.options.scaleX),typeof this.options.scaleY<"u"&&(this.height=this.parent.screenHeight/this.options.scaleY)):(typeof this.options.width<"u"&&(this.width=this.options.width),typeof this.options.height<"u"&&(this.height=this.options.height)),this.width!==null&&(this.startWidth=this.parent.screenWidthInWorldPixels,this.deltaWidth=this.width-this.startWidth),this.height!==null&&(this.startHeight=this.parent.screenHeightInWorldPixels,this.deltaHeight=this.height-this.startHeight)}down(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("animate"),!1}complete(){this.parent.plugins.remove("animate"),this.width!==null&&this.parent.fitWidth(this.width,this.keepCenter,this.height===null),this.height!==null&&this.parent.fitHeight(this.height,this.keepCenter,this.width===null),!this.keepCenter&&this.options.position&&this.parent.moveCenter(this.options.position),this.parent.emit("animate-end",this.parent),this.options.callbackOnComplete&&this.options.callbackOnComplete(this.parent)}update(e){if(this.paused)return;this.time+=e;const n=new oe(this.parent.scale.x,this.parent.scale.y);if(this.time>=this.options.time){const r=this.parent.width,i=this.parent.height;this.complete(),(r!==this.parent.width||i!==this.parent.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:n,type:"animate"})}else{const r=this.options.ease(this.time,0,1,this.options.time);if(this.width!==null){const i=this.startWidth,s=this.deltaWidth;this.parent.fitWidth(i+s*r,this.keepCenter,this.height===null)}if(this.height!==null){const i=this.startHeight,s=this.deltaHeight;this.parent.fitHeight(i+s*r,this.keepCenter,this.width===null)}if(this.width===null?this.parent.scale.x=this.parent.scale.y:this.height===null&&(this.parent.scale.y=this.parent.scale.x),!this.keepCenter){const i=this.startX,s=this.startY,o=this.deltaX,a=this.deltaY,l=new oe(this.parent.x,this.parent.y);this.parent.moveCenter(i+o*r,s+a*r),this.parent.emit("moved",{viewport:this.parent,original:l,type:"animate"})}(this.width||this.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:n,type:"animate"})}}}const Fce={sides:"all",friction:.5,time:150,ease:"easeInOutSine",underflow:"center",bounceBox:null};class Dce extends Bn{constructor(e,n={}){super(e),U(this,"options"),U(this,"left"),U(this,"top"),U(this,"right"),U(this,"bottom"),U(this,"underflowX"),U(this,"underflowY"),U(this,"ease"),U(this,"toX"),U(this,"toY"),this.options=Object.assign({},Fce,n),this.ease=qf(this.options.ease,"easeInOutSine"),this.options.sides?this.options.sides==="all"?this.top=this.bottom=this.left=this.right=!0:this.options.sides==="horizontal"?(this.right=this.left=!0,this.top=this.bottom=!1):this.options.sides==="vertical"?(this.left=this.right=!1,this.top=this.bottom=!0):(this.top=this.options.sides.indexOf("top")!==-1,this.bottom=this.options.sides.indexOf("bottom")!==-1,this.left=this.options.sides.indexOf("left")!==-1,this.right=this.options.sides.indexOf("right")!==-1):this.left=this.top=this.right=this.bottom=!1;const r=this.options.underflow.toLowerCase();r==="center"?(this.underflowX=0,this.underflowY=0):(this.underflowX=r.indexOf("left")!==-1?-1:r.indexOf("right")!==-1?1:0,this.underflowY=r.indexOf("top")!==-1?-1:r.indexOf("bottom")!==-1?1:0),this.reset()}isActive(){return this.toX!==null||this.toY!==null}down(){return this.toX=this.toY=null,!1}up(){return this.bounce(),!1}update(e){if(!this.paused){if(this.bounce(),this.toX){const n=this.toX;n.time+=e,this.parent.emit("moved",{viewport:this.parent,type:"bounce-x"}),n.time>=this.options.time?(this.parent.x=n.end,this.toX=null,this.parent.emit("bounce-x-end",this.parent)):this.parent.x=this.ease(n.time,n.start,n.delta,this.options.time)}if(this.toY){const n=this.toY;n.time+=e,this.parent.emit("moved",{viewport:this.parent,type:"bounce-y"}),n.time>=this.options.time?(this.parent.y=n.end,this.toY=null,this.parent.emit("bounce-y-end",this.parent)):this.parent.y=this.ease(n.time,n.start,n.delta,this.options.time)}}}calcUnderflowX(){let e;switch(this.underflowX){case-1:e=0;break;case 1:e=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:e=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}return e}calcUnderflowY(){let e;switch(this.underflowY){case-1:e=0;break;case 1:e=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:e=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}return e}oob(){const e=this.options.bounceBox;if(e){const n=typeof e.x>"u"?0:e.x,r=typeof e.y>"u"?0:e.y,i=typeof e.width>"u"?this.parent.worldWidth:e.width,s=typeof e.height>"u"?this.parent.worldHeight:e.height;return{left:this.parent.left<n,right:this.parent.right>i,top:this.parent.top<r,bottom:this.parent.bottom>s,topLeft:new oe(n*this.parent.scale.x,r*this.parent.scale.y),bottomRight:new oe(i*this.parent.scale.x-this.parent.screenWidth,s*this.parent.scale.y-this.parent.screenHeight)}}return{left:this.parent.left<0,right:this.parent.right>this.parent.worldWidth,top:this.parent.top<0,bottom:this.parent.bottom>this.parent.worldHeight,topLeft:new oe(0,0),bottomRight:new oe(this.parent.worldWidth*this.parent.scale.x-this.parent.screenWidth,this.parent.worldHeight*this.parent.scale.y-this.parent.screenHeight)}}bounce(){var e,n;if(this.paused)return;let r,i=this.parent.plugins.get("decelerate",!0);i&&(i.x||i.y)&&(i.x&&i.percentChangeX===((e=i.options)==null?void 0:e.friction)||i.y&&i.percentChangeY===((n=i.options)==null?void 0:n.friction))&&(r=this.oob(),(r.left&&this.left||r.right&&this.right)&&(i.percentChangeX=this.options.friction),(r.top&&this.top||r.bottom&&this.bottom)&&(i.percentChangeY=this.options.friction));const s=this.parent.plugins.get("drag",!0)||{},o=this.parent.plugins.get("pinch",!0)||{};if(i=i||{},!(s!=null&&s.active)&&!(o!=null&&o.active)&&(!this.toX||!this.toY)&&(!i.x||!i.y)){r=r||this.oob();const a=r.topLeft,l=r.bottomRight;if(!this.toX&&!i.x){let u=null;r.left&&this.left?u=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-a.x:r.right&&this.right&&(u=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-l.x),u!==null&&this.parent.x!==u&&(this.toX={time:0,start:this.parent.x,delta:u-this.parent.x,end:u},this.parent.emit("bounce-x-start",this.parent))}if(!this.toY&&!i.y){let u=null;r.top&&this.top?u=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-a.y:r.bottom&&this.bottom&&(u=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-l.y),u!==null&&this.parent.y!==u&&(this.toY={time:0,start:this.parent.y,delta:u-this.parent.y,end:u},this.parent.emit("bounce-y-start",this.parent))}}}reset(){this.toX=this.toY=null,this.bounce()}}const $ce={left:!1,right:!1,top:!1,bottom:!1,direction:null,underflow:"center"};class Bce extends Bn{constructor(e,n={}){super(e),U(this,"options"),U(this,"last"),U(this,"noUnderflow"),U(this,"underflowX"),U(this,"underflowY"),this.options=Object.assign({},$ce,n),this.options.direction&&(this.options.left=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.right=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.top=this.options.direction==="y"||this.options.direction==="all"?!0:null,this.options.bottom=this.options.direction==="y"||this.options.direction==="all"?!0:null),this.parseUnderflow(),this.last={x:null,y:null,scaleX:null,scaleY:null},this.update()}parseUnderflow(){const e=this.options.underflow.toLowerCase();e==="none"?this.noUnderflow=!0:e==="center"?(this.underflowX=this.underflowY=0,this.noUnderflow=!1):(this.underflowX=e.indexOf("left")!==-1?-1:e.indexOf("right")!==-1?1:0,this.underflowY=e.indexOf("top")!==-1?-1:e.indexOf("bottom")!==-1?1:0,this.noUnderflow=!1)}move(){return this.update(),!1}update(){if(this.paused||this.parent.x===this.last.x&&this.parent.y===this.last.y&&this.parent.scale.x===this.last.scaleX&&this.parent.scale.y===this.last.scaleY)return;const e=new oe(this.parent.x,this.parent.y),n=this.parent.plugins.decelerate||{};if(this.options.left!==null||this.options.right!==null){let r=!1;if(!this.noUnderflow&&this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x!==0&&(this.parent.x=0,r=!0);break;case 1:this.parent.x!==this.parent.screenWidth-this.parent.screenWorldWidth&&(this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth,r=!0);break;default:this.parent.x!==(this.parent.screenWidth-this.parent.screenWorldWidth)/2&&(this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2,r=!0)}else this.options.left!==null&&this.parent.left<(this.options.left===!0?0:this.options.left)&&(this.parent.x=-(this.options.left===!0?0:this.options.left)*this.parent.scale.x,n.x=0,r=!0),this.options.right!==null&&this.parent.right>(this.options.right===!0?this.parent.worldWidth:this.options.right)&&(this.parent.x=-(this.options.right===!0?this.parent.worldWidth:this.options.right)*this.parent.scale.x+this.parent.screenWidth,n.x=0,r=!0);r&&this.parent.emit("moved",{viewport:this.parent,original:e,type:"clamp-x"})}if(this.options.top!==null||this.options.bottom!==null){let r=!1;if(!this.noUnderflow&&this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y!==0&&(this.parent.y=0,r=!0);break;case 1:this.parent.y!==this.parent.screenHeight-this.parent.screenWorldHeight&&(this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight,r=!0);break;default:this.parent.y!==(this.parent.screenHeight-this.parent.screenWorldHeight)/2&&(this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2,r=!0)}else this.options.top!==null&&this.parent.top<(this.options.top===!0?0:this.options.top)&&(this.parent.y=-(this.options.top===!0?0:this.options.top)*this.parent.scale.y,n.y=0,r=!0),this.options.bottom!==null&&this.parent.bottom>(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)&&(this.parent.y=-(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)*this.parent.scale.y+this.parent.screenHeight,n.y=0,r=!0);r&&this.parent.emit("moved",{viewport:this.parent,original:e,type:"clamp-y"})}this.last.x=this.parent.x,this.last.y=this.parent.y,this.last.scaleX=this.parent.scale.x,this.last.scaleY=this.parent.scale.y}reset(){this.update()}}const Nce={minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,minScale:null,maxScale:null};class Lce extends Bn{constructor(e,n={}){super(e),U(this,"options"),this.options=Object.assign({},Nce,n),this.clamp()}resize(){this.clamp()}clamp(){if(!this.paused){if(this.options.minWidth||this.options.minHeight||this.options.maxWidth||this.options.maxHeight){let e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight;if(this.options.minWidth!==null&&e<this.options.minWidth){const r=this.parent.scale.x;this.parent.fitWidth(this.options.minWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/r,e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxWidth!==null&&e>this.options.maxWidth){const r=this.parent.scale.x;this.parent.fitWidth(this.options.maxWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/r,e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.minHeight!==null&&n<this.options.minHeight){const r=this.parent.scale.y;this.parent.fitHeight(this.options.minHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/r,e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxHeight!==null&&n>this.options.maxHeight){const r=this.parent.scale.y;this.parent.fitHeight(this.options.maxHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/r,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}}else if(this.options.minScale||this.options.maxScale){const e={x:null,y:null},n={x:null,y:null};if(typeof this.options.minScale=="number")e.x=this.options.minScale,e.y=this.options.minScale;else if(this.options.minScale!==null){const s=this.options.minScale;e.x=typeof s.x>"u"?null:s.x,e.y=typeof s.y>"u"?null:s.y}if(typeof this.options.maxScale=="number")n.x=this.options.maxScale,n.y=this.options.maxScale;else if(this.options.maxScale!==null){const s=this.options.maxScale;n.x=typeof s.x>"u"?null:s.x,n.y=typeof s.y>"u"?null:s.y}let r=this.parent.scale.x,i=this.parent.scale.y;e.x!==null&&r<e.x&&(r=e.x),n.x!==null&&r>n.x&&(r=n.x),e.y!==null&&i<e.y&&(i=e.y),n.y!==null&&i>n.y&&(i=n.y),(r!==this.parent.scale.x||i!==this.parent.scale.y)&&(this.parent.scale.set(r,i),this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"}))}}}reset(){this.clamp()}}const Uce={friction:.98,bounce:.8,minSpeed:.01},ri=16;class jce extends Bn{constructor(e,n={}){super(e),U(this,"options"),U(this,"x"),U(this,"y"),U(this,"percentChangeX"),U(this,"percentChangeY"),U(this,"saved"),U(this,"timeSinceRelease"),this.options=Object.assign({},Uce,n),this.saved=[],this.timeSinceRelease=0,this.reset(),this.parent.on("moved",r=>this.handleMoved(r))}down(){return this.saved=[],this.x=this.y=null,!1}isActive(){return!!(this.x||this.y)}move(){if(this.paused)return!1;const e=this.parent.input.count();return(e===1||e>1&&!this.parent.plugins.get("pinch",!0))&&(this.saved.push({x:this.parent.x,y:this.parent.y,time:performance.now()}),this.saved.length>60&&this.saved.splice(0,30)),!1}handleMoved(e){if(this.saved.length){const n=this.saved[this.saved.length-1];e.type==="clamp-x"&&e.original?n.x===e.original.x&&(n.x=this.parent.x):e.type==="clamp-y"&&e.original&&n.y===e.original.y&&(n.y=this.parent.y)}}up(){if(this.parent.input.count()===0&&this.saved.length){const e=performance.now();for(const n of this.saved)if(n.time>=e-100){const r=e-n.time;this.x=(this.parent.x-n.x)/r,this.y=(this.parent.y-n.y)/r,this.percentChangeX=this.percentChangeY=this.options.friction,this.timeSinceRelease=0;break}}return!1}activate(e){e=e||{},typeof e.x<"u"&&(this.x=e.x,this.percentChangeX=this.options.friction),typeof e.y<"u"&&(this.y=e.y,this.percentChangeY=this.options.friction)}update(e){if(this.paused)return;const n=this.x||this.y,r=this.timeSinceRelease,i=this.timeSinceRelease+e;if(this.x){const s=this.percentChangeX,o=Math.log(s);this.parent.x+=this.x*ri/o*(Math.pow(s,i/ri)-Math.pow(s,r/ri)),this.x*=Math.pow(this.percentChangeX,e/ri)}if(this.y){const s=this.percentChangeY,o=Math.log(s);this.parent.y+=this.y*ri/o*(Math.pow(s,i/ri)-Math.pow(s,r/ri)),this.y*=Math.pow(this.percentChangeY,e/ri)}this.timeSinceRelease+=e,this.x&&this.y?Math.abs(this.x)<this.options.minSpeed&&Math.abs(this.y)<this.options.minSpeed&&(this.x=0,this.y=0):(Math.abs(this.x||0)<this.options.minSpeed&&(this.x=0),Math.abs(this.y||0)<this.options.minSpeed&&(this.y=0)),n&&this.parent.emit("moved",{viewport:this.parent,type:"decelerate"})}reset(){this.x=this.y=null}}const zce={direction:"all",pressDrag:!0,wheel:!0,wheelScroll:1,reverse:!1,clampWheel:!1,underflow:"center",factor:1,mouseButtons:"all",keyToPress:null,ignoreKeyToPressOnTouch:!1,lineHeight:20,wheelSwapAxes:!1};class Hce extends Bn{constructor(e,n={}){super(e),U(this,"options"),U(this,"moved"),U(this,"reverse"),U(this,"xDirection"),U(this,"yDirection"),U(this,"keyIsPressed"),U(this,"mouse"),U(this,"underflowX"),U(this,"underflowY"),U(this,"last"),U(this,"current"),U(this,"windowEventHandlers",[]),this.options=Object.assign({},zce,n),this.moved=!1,this.reverse=this.options.reverse?1:-1,this.xDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="x",this.yDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="y",this.keyIsPressed=!1,this.parseUnderflow(),this.mouseButtons(this.options.mouseButtons),this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(e){const n=i=>{e.includes(i.code)&&(this.keyIsPressed=!0)},r=i=>{e.includes(i.code)&&(this.keyIsPressed=!1)};this.addWindowEventHandler("keyup",r),this.addWindowEventHandler("keydown",n)}addWindowEventHandler(e,n){window.addEventListener(e,n),this.windowEventHandlers.push({event:e,handler:n})}destroy(){this.windowEventHandlers.forEach(({event:e,handler:n})=>{window.removeEventListener(e,n)})}mouseButtons(e){!e||e==="all"?this.mouse=[!0,!0,!0]:this.mouse=[e.indexOf("left")!==-1,e.indexOf("middle")!==-1,e.indexOf("right")!==-1]}parseUnderflow(){const e=this.options.underflow.toLowerCase();e==="center"?(this.underflowX=0,this.underflowY=0):(e.includes("left")?this.underflowX=-1:e.includes("right")?this.underflowX=1:this.underflowX=0,e.includes("top")?this.underflowY=-1:e.includes("bottom")?this.underflowY=1:this.underflowY=0)}checkButtons(e){const n=e.pointerType==="mouse",r=this.parent.input.count();return!!((r===1||r>1&&!this.parent.plugins.get("pinch",!0))&&(!n||this.mouse[e.button]))}checkKeyPress(e){return!this.options.keyToPress||this.keyIsPressed||this.options.ignoreKeyToPressOnTouch&&e.data.pointerType==="touch"}down(e){return this.paused||!this.options.pressDrag?!1:this.checkButtons(e)&&this.checkKeyPress(e)?(this.last={x:e.global.x,y:e.global.y},this.current=e.pointerId,!0):(this.last=null,!1)}get active(){return this.moved}move(e){if(this.paused||!this.options.pressDrag)return!1;if(this.last&&this.current===e.data.pointerId){const n=e.global.x,r=e.global.y,i=this.parent.input.count();if(i===1||i>1&&!this.parent.plugins.get("pinch",!0)){const s=n-this.last.x,o=r-this.last.y;if(this.moved||this.xDirection&&this.parent.input.checkThreshold(s)||this.yDirection&&this.parent.input.checkThreshold(o)){const a={x:n,y:r};return this.xDirection&&(this.parent.x+=(a.x-this.last.x)*this.options.factor),this.yDirection&&(this.parent.y+=(a.y-this.last.y)*this.options.factor),this.last=a,this.moved||this.parent.emit("drag-start",{event:e,screen:new oe(this.last.x,this.last.y),world:this.parent.toWorld(new oe(this.last.x,this.last.y)),viewport:this.parent}),this.moved=!0,this.parent.emit("moved",{viewport:this.parent,type:"drag"}),!0}}else this.moved=!1}return!1}up(e){if(this.paused)return!1;const n=this.parent.input.touches;if(n.length===1){const r=n[0];return r.last&&(this.last={x:r.last.x,y:r.last.y},this.current=r.id),this.moved=!1,!0}else if(this.last&&this.moved){const r=new oe(this.last.x,this.last.y);return this.parent.emit("drag-end",{event:e,screen:r,world:this.parent.toWorld(r),viewport:this.parent}),this.last=null,this.moved=!1,!0}return!1}wheel(e){if(this.paused)return!1;if(this.options.wheel){const n=this.parent.plugins.get("wheel",!0);if(!n||!n.options.wheelZoom&&!e.ctrlKey){const r=e.deltaMode?this.options.lineHeight:1,i=[e.deltaX,e.deltaY],[s,o]=this.options.wheelSwapAxes?i.reverse():i;return this.xDirection&&(this.parent.x+=s*r*this.options.wheelScroll*this.reverse),this.yDirection&&(this.parent.y+=o*r*this.options.wheelScroll*this.reverse),this.options.clampWheel&&this.clamp(),this.parent.emit("wheel-scroll",this.parent),this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.options.passiveWheel||e.preventDefault(),this.parent.options.stopPropagation&&e.stopPropagation(),!0}}return!1}resume(){this.last=null,this.paused=!1}clamp(){const e=this.parent.plugins.get("decelerate",!0)||{};if(this.options.clampWheel!=="y")if(this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x=0;break;case 1:this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}else this.parent.left<0?(this.parent.x=0,e.x=0):this.parent.right>this.parent.worldWidth&&(this.parent.x=-this.parent.worldWidth*this.parent.scale.x+this.parent.screenWidth,e.x=0);if(this.options.clampWheel!=="x")if(this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y=0;break;case 1:this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}else this.parent.top<0&&(this.parent.y=0,e.y=0),this.parent.bottom>this.parent.worldHeight&&(this.parent.y=-this.parent.worldHeight*this.parent.scale.y+this.parent.screenHeight,e.y=0)}}const Gce={speed:0,acceleration:null,radius:null};class Wce extends Bn{constructor(e,n,r={}){super(e),U(this,"options"),U(this,"target"),U(this,"velocity"),this.target=n,this.options=Object.assign({},Gce,r),this.velocity={x:0,y:0}}update(e){if(this.paused)return;const n=this.parent.center;let r=this.target.x,i=this.target.y;if(this.options.radius)if(Math.sqrt(Math.pow(this.target.y-n.y,2)+Math.pow(this.target.x-n.x,2))>this.options.radius){const a=Math.atan2(this.target.y-n.y,this.target.x-n.x);r=this.target.x-Math.cos(a)*this.options.radius,i=this.target.y-Math.sin(a)*this.options.radius}else return;const s=r-n.x,o=i-n.y;if(s||o)if(this.options.speed)if(this.options.acceleration){const a=Math.atan2(i-n.y,r-n.x),l=Math.sqrt(Math.pow(s,2)+Math.pow(o,2));if(l){const u=(Math.pow(this.velocity.x,2)+Math.pow(this.velocity.y,2))/(2*this.options.acceleration);l>u?this.velocity={x:Math.min(this.velocity.x+(this.options.acceleration*e,this.options.speed)),y:Math.min(this.velocity.y+(this.options.acceleration*e,this.options.speed))}:this.velocity={x:Math.max(this.velocity.x-this.options.acceleration*this.options.speed,0),y:Math.max(this.velocity.y-this.options.acceleration*this.options.speed,0)};const c=Math.cos(a)*this.velocity.x,h=Math.sin(a)*this.velocity.y,d=Math.abs(c)>Math.abs(s)?r:n.x+c,f=Math.abs(h)>Math.abs(o)?i:n.y+h;this.parent.moveCenter(d,f),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}else{const a=Math.atan2(i-n.y,r-n.x),l=Math.cos(a)*this.options.speed,u=Math.sin(a)*this.options.speed,c=Math.abs(l)>Math.abs(s)?r:n.x+l,h=Math.abs(u)>Math.abs(o)?i:n.y+u;this.parent.moveCenter(c,h),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}else this.parent.moveCenter(r,i),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}const Vce={radius:null,distance:null,top:null,bottom:null,left:null,right:null,speed:8,reverse:!1,noDecelerate:!1,linear:!1,allowButtons:!1};class Xce extends Bn{constructor(e,n={}){super(e),U(this,"options"),U(this,"reverse"),U(this,"radiusSquared"),U(this,"left"),U(this,"top"),U(this,"right"),U(this,"bottom"),U(this,"horizontal"),U(this,"vertical"),this.options=Object.assign({},Vce,n),this.reverse=this.options.reverse?1:-1,this.radiusSquared=typeof this.options.radius=="number"?Math.pow(this.options.radius,2):null,this.resize()}resize(){const e=this.options.distance;e!==null?(this.left=e,this.top=e,this.right=this.parent.screenWidth-e,this.bottom=this.parent.screenHeight-e):this.options.radius||(this.left=this.options.left,this.top=this.options.top,this.right=this.options.right===null?null:this.parent.screenWidth-this.options.right,this.bottom=this.options.bottom===null?null:this.parent.screenHeight-this.options.bottom)}down(){return this.paused||this.options.allowButtons||(this.horizontal=this.vertical=null),!1}move(e){if(this.paused||e.pointerType!=="mouse"&&e.pointerId!==1||!this.options.allowButtons&&e.buttons!==0)return!1;const n=e.global.x,r=e.global.y;if(this.radiusSquared){const i=this.parent.toScreen(this.parent.center);if(Math.pow(i.x-n,2)+Math.pow(i.y-r,2)>=this.radiusSquared){const s=Math.atan2(i.y-r,i.x-n);this.options.linear?(this.horizontal=Math.round(Math.cos(s))*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.round(Math.sin(s))*this.options.speed*this.reverse*(60/1e3)):(this.horizontal=Math.cos(s)*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.sin(s)*this.options.speed*this.reverse*(60/1e3))}else this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=0}else this.left!==null&&n<this.left?this.horizontal=Number(this.reverse)*this.options.speed*(60/1e3):this.right!==null&&n>this.right?this.horizontal=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateHorizontal(),this.horizontal=0),this.top!==null&&r<this.top?this.vertical=Number(this.reverse)*this.options.speed*(60/1e3):this.bottom!==null&&r>this.bottom?this.vertical=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateVertical(),this.vertical=0);return!1}decelerateHorizontal(){const e=this.parent.plugins.get("decelerate",!0);this.horizontal&&e&&!this.options.noDecelerate&&e.activate({x:this.horizontal*this.options.speed*this.reverse/(1e3/60)})}decelerateVertical(){const e=this.parent.plugins.get("decelerate",!0);this.vertical&&e&&!this.options.noDecelerate&&e.activate({y:this.vertical*this.options.speed*this.reverse/(1e3/60)})}up(){return this.paused||(this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=null),!1}update(){if(!this.paused&&(this.horizontal||this.vertical)){const e=this.parent.center;this.horizontal&&(e.x+=this.horizontal*this.options.speed),this.vertical&&(e.y+=this.vertical*this.options.speed),this.parent.moveCenter(e),this.parent.emit("moved",{viewport:this.parent,type:"mouse-edges"})}}}const Yce={noDrag:!1,percent:1,center:null,factor:1,axis:"all"};class qce extends Bn{constructor(e,n={}){super(e),U(this,"options"),U(this,"active",!1),U(this,"pinching",!1),U(this,"moved",!1),U(this,"lastCenter"),this.options=Object.assign({},Yce,n)}down(){return this.parent.input.count()>=2?(this.active=!0,!0):!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}move(e){if(this.paused||!this.active)return!1;const n=e.global.x,r=e.global.y,i=this.parent.input.touches;if(i.length>=2){const s=i[0],o=i[1],a=s.last&&o.last?Math.sqrt(Math.pow(o.last.x-s.last.x,2)+Math.pow(o.last.y-s.last.y,2)):null;if(s.id===e.pointerId?s.last={x:n,y:r,data:e}:o.id===e.pointerId&&(o.last={x:n,y:r,data:e}),a){let l;const u=new oe(s.last.x+(o.last.x-s.last.x)/2,s.last.y+(o.last.y-s.last.y)/2);this.options.center||(l=this.parent.toLocal(u));let c=Math.sqrt(Math.pow(o.last.x-s.last.x,2)+Math.pow(o.last.y-s.last.y,2));c=c===0?c=1e-10:c;const h=(1-a/c)*this.options.percent*(this.isAxisX()?this.parent.scale.x:this.parent.scale.y);this.isAxisX()&&(this.parent.scale.x+=h),this.isAxisY()&&(this.parent.scale.y+=h),this.parent.emit("zoomed",{viewport:this.parent,type:"pinch",center:u});const d=this.parent.plugins.get("clamp-zoom",!0);if(d&&d.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const f=this.parent.toGlobal(l);this.parent.x+=(u.x-f.x)*this.options.factor,this.parent.y+=(u.y-f.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})}!this.options.noDrag&&this.lastCenter&&(this.parent.x+=(u.x-this.lastCenter.x)*this.options.factor,this.parent.y+=(u.y-this.lastCenter.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})),this.lastCenter=u,this.moved=!0}else this.pinching||(this.parent.emit("pinch-start",this.parent),this.pinching=!0);return!0}return!1}up(){return this.pinching&&this.parent.input.touches.length<=1?(this.active=!1,this.lastCenter=null,this.pinching=!1,this.moved=!1,this.parent.emit("pinch-end",this.parent),!0):!1}}const Kce={topLeft:!1,friction:.8,time:1e3,ease:"easeInOutSine",interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1};class Zce extends Bn{constructor(e,n,r,i={}){super(e),U(this,"options"),U(this,"ease"),U(this,"x"),U(this,"y"),U(this,"percent"),U(this,"snapping"),U(this,"deltaX"),U(this,"deltaY"),U(this,"startX"),U(this,"startY"),this.options=Object.assign({},Kce,i),this.ease=qf(i.ease,"easeInOutSine"),this.x=n,this.y=r,this.options.forceStart&&this.snapStart()}snapStart(){this.percent=0,this.snapping={time:0};const e=this.options.topLeft?this.parent.corner:this.parent.center;this.deltaX=this.x-e.x,this.deltaY=this.y-e.y,this.startX=e.x,this.startY=e.y,this.parent.emit("snap-start",this.parent)}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap"):this.options.interrupt&&(this.snapping=null),!1}up(){if(this.parent.input.count()===0){const e=this.parent.plugins.get("decelerate",!0);e&&(e.x||e.y)&&(e.percentChangeX=e.percentChangeY=this.options.friction)}return!1}update(e){if(!this.paused&&!(this.options.interrupt&&this.parent.input.count()!==0))if(this.snapping){const n=this.snapping;n.time+=e;let r,i,s;const o=this.startX,a=this.startY,l=this.deltaX,u=this.deltaY;if(n.time>this.options.time)r=!0,i=o+l,s=a+u;else{const c=this.ease(n.time,0,1,this.options.time);i=o+l*c,s=a+u*c}this.options.topLeft?this.parent.moveCorner(i,s):this.parent.moveCenter(i,s),this.parent.emit("moved",{viewport:this.parent,type:"snap"}),r&&(this.options.removeOnComplete&&this.parent.plugins.remove("snap"),this.parent.emit("snap-end",this.parent),this.snapping=null)}else{const n=this.options.topLeft?this.parent.corner:this.parent.center;(n.x!==this.x||n.y!==this.y)&&this.snapStart()}}}const Qce={width:0,height:0,time:1e3,ease:"easeInOutSine",center:null,interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1,noMove:!1};class Jce extends Bn{constructor(e,n={}){super(e),U(this,"options"),U(this,"ease"),U(this,"xScale"),U(this,"yScale"),U(this,"xIndependent"),U(this,"yIndependent"),U(this,"snapping"),this.options=Object.assign({},Qce,n),this.ease=qf(this.options.ease),this.xIndependent=!1,this.yIndependent=!1,this.xScale=0,this.yScale=0,this.options.width>0&&(this.xScale=e.screenWidth/this.options.width,this.xIndependent=!0),this.options.height>0&&(this.yScale=e.screenHeight/this.options.height,this.yIndependent=!0),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale,this.options.time===0?(e.container.scale.x=this.xScale,e.container.scale.y=this.yScale,this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom")):n.forceStart&&this.createSnapping()}createSnapping(){const e=this.parent.worldScreenWidth,n=this.parent.worldScreenHeight,r=this.parent.screenWidth/this.xScale,i=this.parent.screenHeight/this.yScale;this.snapping={time:0,startX:e,startY:n,deltaX:r-e,deltaY:i-n},this.parent.emit("snap-zoom-start",this.parent)}resize(){this.snapping=null,this.options.width>0&&(this.xScale=this.parent.screenWidth/this.options.width),this.options.height>0&&(this.yScale=this.parent.screenHeight/this.options.height),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap-zoom"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap-zoom"):this.options.interrupt&&(this.snapping=null),!1}update(e){if(this.paused||this.options.interrupt&&this.parent.input.count()!==0)return;let n;if(!this.options.center&&!this.options.noMove&&(n=this.parent.center),!this.snapping)(this.parent.scale.x!==this.xScale||this.parent.scale.y!==this.yScale)&&this.createSnapping();else if(this.snapping){const r=this.snapping;if(r.time+=e,r.time>=this.options.time)this.parent.scale.set(this.xScale,this.yScale),this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom"),this.parent.emit("snap-zoom-end",this.parent),this.snapping=null;else{const s=this.snapping,o=this.ease(s.time,s.startX,s.deltaX,this.options.time),a=this.ease(s.time,s.startY,s.deltaY,this.options.time);this.parent.scale.x=this.parent.screenWidth/o,this.parent.scale.y=this.parent.screenHeight/a}const i=this.parent.plugins.get("clamp-zoom",!0);i&&i.clamp(),this.options.noMove||(this.options.center?this.parent.moveCenter(this.options.center):this.parent.moveCenter(n))}}resume(){this.snapping=null,super.resume()}}const ehe={percent:.1,smooth:!1,interrupt:!0,reverse:!1,center:null,lineHeight:20,axis:"all",keyToPress:null,trackpadPinch:!1,wheelZoom:!0};class the extends Bn{constructor(e,n={}){super(e),U(this,"options"),U(this,"smoothing"),U(this,"smoothingCenter"),U(this,"smoothingCount"),U(this,"keyIsPressed"),this.options=Object.assign({},ehe,n),this.keyIsPressed=!1,this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(e){window.addEventListener("keydown",n=>{e.includes(n.code)&&(this.keyIsPressed=!0)}),window.addEventListener("keyup",n=>{e.includes(n.code)&&(this.keyIsPressed=!1)})}checkKeyPress(){return!this.options.keyToPress||this.keyIsPressed}down(){return this.options.interrupt&&(this.smoothing=null),!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}update(){if(this.smoothing){const e=this.smoothingCenter,n=this.smoothing;let r;this.options.center||(r=this.parent.toLocal(e)),this.isAxisX()&&(this.parent.scale.x+=n.x),this.isAxisY()&&(this.parent.scale.y+=n.y),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const i=this.parent.plugins.get("clamp-zoom",!0);if(i&&i.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const s=this.parent.toGlobal(r);this.parent.x+=e.x-s.x,this.parent.y+=e.y-s.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.smoothingCount++,this.smoothingCount>=this.options.smooth&&(this.smoothing=null)}}pinch(e){if(this.paused)return;const n=this.parent.input.getPointerPosition(e),r=-e.deltaY*(e.deltaMode?this.options.lineHeight:1)/200,i=Math.pow(2,(1+this.options.percent)*r);let s;this.options.center||(s=this.parent.toLocal(n)),this.isAxisX()&&(this.parent.scale.x*=i),this.isAxisY()&&(this.parent.scale.y*=i),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const o=this.parent.plugins.get("clamp-zoom",!0);if(o&&o.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const a=this.parent.toGlobal(s);this.parent.x+=n.x-a.x,this.parent.y+=n.y-a.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:e,viewport:this.parent})}wheel(e){if(this.paused||!this.checkKeyPress())return!1;if(e.ctrlKey&&this.options.trackpadPinch)this.pinch(e);else if(this.options.wheelZoom){const n=this.parent.input.getPointerPosition(e),r=(this.options.reverse?-1:1)*-e.deltaY*(e.deltaMode?this.options.lineHeight:1)/500,i=Math.pow(2,(1+this.options.percent)*r);if(this.options.smooth){const s={x:this.smoothing?this.smoothing.x*(this.options.smooth-this.smoothingCount):0,y:this.smoothing?this.smoothing.y*(this.options.smooth-this.smoothingCount):0};this.smoothing={x:((this.parent.scale.x+s.x)*i-this.parent.scale.x)/this.options.smooth,y:((this.parent.scale.y+s.y)*i-this.parent.scale.y)/this.options.smooth},this.smoothingCount=0,this.smoothingCenter=n}else{let s;this.options.center||(s=this.parent.toLocal(n)),this.isAxisX()&&(this.parent.scale.x*=i),this.isAxisY()&&(this.parent.scale.y*=i),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const o=this.parent.plugins.get("clamp-zoom",!0);if(o&&o.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const a=this.parent.toGlobal(s);this.parent.x+=n.x-a.x,this.parent.y+=n.y-a.y}}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:e,viewport:this.parent})}return!this.parent.options.passiveWheel}}class nhe{constructor(e){U(this,"viewport"),U(this,"clickedAvailable"),U(this,"isMouseDown"),U(this,"last"),U(this,"wheelFunction"),U(this,"touches"),this.viewport=e,this.touches=[],this.addListeners()}addListeners(){this.viewport.interactive=!0,this.viewport.forceHitArea||(this.viewport.hitArea=new me(0,0,this.viewport.worldWidth,this.viewport.worldHeight)),this.viewport.on("pointerdown",this.down,this),this.viewport.options.allowPreserveDragOutside?this.viewport.on("globalpointermove",this.move,this):this.viewport.on("pointermove",this.move,this),this.viewport.on("pointerup",this.up,this),this.viewport.on("pointerupoutside",this.up,this),this.viewport.on("pointercancel",this.up,this),this.viewport.options.allowPreserveDragOutside||this.viewport.on("pointerleave",this.up,this),this.wheelFunction=e=>this.handleWheel(e),this.viewport.options.events.domElement.addEventListener("wheel",this.wheelFunction,{passive:this.viewport.options.passiveWheel}),this.isMouseDown=!1}destroy(){this.viewport.options.events.domElement.removeEventListener("wheel",this.wheelFunction)}down(e){if(!(this.viewport.pause||!this.viewport.worldVisible)){if(e.pointerType==="mouse"?this.isMouseDown=!0:this.get(e.pointerId)||this.touches.push({id:e.pointerId,last:null}),this.count()===1){this.last=e.global.clone();const n=this.viewport.plugins.get("decelerate",!0),r=this.viewport.plugins.get("bounce",!0);(!n||!n.isActive())&&(!r||!r.isActive())?this.clickedAvailable=!0:this.clickedAvailable=!1}else this.clickedAvailable=!1;this.viewport.plugins.down(e)&&this.viewport.options.stopPropagation&&e.stopPropagation()}}clear(){this.isMouseDown=!1,this.touches=[],this.last=null}checkThreshold(e){return Math.abs(e)>=this.viewport.threshold}move(e){if(this.viewport.pause||!this.viewport.worldVisible)return;const n=this.viewport.plugins.move(e);if(this.clickedAvailable&&this.last){const r=e.global.x-this.last.x,i=e.global.y-this.last.y;(this.checkThreshold(r)||this.checkThreshold(i))&&(this.clickedAvailable=!1)}n&&this.viewport.options.stopPropagation&&e.stopPropagation()}up(e){if(this.viewport.pause||!this.viewport.worldVisible)return;e.pointerType==="mouse"&&(this.isMouseDown=!1),e.pointerType!=="mouse"&&this.remove(e.pointerId);const n=this.viewport.plugins.up(e);this.clickedAvailable&&this.count()===0&&this.last&&(this.viewport.emit("clicked",{event:e,screen:this.last,world:this.viewport.toWorld(this.last),viewport:this.viewport}),this.clickedAvailable=!1),n&&this.viewport.options.stopPropagation&&e.stopPropagation()}getPointerPosition(e){const n=new oe;return this.viewport.options.events.mapPositionToPoint(n,e.clientX,e.clientY),n}handleWheel(e){if(this.viewport.pause||!this.viewport.worldVisible)return;const n=this.viewport.toLocal(this.getPointerPosition(e));this.viewport.left<=n.x&&n.x<=this.viewport.right&&this.viewport.top<=n.y&&n.y<=this.viewport.bottom&&this.viewport.plugins.wheel(e)&&!this.viewport.options.passiveWheel&&e.preventDefault()}pause(){this.touches=[],this.isMouseDown=!1}get(e){for(const n of this.touches)if(n.id===e)return n;return null}remove(e){for(let n=0;n<this.touches.length;n++)if(this.touches[n].id===e){this.touches.splice(n,1);return}}count(){return(this.isMouseDown?1:0)+this.touches.length}}const Ja=["drag","pinch","wheel","follow","mouse-edges","decelerate","animate","bounce","snap-zoom","clamp-zoom","snap","clamp"];class rhe{constructor(e){U(this,"plugins"),U(this,"list"),U(this,"viewport"),this.viewport=e,this.list=[],this.plugins={}}add(e,n,r=Ja.length){const i=this.plugins[e];i&&i.destroy(),this.plugins[e]=n;const s=Ja.indexOf(e);s!==-1&&Ja.splice(s,1),Ja.splice(r,0,e),this.sort()}get(e,n){var r;return n&&(r=this.plugins[e])!=null&&r.paused?null:this.plugins[e]}update(e){for(const n of this.list)n.update(e)}resize(){for(const e of this.list)e.resize()}reset(){for(const e of this.list)e.reset()}removeAll(){this.list.forEach(e=>{e.destroy()}),this.plugins={},this.sort()}remove(e){var n;this.plugins[e]&&((n=this.plugins[e])==null||n.destroy(),delete this.plugins[e],this.viewport.emit("plugin-remove",e),this.sort())}pause(e){var n;(n=this.plugins[e])==null||n.pause()}resume(e){var n;(n=this.plugins[e])==null||n.resume()}sort(){this.list=[];for(const e of Ja)this.plugins[e]&&this.list.push(this.plugins[e])}down(e){let n=!1;for(const r of this.list)r.down(e)&&(n=!0);return n}move(e){let n=!1;for(const r of this.viewport.plugins.list)r.move(e)&&(n=!0);return n}up(e){let n=!1;for(const r of this.list)r.up(e)&&(n=!0);return n}wheel(e){let n=!1;for(const r of this.list)r.wheel(e)&&(n=!0);return n}}const ihe={screenWidth:window.innerWidth,screenHeight:window.innerHeight,worldWidth:null,worldHeight:null,threshold:5,passiveWheel:!0,stopPropagation:!1,forceHitArea:null,noTicker:!1,disableOnContextMenu:!1,ticker:lt.shared,allowPreserveDragOutside:!1};class she extends Bt{constructor(e){super(),U(this,"moving"),U(this,"screenWidth"),U(this,"screenHeight"),U(this,"threshold"),U(this,"input"),U(this,"plugins"),U(this,"zooming"),U(this,"lastViewport"),U(this,"options"),U(this,"_dirty"),U(this,"_forceHitArea"),U(this,"_hitAreaDefault"),U(this,"_pause"),U(this,"tickerFunction"),U(this,"_worldWidth"),U(this,"_worldHeight"),U(this,"_disableOnContextMenu",n=>n.preventDefault()),this.options={...ihe,...e},this.screenWidth=this.options.screenWidth,this.screenHeight=this.options.screenHeight,this._worldWidth=this.options.worldWidth,this._worldHeight=this.options.worldHeight,this.forceHitArea=this.options.forceHitArea,this.threshold=this.options.threshold,this.options.disableOnContextMenu&&this.options.events.domElement.addEventListener("contextmenu",this._disableOnContextMenu),this.options.noTicker||(this.tickerFunction=()=>this.update(this.options.ticker.elapsedMS),this.options.ticker.add(this.tickerFunction)),this.input=new nhe(this),this.plugins=new rhe(this)}destroy(e){!this.options.noTicker&&this.tickerFunction&&this.options.ticker.remove(this.tickerFunction),this.options.disableOnContextMenu&&this.options.events.domElement.removeEventListener("contextmenu",this._disableOnContextMenu),this.input.destroy(),super.destroy(e)}update(e){this.pause||(this.plugins.update(e),this.lastViewport&&(this.lastViewport.x!==this.x||this.lastViewport.y!==this.y?this.moving=!0:this.moving&&(this.emit("moved-end",this),this.moving=!1),this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y?this.zooming=!0:this.zooming&&(this.emit("zoomed-end",this),this.zooming=!1)),this.forceHitArea||(this._hitAreaDefault=new me(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight),this.hitArea=this._hitAreaDefault),this._dirty=this._dirty||!this.lastViewport||this.lastViewport.x!==this.x||this.lastViewport.y!==this.y||this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y,this.lastViewport={x:this.x,y:this.y,scaleX:this.scale.x,scaleY:this.scale.y},this.emit("frame-end",this))}resize(e=window.innerWidth,n=window.innerHeight,r,i){this.screenWidth=e,this.screenHeight=n,typeof r<"u"&&(this._worldWidth=r),typeof i<"u"&&(this._worldHeight=i),this.plugins.resize(),this.dirty=!0}get worldWidth(){return this._worldWidth?this._worldWidth:this.width/this.scale.x}set worldWidth(e){this._worldWidth=e,this.plugins.resize()}get worldHeight(){return this._worldHeight?this._worldHeight:this.height/this.scale.y}set worldHeight(e){this._worldHeight=e,this.plugins.resize()}getVisibleBounds(){return new me(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight)}toWorld(e,n){return arguments.length===2?this.toLocal(new oe(e,n)):this.toLocal(e)}toScreen(e,n){return arguments.length===2?this.toGlobal(new oe(e,n)):this.toGlobal(e)}get worldScreenWidth(){return this.screenWidth/this.scale.x}get worldScreenHeight(){return this.screenHeight/this.scale.y}get screenWorldWidth(){return this.worldWidth*this.scale.x}get screenWorldHeight(){return this.worldHeight*this.scale.y}get center(){return new oe(this.worldScreenWidth/2-this.x/this.scale.x,this.worldScreenHeight/2-this.y/this.scale.y)}set center(e){this.moveCenter(e)}moveCenter(...e){let n,r;typeof e[0]=="number"?(n=e[0],r=e[1]):(n=e[0].x,r=e[0].y);const i=(this.worldScreenWidth/2-n)*this.scale.x,s=(this.worldScreenHeight/2-r)*this.scale.y;return(this.x!==i||this.y!==s)&&(this.position.set(i,s),this.plugins.reset(),this.dirty=!0),this}get corner(){return new oe(-this.x/this.scale.x,-this.y/this.scale.y)}set corner(e){this.moveCorner(e)}moveCorner(...e){let n,r;return e.length===1?(n=-e[0].x*this.scale.x,r=-e[0].y*this.scale.y):(n=-e[0]*this.scale.x,r=-e[1]*this.scale.y),(n!==this.x||r!==this.y)&&(this.position.set(n,r),this.plugins.reset(),this.dirty=!0),this}get screenWidthInWorldPixels(){return this.screenWidth/this.scale.x}get screenHeightInWorldPixels(){return this.screenHeight/this.scale.y}findFitWidth(e){return this.screenWidth/e}findFitHeight(e){return this.screenHeight/e}findFit(e,n){const r=this.screenWidth/e,i=this.screenHeight/n;return Math.min(r,i)}findCover(e,n){const r=this.screenWidth/e,i=this.screenHeight/n;return Math.max(r,i)}fitWidth(e=this.worldWidth,n,r=!0,i){let s;n&&(s=this.center),this.scale.x=this.screenWidth/e,r&&(this.scale.y=this.scale.x);const o=this.plugins.get("clamp-zoom",!0);return!i&&o&&o.clamp(),n&&s&&this.moveCenter(s),this}fitHeight(e=this.worldHeight,n,r=!0,i){let s;n&&(s=this.center),this.scale.y=this.screenHeight/e,r&&(this.scale.x=this.scale.y);const o=this.plugins.get("clamp-zoom",!0);return!i&&o&&o.clamp(),n&&s&&this.moveCenter(s),this}fitWorld(e){let n;e&&(n=this.center),this.scale.x=this.screenWidth/this.worldWidth,this.scale.y=this.screenHeight/this.worldHeight,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const r=this.plugins.get("clamp-zoom",!0);return r&&r.clamp(),e&&n&&this.moveCenter(n),this}fit(e,n=this.worldWidth,r=this.worldHeight){let i;e&&(i=this.center),this.scale.x=this.screenWidth/n,this.scale.y=this.screenHeight/r,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const s=this.plugins.get("clamp-zoom",!0);return s&&s.clamp(),e&&i&&this.moveCenter(i),this}setZoom(e,n){let r;n&&(r=this.center),this.scale.set(e);const i=this.plugins.get("clamp-zoom",!0);return i&&i.clamp(),n&&r&&this.moveCenter(r),this}zoomPercent(e,n){return this.setZoom(this.scale.x+this.scale.x*e,n)}zoom(e,n){return this.fitWidth(e+this.worldScreenWidth,n),this}get scaled(){return this.scale.x}set scaled(e){this.setZoom(e,!0)}snapZoom(e){return this.plugins.add("snap-zoom",new Jce(this,e)),this}OOB(){return{left:this.left<0,right:this.right>this.worldWidth,top:this.top<0,bottom:this.bottom>this.worldHeight,cornerPoint:new oe(this.worldWidth*this.scale.x-this.screenWidth,this.worldHeight*this.scale.y-this.screenHeight)}}get right(){return-this.x/this.scale.x+this.worldScreenWidth}set right(e){this.x=-e*this.scale.x+this.screenWidth,this.plugins.reset()}get left(){return-this.x/this.scale.x}set left(e){this.x=-e*this.scale.x,this.plugins.reset()}get top(){return-this.y/this.scale.y}set top(e){this.y=-e*this.scale.y,this.plugins.reset()}get bottom(){return-this.y/this.scale.y+this.worldScreenHeight}set bottom(e){this.y=-e*this.scale.y+this.screenHeight,this.plugins.reset()}get dirty(){return!!this._dirty}set dirty(e){this._dirty=e}get forceHitArea(){return this._forceHitArea}set forceHitArea(e){e?(this._forceHitArea=e,this.hitArea=e):(this._forceHitArea=null,this.hitArea=new me(0,0,this.worldWidth,this.worldHeight))}drag(e){return this.plugins.add("drag",new Hce(this,e)),this}clamp(e){return this.plugins.add("clamp",new Bce(this,e)),this}decelerate(e){return this.plugins.add("decelerate",new jce(this,e)),this}bounce(e){return this.plugins.add("bounce",new Dce(this,e)),this}pinch(e){return this.plugins.add("pinch",new qce(this,e)),this}snap(e,n,r){return this.plugins.add("snap",new Zce(this,e,n,r)),this}follow(e,n){return this.plugins.add("follow",new Wce(this,e,n)),this}wheel(e){return this.plugins.add("wheel",new the(this,e)),this}animate(e){return this.plugins.add("animate",new Mce(this,e)),this}clampZoom(e){return this.plugins.add("clamp-zoom",new Lce(this,e)),this}mouseEdges(e){return this.plugins.add("mouse-edges",new Xce(this,e)),this}get pause(){return!!this._pause}set pause(e){this._pause=e,this.lastViewport=null,this.moving=!1,this.zooming=!1,e&&this.input.pause()}ensureVisible(e,n,r,i,s){s&&(r>this.worldScreenWidth||i>this.worldScreenHeight)&&(this.fit(!0,r,i),this.emit("zoomed",{viewport:this,type:"ensureVisible"}));let o=!1;e<this.left?(this.left=e,o=!0):e+r>this.right&&(this.right=e+r,o=!0),n<this.top?(this.top=n,o=!0):n+i>this.bottom&&(this.bottom=n+i,o=!0),o&&this.emit("moved",{viewport:this,type:"ensureVisible"})}}const Tt=(t,e)=>t!=null&&t.levels?e.acquired[t==null?void 0:t.id]>0:e.selected[t==null?void 0:t.id],ck=(t,e)=>e.available[t.id],ohe=(t,e,n,r)=>{let i=n;return i.available[t.id]&&(t.levels?(i.acquired[t.id]||(i.acquired[t.id]=0),r&&i.acquired[t.id]>0?i.acquired[t.id]--:i.acquired[t.id]<t.levels&&i.acquired[t.id]++):i.selected[t.id]=!i.selected[t.id]),i=ahe(e,t,i),i=Yv(e,n),i},ahe=(t,e,n)=>{let r={...n};const i=s=>{const o=vn(t,a=>ku(a.requires,{id:s.id}));r=Yv(t,n),o&&De(o,a=>{n.available[a.id]||(n.selected[a.id]=!1,n.acquired[a.id]=0,r=Yv(t,n),i(a))})};return i(e),r},Yv=(t,e)=>(De(t,n=>{var r;if(n.requires){let i=n.requirementType||"and",s=i==="and";De(n.requires,o=>{const a=Ee(t,{id:o.id});if(a.levels){const l=o.levels||a.levels,u=e.acquired[a.id];i==="and"?s=s&&u>=l:i==="or"&&(s=s||u>=l)}else i==="and"?s=s&&e.selected[o.id]:i==="or"&&(s=s||e.selected[o.id])}),e.available[n.id]=s}if((r=n.exclusiveWith)!=null&&r.length){let i=!0;De(n.exclusiveWith,s=>{i=!e.selected[s]&&!e.acquired[s]}),e.available[n.id]=i&&e.available[n.id]}}),e),Hi=(t,e,n,r)=>{var i;r.next({node:{...t,acquired:e.acquired[t.id],selected:e.selected[t.id],available:e.available[t.id],requiredName:(i=Ee(n,{id:t.requires}))==null?void 0:i.name}})},is=t=>typeof t=="string"?parseInt(t.replace("#",""),16):0,jn=(t,e,n)=>n?is(t.colors[n]):ck(t,e)?is(t.colors.selected):is(t.colors.unavailable),ym=(t,e)=>{e.next({event:"nodesChanged",data:{nodes:ge(t,n=>({colors:n.colors,id:n.id,requires:n.requires,name:n.name,description:n.description,cost:n.cost,levels:n.levels,levelCost:n.levelCost,providedStats:n.providedStats,providedAbilities:n.providedAbilities}))}})};function lhe(t,e,n={},r,i,s,o){let a=s.subscribe({next:R=>{switch(R.event){case"forcesUpdated":S=R.data.forces,q();break;case"modeChanged":I(R.data.mode);break;case"nodeAdded":L(R.data.node);break;case"nodeDeleted":k(R.data.id);break;case"nodeEdited":N(R.data.id,R.data.node);break;case"themeChanged":C(R.data)}}}),l="#1d1b21",u="#ddd",c,h,d={selected:{},acquired:{},available:{}},f=ZE(),p,m,g,v,b,y="build",x,S={f1:10,f2:44,f3:40,f4:10};function C(R){R==="light"?(l="#ffffff",u="#666666"):(l="#1d1b21",u="#dddddd"),c.renderer.backgroundColor=is(l),B()}function T(R,$){R.children.length>0&&R.children[0].destroy();const P=new ca($,{fontFamily:"Inter",fontSize:14,fill:u,align:"center"});P.anchor.set(.5,-.75),P.resolution=12,R.addChild(P)}function A(){d={selected:{},acquired:{},available:{}},De(h,R=>{d.selected[R.id]=n[R.id]===!0,d.acquired[R.id]=K$(n[R.id])?n[R.id]:!1}),M(),r.next({nodes:ge(h,R=>({...R,selected:Tt(R,d),acquired:d.acquired[R.id]}))})}function k(R){if(R==="basic")return;const $=Ee(h,{id:R});if($){$==null||$.gfx.removeChildren(),$==null||$.gfx.clear(),h=ge(vn(h,G=>G.id!==R),G=>{let K=G.requires;return ku(G.requires,{id:$==null?void 0:$.id})&&(K=$==null?void 0:$.requires),{...G,requires:K}});const P=Ee(h,{id:($==null?void 0:$.requires)&&($==null?void 0:$.requires[0].id)});M(),x=P==null?void 0:P.id,Hi(P,d,h,i),B(),q(),z(),ym(h,s)}}function M(){m=[],De(h,R=>{var $;if(($=R==null?void 0:R.requires)!=null&&$.length){let P=!0;De(R.requires,G=>{const K=Ee(h,{id:G==null?void 0:G.id});P=P&&Tt(K,d),m.push({source:R,target:K})}),d.available[R.id]=P}else d.available[R.id]=!0})}function N(R,$){let P=Ee(h,{id:R}),G=P.requires,K=P.requirementType;P.name=$.name,P.id=$.id,P.description=$.description,P.levels=$.levels,P.cost=$.cost,P.levelCost=$.levelCost,P.providedStats=$.providedStats,P.providedAbilities=$.providedAbilities,P.colors=$.colors,P.requires=$.requires,P.requirementType=$.requirementType,(G!==$.requires||K!==$.requirementType)&&M(),d.acquired[R]&&d.acquired[R]>$.levels&&(d.acquired[R]=$.levels),P==null||P.gfx.removeChildren();const ce=new ca($.name,{fontFamily:"Inter",fontSize:12,fontWeight:"500",fill:"#fff",align:"center"});ce.anchor.set(.5,-.75),ce.resolution=12,P==null||P.gfx.addChild(ce),h=ge(h,pe=>{if(pe.id===R)return P;{let Pe=pe;return pe.requires===R&&(Pe.requires=[{id:P.id,levels:1}]),Pe}}),B(),z(),q(),Hi(P,d,h,i),r.next({nodes:ge(h,pe=>({...pe,selected:Tt(pe,d),acquired:d.acquired[pe.id]})),nodeMeta:d}),ym(h,s)}function L(R){let $={...R};$.colors||($.colors={}),F($),x=$.id,h=[...h,$],De($.requires,P=>{m.push({source:$,target:Ee(h,{id:P.id})})}),B(),z(),Z(),ym(h,s),Hi($,d,h,i),setTimeout(()=>{b.follow($,{acceleration:.4}),b.setZoom(1.4),setTimeout(()=>{b.plugins.remove("follow")},200)},100)}function I(R){let $=y;y=R,$!==R&&(B(),z())}function D(R,$){if(y==="build"){const P=Tt($,d);d=ohe($,h,d,R.nativeEvent.shiftKey),r.next({nodes:ge(h,K=>({...K,selected:Tt(K,d),acquired:d.acquired[K.id]})),nodeMeta:d}),Hi($,d,h,i);const G=Tt($,d)!==P;B(G?$.id:null),z()}else y==="edit"&&(x=$.id,Hi($,d,h,i),B())}function Z(){q(4,.7)}function q(R,$){S&&(f.nodes(h).force("link",qE(m).strength(P=>{const G=P.source.requires.length?.1:-.2;return Tt(P.target,d)?S.f2*.015+G:S.f2*.013+G}).id(P=>P.id).distance(P=>{let G=P.source.requires.length?1:6;return P.target.requires.length||(G+=10),P.source.levels||P.target.levels?Tt(P.source,d)?S.f1+18+G:S.f1+20+G:Tt(P.source,d)?S.f1+10+G:S.f1+14+G})).force("charge",QE().strength(-(S.f3*6))).force("center",WE(g/3,v/2)).force("collision",XE().radius(P=>S.f3).iterations(R||1)).velocityDecay($||S.f4*.01),f.alpha(1).restart()),z(),B()}function z(){for(let R=p.children.length-1;R>=0;R--)p.children[R].destroy();p.clear(),p.removeChildren(),p.alpha=.8,m.forEach((R,$)=>{let{source:P,target:G}=R,K=4473924,ce=2,pe=P&&Tt(P,d)&&Tt(G,d);if(G.id&&P&&(pe||y==="edit"?K=jn(P,d,"selected"):K=10198691,ce=Tt(G,d)&&Tt(P,d)?2:1),p.lineStyle(ce,K,pe?1:.2),P.requirementType==="or"&&!pe){const Pe=new lk(p,{dash:[5,5],width:1,color:K});Pe.moveTo(P.x,P.y),Pe.lineTo(G.x,G.y)}else p.moveTo(P.x,P.y),p.lineTo(G.x,G.y)}),p.endFill()}function B(R){const $=(P,G)=>{P.moveTo(G,-(G/2)),P.lineTo(0,G*1.5),P.lineTo(-G,-(G/2)),P.lineTo(G,-(G/2))};h.forEach(P=>{var Pe;const G=x===P.id,K=Tt(P,d),ce=ck(P,d);P.gfx.clear();let pe=P.cost||1;if(y==="build"?P.gfx.cursor=ce?"pointer":"default":P.gfx.cursor="pointer",((Pe=P.exclusiveWith)==null?void 0:Pe.length)>0)G&&y==="edit"?(P.gfx.beginFill(jn(P,d,"selected")),$(P.gfx,8),P.gfx.endFill()):K?(P.gfx.beginFill(jn(P,d)),$(P.gfx,8),P.gfx.endFill()):ce?(P.gfx.lineStyle(1,jn(P,d),1),$(P.gfx,8),P.gfx.endFill(),P.gfx.beginFill(16777215),P.gfx.lineStyle(),$(P.gfx,4),P.gfx.endFill()):(P.gfx.beginFill(jn(P,d)),$(P.gfx,6),P.gfx.endFill()),P.gfx.hitArea=new sa(0,0,12+10);else if(!R||P.id!==R||P.levels||!K)if(P.levels&&P.levels>1){const ue=4+P.levels*15,we=d.acquired[P.id];let ye=-(ue/2);P.gfx.lineStyle(2,G&&y==="edit"?is("#ffffff"):jn(P,d)),P.gfx.beginFill(is(l)),P.gfx.drawShape(new oa(ye,-6,ue,16,4)),P.gfx.endFill(),P.gfx.beginFill(is(u)),P.gfx.lineStyle(),Ru(we,Oe=>{P.gfx.drawCircle(ye+11+Oe*14,2,4)}),P.gfx.endFill(),P.gfx.hitArea=new oa(ye,-6,ue,16,4)}else{let ue;y==="edit"?ue=8:ue=K?pe*2+6:pe*2+2,G&&y==="edit"?(P.gfx.beginFill(16777215),P.gfx.drawCircle(0,0,ue+2),P.gfx.endFill(),P.gfx.beginFill(jn(P,d,"selected")),P.gfx.drawCircle(0,0,ue),P.gfx.endFill()):K?(P.gfx.beginFill(jn(P,d)),P.gfx.drawCircle(0,0,ue),P.gfx.endFill()):ce?(P.gfx.lineStyle(1,jn(P,d),1),P.gfx.drawCircle(0,0,ue+4),P.gfx.endFill(),P.gfx.beginFill(14540253),P.gfx.lineStyle(),P.gfx.drawCircle(0,0,ue),P.gfx.endFill()):(P.gfx.beginFill(jn(P,d)),P.gfx.drawCircle(0,0,ue),P.gfx.endFill()),P.gfx.hitArea=new sa(0,0,ue+10)}else if(P.id===R&&K){const ue=Ee(h,{id:R});let we=K?pe*2+6:pe*2+2,ye=K?pe*2+2:pe*2+6,Oe=0;const ct=setInterval(()=>{Oe++,K?ye+=Oe*.4:ye-=Oe*.4,ue==null||ue.gfx.clear(),ue==null||ue.gfx.beginFill(jn(ue,d)),ue==null||ue.gfx.drawCircle(0,0,ye),ue==null||ue.gfx.endFill(),K?ye>=we&&clearInterval(ct):ye<=we&&clearInterval(ct)},5)}T(P.gfx,P.name),P.gfx.interactive=!0})}function V(){e.length?h=ge(e,P=>({...P})):h=[{id:"reset",name:"Info",description:"Press the Reset Button to start",colors:{selected:"#fff",unavailable:"#fff"}}],m=[],A();const R=t.getBoundingClientRect();v=R.height,g=R.width,t.innerHTML="",c=new Wf({width:g,height:v,antialias:!0,autoDensity:!0,resizeTo:window,backgroundColor:l,backgroundAlpha:1,resolution:4}),t.appendChild(c.view),b=new she({screenWidth:g,screenHeight:v,worldWidth:g*4,worldHeight:v*4,passiveWheel:!1,events:c.renderer.plugins.interaction}),b.setZoom(.6,!0),c.stage.addChild(b),b.drag().pinch().wheel().decelerate().clampZoom({minWidth:g/4,minHeight:v/4}),f=ZE(h).force("link",qE(m).strength(P=>Tt(P.target,d)?.8:.7).id(P=>P.id).distance(P=>Tt(P.source,d)?20:30)).force("charge",QE().strength(-200)).force("center",WE(g/4,v/2)).force("collision",XE().radius(P=>P.radius).iterations(2)).velocityDecay(.8),p=new Cs,b.addChild(p),h.forEach(P=>{F(P)}),B(),q();const $=()=>{h.forEach(P=>{let{x:G,y:K,gfx:ce}=P;ce.position=new oe(G,K)}),z()};f.on("tick",$),C(o)}function F(R){let $=new Cs;const P=D.bind(R);let G=!1;$.on("touchstart",K=>{G=!0,Hi(R,d,h,i),setTimeout(()=>{G&&D(K,R)},100)}),$.on("touchend",K=>{G=!1}),$.on("click",K=>P(K,R)),$.on("mouseover",K=>{y==="build"&&Hi(R,d,h,i)}),R.gfx=$,b.addChild($),T(R.gfx,R.name)}const W={Inter:"https://fonts.googleapis.com/css2?family=Inter:wght@100;400;500;700&display=swap"};return rs.add("font-Inter",W.Inter),rs.load(W.Inter).then(()=>{V()}),{destroy:()=>{f.stop(),h.forEach(R=>{R.gfx&&(R.gfx.clear(),R.gfx.removeChildren(),R.gfx.destroy())}),p.clear(),p.clear(),a.unsubscribe(),c.destroy()}}}const uhe="_container_1up64_1",che="_node_1up64_15",hhe="_tooltip_1up64_19",dhe="_contextMenu_1up64_32",fhe="_menuEntry_1up64_37",phe={container:uhe,node:che,tooltip:hhe,contextMenu:dhe,menuEntry:fhe},mhe=(t,e,n)=>{let r={};const i={globalParams:{},lockedStats:{},stats:{},abilities:{},pointsInvested:0,exportableBuild:{}},s=(u,c,h,d)=>{if(qn(i.stats[c])&&(i.stats[c]=0),!i.lockedStats[c]||d&&h&&i.lockedStats[c]<h)if(d)i.stats[c]=h,i.lockedStats[c]=h;else if(u.levels){const f=u.acquired||0;h=h||0,i.stats[c]+=h*f}else i.stats[c]+=h},o=(u,c)=>{const h=Ee(e,{id:u});qn(i.abilities[u])&&(i.abilities[u]=Ie(h)||{},i.abilities[u].modifiers={}),i.abilities[u].learned=i.abilities[u].learned||c},a=u=>{const c=Ee(e,{id:u});c&&(o(c.id),i.abilities[u].replaced=!0)},l=(u,c,h={},d)=>{const f=Ee(e,{id:u});o(u,c),f!=null&&f.replaces&&i.abilities[u].learned&&a(f==null?void 0:f.replaces),h&&De(h,p=>{if(uB(p.id,"tag-")){qn(i.abilities[u].tags)&&(i.abilities[u].tags=[]);const g=p.id.substring(4);i.abilities[u].tags=Jd([...i.abilities[u].tags,g])}let m=p.modifier;d.levels&&(m=d.acquired*p.modifier),qn(i.abilities[u].modifiers[p.id])&&(i.abilities[u].modifiers[p.id]=0),i.abilities[u].modifiers[p.id]+=m})};return De(n,u=>{i.globalParams[u.id]=u.value}),De(t,u=>{u.globalParams&&De(u.globalParams,c=>{qn(i.globalParams[c.id])&&(i.globalParams[c.id]=0),c.set?(!r[c.id]||c.modifier>r[c.id])&&(r[c.id]=c.modifier):i.globalParams[c.id]+=c.modifier})}),De(t,u=>{if(u.levels){const c=u.acquired||0;i.exportableBuild[u.id]=u.acquired||0,u.levelCost?Array.isArray(u.levelCost)?Ru(c,h=>{i.pointsInvested+=u.levelCost[h]}):i.pointsInvested+=c*u.levelCost:i.pointsInvested+=u.acquired||0}else i.exportableBuild[u.id]=!0,i.pointsInvested+=u.cost||1;u.providedStats&&De(u.providedStats,c=>{s(u,c.id,c.modifier,c.set)}),u.providedAbilities&&De(u.providedAbilities,c=>{l(c.id,c.gain,c.modifiers,u)})}),i};function ghe({infoUpdated:t,graphEvents:e}){const n=_.useRef(null),{abilities:r,globalParams:i}=_.useContext($t),{nodes:s,setNodeMeta:o}=_.useContext(ei),a=new qh,l=new qh,{savedBuild:u,setBuild:c}=_.useContext(Rs),{theme:h}=_.useContext(Fu),{appMode:d}=_.useContext($i),f=_.useRef(r),p=_.useRef(i);return _.useEffect(()=>{e.next({event:"modeChanged",data:{mode:d}})},[d]),_.useEffect(()=>{f.current=r},[r]),_.useEffect(()=>{p.current=i},[i]),_.useEffect(()=>{e.next({event:"themeChanged",data:h})},[h]),_.useEffect(()=>{let m;if(e.subscribe({next:g=>{}}),a.subscribe({next:g=>{const v=vn(g.nodes,b=>b.selected||b.acquired);c({type:"set",build:mhe(v,f.current,p.current)}),o(g.nodeMeta)}}),l.subscribe({next:g=>{t(g)}}),n.current){const{destroy:g}=lhe(n.current,s,u,a,l,e,h);m=g}return t({}),m},[u]),E("div",{ref:n,className:phe.container})}const XS=new qh;function vhe(){const{setSelectedNodeId:t}=_.useContext(ei),{build:e}=_.useContext(Rs),{theme:n}=_.useContext(Fu),{appMode:r,setAppMode:i}=_.useContext($i),s=_.useRef(r);_.useEffect(()=>{s.current=r},[r]);const o=_.useCallback(l=>{var c;const u=["INPUT","SELECT","TEXTAREA"];l.shiftKey&&l.key==="E"&&!Iu(u,(c=document.activeElement)==null?void 0:c.tagName)&&i(s.current==="build"?"edit":"build")},[]);_.useEffect(()=>(document.addEventListener("keydown",o),()=>{document.removeEventListener("keydown",o)}),[o]);const a=l=>{var u;t((u=l.node)==null?void 0:u.id)};return j("div",{className:Zl({App:!0,light:n==="light"}),children:[j("div",{className:"appLeft",children:[E(gee,{graphEvents$:XS}),E(wre,{pointsSpent:e.pointsInvested})]}),E("div",{className:"appRight",children:E(xre,{})}),E("div",{className:"skill-panel",children:E(ghe,{infoUpdated:a,graphEvents:XS})})]})}function yhe(){return E(QJ,{children:E(cL,{children:E(RB,{children:E(_B,{children:E(OB,{children:E(uee,{children:E(aL,{children:E(vhe,{})})})})})})})})}bm.createRoot(document.getElementById("root")).render(E(yhe,{}))});export default bhe();
